// @bun
var mi=Object.create;var{defineProperty:RQ,getPrototypeOf:ui,getOwnPropertyNames:di}=Object;var ci=Object.prototype.hasOwnProperty;var mM=(Z,Y,J)=>{J=Z!=null?mi(ui(Z)):{};const X=Y||!Z||!Z.__esModule?RQ(J,"default",{value:Z,enumerable:!0}):J;for(let $ of di(Z))if(!ci.call(X,$))RQ(X,$,{get:()=>Z[$],enumerable:!0});return X};var w=(Z,Y)=>()=>(Y||Z((Y={exports:{}}).exports,Y),Y.exports);var g=(Z)=>{return import.meta.require(Z)};var b3=(Z,Y)=>{for(var J in Y)RQ(Z,J,{get:Y[J],enumerable:!0,configurable:!0,set:(X)=>Y[J]=()=>X})};var v3=w((li,MQ)=>{/*!
 * ignore
 */var uM=null;li.get=function(){return uM};li.set=function(Z){uM=Z}});var I6=w((dn)=>{var uQ=function(Z){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(Z))},h5=function(Z){return Object.prototype.toString.call(Z)==="[object Uint8Array]"},e9=function(Z){return Object.prototype.toString.call(Z)==="[object RegExp]"},dQ=function(Z){return Object.prototype.toString.call(Z)==="[object Map]"},ZZ=function(Z){return Object.prototype.toString.call(Z)==="[object Date]"},J6=function(Z,Y){return JSON.stringify(Z,(J,X)=>{if(typeof X==="bigint")return{$numberLong:`${X}`};else if(dQ(X))return Object.fromEntries(X);return X})},ni=function(Z){if(Z!=null&&typeof Z==="object"&&"stylize"in Z&&typeof Z.stylize==="function")return Z.stylize},ti=function(Z){return x4.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},ei=function(){const{navigator:Z}=globalThis;return typeof Z==="object"&&Z.product==="ReactNative"},Zn=function(Z){if(Z<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${Z}`);return XZ.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},MA=function(Z){return Z!=null&&typeof Z==="object"&&"$id"in Z&&Z.$id!=null&&"$ref"in Z&&typeof Z.$ref==="string"&&(!("$db"in Z)||("$db"in Z)&&typeof Z.$db==="string")},oM=function(Z){return!isNaN(parseInt(Z,10))},Ln=function(Z){const Y=P.fromNumber(1e9);let J=P.fromNumber(0);if(!Z.parts[0]&&!Z.parts[1]&&!Z.parts[2]&&!Z.parts[3])return{quotient:Z,rem:J};for(let X=0;X<=3;X++)J=J.shiftLeft(32),J=J.add(new P(Z.parts[X],0)),Z.parts[X]=J.div(Y).low,J=J.modulo(Y);return{quotient:Z,rem:J}},wn=function(Z,Y){if(!Z&&!Y)return{high:P.fromNumber(0),low:P.fromNumber(0)};const J=Z.shiftRightUnsigned(32),X=new P(Z.getLowBits(),0),$=Y.shiftRightUnsigned(32),W=new P(Y.getLowBits(),0);let G=J.multiply($),K=J.multiply(W);const Q=X.multiply($);let z=X.multiply(W);return G=G.add(K.shiftRightUnsigned(32)),K=new P(K.getLowBits(),0).add(Q).add(z.shiftRightUnsigned(32)),G=G.add(K.shiftRightUnsigned(32)),z=K.shiftLeft(32).add(new P(z.getLowBits(),0)),{high:G,low:z}},Rn=function(Z,Y){const J=Z.high>>>0,X=Y.high>>>0;if(J<X)return!0;else if(J===X){const $=Z.low>>>0,W=Y.low>>>0;if($<W)return!0}return!1},o6=function(Z,Y){throw new m(`"${Z}" is not a valid Decimal128 string - ${Y}`)},m3=function(Z,Y,J){let X=5;if(Array.isArray(Z))for(let $=0;$<Z.length;$++)X+=eM($.toString(),Z[$],Y,!0,J);else{if(typeof Z?.toBSON==="function")Z=Z.toBSON();for(let $ of Object.keys(Z))X+=eM($,Z[$],Y,!1,J)}return X},eM=function(Z,Y,J=!1,X=!1,$=!1){if(typeof Y?.toBSON==="function")Y=Y.toBSON();switch(typeof Y){case"string":return 1+_.utf8ByteLength(Z)+1+4+_.utf8ByteLength(Y)+1;case"number":if(Math.floor(Y)===Y&&Y>=WA&&Y<=$A)if(Y>=a3&&Y<=n3)return(Z!=null?_.utf8ByteLength(Z)+1:0)+5;else return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;else return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;case"undefined":if(X||!$)return(Z!=null?_.utf8ByteLength(Z)+1:0)+1;return 0;case"boolean":return(Z!=null?_.utf8ByteLength(Z)+1:0)+2;case"object":if(Y!=null&&typeof Y._bsontype==="string"&&Y[Symbol.for("@@mdb.bson.version")]!==m5)throw new y4;else if(Y==null||Y._bsontype==="MinKey"||Y._bsontype==="MaxKey")return(Z!=null?_.utf8ByteLength(Z)+1:0)+1;else if(Y._bsontype==="ObjectId")return(Z!=null?_.utf8ByteLength(Z)+1:0)+13;else if(Y instanceof Date||ZZ(Y))return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;else if(ArrayBuffer.isView(Y)||Y instanceof ArrayBuffer||uQ(Y))return(Z!=null?_.utf8ByteLength(Z)+1:0)+6+Y.byteLength;else if(Y._bsontype==="Long"||Y._bsontype==="Double"||Y._bsontype==="Timestamp")return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;else if(Y._bsontype==="Decimal128")return(Z!=null?_.utf8ByteLength(Z)+1:0)+17;else if(Y._bsontype==="Code")if(Y.scope!=null&&Object.keys(Y.scope).length>0)return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+4+4+_.utf8ByteLength(Y.code.toString())+1+m3(Y.scope,J,$);else return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+4+_.utf8ByteLength(Y.code.toString())+1;else if(Y._bsontype==="Binary"){const W=Y;if(W.sub_type===T1.SUBTYPE_BYTE_ARRAY)return(Z!=null?_.utf8ByteLength(Z)+1:0)+(W.position+1+4+1+4);else return(Z!=null?_.utf8ByteLength(Z)+1:0)+(W.position+1+4+1)}else if(Y._bsontype==="Symbol")return(Z!=null?_.utf8ByteLength(Z)+1:0)+_.utf8ByteLength(Y.value)+4+1+1;else if(Y._bsontype==="DBRef"){const W=Object.assign({$ref:Y.collection,$id:Y.oid},Y.fields);if(Y.db!=null)W.$db=Y.db;return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+m3(W,J,$)}else if(Y instanceof RegExp||e9(Y))return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+_.utf8ByteLength(Y.source)+1+(Y.global?1:0)+(Y.ignoreCase?1:0)+(Y.multiline?1:0)+1;else if(Y._bsontype==="BSONRegExp")return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+_.utf8ByteLength(Y.pattern)+1+_.utf8ByteLength(Y.options)+1;else return(Z!=null?_.utf8ByteLength(Z)+1:0)+m3(Y,J,$)+1;case"function":if(J)return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+4+_.utf8ByteLength(Y.toString())+1}return 0},An=function(Z){return Z.split("").sort().join("")},BA=function(Z,Y,J){let X=0;for(let $=Y;$<J;$+=1){const W=Z[$];if(X){if((W&Dn)!==On)return!1;X-=1}else if(W&Nn)if((W&In)===jn)X=1;else if((W&Pn)===En)X=2;else if((W&Tn)===Cn)X=3;else return!1}return!X},NA=function(Z,Y,J){Y=Y==null?{}:Y;const X=Y&&Y.index?Y.index:0,$=Z[X]|Z[X+1]<<8|Z[X+2]<<16|Z[X+3]<<24;if($<5)throw new m(`bson size must be >= 5, is ${$}`);if(Y.allowObjectSmallerThanBufferSize&&Z.length<$)throw new m(`buffer length ${Z.length} must be >= bson size ${$}`);if(!Y.allowObjectSmallerThanBufferSize&&Z.length!==$)throw new m(`buffer length ${Z.length} must === bson size ${$}`);if($+X>Z.byteLength)throw new m(`(bson size ${$} + options.index ${X} must be <= buffer length ${Z.byteLength})`);if(Z[X+$-1]!==0)throw new m("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return u3(Z,X,Y,J)},u3=function(Z,Y,J,X=!1){const $=J.fieldsAsRaw==null?null:J.fieldsAsRaw,W=J.raw==null?!1:J.raw,G=typeof J.bsonRegExp==="boolean"?J.bsonRegExp:!1,K=J.promoteBuffers??!1,Q=J.promoteLongs??!0,z=J.promoteValues??!0,H=J.useBigInt64??!1;if(H&&!z)throw new m("Must either request bigint or Long for int64 deserialization");if(H&&!Q)throw new m("Must either request bigint or Long for int64 deserialization");const F=J.validation==null?{utf8:!0}:J.validation;let q=!0,V;const U=new Set,L=F.utf8;if(typeof L==="boolean")V=L;else{q=!1;const E=Object.keys(L).map(function(j){return L[j]});if(E.length===0)throw new m("UTF-8 validation setting cannot be empty");if(typeof E[0]!=="boolean")throw new m("Invalid UTF-8 validation option, must specify boolean values");if(V=E[0],!E.every((j)=>j===V))throw new m("Invalid UTF-8 validation option - keys must be all true or all false")}if(!q)for(let E of Object.keys(L))U.add(E);const R=Y;if(Z.length<5)throw new m("corrupt bson message < 5 bytes long");const A=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(A<5||A>Z.length)throw new m("corrupt bson message");const B=X?[]:{};let M=0;const D=!1;let d=X?!1:null;const O=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);while(!D){const E=Z[Y++];if(E===0)break;let j=Y;while(Z[j]!==0&&j<Z.length)j++;if(j>=Z.byteLength)throw new m("Bad BSON Document: illegal CString");const n=X?M++:_.toUTF8(Z,Y,j);let c=!0;if(q||U.has(n))c=V;else c=!V;if(d!==!1&&n[0]==="$")d=_n.test(n);let y;if(Y=j+1,E===GA){const C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(C<=0||C>Z.length-Y||Z[Y+C-1]!==0)throw new m("bad string length in bson");y=h3(Z,Y,Y+C-1,c),Y=Y+C}else if(E===QA){const C=_.allocate(12);C.set(Z.subarray(Y,Y+12)),y=new H0(C),Y=Y+12}else if(E===JZ&&z===!1)y=new b4(Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24);else if(E===JZ)y=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;else if(E===d3&&z===!1)y=new g4(O.getFloat64(Y,!0)),Y=Y+8;else if(E===d3)y=O.getFloat64(Y,!0),Y=Y+8;else if(E===HA){const C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,S=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;y=new Date(new P(C,S).toNumber())}else if(E===zA){if(Z[Y]!==0&&Z[Y]!==1)throw new m("illegal boolean type value");y=Z[Y++]===1}else if(E===cQ){const C=Y,S=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24;if(S<=0||S>Z.length-Y)throw new m("bad embedded document length in bson");if(W)y=Z.slice(Y,Y+S);else{let a=J;if(!q)a={...J,validation:{utf8:c}};y=u3(Z,C,a,!1)}Y=Y+S}else if(E===KA){const C=Y,S=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24;let a=J;const P1=Y+S;if($&&$[n])a={...J,raw:!0};if(!q)a={...a,validation:{utf8:c}};if(y=u3(Z,C,a,!0),Y=Y+S,Z[Y-1]!==0)throw new m("invalid array terminator byte");if(Y!==P1)throw new m("corrupted array bson")}else if(E===ai)y=void 0;else if(E===pQ)y=null;else if(E===nQ){const C=tY.fromUint8Array(Z.subarray(Y,Y+8)),S=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,a=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,P1=new P(S,a);if(H)y=C.getBigInt64(0,!0);else if(Q&&z===!0)y=P1.lessThanOrEqual(Sn)&&P1.greaterThanOrEqual(kn)?P1.toNumber():P1;else y=P1}else if(E===UA){const C=_.allocate(16);C.set(Z.subarray(Y,Y+16),0),Y=Y+16,y=new W8(C)}else if(E===lQ){let C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;const S=C,a=Z[Y++];if(C<0)throw new m("Negative binary type element size found");if(C>Z.byteLength)throw new m("Binary type size larger than document size");if(Z.slice!=null){if(a===T1.SUBTYPE_BYTE_ARRAY){if(C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,C<0)throw new m("Negative binary type element size found for subtype 0x02");if(C>S-4)throw new m("Binary type with subtype 0x02 contains too long binary size");if(C<S-4)throw new m("Binary type with subtype 0x02 contains too short binary size")}if(K&&z)y=_.toLocalBufferType(Z.slice(Y,Y+C));else if(y=new T1(Z.slice(Y,Y+C),a),a===l3&&g0.isValid(y))y=y.toUUID()}else{const P1=_.allocate(C);if(a===T1.SUBTYPE_BYTE_ARRAY){if(C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,C<0)throw new m("Negative binary type element size found for subtype 0x02");if(C>S-4)throw new m("Binary type with subtype 0x02 contains too long binary size");if(C<S-4)throw new m("Binary type with subtype 0x02 contains too short binary size")}for(j=0;j<C;j++)P1[j]=Z[Y+j];if(K&&z)y=P1;else if(y=new T1(Z.slice(Y,Y+C),a),a===l3&&g0.isValid(y))y=y.toUUID()}Y=Y+C}else if(E===c3&&G===!1){j=Y;while(Z[j]!==0&&j<Z.length)j++;if(j>=Z.length)throw new m("Bad BSON Document: illegal CString");const C=_.toUTF8(Z,Y,j);Y=j+1,j=Y;while(Z[j]!==0&&j<Z.length)j++;if(j>=Z.length)throw new m("Bad BSON Document: illegal CString");const S=_.toUTF8(Z,Y,j);Y=j+1;const a=new Array(S.length);for(j=0;j<S.length;j++)switch(S[j]){case"m":a[j]="m";break;case"s":a[j]="g";break;case"i":a[j]="i";break}y=new RegExp(C,a.join(""))}else if(E===c3&&G===!0){j=Y;while(Z[j]!==0&&j<Z.length)j++;if(j>=Z.length)throw new m("Bad BSON Document: illegal CString");const C=_.toUTF8(Z,Y,j);Y=j+1,j=Y;while(Z[j]!==0&&j<Z.length)j++;if(j>=Z.length)throw new m("Bad BSON Document: illegal CString");const S=_.toUTF8(Z,Y,j);Y=j+1,y=new D6(C,S)}else if(E===FA){const C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(C<=0||C>Z.length-Y||Z[Y+C-1]!==0)throw new m("bad string length in bson");const S=h3(Z,Y,Y+C-1,c);y=z?S:new c5(S),Y=Y+C}else if(E===VA){const C=Z[Y++]+Z[Y++]*(1<<8)+Z[Y++]*(1<<16)+Z[Y++]*(1<<24),S=Z[Y++]+Z[Y++]*(1<<8)+Z[Y++]*(1<<16)+Z[Y++]*(1<<24);y=new N6({i:C,t:S})}else if(E===LA)y=new d5;else if(E===wA)y=new u5;else if(E===iQ){const C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(C<=0||C>Z.length-Y||Z[Y+C-1]!==0)throw new m("bad string length in bson");const S=h3(Z,Y,Y+C-1,c);y=new e7(S),Y=Y+C}else if(E===qA){const C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(C<13)throw new m("code_w_scope total size shorter minimum expected length");const S=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(S<=0||S>Z.length-Y||Z[Y+S-1]!==0)throw new m("bad string length in bson");const a=h3(Z,Y,Y+S-1,c);Y=Y+S;const P1=Y,y0=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24,r1=u3(Z,P1,J,!1);if(Y=Y+y0,C<8+y0+S)throw new m("code_w_scope total size is too short, truncating scope");if(C>8+y0+S)throw new m("code_w_scope total size is too long, clips outer document");y=new e7(a,r1)}else if(E===si){const C=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(C<=0||C>Z.length-Y||Z[Y+C-1]!==0)throw new m("bad string length in bson");if(F!=null&&F.utf8){if(!BA(Z,Y,Y+C-1))throw new m("Invalid UTF-8 string in BSON document")}const S=_.toUTF8(Z,Y,Y+C-1);Y=Y+C;const a=_.allocate(12);a.set(Z.subarray(Y,Y+12),0);const P1=new H0(a);Y=Y+12,y=new P7(S,P1)}else throw new m(`Detected unknown BSON type ${E.toString(16)} for fieldname "${n}"`);if(n==="__proto__")Object.defineProperty(B,n,{value:y,writable:!0,enumerable:!0,configurable:!0});else B[n]=y}if(A!==Y-R){if(X)throw new m("corrupt array bson");throw new m("corrupt object bson")}if(!d)return B;if(MA(B)){const E=Object.assign({},B);return delete E.$ref,delete E.$id,delete E.$db,new P7(B.$ref,B.$id,B.$db,E)}return B},h3=function(Z,Y,J,X){const $=_.toUTF8(Z,Y,J);if(X){for(let W=0;W<$.length;W++)if($.charCodeAt(W)===65533){if(!BA(Z,Y,J))throw new m("Invalid UTF-8 string in BSON document");break}}return $},NQ=function(Z,Y,J,X){Z[X++]=GA;const $=_.encodeUTF8Into(Z,Y,X);X=X+$+1,Z[X-1]=0;const W=_.encodeUTF8Into(Z,J,X+4);return Z[X+3]=W+1>>24&255,Z[X+2]=W+1>>16&255,Z[X+1]=W+1>>8&255,Z[X]=W+1&255,X=X+4+W,Z[X++]=0,X},DQ=function(Z,Y,J,X){const W=!Object.is(J,-0)&&Number.isSafeInteger(J)&&J<=n3&&J>=a3?JZ:d3;if(W===JZ)$Z.setInt32(0,J,!0);else $Z.setFloat64(0,J,!0);const G=W===JZ?xn:i3;Z[X++]=W;const K=_.encodeUTF8Into(Z,Y,X);return X=X+K,Z[X++]=0,Z.set(G,X),X+=G.byteLength,X},IQ=function(Z,Y,J,X){Z[X++]=nQ;const $=_.encodeUTF8Into(Z,Y,X);return X+=$,Z[X++]=0,$Z.setBigInt64(0,J,!0),Z.set(i3,X),X+=i3.byteLength,X},rY=function(Z,Y,J,X){Z[X++]=pQ;const $=_.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,X},PQ=function(Z,Y,J,X){Z[X++]=zA;const $=_.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z[X++]=J?1:0,X},TQ=function(Z,Y,J,X){Z[X++]=HA;const $=_.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=P.fromNumber(J.getTime()),G=W.getLowBits(),K=W.getHighBits();return Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,Z[X++]=K&255,Z[X++]=K>>8&255,Z[X++]=K>>16&255,Z[X++]=K>>24&255,X},jQ=function(Z,Y,J,X){Z[X++]=c3;const $=_.encodeUTF8Into(Z,Y,X);if(X=X+$,Z[X++]=0,J.source&&J.source.match(p3)!=null)throw new m("value "+J.source+" must not contain null bytes");if(X=X+_.encodeUTF8Into(Z,J.source,X),Z[X++]=0,J.ignoreCase)Z[X++]=105;if(J.global)Z[X++]=115;if(J.multiline)Z[X++]=109;return Z[X++]=0,X},EQ=function(Z,Y,J,X){Z[X++]=c3;const $=_.encodeUTF8Into(Z,Y,X);if(X=X+$,Z[X++]=0,J.pattern.match(p3)!=null)throw new m("pattern "+J.pattern+" must not contain null bytes");X=X+_.encodeUTF8Into(Z,J.pattern,X),Z[X++]=0;const W=J.options.split("").sort().join("");return X=X+_.encodeUTF8Into(Z,W,X),Z[X++]=0,X},CQ=function(Z,Y,J,X){if(J===null)Z[X++]=pQ;else if(J._bsontype==="MinKey")Z[X++]=LA;else Z[X++]=wA;const $=_.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,X},OQ=function(Z,Y,J,X){Z[X++]=QA;const $=_.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.id;if(h5(W))for(let G=0;G<12;G++)Z[X++]=W[G];else throw new m("object ["+JSON.stringify(J)+"] is not a valid ObjectId");return X},SQ=function(Z,Y,J,X){Z[X++]=lQ;const $=_.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.length;return Z[X++]=W&255,Z[X++]=W>>8&255,Z[X++]=W>>16&255,Z[X++]=W>>24&255,Z[X++]=ri,Z.set(J,X),X=X+W,X},kQ=function(Z,Y,J,X,$,W,G,K,Q){if(Q.has(J))throw new m("Cannot convert circular structure to BSON");Q.add(J),Z[X++]=Array.isArray(J)?KA:cQ;const z=_.encodeUTF8Into(Z,Y,X);X=X+z,Z[X++]=0;const H=eY(Z,J,$,X,W+1,G,K,Q);return Q.delete(J),H},_Q=function(Z,Y,J,X){Z[X++]=UA;const $=_.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z.set(J.bytes.subarray(0,16),X),X+16},xQ=function(Z,Y,J,X){Z[X++]=J._bsontype==="Long"?nQ:VA;const $=_.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.getLowBits(),G=J.getHighBits();return Z[X++]=W&255,Z[X++]=W>>8&255,Z[X++]=W>>16&255,Z[X++]=W>>24&255,Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,X},fQ=function(Z,Y,J,X){J=J.valueOf(),Z[X++]=JZ;const $=_.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z[X++]=J&255,Z[X++]=J>>8&255,Z[X++]=J>>16&255,Z[X++]=J>>24&255,X},yQ=function(Z,Y,J,X){Z[X++]=d3;const $=_.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,$Z.setFloat64(0,J.value,!0),Z.set(i3,X),X=X+8,X},gQ=function(Z,Y,J,X){Z[X++]=iQ;const $=_.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.toString(),G=_.encodeUTF8Into(Z,W,X+4)+1;return Z[X]=G&255,Z[X+1]=G>>8&255,Z[X+2]=G>>16&255,Z[X+3]=G>>24&255,X=X+4+G-1,Z[X++]=0,X},bQ=function(Z,Y,J,X,$=!1,W=0,G=!1,K=!0,Q){if(J.scope&&typeof J.scope==="object"){Z[X++]=qA;const z=_.encodeUTF8Into(Z,Y,X);X=X+z,Z[X++]=0;let H=X;const F=J.code;X=X+4;const q=_.encodeUTF8Into(Z,F,X+4)+1;Z[X]=q&255,Z[X+1]=q>>8&255,Z[X+2]=q>>16&255,Z[X+3]=q>>24&255,Z[X+4+q-1]=0,X=X+q+4;const V=eY(Z,J.scope,$,X,W+1,G,K,Q);X=V-1;const U=V-H;Z[H++]=U&255,Z[H++]=U>>8&255,Z[H++]=U>>16&255,Z[H++]=U>>24&255,Z[X++]=0}else{Z[X++]=iQ;const z=_.encodeUTF8Into(Z,Y,X);X=X+z,Z[X++]=0;const H=J.code.toString(),F=_.encodeUTF8Into(Z,H,X+4)+1;Z[X]=F&255,Z[X+1]=F>>8&255,Z[X+2]=F>>16&255,Z[X+3]=F>>24&255,X=X+4+F-1,Z[X++]=0}return X},vQ=function(Z,Y,J,X){Z[X++]=lQ;const $=_.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.buffer;let G=J.position;if(J.sub_type===T1.SUBTYPE_BYTE_ARRAY)G=G+4;if(Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,Z[X++]=J.sub_type,J.sub_type===T1.SUBTYPE_BYTE_ARRAY)G=G-4,Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255;return Z.set(W,X),X=X+J.position,X},hQ=function(Z,Y,J,X){Z[X++]=FA;const $=_.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=_.encodeUTF8Into(Z,J.value,X+4)+1;return Z[X]=W&255,Z[X+1]=W>>8&255,Z[X+2]=W>>16&255,Z[X+3]=W>>24&255,X=X+4+W-1,Z[X++]=0,X},mQ=function(Z,Y,J,X,$,W,G){Z[X++]=cQ;const K=_.encodeUTF8Into(Z,Y,X);X=X+K,Z[X++]=0;let Q=X,z={$ref:J.collection||J.namespace,$id:J.oid};if(J.db!=null)z.$db=J.db;z=Object.assign(z,J.fields);const H=eY(Z,z,!1,X,$+1,W,!0,G),F=H-Q;return Z[Q++]=F&255,Z[Q++]=F>>8&255,Z[Q++]=F>>16&255,Z[Q++]=F>>24&255,H},eY=function(Z,Y,J,X,$,W,G,K){if(K==null){if(Y==null)return Z[0]=5,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0,5;if(Array.isArray(Y))throw new m("serialize does not support an array as the root input");if(typeof Y!=="object")throw new m("serialize does not support non-object as the root input");else if("_bsontype"in Y&&typeof Y._bsontype==="string")throw new m("BSON types cannot be serialized as a document");else if(ZZ(Y)||e9(Y)||h5(Y)||uQ(Y))throw new m("date, regexp, typedarray, and arraybuffer cannot be BSON documents");K=new Set}K.add(Y);let Q=X+4;if(Array.isArray(Y))for(let H=0;H<Y.length;H++){const F=`${H}`;let q=Y[H];if(typeof q?.toBSON==="function")q=q.toBSON();if(typeof q==="string")Q=NQ(Z,F,q,Q);else if(typeof q==="number")Q=DQ(Z,F,q,Q);else if(typeof q==="bigint")Q=IQ(Z,F,q,Q);else if(typeof q==="boolean")Q=PQ(Z,F,q,Q);else if(q instanceof Date||ZZ(q))Q=TQ(Z,F,q,Q);else if(q===void 0)Q=rY(Z,F,q,Q);else if(q===null)Q=rY(Z,F,q,Q);else if(h5(q))Q=SQ(Z,F,q,Q);else if(q instanceof RegExp||e9(q))Q=jQ(Z,F,q,Q);else if(typeof q==="object"&&q._bsontype==null)Q=kQ(Z,F,q,Q,J,$,W,G,K);else if(typeof q==="object"&&q[Symbol.for("@@mdb.bson.version")]!==m5)throw new y4;else if(q._bsontype==="ObjectId")Q=OQ(Z,F,q,Q);else if(q._bsontype==="Decimal128")Q=_Q(Z,F,q,Q);else if(q._bsontype==="Long"||q._bsontype==="Timestamp")Q=xQ(Z,F,q,Q);else if(q._bsontype==="Double")Q=yQ(Z,F,q,Q);else if(typeof q==="function"&&W)Q=gQ(Z,F,q,Q);else if(q._bsontype==="Code")Q=bQ(Z,F,q,Q,J,$,W,G,K);else if(q._bsontype==="Binary")Q=vQ(Z,F,q,Q);else if(q._bsontype==="BSONSymbol")Q=hQ(Z,F,q,Q);else if(q._bsontype==="DBRef")Q=mQ(Z,F,q,Q,$,W,K);else if(q._bsontype==="BSONRegExp")Q=EQ(Z,F,q,Q);else if(q._bsontype==="Int32")Q=fQ(Z,F,q,Q);else if(q._bsontype==="MinKey"||q._bsontype==="MaxKey")Q=CQ(Z,F,q,Q);else if(typeof q._bsontype!=="undefined")throw new m(`Unrecognized or invalid _bsontype: ${String(q._bsontype)}`)}else if(Y instanceof Map||dQ(Y)){const H=Y.entries();let F=!1;while(!F){const q=H.next();if(F=!!q.done,F)continue;const V=q.value[0];let U=q.value[1];if(typeof U?.toBSON==="function")U=U.toBSON();const L=typeof U;if(typeof V==="string"&&!ZA.has(V)){if(V.match(p3)!=null)throw new m("key "+V+" must not contain null bytes");if(J){if(V[0]==="$")throw new m("key "+V+" must not start with '$'");else if(~V.indexOf("."))throw new m("key "+V+" must not contain '.'")}}if(L==="string")Q=NQ(Z,V,U,Q);else if(L==="number")Q=DQ(Z,V,U,Q);else if(L==="bigint")Q=IQ(Z,V,U,Q);else if(L==="boolean")Q=PQ(Z,V,U,Q);else if(U instanceof Date||ZZ(U))Q=TQ(Z,V,U,Q);else if(U===null||U===void 0&&G===!1)Q=rY(Z,V,U,Q);else if(h5(U))Q=SQ(Z,V,U,Q);else if(U instanceof RegExp||e9(U))Q=jQ(Z,V,U,Q);else if(L==="object"&&U._bsontype==null)Q=kQ(Z,V,U,Q,J,$,W,G,K);else if(typeof U==="object"&&U[Symbol.for("@@mdb.bson.version")]!==m5)throw new y4;else if(U._bsontype==="ObjectId")Q=OQ(Z,V,U,Q);else if(L==="object"&&U._bsontype==="Decimal128")Q=_Q(Z,V,U,Q);else if(U._bsontype==="Long"||U._bsontype==="Timestamp")Q=xQ(Z,V,U,Q);else if(U._bsontype==="Double")Q=yQ(Z,V,U,Q);else if(U._bsontype==="Code")Q=bQ(Z,V,U,Q,J,$,W,G,K);else if(typeof U==="function"&&W)Q=gQ(Z,V,U,Q);else if(U._bsontype==="Binary")Q=vQ(Z,V,U,Q);else if(U._bsontype==="BSONSymbol")Q=hQ(Z,V,U,Q);else if(U._bsontype==="DBRef")Q=mQ(Z,V,U,Q,$,W,K);else if(U._bsontype==="BSONRegExp")Q=EQ(Z,V,U,Q);else if(U._bsontype==="Int32")Q=fQ(Z,V,U,Q);else if(U._bsontype==="MinKey"||U._bsontype==="MaxKey")Q=CQ(Z,V,U,Q);else if(typeof U._bsontype!=="undefined")throw new m(`Unrecognized or invalid _bsontype: ${String(U._bsontype)}`)}}else{if(typeof Y?.toBSON==="function"){if(Y=Y.toBSON(),Y!=null&&typeof Y!=="object")throw new m("toBSON function did not return an object")}for(let H of Object.keys(Y)){let F=Y[H];if(typeof F?.toBSON==="function")F=F.toBSON();const q=typeof F;if(typeof H==="string"&&!ZA.has(H)){if(H.match(p3)!=null)throw new m("key "+H+" must not contain null bytes");if(J){if(H[0]==="$")throw new m("key "+H+" must not start with '$'");else if(~H.indexOf("."))throw new m("key "+H+" must not contain '.'")}}if(q==="string")Q=NQ(Z,H,F,Q);else if(q==="number")Q=DQ(Z,H,F,Q);else if(q==="bigint")Q=IQ(Z,H,F,Q);else if(q==="boolean")Q=PQ(Z,H,F,Q);else if(F instanceof Date||ZZ(F))Q=TQ(Z,H,F,Q);else if(F===void 0){if(G===!1)Q=rY(Z,H,F,Q)}else if(F===null)Q=rY(Z,H,F,Q);else if(h5(F))Q=SQ(Z,H,F,Q);else if(F instanceof RegExp||e9(F))Q=jQ(Z,H,F,Q);else if(q==="object"&&F._bsontype==null)Q=kQ(Z,H,F,Q,J,$,W,G,K);else if(typeof F==="object"&&F[Symbol.for("@@mdb.bson.version")]!==m5)throw new y4;else if(F._bsontype==="ObjectId")Q=OQ(Z,H,F,Q);else if(q==="object"&&F._bsontype==="Decimal128")Q=_Q(Z,H,F,Q);else if(F._bsontype==="Long"||F._bsontype==="Timestamp")Q=xQ(Z,H,F,Q);else if(F._bsontype==="Double")Q=yQ(Z,H,F,Q);else if(F._bsontype==="Code")Q=bQ(Z,H,F,Q,J,$,W,G,K);else if(typeof F==="function"&&W)Q=gQ(Z,H,F,Q);else if(F._bsontype==="Binary")Q=vQ(Z,H,F,Q);else if(F._bsontype==="BSONSymbol")Q=hQ(Z,H,F,Q);else if(F._bsontype==="DBRef")Q=mQ(Z,H,F,Q,$,W,K);else if(F._bsontype==="BSONRegExp")Q=EQ(Z,H,F,Q);else if(F._bsontype==="Int32")Q=fQ(Z,H,F,Q);else if(F._bsontype==="MinKey"||F._bsontype==="MaxKey")Q=CQ(Z,H,F,Q);else if(typeof F._bsontype!=="undefined")throw new m(`Unrecognized or invalid _bsontype: ${String(F._bsontype)}`)}}K.delete(Y),Z[Q++]=0;const z=Q-X;return Z[X++]=z&255,Z[X++]=z>>8&255,Z[X++]=z>>16&255,Z[X++]=z>>24&255,Q},fn=function(Z){return Z!=null&&typeof Z==="object"&&"_bsontype"in Z&&typeof Z._bsontype==="string"},DA=function(Z,Y={}){if(typeof Z==="number"){const X=Z<=n3&&Z>=a3,$=Z<=JA&&Z>=XA;if(Y.relaxed||Y.legacy)return Z;if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(X)return new b4(Z);if($){if(Y.useBigInt64)return BigInt(Z);return P.fromNumber(Z)}}return new g4(Z)}if(Z==null||typeof Z!=="object")return Z;if(Z.$undefined)return null;const J=Object.keys(Z).filter((X)=>X.startsWith("$")&&Z[X]!=null);for(let X=0;X<J.length;X++){const $=yn[J[X]];if($)return $.fromExtendedJSON(Z,Y)}if(Z.$date!=null){const X=Z.$date,$=new Date;if(Y.legacy)if(typeof X==="number")$.setTime(X);else if(typeof X==="string")$.setTime(Date.parse(X));else if(typeof X==="bigint")$.setTime(Number(X));else throw new oY(`Unrecognized type for EJSON date: ${typeof X}`);else if(typeof X==="string")$.setTime(Date.parse(X));else if(P.isLong(X))$.setTime(X.toNumber());else if(typeof X==="number"&&Y.relaxed)$.setTime(X);else if(typeof X==="bigint")$.setTime(Number(X));else throw new oY(`Unrecognized type for EJSON date: ${typeof X}`);return $}if(Z.$code!=null){const X=Object.assign({},Z);if(Z.$scope)X.$scope=DA(Z.$scope);return e7.fromExtendedJSON(Z)}if(MA(Z)||Z.$dbPointer){const X=Z.$ref?Z:Z.$dbPointer;if(X instanceof P7)return X;const $=Object.keys(X).filter((G)=>G.startsWith("$"));let W=!0;if($.forEach((G)=>{if(["$ref","$id","$db"].indexOf(G)===-1)W=!1}),W)return P7.fromExtendedJSON(X)}return Z},gn=function(Z,Y){return Z.map((J,X)=>{Y.seenObjects.push({propertyName:`index ${X}`,obj:null});try{return o7(J,Y)}finally{Y.seenObjects.pop()}})},YA=function(Z){const Y=Z.toISOString();return Z.getUTCMilliseconds()!==0?Y:Y.slice(0,-5)+"Z"},o7=function(Z,Y){if(Z instanceof Map||dQ(Z)){const J=Object.create(null);for(let[X,$]of Z){if(typeof X!=="string")throw new m("Can only serialize maps with string keys");J[X]=$}return o7(J,Y)}if((typeof Z==="object"||typeof Z==="function")&&Z!==null){const J=Y.seenObjects.findIndex((X)=>X.obj===Z);if(J!==-1){const X=Y.seenObjects.map((H)=>H.propertyName),$=X.slice(0,J).map((H)=>`${H} -> `).join(""),W=X[J],G=" -> "+X.slice(J+1,X.length-1).map((H)=>`${H} -> `).join(""),K=X[X.length-1],Q=" ".repeat($.length+W.length/2),z="-".repeat(G.length+(W.length+K.length)/2-1);throw new m("Converting circular structure to EJSON:\n"+`    ${$}${W}${G}${K}\n`+`    ${Q}\\${z}/`)}Y.seenObjects[Y.seenObjects.length-1].obj=Z}if(Array.isArray(Z))return gn(Z,Y);if(Z===void 0)return null;if(Z instanceof Date||ZZ(Z)){const J=Z.getTime(),X=J>-1&&J<253402318800000;if(Y.legacy)return Y.relaxed&&X?{$date:Z.getTime()}:{$date:YA(Z)};return Y.relaxed&&X?{$date:YA(Z)}:{$date:{$numberLong:Z.getTime().toString()}}}if(typeof Z==="number"&&(!Y.relaxed||!isFinite(Z))){if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(Z>=a3&&Z<=n3)return{$numberInt:Z.toString()};if(Z>=XA&&Z<=JA)return{$numberLong:Z.toString()}}return{$numberDouble:Object.is(Z,-0)?"-0.0":Z.toString()}}if(typeof Z==="bigint"){if(!Y.relaxed)return{$numberLong:BigInt.asIntN(64,Z).toString()};return Number(BigInt.asIntN(64,Z))}if(Z instanceof RegExp||e9(Z)){let J=Z.flags;if(J===void 0){const $=Z.toString().match(/[gimuy]*$/);if($)J=$[0]}return new D6(Z.source,J).toExtendedJSON(Y)}if(Z!=null&&typeof Z==="object")return vn(Z,Y);return Z},vn=function(Z,Y){if(Z==null||typeof Z!=="object")throw new m("not an object instance");const J=Z._bsontype;if(typeof J==="undefined"){const X={};for(let $ of Object.keys(Z)){Y.seenObjects.push({propertyName:$,obj:null});try{const W=o7(Z[$],Y);if($==="__proto__")Object.defineProperty(X,$,{value:W,writable:!0,enumerable:!0,configurable:!0});else X[$]=W}finally{Y.seenObjects.pop()}}return X}else if(Z!=null&&typeof Z==="object"&&typeof Z._bsontype==="string"&&Z[Symbol.for("@@mdb.bson.version")]!==m5)throw new y4;else if(fn(Z)){let X=Z;if(typeof X.toExtendedJSON!=="function"){const $=bn[Z._bsontype];if(!$)throw new m("Unrecognized or invalid _bsontype: "+Z._bsontype);X=$(X)}if(J==="Code"&&X.scope)X=new e7(X.code,o7(X.scope,Y));else if(J==="DBRef"&&X.oid)X=new P7(o7(X.collection,Y),o7(X.oid,Y),o7(X.db,Y),o7(X.fields,Y));return X.toExtendedJSON(Y)}else throw new m("_bsontype must be a string, but was: "+typeof J)},IA=function(Z,Y){const J={useBigInt64:Y?.useBigInt64??!1,relaxed:Y?.relaxed??!0,legacy:Y?.legacy??!1};return JSON.parse(Z,(X,$)=>{if(X.indexOf("\0")!==-1)throw new m(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(X)}`);return DA($,J)})},PA=function(Z,Y,J,X){if(J!=null&&typeof J==="object")X=J,J=0;if(Y!=null&&typeof Y==="object"&&!Array.isArray(Y))X=Y,Y=void 0,J=0;const $=Object.assign({relaxed:!0,legacy:!1},X,{seenObjects:[{propertyName:"(root)",obj:null}]}),W=o7(Z,$);return JSON.stringify(W,Y,J)},hn=function(Z,Y){return Y=Y||{},JSON.parse(PA(Z,Y))},mn=function(Z,Y){return Y=Y||{},IA(JSON.stringify(Z),Y)},jA=function(Z){if(f4.length<Z)f4=_.allocate(Z)},EA=function(Z,Y={}){const J=typeof Y.checkKeys==="boolean"?Y.checkKeys:!1,X=typeof Y.serializeFunctions==="boolean"?Y.serializeFunctions:!1,$=typeof Y.ignoreUndefined==="boolean"?Y.ignoreUndefined:!0,W=typeof Y.minInternalBufferSize==="number"?Y.minInternalBufferSize:TA;if(f4.length<W)f4=_.allocate(W);const G=eY(f4,Z,J,0,0,X,$,null),K=_.allocate(G);return K.set(f4.subarray(0,G),0),K},CA=function(Z,Y,J={}){const X=typeof J.checkKeys==="boolean"?J.checkKeys:!1,$=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,W=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!0,G=typeof J.index==="number"?J.index:0,K=eY(f4,Z,X,0,0,$,W,null);return Y.set(f4.subarray(0,K),G),G+K-1},OA=function(Z,Y={}){return NA(_.toLocalBufferType(Z),Y)},SA=function(Z,Y={}){Y=Y||{};const J=typeof Y.serializeFunctions==="boolean"?Y.serializeFunctions:!1,X=typeof Y.ignoreUndefined==="boolean"?Y.ignoreUndefined:!0;return m3(Z,J,X)},kA=function(Z,Y,J,X,$,W){const G=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},W),K=_.toLocalBufferType(Z);let Q=Y;for(let z=0;z<J;z++){const H=K[Q]|K[Q+1]<<8|K[Q+2]<<16|K[Q+3]<<24;G.index=Q,X[$+z]=NA(K,G),Q=Q+H}return Q},m5=6,n3=2147483647,a3=-2147483648,JA=Math.pow(2,63)-1,XA=-Math.pow(2,63),$A=Math.pow(2,53),WA=-Math.pow(2,53),d3=1,GA=2,cQ=3,KA=4,lQ=5,ai=6,QA=7,zA=8,HA=9,pQ=10,c3=11,si=12,iQ=13,FA=14,qA=15,JZ=16,VA=17,nQ=18,UA=19,LA=255,wA=127,ri=0,l3=4,RA=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class m extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(Z){super(Z)}static isBSONError(Z){return Z!=null&&typeof Z==="object"&&"bsonError"in Z&&Z.bsonError===!0&&"name"in Z&&"message"in Z&&"stack"in Z}}class y4 extends m{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${m5}.x.x`)}}class oY extends m{get name(){return"BSONRuntimeError"}constructor(Z){super(Z)}}var oi=(()=>{try{return import.meta.require("crypto").randomBytes}catch{return ti}})(),x4={toLocalBufferType(Z){if(Buffer.isBuffer(Z))return Z;if(ArrayBuffer.isView(Z))return Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength);const Y=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(Y==="ArrayBuffer"||Y==="SharedArrayBuffer"||Y==="[object ArrayBuffer]"||Y==="[object SharedArrayBuffer]")return Buffer.from(Z);throw new m(`Cannot create Buffer from ${String(Z)}`)},allocate(Z){return Buffer.alloc(Z)},equals(Z,Y){return x4.toLocalBufferType(Z).equals(Y)},fromNumberArray(Z){return Buffer.from(Z)},fromBase64(Z){return Buffer.from(Z,"base64")},toBase64(Z){return x4.toLocalBufferType(Z).toString("base64")},fromISO88591(Z){return Buffer.from(Z,"binary")},toISO88591(Z){return x4.toLocalBufferType(Z).toString("binary")},fromHex(Z){return Buffer.from(Z,"hex")},toHex(Z){return x4.toLocalBufferType(Z).toString("hex")},fromUTF8(Z){return Buffer.from(Z,"utf8")},toUTF8(Z,Y,J){return x4.toLocalBufferType(Z).toString("utf8",Y,J)},utf8ByteLength(Z){return Buffer.byteLength(Z,"utf8")},encodeUTF8Into(Z,Y,J){return x4.toLocalBufferType(Z).write(Y,J,void 0,"utf8")},randomBytes:oi},Yn=(()=>{const{crypto:Z}=globalThis;if(Z!=null&&typeof Z.getRandomValues==="function")return(Y)=>{return Z.getRandomValues(XZ.allocate(Y))};else{if(ei()){const{console:Y}=globalThis;Y?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return Zn}})(),dM=/(\d|[a-f])/i,XZ={toLocalBufferType(Z){const Y=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(Y==="Uint8Array")return Z;if(ArrayBuffer.isView(Z))return new Uint8Array(Z.buffer.slice(Z.byteOffset,Z.byteOffset+Z.byteLength));if(Y==="ArrayBuffer"||Y==="SharedArrayBuffer"||Y==="[object ArrayBuffer]"||Y==="[object SharedArrayBuffer]")return new Uint8Array(Z);throw new m(`Cannot make a Uint8Array from ${String(Z)}`)},allocate(Z){if(typeof Z!=="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(Z)}`);return new Uint8Array(Z)},equals(Z,Y){if(Z.byteLength!==Y.byteLength)return!1;for(let J=0;J<Z.byteLength;J++)if(Z[J]!==Y[J])return!1;return!0},fromNumberArray(Z){return Uint8Array.from(Z)},fromBase64(Z){return Uint8Array.from(atob(Z),(Y)=>Y.charCodeAt(0))},toBase64(Z){return btoa(XZ.toISO88591(Z))},fromISO88591(Z){return Uint8Array.from(Z,(Y)=>Y.charCodeAt(0)&255)},toISO88591(Z){return Array.from(Uint16Array.from(Z),(Y)=>String.fromCharCode(Y)).join("")},fromHex(Z){const Y=Z.length%2===0?Z:Z.slice(0,Z.length-1),J=[];for(let X=0;X<Y.length;X+=2){const $=Y[X],W=Y[X+1];if(!dM.test($))break;if(!dM.test(W))break;const G=Number.parseInt(`${$}${W}`,16);J.push(G)}return Uint8Array.from(J)},toHex(Z){return Array.from(Z,(Y)=>Y.toString(16).padStart(2,"0")).join("")},fromUTF8(Z){return(new TextEncoder()).encode(Z)},toUTF8(Z,Y,J){return new TextDecoder("utf8",{fatal:!1}).decode(Z.slice(Y,J))},utf8ByteLength(Z){return XZ.fromUTF8(Z).byteLength},encodeUTF8Into(Z,Y,J){const X=XZ.fromUTF8(Y);return Z.set(X,J),X.byteLength},randomBytes:Yn},Jn=typeof Buffer==="function"&&Buffer.prototype?._isBuffer!==!0,_=Jn?x4:XZ;class tY extends DataView{static fromUint8Array(Z){return new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}}class L8{get[Symbol.for("@@mdb.bson.version")](){return m5}[Symbol.for("nodejs.util.inspect.custom")](Z,Y,J){return this.inspect(Z,Y,J)}}class T1 extends L8{get _bsontype(){return"Binary"}constructor(Z,Y){super();if(Z!=null&&typeof Z==="string"&&!ArrayBuffer.isView(Z)&&!uQ(Z)&&!Array.isArray(Z))throw new m("Binary can only be constructed from Uint8Array or number[]");if(this.sub_type=Y??T1.BSON_BINARY_SUBTYPE_DEFAULT,Z==null)this.buffer=_.allocate(T1.BUFFER_SIZE),this.position=0;else this.buffer=Array.isArray(Z)?_.fromNumberArray(Z):_.toLocalBufferType(Z),this.position=this.buffer.byteLength}put(Z){if(typeof Z==="string"&&Z.length!==1)throw new m("only accepts single character String");else if(typeof Z!=="number"&&Z.length!==1)throw new m("only accepts single character Uint8Array or Array");let Y;if(typeof Z==="string")Y=Z.charCodeAt(0);else if(typeof Z==="number")Y=Z;else Y=Z[0];if(Y<0||Y>255)throw new m("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=Y;else{const J=_.allocate(T1.BUFFER_SIZE+this.buffer.length);J.set(this.buffer,0),this.buffer=J,this.buffer[this.position++]=Y}}write(Z,Y){if(Y=typeof Y==="number"?Y:this.position,this.buffer.byteLength<Y+Z.length){const J=_.allocate(this.buffer.byteLength+Z.length);J.set(this.buffer,0),this.buffer=J}if(ArrayBuffer.isView(Z))this.buffer.set(_.toLocalBufferType(Z),Y),this.position=Y+Z.byteLength>this.position?Y+Z.length:this.position;else if(typeof Z==="string")throw new m("input cannot be string")}read(Z,Y){return Y=Y&&Y>0?Y:this.position,this.buffer.slice(Z,Z+Y)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return _.toBase64(this.buffer)}toString(Z){if(Z==="hex")return _.toHex(this.buffer);if(Z==="base64")return _.toBase64(this.buffer);if(Z==="utf8"||Z==="utf-8")return _.toUTF8(this.buffer,0,this.buffer.byteLength);return _.toUTF8(this.buffer,0,this.buffer.byteLength)}toExtendedJSON(Z){Z=Z||{};const Y=_.toBase64(this.buffer),J=Number(this.sub_type).toString(16);if(Z.legacy)return{$binary:Y,$type:J.length===1?"0"+J:J};return{$binary:{base64:Y,subType:J.length===1?"0"+J:J}}}toUUID(){if(this.sub_type===T1.SUBTYPE_UUID)return new g0(this.buffer.slice(0,this.position));throw new m(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${T1.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(Z,Y){return new T1(_.fromHex(Z),Y)}static createFromBase64(Z,Y){return new T1(_.fromBase64(Z),Y)}static fromExtendedJSON(Z,Y){Y=Y||{};let J,X;if("$binary"in Z){if(Y.legacy&&typeof Z.$binary==="string"&&"$type"in Z)X=Z.$type?parseInt(Z.$type,16):0,J=_.fromBase64(Z.$binary);else if(typeof Z.$binary!=="string")X=Z.$binary.subType?parseInt(Z.$binary.subType,16):0,J=_.fromBase64(Z.$binary.base64)}else if("$uuid"in Z)X=4,J=g0.bytesFromString(Z.$uuid);if(!J)throw new m(`Unexpected Binary Extended JSON format ${JSON.stringify(Z)}`);return X===l3?new g0(J):new T1(J,X)}inspect(Z,Y,J){J??=J6;const X=_.toBase64(this.buffer.subarray(0,this.position)),$=J(X,Y),W=J(this.sub_type,Y);return`Binary.createFromBase64(${$}, ${W})`}}T1.BSON_BINARY_SUBTYPE_DEFAULT=0;T1.BUFFER_SIZE=256;T1.SUBTYPE_DEFAULT=0;T1.SUBTYPE_FUNCTION=1;T1.SUBTYPE_BYTE_ARRAY=2;T1.SUBTYPE_UUID_OLD=3;T1.SUBTYPE_UUID=4;T1.SUBTYPE_MD5=5;T1.SUBTYPE_ENCRYPTED=6;T1.SUBTYPE_COLUMN=7;T1.SUBTYPE_USER_DEFINED=128;var AQ=16,Xn=/^[0-9A-F]{32}$/i,$n=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class g0 extends T1{constructor(Z){let Y;if(Z==null)Y=g0.generate();else if(Z instanceof g0)Y=_.toLocalBufferType(new Uint8Array(Z.buffer));else if(ArrayBuffer.isView(Z)&&Z.byteLength===AQ)Y=_.toLocalBufferType(Z);else if(typeof Z==="string")Y=g0.bytesFromString(Z);else throw new m("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(Y,l3)}get id(){return this.buffer}set id(Z){this.buffer=Z}toHexString(Z=!0){if(Z)return[_.toHex(this.buffer.subarray(0,4)),_.toHex(this.buffer.subarray(4,6)),_.toHex(this.buffer.subarray(6,8)),_.toHex(this.buffer.subarray(8,10)),_.toHex(this.buffer.subarray(10,16))].join("-");return _.toHex(this.buffer)}toString(Z){if(Z==="hex")return _.toHex(this.id);if(Z==="base64")return _.toBase64(this.id);return this.toHexString()}toJSON(){return this.toHexString()}equals(Z){if(!Z)return!1;if(Z instanceof g0)return _.equals(Z.id,this.id);try{return _.equals(new g0(Z).id,this.id)}catch{return!1}}toBinary(){return new T1(this.id,T1.SUBTYPE_UUID)}static generate(){const Z=_.randomBytes(AQ);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z}static isValid(Z){if(!Z)return!1;if(typeof Z==="string")return g0.isValidUUIDString(Z);if(h5(Z))return Z.byteLength===AQ;return Z._bsontype==="Binary"&&Z.sub_type===this.SUBTYPE_UUID&&Z.buffer.byteLength===16}static createFromHexString(Z){const Y=g0.bytesFromString(Z);return new g0(Y)}static createFromBase64(Z){return new g0(_.fromBase64(Z))}static bytesFromString(Z){if(!g0.isValidUUIDString(Z))throw new m("UUID string representation must be 32 hex digits or canonical hyphenated representation");return _.fromHex(Z.replace(/-/g,""))}static isValidUUIDString(Z){return Xn.test(Z)||$n.test(Z)}inspect(Z,Y,J){return J??=J6,`new UUID(${J(this.toHexString(),Y)})`}}class e7 extends L8{get _bsontype(){return"Code"}constructor(Z,Y){super();this.code=Z.toString(),this.scope=Y??null}toJSON(){if(this.scope!=null)return{code:this.code,scope:this.scope};return{code:this.code}}toExtendedJSON(){if(this.scope)return{$code:this.code,$scope:this.scope};return{$code:this.code}}static fromExtendedJSON(Z){return new e7(Z.$code,Z.$scope)}inspect(Z,Y,J){J??=J6;let X=J(this.code,Y);const $=X.includes("\n");if(this.scope!=null)X+=`,${$?"\n":" "}${J(this.scope,Y)}`;const W=$&&this.scope===null;return`new Code(${$?"\n":""}${X}${W?"\n":""})`}}class P7 extends L8{get _bsontype(){return"DBRef"}constructor(Z,Y,J,X){super();const $=Z.split(".");if($.length===2)J=$.shift(),Z=$.shift();this.collection=Z,this.oid=Y,this.db=J,this.fields=X||{}}get namespace(){return this.collection}set namespace(Z){this.collection=Z}toJSON(){const Z=Object.assign({$ref:this.collection,$id:this.oid},this.fields);if(this.db!=null)Z.$db=this.db;return Z}toExtendedJSON(Z){Z=Z||{};let Y={$ref:this.collection,$id:this.oid};if(Z.legacy)return Y;if(this.db)Y.$db=this.db;return Y=Object.assign(Y,this.fields),Y}static fromExtendedJSON(Z){const Y=Object.assign({},Z);return delete Y.$ref,delete Y.$id,delete Y.$db,new P7(Z.$ref,Z.$id,Z.$db,Y)}inspect(Z,Y,J){J??=J6;const X=[J(this.namespace,Y),J(this.oid,Y),...this.db?[J(this.db,Y)]:[],...Object.keys(this.fields).length>0?[J(this.fields,Y)]:[]];return X[1]=J===J6?`new ObjectId(${X[1]})`:X[1],`new DBRef(${X.join(", ")})`}}var B6=void 0;try{B6=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var cM=1<<16,Wn=1<<24,YZ=cM*cM,AA=YZ*YZ,lM=AA/2,pM={},iM={},Gn=20,Kn=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class P extends L8{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(Z=0,Y,J){super();if(typeof Z==="bigint")Object.assign(this,P.fromBigInt(Z,!!Y));else if(typeof Z==="string")Object.assign(this,P.fromString(Z,!!Y));else this.low=Z|0,this.high=Y|0,this.unsigned=!!J}static fromBits(Z,Y,J){return new P(Z,Y,J)}static fromInt(Z,Y){let J,X,$;if(Y){if(Z>>>=0,$=0<=Z&&Z<256){if(X=iM[Z],X)return X}if(J=P.fromBits(Z,(Z|0)<0?-1:0,!0),$)iM[Z]=J;return J}else{if(Z|=0,$=-128<=Z&&Z<128){if(X=pM[Z],X)return X}if(J=P.fromBits(Z,Z<0?-1:0,!1),$)pM[Z]=J;return J}}static fromNumber(Z,Y){if(isNaN(Z))return Y?P.UZERO:P.ZERO;if(Y){if(Z<0)return P.UZERO;if(Z>=AA)return P.MAX_UNSIGNED_VALUE}else{if(Z<=-lM)return P.MIN_VALUE;if(Z+1>=lM)return P.MAX_VALUE}if(Z<0)return P.fromNumber(-Z,Y).neg();return P.fromBits(Z%YZ|0,Z/YZ|0,Y)}static fromBigInt(Z,Y){return P.fromString(Z.toString(),Y)}static fromString(Z,Y,J){if(Z.length===0)throw new m("empty string");if(Z==="NaN"||Z==="Infinity"||Z==="+Infinity"||Z==="-Infinity")return P.ZERO;if(typeof Y==="number")J=Y,Y=!1;else Y=!!Y;if(J=J||10,J<2||36<J)throw new m("radix");let X;if((X=Z.indexOf("-"))>0)throw new m("interior hyphen");else if(X===0)return P.fromString(Z.substring(1),Y,J).neg();const $=P.fromNumber(Math.pow(J,8));let W=P.ZERO;for(let G=0;G<Z.length;G+=8){const K=Math.min(8,Z.length-G),Q=parseInt(Z.substring(G,G+K),J);if(K<8){const z=P.fromNumber(Math.pow(J,K));W=W.mul(z).add(P.fromNumber(Q))}else W=W.mul($),W=W.add(P.fromNumber(Q))}return W.unsigned=Y,W}static fromBytes(Z,Y,J){return J?P.fromBytesLE(Z,Y):P.fromBytesBE(Z,Y)}static fromBytesLE(Z,Y){return new P(Z[0]|Z[1]<<8|Z[2]<<16|Z[3]<<24,Z[4]|Z[5]<<8|Z[6]<<16|Z[7]<<24,Y)}static fromBytesBE(Z,Y){return new P(Z[4]<<24|Z[5]<<16|Z[6]<<8|Z[7],Z[0]<<24|Z[1]<<16|Z[2]<<8|Z[3],Y)}static isLong(Z){return Z!=null&&typeof Z==="object"&&"__isLong__"in Z&&Z.__isLong__===!0}static fromValue(Z,Y){if(typeof Z==="number")return P.fromNumber(Z,Y);if(typeof Z==="string")return P.fromString(Z,Y);return P.fromBits(Z.low,Z.high,typeof Y==="boolean"?Y:Z.unsigned)}add(Z){if(!P.isLong(Z))Z=P.fromValue(Z);const Y=this.high>>>16,J=this.high&65535,X=this.low>>>16,$=this.low&65535,W=Z.high>>>16,G=Z.high&65535,K=Z.low>>>16,Q=Z.low&65535;let z=0,H=0,F=0,q=0;return q+=$+Q,F+=q>>>16,q&=65535,F+=X+K,H+=F>>>16,F&=65535,H+=J+G,z+=H>>>16,H&=65535,z+=Y+W,z&=65535,P.fromBits(F<<16|q,z<<16|H,this.unsigned)}and(Z){if(!P.isLong(Z))Z=P.fromValue(Z);return P.fromBits(this.low&Z.low,this.high&Z.high,this.unsigned)}compare(Z){if(!P.isLong(Z))Z=P.fromValue(Z);if(this.eq(Z))return 0;const Y=this.isNegative(),J=Z.isNegative();if(Y&&!J)return-1;if(!Y&&J)return 1;if(!this.unsigned)return this.sub(Z).isNegative()?-1:1;return Z.high>>>0>this.high>>>0||Z.high===this.high&&Z.low>>>0>this.low>>>0?-1:1}comp(Z){return this.compare(Z)}divide(Z){if(!P.isLong(Z))Z=P.fromValue(Z);if(Z.isZero())throw new m("division by zero");if(B6){if(!this.unsigned&&this.high===-2147483648&&Z.low===-1&&Z.high===-1)return this;const $=(this.unsigned?B6.div_u:B6.div_s)(this.low,this.high,Z.low,Z.high);return P.fromBits($,B6.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?P.UZERO:P.ZERO;let Y,J,X;if(!this.unsigned){if(this.eq(P.MIN_VALUE))if(Z.eq(P.ONE)||Z.eq(P.NEG_ONE))return P.MIN_VALUE;else if(Z.eq(P.MIN_VALUE))return P.ONE;else if(Y=this.shr(1).div(Z).shl(1),Y.eq(P.ZERO))return Z.isNegative()?P.ONE:P.NEG_ONE;else return J=this.sub(Z.mul(Y)),X=Y.add(J.div(Z)),X;else if(Z.eq(P.MIN_VALUE))return this.unsigned?P.UZERO:P.ZERO;if(this.isNegative()){if(Z.isNegative())return this.neg().div(Z.neg());return this.neg().div(Z).neg()}else if(Z.isNegative())return this.div(Z.neg()).neg();X=P.ZERO}else{if(!Z.unsigned)Z=Z.toUnsigned();if(Z.gt(this))return P.UZERO;if(Z.gt(this.shru(1)))return P.UONE;X=P.UZERO}J=this;while(J.gte(Z)){Y=Math.max(1,Math.floor(J.toNumber()/Z.toNumber()));const $=Math.ceil(Math.log(Y)/Math.LN2),W=$<=48?1:Math.pow(2,$-48);let G=P.fromNumber(Y),K=G.mul(Z);while(K.isNegative()||K.gt(J))Y-=W,G=P.fromNumber(Y,this.unsigned),K=G.mul(Z);if(G.isZero())G=P.ONE;X=X.add(G),J=J.sub(K)}return X}div(Z){return this.divide(Z)}equals(Z){if(!P.isLong(Z))Z=P.fromValue(Z);if(this.unsigned!==Z.unsigned&&this.high>>>31===1&&Z.high>>>31===1)return!1;return this.high===Z.high&&this.low===Z.low}eq(Z){return this.equals(Z)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(P.MIN_VALUE)?64:this.neg().getNumBitsAbs();const Z=this.high!==0?this.high:this.low;let Y;for(Y=31;Y>0;Y--)if((Z&1<<Y)!==0)break;return this.high!==0?Y+33:Y+1}greaterThan(Z){return this.comp(Z)>0}gt(Z){return this.greaterThan(Z)}greaterThanOrEqual(Z){return this.comp(Z)>=0}gte(Z){return this.greaterThanOrEqual(Z)}ge(Z){return this.greaterThanOrEqual(Z)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(Z){return this.comp(Z)<0}lt(Z){return this.lessThan(Z)}lessThanOrEqual(Z){return this.comp(Z)<=0}lte(Z){return this.lessThanOrEqual(Z)}modulo(Z){if(!P.isLong(Z))Z=P.fromValue(Z);if(B6){const Y=(this.unsigned?B6.rem_u:B6.rem_s)(this.low,this.high,Z.low,Z.high);return P.fromBits(Y,B6.get_high(),this.unsigned)}return this.sub(this.div(Z).mul(Z))}mod(Z){return this.modulo(Z)}rem(Z){return this.modulo(Z)}multiply(Z){if(this.isZero())return P.ZERO;if(!P.isLong(Z))Z=P.fromValue(Z);if(B6){const V=B6.mul(this.low,this.high,Z.low,Z.high);return P.fromBits(V,B6.get_high(),this.unsigned)}if(Z.isZero())return P.ZERO;if(this.eq(P.MIN_VALUE))return Z.isOdd()?P.MIN_VALUE:P.ZERO;if(Z.eq(P.MIN_VALUE))return this.isOdd()?P.MIN_VALUE:P.ZERO;if(this.isNegative())if(Z.isNegative())return this.neg().mul(Z.neg());else return this.neg().mul(Z).neg();else if(Z.isNegative())return this.mul(Z.neg()).neg();if(this.lt(P.TWO_PWR_24)&&Z.lt(P.TWO_PWR_24))return P.fromNumber(this.toNumber()*Z.toNumber(),this.unsigned);const Y=this.high>>>16,J=this.high&65535,X=this.low>>>16,$=this.low&65535,W=Z.high>>>16,G=Z.high&65535,K=Z.low>>>16,Q=Z.low&65535;let z=0,H=0,F=0,q=0;return q+=$*Q,F+=q>>>16,q&=65535,F+=X*Q,H+=F>>>16,F&=65535,F+=$*K,H+=F>>>16,F&=65535,H+=J*Q,z+=H>>>16,H&=65535,H+=X*K,z+=H>>>16,H&=65535,H+=$*G,z+=H>>>16,H&=65535,z+=Y*Q+J*K+X*G+$*W,z&=65535,P.fromBits(F<<16|q,z<<16|H,this.unsigned)}mul(Z){return this.multiply(Z)}negate(){if(!this.unsigned&&this.eq(P.MIN_VALUE))return P.MIN_VALUE;return this.not().add(P.ONE)}neg(){return this.negate()}not(){return P.fromBits(~this.low,~this.high,this.unsigned)}notEquals(Z){return!this.equals(Z)}neq(Z){return this.notEquals(Z)}ne(Z){return this.notEquals(Z)}or(Z){if(!P.isLong(Z))Z=P.fromValue(Z);return P.fromBits(this.low|Z.low,this.high|Z.high,this.unsigned)}shiftLeft(Z){if(P.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return P.fromBits(this.low<<Z,this.high<<Z|this.low>>>32-Z,this.unsigned);else return P.fromBits(0,this.low<<Z-32,this.unsigned)}shl(Z){return this.shiftLeft(Z)}shiftRight(Z){if(P.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return P.fromBits(this.low>>>Z|this.high<<32-Z,this.high>>Z,this.unsigned);else return P.fromBits(this.high>>Z-32,this.high>=0?0:-1,this.unsigned)}shr(Z){return this.shiftRight(Z)}shiftRightUnsigned(Z){if(P.isLong(Z))Z=Z.toInt();if(Z&=63,Z===0)return this;else{const Y=this.high;if(Z<32){const J=this.low;return P.fromBits(J>>>Z|Y<<32-Z,Y>>>Z,this.unsigned)}else if(Z===32)return P.fromBits(Y,0,this.unsigned);else return P.fromBits(Y>>>Z-32,0,this.unsigned)}}shr_u(Z){return this.shiftRightUnsigned(Z)}shru(Z){return this.shiftRightUnsigned(Z)}subtract(Z){if(!P.isLong(Z))Z=P.fromValue(Z);return this.add(Z.neg())}sub(Z){return this.subtract(Z)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){if(this.unsigned)return(this.high>>>0)*YZ+(this.low>>>0);return this.high*YZ+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(Z){return Z?this.toBytesLE():this.toBytesBE()}toBytesLE(){const Z=this.high,Y=this.low;return[Y&255,Y>>>8&255,Y>>>16&255,Y>>>24,Z&255,Z>>>8&255,Z>>>16&255,Z>>>24]}toBytesBE(){const Z=this.high,Y=this.low;return[Z>>>24,Z>>>16&255,Z>>>8&255,Z&255,Y>>>24,Y>>>16&255,Y>>>8&255,Y&255]}toSigned(){if(!this.unsigned)return this;return P.fromBits(this.low,this.high,!1)}toString(Z){if(Z=Z||10,Z<2||36<Z)throw new m("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(P.MIN_VALUE)){const $=P.fromNumber(Z),W=this.div($),G=W.mul($).sub(this);return W.toString(Z)+G.toInt().toString(Z)}else return"-"+this.neg().toString(Z);const Y=P.fromNumber(Math.pow(Z,6),this.unsigned);let J=this,X="";while(!0){const $=J.div(Y);let G=(J.sub($.mul(Y)).toInt()>>>0).toString(Z);if(J=$,J.isZero())return G+X;else{while(G.length<6)G="0"+G;X=""+G+X}}}toUnsigned(){if(this.unsigned)return this;return P.fromBits(this.low,this.high,!0)}xor(Z){if(!P.isLong(Z))Z=P.fromValue(Z);return P.fromBits(this.low^Z.low,this.high^Z.high,this.unsigned)}eqz(){return this.isZero()}le(Z){return this.lessThanOrEqual(Z)}toExtendedJSON(Z){if(Z&&Z.relaxed)return this.toNumber();return{$numberLong:this.toString()}}static fromExtendedJSON(Z,Y){const{useBigInt64:J=!1,relaxed:X=!0}={...Y};if(Z.$numberLong.length>Gn)throw new m("$numberLong string is too long");if(!Kn.test(Z.$numberLong))throw new m(`\$numberLong string "${Z.$numberLong}" is in an invalid format`);if(J){const W=BigInt(Z.$numberLong);return BigInt.asIntN(64,W)}const $=P.fromString(Z.$numberLong);if(X)return $.toNumber();return $}inspect(Z,Y,J){J??=J6;const X=J(this.toString(),Y),$=this.unsigned?`, ${J(this.unsigned,Y)}`:"";return`new Long(${X}${$})`}}P.TWO_PWR_24=P.fromInt(Wn);P.MAX_UNSIGNED_VALUE=P.fromBits(4294967295|0,4294967295|0,!0);P.ZERO=P.fromInt(0);P.UZERO=P.fromInt(0,!0);P.ONE=P.fromInt(1);P.UONE=P.fromInt(1,!0);P.NEG_ONE=P.fromInt(-1);P.MAX_VALUE=P.fromBits(4294967295|0,2147483647|0,!1);P.MIN_VALUE=P.fromBits(0,2147483648|0,!1);var Qn=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,zn=/^(\+|-)?(Infinity|inf)$/i,Hn=/^(\+|-)?NaN$/i,o9=6111,sY=-6176,nM=6176,aM=34,BQ=_.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),sM=_.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),rM=_.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Fn=/^([-+])?(\d+)?$/,qn=31,tM=16383,Vn=30,Un=31;class W8 extends L8{get _bsontype(){return"Decimal128"}constructor(Z){super();if(typeof Z==="string")this.bytes=W8.fromString(Z).bytes;else if(h5(Z)){if(Z.byteLength!==16)throw new m("Decimal128 must take a Buffer of 16 bytes");this.bytes=Z}else throw new m("Decimal128 must take a Buffer or string")}static fromString(Z){return W8._fromString(Z,{allowRounding:!1})}static fromStringWithRounding(Z){return W8._fromString(Z,{allowRounding:!0})}static _fromString(Z,Y){let J=!1,X=!1,$=!1,W=!1,G=0,K=0,Q=0,z=0,H=0;const F=[0];let q=0,V=0,U=0,L=0,R=new P(0,0),A=new P(0,0),B=0,M=0;if(Z.length>=7000)throw new m(""+Z+" not a valid Decimal128 string");const D=Z.match(Qn),d=Z.match(zn),O=Z.match(Hn);if(!D&&!d&&!O||Z.length===0)throw new m(""+Z+" not a valid Decimal128 string");if(D){const c=D[2],y=D[4],C=D[5],S=D[6];if(y&&S===void 0)o6(Z,"missing exponent power");if(y&&c===void 0)o6(Z,"missing exponent base");if(y===void 0&&(C||S))o6(Z,"missing e before exponent")}if(Z[M]==="+"||Z[M]==="-")X=!0,J=Z[M++]==="-";if(!oM(Z[M])&&Z[M]!=="."){if(Z[M]==="i"||Z[M]==="I")return new W8(J?sM:rM);else if(Z[M]==="N")return new W8(BQ)}while(oM(Z[M])||Z[M]==="."){if(Z[M]==="."){if($)o6(Z,"contains multiple periods");$=!0,M=M+1;continue}if(q<aM){if(Z[M]!=="0"||W){if(!W)H=K;W=!0,F[V++]=parseInt(Z[M],10),q=q+1}}if(W)Q=Q+1;if($)z=z+1;K=K+1,M=M+1}if($&&!K)throw new m(""+Z+" not a valid Decimal128 string");if(Z[M]==="e"||Z[M]==="E"){const c=Z.substr(++M).match(Fn);if(!c||!c[2])return new W8(BQ);L=parseInt(c[0],10),M=M+c[0].length}if(Z[M])return new W8(BQ);if(!q)F[0]=0,Q=1,q=1,G=0;else if(U=q-1,G=Q,G!==1)while(Z[H+G-1+Number(X)+Number($)]==="0")G=G-1;if(L<=z&&z>L+(1<<14))L=sY;else L=L-z;while(L>o9){if(U=U+1,U>=aM){if(G===0){L=o9;break}o6(Z,"overflow")}L=L-1}if(Y.allowRounding){while(L<sY||q<Q){if(U===0&&G<q){L=sY,G=0;break}if(q<Q)Q=Q-1;else U=U-1;if(L<o9)L=L+1;else{if(F.join("").match(/^0+$/)){L=o9;break}o6(Z,"overflow")}}if(U+1<G){let c=K;if($)H=H+1,c=c+1;if(X)H=H+1,c=c+1;const y=parseInt(Z[H+U+1],10);let C=0;if(y>=5){if(C=1,y===5){C=F[U]%2===1?1:0;for(let S=H+U+2;S<c;S++)if(parseInt(Z[S],10)){C=1;break}}}if(C){let S=U;for(;S>=0;S--)if(++F[S]>9){if(F[S]=0,S===0)if(L<o9)L=L+1,F[S]=1;else return new W8(J?sM:rM)}else break}}}else{while(L<sY||q<Q){if(U===0){if(G===0){L=sY;break}o6(Z,"exponent underflow")}if(q<Q){if(Z[Q-1+Number(X)+Number($)]!=="0"&&G!==0)o6(Z,"inexact rounding");Q=Q-1}else{if(F[U]!==0)o6(Z,"inexact rounding");U=U-1}if(L<o9)L=L+1;else o6(Z,"overflow")}if(U+1<G){if($)H=H+1;if(X)H=H+1;if(parseInt(Z[H+U+1],10)!==0)o6(Z,"inexact rounding")}}if(R=P.fromNumber(0),A=P.fromNumber(0),G===0)R=P.fromNumber(0),A=P.fromNumber(0);else if(U<17){let c=0;A=P.fromNumber(F[c++]),R=new P(0,0);for(;c<=U;c++)A=A.multiply(P.fromNumber(10)),A=A.add(P.fromNumber(F[c]))}else{let c=0;R=P.fromNumber(F[c++]);for(;c<=U-17;c++)R=R.multiply(P.fromNumber(10)),R=R.add(P.fromNumber(F[c]));A=P.fromNumber(F[c++]);for(;c<=U;c++)A=A.multiply(P.fromNumber(10)),A=A.add(P.fromNumber(F[c]))}const E=wn(R,P.fromString("100000000000000000"));if(E.low=E.low.add(A),Rn(E.low,A))E.high=E.high.add(P.fromNumber(1));B=L+nM;const j={low:P.fromNumber(0),high:P.fromNumber(0)};if(E.high.shiftRightUnsigned(49).and(P.fromNumber(1)).equals(P.fromNumber(1)))j.high=j.high.or(P.fromNumber(3).shiftLeft(61)),j.high=j.high.or(P.fromNumber(B).and(P.fromNumber(16383).shiftLeft(47))),j.high=j.high.or(E.high.and(P.fromNumber(140737488355327)));else j.high=j.high.or(P.fromNumber(B&16383).shiftLeft(49)),j.high=j.high.or(E.high.and(P.fromNumber(562949953421311)));if(j.low=E.low,J)j.high=j.high.or(P.fromString("9223372036854775808"));const n=_.allocate(16);return M=0,n[M++]=j.low.low&255,n[M++]=j.low.low>>8&255,n[M++]=j.low.low>>16&255,n[M++]=j.low.low>>24&255,n[M++]=j.low.high&255,n[M++]=j.low.high>>8&255,n[M++]=j.low.high>>16&255,n[M++]=j.low.high>>24&255,n[M++]=j.high.low&255,n[M++]=j.high.low>>8&255,n[M++]=j.high.low>>16&255,n[M++]=j.high.low>>24&255,n[M++]=j.high.high&255,n[M++]=j.high.high>>8&255,n[M++]=j.high.high>>16&255,n[M++]=j.high.high>>24&255,new W8(n)}toString(){let Z,Y=0;const J=new Array(36);for(let M=0;M<J.length;M++)J[M]=0;let X=0,$=!1,W,G={parts:[0,0,0,0]},K,Q;const z=[];X=0;const H=this.bytes,F=H[X++]|H[X++]<<8|H[X++]<<16|H[X++]<<24,q=H[X++]|H[X++]<<8|H[X++]<<16|H[X++]<<24,V=H[X++]|H[X++]<<8|H[X++]<<16|H[X++]<<24,U=H[X++]|H[X++]<<8|H[X++]<<16|H[X++]<<24;if(X=0,{low:new P(F,q),high:new P(V,U)}.high.lessThan(P.ZERO))z.push("-");const R=U>>26&qn;if(R>>3===3)if(R===Vn)return z.join("")+"Infinity";else if(R===Un)return"NaN";else Z=U>>15&tM,W=8+(U>>14&1);else W=U>>14&7,Z=U>>17&tM;const A=Z-nM;if(G.parts[0]=(U&16383)+((W&15)<<14),G.parts[1]=V,G.parts[2]=q,G.parts[3]=F,G.parts[0]===0&&G.parts[1]===0&&G.parts[2]===0&&G.parts[3]===0)$=!0;else for(Q=3;Q>=0;Q--){let M=0;const D=Ln(G);if(G=D.quotient,M=D.rem.low,!M)continue;for(K=8;K>=0;K--)J[Q*9+K]=M%10,M=Math.floor(M/10)}if($)Y=1,J[X]=0;else{Y=36;while(!J[X])Y=Y-1,X=X+1}const B=Y-1+A;if(B>=34||B<=-7||A>0){if(Y>34){if(z.push("0"),A>0)z.push(`E+${A}`);else if(A<0)z.push(`E${A}`);return z.join("")}if(z.push(`${J[X++]}`),Y=Y-1,Y)z.push(".");for(let M=0;M<Y;M++)z.push(`${J[X++]}`);if(z.push("E"),B>0)z.push(`+${B}`);else z.push(`${B}`)}else if(A>=0)for(let M=0;M<Y;M++)z.push(`${J[X++]}`);else{let M=Y+A;if(M>0)for(let D=0;D<M;D++)z.push(`${J[X++]}`);else z.push("0");z.push(".");while(M++<0)z.push("0");for(let D=0;D<Y-Math.max(M-1,0);D++)z.push(`${J[X++]}`)}return z.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(Z){return W8.fromString(Z.$numberDecimal)}inspect(Z,Y,J){return J??=J6,`new Decimal128(${J(this.toString(),Y)})`}}class g4 extends L8{get _bsontype(){return"Double"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z}valueOf(){return this.value}toJSON(){return this.value}toString(Z){return this.value.toString(Z)}toExtendedJSON(Z){if(Z&&(Z.legacy||Z.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-0.0"};return{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(Z,Y){const J=parseFloat(Z.$numberDouble);return Y&&Y.relaxed?J:new g4(J)}inspect(Z,Y,J){return J??=J6,`new Double(${J(this.value,Y)})`}}class b4 extends L8{get _bsontype(){return"Int32"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z|0}valueOf(){return this.value}toString(Z){return this.value.toString(Z)}toJSON(){return this.value}toExtendedJSON(Z){if(Z&&(Z.relaxed||Z.legacy))return this.value;return{$numberInt:this.value.toString()}}static fromExtendedJSON(Z,Y){return Y&&Y.relaxed?parseInt(Z.$numberInt,10):new b4(Z.$numberInt)}inspect(Z,Y,J){return J??=J6,`new Int32(${J(this.value,Y)})`}}class u5 extends L8{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new u5}inspect(){return"new MaxKey()"}}class d5 extends L8{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new d5}inspect(){return"new MinKey()"}}var Mn=new RegExp("^[0-9a-fA-F]{24}$"),v5=null,t7=Symbol("id");class H0 extends L8{get _bsontype(){return"ObjectId"}constructor(Z){super();let Y;if(typeof Z==="object"&&Z&&"id"in Z){if(typeof Z.id!=="string"&&!ArrayBuffer.isView(Z.id))throw new m("Argument passed in must have an id that is of type string or Buffer");if("toHexString"in Z&&typeof Z.toHexString==="function")Y=_.fromHex(Z.toHexString());else Y=Z.id}else Y=Z;if(Y==null||typeof Y==="number")this[t7]=H0.generate(typeof Y==="number"?Y:void 0);else if(ArrayBuffer.isView(Y)&&Y.byteLength===12)this[t7]=_.toLocalBufferType(Y);else if(typeof Y==="string")if(Y.length===24&&Mn.test(Y))this[t7]=_.fromHex(Y);else throw new m("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new m("Argument passed in does not match the accepted types");if(H0.cacheHexString)this.__id=_.toHex(this.id)}get id(){return this[t7]}set id(Z){if(this[t7]=Z,H0.cacheHexString)this.__id=_.toHex(Z)}toHexString(){if(H0.cacheHexString&&this.__id)return this.__id;const Z=_.toHex(this.id);if(H0.cacheHexString&&!this.__id)this.__id=Z;return Z}static getInc(){return H0.index=(H0.index+1)%16777215}static generate(Z){if(typeof Z!=="number")Z=Math.floor(Date.now()/1000);const Y=H0.getInc(),J=_.allocate(12);if(tY.fromUint8Array(J).setUint32(0,Z,!1),v5===null)v5=_.randomBytes(5);return J[4]=v5[0],J[5]=v5[1],J[6]=v5[2],J[7]=v5[3],J[8]=v5[4],J[11]=Y&255,J[10]=Y>>8&255,J[9]=Y>>16&255,J}toString(Z){if(Z==="base64")return _.toBase64(this.id);if(Z==="hex")return this.toHexString();return this.toHexString()}toJSON(){return this.toHexString()}static is(Z){return Z!=null&&typeof Z==="object"&&"_bsontype"in Z&&Z._bsontype==="ObjectId"}equals(Z){if(Z===void 0||Z===null)return!1;if(H0.is(Z))return this[t7][11]===Z[t7][11]&&_.equals(this[t7],Z[t7]);if(typeof Z==="string")return Z.toLowerCase()===this.toHexString();if(typeof Z==="object"&&typeof Z.toHexString==="function"){const Y=Z.toHexString(),J=this.toHexString();return typeof Y==="string"&&Y.toLowerCase()===J}return!1}getTimestamp(){const Z=new Date,Y=tY.fromUint8Array(this.id).getUint32(0,!1);return Z.setTime(Math.floor(Y)*1000),Z}static createPk(){return new H0}static createFromTime(Z){const Y=_.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return tY.fromUint8Array(Y).setUint32(0,Z,!1),new H0(Y)}static createFromHexString(Z){if(Z?.length!==24)throw new m("hex string must be 24 characters");return new H0(_.fromHex(Z))}static createFromBase64(Z){if(Z?.length!==16)throw new m("base64 string must be 16 characters");return new H0(_.fromBase64(Z))}static isValid(Z){if(Z==null)return!1;try{return new H0(Z),!0}catch{return!1}}toExtendedJSON(){if(this.toHexString)return{$oid:this.toHexString()};return{$oid:this.toString("hex")}}static fromExtendedJSON(Z){return new H0(Z.$oid)}inspect(Z,Y,J){return J??=J6,`new ObjectId(${J(this.toHexString(),Y)})`}}H0.index=Math.floor(Math.random()*16777215);class D6 extends L8{get _bsontype(){return"BSONRegExp"}constructor(Z,Y){super();if(this.pattern=Z,this.options=An(Y??""),this.pattern.indexOf("\0")!==-1)throw new m(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new m(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let J=0;J<this.options.length;J++)if(!(this.options[J]==="i"||this.options[J]==="m"||this.options[J]==="x"||this.options[J]==="l"||this.options[J]==="s"||this.options[J]==="u"))throw new m(`The regular expression option [${this.options[J]}] is not supported`)}static parseOptions(Z){return Z?Z.split("").sort().join(""):""}toExtendedJSON(Z){if(Z=Z||{},Z.legacy)return{$regex:this.pattern,$options:this.options};return{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(Z){if("$regex"in Z)if(typeof Z.$regex!=="string"){if(Z.$regex._bsontype==="BSONRegExp")return Z}else return new D6(Z.$regex,D6.parseOptions(Z.$options));if("$regularExpression"in Z)return new D6(Z.$regularExpression.pattern,D6.parseOptions(Z.$regularExpression.options));throw new m(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(Z)}`)}inspect(Z,Y,J){const X=ni(Y)??((G)=>G);J??=J6;const $=X(J(this.pattern),"regexp"),W=X(J(this.options),"regexp");return`new BSONRegExp(${$}, ${W})`}}class c5 extends L8{get _bsontype(){return"BSONSymbol"}constructor(Z){super();this.value=Z}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(Z){return new c5(Z.$symbol)}inspect(Z,Y,J){return J??=J6,`new BSONSymbol(${J(this.value,Y)})`}}var Bn=P;class N6 extends Bn{get _bsontype(){return"Timestamp"}constructor(Z){if(Z==null)super(0,0,!0);else if(typeof Z==="bigint")super(Z,!0);else if(P.isLong(Z))super(Z.low,Z.high,!0);else if(typeof Z==="object"&&"t"in Z&&"i"in Z){if(typeof Z.t!=="number"&&(typeof Z.t!=="object"||Z.t._bsontype!=="Int32"))throw new m("Timestamp constructed from { t, i } must provide t as a number");if(typeof Z.i!=="number"&&(typeof Z.i!=="object"||Z.i._bsontype!=="Int32"))throw new m("Timestamp constructed from { t, i } must provide i as a number");const Y=Number(Z.t),J=Number(Z.i);if(Y<0||Number.isNaN(Y))throw new m("Timestamp constructed from { t, i } must provide a positive t");if(J<0||Number.isNaN(J))throw new m("Timestamp constructed from { t, i } must provide a positive i");if(Y>4294967295)throw new m("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(J>4294967295)throw new m("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(J,Y,!0)}else throw new m("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(Z){return new N6(P.fromInt(Z,!0))}static fromNumber(Z){return new N6(P.fromNumber(Z,!0))}static fromBits(Z,Y){return new N6({i:Z,t:Y})}static fromString(Z,Y){return new N6(P.fromString(Z,!0,Y))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(Z){const Y=P.isLong(Z.$timestamp.i)?Z.$timestamp.i.getLowBitsUnsigned():Z.$timestamp.i,J=P.isLong(Z.$timestamp.t)?Z.$timestamp.t.getLowBitsUnsigned():Z.$timestamp.t;return new N6({t:J,i:Y})}inspect(Z,Y,J){J??=J6;const X=J(this.high>>>0,Y),$=J(this.low>>>0,Y);return`new Timestamp({ t: ${X}, i: ${$} })`}}N6.MAX_VALUE=P.MAX_UNSIGNED_VALUE;var Nn=128,Dn=192,In=224,Pn=240,Tn=248,jn=192,En=224,Cn=240,On=128,Sn=P.fromNumber($A),kn=P.fromNumber(WA),_n=/^\$ref$|^\$id$|^\$db$/,p3=/\x00/,ZA=new Set(["$db","$ref","$id","$clusterTime"]),$Z=new DataView(new ArrayBuffer(8),0,8),xn=new Uint8Array($Z.buffer,0,4),i3=new Uint8Array($Z.buffer,0,8),yn={$oid:H0,$binary:T1,$uuid:T1,$symbol:c5,$numberInt:b4,$numberDecimal:W8,$numberDouble:g4,$numberLong:P,$minKey:d5,$maxKey:u5,$regex:D6,$regularExpression:D6,$timestamp:N6},bn={Binary:(Z)=>new T1(Z.value(),Z.sub_type),Code:(Z)=>new e7(Z.code,Z.scope),DBRef:(Z)=>new P7(Z.collection||Z.namespace,Z.oid,Z.db,Z.fields),Decimal128:(Z)=>new W8(Z.bytes),Double:(Z)=>new g4(Z.value),Int32:(Z)=>new b4(Z.value),Long:(Z)=>P.fromBits(Z.low!=null?Z.low:Z.low_,Z.low!=null?Z.high:Z.high_,Z.low!=null?Z.unsigned:Z.unsigned_),MaxKey:()=>new u5,MinKey:()=>new d5,ObjectId:(Z)=>new H0(Z),BSONRegExp:(Z)=>new D6(Z.pattern,Z.options),BSONSymbol:(Z)=>new c5(Z.value),Timestamp:(Z)=>N6.fromBits(Z.low,Z.high)},l5=Object.create(null);l5.parse=IA;l5.stringify=PA;l5.serialize=hn;l5.deserialize=mn;Object.freeze(l5);var TA=17825792,f4=_.allocate(TA),un=Object.freeze({__proto__:null,BSONError:m,BSONRegExp:D6,BSONRuntimeError:oY,BSONSymbol:c5,BSONType:RA,BSONValue:L8,BSONVersionError:y4,Binary:T1,Code:e7,DBRef:P7,Decimal128:W8,Double:g4,EJSON:l5,Int32:b4,Long:P,MaxKey:u5,MinKey:d5,ObjectId:H0,Timestamp:N6,UUID:g0,calculateObjectSize:SA,deserialize:OA,deserializeStream:kA,serialize:EA,serializeWithBufferAndIndex:CA,setInternalBufferSize:jA});dn.BSON=un;dn.BSONError=m;dn.BSONRegExp=D6;dn.BSONRuntimeError=oY;dn.BSONSymbol=c5;dn.BSONType=RA;dn.BSONValue=L8;dn.BSONVersionError=y4;dn.Binary=T1;dn.Code=e7;dn.DBRef=P7;dn.Decimal128=W8;dn.Double=g4;dn.EJSON=l5;dn.Int32=b4;dn.Long=P;dn.MaxKey=u5;dn.MinKey=d5;dn.ObjectId=H0;dn.Timestamp=N6;dn.UUID=g0;dn.calculateObjectSize=SA;dn.deserialize=OA;dn.deserializeStream=kA;dn.serialize=EA;dn.serializeWithBufferAndIndex=CA;dn.setInternalBufferSize=jA});var s3=w((M21,_A)=>{_A.exports=I6().Decimal128});var Z1=w((Ra)=>{Ra.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup");Ra.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics");Ra.arrayParentSymbol=Symbol("mongoose#Array#_parent");Ra.arrayPathSymbol=Symbol("mongoose#Array#_path");Ra.arraySchemaSymbol=Symbol("mongoose#Array#_schema");Ra.documentArrayParent=Symbol("mongoose#documentArrayParent");Ra.documentIsSelected=Symbol("mongoose#Document#isSelected");Ra.documentIsModified=Symbol("mongoose#Document#isModified");Ra.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths");Ra.documentSchemaSymbol=Symbol("mongoose#Document#schema");Ra.getSymbol=Symbol("mongoose#Document#get");Ra.modelSymbol=Symbol("mongoose#Model");Ra.objectIdSymbol=Symbol("mongoose#ObjectId");Ra.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model");Ra.schemaTypeSymbol=Symbol("mongoose#schemaType");Ra.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments");Ra.scopeSymbol=Symbol("mongoose#Document#scope");Ra.validatorErrorSymbol=Symbol("mongoose#validatorError")});var Z4=w((B21,xA)=>{var ZJ=I6().ObjectId,ga=Z1().objectIdSymbol;Object.defineProperty(ZJ.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});/*!
 * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
 */if(!ZJ.prototype.hasOwnProperty("valueOf"))ZJ.prototype.valueOf=function Z(){return this.toString()};ZJ.prototype[ga]=!0;xA.exports=ZJ});var p5=w((N21,fA)=>{fA.exports=new Set(["__proto__","constructor","prototype"])});var r3=w((ba)=>{ba.isMongooseArray=function(Z){return Array.isArray(Z)&&Z.isMongooseArray}});var YJ=w((I21,yA)=>{var ha=r3().isMongooseArray;yA.exports=function(Z){return Z!=null&&(ha(Z)||Z.$__!=null||Z.isMongooseBuffer||Z.$isMongooseMap)}});var aQ=w((P21,gA)=>{var ma=/^function\s*([^\s(]+)/;gA.exports=function(Z){return Z.name||(Z.toString().trim().match(ma)||[])[1]}});var f8=w((T21,bA)=>{var ua=function(Z,Y){return typeof Z==="object"&&Z!==null&&Z._bsontype===Y};bA.exports=ua});var v4=w((j21,vA)=>{vA.exports=function(Z){return Buffer.isBuffer(Z)||Object.prototype.toString.call(Z)==="[object Object]"}});var sQ=w((E21,hA)=>{hA.exports=function Z(Y){if(Y==null||typeof Y!=="object")return!1;const J=Object.getPrototypeOf(Y);return!J||J.constructor.name==="Object"}});var WZ=w((da)=>{var mA=Symbol("mongoose#trustedSymbol");da.trustedSymbol=mA;da.trusted=function Z(Y){if(Y==null||typeof Y!=="object")return Y;return Y[mA]=!0,Y}});var V0=w((O21,dA)=>{var oQ=function(Z,Y,J){if(Z==null)return Z;if(Array.isArray(Z))return Zs(ra(Z)?Z.__array:Z,Y);if(aa(Z)){if(Y&&Y._skipSingleNestedGetters&&Z.$isSingleNested)Y=Object.assign({},Y,{getters:!1});const $=Z.$isSingleNested;if(oa(Z)&&Z.$__!=null&&Z._doc!=null)return Z._doc;let W;if(Y&&Y.json&&typeof Z.toJSON==="function")W=Z.toJSON(Y);else W=Z.toObject(Y);if(Y&&Y.minimize&&$&&Object.keys(W).length===0)return;return W}const X=Z.constructor;if(X)switch(sa(X)){case"Object":return tQ(Z,Y,J);case"Date":return new X(+Z);case"RegExp":return Ys(Z);default:break}if(uA(Z,"ObjectId")){if(Y&&Y.flattenObjectIds)return Z.toJSON();return new ia(Z.id)}if(uA(Z,"Decimal128")){if(Y&&Y.flattenDecimals)return Z.toJSON();return pa.fromString(Z.toString())}if(!X&&ta(Z))return tQ(Z,Y,J);if(typeof Z==="object"&&Z[ea.schemaTypeSymbol])return Z.clone();if(Y&&Y.bson&&typeof Z.toBSON==="function")return Z;if(typeof Z.valueOf==="function")return Z.valueOf();return tQ(Z,Y,J)},tQ=function(Z,Y,J){const X=Y&&Y.minimize,$=Y&&Y.omitUndefined,W=Y&&Y._seen,G={};let K;if(W&&W.has(Z))return W.get(Z);else if(W)W.set(Z,G);if(rQ in Z)G[rQ]=Z[rQ];let Q=0,z="";const H=Object.keys(Z),F=H.length;for(Q=0;Q<F;++Q){if(na.has(z=H[Q]))continue;const q=oQ(Z[z],Y,!1);if((X===!1||$)&&typeof q==="undefined")delete G[z];else if(X!==!0||typeof q!=="undefined")K||(K=!0),G[z]=q}return X&&!J?K&&G:G},Zs=function(Z,Y){let J=0;const X=Z.length,$=new Array(X);for(J=0;J<X;++J)$[J]=oQ(Z[J],Y,!0);return $},Ys=function(Z){const Y=new RegExp(Z.source,Z.flags);if(Y.lastIndex!==Z.lastIndex)Y.lastIndex=Z.lastIndex;return Y},pa=s3(),ia=Z4(),na=p5(),aa=YJ(),sa=aQ(),uA=f8(),ra=r3().isMongooseArray,ta=v4(),oa=sQ(),ea=Z1(),rQ=WZ().trustedSymbol;dA.exports=oQ;/*!
 * ignore
 */});var GZ=w((cA,lA)=>{/*!
 * Connection states
 */var T7=lA.exports=cA=Object.create(null);T7[0]="disconnected";T7[1]="connected";T7[2]="connecting";T7[3]="disconnecting";T7[99]="uninitialized";T7["disconnected"]=0;T7["connected"]=1;T7["connecting"]=2;T7["disconnecting"]=3;T7["uninitialized"]=99});var X6=w((S21,pA)=>{/*!
 * Centralize this so we can more easily work around issues with people
 * stubbing out `process.nextTick()` in tests using sinon:
 * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
 * See gh-6074
 */var Js=typeof process!=="undefined"&&typeof process.nextTick==="function"?process.nextTick.bind(process):(Z)=>setTimeout(Z,0);pA.exports=function Z(Y){return Js(Y)}});var aA=w((k21,nA)=>{var m1=function(Z,Y,J){if(J===void 0)J={};if(this.opts=J,this.name=Z,this.collectionName=Z,this.conn=Y,this.queue=[],this.buffer=!0,this.emitter=new Xs,$s.connected===this.conn.readyState)this.onOpen()};/*!
 * Module dependencies.
 */var Xs=import.meta.require("events").EventEmitter,$s=GZ(),iA=X6();m1.prototype.name;m1.prototype.collectionName;m1.prototype.conn;m1.prototype.onOpen=function(){this.buffer=!1,iA(()=>this.doQueue())};m1.prototype.onClose=function(){};m1.prototype.addQueue=function(Z,Y){return this.queue.push([Z,Y]),this};m1.prototype.removeQueue=function(Z,Y){const J=this.queue.findIndex((X)=>X[0]===Z&&X[1]===Y);if(J===-1)return!1;return this.queue.splice(J,1),!0};m1.prototype.doQueue=function(){for(let Y of this.queue)if(typeof Y[0]==="function")Y[0].apply(this,Y[1]);else this[Y[0]].apply(this,Y[1]);this.queue=[];const Z=this;return iA(function(){Z.emitter.emit("queue")}),this};m1.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")};m1.prototype.createIndex=function(){throw new Error("Collection#createIndex unimplemented by driver")};m1.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")};m1.prototype.findOneAndUpdate=function(){throw new Error("Collection#findOneAndUpdate unimplemented by driver")};m1.prototype.findOneAndDelete=function(){throw new Error("Collection#findOneAndDelete unimplemented by driver")};m1.prototype.findOneAndReplace=function(){throw new Error("Collection#findOneAndReplace unimplemented by driver")};m1.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")};m1.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")};m1.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")};m1.prototype.insertOne=function(){throw new Error("Collection#insertOne unimplemented by driver")};m1.prototype.insertMany=function(){throw new Error("Collection#insertMany unimplemented by driver")};m1.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")};m1.prototype.updateOne=function(){throw new Error("Collection#updateOne unimplemented by driver")};m1.prototype.updateMany=function(){throw new Error("Collection#updateMany unimplemented by driver")};m1.prototype.deleteOne=function(){throw new Error("Collection#deleteOne unimplemented by driver")};m1.prototype.deleteMany=function(){throw new Error("Collection#deleteMany unimplemented by driver")};m1.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")};m1.prototype.watch=function(){throw new Error("Collection#watch unimplemented by driver")};/*!
 * ignore
 */m1.prototype._shouldBufferCommands=function Z(){const Y=this.opts;if(Y.bufferCommands!=null)return Y.bufferCommands;if(Y&&Y.schemaUserProvidedOptions!=null&&Y.schemaUserProvidedOptions.bufferCommands!=null)return Y.schemaUserProvidedOptions.bufferCommands;return this.conn._shouldBufferCommands()};/*!
 * ignore
 */m1.prototype._getBufferTimeoutMS=function Z(){const Y=this.conn,J=this.opts;if(J.bufferTimeoutMS!=null)return J.bufferTimeoutMS;if(J&&J.schemaUserProvidedOptions!=null&&J.schemaUserProvidedOptions.bufferTimeoutMS!=null)return J.schemaUserProvidedOptions.bufferTimeoutMS;if(Y.config.bufferTimeoutMS!=null)return Y.config.bufferTimeoutMS;if(Y.base!=null&&Y.base.get("bufferTimeoutMS")!=null)return Y.base.get("bufferTimeoutMS");return 1e4};/*!
 * Module exports.
 */nA.exports=m1});var J0=w((_21,sA)=>{/*!
 * ignore
 */class eQ extends Error{}Object.defineProperty(eQ.prototype,"name",{value:"MongooseError"});sA.exports=eQ});var t1=w((R0)=>{var Ws=function(Z){const{fieldsAsRaw:Y,useBigInt64:J,promoteValues:X,promoteBuffers:$,promoteLongs:W,serializeFunctions:G,ignoreUndefined:K,bsonRegExp:Q,raw:z,enableUtf8Validation:H}=Z;return{fieldsAsRaw:Y,useBigInt64:J,promoteValues:X,promoteBuffers:$,promoteLongs:W,serializeFunctions:G,ignoreUndefined:K,bsonRegExp:Q,raw:z,enableUtf8Validation:H}},Gs=function(Z,Y){const J=Y?.bsonOptions;return{raw:Z?.raw??J?.raw??!1,useBigInt64:Z?.useBigInt64??J?.useBigInt64??!1,promoteLongs:Z?.promoteLongs??J?.promoteLongs??!0,promoteValues:Z?.promoteValues??J?.promoteValues??!0,promoteBuffers:Z?.promoteBuffers??J?.promoteBuffers??!1,ignoreUndefined:Z?.ignoreUndefined??J?.ignoreUndefined??!1,bsonRegExp:Z?.bsonRegExp??J?.bsonRegExp??!1,serializeFunctions:Z?.serializeFunctions??J?.serializeFunctions??!1,fieldsAsRaw:Z?.fieldsAsRaw??J?.fieldsAsRaw??{},enableUtf8Validation:Z?.enableUtf8Validation??J?.enableUtf8Validation??!0}};Object.defineProperty(R0,"__esModule",{value:!0});R0.resolveBSONOptions=R0.pluckBSONSerializeOptions=R0.UUID=R0.Timestamp=R0.serialize=R0.ObjectId=R0.MinKey=R0.MaxKey=R0.Long=R0.Int32=R0.Double=R0.deserialize=R0.Decimal128=R0.DBRef=R0.Code=R0.calculateObjectSize=R0.BSONType=R0.BSONSymbol=R0.BSONRegExp=R0.BSON=R0.Binary=void 0;var O0=I6();Object.defineProperty(R0,"Binary",{enumerable:!0,get:function(){return O0.Binary}});Object.defineProperty(R0,"BSON",{enumerable:!0,get:function(){return O0.BSON}});Object.defineProperty(R0,"BSONRegExp",{enumerable:!0,get:function(){return O0.BSONRegExp}});Object.defineProperty(R0,"BSONSymbol",{enumerable:!0,get:function(){return O0.BSONSymbol}});Object.defineProperty(R0,"BSONType",{enumerable:!0,get:function(){return O0.BSONType}});Object.defineProperty(R0,"calculateObjectSize",{enumerable:!0,get:function(){return O0.calculateObjectSize}});Object.defineProperty(R0,"Code",{enumerable:!0,get:function(){return O0.Code}});Object.defineProperty(R0,"DBRef",{enumerable:!0,get:function(){return O0.DBRef}});Object.defineProperty(R0,"Decimal128",{enumerable:!0,get:function(){return O0.Decimal128}});Object.defineProperty(R0,"deserialize",{enumerable:!0,get:function(){return O0.deserialize}});Object.defineProperty(R0,"Double",{enumerable:!0,get:function(){return O0.Double}});Object.defineProperty(R0,"Int32",{enumerable:!0,get:function(){return O0.Int32}});Object.defineProperty(R0,"Long",{enumerable:!0,get:function(){return O0.Long}});Object.defineProperty(R0,"MaxKey",{enumerable:!0,get:function(){return O0.MaxKey}});Object.defineProperty(R0,"MinKey",{enumerable:!0,get:function(){return O0.MinKey}});Object.defineProperty(R0,"ObjectId",{enumerable:!0,get:function(){return O0.ObjectId}});Object.defineProperty(R0,"serialize",{enumerable:!0,get:function(){return O0.serialize}});Object.defineProperty(R0,"Timestamp",{enumerable:!0,get:function(){return O0.Timestamp}});Object.defineProperty(R0,"UUID",{enumerable:!0,get:function(){return O0.UUID}});R0.pluckBSONSerializeOptions=Ws;R0.resolveBSONOptions=Gs});var r=w((PB)=>{var Qs=function(Z){return"errors"in Z&&Array.isArray(Z.errors)},zs=function(Z){return Z[LB]===!0},Hs=function(Z){const Y=Object.assign({},Z);if(Y.ok===0)Y.ok=1,delete Y.errmsg,delete Y.code,delete Y.codeName;return Y},Fs=function(Z,Y){if(Z instanceof i5)return!0;if(Z instanceof j7){if((Y>=9||Z.hasErrorLabel(PB.MongoErrorLabel.RetryableWriteError))&&!Z.hasErrorLabel(PB.MongoErrorLabel.HandshakeError))return!1}if(Z instanceof Xz)return tA.has(Z.result?.code??Z.code??0);if(Z instanceof j7&&typeof Z.code==="number")return tA.has(Z.code);if(PB.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(PB.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},qs=function(Z){return Z.hasErrorLabel(PB.MongoErrorLabel.RetryableWriteError)},Vs=function(Z){if(typeof Z.code==="number"?DB.has(Z.code):!1)return!0;if(Z instanceof i5)return!0;if(PB.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(PB.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},IB=function(Z){if(typeof Z.code==="number")return Us.has(Z.code);return PB.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(Z.message)||PB.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message)},Rs=function(Z){if(typeof Z.code==="number")return Ls.has(Z.code);if(IB(Z))return!1;return PB.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message)},Ms=function(Z){return!!(typeof Z.code==="number"&&ws.has(Z.code))},As=function(Z){if(Z instanceof Yz||Z==null)return!0;return IB(Z)||Rs(Z)},Bs=function(Z){return!!(Z instanceof i5&&Z.message.match(/timed out/))},Ns=function(Z,Y){if(Z==null||!(Z instanceof j7))return!1;if(Z instanceof i5)return!0;if(Y!=null&&Y>=9){if(Z.code===PB.MONGODB_ERROR_CODES.CursorNotFound)return!0;return Z.hasErrorLabel(PB.MongoErrorLabel.ResumableChangeStreamError)}if(typeof Z.code==="number")return PB.GET_MORE_RESUMABLE_CODES.has(Z.code);return!1};Object.defineProperty(PB,"__esModule",{value:!0});PB.isResumableError=PB.isNetworkTimeoutError=PB.isSDAMUnrecoverableError=PB.isNodeShuttingDownError=PB.isRetryableReadError=PB.isRetryableWriteError=PB.needsRetryableWriteLabel=PB.MongoWriteConcernError=PB.MongoServerSelectionError=PB.MongoSystemError=PB.MongoMissingDependencyError=PB.MongoMissingCredentialsError=PB.MongoCompatibilityError=PB.MongoInvalidArgumentError=PB.MongoParseError=PB.MongoNetworkTimeoutError=PB.MongoNetworkError=PB.isNetworkErrorBeforeHandshake=PB.MongoTopologyClosedError=PB.MongoCursorExhaustedError=PB.MongoServerClosedError=PB.MongoCursorInUseError=PB.MongoUnexpectedServerResponseError=PB.MongoGridFSChunkError=PB.MongoGridFSStreamError=PB.MongoTailableCursorError=PB.MongoChangeStreamError=PB.MongoAzureError=PB.MongoAWSError=PB.MongoKerberosError=PB.MongoExpiredSessionError=PB.MongoTransactionError=PB.MongoNotConnectedError=PB.MongoDecompressionError=PB.MongoBatchReExecutionError=PB.MongoRuntimeError=PB.MongoAPIError=PB.MongoDriverError=PB.MongoServerError=PB.MongoError=PB.MongoErrorLabel=PB.GET_MORE_RESUMABLE_CODES=PB.MONGODB_ERROR_CODES=PB.NODE_IS_RECOVERING_ERROR_MESSAGE=PB.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=PB.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;var JJ=Symbol("errorLabels");PB.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i");PB.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i");PB.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i");PB.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391});PB.GET_MORE_RESUMABLE_CODES=new Set([PB.MONGODB_ERROR_CODES.HostUnreachable,PB.MONGODB_ERROR_CODES.HostNotFound,PB.MONGODB_ERROR_CODES.NetworkTimeout,PB.MONGODB_ERROR_CODES.ShutdownInProgress,PB.MONGODB_ERROR_CODES.PrimarySteppedDown,PB.MONGODB_ERROR_CODES.ExceededTimeLimit,PB.MONGODB_ERROR_CODES.SocketException,PB.MONGODB_ERROR_CODES.NotWritablePrimary,PB.MONGODB_ERROR_CODES.InterruptedAtShutdown,PB.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,PB.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,PB.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,PB.MONGODB_ERROR_CODES.StaleShardVersion,PB.MONGODB_ERROR_CODES.StaleEpoch,PB.MONGODB_ERROR_CODES.StaleConfig,PB.MONGODB_ERROR_CODES.RetryChangeStream,PB.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,PB.MONGODB_ERROR_CODES.CursorNotFound]);PB.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});class j7 extends Error{constructor(Z,Y){super(Z,Y);this[JJ]=new Set}static buildErrorMessage(Z){if(typeof Z==="string")return Z;if(Qs(Z)&&Z.message.length===0)return Z.errors.length===0?"AggregateError has an empty errors array. Please check the `cause` property for more information.":Z.errors.map(({message:Y})=>Y).join(", ");return Z.message}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(Z){return this[JJ].has(Z)}addErrorLabel(Z){this[JJ].add(Z)}get errorLabels(){return Array.from(this[JJ])}}PB.MongoError=j7;class Zz extends j7{constructor(Z){super(Z.message||Z.errmsg||Z.$err||"n/a");if(Z.errorLabels)this[JJ]=new Set(Z.errorLabels);for(let Y in Z)if(Y!=="errorLabels"&&Y!=="errmsg"&&Y!=="message")this[Y]=Z[Y]}get name(){return"MongoServerError"}}PB.MongoServerError=Zz;class $J extends j7{constructor(Z,Y){super(Z,Y)}get name(){return"MongoDriverError"}}PB.MongoDriverError=$J;class w8 extends $J{constructor(Z,Y){super(Z,Y)}get name(){return"MongoAPIError"}}PB.MongoAPIError=w8;class E7 extends $J{constructor(Z,Y){super(Z,Y)}get name(){return"MongoRuntimeError"}}PB.MongoRuntimeError=E7;class oA extends w8{constructor(Z="This batch has already been executed, create new batch to execute"){super(Z)}get name(){return"MongoBatchReExecutionError"}}PB.MongoBatchReExecutionError=oA;class eA extends E7{constructor(Z){super(Z)}get name(){return"MongoDecompressionError"}}PB.MongoDecompressionError=eA;class ZB extends w8{constructor(Z){super(Z)}get name(){return"MongoNotConnectedError"}}PB.MongoNotConnectedError=ZB;class YB extends w8{constructor(Z){super(Z)}get name(){return"MongoTransactionError"}}PB.MongoTransactionError=YB;class JB extends w8{constructor(Z="Cannot use a session that has ended"){super(Z)}get name(){return"MongoExpiredSessionError"}}PB.MongoExpiredSessionError=JB;class XB extends E7{constructor(Z){super(Z)}get name(){return"MongoKerberosError"}}PB.MongoKerberosError=XB;class $B extends E7{constructor(Z){super(Z)}get name(){return"MongoAWSError"}}PB.MongoAWSError=$B;class WB extends E7{constructor(Z){super(Z)}get name(){return"MongoAzureError"}}PB.MongoAzureError=WB;class GB extends E7{constructor(Z){super(Z)}get name(){return"MongoChangeStreamError"}}PB.MongoChangeStreamError=GB;class KB extends w8{constructor(Z="Tailable cursor does not support this operation"){super(Z)}get name(){return"MongoTailableCursorError"}}PB.MongoTailableCursorError=KB;class QB extends E7{constructor(Z){super(Z)}get name(){return"MongoGridFSStreamError"}}PB.MongoGridFSStreamError=QB;class zB extends E7{constructor(Z){super(Z)}get name(){return"MongoGridFSChunkError"}}PB.MongoGridFSChunkError=zB;class HB extends E7{constructor(Z){super(Z)}get name(){return"MongoUnexpectedServerResponseError"}}PB.MongoUnexpectedServerResponseError=HB;class FB extends w8{constructor(Z="Cursor is already initialized"){super(Z)}get name(){return"MongoCursorInUseError"}}PB.MongoCursorInUseError=FB;class qB extends w8{constructor(Z="Server is closed"){super(Z)}get name(){return"MongoServerClosedError"}}PB.MongoServerClosedError=qB;class VB extends w8{constructor(Z){super(Z||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}}PB.MongoCursorExhaustedError=VB;class UB extends w8{constructor(Z="Topology is closed"){super(Z)}get name(){return"MongoTopologyClosedError"}}PB.MongoTopologyClosedError=UB;var LB=Symbol("beforeHandshake");PB.isNetworkErrorBeforeHandshake=zs;class i5 extends j7{constructor(Z,Y){super(Z,{cause:Y?.cause});if(Y&&typeof Y.beforeHandshake==="boolean")this[LB]=Y.beforeHandshake}get name(){return"MongoNetworkError"}}PB.MongoNetworkError=i5;class wB extends i5{constructor(Z,Y){super(Z,Y)}get name(){return"MongoNetworkTimeoutError"}}PB.MongoNetworkTimeoutError=wB;class Yz extends $J{constructor(Z){super(Z)}get name(){return"MongoParseError"}}PB.MongoParseError=Yz;class RB extends w8{constructor(Z){super(Z)}get name(){return"MongoInvalidArgumentError"}}PB.MongoInvalidArgumentError=RB;class MB extends w8{constructor(Z){super(Z)}get name(){return"MongoCompatibilityError"}}PB.MongoCompatibilityError=MB;class AB extends w8{constructor(Z){super(Z)}get name(){return"MongoMissingCredentialsError"}}PB.MongoMissingCredentialsError=AB;class BB extends w8{constructor(Z,Y={}){super(Z,Y)}get name(){return"MongoMissingDependencyError"}}PB.MongoMissingDependencyError=BB;class Jz extends j7{constructor(Z,Y){if(Y&&Y.error)super(j7.buildErrorMessage(Y.error.message||Y.error),{cause:Y.error});else super(Z);if(Y)this.reason=Y;this.code=Y.error?.code}get name(){return"MongoSystemError"}}PB.MongoSystemError=Jz;class NB extends Jz{constructor(Z,Y){super(Z,Y)}get name(){return"MongoServerSelectionError"}}PB.MongoServerSelectionError=NB;class Xz extends Zz{constructor(Z,Y){if(Y&&Array.isArray(Y.errorLabels))Z.errorLabels=Y.errorLabels;super(Z);if(this.errInfo=Z.errInfo,Y!=null)this.result=Hs(Y)}get name(){return"MongoWriteConcernError"}}PB.MongoWriteConcernError=Xz;var DB=new Set([PB.MONGODB_ERROR_CODES.HostUnreachable,PB.MONGODB_ERROR_CODES.HostNotFound,PB.MONGODB_ERROR_CODES.NetworkTimeout,PB.MONGODB_ERROR_CODES.ShutdownInProgress,PB.MONGODB_ERROR_CODES.PrimarySteppedDown,PB.MONGODB_ERROR_CODES.SocketException,PB.MONGODB_ERROR_CODES.NotWritablePrimary,PB.MONGODB_ERROR_CODES.InterruptedAtShutdown,PB.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,PB.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,PB.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),tA=new Set([...DB,PB.MONGODB_ERROR_CODES.ExceededTimeLimit]);PB.needsRetryableWriteLabel=Fs;PB.isRetryableWriteError=qs;PB.isRetryableReadError=Vs;var Us=new Set([PB.MONGODB_ERROR_CODES.ShutdownInProgress,PB.MONGODB_ERROR_CODES.PrimarySteppedDown,PB.MONGODB_ERROR_CODES.InterruptedAtShutdown,PB.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,PB.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),Ls=new Set([PB.MONGODB_ERROR_CODES.NotWritablePrimary,PB.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,PB.MONGODB_ERROR_CODES.LegacyNotPrimary]),ws=new Set([PB.MONGODB_ERROR_CODES.InterruptedAtShutdown,PB.MONGODB_ERROR_CODES.ShutdownInProgress]);PB.isNodeShuttingDownError=Ms;PB.isSDAMUnrecoverableError=As;PB.isNetworkTimeoutError=Bs;PB.isResumableError=Ns});var S0=w((CB)=>{Object.defineProperty(CB,"__esModule",{value:!0});CB.ReadPreference=CB.ReadPreferenceMode=void 0;var n5=r();CB.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});class B1{constructor(Z,Y,J){if(!B1.isValid(Z))throw new n5.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(Z)}`);if(J==null&&typeof Y==="object"&&!Array.isArray(Y))J=Y,Y=void 0;else if(Y&&!Array.isArray(Y))throw new n5.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=Z,this.tags=Y,this.hedge=J?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,J=J??{},J.maxStalenessSeconds!=null){if(J.maxStalenessSeconds<=0)throw new n5.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=J.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===B1.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new n5.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new n5.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new n5.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(Z){return new B1(Z)}static fromOptions(Z){if(!Z)return;const Y=Z.readPreference??Z.session?.transaction.options.readPreference,J=Z.readPreferenceTags;if(Y==null)return;if(typeof Y==="string")return new B1(Y,J,{maxStalenessSeconds:Z.maxStalenessSeconds,hedge:Z.hedge});else if(!(Y instanceof B1)&&typeof Y==="object"){const X=Y.mode||Y.preference;if(X&&typeof X==="string")return new B1(X,Y.tags??J,{maxStalenessSeconds:Y.maxStalenessSeconds,hedge:Z.hedge})}if(J)Y.tags=J;return Y}static translate(Z){if(Z.readPreference==null)return Z;const Y=Z.readPreference;if(typeof Y==="string")Z.readPreference=new B1(Y);else if(Y&&!(Y instanceof B1)&&typeof Y==="object"){const J=Y.mode||Y.preference;if(J&&typeof J==="string")Z.readPreference=new B1(J,Y.tags,{maxStalenessSeconds:Y.maxStalenessSeconds})}else if(!(Y instanceof B1))throw new n5.MongoInvalidArgumentError(`Invalid read preference: ${Y}`);return Z}static isValid(Z){return(new Set([B1.PRIMARY,B1.PRIMARY_PREFERRED,B1.SECONDARY,B1.SECONDARY_PREFERRED,B1.NEAREST,null])).has(Z)}isValid(Z){return B1.isValid(typeof Z==="string"?Z:this.mode)}secondaryOk(){return(new Set([B1.PRIMARY_PREFERRED,B1.SECONDARY,B1.SECONDARY_PREFERRED,B1.NEAREST])).has(this.mode)}equals(Z){return Z.mode===this.mode}toJSON(){const Z={mode:this.mode};if(Array.isArray(this.tags))Z.tags=this.tags;if(this.maxStalenessSeconds)Z.maxStalenessSeconds=this.maxStalenessSeconds;if(this.hedge)Z.hedge=this.hedge;return Z}}B1.PRIMARY=CB.ReadPreferenceMode.primary;B1.PRIMARY_PREFERRED=CB.ReadPreferenceMode.primaryPreferred;B1.SECONDARY=CB.ReadPreferenceMode.secondary;B1.SECONDARY_PREFERRED=CB.ReadPreferenceMode.secondaryPreferred;B1.NEAREST=CB.ReadPreferenceMode.nearest;B1.primary=new B1(CB.ReadPreferenceMode.primary);B1.primaryPreferred=new B1(CB.ReadPreferenceMode.primaryPreferred);B1.secondary=new B1(CB.ReadPreferenceMode.secondary);B1.secondaryPreferred=new B1(CB.ReadPreferenceMode.secondaryPreferred);B1.nearest=new B1(CB.ReadPreferenceMode.nearest);CB.ReadPreference=B1});var P6=w((SB)=>{var zr=function(Z){Z.forEach(Qr.clearTimeout),Z.clear()},Hr=function(Z,Y){if(Z.clusterTime==null)Z.clusterTime=Y;else if(Y.clusterTime.greaterThan(Z.clusterTime.clusterTime))Z.clusterTime=Y};Object.defineProperty(SB,"__esModule",{value:!0});SB._advanceClusterTime=SB.drainTimerQueue=SB.ServerType=SB.TopologyType=SB.STATE_CONNECTED=SB.STATE_CONNECTING=SB.STATE_CLOSED=SB.STATE_CLOSING=void 0;var Qr=import.meta.require("timers");SB.STATE_CLOSING="closing";SB.STATE_CLOSED="closed";SB.STATE_CONNECTING="connecting";SB.STATE_CONNECTED="connected";SB.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});SB.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});SB.drainTimerQueue=zr;SB._advanceClusterTime=Hr});var GJ=w((xB)=>{var Ar=function(){return(Z,Y)=>$z(Z,Y.filter((J)=>J.isWritable))},Br=function(Z){return(Y,J)=>{if(!Z)return[];return J.filter((X)=>{return X.address===Z.address&&X.type!==$6.ServerType.Unknown})}},Nr=function(Z,Y){if(!Y||!Z||Z&&Z<xB.MIN_SECONDARY_WRITE_WIRE_VERSION)return Wz(WJ.ReadPreference.primary);return Wz(Y)},Dr=function(Z,Y,J){if(Z.maxStalenessSeconds==null||Z.maxStalenessSeconds<0)return J;const X=Z.maxStalenessSeconds,$=(Y.heartbeatFrequencyMS+Mr)/1000;if(X<$)throw new Z$.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${$} seconds`);if(X<_B)throw new Z$.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${_B} seconds`);if(Y.type===$6.TopologyType.ReplicaSetWithPrimary){const W=Array.from(Y.servers.values()).filter(e3)[0];return J.reduce((G,K)=>{const z=(K.lastUpdateTime-K.lastWriteDate-(W.lastUpdateTime-W.lastWriteDate)+Y.heartbeatFrequencyMS)/1000,H=Z.maxStalenessSeconds??0;if(z<=H)G.push(K);return G},[])}if(Y.type===$6.TopologyType.ReplicaSetNoPrimary){if(J.length===0)return J;const W=J.reduce((G,K)=>K.lastWriteDate>G.lastWriteDate?K:G);return J.reduce((G,K)=>{const z=(W.lastWriteDate-K.lastWriteDate+Y.heartbeatFrequencyMS)/1000,H=Z.maxStalenessSeconds??0;if(z<=H)G.push(K);return G},[])}return J},Ir=function(Z,Y){const J=Object.keys(Z),X=Object.keys(Y);for(let $=0;$<J.length;++$){const W=J[$];if(X.indexOf(W)===-1||Y[W]!==Z[W])return!1}return!0},Pr=function(Z,Y){if(Z.tags==null||Array.isArray(Z.tags)&&Z.tags.length===0)return Y;for(let J=0;J<Z.tags.length;++J){const X=Z.tags[J],$=Y.reduce((W,G)=>{if(Ir(X,G.tags))W.push(G);return W},[]);if($.length)return $}return[]},$z=function(Z,Y){const J=Y.reduce(($,W)=>$===-1?W.roundTripTime:Math.min(W.roundTripTime,$),-1),X=J+Z.localThresholdMS;return Y.reduce(($,W)=>{if(W.roundTripTime<=X&&W.roundTripTime>=J)$.push(W);return $},[])},e3=function(Z){return Z.type===$6.ServerType.RSPrimary},Tr=function(Z){return Z.type===$6.ServerType.RSSecondary},jr=function(Z){return Z.type===$6.ServerType.RSSecondary||Z.type===$6.ServerType.RSPrimary},Er=function(Z){return Z.type!==$6.ServerType.Unknown},Cr=function(Z){return Z.type===$6.ServerType.LoadBalancer},Wz=function(Z){if(!Z.isValid())throw new Z$.MongoInvalidArgumentError("Invalid read preference specified");return(Y,J)=>{const X=Y.commonWireVersion;if(X&&Z.minWireVersion&&Z.minWireVersion>X)throw new Z$.MongoCompatibilityError(`Minimum wire version '${Z.minWireVersion}' required, but found '${X}'`);if(Y.type===$6.TopologyType.LoadBalanced)return J.filter(Cr);if(Y.type===$6.TopologyType.Unknown)return[];if(Y.type===$6.TopologyType.Single||Y.type===$6.TopologyType.Sharded)return $z(Y,J.filter(Er));const $=Z.mode;if($===WJ.ReadPreference.PRIMARY)return J.filter(e3);if($===WJ.ReadPreference.PRIMARY_PREFERRED){const K=J.filter(e3);if(K.length)return K}const W=$===WJ.ReadPreference.NEAREST?jr:Tr,G=$z(Y,Pr(Z,Dr(Z,Y,J.filter(W))));if($===WJ.ReadPreference.SECONDARY_PREFERRED&&G.length===0)return J.filter(e3);return G}};Object.defineProperty(xB,"__esModule",{value:!0});xB.readPreferenceServerSelector=xB.secondaryWritableServerSelector=xB.sameServerSelector=xB.writableServerSelector=xB.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;var Z$=r(),WJ=S0(),$6=P6(),Mr=1e4,_B=90;xB.MIN_SECONDARY_WRITE_WIRE_VERSION=13;xB.writableServerSelector=Ar;xB.sameServerSelector=Br;xB.secondaryWritableServerSelector=Nr;xB.readPreferenceServerSelector=Wz});var a5=w((gB)=>{Object.defineProperty(gB,"__esModule",{value:!0});gB.OP_MSG=gB.OP_COMPRESSED=gB.OP_DELETE=gB.OP_QUERY=gB.OP_INSERT=gB.OP_UPDATE=gB.OP_REPLY=gB.MIN_SUPPORTED_QE_SERVER_VERSION=gB.MIN_SUPPORTED_QE_WIRE_VERSION=gB.MAX_SUPPORTED_WIRE_VERSION=gB.MIN_SUPPORTED_WIRE_VERSION=gB.MAX_SUPPORTED_SERVER_VERSION=gB.MIN_SUPPORTED_SERVER_VERSION=void 0;gB.MIN_SUPPORTED_SERVER_VERSION="3.6";gB.MAX_SUPPORTED_SERVER_VERSION="7.0";gB.MIN_SUPPORTED_WIRE_VERSION=6;gB.MAX_SUPPORTED_WIRE_VERSION=21;gB.MIN_SUPPORTED_QE_WIRE_VERSION=21;gB.MIN_SUPPORTED_QE_SERVER_VERSION="7.0";gB.OP_REPLY=1;gB.OP_UPDATE=2001;gB.OP_INSERT=2002;gB.OP_QUERY=2004;gB.OP_DELETE=2006;gB.OP_COMPRESSED=2012;gB.OP_MSG=2013});var b0=w((vB)=>{Object.defineProperty(vB,"__esModule",{value:!0});vB.TOPOLOGY_EVENTS=vB.CMAP_EVENTS=vB.HEARTBEAT_EVENTS=vB.RESUME_TOKEN_CHANGED=vB.END=vB.CHANGE=vB.INIT=vB.MORE=vB.RESPONSE=vB.SERVER_HEARTBEAT_FAILED=vB.SERVER_HEARTBEAT_SUCCEEDED=vB.SERVER_HEARTBEAT_STARTED=vB.COMMAND_FAILED=vB.COMMAND_SUCCEEDED=vB.COMMAND_STARTED=vB.CLUSTER_TIME_RECEIVED=vB.CONNECTION_CHECKED_IN=vB.CONNECTION_CHECKED_OUT=vB.CONNECTION_CHECK_OUT_FAILED=vB.CONNECTION_CHECK_OUT_STARTED=vB.CONNECTION_CLOSED=vB.CONNECTION_READY=vB.CONNECTION_CREATED=vB.CONNECTION_POOL_READY=vB.CONNECTION_POOL_CLEARED=vB.CONNECTION_POOL_CLOSED=vB.CONNECTION_POOL_CREATED=vB.TOPOLOGY_DESCRIPTION_CHANGED=vB.TOPOLOGY_CLOSED=vB.TOPOLOGY_OPENING=vB.SERVER_DESCRIPTION_CHANGED=vB.SERVER_CLOSED=vB.SERVER_OPENING=vB.DESCRIPTION_RECEIVED=vB.UNPINNED=vB.PINNED=vB.MESSAGE=vB.ENDED=vB.CLOSED=vB.CONNECT=vB.OPEN=vB.CLOSE=vB.TIMEOUT=vB.ERROR=vB.SYSTEM_JS_COLLECTION=vB.SYSTEM_COMMAND_COLLECTION=vB.SYSTEM_USER_COLLECTION=vB.SYSTEM_PROFILE_COLLECTION=vB.SYSTEM_INDEX_COLLECTION=vB.SYSTEM_NAMESPACE_COLLECTION=void 0;vB.LEGACY_HELLO_COMMAND_CAMEL_CASE=vB.LEGACY_HELLO_COMMAND=vB.MONGO_CLIENT_EVENTS=vB.LOCAL_SERVER_EVENTS=vB.SERVER_RELAY_EVENTS=vB.APM_EVENTS=void 0;vB.SYSTEM_NAMESPACE_COLLECTION="system.namespaces";vB.SYSTEM_INDEX_COLLECTION="system.indexes";vB.SYSTEM_PROFILE_COLLECTION="system.profile";vB.SYSTEM_USER_COLLECTION="system.users";vB.SYSTEM_COMMAND_COLLECTION="$cmd";vB.SYSTEM_JS_COLLECTION="system.js";vB.ERROR="error";vB.TIMEOUT="timeout";vB.CLOSE="close";vB.OPEN="open";vB.CONNECT="connect";vB.CLOSED="closed";vB.ENDED="ended";vB.MESSAGE="message";vB.PINNED="pinned";vB.UNPINNED="unpinned";vB.DESCRIPTION_RECEIVED="descriptionReceived";vB.SERVER_OPENING="serverOpening";vB.SERVER_CLOSED="serverClosed";vB.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged";vB.TOPOLOGY_OPENING="topologyOpening";vB.TOPOLOGY_CLOSED="topologyClosed";vB.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged";vB.CONNECTION_POOL_CREATED="connectionPoolCreated";vB.CONNECTION_POOL_CLOSED="connectionPoolClosed";vB.CONNECTION_POOL_CLEARED="connectionPoolCleared";vB.CONNECTION_POOL_READY="connectionPoolReady";vB.CONNECTION_CREATED="connectionCreated";vB.CONNECTION_READY="connectionReady";vB.CONNECTION_CLOSED="connectionClosed";vB.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted";vB.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed";vB.CONNECTION_CHECKED_OUT="connectionCheckedOut";vB.CONNECTION_CHECKED_IN="connectionCheckedIn";vB.CLUSTER_TIME_RECEIVED="clusterTimeReceived";vB.COMMAND_STARTED="commandStarted";vB.COMMAND_SUCCEEDED="commandSucceeded";vB.COMMAND_FAILED="commandFailed";vB.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted";vB.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded";vB.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed";vB.RESPONSE="response";vB.MORE="more";vB.INIT="init";vB.CHANGE="change";vB.END="end";vB.RESUME_TOKEN_CHANGED="resumeTokenChanged";vB.HEARTBEAT_EVENTS=Object.freeze([vB.SERVER_HEARTBEAT_STARTED,vB.SERVER_HEARTBEAT_SUCCEEDED,vB.SERVER_HEARTBEAT_FAILED]);vB.CMAP_EVENTS=Object.freeze([vB.CONNECTION_POOL_CREATED,vB.CONNECTION_POOL_READY,vB.CONNECTION_POOL_CLEARED,vB.CONNECTION_POOL_CLOSED,vB.CONNECTION_CREATED,vB.CONNECTION_READY,vB.CONNECTION_CLOSED,vB.CONNECTION_CHECK_OUT_STARTED,vB.CONNECTION_CHECK_OUT_FAILED,vB.CONNECTION_CHECKED_OUT,vB.CONNECTION_CHECKED_IN]);vB.TOPOLOGY_EVENTS=Object.freeze([vB.SERVER_OPENING,vB.SERVER_CLOSED,vB.SERVER_DESCRIPTION_CHANGED,vB.TOPOLOGY_OPENING,vB.TOPOLOGY_CLOSED,vB.TOPOLOGY_DESCRIPTION_CHANGED,vB.ERROR,vB.TIMEOUT,vB.CLOSE]);vB.APM_EVENTS=Object.freeze([vB.COMMAND_STARTED,vB.COMMAND_SUCCEEDED,vB.COMMAND_FAILED]);vB.SERVER_RELAY_EVENTS=Object.freeze([vB.SERVER_HEARTBEAT_STARTED,vB.SERVER_HEARTBEAT_SUCCEEDED,vB.SERVER_HEARTBEAT_FAILED,vB.COMMAND_STARTED,vB.COMMAND_SUCCEEDED,vB.COMMAND_FAILED,...vB.CMAP_EVENTS]);vB.LOCAL_SERVER_EVENTS=Object.freeze([vB.CONNECT,vB.DESCRIPTION_RECEIVED,vB.CLOSED,vB.ENDED]);vB.MONGO_CLIENT_EVENTS=Object.freeze([...vB.CMAP_EVENTS,...vB.APM_EVENTS,...vB.TOPOLOGY_EVENTS,...vB.HEARTBEAT_EVENTS]);vB.LEGACY_HELLO_COMMAND="ismaster";vB.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"});var T6=w((qN)=>{Object.defineProperty(qN,"__esModule",{value:!0});qN.ReadConcern=qN.ReadConcernLevel=void 0;qN.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});class QZ{constructor(Z){this.level=qN.ReadConcernLevel[Z]??Z}static fromOptions(Z){if(Z==null)return;if(Z.readConcern){const{readConcern:Y}=Z;if(Y instanceof QZ)return Y;else if(typeof Y==="string")return new QZ(Y);else if("level"in Y&&Y.level)return new QZ(Y.level)}if(Z.level)return new QZ(Z.level);return}static get MAJORITY(){return qN.ReadConcernLevel.majority}static get AVAILABLE(){return qN.ReadConcernLevel.available}static get LINEARIZABLE(){return qN.ReadConcernLevel.linearizable}static get SNAPSHOT(){return qN.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}}qN.ReadConcern=QZ});var y8=w((UN)=>{Object.defineProperty(UN,"__esModule",{value:!0});UN.WriteConcern=UN.WRITE_CONCERN_KEYS=void 0;UN.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];class KJ{constructor(Z,Y,J,X){if(Z!=null)if(!Number.isNaN(Number(Z)))this.w=Number(Z);else this.w=Z;if(Y!=null)this.wtimeoutMS=this.wtimeout=Y;if(J!=null)this.journal=this.j=J;if(X!=null)this.journal=this.j=X?!0:!1}static apply(Z,Y){const J={};if(Y.w!=null)J.w=Y.w;if(Y.wtimeoutMS!=null)J.wtimeout=Y.wtimeoutMS;if(Y.journal!=null)J.j=Y.j;return Z.writeConcern=J,Z}static fromOptions(Z,Y){if(Z==null)return;Y=Y??{};let J;if(typeof Z==="string"||typeof Z==="number")J={w:Z};else if(Z instanceof KJ)J=Z;else J=Z.writeConcern;const X=Y instanceof KJ?Y:Y.writeConcern,{w:$=void 0,wtimeout:W=void 0,j:G=void 0,fsync:K=void 0,journal:Q=void 0,wtimeoutMS:z=void 0}={...X,...J};if($!=null||W!=null||z!=null||G!=null||Q!=null||K!=null)return new KJ($,W??z,G??Q,K);return}}UN.WriteConcern=KJ});var X1=w((CN)=>{var Dt=function(Z,Y){for(let J of Y)if(Z===J||J.startsWith("*.")&&Z?.endsWith(J.substring(2,J.length))||J.startsWith("*/")&&Z?.endsWith(J.substring(2,J.length)))return!0;return!1},It=function(Z){let Y=void 0;if(typeof Z==="string")Y=Z;else if(Array.isArray(Z))Y={},Z.forEach((J)=>{Y[J]=1});else if(Z!=null&&typeof Z==="object"){Y={};for(let J in Z)Y[J]=Z[J]}return Y},Uz=function(Z){return Pt(Z)==="[object Object]"},Tt=function(Z,Y){return{...Z,...Y}},jt=function(Z,Y){const J={};for(let X in Z)if(Y.includes(X))J[X]=Z[X];return J},Et=function(Z,Y){if(Y&&Y.s.options?.retryWrites)Z.retryWrites=!0;return Z},Ct=function(Z){return!!Z&&typeof Z.then==="function"},Ot=function(Z,Y,J){const X=AN(Y).capabilities;if(J.collation&&typeof J.collation==="object")if(X&&X.commandsTakeCollation)Z.collation=J.collation;else throw new Z7.MongoCompatibilityError("Current topology does not support collation")},St=function(Z,Y,J){if(J&&J.session&&J.session.inTransaction())return;const X=Object.assign({},Z.readConcern||{});if(Y.s.readConcern)Object.assign(X,Y.s.readConcern);if(Object.keys(X).length>0)Object.assign(Z,{readConcern:X})},kt=function(Z,Y){if(Z.explain)return Z;return{explain:Z,verbosity:Y.verbosity}},AN=function(Z){if("topology"in Z&&Z.topology)return Z.topology;else if("client"in Z&&Z.client.topology)return Z.client.topology;throw new Z7.MongoNotConnectedError("MongoClient must be connected to perform this operation")},_t=function(Z){return HJ.fromString(Z)};function*xt(Z=0){let Y=Z;while(!0){const J=Y;Y+=1,yield J}}var ft=function(Z,Y){const J=Z();if(Y==null)return J;J.then((X)=>Y(void 0,X),(X)=>Y(X));return},yt=function(){const Z=qt.randomBytes(16);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z},gt=function(Z){if(Z){if(Z.loadBalanced)return wt.MAX_SUPPORTED_WIRE_VERSION;if(Z.hello)return Z.hello.maxWireVersion;if("lastHello"in Z&&typeof Z.lastHello==="function"){const Y=Z.lastHello();if(Y)return Y.maxWireVersion}if(Z.description&&"maxWireVersion"in Z.description&&Z.description.maxWireVersion!=null)return Z.description.maxWireVersion}return 0},bt=function(Z,Y,J){Z=Z||[];let X=0,$=0;for(X=0;X<Z.length;++X)$++,Y(Z[X],W);if($===0){J();return}function W(G){if($--,G){J(G);return}if(X===Z.length&&$<=0)J()}},vt=function(Z,Y){if(!Array.isArray(Z)||!Array.isArray(Y))return!1;return Z.length===Y.length&&Z.every((J,X)=>J===Y[X])},ht=function(Z,Y){if(Z===Y)return!0;if(!Z||!Y)return Z===Y;if(Z==null&&Y!=null||Z!=null&&Y==null)return!1;if(Z.constructor.name!==Y.constructor.name)return!1;if(Z.message!==Y.message)return!1;return!0},mt=function(Z){return function Y(J,X){const $=Z[J.s.state];if($&&$.indexOf(X)<0)throw new Z7.MongoRuntimeError(`illegal state transition from [${J.s.state}] => [${X}], allowed: [${$}]`);J.emit("stateChanged",J.s.state,X),J.s.state=X}},BN=function(){const Z=process.hrtime();return Math.floor(Z[0]*1000+Z[1]/1e6)},ut=function(Z){if(typeof Z!=="number")throw new Z7.MongoInvalidArgumentError("Numeric value required to calculate duration");const Y=BN()-Z;return Y<0?0:Y},NN=function(Z){if(Array.isArray(Z)){for(let J of Z)if(NN(J))return!0;return!1}const Y=Object.keys(Z);return Y.length>0&&Y[0][0]==="$"},dt=function(Z,Y){const J=Object.assign({},Y,MN.resolveBSONOptions(Y,Z));if(!Y?.session?.inTransaction()){const W=Mt.ReadConcern.fromOptions(Y)??Z?.readConcern;if(W)J.readConcern=W;const G=Nt.WriteConcern.fromOptions(Y)??Z?.writeConcern;if(G)J.writeConcern=G}const $=At.ReadPreference.fromOptions(Y)??Z?.readPreference;if($)J.readPreference=$;return J},DN=function(Z,Y){Z=Array.isArray(Z)?new Set(Z):Z,Y=Array.isArray(Y)?new Set(Y):Y;for(let J of Y)if(!Z.has(J))return!1;return!0},ct=function(Z){return Z[Rt.LEGACY_HELLO_COMMAND]||Z.hello?!0:!1},lt=function(Z,Y){const J=new Set(Z);for(let X of Y)J.delete(X);return J},IN=function(Z,Y=void 0){if(!Uz(Z))return!1;const J=Z.constructor;if(J&&J.prototype){if(!Uz(J.prototype))return!1;if(!pt(J.prototype,"isPrototypeOf"))return!1}if(Y){const X=Object.keys(Z);return DN(X,Y)}return!0},Lz=function(Z){if(Z==null)return Z;else if(Array.isArray(Z))return Z.map((J)=>Lz(J));else if(IN(Z)){const J={};for(let X in Z)J[X]=Lz(Z[X]);return J}const Y=Z.constructor;if(Y)switch(Y.name.toLowerCase()){case"date":return new Y(Number(Z));case"map":return new Map(Z);case"set":return new Set(Z);case"buffer":return Buffer.from(Z)}return Z},TN=function(Z){return process.emitWarning(Z,{code:CN.MONGODB_WARNING_CODE})},it=function(Z){if(!RN.has(Z))return RN.add(Z),TN(Z)},nt=function(Z){return Object.values(Z).join(", ")},at=function(Z){if(!Z)return!1;if(Z.loadBalanced)return!0;if(Z.description.logicalSessionTimeoutMinutes!=null){if(Z.description.type!==Bt.ServerType.Standalone)return!0}return!1},st=function(Z,Y=0){const J=Array.from(Z);if(Y>J.length)throw new Z7.MongoRuntimeError("Limit must be less than the number of items");let X=J.length;const $=Y%J.length===0?1:J.length-Y;while(X>$){const W=Math.floor(Math.random()*X);X-=1;const G=J[X];J[X]=J[W],J[W]=G}return Y%J.length===0?J:J.slice($)},rt=function(Z){if(Z.aggregate||Z.count||Z.distinct||Z.find||Z.geoNear)return!0;return!1},tt=function(Z,Y){if(Z==null&&Y==null)return 0;if(Z==null)return-1;if(Y==null)return 1;return CN.ByteUtils.compare(Z.id,Y.id)},jN=function(Z){if(typeof Z==="number")return Math.trunc(Z);const Y=Number.parseInt(String(Z),10);return Number.isNaN(Y)?null:Y},ot=function(Z){const Y=jN(Z);return Y!=null&&Y>=0?Y:null},et=function(Z,Y){const J=Z.endsWith(".")?Z.slice(0,Z.length-1):Z,X=Y.endsWith(".")?Y.slice(0,Y.length-1):Y,$=/^.*?\./,W=`.${J.replace($,"")}`,G=`.${X.replace($,"")}`;return W.endsWith(G)};async function Zo(Z,Y={}){return new Promise((J,X)=>{const $={method:"GET",timeout:1e4,json:!0,...Ut.parse(Z),...Y},W=Vt.request($,(G)=>{G.setEncoding("utf8");let K="";G.on("data",(Q)=>{K+=Q}),G.once("end",()=>{if(Y.json===!1){J(K);return}try{const Q=JSON.parse(K);J(Q)}catch{X(new Z7.MongoRuntimeError(`Invalid JSON response: "${K}"`))}})});W.once("timeout",()=>W.destroy(new Z7.MongoNetworkTimeoutError(`Network request to ${Z} timed out after ${Y.timeout} ms`))),W.once("error",(G)=>X(G)),W.end()})}Object.defineProperty(CN,"__esModule",{value:!0});CN.TimeoutController=CN.request=CN.matchesParentDomain=CN.parseUnsignedInteger=CN.parseInteger=CN.compareObjectId=CN.commandSupportsReadConcern=CN.shuffle=CN.supportsRetryableWrites=CN.enumToString=CN.emitWarningOnce=CN.emitWarning=CN.MONGODB_WARNING_CODE=CN.DEFAULT_PK_FACTORY=CN.HostAddress=CN.BufferPool=CN.List=CN.deepCopy=CN.isRecord=CN.setDifference=CN.isHello=CN.isSuperset=CN.resolveOptions=CN.hasAtomicOperators=CN.calculateDurationInMs=CN.now=CN.makeStateMachine=CN.errorStrictEqual=CN.arrayStrictEqual=CN.eachAsync=CN.maxWireVersion=CN.uuidV4=CN.maybeCallback=CN.makeCounter=CN.MongoDBCollectionNamespace=CN.MongoDBNamespace=CN.ns=CN.getTopology=CN.decorateWithExplain=CN.decorateWithReadConcern=CN.decorateWithCollation=CN.isPromiseLike=CN.applyRetryableWrites=CN.filterOptions=CN.mergeOptions=CN.isObject=CN.normalizeHintField=CN.hostMatchesWildcards=CN.ByteUtils=void 0;var qt=import.meta.require("crypto"),Vt=import.meta.require("http"),wN=import.meta.require("timers"),Ut=import.meta.require("url"),Lt=import.meta.require("url"),MN=t1(),wt=a5(),Rt=b0(),Z7=r(),Mt=T6(),At=S0(),Bt=P6(),Nt=y8();CN.ByteUtils={toLocalBufferType(Z){return Buffer.isBuffer(Z)?Z:Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength)},equals(Z,Y){return CN.ByteUtils.toLocalBufferType(Z).equals(Y)},compare(Z,Y){return CN.ByteUtils.toLocalBufferType(Z).compare(Y)},toBase64(Z){return CN.ByteUtils.toLocalBufferType(Z).toString("base64")}};CN.hostMatchesWildcards=Dt;CN.normalizeHintField=It;var Pt=(Z)=>Object.prototype.toString.call(Z);CN.isObject=Uz;CN.mergeOptions=Tt;CN.filterOptions=jt;CN.applyRetryableWrites=Et;CN.isPromiseLike=Ct;CN.decorateWithCollation=Ot;CN.decorateWithReadConcern=St;CN.decorateWithExplain=kt;CN.getTopology=AN;CN.ns=_t;class HJ{constructor(Z,Y){this.db=Z,this.collection=Y,this.collection=Y===""?void 0:Y}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(Z){return new wz(this.db,Z)}static fromString(Z){if(typeof Z!=="string"||Z==="")throw new Z7.MongoRuntimeError(`Cannot parse namespace from "${Z}"`);const[Y,...J]=Z.split("."),X=J.join(".");return new HJ(Y,X===""?void 0:X)}}CN.MongoDBNamespace=HJ;class wz extends HJ{constructor(Z,Y){super(Z,Y);this.collection=Y}static fromString(Z){return super.fromString(Z)}}CN.MongoDBCollectionNamespace=wz;CN.makeCounter=xt;CN.maybeCallback=ft;CN.uuidV4=yt;CN.maxWireVersion=gt;CN.eachAsync=bt;CN.arrayStrictEqual=vt;CN.errorStrictEqual=ht;CN.makeStateMachine=mt;CN.now=BN;CN.calculateDurationInMs=ut;CN.hasAtomicOperators=NN;CN.resolveOptions=dt;CN.isSuperset=DN;CN.isHello=ct;CN.setDifference=lt;var pt=(Z,Y)=>Object.prototype.hasOwnProperty.call(Z,Y);CN.isRecord=IN;CN.deepCopy=Lz;class Rz{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(let Z of this.nodes())yield Z.value}*nodes(){let Z=this.head.next;while(Z!==this.head){const{next:Y}=Z;yield Z,Z=Y}}push(Z){this.count+=1;const Y={next:this.head,prev:this.head.prev,value:Z};this.head.prev.next=Y,this.head.prev=Y}pushMany(Z){for(let Y of Z)this.push(Y)}unshift(Z){this.count+=1;const Y={next:this.head.next,prev:this.head,value:Z};this.head.next.prev=Y,this.head.next=Y}remove(Z){if(Z===this.head||this.length===0)return null;this.count-=1;const{prev:Y,next:J}=Z;return Y.next=J,J.prev=Y,Z.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(Z){for(let Y of this.nodes())if(Z(Y.value))this.remove(Y)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}}CN.List=Rz;class PN{constructor(){this.buffers=new Rz,this.totalByteLength=0}get length(){return this.totalByteLength}append(Z){this.buffers.push(Z),this.totalByteLength+=Z.length}getInt32(){if(this.totalByteLength<4)return null;const Z=this.buffers.first();if(Z!=null&&Z.byteLength>=4)return Z.readInt32LE(0);const Y=this.read(4),J=Y.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(Y),J}read(Z){if(typeof Z!=="number"||Z<0)throw new Z7.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(Z>this.totalByteLength)return Buffer.alloc(0);const Y=Buffer.allocUnsafe(Z);for(let J=0;J<Z;){const X=this.buffers.shift();if(X==null)break;const $=Z-J,W=Math.min($,X.byteLength),G=X.subarray(0,W);if(Y.set(G,J),J+=W,this.totalByteLength-=W,W<X.byteLength)this.buffers.unshift(X.subarray(W))}return Y}}CN.BufferPool=PN;class zJ{constructor(Z){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;const Y=Z.split(" ").join("%20");if(Y.endsWith(".sock")){this.socketPath=decodeURIComponent(Y);return}const J=`iLoveJS://${Y}`;let X;try{X=new Lt.URL(J)}catch(K){const Q=new Z7.MongoRuntimeError(`Unable to parse ${Y} with URL`);throw Q.cause=K,Q}const{hostname:$,port:W}=X;let G=decodeURIComponent($).toLowerCase();if(G.startsWith("[")&&G.endsWith("]"))this.isIPv6=!0,G=G.substring(1,$.length-1);if(this.host=G.toLowerCase(),typeof W==="number")this.port=W;else if(typeof W==="string"&&W!=="")this.port=Number.parseInt(W,10);else this.port=27017;if(this.port===0)throw new Z7.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){if(typeof this.host==="string"){if(this.isIPv6)return`[${this.host}]:${this.port}`;return`${this.host}:${this.port}`}return`${this.socketPath}`}static fromString(Z){return new zJ(Z)}static fromHostPort(Z,Y){if(Z.includes(":"))Z=`[${Z}]`;return zJ.fromString(`${Z}:${Y}`)}static fromSrvRecord({name:Z,port:Y}){return zJ.fromHostPort(Z,Y)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};const Z=this.host??"",Y=this.port??0;return{host:Z,port:Y}}}CN.HostAddress=zJ;CN.DEFAULT_PK_FACTORY={createPk(){return new MN.ObjectId}};CN.MONGODB_WARNING_CODE="MONGODB DRIVER";CN.emitWarning=TN;var RN=new Set;CN.emitWarningOnce=it;CN.enumToString=nt;CN.supportsRetryableWrites=at;CN.shuffle=st;CN.commandSupportsReadConcern=rt;CN.compareObjectId=tt;CN.parseInteger=jN;CN.parseUnsignedInteger=ot;CN.matchesParentDomain=et;CN.request=Zo;class EN extends AbortController{constructor(Z=0,Y=Z>0?wN.setTimeout(()=>this.abort(),Z):null){super();this.timeoutId=Y}clear(){if(this.timeoutId!=null)wN.clearTimeout(this.timeoutId);this.timeoutId=null}}CN.TimeoutController=EN});var y1=w((_N)=>{var so=function(Z,Y){if(!Array.isArray(Y)&&!(Y instanceof Set))Y=[Y];return Y=new Set(Y),Object.defineProperty(Z,"aspects",{value:Y,writable:!1}),Y};Object.defineProperty(_N,"__esModule",{value:!0});_N.defineAspects=_N.AbstractOperation=_N.Aspect=void 0;var ao=t1(),Mz=S0();_N.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};var Az=Symbol("session");class kN{constructor(Z={}){this.readPreference=this.hasAspect(_N.Aspect.WRITE_OPERATION)?Mz.ReadPreference.primary:Mz.ReadPreference.fromOptions(Z)??Mz.ReadPreference.primary,this.bsonOptions=ao.resolveBSONOptions(Z),this[Az]=Z.session!=null?Z.session:void 0,this.options=Z,this.bypassPinningCheck=!!Z.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(Z){const Y=this.constructor;if(Y.aspects==null)return!1;return Y.aspects.has(Z)}get session(){return this[Az]}clearSession(){this[Az]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}}_N.AbstractOperation=kN;_N.defineAspects=so});var g8=w((vN)=>{var oo=function(Z,Y,J){return Bz.maybeCallback(()=>eo(Z,Y),J)};async function eo(Z,Y){if(!(Y instanceof h4.AbstractOperation))throw new G8.MongoRuntimeError("This method requires a valid operation instance");if(Z.topology==null){if(Z.s.hasBeenClosed)throw new G8.MongoNotConnectedError("Client must be connected before running operations");Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await Z.connect()}finally{delete Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}const{topology:J}=Z;if(J==null)throw new G8.MongoRuntimeError("client.connect did not create a topology but also did not throw");let X=Y.session,$;if(X==null)$=Symbol(),X=Z.startSession({owner:$,explicit:!1});else if(X.hasEnded)throw new G8.MongoExpiredSessionError("Use of expired sessions is not permitted");else if(X.snapshotEnabled&&!J.capabilities.supportsSnapshotReads)throw new G8.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later");else if(X.client!==Z)throw new G8.MongoInvalidArgumentError("ClientSession must be from the same MongoClient");const W=Y.readPreference??yN.ReadPreference.primary,G=!!X?.inTransaction();if(G&&!W.equals(yN.ReadPreference.primary))throw new G8.MongoTransactionError(`Read preference in a transaction must be primary, not: ${W.mode}`);if(X?.isPinned&&X.transaction.isCommitted&&!Y.bypassPinningCheck)X.unpin();let K;if(Y.hasAspect(h4.Aspect.MUST_SELECT_SAME_SERVER))K=gN.sameServerSelector(Y.server?.description);else if(Y.trySecondaryWrite)K=gN.secondaryWritableServerSelector(J.commonWireVersion,W);else K=W;const Q=await J.selectServerAsync(K,{session:X});if(X==null)return Y.execute(Q,void 0);if(!Y.hasAspect(h4.Aspect.RETRYABLE))try{return await Y.execute(Q,X)}finally{if(X?.owner!=null&&X.owner===$)await X.endSession().catch(()=>null)}const z=J.s.options.retryReads&&!G&&Y.canRetryRead,H=J.s.options.retryWrites&&!G&&Bz.supportsRetryableWrites(Q)&&Y.canRetryWrite,F=Y.hasAspect(h4.Aspect.READ_OPERATION),q=Y.hasAspect(h4.Aspect.WRITE_OPERATION),V=F&&z||q&&H;if(q&&H)Y.options.willRetryWrite=!0,X.incrementTransactionNumber();try{return await Y.execute(Q,X)}catch(U){if(V&&U instanceof G8.MongoError)return await Ze(Y,U,{session:X,topology:J,selector:K});throw U}finally{if(X?.owner!=null&&X.owner===$)await X.endSession().catch(()=>null)}}async function Ze(Z,Y,{session:J,topology:X,selector:$}){const W=Z.hasAspect(h4.Aspect.WRITE_OPERATION),G=Z.hasAspect(h4.Aspect.READ_OPERATION);if(W&&Y.code===to)throw new G8.MongoServerError({message:bN,errmsg:bN,originalError:Y});if(W&&!G8.isRetryableWriteError(Y))throw Y;if(G&&!G8.isRetryableReadError(Y))throw Y;if(Y instanceof G8.MongoNetworkError&&J.isPinned&&!J.inTransaction()&&Z.hasAspect(h4.Aspect.CURSOR_CREATING))J.unpin({force:!0,forceClear:!0});const K=await X.selectServerAsync($,{session:J});if(W&&!Bz.supportsRetryableWrites(K))throw new G8.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await Z.execute(K,J)}catch(Q){if(Q instanceof G8.MongoError&&Q.hasErrorLabel(G8.MongoErrorLabel.NoWritesPerformed))throw Y;throw Q}}Object.defineProperty(vN,"__esModule",{value:!0});vN.executeOperation=void 0;var G8=r(),yN=S0(),gN=GJ(),Bz=X1(),h4=y1(),to=G8.MONGODB_ERROR_CODES.IllegalOperation,bN="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";vN.executeOperation=oo});var Iz=w((mN)=>{Object.defineProperty(mN,"__esModule",{value:!0});mN.Explain=mN.ExplainVerbosity=void 0;var Ye=r();mN.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});class Dz{constructor(Z){if(typeof Z==="boolean")this.verbosity=Z?mN.ExplainVerbosity.allPlansExecution:mN.ExplainVerbosity.queryPlanner;else this.verbosity=Z}static fromOptions(Z){if(Z?.explain==null)return;const Y=Z.explain;if(typeof Y==="boolean"||typeof Y==="string")return new Dz(Y);throw new Ye.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}}mN.Explain=Dz});var M0=w((lN)=>{Object.defineProperty(lN,"__esModule",{value:!0});lN.CommandOperation=void 0;var Je=r(),Xe=Iz(),$e=T6(),We=GJ(),FJ=X1(),dN=y8(),zZ=y1();class cN extends zZ.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y??{};const J=Y?.dbName||Y?.authdb;if(J)this.ns=new FJ.MongoDBNamespace(J,"$cmd");else this.ns=Z?Z.s.namespace.withCollection("$cmd"):new FJ.MongoDBNamespace("admin","$cmd");if(this.readConcern=$e.ReadConcern.fromOptions(Y),this.writeConcern=dN.WriteConcern.fromOptions(Y),this.hasAspect(zZ.Aspect.EXPLAINABLE))this.explain=Xe.Explain.fromOptions(Y);else if(Y?.explain!=null)throw new Je.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){if(this.hasAspect(zZ.Aspect.EXPLAINABLE))return this.explain==null;return!0}async executeCommand(Z,Y,J){this.server=Z;const X={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:Y},$=FJ.maxWireVersion(Z),W=this.session&&this.session.inTransaction();if(this.readConcern&&FJ.commandSupportsReadConcern(J)&&!W)Object.assign(J,{readConcern:this.readConcern});if(this.trySecondaryWrite&&$<We.MIN_SECONDARY_WRITE_WIRE_VERSION)X.omitReadPreference=!0;if(this.writeConcern&&this.hasAspect(zZ.Aspect.WRITE_OPERATION)&&!W)dN.WriteConcern.apply(J,this.writeConcern);if(X.collation&&typeof X.collation==="object"&&!this.hasAspect(zZ.Aspect.SKIP_COLLATION))Object.assign(J,{collation:X.collation});if(typeof X.maxTimeMS==="number")J.maxTimeMS=X.maxTimeMS;if(this.hasAspect(zZ.Aspect.EXPLAINABLE)&&this.explain)J=FJ.decorateWithExplain(J,this.explain);return Z.commandAsync(this.ns,J,X)}}lN.CommandOperation=cN});var sN=w((nN)=>{Object.defineProperty(nN,"__esModule",{value:!0});nN.ListDatabasesOperation=void 0;var iN=X1(),Ge=M0(),Pz=y1();class Tz extends Ge.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y??{},this.ns=new iN.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){const J={listDatabases:1};if(typeof this.options.nameOnly==="boolean")J.nameOnly=this.options.nameOnly;if(this.options.filter)J.filter=this.options.filter;if(typeof this.options.authorizedDatabases==="boolean")J.authorizedDatabases=this.options.authorizedDatabases;if(iN.maxWireVersion(Z)>=9&&this.options.comment!==void 0)J.comment=this.options.comment;return super.executeCommand(Z,Y,J)}}nN.ListDatabasesOperation=Tz;Pz.defineAspects(Tz,[Pz.Aspect.READ_OPERATION,Pz.Aspect.RETRYABLE])});var Ez=w((tN)=>{Object.defineProperty(tN,"__esModule",{value:!0});tN.RemoveUserOperation=void 0;var Ke=M0(),rN=y1();class jz extends Ke.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J,this.username=Y}async execute(Z,Y){return await super.executeCommand(Z,Y,{dropUser:this.username}),!0}}tN.RemoveUserOperation=jz;rN.defineAspects(jz,[rN.Aspect.WRITE_OPERATION])});var HZ=w((J2)=>{Object.defineProperty(J2,"__esModule",{value:!0});J2.RunAdminCommandOperation=J2.RunCommandOperation=void 0;var Qe=X1(),eN=y1();class Z2 extends eN.AbstractOperation{constructor(Z,Y,J){super(J);this.command=Y,this.options=J,this.ns=Z.s.namespace.withCollection("$cmd")}async execute(Z,Y){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:Y})}}J2.RunCommandOperation=Z2;class Y2 extends eN.AbstractOperation{constructor(Z,Y){super(Y);this.command=Z,this.options=Y,this.ns=new Qe.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:Y})}}J2.RunAdminCommandOperation=Y2});var K2=w((W2)=>{Object.defineProperty(W2,"__esModule",{value:!0});W2.ValidateCollectionOperation=void 0;var Cz=r(),He=M0();class $2 extends He.CommandOperation{constructor(Z,Y,J){const X={validate:Y},$=Object.keys(J);for(let W=0;W<$.length;W++)if(Object.prototype.hasOwnProperty.call(J,$[W])&&$[W]!=="session")X[$[W]]=J[$[W]];super(Z.s.db,J);this.options=J,this.command=X,this.collectionName=Y}async execute(Z,Y){const J=this.collectionName,X=await super.executeCommand(Z,Y,this.command);if(X.result!=null&&typeof X.result!=="string")throw new Cz.MongoUnexpectedServerResponseError("Error with validation data");if(X.result!=null&&X.result.match(/exception|corrupt/)!=null)throw new Cz.MongoUnexpectedServerResponseError(`Invalid collection ${J}`);if(X.valid!=null&&!X.valid)throw new Cz.MongoUnexpectedServerResponseError(`Invalid collection ${J}`);return X}}W2.ValidateCollectionOperation=$2});var Oz=w((z2)=>{Object.defineProperty(z2,"__esModule",{value:!0});z2.Admin=void 0;var Fe=t1(),Y$=g8(),qe=sN(),Ve=Ez(),Ue=HZ(),Le=K2();class Q2{constructor(Z){this.s={db:Z}}async command(Z,Y){return Y$.executeOperation(this.s.db.client,new Ue.RunAdminCommandOperation(Z,{...Fe.resolveBSONOptions(Y),session:Y?.session,readPreference:Y?.readPreference}))}async buildInfo(Z){return this.command({buildinfo:1},Z)}async serverInfo(Z){return this.command({buildinfo:1},Z)}async serverStatus(Z){return this.command({serverStatus:1},Z)}async ping(Z){return this.command({ping:1},Z)}async removeUser(Z,Y){return Y$.executeOperation(this.s.db.client,new Ve.RemoveUserOperation(this.s.db,Z,{dbName:"admin",...Y}))}async validateCollection(Z,Y={}){return Y$.executeOperation(this.s.db.client,new Le.ValidateCollectionOperation(this,Z,Y))}async listDatabases(Z){return Y$.executeOperation(this.s.db.client,new qe.ListDatabasesOperation(this.s.db,Z))}async replSetGetStatus(Z){return this.command({replSetGetStatus:1},Z)}}z2.Admin=Q2});var xz=w((F2)=>{var _z=function(Z,Y){const J={q:Z,limit:typeof Y.limit==="number"?Y.limit:0};if(Y.collation)J.collation=Y.collation;if(Y.hint)J.hint=Y.hint;return J};Object.defineProperty(F2,"__esModule",{value:!0});F2.makeDeleteStatement=F2.DeleteManyOperation=F2.DeleteOneOperation=F2.DeleteOperation=void 0;var qJ=r(),we=M0(),j6=y1();class VJ extends we.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options=J,this.ns=Z,this.statements=Y}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.limit!=null?Z.limit>0:!0)}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={delete:this.ns.collection,deletes:this.statements,ordered:X};if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((G)=>G.hint))throw new qJ.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,Y,$)}}F2.DeleteOperation=VJ;class Sz extends VJ{constructor(Z,Y,J){super(Z.s.namespace,[_z(Y,{...J,limit:1})],J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain)return J;if(J.code)throw new qJ.MongoServerError(J);if(J.writeErrors)throw new qJ.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:J.n}}}F2.DeleteOneOperation=Sz;class kz extends VJ{constructor(Z,Y,J){super(Z.s.namespace,[_z(Y,J)],J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain)return J;if(J.code)throw new qJ.MongoServerError(J);if(J.writeErrors)throw new qJ.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:J.n}}}F2.DeleteManyOperation=kz;F2.makeDeleteStatement=_z;j6.defineAspects(VJ,[j6.Aspect.RETRYABLE,j6.Aspect.WRITE_OPERATION]);j6.defineAspects(Sz,[j6.Aspect.RETRYABLE,j6.Aspect.WRITE_OPERATION,j6.Aspect.EXPLAINABLE,j6.Aspect.SKIP_COLLATION]);j6.defineAspects(kz,[j6.Aspect.WRITE_OPERATION,j6.Aspect.EXPLAINABLE,j6.Aspect.SKIP_COLLATION])});var gz=w((V2)=>{Object.defineProperty(V2,"__esModule",{value:!0});V2.BulkWriteOperation=void 0;var fz=y1();class yz extends fz.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J,this.collection=Z,this.operations=Y}async execute(Z,Y){const J=this.collection,X=this.operations,$={...this.options,...this.bsonOptions,readPreference:this.readPreference},W=$.ordered===!1?J.initializeUnorderedBulkOp($):J.initializeOrderedBulkOp($);for(let K=0;K<X.length;K++)W.raw(X[K]);return await W.execute({...$,session:Y})}}V2.BulkWriteOperation=yz;fz.defineAspects(yz,[fz.Aspect.WRITE_OPERATION])});var bz=w((L2)=>{async function Be(Z,Y,J){if(J==null)J={};const X=J.full==null?!1:J.full,$=await Z.collection(Y).listIndexes(J).toArray();if(X)return $;const W={};for(let G of $)W[G.name]=Object.entries(G.key);return W}var Ne=function(Z,Y,J){if((typeof J.forceServerObjectId==="boolean"?J.forceServerObjectId:Z.s.db.options?.forceServerObjectId)===!0)return Y;return Y.map(($)=>{if($._id==null)$._id=Z.s.pkFactory.createPk();return $})};Object.defineProperty(L2,"__esModule",{value:!0});L2.prepareDocs=L2.indexInformation=void 0;L2.indexInformation=Be;L2.prepareDocs=Ne});var mz=w((M2)=>{Object.defineProperty(M2,"__esModule",{value:!0});M2.InsertManyOperation=M2.InsertOneOperation=M2.InsertOperation=void 0;var J$=r(),Ie=y8(),Pe=gz(),Te=M0(),R2=bz(),Y4=y1();class X$ extends Te.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options={...J,checkKeys:J.checkKeys??!1},this.ns=Z,this.documents=Y}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={insert:this.ns.collection,documents:this.documents,ordered:X};if(typeof J.bypassDocumentValidation==="boolean")$.bypassDocumentValidation=J.bypassDocumentValidation;if(J.comment!==void 0)$.comment=J.comment;return super.executeCommand(Z,Y,$)}}M2.InsertOperation=X$;class vz extends X${constructor(Z,Y,J){super(Z.s.namespace,R2.prepareDocs(Z,[Y],J),J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(J.code)throw new J$.MongoServerError(J);if(J.writeErrors)throw new J$.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,insertedId:this.documents[0]._id}}}M2.InsertOneOperation=vz;class hz extends Y4.AbstractOperation{constructor(Z,Y,J){super(J);if(!Array.isArray(Y))throw new J$.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=J,this.collection=Z,this.docs=Y}async execute(Z,Y){const J=this.collection,X={...this.options,...this.bsonOptions,readPreference:this.readPreference},$=Ie.WriteConcern.fromOptions(X),W=new Pe.BulkWriteOperation(J,R2.prepareDocs(J,this.docs,X).map((G)=>({insertOne:{document:G}})),X);try{const G=await W.execute(Z,Y);return{acknowledged:$?.w!==0,insertedCount:G.insertedCount,insertedIds:G.insertedIds}}catch(G){if(G&&G.message==="Operation must be an object with an operation key")throw new J$.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values");throw G}}}M2.InsertManyOperation=hz;Y4.defineAspects(X$,[Y4.Aspect.RETRYABLE,Y4.Aspect.WRITE_OPERATION]);Y4.defineAspects(vz,[Y4.Aspect.RETRYABLE,Y4.Aspect.WRITE_OPERATION]);Y4.defineAspects(hz,[Y4.Aspect.WRITE_OPERATION])});var pz=w((B2)=>{var $$=function(Z,Y,J){if(Z==null||typeof Z!=="object")throw new E6.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(Y==null||typeof Y!=="object")throw new E6.MongoInvalidArgumentError("Document must be a valid JavaScript object");const X={q:Z,u:Y};if(typeof J.upsert==="boolean")X.upsert=J.upsert;if(J.multi)X.multi=J.multi;if(J.hint)X.hint=J.hint;if(J.arrayFilters)X.arrayFilters=J.arrayFilters;if(J.collation)X.collation=J.collation;return X};Object.defineProperty(B2,"__esModule",{value:!0});B2.makeUpdateStatement=B2.ReplaceOneOperation=B2.UpdateManyOperation=B2.UpdateOneOperation=B2.UpdateOperation=void 0;var E6=r(),uz=X1(),Ce=M0(),c0=y1();class FZ extends Ce.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options=J,this.ns=Z,this.statements=Y}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.multi==null||Z.multi===!1)}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={update:this.ns.collection,updates:this.statements,ordered:X};if(typeof J.bypassDocumentValidation==="boolean")$.bypassDocumentValidation=J.bypassDocumentValidation;if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((G)=>G.hint))throw new E6.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,Y,$)}}B2.UpdateOperation=FZ;class dz extends FZ{constructor(Z,Y,J,X){super(Z.s.namespace,[$$(Y,J,{...X,multi:!1})],X);if(!uz.hasAtomicOperators(J))throw new E6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new E6.MongoServerError(J);if(J.writeErrors)throw new E6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}B2.UpdateOneOperation=dz;class cz extends FZ{constructor(Z,Y,J,X){super(Z.s.namespace,[$$(Y,J,{...X,multi:!0})],X);if(!uz.hasAtomicOperators(J))throw new E6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new E6.MongoServerError(J);if(J.writeErrors)throw new E6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}B2.UpdateManyOperation=cz;class lz extends FZ{constructor(Z,Y,J,X){super(Z.s.namespace,[$$(Y,J,{...X,multi:!1})],X);if(uz.hasAtomicOperators(J))throw new E6.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new E6.MongoServerError(J);if(J.writeErrors)throw new E6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}B2.ReplaceOneOperation=lz;B2.makeUpdateStatement=$$;c0.defineAspects(FZ,[c0.Aspect.RETRYABLE,c0.Aspect.WRITE_OPERATION,c0.Aspect.SKIP_COLLATION]);c0.defineAspects(dz,[c0.Aspect.RETRYABLE,c0.Aspect.WRITE_OPERATION,c0.Aspect.EXPLAINABLE,c0.Aspect.SKIP_COLLATION]);c0.defineAspects(cz,[c0.Aspect.WRITE_OPERATION,c0.Aspect.EXPLAINABLE,c0.Aspect.SKIP_COLLATION]);c0.defineAspects(lz,[c0.Aspect.RETRYABLE,c0.Aspect.WRITE_OPERATION,c0.Aspect.SKIP_COLLATION])});var MJ=w((C2)=>{var Q$=function(Z,Y,J,X){if(J)X=J;else if(X&&X.result)X=X.result;if(X==null)return;if(X.ok===0&&Y.ok===1){Y.ok=0;const W={index:0,code:X.code||0,errmsg:X.message,errInfo:X.errInfo,op:Z.operations[0]};Y.writeErrors.push(new K$(W));return}else if(X.ok===0&&Y.ok===0)return;if(E2(Z)&&X.n)Y.nInserted=Y.nInserted+X.n;if(nz(Z)&&X.n)Y.nRemoved=Y.nRemoved+X.n;let $=0;if(Array.isArray(X.upserted)){$=X.upserted.length;for(let W=0;W<X.upserted.length;W++)Y.upserted.push({index:X.upserted[W].index+Z.originalZeroIndex,_id:X.upserted[W]._id})}else if(X.upserted)$=1,Y.upserted.push({index:Z.originalZeroIndex,_id:X.upserted});if(iz(Z)&&X.n){const W=X.nModified;if(Y.nUpserted=Y.nUpserted+$,Y.nMatched=Y.nMatched+(X.n-$),typeof W==="number")Y.nModified=Y.nModified+W;else Y.nModified=0}if(Array.isArray(X.writeErrors))for(let W=0;W<X.writeErrors.length;W++){const G={index:Z.originalIndexes[X.writeErrors[W].index],code:X.writeErrors[W].code,errmsg:X.writeErrors[W].errmsg,errInfo:X.writeErrors[W].errInfo,op:Z.operations[X.writeErrors[W].index]};Y.writeErrors.push(new K$(G))}if(X.writeConcernError)Y.writeConcernErrors.push(new RJ(X.writeConcernError))},T2=function(Z,Y,J){if(Z.s.batches.length===0)return J(void 0,new u4(Z.s.bulkResult,Z.isOrdered));const X=Z.s.batches.shift();function $(G,K){if(G&&"message"in G&&!(G instanceof k0.MongoWriteConcernError))return J(new qZ(G,new u4(Z.s.bulkResult,Z.isOrdered)));if(G instanceof k0.MongoWriteConcernError)return ge(X,Z.s.bulkResult,Z.isOrdered,G,J);Q$(X,Z.s.bulkResult,G,K);const Q=new u4(Z.s.bulkResult,Z.isOrdered);if(Z.handleWriteError(J,Q))return;T2(Z,Y,J)}const W=m4.resolveOptions(Z,{...Y,ordered:Z.isOrdered});if(W.bypassDocumentValidation!==!0)delete W.bypassDocumentValidation;if(Z.operationId)$.operationId=Z.operationId;if(Z.s.bypassDocumentValidation===!0)W.bypassDocumentValidation=!0;if(Z.s.checkKeys===!1)W.checkKeys=!1;if(W.retryWrites){if(iz(X))W.retryWrites=W.retryWrites&&!X.operations.some((G)=>G.multi);if(nz(X))W.retryWrites=W.retryWrites&&!X.operations.some((G)=>G.limit===0)}try{if(E2(X))G$.executeOperation(Z.s.collection.client,new fe.InsertOperation(Z.s.namespace,X.operations,W),$);else if(iz(X))G$.executeOperation(Z.s.collection.client,new s5.UpdateOperation(Z.s.namespace,X.operations,W),$);else if(nz(X))G$.executeOperation(Z.s.collection.client,new wJ.DeleteOperation(Z.s.namespace,X.operations,W),$)}catch(G){G.ok=0,Q$(X,Z.s.bulkResult,G,void 0),J()}},ge=function(Z,Y,J,X,$){Q$(Z,Y,void 0,X.result),$(new qZ({message:X.result?.writeConcernError.errmsg,code:X.result?.writeConcernError.result},new u4(Y,J)))},I2=function(Z){if(typeof Z.s.options.forceServerObjectId==="boolean")return Z.s.options.forceServerObjectId;if(typeof Z.s.collection.s.db.options?.forceServerObjectId==="boolean")return Z.s.collection.s.db.options?.forceServerObjectId;return!1},E2=function(Z){return Z.batchType===C2.BatchType.INSERT},iz=function(Z){return Z.batchType===C2.BatchType.UPDATE},nz=function(Z){return Z.batchType===C2.BatchType.DELETE},LJ=function(Z){let{currentOp:Y}=Z.s;if(Z.s.currentOp=void 0,!Y)Y={};return Y};Object.defineProperty(C2,"__esModule",{value:!0});C2.BulkOperationBase=C2.FindOperators=C2.MongoBulkWriteError=C2.mergeBatchResults=C2.WriteError=C2.WriteConcernError=C2.BulkWriteResult=C2.Batch=C2.BatchType=void 0;var xe=import.meta.require("util"),W$=t1(),k0=r(),wJ=xz(),G$=g8(),fe=mz(),ye=y1(),s5=pz(),m4=X1(),D2=y8(),UJ=Symbol("serverError");C2.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});class P2{constructor(Z,Y){this.originalZeroIndex=Y,this.currentIndex=0,this.originalIndexes=[],this.batchType=Z,this.operations=[],this.size=0,this.sizeBytes=0}}C2.Batch=P2;class u4{static generateIdMap(Z){const Y={};for(let J of Z)Y[J.index]=J._id;return Y}constructor(Z,Y){this.result=Z,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=u4.generateIdMap(this.result.upserted),this.insertedIds=u4.generateIdMap(this.getSuccessfullyInsertedIds(Z,Y)),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}getSuccessfullyInsertedIds(Z,Y){if(Z.writeErrors.length===0)return Z.insertedIds;if(Y)return Z.insertedIds.slice(0,Z.writeErrors[0].index);return Z.insertedIds.filter(({index:J})=>!Z.writeErrors.some((X)=>J===X.index))}getUpsertedIdAt(Z){return this.result.upserted[Z]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(Z){return Z<this.result.writeErrors.length?this.result.writeErrors[Z]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(this.result.writeConcernErrors.length===0)return;else if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];else{let Z="";for(let Y=0;Y<this.result.writeConcernErrors.length;Y++){const J=this.result.writeConcernErrors[Y];if(Z=Z+J.errmsg,Y===0)Z=Z+" and "}return new RJ({errmsg:Z,code:k0.MONGODB_ERROR_CODES.WriteConcernFailed})}}toString(){return`BulkWriteResult(${this.result})`}isOk(){return this.result.ok===1}}C2.BulkWriteResult=u4;class RJ{constructor(Z){this[UJ]=Z}get code(){return this[UJ].code}get errmsg(){return this[UJ].errmsg}get errInfo(){return this[UJ].errInfo}toJSON(){return this[UJ]}toString(){return`WriteConcernError(${this.errmsg})`}}C2.WriteConcernError=RJ;class K${constructor(Z){this.err=Z}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}}C2.WriteError=K$;C2.mergeBatchResults=Q$;class qZ extends k0.MongoServerError{constructor(Z,Y){super(Z);if(this.writeErrors=[],Z instanceof RJ)this.err=Z;else if(!(Z instanceof Error))this.message=Z.message,this.code=Z.code,this.writeErrors=Z.writeErrors??[];this.result=Y,Object.assign(this,Z)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}}C2.MongoBulkWriteError=qZ;class az{constructor(Z){this.bulkOperation=Z}update(Z){const Y=LJ(this.bulkOperation);return this.bulkOperation.addToOperationsList(C2.BatchType.UPDATE,s5.makeUpdateStatement(Y.selector,Z,{...Y,multi:!0}))}updateOne(Z){if(!m4.hasAtomicOperators(Z))throw new k0.MongoInvalidArgumentError("Update document requires atomic operators");const Y=LJ(this.bulkOperation);return this.bulkOperation.addToOperationsList(C2.BatchType.UPDATE,s5.makeUpdateStatement(Y.selector,Z,{...Y,multi:!1}))}replaceOne(Z){if(m4.hasAtomicOperators(Z))throw new k0.MongoInvalidArgumentError("Replacement document must not use atomic operators");const Y=LJ(this.bulkOperation);return this.bulkOperation.addToOperationsList(C2.BatchType.UPDATE,s5.makeUpdateStatement(Y.selector,Z,{...Y,multi:!1}))}deleteOne(){const Z=LJ(this.bulkOperation);return this.bulkOperation.addToOperationsList(C2.BatchType.DELETE,wJ.makeDeleteStatement(Z.selector,{...Z,limit:1}))}delete(){const Z=LJ(this.bulkOperation);return this.bulkOperation.addToOperationsList(C2.BatchType.DELETE,wJ.makeDeleteStatement(Z.selector,{...Z,limit:0}))}upsert(){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.upsert=!0,this}collation(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.collation=Z,this}arrayFilters(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.arrayFilters=Z,this}hint(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.hint=Z,this}}C2.FindOperators=az;var be=xe.promisify(T2);class j2 extends ye.AbstractOperation{constructor(Z,Y){super(Y);this.bulkOperation=Z}execute(Z,Y){if(this.options.session==null)this.options.session=Y;return be(this.bulkOperation,this.options)}}class sz{constructor(Z,Y,J){this.isOrdered=J;const X=m4.getTopology(Z);Y=Y==null?{}:Y;const $=Z.s.namespace,W=!1,G=void 0,K=X.lastHello(),Q=!!(X.s.options&&X.s.options.autoEncrypter),z=K&&K.maxBsonObjectSize?K.maxBsonObjectSize:16777216,H=Q?2097152:z,F=K&&K.maxWriteBatchSize?K.maxWriteBatchSize:1000,q=(F-1).toString(10).length+2;let V=Object.assign({},Y);V=m4.applyRetryableWrites(V,Z.s.db);const U={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};if(this.s={bulkResult:U,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:D2.WriteConcern.fromOptions(Y),maxBsonObjectSize:z,maxBatchSizeBytes:H,maxWriteBatchSize:F,maxKeySize:q,namespace:$,topology:X,options:V,bsonOptions:W$.resolveBSONOptions(Y),currentOp:G,executed:W,collection:Z,err:void 0,checkKeys:typeof Y.checkKeys==="boolean"?Y.checkKeys:!1},Y.bypassDocumentValidation===!0)this.s.bypassDocumentValidation=!0}insert(Z){if(Z._id==null&&!I2(this))Z._id=new W$.ObjectId;return this.addToOperationsList(C2.BatchType.INSERT,Z)}find(Z){if(!Z)throw new k0.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:Z},new az(this)}raw(Z){if(Z==null||typeof Z!=="object")throw new k0.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in Z){const Y=I2(this);if(Z.insertOne&&Z.insertOne.document==null){if(Y!==!0&&Z.insertOne._id==null)Z.insertOne._id=new W$.ObjectId;return this.addToOperationsList(C2.BatchType.INSERT,Z.insertOne)}if(Y!==!0&&Z.insertOne.document._id==null)Z.insertOne.document._id=new W$.ObjectId;return this.addToOperationsList(C2.BatchType.INSERT,Z.insertOne.document)}if("replaceOne"in Z||"updateOne"in Z||"updateMany"in Z){if("replaceOne"in Z){if("q"in Z.replaceOne)throw new k0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=s5.makeUpdateStatement(Z.replaceOne.filter,Z.replaceOne.replacement,{...Z.replaceOne,multi:!1});if(m4.hasAtomicOperators(Y.u))throw new k0.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(C2.BatchType.UPDATE,Y)}if("updateOne"in Z){if("q"in Z.updateOne)throw new k0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=s5.makeUpdateStatement(Z.updateOne.filter,Z.updateOne.update,{...Z.updateOne,multi:!1});if(!m4.hasAtomicOperators(Y.u))throw new k0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(C2.BatchType.UPDATE,Y)}if("updateMany"in Z){if("q"in Z.updateMany)throw new k0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=s5.makeUpdateStatement(Z.updateMany.filter,Z.updateMany.update,{...Z.updateMany,multi:!0});if(!m4.hasAtomicOperators(Y.u))throw new k0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(C2.BatchType.UPDATE,Y)}}if("deleteOne"in Z){if("q"in Z.deleteOne)throw new k0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(C2.BatchType.DELETE,wJ.makeDeleteStatement(Z.deleteOne.filter,{...Z.deleteOne,limit:1}))}if("deleteMany"in Z){if("q"in Z.deleteMany)throw new k0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(C2.BatchType.DELETE,wJ.makeDeleteStatement(Z.deleteMany.filter,{...Z.deleteMany,limit:0}))}throw new k0.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){const Z=[...this.s.batches];if(this.isOrdered){if(this.s.currentBatch)Z.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)Z.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)Z.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)Z.push(this.s.currentRemoveBatch)}return Z}async execute(Z={}){if(this.s.executed)throw new k0.MongoBatchReExecutionError;const Y=D2.WriteConcern.fromOptions(Z);if(Y)this.s.writeConcern=Y;if(this.isOrdered){if(this.s.currentBatch)this.s.batches.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)this.s.batches.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)this.s.batches.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)this.s.batches.push(this.s.currentRemoveBatch)}if(this.s.batches.length===0)throw new k0.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;const J={...this.s.options,...Z},X=new j2(this,J);return G$.executeOperation(this.s.collection.client,X)}handleWriteError(Z,Y){if(this.s.bulkResult.writeErrors.length>0){const X=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return Z(new qZ({message:X,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},Y)),!0}const J=Y.getWriteConcernError();if(J)return Z(new qZ(J,Y)),!0;return!1}}C2.BulkOperationBase=sz;Object.defineProperty(sz.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}})});var rz=w((_2)=>{Object.defineProperty(_2,"__esModule",{value:!0});_2.OrderedBulkOperation=void 0;var pe=t1(),S2=r(),z$=MJ();class k2 extends z$.BulkOperationBase{constructor(Z,Y){super(Z,Y,!0)}addToOperationsList(Z,Y){const J=pe.calculateObjectSize(Y,{checkKeys:!1,ignoreUndefined:!1});if(J>=this.s.maxBsonObjectSize)throw new S2.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch==null)this.s.currentBatch=new z$.Batch(Z,this.s.currentIndex);const X=this.s.maxKeySize;if(this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+X+J>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new z$.Batch(Z,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0;if(Z===z$.BatchType.INSERT)this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:Y._id});if(Array.isArray(Y))throw new S2.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(Y),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=X+J,this.s.currentIndex+=1,this}}_2.OrderedBulkOperation=k2});var tz=w((g2)=>{Object.defineProperty(g2,"__esModule",{value:!0});g2.UnorderedBulkOperation=void 0;var ie=t1(),f2=r(),J4=MJ();class y2 extends J4.BulkOperationBase{constructor(Z,Y){super(Z,Y,!1)}handleWriteError(Z,Y){if(this.s.batches.length)return!1;return super.handleWriteError(Z,Y)}addToOperationsList(Z,Y){const J=ie.calculateObjectSize(Y,{checkKeys:!1,ignoreUndefined:!1});if(J>=this.s.maxBsonObjectSize)throw new f2.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch=void 0,Z===J4.BatchType.INSERT)this.s.currentBatch=this.s.currentInsertBatch;else if(Z===J4.BatchType.UPDATE)this.s.currentBatch=this.s.currentUpdateBatch;else if(Z===J4.BatchType.DELETE)this.s.currentBatch=this.s.currentRemoveBatch;const X=this.s.maxKeySize;if(this.s.currentBatch==null)this.s.currentBatch=new J4.Batch(Z,this.s.currentIndex);if(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+X+J>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new J4.Batch(Z,this.s.currentIndex);if(Array.isArray(Y))throw new f2.MongoInvalidArgumentError("Operation passed in cannot be an Array");if(this.s.currentBatch.operations.push(Y),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,Z===J4.BatchType.INSERT)this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:Y._id});else if(Z===J4.BatchType.UPDATE)this.s.currentUpdateBatch=this.s.currentBatch;else if(Z===J4.BatchType.DELETE)this.s.currentRemoveBatch=this.s.currentBatch;return this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=X+J,this}}g2.UnorderedBulkOperation=y2});var H$=w((h2)=>{Object.defineProperty(h2,"__esModule",{value:!0});h2.AggregateOperation=h2.DB_AGGREGATE_COLLECTION=void 0;var v2=r(),ne=X1(),ae=y8(),se=M0(),AJ=y1();h2.DB_AGGREGATE_COLLECTION=1;var re=8;class oz extends se.CommandOperation{constructor(Z,Y,J){super(void 0,{...J,dbName:Z.db});if(this.options={...J},this.target=Z.collection||h2.DB_AGGREGATE_COLLECTION,this.pipeline=Y,this.hasWriteStage=!1,typeof J?.out==="string")this.pipeline=this.pipeline.concat({$out:J.out}),this.hasWriteStage=!0;else if(Y.length>0){const X=Y[Y.length-1];if(X.$out||X.$merge)this.hasWriteStage=!0}if(this.hasWriteStage)this.trySecondaryWrite=!0;else delete this.options.writeConcern;if(this.explain&&this.writeConcern)throw new v2.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(J?.cursor!=null&&typeof J.cursor!=="object")throw new v2.MongoInvalidArgumentError("Cursor options must be an object")}get canRetryRead(){return!this.hasWriteStage}addToPipeline(Z){this.pipeline.push(Z)}async execute(Z,Y){const J=this.options,X=ne.maxWireVersion(Z),$={aggregate:this.target,pipeline:this.pipeline};if(this.hasWriteStage&&X<re)this.readConcern=void 0;if(this.hasWriteStage&&this.writeConcern)ae.WriteConcern.apply($,this.writeConcern);if(J.bypassDocumentValidation===!0)$.bypassDocumentValidation=J.bypassDocumentValidation;if(typeof J.allowDiskUse==="boolean")$.allowDiskUse=J.allowDiskUse;if(J.hint)$.hint=J.hint;if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if($.cursor=J.cursor||{},J.batchSize&&!this.hasWriteStage)$.cursor.batchSize=J.batchSize;return super.executeCommand(Z,Y,$)}}h2.AggregateOperation=oz;AJ.defineAspects(oz,[AJ.Aspect.READ_OPERATION,AJ.Aspect.RETRYABLE,AJ.Aspect.EXPLAINABLE,AJ.Aspect.CURSOR_CREATING])});var W6=w((c2)=>{Object.defineProperty(c2,"__esModule",{value:!0});c2.CancellationToken=c2.TypedEventEmitter=void 0;var te=import.meta.require("events");class ez extends te.EventEmitter{emitAndLog(Z,...Y){if(this.emit(Z,...Y),this.component)this.mongoLogger?.debug(this.component,Y[0])}}c2.TypedEventEmitter=ez;class d2 extends ez{}c2.CancellationToken=d2});var JH=w((p2)=>{Object.defineProperty(p2,"__esModule",{value:!0});p2.GetMoreOperation=void 0;var ZH=r(),ee=X1(),F$=y1();class YH extends F$.AbstractOperation{constructor(Z,Y,J,X){super(X);this.options=X,this.ns=Z,this.cursorId=Y,this.server=J}async execute(Z,Y){if(Z!==this.server)throw new ZH.MongoRuntimeError("Getmore must run on the same server operation began on");if(this.cursorId==null||this.cursorId.isZero())throw new ZH.MongoRuntimeError("Unable to iterate cursor with no id");const J=this.ns.collection;if(J==null)throw new ZH.MongoRuntimeError("A collection name must be determined before getMore");const X={getMore:this.cursorId,collection:J};if(typeof this.options.batchSize==="number")X.batchSize=Math.abs(this.options.batchSize);if(typeof this.options.maxAwaitTimeMS==="number")X.maxTimeMS=this.options.maxAwaitTimeMS;if(this.options.comment!==void 0&&ee.maxWireVersion(Z)>=9)X.comment=this.options.comment;const $={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};return Z.commandAsync(this.ns,X,$)}}p2.GetMoreOperation=YH;F$.defineAspects(YH,[F$.Aspect.READ_OPERATION,F$.Aspect.MUST_SELECT_SAME_SERVER])});var r2=w((a2)=>{Object.defineProperty(a2,"__esModule",{value:!0});a2.KillCursorsOperation=void 0;var n2=r(),XH=y1();class $H extends XH.AbstractOperation{constructor(Z,Y,J,X){super(X);this.ns=Y,this.cursorId=Z,this.server=J}async execute(Z,Y){if(Z!==this.server)throw new n2.MongoRuntimeError("Killcursor must run on the same server operation began on");const J=this.ns.collection;if(J==null)throw new n2.MongoRuntimeError("A collection name must be determined before killCursors");const X={killCursors:J,cursors:[this.cursorId]};try{await Z.commandAsync(this.ns,X,{session:Y})}catch{}}}a2.KillCursorsOperation=$H;XH.defineAspects($H,[XH.Aspect.MUST_SELECT_SAME_SERVER])});var WH=w((t2)=>{Object.defineProperty(t2,"__esModule",{value:!0});t2.ConnectionPoolMetrics=void 0;class X4{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(Z){if(Z===X4.TXN)this.txnConnections+=1;else if(Z===X4.CURSOR)this.cursorConnections+=1;else this.otherConnections+=1}markUnpinned(Z){if(Z===X4.TXN)this.txnConnections-=1;else if(Z===X4.CURSOR)this.cursorConnections-=1;else this.otherConnections-=1}info(Z){return"Timed out while checking out a connection from connection pool: "+`maxPoolSize: ${Z}, `+`connections in use by cursors: ${this.cursorConnections}, `+`connections in use by transactions: ${this.txnConnections}, `+`connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}}X4.TXN="txn";X4.CURSOR="cursor";X4.OTHER="other";t2.ConnectionPoolMetrics=X4});var BJ=w((JD)=>{var ZD=function(Z,Y){if(Y?.loadBalanced)return P0.ServerType.LoadBalancer;if(!Z||!Z.ok)return P0.ServerType.Unknown;if(Z.isreplicaset)return P0.ServerType.RSGhost;if(Z.msg&&Z.msg==="isdbgrid")return P0.ServerType.Mongos;if(Z.setName)if(Z.hidden)return P0.ServerType.RSOther;else if(Z.isWritablePrimary)return P0.ServerType.RSPrimary;else if(Z.secondary)return P0.ServerType.RSSecondary;else if(Z.arbiterOnly)return P0.ServerType.RSArbiter;else return P0.ServerType.RSOther;return P0.ServerType.Standalone},X11=function(Z,Y){const J=Object.keys(Z),X=Object.keys(Y);return J.length===X.length&&J.every(($)=>Y[$]===Z[$])},YD=function(Z,Y){if(Z==null||Y==null)return-1;if(!Z.processId.equals(Y.processId))return-1;const J=q$.Long.isLong(Z.counter)?Z.counter:q$.Long.fromNumber(Z.counter),X=q$.Long.isLong(Y.counter)?Y.counter:q$.Long.fromNumber(Y.counter);return J.compare(X)};Object.defineProperty(JD,"__esModule",{value:!0});JD.compareTopologyVersion=JD.parseServerType=JD.ServerDescription=void 0;var q$=t1(),Z11=r(),VZ=X1(),P0=P6(),Y11=new Set([P0.ServerType.RSPrimary,P0.ServerType.Standalone,P0.ServerType.Mongos,P0.ServerType.LoadBalancer]),J11=new Set([P0.ServerType.RSPrimary,P0.ServerType.RSSecondary,P0.ServerType.Mongos,P0.ServerType.Standalone,P0.ServerType.LoadBalancer]);class e2{constructor(Z,Y,J={}){if(Z==null||Z==="")throw new Z11.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof Z==="string"?VZ.HostAddress.fromString(Z).toString():Z.toString(),this.type=ZD(Y,J),this.hosts=Y?.hosts?.map((X)=>X.toLowerCase())??[],this.passives=Y?.passives?.map((X)=>X.toLowerCase())??[],this.arbiters=Y?.arbiters?.map((X)=>X.toLowerCase())??[],this.tags=Y?.tags??{},this.minWireVersion=Y?.minWireVersion??0,this.maxWireVersion=Y?.maxWireVersion??0,this.roundTripTime=J?.roundTripTime??-1,this.lastUpdateTime=VZ.now(),this.lastWriteDate=Y?.lastWrite?.lastWriteDate??0,this.error=J.error??null,this.topologyVersion=this.error?.topologyVersion??Y?.topologyVersion??null,this.setName=Y?.setName??null,this.setVersion=Y?.setVersion??null,this.electionId=Y?.electionId??null,this.logicalSessionTimeoutMinutes=Y?.logicalSessionTimeoutMinutes??null,this.primary=Y?.primary??null,this.me=Y?.me?.toLowerCase()??null,this.$clusterTime=Y?.$clusterTime??null}get hostAddress(){return VZ.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===P0.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return J11.has(this.type)}get isWritable(){return Y11.has(this.type)}get host(){const Z=`:${this.port}`.length;return this.address.slice(0,-Z)}get port(){const Z=this.address.split(":").pop();return Z?Number.parseInt(Z,10):27017}equals(Z){const Y=this.topologyVersion===Z?.topologyVersion||YD(this.topologyVersion,Z?.topologyVersion)===0,J=this.electionId!=null&&Z?.electionId!=null?VZ.compareObjectId(this.electionId,Z.electionId)===0:this.electionId===Z?.electionId;return Z!=null&&VZ.errorStrictEqual(this.error,Z.error)&&this.type===Z.type&&this.minWireVersion===Z.minWireVersion&&VZ.arrayStrictEqual(this.hosts,Z.hosts)&&X11(this.tags,Z.tags)&&this.setName===Z.setName&&this.setVersion===Z.setVersion&&J&&this.primary===Z.primary&&this.logicalSessionTimeoutMinutes===Z.logicalSessionTimeoutMinutes&&Y}}JD.ServerDescription=e2;JD.parseServerType=ZD;JD.compareTopologyVersion=YD});var KH=w((zD)=>{var H11=function(Z){switch(Z){case N1.ServerType.Standalone:return N1.TopologyType.Single;case N1.ServerType.Mongos:return N1.TopologyType.Sharded;case N1.ServerType.RSPrimary:return N1.TopologyType.ReplicaSetWithPrimary;case N1.ServerType.RSOther:case N1.ServerType.RSSecondary:return N1.TopologyType.ReplicaSetNoPrimary;default:return N1.TopologyType.Unknown}},QD=function(Z,Y,J=null,X=null,$=null){if(J=J||Y.setName,J!==Y.setName)return Z.delete(Y.address),[r5(Z),J,X,$];if(Y.maxWireVersion>=17){const K=GH.compareObjectId($,Y.electionId),Q=K===0,z=K===-1,H=(X??-1)<=(Y.setVersion??-1);if(z||Q&&H)$=Y.electionId,X=Y.setVersion;else return Z.set(Y.address,new d4.ServerDescription(Y.address)),[r5(Z),J,X,$]}else{const K=Y.electionId?Y.electionId:null;if(Y.setVersion&&K){if(X&&$){if(X>Y.setVersion||GH.compareObjectId($,K)>0)return Z.set(Y.address,new d4.ServerDescription(Y.address)),[r5(Z),J,X,$]}$=Y.electionId}if(Y.setVersion!=null&&(X==null||Y.setVersion>X))X=Y.setVersion}for(let[K,Q]of Z)if(Q.type===N1.ServerType.RSPrimary&&Q.address!==Y.address){Z.set(K,new d4.ServerDescription(Q.address));break}Y.allHosts.forEach((K)=>{if(!Z.has(K))Z.set(K,new d4.ServerDescription(K))});const W=Array.from(Z.keys()),G=Y.allHosts;return W.filter((K)=>G.indexOf(K)===-1).forEach((K)=>{Z.delete(K)}),[r5(Z),J,X,$]},F11=function(Z,Y,J=null){if(J==null)throw new G11.MongoRuntimeError('Argument "setName" is required if connected to a replica set');if(J!==Y.setName||Y.me&&Y.address!==Y.me)Z.delete(Y.address);return r5(Z)},q11=function(Z,Y,J=null){const X=N1.TopologyType.ReplicaSetNoPrimary;if(J=J??Y.setName,J!==Y.setName)return Z.delete(Y.address),[X,J];if(Y.allHosts.forEach(($)=>{if(!Z.has($))Z.set($,new d4.ServerDescription($))}),Y.me&&Y.address!==Y.me)Z.delete(Y.address);return[X,J]},r5=function(Z){for(let Y of Z.values())if(Y.type===N1.ServerType.RSPrimary)return N1.TopologyType.ReplicaSetWithPrimary;return N1.TopologyType.ReplicaSetNoPrimary};Object.defineProperty(zD,"__esModule",{value:!0});zD.TopologyDescription=void 0;var V$=a5(),G11=r(),GH=X1(),N1=P6(),d4=BJ(),K11=V$.MIN_SUPPORTED_SERVER_VERSION,Q11=V$.MAX_SUPPORTED_SERVER_VERSION,$D=V$.MIN_SUPPORTED_WIRE_VERSION,WD=V$.MAX_SUPPORTED_WIRE_VERSION,z11=new Set([N1.ServerType.Mongos,N1.ServerType.Unknown]),GD=new Set([N1.ServerType.Mongos,N1.ServerType.Standalone]),KD=new Set([N1.ServerType.RSSecondary,N1.ServerType.RSArbiter,N1.ServerType.RSOther]);class NJ{constructor(Z,Y=null,J=null,X=null,$=null,W=null,G=null){G=G??{},this.type=Z??N1.TopologyType.Unknown,this.servers=Y??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=G.heartbeatFrequencyMS??0,this.localThresholdMS=G.localThresholdMS??15,this.setName=J??null,this.maxElectionId=$??null,this.maxSetVersion=X??null,this.commonWireVersion=W??0;for(let K of this.servers.values()){if(K.type===N1.ServerType.Unknown||K.type===N1.ServerType.LoadBalancer)continue;if(K.minWireVersion>WD)this.compatible=!1,this.compatibilityError=`Server at ${K.address} requires wire version ${K.minWireVersion}, but this version of the driver only supports up to ${WD} (MongoDB ${Q11})`;if(K.maxWireVersion<$D){this.compatible=!1,this.compatibilityError=`Server at ${K.address} reports wire version ${K.maxWireVersion}, but this version of the driver requires at least ${$D} (MongoDB ${K11}).`;break}}this.logicalSessionTimeoutMinutes=null;for(let[,K]of this.servers)if(K.isReadable){if(K.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=K.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,K.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(Z,Y=0){const J=Z.hostnames(),X=new Set(this.servers.keys()),$=new Set(J),W=new Set;for(let K of X)if($.delete(K),!J.has(K))W.add(K);if($.size===0&&W.size===0)return this;const G=new Map(this.servers);for(let K of W)G.delete(K);if($.size>0){if(Y===0)for(let K of $)G.set(K,new d4.ServerDescription(K));else if(G.size<Y){const K=GH.shuffle($,Y-G.size);for(let Q of K)G.set(Q,new d4.ServerDescription(Q))}}return new NJ(this.type,G,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(Z){const Y=Z.address;let{type:J,setName:X,maxSetVersion:$,maxElectionId:W,commonWireVersion:G}=this;const K=Z.type,Q=new Map(this.servers);if(Z.maxWireVersion!==0)if(G==null)G=Z.maxWireVersion;else G=Math.min(G,Z.maxWireVersion);if(typeof Z.setName==="string"&&typeof X==="string"&&Z.setName!==X)if(J===N1.TopologyType.Single)Z=new d4.ServerDescription(Y);else Q.delete(Y);if(Q.set(Y,Z),J===N1.TopologyType.Single)return new NJ(N1.TopologyType.Single,Q,X,$,W,G,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(J===N1.TopologyType.Unknown)if(K===N1.ServerType.Standalone&&this.servers.size!==1)Q.delete(Y);else J=H11(K);if(J===N1.TopologyType.Sharded){if(!z11.has(K))Q.delete(Y)}if(J===N1.TopologyType.ReplicaSetNoPrimary){if(GD.has(K))Q.delete(Y);if(K===N1.ServerType.RSPrimary){const z=QD(Q,Z,X,$,W);J=z[0],X=z[1],$=z[2],W=z[3]}else if(KD.has(K)){const z=q11(Q,Z,X);J=z[0],X=z[1]}}if(J===N1.TopologyType.ReplicaSetWithPrimary)if(GD.has(K))Q.delete(Y),J=r5(Q);else if(K===N1.ServerType.RSPrimary){const z=QD(Q,Z,X,$,W);J=z[0],X=z[1],$=z[2],W=z[3]}else if(KD.has(K))J=F11(Q,Z,X);else J=r5(Q);return new NJ(J,Q,X,$,W,G,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){const Z=Array.from(this.servers.values()).filter((Y)=>Y.error);if(Z.length>0)return Z[0].error;return null}get hasKnownServers(){return Array.from(this.servers.values()).some((Z)=>Z.type!==N1.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some((Z)=>Z.isDataBearing)}hasServer(Z){return this.servers.has(Z)}}zD.TopologyDescription=NJ});var zH=w((qD)=>{var L11=function(Z){let Y=Z?.readPreference??QH.ReadPreference.primary;if(Z?.readPreference)Y=Z.readPreference;if(typeof Y==="string")Y=QH.ReadPreference.fromString(Y);if(!(Y instanceof QH.ReadPreference))throw new V11.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return Y},w11=function(Z){if(Z==null)return!1;if(Z.description&&Z.description.type===FD.ServerType.Mongos)return!0;if(Z.description&&Z.description instanceof U11.TopologyDescription)return Array.from(Z.description.servers.values()).some((J)=>J.type===FD.ServerType.Mongos);return!1};Object.defineProperty(qD,"__esModule",{value:!0});qD.isSharded=qD.getReadPreference=void 0;var V11=r(),QH=S0(),FD=P6(),U11=KH();qD.getReadPreference=L11;qD.isSharded=w11});var HH=w((wD)=>{var P11=function(Z){return!!(Z.commitTransaction||Z.abortTransaction)};Object.defineProperty(wD,"__esModule",{value:!0});wD.isTransactionCommand=wD.Transaction=wD.TxnState=void 0;var UD=r(),M11=T6(),A11=S0(),B11=y8();wD.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});var N11={[wD.TxnState.NO_TRANSACTION]:[wD.TxnState.NO_TRANSACTION,wD.TxnState.STARTING_TRANSACTION],[wD.TxnState.STARTING_TRANSACTION]:[wD.TxnState.TRANSACTION_IN_PROGRESS,wD.TxnState.TRANSACTION_COMMITTED,wD.TxnState.TRANSACTION_COMMITTED_EMPTY,wD.TxnState.TRANSACTION_ABORTED],[wD.TxnState.TRANSACTION_IN_PROGRESS]:[wD.TxnState.TRANSACTION_IN_PROGRESS,wD.TxnState.TRANSACTION_COMMITTED,wD.TxnState.TRANSACTION_ABORTED],[wD.TxnState.TRANSACTION_COMMITTED]:[wD.TxnState.TRANSACTION_COMMITTED,wD.TxnState.TRANSACTION_COMMITTED_EMPTY,wD.TxnState.STARTING_TRANSACTION,wD.TxnState.NO_TRANSACTION],[wD.TxnState.TRANSACTION_ABORTED]:[wD.TxnState.STARTING_TRANSACTION,wD.TxnState.NO_TRANSACTION],[wD.TxnState.TRANSACTION_COMMITTED_EMPTY]:[wD.TxnState.TRANSACTION_COMMITTED_EMPTY,wD.TxnState.NO_TRANSACTION]},D11=new Set([wD.TxnState.STARTING_TRANSACTION,wD.TxnState.TRANSACTION_IN_PROGRESS]),I11=new Set([wD.TxnState.TRANSACTION_COMMITTED,wD.TxnState.TRANSACTION_COMMITTED_EMPTY,wD.TxnState.TRANSACTION_ABORTED]);class LD{constructor(Z){Z=Z??{},this.state=wD.TxnState.NO_TRANSACTION,this.options={};const Y=B11.WriteConcern.fromOptions(Z);if(Y){if(Y.w===0)throw new UD.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=Y}if(Z.readConcern)this.options.readConcern=M11.ReadConcern.fromOptions(Z);if(Z.readPreference)this.options.readPreference=A11.ReadPreference.fromOptions(Z);if(Z.maxCommitTimeMS)this.options.maxTimeMS=Z.maxCommitTimeMS;this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===wD.TxnState.STARTING_TRANSACTION}get isActive(){return D11.has(this.state)}get isCommitted(){return I11.has(this.state)}transition(Z){const Y=N11[this.state];if(Y&&Y.includes(Z)){if(this.state=Z,this.state===wD.TxnState.NO_TRANSACTION||this.state===wD.TxnState.STARTING_TRANSACTION||this.state===wD.TxnState.TRANSACTION_ABORTED)this.unpinServer();return}throw new UD.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${Z}]`)}pinServer(Z){if(this.isActive)this._pinnedServer=Z}unpinServer(){this._pinnedServer=void 0}}wD.Transaction=LD;wD.isTransactionCommand=P11});var IJ=w((ED)=>{var TD=function(Z,Y){return Y7.calculateDurationInMs(Z)<Y},x11=function(Z){const Y=Z instanceof q1.MongoServerError&&Z.codeName&&_11.has(Z.codeName);return A$(Z)||!Y&&Z.code!==q1.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&Z.code!==q1.MONGODB_ERROR_CODES.UnknownReplWriteConcern},M$=function(Z,Y){const J=Z[LZ],X=Y?.error;if(Z.inTransaction()&&X&&X instanceof q1.MongoError&&X.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError))return;const $=Z.client.topology;if(J&&$!=null){const G=Array.from($.s.servers.values())[0];if(Y?.error==null||Y?.force){if(G.pool.checkIn(J),J.emit(ID.UNPINNED,Z.transaction.state!==X0.TxnState.NO_TRANSACTION?L$.ConnectionPoolMetrics.TXN:L$.ConnectionPoolMetrics.CURSOR),Y?.forceClear)G.pool.clear({serviceId:J.serviceId})}Z[LZ]=void 0}},A$=function(Z){if(Z==null||!(Z instanceof q1.MongoServerError))return!1;return Z.code===q1.MONGODB_ERROR_CODES.MaxTimeMSExpired||Z.writeConcernError&&Z.writeConcernError.code===q1.MONGODB_ERROR_CODES.MaxTimeMSExpired},jD=function(Z,Y,J,X,$){return Z.commitTransaction().then(()=>X,(W)=>{if(W instanceof q1.MongoError&&TD(Y,PD)&&!A$(W)){if(W.hasErrorLabel(q1.MongoErrorLabel.UnknownTransactionCommitResult))return jD(Z,Y,J,X,$);if(W.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError))return VH(Z,Y,J,$)}throw W})},y11=function(Z){return f11.has(Z.transaction.state)},VH=function(Z,Y,J,X={}){Z.startTransaction(X);let $;try{$=J(Z)}catch(W){$=Promise.reject(W)}if(!Y7.isPromiseLike($))return Z.abortTransaction().catch(()=>null),Promise.reject(new q1.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise"));return $.then((W)=>{if(y11(Z))return W;return jD(Z,Y,J,W,X)},(W)=>{function G(K){if(K instanceof q1.MongoError&&K.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError)&&TD(Y,PD))return VH(Z,Y,J,X);if(A$(K))K.addErrorLabel(q1.MongoErrorLabel.UnknownTransactionCommitResult);throw K}if(Z.inTransaction())return Z.abortTransaction().then(()=>G(W));return G(W)})},g11=function(Z,Y,J){const X=Z.transaction.state;if(X===X0.TxnState.NO_TRANSACTION){J(new q1.MongoTransactionError("No transaction started"));return}if(Y==="commitTransaction"){if(X===X0.TxnState.STARTING_TRANSACTION||X===X0.TxnState.TRANSACTION_COMMITTED_EMPTY){Z.transaction.transition(X0.TxnState.TRANSACTION_COMMITTED_EMPTY),J();return}if(X===X0.TxnState.TRANSACTION_ABORTED){J(new q1.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(X===X0.TxnState.STARTING_TRANSACTION){Z.transaction.transition(X0.TxnState.TRANSACTION_ABORTED),J();return}if(X===X0.TxnState.TRANSACTION_ABORTED){J(new q1.MongoTransactionError("Cannot call abortTransaction twice"));return}if(X===X0.TxnState.TRANSACTION_COMMITTED||X===X0.TxnState.TRANSACTION_COMMITTED_EMPTY){J(new q1.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}const $={[Y]:1};let W;if(Z.transaction.options.writeConcern)W=Object.assign({},Z.transaction.options.writeConcern);else if(Z.clientOptions&&Z.clientOptions.writeConcern)W={w:Z.clientOptions.writeConcern.w};if(X===X0.TxnState.TRANSACTION_COMMITTED)W=Object.assign({wtimeoutMS:1e4},W,{w:"majority"});if(W)S11.WriteConcern.apply($,W);if(Y==="commitTransaction"&&Z.transaction.options.maxTimeMS)Object.assign($,{maxTimeMS:Z.transaction.options.maxTimeMS});function G(K){if(Y!=="commitTransaction"){if(Z.transaction.transition(X0.TxnState.TRANSACTION_ABORTED),Z.loadBalanced)M$(Z,{force:!1});return J()}if(Z.transaction.transition(X0.TxnState.TRANSACTION_COMMITTED),K instanceof q1.MongoError){if(K.hasErrorLabel(q1.MongoErrorLabel.RetryableWriteError)||K instanceof q1.MongoWriteConcernError||A$(K)){if(x11(K))K.addErrorLabel(q1.MongoErrorLabel.UnknownTransactionCommitResult),Z.unpin({error:K})}else if(K.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError))Z.unpin({error:K})}J(K)}if(Z.transaction.recoveryToken)$.recoveryToken=Z.transaction.recoveryToken;MD.executeOperation(Z.client,new AD.RunAdminCommandOperation($,{session:Z,readPreference:BD.ReadPreference.primary,bypassPinningCheck:!0}),(K)=>{if($.abortTransaction)Z.unpin();if(K instanceof q1.MongoError&&K.hasErrorLabel(q1.MongoErrorLabel.RetryableWriteError)){if($.commitTransaction)Z.unpin({force:!0}),$.writeConcern=Object.assign({wtimeout:1e4},$.writeConcern,{w:"majority"});return MD.executeOperation(Z.client,new AD.RunAdminCommandOperation($,{session:Z,readPreference:BD.ReadPreference.primary,bypassPinningCheck:!0}),G)}G(K)})},b11=function(Z,Y,J){if(Z.hasEnded)return new q1.MongoExpiredSessionError;const X=Z.serverSession;if(X==null)return new q1.MongoRuntimeError("Unable to acquire server session");if(J.writeConcern?.w===0){if(Z&&Z.explicit)return new q1.MongoAPIError("Cannot have explicit session with unacknowledged writes");return}X.lastUse=Y7.now(),Y.lsid=X.id;const $=Z.inTransaction()||X0.isTransactionCommand(Y);if(!!J.willRetryWrite||$)X.txnNumber+=Z[R$],Z[R$]=0,Y.txnNumber=U$.Long.fromNumber(X.txnNumber);if(!$){if(Z.transaction.state!==X0.TxnState.NO_TRANSACTION)Z.transaction.transition(X0.TxnState.NO_TRANSACTION);if(Z.supports.causalConsistency&&Z.operationTime&&Y7.commandSupportsReadConcern(Y))Y.readConcern=Y.readConcern||{},Object.assign(Y.readConcern,{afterClusterTime:Z.operationTime});else if(Z[wZ]){if(Y.readConcern=Y.readConcern||{level:O11.ReadConcernLevel.snapshot},Z[w$]!=null)Object.assign(Y.readConcern,{atClusterTime:Z[w$]})}return}if(Y.autocommit=!1,Z.transaction.state===X0.TxnState.STARTING_TRANSACTION){Z.transaction.transition(X0.TxnState.TRANSACTION_IN_PROGRESS),Y.startTransaction=!0;const G=Z.transaction.options.readConcern||Z?.clientOptions?.readConcern;if(G)Y.readConcern=G;if(Z.supports.causalConsistency&&Z.operationTime)Y.readConcern=Y.readConcern||{},Object.assign(Y.readConcern,{afterClusterTime:Z.operationTime})}return},v11=function(Z,Y){if(Y.$clusterTime)FH._advanceClusterTime(Z,Y.$clusterTime);if(Y.operationTime&&Z&&Z.supports.causalConsistency)Z.advanceOperationTime(Y.operationTime);if(Y.recoveryToken&&Z&&Z.inTransaction())Z.transaction._recoveryToken=Y.recoveryToken;if(Z?.[wZ]&&Z[w$]==null){const J=Y.cursor?.atClusterTime||Y.atClusterTime;if(J)Z[w$]=J}},DD;Object.defineProperty(ED,"__esModule",{value:!0});ED.updateSessionFromResponse=ED.applySession=ED.ServerSessionPool=ED.ServerSession=ED.maybeClearPinnedConnection=ED.ClientSession=void 0;var j11=import.meta.require("util"),U$=t1(),L$=WH(),E11=zH(),ID=b0(),q1=r(),C11=W6(),MD=g8(),AD=HZ(),O11=T6(),BD=S0(),FH=P6(),X0=HH(),Y7=X1(),S11=y8(),k11=8,UZ=Symbol("serverSession"),w$=Symbol("snapshotTime"),wZ=Symbol("snapshotEnabled"),LZ=Symbol("pinnedConnection"),R$=Symbol("txnNumberIncrement");class qH extends C11.TypedEventEmitter{constructor(Z,Y,J,X){super();if(this[DD]=!1,Z==null)throw new q1.MongoRuntimeError("ClientSession requires a MongoClient");if(Y==null||!(Y instanceof UH))throw new q1.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(J=J??{},J.snapshot===!0){if(this[wZ]=!0,J.causalConsistency===!0)throw new q1.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive')}this.client=Z,this.sessionPool=Y,this.hasEnded=!1,this.clientOptions=X,this.explicit=!!J.explicit,this[UZ]=this.explicit?this.sessionPool.acquire():null,this[R$]=0;const $=this.explicit&&J.snapshot!==!0;this.supports={causalConsistency:J.causalConsistency??$},this.clusterTime=J.initialClusterTime,this.operationTime=void 0,this.owner=J.owner,this.defaultTransactionOptions=Object.assign({},J.defaultTransactionOptions),this.transaction=new X0.Transaction}get id(){return this[UZ]?.id}get serverSession(){let Z=this[UZ];if(Z==null){if(this.explicit)throw new q1.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new q1.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");Z=this.sessionPool.acquire(),this[UZ]=Z}return Z}get snapshotEnabled(){return this[wZ]}get loadBalanced(){return this.client.topology?.description.type===FH.TopologyType.LoadBalanced}get pinnedConnection(){return this[LZ]}pin(Z){if(this[LZ])throw TypeError("Cannot pin multiple connections to the same session");this[LZ]=Z,Z.emit(ID.PINNED,this.inTransaction()?L$.ConnectionPoolMetrics.TXN:L$.ConnectionPoolMetrics.CURSOR)}unpin(Z){if(this.loadBalanced)return M$(this,Z);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[LZ]:this.transaction.isPinned}async endSession(Z){try{if(this.inTransaction())await this.abortTransaction();if(!this.hasEnded){const Y=this[UZ];if(Y!=null)this.sessionPool.release(Y),Object.defineProperty(this,UZ,{value:DJ.clone(Y),writable:!1});this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{M$(this,{force:!0,...Z})}}advanceOperationTime(Z){if(this.operationTime==null){this.operationTime=Z;return}if(Z.greaterThan(this.operationTime))this.operationTime=Z}advanceClusterTime(Z){if(!Z||typeof Z!=="object")throw new q1.MongoInvalidArgumentError("input cluster time must be an object");if(!Z.clusterTime||Z.clusterTime._bsontype!=="Timestamp")throw new q1.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!Z.signature||Z.signature.hash?._bsontype!=="Binary"||typeof Z.signature.keyId!=="bigint"&&typeof Z.signature.keyId!=="number"&&Z.signature.keyId?._bsontype!=="Long")throw new q1.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');FH._advanceClusterTime(this,Z)}equals(Z){if(!(Z instanceof qH))return!1;if(this.id==null||Z.id==null)return!1;return Y7.ByteUtils.equals(this.id.id.buffer,Z.id.id.buffer)}incrementTransactionNumber(){this[R$]+=1}inTransaction(){return this.transaction.isActive}startTransaction(Z){if(this[wZ])throw new q1.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new q1.MongoTransactionError("Transaction already in progress");if(this.isPinned&&this.transaction.isCommitted)this.unpin();const Y=Y7.maxWireVersion(this.client.topology);if(E11.isSharded(this.client.topology)&&Y!=null&&Y<k11)throw new q1.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new X0.Transaction({readConcern:Z?.readConcern??this.defaultTransactionOptions.readConcern??this.clientOptions?.readConcern,writeConcern:Z?.writeConcern??this.defaultTransactionOptions.writeConcern??this.clientOptions?.writeConcern,readPreference:Z?.readPreference??this.defaultTransactionOptions.readPreference??this.clientOptions?.readPreference,maxCommitTimeMS:Z?.maxCommitTimeMS??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(X0.TxnState.STARTING_TRANSACTION)}async commitTransaction(){return ND(this,"commitTransaction")}async abortTransaction(){return ND(this,"abortTransaction")}toBSON(){throw new q1.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(Z,Y){const J=Y7.now();return VH(this,J,Z,Y)}}ED.ClientSession=qH;DD=wZ;var PD=120000,_11=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);ED.maybeClearPinnedConnection=M$;var f11=new Set([X0.TxnState.NO_TRANSACTION,X0.TxnState.TRANSACTION_COMMITTED,X0.TxnState.TRANSACTION_ABORTED]),ND=j11.promisify(g11);class DJ{constructor(){this.id={id:new U$.Binary(Y7.uuidV4(),U$.Binary.SUBTYPE_UUID)},this.lastUse=Y7.now(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(Z){return Math.round(Y7.calculateDurationInMs(this.lastUse)%86400000%3600000/60000)>Z-1}static clone(Z){const Y=new ArrayBuffer(16),J=Buffer.from(Y);J.set(Z.id.id.buffer);const X=new U$.Binary(J,Z.id.id.sub_type);return Object.setPrototypeOf({id:{id:X},lastUse:Z.lastUse,txnNumber:Z.txnNumber,isDirty:Z.isDirty},DJ.prototype)}}ED.ServerSession=DJ;class UH{constructor(Z){if(Z==null)throw new q1.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=Z,this.sessions=new Y7.List}acquire(){const Z=this.client.topology?.logicalSessionTimeoutMinutes??10;let Y=null;while(this.sessions.length>0){const J=this.sessions.shift();if(J!=null&&(!!this.client.topology?.loadBalanced||!J.hasTimedOut(Z))){Y=J;break}}if(Y==null)Y=new DJ;return Y}release(Z){const Y=this.client.topology?.logicalSessionTimeoutMinutes??10;if(this.client.topology?.loadBalanced&&!Y)this.sessions.unshift(Z);if(!Y)return;if(this.sessions.prune((J)=>J.hasTimedOut(Y)),!Z.hasTimedOut(Y)){if(Z.isDirty)return;this.sessions.unshift(Z)}}}ED.ServerSessionPool=UH;ED.applySession=b11;ED.updateSessionFromResponse=v11});var W4=w((fD)=>{async function D$(Z,{blocking:Y,transform:J}){if(Z.closed)return null;do{if(Z[K8]==null)await Z[xD]();if(Z[Q8].length!==0){const $=Z[Q8].shift();if($!=null&&J&&Z[jJ])try{return Z[jJ]($)}catch(W){throw await c4(Z,{error:W,needsToEmitClosed:!0}).catch(()=>null),W}return $}if(Z.isDead)return await c4(Z,{}),null;const X=Z[v0].batchSize||1000;try{const $=await Z.getMore(X);if($){const W=typeof $.cursor.id==="number"?J7.Long.fromNumber($.cursor.id):typeof $.cursor.id==="bigint"?J7.Long.fromBigInt($.cursor.id):$.cursor.id;Z[Q8].pushMany($.cursor.nextBatch),Z[K8]=W}}catch($){throw await c4(Z,{error:$}).catch(()=>null),$}if(Z.isDead)await c4(Z,{});if(Z[Q8].length===0&&Y===!1)return null}while(!Z.isDead||Z[Q8].length!==0);return null}async function c4(Z,Y){const J=Z[K8],X=Z[PJ],$=Z[N$],W=Z[$4],G=Y?.error,K=Y?.needsToEmitClosed??Z[Q8].length===0;if(G){if(Z.loadBalanced&&G instanceof G6.MongoNetworkError)return Q()}if(J==null||$==null||J.isZero()||X==null){if(K)Z[t5]=!0,Z[K8]=J7.Long.ZERO,Z.emit(AZ.CLOSE);if(W){if(W.owner===Z){await W.endSession({error:G});return}if(!W.inTransaction())LH.maybeClearPinnedConnection(W,{error:G})}return}async function Q(){if(W){if(W.owner===Z){try{await W.endSession({error:G})}finally{Z.emit(AZ.CLOSE)}return}if(!W.inTransaction())LH.maybeClearPinnedConnection(W,{error:G})}Z.emit(AZ.CLOSE);return}if(Z[TJ]=!0,W.hasEnded)return Q();try{await _D.executeOperation(Z[RZ],new i11.KillCursorsOperation(J,X,$,{session:W})).catch(()=>null)}finally{await Q()}}var o5=function(Z){if(Z[MZ])throw new G6.MongoCursorInUseError};Object.defineProperty(fD,"__esModule",{value:!0});fD.assertUninitialized=fD.AbstractCursor=fD.CURSOR_FLAGS=void 0;var kD=import.meta.require("stream"),J7=t1(),G6=r(),l11=W6(),_D=g8(),p11=JH(),i11=r2(),OD=T6(),B$=S0(),LH=IJ(),SD=X1(),K8=Symbol("id"),Q8=Symbol("documents"),N$=Symbol("server"),PJ=Symbol("namespace"),RZ=Symbol("client"),$4=Symbol("session"),v0=Symbol("options"),jJ=Symbol("transform"),MZ=Symbol("initialized"),t5=Symbol("closed"),TJ=Symbol("killed"),xD=Symbol("kInit");fD.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class AZ extends l11.TypedEventEmitter{constructor(Z,Y,J={}){super();if(!Z.s.isMongoClient)throw new G6.MongoRuntimeError("Cursor must be constructed with MongoClient");this[RZ]=Z,this[PJ]=Y,this[K8]=null,this[Q8]=new SD.List,this[MZ]=!1,this[t5]=!1,this[TJ]=!1,this[v0]={readPreference:J.readPreference&&J.readPreference instanceof B$.ReadPreference?J.readPreference:B$.ReadPreference.primary,...J7.pluckBSONSerializeOptions(J)};const X=OD.ReadConcern.fromOptions(J);if(X)this[v0].readConcern=X;if(typeof J.batchSize==="number")this[v0].batchSize=J.batchSize;if(J.comment!==void 0)this[v0].comment=J.comment;if(typeof J.maxTimeMS==="number")this[v0].maxTimeMS=J.maxTimeMS;if(typeof J.maxAwaitTimeMS==="number")this[v0].maxAwaitTimeMS=J.maxAwaitTimeMS;if(J.session instanceof LH.ClientSession)this[$4]=J.session;else this[$4]=this[RZ].startSession({owner:this,explicit:!1})}get id(){return this[K8]??void 0}get isDead(){return(this[K8]?.isZero()??!1)||this[t5]||this[TJ]}get client(){return this[RZ]}get server(){return this[N$]}get namespace(){return this[PJ]}get readPreference(){return this[v0].readPreference}get readConcern(){return this[v0].readConcern}get session(){return this[$4]}set session(Z){this[$4]=Z}get cursorOptions(){return this[v0]}get closed(){return this[t5]}get killed(){return this[TJ]}get loadBalanced(){return!!this[RZ].topology?.loadBalanced}bufferedCount(){return this[Q8].length}readBufferedDocuments(Z){const Y=[],J=Math.min(Z??this[Q8].length,this[Q8].length);for(let X=0;X<J;X++){const $=this[Q8].shift();if($!=null)Y.push($)}return Y}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0){const Z=await this.next();if(Z===null){if(!this.closed)throw await c4(this,{needsToEmitClosed:!0}).catch(()=>null),new G6.MongoAPIError("Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.");break}if(yield Z,this[K8]===J7.Long.ZERO)break}}finally{if(!this.closed)await this.close().catch(()=>null)}}stream(Z){if(Z?.transform){const Y=Z.transform;return new wH(this).pipe(new kD.Transform({objectMode:!0,highWaterMark:1,transform(X,$,W){try{const G=Y(X);W(void 0,G)}catch(G){W(G)}}}))}return new wH(this)}async hasNext(){if(this[K8]===J7.Long.ZERO)return!1;if(this[Q8].length!==0)return!0;const Z=await D$(this,{blocking:!0,transform:!1});if(Z)return this[Q8].unshift(Z),!0;return!1}async next(){if(this[K8]===J7.Long.ZERO)throw new G6.MongoCursorExhaustedError;return D$(this,{blocking:!0,transform:!0})}async tryNext(){if(this[K8]===J7.Long.ZERO)throw new G6.MongoCursorExhaustedError;return D$(this,{blocking:!1,transform:!0})}async forEach(Z){if(typeof Z!=="function")throw new G6.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(let Y of this)if(Z(Y)===!1)break}async close(){const Z=!this[t5];this[t5]=!0,await c4(this,{needsToEmitClosed:Z})}async toArray(){const Z=[];for await(let Y of this)Z.push(Y);return Z}addCursorFlag(Z,Y){if(o5(this),!fD.CURSOR_FLAGS.includes(Z))throw new G6.MongoInvalidArgumentError(`Flag ${Z} is not one of ${fD.CURSOR_FLAGS}`);if(typeof Y!=="boolean")throw new G6.MongoInvalidArgumentError(`Flag ${Z} must be a boolean value`);return this[v0][Z]=Y,this}map(Z){o5(this);const Y=this[jJ];if(Y)this[jJ]=(J)=>{return Z(Y(J))};else this[jJ]=Z;return this}withReadPreference(Z){if(o5(this),Z instanceof B$.ReadPreference)this[v0].readPreference=Z;else if(typeof Z==="string")this[v0].readPreference=B$.ReadPreference.fromString(Z);else throw new G6.MongoInvalidArgumentError(`Invalid read preference: ${Z}`);return this}withReadConcern(Z){o5(this);const Y=OD.ReadConcern.fromOptions({readConcern:Z});if(Y)this[v0].readConcern=Y;return this}maxTimeMS(Z){if(o5(this),typeof Z!=="number")throw new G6.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[v0].maxTimeMS=Z,this}batchSize(Z){if(o5(this),this[v0].tailable)throw new G6.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof Z!=="number")throw new G6.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[v0].batchSize=Z,this}rewind(){if(!this[MZ])return;this[K8]=null,this[Q8].clear(),this[t5]=!1,this[TJ]=!1,this[MZ]=!1;const Z=this[$4];if(Z){if(Z.explicit===!1){if(!Z.hasEnded)Z.endSession().catch(()=>null);this[$4]=this.client.startSession({owner:this,explicit:!1})}}}async getMore(Z){const Y=new p11.GetMoreOperation(this[PJ],this[K8],this[N$],{...this[v0],session:this[$4],batchSize:Z});return _D.executeOperation(this[RZ],Y)}async[xD](){try{const Z=await this._initialize(this[$4]),Y=Z.response;if(this[N$]=Z.server,Y.cursor){if(this[K8]=typeof Y.cursor.id==="number"?J7.Long.fromNumber(Y.cursor.id):typeof Y.cursor.id==="bigint"?J7.Long.fromBigInt(Y.cursor.id):Y.cursor.id,Y.cursor.ns)this[PJ]=SD.ns(Y.cursor.ns);this[Q8].pushMany(Y.cursor.firstBatch)}if(this[K8]==null)this[K8]=J7.Long.ZERO,this[Q8].push(Z.response);this[MZ]=!0}catch(Z){throw this[MZ]=!0,await c4(this,{error:Z}),Z}if(this.isDead)await c4(this,void 0);return}}AZ.CLOSE="close";fD.AbstractCursor=AZ;fD.assertUninitialized=o5;class wH extends kD.Readable{constructor(Z){super({objectMode:!0,autoDestroy:!1,highWaterMark:1});this._readInProgress=!1,this._cursor=Z}_read(Z){if(!this._readInProgress)this._readInProgress=!0,this._readNext()}_destroy(Z,Y){this._cursor.close().then(()=>Y(Z),(J)=>Y(J))}_readNext(){D$(this._cursor,{blocking:!0,transform:!0}).then((Z)=>{if(Z==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(Z))return this._readNext();this._readInProgress=!1}},(Z)=>{if(Z.message.match(/server is closed/))return this._cursor.close().catch(()=>null),this.push(null);if(Z.message.match(/operation was interrupted/))return this.push(null);return this.destroy(Z)})}}});var EJ=w((vD)=>{Object.defineProperty(vD,"__esModule",{value:!0});vD.AggregationCursor=void 0;var gD=H$(),bD=g8(),a11=X1(),C6=W4(),z8=Symbol("pipeline"),I$=Symbol("options");class MH extends C6.AbstractCursor{constructor(Z,Y,J=[],X={}){super(Z,Y,X);this[z8]=J,this[I$]=X}get pipeline(){return this[z8]}clone(){const Z=a11.mergeOptions({},this[I$]);return delete Z.session,new MH(this.client,this.namespace,this[z8],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const Y=new gD.AggregateOperation(this.namespace,this[z8],{...this[I$],...this.cursorOptions,session:Z}),J=await bD.executeOperation(this.client,Y);return{server:Y.server,session:Z,response:J}}async explain(Z){return bD.executeOperation(this.client,new gD.AggregateOperation(this.namespace,this[z8],{...this[I$],...this.cursorOptions,explain:Z??!0}))}group(Z){return C6.assertUninitialized(this),this[z8].push({$group:Z}),this}limit(Z){return C6.assertUninitialized(this),this[z8].push({$limit:Z}),this}match(Z){return C6.assertUninitialized(this),this[z8].push({$match:Z}),this}out(Z){return C6.assertUninitialized(this),this[z8].push({$out:Z}),this}project(Z){return C6.assertUninitialized(this),this[z8].push({$project:Z}),this}lookup(Z){return C6.assertUninitialized(this),this[z8].push({$lookup:Z}),this}redact(Z){return C6.assertUninitialized(this),this[z8].push({$redact:Z}),this}skip(Z){return C6.assertUninitialized(this),this[z8].push({$skip:Z}),this}sort(Z){return C6.assertUninitialized(this),this[z8].push({$sort:Z}),this}unwind(Z){return C6.assertUninitialized(this),this[z8].push({$unwind:Z}),this}geoNear(Z){return C6.assertUninitialized(this),this[z8].push({$geoNear:Z}),this}}vD.AggregationCursor=MH});var NH=w((mD)=>{Object.defineProperty(mD,"__esModule",{value:!0});mD.CountOperation=void 0;var s11=M0(),AH=y1();class BH extends s11.CommandOperation{constructor(Z,Y,J){super({s:{namespace:Z}},J);this.options=J,this.collectionName=Z.collection,this.query=Y}async execute(Z,Y){const J=this.options,X={count:this.collectionName,query:this.query};if(typeof J.limit==="number")X.limit=J.limit;if(typeof J.skip==="number")X.skip=J.skip;if(J.hint!=null)X.hint=J.hint;if(typeof J.maxTimeMS==="number")X.maxTimeMS=J.maxTimeMS;const $=await super.executeCommand(Z,Y,X);return $?$.n:0}}mD.CountOperation=BH;AH.defineAspects(BH,[AH.Aspect.READ_OPERATION,AH.Aspect.RETRYABLE])});var P$=w((cD)=>{var BZ=function(Z=1){const Y=`${Z}`.toLowerCase();if(r11(Z))return Z;switch(Y){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new dD.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(Z)}`)}},r11=function(Z){return typeof Z==="object"&&Z!=null&&"$meta"in Z&&typeof Z.$meta==="string"},t11=function(Z){if(Array.isArray(Z)&&Z.length===2)try{return BZ(Z[1]),!0}catch(Y){return!1}return!1},o11=function(Z){return Array.isArray(Z)&&Array.isArray(Z[0])},e11=function(Z){return Z instanceof Map&&Z.size>0},Z01=function(Z){return new Map([[`${Z[0]}`,BZ([Z[1]])]])},Y01=function(Z){const Y=Z.map(([J,X])=>[`${J}`,BZ(X)]);return new Map(Y)},J01=function(Z){const Y=Z.map((J)=>[`${J}`,1]);return new Map(Y)},X01=function(Z){const Y=Object.entries(Z).map(([J,X])=>[`${J}`,BZ(X)]);return new Map(Y)},$01=function(Z){const Y=Array.from(Z).map(([J,X])=>[`${J}`,BZ(X)]);return new Map(Y)},W01=function(Z,Y){if(Z==null)return;if(typeof Z==="string")return new Map([[Z,BZ(Y)]]);if(typeof Z!=="object")throw new dD.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(Z)} Sort must be a valid object`);if(!Array.isArray(Z))return e11(Z)?$01(Z):Object.keys(Z).length?X01(Z):void 0;if(!Z.length)return;if(o11(Z))return Y01(Z);if(t11(Z))return Z01(Z);return J01(Z)};Object.defineProperty(cD,"__esModule",{value:!0});cD.formatSort=void 0;var dD=r();cD.formatSort=W01});var aD=w((iD)=>{var H01=function(Z,Y,J){const X={find:Z.collection,filter:Y};if(J.sort)X.sort=Q01.formatSort(J.sort);if(J.projection){let W=J.projection;if(W&&Array.isArray(W))W=W.length?W.reduce((G,K)=>{return G[K]=1,G},{}):{_id:1};X.projection=W}if(J.hint)X.hint=pD.normalizeHintField(J.hint);if(typeof J.skip==="number")X.skip=J.skip;if(typeof J.limit==="number")if(J.limit<0)X.limit=-J.limit,X.singleBatch=!0;else X.limit=J.limit;if(typeof J.batchSize==="number")if(J.batchSize<0){if(J.limit&&J.limit!==0&&Math.abs(J.batchSize)<Math.abs(J.limit))X.limit=-J.batchSize;X.singleBatch=!0}else X.batchSize=J.batchSize;if(typeof J.singleBatch==="boolean")X.singleBatch=J.singleBatch;if(J.comment!==void 0)X.comment=J.comment;if(typeof J.maxTimeMS==="number")X.maxTimeMS=J.maxTimeMS;const $=K01.ReadConcern.fromOptions(J);if($)X.readConcern=$.toJSON();if(J.max)X.max=J.max;if(J.min)X.min=J.min;if(typeof J.returnKey==="boolean")X.returnKey=J.returnKey;if(typeof J.showRecordId==="boolean")X.showRecordId=J.showRecordId;if(typeof J.tailable==="boolean")X.tailable=J.tailable;if(typeof J.oplogReplay==="boolean")X.oplogReplay=J.oplogReplay;if(typeof J.timeout==="boolean")X.noCursorTimeout=!J.timeout;else if(typeof J.noCursorTimeout==="boolean")X.noCursorTimeout=J.noCursorTimeout;if(typeof J.awaitData==="boolean")X.awaitData=J.awaitData;if(typeof J.allowPartialResults==="boolean")X.allowPartialResults=J.allowPartialResults;if(J.collation)X.collation=J.collation;if(typeof J.allowDiskUse==="boolean")X.allowDiskUse=J.allowDiskUse;if(J.let)X.let=J.let;return X};Object.defineProperty(iD,"__esModule",{value:!0});iD.FindOperation=void 0;var G01=r(),K01=T6(),Q01=P$(),pD=X1(),z01=M0(),CJ=y1();class DH extends z01.CommandOperation{constructor(Z,Y,J={},X={}){super(Z,X);if(this.options={...X},delete this.options.writeConcern,this.ns=Y,typeof J!=="object"||Array.isArray(J))throw new G01.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=J!=null&&J._bsontype==="ObjectId"?{_id:J}:J}async execute(Z,Y){this.server=Z;const J=this.options;let X=H01(this.ns,this.filter,J);if(this.explain)X=pD.decorateWithExplain(X,this.explain);return Z.commandAsync(this.ns,X,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:Y})}}iD.FindOperation=DH;CJ.defineAspects(DH,[CJ.Aspect.READ_OPERATION,CJ.Aspect.RETRYABLE,CJ.Aspect.EXPLAINABLE,CJ.Aspect.CURSOR_CREATING])});var jH=w((tD)=>{Object.defineProperty(tD,"__esModule",{value:!0});tD.FindCursor=tD.FLAGS=void 0;var F01=t1(),X7=r(),q01=NH(),IH=g8(),sD=aD(),PH=P$(),rD=X1(),p0=W4(),e5=Symbol("filter"),T$=Symbol("numReturned"),j1=Symbol("builtOptions");tD.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class TH extends p0.AbstractCursor{constructor(Z,Y,J={},X={}){super(Z,Y,X);if(this[e5]=J,this[j1]=X,X.sort!=null)this[j1].sort=PH.formatSort(X.sort)}clone(){const Z=rD.mergeOptions({},this[j1]);return delete Z.session,new TH(this.client,this.namespace,this[e5],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const Y=new sD.FindOperation(void 0,this.namespace,this[e5],{...this[j1],...this.cursorOptions,session:Z}),J=await IH.executeOperation(this.client,Y);return this[T$]=J.cursor?.firstBatch?.length,{server:Y.server,session:Z,response:J}}async getMore(Z){const Y=this[T$];if(Y){const X=this[j1].limit;if(Z=X&&X>0&&Y+Z>X?X-Y:Z,Z<=0)return await this.close().catch(()=>null),{cursor:{id:F01.Long.ZERO,nextBatch:[]}}}const J=await super.getMore(Z);if(J)this[T$]=this[T$]+J.cursor.nextBatch.length;return J}async count(Z){if(rD.emitWarningOnce("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof Z==="boolean")throw new X7.MongoInvalidArgumentError("Invalid first parameter to count");return IH.executeOperation(this.client,new q01.CountOperation(this.namespace,this[e5],{...this[j1],...this.cursorOptions,...Z}))}async explain(Z){return IH.executeOperation(this.client,new sD.FindOperation(void 0,this.namespace,this[e5],{...this[j1],...this.cursorOptions,explain:Z??!0}))}filter(Z){return p0.assertUninitialized(this),this[e5]=Z,this}hint(Z){return p0.assertUninitialized(this),this[j1].hint=Z,this}min(Z){return p0.assertUninitialized(this),this[j1].min=Z,this}max(Z){return p0.assertUninitialized(this),this[j1].max=Z,this}returnKey(Z){return p0.assertUninitialized(this),this[j1].returnKey=Z,this}showRecordId(Z){return p0.assertUninitialized(this),this[j1].showRecordId=Z,this}addQueryModifier(Z,Y){if(p0.assertUninitialized(this),Z[0]!=="$")throw new X7.MongoInvalidArgumentError(`${Z} is not a valid query modifier`);switch(Z.substr(1)){case"comment":this[j1].comment=Y;break;case"explain":this[j1].explain=Y;break;case"hint":this[j1].hint=Y;break;case"max":this[j1].max=Y;break;case"maxTimeMS":this[j1].maxTimeMS=Y;break;case"min":this[j1].min=Y;break;case"orderby":this[j1].sort=PH.formatSort(Y);break;case"query":this[e5]=Y;break;case"returnKey":this[j1].returnKey=Y;break;case"showDiskLoc":this[j1].showRecordId=Y;break;default:throw new X7.MongoInvalidArgumentError(`Invalid query modifier: ${Z}`)}return this}comment(Z){return p0.assertUninitialized(this),this[j1].comment=Z,this}maxAwaitTimeMS(Z){if(p0.assertUninitialized(this),typeof Z!=="number")throw new X7.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[j1].maxAwaitTimeMS=Z,this}maxTimeMS(Z){if(p0.assertUninitialized(this),typeof Z!=="number")throw new X7.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[j1].maxTimeMS=Z,this}project(Z){return p0.assertUninitialized(this),this[j1].projection=Z,this}sort(Z,Y){if(p0.assertUninitialized(this),this[j1].tailable)throw new X7.MongoTailableCursorError("Tailable cursor does not support sorting");return this[j1].sort=PH.formatSort(Z,Y),this}allowDiskUse(Z=!0){if(p0.assertUninitialized(this),!this[j1].sort)throw new X7.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');if(!Z)return this[j1].allowDiskUse=!1,this;return this[j1].allowDiskUse=!0,this}collation(Z){return p0.assertUninitialized(this),this[j1].collation=Z,this}limit(Z){if(p0.assertUninitialized(this),this[j1].tailable)throw new X7.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof Z!=="number")throw new X7.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[j1].limit=Z,this}skip(Z){if(p0.assertUninitialized(this),this[j1].tailable)throw new X7.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof Z!=="number")throw new X7.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[j1].skip=Z,this}}tD.FindCursor=TH});var OJ=w((JI)=>{var w01=function(Z){return typeof Z==="number"||Z==="2d"||Z==="2dsphere"||Z==="text"||Z==="geoHaystack"},R01=function(Z){return Array.isArray(Z)&&Z.length===2&&w01(Z[1])},M01=function(Z,Y){const J=new Map,X=!Array.isArray(Z)||R01(Z)?[Z]:Z;for(let $ of X)if(typeof $==="string")J.set($,1);else if(Array.isArray($))J.set($[0],$[1]??1);else if($ instanceof Map)for(let[W,G]of $)J.set(W,G);else if(CH.isObject($))for(let[W,G]of Object.entries($))J.set(W,G);return{...Y,key:J}};Object.defineProperty(JI,"__esModule",{value:!0});JI.IndexInformationOperation=JI.IndexExistsOperation=JI.ListIndexesOperation=JI.DropIndexOperation=JI.EnsureIndexOperation=JI.CreateIndexOperation=JI.CreateIndexesOperation=JI.IndexesOperation=void 0;var EH=r(),U01=S0(),CH=X1(),OH=M0(),SH=bz(),R8=y1(),L01=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);class eD extends R8.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,X=this.options;return SH.indexInformation(J.s.db,J.collectionName,{full:!0,...X,readPreference:this.readPreference,session:Y})}}JI.IndexesOperation=eD;class j$ extends OH.CommandOperation{constructor(Z,Y,J,X){super(Z,X);this.options=X??{},this.collectionName=Y,this.indexes=J.map(($)=>{const W=$.key instanceof Map?$.key:new Map(Object.entries($.key)),G=$.name!=null?$.name:Array.from(W).flat().join("_");return{...Object.fromEntries(Object.entries({...$}).filter(([Q])=>L01.has(Q))),name:G,key:W}})}async execute(Z,Y){const J=this.options,X=this.indexes,$=CH.maxWireVersion(Z),W={createIndexes:this.collectionName,indexes:X};if(J.commitQuorum!=null){if($<9)throw new EH.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4");W.commitQuorum=J.commitQuorum}return this.options.collation=void 0,await super.executeCommand(Z,Y,W),X.map((K)=>K.name||"")}}JI.CreateIndexesOperation=j$;class E$ extends j${constructor(Z,Y,J,X){super(Z,Y,[M01(J,X)],X)}async execute(Z,Y){return(await super.execute(Z,Y))[0]}}JI.CreateIndexOperation=E$;class kH extends E${constructor(Z,Y,J,X){super(Z,Y,J,X);this.readPreference=U01.ReadPreference.primary,this.db=Z,this.collectionName=Y}async execute(Z,Y){const J=this.indexes[0].name,X=await this.db.collection(this.collectionName).listIndexes({session:Y}).toArray().catch(($)=>{if($ instanceof EH.MongoError&&$.code===EH.MONGODB_ERROR_CODES.NamespaceNotFound)return[];throw $});if(J&&X.some(($)=>$.name===J))return J;return super.execute(Z,Y)}}JI.EnsureIndexOperation=kH;class _H extends OH.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J??{},this.collection=Z,this.indexName=Y}async execute(Z,Y){const J={dropIndexes:this.collection.collectionName,index:this.indexName};return super.executeCommand(Z,Y,J)}}JI.DropIndexOperation=_H;class xH extends OH.CommandOperation{constructor(Z,Y){super(Z,Y);this.options={...Y},delete this.options.writeConcern,this.collectionNamespace=Z.s.namespace}async execute(Z,Y){const J=CH.maxWireVersion(Z),X=this.options.batchSize?{batchSize:this.options.batchSize}:{},$={listIndexes:this.collectionNamespace.collection,cursor:X};if(J>=9&&this.options.comment!==void 0)$.comment=this.options.comment;return super.executeCommand(Z,Y,$)}}JI.ListIndexesOperation=xH;class ZI extends R8.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J,this.collection=Z,this.indexes=Y}async execute(Z,Y){const J=this.collection,X=this.indexes,$=await SH.indexInformation(J.s.db,J.collectionName,{...this.options,readPreference:this.readPreference,session:Y});if(!Array.isArray(X))return $[X]!=null;return X.every((W)=>$[W]!=null)}}JI.IndexExistsOperation=ZI;class YI extends R8.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J??{},this.db=Z,this.name=Y}async execute(Z,Y){const J=this.db,X=this.name;return SH.indexInformation(J,X,{...this.options,readPreference:this.readPreference,session:Y})}}JI.IndexInformationOperation=YI;R8.defineAspects(xH,[R8.Aspect.READ_OPERATION,R8.Aspect.RETRYABLE,R8.Aspect.CURSOR_CREATING]);R8.defineAspects(j$,[R8.Aspect.WRITE_OPERATION]);R8.defineAspects(E$,[R8.Aspect.WRITE_OPERATION]);R8.defineAspects(kH,[R8.Aspect.WRITE_OPERATION]);R8.defineAspects(_H,[R8.Aspect.WRITE_OPERATION])});var yH=w(($I)=>{Object.defineProperty($I,"__esModule",{value:!0});$I.ListIndexesCursor=void 0;var j01=g8(),E01=OJ(),C01=W4();class fH extends C01.AbstractCursor{constructor(Z,Y){super(Z.client,Z.s.namespace,Y);this.parent=Z,this.options=Y}clone(){return new fH(this.parent,{...this.options,...this.cursorOptions})}async _initialize(Z){const Y=new E01.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:Z}),J=await j01.executeOperation(this.parent.client,Y);return{server:Y.server,session:Z,response:J}}}$I.ListIndexesCursor=fH});var zI=w((KI)=>{Object.defineProperty(KI,"__esModule",{value:!0});KI.ListSearchIndexesCursor=void 0;var O01=EJ();class GI extends O01.AggregationCursor{constructor({fullNamespace:Z,client:Y},J,X={}){const $=J==null?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:J}}];super(Y,Z,$,X)}}KI.ListSearchIndexesCursor=GI});var VI=w((FI)=>{Object.defineProperty(FI,"__esModule",{value:!0});FI.CountDocumentsOperation=void 0;var S01=H$();class HI extends S01.AggregateOperation{constructor(Z,Y,J){const X=[];if(X.push({$match:Y}),typeof J.skip==="number")X.push({$skip:J.skip});if(typeof J.limit==="number")X.push({$limit:J.limit});X.push({$group:{_id:1,n:{$sum:1}}});super(Z.s.namespace,X,J)}async execute(Z,Y){const X=await super.execute(Z,Y);if(X.cursor==null||X.cursor.firstBatch==null)return 0;const $=X.cursor.firstBatch;return $.length?$[0].n:0}}FI.CountDocumentsOperation=HI});var RI=w((LI)=>{Object.defineProperty(LI,"__esModule",{value:!0});LI.DistinctOperation=void 0;var UI=X1(),k01=M0(),C$=y1();class gH extends k01.CommandOperation{constructor(Z,Y,J,X){super(Z,X);this.options=X??{},this.collection=Z,this.key=Y,this.query=J}async execute(Z,Y){const J=this.collection,X=this.key,$=this.query,W=this.options,G={distinct:J.collectionName,key:X,query:$};if(typeof W.maxTimeMS==="number")G.maxTimeMS=W.maxTimeMS;if(typeof W.comment!=="undefined")G.comment=W.comment;UI.decorateWithReadConcern(G,J,W),UI.decorateWithCollation(G,J,W);const K=await super.executeCommand(Z,Y,G);return this.explain?K:K.values}}LI.DistinctOperation=gH;C$.defineAspects(gH,[C$.Aspect.READ_OPERATION,C$.Aspect.RETRYABLE,C$.Aspect.EXPLAINABLE])});var vH=w((BI)=>{Object.defineProperty(BI,"__esModule",{value:!0});BI.DropDatabaseOperation=BI.DropCollectionOperation=void 0;var MI=r(),AI=M0(),O$=y1();class S$ extends AI.CommandOperation{constructor(Z,Y,J={}){super(Z,J);this.db=Z,this.options=J,this.name=Y}async execute(Z,Y){const J=this.db,X=this.options,$=this.name,W=J.client.options.autoEncryption?.encryptedFieldsMap;let G=X.encryptedFields??W?.[`${J.databaseName}.${$}`];if(!G&&W)G=(await J.listCollections({name:$},{nameOnly:!1}).toArray())?.[0]?.options?.encryptedFields;if(G){const K=G.escCollection||`enxcol_.${$}.esc`,Q=G.ecocCollection||`enxcol_.${$}.ecoc`;for(let z of[K,Q]){const H=new S$(J,z);try{await H.executeWithoutEncryptedFieldsCheck(Z,Y)}catch(F){if(!(F instanceof MI.MongoServerError)||F.code!==MI.MONGODB_ERROR_CODES.NamespaceNotFound)throw F}}}return this.executeWithoutEncryptedFieldsCheck(Z,Y)}async executeWithoutEncryptedFieldsCheck(Z,Y){return await super.executeCommand(Z,Y,{drop:this.name}),!0}}BI.DropCollectionOperation=S$;class bH extends AI.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){return await super.executeCommand(Z,Y,{dropDatabase:1}),!0}}BI.DropDatabaseOperation=bH;O$.defineAspects(S$,[O$.Aspect.WRITE_OPERATION]);O$.defineAspects(bH,[O$.Aspect.WRITE_OPERATION])});var PI=w((DI)=>{Object.defineProperty(DI,"__esModule",{value:!0});DI.EstimatedDocumentCountOperation=void 0;var x01=M0(),k$=y1();class hH extends x01.CommandOperation{constructor(Z,Y={}){super(Z,Y);this.options=Y,this.collectionName=Z.collectionName}async execute(Z,Y){const J={count:this.collectionName};if(typeof this.options.maxTimeMS==="number")J.maxTimeMS=this.options.maxTimeMS;if(this.options.comment!==void 0)J.comment=this.options.comment;return(await super.executeCommand(Z,Y,J))?.n||0}}DI.EstimatedDocumentCountOperation=hH;k$.defineAspects(hH,[k$.Aspect.READ_OPERATION,k$.Aspect.RETRYABLE,k$.Aspect.CURSOR_CREATING])});var mH=w((OI)=>{var TI=function(Z,Y){if(Z.new=Y.returnDocument===OI.ReturnDocument.AFTER,Z.upsert=Y.upsert===!0,Y.bypassDocumentValidation===!0)Z.bypassDocumentValidation=Y.bypassDocumentValidation;return Z};Object.defineProperty(OI,"__esModule",{value:!0});OI.FindOneAndUpdateOperation=OI.FindOneAndReplaceOperation=OI.FindOneAndDeleteOperation=OI.ReturnDocument=void 0;var l4=r(),f01=S0(),y01=P$(),x$=X1(),g01=M0(),_$=y1();OI.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});class SJ extends g01.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J??{},this.cmdBase={remove:!1,new:!1,upsert:!1},J.includeResultMetadata??=!1;const X=y01.formatSort(J.sort);if(X)this.cmdBase.sort=X;if(J.projection)this.cmdBase.fields=J.projection;if(J.maxTimeMS)this.cmdBase.maxTimeMS=J.maxTimeMS;if(J.writeConcern)this.cmdBase.writeConcern=J.writeConcern;if(J.let)this.cmdBase.let=J.let;if(J.comment!==void 0)this.cmdBase.comment=J.comment;this.readPreference=f01.ReadPreference.primary,this.collection=Z,this.query=Y}async execute(Z,Y){const J=this.collection,X=this.query,$={...this.options,...this.bsonOptions},W={findAndModify:J.collectionName,query:X,...this.cmdBase};try{x$.decorateWithCollation(W,J,$)}catch(K){return K}if($.hint){if(this.writeConcern?.w===0||x$.maxWireVersion(Z)<8)throw new l4.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands");W.hint=$.hint}const G=await super.executeCommand(Z,Y,W);return $.includeResultMetadata?G:G.value??null}}class jI extends SJ{constructor(Z,Y,J){if(Y==null||typeof Y!=="object")throw new l4.MongoInvalidArgumentError('Argument "filter" must be an object');super(Z,Y,J);this.cmdBase.remove=!0}}OI.FindOneAndDeleteOperation=jI;class EI extends SJ{constructor(Z,Y,J,X){if(Y==null||typeof Y!=="object")throw new l4.MongoInvalidArgumentError('Argument "filter" must be an object');if(J==null||typeof J!=="object")throw new l4.MongoInvalidArgumentError('Argument "replacement" must be an object');if(x$.hasAtomicOperators(J))throw new l4.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(Z,Y,X);this.cmdBase.update=J,TI(this.cmdBase,X)}}OI.FindOneAndReplaceOperation=EI;class CI extends SJ{constructor(Z,Y,J,X){if(Y==null||typeof Y!=="object")throw new l4.MongoInvalidArgumentError('Argument "filter" must be an object');if(J==null||typeof J!=="object")throw new l4.MongoInvalidArgumentError('Argument "update" must be an object');if(!x$.hasAtomicOperators(J))throw new l4.MongoInvalidArgumentError("Update document requires atomic operators");super(Z,Y,X);if(this.cmdBase.update=J,TI(this.cmdBase,X),X.arrayFilters)this.cmdBase.arrayFilters=X.arrayFilters}}OI.FindOneAndUpdateOperation=CI;_$.defineAspects(SJ,[_$.Aspect.WRITE_OPERATION,_$.Aspect.RETRYABLE,_$.Aspect.EXPLAINABLE])});var yI=w((xI)=>{Object.defineProperty(xI,"__esModule",{value:!0});xI.IsCappedOperation=void 0;var h01=r(),m01=y1();class _I extends m01.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,[X]=await J.s.db.listCollections({name:J.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:Y}).toArray();if(X==null||X.options==null)throw new h01.MongoAPIError(`collection ${J.namespace} not found`);return!!X.options?.capped}}xI.IsCappedOperation=_I});var hI=w((bI)=>{Object.defineProperty(bI,"__esModule",{value:!0});bI.OptionsOperation=void 0;var u01=r(),d01=y1();class gI extends d01.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,[X]=await J.s.db.listCollections({name:J.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:Y}).toArray();if(X==null||X.options==null)throw new u01.MongoAPIError(`collection ${J.namespace} not found`);return X.options}}bI.OptionsOperation=gI});var dH=w((uI)=>{Object.defineProperty(uI,"__esModule",{value:!0});uI.RenameOperation=void 0;var c01=Z9(),l01=X1(),p01=M0(),mI=y1();class uH extends p01.CommandOperation{constructor(Z,Y,J){super(Z,J);this.collection=Z,this.newName=Y,this.options=J,this.ns=new l01.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){const J=this.collection.namespace,X=this.collection.s.namespace.withCollection(this.newName).toString(),$=typeof this.options.dropTarget==="boolean"?this.options.dropTarget:!1,W={renameCollection:J,to:X,dropTarget:$};return await super.executeCommand(Z,Y,W),new c01.Collection(this.collection.s.db,this.newName,this.collection.s.options)}}uI.RenameOperation=uH;mI.defineAspects(uH,[mI.Aspect.WRITE_OPERATION])});var iI=w((lI)=>{Object.defineProperty(lI,"__esModule",{value:!0});lI.CreateSearchIndexesOperation=void 0;var i01=y1();class cI extends i01.AbstractOperation{constructor(Z,Y){super();this.collection=Z,this.descriptions=Y}async execute(Z,Y){const J=this.collection.fullNamespace,X={createSearchIndexes:J.collection,indexes:this.descriptions};return((await Z.commandAsync(J,X,{session:Y}))?.indexesCreated??[]).map(({name:G})=>G)}}lI.CreateSearchIndexesOperation=cI});var tI=w((sI)=>{Object.defineProperty(sI,"__esModule",{value:!0});sI.DropSearchIndexOperation=void 0;var nI=r(),n01=y1();class aI extends n01.AbstractOperation{constructor(Z,Y){super();this.collection=Z,this.name=Y}async execute(Z,Y){const J=this.collection.fullNamespace,X={dropSearchIndex:J.collection};if(typeof this.name==="string")X.name=this.name;try{await Z.commandAsync(J,X,{session:Y})}catch($){if(!($ instanceof nI.MongoServerError&&$.code===nI.MONGODB_ERROR_CODES.NamespaceNotFound))throw $}}}sI.DropSearchIndexOperation=aI});var YP=w((eI)=>{Object.defineProperty(eI,"__esModule",{value:!0});eI.UpdateSearchIndexOperation=void 0;var a01=y1();class oI extends a01.AbstractOperation{constructor(Z,Y,J){super();this.collection=Z,this.name=Y,this.definition=J}async execute(Z,Y){const J=this.collection.fullNamespace,X={updateSearchIndex:J.collection,name:this.name,definition:this.definition};await Z.commandAsync(J,X,{session:Y});return}}eI.UpdateSearchIndexOperation=oI});var Z9=w((GP)=>{Object.defineProperty(GP,"__esModule",{value:!0});GP.Collection=void 0;var s01=t1(),r01=rz(),t01=tz(),o01=NZ(),e01=EJ(),Z81=jH(),Y81=yH(),J81=zI(),JP=r(),X81=gz(),$81=NH(),W81=VI(),XP=xz(),G81=RI(),K81=vH(),Q81=PI(),u1=g8(),cH=mH(),Y9=OJ(),$P=mz(),z81=yI(),H81=hI(),F81=dH(),q81=iI(),V81=tI(),U81=YP(),lH=pz(),L81=T6(),pH=S0(),S1=X1(),w81=y8();class WP{constructor(Z,Y,J){this.s={db:Z,options:J,namespace:new S1.MongoDBCollectionNamespace(Z.databaseName,Y),pkFactory:Z.options?.pkFactory??S1.DEFAULT_PK_FACTORY,readPreference:pH.ReadPreference.fromOptions(J),bsonOptions:s01.resolveBSONOptions(J,Z),readConcern:L81.ReadConcern.fromOptions(J),writeConcern:w81.WriteConcern.fromOptions(J)},this.client=Z.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){if(this.s.readConcern==null)return this.s.db.readConcern;return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.s.db.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){if(this.s.writeConcern==null)return this.s.db.writeConcern;return this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(Z){this.s.collectionHint=S1.normalizeHintField(Z)}async insertOne(Z,Y){return u1.executeOperation(this.client,new $P.InsertOneOperation(this,Z,S1.resolveOptions(this,Y)))}async insertMany(Z,Y){return u1.executeOperation(this.client,new $P.InsertManyOperation(this,Z,S1.resolveOptions(this,Y??{ordered:!0})))}async bulkWrite(Z,Y){if(!Array.isArray(Z))throw new JP.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return u1.executeOperation(this.client,new X81.BulkWriteOperation(this,Z,S1.resolveOptions(this,Y??{ordered:!0})))}async updateOne(Z,Y,J){return u1.executeOperation(this.client,new lH.UpdateOneOperation(this,Z,Y,S1.resolveOptions(this,J)))}async replaceOne(Z,Y,J){return u1.executeOperation(this.client,new lH.ReplaceOneOperation(this,Z,Y,S1.resolveOptions(this,J)))}async updateMany(Z,Y,J){return u1.executeOperation(this.client,new lH.UpdateManyOperation(this,Z,Y,S1.resolveOptions(this,J)))}async deleteOne(Z={},Y={}){return u1.executeOperation(this.client,new XP.DeleteOneOperation(this,Z,S1.resolveOptions(this,Y)))}async deleteMany(Z={},Y={}){return u1.executeOperation(this.client,new XP.DeleteManyOperation(this,Z,S1.resolveOptions(this,Y)))}async rename(Z,Y){return u1.executeOperation(this.client,new F81.RenameOperation(this,Z,{...Y,readPreference:pH.ReadPreference.PRIMARY}))}async drop(Z){return u1.executeOperation(this.client,new K81.DropCollectionOperation(this.s.db,this.collectionName,Z))}async findOne(Z={},Y={}){const J=this.find(Z,Y).limit(-1).batchSize(1),X=await J.next();return await J.close(),X}find(Z={},Y={}){return new Z81.FindCursor(this.client,this.s.namespace,Z,S1.resolveOptions(this,Y))}async options(Z){return u1.executeOperation(this.client,new H81.OptionsOperation(this,S1.resolveOptions(this,Z)))}async isCapped(Z){return u1.executeOperation(this.client,new z81.IsCappedOperation(this,S1.resolveOptions(this,Z)))}async createIndex(Z,Y){return u1.executeOperation(this.client,new Y9.CreateIndexOperation(this,this.collectionName,Z,S1.resolveOptions(this,Y)))}async createIndexes(Z,Y){return u1.executeOperation(this.client,new Y9.CreateIndexesOperation(this,this.collectionName,Z,S1.resolveOptions(this,{...Y,maxTimeMS:void 0})))}async dropIndex(Z,Y){return u1.executeOperation(this.client,new Y9.DropIndexOperation(this,Z,{...S1.resolveOptions(this,Y),readPreference:pH.ReadPreference.primary}))}async dropIndexes(Z){try{return await u1.executeOperation(this.client,new Y9.DropIndexOperation(this,"*",S1.resolveOptions(this,Z))),!0}catch{return!1}}listIndexes(Z){return new Y81.ListIndexesCursor(this,S1.resolveOptions(this,Z))}async indexExists(Z,Y){return u1.executeOperation(this.client,new Y9.IndexExistsOperation(this,Z,S1.resolveOptions(this,Y)))}async indexInformation(Z){return u1.executeOperation(this.client,new Y9.IndexInformationOperation(this.s.db,this.collectionName,S1.resolveOptions(this,Z)))}async estimatedDocumentCount(Z){return u1.executeOperation(this.client,new Q81.EstimatedDocumentCountOperation(this,S1.resolveOptions(this,Z)))}async countDocuments(Z={},Y={}){return u1.executeOperation(this.client,new W81.CountDocumentsOperation(this,Z,S1.resolveOptions(this,Y)))}async distinct(Z,Y={},J={}){return u1.executeOperation(this.client,new G81.DistinctOperation(this,Z,Y,S1.resolveOptions(this,J)))}async indexes(Z){return u1.executeOperation(this.client,new Y9.IndexesOperation(this,S1.resolveOptions(this,Z)))}async findOneAndDelete(Z,Y){return u1.executeOperation(this.client,new cH.FindOneAndDeleteOperation(this,Z,S1.resolveOptions(this,Y)))}async findOneAndReplace(Z,Y,J){return u1.executeOperation(this.client,new cH.FindOneAndReplaceOperation(this,Z,Y,S1.resolveOptions(this,J)))}async findOneAndUpdate(Z,Y,J){return u1.executeOperation(this.client,new cH.FindOneAndUpdateOperation(this,Z,Y,S1.resolveOptions(this,J)))}aggregate(Z=[],Y){if(!Array.isArray(Z))throw new JP.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new e01.AggregationCursor(this.client,this.s.namespace,Z,S1.resolveOptions(this,Y))}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new o01.ChangeStream(this,Z,S1.resolveOptions(this,Y))}initializeUnorderedBulkOp(Z){return new t01.UnorderedBulkOperation(this,S1.resolveOptions(this,Z))}initializeOrderedBulkOp(Z){return new r01.OrderedBulkOperation(this,S1.resolveOptions(this,Z))}async count(Z={},Y={}){return u1.executeOperation(this.client,new $81.CountOperation(this.fullNamespace,Z,S1.resolveOptions(this,Y)))}listSearchIndexes(Z,Y){Y=typeof Z==="object"?Z:Y==null?{}:Y;const J=Z==null?null:typeof Z==="object"?null:Z;return new J81.ListSearchIndexesCursor(this,J,Y)}async createSearchIndex(Z){const[Y]=await this.createSearchIndexes([Z]);return Y}async createSearchIndexes(Z){return u1.executeOperation(this.client,new q81.CreateSearchIndexesOperation(this,Z))}async dropSearchIndex(Z){return u1.executeOperation(this.client,new V81.DropSearchIndexOperation(this,Z))}async updateSearchIndex(Z,Y){return u1.executeOperation(this.client,new U81.UpdateSearchIndexOperation(this,Z,Y))}}GP.Collection=WP});var sH=w((zP)=>{Object.defineProperty(zP,"__esModule",{value:!0});zP.ChangeStreamCursor=void 0;var iH=NZ(),QP=b0(),R81=H$(),M81=g8(),nH=X1(),A81=W4();class aH extends A81.AbstractCursor{constructor(Z,Y,J=[],X={}){super(Z,Y,X);if(this.pipeline=J,this.options=X,this._resumeToken=null,this.startAtOperationTime=X.startAtOperationTime,X.startAfter)this.resumeToken=X.startAfter;else if(X.resumeAfter)this.resumeToken=X.resumeAfter}set resumeToken(Z){this._resumeToken=Z,this.emit(iH.ChangeStream.RESUME_TOKEN_CHANGED,Z)}get resumeToken(){return this._resumeToken}get resumeOptions(){const Z={...this.options};for(let Y of["resumeAfter","startAfter","startAtOperationTime"])delete Z[Y];if(this.resumeToken!=null)if(this.options.startAfter&&!this.hasReceived)Z.startAfter=this.resumeToken;else Z.resumeAfter=this.resumeToken;else if(this.startAtOperationTime!=null&&nH.maxWireVersion(this.server)>=7)Z.startAtOperationTime=this.startAtOperationTime;return Z}cacheResumeToken(Z){if(this.bufferedCount()===0&&this.postBatchResumeToken)this.resumeToken=this.postBatchResumeToken;else this.resumeToken=Z;this.hasReceived=!0}_processBatch(Z){const Y=Z.cursor;if(Y.postBatchResumeToken){if(this.postBatchResumeToken=Z.cursor.postBatchResumeToken,("firstBatch"in Z.cursor?Z.cursor.firstBatch:Z.cursor.nextBatch).length===0)this.resumeToken=Y.postBatchResumeToken}}clone(){return new aH(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}async _initialize(Z){const Y=new R81.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:Z}),J=await M81.executeOperation(Z.client,Y),X=Y.server;if(this.maxWireVersion=nH.maxWireVersion(X),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7)this.startAtOperationTime=J.operationTime;return this._processBatch(J),this.emit(QP.INIT,J),this.emit(QP.RESPONSE),{server:X,session:Z,response:J}}async getMore(Z){const Y=await super.getMore(Z);return this.maxWireVersion=nH.maxWireVersion(this.server),this._processBatch(Y),this.emit(iH.ChangeStream.MORE,Y),this.emit(iH.ChangeStream.RESPONSE),Y}}zP.ChangeStreamCursor=aH});var VP=w((FP)=>{Object.defineProperty(FP,"__esModule",{value:!0});FP.ListCollectionsOperation=void 0;var B81=X1(),N81=M0(),f$=y1();class rH extends N81.CommandOperation{constructor(Z,Y,J){super(Z,J);if(this.options={...J},delete this.options.writeConcern,this.db=Z,this.filter=Y,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize==="number")this.batchSize=this.options.batchSize}async execute(Z,Y){return super.executeCommand(Z,Y,this.generateCommand(B81.maxWireVersion(Z)))}generateCommand(Z){const Y={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};if(Z>=9&&this.options.comment!==void 0)Y.comment=this.options.comment;return Y}}FP.ListCollectionsOperation=rH;f$.defineAspects(rH,[f$.Aspect.READ_OPERATION,f$.Aspect.RETRYABLE,f$.Aspect.CURSOR_CREATING])});var oH=w((UP)=>{Object.defineProperty(UP,"__esModule",{value:!0});UP.ListCollectionsCursor=void 0;var D81=g8(),I81=VP(),P81=W4();class tH extends P81.AbstractCursor{constructor(Z,Y,J){super(Z.client,Z.s.namespace,J);this.parent=Z,this.filter=Y,this.options=J}clone(){return new tH(this.parent,this.filter,{...this.options,...this.cursorOptions})}async _initialize(Z){const Y=new I81.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:Z}),J=await D81.executeOperation(this.parent.client,Y);return{server:Y.server,session:Z,response:J}}}UP.ListCollectionsCursor=tH});var BP=w((MP)=>{Object.defineProperty(MP,"__esModule",{value:!0});MP.RunCommandCursor=void 0;var DZ=r(),wP=g8(),T81=JH(),j81=HZ(),E81=X1(),C81=W4();class RP extends C81.AbstractCursor{setComment(Z){return this.getMoreOptions.comment=Z,this}setMaxTimeMS(Z){return this.getMoreOptions.maxAwaitTimeMS=Z,this}setBatchSize(Z){return this.getMoreOptions.batchSize=Z,this}clone(){throw new DZ.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(Z){throw new DZ.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(Z,Y){throw new DZ.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(Z){throw new DZ.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(Z){throw new DZ.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(Z,Y,J={}){super(Z.client,E81.ns(Z.namespace),J);this.getMoreOptions={},this.db=Z,this.command=Object.freeze({...Y})}async _initialize(Z){const Y=new j81.RunCommandOperation(this.db,this.command,{...this.cursorOptions,session:Z,readPreference:this.cursorOptions.readPreference}),J=await wP.executeOperation(this.client,Y);if(J.cursor==null)throw new DZ.MongoUnexpectedServerResponseError("Expected server to respond with cursor");return{server:Y.server,session:Z,response:J}}async getMore(Z){const Y=new T81.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});return wP.executeOperation(this.client,Y)}}MP.RunCommandCursor=RP});var PP=w((DP)=>{Object.defineProperty(DP,"__esModule",{value:!0});DP.CollectionsOperation=void 0;var O81=Z9(),S81=y1();class NP extends S81.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.db=Z}async execute(Z,Y){const J=await this.db.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:Y}).toArray(),X=[];for(let{name:$}of J)if(!$.includes("$"))X.push(new O81.Collection(this.db,$,this.db.s.options));return X}}DP.CollectionsOperation=NP});var OP=w((EP)=>{Object.defineProperty(EP,"__esModule",{value:!0});EP.CreateCollectionOperation=void 0;var TP=a5(),k81=Z9(),_81=r(),x81=M0(),f81=OJ(),jP=y1(),y81=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),g81="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.";class y$ extends x81.CommandOperation{constructor(Z,Y,J={}){super(Z,J);this.options=J,this.db=Z,this.name=Y}async execute(Z,Y){const J=this.db,X=this.name,$=this.options,W=$.encryptedFields??J.client.options.autoEncryption?.encryptedFieldsMap?.[`${J.databaseName}.${X}`];if(W){if(!Z.loadBalanced&&Z.description.maxWireVersion<TP.MIN_SUPPORTED_QE_WIRE_VERSION)throw new _81.MongoCompatibilityError(`${g81} The minimum server version required is ${TP.MIN_SUPPORTED_QE_SERVER_VERSION}`);const K=W.escCollection??`enxcol_.${X}.esc`,Q=W.ecocCollection??`enxcol_.${X}.ecoc`;for(let z of[K,Q])await new y$(J,z,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(Z,Y);if(!$.encryptedFields)this.options={...this.options,encryptedFields:W}}const G=await this.executeWithoutEncryptedFieldsCheck(Z,Y);if(W)await new f81.CreateIndexOperation(J,X,{__safeContent__:1},{}).execute(Z,Y);return G}async executeWithoutEncryptedFieldsCheck(Z,Y){const J=this.db,X=this.name,$=this.options,W={create:X};for(let G in $)if($[G]!=null&&typeof $[G]!=="function"&&!y81.has(G))W[G]=$[G];return await super.executeCommand(Z,Y,W),new k81.Collection(J,X,$)}}EP.CreateCollectionOperation=y$;jP.defineAspects(y$,[jP.Aspect.WRITE_OPERATION])});var fP=w((_P)=>{Object.defineProperty(_P,"__esModule",{value:!0});_P.ProfilingLevelOperation=void 0;var SP=r(),b81=M0();class kP extends b81.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){const J=await super.executeCommand(Z,Y,{profile:-1});if(J.ok===1){const X=J.was;if(X===0)return"off";if(X===1)return"slow_only";if(X===2)return"all";throw new SP.MongoUnexpectedServerResponseError(`Illegal profiling level value ${X}`)}else throw new SP.MongoUnexpectedServerResponseError("Error with profile command")}}_P.ProfilingLevelOperation=kP});var eH=w((gP)=>{Object.defineProperty(gP,"__esModule",{value:!0});gP.SetProfilingLevelOperation=gP.ProfilingLevel=void 0;var v81=r(),h81=X1(),m81=M0(),u81=new Set(["off","slow_only","all"]);gP.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});class yP extends m81.CommandOperation{constructor(Z,Y,J){super(Z,J);switch(this.options=J,Y){case gP.ProfilingLevel.off:this.profile=0;break;case gP.ProfilingLevel.slowOnly:this.profile=1;break;case gP.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=Y}async execute(Z,Y){const J=this.level;if(!u81.has(J))throw new v81.MongoInvalidArgumentError(`Profiling level must be one of "${h81.enumToString(gP.ProfilingLevel)}"`);return await super.executeCommand(Z,Y,{profile:this.profile}),J}}gP.SetProfilingLevelOperation=yP});var uP=w((hP)=>{Object.defineProperty(hP,"__esModule",{value:!0});hP.DbStatsOperation=void 0;var d81=M0(),vP=y1();class ZF extends d81.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){const J={dbStats:!0};if(this.options.scale!=null)J.scale=this.options.scale;return super.executeCommand(Z,Y,J)}}hP.DbStatsOperation=ZF;vP.defineAspects(ZF,[vP.Aspect.READ_OPERATION])});var g$=w((nP)=>{Object.defineProperty(nP,"__esModule",{value:!0});nP.Db=void 0;var c81=Oz(),dP=t1(),l81=NZ(),p81=Z9(),IZ=b0(),i81=EJ(),n81=oH(),a81=BP(),cP=r(),s81=PP(),r81=OP(),lP=vH(),O6=g8(),pP=OJ(),t81=fP(),o81=Ez(),e81=dH(),Z61=HZ(),Y61=eH(),J61=uP(),X61=T6(),iP=S0(),i0=X1(),$61=y8(),W61=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"];class p4{constructor(Z,Y,J){if(J=J??{},J=i0.filterOptions(J,W61),typeof Y==="string"&&Y.includes("."))throw new cP.MongoInvalidArgumentError("Database names cannot contain the character '.'");this.s={options:J,readPreference:iP.ReadPreference.fromOptions(J),bsonOptions:dP.resolveBSONOptions(J,Z),pkFactory:J?.pkFactory??i0.DEFAULT_PK_FACTORY,readConcern:X61.ReadConcern.fromOptions(J),writeConcern:$61.WriteConcern.fromOptions(J),namespace:new i0.MongoDBNamespace(Y)},this.client=Z}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){return this.s.readPreference?.preference!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.client.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}async createCollection(Z,Y){return O6.executeOperation(this.client,new r81.CreateCollectionOperation(this,Z,i0.resolveOptions(this,Y)))}async command(Z,Y){return O6.executeOperation(this.client,new Z61.RunCommandOperation(this,Z,{...dP.resolveBSONOptions(Y),session:Y?.session,readPreference:Y?.readPreference}))}aggregate(Z=[],Y){return new i81.AggregationCursor(this.client,this.s.namespace,Z,i0.resolveOptions(this,Y))}admin(){return new c81.Admin(this)}collection(Z,Y={}){if(typeof Y==="function")throw new cP.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new p81.Collection(this,Z,i0.resolveOptions(this,Y))}async stats(Z){return O6.executeOperation(this.client,new J61.DbStatsOperation(this,i0.resolveOptions(this,Z)))}listCollections(Z={},Y={}){return new n81.ListCollectionsCursor(this,Z,i0.resolveOptions(this,Y))}async renameCollection(Z,Y,J){return O6.executeOperation(this.client,new e81.RenameOperation(this.collection(Z),Y,{...J,new_collection:!0,readPreference:iP.ReadPreference.primary}))}async dropCollection(Z,Y){return O6.executeOperation(this.client,new lP.DropCollectionOperation(this,Z,i0.resolveOptions(this,Y)))}async dropDatabase(Z){return O6.executeOperation(this.client,new lP.DropDatabaseOperation(this,i0.resolveOptions(this,Z)))}async collections(Z){return O6.executeOperation(this.client,new s81.CollectionsOperation(this,i0.resolveOptions(this,Z)))}async createIndex(Z,Y,J){return O6.executeOperation(this.client,new pP.CreateIndexOperation(this,Z,Y,i0.resolveOptions(this,J)))}async removeUser(Z,Y){return O6.executeOperation(this.client,new o81.RemoveUserOperation(this,Z,i0.resolveOptions(this,Y)))}async setProfilingLevel(Z,Y){return O6.executeOperation(this.client,new Y61.SetProfilingLevelOperation(this,Z,i0.resolveOptions(this,Y)))}async profilingLevel(Z){return O6.executeOperation(this.client,new t81.ProfilingLevelOperation(this,i0.resolveOptions(this,Z)))}async indexInformation(Z,Y){return O6.executeOperation(this.client,new pP.IndexInformationOperation(this,Z,i0.resolveOptions(this,Y)))}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new l81.ChangeStream(this,Z,i0.resolveOptions(this,Y))}runCursorCommand(Z,Y){return new a81.RunCommandCursor(this,Z,Y)}}p4.SYSTEM_NAMESPACE_COLLECTION=IZ.SYSTEM_NAMESPACE_COLLECTION;p4.SYSTEM_INDEX_COLLECTION=IZ.SYSTEM_INDEX_COLLECTION;p4.SYSTEM_PROFILE_COLLECTION=IZ.SYSTEM_PROFILE_COLLECTION;p4.SYSTEM_USER_COLLECTION=IZ.SYSTEM_USER_COLLECTION;p4.SYSTEM_COMMAND_COLLECTION=IZ.SYSTEM_COMMAND_COLLECTION;p4.SYSTEM_JS_COLLECTION=IZ.SYSTEM_JS_COLLECTION;nP.Db=p4});var rP=w((sP)=>{var _J=function(Z){if(Z===4)return"ipv4";if(Z===6)return"ipv6";return Z?Z.toLowerCase():"ipv4"},$1=sP,{Buffer:b$}=import.meta.require("buffer"),G61=import.meta.require("os");$1.toBuffer=function(Z,Y,J){J=~~J;let X;if(this.isV4Format(Z))X=Y||b$.alloc(J+4),Z.split(/\./g).map(($)=>{X[J++]=parseInt($,10)&255});else if(this.isV6Format(Z)){const $=Z.split(":",8);let W;for(W=0;W<$.length;W++){const G=this.isV4Format($[W]);let K;if(G)K=this.toBuffer($[W]),$[W]=K.slice(0,2).toString("hex");if(K&&++W<8)$.splice(W,0,K.slice(2,4).toString("hex"))}if($[0]==="")while($.length<8)$.unshift("0");else if($[$.length-1]==="")while($.length<8)$.push("0");else if($.length<8){for(W=0;W<$.length&&$[W]!=="";W++);const G=[W,1];for(W=9-$.length;W>0;W--)G.push("0");$.splice(...G)}X=Y||b$.alloc(J+16);for(W=0;W<$.length;W++){const G=parseInt($[W],16);X[J++]=G>>8&255,X[J++]=G&255}}if(!X)throw Error(`Invalid ip address: ${Z}`);return X};$1.toString=function(Z,Y,J){Y=~~Y,J=J||Z.length-Y;let X=[];if(J===4){for(let $=0;$<J;$++)X.push(Z[Y+$]);X=X.join(".")}else if(J===16){for(let $=0;$<J;$+=2)X.push(Z.readUInt16BE(Y+$).toString(16));X=X.join(":"),X=X.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),X=X.replace(/:{3,4}/,"::")}return X};var K61=/^(\d{1,3}\.){3,3}\d{1,3}$/,Q61=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;$1.isV4Format=function(Z){return K61.test(Z)};$1.isV6Format=function(Z){return Q61.test(Z)};$1.fromPrefixLen=function(Z,Y){if(Z>32)Y="ipv6";else Y=_J(Y);let J=4;if(Y==="ipv6")J=16;const X=b$.alloc(J);for(let $=0,W=X.length;$<W;++$){let G=8;if(Z<8)G=Z;Z-=G,X[$]=~(255>>G)&255}return $1.toString(X)};$1.mask=function(Z,Y){Z=$1.toBuffer(Z),Y=$1.toBuffer(Y);const J=b$.alloc(Math.max(Z.length,Y.length));let X;if(Z.length===Y.length)for(X=0;X<Z.length;X++)J[X]=Z[X]&Y[X];else if(Y.length===4)for(X=0;X<Y.length;X++)J[X]=Z[Z.length-4+X]&Y[X];else{for(X=0;X<J.length-6;X++)J[X]=0;J[10]=255,J[11]=255;for(X=0;X<Z.length;X++)J[X+12]=Z[X]&Y[X+12];X+=12}for(;X<J.length;X++)J[X]=0;return $1.toString(J)};$1.cidr=function(Z){const Y=Z.split("/"),J=Y[0];if(Y.length!==2)throw new Error(`invalid CIDR subnet: ${J}`);const X=$1.fromPrefixLen(parseInt(Y[1],10));return $1.mask(J,X)};$1.subnet=function(Z,Y){const J=$1.toLong($1.mask(Z,Y)),X=$1.toBuffer(Y);let $=0;for(let G=0;G<X.length;G++)if(X[G]===255)$+=8;else{let K=X[G]&255;while(K)K=K<<1&255,$++}const W=2**(32-$);return{networkAddress:$1.fromLong(J),firstAddress:W<=2?$1.fromLong(J):$1.fromLong(J+1),lastAddress:W<=2?$1.fromLong(J+W-1):$1.fromLong(J+W-2),broadcastAddress:$1.fromLong(J+W-1),subnetMask:Y,subnetMaskLength:$,numHosts:W<=2?W:W-2,length:W,contains(G){return J===$1.toLong($1.mask(G,Y))}}};$1.cidrSubnet=function(Z){const Y=Z.split("/"),J=Y[0];if(Y.length!==2)throw new Error(`invalid CIDR subnet: ${J}`);const X=$1.fromPrefixLen(parseInt(Y[1],10));return $1.subnet(J,X)};$1.not=function(Z){const Y=$1.toBuffer(Z);for(let J=0;J<Y.length;J++)Y[J]=255^Y[J];return $1.toString(Y)};$1.or=function(Z,Y){if(Z=$1.toBuffer(Z),Y=$1.toBuffer(Y),Z.length===Y.length){for(let W=0;W<Z.length;++W)Z[W]|=Y[W];return $1.toString(Z)}let J=Z,X=Y;if(Y.length>Z.length)J=Y,X=Z;const $=J.length-X.length;for(let W=$;W<J.length;++W)J[W]|=X[W-$];return $1.toString(J)};$1.isEqual=function(Z,Y){if(Z=$1.toBuffer(Z),Y=$1.toBuffer(Y),Z.length===Y.length){for(let X=0;X<Z.length;X++)if(Z[X]!==Y[X])return!1;return!0}if(Y.length===4){const X=Y;Y=Z,Z=X}for(let X=0;X<10;X++)if(Y[X]!==0)return!1;const J=Y.readUInt16BE(10);if(J!==0&&J!==65535)return!1;for(let X=0;X<4;X++)if(Z[X]!==Y[X+12])return!1;return!0};$1.isPrivate=function(Z){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^f[cd][0-9a-f]{2}:/i.test(Z)||/^fe80:/i.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};$1.isPublic=function(Z){return!$1.isPrivate(Z)};$1.isLoopback=function(Z){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(Z)||/^fe80::1$/.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};$1.loopback=function(Z){if(Z=_J(Z),Z!=="ipv4"&&Z!=="ipv6")throw new Error("family must be ipv4 or ipv6");return Z==="ipv4"?"127.0.0.1":"fe80::1"};$1.address=function(Z,Y){const J=G61.networkInterfaces();if(Y=_J(Y),Z&&Z!=="private"&&Z!=="public"){const $=J[Z].filter((W)=>{return _J(W.family)===Y});if($.length===0)return;return $[0].address}const X=Object.keys(J).map(($)=>{const W=J[$].filter((G)=>{if(G.family=_J(G.family),G.family!==Y||$1.isLoopback(G.address))return!1;if(!Z)return!0;return Z==="public"?$1.isPrivate(G.address):$1.isPublic(G.address)});return W.length?W[0].address:void 0}).filter(Boolean);return!X.length?$1.loopback(Y):X[0]};$1.toLong=function(Z){let Y=0;return Z.split(".").forEach((J)=>{Y<<=8,Y+=parseInt(J)}),Y>>>0};$1.fromLong=function(Z){return`${Z>>>24}.${Z>>16&255}.${Z>>8&255}.${Z&255}`}});var YT=w((ZT)=>{var z61=function(Z){if(!tP.Buffer.isEncoding(Z))throw new Error(J9.INVALID_ENCODING)},oP=function(Z){return typeof Z==="number"&&isFinite(Z)&&V61(Z)},eP=function(Z,Y){if(typeof Z==="number"){if(!oP(Z)||Z<0)throw new Error(Y?J9.INVALID_OFFSET:J9.INVALID_LENGTH)}else throw new Error(Y?J9.INVALID_OFFSET_NON_NUMBER:J9.INVALID_LENGTH_NON_NUMBER)},H61=function(Z){eP(Z,!1)},F61=function(Z){eP(Z,!0)},q61=function(Z,Y){if(Z<0||Z>Y.length)throw new Error(J9.INVALID_TARGET_OFFSET)},V61=function(Z){return typeof Z==="number"&&isFinite(Z)&&Math.floor(Z)===Z},U61=function(Z){if(typeof BigInt==="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof tP.Buffer.prototype[Z]==="undefined")throw new Error(`Platform does not support Buffer.prototype.${Z}.`)};Object.defineProperty(ZT,"__esModule",{value:!0});var tP=import.meta.require("buffer"),J9={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};ZT.ERRORS=J9;ZT.checkEncoding=z61;ZT.isFiniteInteger=oP;ZT.checkLengthValue=H61;ZT.checkOffsetValue=F61;ZT.checkTargetOffset=q61;ZT.bigIntAndBufferInt64Check=U61});var $T=w((XT)=>{Object.defineProperty(XT,"__esModule",{value:!0});var w1=YT(),JT=4096,D61="utf8";class YF{constructor(Z){if(this.length=0,this._encoding=D61,this._writeOffset=0,this._readOffset=0,YF.isSmartBufferOptions(Z)){if(Z.encoding)w1.checkEncoding(Z.encoding),this._encoding=Z.encoding;if(Z.size)if(w1.isFiniteInteger(Z.size)&&Z.size>0)this._buff=Buffer.allocUnsafe(Z.size);else throw new Error(w1.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(Z.buff)if(Buffer.isBuffer(Z.buff))this._buff=Z.buff,this.length=Z.buff.length;else throw new Error(w1.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(JT)}else{if(typeof Z!=="undefined")throw new Error(w1.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(JT)}}static fromSize(Z,Y){return new this({size:Z,encoding:Y})}static fromBuffer(Z,Y){return new this({buff:Z,encoding:Y})}static fromOptions(Z){return new this(Z)}static isSmartBufferOptions(Z){const Y=Z;return Y&&(Y.encoding!==void 0||Y.size!==void 0||Y.buff!==void 0)}readInt8(Z){return this._readNumberValue(Buffer.prototype.readInt8,1,Z)}readInt16BE(Z){return this._readNumberValue(Buffer.prototype.readInt16BE,2,Z)}readInt16LE(Z){return this._readNumberValue(Buffer.prototype.readInt16LE,2,Z)}readInt32BE(Z){return this._readNumberValue(Buffer.prototype.readInt32BE,4,Z)}readInt32LE(Z){return this._readNumberValue(Buffer.prototype.readInt32LE,4,Z)}readBigInt64BE(Z){return w1.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,Z)}readBigInt64LE(Z){return w1.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,Z)}writeInt8(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt8,1,Z,Y),this}insertInt8(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt8,1,Z,Y)}writeInt16BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,Z,Y)}insertInt16BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,Z,Y)}writeInt16LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,Z,Y)}insertInt16LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,Z,Y)}writeInt32BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,Z,Y)}insertInt32BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,Z,Y)}writeInt32LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,Z,Y)}insertInt32LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,Z,Y)}writeBigInt64BE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,Y)}insertBigInt64BE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,Y)}writeBigInt64LE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,Y)}insertBigInt64LE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,Y)}readUInt8(Z){return this._readNumberValue(Buffer.prototype.readUInt8,1,Z)}readUInt16BE(Z){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,Z)}readUInt16LE(Z){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,Z)}readUInt32BE(Z){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,Z)}readUInt32LE(Z){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,Z)}readBigUInt64BE(Z){return w1.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,Z)}readBigUInt64LE(Z){return w1.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,Z)}writeUInt8(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,Z,Y)}insertUInt8(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,Z,Y)}writeUInt16BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,Z,Y)}insertUInt16BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,Z,Y)}writeUInt16LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,Z,Y)}insertUInt16LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,Z,Y)}writeUInt32BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,Z,Y)}insertUInt32BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,Z,Y)}writeUInt32LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,Z,Y)}insertUInt32LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,Z,Y)}writeBigUInt64BE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,Y)}insertBigUInt64BE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,Y)}writeBigUInt64LE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,Y)}insertBigUInt64LE(Z,Y){return w1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,Y)}readFloatBE(Z){return this._readNumberValue(Buffer.prototype.readFloatBE,4,Z)}readFloatLE(Z){return this._readNumberValue(Buffer.prototype.readFloatLE,4,Z)}writeFloatBE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,Z,Y)}insertFloatBE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,Z,Y)}writeFloatLE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,Z,Y)}insertFloatLE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,Z,Y)}readDoubleBE(Z){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,Z)}readDoubleLE(Z){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,Z)}writeDoubleBE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,Z,Y)}insertDoubleBE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,Z,Y)}writeDoubleLE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,Z,Y)}insertDoubleLE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,Z,Y)}readString(Z,Y){let J;if(typeof Z==="number")w1.checkLengthValue(Z),J=Math.min(Z,this.length-this._readOffset);else Y=Z,J=this.length-this._readOffset;if(typeof Y!=="undefined")w1.checkEncoding(Y);const X=this._buff.slice(this._readOffset,this._readOffset+J).toString(Y||this._encoding);return this._readOffset+=J,X}insertString(Z,Y,J){return w1.checkOffsetValue(Y),this._handleString(Z,!0,Y,J)}writeString(Z,Y,J){return this._handleString(Z,!1,Y,J)}readStringNT(Z){if(typeof Z!=="undefined")w1.checkEncoding(Z);let Y=this.length;for(let X=this._readOffset;X<this.length;X++)if(this._buff[X]===0){Y=X;break}const J=this._buff.slice(this._readOffset,Y);return this._readOffset=Y+1,J.toString(Z||this._encoding)}insertStringNT(Z,Y,J){return w1.checkOffsetValue(Y),this.insertString(Z,Y,J),this.insertUInt8(0,Y+Z.length),this}writeStringNT(Z,Y,J){return this.writeString(Z,Y,J),this.writeUInt8(0,typeof Y==="number"?Y+Z.length:this.writeOffset),this}readBuffer(Z){if(typeof Z!=="undefined")w1.checkLengthValue(Z);const Y=typeof Z==="number"?Z:this.length,J=Math.min(this.length,this._readOffset+Y),X=this._buff.slice(this._readOffset,J);return this._readOffset=J,X}insertBuffer(Z,Y){return w1.checkOffsetValue(Y),this._handleBuffer(Z,!0,Y)}writeBuffer(Z,Y){return this._handleBuffer(Z,!1,Y)}readBufferNT(){let Z=this.length;for(let J=this._readOffset;J<this.length;J++)if(this._buff[J]===0){Z=J;break}const Y=this._buff.slice(this._readOffset,Z);return this._readOffset=Z+1,Y}insertBufferNT(Z,Y){return w1.checkOffsetValue(Y),this.insertBuffer(Z,Y),this.insertUInt8(0,Y+Z.length),this}writeBufferNT(Z,Y){if(typeof Y!=="undefined")w1.checkOffsetValue(Y);return this.writeBuffer(Z,Y),this.writeUInt8(0,typeof Y==="number"?Y+Z.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(Z){w1.checkOffsetValue(Z),w1.checkTargetOffset(Z,this),this._readOffset=Z}get writeOffset(){return this._writeOffset}set writeOffset(Z){w1.checkOffsetValue(Z),w1.checkTargetOffset(Z,this),this._writeOffset=Z}get encoding(){return this._encoding}set encoding(Z){w1.checkEncoding(Z),this._encoding=Z}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(Z){const Y=typeof Z==="string"?Z:this._encoding;return w1.checkEncoding(Y),this._buff.toString(Y,0,this.length)}destroy(){return this.clear(),this}_handleString(Z,Y,J,X){let $=this._writeOffset,W=this._encoding;if(typeof J==="number")$=J;else if(typeof J==="string")w1.checkEncoding(J),W=J;if(typeof X==="string")w1.checkEncoding(X),W=X;const G=Buffer.byteLength(Z,W);if(Y)this.ensureInsertable(G,$);else this._ensureWriteable(G,$);if(this._buff.write(Z,$,G,W),Y)this._writeOffset+=G;else if(typeof J==="number")this._writeOffset=Math.max(this._writeOffset,$+G);else this._writeOffset+=G;return this}_handleBuffer(Z,Y,J){const X=typeof J==="number"?J:this._writeOffset;if(Y)this.ensureInsertable(Z.length,X);else this._ensureWriteable(Z.length,X);if(Z.copy(this._buff,X),Y)this._writeOffset+=Z.length;else if(typeof J==="number")this._writeOffset=Math.max(this._writeOffset,X+Z.length);else this._writeOffset+=Z.length;return this}ensureReadable(Z,Y){let J=this._readOffset;if(typeof Y!=="undefined")w1.checkOffsetValue(Y),J=Y;if(J<0||J+Z>this.length)throw new Error(w1.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(Z,Y){if(w1.checkOffsetValue(Y),this._ensureCapacity(this.length+Z),Y<this.length)this._buff.copy(this._buff,Y+Z,Y,this._buff.length);if(Y+Z>this.length)this.length=Y+Z;else this.length+=Z}_ensureWriteable(Z,Y){const J=typeof Y==="number"?Y:this._writeOffset;if(this._ensureCapacity(J+Z),J+Z>this.length)this.length=J+Z}_ensureCapacity(Z){const Y=this._buff.length;if(Z>Y){let J=this._buff,X=Y*3/2+1;if(X<Z)X=Z;this._buff=Buffer.allocUnsafe(X),J.copy(this._buff,0,0,Y)}}_readNumberValue(Z,Y,J){this.ensureReadable(Y,J);const X=Z.call(this._buff,typeof J==="number"?J:this._readOffset);if(typeof J==="undefined")this._readOffset+=Y;return X}_insertNumberValue(Z,Y,J,X){return w1.checkOffsetValue(X),this.ensureInsertable(Y,X),Z.call(this._buff,J,X),this._writeOffset+=Y,this}_writeNumberValue(Z,Y,J,X){if(typeof X==="number"){if(X<0)throw new Error(w1.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);w1.checkOffsetValue(X)}const $=typeof X==="number"?X:this._writeOffset;if(this._ensureWriteable(Y,$),Z.call(this._buff,J,$),typeof X==="number")this._writeOffset=Math.max(this._writeOffset,$+Y);else this._writeOffset+=Y;return this}}XT.SmartBuffer=YF});var QF=w((WT)=>{Object.defineProperty(WT,"__esModule",{value:!0});WT.SOCKS5_NO_ACCEPTABLE_AUTH=WT.SOCKS5_CUSTOM_AUTH_END=WT.SOCKS5_CUSTOM_AUTH_START=WT.SOCKS_INCOMING_PACKET_SIZES=WT.SocksClientState=WT.Socks5Response=WT.Socks5HostType=WT.Socks5Auth=WT.Socks4Response=WT.SocksCommand=WT.ERRORS=WT.DEFAULT_TIMEOUT=void 0;var P61=30000;WT.DEFAULT_TIMEOUT=P61;var T61={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};WT.ERRORS=T61;var j61={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:(Z)=>Z+7,Socks4Response:8};WT.SOCKS_INCOMING_PACKET_SIZES=j61;var JF;(function(Z){Z[Z.connect=1]="connect",Z[Z.bind=2]="bind",Z[Z.associate=3]="associate"})(JF||(JF={}));WT.SocksCommand=JF;var XF;(function(Z){Z[Z.Granted=90]="Granted",Z[Z.Failed=91]="Failed",Z[Z.Rejected=92]="Rejected",Z[Z.RejectedIdent=93]="RejectedIdent"})(XF||(XF={}));WT.Socks4Response=XF;var $F;(function(Z){Z[Z.NoAuth=0]="NoAuth",Z[Z.GSSApi=1]="GSSApi",Z[Z.UserPass=2]="UserPass"})($F||($F={}));WT.Socks5Auth=$F;var E61=128;WT.SOCKS5_CUSTOM_AUTH_START=E61;var C61=254;WT.SOCKS5_CUSTOM_AUTH_END=C61;var O61=255;WT.SOCKS5_NO_ACCEPTABLE_AUTH=O61;var WF;(function(Z){Z[Z.Granted=0]="Granted",Z[Z.Failure=1]="Failure",Z[Z.NotAllowed=2]="NotAllowed",Z[Z.NetworkUnreachable=3]="NetworkUnreachable",Z[Z.HostUnreachable=4]="HostUnreachable",Z[Z.ConnectionRefused=5]="ConnectionRefused",Z[Z.TTLExpired=6]="TTLExpired",Z[Z.CommandNotSupported=7]="CommandNotSupported",Z[Z.AddressNotSupported=8]="AddressNotSupported"})(WF||(WF={}));WT.Socks5Response=WF;var GF;(function(Z){Z[Z.IPv4=1]="IPv4",Z[Z.Hostname=3]="Hostname",Z[Z.IPv6=4]="IPv6"})(GF||(GF={}));WT.Socks5HostType=GF;var KF;(function(Z){Z[Z.Created=0]="Created",Z[Z.Connecting=1]="Connecting",Z[Z.Connected=2]="Connected",Z[Z.SentInitialHandshake=3]="SentInitialHandshake",Z[Z.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",Z[Z.SentAuthentication=5]="SentAuthentication",Z[Z.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",Z[Z.SentFinalHandshake=7]="SentFinalHandshake",Z[Z.ReceivedFinalResponse=8]="ReceivedFinalResponse",Z[Z.BoundWaitingForConnection=9]="BoundWaitingForConnection",Z[Z.Established=10]="Established",Z[Z.Disconnected=11]="Disconnected",Z[Z.Error=99]="Error"})(KF||(KF={}));WT.SocksClientState=KF});var zF=w((QT)=>{var u61=function(Z){for(let Y=Z.length-1;Y>0;Y--){const J=Math.floor(Math.random()*(Y+1));[Z[Y],Z[J]]=[Z[J],Z[Y]]}};Object.defineProperty(QT,"__esModule",{value:!0});QT.shuffleArray=QT.SocksClientError=void 0;class KT extends Error{constructor(Z,Y){super(Z);this.options=Y}}QT.SocksClientError=KT;QT.shuffleArray=u61});var wT=w((UT)=>{var l61=function(Z,Y=["connect","bind","associate"]){if(!h0.SocksCommand[Z.command])throw new M8.SocksClientError(h0.ERRORS.InvalidSocksCommand,Z);if(Y.indexOf(Z.command)===-1)throw new M8.SocksClientError(h0.ERRORS.InvalidSocksCommandForOperation,Z);if(!FT(Z.destination))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!qT(Z.proxy))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsProxy,Z);if(HT(Z.proxy,Z),Z.timeout&&!VT(Z.timeout))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsTimeout,Z);if(Z.existing_socket&&!(Z.existing_socket instanceof c61.Duplex))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsExistingSocket,Z)},p61=function(Z){if(Z.command!=="connect")throw new M8.SocksClientError(h0.ERRORS.InvalidSocksCommandChain,Z);if(!FT(Z.destination))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!(Z.proxies&&Array.isArray(Z.proxies)&&Z.proxies.length>=2))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsProxiesLength,Z);if(Z.proxies.forEach((Y)=>{if(!qT(Y))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsProxy,Z);HT(Y,Z)}),Z.timeout&&!VT(Z.timeout))throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsTimeout,Z)},HT=function(Z,Y){if(Z.custom_auth_method!==void 0){if(Z.custom_auth_method<h0.SOCKS5_CUSTOM_AUTH_START||Z.custom_auth_method>h0.SOCKS5_CUSTOM_AUTH_END)throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsCustomAuthRange,Y);if(Z.custom_auth_request_handler===void 0||typeof Z.custom_auth_request_handler!=="function")throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y);if(Z.custom_auth_response_size===void 0)throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y);if(Z.custom_auth_response_handler===void 0||typeof Z.custom_auth_response_handler!=="function")throw new M8.SocksClientError(h0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y)}},FT=function(Z){return Z&&typeof Z.host==="string"&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535},qT=function(Z){return Z&&(typeof Z.host==="string"||typeof Z.ipaddress==="string")&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535&&(Z.type===4||Z.type===5)},VT=function(Z){return typeof Z==="number"&&Z>0};Object.defineProperty(UT,"__esModule",{value:!0});UT.validateSocksClientChainOptions=UT.validateSocksClientOptions=void 0;var M8=zF(),h0=QF(),c61=import.meta.require("stream");UT.validateSocksClientOptions=l61;UT.validateSocksClientChainOptions=p61});var BT=w((MT)=>{Object.defineProperty(MT,"__esModule",{value:!0});MT.ReceiveBuffer=void 0;class RT{constructor(Z=4096){this.buffer=Buffer.allocUnsafe(Z),this.offset=0,this.originalSize=Z}get length(){return this.offset}append(Z){if(!Buffer.isBuffer(Z))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+Z.length>=this.buffer.length){const Y=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+Z.length)),Y.copy(this.buffer)}return Z.copy(this.buffer,this.offset),this.offset+=Z.length}peek(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,Z)}get(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const Y=Buffer.allocUnsafe(Z);return this.buffer.slice(0,Z).copy(Y),this.buffer.copyWithin(0,Z,Z+this.offset-Z),this.offset-=Z,Y}}MT.ReceiveBuffer=RT});var NT=w((i4)=>{var PZ=i4&&i4.__awaiter||function(Z,Y,J,X){function $(W){return W instanceof J?W:new J(function(G){G(W)})}return new(J||(J=Promise))(function(W,G){function K(H){try{z(X.next(H))}catch(F){G(F)}}function Q(H){try{z(X.throw(H))}catch(F){G(F)}}function z(H){H.done?W(H.value):$(H.value).then(K,Q)}z((X=X.apply(Z,Y||[])).next())})};Object.defineProperty(i4,"__esModule",{value:!0});i4.SocksClientError=i4.SocksClient=void 0;var n61=import.meta.require("events"),TZ=import.meta.require("net"),K6=rP(),b8=$T(),l=QF(),HF=wT(),a61=BT(),FF=zF();Object.defineProperty(i4,"SocksClientError",{enumerable:!0,get:function(){return FF.SocksClientError}});class v$ extends n61.EventEmitter{constructor(Z){super();this.options=Object.assign({},Z),HF.validateSocksClientOptions(Z),this.setState(l.SocksClientState.Created)}static createConnection(Z,Y){return new Promise((J,X)=>{try{HF.validateSocksClientOptions(Z,["connect"])}catch(W){if(typeof Y==="function")return Y(W),J(W);else return X(W)}const $=new v$(Z);$.connect(Z.existing_socket),$.once("established",(W)=>{if($.removeAllListeners(),typeof Y==="function")Y(null,W),J(W);else J(W)}),$.once("error",(W)=>{if($.removeAllListeners(),typeof Y==="function")Y(W),J(W);else X(W)})})}static createConnectionChain(Z,Y){return new Promise((J,X)=>PZ(this,void 0,void 0,function*(){try{HF.validateSocksClientChainOptions(Z)}catch($){if(typeof Y==="function")return Y($),J($);else return X($)}if(Z.randomizeChain)FF.shuffleArray(Z.proxies);try{let $;for(let W=0;W<Z.proxies.length;W++){const G=Z.proxies[W],K=W===Z.proxies.length-1?Z.destination:{host:Z.proxies[W+1].host||Z.proxies[W+1].ipaddress,port:Z.proxies[W+1].port},Q=yield v$.createConnection({command:"connect",proxy:G,destination:K,existing_socket:$});$=$||Q.socket}if(typeof Y==="function")Y(null,{socket:$}),J({socket:$});else J({socket:$})}catch($){if(typeof Y==="function")Y($),J($);else X($)}}))}static createUDPFrame(Z){const Y=new b8.SmartBuffer;if(Y.writeUInt16BE(0),Y.writeUInt8(Z.frameNumber||0),TZ.isIPv4(Z.remoteHost.host))Y.writeUInt8(l.Socks5HostType.IPv4),Y.writeUInt32BE(K6.toLong(Z.remoteHost.host));else if(TZ.isIPv6(Z.remoteHost.host))Y.writeUInt8(l.Socks5HostType.IPv6),Y.writeBuffer(K6.toBuffer(Z.remoteHost.host));else Y.writeUInt8(l.Socks5HostType.Hostname),Y.writeUInt8(Buffer.byteLength(Z.remoteHost.host)),Y.writeString(Z.remoteHost.host);return Y.writeUInt16BE(Z.remoteHost.port),Y.writeBuffer(Z.data),Y.toBuffer()}static parseUDPFrame(Z){const Y=b8.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J=Y.readUInt8(),X=Y.readUInt8();let $;if(X===l.Socks5HostType.IPv4)$=K6.fromLong(Y.readUInt32BE());else if(X===l.Socks5HostType.IPv6)$=K6.toString(Y.readBuffer(16));else $=Y.readString(Y.readUInt8());const W=Y.readUInt16BE();return{frameNumber:J,remoteHost:{host:$,port:W},data:Y.readBuffer()}}setState(Z){if(this.state!==l.SocksClientState.Error)this.state=Z}connect(Z){this.onDataReceived=(J)=>this.onDataReceivedHandler(J),this.onClose=()=>this.onCloseHandler(),this.onError=(J)=>this.onErrorHandler(J),this.onConnect=()=>this.onConnectHandler();const Y=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||l.DEFAULT_TIMEOUT);if(Y.unref&&typeof Y.unref==="function")Y.unref();if(Z)this.socket=Z;else this.socket=new TZ.Socket;if(this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(l.SocksClientState.Connecting),this.receiveBuffer=new a61.ReceiveBuffer,Z)this.socket.emit("connect");else if(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null)this.socket.setNoDelay(!!this.options.set_tcp_nodelay);this.prependOnceListener("established",(J)=>{setImmediate(()=>{if(this.receiveBuffer.length>0){const X=this.receiveBuffer.get(this.receiveBuffer.length);J.socket.emit("data",X)}J.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){if(this.state!==l.SocksClientState.Established&&this.state!==l.SocksClientState.BoundWaitingForConnection)this.closeSocket(l.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){if(this.setState(l.SocksClientState.Connected),this.options.proxy.type===4)this.sendSocks4InitialHandshake();else this.sendSocks5InitialHandshake();this.setState(l.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(Z){this.receiveBuffer.append(Z),this.processData()}processData(){while(this.state!==l.SocksClientState.Established&&this.state!==l.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize)if(this.state===l.SocksClientState.SentInitialHandshake)if(this.options.proxy.type===4)this.handleSocks4FinalHandshakeResponse();else this.handleInitialSocks5HandshakeResponse();else if(this.state===l.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===l.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===l.SocksClientState.BoundWaitingForConnection)if(this.options.proxy.type===4)this.handleSocks4IncomingConnectionResponse();else this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(l.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(l.ERRORS.SocketClosed)}onErrorHandler(Z){this.closeSocket(Z.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(Z){if(this.state!==l.SocksClientState.Error)this.setState(l.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new FF.SocksClientError(Z,this.options))}sendSocks4InitialHandshake(){const Z=this.options.proxy.userId||"",Y=new b8.SmartBuffer;if(Y.writeUInt8(4),Y.writeUInt8(l.SocksCommand[this.options.command]),Y.writeUInt16BE(this.options.destination.port),TZ.isIPv4(this.options.destination.host))Y.writeBuffer(K6.toBuffer(this.options.destination.host)),Y.writeStringNT(Z);else Y.writeUInt8(0),Y.writeUInt8(0),Y.writeUInt8(0),Y.writeUInt8(1),Y.writeStringNT(Z),Y.writeStringNT(this.options.destination.host);this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(Y.toBuffer())}handleSocks4FinalHandshakeResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==l.Socks4Response.Granted)this.closeSocket(`${l.ERRORS.Socks4ProxyRejectedConnection} - (${l.Socks4Response[Z[1]]})`);else if(l.SocksCommand[this.options.command]===l.SocksCommand.bind){const Y=b8.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J={port:Y.readUInt16BE(),host:K6.fromLong(Y.readUInt32BE())};if(J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress;this.setState(l.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:J,socket:this.socket})}else this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==l.Socks4Response.Granted)this.closeSocket(`${l.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${l.Socks4Response[Z[1]]})`);else{const Y=b8.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J={port:Y.readUInt16BE(),host:K6.fromLong(Y.readUInt32BE())};this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}sendSocks5InitialHandshake(){const Z=new b8.SmartBuffer,Y=[l.Socks5Auth.NoAuth];if(this.options.proxy.userId||this.options.proxy.password)Y.push(l.Socks5Auth.UserPass);if(this.options.proxy.custom_auth_method!==void 0)Y.push(this.options.proxy.custom_auth_method);Z.writeUInt8(5),Z.writeUInt8(Y.length);for(let J of Y)Z.writeUInt8(J);this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(Z.toBuffer()),this.setState(l.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const Z=this.receiveBuffer.get(2);if(Z[0]!==5)this.closeSocket(l.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion);else if(Z[1]===l.SOCKS5_NO_ACCEPTABLE_AUTH)this.closeSocket(l.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType);else if(Z[1]===l.Socks5Auth.NoAuth)this.socks5ChosenAuthType=l.Socks5Auth.NoAuth,this.sendSocks5CommandRequest();else if(Z[1]===l.Socks5Auth.UserPass)this.socks5ChosenAuthType=l.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication();else if(Z[1]===this.options.proxy.custom_auth_method)this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication();else this.closeSocket(l.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const Z=this.options.proxy.userId||"",Y=this.options.proxy.password||"",J=new b8.SmartBuffer;J.writeUInt8(1),J.writeUInt8(Buffer.byteLength(Z)),J.writeString(Z),J.writeUInt8(Buffer.byteLength(Y)),J.writeString(Y),this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(J.toBuffer()),this.setState(l.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return PZ(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(l.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(Z){return PZ(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(Z)})}handleSocks5AuthenticationNoAuthHandshakeResponse(Z){return PZ(this,void 0,void 0,function*(){return Z[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(Z){return PZ(this,void 0,void 0,function*(){return Z[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return PZ(this,void 0,void 0,function*(){this.setState(l.SocksClientState.ReceivedAuthenticationResponse);let Z=!1;if(this.socks5ChosenAuthType===l.Socks5Auth.NoAuth)Z=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===l.Socks5Auth.UserPass)Z=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===this.options.proxy.custom_auth_method)Z=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size));if(!Z)this.closeSocket(l.ERRORS.Socks5AuthenticationFailed);else this.sendSocks5CommandRequest()})}sendSocks5CommandRequest(){const Z=new b8.SmartBuffer;if(Z.writeUInt8(5),Z.writeUInt8(l.SocksCommand[this.options.command]),Z.writeUInt8(0),TZ.isIPv4(this.options.destination.host))Z.writeUInt8(l.Socks5HostType.IPv4),Z.writeBuffer(K6.toBuffer(this.options.destination.host));else if(TZ.isIPv6(this.options.destination.host))Z.writeUInt8(l.Socks5HostType.IPv6),Z.writeBuffer(K6.toBuffer(this.options.destination.host));else Z.writeUInt8(l.Socks5HostType.Hostname),Z.writeUInt8(this.options.destination.host.length),Z.writeString(this.options.destination.host);Z.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(Z.toBuffer()),this.setState(l.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==l.Socks5Response.Granted)this.closeSocket(`${l.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${l.Socks5Response[Z[1]]}`);else{const Y=Z[3];let J,X;if(Y===l.Socks5HostType.IPv4){const $=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}if(X=b8.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:K6.fromLong(X.readUInt32BE()),port:X.readUInt16BE()},J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress}else if(Y===l.Socks5HostType.Hostname){const $=Z[4],W=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname($);if(this.receiveBuffer.length<W){this.nextRequiredPacketBufferSize=W;return}X=b8.SmartBuffer.fromBuffer(this.receiveBuffer.get(W).slice(5)),J={host:X.readString($),port:X.readUInt16BE()}}else if(Y===l.Socks5HostType.IPv6){const $=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}X=b8.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:K6.toString(X.readBuffer(16)),port:X.readUInt16BE()}}if(this.setState(l.SocksClientState.ReceivedFinalResponse),l.SocksCommand[this.options.command]===l.SocksCommand.connect)this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket});else if(l.SocksCommand[this.options.command]===l.SocksCommand.bind)this.setState(l.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:J,socket:this.socket});else if(l.SocksCommand[this.options.command]===l.SocksCommand.associate)this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}handleSocks5IncomingConnectionResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==l.Socks5Response.Granted)this.closeSocket(`${l.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${l.Socks5Response[Z[1]]}`);else{const Y=Z[3];let J,X;if(Y===l.Socks5HostType.IPv4){const $=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}if(X=b8.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:K6.fromLong(X.readUInt32BE()),port:X.readUInt16BE()},J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress}else if(Y===l.Socks5HostType.Hostname){const $=Z[4],W=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname($);if(this.receiveBuffer.length<W){this.nextRequiredPacketBufferSize=W;return}X=b8.SmartBuffer.fromBuffer(this.receiveBuffer.get(W).slice(5)),J={host:X.readString($),port:X.readUInt16BE()}}else if(Y===l.Socks5HostType.IPv6){const $=l.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}X=b8.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:K6.toString(X.readBuffer(16)),port:X.readUInt16BE()}}this.setState(l.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}i4.SocksClient=v$});var DT=w((X9)=>{var s61=X9&&X9.__createBinding||(Object.create?function(Z,Y,J,X){if(X===void 0)X=J;var $=Object.getOwnPropertyDescriptor(Y,J);if(!$||("get"in $?!Y.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Y[J]}};Object.defineProperty(Z,X,$)}:function(Z,Y,J,X){if(X===void 0)X=J;Z[X]=Y[J]}),r61=X9&&X9.__exportStar||function(Z,Y){for(var J in Z)if(J!=="default"&&!Object.prototype.hasOwnProperty.call(Y,J))s61(Y,Z,J)};Object.defineProperty(X9,"__esModule",{value:!0});r61(NT(),X9)});var $7=w((IT)=>{var xJ=function(Z){return new Proxy(Z?{kModuleError:Z}:{},{get:(J,X)=>{if(X==="kModuleError")return Z;throw Z},set:()=>{throw Z}})},t61=function(){try{return IT.Kerberos=(()=>{ throw new Error(`Cannot require module "kerberos"`);})(),IT.Kerberos}catch{return IT.Kerberos}},o61=function(){try{return IT.ZStandard=(()=>{ throw new Error(`Cannot require module "@mongodb-js/zstd"`);})(),IT.ZStandard}catch{return IT.ZStandard}},e61=function(){try{return (()=>{ throw new Error(`Cannot require module "@aws-sdk/credential-providers"`);})()}catch{return xJ(new n4.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}},Z71=function(){try{return (()=>{ throw new Error(`Cannot require module "gcp-metadata"`);})()}catch{return xJ(new n4.MongoMissingDependencyError("Optional module `gcp-metadata` not found. Please install it to enable getting gcp credentials via the official sdk."))}},Y71=function(){try{return (()=>{ throw new Error(`Cannot require module "snappy"`);})()}catch(Z){return{kModuleError:new n4.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:Z})}}},J71=function(){try{return DT()}catch(Z){return{kModuleError:new n4.MongoMissingDependencyError("Optional module `socks` not found. Please install it to connections over a SOCKS5 proxy",{cause:Z})}}},X71=function(){let Z=null;try{Z=(()=>{ throw new Error(`Cannot require module "mongodb-client-encryption"`);})()}catch(Y){return{kModuleError:new n4.MongoMissingDependencyError("Optional module `mongodb-client-encryption` not found. Please install it to use auto encryption or ClientEncryption.",{cause:Y})}}return Z};Object.defineProperty(IT,"__esModule",{value:!0});IT.getMongoDBClientEncryption=IT.aws4=IT.getSocks=IT.getSnappy=IT.getGcpMetadata=IT.getAwsCredentialProvider=IT.getZstdLibrary=IT.ZStandard=IT.getKerberos=IT.Kerberos=void 0;var n4=r();IT.Kerberos=xJ(new n4.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));IT.getKerberos=t61;IT.ZStandard=xJ(new n4.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));IT.getZstdLibrary=o61;IT.getAwsCredentialProvider=e61;IT.getGcpMetadata=Z71;IT.getSnappy=Y71;IT.getSocks=J71;IT.aws4=xJ(new n4.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{IT.aws4=(()=>{ throw new Error(`Cannot require module "aws4"`);})()}catch{}IT.getMongoDBClientEncryption=X71});var G4=w((CT)=>{Object.defineProperty(CT,"__esModule",{value:!0});CT.AuthProvider=CT.AuthContext=void 0;var H71=r();class jT{constructor(Z,Y,J){this.reauthenticating=!1,this.connection=Z,this.credentials=Y,this.options=J}}CT.AuthContext=jT;class ET{async prepare(Z,Y){return Z}async reauth(Z){if(Z.reauthenticating)throw new H71.MongoRuntimeError("Reauthentication already in progress.");try{Z.reauthenticating=!0,await this.auth(Z)}finally{Z.reauthenticating=!1}}}CT.AuthProvider=ET});var d$=w((fT)=>{async function qF(Z,Y){return Z.commandAsync(V71.ns("$external.$cmd"),Y,void 0)}async function L71(Z){const{hostAddress:Y}=Z.options,{credentials:J}=Z;if(!Y||typeof Y.host!=="string"||!J)throw new ST.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(A71(),"kModuleError"in fJ)throw fJ.kModuleError;const{initializeClient:X}=fJ,{username:$,password:W}=J,G=J.mechanismProperties,K=G.SERVICE_NAME??"mongodb",Q=await xT(Y.host,G),z={};if(W!=null)Object.assign(z,{user:$,password:W});const H=G.SERVICE_HOST??Q;let F=`${K}${process.platform==="win32"?"/":"@"}${H}`;if("SERVICE_REALM"in G)F=`${F}@${G.SERVICE_REALM}`;return X(F,z)}var w71=function(Z){return{saslStart:1,mechanism:"GSSAPI",payload:Z,autoAuthorize:1}},R71=function(Z,Y){return{saslContinue:1,conversationId:Y,payload:Z}};async function _T(Z,Y,J){try{return await Z.step(J)||""}catch(X){if(Y===0)throw X;return _T(Z,Y-1,J)}}async function M71(Z,Y,J){const X=await Z.unwrap(J);return Z.wrap(X||"",{user:Y})}async function xT(Z,Y){const J=Y.CANONICALIZE_HOST_NAME;if(!J||J===fT.GSSAPICanonicalizationValue.none)return Z;if(J===fT.GSSAPICanonicalizationValue.on||J===fT.GSSAPICanonicalizationValue.forwardAndReverse){const{address:X}=await VF.promises.lookup(Z);try{const $=await VF.promises.resolvePtr(X);return $.length>0?$[0]:Z}catch($){return UF(Z)}}else return UF(Z)}async function UF(Z){try{const Y=await VF.promises.resolveCname(Z);return Y.length>0?Y[0]:Z}catch{return Z}}var A71=function(){if(!fJ)fJ=q71.getKerberos()};Object.defineProperty(fT,"__esModule",{value:!0});fT.resolveCname=fT.performGSSAPICanonicalizeHostName=fT.GSSAPI=fT.GSSAPICanonicalizationValue=void 0;var VF=import.meta.require("dns"),q71=$7(),ST=r(),V71=X1(),U71=G4();fT.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});var fJ;class kT extends U71.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(J==null)throw new ST.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");const{username:X}=J,$=await L71(Z),W=await $.step(""),G=await qF(Y,w71(W)),K=await _T($,10,G.payload),Q=await qF(Y,R71(K,G.conversationId)),z=await M71($,X,Q.payload);await qF(Y,{saslContinue:1,conversationId:Q.conversationId,payload:z})}}fT.GSSAPI=kT;fT.performGSSAPICanonicalizeHostName=xT;fT.resolveCname=UF});var C7=w((gT)=>{Object.defineProperty(gT,"__esModule",{value:!0});gT.AUTH_MECHS_AUTH_SRC_EXTERNAL=gT.AuthMechanism=void 0;gT.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"});gT.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([gT.AuthMechanism.MONGODB_GSSAPI,gT.AuthMechanism.MONGODB_AWS,gT.AuthMechanism.MONGODB_OIDC,gT.AuthMechanism.MONGODB_X509])});var l$=w((mT)=>{var I71=function(Z){if(Z){if(Array.isArray(Z.saslSupportedMechs))return Z.saslSupportedMechs.includes(n0.AuthMechanism.MONGODB_SCRAM_SHA256)?n0.AuthMechanism.MONGODB_SCRAM_SHA256:n0.AuthMechanism.MONGODB_SCRAM_SHA1;if(Z.maxWireVersion>=3)return n0.AuthMechanism.MONGODB_SCRAM_SHA1}return n0.AuthMechanism.MONGODB_CR};Object.defineProperty(mT,"__esModule",{value:!0});mT.MongoCredentials=mT.DEFAULT_ALLOWED_HOSTS=void 0;var S6=r(),D71=d$(),n0=C7(),vT=["aws","azure"],hT="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";mT.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];var P71="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class c${constructor(Z){if(this.username=Z.username??"",this.password=Z.password,this.source=Z.source,!this.source&&Z.db)this.source=Z.db;if(this.mechanism=Z.mechanism||n0.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=Z.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)){if(!this.username&&process.env.AWS_ACCESS_KEY_ID)this.username=process.env.AWS_ACCESS_KEY_ID;if(!this.password&&process.env.AWS_SECRET_ACCESS_KEY)this.password=process.env.AWS_SECRET_ACCESS_KEY;if(this.mechanismProperties.AWS_SESSION_TOKEN==null&&process.env.AWS_SESSION_TOKEN!=null)this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN}}if(this.mechanism===n0.AuthMechanism.MONGODB_OIDC&&!this.mechanismProperties.ALLOWED_HOSTS)this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:mT.DEFAULT_ALLOWED_HOSTS};Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(Z){return this.mechanism===Z.mechanism&&this.username===Z.username&&this.password===Z.password&&this.source===Z.source}resolveAuthMechanism(Z){if(this.mechanism.match(/DEFAULT/i))return new c$({username:this.username,password:this.password,source:this.source,mechanism:I71(Z),mechanismProperties:this.mechanismProperties});return this}validate(){if((this.mechanism===n0.AuthMechanism.MONGODB_GSSAPI||this.mechanism===n0.AuthMechanism.MONGODB_CR||this.mechanism===n0.AuthMechanism.MONGODB_PLAIN||this.mechanism===n0.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===n0.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new S6.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===n0.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.PROVIDER_NAME)throw new S6.MongoInvalidArgumentError(`username and PROVIDER_NAME may not be used together for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.PROVIDER_NAME==="azure"&&!this.mechanismProperties.TOKEN_AUDIENCE)throw new S6.MongoAzureError(P71);if(this.mechanismProperties.PROVIDER_NAME&&!vT.includes(this.mechanismProperties.PROVIDER_NAME))throw new S6.MongoInvalidArgumentError(`Currently only a PROVIDER_NAME in ${vT.join(",")} is supported for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.REFRESH_TOKEN_CALLBACK&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new S6.MongoInvalidArgumentError(`A REQUEST_TOKEN_CALLBACK must be provided when using a REFRESH_TOKEN_CALLBACK for mechanism '${this.mechanism}'`);if(!this.mechanismProperties.PROVIDER_NAME&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new S6.MongoInvalidArgumentError(`Either a PROVIDER_NAME or a REQUEST_TOKEN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){const Y=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(Y))throw new S6.MongoInvalidArgumentError(hT);for(let J of Y)if(typeof J!=="string")throw new S6.MongoInvalidArgumentError(hT)}}if(n0.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)){if(this.source!=null&&this.source!=="$external")throw new S6.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`)}if(this.mechanism===n0.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new S6.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===n0.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new S6.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}const Z=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(D71.GSSAPICanonicalizationValue).includes(Z))throw new S6.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${Z}`)}static merge(Z,Y){return new c$({username:Y.username??Z?.username??"",password:Y.password??Z?.password??"",mechanism:Y.mechanism??Z?.mechanism??n0.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:Y.mechanismProperties??Z?.mechanismProperties??{},source:Y.source??Y.db??Z?.source??"admin"})}}mT.MongoCredentials=c$});var i$=w((iT)=>{var c1=function(Z,Y,J){if(J.globals)Z=J.globals[Z.name];return new Z(`${J.context?J.context:"Value"} ${Y}.`)},CZ=function(Z,Y){if(typeof Z==="bigint")throw c1(TypeError,"is a BigInt which cannot be converted to a number",Y);if(!Y.globals)return Number(Z);return Y.globals.Number(Z)},lT=function(Z){if(Z>0&&Z%1===0.5&&(Z&1)===0||Z<0&&Z%1===-0.5&&(Z&1)===1)return gJ(Math.floor(Z));return gJ(Math.round(Z))},p$=function(Z){return gJ(Math.trunc(Z))},cT=function(Z){return Z<0?-1:1},T71=function(Z,Y){const J=Z%Y;if(cT(Y)!==cT(J))return J+Y;return J},gJ=function(Z){return Z===0?0:Z},OZ=function(Z,{unsigned:Y}){let J,X;if(Y)J=0,X=2**Z-1;else J=-(2**(Z-1)),X=2**(Z-1)-1;const $=2**Z,W=2**(Z-1);return(G,K={})=>{let Q=CZ(G,K);if(Q=gJ(Q),K.enforceRange){if(!Number.isFinite(Q))throw c1(TypeError,"is not a finite number",K);if(Q=p$(Q),Q<J||Q>X)throw c1(TypeError,`is outside the accepted range of ${J} to ${X}, inclusive`,K);return Q}if(!Number.isNaN(Q)&&K.clamp)return Q=Math.min(Math.max(Q,J),X),Q=lT(Q),Q;if(!Number.isFinite(Q)||Q===0)return 0;if(Q=p$(Q),Q>=J&&Q<=X)return Q;if(Q=T71(Q,$),!Y&&Q>=W)return Q-$;return Q}},pT=function(Z,{unsigned:Y}){const J=Number.MAX_SAFE_INTEGER,X=Y?0:Number.MIN_SAFE_INTEGER,$=Y?BigInt.asUintN:BigInt.asIntN;return(W,G={})=>{let K=CZ(W,G);if(K=gJ(K),G.enforceRange){if(!Number.isFinite(K))throw c1(TypeError,"is not a finite number",G);if(K=p$(K),K<X||K>J)throw c1(TypeError,`is outside the accepted range of ${X} to ${J}, inclusive`,G);return K}if(!Number.isNaN(K)&&G.clamp)return K=Math.min(Math.max(K,X),J),K=lT(K),K;if(!Number.isFinite(K)||K===0)return 0;let Q=BigInt(p$(K));return Q=$(Z,Q),Number(Q)}},LF=function(Z){try{return j71.call(Z),!0}catch{return!1}},jZ=function(Z){try{return E71.call(Z),!0}catch{return!1}},EZ=function(Z){try{return new Uint8Array(Z),!1}catch{return!0}};iT.any=(Z)=>{return Z};iT.undefined=()=>{return};iT.boolean=(Z)=>{return Boolean(Z)};iT.byte=OZ(8,{unsigned:!1});iT.octet=OZ(8,{unsigned:!0});iT.short=OZ(16,{unsigned:!1});iT["unsigned short"]=OZ(16,{unsigned:!0});iT.long=OZ(32,{unsigned:!1});iT["unsigned long"]=OZ(32,{unsigned:!0});iT["long long"]=pT(64,{unsigned:!1});iT["unsigned long long"]=pT(64,{unsigned:!0});iT.double=(Z,Y={})=>{const J=CZ(Z,Y);if(!Number.isFinite(J))throw c1(TypeError,"is not a finite floating-point value",Y);return J};iT["unrestricted double"]=(Z,Y={})=>{return CZ(Z,Y)};iT.float=(Z,Y={})=>{const J=CZ(Z,Y);if(!Number.isFinite(J))throw c1(TypeError,"is not a finite floating-point value",Y);if(Object.is(J,-0))return J;const X=Math.fround(J);if(!Number.isFinite(X))throw c1(TypeError,"is outside the range of a single-precision floating-point value",Y);return X};iT["unrestricted float"]=(Z,Y={})=>{const J=CZ(Z,Y);if(isNaN(J))return J;if(Object.is(J,-0))return J;return Math.fround(J)};iT.DOMString=(Z,Y={})=>{if(Y.treatNullAsEmptyString&&Z===null)return"";if(typeof Z==="symbol")throw c1(TypeError,"is a symbol, which cannot be converted to a string",Y);return(Y.globals?Y.globals.String:String)(Z)};iT.ByteString=(Z,Y={})=>{const J=iT.DOMString(Z,Y);let X;for(let $=0;(X=J.codePointAt($))!==void 0;++$)if(X>255)throw c1(TypeError,"is not a valid ByteString",Y);return J};iT.USVString=(Z,Y={})=>{const J=iT.DOMString(Z,Y),X=J.length,$=[];for(let W=0;W<X;++W){const G=J.charCodeAt(W);if(G<55296||G>57343)$.push(String.fromCodePoint(G));else if(56320<=G&&G<=57343)$.push(String.fromCodePoint(65533));else if(W===X-1)$.push(String.fromCodePoint(65533));else{const K=J.charCodeAt(W+1);if(56320<=K&&K<=57343){const Q=G&1023,z=K&1023;$.push(String.fromCodePoint((2<<15)+(2<<9)*Q+z)),++W}else $.push(String.fromCodePoint(65533))}}return $.join("")};iT.object=(Z,Y={})=>{if(Z===null||typeof Z!=="object"&&typeof Z!=="function")throw c1(TypeError,"is not an object",Y);return Z};var j71=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,E71=typeof SharedArrayBuffer==="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;iT.ArrayBuffer=(Z,Y={})=>{if(!LF(Z)){if(Y.allowShared&&!jZ(Z))throw c1(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",Y);throw c1(TypeError,"is not an ArrayBuffer",Y)}if(EZ(Z))throw c1(TypeError,"is a detached ArrayBuffer",Y);return Z};var C71=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;iT.DataView=(Z,Y={})=>{try{C71.call(Z)}catch(J){throw c1(TypeError,"is not a DataView",Y)}if(!Y.allowShared&&jZ(Z.buffer))throw c1(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",Y);if(EZ(Z.buffer))throw c1(TypeError,"is backed by a detached ArrayBuffer",Y);return Z};var O71=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((Z)=>{const{name:Y}=Z,J=/^[AEIOU]/u.test(Y)?"an":"a";iT[Y]=(X,$={})=>{if(!ArrayBuffer.isView(X)||O71.call(X)!==Y)throw c1(TypeError,`is not ${J} ${Y} object`,$);if(!$.allowShared&&jZ(X.buffer))throw c1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",$);if(EZ(X.buffer))throw c1(TypeError,"is a view on a detached ArrayBuffer",$);return X}});iT.ArrayBufferView=(Z,Y={})=>{if(!ArrayBuffer.isView(Z))throw c1(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",Y);if(!Y.allowShared&&jZ(Z.buffer))throw c1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",Y);if(EZ(Z.buffer))throw c1(TypeError,"is a view on a detached ArrayBuffer",Y);return Z};iT.BufferSource=(Z,Y={})=>{if(ArrayBuffer.isView(Z)){if(!Y.allowShared&&jZ(Z.buffer))throw c1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",Y);if(EZ(Z.buffer))throw c1(TypeError,"is a view on a detached ArrayBuffer",Y);return Z}if(!Y.allowShared&&!LF(Z))throw c1(TypeError,"is not an ArrayBuffer or a view on one",Y);if(Y.allowShared&&!jZ(Z)&&!LF(Z))throw c1(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",Y);if(EZ(Z))throw c1(TypeError,"is a detached ArrayBuffer",Y);return Z};iT.DOMTimeStamp=iT["unsigned long long"]});var a$=w((Zj,Yj)=>{var o71=function(Z){return typeof Z==="object"&&Z!==null||typeof Z==="function"},e71=function(Z,Y){for(let J of Reflect.ownKeys(Y)){const X=Reflect.getOwnPropertyDescriptor(Y,J);if(X&&!Reflect.defineProperty(Z,J,X))throw new TypeError(`Cannot redefine property: ${String(J)}`)}},Z41=function(Z,Y){const J=tT(Z);return Object.defineProperties(Object.create(J["%Object.prototype%"]),Object.getOwnPropertyDescriptors(Y))},tT=function(Z){if(aT(Z,n$))return Z[n$];const Y=Object.create(null);Y["%Object.prototype%"]=Z.Object.prototype,Y["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new Z.Array()[Symbol.iterator]()));try{Y["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(Z.eval("(async function* () {})").prototype))}catch{Y["%AsyncIteratorPrototype%"]=Y41}return Z[n$]=Y,Y},J41=function(Z,Y,J){if(!Z[SZ])Z[SZ]=Object.create(null);if(Y in Z[SZ])return Z[SZ][Y];return Z[SZ][Y]=J(),Z[SZ][Y]},oT=function(Z){return Z?Z[sT]:null},eT=function(Z){return Z?Z[rT]:null},X41=function(Z){const Y=oT(Z);return Y?Y:Z},$41=function(Z){const Y=eT(Z);return Y?Y:Z},G41=function(Z){if(typeof Z!=="string")return!1;const Y=Z>>>0;if(Y===4294967295)return!1;const J=`${Y}`;if(Z!==J)return!1;return!0},Q41=function(Z){try{return K41.call(Z),!0}catch(Y){return!1}},z41=function([Z,Y],J){let X;switch(J){case"key":X=Z;break;case"value":X=Y;break;case"key+value":X=[Z,Y];break}return{value:X,done:!1}},aT=Function.prototype.call.bind(Object.prototype.hasOwnProperty),sT=Symbol("wrapper"),rT=Symbol("impl"),SZ=Symbol("SameObject caches"),n$=Symbol.for("[webidl2js] constructor registry"),Y41=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),W41=Symbol("internal"),K41=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,H41=Symbol("supports property index"),F41=Symbol("supported property indices"),q41=Symbol("supports property name"),V41=Symbol("supported property names"),U41=Symbol("indexed property get"),L41=Symbol("indexed property set new"),w41=Symbol("indexed property set existing"),R41=Symbol("named property get"),M41=Symbol("named property set new"),A41=Symbol("named property set existing"),B41=Symbol("named property delete"),N41=Symbol("async iterator get the next iteration result"),D41=Symbol("async iterator return steps"),I41=Symbol("async iterator initialization steps"),P41=Symbol("async iterator end of iteration");Yj.exports=Zj={isObject:o71,hasOwn:aT,define:e71,newObjectInRealm:Z41,wrapperSymbol:sT,implSymbol:rT,getSameObject:J41,ctorRegistrySymbol:n$,initCtorRegistry:tT,wrapperForImpl:oT,implForWrapper:eT,tryWrapperForImpl:X41,tryImplForWrapper:$41,iterInternalSymbol:W41,isArrayBuffer:Q41,isArrayIndexPropName:G41,supportsPropertyIndex:H41,supportedPropertyIndices:F41,supportsPropertyName:q41,supportedPropertyNames:V41,indexedGet:U41,indexedSetNew:L41,indexedSetExisting:w41,namedGet:R41,namedSetNew:M41,namedSetExisting:A41,namedDelete:B41,asyncIteratorNext:N41,asyncIteratorReturn:D41,asyncIteratorInit:I41,asyncIteratorEOI:P41,iteratorResult:z41}});var Xj=w((EI1,Jj)=>{var T41=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,j41=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,E41=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,C41=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,O41=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,S41=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,k41=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11FD5}-\u{11FF1}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,_41=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,x41=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,f41=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,y41=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1123E}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,g41=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;Jj.exports={combiningMarks:T41,combiningClassVirama:j41,validZWNJ:E41,bidiDomain:C41,bidiS1LTR:O41,bidiS1RTL:S41,bidiS2:k41,bidiS3:_41,bidiS4EN:x41,bidiS4AN:f41,bidiS5:y41,bidiS6:g41}});var $j=w((CI1,b41)=>{b41.exports=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," \u0308"],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," \u0304"],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," \u0301"],[181,1,"\u03BC"],[182,2],[183,2],[184,5," \u0327"],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"1\u20444"],[189,1,"1\u20442"],[190,1,"3\u20444"],[191,2],[192,1,"\xE0"],[193,1,"\xE1"],[194,1,"\xE2"],[195,1,"\xE3"],[196,1,"\xE4"],[197,1,"\xE5"],[198,1,"\xE6"],[199,1,"\xE7"],[200,1,"\xE8"],[201,1,"\xE9"],[202,1,"\xEA"],[203,1,"\xEB"],[204,1,"\xEC"],[205,1,"\xED"],[206,1,"\xEE"],[207,1,"\xEF"],[208,1,"\xF0"],[209,1,"\xF1"],[210,1,"\xF2"],[211,1,"\xF3"],[212,1,"\xF4"],[213,1,"\xF5"],[214,1,"\xF6"],[215,2],[216,1,"\xF8"],[217,1,"\xF9"],[218,1,"\xFA"],[219,1,"\xFB"],[220,1,"\xFC"],[221,1,"\xFD"],[222,1,"\xFE"],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,"\u0101"],[257,2],[258,1,"\u0103"],[259,2],[260,1,"\u0105"],[261,2],[262,1,"\u0107"],[263,2],[264,1,"\u0109"],[265,2],[266,1,"\u010B"],[267,2],[268,1,"\u010D"],[269,2],[270,1,"\u010F"],[271,2],[272,1,"\u0111"],[273,2],[274,1,"\u0113"],[275,2],[276,1,"\u0115"],[277,2],[278,1,"\u0117"],[279,2],[280,1,"\u0119"],[281,2],[282,1,"\u011B"],[283,2],[284,1,"\u011D"],[285,2],[286,1,"\u011F"],[287,2],[288,1,"\u0121"],[289,2],[290,1,"\u0123"],[291,2],[292,1,"\u0125"],[293,2],[294,1,"\u0127"],[295,2],[296,1,"\u0129"],[297,2],[298,1,"\u012B"],[299,2],[300,1,"\u012D"],[301,2],[302,1,"\u012F"],[303,2],[304,1,"i\u0307"],[305,2],[[306,307],1,"ij"],[308,1,"\u0135"],[309,2],[310,1,"\u0137"],[[311,312],2],[313,1,"\u013A"],[314,2],[315,1,"\u013C"],[316,2],[317,1,"\u013E"],[318,2],[[319,320],1,"l\xB7"],[321,1,"\u0142"],[322,2],[323,1,"\u0144"],[324,2],[325,1,"\u0146"],[326,2],[327,1,"\u0148"],[328,2],[329,1,"\u02BCn"],[330,1,"\u014B"],[331,2],[332,1,"\u014D"],[333,2],[334,1,"\u014F"],[335,2],[336,1,"\u0151"],[337,2],[338,1,"\u0153"],[339,2],[340,1,"\u0155"],[341,2],[342,1,"\u0157"],[343,2],[344,1,"\u0159"],[345,2],[346,1,"\u015B"],[347,2],[348,1,"\u015D"],[349,2],[350,1,"\u015F"],[351,2],[352,1,"\u0161"],[353,2],[354,1,"\u0163"],[355,2],[356,1,"\u0165"],[357,2],[358,1,"\u0167"],[359,2],[360,1,"\u0169"],[361,2],[362,1,"\u016B"],[363,2],[364,1,"\u016D"],[365,2],[366,1,"\u016F"],[367,2],[368,1,"\u0171"],[369,2],[370,1,"\u0173"],[371,2],[372,1,"\u0175"],[373,2],[374,1,"\u0177"],[375,2],[376,1,"\xFF"],[377,1,"\u017A"],[378,2],[379,1,"\u017C"],[380,2],[381,1,"\u017E"],[382,2],[383,1,"s"],[384,2],[385,1,"\u0253"],[386,1,"\u0183"],[387,2],[388,1,"\u0185"],[389,2],[390,1,"\u0254"],[391,1,"\u0188"],[392,2],[393,1,"\u0256"],[394,1,"\u0257"],[395,1,"\u018C"],[[396,397],2],[398,1,"\u01DD"],[399,1,"\u0259"],[400,1,"\u025B"],[401,1,"\u0192"],[402,2],[403,1,"\u0260"],[404,1,"\u0263"],[405,2],[406,1,"\u0269"],[407,1,"\u0268"],[408,1,"\u0199"],[[409,411],2],[412,1,"\u026F"],[413,1,"\u0272"],[414,2],[415,1,"\u0275"],[416,1,"\u01A1"],[417,2],[418,1,"\u01A3"],[419,2],[420,1,"\u01A5"],[421,2],[422,1,"\u0280"],[423,1,"\u01A8"],[424,2],[425,1,"\u0283"],[[426,427],2],[428,1,"\u01AD"],[429,2],[430,1,"\u0288"],[431,1,"\u01B0"],[432,2],[433,1,"\u028A"],[434,1,"\u028B"],[435,1,"\u01B4"],[436,2],[437,1,"\u01B6"],[438,2],[439,1,"\u0292"],[440,1,"\u01B9"],[[441,443],2],[444,1,"\u01BD"],[[445,451],2],[[452,454],1,"d\u017E"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,"\u01CE"],[462,2],[463,1,"\u01D0"],[464,2],[465,1,"\u01D2"],[466,2],[467,1,"\u01D4"],[468,2],[469,1,"\u01D6"],[470,2],[471,1,"\u01D8"],[472,2],[473,1,"\u01DA"],[474,2],[475,1,"\u01DC"],[[476,477],2],[478,1,"\u01DF"],[479,2],[480,1,"\u01E1"],[481,2],[482,1,"\u01E3"],[483,2],[484,1,"\u01E5"],[485,2],[486,1,"\u01E7"],[487,2],[488,1,"\u01E9"],[489,2],[490,1,"\u01EB"],[491,2],[492,1,"\u01ED"],[493,2],[494,1,"\u01EF"],[[495,496],2],[[497,499],1,"dz"],[500,1,"\u01F5"],[501,2],[502,1,"\u0195"],[503,1,"\u01BF"],[504,1,"\u01F9"],[505,2],[506,1,"\u01FB"],[507,2],[508,1,"\u01FD"],[509,2],[510,1,"\u01FF"],[511,2],[512,1,"\u0201"],[513,2],[514,1,"\u0203"],[515,2],[516,1,"\u0205"],[517,2],[518,1,"\u0207"],[519,2],[520,1,"\u0209"],[521,2],[522,1,"\u020B"],[523,2],[524,1,"\u020D"],[525,2],[526,1,"\u020F"],[527,2],[528,1,"\u0211"],[529,2],[530,1,"\u0213"],[531,2],[532,1,"\u0215"],[533,2],[534,1,"\u0217"],[535,2],[536,1,"\u0219"],[537,2],[538,1,"\u021B"],[539,2],[540,1,"\u021D"],[541,2],[542,1,"\u021F"],[543,2],[544,1,"\u019E"],[545,2],[546,1,"\u0223"],[547,2],[548,1,"\u0225"],[549,2],[550,1,"\u0227"],[551,2],[552,1,"\u0229"],[553,2],[554,1,"\u022B"],[555,2],[556,1,"\u022D"],[557,2],[558,1,"\u022F"],[559,2],[560,1,"\u0231"],[561,2],[562,1,"\u0233"],[563,2],[[564,566],2],[[567,569],2],[570,1,"\u2C65"],[571,1,"\u023C"],[572,2],[573,1,"\u019A"],[574,1,"\u2C66"],[[575,576],2],[577,1,"\u0242"],[578,2],[579,1,"\u0180"],[580,1,"\u0289"],[581,1,"\u028C"],[582,1,"\u0247"],[583,2],[584,1,"\u0249"],[585,2],[586,1,"\u024B"],[587,2],[588,1,"\u024D"],[589,2],[590,1,"\u024F"],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,"\u0266"],[690,1,"j"],[691,1,"r"],[692,1,"\u0279"],[693,1,"\u027B"],[694,1,"\u0281"],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," \u0306"],[729,5," \u0307"],[730,5," \u030A"],[731,5," \u0328"],[732,5," \u0303"],[733,5," \u030B"],[734,2],[735,2],[736,1,"\u0263"],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,"\u0295"],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,"\u0300"],[833,1,"\u0301"],[834,2],[835,1,"\u0313"],[836,1,"\u0308\u0301"],[837,1,"\u03B9"],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,"\u0371"],[881,2],[882,1,"\u0373"],[883,2],[884,1,"\u02B9"],[885,2],[886,1,"\u0377"],[887,2],[[888,889],3],[890,5," \u03B9"],[[891,893],2],[894,5,";"],[895,1,"\u03F3"],[[896,899],3],[900,5," \u0301"],[901,5," \u0308\u0301"],[902,1,"\u03AC"],[903,1,"\xB7"],[904,1,"\u03AD"],[905,1,"\u03AE"],[906,1,"\u03AF"],[907,3],[908,1,"\u03CC"],[909,3],[910,1,"\u03CD"],[911,1,"\u03CE"],[912,2],[913,1,"\u03B1"],[914,1,"\u03B2"],[915,1,"\u03B3"],[916,1,"\u03B4"],[917,1,"\u03B5"],[918,1,"\u03B6"],[919,1,"\u03B7"],[920,1,"\u03B8"],[921,1,"\u03B9"],[922,1,"\u03BA"],[923,1,"\u03BB"],[924,1,"\u03BC"],[925,1,"\u03BD"],[926,1,"\u03BE"],[927,1,"\u03BF"],[928,1,"\u03C0"],[929,1,"\u03C1"],[930,3],[931,1,"\u03C3"],[932,1,"\u03C4"],[933,1,"\u03C5"],[934,1,"\u03C6"],[935,1,"\u03C7"],[936,1,"\u03C8"],[937,1,"\u03C9"],[938,1,"\u03CA"],[939,1,"\u03CB"],[[940,961],2],[962,6,"\u03C3"],[[963,974],2],[975,1,"\u03D7"],[976,1,"\u03B2"],[977,1,"\u03B8"],[978,1,"\u03C5"],[979,1,"\u03CD"],[980,1,"\u03CB"],[981,1,"\u03C6"],[982,1,"\u03C0"],[983,2],[984,1,"\u03D9"],[985,2],[986,1,"\u03DB"],[987,2],[988,1,"\u03DD"],[989,2],[990,1,"\u03DF"],[991,2],[992,1,"\u03E1"],[993,2],[994,1,"\u03E3"],[995,2],[996,1,"\u03E5"],[997,2],[998,1,"\u03E7"],[999,2],[1000,1,"\u03E9"],[1001,2],[1002,1,"\u03EB"],[1003,2],[1004,1,"\u03ED"],[1005,2],[1006,1,"\u03EF"],[1007,2],[1008,1,"\u03BA"],[1009,1,"\u03C1"],[1010,1,"\u03C3"],[1011,2],[1012,1,"\u03B8"],[1013,1,"\u03B5"],[1014,2],[1015,1,"\u03F8"],[1016,2],[1017,1,"\u03C3"],[1018,1,"\u03FB"],[1019,2],[1020,2],[1021,1,"\u037B"],[1022,1,"\u037C"],[1023,1,"\u037D"],[1024,1,"\u0450"],[1025,1,"\u0451"],[1026,1,"\u0452"],[1027,1,"\u0453"],[1028,1,"\u0454"],[1029,1,"\u0455"],[1030,1,"\u0456"],[1031,1,"\u0457"],[1032,1,"\u0458"],[1033,1,"\u0459"],[1034,1,"\u045A"],[1035,1,"\u045B"],[1036,1,"\u045C"],[1037,1,"\u045D"],[1038,1,"\u045E"],[1039,1,"\u045F"],[1040,1,"\u0430"],[1041,1,"\u0431"],[1042,1,"\u0432"],[1043,1,"\u0433"],[1044,1,"\u0434"],[1045,1,"\u0435"],[1046,1,"\u0436"],[1047,1,"\u0437"],[1048,1,"\u0438"],[1049,1,"\u0439"],[1050,1,"\u043A"],[1051,1,"\u043B"],[1052,1,"\u043C"],[1053,1,"\u043D"],[1054,1,"\u043E"],[1055,1,"\u043F"],[1056,1,"\u0440"],[1057,1,"\u0441"],[1058,1,"\u0442"],[1059,1,"\u0443"],[1060,1,"\u0444"],[1061,1,"\u0445"],[1062,1,"\u0446"],[1063,1,"\u0447"],[1064,1,"\u0448"],[1065,1,"\u0449"],[1066,1,"\u044A"],[1067,1,"\u044B"],[1068,1,"\u044C"],[1069,1,"\u044D"],[1070,1,"\u044E"],[1071,1,"\u044F"],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,"\u0461"],[1121,2],[1122,1,"\u0463"],[1123,2],[1124,1,"\u0465"],[1125,2],[1126,1,"\u0467"],[1127,2],[1128,1,"\u0469"],[1129,2],[1130,1,"\u046B"],[1131,2],[1132,1,"\u046D"],[1133,2],[1134,1,"\u046F"],[1135,2],[1136,1,"\u0471"],[1137,2],[1138,1,"\u0473"],[1139,2],[1140,1,"\u0475"],[1141,2],[1142,1,"\u0477"],[1143,2],[1144,1,"\u0479"],[1145,2],[1146,1,"\u047B"],[1147,2],[1148,1,"\u047D"],[1149,2],[1150,1,"\u047F"],[1151,2],[1152,1,"\u0481"],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,"\u048B"],[1163,2],[1164,1,"\u048D"],[1165,2],[1166,1,"\u048F"],[1167,2],[1168,1,"\u0491"],[1169,2],[1170,1,"\u0493"],[1171,2],[1172,1,"\u0495"],[1173,2],[1174,1,"\u0497"],[1175,2],[1176,1,"\u0499"],[1177,2],[1178,1,"\u049B"],[1179,2],[1180,1,"\u049D"],[1181,2],[1182,1,"\u049F"],[1183,2],[1184,1,"\u04A1"],[1185,2],[1186,1,"\u04A3"],[1187,2],[1188,1,"\u04A5"],[1189,2],[1190,1,"\u04A7"],[1191,2],[1192,1,"\u04A9"],[1193,2],[1194,1,"\u04AB"],[1195,2],[1196,1,"\u04AD"],[1197,2],[1198,1,"\u04AF"],[1199,2],[1200,1,"\u04B1"],[1201,2],[1202,1,"\u04B3"],[1203,2],[1204,1,"\u04B5"],[1205,2],[1206,1,"\u04B7"],[1207,2],[1208,1,"\u04B9"],[1209,2],[1210,1,"\u04BB"],[1211,2],[1212,1,"\u04BD"],[1213,2],[1214,1,"\u04BF"],[1215,2],[1216,3],[1217,1,"\u04C2"],[1218,2],[1219,1,"\u04C4"],[1220,2],[1221,1,"\u04C6"],[1222,2],[1223,1,"\u04C8"],[1224,2],[1225,1,"\u04CA"],[1226,2],[1227,1,"\u04CC"],[1228,2],[1229,1,"\u04CE"],[1230,2],[1231,2],[1232,1,"\u04D1"],[1233,2],[1234,1,"\u04D3"],[1235,2],[1236,1,"\u04D5"],[1237,2],[1238,1,"\u04D7"],[1239,2],[1240,1,"\u04D9"],[1241,2],[1242,1,"\u04DB"],[1243,2],[1244,1,"\u04DD"],[1245,2],[1246,1,"\u04DF"],[1247,2],[1248,1,"\u04E1"],[1249,2],[1250,1,"\u04E3"],[1251,2],[1252,1,"\u04E5"],[1253,2],[1254,1,"\u04E7"],[1255,2],[1256,1,"\u04E9"],[1257,2],[1258,1,"\u04EB"],[1259,2],[1260,1,"\u04ED"],[1261,2],[1262,1,"\u04EF"],[1263,2],[1264,1,"\u04F1"],[1265,2],[1266,1,"\u04F3"],[1267,2],[1268,1,"\u04F5"],[1269,2],[1270,1,"\u04F7"],[1271,2],[1272,1,"\u04F9"],[1273,2],[1274,1,"\u04FB"],[1275,2],[1276,1,"\u04FD"],[1277,2],[1278,1,"\u04FF"],[1279,2],[1280,1,"\u0501"],[1281,2],[1282,1,"\u0503"],[1283,2],[1284,1,"\u0505"],[1285,2],[1286,1,"\u0507"],[1287,2],[1288,1,"\u0509"],[1289,2],[1290,1,"\u050B"],[1291,2],[1292,1,"\u050D"],[1293,2],[1294,1,"\u050F"],[1295,2],[1296,1,"\u0511"],[1297,2],[1298,1,"\u0513"],[1299,2],[1300,1,"\u0515"],[1301,2],[1302,1,"\u0517"],[1303,2],[1304,1,"\u0519"],[1305,2],[1306,1,"\u051B"],[1307,2],[1308,1,"\u051D"],[1309,2],[1310,1,"\u051F"],[1311,2],[1312,1,"\u0521"],[1313,2],[1314,1,"\u0523"],[1315,2],[1316,1,"\u0525"],[1317,2],[1318,1,"\u0527"],[1319,2],[1320,1,"\u0529"],[1321,2],[1322,1,"\u052B"],[1323,2],[1324,1,"\u052D"],[1325,2],[1326,1,"\u052F"],[1327,2],[1328,3],[1329,1,"\u0561"],[1330,1,"\u0562"],[1331,1,"\u0563"],[1332,1,"\u0564"],[1333,1,"\u0565"],[1334,1,"\u0566"],[1335,1,"\u0567"],[1336,1,"\u0568"],[1337,1,"\u0569"],[1338,1,"\u056A"],[1339,1,"\u056B"],[1340,1,"\u056C"],[1341,1,"\u056D"],[1342,1,"\u056E"],[1343,1,"\u056F"],[1344,1,"\u0570"],[1345,1,"\u0571"],[1346,1,"\u0572"],[1347,1,"\u0573"],[1348,1,"\u0574"],[1349,1,"\u0575"],[1350,1,"\u0576"],[1351,1,"\u0577"],[1352,1,"\u0578"],[1353,1,"\u0579"],[1354,1,"\u057A"],[1355,1,"\u057B"],[1356,1,"\u057C"],[1357,1,"\u057D"],[1358,1,"\u057E"],[1359,1,"\u057F"],[1360,1,"\u0580"],[1361,1,"\u0581"],[1362,1,"\u0582"],[1363,1,"\u0583"],[1364,1,"\u0584"],[1365,1,"\u0585"],[1366,1,"\u0586"],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,"\u0565\u0582"],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,"\u0627\u0674"],[1654,1,"\u0648\u0674"],[1655,1,"\u06C7\u0674"],[1656,1,"\u064A\u0674"],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,"\u0915\u093C"],[2393,1,"\u0916\u093C"],[2394,1,"\u0917\u093C"],[2395,1,"\u091C\u093C"],[2396,1,"\u0921\u093C"],[2397,1,"\u0922\u093C"],[2398,1,"\u092B\u093C"],[2399,1,"\u092F\u093C"],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,"\u09A1\u09BC"],[2525,1,"\u09A2\u09BC"],[2526,3],[2527,1,"\u09AF\u09BC"],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,"\u0A32\u0A3C"],[2612,3],[2613,2],[2614,1,"\u0A38\u0A3C"],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,"\u0A16\u0A3C"],[2650,1,"\u0A17\u0A3C"],[2651,1,"\u0A1C\u0A3C"],[2652,2],[2653,3],[2654,1,"\u0A2B\u0A3C"],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,"\u0B21\u0B3C"],[2909,1,"\u0B22\u0B3C"],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[[3315,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,"\u0E4D\u0E32"],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,"\u0ECD\u0EB2"],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[[3790,3791],3],[[3792,3801],2],[[3802,3803],3],[3804,1,"\u0EAB\u0E99"],[3805,1,"\u0EAB\u0EA1"],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,"\u0F0B"],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,"\u0F42\u0FB7"],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,"\u0F4C\u0FB7"],[[3918,3921],2],[3922,1,"\u0F51\u0FB7"],[[3923,3926],2],[3927,1,"\u0F56\u0FB7"],[[3928,3931],2],[3932,1,"\u0F5B\u0FB7"],[[3933,3944],2],[3945,1,"\u0F40\u0FB5"],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,"\u0F71\u0F72"],[3956,2],[3957,1,"\u0F71\u0F74"],[3958,1,"\u0FB2\u0F80"],[3959,1,"\u0FB2\u0F71\u0F80"],[3960,1,"\u0FB3\u0F80"],[3961,1,"\u0FB3\u0F71\u0F80"],[[3962,3968],2],[3969,1,"\u0F71\u0F80"],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,"\u0F92\u0FB7"],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,"\u0F9C\u0FB7"],[[3998,4001],2],[4002,1,"\u0FA1\u0FB7"],[[4003,4006],2],[4007,1,"\u0FA6\u0FB7"],[[4008,4011],2],[4012,1,"\u0FAB\u0FB7"],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,"\u0F90\u0FB5"],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,"\u2D27"],[[4296,4300],3],[4301,1,"\u2D2D"],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,"\u10DC"],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,"\u13F0"],[5113,1,"\u13F1"],[5114,1,"\u13F2"],[5115,1,"\u13F3"],[5116,1,"\u13F4"],[5117,1,"\u13F5"],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6000],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,"\u0432"],[7297,1,"\u0434"],[7298,1,"\u043E"],[7299,1,"\u0441"],[[7300,7301],1,"\u0442"],[7302,1,"\u044A"],[7303,1,"\u0463"],[7304,1,"\uA64B"],[[7305,7311],3],[7312,1,"\u10D0"],[7313,1,"\u10D1"],[7314,1,"\u10D2"],[7315,1,"\u10D3"],[7316,1,"\u10D4"],[7317,1,"\u10D5"],[7318,1,"\u10D6"],[7319,1,"\u10D7"],[7320,1,"\u10D8"],[7321,1,"\u10D9"],[7322,1,"\u10DA"],[7323,1,"\u10DB"],[7324,1,"\u10DC"],[7325,1,"\u10DD"],[7326,1,"\u10DE"],[7327,1,"\u10DF"],[7328,1,"\u10E0"],[7329,1,"\u10E1"],[7330,1,"\u10E2"],[7331,1,"\u10E3"],[7332,1,"\u10E4"],[7333,1,"\u10E5"],[7334,1,"\u10E6"],[7335,1,"\u10E7"],[7336,1,"\u10E8"],[7337,1,"\u10E9"],[7338,1,"\u10EA"],[7339,1,"\u10EB"],[7340,1,"\u10EC"],[7341,1,"\u10ED"],[7342,1,"\u10EE"],[7343,1,"\u10EF"],[7344,1,"\u10F0"],[7345,1,"\u10F1"],[7346,1,"\u10F2"],[7347,1,"\u10F3"],[7348,1,"\u10F4"],[7349,1,"\u10F5"],[7350,1,"\u10F6"],[7351,1,"\u10F7"],[7352,1,"\u10F8"],[7353,1,"\u10F9"],[7354,1,"\u10FA"],[[7355,7356],3],[7357,1,"\u10FD"],[7358,1,"\u10FE"],[7359,1,"\u10FF"],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,"\xE6"],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,"\u01DD"],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,"\u0223"],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,"\u0250"],[7493,1,"\u0251"],[7494,1,"\u1D02"],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,"\u0259"],[7499,1,"\u025B"],[7500,1,"\u025C"],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,"\u014B"],[7506,1,"o"],[7507,1,"\u0254"],[7508,1,"\u1D16"],[7509,1,"\u1D17"],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,"\u1D1D"],[7514,1,"\u026F"],[7515,1,"v"],[7516,1,"\u1D25"],[7517,1,"\u03B2"],[7518,1,"\u03B3"],[7519,1,"\u03B4"],[7520,1,"\u03C6"],[7521,1,"\u03C7"],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,"\u03B2"],[7527,1,"\u03B3"],[7528,1,"\u03C1"],[7529,1,"\u03C6"],[7530,1,"\u03C7"],[7531,2],[[7532,7543],2],[7544,1,"\u043D"],[[7545,7578],2],[7579,1,"\u0252"],[7580,1,"c"],[7581,1,"\u0255"],[7582,1,"\xF0"],[7583,1,"\u025C"],[7584,1,"f"],[7585,1,"\u025F"],[7586,1,"\u0261"],[7587,1,"\u0265"],[7588,1,"\u0268"],[7589,1,"\u0269"],[7590,1,"\u026A"],[7591,1,"\u1D7B"],[7592,1,"\u029D"],[7593,1,"\u026D"],[7594,1,"\u1D85"],[7595,1,"\u029F"],[7596,1,"\u0271"],[7597,1,"\u0270"],[7598,1,"\u0272"],[7599,1,"\u0273"],[7600,1,"\u0274"],[7601,1,"\u0275"],[7602,1,"\u0278"],[7603,1,"\u0282"],[7604,1,"\u0283"],[7605,1,"\u01AB"],[7606,1,"\u0289"],[7607,1,"\u028A"],[7608,1,"\u1D1C"],[7609,1,"\u028B"],[7610,1,"\u028C"],[7611,1,"z"],[7612,1,"\u0290"],[7613,1,"\u0291"],[7614,1,"\u0292"],[7615,1,"\u03B8"],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,"\u1E01"],[7681,2],[7682,1,"\u1E03"],[7683,2],[7684,1,"\u1E05"],[7685,2],[7686,1,"\u1E07"],[7687,2],[7688,1,"\u1E09"],[7689,2],[7690,1,"\u1E0B"],[7691,2],[7692,1,"\u1E0D"],[7693,2],[7694,1,"\u1E0F"],[7695,2],[7696,1,"\u1E11"],[7697,2],[7698,1,"\u1E13"],[7699,2],[7700,1,"\u1E15"],[7701,2],[7702,1,"\u1E17"],[7703,2],[7704,1,"\u1E19"],[7705,2],[7706,1,"\u1E1B"],[7707,2],[7708,1,"\u1E1D"],[7709,2],[7710,1,"\u1E1F"],[7711,2],[7712,1,"\u1E21"],[7713,2],[7714,1,"\u1E23"],[7715,2],[7716,1,"\u1E25"],[7717,2],[7718,1,"\u1E27"],[7719,2],[7720,1,"\u1E29"],[7721,2],[7722,1,"\u1E2B"],[7723,2],[7724,1,"\u1E2D"],[7725,2],[7726,1,"\u1E2F"],[7727,2],[7728,1,"\u1E31"],[7729,2],[7730,1,"\u1E33"],[7731,2],[7732,1,"\u1E35"],[7733,2],[7734,1,"\u1E37"],[7735,2],[7736,1,"\u1E39"],[7737,2],[7738,1,"\u1E3B"],[7739,2],[7740,1,"\u1E3D"],[7741,2],[7742,1,"\u1E3F"],[7743,2],[7744,1,"\u1E41"],[7745,2],[7746,1,"\u1E43"],[7747,2],[7748,1,"\u1E45"],[7749,2],[7750,1,"\u1E47"],[7751,2],[7752,1,"\u1E49"],[7753,2],[7754,1,"\u1E4B"],[7755,2],[7756,1,"\u1E4D"],[7757,2],[7758,1,"\u1E4F"],[7759,2],[7760,1,"\u1E51"],[7761,2],[7762,1,"\u1E53"],[7763,2],[7764,1,"\u1E55"],[7765,2],[7766,1,"\u1E57"],[7767,2],[7768,1,"\u1E59"],[7769,2],[7770,1,"\u1E5B"],[7771,2],[7772,1,"\u1E5D"],[7773,2],[7774,1,"\u1E5F"],[7775,2],[7776,1,"\u1E61"],[7777,2],[7778,1,"\u1E63"],[7779,2],[7780,1,"\u1E65"],[7781,2],[7782,1,"\u1E67"],[7783,2],[7784,1,"\u1E69"],[7785,2],[7786,1,"\u1E6B"],[7787,2],[7788,1,"\u1E6D"],[7789,2],[7790,1,"\u1E6F"],[7791,2],[7792,1,"\u1E71"],[7793,2],[7794,1,"\u1E73"],[7795,2],[7796,1,"\u1E75"],[7797,2],[7798,1,"\u1E77"],[7799,2],[7800,1,"\u1E79"],[7801,2],[7802,1,"\u1E7B"],[7803,2],[7804,1,"\u1E7D"],[7805,2],[7806,1,"\u1E7F"],[7807,2],[7808,1,"\u1E81"],[7809,2],[7810,1,"\u1E83"],[7811,2],[7812,1,"\u1E85"],[7813,2],[7814,1,"\u1E87"],[7815,2],[7816,1,"\u1E89"],[7817,2],[7818,1,"\u1E8B"],[7819,2],[7820,1,"\u1E8D"],[7821,2],[7822,1,"\u1E8F"],[7823,2],[7824,1,"\u1E91"],[7825,2],[7826,1,"\u1E93"],[7827,2],[7828,1,"\u1E95"],[[7829,7833],2],[7834,1,"a\u02BE"],[7835,1,"\u1E61"],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,"\u1EA1"],[7841,2],[7842,1,"\u1EA3"],[7843,2],[7844,1,"\u1EA5"],[7845,2],[7846,1,"\u1EA7"],[7847,2],[7848,1,"\u1EA9"],[7849,2],[7850,1,"\u1EAB"],[7851,2],[7852,1,"\u1EAD"],[7853,2],[7854,1,"\u1EAF"],[7855,2],[7856,1,"\u1EB1"],[7857,2],[7858,1,"\u1EB3"],[7859,2],[7860,1,"\u1EB5"],[7861,2],[7862,1,"\u1EB7"],[7863,2],[7864,1,"\u1EB9"],[7865,2],[7866,1,"\u1EBB"],[7867,2],[7868,1,"\u1EBD"],[7869,2],[7870,1,"\u1EBF"],[7871,2],[7872,1,"\u1EC1"],[7873,2],[7874,1,"\u1EC3"],[7875,2],[7876,1,"\u1EC5"],[7877,2],[7878,1,"\u1EC7"],[7879,2],[7880,1,"\u1EC9"],[7881,2],[7882,1,"\u1ECB"],[7883,2],[7884,1,"\u1ECD"],[7885,2],[7886,1,"\u1ECF"],[7887,2],[7888,1,"\u1ED1"],[7889,2],[7890,1,"\u1ED3"],[7891,2],[7892,1,"\u1ED5"],[7893,2],[7894,1,"\u1ED7"],[7895,2],[7896,1,"\u1ED9"],[7897,2],[7898,1,"\u1EDB"],[7899,2],[7900,1,"\u1EDD"],[7901,2],[7902,1,"\u1EDF"],[7903,2],[7904,1,"\u1EE1"],[7905,2],[7906,1,"\u1EE3"],[7907,2],[7908,1,"\u1EE5"],[7909,2],[7910,1,"\u1EE7"],[7911,2],[7912,1,"\u1EE9"],[7913,2],[7914,1,"\u1EEB"],[7915,2],[7916,1,"\u1EED"],[7917,2],[7918,1,"\u1EEF"],[7919,2],[7920,1,"\u1EF1"],[7921,2],[7922,1,"\u1EF3"],[7923,2],[7924,1,"\u1EF5"],[7925,2],[7926,1,"\u1EF7"],[7927,2],[7928,1,"\u1EF9"],[7929,2],[7930,1,"\u1EFB"],[7931,2],[7932,1,"\u1EFD"],[7933,2],[7934,1,"\u1EFF"],[7935,2],[[7936,7943],2],[7944,1,"\u1F00"],[7945,1,"\u1F01"],[7946,1,"\u1F02"],[7947,1,"\u1F03"],[7948,1,"\u1F04"],[7949,1,"\u1F05"],[7950,1,"\u1F06"],[7951,1,"\u1F07"],[[7952,7957],2],[[7958,7959],3],[7960,1,"\u1F10"],[7961,1,"\u1F11"],[7962,1,"\u1F12"],[7963,1,"\u1F13"],[7964,1,"\u1F14"],[7965,1,"\u1F15"],[[7966,7967],3],[[7968,7975],2],[7976,1,"\u1F20"],[7977,1,"\u1F21"],[7978,1,"\u1F22"],[7979,1,"\u1F23"],[7980,1,"\u1F24"],[7981,1,"\u1F25"],[7982,1,"\u1F26"],[7983,1,"\u1F27"],[[7984,7991],2],[7992,1,"\u1F30"],[7993,1,"\u1F31"],[7994,1,"\u1F32"],[7995,1,"\u1F33"],[7996,1,"\u1F34"],[7997,1,"\u1F35"],[7998,1,"\u1F36"],[7999,1,"\u1F37"],[[8000,8005],2],[[8006,8007],3],[8008,1,"\u1F40"],[8009,1,"\u1F41"],[8010,1,"\u1F42"],[8011,1,"\u1F43"],[8012,1,"\u1F44"],[8013,1,"\u1F45"],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,"\u1F51"],[8026,3],[8027,1,"\u1F53"],[8028,3],[8029,1,"\u1F55"],[8030,3],[8031,1,"\u1F57"],[[8032,8039],2],[8040,1,"\u1F60"],[8041,1,"\u1F61"],[8042,1,"\u1F62"],[8043,1,"\u1F63"],[8044,1,"\u1F64"],[8045,1,"\u1F65"],[8046,1,"\u1F66"],[8047,1,"\u1F67"],[8048,2],[8049,1,"\u03AC"],[8050,2],[8051,1,"\u03AD"],[8052,2],[8053,1,"\u03AE"],[8054,2],[8055,1,"\u03AF"],[8056,2],[8057,1,"\u03CC"],[8058,2],[8059,1,"\u03CD"],[8060,2],[8061,1,"\u03CE"],[[8062,8063],3],[8064,1,"\u1F00\u03B9"],[8065,1,"\u1F01\u03B9"],[8066,1,"\u1F02\u03B9"],[8067,1,"\u1F03\u03B9"],[8068,1,"\u1F04\u03B9"],[8069,1,"\u1F05\u03B9"],[8070,1,"\u1F06\u03B9"],[8071,1,"\u1F07\u03B9"],[8072,1,"\u1F00\u03B9"],[8073,1,"\u1F01\u03B9"],[8074,1,"\u1F02\u03B9"],[8075,1,"\u1F03\u03B9"],[8076,1,"\u1F04\u03B9"],[8077,1,"\u1F05\u03B9"],[8078,1,"\u1F06\u03B9"],[8079,1,"\u1F07\u03B9"],[8080,1,"\u1F20\u03B9"],[8081,1,"\u1F21\u03B9"],[8082,1,"\u1F22\u03B9"],[8083,1,"\u1F23\u03B9"],[8084,1,"\u1F24\u03B9"],[8085,1,"\u1F25\u03B9"],[8086,1,"\u1F26\u03B9"],[8087,1,"\u1F27\u03B9"],[8088,1,"\u1F20\u03B9"],[8089,1,"\u1F21\u03B9"],[8090,1,"\u1F22\u03B9"],[8091,1,"\u1F23\u03B9"],[8092,1,"\u1F24\u03B9"],[8093,1,"\u1F25\u03B9"],[8094,1,"\u1F26\u03B9"],[8095,1,"\u1F27\u03B9"],[8096,1,"\u1F60\u03B9"],[8097,1,"\u1F61\u03B9"],[8098,1,"\u1F62\u03B9"],[8099,1,"\u1F63\u03B9"],[8100,1,"\u1F64\u03B9"],[8101,1,"\u1F65\u03B9"],[8102,1,"\u1F66\u03B9"],[8103,1,"\u1F67\u03B9"],[8104,1,"\u1F60\u03B9"],[8105,1,"\u1F61\u03B9"],[8106,1,"\u1F62\u03B9"],[8107,1,"\u1F63\u03B9"],[8108,1,"\u1F64\u03B9"],[8109,1,"\u1F65\u03B9"],[8110,1,"\u1F66\u03B9"],[8111,1,"\u1F67\u03B9"],[[8112,8113],2],[8114,1,"\u1F70\u03B9"],[8115,1,"\u03B1\u03B9"],[8116,1,"\u03AC\u03B9"],[8117,3],[8118,2],[8119,1,"\u1FB6\u03B9"],[8120,1,"\u1FB0"],[8121,1,"\u1FB1"],[8122,1,"\u1F70"],[8123,1,"\u03AC"],[8124,1,"\u03B1\u03B9"],[8125,5," \u0313"],[8126,1,"\u03B9"],[8127,5," \u0313"],[8128,5," \u0342"],[8129,5," \u0308\u0342"],[8130,1,"\u1F74\u03B9"],[8131,1,"\u03B7\u03B9"],[8132,1,"\u03AE\u03B9"],[8133,3],[8134,2],[8135,1,"\u1FC6\u03B9"],[8136,1,"\u1F72"],[8137,1,"\u03AD"],[8138,1,"\u1F74"],[8139,1,"\u03AE"],[8140,1,"\u03B7\u03B9"],[8141,5," \u0313\u0300"],[8142,5," \u0313\u0301"],[8143,5," \u0313\u0342"],[[8144,8146],2],[8147,1,"\u0390"],[[8148,8149],3],[[8150,8151],2],[8152,1,"\u1FD0"],[8153,1,"\u1FD1"],[8154,1,"\u1F76"],[8155,1,"\u03AF"],[8156,3],[8157,5," \u0314\u0300"],[8158,5," \u0314\u0301"],[8159,5," \u0314\u0342"],[[8160,8162],2],[8163,1,"\u03B0"],[[8164,8167],2],[8168,1,"\u1FE0"],[8169,1,"\u1FE1"],[8170,1,"\u1F7A"],[8171,1,"\u03CD"],[8172,1,"\u1FE5"],[8173,5," \u0308\u0300"],[8174,5," \u0308\u0301"],[8175,5,"`"],[[8176,8177],3],[8178,1,"\u1F7C\u03B9"],[8179,1,"\u03C9\u03B9"],[8180,1,"\u03CE\u03B9"],[8181,3],[8182,2],[8183,1,"\u1FF6\u03B9"],[8184,1,"\u1F78"],[8185,1,"\u03CC"],[8186,1,"\u1F7C"],[8187,1,"\u03CE"],[8188,1,"\u03C9\u03B9"],[8189,5," \u0301"],[8190,5," \u0314"],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,"\u2010"],[[8210,8214],2],[8215,5," \u0333"],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,"\u2032\u2032"],[8244,1,"\u2032\u2032\u2032"],[8245,2],[8246,1,"\u2035\u2035"],[8247,1,"\u2035\u2035\u2035"],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," \u0305"],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,"\u2032\u2032\u2032\u2032"],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,"\u2212"],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,"\u2212"],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,"\u0259"],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"\xB0c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,"\u025B"],[8456,2],[8457,1,"\xB0f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,"\u0127"],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,"\u03C9"],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,"\xE5"],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,"\u05D0"],[8502,1,"\u05D1"],[8503,1,"\u05D2"],[8504,1,"\u05D3"],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,"\u03C0"],[[8509,8510],1,"\u03B3"],[8511,1,"\u03C0"],[8512,1,"\u2211"],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"1\u20447"],[8529,1,"1\u20449"],[8530,1,"1\u204410"],[8531,1,"1\u20443"],[8532,1,"2\u20443"],[8533,1,"1\u20445"],[8534,1,"2\u20445"],[8535,1,"3\u20445"],[8536,1,"4\u20445"],[8537,1,"1\u20446"],[8538,1,"5\u20446"],[8539,1,"1\u20448"],[8540,1,"3\u20448"],[8541,1,"5\u20448"],[8542,1,"7\u20448"],[8543,1,"1\u2044"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"0\u20443"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,"\u222B\u222B"],[8749,1,"\u222B\u222B\u222B"],[8750,2],[8751,1,"\u222E\u222E"],[8752,1,"\u222E\u222E\u222E"],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9000],2],[9001,1,"\u3008"],[9002,1,"\u3009"],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,"\u222B\u222B\u222B\u222B"],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,"\u2ADD\u0338"],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,"\u2C30"],[11265,1,"\u2C31"],[11266,1,"\u2C32"],[11267,1,"\u2C33"],[11268,1,"\u2C34"],[11269,1,"\u2C35"],[11270,1,"\u2C36"],[11271,1,"\u2C37"],[11272,1,"\u2C38"],[11273,1,"\u2C39"],[11274,1,"\u2C3A"],[11275,1,"\u2C3B"],[11276,1,"\u2C3C"],[11277,1,"\u2C3D"],[11278,1,"\u2C3E"],[11279,1,"\u2C3F"],[11280,1,"\u2C40"],[11281,1,"\u2C41"],[11282,1,"\u2C42"],[11283,1,"\u2C43"],[11284,1,"\u2C44"],[11285,1,"\u2C45"],[11286,1,"\u2C46"],[11287,1,"\u2C47"],[11288,1,"\u2C48"],[11289,1,"\u2C49"],[11290,1,"\u2C4A"],[11291,1,"\u2C4B"],[11292,1,"\u2C4C"],[11293,1,"\u2C4D"],[11294,1,"\u2C4E"],[11295,1,"\u2C4F"],[11296,1,"\u2C50"],[11297,1,"\u2C51"],[11298,1,"\u2C52"],[11299,1,"\u2C53"],[11300,1,"\u2C54"],[11301,1,"\u2C55"],[11302,1,"\u2C56"],[11303,1,"\u2C57"],[11304,1,"\u2C58"],[11305,1,"\u2C59"],[11306,1,"\u2C5A"],[11307,1,"\u2C5B"],[11308,1,"\u2C5C"],[11309,1,"\u2C5D"],[11310,1,"\u2C5E"],[11311,1,"\u2C5F"],[[11312,11358],2],[11359,2],[11360,1,"\u2C61"],[11361,2],[11362,1,"\u026B"],[11363,1,"\u1D7D"],[11364,1,"\u027D"],[[11365,11366],2],[11367,1,"\u2C68"],[11368,2],[11369,1,"\u2C6A"],[11370,2],[11371,1,"\u2C6C"],[11372,2],[11373,1,"\u0251"],[11374,1,"\u0271"],[11375,1,"\u0250"],[11376,1,"\u0252"],[11377,2],[11378,1,"\u2C73"],[11379,2],[11380,2],[11381,1,"\u2C76"],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,"\u023F"],[11391,1,"\u0240"],[11392,1,"\u2C81"],[11393,2],[11394,1,"\u2C83"],[11395,2],[11396,1,"\u2C85"],[11397,2],[11398,1,"\u2C87"],[11399,2],[11400,1,"\u2C89"],[11401,2],[11402,1,"\u2C8B"],[11403,2],[11404,1,"\u2C8D"],[11405,2],[11406,1,"\u2C8F"],[11407,2],[11408,1,"\u2C91"],[11409,2],[11410,1,"\u2C93"],[11411,2],[11412,1,"\u2C95"],[11413,2],[11414,1,"\u2C97"],[11415,2],[11416,1,"\u2C99"],[11417,2],[11418,1,"\u2C9B"],[11419,2],[11420,1,"\u2C9D"],[11421,2],[11422,1,"\u2C9F"],[11423,2],[11424,1,"\u2CA1"],[11425,2],[11426,1,"\u2CA3"],[11427,2],[11428,1,"\u2CA5"],[11429,2],[11430,1,"\u2CA7"],[11431,2],[11432,1,"\u2CA9"],[11433,2],[11434,1,"\u2CAB"],[11435,2],[11436,1,"\u2CAD"],[11437,2],[11438,1,"\u2CAF"],[11439,2],[11440,1,"\u2CB1"],[11441,2],[11442,1,"\u2CB3"],[11443,2],[11444,1,"\u2CB5"],[11445,2],[11446,1,"\u2CB7"],[11447,2],[11448,1,"\u2CB9"],[11449,2],[11450,1,"\u2CBB"],[11451,2],[11452,1,"\u2CBD"],[11453,2],[11454,1,"\u2CBF"],[11455,2],[11456,1,"\u2CC1"],[11457,2],[11458,1,"\u2CC3"],[11459,2],[11460,1,"\u2CC5"],[11461,2],[11462,1,"\u2CC7"],[11463,2],[11464,1,"\u2CC9"],[11465,2],[11466,1,"\u2CCB"],[11467,2],[11468,1,"\u2CCD"],[11469,2],[11470,1,"\u2CCF"],[11471,2],[11472,1,"\u2CD1"],[11473,2],[11474,1,"\u2CD3"],[11475,2],[11476,1,"\u2CD5"],[11477,2],[11478,1,"\u2CD7"],[11479,2],[11480,1,"\u2CD9"],[11481,2],[11482,1,"\u2CDB"],[11483,2],[11484,1,"\u2CDD"],[11485,2],[11486,1,"\u2CDF"],[11487,2],[11488,1,"\u2CE1"],[11489,2],[11490,1,"\u2CE3"],[[11491,11492],2],[[11493,11498],2],[11499,1,"\u2CEC"],[11500,2],[11501,1,"\u2CEE"],[[11502,11505],2],[11506,1,"\u2CF3"],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,"\u2D61"],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,"\u6BCD"],[[11936,12018],2],[12019,1,"\u9F9F"],[[12020,12031],3],[12032,1,"\u4E00"],[12033,1,"\u4E28"],[12034,1,"\u4E36"],[12035,1,"\u4E3F"],[12036,1,"\u4E59"],[12037,1,"\u4E85"],[12038,1,"\u4E8C"],[12039,1,"\u4EA0"],[12040,1,"\u4EBA"],[12041,1,"\u513F"],[12042,1,"\u5165"],[12043,1,"\u516B"],[12044,1,"\u5182"],[12045,1,"\u5196"],[12046,1,"\u51AB"],[12047,1,"\u51E0"],[12048,1,"\u51F5"],[12049,1,"\u5200"],[12050,1,"\u529B"],[12051,1,"\u52F9"],[12052,1,"\u5315"],[12053,1,"\u531A"],[12054,1,"\u5338"],[12055,1,"\u5341"],[12056,1,"\u535C"],[12057,1,"\u5369"],[12058,1,"\u5382"],[12059,1,"\u53B6"],[12060,1,"\u53C8"],[12061,1,"\u53E3"],[12062,1,"\u56D7"],[12063,1,"\u571F"],[12064,1,"\u58EB"],[12065,1,"\u5902"],[12066,1,"\u590A"],[12067,1,"\u5915"],[12068,1,"\u5927"],[12069,1,"\u5973"],[12070,1,"\u5B50"],[12071,1,"\u5B80"],[12072,1,"\u5BF8"],[12073,1,"\u5C0F"],[12074,1,"\u5C22"],[12075,1,"\u5C38"],[12076,1,"\u5C6E"],[12077,1,"\u5C71"],[12078,1,"\u5DDB"],[12079,1,"\u5DE5"],[12080,1,"\u5DF1"],[12081,1,"\u5DFE"],[12082,1,"\u5E72"],[12083,1,"\u5E7A"],[12084,1,"\u5E7F"],[12085,1,"\u5EF4"],[12086,1,"\u5EFE"],[12087,1,"\u5F0B"],[12088,1,"\u5F13"],[12089,1,"\u5F50"],[12090,1,"\u5F61"],[12091,1,"\u5F73"],[12092,1,"\u5FC3"],[12093,1,"\u6208"],[12094,1,"\u6236"],[12095,1,"\u624B"],[12096,1,"\u652F"],[12097,1,"\u6534"],[12098,1,"\u6587"],[12099,1,"\u6597"],[12100,1,"\u65A4"],[12101,1,"\u65B9"],[12102,1,"\u65E0"],[12103,1,"\u65E5"],[12104,1,"\u66F0"],[12105,1,"\u6708"],[12106,1,"\u6728"],[12107,1,"\u6B20"],[12108,1,"\u6B62"],[12109,1,"\u6B79"],[12110,1,"\u6BB3"],[12111,1,"\u6BCB"],[12112,1,"\u6BD4"],[12113,1,"\u6BDB"],[12114,1,"\u6C0F"],[12115,1,"\u6C14"],[12116,1,"\u6C34"],[12117,1,"\u706B"],[12118,1,"\u722A"],[12119,1,"\u7236"],[12120,1,"\u723B"],[12121,1,"\u723F"],[12122,1,"\u7247"],[12123,1,"\u7259"],[12124,1,"\u725B"],[12125,1,"\u72AC"],[12126,1,"\u7384"],[12127,1,"\u7389"],[12128,1,"\u74DC"],[12129,1,"\u74E6"],[12130,1,"\u7518"],[12131,1,"\u751F"],[12132,1,"\u7528"],[12133,1,"\u7530"],[12134,1,"\u758B"],[12135,1,"\u7592"],[12136,1,"\u7676"],[12137,1,"\u767D"],[12138,1,"\u76AE"],[12139,1,"\u76BF"],[12140,1,"\u76EE"],[12141,1,"\u77DB"],[12142,1,"\u77E2"],[12143,1,"\u77F3"],[12144,1,"\u793A"],[12145,1,"\u79B8"],[12146,1,"\u79BE"],[12147,1,"\u7A74"],[12148,1,"\u7ACB"],[12149,1,"\u7AF9"],[12150,1,"\u7C73"],[12151,1,"\u7CF8"],[12152,1,"\u7F36"],[12153,1,"\u7F51"],[12154,1,"\u7F8A"],[12155,1,"\u7FBD"],[12156,1,"\u8001"],[12157,1,"\u800C"],[12158,1,"\u8012"],[12159,1,"\u8033"],[12160,1,"\u807F"],[12161,1,"\u8089"],[12162,1,"\u81E3"],[12163,1,"\u81EA"],[12164,1,"\u81F3"],[12165,1,"\u81FC"],[12166,1,"\u820C"],[12167,1,"\u821B"],[12168,1,"\u821F"],[12169,1,"\u826E"],[12170,1,"\u8272"],[12171,1,"\u8278"],[12172,1,"\u864D"],[12173,1,"\u866B"],[12174,1,"\u8840"],[12175,1,"\u884C"],[12176,1,"\u8863"],[12177,1,"\u897E"],[12178,1,"\u898B"],[12179,1,"\u89D2"],[12180,1,"\u8A00"],[12181,1,"\u8C37"],[12182,1,"\u8C46"],[12183,1,"\u8C55"],[12184,1,"\u8C78"],[12185,1,"\u8C9D"],[12186,1,"\u8D64"],[12187,1,"\u8D70"],[12188,1,"\u8DB3"],[12189,1,"\u8EAB"],[12190,1,"\u8ECA"],[12191,1,"\u8F9B"],[12192,1,"\u8FB0"],[12193,1,"\u8FB5"],[12194,1,"\u9091"],[12195,1,"\u9149"],[12196,1,"\u91C6"],[12197,1,"\u91CC"],[12198,1,"\u91D1"],[12199,1,"\u9577"],[12200,1,"\u9580"],[12201,1,"\u961C"],[12202,1,"\u96B6"],[12203,1,"\u96B9"],[12204,1,"\u96E8"],[12205,1,"\u9751"],[12206,1,"\u975E"],[12207,1,"\u9762"],[12208,1,"\u9769"],[12209,1,"\u97CB"],[12210,1,"\u97ED"],[12211,1,"\u97F3"],[12212,1,"\u9801"],[12213,1,"\u98A8"],[12214,1,"\u98DB"],[12215,1,"\u98DF"],[12216,1,"\u9996"],[12217,1,"\u9999"],[12218,1,"\u99AC"],[12219,1,"\u9AA8"],[12220,1,"\u9AD8"],[12221,1,"\u9ADF"],[12222,1,"\u9B25"],[12223,1,"\u9B2F"],[12224,1,"\u9B32"],[12225,1,"\u9B3C"],[12226,1,"\u9B5A"],[12227,1,"\u9CE5"],[12228,1,"\u9E75"],[12229,1,"\u9E7F"],[12230,1,"\u9EA5"],[12231,1,"\u9EBB"],[12232,1,"\u9EC3"],[12233,1,"\u9ECD"],[12234,1,"\u9ED1"],[12235,1,"\u9EF9"],[12236,1,"\u9EFD"],[12237,1,"\u9F0E"],[12238,1,"\u9F13"],[12239,1,"\u9F20"],[12240,1,"\u9F3B"],[12241,1,"\u9F4A"],[12242,1,"\u9F52"],[12243,1,"\u9F8D"],[12244,1,"\u9F9C"],[12245,1,"\u9FA0"],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,"\u3012"],[12343,2],[12344,1,"\u5341"],[12345,1,"\u5344"],[12346,1,"\u5345"],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," \u3099"],[12444,5," \u309A"],[[12445,12446],2],[12447,1,"\u3088\u308A"],[12448,2],[[12449,12542],2],[12543,1,"\u30B3\u30C8"],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,"\u1100"],[12594,1,"\u1101"],[12595,1,"\u11AA"],[12596,1,"\u1102"],[12597,1,"\u11AC"],[12598,1,"\u11AD"],[12599,1,"\u1103"],[12600,1,"\u1104"],[12601,1,"\u1105"],[12602,1,"\u11B0"],[12603,1,"\u11B1"],[12604,1,"\u11B2"],[12605,1,"\u11B3"],[12606,1,"\u11B4"],[12607,1,"\u11B5"],[12608,1,"\u111A"],[12609,1,"\u1106"],[12610,1,"\u1107"],[12611,1,"\u1108"],[12612,1,"\u1121"],[12613,1,"\u1109"],[12614,1,"\u110A"],[12615,1,"\u110B"],[12616,1,"\u110C"],[12617,1,"\u110D"],[12618,1,"\u110E"],[12619,1,"\u110F"],[12620,1,"\u1110"],[12621,1,"\u1111"],[12622,1,"\u1112"],[12623,1,"\u1161"],[12624,1,"\u1162"],[12625,1,"\u1163"],[12626,1,"\u1164"],[12627,1,"\u1165"],[12628,1,"\u1166"],[12629,1,"\u1167"],[12630,1,"\u1168"],[12631,1,"\u1169"],[12632,1,"\u116A"],[12633,1,"\u116B"],[12634,1,"\u116C"],[12635,1,"\u116D"],[12636,1,"\u116E"],[12637,1,"\u116F"],[12638,1,"\u1170"],[12639,1,"\u1171"],[12640,1,"\u1172"],[12641,1,"\u1173"],[12642,1,"\u1174"],[12643,1,"\u1175"],[12644,3],[12645,1,"\u1114"],[12646,1,"\u1115"],[12647,1,"\u11C7"],[12648,1,"\u11C8"],[12649,1,"\u11CC"],[12650,1,"\u11CE"],[12651,1,"\u11D3"],[12652,1,"\u11D7"],[12653,1,"\u11D9"],[12654,1,"\u111C"],[12655,1,"\u11DD"],[12656,1,"\u11DF"],[12657,1,"\u111D"],[12658,1,"\u111E"],[12659,1,"\u1120"],[12660,1,"\u1122"],[12661,1,"\u1123"],[12662,1,"\u1127"],[12663,1,"\u1129"],[12664,1,"\u112B"],[12665,1,"\u112C"],[12666,1,"\u112D"],[12667,1,"\u112E"],[12668,1,"\u112F"],[12669,1,"\u1132"],[12670,1,"\u1136"],[12671,1,"\u1140"],[12672,1,"\u1147"],[12673,1,"\u114C"],[12674,1,"\u11F1"],[12675,1,"\u11F2"],[12676,1,"\u1157"],[12677,1,"\u1158"],[12678,1,"\u1159"],[12679,1,"\u1184"],[12680,1,"\u1185"],[12681,1,"\u1188"],[12682,1,"\u1191"],[12683,1,"\u1192"],[12684,1,"\u1194"],[12685,1,"\u119E"],[12686,1,"\u11A1"],[12687,3],[[12688,12689],2],[12690,1,"\u4E00"],[12691,1,"\u4E8C"],[12692,1,"\u4E09"],[12693,1,"\u56DB"],[12694,1,"\u4E0A"],[12695,1,"\u4E2D"],[12696,1,"\u4E0B"],[12697,1,"\u7532"],[12698,1,"\u4E59"],[12699,1,"\u4E19"],[12700,1,"\u4E01"],[12701,1,"\u5929"],[12702,1,"\u5730"],[12703,1,"\u4EBA"],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"(\u1100)"],[12801,5,"(\u1102)"],[12802,5,"(\u1103)"],[12803,5,"(\u1105)"],[12804,5,"(\u1106)"],[12805,5,"(\u1107)"],[12806,5,"(\u1109)"],[12807,5,"(\u110B)"],[12808,5,"(\u110C)"],[12809,5,"(\u110E)"],[12810,5,"(\u110F)"],[12811,5,"(\u1110)"],[12812,5,"(\u1111)"],[12813,5,"(\u1112)"],[12814,5,"(\uAC00)"],[12815,5,"(\uB098)"],[12816,5,"(\uB2E4)"],[12817,5,"(\uB77C)"],[12818,5,"(\uB9C8)"],[12819,5,"(\uBC14)"],[12820,5,"(\uC0AC)"],[12821,5,"(\uC544)"],[12822,5,"(\uC790)"],[12823,5,"(\uCC28)"],[12824,5,"(\uCE74)"],[12825,5,"(\uD0C0)"],[12826,5,"(\uD30C)"],[12827,5,"(\uD558)"],[12828,5,"(\uC8FC)"],[12829,5,"(\uC624\uC804)"],[12830,5,"(\uC624\uD6C4)"],[12831,3],[12832,5,"(\u4E00)"],[12833,5,"(\u4E8C)"],[12834,5,"(\u4E09)"],[12835,5,"(\u56DB)"],[12836,5,"(\u4E94)"],[12837,5,"(\u516D)"],[12838,5,"(\u4E03)"],[12839,5,"(\u516B)"],[12840,5,"(\u4E5D)"],[12841,5,"(\u5341)"],[12842,5,"(\u6708)"],[12843,5,"(\u706B)"],[12844,5,"(\u6C34)"],[12845,5,"(\u6728)"],[12846,5,"(\u91D1)"],[12847,5,"(\u571F)"],[12848,5,"(\u65E5)"],[12849,5,"(\u682A)"],[12850,5,"(\u6709)"],[12851,5,"(\u793E)"],[12852,5,"(\u540D)"],[12853,5,"(\u7279)"],[12854,5,"(\u8CA1)"],[12855,5,"(\u795D)"],[12856,5,"(\u52B4)"],[12857,5,"(\u4EE3)"],[12858,5,"(\u547C)"],[12859,5,"(\u5B66)"],[12860,5,"(\u76E3)"],[12861,5,"(\u4F01)"],[12862,5,"(\u8CC7)"],[12863,5,"(\u5354)"],[12864,5,"(\u796D)"],[12865,5,"(\u4F11)"],[12866,5,"(\u81EA)"],[12867,5,"(\u81F3)"],[12868,1,"\u554F"],[12869,1,"\u5E7C"],[12870,1,"\u6587"],[12871,1,"\u7B8F"],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,"\u1100"],[12897,1,"\u1102"],[12898,1,"\u1103"],[12899,1,"\u1105"],[12900,1,"\u1106"],[12901,1,"\u1107"],[12902,1,"\u1109"],[12903,1,"\u110B"],[12904,1,"\u110C"],[12905,1,"\u110E"],[12906,1,"\u110F"],[12907,1,"\u1110"],[12908,1,"\u1111"],[12909,1,"\u1112"],[12910,1,"\uAC00"],[12911,1,"\uB098"],[12912,1,"\uB2E4"],[12913,1,"\uB77C"],[12914,1,"\uB9C8"],[12915,1,"\uBC14"],[12916,1,"\uC0AC"],[12917,1,"\uC544"],[12918,1,"\uC790"],[12919,1,"\uCC28"],[12920,1,"\uCE74"],[12921,1,"\uD0C0"],[12922,1,"\uD30C"],[12923,1,"\uD558"],[12924,1,"\uCC38\uACE0"],[12925,1,"\uC8FC\uC758"],[12926,1,"\uC6B0"],[12927,2],[12928,1,"\u4E00"],[12929,1,"\u4E8C"],[12930,1,"\u4E09"],[12931,1,"\u56DB"],[12932,1,"\u4E94"],[12933,1,"\u516D"],[12934,1,"\u4E03"],[12935,1,"\u516B"],[12936,1,"\u4E5D"],[12937,1,"\u5341"],[12938,1,"\u6708"],[12939,1,"\u706B"],[12940,1,"\u6C34"],[12941,1,"\u6728"],[12942,1,"\u91D1"],[12943,1,"\u571F"],[12944,1,"\u65E5"],[12945,1,"\u682A"],[12946,1,"\u6709"],[12947,1,"\u793E"],[12948,1,"\u540D"],[12949,1,"\u7279"],[12950,1,"\u8CA1"],[12951,1,"\u795D"],[12952,1,"\u52B4"],[12953,1,"\u79D8"],[12954,1,"\u7537"],[12955,1,"\u5973"],[12956,1,"\u9069"],[12957,1,"\u512A"],[12958,1,"\u5370"],[12959,1,"\u6CE8"],[12960,1,"\u9805"],[12961,1,"\u4F11"],[12962,1,"\u5199"],[12963,1,"\u6B63"],[12964,1,"\u4E0A"],[12965,1,"\u4E2D"],[12966,1,"\u4E0B"],[12967,1,"\u5DE6"],[12968,1,"\u53F3"],[12969,1,"\u533B"],[12970,1,"\u5B97"],[12971,1,"\u5B66"],[12972,1,"\u76E3"],[12973,1,"\u4F01"],[12974,1,"\u8CC7"],[12975,1,"\u5354"],[12976,1,"\u591C"],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1\u6708"],[12993,1,"2\u6708"],[12994,1,"3\u6708"],[12995,1,"4\u6708"],[12996,1,"5\u6708"],[12997,1,"6\u6708"],[12998,1,"7\u6708"],[12999,1,"8\u6708"],[13000,1,"9\u6708"],[13001,1,"10\u6708"],[13002,1,"11\u6708"],[13003,1,"12\u6708"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,"\u30A2"],[13009,1,"\u30A4"],[13010,1,"\u30A6"],[13011,1,"\u30A8"],[13012,1,"\u30AA"],[13013,1,"\u30AB"],[13014,1,"\u30AD"],[13015,1,"\u30AF"],[13016,1,"\u30B1"],[13017,1,"\u30B3"],[13018,1,"\u30B5"],[13019,1,"\u30B7"],[13020,1,"\u30B9"],[13021,1,"\u30BB"],[13022,1,"\u30BD"],[13023,1,"\u30BF"],[13024,1,"\u30C1"],[13025,1,"\u30C4"],[13026,1,"\u30C6"],[13027,1,"\u30C8"],[13028,1,"\u30CA"],[13029,1,"\u30CB"],[13030,1,"\u30CC"],[13031,1,"\u30CD"],[13032,1,"\u30CE"],[13033,1,"\u30CF"],[13034,1,"\u30D2"],[13035,1,"\u30D5"],[13036,1,"\u30D8"],[13037,1,"\u30DB"],[13038,1,"\u30DE"],[13039,1,"\u30DF"],[13040,1,"\u30E0"],[13041,1,"\u30E1"],[13042,1,"\u30E2"],[13043,1,"\u30E4"],[13044,1,"\u30E6"],[13045,1,"\u30E8"],[13046,1,"\u30E9"],[13047,1,"\u30EA"],[13048,1,"\u30EB"],[13049,1,"\u30EC"],[13050,1,"\u30ED"],[13051,1,"\u30EF"],[13052,1,"\u30F0"],[13053,1,"\u30F1"],[13054,1,"\u30F2"],[13055,1,"\u4EE4\u548C"],[13056,1,"\u30A2\u30D1\u30FC\u30C8"],[13057,1,"\u30A2\u30EB\u30D5\u30A1"],[13058,1,"\u30A2\u30F3\u30DA\u30A2"],[13059,1,"\u30A2\u30FC\u30EB"],[13060,1,"\u30A4\u30CB\u30F3\u30B0"],[13061,1,"\u30A4\u30F3\u30C1"],[13062,1,"\u30A6\u30A9\u30F3"],[13063,1,"\u30A8\u30B9\u30AF\u30FC\u30C9"],[13064,1,"\u30A8\u30FC\u30AB\u30FC"],[13065,1,"\u30AA\u30F3\u30B9"],[13066,1,"\u30AA\u30FC\u30E0"],[13067,1,"\u30AB\u30A4\u30EA"],[13068,1,"\u30AB\u30E9\u30C3\u30C8"],[13069,1,"\u30AB\u30ED\u30EA\u30FC"],[13070,1,"\u30AC\u30ED\u30F3"],[13071,1,"\u30AC\u30F3\u30DE"],[13072,1,"\u30AE\u30AC"],[13073,1,"\u30AE\u30CB\u30FC"],[13074,1,"\u30AD\u30E5\u30EA\u30FC"],[13075,1,"\u30AE\u30EB\u30C0\u30FC"],[13076,1,"\u30AD\u30ED"],[13077,1,"\u30AD\u30ED\u30B0\u30E9\u30E0"],[13078,1,"\u30AD\u30ED\u30E1\u30FC\u30C8\u30EB"],[13079,1,"\u30AD\u30ED\u30EF\u30C3\u30C8"],[13080,1,"\u30B0\u30E9\u30E0"],[13081,1,"\u30B0\u30E9\u30E0\u30C8\u30F3"],[13082,1,"\u30AF\u30EB\u30BC\u30A4\u30ED"],[13083,1,"\u30AF\u30ED\u30FC\u30CD"],[13084,1,"\u30B1\u30FC\u30B9"],[13085,1,"\u30B3\u30EB\u30CA"],[13086,1,"\u30B3\u30FC\u30DD"],[13087,1,"\u30B5\u30A4\u30AF\u30EB"],[13088,1,"\u30B5\u30F3\u30C1\u30FC\u30E0"],[13089,1,"\u30B7\u30EA\u30F3\u30B0"],[13090,1,"\u30BB\u30F3\u30C1"],[13091,1,"\u30BB\u30F3\u30C8"],[13092,1,"\u30C0\u30FC\u30B9"],[13093,1,"\u30C7\u30B7"],[13094,1,"\u30C9\u30EB"],[13095,1,"\u30C8\u30F3"],[13096,1,"\u30CA\u30CE"],[13097,1,"\u30CE\u30C3\u30C8"],[13098,1,"\u30CF\u30A4\u30C4"],[13099,1,"\u30D1\u30FC\u30BB\u30F3\u30C8"],[13100,1,"\u30D1\u30FC\u30C4"],[13101,1,"\u30D0\u30FC\u30EC\u30EB"],[13102,1,"\u30D4\u30A2\u30B9\u30C8\u30EB"],[13103,1,"\u30D4\u30AF\u30EB"],[13104,1,"\u30D4\u30B3"],[13105,1,"\u30D3\u30EB"],[13106,1,"\u30D5\u30A1\u30E9\u30C3\u30C9"],[13107,1,"\u30D5\u30A3\u30FC\u30C8"],[13108,1,"\u30D6\u30C3\u30B7\u30A7\u30EB"],[13109,1,"\u30D5\u30E9\u30F3"],[13110,1,"\u30D8\u30AF\u30BF\u30FC\u30EB"],[13111,1,"\u30DA\u30BD"],[13112,1,"\u30DA\u30CB\u30D2"],[13113,1,"\u30D8\u30EB\u30C4"],[13114,1,"\u30DA\u30F3\u30B9"],[13115,1,"\u30DA\u30FC\u30B8"],[13116,1,"\u30D9\u30FC\u30BF"],[13117,1,"\u30DD\u30A4\u30F3\u30C8"],[13118,1,"\u30DC\u30EB\u30C8"],[13119,1,"\u30DB\u30F3"],[13120,1,"\u30DD\u30F3\u30C9"],[13121,1,"\u30DB\u30FC\u30EB"],[13122,1,"\u30DB\u30FC\u30F3"],[13123,1,"\u30DE\u30A4\u30AF\u30ED"],[13124,1,"\u30DE\u30A4\u30EB"],[13125,1,"\u30DE\u30C3\u30CF"],[13126,1,"\u30DE\u30EB\u30AF"],[13127,1,"\u30DE\u30F3\u30B7\u30E7\u30F3"],[13128,1,"\u30DF\u30AF\u30ED\u30F3"],[13129,1,"\u30DF\u30EA"],[13130,1,"\u30DF\u30EA\u30D0\u30FC\u30EB"],[13131,1,"\u30E1\u30AC"],[13132,1,"\u30E1\u30AC\u30C8\u30F3"],[13133,1,"\u30E1\u30FC\u30C8\u30EB"],[13134,1,"\u30E4\u30FC\u30C9"],[13135,1,"\u30E4\u30FC\u30EB"],[13136,1,"\u30E6\u30A2\u30F3"],[13137,1,"\u30EA\u30C3\u30C8\u30EB"],[13138,1,"\u30EA\u30E9"],[13139,1,"\u30EB\u30D4\u30FC"],[13140,1,"\u30EB\u30FC\u30D6\u30EB"],[13141,1,"\u30EC\u30E0"],[13142,1,"\u30EC\u30F3\u30C8\u30B2\u30F3"],[13143,1,"\u30EF\u30C3\u30C8"],[13144,1,"0\u70B9"],[13145,1,"1\u70B9"],[13146,1,"2\u70B9"],[13147,1,"3\u70B9"],[13148,1,"4\u70B9"],[13149,1,"5\u70B9"],[13150,1,"6\u70B9"],[13151,1,"7\u70B9"],[13152,1,"8\u70B9"],[13153,1,"9\u70B9"],[13154,1,"10\u70B9"],[13155,1,"11\u70B9"],[13156,1,"12\u70B9"],[13157,1,"13\u70B9"],[13158,1,"14\u70B9"],[13159,1,"15\u70B9"],[13160,1,"16\u70B9"],[13161,1,"17\u70B9"],[13162,1,"18\u70B9"],[13163,1,"19\u70B9"],[13164,1,"20\u70B9"],[13165,1,"21\u70B9"],[13166,1,"22\u70B9"],[13167,1,"23\u70B9"],[13168,1,"24\u70B9"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,"\u5E73\u6210"],[13180,1,"\u662D\u548C"],[13181,1,"\u5927\u6B63"],[13182,1,"\u660E\u6CBB"],[13183,1,"\u682A\u5F0F\u4F1A\u793E"],[13184,1,"pa"],[13185,1,"na"],[13186,1,"\u03BCa"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"\u03BCf"],[13197,1,"\u03BCg"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"\u03BCl"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"\u03BCm"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"m\u2215s"],[13224,1,"m\u2215s2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rad\u2215s"],[13231,1,"rad\u2215s2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"\u03BCs"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"\u03BCv"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"\u03BCw"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k\u03C9"],[13249,1,"m\u03C9"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"c\u2215kg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"v\u2215m"],[13279,1,"a\u2215m"],[13280,1,"1\u65E5"],[13281,1,"2\u65E5"],[13282,1,"3\u65E5"],[13283,1,"4\u65E5"],[13284,1,"5\u65E5"],[13285,1,"6\u65E5"],[13286,1,"7\u65E5"],[13287,1,"8\u65E5"],[13288,1,"9\u65E5"],[13289,1,"10\u65E5"],[13290,1,"11\u65E5"],[13291,1,"12\u65E5"],[13292,1,"13\u65E5"],[13293,1,"14\u65E5"],[13294,1,"15\u65E5"],[13295,1,"16\u65E5"],[13296,1,"17\u65E5"],[13297,1,"18\u65E5"],[13298,1,"19\u65E5"],[13299,1,"20\u65E5"],[13300,1,"21\u65E5"],[13301,1,"22\u65E5"],[13302,1,"23\u65E5"],[13303,1,"24\u65E5"],[13304,1,"25\u65E5"],[13305,1,"26\u65E5"],[13306,1,"27\u65E5"],[13307,1,"28\u65E5"],[13308,1,"29\u65E5"],[13309,1,"30\u65E5"],[13310,1,"31\u65E5"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,"\uA641"],[42561,2],[42562,1,"\uA643"],[42563,2],[42564,1,"\uA645"],[42565,2],[42566,1,"\uA647"],[42567,2],[42568,1,"\uA649"],[42569,2],[42570,1,"\uA64B"],[42571,2],[42572,1,"\uA64D"],[42573,2],[42574,1,"\uA64F"],[42575,2],[42576,1,"\uA651"],[42577,2],[42578,1,"\uA653"],[42579,2],[42580,1,"\uA655"],[42581,2],[42582,1,"\uA657"],[42583,2],[42584,1,"\uA659"],[42585,2],[42586,1,"\uA65B"],[42587,2],[42588,1,"\uA65D"],[42589,2],[42590,1,"\uA65F"],[42591,2],[42592,1,"\uA661"],[42593,2],[42594,1,"\uA663"],[42595,2],[42596,1,"\uA665"],[42597,2],[42598,1,"\uA667"],[42599,2],[42600,1,"\uA669"],[42601,2],[42602,1,"\uA66B"],[42603,2],[42604,1,"\uA66D"],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,"\uA681"],[42625,2],[42626,1,"\uA683"],[42627,2],[42628,1,"\uA685"],[42629,2],[42630,1,"\uA687"],[42631,2],[42632,1,"\uA689"],[42633,2],[42634,1,"\uA68B"],[42635,2],[42636,1,"\uA68D"],[42637,2],[42638,1,"\uA68F"],[42639,2],[42640,1,"\uA691"],[42641,2],[42642,1,"\uA693"],[42643,2],[42644,1,"\uA695"],[42645,2],[42646,1,"\uA697"],[42647,2],[42648,1,"\uA699"],[42649,2],[42650,1,"\uA69B"],[42651,2],[42652,1,"\u044A"],[42653,1,"\u044C"],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,"\uA723"],[42787,2],[42788,1,"\uA725"],[42789,2],[42790,1,"\uA727"],[42791,2],[42792,1,"\uA729"],[42793,2],[42794,1,"\uA72B"],[42795,2],[42796,1,"\uA72D"],[42797,2],[42798,1,"\uA72F"],[[42799,42801],2],[42802,1,"\uA733"],[42803,2],[42804,1,"\uA735"],[42805,2],[42806,1,"\uA737"],[42807,2],[42808,1,"\uA739"],[42809,2],[42810,1,"\uA73B"],[42811,2],[42812,1,"\uA73D"],[42813,2],[42814,1,"\uA73F"],[42815,2],[42816,1,"\uA741"],[42817,2],[42818,1,"\uA743"],[42819,2],[42820,1,"\uA745"],[42821,2],[42822,1,"\uA747"],[42823,2],[42824,1,"\uA749"],[42825,2],[42826,1,"\uA74B"],[42827,2],[42828,1,"\uA74D"],[42829,2],[42830,1,"\uA74F"],[42831,2],[42832,1,"\uA751"],[42833,2],[42834,1,"\uA753"],[42835,2],[42836,1,"\uA755"],[42837,2],[42838,1,"\uA757"],[42839,2],[42840,1,"\uA759"],[42841,2],[42842,1,"\uA75B"],[42843,2],[42844,1,"\uA75D"],[42845,2],[42846,1,"\uA75F"],[42847,2],[42848,1,"\uA761"],[42849,2],[42850,1,"\uA763"],[42851,2],[42852,1,"\uA765"],[42853,2],[42854,1,"\uA767"],[42855,2],[42856,1,"\uA769"],[42857,2],[42858,1,"\uA76B"],[42859,2],[42860,1,"\uA76D"],[42861,2],[42862,1,"\uA76F"],[42863,2],[42864,1,"\uA76F"],[[42865,42872],2],[42873,1,"\uA77A"],[42874,2],[42875,1,"\uA77C"],[42876,2],[42877,1,"\u1D79"],[42878,1,"\uA77F"],[42879,2],[42880,1,"\uA781"],[42881,2],[42882,1,"\uA783"],[42883,2],[42884,1,"\uA785"],[42885,2],[42886,1,"\uA787"],[[42887,42888],2],[[42889,42890],2],[42891,1,"\uA78C"],[42892,2],[42893,1,"\u0265"],[42894,2],[42895,2],[42896,1,"\uA791"],[42897,2],[42898,1,"\uA793"],[42899,2],[[42900,42901],2],[42902,1,"\uA797"],[42903,2],[42904,1,"\uA799"],[42905,2],[42906,1,"\uA79B"],[42907,2],[42908,1,"\uA79D"],[42909,2],[42910,1,"\uA79F"],[42911,2],[42912,1,"\uA7A1"],[42913,2],[42914,1,"\uA7A3"],[42915,2],[42916,1,"\uA7A5"],[42917,2],[42918,1,"\uA7A7"],[42919,2],[42920,1,"\uA7A9"],[42921,2],[42922,1,"\u0266"],[42923,1,"\u025C"],[42924,1,"\u0261"],[42925,1,"\u026C"],[42926,1,"\u026A"],[42927,2],[42928,1,"\u029E"],[42929,1,"\u0287"],[42930,1,"\u029D"],[42931,1,"\uAB53"],[42932,1,"\uA7B5"],[42933,2],[42934,1,"\uA7B7"],[42935,2],[42936,1,"\uA7B9"],[42937,2],[42938,1,"\uA7BB"],[42939,2],[42940,1,"\uA7BD"],[42941,2],[42942,1,"\uA7BF"],[42943,2],[42944,1,"\uA7C1"],[42945,2],[42946,1,"\uA7C3"],[42947,2],[42948,1,"\uA794"],[42949,1,"\u0282"],[42950,1,"\u1D8E"],[42951,1,"\uA7C8"],[42952,2],[42953,1,"\uA7CA"],[42954,2],[[42955,42959],3],[42960,1,"\uA7D1"],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,"\uA7D7"],[42967,2],[42968,1,"\uA7D9"],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,"\uA7F6"],[42998,2],[42999,2],[43000,1,"\u0127"],[43001,1,"\u0153"],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,"\uA727"],[43869,1,"\uAB37"],[43870,1,"\u026B"],[43871,1,"\uAB52"],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,"\u028D"],[[43882,43883],2],[[43884,43887],3],[43888,1,"\u13A0"],[43889,1,"\u13A1"],[43890,1,"\u13A2"],[43891,1,"\u13A3"],[43892,1,"\u13A4"],[43893,1,"\u13A5"],[43894,1,"\u13A6"],[43895,1,"\u13A7"],[43896,1,"\u13A8"],[43897,1,"\u13A9"],[43898,1,"\u13AA"],[43899,1,"\u13AB"],[43900,1,"\u13AC"],[43901,1,"\u13AD"],[43902,1,"\u13AE"],[43903,1,"\u13AF"],[43904,1,"\u13B0"],[43905,1,"\u13B1"],[43906,1,"\u13B2"],[43907,1,"\u13B3"],[43908,1,"\u13B4"],[43909,1,"\u13B5"],[43910,1,"\u13B6"],[43911,1,"\u13B7"],[43912,1,"\u13B8"],[43913,1,"\u13B9"],[43914,1,"\u13BA"],[43915,1,"\u13BB"],[43916,1,"\u13BC"],[43917,1,"\u13BD"],[43918,1,"\u13BE"],[43919,1,"\u13BF"],[43920,1,"\u13C0"],[43921,1,"\u13C1"],[43922,1,"\u13C2"],[43923,1,"\u13C3"],[43924,1,"\u13C4"],[43925,1,"\u13C5"],[43926,1,"\u13C6"],[43927,1,"\u13C7"],[43928,1,"\u13C8"],[43929,1,"\u13C9"],[43930,1,"\u13CA"],[43931,1,"\u13CB"],[43932,1,"\u13CC"],[43933,1,"\u13CD"],[43934,1,"\u13CE"],[43935,1,"\u13CF"],[43936,1,"\u13D0"],[43937,1,"\u13D1"],[43938,1,"\u13D2"],[43939,1,"\u13D3"],[43940,1,"\u13D4"],[43941,1,"\u13D5"],[43942,1,"\u13D6"],[43943,1,"\u13D7"],[43944,1,"\u13D8"],[43945,1,"\u13D9"],[43946,1,"\u13DA"],[43947,1,"\u13DB"],[43948,1,"\u13DC"],[43949,1,"\u13DD"],[43950,1,"\u13DE"],[43951,1,"\u13DF"],[43952,1,"\u13E0"],[43953,1,"\u13E1"],[43954,1,"\u13E2"],[43955,1,"\u13E3"],[43956,1,"\u13E4"],[43957,1,"\u13E5"],[43958,1,"\u13E6"],[43959,1,"\u13E7"],[43960,1,"\u13E8"],[43961,1,"\u13E9"],[43962,1,"\u13EA"],[43963,1,"\u13EB"],[43964,1,"\u13EC"],[43965,1,"\u13ED"],[43966,1,"\u13EE"],[43967,1,"\u13EF"],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,"\u8C48"],[63745,1,"\u66F4"],[63746,1,"\u8ECA"],[63747,1,"\u8CC8"],[63748,1,"\u6ED1"],[63749,1,"\u4E32"],[63750,1,"\u53E5"],[[63751,63752],1,"\u9F9C"],[63753,1,"\u5951"],[63754,1,"\u91D1"],[63755,1,"\u5587"],[63756,1,"\u5948"],[63757,1,"\u61F6"],[63758,1,"\u7669"],[63759,1,"\u7F85"],[63760,1,"\u863F"],[63761,1,"\u87BA"],[63762,1,"\u88F8"],[63763,1,"\u908F"],[63764,1,"\u6A02"],[63765,1,"\u6D1B"],[63766,1,"\u70D9"],[63767,1,"\u73DE"],[63768,1,"\u843D"],[63769,1,"\u916A"],[63770,1,"\u99F1"],[63771,1,"\u4E82"],[63772,1,"\u5375"],[63773,1,"\u6B04"],[63774,1,"\u721B"],[63775,1,"\u862D"],[63776,1,"\u9E1E"],[63777,1,"\u5D50"],[63778,1,"\u6FEB"],[63779,1,"\u85CD"],[63780,1,"\u8964"],[63781,1,"\u62C9"],[63782,1,"\u81D8"],[63783,1,"\u881F"],[63784,1,"\u5ECA"],[63785,1,"\u6717"],[63786,1,"\u6D6A"],[63787,1,"\u72FC"],[63788,1,"\u90CE"],[63789,1,"\u4F86"],[63790,1,"\u51B7"],[63791,1,"\u52DE"],[63792,1,"\u64C4"],[63793,1,"\u6AD3"],[63794,1,"\u7210"],[63795,1,"\u76E7"],[63796,1,"\u8001"],[63797,1,"\u8606"],[63798,1,"\u865C"],[63799,1,"\u8DEF"],[63800,1,"\u9732"],[63801,1,"\u9B6F"],[63802,1,"\u9DFA"],[63803,1,"\u788C"],[63804,1,"\u797F"],[63805,1,"\u7DA0"],[63806,1,"\u83C9"],[63807,1,"\u9304"],[63808,1,"\u9E7F"],[63809,1,"\u8AD6"],[63810,1,"\u58DF"],[63811,1,"\u5F04"],[63812,1,"\u7C60"],[63813,1,"\u807E"],[63814,1,"\u7262"],[63815,1,"\u78CA"],[63816,1,"\u8CC2"],[63817,1,"\u96F7"],[63818,1,"\u58D8"],[63819,1,"\u5C62"],[63820,1,"\u6A13"],[63821,1,"\u6DDA"],[63822,1,"\u6F0F"],[63823,1,"\u7D2F"],[63824,1,"\u7E37"],[63825,1,"\u964B"],[63826,1,"\u52D2"],[63827,1,"\u808B"],[63828,1,"\u51DC"],[63829,1,"\u51CC"],[63830,1,"\u7A1C"],[63831,1,"\u7DBE"],[63832,1,"\u83F1"],[63833,1,"\u9675"],[63834,1,"\u8B80"],[63835,1,"\u62CF"],[63836,1,"\u6A02"],[63837,1,"\u8AFE"],[63838,1,"\u4E39"],[63839,1,"\u5BE7"],[63840,1,"\u6012"],[63841,1,"\u7387"],[63842,1,"\u7570"],[63843,1,"\u5317"],[63844,1,"\u78FB"],[63845,1,"\u4FBF"],[63846,1,"\u5FA9"],[63847,1,"\u4E0D"],[63848,1,"\u6CCC"],[63849,1,"\u6578"],[63850,1,"\u7D22"],[63851,1,"\u53C3"],[63852,1,"\u585E"],[63853,1,"\u7701"],[63854,1,"\u8449"],[63855,1,"\u8AAA"],[63856,1,"\u6BBA"],[63857,1,"\u8FB0"],[63858,1,"\u6C88"],[63859,1,"\u62FE"],[63860,1,"\u82E5"],[63861,1,"\u63A0"],[63862,1,"\u7565"],[63863,1,"\u4EAE"],[63864,1,"\u5169"],[63865,1,"\u51C9"],[63866,1,"\u6881"],[63867,1,"\u7CE7"],[63868,1,"\u826F"],[63869,1,"\u8AD2"],[63870,1,"\u91CF"],[63871,1,"\u52F5"],[63872,1,"\u5442"],[63873,1,"\u5973"],[63874,1,"\u5EEC"],[63875,1,"\u65C5"],[63876,1,"\u6FFE"],[63877,1,"\u792A"],[63878,1,"\u95AD"],[63879,1,"\u9A6A"],[63880,1,"\u9E97"],[63881,1,"\u9ECE"],[63882,1,"\u529B"],[63883,1,"\u66C6"],[63884,1,"\u6B77"],[63885,1,"\u8F62"],[63886,1,"\u5E74"],[63887,1,"\u6190"],[63888,1,"\u6200"],[63889,1,"\u649A"],[63890,1,"\u6F23"],[63891,1,"\u7149"],[63892,1,"\u7489"],[63893,1,"\u79CA"],[63894,1,"\u7DF4"],[63895,1,"\u806F"],[63896,1,"\u8F26"],[63897,1,"\u84EE"],[63898,1,"\u9023"],[63899,1,"\u934A"],[63900,1,"\u5217"],[63901,1,"\u52A3"],[63902,1,"\u54BD"],[63903,1,"\u70C8"],[63904,1,"\u88C2"],[63905,1,"\u8AAA"],[63906,1,"\u5EC9"],[63907,1,"\u5FF5"],[63908,1,"\u637B"],[63909,1,"\u6BAE"],[63910,1,"\u7C3E"],[63911,1,"\u7375"],[63912,1,"\u4EE4"],[63913,1,"\u56F9"],[63914,1,"\u5BE7"],[63915,1,"\u5DBA"],[63916,1,"\u601C"],[63917,1,"\u73B2"],[63918,1,"\u7469"],[63919,1,"\u7F9A"],[63920,1,"\u8046"],[63921,1,"\u9234"],[63922,1,"\u96F6"],[63923,1,"\u9748"],[63924,1,"\u9818"],[63925,1,"\u4F8B"],[63926,1,"\u79AE"],[63927,1,"\u91B4"],[63928,1,"\u96B8"],[63929,1,"\u60E1"],[63930,1,"\u4E86"],[63931,1,"\u50DA"],[63932,1,"\u5BEE"],[63933,1,"\u5C3F"],[63934,1,"\u6599"],[63935,1,"\u6A02"],[63936,1,"\u71CE"],[63937,1,"\u7642"],[63938,1,"\u84FC"],[63939,1,"\u907C"],[63940,1,"\u9F8D"],[63941,1,"\u6688"],[63942,1,"\u962E"],[63943,1,"\u5289"],[63944,1,"\u677B"],[63945,1,"\u67F3"],[63946,1,"\u6D41"],[63947,1,"\u6E9C"],[63948,1,"\u7409"],[63949,1,"\u7559"],[63950,1,"\u786B"],[63951,1,"\u7D10"],[63952,1,"\u985E"],[63953,1,"\u516D"],[63954,1,"\u622E"],[63955,1,"\u9678"],[63956,1,"\u502B"],[63957,1,"\u5D19"],[63958,1,"\u6DEA"],[63959,1,"\u8F2A"],[63960,1,"\u5F8B"],[63961,1,"\u6144"],[63962,1,"\u6817"],[63963,1,"\u7387"],[63964,1,"\u9686"],[63965,1,"\u5229"],[63966,1,"\u540F"],[63967,1,"\u5C65"],[63968,1,"\u6613"],[63969,1,"\u674E"],[63970,1,"\u68A8"],[63971,1,"\u6CE5"],[63972,1,"\u7406"],[63973,1,"\u75E2"],[63974,1,"\u7F79"],[63975,1,"\u88CF"],[63976,1,"\u88E1"],[63977,1,"\u91CC"],[63978,1,"\u96E2"],[63979,1,"\u533F"],[63980,1,"\u6EBA"],[63981,1,"\u541D"],[63982,1,"\u71D0"],[63983,1,"\u7498"],[63984,1,"\u85FA"],[63985,1,"\u96A3"],[63986,1,"\u9C57"],[63987,1,"\u9E9F"],[63988,1,"\u6797"],[63989,1,"\u6DCB"],[63990,1,"\u81E8"],[63991,1,"\u7ACB"],[63992,1,"\u7B20"],[63993,1,"\u7C92"],[63994,1,"\u72C0"],[63995,1,"\u7099"],[63996,1,"\u8B58"],[63997,1,"\u4EC0"],[63998,1,"\u8336"],[63999,1,"\u523A"],[64000,1,"\u5207"],[64001,1,"\u5EA6"],[64002,1,"\u62D3"],[64003,1,"\u7CD6"],[64004,1,"\u5B85"],[64005,1,"\u6D1E"],[64006,1,"\u66B4"],[64007,1,"\u8F3B"],[64008,1,"\u884C"],[64009,1,"\u964D"],[64010,1,"\u898B"],[64011,1,"\u5ED3"],[64012,1,"\u5140"],[64013,1,"\u55C0"],[[64014,64015],2],[64016,1,"\u585A"],[64017,2],[64018,1,"\u6674"],[[64019,64020],2],[64021,1,"\u51DE"],[64022,1,"\u732A"],[64023,1,"\u76CA"],[64024,1,"\u793C"],[64025,1,"\u795E"],[64026,1,"\u7965"],[64027,1,"\u798F"],[64028,1,"\u9756"],[64029,1,"\u7CBE"],[64030,1,"\u7FBD"],[64031,2],[64032,1,"\u8612"],[64033,2],[64034,1,"\u8AF8"],[[64035,64036],2],[64037,1,"\u9038"],[64038,1,"\u90FD"],[[64039,64041],2],[64042,1,"\u98EF"],[64043,1,"\u98FC"],[64044,1,"\u9928"],[64045,1,"\u9DB4"],[64046,1,"\u90DE"],[64047,1,"\u96B7"],[64048,1,"\u4FAE"],[64049,1,"\u50E7"],[64050,1,"\u514D"],[64051,1,"\u52C9"],[64052,1,"\u52E4"],[64053,1,"\u5351"],[64054,1,"\u559D"],[64055,1,"\u5606"],[64056,1,"\u5668"],[64057,1,"\u5840"],[64058,1,"\u58A8"],[64059,1,"\u5C64"],[64060,1,"\u5C6E"],[64061,1,"\u6094"],[64062,1,"\u6168"],[64063,1,"\u618E"],[64064,1,"\u61F2"],[64065,1,"\u654F"],[64066,1,"\u65E2"],[64067,1,"\u6691"],[64068,1,"\u6885"],[64069,1,"\u6D77"],[64070,1,"\u6E1A"],[64071,1,"\u6F22"],[64072,1,"\u716E"],[64073,1,"\u722B"],[64074,1,"\u7422"],[64075,1,"\u7891"],[64076,1,"\u793E"],[64077,1,"\u7949"],[64078,1,"\u7948"],[64079,1,"\u7950"],[64080,1,"\u7956"],[64081,1,"\u795D"],[64082,1,"\u798D"],[64083,1,"\u798E"],[64084,1,"\u7A40"],[64085,1,"\u7A81"],[64086,1,"\u7BC0"],[64087,1,"\u7DF4"],[64088,1,"\u7E09"],[64089,1,"\u7E41"],[64090,1,"\u7F72"],[64091,1,"\u8005"],[64092,1,"\u81ED"],[[64093,64094],1,"\u8279"],[64095,1,"\u8457"],[64096,1,"\u8910"],[64097,1,"\u8996"],[64098,1,"\u8B01"],[64099,1,"\u8B39"],[64100,1,"\u8CD3"],[64101,1,"\u8D08"],[64102,1,"\u8FB6"],[64103,1,"\u9038"],[64104,1,"\u96E3"],[64105,1,"\u97FF"],[64106,1,"\u983B"],[64107,1,"\u6075"],[64108,1,"\uD850\uDEEE"],[64109,1,"\u8218"],[[64110,64111],3],[64112,1,"\u4E26"],[64113,1,"\u51B5"],[64114,1,"\u5168"],[64115,1,"\u4F80"],[64116,1,"\u5145"],[64117,1,"\u5180"],[64118,1,"\u52C7"],[64119,1,"\u52FA"],[64120,1,"\u559D"],[64121,1,"\u5555"],[64122,1,"\u5599"],[64123,1,"\u55E2"],[64124,1,"\u585A"],[64125,1,"\u58B3"],[64126,1,"\u5944"],[64127,1,"\u5954"],[64128,1,"\u5A62"],[64129,1,"\u5B28"],[64130,1,"\u5ED2"],[64131,1,"\u5ED9"],[64132,1,"\u5F69"],[64133,1,"\u5FAD"],[64134,1,"\u60D8"],[64135,1,"\u614E"],[64136,1,"\u6108"],[64137,1,"\u618E"],[64138,1,"\u6160"],[64139,1,"\u61F2"],[64140,1,"\u6234"],[64141,1,"\u63C4"],[64142,1,"\u641C"],[64143,1,"\u6452"],[64144,1,"\u6556"],[64145,1,"\u6674"],[64146,1,"\u6717"],[64147,1,"\u671B"],[64148,1,"\u6756"],[64149,1,"\u6B79"],[64150,1,"\u6BBA"],[64151,1,"\u6D41"],[64152,1,"\u6EDB"],[64153,1,"\u6ECB"],[64154,1,"\u6F22"],[64155,1,"\u701E"],[64156,1,"\u716E"],[64157,1,"\u77A7"],[64158,1,"\u7235"],[64159,1,"\u72AF"],[64160,1,"\u732A"],[64161,1,"\u7471"],[64162,1,"\u7506"],[64163,1,"\u753B"],[64164,1,"\u761D"],[64165,1,"\u761F"],[64166,1,"\u76CA"],[64167,1,"\u76DB"],[64168,1,"\u76F4"],[64169,1,"\u774A"],[64170,1,"\u7740"],[64171,1,"\u78CC"],[64172,1,"\u7AB1"],[64173,1,"\u7BC0"],[64174,1,"\u7C7B"],[64175,1,"\u7D5B"],[64176,1,"\u7DF4"],[64177,1,"\u7F3E"],[64178,1,"\u8005"],[64179,1,"\u8352"],[64180,1,"\u83EF"],[64181,1,"\u8779"],[64182,1,"\u8941"],[64183,1,"\u8986"],[64184,1,"\u8996"],[64185,1,"\u8ABF"],[64186,1,"\u8AF8"],[64187,1,"\u8ACB"],[64188,1,"\u8B01"],[64189,1,"\u8AFE"],[64190,1,"\u8AED"],[64191,1,"\u8B39"],[64192,1,"\u8B8A"],[64193,1,"\u8D08"],[64194,1,"\u8F38"],[64195,1,"\u9072"],[64196,1,"\u9199"],[64197,1,"\u9276"],[64198,1,"\u967C"],[64199,1,"\u96E3"],[64200,1,"\u9756"],[64201,1,"\u97DB"],[64202,1,"\u97FF"],[64203,1,"\u980B"],[64204,1,"\u983B"],[64205,1,"\u9B12"],[64206,1,"\u9F9C"],[64207,1,"\uD84A\uDC4A"],[64208,1,"\uD84A\uDC44"],[64209,1,"\uD84C\uDFD5"],[64210,1,"\u3B9D"],[64211,1,"\u4018"],[64212,1,"\u4039"],[64213,1,"\uD854\uDE49"],[64214,1,"\uD857\uDCD0"],[64215,1,"\uD85F\uDED3"],[64216,1,"\u9F43"],[64217,1,"\u9F8E"],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,"\u0574\u0576"],[64276,1,"\u0574\u0565"],[64277,1,"\u0574\u056B"],[64278,1,"\u057E\u0576"],[64279,1,"\u0574\u056D"],[[64280,64284],3],[64285,1,"\u05D9\u05B4"],[64286,2],[64287,1,"\u05F2\u05B7"],[64288,1,"\u05E2"],[64289,1,"\u05D0"],[64290,1,"\u05D3"],[64291,1,"\u05D4"],[64292,1,"\u05DB"],[64293,1,"\u05DC"],[64294,1,"\u05DD"],[64295,1,"\u05E8"],[64296,1,"\u05EA"],[64297,5,"+"],[64298,1,"\u05E9\u05C1"],[64299,1,"\u05E9\u05C2"],[64300,1,"\u05E9\u05BC\u05C1"],[64301,1,"\u05E9\u05BC\u05C2"],[64302,1,"\u05D0\u05B7"],[64303,1,"\u05D0\u05B8"],[64304,1,"\u05D0\u05BC"],[64305,1,"\u05D1\u05BC"],[64306,1,"\u05D2\u05BC"],[64307,1,"\u05D3\u05BC"],[64308,1,"\u05D4\u05BC"],[64309,1,"\u05D5\u05BC"],[64310,1,"\u05D6\u05BC"],[64311,3],[64312,1,"\u05D8\u05BC"],[64313,1,"\u05D9\u05BC"],[64314,1,"\u05DA\u05BC"],[64315,1,"\u05DB\u05BC"],[64316,1,"\u05DC\u05BC"],[64317,3],[64318,1,"\u05DE\u05BC"],[64319,3],[64320,1,"\u05E0\u05BC"],[64321,1,"\u05E1\u05BC"],[64322,3],[64323,1,"\u05E3\u05BC"],[64324,1,"\u05E4\u05BC"],[64325,3],[64326,1,"\u05E6\u05BC"],[64327,1,"\u05E7\u05BC"],[64328,1,"\u05E8\u05BC"],[64329,1,"\u05E9\u05BC"],[64330,1,"\u05EA\u05BC"],[64331,1,"\u05D5\u05B9"],[64332,1,"\u05D1\u05BF"],[64333,1,"\u05DB\u05BF"],[64334,1,"\u05E4\u05BF"],[64335,1,"\u05D0\u05DC"],[[64336,64337],1,"\u0671"],[[64338,64341],1,"\u067B"],[[64342,64345],1,"\u067E"],[[64346,64349],1,"\u0680"],[[64350,64353],1,"\u067A"],[[64354,64357],1,"\u067F"],[[64358,64361],1,"\u0679"],[[64362,64365],1,"\u06A4"],[[64366,64369],1,"\u06A6"],[[64370,64373],1,"\u0684"],[[64374,64377],1,"\u0683"],[[64378,64381],1,"\u0686"],[[64382,64385],1,"\u0687"],[[64386,64387],1,"\u068D"],[[64388,64389],1,"\u068C"],[[64390,64391],1,"\u068E"],[[64392,64393],1,"\u0688"],[[64394,64395],1,"\u0698"],[[64396,64397],1,"\u0691"],[[64398,64401],1,"\u06A9"],[[64402,64405],1,"\u06AF"],[[64406,64409],1,"\u06B3"],[[64410,64413],1,"\u06B1"],[[64414,64415],1,"\u06BA"],[[64416,64419],1,"\u06BB"],[[64420,64421],1,"\u06C0"],[[64422,64425],1,"\u06C1"],[[64426,64429],1,"\u06BE"],[[64430,64431],1,"\u06D2"],[[64432,64433],1,"\u06D3"],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,"\u06AD"],[[64471,64472],1,"\u06C7"],[[64473,64474],1,"\u06C6"],[[64475,64476],1,"\u06C8"],[64477,1,"\u06C7\u0674"],[[64478,64479],1,"\u06CB"],[[64480,64481],1,"\u06C5"],[[64482,64483],1,"\u06C9"],[[64484,64487],1,"\u06D0"],[[64488,64489],1,"\u0649"],[[64490,64491],1,"\u0626\u0627"],[[64492,64493],1,"\u0626\u06D5"],[[64494,64495],1,"\u0626\u0648"],[[64496,64497],1,"\u0626\u06C7"],[[64498,64499],1,"\u0626\u06C6"],[[64500,64501],1,"\u0626\u06C8"],[[64502,64504],1,"\u0626\u06D0"],[[64505,64507],1,"\u0626\u0649"],[[64508,64511],1,"\u06CC"],[64512,1,"\u0626\u062C"],[64513,1,"\u0626\u062D"],[64514,1,"\u0626\u0645"],[64515,1,"\u0626\u0649"],[64516,1,"\u0626\u064A"],[64517,1,"\u0628\u062C"],[64518,1,"\u0628\u062D"],[64519,1,"\u0628\u062E"],[64520,1,"\u0628\u0645"],[64521,1,"\u0628\u0649"],[64522,1,"\u0628\u064A"],[64523,1,"\u062A\u062C"],[64524,1,"\u062A\u062D"],[64525,1,"\u062A\u062E"],[64526,1,"\u062A\u0645"],[64527,1,"\u062A\u0649"],[64528,1,"\u062A\u064A"],[64529,1,"\u062B\u062C"],[64530,1,"\u062B\u0645"],[64531,1,"\u062B\u0649"],[64532,1,"\u062B\u064A"],[64533,1,"\u062C\u062D"],[64534,1,"\u062C\u0645"],[64535,1,"\u062D\u062C"],[64536,1,"\u062D\u0645"],[64537,1,"\u062E\u062C"],[64538,1,"\u062E\u062D"],[64539,1,"\u062E\u0645"],[64540,1,"\u0633\u062C"],[64541,1,"\u0633\u062D"],[64542,1,"\u0633\u062E"],[64543,1,"\u0633\u0645"],[64544,1,"\u0635\u062D"],[64545,1,"\u0635\u0645"],[64546,1,"\u0636\u062C"],[64547,1,"\u0636\u062D"],[64548,1,"\u0636\u062E"],[64549,1,"\u0636\u0645"],[64550,1,"\u0637\u062D"],[64551,1,"\u0637\u0645"],[64552,1,"\u0638\u0645"],[64553,1,"\u0639\u062C"],[64554,1,"\u0639\u0645"],[64555,1,"\u063A\u062C"],[64556,1,"\u063A\u0645"],[64557,1,"\u0641\u062C"],[64558,1,"\u0641\u062D"],[64559,1,"\u0641\u062E"],[64560,1,"\u0641\u0645"],[64561,1,"\u0641\u0649"],[64562,1,"\u0641\u064A"],[64563,1,"\u0642\u062D"],[64564,1,"\u0642\u0645"],[64565,1,"\u0642\u0649"],[64566,1,"\u0642\u064A"],[64567,1,"\u0643\u0627"],[64568,1,"\u0643\u062C"],[64569,1,"\u0643\u062D"],[64570,1,"\u0643\u062E"],[64571,1,"\u0643\u0644"],[64572,1,"\u0643\u0645"],[64573,1,"\u0643\u0649"],[64574,1,"\u0643\u064A"],[64575,1,"\u0644\u062C"],[64576,1,"\u0644\u062D"],[64577,1,"\u0644\u062E"],[64578,1,"\u0644\u0645"],[64579,1,"\u0644\u0649"],[64580,1,"\u0644\u064A"],[64581,1,"\u0645\u062C"],[64582,1,"\u0645\u062D"],[64583,1,"\u0645\u062E"],[64584,1,"\u0645\u0645"],[64585,1,"\u0645\u0649"],[64586,1,"\u0645\u064A"],[64587,1,"\u0646\u062C"],[64588,1,"\u0646\u062D"],[64589,1,"\u0646\u062E"],[64590,1,"\u0646\u0645"],[64591,1,"\u0646\u0649"],[64592,1,"\u0646\u064A"],[64593,1,"\u0647\u062C"],[64594,1,"\u0647\u0645"],[64595,1,"\u0647\u0649"],[64596,1,"\u0647\u064A"],[64597,1,"\u064A\u062C"],[64598,1,"\u064A\u062D"],[64599,1,"\u064A\u062E"],[64600,1,"\u064A\u0645"],[64601,1,"\u064A\u0649"],[64602,1,"\u064A\u064A"],[64603,1,"\u0630\u0670"],[64604,1,"\u0631\u0670"],[64605,1,"\u0649\u0670"],[64606,5," \u064C\u0651"],[64607,5," \u064D\u0651"],[64608,5," \u064E\u0651"],[64609,5," \u064F\u0651"],[64610,5," \u0650\u0651"],[64611,5," \u0651\u0670"],[64612,1,"\u0626\u0631"],[64613,1,"\u0626\u0632"],[64614,1,"\u0626\u0645"],[64615,1,"\u0626\u0646"],[64616,1,"\u0626\u0649"],[64617,1,"\u0626\u064A"],[64618,1,"\u0628\u0631"],[64619,1,"\u0628\u0632"],[64620,1,"\u0628\u0645"],[64621,1,"\u0628\u0646"],[64622,1,"\u0628\u0649"],[64623,1,"\u0628\u064A"],[64624,1,"\u062A\u0631"],[64625,1,"\u062A\u0632"],[64626,1,"\u062A\u0645"],[64627,1,"\u062A\u0646"],[64628,1,"\u062A\u0649"],[64629,1,"\u062A\u064A"],[64630,1,"\u062B\u0631"],[64631,1,"\u062B\u0632"],[64632,1,"\u062B\u0645"],[64633,1,"\u062B\u0646"],[64634,1,"\u062B\u0649"],[64635,1,"\u062B\u064A"],[64636,1,"\u0641\u0649"],[64637,1,"\u0641\u064A"],[64638,1,"\u0642\u0649"],[64639,1,"\u0642\u064A"],[64640,1,"\u0643\u0627"],[64641,1,"\u0643\u0644"],[64642,1,"\u0643\u0645"],[64643,1,"\u0643\u0649"],[64644,1,"\u0643\u064A"],[64645,1,"\u0644\u0645"],[64646,1,"\u0644\u0649"],[64647,1,"\u0644\u064A"],[64648,1,"\u0645\u0627"],[64649,1,"\u0645\u0645"],[64650,1,"\u0646\u0631"],[64651,1,"\u0646\u0632"],[64652,1,"\u0646\u0645"],[64653,1,"\u0646\u0646"],[64654,1,"\u0646\u0649"],[64655,1,"\u0646\u064A"],[64656,1,"\u0649\u0670"],[64657,1,"\u064A\u0631"],[64658,1,"\u064A\u0632"],[64659,1,"\u064A\u0645"],[64660,1,"\u064A\u0646"],[64661,1,"\u064A\u0649"],[64662,1,"\u064A\u064A"],[64663,1,"\u0626\u062C"],[64664,1,"\u0626\u062D"],[64665,1,"\u0626\u062E"],[64666,1,"\u0626\u0645"],[64667,1,"\u0626\u0647"],[64668,1,"\u0628\u062C"],[64669,1,"\u0628\u062D"],[64670,1,"\u0628\u062E"],[64671,1,"\u0628\u0645"],[64672,1,"\u0628\u0647"],[64673,1,"\u062A\u062C"],[64674,1,"\u062A\u062D"],[64675,1,"\u062A\u062E"],[64676,1,"\u062A\u0645"],[64677,1,"\u062A\u0647"],[64678,1,"\u062B\u0645"],[64679,1,"\u062C\u062D"],[64680,1,"\u062C\u0645"],[64681,1,"\u062D\u062C"],[64682,1,"\u062D\u0645"],[64683,1,"\u062E\u062C"],[64684,1,"\u062E\u0645"],[64685,1,"\u0633\u062C"],[64686,1,"\u0633\u062D"],[64687,1,"\u0633\u062E"],[64688,1,"\u0633\u0645"],[64689,1,"\u0635\u062D"],[64690,1,"\u0635\u062E"],[64691,1,"\u0635\u0645"],[64692,1,"\u0636\u062C"],[64693,1,"\u0636\u062D"],[64694,1,"\u0636\u062E"],[64695,1,"\u0636\u0645"],[64696,1,"\u0637\u062D"],[64697,1,"\u0638\u0645"],[64698,1,"\u0639\u062C"],[64699,1,"\u0639\u0645"],[64700,1,"\u063A\u062C"],[64701,1,"\u063A\u0645"],[64702,1,"\u0641\u062C"],[64703,1,"\u0641\u062D"],[64704,1,"\u0641\u062E"],[64705,1,"\u0641\u0645"],[64706,1,"\u0642\u062D"],[64707,1,"\u0642\u0645"],[64708,1,"\u0643\u062C"],[64709,1,"\u0643\u062D"],[64710,1,"\u0643\u062E"],[64711,1,"\u0643\u0644"],[64712,1,"\u0643\u0645"],[64713,1,"\u0644\u062C"],[64714,1,"\u0644\u062D"],[64715,1,"\u0644\u062E"],[64716,1,"\u0644\u0645"],[64717,1,"\u0644\u0647"],[64718,1,"\u0645\u062C"],[64719,1,"\u0645\u062D"],[64720,1,"\u0645\u062E"],[64721,1,"\u0645\u0645"],[64722,1,"\u0646\u062C"],[64723,1,"\u0646\u062D"],[64724,1,"\u0646\u062E"],[64725,1,"\u0646\u0645"],[64726,1,"\u0646\u0647"],[64727,1,"\u0647\u062C"],[64728,1,"\u0647\u0645"],[64729,1,"\u0647\u0670"],[64730,1,"\u064A\u062C"],[64731,1,"\u064A\u062D"],[64732,1,"\u064A\u062E"],[64733,1,"\u064A\u0645"],[64734,1,"\u064A\u0647"],[64735,1,"\u0626\u0645"],[64736,1,"\u0626\u0647"],[64737,1,"\u0628\u0645"],[64738,1,"\u0628\u0647"],[64739,1,"\u062A\u0645"],[64740,1,"\u062A\u0647"],[64741,1,"\u062B\u0645"],[64742,1,"\u062B\u0647"],[64743,1,"\u0633\u0645"],[64744,1,"\u0633\u0647"],[64745,1,"\u0634\u0645"],[64746,1,"\u0634\u0647"],[64747,1,"\u0643\u0644"],[64748,1,"\u0643\u0645"],[64749,1,"\u0644\u0645"],[64750,1,"\u0646\u0645"],[64751,1,"\u0646\u0647"],[64752,1,"\u064A\u0645"],[64753,1,"\u064A\u0647"],[64754,1,"\u0640\u064E\u0651"],[64755,1,"\u0640\u064F\u0651"],[64756,1,"\u0640\u0650\u0651"],[64757,1,"\u0637\u0649"],[64758,1,"\u0637\u064A"],[64759,1,"\u0639\u0649"],[64760,1,"\u0639\u064A"],[64761,1,"\u063A\u0649"],[64762,1,"\u063A\u064A"],[64763,1,"\u0633\u0649"],[64764,1,"\u0633\u064A"],[64765,1,"\u0634\u0649"],[64766,1,"\u0634\u064A"],[64767,1,"\u062D\u0649"],[64768,1,"\u062D\u064A"],[64769,1,"\u062C\u0649"],[64770,1,"\u062C\u064A"],[64771,1,"\u062E\u0649"],[64772,1,"\u062E\u064A"],[64773,1,"\u0635\u0649"],[64774,1,"\u0635\u064A"],[64775,1,"\u0636\u0649"],[64776,1,"\u0636\u064A"],[64777,1,"\u0634\u062C"],[64778,1,"\u0634\u062D"],[64779,1,"\u0634\u062E"],[64780,1,"\u0634\u0645"],[64781,1,"\u0634\u0631"],[64782,1,"\u0633\u0631"],[64783,1,"\u0635\u0631"],[64784,1,"\u0636\u0631"],[64785,1,"\u0637\u0649"],[64786,1,"\u0637\u064A"],[64787,1,"\u0639\u0649"],[64788,1,"\u0639\u064A"],[64789,1,"\u063A\u0649"],[64790,1,"\u063A\u064A"],[64791,1,"\u0633\u0649"],[64792,1,"\u0633\u064A"],[64793,1,"\u0634\u0649"],[64794,1,"\u0634\u064A"],[64795,1,"\u062D\u0649"],[64796,1,"\u062D\u064A"],[64797,1,"\u062C\u0649"],[64798,1,"\u062C\u064A"],[64799,1,"\u062E\u0649"],[64800,1,"\u062E\u064A"],[64801,1,"\u0635\u0649"],[64802,1,"\u0635\u064A"],[64803,1,"\u0636\u0649"],[64804,1,"\u0636\u064A"],[64805,1,"\u0634\u062C"],[64806,1,"\u0634\u062D"],[64807,1,"\u0634\u062E"],[64808,1,"\u0634\u0645"],[64809,1,"\u0634\u0631"],[64810,1,"\u0633\u0631"],[64811,1,"\u0635\u0631"],[64812,1,"\u0636\u0631"],[64813,1,"\u0634\u062C"],[64814,1,"\u0634\u062D"],[64815,1,"\u0634\u062E"],[64816,1,"\u0634\u0645"],[64817,1,"\u0633\u0647"],[64818,1,"\u0634\u0647"],[64819,1,"\u0637\u0645"],[64820,1,"\u0633\u062C"],[64821,1,"\u0633\u062D"],[64822,1,"\u0633\u062E"],[64823,1,"\u0634\u062C"],[64824,1,"\u0634\u062D"],[64825,1,"\u0634\u062E"],[64826,1,"\u0637\u0645"],[64827,1,"\u0638\u0645"],[[64828,64829],1,"\u0627\u064B"],[[64830,64831],2],[[64832,64847],2],[64848,1,"\u062A\u062C\u0645"],[[64849,64850],1,"\u062A\u062D\u062C"],[64851,1,"\u062A\u062D\u0645"],[64852,1,"\u062A\u062E\u0645"],[64853,1,"\u062A\u0645\u062C"],[64854,1,"\u062A\u0645\u062D"],[64855,1,"\u062A\u0645\u062E"],[[64856,64857],1,"\u062C\u0645\u062D"],[64858,1,"\u062D\u0645\u064A"],[64859,1,"\u062D\u0645\u0649"],[64860,1,"\u0633\u062D\u062C"],[64861,1,"\u0633\u062C\u062D"],[64862,1,"\u0633\u062C\u0649"],[[64863,64864],1,"\u0633\u0645\u062D"],[64865,1,"\u0633\u0645\u062C"],[[64866,64867],1,"\u0633\u0645\u0645"],[[64868,64869],1,"\u0635\u062D\u062D"],[64870,1,"\u0635\u0645\u0645"],[[64871,64872],1,"\u0634\u062D\u0645"],[64873,1,"\u0634\u062C\u064A"],[[64874,64875],1,"\u0634\u0645\u062E"],[[64876,64877],1,"\u0634\u0645\u0645"],[64878,1,"\u0636\u062D\u0649"],[[64879,64880],1,"\u0636\u062E\u0645"],[[64881,64882],1,"\u0637\u0645\u062D"],[64883,1,"\u0637\u0645\u0645"],[64884,1,"\u0637\u0645\u064A"],[64885,1,"\u0639\u062C\u0645"],[[64886,64887],1,"\u0639\u0645\u0645"],[64888,1,"\u0639\u0645\u0649"],[64889,1,"\u063A\u0645\u0645"],[64890,1,"\u063A\u0645\u064A"],[64891,1,"\u063A\u0645\u0649"],[[64892,64893],1,"\u0641\u062E\u0645"],[64894,1,"\u0642\u0645\u062D"],[64895,1,"\u0642\u0645\u0645"],[64896,1,"\u0644\u062D\u0645"],[64897,1,"\u0644\u062D\u064A"],[64898,1,"\u0644\u062D\u0649"],[[64899,64900],1,"\u0644\u062C\u062C"],[[64901,64902],1,"\u0644\u062E\u0645"],[[64903,64904],1,"\u0644\u0645\u062D"],[64905,1,"\u0645\u062D\u062C"],[64906,1,"\u0645\u062D\u0645"],[64907,1,"\u0645\u062D\u064A"],[64908,1,"\u0645\u062C\u062D"],[64909,1,"\u0645\u062C\u0645"],[64910,1,"\u0645\u062E\u062C"],[64911,1,"\u0645\u062E\u0645"],[[64912,64913],3],[64914,1,"\u0645\u062C\u062E"],[64915,1,"\u0647\u0645\u062C"],[64916,1,"\u0647\u0645\u0645"],[64917,1,"\u0646\u062D\u0645"],[64918,1,"\u0646\u062D\u0649"],[[64919,64920],1,"\u0646\u062C\u0645"],[64921,1,"\u0646\u062C\u0649"],[64922,1,"\u0646\u0645\u064A"],[64923,1,"\u0646\u0645\u0649"],[[64924,64925],1,"\u064A\u0645\u0645"],[64926,1,"\u0628\u062E\u064A"],[64927,1,"\u062A\u062C\u064A"],[64928,1,"\u062A\u062C\u0649"],[64929,1,"\u062A\u062E\u064A"],[64930,1,"\u062A\u062E\u0649"],[64931,1,"\u062A\u0645\u064A"],[64932,1,"\u062A\u0645\u0649"],[64933,1,"\u062C\u0645\u064A"],[64934,1,"\u062C\u062D\u0649"],[64935,1,"\u062C\u0645\u0649"],[64936,1,"\u0633\u062E\u0649"],[64937,1,"\u0635\u062D\u064A"],[64938,1,"\u0634\u062D\u064A"],[64939,1,"\u0636\u062D\u064A"],[64940,1,"\u0644\u062C\u064A"],[64941,1,"\u0644\u0645\u064A"],[64942,1,"\u064A\u062D\u064A"],[64943,1,"\u064A\u062C\u064A"],[64944,1,"\u064A\u0645\u064A"],[64945,1,"\u0645\u0645\u064A"],[64946,1,"\u0642\u0645\u064A"],[64947,1,"\u0646\u062D\u064A"],[64948,1,"\u0642\u0645\u062D"],[64949,1,"\u0644\u062D\u0645"],[64950,1,"\u0639\u0645\u064A"],[64951,1,"\u0643\u0645\u064A"],[64952,1,"\u0646\u062C\u062D"],[64953,1,"\u0645\u062E\u064A"],[64954,1,"\u0644\u062C\u0645"],[64955,1,"\u0643\u0645\u0645"],[64956,1,"\u0644\u062C\u0645"],[64957,1,"\u0646\u062C\u062D"],[64958,1,"\u062C\u062D\u064A"],[64959,1,"\u062D\u062C\u064A"],[64960,1,"\u0645\u062C\u064A"],[64961,1,"\u0641\u0645\u064A"],[64962,1,"\u0628\u062D\u064A"],[64963,1,"\u0643\u0645\u0645"],[64964,1,"\u0639\u062C\u0645"],[64965,1,"\u0635\u0645\u0645"],[64966,1,"\u0633\u062E\u064A"],[64967,1,"\u0646\u062C\u064A"],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,"\u0635\u0644\u06D2"],[65009,1,"\u0642\u0644\u06D2"],[65010,1,"\u0627\u0644\u0644\u0647"],[65011,1,"\u0627\u0643\u0628\u0631"],[65012,1,"\u0645\u062D\u0645\u062F"],[65013,1,"\u0635\u0644\u0639\u0645"],[65014,1,"\u0631\u0633\u0648\u0644"],[65015,1,"\u0639\u0644\u064A\u0647"],[65016,1,"\u0648\u0633\u0644\u0645"],[65017,1,"\u0635\u0644\u0649"],[65018,5,"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064A\u0647 \u0648\u0633\u0644\u0645"],[65019,5,"\u062C\u0644 \u062C\u0644\u0627\u0644\u0647"],[65020,1,"\u0631\u06CC\u0627\u0644"],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,"\u3001"],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,"\u3016"],[65048,1,"\u3017"],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,"\u2014"],[65074,1,"\u2013"],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,"\u3014"],[65082,1,"\u3015"],[65083,1,"\u3010"],[65084,1,"\u3011"],[65085,1,"\u300A"],[65086,1,"\u300B"],[65087,1,"\u3008"],[65088,1,"\u3009"],[65089,1,"\u300C"],[65090,1,"\u300D"],[65091,1,"\u300E"],[65092,1,"\u300F"],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," \u0305"],[[65101,65103],5,"_"],[65104,5,","],[65105,1,"\u3001"],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,"\u2014"],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,"\u3014"],[65118,1,"\u3015"],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," \u064B"],[65137,1,"\u0640\u064B"],[65138,5," \u064C"],[65139,2],[65140,5," \u064D"],[65141,3],[65142,5," \u064E"],[65143,1,"\u0640\u064E"],[65144,5," \u064F"],[65145,1,"\u0640\u064F"],[65146,5," \u0650"],[65147,1,"\u0640\u0650"],[65148,5," \u0651"],[65149,1,"\u0640\u0651"],[65150,5," \u0652"],[65151,1,"\u0640\u0652"],[65152,1,"\u0621"],[[65153,65154],1,"\u0622"],[[65155,65156],1,"\u0623"],[[65157,65158],1,"\u0624"],[[65159,65160],1,"\u0625"],[[65161,65164],1,"\u0626"],[[65165,65166],1,"\u0627"],[[65167,65170],1,"\u0628"],[[65171,65172],1,"\u0629"],[[65173,65176],1,"\u062A"],[[65177,65180],1,"\u062B"],[[65181,65184],1,"\u062C"],[[65185,65188],1,"\u062D"],[[65189,65192],1,"\u062E"],[[65193,65194],1,"\u062F"],[[65195,65196],1,"\u0630"],[[65197,65198],1,"\u0631"],[[65199,65200],1,"\u0632"],[[65201,65204],1,"\u0633"],[[65205,65208],1,"\u0634"],[[65209,65212],1,"\u0635"],[[65213,65216],1,"\u0636"],[[65217,65220],1,"\u0637"],[[65221,65224],1,"\u0638"],[[65225,65228],1,"\u0639"],[[65229,65232],1,"\u063A"],[[65233,65236],1,"\u0641"],[[65237,65240],1,"\u0642"],[[65241,65244],1,"\u0643"],[[65245,65248],1,"\u0644"],[[65249,65252],1,"\u0645"],[[65253,65256],1,"\u0646"],[[65257,65260],1,"\u0647"],[[65261,65262],1,"\u0648"],[[65263,65264],1,"\u0649"],[[65265,65268],1,"\u064A"],[[65269,65270],1,"\u0644\u0622"],[[65271,65272],1,"\u0644\u0623"],[[65273,65274],1,"\u0644\u0625"],[[65275,65276],1,"\u0644\u0627"],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,"\""],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,"\u2985"],[65376,1,"\u2986"],[65377,1,"."],[65378,1,"\u300C"],[65379,1,"\u300D"],[65380,1,"\u3001"],[65381,1,"\u30FB"],[65382,1,"\u30F2"],[65383,1,"\u30A1"],[65384,1,"\u30A3"],[65385,1,"\u30A5"],[65386,1,"\u30A7"],[65387,1,"\u30A9"],[65388,1,"\u30E3"],[65389,1,"\u30E5"],[65390,1,"\u30E7"],[65391,1,"\u30C3"],[65392,1,"\u30FC"],[65393,1,"\u30A2"],[65394,1,"\u30A4"],[65395,1,"\u30A6"],[65396,1,"\u30A8"],[65397,1,"\u30AA"],[65398,1,"\u30AB"],[65399,1,"\u30AD"],[65400,1,"\u30AF"],[65401,1,"\u30B1"],[65402,1,"\u30B3"],[65403,1,"\u30B5"],[65404,1,"\u30B7"],[65405,1,"\u30B9"],[65406,1,"\u30BB"],[65407,1,"\u30BD"],[65408,1,"\u30BF"],[65409,1,"\u30C1"],[65410,1,"\u30C4"],[65411,1,"\u30C6"],[65412,1,"\u30C8"],[65413,1,"\u30CA"],[65414,1,"\u30CB"],[65415,1,"\u30CC"],[65416,1,"\u30CD"],[65417,1,"\u30CE"],[65418,1,"\u30CF"],[65419,1,"\u30D2"],[65420,1,"\u30D5"],[65421,1,"\u30D8"],[65422,1,"\u30DB"],[65423,1,"\u30DE"],[65424,1,"\u30DF"],[65425,1,"\u30E0"],[65426,1,"\u30E1"],[65427,1,"\u30E2"],[65428,1,"\u30E4"],[65429,1,"\u30E6"],[65430,1,"\u30E8"],[65431,1,"\u30E9"],[65432,1,"\u30EA"],[65433,1,"\u30EB"],[65434,1,"\u30EC"],[65435,1,"\u30ED"],[65436,1,"\u30EF"],[65437,1,"\u30F3"],[65438,1,"\u3099"],[65439,1,"\u309A"],[65440,3],[65441,1,"\u1100"],[65442,1,"\u1101"],[65443,1,"\u11AA"],[65444,1,"\u1102"],[65445,1,"\u11AC"],[65446,1,"\u11AD"],[65447,1,"\u1103"],[65448,1,"\u1104"],[65449,1,"\u1105"],[65450,1,"\u11B0"],[65451,1,"\u11B1"],[65452,1,"\u11B2"],[65453,1,"\u11B3"],[65454,1,"\u11B4"],[65455,1,"\u11B5"],[65456,1,"\u111A"],[65457,1,"\u1106"],[65458,1,"\u1107"],[65459,1,"\u1108"],[65460,1,"\u1121"],[65461,1,"\u1109"],[65462,1,"\u110A"],[65463,1,"\u110B"],[65464,1,"\u110C"],[65465,1,"\u110D"],[65466,1,"\u110E"],[65467,1,"\u110F"],[65468,1,"\u1110"],[65469,1,"\u1111"],[65470,1,"\u1112"],[[65471,65473],3],[65474,1,"\u1161"],[65475,1,"\u1162"],[65476,1,"\u1163"],[65477,1,"\u1164"],[65478,1,"\u1165"],[65479,1,"\u1166"],[[65480,65481],3],[65482,1,"\u1167"],[65483,1,"\u1168"],[65484,1,"\u1169"],[65485,1,"\u116A"],[65486,1,"\u116B"],[65487,1,"\u116C"],[[65488,65489],3],[65490,1,"\u116D"],[65491,1,"\u116E"],[65492,1,"\u116F"],[65493,1,"\u1170"],[65494,1,"\u1171"],[65495,1,"\u1172"],[[65496,65497],3],[65498,1,"\u1173"],[65499,1,"\u1174"],[65500,1,"\u1175"],[[65501,65503],3],[65504,1,"\xA2"],[65505,1,"\xA3"],[65506,1,"\xAC"],[65507,5," \u0304"],[65508,1,"\xA6"],[65509,1,"\xA5"],[65510,1,"\u20A9"],[65511,3],[65512,1,"\u2502"],[65513,1,"\u2190"],[65514,1,"\u2191"],[65515,1,"\u2192"],[65516,1,"\u2193"],[65517,1,"\u25A0"],[65518,1,"\u25CB"],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66000,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,"\uD801\uDC28"],[66561,1,"\uD801\uDC29"],[66562,1,"\uD801\uDC2A"],[66563,1,"\uD801\uDC2B"],[66564,1,"\uD801\uDC2C"],[66565,1,"\uD801\uDC2D"],[66566,1,"\uD801\uDC2E"],[66567,1,"\uD801\uDC2F"],[66568,1,"\uD801\uDC30"],[66569,1,"\uD801\uDC31"],[66570,1,"\uD801\uDC32"],[66571,1,"\uD801\uDC33"],[66572,1,"\uD801\uDC34"],[66573,1,"\uD801\uDC35"],[66574,1,"\uD801\uDC36"],[66575,1,"\uD801\uDC37"],[66576,1,"\uD801\uDC38"],[66577,1,"\uD801\uDC39"],[66578,1,"\uD801\uDC3A"],[66579,1,"\uD801\uDC3B"],[66580,1,"\uD801\uDC3C"],[66581,1,"\uD801\uDC3D"],[66582,1,"\uD801\uDC3E"],[66583,1,"\uD801\uDC3F"],[66584,1,"\uD801\uDC40"],[66585,1,"\uD801\uDC41"],[66586,1,"\uD801\uDC42"],[66587,1,"\uD801\uDC43"],[66588,1,"\uD801\uDC44"],[66589,1,"\uD801\uDC45"],[66590,1,"\uD801\uDC46"],[66591,1,"\uD801\uDC47"],[66592,1,"\uD801\uDC48"],[66593,1,"\uD801\uDC49"],[66594,1,"\uD801\uDC4A"],[66595,1,"\uD801\uDC4B"],[66596,1,"\uD801\uDC4C"],[66597,1,"\uD801\uDC4D"],[66598,1,"\uD801\uDC4E"],[66599,1,"\uD801\uDC4F"],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,"\uD801\uDCD8"],[66737,1,"\uD801\uDCD9"],[66738,1,"\uD801\uDCDA"],[66739,1,"\uD801\uDCDB"],[66740,1,"\uD801\uDCDC"],[66741,1,"\uD801\uDCDD"],[66742,1,"\uD801\uDCDE"],[66743,1,"\uD801\uDCDF"],[66744,1,"\uD801\uDCE0"],[66745,1,"\uD801\uDCE1"],[66746,1,"\uD801\uDCE2"],[66747,1,"\uD801\uDCE3"],[66748,1,"\uD801\uDCE4"],[66749,1,"\uD801\uDCE5"],[66750,1,"\uD801\uDCE6"],[66751,1,"\uD801\uDCE7"],[66752,1,"\uD801\uDCE8"],[66753,1,"\uD801\uDCE9"],[66754,1,"\uD801\uDCEA"],[66755,1,"\uD801\uDCEB"],[66756,1,"\uD801\uDCEC"],[66757,1,"\uD801\uDCED"],[66758,1,"\uD801\uDCEE"],[66759,1,"\uD801\uDCEF"],[66760,1,"\uD801\uDCF0"],[66761,1,"\uD801\uDCF1"],[66762,1,"\uD801\uDCF2"],[66763,1,"\uD801\uDCF3"],[66764,1,"\uD801\uDCF4"],[66765,1,"\uD801\uDCF5"],[66766,1,"\uD801\uDCF6"],[66767,1,"\uD801\uDCF7"],[66768,1,"\uD801\uDCF8"],[66769,1,"\uD801\uDCF9"],[66770,1,"\uD801\uDCFA"],[66771,1,"\uD801\uDCFB"],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,"\uD801\uDD97"],[66929,1,"\uD801\uDD98"],[66930,1,"\uD801\uDD99"],[66931,1,"\uD801\uDD9A"],[66932,1,"\uD801\uDD9B"],[66933,1,"\uD801\uDD9C"],[66934,1,"\uD801\uDD9D"],[66935,1,"\uD801\uDD9E"],[66936,1,"\uD801\uDD9F"],[66937,1,"\uD801\uDDA0"],[66938,1,"\uD801\uDDA1"],[66939,3],[66940,1,"\uD801\uDDA3"],[66941,1,"\uD801\uDDA4"],[66942,1,"\uD801\uDDA5"],[66943,1,"\uD801\uDDA6"],[66944,1,"\uD801\uDDA7"],[66945,1,"\uD801\uDDA8"],[66946,1,"\uD801\uDDA9"],[66947,1,"\uD801\uDDAA"],[66948,1,"\uD801\uDDAB"],[66949,1,"\uD801\uDDAC"],[66950,1,"\uD801\uDDAD"],[66951,1,"\uD801\uDDAE"],[66952,1,"\uD801\uDDAF"],[66953,1,"\uD801\uDDB0"],[66954,1,"\uD801\uDDB1"],[66955,3],[66956,1,"\uD801\uDDB3"],[66957,1,"\uD801\uDDB4"],[66958,1,"\uD801\uDDB5"],[66959,1,"\uD801\uDDB6"],[66960,1,"\uD801\uDDB7"],[66961,1,"\uD801\uDDB8"],[66962,1,"\uD801\uDDB9"],[66963,3],[66964,1,"\uD801\uDDBB"],[66965,1,"\uD801\uDDBC"],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,"\u02D0"],[67458,1,"\u02D1"],[67459,1,"\xE6"],[67460,1,"\u0299"],[67461,1,"\u0253"],[67462,3],[67463,1,"\u02A3"],[67464,1,"\uAB66"],[67465,1,"\u02A5"],[67466,1,"\u02A4"],[67467,1,"\u0256"],[67468,1,"\u0257"],[67469,1,"\u1D91"],[67470,1,"\u0258"],[67471,1,"\u025E"],[67472,1,"\u02A9"],[67473,1,"\u0264"],[67474,1,"\u0262"],[67475,1,"\u0260"],[67476,1,"\u029B"],[67477,1,"\u0127"],[67478,1,"\u029C"],[67479,1,"\u0267"],[67480,1,"\u0284"],[67481,1,"\u02AA"],[67482,1,"\u02AB"],[67483,1,"\u026C"],[67484,1,"\uD837\uDF04"],[67485,1,"\uA78E"],[67486,1,"\u026E"],[67487,1,"\uD837\uDF05"],[67488,1,"\u028E"],[67489,1,"\uD837\uDF06"],[67490,1,"\xF8"],[67491,1,"\u0276"],[67492,1,"\u0277"],[67493,1,"q"],[67494,1,"\u027A"],[67495,1,"\uD837\uDF08"],[67496,1,"\u027D"],[67497,1,"\u027E"],[67498,1,"\u0280"],[67499,1,"\u02A8"],[67500,1,"\u02A6"],[67501,1,"\uAB67"],[67502,1,"\u02A7"],[67503,1,"\u0288"],[67504,1,"\u2C71"],[67505,3],[67506,1,"\u028F"],[67507,1,"\u02A1"],[67508,1,"\u02A2"],[67509,1,"\u0298"],[67510,1,"\u01C0"],[67511,1,"\u01C1"],[67512,1,"\u01C2"],[67513,1,"\uD837\uDF0A"],[67514,1,"\uD837\uDF1E"],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,"\uD803\uDCC0"],[68737,1,"\uD803\uDCC1"],[68738,1,"\uD803\uDCC2"],[68739,1,"\uD803\uDCC3"],[68740,1,"\uD803\uDCC4"],[68741,1,"\uD803\uDCC5"],[68742,1,"\uD803\uDCC6"],[68743,1,"\uD803\uDCC7"],[68744,1,"\uD803\uDCC8"],[68745,1,"\uD803\uDCC9"],[68746,1,"\uD803\uDCCA"],[68747,1,"\uD803\uDCCB"],[68748,1,"\uD803\uDCCC"],[68749,1,"\uD803\uDCCD"],[68750,1,"\uD803\uDCCE"],[68751,1,"\uD803\uDCCF"],[68752,1,"\uD803\uDCD0"],[68753,1,"\uD803\uDCD1"],[68754,1,"\uD803\uDCD2"],[68755,1,"\uD803\uDCD3"],[68756,1,"\uD803\uDCD4"],[68757,1,"\uD803\uDCD5"],[68758,1,"\uD803\uDCD6"],[68759,1,"\uD803\uDCD7"],[68760,1,"\uD803\uDCD8"],[68761,1,"\uD803\uDCD9"],[68762,1,"\uD803\uDCDA"],[68763,1,"\uD803\uDCDB"],[68764,1,"\uD803\uDCDC"],[68765,1,"\uD803\uDCDD"],[68766,1,"\uD803\uDCDE"],[68767,1,"\uD803\uDCDF"],[68768,1,"\uD803\uDCE0"],[68769,1,"\uD803\uDCE1"],[68770,1,"\uD803\uDCE2"],[68771,1,"\uD803\uDCE3"],[68772,1,"\uD803\uDCE4"],[68773,1,"\uD803\uDCE5"],[68774,1,"\uD803\uDCE6"],[68775,1,"\uD803\uDCE7"],[68776,1,"\uD803\uDCE8"],[68777,1,"\uD803\uDCE9"],[68778,1,"\uD803\uDCEA"],[68779,1,"\uD803\uDCEB"],[68780,1,"\uD803\uDCEC"],[68781,1,"\uD803\uDCED"],[68782,1,"\uD803\uDCEE"],[68783,1,"\uD803\uDCEF"],[68784,1,"\uD803\uDCF0"],[68785,1,"\uD803\uDCF1"],[68786,1,"\uD803\uDCF2"],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69375],3],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,"\uD806\uDCC0"],[71841,1,"\uD806\uDCC1"],[71842,1,"\uD806\uDCC2"],[71843,1,"\uD806\uDCC3"],[71844,1,"\uD806\uDCC4"],[71845,1,"\uD806\uDCC5"],[71846,1,"\uD806\uDCC6"],[71847,1,"\uD806\uDCC7"],[71848,1,"\uD806\uDCC8"],[71849,1,"\uD806\uDCC9"],[71850,1,"\uD806\uDCCA"],[71851,1,"\uD806\uDCCB"],[71852,1,"\uD806\uDCCC"],[71853,1,"\uD806\uDCCD"],[71854,1,"\uD806\uDCCE"],[71855,1,"\uD806\uDCCF"],[71856,1,"\uD806\uDCD0"],[71857,1,"\uD806\uDCD1"],[71858,1,"\uD806\uDCD2"],[71859,1,"\uD806\uDCD3"],[71860,1,"\uD806\uDCD4"],[71861,1,"\uD806\uDCD5"],[71862,1,"\uD806\uDCD6"],[71863,1,"\uD806\uDCD7"],[71864,1,"\uD806\uDCD8"],[71865,1,"\uD806\uDCD9"],[71866,1,"\uD806\uDCDA"],[71867,1,"\uD806\uDCDB"],[71868,1,"\uD806\uDCDC"],[71869,1,"\uD806\uDCDD"],[71870,1,"\uD806\uDCDE"],[71871,1,"\uD806\uDCDF"],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,3],[[78896,78904],3],[[78905,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,"\uD81B\uDE60"],[93761,1,"\uD81B\uDE61"],[93762,1,"\uD81B\uDE62"],[93763,1,"\uD81B\uDE63"],[93764,1,"\uD81B\uDE64"],[93765,1,"\uD81B\uDE65"],[93766,1,"\uD81B\uDE66"],[93767,1,"\uD81B\uDE67"],[93768,1,"\uD81B\uDE68"],[93769,1,"\uD81B\uDE69"],[93770,1,"\uD81B\uDE6A"],[93771,1,"\uD81B\uDE6B"],[93772,1,"\uD81B\uDE6C"],[93773,1,"\uD81B\uDE6D"],[93774,1,"\uD81B\uDE6E"],[93775,1,"\uD81B\uDE6F"],[93776,1,"\uD81B\uDE70"],[93777,1,"\uD81B\uDE71"],[93778,1,"\uD81B\uDE72"],[93779,1,"\uD81B\uDE73"],[93780,1,"\uD81B\uDE74"],[93781,1,"\uD81B\uDE75"],[93782,1,"\uD81B\uDE76"],[93783,1,"\uD81B\uDE77"],[93784,1,"\uD81B\uDE78"],[93785,1,"\uD81B\uDE79"],[93786,1,"\uD81B\uDE7A"],[93787,1,"\uD81B\uDE7B"],[93788,1,"\uD81B\uDE7C"],[93789,1,"\uD81B\uDE7D"],[93790,1,"\uD81B\uDE7E"],[93791,1,"\uD81B\uDE7F"],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110927],3],[[110928,110930],2],[[110931,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,"\uD834\uDD57\uD834\uDD65"],[119135,1,"\uD834\uDD58\uD834\uDD65"],[119136,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6E"],[119137,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6F"],[119138,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD70"],[119139,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD71"],[119140,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD72"],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,"\uD834\uDDB9\uD834\uDD65"],[119228,1,"\uD834\uDDBA\uD834\uDD65"],[119229,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6E"],[119230,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6E"],[119231,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6F"],[119232,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6F"],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[120000,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,"\u0131"],[120485,1,"\u0237"],[[120486,120487],3],[120488,1,"\u03B1"],[120489,1,"\u03B2"],[120490,1,"\u03B3"],[120491,1,"\u03B4"],[120492,1,"\u03B5"],[120493,1,"\u03B6"],[120494,1,"\u03B7"],[120495,1,"\u03B8"],[120496,1,"\u03B9"],[120497,1,"\u03BA"],[120498,1,"\u03BB"],[120499,1,"\u03BC"],[120500,1,"\u03BD"],[120501,1,"\u03BE"],[120502,1,"\u03BF"],[120503,1,"\u03C0"],[120504,1,"\u03C1"],[120505,1,"\u03B8"],[120506,1,"\u03C3"],[120507,1,"\u03C4"],[120508,1,"\u03C5"],[120509,1,"\u03C6"],[120510,1,"\u03C7"],[120511,1,"\u03C8"],[120512,1,"\u03C9"],[120513,1,"\u2207"],[120514,1,"\u03B1"],[120515,1,"\u03B2"],[120516,1,"\u03B3"],[120517,1,"\u03B4"],[120518,1,"\u03B5"],[120519,1,"\u03B6"],[120520,1,"\u03B7"],[120521,1,"\u03B8"],[120522,1,"\u03B9"],[120523,1,"\u03BA"],[120524,1,"\u03BB"],[120525,1,"\u03BC"],[120526,1,"\u03BD"],[120527,1,"\u03BE"],[120528,1,"\u03BF"],[120529,1,"\u03C0"],[120530,1,"\u03C1"],[[120531,120532],1,"\u03C3"],[120533,1,"\u03C4"],[120534,1,"\u03C5"],[120535,1,"\u03C6"],[120536,1,"\u03C7"],[120537,1,"\u03C8"],[120538,1,"\u03C9"],[120539,1,"\u2202"],[120540,1,"\u03B5"],[120541,1,"\u03B8"],[120542,1,"\u03BA"],[120543,1,"\u03C6"],[120544,1,"\u03C1"],[120545,1,"\u03C0"],[120546,1,"\u03B1"],[120547,1,"\u03B2"],[120548,1,"\u03B3"],[120549,1,"\u03B4"],[120550,1,"\u03B5"],[120551,1,"\u03B6"],[120552,1,"\u03B7"],[120553,1,"\u03B8"],[120554,1,"\u03B9"],[120555,1,"\u03BA"],[120556,1,"\u03BB"],[120557,1,"\u03BC"],[120558,1,"\u03BD"],[120559,1,"\u03BE"],[120560,1,"\u03BF"],[120561,1,"\u03C0"],[120562,1,"\u03C1"],[120563,1,"\u03B8"],[120564,1,"\u03C3"],[120565,1,"\u03C4"],[120566,1,"\u03C5"],[120567,1,"\u03C6"],[120568,1,"\u03C7"],[120569,1,"\u03C8"],[120570,1,"\u03C9"],[120571,1,"\u2207"],[120572,1,"\u03B1"],[120573,1,"\u03B2"],[120574,1,"\u03B3"],[120575,1,"\u03B4"],[120576,1,"\u03B5"],[120577,1,"\u03B6"],[120578,1,"\u03B7"],[120579,1,"\u03B8"],[120580,1,"\u03B9"],[120581,1,"\u03BA"],[120582,1,"\u03BB"],[120583,1,"\u03BC"],[120584,1,"\u03BD"],[120585,1,"\u03BE"],[120586,1,"\u03BF"],[120587,1,"\u03C0"],[120588,1,"\u03C1"],[[120589,120590],1,"\u03C3"],[120591,1,"\u03C4"],[120592,1,"\u03C5"],[120593,1,"\u03C6"],[120594,1,"\u03C7"],[120595,1,"\u03C8"],[120596,1,"\u03C9"],[120597,1,"\u2202"],[120598,1,"\u03B5"],[120599,1,"\u03B8"],[120600,1,"\u03BA"],[120601,1,"\u03C6"],[120602,1,"\u03C1"],[120603,1,"\u03C0"],[120604,1,"\u03B1"],[120605,1,"\u03B2"],[120606,1,"\u03B3"],[120607,1,"\u03B4"],[120608,1,"\u03B5"],[120609,1,"\u03B6"],[120610,1,"\u03B7"],[120611,1,"\u03B8"],[120612,1,"\u03B9"],[120613,1,"\u03BA"],[120614,1,"\u03BB"],[120615,1,"\u03BC"],[120616,1,"\u03BD"],[120617,1,"\u03BE"],[120618,1,"\u03BF"],[120619,1,"\u03C0"],[120620,1,"\u03C1"],[120621,1,"\u03B8"],[120622,1,"\u03C3"],[120623,1,"\u03C4"],[120624,1,"\u03C5"],[120625,1,"\u03C6"],[120626,1,"\u03C7"],[120627,1,"\u03C8"],[120628,1,"\u03C9"],[120629,1,"\u2207"],[120630,1,"\u03B1"],[120631,1,"\u03B2"],[120632,1,"\u03B3"],[120633,1,"\u03B4"],[120634,1,"\u03B5"],[120635,1,"\u03B6"],[120636,1,"\u03B7"],[120637,1,"\u03B8"],[120638,1,"\u03B9"],[120639,1,"\u03BA"],[120640,1,"\u03BB"],[120641,1,"\u03BC"],[120642,1,"\u03BD"],[120643,1,"\u03BE"],[120644,1,"\u03BF"],[120645,1,"\u03C0"],[120646,1,"\u03C1"],[[120647,120648],1,"\u03C3"],[120649,1,"\u03C4"],[120650,1,"\u03C5"],[120651,1,"\u03C6"],[120652,1,"\u03C7"],[120653,1,"\u03C8"],[120654,1,"\u03C9"],[120655,1,"\u2202"],[120656,1,"\u03B5"],[120657,1,"\u03B8"],[120658,1,"\u03BA"],[120659,1,"\u03C6"],[120660,1,"\u03C1"],[120661,1,"\u03C0"],[120662,1,"\u03B1"],[120663,1,"\u03B2"],[120664,1,"\u03B3"],[120665,1,"\u03B4"],[120666,1,"\u03B5"],[120667,1,"\u03B6"],[120668,1,"\u03B7"],[120669,1,"\u03B8"],[120670,1,"\u03B9"],[120671,1,"\u03BA"],[120672,1,"\u03BB"],[120673,1,"\u03BC"],[120674,1,"\u03BD"],[120675,1,"\u03BE"],[120676,1,"\u03BF"],[120677,1,"\u03C0"],[120678,1,"\u03C1"],[120679,1,"\u03B8"],[120680,1,"\u03C3"],[120681,1,"\u03C4"],[120682,1,"\u03C5"],[120683,1,"\u03C6"],[120684,1,"\u03C7"],[120685,1,"\u03C8"],[120686,1,"\u03C9"],[120687,1,"\u2207"],[120688,1,"\u03B1"],[120689,1,"\u03B2"],[120690,1,"\u03B3"],[120691,1,"\u03B4"],[120692,1,"\u03B5"],[120693,1,"\u03B6"],[120694,1,"\u03B7"],[120695,1,"\u03B8"],[120696,1,"\u03B9"],[120697,1,"\u03BA"],[120698,1,"\u03BB"],[120699,1,"\u03BC"],[120700,1,"\u03BD"],[120701,1,"\u03BE"],[120702,1,"\u03BF"],[120703,1,"\u03C0"],[120704,1,"\u03C1"],[[120705,120706],1,"\u03C3"],[120707,1,"\u03C4"],[120708,1,"\u03C5"],[120709,1,"\u03C6"],[120710,1,"\u03C7"],[120711,1,"\u03C8"],[120712,1,"\u03C9"],[120713,1,"\u2202"],[120714,1,"\u03B5"],[120715,1,"\u03B8"],[120716,1,"\u03BA"],[120717,1,"\u03C6"],[120718,1,"\u03C1"],[120719,1,"\u03C0"],[120720,1,"\u03B1"],[120721,1,"\u03B2"],[120722,1,"\u03B3"],[120723,1,"\u03B4"],[120724,1,"\u03B5"],[120725,1,"\u03B6"],[120726,1,"\u03B7"],[120727,1,"\u03B8"],[120728,1,"\u03B9"],[120729,1,"\u03BA"],[120730,1,"\u03BB"],[120731,1,"\u03BC"],[120732,1,"\u03BD"],[120733,1,"\u03BE"],[120734,1,"\u03BF"],[120735,1,"\u03C0"],[120736,1,"\u03C1"],[120737,1,"\u03B8"],[120738,1,"\u03C3"],[120739,1,"\u03C4"],[120740,1,"\u03C5"],[120741,1,"\u03C6"],[120742,1,"\u03C7"],[120743,1,"\u03C8"],[120744,1,"\u03C9"],[120745,1,"\u2207"],[120746,1,"\u03B1"],[120747,1,"\u03B2"],[120748,1,"\u03B3"],[120749,1,"\u03B4"],[120750,1,"\u03B5"],[120751,1,"\u03B6"],[120752,1,"\u03B7"],[120753,1,"\u03B8"],[120754,1,"\u03B9"],[120755,1,"\u03BA"],[120756,1,"\u03BB"],[120757,1,"\u03BC"],[120758,1,"\u03BD"],[120759,1,"\u03BE"],[120760,1,"\u03BF"],[120761,1,"\u03C0"],[120762,1,"\u03C1"],[[120763,120764],1,"\u03C3"],[120765,1,"\u03C4"],[120766,1,"\u03C5"],[120767,1,"\u03C6"],[120768,1,"\u03C7"],[120769,1,"\u03C8"],[120770,1,"\u03C9"],[120771,1,"\u2202"],[120772,1,"\u03B5"],[120773,1,"\u03B8"],[120774,1,"\u03BA"],[120775,1,"\u03C6"],[120776,1,"\u03C1"],[120777,1,"\u03C0"],[[120778,120779],1,"\u03DD"],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,"\uD83A\uDD22"],[125185,1,"\uD83A\uDD23"],[125186,1,"\uD83A\uDD24"],[125187,1,"\uD83A\uDD25"],[125188,1,"\uD83A\uDD26"],[125189,1,"\uD83A\uDD27"],[125190,1,"\uD83A\uDD28"],[125191,1,"\uD83A\uDD29"],[125192,1,"\uD83A\uDD2A"],[125193,1,"\uD83A\uDD2B"],[125194,1,"\uD83A\uDD2C"],[125195,1,"\uD83A\uDD2D"],[125196,1,"\uD83A\uDD2E"],[125197,1,"\uD83A\uDD2F"],[125198,1,"\uD83A\uDD30"],[125199,1,"\uD83A\uDD31"],[125200,1,"\uD83A\uDD32"],[125201,1,"\uD83A\uDD33"],[125202,1,"\uD83A\uDD34"],[125203,1,"\uD83A\uDD35"],[125204,1,"\uD83A\uDD36"],[125205,1,"\uD83A\uDD37"],[125206,1,"\uD83A\uDD38"],[125207,1,"\uD83A\uDD39"],[125208,1,"\uD83A\uDD3A"],[125209,1,"\uD83A\uDD3B"],[125210,1,"\uD83A\uDD3C"],[125211,1,"\uD83A\uDD3D"],[125212,1,"\uD83A\uDD3E"],[125213,1,"\uD83A\uDD3F"],[125214,1,"\uD83A\uDD40"],[125215,1,"\uD83A\uDD41"],[125216,1,"\uD83A\uDD42"],[125217,1,"\uD83A\uDD43"],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,"\u0627"],[126465,1,"\u0628"],[126466,1,"\u062C"],[126467,1,"\u062F"],[126468,3],[126469,1,"\u0648"],[126470,1,"\u0632"],[126471,1,"\u062D"],[126472,1,"\u0637"],[126473,1,"\u064A"],[126474,1,"\u0643"],[126475,1,"\u0644"],[126476,1,"\u0645"],[126477,1,"\u0646"],[126478,1,"\u0633"],[126479,1,"\u0639"],[126480,1,"\u0641"],[126481,1,"\u0635"],[126482,1,"\u0642"],[126483,1,"\u0631"],[126484,1,"\u0634"],[126485,1,"\u062A"],[126486,1,"\u062B"],[126487,1,"\u062E"],[126488,1,"\u0630"],[126489,1,"\u0636"],[126490,1,"\u0638"],[126491,1,"\u063A"],[126492,1,"\u066E"],[126493,1,"\u06BA"],[126494,1,"\u06A1"],[126495,1,"\u066F"],[126496,3],[126497,1,"\u0628"],[126498,1,"\u062C"],[126499,3],[126500,1,"\u0647"],[[126501,126502],3],[126503,1,"\u062D"],[126504,3],[126505,1,"\u064A"],[126506,1,"\u0643"],[126507,1,"\u0644"],[126508,1,"\u0645"],[126509,1,"\u0646"],[126510,1,"\u0633"],[126511,1,"\u0639"],[126512,1,"\u0641"],[126513,1,"\u0635"],[126514,1,"\u0642"],[126515,3],[126516,1,"\u0634"],[126517,1,"\u062A"],[126518,1,"\u062B"],[126519,1,"\u062E"],[126520,3],[126521,1,"\u0636"],[126522,3],[126523,1,"\u063A"],[[126524,126529],3],[126530,1,"\u062C"],[[126531,126534],3],[126535,1,"\u062D"],[126536,3],[126537,1,"\u064A"],[126538,3],[126539,1,"\u0644"],[126540,3],[126541,1,"\u0646"],[126542,1,"\u0633"],[126543,1,"\u0639"],[126544,3],[126545,1,"\u0635"],[126546,1,"\u0642"],[126547,3],[126548,1,"\u0634"],[[126549,126550],3],[126551,1,"\u062E"],[126552,3],[126553,1,"\u0636"],[126554,3],[126555,1,"\u063A"],[126556,3],[126557,1,"\u06BA"],[126558,3],[126559,1,"\u066F"],[126560,3],[126561,1,"\u0628"],[126562,1,"\u062C"],[126563,3],[126564,1,"\u0647"],[[126565,126566],3],[126567,1,"\u062D"],[126568,1,"\u0637"],[126569,1,"\u064A"],[126570,1,"\u0643"],[126571,3],[126572,1,"\u0645"],[126573,1,"\u0646"],[126574,1,"\u0633"],[126575,1,"\u0639"],[126576,1,"\u0641"],[126577,1,"\u0635"],[126578,1,"\u0642"],[126579,3],[126580,1,"\u0634"],[126581,1,"\u062A"],[126582,1,"\u062B"],[126583,1,"\u062E"],[126584,3],[126585,1,"\u0636"],[126586,1,"\u0638"],[126587,1,"\u063A"],[126588,1,"\u066E"],[126589,3],[126590,1,"\u06A1"],[126591,3],[126592,1,"\u0627"],[126593,1,"\u0628"],[126594,1,"\u062C"],[126595,1,"\u062F"],[126596,1,"\u0647"],[126597,1,"\u0648"],[126598,1,"\u0632"],[126599,1,"\u062D"],[126600,1,"\u0637"],[126601,1,"\u064A"],[126602,3],[126603,1,"\u0644"],[126604,1,"\u0645"],[126605,1,"\u0646"],[126606,1,"\u0633"],[126607,1,"\u0639"],[126608,1,"\u0641"],[126609,1,"\u0635"],[126610,1,"\u0642"],[126611,1,"\u0631"],[126612,1,"\u0634"],[126613,1,"\u062A"],[126614,1,"\u062B"],[126615,1,"\u062E"],[126616,1,"\u0630"],[126617,1,"\u0636"],[126618,1,"\u0638"],[126619,1,"\u063A"],[[126620,126624],3],[126625,1,"\u0628"],[126626,1,"\u062C"],[126627,1,"\u062F"],[126628,3],[126629,1,"\u0648"],[126630,1,"\u0632"],[126631,1,"\u062D"],[126632,1,"\u0637"],[126633,1,"\u064A"],[126634,3],[126635,1,"\u0644"],[126636,1,"\u0645"],[126637,1,"\u0646"],[126638,1,"\u0633"],[126639,1,"\u0639"],[126640,1,"\u0641"],[126641,1,"\u0635"],[126642,1,"\u0642"],[126643,1,"\u0631"],[126644,1,"\u0634"],[126645,1,"\u062A"],[126646,1,"\u062B"],[126647,1,"\u062E"],[126648,1,"\u0630"],[126649,1,"\u0636"],[126650,1,"\u0638"],[126651,1,"\u063A"],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"\u3014s\u3015"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,"\u307B\u304B"],[127489,1,"\u30B3\u30B3"],[127490,1,"\u30B5"],[[127491,127503],3],[127504,1,"\u624B"],[127505,1,"\u5B57"],[127506,1,"\u53CC"],[127507,1,"\u30C7"],[127508,1,"\u4E8C"],[127509,1,"\u591A"],[127510,1,"\u89E3"],[127511,1,"\u5929"],[127512,1,"\u4EA4"],[127513,1,"\u6620"],[127514,1,"\u7121"],[127515,1,"\u6599"],[127516,1,"\u524D"],[127517,1,"\u5F8C"],[127518,1,"\u518D"],[127519,1,"\u65B0"],[127520,1,"\u521D"],[127521,1,"\u7D42"],[127522,1,"\u751F"],[127523,1,"\u8CA9"],[127524,1,"\u58F0"],[127525,1,"\u5439"],[127526,1,"\u6F14"],[127527,1,"\u6295"],[127528,1,"\u6355"],[127529,1,"\u4E00"],[127530,1,"\u4E09"],[127531,1,"\u904A"],[127532,1,"\u5DE6"],[127533,1,"\u4E2D"],[127534,1,"\u53F3"],[127535,1,"\u6307"],[127536,1,"\u8D70"],[127537,1,"\u6253"],[127538,1,"\u7981"],[127539,1,"\u7A7A"],[127540,1,"\u5408"],[127541,1,"\u6E80"],[127542,1,"\u6709"],[127543,1,"\u6708"],[127544,1,"\u7533"],[127545,1,"\u5272"],[127546,1,"\u55B6"],[127547,1,"\u914D"],[[127548,127551],3],[127552,1,"\u3014\u672C\u3015"],[127553,1,"\u3014\u4E09\u3015"],[127554,1,"\u3014\u4E8C\u3015"],[127555,1,"\u3014\u5B89\u3015"],[127556,1,"\u3014\u70B9\u3015"],[127557,1,"\u3014\u6253\u3015"],[127558,1,"\u3014\u76D7\u3015"],[127559,1,"\u3014\u52DD\u3015"],[127560,1,"\u3014\u6557\u3015"],[[127561,127567],3],[127568,1,"\u5F97"],[127569,1,"\u53EF"],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128000,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128732],3],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128895],3],[[128896,128980],2],[[128981,128984],2],[[128985,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],3],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],3],[[129712,129718],2],[[129719,129722],2],[[129723,129727],3],[[129728,129730],2],[[129731,129733],2],[[129734,129743],3],[[129744,129750],2],[[129751,129753],2],[[129754,129759],3],[[129760,129767],2],[[129768,129775],3],[[129776,129782],2],[[129783,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[[177977,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,"\u4E3D"],[194561,1,"\u4E38"],[194562,1,"\u4E41"],[194563,1,"\uD840\uDD22"],[194564,1,"\u4F60"],[194565,1,"\u4FAE"],[194566,1,"\u4FBB"],[194567,1,"\u5002"],[194568,1,"\u507A"],[194569,1,"\u5099"],[194570,1,"\u50E7"],[194571,1,"\u50CF"],[194572,1,"\u349E"],[194573,1,"\uD841\uDE3A"],[194574,1,"\u514D"],[194575,1,"\u5154"],[194576,1,"\u5164"],[194577,1,"\u5177"],[194578,1,"\uD841\uDD1C"],[194579,1,"\u34B9"],[194580,1,"\u5167"],[194581,1,"\u518D"],[194582,1,"\uD841\uDD4B"],[194583,1,"\u5197"],[194584,1,"\u51A4"],[194585,1,"\u4ECC"],[194586,1,"\u51AC"],[194587,1,"\u51B5"],[194588,1,"\uD864\uDDDF"],[194589,1,"\u51F5"],[194590,1,"\u5203"],[194591,1,"\u34DF"],[194592,1,"\u523B"],[194593,1,"\u5246"],[194594,1,"\u5272"],[194595,1,"\u5277"],[194596,1,"\u3515"],[194597,1,"\u52C7"],[194598,1,"\u52C9"],[194599,1,"\u52E4"],[194600,1,"\u52FA"],[194601,1,"\u5305"],[194602,1,"\u5306"],[194603,1,"\u5317"],[194604,1,"\u5349"],[194605,1,"\u5351"],[194606,1,"\u535A"],[194607,1,"\u5373"],[194608,1,"\u537D"],[[194609,194611],1,"\u537F"],[194612,1,"\uD842\uDE2C"],[194613,1,"\u7070"],[194614,1,"\u53CA"],[194615,1,"\u53DF"],[194616,1,"\uD842\uDF63"],[194617,1,"\u53EB"],[194618,1,"\u53F1"],[194619,1,"\u5406"],[194620,1,"\u549E"],[194621,1,"\u5438"],[194622,1,"\u5448"],[194623,1,"\u5468"],[194624,1,"\u54A2"],[194625,1,"\u54F6"],[194626,1,"\u5510"],[194627,1,"\u5553"],[194628,1,"\u5563"],[[194629,194630],1,"\u5584"],[194631,1,"\u5599"],[194632,1,"\u55AB"],[194633,1,"\u55B3"],[194634,1,"\u55C2"],[194635,1,"\u5716"],[194636,1,"\u5606"],[194637,1,"\u5717"],[194638,1,"\u5651"],[194639,1,"\u5674"],[194640,1,"\u5207"],[194641,1,"\u58EE"],[194642,1,"\u57CE"],[194643,1,"\u57F4"],[194644,1,"\u580D"],[194645,1,"\u578B"],[194646,1,"\u5832"],[194647,1,"\u5831"],[194648,1,"\u58AC"],[194649,1,"\uD845\uDCE4"],[194650,1,"\u58F2"],[194651,1,"\u58F7"],[194652,1,"\u5906"],[194653,1,"\u591A"],[194654,1,"\u5922"],[194655,1,"\u5962"],[194656,1,"\uD845\uDEA8"],[194657,1,"\uD845\uDEEA"],[194658,1,"\u59EC"],[194659,1,"\u5A1B"],[194660,1,"\u5A27"],[194661,1,"\u59D8"],[194662,1,"\u5A66"],[194663,1,"\u36EE"],[194664,3],[194665,1,"\u5B08"],[[194666,194667],1,"\u5B3E"],[194668,1,"\uD846\uDDC8"],[194669,1,"\u5BC3"],[194670,1,"\u5BD8"],[194671,1,"\u5BE7"],[194672,1,"\u5BF3"],[194673,1,"\uD846\uDF18"],[194674,1,"\u5BFF"],[194675,1,"\u5C06"],[194676,3],[194677,1,"\u5C22"],[194678,1,"\u3781"],[194679,1,"\u5C60"],[194680,1,"\u5C6E"],[194681,1,"\u5CC0"],[194682,1,"\u5C8D"],[194683,1,"\uD847\uDDE4"],[194684,1,"\u5D43"],[194685,1,"\uD847\uDDE6"],[194686,1,"\u5D6E"],[194687,1,"\u5D6B"],[194688,1,"\u5D7C"],[194689,1,"\u5DE1"],[194690,1,"\u5DE2"],[194691,1,"\u382F"],[194692,1,"\u5DFD"],[194693,1,"\u5E28"],[194694,1,"\u5E3D"],[194695,1,"\u5E69"],[194696,1,"\u3862"],[194697,1,"\uD848\uDD83"],[194698,1,"\u387C"],[194699,1,"\u5EB0"],[194700,1,"\u5EB3"],[194701,1,"\u5EB6"],[194702,1,"\u5ECA"],[194703,1,"\uD868\uDF92"],[194704,1,"\u5EFE"],[[194705,194706],1,"\uD848\uDF31"],[194707,1,"\u8201"],[[194708,194709],1,"\u5F22"],[194710,1,"\u38C7"],[194711,1,"\uD84C\uDEB8"],[194712,1,"\uD858\uDDDA"],[194713,1,"\u5F62"],[194714,1,"\u5F6B"],[194715,1,"\u38E3"],[194716,1,"\u5F9A"],[194717,1,"\u5FCD"],[194718,1,"\u5FD7"],[194719,1,"\u5FF9"],[194720,1,"\u6081"],[194721,1,"\u393A"],[194722,1,"\u391C"],[194723,1,"\u6094"],[194724,1,"\uD849\uDED4"],[194725,1,"\u60C7"],[194726,1,"\u6148"],[194727,1,"\u614C"],[194728,1,"\u614E"],[194729,1,"\u614C"],[194730,1,"\u617A"],[194731,1,"\u618E"],[194732,1,"\u61B2"],[194733,1,"\u61A4"],[194734,1,"\u61AF"],[194735,1,"\u61DE"],[194736,1,"\u61F2"],[194737,1,"\u61F6"],[194738,1,"\u6210"],[194739,1,"\u621B"],[194740,1,"\u625D"],[194741,1,"\u62B1"],[194742,1,"\u62D4"],[194743,1,"\u6350"],[194744,1,"\uD84A\uDF0C"],[194745,1,"\u633D"],[194746,1,"\u62FC"],[194747,1,"\u6368"],[194748,1,"\u6383"],[194749,1,"\u63E4"],[194750,1,"\uD84A\uDFF1"],[194751,1,"\u6422"],[194752,1,"\u63C5"],[194753,1,"\u63A9"],[194754,1,"\u3A2E"],[194755,1,"\u6469"],[194756,1,"\u647E"],[194757,1,"\u649D"],[194758,1,"\u6477"],[194759,1,"\u3A6C"],[194760,1,"\u654F"],[194761,1,"\u656C"],[194762,1,"\uD84C\uDC0A"],[194763,1,"\u65E3"],[194764,1,"\u66F8"],[194765,1,"\u6649"],[194766,1,"\u3B19"],[194767,1,"\u6691"],[194768,1,"\u3B08"],[194769,1,"\u3AE4"],[194770,1,"\u5192"],[194771,1,"\u5195"],[194772,1,"\u6700"],[194773,1,"\u669C"],[194774,1,"\u80AD"],[194775,1,"\u43D9"],[194776,1,"\u6717"],[194777,1,"\u671B"],[194778,1,"\u6721"],[194779,1,"\u675E"],[194780,1,"\u6753"],[194781,1,"\uD84C\uDFC3"],[194782,1,"\u3B49"],[194783,1,"\u67FA"],[194784,1,"\u6785"],[194785,1,"\u6852"],[194786,1,"\u6885"],[194787,1,"\uD84D\uDC6D"],[194788,1,"\u688E"],[194789,1,"\u681F"],[194790,1,"\u6914"],[194791,1,"\u3B9D"],[194792,1,"\u6942"],[194793,1,"\u69A3"],[194794,1,"\u69EA"],[194795,1,"\u6AA8"],[194796,1,"\uD84D\uDEA3"],[194797,1,"\u6ADB"],[194798,1,"\u3C18"],[194799,1,"\u6B21"],[194800,1,"\uD84E\uDCA7"],[194801,1,"\u6B54"],[194802,1,"\u3C4E"],[194803,1,"\u6B72"],[194804,1,"\u6B9F"],[194805,1,"\u6BBA"],[194806,1,"\u6BBB"],[194807,1,"\uD84E\uDE8D"],[194808,1,"\uD847\uDD0B"],[194809,1,"\uD84E\uDEFA"],[194810,1,"\u6C4E"],[194811,1,"\uD84F\uDCBC"],[194812,1,"\u6CBF"],[194813,1,"\u6CCD"],[194814,1,"\u6C67"],[194815,1,"\u6D16"],[194816,1,"\u6D3E"],[194817,1,"\u6D77"],[194818,1,"\u6D41"],[194819,1,"\u6D69"],[194820,1,"\u6D78"],[194821,1,"\u6D85"],[194822,1,"\uD84F\uDD1E"],[194823,1,"\u6D34"],[194824,1,"\u6E2F"],[194825,1,"\u6E6E"],[194826,1,"\u3D33"],[194827,1,"\u6ECB"],[194828,1,"\u6EC7"],[194829,1,"\uD84F\uDED1"],[194830,1,"\u6DF9"],[194831,1,"\u6F6E"],[194832,1,"\uD84F\uDF5E"],[194833,1,"\uD84F\uDF8E"],[194834,1,"\u6FC6"],[194835,1,"\u7039"],[194836,1,"\u701E"],[194837,1,"\u701B"],[194838,1,"\u3D96"],[194839,1,"\u704A"],[194840,1,"\u707D"],[194841,1,"\u7077"],[194842,1,"\u70AD"],[194843,1,"\uD841\uDD25"],[194844,1,"\u7145"],[194845,1,"\uD850\uDE63"],[194846,1,"\u719C"],[194847,3],[194848,1,"\u7228"],[194849,1,"\u7235"],[194850,1,"\u7250"],[194851,1,"\uD851\uDE08"],[194852,1,"\u7280"],[194853,1,"\u7295"],[194854,1,"\uD851\uDF35"],[194855,1,"\uD852\uDC14"],[194856,1,"\u737A"],[194857,1,"\u738B"],[194858,1,"\u3EAC"],[194859,1,"\u73A5"],[[194860,194861],1,"\u3EB8"],[194862,1,"\u7447"],[194863,1,"\u745C"],[194864,1,"\u7471"],[194865,1,"\u7485"],[194866,1,"\u74CA"],[194867,1,"\u3F1B"],[194868,1,"\u7524"],[194869,1,"\uD853\uDC36"],[194870,1,"\u753E"],[194871,1,"\uD853\uDC92"],[194872,1,"\u7570"],[194873,1,"\uD848\uDD9F"],[194874,1,"\u7610"],[194875,1,"\uD853\uDFA1"],[194876,1,"\uD853\uDFB8"],[194877,1,"\uD854\uDC44"],[194878,1,"\u3FFC"],[194879,1,"\u4008"],[194880,1,"\u76F4"],[194881,1,"\uD854\uDCF3"],[194882,1,"\uD854\uDCF2"],[194883,1,"\uD854\uDD19"],[194884,1,"\uD854\uDD33"],[194885,1,"\u771E"],[[194886,194887],1,"\u771F"],[194888,1,"\u774A"],[194889,1,"\u4039"],[194890,1,"\u778B"],[194891,1,"\u4046"],[194892,1,"\u4096"],[194893,1,"\uD855\uDC1D"],[194894,1,"\u784E"],[194895,1,"\u788C"],[194896,1,"\u78CC"],[194897,1,"\u40E3"],[194898,1,"\uD855\uDE26"],[194899,1,"\u7956"],[194900,1,"\uD855\uDE9A"],[194901,1,"\uD855\uDEC5"],[194902,1,"\u798F"],[194903,1,"\u79EB"],[194904,1,"\u412F"],[194905,1,"\u7A40"],[194906,1,"\u7A4A"],[194907,1,"\u7A4F"],[194908,1,"\uD856\uDD7C"],[[194909,194910],1,"\uD856\uDEA7"],[194911,3],[194912,1,"\u4202"],[194913,1,"\uD856\uDFAB"],[194914,1,"\u7BC6"],[194915,1,"\u7BC9"],[194916,1,"\u4227"],[194917,1,"\uD857\uDC80"],[194918,1,"\u7CD2"],[194919,1,"\u42A0"],[194920,1,"\u7CE8"],[194921,1,"\u7CE3"],[194922,1,"\u7D00"],[194923,1,"\uD857\uDF86"],[194924,1,"\u7D63"],[194925,1,"\u4301"],[194926,1,"\u7DC7"],[194927,1,"\u7E02"],[194928,1,"\u7E45"],[194929,1,"\u4334"],[194930,1,"\uD858\uDE28"],[194931,1,"\uD858\uDE47"],[194932,1,"\u4359"],[194933,1,"\uD858\uDED9"],[194934,1,"\u7F7A"],[194935,1,"\uD858\uDF3E"],[194936,1,"\u7F95"],[194937,1,"\u7FFA"],[194938,1,"\u8005"],[194939,1,"\uD859\uDCDA"],[194940,1,"\uD859\uDD23"],[194941,1,"\u8060"],[194942,1,"\uD859\uDDA8"],[194943,1,"\u8070"],[194944,1,"\uD84C\uDF5F"],[194945,1,"\u43D5"],[194946,1,"\u80B2"],[194947,1,"\u8103"],[194948,1,"\u440B"],[194949,1,"\u813E"],[194950,1,"\u5AB5"],[194951,1,"\uD859\uDFA7"],[194952,1,"\uD859\uDFB5"],[194953,1,"\uD84C\uDF93"],[194954,1,"\uD84C\uDF9C"],[194955,1,"\u8201"],[194956,1,"\u8204"],[194957,1,"\u8F9E"],[194958,1,"\u446B"],[194959,1,"\u8291"],[194960,1,"\u828B"],[194961,1,"\u829D"],[194962,1,"\u52B3"],[194963,1,"\u82B1"],[194964,1,"\u82B3"],[194965,1,"\u82BD"],[194966,1,"\u82E6"],[194967,1,"\uD85A\uDF3C"],[194968,1,"\u82E5"],[194969,1,"\u831D"],[194970,1,"\u8363"],[194971,1,"\u83AD"],[194972,1,"\u8323"],[194973,1,"\u83BD"],[194974,1,"\u83E7"],[194975,1,"\u8457"],[194976,1,"\u8353"],[194977,1,"\u83CA"],[194978,1,"\u83CC"],[194979,1,"\u83DC"],[194980,1,"\uD85B\uDC36"],[194981,1,"\uD85B\uDD6B"],[194982,1,"\uD85B\uDCD5"],[194983,1,"\u452B"],[194984,1,"\u84F1"],[194985,1,"\u84F3"],[194986,1,"\u8516"],[194987,1,"\uD85C\uDFCA"],[194988,1,"\u8564"],[194989,1,"\uD85B\uDF2C"],[194990,1,"\u455D"],[194991,1,"\u4561"],[194992,1,"\uD85B\uDFB1"],[194993,1,"\uD85C\uDCD2"],[194994,1,"\u456B"],[194995,1,"\u8650"],[194996,1,"\u865C"],[194997,1,"\u8667"],[194998,1,"\u8669"],[194999,1,"\u86A9"],[195000,1,"\u8688"],[195001,1,"\u870E"],[195002,1,"\u86E2"],[195003,1,"\u8779"],[195004,1,"\u8728"],[195005,1,"\u876B"],[195006,1,"\u8786"],[195007,3],[195008,1,"\u87E1"],[195009,1,"\u8801"],[195010,1,"\u45F9"],[195011,1,"\u8860"],[195012,1,"\u8863"],[195013,1,"\uD85D\uDE67"],[195014,1,"\u88D7"],[195015,1,"\u88DE"],[195016,1,"\u4635"],[195017,1,"\u88FA"],[195018,1,"\u34BB"],[195019,1,"\uD85E\uDCAE"],[195020,1,"\uD85E\uDD66"],[195021,1,"\u46BE"],[195022,1,"\u46C7"],[195023,1,"\u8AA0"],[195024,1,"\u8AED"],[195025,1,"\u8B8A"],[195026,1,"\u8C55"],[195027,1,"\uD85F\uDCA8"],[195028,1,"\u8CAB"],[195029,1,"\u8CC1"],[195030,1,"\u8D1B"],[195031,1,"\u8D77"],[195032,1,"\uD85F\uDF2F"],[195033,1,"\uD842\uDC04"],[195034,1,"\u8DCB"],[195035,1,"\u8DBC"],[195036,1,"\u8DF0"],[195037,1,"\uD842\uDCDE"],[195038,1,"\u8ED4"],[195039,1,"\u8F38"],[195040,1,"\uD861\uDDD2"],[195041,1,"\uD861\uDDED"],[195042,1,"\u9094"],[195043,1,"\u90F1"],[195044,1,"\u9111"],[195045,1,"\uD861\uDF2E"],[195046,1,"\u911B"],[195047,1,"\u9238"],[195048,1,"\u92D7"],[195049,1,"\u92D8"],[195050,1,"\u927C"],[195051,1,"\u93F9"],[195052,1,"\u9415"],[195053,1,"\uD862\uDFFA"],[195054,1,"\u958B"],[195055,1,"\u4995"],[195056,1,"\u95B7"],[195057,1,"\uD863\uDD77"],[195058,1,"\u49E6"],[195059,1,"\u96C3"],[195060,1,"\u5DB2"],[195061,1,"\u9723"],[195062,1,"\uD864\uDD45"],[195063,1,"\uD864\uDE1A"],[195064,1,"\u4A6E"],[195065,1,"\u4A76"],[195066,1,"\u97E0"],[195067,1,"\uD865\uDC0A"],[195068,1,"\u4AB2"],[195069,1,"\uD865\uDC96"],[[195070,195071],1,"\u980B"],[195072,1,"\u9829"],[195073,1,"\uD865\uDDB6"],[195074,1,"\u98E2"],[195075,1,"\u4B33"],[195076,1,"\u9929"],[195077,1,"\u99A7"],[195078,1,"\u99C2"],[195079,1,"\u99FE"],[195080,1,"\u4BCE"],[195081,1,"\uD866\uDF30"],[195082,1,"\u9B12"],[195083,1,"\u9C40"],[195084,1,"\u9CFD"],[195085,1,"\u4CCE"],[195086,1,"\u4CED"],[195087,1,"\u9D67"],[195088,1,"\uD868\uDCCE"],[195089,1,"\u4CF8"],[195090,1,"\uD868\uDD05"],[195091,1,"\uD868\uDE0E"],[195092,1,"\uD868\uDE91"],[195093,1,"\u9EBB"],[195094,1,"\u4D56"],[195095,1,"\u9EF9"],[195096,1,"\u9EFE"],[195097,1,"\u9F05"],[195098,1,"\u9F0F"],[195099,1,"\u9F16"],[195100,1,"\u9F3B"],[195101,1,"\uD869\uDE00"],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918000,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]});var Gj=w((v41,Wj)=>{v41.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}});var Fj=w((OI1,Hj)=>{var m41=function(Z){return/[^\x00-\x7F]/u.test(Z)},Qj=function(Z,{useSTD3ASCIIRules:Y}){let J=0,X=Kj.length-1;while(J<=X){const $=Math.floor((J+X)/2),W=Kj[$],G=Array.isArray(W[0])?W[0][0]:W[0],K=Array.isArray(W[0])?W[0][1]:W[0];if(G<=Z&&K>=Z){if(Y&&(W[1]===A8.disallowed_STD3_valid||W[1]===A8.disallowed_STD3_mapped))return[A8.disallowed,...W.slice(2)];else if(W[1]===A8.disallowed_STD3_valid)return[A8.valid,...W.slice(2)];else if(W[1]===A8.disallowed_STD3_mapped)return[A8.mapped,...W.slice(2)];return W.slice(1)}else if(G>Z)X=$-1;else J=$+1}return null},u41=function(Z,{useSTD3ASCIIRules:Y,processingOption:J}){let X=!1,$="";for(let W of Z){const[G,K]=Qj(W.codePointAt(0),{useSTD3ASCIIRules:Y});switch(G){case A8.disallowed:X=!0,$+=W;break;case A8.ignored:break;case A8.mapped:$+=K;break;case A8.deviation:if(J==="transitional")$+=K;else $+=W;break;case A8.valid:$+=W;break}}return{string:$,error:X}},d41=function(Z,{checkHyphens:Y,checkBidi:J,checkJoiners:X,processingOption:$,useSTD3ASCIIRules:W}){if(Z.normalize("NFC")!==Z)return!1;const G=Array.from(Z);if(Y){if(G[2]==="-"&&G[3]==="-"||(Z.startsWith("-")||Z.endsWith("-")))return!1}if(Z.includes(".")||G.length>0&&k6.combiningMarks.test(G[0]))return!1;for(let K of G){const[Q]=Qj(K.codePointAt(0),{useSTD3ASCIIRules:W});if($==="transitional"&&Q!==A8.valid||$==="nontransitional"&&Q!==A8.valid&&Q!==A8.deviation)return!1}if(X){let K=0;for(let[Q,z]of G.entries())if(z==="\u200C"||z==="\u200D"){if(Q>0){if(k6.combiningClassVirama.test(G[Q-1]))continue;if(z==="\u200C"){const H=G.indexOf("\u200C",Q+1),F=H<0?G.slice(K):G.slice(K,H);if(k6.validZWNJ.test(F.join(""))){K=Q+1;continue}}}return!1}}if(J){let K;if(k6.bidiS1LTR.test(G[0]))K=!1;else if(k6.bidiS1RTL.test(G[0]))K=!0;else return!1;if(K){if(!k6.bidiS2.test(Z)||!k6.bidiS3.test(Z)||k6.bidiS4EN.test(Z)&&k6.bidiS4AN.test(Z))return!1}else if(!k6.bidiS5.test(Z)||!k6.bidiS6.test(Z))return!1}return!0},c41=function(Z){const Y=Z.map((J)=>{if(J.startsWith("xn--"))try{return RF.decode(J.substring(4))}catch(X){return""}return J}).join(".");return k6.bidiDomain.test(Y)},zj=function(Z,Y){const{processingOption:J}=Y;let{string:X,error:$}=u41(Z,Y);X=X.normalize("NFC");const W=X.split("."),G=c41(W);for(let[K,Q]of W.entries()){let z=Q,H=J;if(z.startsWith("xn--")){try{z=RF.decode(z.substring(4)),W[K]=z}catch(q){$=!0;continue}H="nontransitional"}if($)continue;if(!d41(z,{...Y,processingOption:H,checkBidi:Y.checkBidi&&G}))$=!0}return{string:W.join("."),error:$}},l41=function(Z,{checkHyphens:Y=!1,checkBidi:J=!1,checkJoiners:X=!1,useSTD3ASCIIRules:$=!1,processingOption:W="nontransitional",verifyDNSLength:G=!1}={}){if(W!=="transitional"&&W!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");const K=zj(Z,{processingOption:W,checkHyphens:Y,checkBidi:J,checkJoiners:X,useSTD3ASCIIRules:$});let Q=K.string.split(".");if(Q=Q.map((z)=>{if(m41(z))try{return`xn--${RF.encode(z)}`}catch(H){K.error=!0}return z}),G){const z=Q.join(".").length;if(z>253||z===0)K.error=!0;for(let H=0;H<Q.length;++H)if(Q[H].length>63||Q[H].length===0){K.error=!0;break}}if(K.error)return null;return Q.join(".")},p41=function(Z,{checkHyphens:Y=!1,checkBidi:J=!1,checkJoiners:X=!1,useSTD3ASCIIRules:$=!1,processingOption:W="nontransitional"}={}){const G=zj(Z,{processingOption:W,checkHyphens:Y,checkBidi:J,checkJoiners:X,useSTD3ASCIIRules:$});return{domain:G.string,error:G.error}},RF=import.meta.require("punycode"),k6=Xj(),Kj=$j(),{STATUS_MAPPING:A8}=Gj();Hj.exports={toASCII:l41,toUnicode:p41}});var AF=w((SI1,Vj)=>{var MF=function(Z){return Z>=48&&Z<=57},qj=function(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122},i41=function(Z){return qj(Z)||MF(Z)},n41=function(Z){return MF(Z)||Z>=65&&Z<=70||Z>=97&&Z<=102};Vj.exports={isASCIIDigit:MF,isASCIIAlpha:qj,isASCIIAlphanumeric:i41,isASCIIHex:n41}});var s$=w((kI1,Uj)=>{var r41=function(Z){return a41.encode(Z)},t41=function(Z){return s41.decode(Z)},a41=new TextEncoder,s41=new TextDecoder("utf-8",{ignoreBOM:!0});Uj.exports={utf8Encode:r41,utf8DecodeWithoutBOM:t41}});var r$=w((_I1,Nj)=>{var E1=function(Z){return Z.codePointAt(0)},o41=function(Z){let Y=Z.toString(16).toUpperCase();if(Y.length===1)Y=`0${Y}`;return`%${Y}`},Rj=function(Z){const Y=new Uint8Array(Z.byteLength);let J=0;for(let X=0;X<Z.byteLength;++X){const $=Z[X];if($!==37)Y[J++]=$;else if($===37&&(!Lj(Z[X+1])||!Lj(Z[X+2])))Y[J++]=$;else{const W=parseInt(String.fromCodePoint(Z[X+1],Z[X+2]),16);Y[J++]=W,X+=2}}return Y.slice(0,J)},e41=function(Z){const Y=wj(Z);return Rj(Y)},BF=function(Z){return Z<=31||Z>126},Y51=function(Z){return BF(Z)||Z51.has(Z)},NF=function(Z){return BF(Z)||J51.has(Z)},X51=function(Z){return NF(Z)||Z===E1("'")},Mj=function(Z){return NF(Z)||$51.has(Z)},Aj=function(Z){return Mj(Z)||W51.has(Z)},K51=function(Z){return Aj(Z)||G51.has(Z)},z51=function(Z){return K51(Z)||Q51.has(Z)},Bj=function(Z,Y){const J=wj(Z);let X="";for(let $ of J)if(!Y($))X+=String.fromCharCode($);else X+=o41($);return X},H51=function(Z,Y){return Bj(String.fromCodePoint(Z),Y)},F51=function(Z,Y,J=!1){let X="";for(let $ of Z)if(J&&$===" ")X+="+";else X+=Bj($,Y);return X},{isASCIIHex:Lj}=AF(),{utf8Encode:wj}=s$(),Z51=new Set([E1(" "),E1("\""),E1("<"),E1(">"),E1("`")]),J51=new Set([E1(" "),E1("\""),E1("#"),E1("<"),E1(">")]),$51=new Set([E1("?"),E1("`"),E1("{"),E1("}")]),W51=new Set([E1("/"),E1(":"),E1(";"),E1("="),E1("@"),E1("["),E1("\\"),E1("]"),E1("^"),E1("|")]),G51=new Set([E1("$"),E1("%"),E1("&"),E1("+"),E1(",")]),Q51=new Set([E1("!"),E1("'"),E1("("),E1(")"),E1("~")]);Nj.exports={isC0ControlPercentEncode:BF,isFragmentPercentEncode:Y51,isQueryPercentEncode:NF,isSpecialQueryPercentEncode:X51,isPathPercentEncode:Mj,isUserinfoPercentEncode:Aj,isURLEncodedPercentEncode:z51,percentDecodeString:e41,percentDecodeBytes:Rj,utf8PercentEncodeString:F51,utf8PercentEncodeCodePoint:H51}});var EF=w((h51,B8)=>{var p=function(Z){return Z.codePointAt(0)},Dj=function(Z){return[...Z].length},Ij=function(Z,Y){const J=Z[Y];return isNaN(J)?void 0:String.fromCodePoint(J)},Pj=function(Z){return Z==="."||Z.toLowerCase()==="%2e"},A51=function(Z){return Z=Z.toLowerCase(),Z===".."||Z==="%2e."||Z===".%2e"||Z==="%2e%2e"},B51=function(Z,Y){return s0.isASCIIAlpha(Z)&&(Y===p(":")||Y===p("|"))},Cj=function(Z){return Z.length===2&&s0.isASCIIAlpha(Z.codePointAt(0))&&(Z[1]===":"||Z[1]==="|")},N51=function(Z){return Z.length===2&&s0.isASCIIAlpha(Z.codePointAt(0))&&Z[1]===":"},D51=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},I51=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},t$=function(Z){return Ej[Z]!==void 0},a0=function(Z){return t$(Z.scheme)},DF=function(Z){return!t$(Z.scheme)},Oj=function(Z){return Ej[Z]},Sj=function(Z){if(Z==="")return V1;let Y=10;if(Z.length>=2&&Z.charAt(0)==="0"&&Z.charAt(1).toLowerCase()==="x")Z=Z.substring(2),Y=16;else if(Z.length>=2&&Z.charAt(0)==="0")Z=Z.substring(1),Y=8;if(Z==="")return 0;let J=/[^0-7]/u;if(Y===10)J=/[^0-9]/u;if(Y===16)J=/[^0-9A-Fa-f]/u;if(J.test(Z))return V1;return parseInt(Z,Y)},P51=function(Z){const Y=Z.split(".");if(Y[Y.length-1]===""){if(Y.length>1)Y.pop()}if(Y.length>4)return V1;const J=[];for(let W of Y){const G=Sj(W);if(G===V1)return V1;J.push(G)}for(let W=0;W<J.length-1;++W)if(J[W]>255)return V1;if(J[J.length-1]>=256**(5-J.length))return V1;let X=J.pop(),$=0;for(let W of J)X+=W*256**(3-$),++$;return X},T51=function(Z){let Y="",J=Z;for(let X=1;X<=4;++X){if(Y=String(J%256)+Y,X!==4)Y=`.${Y}`;J=Math.floor(J/256)}return Y},j51=function(Z){const Y=[0,0,0,0,0,0,0,0];let J=0,X=null,$=0;if(Z=Array.from(Z,(W)=>W.codePointAt(0)),Z[$]===p(":")){if(Z[$+1]!==p(":"))return V1;$+=2,++J,X=J}while($<Z.length){if(J===8)return V1;if(Z[$]===p(":")){if(X!==null)return V1;++$,++J,X=J;continue}let W=0,G=0;while(G<4&&s0.isASCIIHex(Z[$]))W=W*16+parseInt(Ij(Z,$),16),++$,++G;if(Z[$]===p(".")){if(G===0)return V1;if($-=G,J>6)return V1;let K=0;while(Z[$]!==void 0){let Q=null;if(K>0)if(Z[$]===p(".")&&K<4)++$;else return V1;if(!s0.isASCIIDigit(Z[$]))return V1;while(s0.isASCIIDigit(Z[$])){const z=parseInt(Ij(Z,$));if(Q===null)Q=z;else if(Q===0)return V1;else Q=Q*10+z;if(Q>255)return V1;++$}if(Y[J]=Y[J]*256+Q,++K,K===2||K===4)++J}if(K!==4)return V1;break}else if(Z[$]===p(":")){if(++$,Z[$]===void 0)return V1}else if(Z[$]!==void 0)return V1;Y[J]=W,++J}if(X!==null){let W=J-X;J=7;while(J!==0&&W>0){const G=Y[X+W-1];Y[X+W-1]=Y[J],Y[J]=G,--J,--W}}else if(X===null&&J!==8)return V1;return Y},E51=function(Z){let Y="";const J=S51(Z);let X=!1;for(let $=0;$<=7;++$){if(X&&Z[$]===0)continue;else if(X)X=!1;if(J===$){Y+=$===0?"::":":",X=!0;continue}if(Y+=Z[$].toString(16),$!==7)Y+=":"}return Y},IF=function(Z,Y=!1){if(Z[0]==="["){if(Z[Z.length-1]!=="]")return V1;return j51(Z.substring(1,Z.length-1))}if(Y)return O51(Z);const J=V51(U51(Z)),X=k51(J);if(X===V1)return V1;if(D51(X))return V1;if(C51(X))return P51(X);return X},C51=function(Z){const Y=Z.split(".");if(Y[Y.length-1]===""){if(Y.length===1)return!1;Y.pop()}const J=Y[Y.length-1];if(Sj(J)!==V1)return!0;if(/^[0-9]+$/u.test(J))return!0;return!1},O51=function(Z){if(I51(Z))return V1;return e$(Z,jj)},S51=function(Z){let Y=null,J=1,X=null,$=0;for(let W=0;W<Z.length;++W)if(Z[W]!==0){if($>J)Y=X,J=$;X=null,$=0}else{if(X===null)X=W;++$}if($>J)return X;return Y},TF=function(Z){if(typeof Z==="number")return T51(Z);if(Z instanceof Array)return`[${E51(Z)}]`;return Z},k51=function(Z,Y=!1){const J=q51.toASCII(Z,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:Y,verifyDNSLength:Y});if(J===null||J==="")return V1;return J},_51=function(Z){return Z.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")},x51=function(Z){return Z.replace(/\u0009|\u000A|\u000D/ug,"")},kj=function(Z){const{path:Y}=Z;if(Y.length===0)return;if(Z.scheme==="file"&&Y.length===1&&y51(Y[0]))return;Y.pop()},_j=function(Z){return Z.username!==""||Z.password!==""},f51=function(Z){return Z.host===null||Z.host===""||kZ(Z)||Z.scheme==="file"},kZ=function(Z){return typeof Z.path==="string"},y51=function(Z){return/^[A-Za-z]:$/u.test(Z)},U0=function(Z,Y,J,X,$){if(this.pointer=0,this.input=Z,this.base=Y||null,this.encodingOverride=J||"utf-8",this.stateOverride=$,this.url=X,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};const G=_51(this.input);if(G!==this.input)this.parseError=!0;this.input=G}const W=x51(this.input);if(W!==this.input)this.parseError=!0;this.input=W,this.state=$||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,(G)=>G.codePointAt(0));for(;this.pointer<=this.input.length;++this.pointer){const G=this.input[this.pointer],K=isNaN(G)?void 0:String.fromCodePoint(G),Q=this[`parse ${this.state}`](G,K);if(!Q)break;else if(Q===V1){this.failure=!0;break}}},xj=function(Z,Y){const J=Z.length-Y;return J>=2&&B51(Z[Y],Z[Y+1])&&(J===2||g51.has(Z[Y+2]))},b51=function(Z,Y){let J=`${Z.scheme}:`;if(Z.host!==null){if(J+="//",Z.username!==""||Z.password!==""){if(J+=Z.username,Z.password!=="")J+=`:${Z.password}`;J+="@"}if(J+=TF(Z.host),Z.port!==null)J+=`:${Z.port}`}if(Z.host===null&&!kZ(Z)&&Z.path.length>1&&Z.path[0]==="")J+="/.";if(J+=jF(Z),Z.query!==null)J+=`?${Z.query}`;if(!Y&&Z.fragment!==null)J+=`#${Z.fragment}`;return J},v51=function(Z){let Y=`${Z.scheme}://`;if(Y+=TF(Z.host),Z.port!==null)Y+=`:${Z.port}`;return Y},jF=function(Z){if(kZ(Z))return Z.path;let Y="";for(let J of Z.path)Y+=`/${J}`;return Y},q51=Fj(),s0=AF(),{utf8DecodeWithoutBOM:V51}=s$(),{percentDecodeString:U51,utf8PercentEncodeCodePoint:o$,utf8PercentEncodeString:e$,isC0ControlPercentEncode:jj,isFragmentPercentEncode:L51,isQueryPercentEncode:w51,isSpecialQueryPercentEncode:R51,isPathPercentEncode:M51,isUserinfoPercentEncode:PF}=r$(),Ej={ftp:21,file:null,http:80,https:443,ws:80,wss:443},V1=Symbol("failure");U0.prototype["parse scheme start"]=function Z(Y,J){if(s0.isASCIIAlpha(Y))this.buffer+=J.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,V1;return!0};U0.prototype["parse scheme"]=function Z(Y,J){if(s0.isASCIIAlphanumeric(Y)||Y===p("+")||Y===p("-")||Y===p("."))this.buffer+=J.toLowerCase();else if(Y===p(":")){if(this.stateOverride){if(a0(this.url)&&!t$(this.buffer))return!1;if(!a0(this.url)&&t$(this.buffer))return!1;if((_j(this.url)||this.url.port!==null)&&this.buffer==="file")return!1;if(this.url.scheme==="file"&&this.url.host==="")return!1}if(this.url.scheme=this.buffer,this.stateOverride){if(this.url.port===Oj(this.url.scheme))this.url.port=null;return!1}if(this.buffer="",this.url.scheme==="file"){if(this.input[this.pointer+1]!==p("/")||this.input[this.pointer+2]!==p("/"))this.parseError=!0;this.state="file"}else if(a0(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme)this.state="special relative or authority";else if(a0(this.url))this.state="special authority slashes";else if(this.input[this.pointer+1]===p("/"))this.state="path or authority",++this.pointer;else this.url.path="",this.state="opaque path"}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,V1;return!0};U0.prototype["parse no scheme"]=function Z(Y){if(this.base===null||kZ(this.base)&&Y!==p("#"))return V1;else if(kZ(this.base)&&Y===p("#"))this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else if(this.base.scheme==="file")this.state="file",--this.pointer;else this.state="relative",--this.pointer;return!0};U0.prototype["parse special relative or authority"]=function Z(Y){if(Y===p("/")&&this.input[this.pointer+1]===p("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="relative",--this.pointer;return!0};U0.prototype["parse path or authority"]=function Z(Y){if(Y===p("/"))this.state="authority";else this.state="path",--this.pointer;return!0};U0.prototype["parse relative"]=function Z(Y){if(this.url.scheme=this.base.scheme,Y===p("/"))this.state="relative slash";else if(a0(this.url)&&Y===p("\\"))this.parseError=!0,this.state="relative slash";else if(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,Y===p("?"))this.url.query="",this.state="query";else if(Y===p("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(Y))this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer;return!0};U0.prototype["parse relative slash"]=function Z(Y){if(a0(this.url)&&(Y===p("/")||Y===p("\\"))){if(Y===p("\\"))this.parseError=!0;this.state="special authority ignore slashes"}else if(Y===p("/"))this.state="authority";else this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer;return!0};U0.prototype["parse special authority slashes"]=function Z(Y){if(Y===p("/")&&this.input[this.pointer+1]===p("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="special authority ignore slashes",--this.pointer;return!0};U0.prototype["parse special authority ignore slashes"]=function Z(Y){if(Y!==p("/")&&Y!==p("\\"))this.state="authority",--this.pointer;else this.parseError=!0;return!0};U0.prototype["parse authority"]=function Z(Y,J){if(Y===p("@")){if(this.parseError=!0,this.atFlag)this.buffer=`%40${this.buffer}`;this.atFlag=!0;const X=Dj(this.buffer);for(let $=0;$<X;++$){const W=this.buffer.codePointAt($);if(W===p(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const G=o$(W,PF);if(this.passwordTokenSeenFlag)this.url.password+=G;else this.url.username+=G}this.buffer=""}else if(isNaN(Y)||Y===p("/")||Y===p("?")||Y===p("#")||a0(this.url)&&Y===p("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,V1;this.pointer-=Dj(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=J;return!0};U0.prototype["parse hostname"]=U0.prototype["parse host"]=function Z(Y,J){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(Y===p(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,V1;if(this.stateOverride==="hostname")return!1;const X=IF(this.buffer,DF(this.url));if(X===V1)return V1;this.url.host=X,this.buffer="",this.state="port"}else if(isNaN(Y)||Y===p("/")||Y===p("?")||Y===p("#")||a0(this.url)&&Y===p("\\")){if(--this.pointer,a0(this.url)&&this.buffer==="")return this.parseError=!0,V1;else if(this.stateOverride&&this.buffer===""&&(_j(this.url)||this.url.port!==null))return this.parseError=!0,!1;const X=IF(this.buffer,DF(this.url));if(X===V1)return V1;if(this.url.host=X,this.buffer="",this.state="path start",this.stateOverride)return!1}else{if(Y===p("["))this.arrFlag=!0;else if(Y===p("]"))this.arrFlag=!1;this.buffer+=J}return!0};U0.prototype["parse port"]=function Z(Y,J){if(s0.isASCIIDigit(Y))this.buffer+=J;else if(isNaN(Y)||Y===p("/")||Y===p("?")||Y===p("#")||a0(this.url)&&Y===p("\\")||this.stateOverride){if(this.buffer!==""){const X=parseInt(this.buffer);if(X>65535)return this.parseError=!0,V1;this.url.port=X===Oj(this.url.scheme)?null:X,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,V1;return!0};var g51=new Set([p("/"),p("\\"),p("?"),p("#")]);U0.prototype["parse file"]=function Z(Y){if(this.url.scheme="file",this.url.host="",Y===p("/")||Y===p("\\")){if(Y===p("\\"))this.parseError=!0;this.state="file slash"}else if(this.base!==null&&this.base.scheme==="file"){if(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,Y===p("?"))this.url.query="",this.state="query";else if(Y===p("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(Y)){if(this.url.query=null,!xj(this.input,this.pointer))kj(this.url);else this.parseError=!0,this.url.path=[];this.state="path",--this.pointer}}else this.state="path",--this.pointer;return!0};U0.prototype["parse file slash"]=function Z(Y){if(Y===p("/")||Y===p("\\")){if(Y===p("\\"))this.parseError=!0;this.state="file host"}else{if(this.base!==null&&this.base.scheme==="file"){if(!xj(this.input,this.pointer)&&N51(this.base.path[0]))this.url.path.push(this.base.path[0]);this.url.host=this.base.host}this.state="path",--this.pointer}return!0};U0.prototype["parse file host"]=function Z(Y,J){if(isNaN(Y)||Y===p("/")||Y===p("\\")||Y===p("?")||Y===p("#"))if(--this.pointer,!this.stateOverride&&Cj(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let X=IF(this.buffer,DF(this.url));if(X===V1)return V1;if(X==="localhost")X="";if(this.url.host=X,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=J;return!0};U0.prototype["parse path start"]=function Z(Y){if(a0(this.url)){if(Y===p("\\"))this.parseError=!0;if(this.state="path",Y!==p("/")&&Y!==p("\\"))--this.pointer}else if(!this.stateOverride&&Y===p("?"))this.url.query="",this.state="query";else if(!this.stateOverride&&Y===p("#"))this.url.fragment="",this.state="fragment";else if(Y!==void 0){if(this.state="path",Y!==p("/"))--this.pointer}else if(this.stateOverride&&this.url.host===null)this.url.path.push("");return!0};U0.prototype["parse path"]=function Z(Y){if(isNaN(Y)||Y===p("/")||a0(this.url)&&Y===p("\\")||!this.stateOverride&&(Y===p("?")||Y===p("#"))){if(a0(this.url)&&Y===p("\\"))this.parseError=!0;if(A51(this.buffer)){if(kj(this.url),Y!==p("/")&&!(a0(this.url)&&Y===p("\\")))this.url.path.push("")}else if(Pj(this.buffer)&&Y!==p("/")&&!(a0(this.url)&&Y===p("\\")))this.url.path.push("");else if(!Pj(this.buffer)){if(this.url.scheme==="file"&&this.url.path.length===0&&Cj(this.buffer))this.buffer=`${this.buffer[0]}:`;this.url.path.push(this.buffer)}if(this.buffer="",Y===p("?"))this.url.query="",this.state="query";if(Y===p("#"))this.url.fragment="",this.state="fragment"}else{if(Y===p("%")&&(!s0.isASCIIHex(this.input[this.pointer+1])||!s0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=o$(Y,M51)}return!0};U0.prototype["parse opaque path"]=function Z(Y){if(Y===p("?"))this.url.query="",this.state="query";else if(Y===p("#"))this.url.fragment="",this.state="fragment";else{if(!isNaN(Y)&&Y!==p("%"))this.parseError=!0;if(Y===p("%")&&(!s0.isASCIIHex(this.input[this.pointer+1])||!s0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;if(!isNaN(Y))this.url.path+=o$(Y,jj)}return!0};U0.prototype["parse query"]=function Z(Y,J){if(!a0(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")this.encodingOverride="utf-8";if(!this.stateOverride&&Y===p("#")||isNaN(Y)){const X=a0(this.url)?R51:w51;if(this.url.query+=e$(this.buffer,X),this.buffer="",Y===p("#"))this.url.fragment="",this.state="fragment"}else if(!isNaN(Y)){if(Y===p("%")&&(!s0.isASCIIHex(this.input[this.pointer+1])||!s0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=J}return!0};U0.prototype["parse fragment"]=function Z(Y){if(!isNaN(Y)){if(Y===p("%")&&(!s0.isASCIIHex(this.input[this.pointer+1])||!s0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.url.fragment+=o$(Y,L51)}return!0};h51.serializeURL=b51;h51.serializePath=jF;h51.serializeURLOrigin=function(Z){switch(Z.scheme){case"blob":try{return h51.serializeURLOrigin(h51.parseURL(jF(Z)))}catch(Y){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return v51({scheme:Z.scheme,host:Z.host,port:Z.port});case"file":return"null";default:return"null"}};h51.basicURLParse=function(Z,Y){if(Y===void 0)Y={};const J=new U0(Z,Y.baseURL,Y.encodingOverride,Y.url,Y.stateOverride);if(J.failure)return null;return J.url};h51.setTheUsername=function(Z,Y){Z.username=e$(Y,PF)};h51.setThePassword=function(Z,Y){Z.password=e$(Y,PF)};h51.serializeHost=TF;h51.cannotHaveAUsernamePasswordPort=f51;h51.hasAnOpaquePath=kZ;h51.serializeInteger=function(Z){return String(Z)};h51.parseURL=function(Z,Y){if(Y===void 0)Y={};return h51.basicURLParse(Z,{baseURL:Y.baseURL,encodingOverride:Y.encodingOverride})}});var CF=w((xI1,uj)=>{var hj=function(Z){return Z.codePointAt(0)},r51=function(Z){const Y=e51(Z,hj("&")),J=[];for(let X of Y){if(X.length===0)continue;let $,W;const G=X.indexOf(hj("="));if(G>=0)$=X.slice(0,G),W=X.slice(G+1);else $=X,W=new Uint8Array(0);$=mj($,43,32),W=mj(W,43,32);const K=yj(gj($)),Q=yj(gj(W));J.push([K,Q])}return J},t51=function(Z){return r51(s51(Z))},o51=function(Z,Y=void 0){let J="utf-8";if(Y!==void 0)J=Y;let X="";for(let[$,W]of Z.entries()){const G=bj(W[0],vj,!0);let K=W[1];if(W.length>2&&W[2]!==void 0){if(W[2]==="hidden"&&G==="_charset_")K=J;else if(W[2]==="file")K=K.name}if(K=bj(K,vj,!0),$!==0)X+="&";X+=`${G}=${K}`}return X},e51=function(Z,Y){const J=[];let X=0,$=Z.indexOf(Y);while($>=0)J.push(Z.slice(X,$)),X=$+1,$=Z.indexOf(Y,X);if(X!==Z.length)J.push(Z.slice(X));return J},mj=function(Z,Y,J){let X=Z.indexOf(Y);while(X>=0)Z[X]=J,X=Z.indexOf(Y,X+1);return Z},{utf8Encode:s51,utf8DecodeWithoutBOM:yj}=s$(),{percentDecodeBytes:gj,utf8PercentEncodeString:bj,isURLEncodedPercentEncode:vj}=r$();uj.exports={parseUrlencodedString:t51,serializeUrlencoded:o51}});var cj=w((Z91)=>{var dj=i$(),ZW=a$();Z91.convert=(Z,Y,{context:J="The provided value"}={})=>{if(typeof Y!=="function")throw new Z.TypeError(J+" is not a function");function X(...$){const W=ZW.tryWrapperForImpl(this);let G;for(let K=0;K<$.length;K++)$[K]=ZW.tryWrapperForImpl($[K]);return G=Reflect.apply(Y,W,$),G=dj.any(G,{context:J,globals:Z}),G}return X.construct=(...$)=>{for(let G=0;G<$.length;G++)$[G]=ZW.tryWrapperForImpl($[G]);let W=Reflect.construct(Y,$);return W=dj.any(W,{context:J,globals:Z}),W},X[ZW.wrapperSymbol]=Y,X.objectReference=Y,X}});var lj=w((J91)=>{var OF=CF();J91.implementation=class Z{constructor(Y,J,{doNotStripQMark:X=!1}){let $=J[0];if(this._list=[],this._url=null,!X&&typeof $==="string"&&$[0]==="?")$=$.slice(1);if(Array.isArray($))for(let W of $){if(W.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([W[0],W[1]])}else if(typeof $==="object"&&Object.getPrototypeOf($)===null)for(let W of Object.keys($)){const G=$[W];this._list.push([W,G])}else this._list=OF.parseUrlencodedString($)}_updateSteps(){if(this._url!==null){let Y=OF.serializeUrlencoded(this._list);if(Y==="")Y=null;this._url._url.query=Y}}append(Y,J){this._list.push([Y,J]),this._updateSteps()}delete(Y){let J=0;while(J<this._list.length)if(this._list[J][0]===Y)this._list.splice(J,1);else J++;this._updateSteps()}get(Y){for(let J of this._list)if(J[0]===Y)return J[1];return null}getAll(Y){const J=[];for(let X of this._list)if(X[0]===Y)J.push(X[1]);return J}has(Y){for(let J of this._list)if(J[0]===Y)return!0;return!1}set(Y,J){let X=!1,$=0;while($<this._list.length)if(this._list[$][0]===Y)if(X)this._list.splice($,1);else X=!0,this._list[$][1]=J,$++;else $++;if(!X)this._list.push([Y,J]);this._updateSteps()}sort(){this._list.sort((Y,J)=>{if(Y[0]<J[0])return-1;if(Y[0]>J[0])return 1;return 0}),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return OF.serializeUrlencoded(this._list)}}});var kF=w((G91)=>{var nj=function(Z,Y){let J;if(Y!==void 0)J=Y.prototype;if(!p1.isObject(J))J=Z[ij].URLSearchParams.prototype;return Object.create(J)},_6=i$(),p1=a$(),$91=cj(),pj=p1.newObjectInRealm,T0=p1.implSymbol,ij=p1.ctorRegistrySymbol;G91.is=(Z)=>{return p1.isObject(Z)&&p1.hasOwn(Z,T0)&&Z[T0]instanceof a4.implementation};G91.isImpl=(Z)=>{return p1.isObject(Z)&&Z instanceof a4.implementation};G91.convert=(Z,Y,{context:J="The provided value"}={})=>{if(G91.is(Y))return p1.implForWrapper(Y);throw new Z.TypeError(`${J} is not of type 'URLSearchParams'.`)};G91.createDefaultIterator=(Z,Y,J)=>{const $=Z[ij]["URLSearchParams Iterator"],W=Object.create($);return Object.defineProperty(W,p1.iterInternalSymbol,{value:{target:Y,kind:J,index:0},configurable:!0}),W};G91.create=(Z,Y,J)=>{const X=nj(Z);return G91.setup(X,Z,Y,J)};G91.createImpl=(Z,Y,J)=>{const X=G91.create(Z,Y,J);return p1.implForWrapper(X)};G91._internalSetup=(Z,Y)=>{};G91.setup=(Z,Y,J=[],X={})=>{if(X.wrapper=Z,G91._internalSetup(Z,Y),Object.defineProperty(Z,T0,{value:new a4.implementation(Y,J,X),configurable:!0}),Z[T0][p1.wrapperSymbol]=Z,a4.init)a4.init(Z[T0]);return Z};G91.new=(Z,Y)=>{const J=nj(Z,Y);if(G91._internalSetup(J,Z),Object.defineProperty(J,T0,{value:Object.create(a4.implementation.prototype),configurable:!0}),J[T0][p1.wrapperSymbol]=J,a4.init)a4.init(J[T0]);return J[T0]};var W91=new Set(["Window","Worker"]);G91.install=(Z,Y)=>{if(!Y.some(($)=>W91.has($)))return;const J=p1.initCtorRegistry(Z);class X{constructor(){const $=[];{let W=arguments[0];if(W!==void 0)if(p1.isObject(W))if(W[Symbol.iterator]!==void 0)if(!p1.isObject(W))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else{const G=[],K=W;for(let Q of K){if(!p1.isObject(Q))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");else{const z=[],H=Q;for(let F of H)F=_6.USVString(F,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:Z}),z.push(F);Q=z}G.push(Q)}W=G}else if(!p1.isObject(W))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else{const G=Object.create(null);for(let K of Reflect.ownKeys(W)){const Q=Object.getOwnPropertyDescriptor(W,K);if(Q&&Q.enumerable){let z=K;z=_6.USVString(z,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:Z});let H=W[K];H=_6.USVString(H,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:Z}),G[z]=H}}W=G}else W=_6.USVString(W,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:Z});else W="";$.push(W)}return G91.setup(Object.create(new.target.prototype),Z,$)}append($,W){const G=this!==null&&this!==void 0?this:Z;if(!G91.is(G))throw new Z.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const K=[];{let Q=arguments[0];Q=_6.USVString(Q,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:Z}),K.push(Q)}{let Q=arguments[1];Q=_6.USVString(Q,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:Z}),K.push(Q)}return p1.tryWrapperForImpl(G[T0].append(...K))}delete($){const W=this!==null&&this!==void 0?this:Z;if(!G91.is(W))throw new Z.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let K=arguments[0];K=_6.USVString(K,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:Z}),G.push(K)}return p1.tryWrapperForImpl(W[T0].delete(...G))}get($){const W=this!==null&&this!==void 0?this:Z;if(!G91.is(W))throw new Z.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let K=arguments[0];K=_6.USVString(K,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:Z}),G.push(K)}return W[T0].get(...G)}getAll($){const W=this!==null&&this!==void 0?this:Z;if(!G91.is(W))throw new Z.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let K=arguments[0];K=_6.USVString(K,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:Z}),G.push(K)}return p1.tryWrapperForImpl(W[T0].getAll(...G))}has($){const W=this!==null&&this!==void 0?this:Z;if(!G91.is(W))throw new Z.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let K=arguments[0];K=_6.USVString(K,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:Z}),G.push(K)}return W[T0].has(...G)}set($,W){const G=this!==null&&this!==void 0?this:Z;if(!G91.is(G))throw new Z.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const K=[];{let Q=arguments[0];Q=_6.USVString(Q,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:Z}),K.push(Q)}{let Q=arguments[1];Q=_6.USVString(Q,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:Z}),K.push(Q)}return p1.tryWrapperForImpl(G[T0].set(...K))}sort(){const $=this!==null&&this!==void 0?this:Z;if(!G91.is($))throw new Z.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return p1.tryWrapperForImpl($[T0].sort())}toString(){const $=this!==null&&this!==void 0?this:Z;if(!G91.is($))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return $[T0].toString()}keys(){if(!G91.is(this))throw new Z.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return G91.createDefaultIterator(Z,this,"key")}values(){if(!G91.is(this))throw new Z.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return G91.createDefaultIterator(Z,this,"value")}entries(){if(!G91.is(this))throw new Z.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return G91.createDefaultIterator(Z,this,"key+value")}forEach($){if(!G91.is(this))throw new Z.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");$=$91.convert(Z,$,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});const W=arguments[1];let G=Array.from(this[T0]),K=0;while(K<G.length){const[Q,z]=G[K].map(p1.tryWrapperForImpl);$.call(W,z,Q,this),G=Array.from(this[T0]),K++}}}Object.defineProperties(X.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:X.prototype.entries,configurable:!0,writable:!0}}),J["URLSearchParams"]=X,J["URLSearchParams Iterator"]=Object.create(J["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),p1.define(J["URLSearchParams Iterator"],{next(){const $=this&&this[p1.iterInternalSymbol];if(!$)throw new Z.TypeError("next() called on a value that is not a URLSearchParams iterator object");const{target:W,kind:G,index:K}=$,Q=Array.from(W[T0]),z=Q.length;if(K>=z)return pj(Z,{value:void 0,done:!0});const H=Q[K];return $.index=K+1,pj(Z,p1.iteratorResult(H.map(p1.tryWrapperForImpl),G))}}),Object.defineProperty(Z,"URLSearchParams",{configurable:!0,writable:!0,value:X})};var a4=lj()});var tj=w((V91)=>{var o1=EF(),rj=CF(),q91=kF();V91.implementation=class Z{constructor(Y,J){const X=J[0],$=J[1];let W=null;if($!==void 0){if(W=o1.basicURLParse($),W===null)throw new TypeError(`Invalid base URL: ${$}`)}const G=o1.basicURLParse(X,{baseURL:W});if(G===null)throw new TypeError(`Invalid URL: ${X}`);const K=G.query!==null?G.query:"";this._url=G,this._query=q91.createImpl(Y,[K],{doNotStripQMark:!0}),this._query._url=this}get href(){return o1.serializeURL(this._url)}set href(Y){const J=o1.basicURLParse(Y);if(J===null)throw new TypeError(`Invalid URL: ${Y}`);this._url=J,this._query._list.splice(0);const{query:X}=J;if(X!==null)this._query._list=rj.parseUrlencodedString(X)}get origin(){return o1.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(Y){o1.basicURLParse(`${Y}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(Y){if(o1.cannotHaveAUsernamePasswordPort(this._url))return;o1.setTheUsername(this._url,Y)}get password(){return this._url.password}set password(Y){if(o1.cannotHaveAUsernamePasswordPort(this._url))return;o1.setThePassword(this._url,Y)}get host(){const Y=this._url;if(Y.host===null)return"";if(Y.port===null)return o1.serializeHost(Y.host);return`${o1.serializeHost(Y.host)}:${o1.serializeInteger(Y.port)}`}set host(Y){if(o1.hasAnOpaquePath(this._url))return;o1.basicURLParse(Y,{url:this._url,stateOverride:"host"})}get hostname(){if(this._url.host===null)return"";return o1.serializeHost(this._url.host)}set hostname(Y){if(o1.hasAnOpaquePath(this._url))return;o1.basicURLParse(Y,{url:this._url,stateOverride:"hostname"})}get port(){if(this._url.port===null)return"";return o1.serializeInteger(this._url.port)}set port(Y){if(o1.cannotHaveAUsernamePasswordPort(this._url))return;if(Y==="")this._url.port=null;else o1.basicURLParse(Y,{url:this._url,stateOverride:"port"})}get pathname(){return o1.serializePath(this._url)}set pathname(Y){if(o1.hasAnOpaquePath(this._url))return;this._url.path=[],o1.basicURLParse(Y,{url:this._url,stateOverride:"path start"})}get search(){if(this._url.query===null||this._url.query==="")return"";return`?${this._url.query}`}set search(Y){const J=this._url;if(Y===""){J.query=null,this._query._list=[];return}const X=Y[0]==="?"?Y.substring(1):Y;J.query="",o1.basicURLParse(X,{url:J,stateOverride:"query"}),this._query._list=rj.parseUrlencodedString(X)}get searchParams(){return this._query}get hash(){if(this._url.fragment===null||this._url.fragment==="")return"";return`#${this._url.fragment}`}set hash(Y){if(Y===""){this._url.fragment=null;return}const J=Y[0]==="#"?Y.substring(1):Y;this._url.fragment="",o1.basicURLParse(J,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var YE=w((R91)=>{var oj=function(Z,Y){let J;if(Y!==void 0)J=Y.prototype;if(!Q6.isObject(J))J=Z[L91].URL.prototype;return Object.create(J)},x6=i$(),Q6=a$(),k1=Q6.implSymbol,L91=Q6.ctorRegistrySymbol;R91.is=(Z)=>{return Q6.isObject(Z)&&Q6.hasOwn(Z,k1)&&Z[k1]instanceof s4.implementation};R91.isImpl=(Z)=>{return Q6.isObject(Z)&&Z instanceof s4.implementation};R91.convert=(Z,Y,{context:J="The provided value"}={})=>{if(R91.is(Y))return Q6.implForWrapper(Y);throw new Z.TypeError(`${J} is not of type 'URL'.`)};R91.create=(Z,Y,J)=>{const X=oj(Z);return R91.setup(X,Z,Y,J)};R91.createImpl=(Z,Y,J)=>{const X=R91.create(Z,Y,J);return Q6.implForWrapper(X)};R91._internalSetup=(Z,Y)=>{};R91.setup=(Z,Y,J=[],X={})=>{if(X.wrapper=Z,R91._internalSetup(Z,Y),Object.defineProperty(Z,k1,{value:new s4.implementation(Y,J,X),configurable:!0}),Z[k1][Q6.wrapperSymbol]=Z,s4.init)s4.init(Z[k1]);return Z};R91.new=(Z,Y)=>{const J=oj(Z,Y);if(R91._internalSetup(J,Z),Object.defineProperty(J,k1,{value:Object.create(s4.implementation.prototype),configurable:!0}),J[k1][Q6.wrapperSymbol]=J,s4.init)s4.init(J[k1]);return J[k1]};var w91=new Set(["Window","Worker"]);R91.install=(Z,Y)=>{if(!Y.some(($)=>w91.has($)))return;const J=Q6.initCtorRegistry(Z);class X{constructor($){if(arguments.length<1)throw new Z.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);const W=[];{let G=arguments[0];G=x6.USVString(G,{context:"Failed to construct 'URL': parameter 1",globals:Z}),W.push(G)}{let G=arguments[1];if(G!==void 0)G=x6.USVString(G,{context:"Failed to construct 'URL': parameter 2",globals:Z});W.push(G)}return R91.setup(Object.create(new.target.prototype),Z,W)}toJSON(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return $[k1].toJSON()}get href(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get href' called on an object that is not a valid instance of URL.");return $[k1].href}set href($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set href' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:Z}),W[k1].href=$}toString(){const $=this;if(!R91.is($))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URL.");return $[k1].href}get origin(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get origin' called on an object that is not a valid instance of URL.");return $[k1].origin}get protocol(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return $[k1].protocol}set protocol($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set protocol' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:Z}),W[k1].protocol=$}get username(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get username' called on an object that is not a valid instance of URL.");return $[k1].username}set username($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set username' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:Z}),W[k1].username=$}get password(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get password' called on an object that is not a valid instance of URL.");return $[k1].password}set password($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set password' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:Z}),W[k1].password=$}get host(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get host' called on an object that is not a valid instance of URL.");return $[k1].host}set host($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set host' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:Z}),W[k1].host=$}get hostname(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return $[k1].hostname}set hostname($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set hostname' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:Z}),W[k1].hostname=$}get port(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get port' called on an object that is not a valid instance of URL.");return $[k1].port}set port($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set port' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:Z}),W[k1].port=$}get pathname(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return $[k1].pathname}set pathname($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set pathname' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:Z}),W[k1].pathname=$}get search(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get search' called on an object that is not a valid instance of URL.");return $[k1].search}set search($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set search' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:Z}),W[k1].search=$}get searchParams(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return Q6.getSameObject(this,"searchParams",()=>{return Q6.tryWrapperForImpl($[k1].searchParams)})}get hash(){const $=this!==null&&this!==void 0?this:Z;if(!R91.is($))throw new Z.TypeError("'get hash' called on an object that is not a valid instance of URL.");return $[k1].hash}set hash($){const W=this!==null&&this!==void 0?this:Z;if(!R91.is(W))throw new Z.TypeError("'set hash' called on an object that is not a valid instance of URL.");$=x6.USVString($,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:Z}),W[k1].hash=$}}if(Object.defineProperties(X.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),J["URL"]=X,Object.defineProperty(Z,"URL",{configurable:!0,writable:!0,value:X}),Y.includes("Window"))Object.defineProperty(Z,"webkitURL",{configurable:!0,writable:!0,value:X})};var s4=tj()});var JE=w((T91)=>{var I91=YE(),P91=kF();T91.URL=I91;T91.URLSearchParams=P91});var $E=w((S91)=>{var{URL:C91,URLSearchParams:O91}=JE(),W7=EF(),XE=r$(),JW={Array,Object,Promise,String,TypeError};C91.install(JW,["Window"]);O91.install(JW,["Window"]);S91.URL=JW.URL;S91.URLSearchParams=JW.URLSearchParams;S91.parseURL=W7.parseURL;S91.basicURLParse=W7.basicURLParse;S91.serializeURL=W7.serializeURL;S91.serializePath=W7.serializePath;S91.serializeHost=W7.serializeHost;S91.serializeInteger=W7.serializeInteger;S91.serializeURLOrigin=W7.serializeURLOrigin;S91.setTheUsername=W7.setTheUsername;S91.setThePassword=W7.setThePassword;S91.cannotHaveAUsernamePasswordPort=W7.cannotHaveAUsernamePasswordPort;S91.hasAnOpaquePath=W7.hasAnOpaquePath;S91.percentDecodeString=XE.percentDecodeString;S91.percentDecodeBytes=XE.percentDecodeBytes});var GE=w((f6)=>{var s91=function(Z,Y){var J,X;const $=Z.clone(),W=(J=Y===null||Y===void 0?void 0:Y.replacementString)!==null&&J!==void 0?J:"_credentials_",G=(X=Y===null||Y===void 0?void 0:Y.redactUsernames)!==null&&X!==void 0?X:!0;if(($.username||$.password)&&G)$.username=W,$.password="";else if($.password)$.password=W;if($.searchParams.has("authMechanismProperties")){const K=new WE.CommaAndColonSeparatedRecord($.searchParams.get("authMechanismProperties"));if(K.get("AWS_SESSION_TOKEN"))K.set("AWS_SESSION_TOKEN",W),$.searchParams.set("authMechanismProperties",K.toString())}if($.searchParams.has("tlsCertificateKeyFilePassword"))$.searchParams.set("tlsCertificateKeyFilePassword",W);if($.searchParams.has("proxyUsername")&&G)$.searchParams.set("proxyUsername",W);if($.searchParams.has("proxyPassword"))$.searchParams.set("proxyPassword",W);return $},r91=function(Z,Y){var J,X;const $=(J=Y===null||Y===void 0?void 0:Y.replacementString)!==null&&J!==void 0?J:"<credentials>",W=(X=Y===null||Y===void 0?void 0:Y.redactUsernames)!==null&&X!==void 0?X:!0;let G;try{G=new WE.default(Z)}catch(z){}if(G)return Y={...Y,replacementString:"___credentials___"},G.redact(Y).toString().replace(/___credentials___/g,$);const K=$,Q=[(z)=>z.replace(W?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`\$1${K}\$3`),(z)=>z.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`\$1${K}`),(z)=>z.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`\$1${K}`),(z)=>W?z.replace(/(proxyUsername=)([^&]+)/gi,`\$1${K}`):z,(z)=>z.replace(/(proxyPassword=)([^&]+)/gi,`\$1${K}`)];for(let z of Q)Z=z(Z);return Z},i91=f6&&f6.__createBinding||(Object.create?function(Z,Y,J,X){if(X===void 0)X=J;var $=Object.getOwnPropertyDescriptor(Y,J);if(!$||("get"in $?!Y.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Y[J]}};Object.defineProperty(Z,X,$)}:function(Z,Y,J,X){if(X===void 0)X=J;Z[X]=Y[J]}),n91=f6&&f6.__setModuleDefault||(Object.create?function(Z,Y){Object.defineProperty(Z,"default",{enumerable:!0,value:Y})}:function(Z,Y){Z.default=Y}),a91=f6&&f6.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var Y={};if(Z!=null){for(var J in Z)if(J!=="default"&&Object.prototype.hasOwnProperty.call(Z,J))i91(Y,Z,J)}return n91(Y,Z),Y};Object.defineProperty(f6,"__esModule",{value:!0});f6.redactConnectionString=f6.redactValidConnectionString=void 0;var WE=a91(xF());f6.redactValidConnectionString=s91;f6.redactConnectionString=r91});var xF=w((yF)=>{var o91=function(Z){return Z.startsWith("mongodb://")||Z.startsWith("mongodb+srv://")},ZZ1=function(Z){return class Y extends Z{append(J,X){return super.append(this._normalizeKey(J),X)}delete(J){return super.delete(this._normalizeKey(J))}get(J){return super.get(this._normalizeKey(J))}getAll(J){return super.getAll(this._normalizeKey(J))}has(J){return super.has(this._normalizeKey(J))}set(J,X){return super.set(this._normalizeKey(J),X)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(J){return fF.prototype._normalizeKey.call(this,J)}}};Object.defineProperty(yF,"__esModule",{value:!0});yF.CommaAndColonSeparatedRecord=yF.ConnectionString=yF.redactConnectionString=void 0;var t91=$E(),KE=GE();Object.defineProperty(yF,"redactConnectionString",{enumerable:!0,get:function(){return KE.redactConnectionString}});var bJ="__this_is_a_placeholder__",e91=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;class fF extends Map{delete(Z){return super.delete(this._normalizeKey(Z))}get(Z){return super.get(this._normalizeKey(Z))}has(Z){return super.has(this._normalizeKey(Z))}set(Z,Y){return super.set(this._normalizeKey(Z),Y)}_normalizeKey(Z){Z=`${Z}`;for(let Y of this.keys())if(Y.toLowerCase()===Z.toLowerCase()){Z=Y;break}return Z}}class QE extends t91.URL{}class O7 extends Error{get name(){return"MongoParseError"}}class vJ extends QE{constructor(Z,Y={}){var J;const{looseValidation:X}=Y;if(!X&&!o91(Z))throw new O7('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');const $=Z.match(e91);if(!$)throw new O7(`Invalid connection string "${Z}"`);const{protocol:W,username:G,password:K,hosts:Q,rest:z}=(J=$.groups)!==null&&J!==void 0?J:{};if(!X){if(!W||!Q)throw new O7(`Protocol and host list are required in "${Z}"`);try{decodeURIComponent(G!==null&&G!==void 0?G:""),decodeURIComponent(K!==null&&K!==void 0?K:"")}catch(q){throw new O7(q.message)}const F=/[:/?#[\]@]/gi;if(G===null||G===void 0?void 0:G.match(F))throw new O7(`Username contains unescaped characters ${G}`);if(!G||!K){const q=Z.replace(`${W}://`,"");if(q.startsWith("@")||q.startsWith(":"))throw new O7("URI contained empty userinfo section")}if(K===null||K===void 0?void 0:K.match(F))throw new O7("Password contains unescaped characters")}let H="";if(typeof G==="string")H+=G;if(typeof K==="string")H+=`:${K}`;if(H)H+="@";try{super(`${W.toLowerCase()}://${H}${bJ}${z}`)}catch(F){if(X)new vJ(Z,{...Y,looseValidation:!1});if(typeof F.message==="string")F.message=F.message.replace(bJ,Q);throw F}if(this._hosts=Q.split(","),!X){if(this.isSRV&&this.hosts.length!==1)throw new O7("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some((F)=>F.includes(":")))throw new O7("mongodb+srv URI cannot have port number")}if(!this.pathname)this.pathname="/";Object.setPrototypeOf(this.searchParams,ZZ1(this.searchParams.constructor).prototype)}get host(){return bJ}set host(Z){throw new Error("No single host for connection string")}get hostname(){return bJ}set hostname(Z){throw new Error("No single host for connection string")}get port(){return""}set port(Z){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(Z){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(Z){this._hosts=Z}toString(){return super.toString().replace(bJ,this.hosts.join(","))}clone(){return new vJ(this.toString(),{looseValidation:!0})}redact(Z){return KE.redactValidConnectionString(this,Z)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){const{href:Z,origin:Y,protocol:J,username:X,password:$,hosts:W,pathname:G,search:K,searchParams:Q,hash:z}=this;return{href:Z,origin:Y,protocol:J,username:X,password:$,hosts:W,pathname:G,search:K,searchParams:Q,hash:z}}}yF.ConnectionString=vJ;class zE extends fF{constructor(Z){super();for(let Y of(Z!==null&&Z!==void 0?Z:"").split(",")){if(!Y)continue;const J=Y.indexOf(":");if(J===-1)this.set(Y,"");else this.set(Y.slice(0,J),Y.slice(J+1))}}toString(){return[...this].map((Z)=>Z.join(":")).join(",")}}yF.CommaAndColonSeparatedRecord=zE;yF.default=vJ});var FE=w((lI1,XZ1)=>{XZ1.exports={name:"mongodb",version:"6.2.0",description:"The official MongoDB driver for Node.js",main:"lib/index.js",files:["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],types:"mongodb.d.ts",repository:{type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},keywords:["mongodb","driver","official"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},dependencies:{"@mongodb-js/saslprep":"^1.1.0",bson:"^6.2.0","mongodb-connection-string-url":"^2.6.0"},peerDependencies:{"@aws-sdk/credential-providers":"^3.188.0","@mongodb-js/zstd":"^1.1.0","gcp-metadata":"^5.2.0",kerberos:"^2.0.1","mongodb-client-encryption":">=6.0.0 <7",snappy:"^7.2.2",socks:"^2.7.1"},peerDependenciesMeta:{"@aws-sdk/credential-providers":{optional:!0},"@mongodb-js/zstd":{optional:!0},kerberos:{optional:!0},snappy:{optional:!0},"mongodb-client-encryption":{optional:!0},"gcp-metadata":{optional:!0},socks:{optional:!0}},devDependencies:{"@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.36.4","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.1.0","@octokit/core":"^4.2.4","@types/chai":"^4.3.5","@types/chai-subset":"^1.3.3","@types/express":"^4.17.17","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.1","@types/node":"^20.5.9","@types/saslprep":"^1.0.1","@types/semver":"^7.5.0","@types/sinon":"^10.0.16","@types/sinon-chai":"^3.2.9","@types/whatwg-url":"^11.0.0","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0",chai:"^4.3.7","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.48.0","eslint-config-prettier":"^8.10.0","eslint-plugin-import":"^2.28.1","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-tsdoc":"^0.2.17","eslint-plugin-unused-imports":"^2.0.0",express:"^4.18.2","gcp-metadata":"^5.2.0","js-yaml":"^4.1.0",mocha:"^10.2.0","mocha-sinon":"^2.1.2","mongodb-client-encryption":"^6.0.0","mongodb-legacy":"^6.0.0",nyc:"^15.1.0",prettier:"^2.8.8",semver:"^7.5.4",sinon:"^15.2.0","sinon-chai":"^3.7.0",snappy:"^7.2.2",socks:"^2.7.1","source-map-support":"^0.5.21","ts-node":"^10.9.1",tsd:"^0.28.1",typescript:"^5.0.4","typescript-cached-transpile":"^0.0.6","v8-heapsnapshot":"^1.3.1",yargs:"^17.7.2"},license:"Apache-2.0",engines:{node:">=16.20.1"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},homepage:"https://github.com/mongodb/node-mongodb-native",scripts:{"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && node etc/clean_definition_files.cjs && eslint mongodb.d.ts --fix","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","build:nightly":"node ./.github/scripts/nightly.mjs","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:search-indexes":"nyc mocha --config test/mocha_mongodb.json test/manual/search-index-management.prose.test.ts","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:drivers-atlas-testing":"mocha --config test/mocha_mongodb.json test/atlas/drivers_atlas_testing.test.ts","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"nyc mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:oidc":"mocha --config test/mocha_mongodb.json test/manual/mongodb_oidc.prose.test.ts","check:oidc-azure":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_oidc_azure.prose.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"nyc mocha --config test/manual/mocharc.json test/manual/kerberos.test.ts","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.ts","check:ldap":"nyc mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},tsd:{directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}}}});var RE=w((LE)=>{var $Z1=function(Z){const Y=new gF(512),{appName:J=""}=Z;if(J.length>0){const H=Buffer.byteLength(J,"utf8")<=128?Z.appName:Buffer.from(J,"utf8").subarray(0,128).toString("utf8");Y.ifItFitsItSits("application",{name:H})}const{name:X="",version:$="",platform:W=""}=Z.driverInfo,G={name:X.length>0?`nodejs|${X}`:"nodejs",version:$.length>0?`${VE}|${$}`:VE};if(!Y.ifItFitsItSits("driver",G))throw new qE.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let K=WZ1();if(W.length>0)K=`${K}|${W}`;if(!Y.ifItFitsItSits("platform",K))throw new qE.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");const Q=(new Map()).set("name",XW.platform).set("architecture",XW.arch).set("version",hJ.release()).set("type",hJ.type());if(!Y.ifItFitsItSits("os",Q))for(let H of Q.keys()){if(Q.delete(H),Q.size===0)break;if(Y.ifItFitsItSits("os",Q))break}const z=UE();if(z!=null){if(!Y.ifItFitsItSits("env",z))for(let H of z.keys()){if(z.delete(H),z.size===0)break;if(Y.ifItFitsItSits("env",z))break}}return Y.toObject()},UE=function(){const{AWS_EXECUTION_ENV:Z="",AWS_LAMBDA_RUNTIME_API:Y="",FUNCTIONS_WORKER_RUNTIME:J="",K_SERVICE:X="",FUNCTION_NAME:$="",VERCEL:W="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:G="",AWS_REGION:K="",FUNCTION_MEMORY_MB:Q="",FUNCTION_REGION:z="",FUNCTION_TIMEOUT_SEC:H="",VERCEL_REGION:F=""}=XW.env,q=Z.startsWith("AWS_Lambda_")||Y.length>0,V=J.length>0,U=X.length>0||$.length>0,L=W.length>0,R=new Map;if(L&&!(V||U)){if(F.length>0)R.set("region",F);return R.set("name","vercel"),R}if(q&&!(V||U||L)){if(K.length>0)R.set("region",K);if(G.length>0&&Number.isInteger(+G))R.set("memory_mb",new _Z.Int32(G));return R.set("name","aws.lambda"),R}if(V&&!(U||q||L))return R.set("name","azure.func"),R;if(U&&!(V||q||L)){if(z.length>0)R.set("region",z);if(Q.length>0&&Number.isInteger(+Q))R.set("memory_mb",new _Z.Int32(Q));if(H.length>0&&Number.isInteger(+H))R.set("timeout_sec",new _Z.Int32(H));return R.set("name","gcp.func"),R}return null},WZ1=function(){if("Deno"in globalThis)return`Deno v${typeof Deno?.version?.deno==="string"?Deno?.version?.deno:"0.0.0-unknown"}, ${hJ.endianness()}`;if("Bun"in globalThis)return`Bun v${typeof Bun?.version==="string"?Bun?.version:"0.0.0-unknown"}, ${hJ.endianness()}`;return`Node.js ${XW.version}, ${hJ.endianness()}`};Object.defineProperty(LE,"__esModule",{value:!0});LE.getFAASEnv=LE.makeClientMetadata=LE.LimitedSizeDocument=void 0;var hJ=import.meta.require("os"),XW=import.meta.require("process"),_Z=t1(),qE=r(),VE=FE().version;class gF{constructor(Z){this.maxSize=Z,this.document=new Map,this.documentSize=5}ifItFitsItSits(Z,Y){const J=_Z.BSON.serialize((new Map()).set(Z,Y)).byteLength-5;if(J+this.documentSize>this.maxSize)return!1;return this.documentSize+=J,this.document.set(Z,Y),!0}toObject(){return _Z.BSON.deserialize(_Z.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}}LE.LimitedSizeDocument=gF;LE.makeClientMetadata=$Z1;LE.getFAASEnv=UE});var WW=w((IE)=>{var NE=function(){if($9==null){const Z=AE.getSnappy();if("kModuleError"in Z)throw Z.kModuleError;$9=Z}return $9};async function qZ1(Z,Y){const J={};switch(Z.agreedCompressor){case"snappy":return $9??=NE(),$9.compress(Y);case"zstd":{if(DE(),"kModuleError"in t4)throw t4.kModuleError;return t4.compress(Y,zZ1)}case"zlib":{if(Z.zlibCompressionLevel)J.level=Z.zlibCompressionLevel;return FZ1(Y,J)}default:throw new BE.MongoInvalidArgumentError(`Unknown compressor ${Z.agreedCompressor} failed to compress`)}}async function VZ1(Z,Y){if(Z!==IE.Compressor.snappy&&Z!==IE.Compressor.zstd&&Z!==IE.Compressor.zlib&&Z!==IE.Compressor.none)throw new BE.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${Z})`);switch(Z){case IE.Compressor.snappy:return $9??=NE(),$9.uncompress(Y,{asBuffer:!0});case IE.Compressor.zstd:{if(DE(),"kModuleError"in t4)throw t4.kModuleError;return t4.decompress(Y)}case IE.Compressor.zlib:return HZ1(Y);default:return Y}}var DE=function(){if(!t4)t4=AE.getZstdLibrary()};Object.defineProperty(IE,"__esModule",{value:!0});IE.decompress=IE.compress=IE.uncompressibleCommands=IE.Compressor=void 0;var ME=import.meta.require("util"),$W=import.meta.require("zlib"),QZ1=b0(),AE=$7(),BE=r();IE.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3});IE.uncompressibleCommands=new Set([QZ1.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);var zZ1=3,HZ1=ME.promisify($W.inflate.bind($W)),FZ1=ME.promisify($W.deflate.bind($W)),t4,$9=null;IE.compress=qZ1;IE.decompress=VZ1});var vF=w((TE)=>{var uJ=function(Z,Y){return function(J,X,$,W){let G;try{const K=mJ[Z](Y,J,X);K.setAutoPadding(!1),G=K.update($);const Q=K.final();if(Q.length>0)G=Buffer.concat([G,Q])}catch(K){return K}return G.copy(W),G.length}},wZ1=function(Z,Y){try{mJ.randomFillSync(Z,0,Y)}catch(J){return J}return Y},RZ1=function(Z,Y){let J;try{J=mJ.createHash("sha256").update(Z).digest()}catch(X){return X}return J.copy(Y),J.length},bF=function(Z){return(Y,J,X)=>{let $;try{$=mJ.createHmac(Z,Y).update(J).digest()}catch(W){return W}return $.copy(X),$.length}},MZ1=function(Z,Y,J){let X;try{const $=mJ.createSign("sha256WithRSAEncryption"),W=Buffer.from(`-----BEGIN PRIVATE KEY-----\n${Z.toString("base64")}\n-----END PRIVATE KEY-----\n`);X=$.update(Y).end().sign(W)}catch($){return $}return X.copy(J),X.length};Object.defineProperty(TE,"__esModule",{value:!0});TE.hmacSha256Hook=TE.hmacSha512Hook=TE.aes256CtrDecryptHook=TE.aes256CtrEncryptHook=TE.aes256CbcDecryptHook=TE.aes256CbcEncryptHook=TE.signRsaSha256Hook=TE.makeHmacHook=TE.sha256Hook=TE.randomHook=TE.makeAES256Hook=void 0;var mJ=import.meta.require("crypto");TE.makeAES256Hook=uJ;TE.randomHook=wZ1;TE.sha256Hook=RZ1;TE.makeHmacHook=bF;TE.signRsaSha256Hook=MZ1;TE.aes256CbcEncryptHook=uJ("createCipheriv","aes-256-cbc");TE.aes256CbcDecryptHook=uJ("createDecipheriv","aes-256-cbc");TE.aes256CtrEncryptHook=uJ("createCipheriv","aes-256-ctr");TE.aes256CtrDecryptHook=uJ("createDecipheriv","aes-256-ctr");TE.hmacSha512Hook=bF("sha512");TE.hmacSha256Hook=bF("sha256")});var G9=w((_E)=>{Object.defineProperty(_E,"__esModule",{value:!0});_E.MongoCryptKMSRequestNetworkTimeoutError=_E.MongoCryptAzureKMSRequestError=_E.MongoCryptCreateEncryptedCollectionError=_E.MongoCryptCreateDataKeyError=_E.MongoCryptInvalidArgumentError=_E.MongoCryptError=void 0;var OZ1=r();class W9 extends OZ1.MongoError{constructor(Z,Y={}){super(Z,Y)}get name(){return"MongoCryptError"}}_E.MongoCryptError=W9;class EE extends W9{constructor(Z){super(Z)}get name(){return"MongoCryptInvalidArgumentError"}}_E.MongoCryptInvalidArgumentError=EE;class CE extends W9{constructor(Z,{cause:Y}){super(`Unable to complete creating data keys: ${Y.message}`,{cause:Y});this.encryptedFields=Z}get name(){return"MongoCryptCreateDataKeyError"}}_E.MongoCryptCreateDataKeyError=CE;class OE extends W9{constructor(Z,{cause:Y}){super(`Unable to create collection: ${Y.message}`,{cause:Y});this.encryptedFields=Z}get name(){return"MongoCryptCreateEncryptedCollectionError"}}_E.MongoCryptCreateEncryptedCollectionError=OE;class SE extends W9{constructor(Z,Y){super(Z);this.body=Y}get name(){return"MongoCryptAzureKMSRequestError"}}_E.MongoCryptAzureKMSRequestError=SE;class kE extends W9{get name(){return"MongoCryptKMSRequestNetworkTimeoutError"}}_E.MongoCryptKMSRequestNetworkTimeoutError=kE});var gE=w((fE)=>{Object.defineProperty(fE,"__esModule",{value:!0});fE.MongocryptdManager=void 0;var yZ1=r();class GW{constructor(Z={}){if(this.uri=typeof Z.mongocryptdURI==="string"&&Z.mongocryptdURI.length>0?Z.mongocryptdURI:GW.DEFAULT_MONGOCRYPTD_URI,this.bypassSpawn=!!Z.mongocryptdBypassSpawn,this.spawnPath=Z.mongocryptdSpawnPath||"",this.spawnArgs=[],Array.isArray(Z.mongocryptdSpawnArgs))this.spawnArgs=this.spawnArgs.concat(Z.mongocryptdSpawnArgs);if(this.spawnArgs.filter((Y)=>typeof Y==="string").every((Y)=>Y.indexOf("--idleShutdownTimeoutSecs")<0))this.spawnArgs.push("--idleShutdownTimeoutSecs","60")}async spawn(){const Z=this.spawnPath||"mongocryptd",{spawn:Y}=import.meta.require("child_process");this._child=Y(Z,this.spawnArgs,{stdio:"ignore",detached:!0}),this._child.on("error",()=>{}),this._child.unref()}async withRespawn(Z){try{return await Z()}catch(J){if(!(J instanceof yZ1.MongoNetworkTimeoutError&&!this.bypassSpawn))throw J}return await this.spawn(),await Z()}}GW.DEFAULT_MONGOCRYPTD_URI="mongodb://localhost:27020";fE.MongocryptdManager=GW});var hE=w((bE)=>{async function bZ1(Z){const Y=gZ1.getAwsCredentialProvider();if("kModuleError"in Y)return Z;const{fromNodeProviderChain:J}=Y,$=await J()();return{...Z,aws:$}}Object.defineProperty(bE,"__esModule",{value:!0});bE.loadAWSCredentials=void 0;var gZ1=$7();bE.loadAWSCredentials=bZ1});var dE=w((mE)=>{var mZ1=function(Z,Y={}){return new Promise((J,X)=>{let $;const W=vZ1.get(Z,Y,(G)=>{G.setEncoding("utf8");let K="";G.on("data",(Q)=>K+=Q),G.on("end",()=>{hF.clearTimeout($),J({status:G.statusCode,body:K})})}).on("error",(G)=>{hF.clearTimeout($),X(G)}).end();$=hF.setTimeout(()=>{W.destroy(new hZ1.MongoCryptKMSRequestNetworkTimeoutError("request timed out after 10 seconds"))},1e4)})};Object.defineProperty(mE,"__esModule",{value:!0});mE.get=void 0;var vZ1=import.meta.require("http"),hF=import.meta.require("timers"),hZ1=G9();mE.get=mZ1});var aE=w((pE)=>{async function cZ1(Z){const{status:Y,body:J}=Z,X=(()=>{try{return JSON.parse(J)}catch{throw new K9.MongoCryptAzureKMSRequestError("Malformed JSON body in GET request.")}})();if(Y!==200)throw new K9.MongoCryptAzureKMSRequestError("Unable to complete request.",X);if(!X.access_token)throw new K9.MongoCryptAzureKMSRequestError("Malformed response body - missing field `access_token`.");if(!X.expires_in)throw new K9.MongoCryptAzureKMSRequestError("Malformed response body - missing field `expires_in`.");const $=Number(X.expires_in)*1000;if(Number.isNaN($))throw new K9.MongoCryptAzureKMSRequestError("Malformed response body - unable to parse int from `expires_in` field.");return{accessToken:X.access_token,expiresOnTimestamp:Date.now()+$}}var cE=function(Z){const Y=new URL(Z.url?.toString()??"http://169.254.169.254/metadata/identity/oauth2/token");return Y.searchParams.append("api-version","2018-02-01"),Y.searchParams.append("resource","https://vault.azure.net"),{headers:{...Z.headers,"Content-Type":"application/json",Metadata:!0},url:Y}};async function lE(Z={}){const{headers:Y,url:J}=cE(Z),X=await uZ1.get(J,{headers:Y}).catch(($)=>{if($ instanceof K9.MongoCryptKMSRequestNetworkTimeoutError)throw new K9.MongoCryptAzureKMSRequestError(`[Azure KMS] ${$.message}`);throw $});return cZ1(X)}async function lZ1(Z){const Y=await pE.tokenCache.getToken();return{...Z,azure:Y}}Object.defineProperty(pE,"__esModule",{value:!0});pE.loadAzureCredentials=pE.fetchAzureKMSToken=pE.prepareRequest=pE.tokenCache=pE.AzureCredentialCache=void 0;var K9=G9(),uZ1=dE(),dZ1=6000;class mF{constructor(){this.cachedToken=null}async getToken(){if(this.cachedToken==null||this.needsRefresh(this.cachedToken))this.cachedToken=await this._getToken();return{accessToken:this.cachedToken.accessToken}}needsRefresh(Z){return Z.expiresOnTimestamp-Date.now()<=dZ1}resetCache(){this.cachedToken=null}_getToken(){return lE()}}pE.AzureCredentialCache=mF;pE.tokenCache=new mF;pE.prepareRequest=cE;pE.fetchAzureKMSToken=lE;pE.loadAzureCredentials=lZ1});var tE=w((sE)=>{async function sZ1(Z){const Y=aZ1.getGcpMetadata();if("kModuleError"in Y)return Z;const{access_token:J}=await Y.instance({property:"service-accounts/default/token"});return{...Z,gcp:{accessToken:J}}}Object.defineProperty(sE,"__esModule",{value:!0});sE.loadGCPCredentials=void 0;var aZ1=$7();sE.loadGCPCredentials=sZ1});var uF=w((oE)=>{var KW=function(Z,Y){const J=Y[Z];if(J==null)return!1;return typeof J==="object"&&Object.keys(J).length===0};async function eZ1(Z){let Y=Z;if(KW("aws",Z))Y=await rZ1.loadAWSCredentials(Y);if(KW("gcp",Z))Y=await oZ1.loadGCPCredentials(Y);if(KW("azure",Z))Y=await tZ1.loadAzureCredentials(Y);return Y}Object.defineProperty(oE,"__esModule",{value:!0});oE.refreshKMSCredentials=oE.isEmptyCredentials=void 0;var rZ1=hE(),tZ1=aE(),oZ1=tE();oE.isEmptyCredentials=KW;oE.refreshKMSCredentials=eZ1});var dF=w((HC)=>{var $Y1=function(){if(dJ==null){const Z=XY1.getSocks();if("kModuleError"in Z)throw Z.kModuleError;dJ=Z}return dJ},YC=function(Z){if(process.env.MONGODB_CRYPT_DEBUG)console.error(Z)};Object.defineProperty(HC,"__esModule",{value:!0});HC.StateMachine=void 0;var ZC=import.meta.require("fs/promises"),YY1=import.meta.require("net"),JY1=import.meta.require("tls"),K4=t1(),XY1=$7(),QW=X1(),o4=G9(),dJ=null,zW=0,JC=1,XC=2,$C=3,WC=7,GC=4,KC=5,QC=6,WY1=443,GY1=new Map([[zW,"MONGOCRYPT_CTX_ERROR"],[JC,"MONGOCRYPT_CTX_NEED_MONGO_COLLINFO"],[XC,"MONGOCRYPT_CTX_NEED_MONGO_MARKINGS"],[$C,"MONGOCRYPT_CTX_NEED_MONGO_KEYS"],[WC,"MONGOCRYPT_CTX_NEED_KMS_CREDENTIALS"],[GC,"MONGOCRYPT_CTX_NEED_KMS"],[KC,"MONGOCRYPT_CTX_READY"],[QC,"MONGOCRYPT_CTX_DONE"]]),KY1=["tlsInsecure","tlsAllowInvalidCertificates","tlsAllowInvalidHostnames","tlsDisableOCSPEndpointCheck","tlsDisableCertificateRevocationCheck"];class zC{constructor(Z,Y=K4.pluckBSONSerializeOptions(Z)){this.options=Z,this.bsonOptions=Y}async execute(Z,Y){const{_keyVaultNamespace:J,_keyVaultClient:X,_metaDataClient:$,_mongocryptdClient:W,_mongocryptdManager:G}=Z;let K=null;while(Y.state!==QC&&Y.state!==zW)switch(YC(`[context#${Y.id}] ${GY1.get(Y.state)||Y.state}`),Y.state){case JC:{const Q=K4.deserialize(Y.nextMongoOperation());if(!$)throw new o4.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_COLLINFO but metadata client is undefined");const z=await this.fetchCollectionInfo($,Y.ns,Q);if(z)Y.addMongoOperationResponse(z);Y.finishMongoOperation();break}case XC:{const Q=Y.nextMongoOperation();if(!W)throw new o4.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_MARKINGS but mongocryptdClient is undefined");const z=G?await G.withRespawn(this.markCommand.bind(this,W,Y.ns,Q)):await this.markCommand(W,Y.ns,Q);Y.addMongoOperationResponse(z),Y.finishMongoOperation();break}case $C:{const Q=Y.nextMongoOperation(),z=await this.fetchKeys(X,J,Q);if(z.length===0)K={v:[]};for await(let H of z)Y.addMongoOperationResponse(K4.serialize(H));Y.finishMongoOperation();break}case WC:{const Q=await Z.askForKMSCredentials();Y.provideKMSProviders(K4.serialize(Q));break}case GC:{const Q=Array.from(this.requests(Y));await Promise.all(Q),Y.finishKMSRequests();break}case KC:{const Q=Y.finalize();if(Y.state===zW){const z=Y.status.message||"Finalization error";throw new o4.MongoCryptError(z)}K=K4.deserialize(Q,this.options);break}default:throw new o4.MongoCryptError(`Unknown state: ${Y.state}`)}if(Y.state===zW||K==null){const Q=Y.status.message;if(!Q)YC("unidentifiable error in MongoCrypt - received an error status from \`libmongocrypt\` but received no error message.");throw new o4.MongoCryptError(Q??"unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message.")}return K}kmsRequest(Z){const Y=Z.endpoint.split(":"),J=Y[1]!=null?Number.parseInt(Y[1],10):WY1,X={host:Y[0],servername:Y[0],port:J},$=Z.message;return new Promise(async(W,G)=>{const K=new QW.BufferPool;let Q,z;function H(){for(let U of[Q,z])if(U)U.removeAllListeners(),U.destroy()}function F(){H(),G(new o4.MongoCryptError("KMS request timed out"))}function q(U){H();const L=new o4.MongoCryptError("KMS request failed",{cause:U});G(L)}if(this.options.proxyOptions&&this.options.proxyOptions.proxyHost){z=YY1.connect({host:this.options.proxyOptions.proxyHost,port:this.options.proxyOptions.proxyPort||1080}),z.on("timeout",F),z.on("error",q);try{await import.meta.require("events").once(z,"connect"),dJ??=$Y1(),X.socket=(await dJ.SocksClient.createConnection({existing_socket:z,command:"connect",destination:{host:X.host,port:X.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:this.options.proxyOptions.proxyUsername,password:this.options.proxyOptions.proxyPassword}})).socket}catch(U){return q(U)}}const V=this.options.tlsOptions;if(V){const U=Z.kmsProvider,L=V[U];if(L){const R=this.validateTlsOptions(U,L);if(R)G(R);try{await this.setTlsOptions(L,X)}catch(A){return q(A)}}}Q=JY1.connect(X,()=>{Q.write($)}),Q.once("timeout",F),Q.once("error",q),Q.on("data",(U)=>{K.append(U);while(Z.bytesNeeded>0&&K.length){const L=Math.min(Z.bytesNeeded,K.length);Z.addResponse(K.read(L))}if(Z.bytesNeeded<=0)H(),W()})})}*requests(Z){for(let Y=Z.nextKMSRequest();Y!=null;Y=Z.nextKMSRequest())yield this.kmsRequest(Y)}validateTlsOptions(Z,Y){const J=Object.keys(Y);for(let X of KY1)if(J.includes(X))return new o4.MongoCryptError(`Insecure TLS options prohibited for ${Z}: ${X}`)}async setTlsOptions(Z,Y){if(Z.tlsCertificateKeyFile){const J=await ZC.readFile(Z.tlsCertificateKeyFile);Y.cert=Y.key=J}if(Z.tlsCAFile)Y.ca=await ZC.readFile(Z.tlsCAFile);if(Z.tlsCertificateKeyFilePassword)Y.passphrase=Z.tlsCertificateKeyFilePassword}async fetchCollectionInfo(Z,Y,J){const{db:X}=QW.MongoDBCollectionNamespace.fromString(Y),$=await Z.db(X).listCollections(J,{promoteLongs:!1,promoteValues:!1}).toArray();return $.length>0?K4.serialize($[0]):null}async markCommand(Z,Y,J){const X={promoteLongs:!1,promoteValues:!1},{db:$}=QW.MongoDBCollectionNamespace.fromString(Y),W=K4.deserialize(J,X),G=await Z.db($).command(W,X);return K4.serialize(G,this.bsonOptions)}fetchKeys(Z,Y,J){const{db:X,collection:$}=QW.MongoDBCollectionNamespace.fromString(Y);return Z.db(X).collection($,{readConcern:{level:"majority"}}).find(K4.deserialize(J)).toArray()}}HC.StateMachine=zC});var lF=w((wC)=>{var LC=function(Z,Y,J=!0){if(J){if(Buffer.isBuffer(Y))Y=xZ.deserialize(Y);if(Buffer.isBuffer(Z))throw new HW.MongoRuntimeError("Expected result of decryption to be deserialized BSON object")}if(!Z||typeof Z!=="object")return;for(let X of Object.keys(Z)){const $=Y[X];if($&&$._bsontype==="Binary"&&$.sub_type===6){if(!Z[cF])Object.defineProperty(Z,cF,{value:[],configurable:!0,enumerable:!1,writable:!1});Z[cF].push(X);continue}LC(Z[X],$,!1)}},VC;Object.defineProperty(wC,"__esModule",{value:!0});wC.AutoEncrypter=wC.AutoEncryptionLoggerLevel=void 0;var xZ=t1(),QY1=$7(),HW=r(),zY1=Q9(),HY1=X1(),FY1=vF(),qY1=G9(),VY1=gE(),UY1=uF(),qC=dF();wC.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4});var UC=Symbol.for("@@mdb.decorateDecryptionResult"),cF=Symbol.for("@@mdb.decryptedKeys");class FW{static getMongoCrypt(){const Z=QY1.getMongoDBClientEncryption();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,Y){this[VC]=!1,this._client=Z,this._bypassEncryption=Y.bypassAutoEncryption===!0,this._keyVaultNamespace=Y.keyVaultNamespace||"admin.datakeys",this._keyVaultClient=Y.keyVaultClient||Z,this._metaDataClient=Y.metadataClient||Z,this._proxyOptions=Y.proxyOptions||{},this._tlsOptions=Y.tlsOptions||{},this._kmsProviders=Y.kmsProviders||{};const J={cryptoCallbacks:FY1};if(Y.schemaMap)J.schemaMap=Buffer.isBuffer(Y.schemaMap)?Y.schemaMap:xZ.serialize(Y.schemaMap);if(Y.encryptedFieldsMap)J.encryptedFieldsMap=Buffer.isBuffer(Y.encryptedFieldsMap)?Y.encryptedFieldsMap:xZ.serialize(Y.encryptedFieldsMap);if(J.kmsProviders=!Buffer.isBuffer(this._kmsProviders)?xZ.serialize(this._kmsProviders):this._kmsProviders,Y.options?.logger)J.logger=Y.options.logger;if(Y.extraOptions&&Y.extraOptions.cryptSharedLibPath)J.cryptSharedLibPath=Y.extraOptions.cryptSharedLibPath;if(Y.bypassQueryAnalysis)J.bypassQueryAnalysis=Y.bypassQueryAnalysis;if(this._bypassMongocryptdAndCryptShared=this._bypassEncryption||!!Y.bypassQueryAnalysis,Y.extraOptions&&Y.extraOptions.cryptSharedLibSearchPaths)J.cryptSharedLibSearchPaths=Y.extraOptions.cryptSharedLibSearchPaths;else if(!this._bypassMongocryptdAndCryptShared)J.cryptSharedLibSearchPaths=["$SYSTEM"];const X=FW.getMongoCrypt();if(this._mongocrypt=new X(J),this._contextCounter=0,Y.extraOptions&&Y.extraOptions.cryptSharedLibRequired&&!this.cryptSharedLibVersionInfo)throw new qY1.MongoCryptInvalidArgumentError("`cryptSharedLibRequired` set but no crypt_shared library loaded");if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){this._mongocryptdManager=new VY1.MongocryptdManager(Y.extraOptions);const $={serverSelectionTimeoutMS:1e4};if(Y.extraOptions==null||typeof Y.extraOptions.mongocryptdURI!=="string")$.family=4;this._mongocryptdClient=new zY1.MongoClient(this._mongocryptdManager.uri,$)}}async init(){if(this._bypassMongocryptdAndCryptShared||this.cryptSharedLibVersionInfo)return;if(!this._mongocryptdManager)throw new HW.MongoRuntimeError("Reached impossible state: mongocryptdManager is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdClient)throw new HW.MongoRuntimeError("Reached impossible state: mongocryptdClient is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdManager.bypassSpawn)await this._mongocryptdManager.spawn();try{return await this._mongocryptdClient.connect()}catch(Z){const{message:Y}=Z;if(Y&&(Y.match(/timed out after/)||Y.match(/ENOTFOUND/)))throw new HW.MongoRuntimeError("Unable to connect to `mongocryptd`, please make sure it is running or in your PATH for auto-spawn",{cause:Z});throw Z}}async teardown(Z){await this._mongocryptdClient?.close(Z)}async encrypt(Z,Y,J={}){if(this._bypassEncryption)return Y;const X=Buffer.isBuffer(Y)?Y:xZ.serialize(Y,J),$=this._mongocrypt.makeEncryptionContext(HY1.MongoDBCollectionNamespace.fromString(Z).db,X);return $.id=this._contextCounter++,$.ns=Z,$.document=Y,new qC.StateMachine({promoteValues:!1,promoteLongs:!1,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,$)}async decrypt(Z,Y={}){const J=Buffer.isBuffer(Z)?Z:xZ.serialize(Z,Y),X=this._mongocrypt.makeDecryptionContext(J);X.id=this._contextCounter++;const $=new qC.StateMachine({...Y,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),W=this[UC],G=await $.execute(this,X);if(W)LC(G,Z);return G}async askForKMSCredentials(){return UY1.refreshKMSCredentials(this._kmsProviders)}get cryptSharedLibVersionInfo(){return this._mongocrypt.cryptSharedLibVersionInfo}static get libmongocryptVersion(){return FW.getMongoCrypt().libmongocryptVersion}}wC.AutoEncrypter=FW;VC=UC});var DC=w((BC)=>{Object.defineProperty(BC,"__esModule",{value:!0});BC.Encrypter=void 0;var wY1=import.meta.require("util"),RY1=lF(),MY1=b0(),AY1=$7(),MC=r(),BY1=Q9(),cJ=Symbol("internalClient");class AC{constructor(Z,Y,J){if(typeof J.autoEncryption!=="object")throw new MC.MongoInvalidArgumentError('Option "autoEncryption" must be specified');if(this[cJ]=null,this.bypassAutoEncryption=!!J.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,J.maxPoolSize===0&&J.autoEncryption.keyVaultClient==null)J.autoEncryption.keyVaultClient=Z;else if(J.autoEncryption.keyVaultClient==null)J.autoEncryption.keyVaultClient=this.getInternalClient(Z,Y,J);if(this.bypassAutoEncryption)J.autoEncryption.metadataClient=void 0;else if(J.maxPoolSize===0)J.autoEncryption.metadataClient=Z;else J.autoEncryption.metadataClient=this.getInternalClient(Z,Y,J);if(J.proxyHost)J.autoEncryption.proxyOptions={proxyHost:J.proxyHost,proxyPort:J.proxyPort,proxyUsername:J.proxyUsername,proxyPassword:J.proxyPassword};this.autoEncrypter=new RY1.AutoEncrypter(Z,J.autoEncryption)}getInternalClient(Z,Y,J){let X=this[cJ];if(X==null){const $={};for(let W of[...Object.getOwnPropertyNames(J),...Object.getOwnPropertySymbols(J)]){if(["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(W))continue;Reflect.set($,W,Reflect.get(J,W))}$.minPoolSize=0,X=new BY1.MongoClient(Y,$),this[cJ]=X;for(let W of MY1.MONGO_CLIENT_EVENTS)for(let G of Z.listeners(W))X.on(W,G);Z.on("newListener",(W,G)=>{X?.on(W,G)}),this.needsConnecting=!0}return X}async connectInternalClient(){const Z=this[cJ];if(this.needsConnecting&&Z!=null)this.needsConnecting=!1,await Z.connect()}closeCallback(Z,Y,J){wY1.callbackify(this.close.bind(this))(Z,Y,J)}async close(Z,Y){const J=await this.autoEncrypter.teardown(!!Y).catch(($)=>$),X=this[cJ];if(X!=null&&Z!==X)return X.close(Y);if(J)throw J}static checkForMongoCrypt(){if("kModuleError"in AY1.getMongoDBClientEncryption())throw new MC.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project")}}BC.Encrypter=AC});var sF=w((TC)=>{var lJ=function(Z){const Y=Object.values(TC.SeverityLevel),J=Z?.toLowerCase();if(J!=null&&Y.includes(J))return J;return null},fZ=function(Z){return{write:(Y)=>{Z.write(DY1.inspect(Y,{compact:!0,breakLength:Infinity}),"utf-8");return}}},IY1=function({MONGODB_LOG_PATH:Z},{mongodbLogPath:Y}){if(typeof Y==="string"&&/^stderr$/i.test(Y))return fZ(process.stderr);if(typeof Y==="string"&&/^stdout$/i.test(Y))return fZ(process.stdout);if(typeof Y==="object"&&typeof Y?.write==="function")return Y;if(Z&&/^stderr$/i.test(Z))return fZ(process.stderr);if(Z&&/^stdout$/i.test(Z))return fZ(process.stdout);return fZ(process.stderr)},PY1=function(Z,Y){const J=TC.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(Z),X=TC.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(Y);return J<X?-1:J>X?1:0},iF=function(Z,Y){const J=NY1.EJSON.stringify(Z);return Y!==0&&J.length>Y?`${J.slice(0,Y)}...`:J},TY1=function(Z){const Y=Z;return Y.toLog!==void 0&&typeof Y.toLog==="function"},pF=function(Z,Y){Z.commandName=Y.commandName,Z.requestId=Y.requestId,Z.driverConnectionId=Y?.connectionId;const{host:J,port:X}=aF.HostAddress.fromString(Y.address).toHostPort();if(Z.serverHost=J,Z.serverPort=X,Y?.serviceId)Z.serviceId=Y.serviceId.toHexString();return Z},G7=function(Z,Y){const{host:J,port:X}=aF.HostAddress.fromString(Y.address).toHostPort();return Z.serverHost=J,Z.serverPort=X,Z},jY1=function(Z,Y=TC.DEFAULT_MAX_DOCUMENT_LENGTH){let J=Object.create(null);switch(Z.name){case h8.COMMAND_STARTED:return J=pF(J,Z),J.message="Command started",J.command=iF(Z.command,Y),J.databaseName=Z.databaseName,J;case h8.COMMAND_SUCCEEDED:return J=pF(J,Z),J.message="Command succeeded",J.durationMS=Z.duration,J.reply=iF(Z.reply,Y),J;case h8.COMMAND_FAILED:return J=pF(J,Z),J.message="Command failed",J.durationMS=Z.duration,J.failure=Z.failure,J;case h8.CONNECTION_POOL_CREATED:if(J=G7(J,Z),J.message="Connection pool created",Z.options){const{maxIdleTimeMS:X,minPoolSize:$,maxPoolSize:W,maxConnecting:G,waitQueueTimeoutMS:K}=Z.options;J={...J,maxIdleTimeMS:X,minPoolSize:$,maxPoolSize:W,maxConnecting:G,waitQueueTimeoutMS:K}}return J;case h8.CONNECTION_POOL_READY:return J=G7(J,Z),J.message="Connection pool ready",J;case h8.CONNECTION_POOL_CLEARED:if(J=G7(J,Z),J.message="Connection pool cleared",Z.serviceId?._bsontype==="ObjectId")J.serviceId=Z.serviceId.toHexString();return J;case h8.CONNECTION_POOL_CLOSED:return J=G7(J,Z),J.message="Connection pool closed",J;case h8.CONNECTION_CREATED:return J=G7(J,Z),J.message="Connection created",J.driverConnectionId=Z.connectionId,J;case h8.CONNECTION_READY:return J=G7(J,Z),J.message="Connection ready",J.driverConnectionId=Z.connectionId,J;case h8.CONNECTION_CLOSED:switch(J=G7(J,Z),J.message="Connection closed",J.driverConnectionId=Z.connectionId,Z.reason){case"stale":J.reason="Connection became stale because the pool was cleared";break;case"idle":J.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":if(J.reason="An error occurred while using the connection",Z.error)J.error=Z.error;break;case"poolClosed":J.reason="Connection pool was closed";break;default:J.reason=`Unknown close reason: ${Z.reason}`}return J;case h8.CONNECTION_CHECK_OUT_STARTED:return J=G7(J,Z),J.message="Connection checkout started",J;case h8.CONNECTION_CHECK_OUT_FAILED:switch(J=G7(J,Z),J.message="Connection checkout failed",Z.reason){case"poolClosed":J.reason="Connection pool was closed";break;case"timeout":J.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":if(J.reason="An error occurred while trying to establish a new connection",Z.error)J.error=Z.error;break;default:J.reason=`Unknown close reason: ${Z.reason}`}return J;case h8.CONNECTION_CHECKED_OUT:return J=G7(J,Z),J.message="Connection checked out",J.driverConnectionId=Z.connectionId,J;case h8.CONNECTION_CHECKED_IN:return J=G7(J,Z),J.message="Connection checked in",J.driverConnectionId=Z.connectionId,J;default:for(let[X,$]of Object.entries(Z))if($!=null)J[X]=$}return J};Object.defineProperty(TC,"__esModule",{value:!0});TC.MongoLogger=TC.stringifyWithMaxLen=TC.createStdioLogger=TC.MongoLoggableComponent=TC.SEVERITY_LEVEL_MAP=TC.DEFAULT_MAX_DOCUMENT_LENGTH=TC.SeverityLevel=void 0;var NY1=I6(),DY1=import.meta.require("util"),h8=b0(),aF=X1();TC.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"});TC.DEFAULT_MAX_DOCUMENT_LENGTH=1000;class IC extends Map{constructor(Z){const Y=[];for(let[J,X]of Z)Y.push([X,J]);Y.push(...Z);super(Y)}getNumericSeverityLevel(Z){return this.get(Z)}getSeverityLevelName(Z){return this.get(Z)}}TC.SEVERITY_LEVEL_MAP=new IC([[TC.SeverityLevel.OFF,(-Infinity)],[TC.SeverityLevel.EMERGENCY,0],[TC.SeverityLevel.ALERT,1],[TC.SeverityLevel.CRITICAL,2],[TC.SeverityLevel.ERROR,3],[TC.SeverityLevel.WARNING,4],[TC.SeverityLevel.NOTICE,5],[TC.SeverityLevel.INFORMATIONAL,6],[TC.SeverityLevel.DEBUG,7],[TC.SeverityLevel.TRACE,8]]);TC.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection"});TC.createStdioLogger=fZ;TC.stringifyWithMaxLen=iF;class PC{constructor(Z){this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=Z.componentSeverities,this.maxDocumentLength=Z.maxDocumentLength,this.logDestination=Z.logDestination}log(Z,Y,J){if(PY1(Z,this.componentSeverities[Y])>0)return;let X={t:new Date,c:Y,s:Z};if(typeof J==="string")X.message=J;else if(typeof J==="object")if(TY1(J))X={...X,...J.toLog()};else X={...X,...jY1(J,this.maxDocumentLength)};this.logDestination.write(X)}static resolveOptions(Z,Y){const J={...Z,...Y,mongodbLogPath:IY1(Z,Y)},X=lJ(J.MONGODB_LOG_ALL)??TC.SeverityLevel.OFF;return{componentSeverities:{command:lJ(J.MONGODB_LOG_COMMAND)??X,topology:lJ(J.MONGODB_LOG_TOPOLOGY)??X,serverSelection:lJ(J.MONGODB_LOG_SERVER_SELECTION)??X,connection:lJ(J.MONGODB_LOG_CONNECTION)??X,default:X},maxDocumentLength:aF.parseUnsignedInteger(J.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1000,logDestination:J.mongodbLogPath}}}TC.MongoLogger=PC});var Jq=w((xC)=>{async function bY1(Z){if(typeof Z.srvHost!=="string")throw new Y1.MongoAPIError('Option "srvHost" must not be empty');if(Z.srvHost.split(".").length<3)throw new Y1.MongoAPIError("URI must include hostname, domain name, and tld");const Y=Z.srvHost,J=await CC.promises.resolveSrv(`_${Z.srvServiceName}._tcp.${Y}`);if(J.length===0)throw new Y1.MongoAPIError("No addresses found at host");for(let{name:H}of J)if(!N8.matchesParentDomain(H,Y))throw new Y1.MongoAPIError("Server record does not share hostname with parent URI");const X=J.map((H)=>N8.HostAddress.fromString(`${H.name}:${H.port??27017}`));oF(X,Z,!0);let $;try{$=await CC.promises.resolveTxt(Y)}catch(H){if(H.code!=="ENODATA"&&H.code!=="ENOTFOUND")throw H;return X}if($.length>1)throw new Y1.MongoParseError("Multiple text records not allowed");const W=new kY1.URLSearchParams($[0].join(""));if([...W.keys()].some((H)=>!tF.includes(H)))throw new Y1.MongoParseError(`Text record may only set any of: ${tF.join(", ")}`);if(tF.some((H)=>W.get(H)===""))throw new Y1.MongoParseError("Cannot have empty URI params in DNS TXT Record");const K=W.get("authSource")??void 0,Q=W.get("replicaSet")??void 0,z=W.get("loadBalanced")??void 0;if(!Z.userSpecifiedAuthSource&&K&&Z.credentials&&!S7.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(Z.credentials.mechanism))Z.credentials=yZ.MongoCredentials.merge(Z.credentials,{source:K});if(!Z.userSpecifiedReplicaSet&&Q)Z.replicaSet=Q;if(z==="true")Z.loadBalanced=!0;if(Z.replicaSet&&Z.srvMaxHosts>0)throw new Y1.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return oF(X,Z,!0),X}var vY1=function(Z){if(!Z)return;const Y=(J,X)=>{if(Z.has(J)&&Z.has(X))throw new Y1.MongoAPIError(`The '${J}' option cannot be used with the '${X}' option`)};Y("tlsInsecure","tlsAllowInvalidCertificates"),Y("tlsInsecure","tlsAllowInvalidHostnames"),Y("tlsInsecure","tlsDisableCertificateRevocationCheck"),Y("tlsInsecure","tlsDisableOCSPEndpointCheck"),Y("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),Y("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),Y("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")},z4=function(Z,Y){if(typeof Y==="boolean")return Y;switch(Y){case"true":return!0;case"false":return!1;default:throw new Y1.MongoParseError(`${Z} must be either "true" or "false"`)}},Zq=function(Z,Y){const J=N8.parseInteger(Y);if(J!=null)return J;throw new Y1.MongoParseError(`Expected ${Z} to be stringified int value, got: ${Y}`)},pJ=function(Z,Y){const J=Zq(Z,Y);if(J<0)throw new Y1.MongoParseError(`${Z} can only be a positive int value, got: ${Y}`);return J};function*kC(Z){if(Z==="")return;const Y=Z.split(",");for(let J of Y){const[X,$]=J.split(/:(.*)/);if($==null)throw new Y1.MongoParseError("Cannot have undefined values in key value pairs");yield[X,$]}}var hY1=function(Z,Y=void 0,J={}){if(Y!=null&&!(Y instanceof qW.MongoClient))J=Y,Y=void 0;if(J.useBigInt64&&typeof J.promoteLongs==="boolean"&&!J.promoteLongs)throw new Y1.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(J.useBigInt64&&typeof J.promoteValues==="boolean"&&!J.promoteValues)throw new Y1.MongoAPIError("Must request either bigint or Long for int64 deserialization");const X=new SY1.default(Z),{hosts:$,isSRV:W}=X,G=Object.create(null);for(let A of Object.getOwnPropertySymbols(J))if(xC.FEATURE_FLAGS.has(A))G[A]=J[A];G.hosts=W?[]:$.map(N8.HostAddress.fromString);const K=new iJ;if(X.pathname!=="/"&&X.pathname!==""){const A=decodeURIComponent(X.pathname[0]==="/"?X.pathname.slice(1):X.pathname);if(A)K.set("dbName",[A])}if(X.username!==""){const A={username:decodeURIComponent(X.username)};if(typeof X.password==="string")A.password=decodeURIComponent(X.password);K.set("auth",[A])}for(let A of X.searchParams.keys()){const B=X.searchParams.getAll(A),M=/readPreferenceTags/i.test(A);if(!M&&B.length>1)throw new Y1.MongoInvalidArgumentError(`URI option "${A}" cannot appear more than once in the connection string`);if(!M&&B.includes(""))throw new Y1.MongoAPIError(`URI option "${A}" cannot be specified with no value`);if(!K.has(A))K.set(A,B)}const Q=new iJ(Object.entries(J).filter(([,A])=>A!=null));if(K.has("serverApi"))throw new Y1.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");const z=K.get("authMechanismProperties");if(z){for(let A of z)if(/(^|,)ALLOWED_HOSTS:/.test(A))throw new Y1.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.")}if(Q.has("loadBalanced"))throw new Y1.MongoParseError("loadBalanced is only a valid option in the URI");const H=new iJ,F=new Set([...K.keys(),...Q.keys()]);for(let A of F){const B=[],M=Q.get(A);if(M!=null)B.push(M);const D=K.get(A)??[];B.push(...D),H.set(A,B)}if(H.has("tls")||H.has("ssl")){const A=(H.get("tls")||[]).concat(H.get("ssl")||[]).map(z4.bind(null,"tls/ssl"));if(new Set(A).size!==1)throw new Y1.MongoParseError("All values of tls/ssl must be the same.")}vY1(H);const q=N8.setDifference(F,Array.from(Object.keys(xC.OPTIONS)).map((A)=>A.toLowerCase()));if(q.size!==0){const A=q.size>1?"options":"option",B=q.size>1?"are":"is";throw new Y1.MongoParseError(`${A} ${Array.from(q).join(", ")} ${B} not supported`)}for(let[A,B]of Object.entries(xC.OPTIONS)){const M=H.get(A);if(!M||M.length===0){if(xC.DEFAULT_OPTIONS.has(A))_C(G,A,B,[xC.DEFAULT_OPTIONS.get(A)])}else{const{deprecated:D}=B;if(D){const d=typeof D==="string"?`: ${D}`:"";N8.emitWarning(`${A} is a deprecated option${d}`)}_C(G,A,B,M)}}if(G.credentials){const A=G.credentials.mechanism===S7.AuthMechanism.MONGODB_GSSAPI,B=G.credentials.mechanism===S7.AuthMechanism.MONGODB_X509,M=G.credentials.mechanism===S7.AuthMechanism.MONGODB_AWS,D=G.credentials.mechanism===S7.AuthMechanism.MONGODB_OIDC;if((A||B)&&H.has("authSource")&&G.credentials.source!=="$external")throw new Y1.MongoParseError(`authMechanism ${G.credentials.mechanism} requires an authSource of '\$external'`);if(!(A||B||M||D)&&G.dbName&&!H.has("authSource"))G.credentials=yZ.MongoCredentials.merge(G.credentials,{source:G.dbName});if(M&&G.credentials.username&&!G.credentials.password)throw new Y1.MongoMissingCredentialsError(`When using ${G.credentials.mechanism} password must be set when a username is specified`);if(G.credentials.validate(),G.credentials.password===""&&G.credentials.username===""&&G.credentials.mechanism===S7.AuthMechanism.MONGODB_DEFAULT&&Object.keys(G.credentials.mechanismProperties).length===0)delete G.credentials}if(!G.dbName)G.dbName="test";if(oF($,G,W),Y&&G.autoEncryption)SC.Encrypter.checkForMongoCrypt(),G.encrypter=new SC.Encrypter(Y,Z,J),G.autoEncrypter=G.encrypter.autoEncrypter;if(G.userSpecifiedAuthSource=Q.has("authSource")||K.has("authSource"),G.userSpecifiedReplicaSet=Q.has("replicaSet")||K.has("replicaSet"),W){if(G.srvHost=$[0],G.directConnection)throw new Y1.MongoAPIError("SRV URI does not support directConnection");if(G.srvMaxHosts>0&&typeof G.replicaSet==="string")throw new Y1.MongoParseError("Cannot use srvMaxHosts option with replicaSet");const A=!Q.has("tls")&&!K.has("tls"),B=!Q.has("ssl")&&!K.has("ssl");if(A&&B)G.tls=!0}else if(K.has("srvMaxHosts")||Q.has("srvMaxHosts")||K.has("srvServiceName")||Q.has("srvServiceName"))throw new Y1.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(G.directConnection&&G.hosts.length!==1)throw new Y1.MongoParseError("directConnection option requires exactly one host");if(!G.proxyHost&&(G.proxyPort||G.proxyUsername||G.proxyPassword))throw new Y1.MongoParseError("Must specify proxyHost if other proxy options are passed");if(G.proxyUsername&&!G.proxyPassword||!G.proxyUsername&&G.proxyPassword)throw new Y1.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map((A)=>K.get(A)??[]).some((A)=>A.length>1))throw new Y1.MongoParseError("Proxy options cannot be specified multiple times in the connection string");const U=Symbol.for("@@mdb.enableMongoLogger");G[U]=G[U]??!1;let L={},R={};if(G[U])L={MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH,...G[Symbol.for("@@mdb.internalLoggerConfig")]},R={mongodbLogPath:G.mongodbLogPath};return G.mongoLoggerOptions=xY1.MongoLogger.resolveOptions(L,R),G.metadata=_Y1.makeClientMetadata(G),G},oF=function(Z,Y,J){if(Y.loadBalanced){if(Z.length>1)throw new Y1.MongoParseError(fY1);if(Y.replicaSet)throw new Y1.MongoParseError(yY1);if(Y.directConnection)throw new Y1.MongoParseError(gY1);if(J&&Y.srvMaxHosts>0)throw new Y1.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}return},_C=function(Z,Y,J,X){const{target:$,type:W,transform:G}=J,K=$??Y;switch(W){case"boolean":Z[K]=z4(K,X[0]);break;case"int":Z[K]=Zq(K,X[0]);break;case"uint":Z[K]=pJ(K,X[0]);break;case"string":if(X[0]==null)break;Z[K]=String(X[0]);break;case"record":if(!N8.isRecord(X[0]))throw new Y1.MongoParseError(`${K} must be an object`);Z[K]=X[0];break;case"any":Z[K]=X[0];break;default:{if(!G)throw new Y1.MongoParseError("Descriptors missing a type must define a transform");const Q=G({name:K,options:Z,values:X});Z[K]=Q;break}}};Object.defineProperty(xC,"__esModule",{value:!0});xC.FEATURE_FLAGS=xC.DEFAULT_OPTIONS=xC.OPTIONS=xC.parseOptions=xC.resolveSRVRecord=void 0;var CC=import.meta.require("dns"),SY1=xF(),kY1=import.meta.require("url"),yZ=l$(),S7=C7(),_Y1=RE(),OC=WW(),SC=DC(),Y1=r(),qW=Q9(),xY1=sF(),rF=T6(),e4=S0(),N8=X1(),Q4=y8(),tF=["authSource","replicaSet","loadBalanced"],fY1="loadBalanced option only supported with a single host in the URI",yY1="loadBalanced option not supported with a replicaSet option",gY1="loadBalanced option not supported when directConnection is provided";xC.resolveSRVRecord=bY1;class iJ extends Map{constructor(Z=[]){super(Z.map(([Y,J])=>[Y.toLowerCase(),J]))}has(Z){return super.has(Z.toLowerCase())}get(Z){return super.get(Z.toLowerCase())}set(Z,Y){return super.set(Z.toLowerCase(),Y)}delete(Z){return super.delete(Z.toLowerCase())}}xC.parseOptions=hY1;xC.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:Z,options:Y,values:[J]}){if(!N8.isRecord(J,["username","password"]))throw new Y1.MongoParseError(`${Z} must be an object with 'username' and 'password' properties`);return yZ.MongoCredentials.merge(Y.credentials,{username:J.username,password:J.password})}},authMechanism:{target:"credentials",transform({options:Z,values:[Y]}){const J=Object.values(S7.AuthMechanism),[X]=J.filter((G)=>G.match(RegExp(String.raw`\b${Y}\b`,"i")));if(!X)throw new Y1.MongoParseError(`authMechanism one of ${J}, got ${Y}`);let $=Z.credentials?.source;if(X===S7.AuthMechanism.MONGODB_PLAIN||S7.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(X))$="$external";let W=Z.credentials?.password;if(X===S7.AuthMechanism.MONGODB_X509&&W==="")W=void 0;return yZ.MongoCredentials.merge(Z.credentials,{mechanism:X,source:$,password:W})}},authMechanismProperties:{target:"credentials",transform({options:Z,values:Y}){let J=Object.create(null);for(let X of Y)if(typeof X==="string")for(let[$,W]of kC(X))try{J[$]=z4($,W)}catch{J[$]=W}else{if(!N8.isRecord(X))throw new Y1.MongoParseError("AuthMechanismProperties must be an object");J={...X}}return yZ.MongoCredentials.merge(Z.credentials,{mechanismProperties:J})}},authSource:{target:"credentials",transform({options:Z,values:[Y]}){const J=String(Y);return yZ.MongoCredentials.merge(Z.credentials,{source:J})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[Z]}){const Y=typeof Z==="string"?{version:Z}:Z,J=Y&&Y.version;if(!J)throw new Y1.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(qW.ServerApiVersion).join('", "')}"]`);if(!Object.values(qW.ServerApiVersion).some((X)=>X===J))throw new Y1.MongoParseError(`Invalid server API version=${J}; must be in the following enum: ["${Object.values(qW.ServerApiVersion).join('", "')}"]`);return Y}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:Z}){const Y=new Set;for(let J of Z){const X=typeof J==="string"?J.split(","):J;if(!Array.isArray(X))throw new Y1.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(let $ of X)if(Object.keys(OC.Compressor).includes(String($)))Y.add(String($));else throw new Y1.MongoInvalidArgumentError(`${$} is not a valid compression mechanism. Must be one of: ${Object.keys(OC.Compressor)}.`)}return[...Y]}},connectTimeoutMS:{default:30000,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:Z,values:[Y]}){const J=Zq(Z,Y);if(J===4||J===6)return J;throw new Y1.MongoParseError(`Option 'family' must be 4 or 6 got ${J}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,fsync:z4(Z,J)}});if(!X)throw new Y1.MongoParseError(`Unable to make a writeConcern from fsync=${J}`);return X}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,journal:z4(Z,J)}});if(!X)throw new Y1.MongoParseError(`Unable to make a writeConcern from journal=${J}`);return X}},journal:{target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,journal:z4(Z,J)}});if(!X)throw new Y1.MongoParseError(`Unable to make a writeConcern from journal=${J}`);return X}},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:Z,values:[Y]}){const J=pJ(Z,Y);if(J===0)throw new Y1.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return J}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:Z,options:Y,values:[J]}){const X=pJ(Z,J);if(Y.readPreference)return e4.ReadPreference.fromOptions({readPreference:{...Y.readPreference,maxStalenessSeconds:X}});else return new e4.ReadPreference("secondary",void 0,{maxStalenessSeconds:X})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[Z],options:Y}){return{...Y.driverInfo,name:String(Z)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:N8.DEFAULT_PK_FACTORY,transform({values:[Z]}){if(N8.isRecord(Z,["createPk"])&&typeof Z.createPk==="function")return Z;throw new Y1.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${Z}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[Z],options:Y}){if(Z instanceof rF.ReadConcern||N8.isRecord(Z,["level"]))return rF.ReadConcern.fromOptions({...Y.readConcern,...Z});throw new Y1.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(Z)}`)}},readConcernLevel:{target:"readConcern",transform({values:[Z],options:Y}){return rF.ReadConcern.fromOptions({...Y.readConcern,level:Z})}},readPreference:{default:e4.ReadPreference.primary,transform({values:[Z],options:Y}){if(Z instanceof e4.ReadPreference)return e4.ReadPreference.fromOptions({readPreference:{...Y.readPreference,...Z},...Z});if(N8.isRecord(Z,["mode"])){const J=e4.ReadPreference.fromOptions({readPreference:{...Y.readPreference,...Z},...Z});if(J)return J;else throw new Y1.MongoParseError(`Cannot make read preference from ${JSON.stringify(Z)}`)}if(typeof Z==="string"){const J={hedge:Y.readPreference?.hedge,maxStalenessSeconds:Y.readPreference?.maxStalenessSeconds};return new e4.ReadPreference(Z,Y.readPreference?.tags,J)}throw new Y1.MongoParseError(`Unknown ReadPreference value: ${Z}`)}},readPreferenceTags:{target:"readPreference",transform({values:Z,options:Y}){const J=Array.isArray(Z[0])?Z[0]:Z,X=[];for(let $ of J){const W=Object.create(null);if(typeof $==="string")for(let[G,K]of kC($))W[G]=K;if(N8.isRecord($))for(let[G,K]of Object.entries($))W[G]=K;X.push(W)}return e4.ReadPreference.fromOptions({readPreference:Y.readPreference,readPreferenceTags:X})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverSelectionTimeoutMS:{default:30000,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:Z,values:[Y]}){return!z4(Z,Y)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:Z,values:[Y]}){return z4(Z,Y)?()=>{return}:void 0}},tlsCAFile:{type:"string"},tlsCRLFile:{type:"string"},tlsCertificateKeyFile:{type:"string"},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:Z,options:Y,values:[J]}){const X=z4(Z,J);if(X)Y.checkServerIdentity=()=>{return},Y.rejectUnauthorized=!1;else Y.checkServerIdentity=Y.tlsAllowInvalidHostnames?()=>{return}:void 0,Y.rejectUnauthorized=Y.tlsAllowInvalidCertificates?!1:!0;return X}},w:{target:"writeConcern",transform({values:[Z],options:Y}){return Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,w:Z}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[Z],options:Y}){if(N8.isRecord(Z)||Z instanceof Q4.WriteConcern)return Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,...Z}});else if(Z==="majority"||typeof Z==="number")return Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,w:Z}});throw new Y1.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(Z)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[Z],options:Y}){const J=Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,wtimeout:pJ("wtimeout",Z)}});if(J)return J;throw new Y1.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[Z],options:Y}){const J=Q4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,wtimeoutMS:pJ("wtimeoutMS",Z)}});if(J)return J;throw new Y1.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean",deprecated:"useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},useUnifiedTopology:{type:"boolean",deprecated:"useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},mongodbLogPath:{type:"any"}};xC.DEFAULT_OPTIONS=new iJ(Object.entries(xC.OPTIONS).filter(([,Z])=>Z.default!=null).map(([Z,Y])=>[Z,Y.default]));xC.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger"),Symbol.for("@@mdb.internalLoggerConfig")])});var UW=w((cC)=>{Object.defineProperty(cC,"__esModule",{value:!0});cC.ServerHeartbeatFailedEvent=cC.ServerHeartbeatSucceededEvent=cC.ServerHeartbeatStartedEvent=cC.TopologyClosedEvent=cC.TopologyOpeningEvent=cC.TopologyDescriptionChangedEvent=cC.ServerClosedEvent=cC.ServerOpeningEvent=cC.ServerDescriptionChangedEvent=void 0;class fC{constructor(Z,Y,J,X){this.topologyId=Z,this.address=Y,this.previousDescription=J,this.newDescription=X}}cC.ServerDescriptionChangedEvent=fC;class yC{constructor(Z,Y){this.topologyId=Z,this.address=Y}}cC.ServerOpeningEvent=yC;class gC{constructor(Z,Y){this.topologyId=Z,this.address=Y}}cC.ServerClosedEvent=gC;class bC{constructor(Z,Y,J){this.topologyId=Z,this.previousDescription=Y,this.newDescription=J}}cC.TopologyDescriptionChangedEvent=bC;class vC{constructor(Z){this.topologyId=Z}}cC.TopologyOpeningEvent=vC;class hC{constructor(Z){this.topologyId=Z}}cC.TopologyClosedEvent=hC;class mC{constructor(Z,Y){this.connectionId=Z,this.awaited=Y}}cC.ServerHeartbeatStartedEvent=mC;class uC{constructor(Z,Y,J,X){this.connectionId=Z,this.duration=Y,this.reply=J??{},this.awaited=X}}cC.ServerHeartbeatSucceededEvent=uC;class dC{constructor(Z,Y,J,X){this.connectionId=Z,this.duration=Y,this.failure=J,this.awaited=X}}cC.ServerHeartbeatFailedEvent=dC});var LW=w((rC)=>{Object.defineProperty(rC,"__esModule",{value:!0});rC.BinMsg=rC.Msg=rC.Response=rC.Query=void 0;var Z5=t1(),aJ=r(),rY1=S0(),nJ=a5(),gZ=0,tY1=2,oY1=4,eY1=8,ZJ1=16,YJ1=32,JJ1=64,XJ1=128,$J1=1,WJ1=2,GJ1=4,KJ1=8;class Xq{constructor(Z,Y,J){this.databaseName=Z,this.query=Y;const X=`${Z}.\$cmd`;if(typeof Z!=="string")throw new aJ.MongoRuntimeError("Database name must be a string for a query");if(Y==null)throw new aJ.MongoRuntimeError("A query document must be specified for query");if(X.indexOf("\0")!==-1)throw new aJ.MongoRuntimeError("Namespace cannot contain a null character");this.ns=X,this.numberToSkip=J.numberToSkip||0,this.numberToReturn=J.numberToReturn||0,this.returnFieldSelector=J.returnFieldSelector||void 0,this.requestId=Xq.getRequestId(),this.pre32Limit=J.pre32Limit,this.serializeFunctions=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,this.ignoreUndefined=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!1,this.maxBsonSize=J.maxBsonSize||16777216,this.checkKeys=typeof J.checkKeys==="boolean"?J.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof J.secondaryOk==="boolean"?J.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=gZ++}nextRequestId(){return gZ+1}static getRequestId(){return++gZ}toBin(){const Z=[];let Y=null,J=0;if(this.tailable)J|=tY1;if(this.secondaryOk)J|=oY1;if(this.oplogReplay)J|=eY1;if(this.noCursorTimeout)J|=ZJ1;if(this.awaitData)J|=YJ1;if(this.exhaust)J|=JJ1;if(this.partial)J|=XJ1;if(this.batchSize!==this.numberToReturn)this.numberToReturn=this.batchSize;const X=Buffer.alloc(20+Buffer.byteLength(this.ns)+1+4+4);Z.push(X);const $=Z5.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});if(Z.push($),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0)Y=Z5.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),Z.push(Y);const W=X.length+$.length+(Y?Y.length:0);let G=4;return X[3]=W>>24&255,X[2]=W>>16&255,X[1]=W>>8&255,X[0]=W&255,X[G+3]=this.requestId>>24&255,X[G+2]=this.requestId>>16&255,X[G+1]=this.requestId>>8&255,X[G]=this.requestId&255,G=G+4,X[G+3]=0>>24&255,X[G+2]=0>>16&255,X[G+1]=0>>8&255,X[G]=0&255,G=G+4,X[G+3]=nJ.OP_QUERY>>24&255,X[G+2]=nJ.OP_QUERY>>16&255,X[G+1]=nJ.OP_QUERY>>8&255,X[G]=nJ.OP_QUERY&255,G=G+4,X[G+3]=J>>24&255,X[G+2]=J>>16&255,X[G+1]=J>>8&255,X[G]=J&255,G=G+4,G=G+X.write(this.ns,G,"utf8")+1,X[G-1]=0,X[G+3]=this.numberToSkip>>24&255,X[G+2]=this.numberToSkip>>16&255,X[G+1]=this.numberToSkip>>8&255,X[G]=this.numberToSkip&255,G=G+4,X[G+3]=this.numberToReturn>>24&255,X[G+2]=this.numberToReturn>>16&255,X[G+1]=this.numberToReturn>>8&255,X[G]=this.numberToReturn&255,G=G+4,Z}}rC.Query=Xq;class pC{constructor(Z,Y,J,X){this.documents=new Array(0),this.parsed=!1,this.raw=Z,this.data=J,this.opts=X??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=Y.length,this.requestId=Y.requestId,this.responseTo=Y.responseTo,this.opCode=Y.opCode,this.fromCompressed=Y.fromCompressed,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{};const Y=Z.raw||!1,J=Z.documentsReturnedIn||null,X=Z.useBigInt64??this.opts.useBigInt64,$=Z.promoteLongs??this.opts.promoteLongs,W=Z.promoteValues??this.opts.promoteValues,G=Z.promoteBuffers??this.opts.promoteBuffers,K=Z.bsonRegExp??this.opts.bsonRegExp;let Q;const z={useBigInt64:X,promoteLongs:$,promoteValues:W,promoteBuffers:G,bsonRegExp:K};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new Z5.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&$J1)!==0,this.queryFailure=(this.responseFlags&WJ1)!==0,this.shardConfigStale=(this.responseFlags&GJ1)!==0,this.awaitCapable=(this.responseFlags&KJ1)!==0;for(let H=0;H<this.numberReturned;H++){if(Q=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,Y)this.documents[H]=this.data.slice(this.index,this.index+Q);else this.documents[H]=Z5.deserialize(this.data.slice(this.index,this.index+Q),z);this.index=this.index+Q}if(this.documents.length===1&&J!=null&&Y){const H={};H[J]=!0,z.fieldsAsRaw=H;const F=Z5.deserialize(this.documents[0],z);this.documents=[F]}this.parsed=!0}}rC.Response=pC;var iC=1,nC=2,aC=1<<16;class $q{constructor(Z,Y,J){if(this.databaseName=Z,this.command=Y,this.options=J,Y==null)throw new aJ.MongoInvalidArgumentError("Query document must be specified for query");if(this.command.$db=Z,J.readPreference&&J.readPreference.mode!==rY1.ReadPreference.PRIMARY)this.command.$readPreference=J.readPreference.toJSON();this.options=J??{},this.requestId=J.requestId?J.requestId:$q.getRequestId(),this.serializeFunctions=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,this.ignoreUndefined=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!1,this.checkKeys=typeof J.checkKeys==="boolean"?J.checkKeys:!1,this.maxBsonSize=J.maxBsonSize||16777216,this.checksumPresent=!1,this.moreToCome=J.moreToCome||!1,this.exhaustAllowed=typeof J.exhaustAllowed==="boolean"?J.exhaustAllowed:!1}toBin(){const Z=[];let Y=0;if(this.checksumPresent)Y|=iC;if(this.moreToCome)Y|=nC;if(this.exhaustAllowed)Y|=aC;const J=Buffer.alloc(20);Z.push(J);let X=J.length;const $=this.command;return X+=this.makeDocumentSegment(Z,$),J.writeInt32LE(X,0),J.writeInt32LE(this.requestId,4),J.writeInt32LE(0,8),J.writeInt32LE(nJ.OP_MSG,12),J.writeUInt32LE(Y,16),Z}makeDocumentSegment(Z,Y){const J=Buffer.alloc(1);J[0]=0;const X=this.serializeBson(Y);return Z.push(J),Z.push(X),J.length+X.length}serializeBson(Z){return Z5.serialize(Z,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return gZ=gZ+1&2147483647,gZ}}rC.Msg=$q;class sC{constructor(Z,Y,J,X){this.parsed=!1,this.raw=Z,this.data=J,this.opts=X??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=Y.length,this.requestId=Y.requestId,this.responseTo=Y.responseTo,this.opCode=Y.opCode,this.fromCompressed=Y.fromCompressed,this.responseFlags=J.readInt32LE(0),this.checksumPresent=(this.responseFlags&iC)!==0,this.moreToCome=(this.responseFlags&nC)!==0,this.exhaustAllowed=(this.responseFlags&aC)!==0,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{},this.index=4;const Y=Z.raw||!1,J=Z.documentsReturnedIn||null,X=Z.useBigInt64??this.opts.useBigInt64,$=Z.promoteLongs??this.opts.promoteLongs,W=Z.promoteValues??this.opts.promoteValues,G=Z.promoteBuffers??this.opts.promoteBuffers,K=Z.bsonRegExp??this.opts.bsonRegExp,Q=this.parseBsonSerializationOptions(Z),z={useBigInt64:X,promoteLongs:$,promoteValues:W,promoteBuffers:G,bsonRegExp:K,validation:Q};while(this.index<this.data.length){const H=this.data.readUInt8(this.index++);if(H===0){const F=this.data.readUInt32LE(this.index),q=this.data.slice(this.index,this.index+F);this.documents.push(Y?q:Z5.deserialize(q,z)),this.index+=F}else if(H===1)throw new aJ.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&J!=null&&Y){const H={};H[J]=!0,z.fieldsAsRaw=H;const F=Z5.deserialize(this.documents[0],z);this.documents=[F]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:Z}){if(Z===!1)return{utf8:!1};return{utf8:{writeErrors:!1}}}}rC.BinMsg=sC});var zq=w(($O)=>{var Kq=function(Z){if(Z instanceof ZO.Msg)return K7.deepCopy(Z.command);if(Z.query?.$query){let X;if(Z.ns==="admin.$cmd")X=Object.assign({},Z.query.$query);else X={find:VJ1(Z)},Object.keys(oC).forEach(($)=>{if(Z.query[$]!=null)X[oC[$]]=K7.deepCopy(Z.query[$])});if(Object.keys(eC).forEach(($)=>{const W=$;if(Z[W]!=null)X[eC[W]]=K7.deepCopy(Z[W])}),UJ1.forEach(($)=>{if(Z[$])X[$]=Z[$]}),Z.pre32Limit!=null)X.limit=Z.pre32Limit;if(Z.query.$explain)return{explain:X};return X}const Y={},J={};if(Z.query){for(let X in Z.query)Y[X]=K7.deepCopy(Z.query[X]);J.query=Y}for(let X in Z){if(X==="query")continue;J[X]=K7.deepCopy(Z[X])}return Z.query?Y:J},LJ1=function(Z,Y){if(!Y)return Y;if(Z instanceof ZO.Msg)return K7.deepCopy(Y.result?Y.result:Y);if(Z.query&&Z.query.$query!=null)return{ok:1,cursor:{id:K7.deepCopy(Y.cursorId),ns:qJ1(Z),firstBatch:K7.deepCopy(Y.documents)}};return K7.deepCopy(Y.result?Y.result:Y)},Qq=function(Z){let Y;if("id"in Z)Y=Z.id;return{address:Z.address,serviceId:Z.serviceId,connectionId:Y}};Object.defineProperty($O,"__esModule",{value:!0});$O.SENSITIVE_COMMANDS=$O.CommandFailedEvent=$O.CommandSucceededEvent=$O.CommandStartedEvent=void 0;var sJ=b0(),K7=X1(),ZO=LW();class YO{constructor(Z,Y){this.name=sJ.COMMAND_STARTED;const J=Kq(Y),X=Wq(J),{address:$,connectionId:W,serviceId:G}=Qq(Z);if($O.SENSITIVE_COMMANDS.has(X))this.commandObj={},this.commandObj[X]=!0;this.address=$,this.connectionId=W,this.serviceId=G,this.requestId=Y.requestId,this.databaseName=Y.databaseName,this.commandName=X,this.command=Gq(X,J,J)}get hasServiceId(){return!!this.serviceId}}$O.CommandStartedEvent=YO;class JO{constructor(Z,Y,J,X){this.name=sJ.COMMAND_SUCCEEDED;const $=Kq(Y),W=Wq($),{address:G,connectionId:K,serviceId:Q}=Qq(Z);this.address=G,this.connectionId=K,this.serviceId=Q,this.requestId=Y.requestId,this.commandName=W,this.duration=K7.calculateDurationInMs(X),this.reply=Gq(W,$,LJ1(Y,J))}get hasServiceId(){return!!this.serviceId}}$O.CommandSucceededEvent=JO;class XO{constructor(Z,Y,J,X){this.name=sJ.COMMAND_FAILED;const $=Kq(Y),W=Wq($),{address:G,connectionId:K,serviceId:Q}=Qq(Z);this.address=G,this.connectionId=K,this.serviceId=Q,this.requestId=Y.requestId,this.commandName=W,this.duration=K7.calculateDurationInMs(X),this.failure=Gq(W,$,J)}get hasServiceId(){return!!this.serviceId}}$O.CommandFailedEvent=XO;$O.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);var FJ1=new Set(["hello",sJ.LEGACY_HELLO_COMMAND,sJ.LEGACY_HELLO_COMMAND_CAMEL_CASE]),Wq=(Z)=>Object.keys(Z)[0],qJ1=(Z)=>Z.ns,VJ1=(Z)=>Z.ns.split(".")[1],Gq=(Z,Y,J)=>$O.SENSITIVE_COMMANDS.has(Z)||FJ1.has(Z)&&Y.speculativeAuthenticate?{}:J,oC={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},eC={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},UJ1=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"]});var zO=w((KO)=>{var DJ1=function(Z){const Y=Z instanceof rJ.Msg?Z.command:Z.query,J=Object.keys(Y)[0];return!AW.uncompressibleCommands.has(J)},tJ=function(Z,Y){const J=Z[MW],X=J.getInt32();if(X==null)return Y();if(X<0)return Y(new Hq.MongoParseError(`Invalid message size: ${X}`));if(X>Z.maxBsonMessageSize)return Y(new Hq.MongoParseError(`Invalid message size: ${X}, max allowed: ${Z.maxBsonMessageSize}`));if(X>J.length)return Y();const $=J.read(X),W={length:$.readInt32LE(0),requestId:$.readInt32LE(4),responseTo:$.readInt32LE(8),opCode:$.readInt32LE(12)},G=()=>{if(Z.isMonitoringConnection){const H=J.getInt32();if(H!=null&&H<=J.length)return!0}return!1};let K=W.opCode===RW.OP_MSG?rJ.BinMsg:rJ.Response;if(W.opCode!==RW.OP_COMPRESSED){const H=$.subarray(Y5);if(G())return tJ(Z,Y);if(Z.emit("message",new K($,W,H)),J.length>=4)return tJ(Z,Y);return Y()}W.fromCompressed=!0,W.opCode=$.readInt32LE(Y5),W.length=$.readInt32LE(Y5+4);const Q=$[Y5+8],z=$.slice(Y5+9);K=W.opCode===RW.OP_MSG?rJ.BinMsg:rJ.Response,AW.decompress(Q,z).then((H)=>{if(H.length!==W.length)return Y(new Hq.MongoDecompressionError("Message body and message header must be the same length"));if(G())return tJ(Z,Y);if(Z.emit("message",new K($,W,H)),J.length>=4)return tJ(Z,Y);return Y()},(H)=>{return Y(H)})};Object.defineProperty(KO,"__esModule",{value:!0});KO.MessageStream=void 0;var AJ1=import.meta.require("stream"),Hq=r(),BJ1=X1(),rJ=LW(),AW=WW(),RW=a5(),Y5=16,WO=9,NJ1=67108864,MW=Symbol("buffer");class GO extends AJ1.Duplex{constructor(Z={}){super(Z);this.isMonitoringConnection=!1,this.maxBsonMessageSize=Z.maxBsonMessageSize||NJ1,this[MW]=new BJ1.BufferPool}get buffer(){return this[MW]}_write(Z,Y,J){this[MW].append(Z),tJ(this,J)}_read(){return}writeCommand(Z,Y){const J=Y.agreedCompressor??"none";if(J==="none"||!DJ1(Z)){const K=Z.toBin();this.push(Array.isArray(K)?Buffer.concat(K):K);return}const X=Buffer.concat(Z.toBin()),$=X.slice(Y5),W=X.readInt32LE(12),G={agreedCompressor:J,zlibCompressionLevel:Y.zlibCompressionLevel??0};AW.compress(G,$).then((K)=>{const Q=Buffer.alloc(Y5);Q.writeInt32LE(Y5+WO+K.length,0),Q.writeInt32LE(Z.requestId,4),Q.writeInt32LE(0,8),Q.writeInt32LE(RW.OP_COMPRESSED,12);const z=Buffer.alloc(WO);z.writeInt32LE(W,0),z.writeInt32LE($.length,4),z.writeUInt8(AW.Compressor[J],8),this.push(Buffer.concat([Q,z,K]))},(K)=>{Y.cb(K)})}}KO.MessageStream=GO});var VO=w((FO)=>{Object.defineProperty(FO,"__esModule",{value:!0});FO.StreamDescription=void 0;var IJ1=P6(),PJ1=BJ(),TJ1=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"];class HO{constructor(Z,Y){this.address=Z,this.type=IJ1.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48000000,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=Y?.logicalSessionTimeoutMinutes,this.loadBalanced=!!Y?.loadBalanced,this.compressors=Y&&Y.compressors&&Array.isArray(Y.compressors)?Y.compressors:[]}receiveResponse(Z){if(Z==null)return;this.type=PJ1.parseServerType(Z);for(let Y of TJ1){if(Z[Y]!=null)this[Y]=Z[Y];if("__nodejs_mock_server__"in Z)this.__nodejs_mock_server__=Z.__nodejs_mock_server__}if(Z.compression)this.compressor=this.compressors.filter((Y)=>Z.compression?.includes(Y))[0]}}FO.StreamDescription=HO});var oJ=w((NO)=>{var BO=function(Z){return Z.description.logicalSessionTimeoutMinutes!=null},kJ1=function(Z){const Y=Z.description;if(Y==null)return!1;return J5.maxWireVersion(Z)>=6&&!Y.__nodejs_mock_server__},_J1=function(Z,Y){if(Y.proxyHost)return Y.hostAddress.toString();const{remoteAddress:J,remotePort:X}=Z;if(typeof J==="string"&&typeof X==="number")return J5.HostAddress.fromHostPort(J,X).toString();return J5.uuidV4().toString("hex")},xJ1=function(Z,Y,J,X){J=J??{};const $={requestId:Y.requestId,cb:X,session:J.session,noResponse:typeof J.noResponse==="boolean"?J.noResponse:!1,documentsReturnedIn:J.documentsReturnedIn,useBigInt64:typeof J.useBigInt64==="boolean"?J.useBigInt64:!1,promoteLongs:typeof J.promoteLongs==="boolean"?J.promoteLongs:!0,promoteValues:typeof J.promoteValues==="boolean"?J.promoteValues:!0,promoteBuffers:typeof J.promoteBuffers==="boolean"?J.promoteBuffers:!1,bsonRegExp:typeof J.bsonRegExp==="boolean"?J.bsonRegExp:!1,enableUtf8Validation:typeof J.enableUtf8Validation==="boolean"?J.enableUtf8Validation:!0,raw:typeof J.raw==="boolean"?J.raw:!1,started:0};if(Z[x7]&&Z[x7].compressor){if($.agreedCompressor=Z[x7].compressor,Z[x7].zlibCompressionLevel)$.zlibCompressionLevel=Z[x7].zlibCompressionLevel}if(typeof J.socketTimeoutMS==="number")Z[r0].setTimeout(J.socketTimeoutMS);else if(Z.socketTimeoutMS!==0)Z[r0].setTimeout(Z.socketTimeoutMS);if(Z.monitorCommands)Z.emit(_0.COMMAND_STARTED,new BW.CommandStartedEvent(Z,Y)),$.started=J5.now(),$.cb=(W,G)=>{if(W&&G?.ok!==1)Z.emit(_0.COMMAND_FAILED,new BW.CommandFailedEvent(Z,Y,W,$.started));else if(G&&(G.ok===0||G.$err))Z.emit(_0.COMMAND_FAILED,new BW.CommandFailedEvent(Z,Y,G,$.started));else Z.emit(_0.COMMAND_SUCCEEDED,new BW.CommandSucceededEvent(Z,Y,G,$.started));if(typeof X==="function")X(W,W instanceof _7.MongoWriteConcernError?void 0:G)};if(!$.noResponse)Z[Q7].set($.requestId,$);try{Z[k7].writeCommand(Y,$)}catch(W){if(!$.noResponse){Z[Q7].delete($.requestId),$.cb(W);return}}if($.noResponse)$.cb()};Object.defineProperty(NO,"__esModule",{value:!0});NO.hasSessionSupport=NO.CryptoConnection=NO.Connection=void 0;var UO=import.meta.require("timers"),jJ1=import.meta.require("util"),X5=b0(),_7=r(),EJ1=W6(),LO=IJ(),J5=X1(),BW=zq(),wO=LW(),CJ1=zO(),OJ1=VO(),RO=zH(),r0=Symbol("stream"),Q7=Symbol("queue"),k7=Symbol("messageStream"),Fq=Symbol("generation"),qq=Symbol("lastUseTime"),Vq=Symbol("clusterTime"),x7=Symbol("description"),Uq=Symbol("hello"),MO=Symbol("autoEncrypter"),NW=Symbol("delayedTimeoutId"),SJ1="Connection internal queue contains more than 1 operation description";class _0 extends EJ1.TypedEventEmitter{constructor(Z,Y){super();this.commandAsync=jJ1.promisify((J,X,$,W)=>this.command(J,X,$,W)),this.id=Y.id,this.address=_J1(Z,Y),this.socketTimeoutMS=Y.socketTimeoutMS??0,this.monitorCommands=Y.monitorCommands,this.serverApi=Y.serverApi,this.closed=!1,this[Uq]=null,this[Vq]=null,this[x7]=new OJ1.StreamDescription(this.address,Y),this[Fq]=Y.generation,this[qq]=J5.now(),this[Q7]=new Map,this[k7]=new CJ1.MessageStream({...Y,maxBsonMessageSize:this.hello?.maxBsonMessageSize}),this[r0]=Z,this[NW]=null,this[k7].on("message",(J)=>this.onMessage(J)),this[k7].on("error",(J)=>this.onError(J)),this[r0].on("close",()=>this.onClose()),this[r0].on("timeout",()=>this.onTimeout()),this[r0].on("error",()=>{}),this[r0].pipe(this[k7]),this[k7].pipe(this[r0])}get description(){return this[x7]}get hello(){return this[Uq]}set hello(Z){this[x7].receiveResponse(Z),this[x7]=Object.freeze(this[x7]),this[Uq]=Z}set isMonitoringConnection(Z){this[k7].isMonitoringConnection=Z}get isMonitoringConnection(){return this[k7].isMonitoringConnection}get serviceId(){return this.hello?.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[Fq]||0}set generation(Z){this[Fq]=Z}get idleTime(){return J5.calculateDurationInMs(this[qq])}get clusterTime(){return this[Vq]}get stream(){return this[r0]}markAvailable(){this[qq]=J5.now()}onError(Z){this.cleanup(!0,Z)}onClose(){const Z=`connection ${this.id} to ${this.address} closed`;this.cleanup(!0,new _7.MongoNetworkError(Z))}onTimeout(){this[NW]=UO.setTimeout(()=>{const Z=`connection ${this.id} to ${this.address} timed out`,Y=this.hello==null;this.cleanup(!0,new _7.MongoNetworkTimeoutError(Z,{beforeHandshake:Y}))},1).unref()}onMessage(Z){const Y=this[NW];if(Y!=null)UO.clearTimeout(Y),this[NW]=null;const J=this[r0].timeout??0;this[r0].setTimeout(0),this.emit("message",Z);let X=this[Q7].get(Z.responseTo);if(!X&&this.isMonitoringConnection)if(this[Q7].size>1)this.cleanup(!0,new _7.MongoRuntimeError(SJ1));else{const W=this[Q7].entries().next();if(W.value!=null){const[G,K]=W.value;X=K,this[Q7].delete(G)}}if(!X)return;const $=X.cb;if(this[Q7].delete(Z.responseTo),"moreToCome"in Z&&Z.moreToCome)this[Q7].set(Z.requestId,X),this[r0].setTimeout(J);try{Z.parse(X)}catch(W){$(W);return}if(Z.documents[0]){const W=Z.documents[0],G=X.session;if(G)LO.updateSessionFromResponse(G,W);if(W.$clusterTime)this[Vq]=W.$clusterTime,this.emit(_0.CLUSTER_TIME_RECEIVED,W.$clusterTime);if(W.writeConcernError){$(new _7.MongoWriteConcernError(W.writeConcernError,W),W);return}if(W.ok===0||W.$err||W.errmsg||W.code){$(new _7.MongoServerError(W));return}}$(void 0,Z.documents[0])}destroy(Z,Y){if(this.closed){process.nextTick(()=>Y?.());return}if(typeof Y==="function")this.once("close",()=>process.nextTick(()=>Y()));this.removeAllListeners(_0.PINNED),this.removeAllListeners(_0.UNPINNED);const J=`connection ${this.id} to ${this.address} closed`;this.cleanup(Z.force,new _7.MongoNetworkError(J))}cleanup(Z,Y){if(this.closed)return;this.closed=!0;const J=()=>{for(let X of this[Q7].values())X.cb(Y);this[Q7].clear(),this.emit(_0.CLOSE)};if(this[r0].removeAllListeners(),this[k7].removeAllListeners(),this[k7].destroy(),Z){this[r0].destroy(),J();return}if(!this[r0].writableEnded)this[r0].end(()=>{this[r0].destroy(),J()});else J()}command(Z,Y,J,X){let $={...Y};const W=RO.getReadPreference(J),G=kJ1(this),K=J?.session;let Q=this.clusterTime;if(this.serverApi){const{version:F,strict:q,deprecationErrors:V}=this.serverApi;if($.apiVersion=F,q!=null)$.apiStrict=q;if(V!=null)$.apiDeprecationErrors=V}if(BO(this)&&K){if(K.clusterTime&&Q&&K.clusterTime.clusterTime.greaterThan(Q.clusterTime))Q=K.clusterTime;const F=LO.applySession(K,$,J);if(F)return X(F)}else if(K?.explicit)return X(new _7.MongoCompatibilityError("Current topology does not support sessions"));if(Q)$.$clusterTime=Q;if(RO.isSharded(this)&&!G&&W&&W.mode!=="primary")$={$query:$,$readPreference:W.toJSON()};const z=Object.assign({numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:W.secondaryOk()},J),H=G?new wO.Msg(Z.db,$,z):new wO.Query(Z.db,$,z);try{xJ1(this,H,z,X)}catch(F){X(F)}}}_0.COMMAND_STARTED=X5.COMMAND_STARTED;_0.COMMAND_SUCCEEDED=X5.COMMAND_SUCCEEDED;_0.COMMAND_FAILED=X5.COMMAND_FAILED;_0.CLUSTER_TIME_RECEIVED=X5.CLUSTER_TIME_RECEIVED;_0.CLOSE=X5.CLOSE;_0.MESSAGE=X5.MESSAGE;_0.PINNED=X5.PINNED;_0.UNPINNED=X5.UNPINNED;NO.Connection=_0;class AO extends _0{constructor(Z,Y){super(Z,Y);this[MO]=Y.autoEncrypter}command(Z,Y,J,X){const $=this[MO];if(!$)return X(new _7.MongoMissingDependencyError("No AutoEncrypter available for encryption"));const W=J5.maxWireVersion(this);if(W===0)return super.command(Z,Y,J,X);if(W<8){X(new _7.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2"));return}const G=Y.find||Y.findAndModify?Y.sort:null,K=Y.createIndexes?Y.indexes.map((Q)=>Q.key):null;$.encrypt(Z.toString(),Y,J).then((Q)=>{if(G!=null&&(Y.find||Y.findAndModify))Q.sort=G;if(K!=null&&Y.createIndexes)for(let[z,H]of K.entries())Q.indexes[z].key=H;super.command(Z,Q,J,(z,H)=>{if(z||H==null){X(z,H);return}$.decrypt(H,J).then((F)=>X(void 0,F),(F)=>X(F))})},(Q)=>{if(Q)X(Q,null)})}}NO.CryptoConnection=AO;NO.hasSessionSupport=BO});var CO=w((jO)=>{Object.defineProperty(jO,"__esModule",{value:!0});jO.MongoCR=void 0;var IO=import.meta.require("crypto"),gJ1=r(),PO=X1(),bJ1=G4();class TO extends bJ1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new gJ1.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:X,password:$,source:W}=J,{nonce:G}=await Y.commandAsync(PO.ns(`${W}.\$cmd`),{getnonce:1},void 0),K=IO.createHash("md5").update(`${X}:mongo:${$}`,"utf8").digest("hex"),Q=IO.createHash("md5").update(`${G}${X}${K}`,"utf8").digest("hex"),z={authenticate:1,user:X,nonce:G,key:Q};await Y.commandAsync(PO.ns(`${W}.\$cmd`),z,void 0)}}jO.MongoCR=TO});var _O=w((SO)=>{async function iJ1(Z){function Y(J){if(!J.AccessKeyId||!J.SecretAccessKey||!J.Token)throw new z9.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new uJ1.MongoCredentials({username:J.AccessKeyId,password:J.SecretAccessKey,source:Z.source,mechanism:dJ1.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:J.Token}})}if(H9.credentialProvider??=DW.getAwsCredentialProvider(),"kModuleError"in H9.credentialProvider){if(Lq.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return Y(await H4.request(`${pJ1}${Lq.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`));const J=await H4.request(`${Rq}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),X=await H4.request(`${Rq}/${OO}`,{json:!1,headers:{"X-aws-ec2-metadata-token":J}}),$=await H4.request(`${Rq}/${OO}/${X}`,{headers:{"X-aws-ec2-metadata-token":J}});return Y($)}else{let{AWS_STS_REGIONAL_ENDPOINTS:J="",AWS_REGION:X=""}=Lq.env;J=J.toLowerCase(),X=X.toLowerCase();const $=X.length!==0&&J.length!==0,W=J==="regional"||J==="legacy"&&!cJ1.has(X),G=$&&W?H9.credentialProvider.fromNodeProviderChain({clientConfig:{region:X}}):H9.credentialProvider.fromNodeProviderChain();try{const K=await G();return Y({AccessKeyId:K.accessKeyId,SecretAccessKey:K.secretAccessKey,Token:K.sessionToken,Expiration:K.expiration})}catch(K){throw new z9.MongoAWSError(K.message)}}}var nJ1=function(Z){const Y=Z.split(".");if(Y.length===1||Y[1]==="amazonaws")return"us-east-1";return Y[1]};Object.defineProperty(SO,"__esModule",{value:!0});SO.MongoDBAWS=void 0;var vJ1=import.meta.require("crypto"),Lq=import.meta.require("process"),hJ1=import.meta.require("util"),wq=t1(),DW=$7(),z9=r(),H4=X1(),mJ1=G4(),uJ1=l$(),dJ1=C7(),cJ1=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),lJ1=110,pJ1="http://169.254.170.2",Rq="http://169.254.169.254",OO="/latest/meta-data/iam/security-credentials",Mq={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1};class H9 extends mJ1.AuthProvider{constructor(){super();this.randomBytesAsync=hJ1.promisify(vJ1.randomBytes)}async auth(Z){const{connection:Y}=Z;if(!Z.credentials)throw new z9.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in DW.aws4)throw DW.aws4.kModuleError;const{sign:J}=DW.aws4;if(H4.maxWireVersion(Y)<9)throw new z9.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");if(!Z.credentials.username)Z.credentials=await iJ1(Z.credentials);const{credentials:X}=Z,$=X.username,W=X.password,G=X.mechanismProperties.AWS_SESSION_TOKEN,K=$&&W&&G?{accessKeyId:$,secretAccessKey:W,sessionToken:G}:$&&W?{accessKeyId:$,secretAccessKey:W}:void 0,Q=X.source,z=await this.randomBytesAsync(32),H={saslStart:1,mechanism:"MONGODB-AWS",payload:wq.serialize({r:z,p:lJ1},Mq)},F=await Y.commandAsync(H4.ns(`${Q}.\$cmd`),H,void 0),q=wq.deserialize(F.payload.buffer,Mq),V=q.h,U=q.s.buffer;if(U.length!==64)throw new z9.MongoRuntimeError(`Invalid server nonce length ${U.length}, expected 64`);if(!H4.ByteUtils.equals(U.subarray(0,z.byteLength),z))throw new z9.MongoRuntimeError("Server nonce does not begin with client nonce");if(V.length<1||V.length>255||V.indexOf("..")!==-1)throw new z9.MongoRuntimeError(`Server returned an invalid host: "${V}"`);const L="Action=GetCallerIdentity&Version=2011-06-15",R=J({method:"POST",host:V,region:nJ1(q.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":L.length,"X-MongoDB-Server-Nonce":H4.ByteUtils.toBase64(U),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:L},K),A={a:R.headers.Authorization,d:R.headers["X-Amz-Date"]};if(G)A.t=G;const B={saslContinue:1,conversationId:1,payload:wq.serialize(A,Mq)};await Y.commandAsync(H4.ns(`${Q}.\$cmd`),B,void 0)}}H9.credentialProvider=null;SO.MongoDBAWS=H9});var Bq=w((fO)=>{var Aq=function(Z){return{saslStart:1,mechanism:rJ1.AuthMechanism.MONGODB_OIDC,payload:aJ1.BSON.serialize({jwt:Z})}};Object.defineProperty(fO,"__esModule",{value:!0});fO.commandDocument=fO.ServiceWorkflow=void 0;var aJ1=I6(),sJ1=X1(),rJ1=C7();class xO{async execute(Z,Y){const J=await this.getToken(Y),X=Aq(J);return Z.commandAsync(sJ1.ns(Y.source),X,void 0)}async speculativeAuth(Z){const Y=await this.getToken(Z),J=Aq(Y);return J.db=Z.source,{speculativeAuthenticate:J}}}fO.ServiceWorkflow=xO;fO.commandDocument=Aq});var hO=w((bO)=>{Object.defineProperty(bO,"__esModule",{value:!0});bO.AwsServiceWorkflow=void 0;var oJ1=import.meta.require("fs"),eJ1=r(),ZX1=Bq(),YX1="AWS_WEB_IDENTITY_TOKEN_FILE must be set in the environment.";class gO extends ZX1.ServiceWorkflow{constructor(){super()}async getToken(){const Z=process.env.AWS_WEB_IDENTITY_TOKEN_FILE;if(!Z)throw new eJ1.MongoAWSError(YX1);return oJ1.promises.readFile(Z,"utf8")}}bO.AwsServiceWorkflow=gO});var IW=w((dO)=>{Object.defineProperty(dO,"__esModule",{value:!0});dO.Cache=dO.ExpiringCacheEntry=void 0;var JX1=300000;class mO{constructor(Z){this.expiration=this.expirationTime(Z)}isValid(){return this.expiration-Date.now()>JX1}expirationTime(Z){return Date.now()+Z*1000}}dO.ExpiringCacheEntry=mO;class uO{constructor(){this.entries=new Map}clear(){this.entries.clear()}hashedCacheKey(Z,Y,J){return JSON.stringify([Z,Y,J])}}dO.Cache=uO});var aO=w((iO)=>{Object.defineProperty(iO,"__esModule",{value:!0});iO.AzureTokenCache=iO.AzureTokenEntry=void 0;var lO=IW();class Nq extends lO.ExpiringCacheEntry{constructor(Z,Y){super(Y);this.token=Z}}iO.AzureTokenEntry=Nq;class pO extends lO.Cache{addEntry(Z,Y){const J=new Nq(Y.access_token,Y.expires_in);return this.entries.set(Z,J),J}cacheKey(Z){return Z}deleteEntry(Z){this.entries.delete(Z)}getEntry(Z){return this.entries.get(Z)}}iO.AzureTokenCache=pO});var eO=w((tO)=>{async function qX1(Z){const Y=`${QX1}&resource=${Z}`;return await WX1.request(Y,{json:!0,headers:zX1})}var VX1=function(Z){if(Z==null||typeof Z!=="object")return!1;return"access_token"in Z&&"expires_in"in Z};Object.defineProperty(tO,"__esModule",{value:!0});tO.AzureServiceWorkflow=void 0;var sO=r(),WX1=X1(),GX1=aO(),KX1=Bq(),QX1="http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01",zX1=Object.freeze({Metadata:"true",Accept:"application/json"}),HX1="Azure endpoint did not return a value with only access_token and expires_in properties",FX1="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class rO extends KX1.ServiceWorkflow{constructor(){super(...arguments);this.cache=new GX1.AzureTokenCache}async getToken(Z){const Y=Z?.mechanismProperties.TOKEN_AUDIENCE;if(!Y)throw new sO.MongoAzureError(FX1);let J;const X=this.cache.getEntry(Y);if(X?.isValid())J=X.token;else{this.cache.deleteEntry(Y);const $=await qX1(Y);if(!VX1($))throw new sO.MongoAzureError(HX1);this.cache.addEntry(Y,$),J=$.access_token}return J}}tO.AzureServiceWorkflow=rO});var WS=w((XS)=>{var ZS=function(Z){let Y=Promise.resolve();return async(J,X)=>{return await Y,Y=Y.then(()=>Z(J,X)),Y}},RX1=function(Z,Y){let J=eJ.get(Z),X=eJ.get(Y??YS);if(J==null)F9++,J=F9,eJ.set(Z,F9);if(X==null&&Y)F9++,X=F9,eJ.set(Y,F9);return`${J}-${X}`};Object.defineProperty(XS,"__esModule",{value:!0});XS.CallbackLockCache=void 0;var UX1=r(),LX1=IW(),wX1="Auth mechanism property REQUEST_TOKEN_CALLBACK is required.",F9=0,YS=async()=>({accessToken:"test"}),eJ=new WeakMap;eJ.set(YS,F9);class JS extends LX1.Cache{getEntry(Z,Y){const J=Y.mechanismProperties.REQUEST_TOKEN_CALLBACK,X=Y.mechanismProperties.REFRESH_TOKEN_CALLBACK;if(!J)throw new UX1.MongoInvalidArgumentError(wX1);const $=RX1(J,X),W=this.cacheKey(Z.address,Y.username,$),G=this.entries.get(W);if(G)return G;return this.addEntry(W,$,J,X)}addEntry(Z,Y,J,X){const $={requestCallback:ZS(J),refreshCallback:X?ZS(X):void 0,callbackHash:Y};return this.entries.set(Z,$),$}cacheKey(Z,Y,J){return this.hashedCacheKey(Z,Y,J)}}XS.CallbackLockCache=JS});var HS=w((QS)=>{Object.defineProperty(QS,"__esModule",{value:!0});QS.TokenEntryCache=QS.TokenEntry=void 0;var GS=IW(),MX1=0;class Dq extends GS.ExpiringCacheEntry{constructor(Z,Y,J){super(J);this.tokenResult=Z,this.serverInfo=Y}}QS.TokenEntry=Dq;class KS extends GS.Cache{addEntry(Z,Y,J,X,$){const W=new Dq(X,$,X.expiresInSeconds??MX1);return this.entries.set(this.cacheKey(Z,Y,J),W),W}deleteEntry(Z,Y,J){this.entries.delete(this.cacheKey(Z,Y,J))}getEntry(Z,Y,J){return this.entries.get(this.cacheKey(Z,Y,J))}deleteExpiredEntries(){for(let[Z,Y]of this.entries)if(!Y.isValid())this.entries.delete(Z)}cacheKey(Z,Y,J){return this.hashedCacheKey(Z,Y,J)}}QS.TokenEntryCache=KS});var RS=w((LS)=>{var jX1=function(Z,Y){if(Y!=null&&typeof Y==="number")return{saslContinue:1,conversationId:Y,payload:new q9.Binary(q9.BSON.serialize({jwt:Z}))};return{saslStart:1,mechanism:VS.AuthMechanism.MONGODB_OIDC,payload:new q9.Binary(q9.BSON.serialize({jwt:Z}))}},EX1=function(Z){if(Z==null||typeof Z!=="object")return!0;if(!("accessToken"in Z))return!0;return!Object.getOwnPropertyNames(Z).every((Y)=>PX1.includes(Y))},qS=function(Z){const Y={};if(Z.username)Y.n=Z.username;return{saslStart:1,autoAuthorize:1,mechanism:VS.AuthMechanism.MONGODB_OIDC,payload:new q9.Binary(q9.BSON.serialize(Y))}};Object.defineProperty(LS,"__esModule",{value:!0});LS.CallbackWorkflow=void 0;var q9=I6(),Iq=r(),FS=X1(),VS=C7(),BX1=WS(),NX1=HS(),DX1=0,IX1=300,PX1=["accessToken","expiresInSeconds","refreshToken"],TX1="User provided OIDC callbacks must return a valid object with an accessToken.";class US{constructor(){this.cache=new NX1.TokenEntryCache,this.callbackCache=new BX1.CallbackLockCache}async speculativeAuth(Z){const Y=qS(Z);return Y.db=Z.source,{speculativeAuthenticate:Y}}async execute(Z,Y,J,X){const{requestCallback:$,refreshCallback:W,callbackHash:G}=this.callbackCache.getEntry(Z,Y),K=this.cache.getEntry(Z.address,Y.username,G);let Q;if(K)if(K.isValid()&&!J)Q=await this.finishAuthentication(Z,Y,K.tokenResult,X?.speculativeAuthenticate?.conversationId);else{const z=await this.fetchAccessToken(Z,Y,K.serverInfo,J,G,$,W);try{Q=await this.finishAuthentication(Z,Y,z,J?void 0:X?.speculativeAuthenticate?.conversationId)}catch(H){if(J&&H instanceof Iq.MongoError&&H.code===Iq.MONGODB_ERROR_CODES.Reauthenticate)this.cache.deleteEntry(Z.address,Y.username,G),Q=await this.execute(Z,Y,J);else throw H}}else{const z=await this.startAuthentication(Z,Y,J,X),H=z.conversationId,F=q9.BSON.deserialize(z.payload.buffer),q=await this.fetchAccessToken(Z,Y,F,J,G,$,W);Q=await this.finishAuthentication(Z,Y,q,H)}return Q}async startAuthentication(Z,Y,J,X){let $;if(!J&&X?.speculativeAuthenticate)$=X.speculativeAuthenticate;else $=await Z.commandAsync(FS.ns(Y.source),qS(Y),void 0);return $}async finishAuthentication(Z,Y,J,X){return await Z.commandAsync(FS.ns(Y.source),jX1(J.accessToken,X),void 0)}async fetchAccessToken(Z,Y,J,X,$,W,G){const K=this.cache.getEntry(Z.address,Y.username,$);let Q;const z={timeoutSeconds:IX1,version:DX1};if(K){if(K.isValid()&&!X)return K.tokenResult;if(G)z.refreshToken=K.tokenResult.refreshToken,Q=await G(J,z);else Q=await W(J,z)}else Q=await W(J,z);if(EX1(Q))throw this.cache.deleteEntry(Z.address,Y.username,$),new Iq.MongoMissingCredentialsError(TX1);return this.cache.deleteExpiredEntries(),this.cache.addEntry(Z.address,Y.username||"",$,Q,J),Q}}LS.CallbackWorkflow=US});var PS=w((DS)=>{var MS=function(Z){const{credentials:Y}=Z;if(!Y)throw new BS.MongoMissingCredentialsError(_X1);return Y},AS=function(Z){const Y=Z.mechanismProperties.PROVIDER_NAME,J=DS.OIDC_WORKFLOWS.get(Y||"callback");if(!J)throw new BS.MongoInvalidArgumentError(`Could not load workflow for provider ${Z.mechanismProperties.PROVIDER_NAME}`);return J};Object.defineProperty(DS,"__esModule",{value:!0});DS.MongoDBOIDC=DS.OIDC_WORKFLOWS=void 0;var BS=r(),CX1=G4(),OX1=hO(),SX1=eO(),kX1=RS(),_X1="AuthContext must provide credentials.";DS.OIDC_WORKFLOWS=new Map;DS.OIDC_WORKFLOWS.set("callback",new kX1.CallbackWorkflow);DS.OIDC_WORKFLOWS.set("aws",new OX1.AwsServiceWorkflow);DS.OIDC_WORKFLOWS.set("azure",new SX1.AzureServiceWorkflow);class NS extends CX1.AuthProvider{constructor(){super()}async auth(Z){const{connection:Y,reauthenticating:J,response:X}=Z,$=MS(Z);await AS($).execute(Y,$,J,X)}async prepare(Z,Y){const J=MS(Y),$=await AS(J).speculativeAuth(J);return{...Z,...$}}}DS.MongoDBOIDC=NS});var CS=w((jS)=>{Object.defineProperty(jS,"__esModule",{value:!0});jS.Plain=void 0;var xX1=t1(),fX1=r(),yX1=X1(),gX1=G4();class TS extends gX1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new fX1.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:X,password:$}=J,G={saslStart:1,mechanism:"PLAIN",payload:new xX1.Binary(Buffer.from(`\0${X}\0${$}`)),autoAuthorize:1};await Y.commandAsync(yX1.ns("$external.$cmd"),G,void 0)}}jS.Plain=TS});var kS=w((PP1,SS)=>{var F4=function(Z,Y){if(!(this instanceof F4))return new F4(Z,Y);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=Z||1024,this.deduplicate=Y?Y.deduplicate:null,this.zeros=this.deduplicate?PW(this.deduplicate.length):null},bX1=function(Z,Y){while(Z.maxPages<Y){var J=Z.pages;Z.pages=new Array(32768),Z.pages[0]=J,Z.level++,Z.maxPages*=32768}},vX1=function(Z,Y){if(Z.length===Y)return Z;if(Z.length>Y)return Z.slice(0,Y);var J=PW(Y);return Z.copy(J),J},PW=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var Y=new Buffer(Z);return Y.fill(0),Y},hX1=function(Z){var Y=Buffer.allocUnsafe?Buffer.allocUnsafe(Z.length):new Buffer(Z.length);return Z.copy(Y),Y},OS=function(Z,Y){this.offset=Z*Y.length,this.buffer=Y,this.updated=!1,this.deduplicate=0},mX1=function(Z,Y){Z=(Z-(Y[0]=Z&32767))/32768,Z=(Z-(Y[1]=Z&32767))/32768,Y[3]=(Z-(Y[2]=Z&32767))/32768&32767};SS.exports=F4;F4.prototype.updated=function(Z){while(this.deduplicate&&Z.buffer[Z.deduplicate]===this.deduplicate[Z.deduplicate])if(Z.deduplicate++,Z.deduplicate===this.deduplicate.length){if(Z.deduplicate=0,Z.buffer.equals&&Z.buffer.equals(this.deduplicate))Z.buffer=this.deduplicate;break}if(Z.updated||!this.updates)return;Z.updated=!0,this.updates.push(Z)};F4.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var Z=this.updates.pop();return Z.updated=!1,Z};F4.prototype._array=function(Z,Y){if(Z>=this.maxPages){if(Y)return;bX1(this,Z)}mX1(Z,this.path);var J=this.pages;for(var X=this.level;X>0;X--){var $=this.path[X],W=J[$];if(!W){if(Y)return;W=J[$]=new Array(32768)}J=W}return J};F4.prototype.get=function(Z,Y){var J=this._array(Z,Y),X=this.path[0],$=J&&J[X];if(!$&&!Y){if($=J[X]=new OS(Z,PW(this.pageSize)),Z>=this.length)this.length=Z+1}if($&&$.buffer===this.deduplicate&&this.deduplicate&&!Y)$.buffer=hX1($.buffer),$.deduplicate=0;return $};F4.prototype.set=function(Z,Y){var J=this._array(Z,!1),X=this.path[0];if(Z>=this.length)this.length=Z+1;if(!Y||this.zeros&&Y.equals&&Y.equals(this.zeros)){J[X]=void 0;return}if(this.deduplicate&&Y.equals&&Y.equals(this.deduplicate))Y=this.deduplicate;var $=J[X],W=vX1(Y,this.pageSize);if($)$.buffer=W;else J[X]=new OS(Z,W)};F4.prototype.toBuffer=function(){var Z=new Array(this.length),Y=PW(this.pageSize),J=0;while(J<Z.length){var X=this._array(J,!0);for(var $=0;$<32768&&J<Z.length;$++)Z[J++]=X&&X[$]?X[$].buffer:Y}return Buffer.concat(Z)}});var xS=w((TP1,_S)=>{var $5=function(Z){if(!(this instanceof $5))return new $5(Z);if(!Z)Z={};if(Buffer.isBuffer(Z))Z={buffer:Z};if(this.pageOffset=Z.pageOffset||0,this.pageSize=Z.pageSize||1024,this.pages=Z.pages||uX1(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!cX1(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!Z.trackUpdates,this._pageMask=this.pageSize-1,Z.buffer){for(var Y=0;Y<Z.buffer.length;Y+=this.pageSize)this.pages.set(Y/this.pageSize,Z.buffer.slice(Y,Y+this.pageSize));this.byteLength=Z.buffer.length,this.length=8*this.byteLength}},dX1=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var Y=new Buffer(Z);return Y.fill(0),Y},cX1=function(Z){return!(Z&Z-1)},uX1=kS();_S.exports=$5;$5.prototype.get=function(Z){var Y=Z&7,J=(Z-Y)/8;return!!(this.getByte(J)&128>>Y)};$5.prototype.getByte=function(Z){var Y=Z&this._pageMask,J=(Z-Y)/this.pageSize,X=this.pages.get(J,!0);return X?X.buffer[Y+this.pageOffset]:0};$5.prototype.set=function(Z,Y){var J=Z&7,X=(Z-J)/8,$=this.getByte(X);return this.setByte(X,Y?$|128>>J:$&(255^128>>J))};$5.prototype.toBuffer=function(){var Z=dX1(this.pages.length*this.pageSize);for(var Y=0;Y<this.pages.length;Y++){var J=this.pages.get(Y,!0),X=Y*this.pageSize;if(J)J.buffer.copy(Z,X,this.pageOffset,this.pageOffset+this.pageSize)}return Z};$5.prototype.setByte=function(Z,Y){var J=Z&this._pageMask,X=(Z-J)/this.pageSize,$=this.pages.get(X,!1);if(J+=this.pageOffset,$.buffer[J]===Y)return!1;if($.buffer[J]=Y,Z>=this.byteLength)this.byteLength=Z+1,this.length=this.byteLength*8;if(this._trackUpdates)this.pages.updated($);return!0}});var yS=w((fS)=>{Object.defineProperty(fS,"__esModule",{value:!0});var lX1=import.meta.require("zlib");fS.default=lX1.gunzipSync(Buffer.from("H4sIAAAAAAACA+3dTYgcWR0A8FfTnekQ47aCkBxiZpYV8RhwYQM7bA/ksoLgSRD0IOSiePAkLrowvWSF4CkHEW856MlTQHA9RKZ1ZJODsEcVcTOyhxUEbXdXtpPp1PNVV39Uz4czEyaTVOb3G6a7XtWrr/devX49/+qekG2Go7Aa2jHGyozG+Dmrzi2mP/xb/zMhLI+WlRm2byubm2h0ivVi7BYzusVjuNkt1l9uFWsutWL8OP4rzV9KeXdsKx1HFhbSc6vIG0fKBZ14UNfLFS6FRrGRtXh98ZvphL/x4uLV/IOzaat/vlikv/TixavxR8PQitfPpKNbffXSwgtr8fV07GX+L1967urwg5W0/t0LV37y/oWFlQtX8ping7reXE3LT680r9yPKyn/3Vn64SwdVs6m/KN0yHrp9D+RvXsqpe6MSia5mH6LSog//Xq/++O74YVTjfDFWK2VIuNSemiPppphcVYeyzcudKqFMiq6cs3vVkrzlcnE0mxeZ1Jf2ZXsSvk8TmRZWYdpalydxd5bc8eUkt1wlEbtqTVLr8XQLFpKMb+dpr9SbSOt4ozTgXUq8+Ihm8cTt0shtCvT6dwao6sxPf5ydmU208/Z0yH8IZtlvZi3e5fG12yn3PLSdPvnQ7vsK9rxyKpqevzFZGVfu3YHezvbnbvit9Xdm5fGbf/MZ7PuuNrTjLJnaofH7gm0h+VKU/g/tdUocrer3cO4yOcuycGoyLrba6Ta+lrlnkZ5ntvWCrfV39wLTuNg9QvsvHb37P8BAGCP0eNTOH5szf154JmnNQIcn7b+FziyAfX4eWnn+C6Lm4M0mj31ubkViiDV4WLvs56qN54xGS3HWER5su6nQtZubl9tcY/4atbr9e5kWewew/g2a8fdy2Yaa97+pgQAAAAAAIBHtt+dYmWwaN/byI5g/9PYVfMvb4YvvDpOLJxvFgueP9VbPXh8/yCZViZxNYATaejmDQAAAACgfjJ/3QUA4JD3Px1InT+5PtQCAAAAAAAAAKD2xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP6G6+khVCgSAAAAAAAAAKidYQjLYVfNcPSyAE+dhQsnvAAq59/VHAAAAAAAAOCJmv8E/w4HiLqf3nWuWCB1pe0esg/pT3sKd+m4XjhpFpZH3/1THTcU6cfRLnrHf3ZNPZs+bf9rwPuIUPYAWb+j/Zy0EaAxAAAAAADwrPJ1IMBenu6ea99M+0W/17wCAAAAAAAAnGRLm8oA4JnQUAQAAAAAAAAAUHvi/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/jdX0ECsUCQAAAAAAAADUTiMCAAAAAAAAAHU3VAQAAAAAAAAAUH8hLNf1uwsWbhT/uWBzUEx/ei1Nxc001VqrnN2wuRjCK3G4HuNgtuJoSVj17Q9QyBQBAAAAAAAAHMKpuJ4/+Otc5L2XZi8dJlQ/LCPXhc4keJ9UI9uFre3rDfY9uoXZPQBFHL34HSWWm8sx5rH83d967IfZMRZHHG/2Qi8MFnbscXnhnzHei5NND8P2bW2OT3G8vFeebBHbz9dGEf5jDt+fK4/mTve1bnwndsNL92+mE/75xhs/yz65Ed/ZbP29SP96oxvCDxrxcjj333R262/d6X6tG66lYy/z/+rtMn83nHvv9nfOv/dw4+pvspCl4v7+1npa/nHvtbSvjSJ/mf79/VuLC7N03LiW8o/SMU8ldO+jPOul1OVQ3vVwK+TZqBLCt3/RXvveS7eaD0L8YyhrJeV/cC0WGTdD1hzlCo2H98vzK9a+963V7qRVTeaNa+ZGpWp+N62jSmOetJD8dn67fB4n8nzchG7n4+os2tcgzLWUQVg70rta8lE7nqW7IW710v7eDsV1F7e6433njYfd9j9Gl2KIveptMePVamOXQuhXO5tUk6Pv+kiPX43T7/3YevDy4MN+HLw8CHPX6OqOOwKe73z0+pnf3rvT6pX76j/SUU7/3UjqX5r7ZW7PdZU8Vq2id+29Pphdh3n1Tqp/t0aXaWVOPnsFGre+waRdpKf/TK+7fiX3bOWluVeJg77AAPNDwr37fwAA2GP0+BSOHwcn6/231ghwfPr6X+DIBtTj582d47s8LD3xMeYktt+YHXHe6XQuH9P4Nu+H3ctmGmve/qYEAAAAAACAR7bfnWJlsGgSNNoM54tPZ23EI4vYzPY1/fzq1ud/GP/01jjx8P2tYsG7DzrrB4/vHySTz5YB+n8AAAAAgJrJ/XEXAIDHEf/2yXUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGdABAAAAAAAAADqbqgIAAAAAAAAAKD2hv8DWK79UBhoBgA=","base64"))});var vS=w((H8)=>{var bZ=function(){const Z=gS.default.readUInt32BE(YX);YX+=4;const Y=gS.default.slice(YX,YX+Z);return YX+=Z,iX1.default({buffer:Y})},bS=H8&&H8.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(H8,"__esModule",{value:!0});H8.bidirectional_l=H8.bidirectional_r_al=H8.prohibited_characters=H8.non_ASCII_space_characters=H8.commonly_mapped_to_nothing=H8.unassigned_code_points=void 0;var iX1=bS(xS()),gS=bS(yS()),YX=0;H8.unassigned_code_points=bZ();H8.commonly_mapped_to_nothing=bZ();H8.non_ASCII_space_characters=bZ();H8.prohibited_characters=bZ();H8.bidirectional_r_al=bZ();H8.bidirectional_l=bZ()});var dS=w((CP1,uS)=>{var mS=function(Z){const Y=[],J=Z.length;for(let X=0;X<J;X+=1){const $=Z.charCodeAt(X);if($>=55296&&$<=56319&&J>X+1){const W=Z.charCodeAt(X+1);if(W>=56320&&W<=57343){Y.push(($-55296)*1024+W-56320+65536),X+=1;continue}}Y.push($)}return Y},JX=function(Z,Y={}){if(typeof Z!=="string")throw new TypeError("Expected string.");if(Z.length===0)return"";const J=mS(Z).map((H)=>nX1.get(H)?32:H).filter((H)=>!aX1.get(H)),X=String.fromCodePoint.apply(null,J).normalize("NFKC"),$=mS(X);if($.some((H)=>W5.prohibited_characters.get(H)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(Y.allowUnassigned!==!0){if($.some((F)=>W5.unassigned_code_points.get(F)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5")}const G=$.some((H)=>W5.bidirectional_r_al.get(H)),K=$.some((H)=>W5.bidirectional_l.get(H));if(G&&K)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");const Q=W5.bidirectional_r_al.get(hS(sX1(X))),z=W5.bidirectional_r_al.get(hS(rX1(X)));if(G&&!(Q&&z))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return X},W5=vS(),nX1=W5.non_ASCII_space_characters,aX1=W5.commonly_mapped_to_nothing,hS=(Z)=>Z.codePointAt(0),sX1=(Z)=>Z[0],rX1=(Z)=>Z[Z.length-1];JX.saslprep=JX;JX.default=JX;uS.exports=JX});var eS=w((tS)=>{var pS=function(Z){return Z.replace("=","=3D").replace(",","=2C")},iS=function(Z,Y){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(Z,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(Y.toString("base64"),"utf8")])},nS=function(Z,Y,J){const X=pS(Y.username);return{saslStart:1,mechanism:Z==="sha1"?cS.AuthMechanism.MONGODB_SCRAM_SHA1:cS.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new Pq.Binary(Buffer.concat([Buffer.from("n,,","utf8"),iS(X,J)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}};async function Z31(Z,Y){const{connection:J,credentials:X}=Y;if(!X)throw new z7.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!Y.nonce)throw new z7.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");const $=Y.nonce,W=X.source,G=nS(Z,X,$),K=await J.commandAsync(Tq.ns(`${W}.\$cmd`),G,void 0);await aS(Z,K,Y)}async function aS(Z,Y,J){const{connection:X,credentials:$}=J;if(!$)throw new z7.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!J.nonce)throw new z7.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");const W=J.nonce,G=$.source,K=pS($.username),Q=$.password,z=Z==="sha256"?tX1.saslprep(Q):Y31(K,Q),H=Buffer.isBuffer(Y.payload)?new Pq.Binary(Y.payload):Y.payload,F=lS(H),q=parseInt(F.i,10);if(q&&q<4096)throw new z7.MongoRuntimeError(`Server returned an invalid iteration count ${q}`);const{s:V,r:U}=F;if(U.startsWith("nonce"))throw new z7.MongoRuntimeError(`Server returned an invalid nonce: ${U}`);const L=`c=biws,r=${U}`,R=G31(z,Buffer.from(V,"base64"),q,Z),A=TW(Z,R,"Client Key"),B=TW(Z,R,"Server Key"),M=X31(Z,A),D=[iS(K,W),H.toString("utf8"),L].join(","),d=TW(Z,M,D),O=`p=${J31(A,d)}`,E=[L,O].join(","),j=TW(Z,B,D),n={saslContinue:1,conversationId:Y.conversationId,payload:new Pq.Binary(Buffer.from(E))},c=await X.commandAsync(Tq.ns(`${G}.\$cmd`),n,void 0),y=lS(c.payload);if(!K31(Buffer.from(y.v,"base64"),j))throw new z7.MongoRuntimeError("Server returned an invalid signature");if(c.done!==!1)return;const C={saslContinue:1,conversationId:c.conversationId,payload:Buffer.alloc(0)};await X.commandAsync(Tq.ns(`${G}.\$cmd`),C,void 0)}var lS=function(Z){const Y=Z.toString("utf8"),J={},X=Y.split(",");for(let $=0;$<X.length;$++){const W=X[$].split("=");J[W[0]]=W[1]}return J},Y31=function(Z,Y){if(typeof Z!=="string")throw new z7.MongoInvalidArgumentError("Username must be a string");if(typeof Y!=="string")throw new z7.MongoInvalidArgumentError("Password must be a string");if(Y.length===0)throw new z7.MongoInvalidArgumentError("Password cannot be empty");let J;try{J=G5.createHash("md5")}catch(X){if(G5.getFips())throw new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode");throw X}return J.update(`${Z}:mongo:${Y}`,"utf8"),J.digest("hex")},J31=function(Z,Y){if(!Buffer.isBuffer(Z))Z=Buffer.from(Z);if(!Buffer.isBuffer(Y))Y=Buffer.from(Y);const J=Math.max(Z.length,Y.length),X=[];for(let $=0;$<J;$+=1)X.push(Z[$]^Y[$]);return Buffer.from(X).toString("base64")},X31=function(Z,Y){return G5.createHash(Z).update(Y).digest()},TW=function(Z,Y,J){return G5.createHmac(Z,Y).update(J).digest()},$31=function(){jW={},jq=0},G31=function(Z,Y,J,X){const $=[Z,Y.toString("base64"),J].join("_");if(jW[$]!=null)return jW[$];const W=G5.pbkdf2Sync(Z,Y,J,W31[X],X);if(jq>=200)$31();return jW[$]=W,jq+=1,W},K31=function(Z,Y){if(Z.length!==Y.length)return!1;if(typeof G5.timingSafeEqual==="function")return G5.timingSafeEqual(Z,Y);let J=0;for(let X=0;X<Z.length;X++)J|=Z[X]^Y[X];return J===0};Object.defineProperty(tS,"__esModule",{value:!0});tS.ScramSHA256=tS.ScramSHA1=void 0;var tX1=dS(),G5=import.meta.require("crypto"),oX1=import.meta.require("util"),Pq=t1(),z7=r(),Tq=X1(),eX1=G4(),cS=C7();class Eq extends eX1.AuthProvider{constructor(Z){super();this.cryptoMethod=Z||"sha1",this.randomBytesAsync=oX1.promisify(G5.randomBytes)}async prepare(Z,Y){const J=this.cryptoMethod,X=Y.credentials;if(!X)throw new z7.MongoMissingCredentialsError("AuthContext must provide credentials.");const $=await this.randomBytesAsync(24);return Y.nonce=$,{...Z,speculativeAuthenticate:{...nS(J,X,$),db:X.source}}}async auth(Z){const{reauthenticating:Y,response:J}=Z;if(J?.speculativeAuthenticate&&!Y)return aS(this.cryptoMethod,J.speculativeAuthenticate,Z);return Z31(this.cryptoMethod,Z)}}var jW={},jq=0,W31={sha256:32,sha1:20};class sS extends Eq{constructor(){super("sha1")}}tS.ScramSHA1=sS;class rS extends Eq{constructor(){super("sha256")}}tS.ScramSHA256=rS});var Wk=w((Xk)=>{var Yk=function(Z){const Y={authenticate:1,mechanism:"MONGODB-X509"};if(Z.username)Y.user=Z.username;return Y};Object.defineProperty(Xk,"__esModule",{value:!0});Xk.X509=void 0;var Zk=r(),z31=X1(),H31=G4();class Jk extends H31.AuthProvider{async prepare(Z,Y){const{credentials:J}=Y;if(!J)throw new Zk.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...Z,speculativeAuthenticate:Yk(J)}}async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new Zk.MongoMissingCredentialsError("AuthContext must provide credentials.");if(Z.response?.speculativeAuthenticate)return;await Y.commandAsync(z31.ns("$external.$cmd"),Yk(J),void 0)}}Xk.X509=Jk});var _q=w((Vk)=>{var B31=function(Z,Y){Oq({...Z,existingSocket:void 0},(J,X)=>{if(J||!X)return Y(J);let $=Z.connectionType??Kk.Connection;if(Z.autoEncrypter)$=Kk.CryptoConnection;const W=new $(X,Z);D31(W,Z).then(()=>Y(void 0,W),(G)=>{W.destroy({force:!1}),Y(G)})})},N31=function(Z,Y){const J=Number(Z.maxWireVersion),X=Number(Z.minWireVersion),$=!Number.isNaN(J)&&J>=vZ.MIN_SUPPORTED_WIRE_VERSION,W=!Number.isNaN(X)&&X<=vZ.MAX_SUPPORTED_WIRE_VERSION;if($){if(W)return null;const K=`Server at ${Y.hostAddress} reports minimum wire version ${JSON.stringify(Z.minWireVersion)}, but this version of the Node.js Driver requires at most ${vZ.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${vZ.MAX_SUPPORTED_SERVER_VERSION})`;return new j0.MongoCompatibilityError(K)}const G=`Server at ${Y.hostAddress} reports maximum wire version ${JSON.stringify(Z.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${vZ.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${vZ.MIN_SUPPORTED_SERVER_VERSION})`;return new j0.MongoCompatibilityError(G)};async function D31(Z,Y){const J=Y.credentials;if(J){if(J.mechanism!==y6.AuthMechanism.MONGODB_DEFAULT&&!Vk.AUTH_PROVIDERS.get(J.mechanism))throw new j0.MongoInvalidArgumentError(`AuthMechanism '${J.mechanism}' not supported`)}const X=new V31.AuthContext(Z,J,Y);Z.authContext=X;const $=await Fk(X),W={...Y};if(typeof Y.connectTimeoutMS==="number")W.socketTimeoutMS=Y.connectTimeoutMS;const G=(new Date()).getTime(),K=await Z.commandAsync(Hk.ns("admin.$cmd"),$,W);if(!("isWritablePrimary"in K))K.isWritablePrimary=K[zk.LEGACY_HELLO_COMMAND];if(K.helloOk)Z.helloOk=!0;const Q=N31(K,Y);if(Q)throw Q;if(Y.loadBalanced){if(!K.serviceId)throw new j0.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.")}if(Z.hello=K,Z.lastHelloMS=(new Date()).getTime()-G,!K.arbiterOnly&&J){X.response=K;const z=J.resolveAuthMechanism(K),H=Vk.AUTH_PROVIDERS.get(z.mechanism);if(!H)throw new j0.MongoInvalidArgumentError(`No AuthProvider for ${z.mechanism} defined.`);try{await H.auth(X)}catch(F){if(F instanceof j0.MongoError){if(F.addErrorLabel(j0.MongoErrorLabel.HandshakeError),j0.needsRetryableWriteLabel(F,K.maxWireVersion))F.addErrorLabel(j0.MongoErrorLabel.RetryableWriteError)}throw F}}}async function Fk(Z){const Y=Z.options,J=Y.compressors?Y.compressors:[],{serverApi:X}=Z.connection,$={[X?.version?"hello":zk.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:Y.metadata,compression:J};if(Y.loadBalanced===!0)$.loadBalanced=!0;const W=Z.credentials;if(W){if(W.mechanism===y6.AuthMechanism.MONGODB_DEFAULT&&W.username){$.saslSupportedMechs=`${W.source}.${W.username}`;const K=Vk.AUTH_PROVIDERS.get(y6.AuthMechanism.MONGODB_SCRAM_SHA256);if(!K)throw new j0.MongoInvalidArgumentError(`No AuthProvider for ${y6.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return K.prepare($,Z)}const G=Vk.AUTH_PROVIDERS.get(W.mechanism);if(!G)throw new j0.MongoInvalidArgumentError(`No AuthProvider for ${W.mechanism} defined.`);return G.prepare($,Z)}return $}var Sq=function(Z){const Y=Z.hostAddress;if(!Y)throw new j0.MongoInvalidArgumentError('Option "hostAddress" is required');const J={};for(let X of Vk.LEGAL_TCP_SOCKET_OPTIONS)if(Z[X]!=null)J[X]=Z[X];if(typeof Y.socketPath==="string")return J.path=Y.socketPath,J;else if(typeof Y.host==="string")return J.host=Y.host,J.port=Y.port,J;else throw new j0.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(Y)}`)},I31=function(Z){const Y=Sq(Z);for(let J of Vk.LEGAL_TLS_SOCKET_OPTIONS)if(Z[J]!=null)Y[J]=Z[J];if(Z.existingSocket)Y.socket=Z.existingSocket;if(Y.servername==null&&Y.host&&!Qk.isIP(Y.host))Y.servername=Y.host;return Y},Oq=function(Z,Y){const J=Z.tls??!1,X=Z.noDelay??!0,$=Z.connectTimeoutMS??30000,W=Z.rejectUnauthorized??!0,G=Z.existingSocket;let K;const Q=function(V,U){if(V&&K)K.destroy();Y(V,U)};if(Z.proxyHost!=null)return j31({...Z,connectTimeoutMS:$},Q);if(J){const V=F31.connect(I31(Z));if(typeof V.disableRenegotiation==="function")V.disableRenegotiation();K=V}else if(G)K=G;else K=Qk.createConnection(Sq(Z));K.setKeepAlive(!0,300000),K.setTimeout($),K.setNoDelay(X);const z=J?"secureConnect":"connect";let H;function F(V){return(U)=>{if(Cq.forEach((L)=>K.removeAllListeners(L)),H&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",H);K.removeListener(z,q),Q(qk(V,U))}}function q(){if(Cq.forEach((V)=>K.removeAllListeners(V)),H&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",H);if("authorizationError"in K){if(K.authorizationError&&W)return Q(K.authorizationError)}K.setTimeout(0),Q(void 0,K)}if(Cq.forEach((V)=>K.once(V,F(V))),Z.cancellationToken)H=F("cancel"),Z.cancellationToken.once("cancel",H);if(G)process.nextTick(q);else K.once(z,q)},T31=function(){if(XX==null){const Z=q31.getSocks();if("kModuleError"in Z)throw Z.kModuleError;XX=Z}return XX},j31=function(Z,Y){const J=Hk.HostAddress.fromHostPort(Z.proxyHost??"",Z.proxyPort??1080);Oq({...Z,hostAddress:J,tls:!1,proxyHost:void 0},(X,$)=>{if(X||!$)return Y(X);const W=Sq(Z);if(typeof W.host!=="string"||typeof W.port!=="number")return Y(new j0.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts"));try{XX??=T31()}catch(G){return Y(G)}XX.SocksClient.createConnection({existing_socket:$,timeout:Z.connectTimeoutMS,command:"connect",destination:{host:W.host,port:W.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:Z.proxyUsername||void 0,password:Z.proxyPassword||void 0}}).then(({socket:G})=>{Oq({...Z,existingSocket:G,proxyHost:void 0},Y)},(G)=>Y(qk("error",G)))})},qk=function(Z,Y){switch(Z){case"error":return new j0.MongoNetworkError(j0.MongoError.buildErrorMessage(Y),{cause:Y});case"timeout":return new j0.MongoNetworkTimeoutError("connection timed out");case"close":return new j0.MongoNetworkError("connection closed");case"cancel":return new j0.MongoNetworkError("connection establishment was cancelled");default:return new j0.MongoNetworkError("unknown network error")}};Object.defineProperty(Vk,"__esModule",{value:!0});Vk.LEGAL_TCP_SOCKET_OPTIONS=Vk.LEGAL_TLS_SOCKET_OPTIONS=Vk.prepareHandshakeDocument=Vk.connect=Vk.AUTH_PROVIDERS=void 0;var Qk=import.meta.require("net"),F31=import.meta.require("tls"),zk=b0(),q31=$7(),j0=r(),Hk=X1(),V31=G4(),U31=d$(),L31=CO(),w31=_O(),R31=PS(),M31=CS(),y6=C7(),Gk=eS(),A31=Wk(),Kk=oJ(),vZ=a5();Vk.AUTH_PROVIDERS=new Map([[y6.AuthMechanism.MONGODB_AWS,new w31.MongoDBAWS],[y6.AuthMechanism.MONGODB_CR,new L31.MongoCR],[y6.AuthMechanism.MONGODB_GSSAPI,new U31.GSSAPI],[y6.AuthMechanism.MONGODB_OIDC,new R31.MongoDBOIDC],[y6.AuthMechanism.MONGODB_PLAIN,new M31.Plain],[y6.AuthMechanism.MONGODB_SCRAM_SHA1,new Gk.ScramSHA1],[y6.AuthMechanism.MONGODB_SCRAM_SHA256,new Gk.ScramSHA256],[y6.AuthMechanism.MONGODB_X509,new A31.X509]]);Vk.connect=B31;Vk.prepareHandshakeDocument=Fk;Vk.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"];Vk.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];var P31=["error","close","timeout","parseError"],Cq=new Set(P31),XX=null});var xq=w((jk)=>{Object.defineProperty(jk,"__esModule",{value:!0});jk.ConnectionPoolClearedEvent=jk.ConnectionCheckedInEvent=jk.ConnectionCheckedOutEvent=jk.ConnectionCheckOutFailedEvent=jk.ConnectionCheckOutStartedEvent=jk.ConnectionClosedEvent=jk.ConnectionReadyEvent=jk.ConnectionCreatedEvent=jk.ConnectionPoolClosedEvent=jk.ConnectionPoolReadyEvent=jk.ConnectionPoolCreatedEvent=jk.ConnectionPoolMonitoringEvent=void 0;var H7=b0();class H6{constructor(Z){this.time=new Date,this.address=Z.address}}jk.ConnectionPoolMonitoringEvent=H6;class Lk extends H6{constructor(Z){super(Z);this.name=H7.CONNECTION_POOL_CREATED;const{maxConnecting:Y,maxPoolSize:J,minPoolSize:X,maxIdleTimeMS:$,waitQueueTimeoutMS:W}=Z.options;this.options={maxConnecting:Y,maxPoolSize:J,minPoolSize:X,maxIdleTimeMS:$,waitQueueTimeoutMS:W}}}jk.ConnectionPoolCreatedEvent=Lk;class wk extends H6{constructor(Z){super(Z);this.name=H7.CONNECTION_POOL_READY}}jk.ConnectionPoolReadyEvent=wk;class Rk extends H6{constructor(Z){super(Z);this.name=H7.CONNECTION_POOL_CLOSED}}jk.ConnectionPoolClosedEvent=Rk;class Mk extends H6{constructor(Z,Y){super(Z);this.name=H7.CONNECTION_CREATED,this.connectionId=Y.id}}jk.ConnectionCreatedEvent=Mk;class Ak extends H6{constructor(Z,Y){super(Z);this.name=H7.CONNECTION_READY,this.connectionId=Y.id}}jk.ConnectionReadyEvent=Ak;class Bk extends H6{constructor(Z,Y,J,X){super(Z);this.name=H7.CONNECTION_CLOSED,this.connectionId=Y.id,this.reason=J,this.serviceId=Y.serviceId,this.error=X??null}}jk.ConnectionClosedEvent=Bk;class Nk extends H6{constructor(Z){super(Z);this.name=H7.CONNECTION_CHECK_OUT_STARTED}}jk.ConnectionCheckOutStartedEvent=Nk;class Dk extends H6{constructor(Z,Y,J){super(Z);this.name=H7.CONNECTION_CHECK_OUT_FAILED,this.reason=Y,this.error=J}}jk.ConnectionCheckOutFailedEvent=Dk;class Ik extends H6{constructor(Z,Y){super(Z);this.name=H7.CONNECTION_CHECKED_OUT,this.connectionId=Y.id}}jk.ConnectionCheckedOutEvent=Ik;class Pk extends H6{constructor(Z,Y){super(Z);this.name=H7.CONNECTION_CHECKED_IN,this.connectionId=Y.id}}jk.ConnectionCheckedInEvent=Pk;class Tk extends H6{constructor(Z,Y={}){super(Z);this.name=H7.CONNECTION_POOL_CLEARED,this.serviceId=Y.serviceId,this.interruptInUseConnections=Y.interruptInUseConnections}}jk.ConnectionPoolClearedEvent=Tk});var yq=w((kk)=>{Object.defineProperty(kk,"__esModule",{value:!0});kk.WaitQueueTimeoutError=kk.PoolClearedOnNetworkError=kk.PoolClearedError=kk.PoolClosedError=void 0;var EW=r();class Ck extends EW.MongoDriverError{constructor(Z){super("Attempted to check out a connection from closed connection pool");this.address=Z.address}get name(){return"MongoPoolClosedError"}}kk.PoolClosedError=Ck;class fq extends EW.MongoNetworkError{constructor(Z,Y){const J=Y?Y:`Connection pool for ${Z.address} was cleared because another operation failed with: "${Z.serverError?.message}"`;super(J,Z.serverError?{cause:Z.serverError}:void 0);this.address=Z.address,this.addErrorLabel(EW.MongoErrorLabel.RetryableWriteError)}get name(){return"MongoPoolClearedError"}}kk.PoolClearedError=fq;class Ok extends fq{constructor(Z){super(Z,`Connection to ${Z.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}}kk.PoolClearedOnNetworkError=Ok;class Sk extends EW.MongoDriverError{constructor(Z,Y){super(Z);this.address=Y}get name(){return"MongoWaitQueueTimeoutError"}}kk.WaitQueueTimeoutError=Sk});var vk=w((gk)=>{Object.defineProperty(gk,"__esModule",{value:!0});gk.ConnectionPool=gk.PoolState=void 0;var hZ=import.meta.require("timers"),b6=b0(),F7=r(),xk=W6(),WX=X1(),fk=_q(),CW=oJ(),t0=xq(),mZ=yq(),c31=WH(),OW=Symbol("server"),q4=Symbol("connections"),uZ=Symbol("pending"),K5=Symbol("checkedOut"),V9=Symbol("minPoolSizeTimer"),dZ=Symbol("generation"),yk=Symbol("serviceGenerations"),SW=Symbol("connectionCounter"),kW=Symbol("cancellationToken"),V4=Symbol("waitQueue"),_W=Symbol("cancelled"),xW=Symbol("metrics"),fW=Symbol("processingWaitQueue"),q7=Symbol("poolState");gk.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});class v1 extends xk.TypedEventEmitter{constructor(Z,Y){super();if(this.options=Object.freeze({...Y,connectionType:CW.Connection,maxPoolSize:Y.maxPoolSize??100,minPoolSize:Y.minPoolSize??0,maxConnecting:Y.maxConnecting??2,maxIdleTimeMS:Y.maxIdleTimeMS??0,waitQueueTimeoutMS:Y.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:Y.minPoolSizeCheckFrequencyMS??100,autoEncrypter:Y.autoEncrypter,metadata:Y.metadata}),this.options.minPoolSize>this.options.maxPoolSize)throw new F7.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[q7]=gk.PoolState.paused,this[OW]=Z,this[q4]=new WX.List,this[uZ]=0,this[K5]=new Set,this[V9]=void 0,this[dZ]=0,this[yk]=new Map,this[SW]=WX.makeCounter(1),this[kW]=new xk.CancellationToken,this[kW].setMaxListeners(Infinity),this[V4]=new WX.List,this[xW]=new c31.ConnectionPoolMetrics,this[fW]=!1,this.mongoLogger=this[OW].topology.client.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog(v1.CONNECTION_POOL_CREATED,new t0.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[q7]===gk.PoolState.closed}get generation(){return this[dZ]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[q4].length}get pendingConnectionCount(){return this[uZ]}get currentCheckedOutCount(){return this[K5].size}get waitQueueSize(){return this[V4].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[yk]}get serverError(){return this[OW].description.error}get checkedOutConnections(){return this[K5]}waitQueueErrorMetrics(){return this[xW].info(this.options.maxPoolSize)}ready(){if(this[q7]!==gk.PoolState.paused)return;this[q7]=gk.PoolState.ready,this.emitAndLog(v1.CONNECTION_POOL_READY,new t0.ConnectionPoolReadyEvent(this)),hZ.clearTimeout(this[V9]),this.ensureMinPoolSize()}checkOut(Z){this.emitAndLog(v1.CONNECTION_CHECK_OUT_STARTED,new t0.ConnectionCheckOutStartedEvent(this));const Y=this.options.waitQueueTimeoutMS,J={callback:Z,timeoutController:new WX.TimeoutController(Y)};J.timeoutController.signal.addEventListener("abort",()=>{J[_W]=!0,J.timeoutController.clear(),this.emitAndLog(v1.CONNECTION_CHECK_OUT_FAILED,new t0.ConnectionCheckOutFailedEvent(this,"timeout")),J.callback(new mZ.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))}),this[V4].push(J),process.nextTick(()=>this.processWaitQueue())}checkIn(Z){if(!this[K5].has(Z))return;const Y=this.closed,J=this.connectionIsStale(Z),X=!!(Y||J||Z.closed);if(!X)Z.markAvailable(),this[q4].unshift(Z);if(this[K5].delete(Z),this.emitAndLog(v1.CONNECTION_CHECKED_IN,new t0.ConnectionCheckedInEvent(this,Z)),X){const $=Z.closed?"error":Y?"poolClosed":"stale";this.destroyConnection(Z,$)}process.nextTick(()=>this.processWaitQueue())}clear(Z={}){if(this.closed)return;if(this.loadBalanced){const{serviceId:$}=Z;if(!$)throw new F7.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");const W=$.toHexString(),G=this.serviceGenerations.get(W);if(G==null)throw new F7.MongoRuntimeError("Service generations are required in load balancer mode.");else this.serviceGenerations.set(W,G+1);this.emitAndLog(v1.CONNECTION_POOL_CLEARED,new t0.ConnectionPoolClearedEvent(this,{serviceId:$}));return}const Y=Z.interruptInUseConnections??!1,J=this[dZ];this[dZ]+=1;const X=this[q7]===gk.PoolState.paused;if(this[q7]=gk.PoolState.paused,this.clearMinPoolSizeTimer(),!X)this.emitAndLog(v1.CONNECTION_POOL_CLEARED,new t0.ConnectionPoolClearedEvent(this,{interruptInUseConnections:Y}));if(Y)process.nextTick(()=>this.interruptInUseConnections(J));this.processWaitQueue()}interruptInUseConnections(Z){for(let Y of this[K5])if(Y.generation<=Z)this.checkIn(Y),Y.onError(new mZ.PoolClearedOnNetworkError(this))}close(Z,Y){let J=Z;const X=Y??Z;if(typeof J==="function")J={};if(J=Object.assign({force:!1},J),this.closed)return X();if(this[kW].emit("cancel"),typeof this[SW].return==="function")this[SW].return(void 0);this[q7]=gk.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue(),WX.eachAsync(this[q4].toArray(),($,W)=>{this.emitAndLog(v1.CONNECTION_CLOSED,new t0.ConnectionClosedEvent(this,$,"poolClosed")),$.destroy({force:!!J.force},W)},($)=>{this[q4].clear(),this.emitAndLog(v1.CONNECTION_POOL_CLOSED,new t0.ConnectionPoolClosedEvent(this)),X($)})}withConnection(Z,Y,J){if(Z){Y(void 0,Z,(X,$)=>{if(X)return this.withReauthentication(X,Z,Y,J);J(void 0,$)});return}this.checkOut((X,$)=>{Y(X,$,(W,G)=>{if(W)if($)this.withReauthentication(W,$,Y,J);else J(W);else J(void 0,G);if($)this.checkIn($)})})}withReauthentication(Z,Y,J,X){if(Z instanceof F7.MongoError&&Z.code===F7.MONGODB_ERROR_CODES.Reauthenticate)this.reauthenticate(Y,J,($,W)=>{if($)return X($);X(void 0,W)});else X(Z)}reauthenticate(Z,Y,J){const X=Z.authContext;if(!X)return J(new F7.MongoRuntimeError("No auth context found on connection."));const $=X.credentials;if(!$)return J(new F7.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate"));const W=$.resolveAuthMechanism(Z.hello||void 0),G=fk.AUTH_PROVIDERS.get(W.mechanism);if(!G)return J(new F7.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${$.mechanism}`));G.reauth(X).then(()=>{Y(void 0,Z,(K,Q)=>{if(K)return J(K);J(void 0,Q)})},(K)=>J(K))}clearMinPoolSizeTimer(){const Z=this[V9];if(Z)hZ.clearTimeout(Z)}destroyConnection(Z,Y){this.emitAndLog(v1.CONNECTION_CLOSED,new t0.ConnectionClosedEvent(this,Z,Y)),process.nextTick(()=>Z.destroy({force:!1}))}connectionIsStale(Z){const Y=Z.serviceId;if(this.loadBalanced&&Y){const J=Y.toHexString(),X=this.serviceGenerations.get(J);return Z.generation!==X}return Z.generation!==this[dZ]}connectionIsIdle(Z){return!!(this.options.maxIdleTimeMS&&Z.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(Z){const Y=this.connectionIsStale(Z),J=this.connectionIsIdle(Z);if(!Y&&!J&&!Z.closed)return!1;const X=Z.closed?"error":Y?"stale":"idle";return this.destroyConnection(Z,X),!0}createConnection(Z){const Y={...this.options,id:this[SW].next().value,generation:this[dZ],cancellationToken:this[kW]};this[uZ]++,this.emitAndLog(v1.CONNECTION_CREATED,new t0.ConnectionCreatedEvent(this,{id:Y.id})),fk.connect(Y,(J,X)=>{if(J||!X){if(this[uZ]--,this.emitAndLog(v1.CONNECTION_CLOSED,new t0.ConnectionClosedEvent(this,{id:Y.id,serviceId:void 0},"error",J)),J instanceof F7.MongoNetworkError||J instanceof F7.MongoServerError)J.connectionGeneration=Y.generation;Z(J??new F7.MongoRuntimeError("Connection creation failed without error"));return}if(this[q7]!==gk.PoolState.ready){this[uZ]--,X.destroy({force:!0}),Z(this.closed?new mZ.PoolClosedError(this):new mZ.PoolClearedError(this));return}for(let $ of[...b6.APM_EVENTS,CW.Connection.CLUSTER_TIME_RECEIVED])X.on($,(W)=>this.emit($,W));if(this.loadBalanced){X.on(CW.Connection.PINNED,(W)=>this[xW].markPinned(W)),X.on(CW.Connection.UNPINNED,(W)=>this[xW].markUnpinned(W));const $=X.serviceId;if($){let W;const G=$.toHexString();if(W=this.serviceGenerations.get(G))X.generation=W;else this.serviceGenerations.set(G,0),X.generation=0}}X.markAvailable(),this.emitAndLog(v1.CONNECTION_READY,new t0.ConnectionReadyEvent(this,X)),this[uZ]--,Z(void 0,X);return})}ensureMinPoolSize(){const Z=this.options.minPoolSize;if(this[q7]!==gk.PoolState.ready||Z===0)return;if(this[q4].prune((Y)=>this.destroyConnectionIfPerished(Y)),this.totalConnectionCount<Z&&this.pendingConnectionCount<this.options.maxConnecting)this.createConnection((Y,J)=>{if(Y)this[OW].handleError(Y);if(!Y&&J)this[q4].push(J),process.nextTick(()=>this.processWaitQueue());if(this[q7]===gk.PoolState.ready)hZ.clearTimeout(this[V9]),this[V9]=hZ.setTimeout(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)});else hZ.clearTimeout(this[V9]),this[V9]=hZ.setTimeout(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)}processWaitQueue(){if(this[fW])return;this[fW]=!0;while(this.waitQueueSize){const J=this[V4].first();if(!J){this[V4].shift();continue}if(J[_W]){this[V4].shift();continue}if(this[q7]!==gk.PoolState.ready){const $=this.closed?"poolClosed":"connectionError",W=this.closed?new mZ.PoolClosedError(this):new mZ.PoolClearedError(this);this.emitAndLog(v1.CONNECTION_CHECK_OUT_FAILED,new t0.ConnectionCheckOutFailedEvent(this,$,W)),J.timeoutController.clear(),this[V4].shift(),J.callback(W);continue}if(!this.availableConnectionCount)break;const X=this[q4].shift();if(!X)break;if(!this.destroyConnectionIfPerished(X))this[K5].add(X),this.emitAndLog(v1.CONNECTION_CHECKED_OUT,new t0.ConnectionCheckedOutEvent(this,X)),J.timeoutController.clear(),this[V4].shift(),J.callback(void 0,X)}const{maxPoolSize:Z,maxConnecting:Y}=this.options;while(this.waitQueueSize>0&&this.pendingConnectionCount<Y&&(Z===0||this.totalConnectionCount<Z)){const J=this[V4].shift();if(!J||J[_W])continue;this.createConnection((X,$)=>{if(J[_W]){if(!X&&$)this[q4].push($)}else{if(X)this.emitAndLog(v1.CONNECTION_CHECK_OUT_FAILED,new t0.ConnectionCheckOutFailedEvent(this,"connectionError",X));else if($)this[K5].add($),this.emitAndLog(v1.CONNECTION_CHECKED_OUT,new t0.ConnectionCheckedOutEvent(this,$));J.timeoutController.clear(),J.callback(X,$)}process.nextTick(()=>this.processWaitQueue())})}this[fW]=!1}}v1.CONNECTION_POOL_CREATED=b6.CONNECTION_POOL_CREATED;v1.CONNECTION_POOL_CLOSED=b6.CONNECTION_POOL_CLOSED;v1.CONNECTION_POOL_CLEARED=b6.CONNECTION_POOL_CLEARED;v1.CONNECTION_POOL_READY=b6.CONNECTION_POOL_READY;v1.CONNECTION_CREATED=b6.CONNECTION_CREATED;v1.CONNECTION_READY=b6.CONNECTION_READY;v1.CONNECTION_CLOSED=b6.CONNECTION_CLOSED;v1.CONNECTION_CHECK_OUT_STARTED=b6.CONNECTION_CHECK_OUT_STARTED;v1.CONNECTION_CHECK_OUT_FAILED=b6.CONNECTION_CHECK_OUT_FAILED;v1.CONNECTION_CHECKED_OUT=b6.CONNECTION_CHECKED_OUT;v1.CONNECTION_CHECKED_IN=b6.CONNECTION_CHECKED_IN;gk.ConnectionPool=v1});var ak=w((ik)=>{var zX=function(Z){return Z.s.state===o0.STATE_CLOSED||Z.s.state===o0.STATE_CLOSING},uk=function(Z){Z[f7]?.stop(),Z[f7]=void 0,Z[U9]?.close(),Z[U9]=void 0,Z[w9].emit("cancel"),Z[e0]?.destroy({force:!0}),Z[e0]=void 0},i31=function(Z,Y){let J=F6.now();const X=Z[yW].description.topologyVersion,$=X!=null;Z.emit(KX.Server.SERVER_HEARTBEAT_STARTED,new GX.ServerHeartbeatStartedEvent(Z.address,$));function W(K){Z[e0]?.destroy({force:!0}),Z[e0]=void 0,Z.emit(KX.Server.SERVER_HEARTBEAT_FAILED,new GX.ServerHeartbeatFailedEvent(Z.address,F6.calculateDurationInMs(J),K,$));const Q=!(K instanceof cZ.MongoError)?new cZ.MongoError(cZ.MongoError.buildErrorMessage(K),{cause:K}):K;if(Q.addErrorLabel(cZ.MongoErrorLabel.ResetPool),Q instanceof cZ.MongoNetworkTimeoutError)Q.addErrorLabel(cZ.MongoErrorLabel.InterruptInUseConnections);Z.emit("resetServer",Q),Y(K)}const G=Z[e0];if(G&&!G.closed){const{serverApi:K,helloOk:Q}=G,z=Z.options.connectTimeoutMS,H=Z.options.heartbeatFrequencyMS,F={[K?.version||Q?"hello":gq.LEGACY_HELLO_COMMAND]:1,...$&&X?{maxAwaitTimeMS:H,topologyVersion:n31(X)}:{}},q=$?{socketTimeoutMS:z?z+H:0,exhaustAllowed:!0}:{socketTimeoutMS:z};if($&&Z[U9]==null)Z[U9]=new bq(Z[w9],Object.assign({heartbeatFrequencyMS:Z.options.heartbeatFrequencyMS},Z.connectOptions));G.command(F6.ns("admin.$cmd"),F,q,(V,U)=>{if(V)return W(V);if(!("isWritablePrimary"in U))U.isWritablePrimary=U[gq.LEGACY_HELLO_COMMAND];const L=Z[U9],R=$&&L?L.roundTripTime:F6.calculateDurationInMs(J),A=$&&U.topologyVersion!=null;if(Z.emit(KX.Server.SERVER_HEARTBEAT_SUCCEEDED,new GX.ServerHeartbeatSucceededEvent(Z.address,R,U,A)),A)Z.emit(KX.Server.SERVER_HEARTBEAT_STARTED,new GX.ServerHeartbeatStartedEvent(Z.address,!0)),J=F6.now();else Z[U9]?.close(),Z[U9]=void 0,Y(void 0,U)});return}ck.connect(Z.connectOptions,(K,Q)=>{if(K){Z[e0]=void 0,W(K);return}if(Q){if(Q.isMonitoringConnection=!0,zX(Z)){Q.destroy({force:!0});return}Z[e0]=Q,Z.emit(KX.Server.SERVER_HEARTBEAT_SUCCEEDED,new GX.ServerHeartbeatSucceededEvent(Z.address,F6.calculateDurationInMs(J),Q.hello,!1)),Y(void 0,Q.hello)}})},dk=function(Z){return(Y)=>{if(Z.s.state===L9){process.nextTick(Y);return}pZ(Z,L9);function J(){if(!zX(Z))pZ(Z,lZ);Y()}i31(Z,(X,$)=>{if(X){if(Z[yW].description.type===o0.ServerType.Unknown)return J()}if($&&$.topologyVersion)Q5.setTimeout(()=>{if(!zX(Z))Z[f7]?.wake()},0);J()})}},n31=function(Z){return{processId:Z.processId,counter:hk.Long.isLong(Z.counter)?Z.counter:hk.Long.fromNumber(Z.counter)}},pk=function(Z,Y){const J=F6.now();Y.cancellationToken=Z[w9];const X=Y.heartbeatFrequencyMS;if(Z.closed)return;function $(G){if(Z.closed){G?.destroy({force:!0});return}if(Z[e0]==null)Z[e0]=G;Z[QX]=F6.calculateDurationInMs(J),Z[f7]=Q5.setTimeout(()=>pk(Z,Y),X)}const W=Z[e0];if(W==null){ck.connect(Y,(G,K)=>{if(G){Z[e0]=void 0,Z[QX]=0;return}$(K)});return}W.command(F6.ns("admin.$cmd"),{[gq.LEGACY_HELLO_COMMAND]:1},void 0,(G)=>{if(G){Z[e0]=void 0,Z[QX]=0;return}$()})};Object.defineProperty(ik,"__esModule",{value:!0});ik.MonitorInterval=ik.RTTPinger=ik.Monitor=void 0;var Q5=import.meta.require("timers"),hk=t1(),ck=_q(),l31=oJ(),gq=b0(),cZ=r(),mk=W6(),F6=X1(),o0=P6(),GX=UW(),KX=vq(),yW=Symbol("server"),f7=Symbol("monitorId"),e0=Symbol("connection"),w9=Symbol("cancellationToken"),U9=Symbol("rttPinger"),QX=Symbol("roundTripTime"),lZ="idle",L9="monitoring",pZ=F6.makeStateMachine({[o0.STATE_CLOSING]:[o0.STATE_CLOSING,lZ,o0.STATE_CLOSED],[o0.STATE_CLOSED]:[o0.STATE_CLOSED,L9],[lZ]:[lZ,L9,o0.STATE_CLOSING],[L9]:[L9,lZ,o0.STATE_CLOSING]}),p31=new Set([o0.STATE_CLOSING,o0.STATE_CLOSED,L9]);class lk extends mk.TypedEventEmitter{get connection(){return this[e0]}constructor(Z,Y){super();this[yW]=Z,this[e0]=void 0,this[w9]=new mk.CancellationToken,this[w9].setMaxListeners(Infinity),this[f7]=void 0,this.s={state:o0.STATE_CLOSED},this.address=Z.description.address,this.options=Object.freeze({connectTimeoutMS:Y.connectTimeoutMS??1e4,heartbeatFrequencyMS:Y.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:Y.minHeartbeatFrequencyMS??500});const J=this[w9],X=Object.assign({id:"<monitor>",generation:Z.pool.generation,connectionType:l31.Connection,cancellationToken:J,hostAddress:Z.description.hostAddress},Y,{raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0});if(delete X.credentials,X.autoEncrypter)delete X.autoEncrypter;this.connectOptions=Object.freeze(X)}connect(){if(this.s.state!==o0.STATE_CLOSED)return;const Z=this.options.heartbeatFrequencyMS,Y=this.options.minHeartbeatFrequencyMS;this[f7]=new gW(dk(this),{heartbeatFrequencyMS:Z,minHeartbeatFrequencyMS:Y,immediate:!0})}requestCheck(){if(p31.has(this.s.state))return;this[f7]?.wake()}reset(){const Z=this[yW].description.topologyVersion;if(zX(this)||Z==null)return;pZ(this,o0.STATE_CLOSING),uk(this),pZ(this,lZ);const Y=this.options.heartbeatFrequencyMS,J=this.options.minHeartbeatFrequencyMS;this[f7]=new gW(dk(this),{heartbeatFrequencyMS:Y,minHeartbeatFrequencyMS:J})}close(){if(zX(this))return;pZ(this,o0.STATE_CLOSING),uk(this),this.emit("close"),pZ(this,o0.STATE_CLOSED)}}ik.Monitor=lk;class bq{constructor(Z,Y){this[e0]=void 0,this[w9]=Z,this[QX]=0,this.closed=!1;const J=Y.heartbeatFrequencyMS;this[f7]=Q5.setTimeout(()=>pk(this,Y),J)}get roundTripTime(){return this[QX]}close(){this.closed=!0,Q5.clearTimeout(this[f7]),this[e0]?.destroy({force:!0}),this[e0]=void 0}}ik.RTTPinger=bq;class gW{constructor(Z,Y={}){if(this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{if(this.stopped)return;if(this.timerId)Q5.clearTimeout(this.timerId);this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=F6.now(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)})},this.fn=Z,this.lastExecutionEnded=(-Infinity),this.heartbeatFrequencyMS=Y.heartbeatFrequencyMS??1000,this.minHeartbeatFrequencyMS=Y.minHeartbeatFrequencyMS??500,Y.immediate)this._executeAndReschedule();else this._reschedule(void 0)}wake(){const Y=F6.now()-this.lastExecutionEnded;if(Y<0)return this._executeAndReschedule();if(this.isExecutionInProgress)return;if(this.isExpeditedCallToFnScheduled)return;if(Y<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-Y);return}this._executeAndReschedule()}stop(){if(this.stopped=!0,this.timerId)Q5.clearTimeout(this.timerId),this.timerId=void 0;this.lastExecutionEnded=(-Infinity),this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){const Z=F6.now(),Y=Z-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:Z,timeSinceLastCall:Y}}_reschedule(Z){if(this.stopped)return;if(this.timerId)Q5.clearTimeout(this.timerId);this.timerId=Q5.setTimeout(this._executeAndReschedule,Z||this.heartbeatFrequencyMS)}}ik.MonitorInterval=gW});var vq=w((rk)=>{var J$1=function(Z,Y){if(Z===-1)return Y;const J=0.2;return J*Y+(1-J)*Z},hq=function(Z,Y){if(Z.loadBalanced)return;if(Y instanceof W0.MongoNetworkError&&!(Y instanceof W0.MongoNetworkTimeoutError))Z[iZ]?.reset();Z.emit(m8.DESCRIPTION_RECEIVED,new dq.ServerDescription(Z.description.hostAddress,void 0,{error:Y}))},X$1=function(Z,Y){if(Y)return Y.inTransaction()||"aggregate"in Z||"find"in Z||"getMore"in Z||"listCollections"in Z||"listIndexes"in Z;return!1},$$1=function(Z,Y){if(Y.serviceId)return Y.generation!==Z.serviceGenerations.get(Y.serviceId.toHexString());return Y.generation!==Z.generation},W$1=function(Z,Y){const J=Y.topologyVersion,X=Z.description.topologyVersion;return dq.compareTopologyVersion(X,J)<0},mq=function(Z,Y){return Z&&Z.inTransaction()&&!uq.isTransactionCommand(Y)},sk=function(Z){return Z.s.options.retryWrites!==!1},G$1=function(Z,Y,J,X,$){const W=X?.session;return function G(K,Q){if(K==null&&Q!=null)return $(void 0,Q);if(X!=null&&"noResponse"in X&&X.noResponse===!0)return $(void 0,null);if(!K)return $(new W0.MongoUnexpectedServerResponseError("Empty response with no error"));if(!(K instanceof W0.MongoError))return $(K);if($$1(Z.pool,Y))return $(K);if(K instanceof W0.MongoNetworkError){if(W&&!W.hasEnded&&W.serverSession)W.serverSession.isDirty=!0;if(mq(W,J)&&!K.hasErrorLabel(W0.MongoErrorLabel.TransientTransactionError))K.addErrorLabel(W0.MongoErrorLabel.TransientTransactionError);if((sk(Z.topology)||uq.isTransactionCommand(J))&&bW.supportsRetryableWrites(Z)&&!mq(W,J))K.addErrorLabel(W0.MongoErrorLabel.RetryableWriteError)}else if((sk(Z.topology)||uq.isTransactionCommand(J))&&W0.needsRetryableWriteLabel(K,bW.maxWireVersion(Z))&&!mq(W,J))K.addErrorLabel(W0.MongoErrorLabel.RetryableWriteError);if(W&&W.isPinned&&K.hasErrorLabel(W0.MongoErrorLabel.TransientTransactionError))W.unpin({force:!0});return Z.handleError(K,Y),$(K)}};Object.defineProperty(rk,"__esModule",{value:!0});rk.Server=void 0;var r31=import.meta.require("util"),t31=oJ(),o31=vk(),e31=yq(),y7=b0(),W0=r(),Z$1=W6(),uq=HH(),bW=X1(),i1=P6(),Y$1=ak(),dq=BJ(),HX=bW.makeStateMachine({[i1.STATE_CLOSED]:[i1.STATE_CLOSED,i1.STATE_CONNECTING],[i1.STATE_CONNECTING]:[i1.STATE_CONNECTING,i1.STATE_CLOSING,i1.STATE_CONNECTED,i1.STATE_CLOSED],[i1.STATE_CONNECTED]:[i1.STATE_CONNECTED,i1.STATE_CLOSING,i1.STATE_CLOSED],[i1.STATE_CLOSING]:[i1.STATE_CLOSING,i1.STATE_CLOSED]}),iZ=Symbol("monitor");class m8 extends Z$1.TypedEventEmitter{constructor(Z,Y,J){super();this.commandAsync=r31.promisify((W,G,K,Q)=>this.command(W,G,K,Q)),this.serverApi=J.serverApi;const X={hostAddress:Y.hostAddress,...J};this.topology=Z,this.pool=new o31.ConnectionPool(this,X),this.s={description:Y,options:J,state:i1.STATE_CLOSED,operationCount:0};for(let W of[...y7.CMAP_EVENTS,...y7.APM_EVENTS])this.pool.on(W,(G)=>this.emit(W,G));if(this.pool.on(t31.Connection.CLUSTER_TIME_RECEIVED,(W)=>{this.clusterTime=W}),this.loadBalanced){this[iZ]=null;return}const $=new Y$1.Monitor(this,this.s.options);this[iZ]=$;for(let W of y7.HEARTBEAT_EVENTS)$.on(W,(G)=>this.emit(W,G));$.on("resetServer",(W)=>hq(this,W)),$.on(m8.SERVER_HEARTBEAT_SUCCEEDED,(W)=>{if(this.emit(m8.DESCRIPTION_RECEIVED,new dq.ServerDescription(this.description.hostAddress,W.reply,{roundTripTime:J$1(this.description.roundTripTime,W.duration)})),this.s.state===i1.STATE_CONNECTING)HX(this,i1.STATE_CONNECTED),this.emit(m8.CONNECT,this)})}get clusterTime(){return this.topology.clusterTime}set clusterTime(Z){this.topology.clusterTime=Z}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter;return}get loadBalanced(){return this.topology.description.type===i1.TopologyType.LoadBalanced}connect(){if(this.s.state!==i1.STATE_CLOSED)return;if(HX(this,i1.STATE_CONNECTING),!this.loadBalanced)this[iZ]?.connect();else HX(this,i1.STATE_CONNECTED),this.emit(m8.CONNECT,this)}destroy(Z,Y){if(typeof Z==="function")Y=Z,Z={force:!1};if(Z=Object.assign({},{force:!1},Z),this.s.state===i1.STATE_CLOSED){if(typeof Y==="function")Y();return}if(HX(this,i1.STATE_CLOSING),!this.loadBalanced)this[iZ]?.close();this.pool.close(Z,(J)=>{if(HX(this,i1.STATE_CLOSED),this.emit("closed"),typeof Y==="function")Y(J)})}requestCheck(){if(!this.loadBalanced)this[iZ]?.requestCheck()}command(Z,Y,J,X){if(X==null)throw new W0.MongoInvalidArgumentError("Callback must be provided");if(Z.db==null||typeof Z==="string")throw new W0.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===i1.STATE_CLOSING||this.s.state===i1.STATE_CLOSED){X(new W0.MongoServerClosedError);return}const $=Object.assign({},J,{wireProtocolCommand:!1});if($.omitReadPreference)delete $.readPreference;const W=$.session,G=W?.pinnedConnection;if(this.loadBalanced&&W&&G==null&&X$1(Y,W)){this.pool.checkOut((K,Q)=>{if(K||Q==null){if(X)return X(K);return}W.pin(Q),this.command(Z,Y,$,X)});return}this.incrementOperationCount(),this.pool.withConnection(G,(K,Q,z)=>{if(K||!Q){if(this.decrementOperationCount(),!K)return z(new W0.MongoRuntimeError("Failed to create connection without error"));if(!(K instanceof e31.PoolClearedError))this.handleError(K);return z(K)}Q.command(Z,Y,$,G$1(this,Q,Y,$,(H,F)=>{this.decrementOperationCount(),z(H,F)}))},X)}handleError(Z,Y){if(!(Z instanceof W0.MongoError))return;if(Z.connectionGeneration&&Z.connectionGeneration<this.pool.generation)return;const X=Z instanceof W0.MongoNetworkError&&!(Z instanceof W0.MongoNetworkTimeoutError),$=W0.isNetworkErrorBeforeHandshake(Z),W=Z.hasErrorLabel(W0.MongoErrorLabel.HandshakeError);if(X||$||W){if(!this.loadBalanced)Z.addErrorLabel(W0.MongoErrorLabel.ResetPool),hq(this,Z);else if(Y)this.pool.clear({serviceId:Y.serviceId})}else if(W0.isSDAMUnrecoverableError(Z)){if(W$1(this,Z)){const G=bW.maxWireVersion(this)<=7||W0.isNodeShuttingDownError(Z);if(this.loadBalanced&&Y&&G)this.pool.clear({serviceId:Y.serviceId});if(!this.loadBalanced){if(G)Z.addErrorLabel(W0.MongoErrorLabel.ResetPool);hq(this,Z),process.nextTick(()=>this.requestCheck())}}}}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}}m8.SERVER_HEARTBEAT_STARTED=y7.SERVER_HEARTBEAT_STARTED;m8.SERVER_HEARTBEAT_SUCCEEDED=y7.SERVER_HEARTBEAT_SUCCEEDED;m8.SERVER_HEARTBEAT_FAILED=y7.SERVER_HEARTBEAT_FAILED;m8.CONNECT=y7.CONNECT;m8.DESCRIPTION_RECEIVED=y7.DESCRIPTION_RECEIVED;m8.CLOSED=y7.CLOSED;m8.ENDED=y7.ENDED;rk.Server=m8});var pq=w((ek)=>{Object.defineProperty(ek,"__esModule",{value:!0});ek.SrvPoller=ek.SrvPollingEvent=void 0;var K$1=import.meta.require("dns"),cq=import.meta.require("timers"),Q$1=r(),z$1=W6(),ok=X1();class lq{constructor(Z){this.srvRecords=Z}hostnames(){return new Set(this.srvRecords.map((Z)=>ok.HostAddress.fromSrvRecord(Z).toString()))}}ek.SrvPollingEvent=lq;class vW extends z$1.TypedEventEmitter{constructor(Z){super();if(!Z||!Z.srvHost)throw new Q$1.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=Z.srvHost,this.srvMaxHosts=Z.srvMaxHosts??0,this.srvServiceName=Z.srvServiceName??"mongodb",this.rescanSrvIntervalMS=60000,this.heartbeatFrequencyMS=Z.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){if(!this._timeout)this.schedule()}stop(){if(this._timeout)cq.clearTimeout(this._timeout),this.generation+=1,this._timeout=void 0}schedule(){if(this._timeout)cq.clearTimeout(this._timeout);this._timeout=cq.setTimeout(()=>{this._poll().catch(()=>null)},this.intervalMS)}success(Z){this.haMode=!1,this.schedule(),this.emit(vW.SRV_RECORD_DISCOVERY,new lq(Z))}failure(){this.haMode=!0,this.schedule()}async _poll(){const Z=this.generation;let Y;try{Y=await K$1.promises.resolveSrv(this.srvAddress)}catch(X){this.failure();return}if(Z!==this.generation)return;const J=[];for(let X of Y)if(ok.matchesParentDomain(X.name,this.srvHost))J.push(X);if(!J.length){this.failure();return}this.success(J)}}vW.SRV_RECORD_DISCOVERY="srvRecordDiscovery";ek.SrvPoller=vW});var q_=w((H_)=>{var K_=function(Z,Y,J,X){J=J??{force:!1};for(let $ of u8.LOCAL_SERVER_EVENTS)Z.removeAllListeners($);Z.destroy(J,()=>{Y.emit(d1.SERVER_CLOSED,new z5.ServerClosedEvent(Y.s.id,Z.description.address));for(let $ of u8.SERVER_RELAY_EVENTS)Z.removeAllListeners($);if(typeof X==="function")X()})},V$1=function(Z){if(Z?.directConnection)return L1.TopologyType.Single;if(Z?.replicaSet)return L1.TopologyType.ReplicaSetNoPrimary;if(Z?.loadBalanced)return L1.TopologyType.LoadBalanced;return L1.TopologyType.Unknown},Q_=function(Z,Y){Z.emit(d1.SERVER_OPENING,new z5.ServerOpeningEvent(Z.s.id,Y.address));const J=new X_.Server(Z,Y,Z.s.options);for(let X of u8.SERVER_RELAY_EVENTS)J.on(X,($)=>Z.emit(X,$));return J.on(X_.Server.DESCRIPTION_RECEIVED,(X)=>Z.serverUpdateHandler(X)),J.connect(),J},W_=function(Z,Y){if(Y&&Z.s.servers.has(Y.address)){const J=Z.s.servers.get(Y.address);if(J){if(J.s.description=Y,Y.error instanceof L4.MongoError&&Y.error.hasErrorLabel(L4.MongoErrorLabel.ResetPool)){const X=Y.error.hasErrorLabel(L4.MongoErrorLabel.InterruptInUseConnections);J.pool.clear({interruptInUseConnections:X})}else if(Y.error==null){const X=Z.s.description.type;if(Y.isDataBearing||Y.type!==L1.ServerType.Unknown&&X===L1.TopologyType.Single)J.pool.ready()}}}for(let J of Z.description.servers.values())if(!Z.s.servers.has(J.address)){const X=Q_(Z,J);Z.s.servers.set(J.address,X)}for(let J of Z.s.servers){const X=J[0];if(Z.description.hasServer(X))continue;if(!Z.s.servers.has(X))continue;const $=Z.s.servers.get(X);if(Z.s.servers.delete(X),$)K_($,Z)}},z_=function(Z,Y){while(Z.length){const J=Z.shift();if(!J)continue;if(J.timeoutController.clear(),!J[aq])J.callback(Y)}},G_=function(Z){if(Z.s.state===L1.STATE_CLOSED){z_(Z[U4],new L4.MongoTopologyClosedError);return}const Y=Z.description.type===L1.TopologyType.Sharded,J=Array.from(Z.description.servers.values()),X=Z[U4].length;for(let $=0;$<X;++$){const W=Z[U4].shift();if(!W)continue;if(W[aq])continue;let G;try{const z=W.serverSelector;G=z?z(Z.description,J):J}catch(z){W.timeoutController.clear(),W.callback(z);continue}let K;if(G.length===0){Z[U4].push(W);continue}else if(G.length===1)K=Z.s.servers.get(G[0].address);else{const z=g7.shuffle(G,2),H=Z.s.servers.get(z[0].address),F=Z.s.servers.get(z[1].address);K=H&&F&&H.s.operationCount<F.s.operationCount?H:F}if(!K){W.callback(new L4.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",Z.description));return}const Q=W.transaction;if(Y&&Q&&Q.isActive&&K)Q.pinServer(K);W.timeoutController.clear(),W.callback(void 0,K)}if(Z[U4].length>0)for(let[,$]of Z.s.servers)process.nextTick(function W(){return $.requestCheck()})},U$1=function(Z,Y){const X=Z.servers.get(Y.address)?.topologyVersion;return nq.compareTopologyVersion(X,Y.topologyVersion)>0};Object.defineProperty(H_,"__esModule",{value:!0});H_.ServerCapabilities=H_.Topology=void 0;var Y_=import.meta.require("util"),J_=Jq(),u8=b0(),L4=r(),F$1=W6(),FX=S0(),g7=X1(),L1=P6(),z5=UW(),X_=vq(),nq=BJ(),iq=GJ(),hW=pq(),$_=KH(),q$1=0,qX=g7.makeStateMachine({[L1.STATE_CLOSED]:[L1.STATE_CLOSED,L1.STATE_CONNECTING],[L1.STATE_CONNECTING]:[L1.STATE_CONNECTING,L1.STATE_CLOSING,L1.STATE_CONNECTED,L1.STATE_CLOSED],[L1.STATE_CONNECTED]:[L1.STATE_CONNECTED,L1.STATE_CLOSING,L1.STATE_CLOSED],[L1.STATE_CLOSING]:[L1.STATE_CLOSING,L1.STATE_CLOSED]}),aq=Symbol("cancelled"),U4=Symbol("waitQueue");class d1 extends F$1.TypedEventEmitter{constructor(Z,Y,J){super();if(this.client=Z,this.selectServerAsync=Y_.promisify((Q,z,H)=>this.selectServer(Q,z,H)),J=J??{hosts:[g7.HostAddress.fromString("localhost:27017")],...Object.fromEntries(J_.DEFAULT_OPTIONS.entries()),...Object.fromEntries(J_.FEATURE_FLAGS.entries())},typeof Y==="string")Y=[g7.HostAddress.fromString(Y)];else if(!Array.isArray(Y))Y=[Y];const X=[];for(let Q of Y)if(typeof Q==="string")X.push(g7.HostAddress.fromString(Q));else if(Q instanceof g7.HostAddress)X.push(Q);else throw new L4.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(Q)}`);const $=V$1(J),W=q$1++,G=J.srvMaxHosts==null||J.srvMaxHosts===0||J.srvMaxHosts>=X.length?X:g7.shuffle(X,J.srvMaxHosts),K=new Map;for(let Q of G)K.set(Q.toString(),new nq.ServerDescription(Q));if(this[U4]=new g7.List,this.s={id:W,options:J,seedlist:X,state:L1.STATE_CLOSED,description:new $_.TopologyDescription($,K,J.replicaSet,void 0,void 0,void 0,J),serverSelectionTimeoutMS:J.serverSelectionTimeoutMS,heartbeatFrequencyMS:J.heartbeatFrequencyMS,minHeartbeatFrequencyMS:J.minHeartbeatFrequencyMS,servers:new Map,credentials:J?.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:(Q)=>this.detectShardedTopology(Q),detectSrvRecords:(Q)=>this.detectSrvRecords(Q)},J.srvHost&&!J.loadBalanced)this.s.srvPoller=J.srvPoller??new hW.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:J.srvHost,srvMaxHosts:J.srvMaxHosts,srvServiceName:J.srvServiceName}),this.on(d1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology)}detectShardedTopology(Z){const Y=Z.previousDescription.type,J=Z.newDescription.type,X=Y!==L1.TopologyType.Sharded&&J===L1.TopologyType.Sharded,W=!!this.s.srvPoller?.listeners(hW.SrvPoller.SRV_RECORD_DISCOVERY)?.includes(this.s.detectSrvRecords);if(X&&!W)this.s.srvPoller?.on(hW.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),this.s.srvPoller?.start()}detectSrvRecords(Z){const Y=this.s.description;if(this.s.description=this.s.description.updateFromSrvPollingEvent(Z,this.s.options.srvMaxHosts),this.s.description===Y)return;W_(this),this.emit(d1.TOPOLOGY_DESCRIPTION_CHANGED,new z5.TopologyDescriptionChangedEvent(this.s.id,Y,this.s.description))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get capabilities(){return new sq(this.lastHello())}connect(Z,Y){if(typeof Z==="function")Y=Z,Z={};if(Z=Z??{},this.s.state===L1.STATE_CONNECTED){if(typeof Y==="function")Y();return}qX(this,L1.STATE_CONNECTING),this.emit(d1.TOPOLOGY_OPENING,new z5.TopologyOpeningEvent(this.s.id)),this.emit(d1.TOPOLOGY_DESCRIPTION_CHANGED,new z5.TopologyDescriptionChangedEvent(this.s.id,new $_.TopologyDescription(L1.TopologyType.Unknown),this.s.description));const J=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(J.map((W)=>[W.address,Q_(this,W)])),this.s.options.loadBalanced)for(let W of J){const G=new nq.ServerDescription(W.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(G)}const X=(W)=>Y?Y(W):this.emit(d1.ERROR,W),$=Z.readPreference??FX.ReadPreference.primary;this.selectServer(iq.readPreferenceServerSelector($),Z,(W,G)=>{if(W)return this.close({force:!1},()=>X(W));if(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]!==!0&&G&&this.s.credentials){G.command(g7.ns("admin.$cmd"),{ping:1},{},(Q)=>{if(Q)return X(Q);qX(this,L1.STATE_CONNECTED),this.emit(d1.OPEN,this),this.emit(d1.CONNECT,this),Y?.(void 0,this)});return}qX(this,L1.STATE_CONNECTED),this.emit(d1.OPEN,this),this.emit(d1.CONNECT,this),Y?.(void 0,this)})}close(Z,Y){if(Z=Z??{force:!1},this.s.state===L1.STATE_CLOSED||this.s.state===L1.STATE_CLOSING)return Y?.();const J=Array.from(this.s.servers.values(),(X)=>{return Y_.promisify(K_)(X,this,{force:!!Z?.force})});Promise.all(J).then(()=>{if(this.s.servers.clear(),qX(this,L1.STATE_CLOSING),z_(this[U4],new L4.MongoTopologyClosedError),L1.drainTimerQueue(this.s.connectionTimers),this.s.srvPoller)this.s.srvPoller.stop(),this.s.srvPoller.removeListener(hW.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords);this.removeListener(d1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),qX(this,L1.STATE_CLOSED),this.emit(d1.TOPOLOGY_CLOSED,new z5.TopologyClosedEvent(this.s.id))}).finally(()=>Y?.())}selectServer(Z,Y,J){let X;if(typeof Z!=="function")if(typeof Z==="string")X=iq.readPreferenceServerSelector(FX.ReadPreference.fromString(Z));else{let Q;if(Z instanceof FX.ReadPreference)Q=Z;else FX.ReadPreference.translate(Y),Q=Y.readPreference||FX.ReadPreference.primary;X=iq.readPreferenceServerSelector(Q)}else X=Z;Y=Object.assign({},{serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS},Y);const $=this.description.type===L1.TopologyType.Sharded,W=Y.session,G=W&&W.transaction;if($&&G&&G.server){J(void 0,G.server);return}const K={serverSelector:X,transaction:G,callback:J,timeoutController:new g7.TimeoutController(Y.serverSelectionTimeoutMS)};K.timeoutController.signal.addEventListener("abort",()=>{K[aq]=!0,K.timeoutController.clear();const Q=new L4.MongoServerSelectionError(`Server selection timed out after ${Y.serverSelectionTimeoutMS} ms`,this.description);K.callback(Q)}),this[U4].push(K),G_(this)}serverUpdateHandler(Z){if(!this.s.description.hasServer(Z.address))return;if(U$1(this.s.description,Z))return;const Y=this.s.description,J=this.s.description.servers.get(Z.address);if(!J)return;const X=Z.$clusterTime;if(X)L1._advanceClusterTime(this,X);const $=J&&J.equals(Z);if(this.s.description=this.s.description.update(Z),this.s.description.compatibilityError){this.emit(d1.ERROR,new L4.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!$){const W=this.s.description.servers.get(Z.address);if(W)this.emit(d1.SERVER_DESCRIPTION_CHANGED,new z5.ServerDescriptionChangedEvent(this.s.id,Z.address,J,W))}if(W_(this,Z),this[U4].length>0)G_(this);if(!$)this.emit(d1.TOPOLOGY_DESCRIPTION_CHANGED,new z5.TopologyDescriptionChangedEvent(this.s.id,Y,this.s.description))}auth(Z,Y){if(typeof Z==="function")Y=Z,Z=void 0;if(typeof Y==="function")Y(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===L1.STATE_CONNECTED}isDestroyed(){return this.s.state===L1.STATE_CLOSED}lastHello(){const Z=Array.from(this.description.servers.values());if(Z.length===0)return{};return Z.filter((X)=>X.type!==L1.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(Z){this.s.clusterTime=Z}}d1.SERVER_OPENING=u8.SERVER_OPENING;d1.SERVER_CLOSED=u8.SERVER_CLOSED;d1.SERVER_DESCRIPTION_CHANGED=u8.SERVER_DESCRIPTION_CHANGED;d1.TOPOLOGY_OPENING=u8.TOPOLOGY_OPENING;d1.TOPOLOGY_CLOSED=u8.TOPOLOGY_CLOSED;d1.TOPOLOGY_DESCRIPTION_CHANGED=u8.TOPOLOGY_DESCRIPTION_CHANGED;d1.ERROR=u8.ERROR;d1.OPEN=u8.OPEN;d1.CONNECT=u8.CONNECT;d1.CLOSE=u8.CLOSE;d1.TIMEOUT=u8.TIMEOUT;H_.Topology=d1;class sq{constructor(Z){this.minWireVersion=Z.minWireVersion||0,this.maxWireVersion=Z.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}}H_.ServerCapabilities=sq});var Q9=w((A_)=>{Object.defineProperty(A_,"__esModule",{value:!0});A_.MongoClient=A_.ServerApiVersion=void 0;var rq=import.meta.require("fs"),w$1=import.meta.require("util"),R$1=t1(),M$1=NZ(),A$1=l$(),B$1=C7(),V_=Jq(),N$1=b0(),D$1=g$(),U_=r(),I$1=sF(),P$1=W6(),T$1=g8(),j$1=HZ(),L_=S0(),E$1=GJ(),w_=q_(),R_=IJ(),tq=X1();A_.ServerApiVersion=Object.freeze({v1:"1"});var Z8=Symbol("options");class M_ extends P$1.TypedEventEmitter{constructor(Z,Y){super();this[Z8]=V_.parseOptions(Z,this,Y),this.mongoLogger=new I$1.MongoLogger(this[Z8].mongoLoggerOptions);const J=this;this.s={url:Z,bsonOptions:R$1.resolveBSONOptions(this[Z8]),namespace:tq.ns("admin"),hasBeenClosed:!1,sessionPool:new R_.ServerSessionPool(this),activeSessions:new Set,get options(){return J[Z8]},get readConcern(){return J[Z8].readConcern},get writeConcern(){return J[Z8].writeConcern},get readPreference(){return J[Z8].readPreference},get isMongoClient(){return!0}}}get options(){return Object.freeze({...this[Z8]})}get serverApi(){return this[Z8].serverApi&&Object.freeze({...this[Z8].serverApi})}get monitorCommands(){return this[Z8].monitorCommands}set monitorCommands(Z){this[Z8].monitorCommands=Z}get autoEncrypter(){return this[Z8].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}async connect(){if(this.connectionLock)return this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){if(this.topology&&this.topology.isConnected())return this;const Z=this[Z8];if(Z.tls){if(typeof Z.tlsCAFile==="string")Z.ca??=await rq.promises.readFile(Z.tlsCAFile);if(typeof Z.tlsCRLFile==="string")Z.crl??=await rq.promises.readFile(Z.tlsCRLFile);if(typeof Z.tlsCertificateKeyFile==="string"){if(!Z.key||!Z.cert){const J=await rq.promises.readFile(Z.tlsCertificateKeyFile);Z.key??=J,Z.cert??=J}}}if(typeof Z.srvHost==="string"){const J=await V_.resolveSRVRecord(Z);for(let[X,$]of J.entries())Z.hosts[X]=$}if(Z.credentials?.mechanism===B$1.AuthMechanism.MONGODB_OIDC){const J=Z.credentials?.mechanismProperties?.ALLOWED_HOSTS||A$1.DEFAULT_ALLOWED_HOSTS;if(!Z.credentials?.mechanismProperties?.PROVIDER_NAME){for(let $ of Z.hosts)if(!tq.hostMatchesWildcards($.toHostPort().host,J))throw new U_.MongoInvalidArgumentError(`Host '${$}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${J.join(",")}'`)}}this.topology=new w_.Topology(this,Z.hosts,Z),this.topology.once(w_.Topology.OPEN,()=>this.emit("open",this));for(let J of N$1.MONGO_CLIENT_EVENTS)this.topology.on(J,(...X)=>this.emit(J,...X));const Y=async()=>{try{await w$1.promisify((J)=>this.topology?.connect(Z,J))()}catch(J){throw this.topology?.close({force:!0}),J}};if(this.autoEncrypter)await this.autoEncrypter?.init(),await Y(),await Z.encrypter.connectInternalClient();else await Y();return this}async close(Z=!1){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1});const Y=Array.from(this.s.activeSessions,(K)=>K.endSession());if(this.s.activeSessions.clear(),await Promise.all(Y),this.topology==null)return;const J=E$1.readPreferenceServerSelector(L_.ReadPreference.primaryPreferred),X=this.topology.description,$=Array.from(X.servers.values());if(J(X,$).length!==0){const K=Array.from(this.s.sessionPool.sessions,({id:Q})=>Q);if(K.length!==0)await T$1.executeOperation(this,new j$1.RunAdminCommandOperation({endSessions:K},{readPreference:L_.ReadPreference.primaryPreferred,noResponse:!0})).catch(()=>null)}const G=this.topology;this.topology=void 0,await new Promise((K,Q)=>{G.close({force:Z},(z)=>{if(z)return Q(z);const{encrypter:H}=this[Z8];if(H)return H.closeCallback(this,Z,(F)=>{if(F)return Q(F);K()});K()})})}db(Z,Y){if(Y=Y??{},!Z)Z=this.options.dbName;const J=Object.assign({},this[Z8],Y);return new D$1.Db(this,Z,J)}static async connect(Z,Y){return new this(Z,Y).connect()}startSession(Z){const Y=new R_.ClientSession(this,this.s.sessionPool,{explicit:!0,...Z},this[Z8]);return this.s.activeSessions.add(Y),Y.once("ended",()=>{this.s.activeSessions.delete(Y)}),Y}async withSession(Z,Y){const J={owner:Symbol(),...typeof Z==="object"?Z:{}},X=typeof Z==="function"?Z:Y;if(X==null)throw new U_.MongoInvalidArgumentError("Missing required callback parameter");const $=this.startSession(J);try{return await X($)}finally{try{await $.endSession()}catch{}}}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new M$1.ChangeStream(this,Z,tq.resolveOptions(this,Y))}}A_.MongoClient=M_});var NZ=w((N_)=>{Object.defineProperty(N_,"__esModule",{value:!0});N_.ChangeStream=void 0;var O$1=Z9(),U7=b0(),S$1=sH(),k$1=g$(),V7=r(),_$1=Q9(),x$1=W6(),oq=X1(),nZ=Symbol("cursorStream"),aZ=Symbol("closed"),VX=Symbol("mode"),f$1=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],R9={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},y$1=[U7.RESUME_TOKEN_CHANGED,U7.END,U7.CLOSE],g$1="A change stream document has been received that lacks a resume token (_id).",mW="ChangeStream is closed";class d8 extends x$1.TypedEventEmitter{constructor(Z,Y=[],J={}){super();if(this.pipeline=Y,this.options={...J},delete this.options.writeConcern,Z instanceof O$1.Collection)this.type=R9.COLLECTION;else if(Z instanceof k$1.Db)this.type=R9.DATABASE;else if(Z instanceof _$1.MongoClient)this.type=R9.CLUSTER;else throw new V7.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");if(this.parent=Z,this.namespace=Z.s.namespace,!this.options.readPreference&&Z.readPreference)this.options.readPreference=Z.readPreference;this.cursor=this._createChangeStreamCursor(J),this[aZ]=!1,this[VX]=!1,this.on("newListener",(X)=>{if(X==="change"&&this.cursor&&this.listenerCount("change")===0)this._streamEvents(this.cursor)}),this.on("removeListener",(X)=>{if(X==="change"&&this.listenerCount("change")===0&&this.cursor)this[nZ]?.removeAllListeners("data")})}get cursorStream(){return this[nZ]}get resumeToken(){return this.cursor?.resumeToken}async hasNext(){this._setIsIterator();while(!0)try{return await this.cursor.hasNext()}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async next(){this._setIsIterator();while(!0)try{const Z=await this.cursor.next();return this._processChange(Z??null)}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async tryNext(){this._setIsIterator();while(!0)try{return await this.cursor.tryNext()??null}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[aZ]||this.cursor.closed}async close(){this[aZ]=!0;const Z=this.cursor;try{await Z.close()}finally{this._endStream()}}stream(Z){if(this.closed)throw new V7.MongoChangeStreamError(mW);return this.streamOptions=Z,this.cursor.stream(Z)}_setIsEmitter(){if(this[VX]==="iterator")throw new V7.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[VX]="emitter"}_setIsIterator(){if(this[VX]==="emitter")throw new V7.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[VX]="iterator"}_createChangeStreamCursor(Z){const Y=oq.filterOptions(Z,f$1);if(this.type===R9.CLUSTER)Y.allChangesForCluster=!0;const J=[{$changeStream:Y},...this.pipeline],X=this.type===R9.CLUSTER?this.parent:this.type===R9.DATABASE?this.parent.client:this.type===R9.COLLECTION?this.parent.client:null;if(X==null)throw new V7.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);const $=new S$1.ChangeStreamCursor(X,this.namespace,J,Z);for(let W of y$1)$.on(W,(G)=>this.emit(W,G));if(this.listenerCount(d8.CHANGE)>0)this._streamEvents($);return $}_closeEmitterModeWithError(Z){this.emit(d8.ERROR,Z),this.close().catch(()=>null)}_streamEvents(Z){this._setIsEmitter();const Y=this[nZ]??Z.stream();this[nZ]=Y,Y.on("data",(J)=>{try{const X=this._processChange(J);this.emit(d8.CHANGE,X)}catch(X){this.emit(d8.ERROR,X)}}),Y.on("error",(J)=>this._processErrorStreamMode(J))}_endStream(){const Z=this[nZ];if(Z)["data","close","end","error"].forEach((Y)=>Z.removeAllListeners(Y)),Z.destroy();this[nZ]=void 0}_processChange(Z){if(this[aZ])throw new V7.MongoAPIError(mW);if(Z==null)throw new V7.MongoRuntimeError(mW);if(Z&&!Z._id)throw new V7.MongoChangeStreamError(g$1);return this.cursor.cacheResumeToken(Z._id),this.options.startAtOperationTime=void 0,Z}_processErrorStreamMode(Z){if(this[aZ])return;if(V7.isResumableError(Z,this.cursor.maxWireVersion))this._endStream(),this.cursor.close().catch(()=>null),oq.getTopology(this.parent).selectServer(this.cursor.readPreference,{},(J)=>{if(J)return this._closeEmitterModeWithError(Z);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)});else this._closeEmitterModeWithError(Z)}async _processErrorIteratorMode(Z){if(this[aZ])throw new V7.MongoAPIError(mW);if(!V7.isResumableError(Z,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw Z}await this.cursor.close().catch(()=>null);const Y=oq.getTopology(this.parent);try{await Y.selectServerAsync(this.cursor.readPreference,{}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),Z}}}d8.RESPONSE=U7.RESPONSE;d8.MORE=U7.MORE;d8.INIT=U7.INIT;d8.CLOSE=U7.CLOSE;d8.CHANGE=U7.CHANGE;d8.END=U7.END;d8.ERROR=U7.ERROR;d8.RESUME_TOKEN_CHANGED=U7.RESUME_TOKEN_CHANGED;N_.ChangeStream=d8});var eq=w((P_)=>{var I_=function(Z){if(Z.s.init)throw new q6.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")},v$1=function(Z){if(Z.destroyed)return;if(!Z.s.cursor)return;if(!Z.s.file)return;const Y=({error:J,doc:X})=>{if(Z.destroyed)return;if(J){Z.destroy(J);return}if(!X){Z.push(null),Z.s.cursor?.close().then(()=>null,(q)=>Z.destroy(q));return}if(!Z.s.file)return;const $=Z.s.file.length-Z.s.bytesRead,W=Z.s.expected++,G=Math.min(Z.s.file.chunkSize,$);if(X.n>W)return Z.destroy(new q6.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${X.n}, expected: ${W}`));if(X.n<W)return Z.destroy(new q6.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${X.n}, expected: ${W}`));let K=Buffer.isBuffer(X.data)?X.data:X.data.buffer;if(K.byteLength!==G){if($<=0)return Z.destroy(new q6.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${X.n}, expected file length ${Z.s.file.length} bytes but already read ${Z.s.bytesRead} bytes`));return Z.destroy(new q6.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${K.byteLength}, expected: ${G}`))}if(Z.s.bytesRead+=K.byteLength,K.byteLength===0)return Z.push(null);let Q=null,z=null;if(Z.s.bytesToSkip!=null)Q=Z.s.bytesToSkip,Z.s.bytesToSkip=0;const H=W===Z.s.expectedEnd-1,F=Z.s.options.end-Z.s.bytesToSkip;if(H&&Z.s.bytesToTrim!=null)z=Z.s.file.chunkSize-Z.s.bytesToTrim;else if(Z.s.options.end&&F<X.data.byteLength)z=F;if(Q!=null||z!=null)K=K.slice(Q||0,z||K.byteLength);Z.push(K);return};Z.s.cursor.next().then((J)=>Y({error:null,doc:J}),(J)=>Y({error:J,doc:null}))},h$1=function(Z){const Y={};if(Z.s.readPreference)Y.readPreference=Z.s.readPreference;if(Z.s.options&&Z.s.options.sort)Y.sort=Z.s.options.sort;if(Z.s.options&&Z.s.options.skip)Y.skip=Z.s.options.skip;const J=({error:X,doc:$})=>{if(X)return Z.destroy(X);if(!$){const K=`FileNotFound: file ${Z.s.filter._id?Z.s.filter._id.toString():Z.s.filter.filename} was not found`,Q=new q6.MongoRuntimeError(K);return Q.code="ENOENT",Z.destroy(Q)}if($.length<=0){Z.push(null);return}if(Z.destroyed){Z.destroy();return}try{Z.s.bytesToSkip=u$1(Z,$,Z.s.options)}catch(G){return Z.destroy(G)}const W={files_id:$._id};if(Z.s.options&&Z.s.options.start!=null){const G=Math.floor(Z.s.options.start/$.chunkSize);if(G>0)W.n={$gte:G}}if(Z.s.cursor=Z.s.chunks.find(W).sort({n:1}),Z.s.readPreference)Z.s.cursor.withReadPreference(Z.s.readPreference);Z.s.expectedEnd=Math.ceil($.length/$.chunkSize),Z.s.file=$;try{Z.s.bytesToTrim=d$1(Z,$,Z.s.cursor,Z.s.options)}catch(G){return Z.destroy(G)}Z.emit(uW.FILE,$);return};Z.s.files.findOne(Z.s.filter,Y).then((X)=>J({error:null,doc:X}),(X)=>J({error:X,doc:null}))},m$1=function(Z,Y){if(Z.s.file)return Y();if(!Z.s.init)h$1(Z),Z.s.init=!0;Z.once("file",()=>{Y()})},u$1=function(Z,Y,J){if(J&&J.start!=null){if(J.start>Y.length)throw new q6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be more than the length of the file (${Y.length})`);if(J.start<0)throw new q6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be negative`);if(J.end!=null&&J.end<J.start)throw new q6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be greater than stream end (${J.end})`);return Z.s.bytesRead=Math.floor(J.start/Y.chunkSize)*Y.chunkSize,Z.s.expected=Math.floor(J.start/Y.chunkSize),J.start-Z.s.bytesRead}throw new q6.MongoInvalidArgumentError("Start option must be defined")},d$1=function(Z,Y,J,X){if(X&&X.end!=null){if(X.end>Y.length)throw new q6.MongoInvalidArgumentError(`Stream end (${X.end}) must not be more than the length of the file (${Y.length})`);if(X.start==null||X.start<0)throw new q6.MongoInvalidArgumentError(`Stream end (${X.end}) must not be negative`);const $=X.start!=null?Math.floor(X.start/Y.chunkSize):0;return J.limit(Math.ceil(X.end/Y.chunkSize)-$),Z.s.expectedEnd=Math.ceil(X.end/Y.chunkSize),Math.ceil(X.end/Y.chunkSize)*Y.chunkSize-X.end}throw new q6.MongoInvalidArgumentError("End option must be defined")};Object.defineProperty(P_,"__esModule",{value:!0});P_.GridFSBucketReadStream=void 0;var b$1=import.meta.require("stream"),q6=r();class uW extends b$1.Readable{constructor(Z,Y,J,X,$){super({emitClose:!0});this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:Z,expected:0,files:Y,filter:X,init:!1,expectedEnd:0,options:{start:0,end:0,...$},readPreference:J}}_read(){if(this.destroyed)return;m$1(this,()=>v$1(this))}start(Z=0){return I_(this),this.s.options.start=Z,this}end(Z=0){return I_(this),this.s.options.end=Z,this}async abort(){this.push(null),this.destroy(),await this.s.cursor?.close()}}uW.FILE="file";P_.GridFSBucketReadStream=uW});var JV=w((O_)=>{var YV=function(Z,Y,J){if(Z.state.errored){process.nextTick(J);return}Z.state.errored=!0,process.nextTick(J,Y)},C_=function(Z,Y,J){return{_id:new j_.ObjectId,files_id:Z,n:Y,data:J}};async function p$1(Z){const Y={files_id:1,n:1};let J;try{J=await Z.chunks.listIndexes().toArray()}catch($){if($ instanceof M9.MongoError&&$.code===M9.MONGODB_ERROR_CODES.NamespaceNotFound)J=[];else throw $}if(!J.find(($)=>{if(Object.keys($.key).length===2&&$.key.files_id===1&&$.key.n===1)return!0;return!1}))await Z.chunks.createIndex(Y,{...Z.writeConcern,background:!0,unique:!0})}var ZV=function(Z,Y){if(Z.done)return process.nextTick(Y);if(Z.state.streamEnd&&Z.state.outstandingRequests===0&&!Z.state.errored){Z.done=!0;const J=n$1(Z.id,Z.length,Z.chunkSizeBytes,Z.filename,Z.options.contentType,Z.options.aliases,Z.options.metadata);if(dW(Z,Y))return;Z.files.insertOne(J,{writeConcern:Z.writeConcern}).then(()=>{Z.gridFSFile=J,Y()},(X)=>YV(Z,X,Y));return}process.nextTick(Y)};async function i$1(Z){if(await Z.files.findOne({},{projection:{_id:1}})!=null)return;const J={filename:1,uploadDate:1};let X;try{X=await Z.files.listIndexes().toArray()}catch(W){if(W instanceof M9.MongoError&&W.code===M9.MONGODB_ERROR_CODES.NamespaceNotFound)X=[];else throw W}if(!X.find((W)=>{if(Object.keys(W.key).length===2&&W.key.filename===1&&W.key.uploadDate===1)return!0;return!1}))await Z.files.createIndex(J,{background:!1});await p$1(Z)}var n$1=function(Z,Y,J,X,$,W,G){const K={_id:Z,length:Y,chunkSize:J,uploadDate:new Date,filename:X};if($)K.contentType=$;if(W)K.aliases=W;if(G)K.metadata=G;return K},a$1=function(Z,Y,J,X){if(dW(Z,X))return;const $=Buffer.isBuffer(Y)?Y:Buffer.from(Y,J);if(Z.length+=$.length,Z.pos+$.length<Z.chunkSizeBytes){$.copy(Z.bufToStore,Z.pos),Z.pos+=$.length,process.nextTick(X);return}let W=$.length,G=Z.chunkSizeBytes-Z.pos,K=Math.min(G,$.length),Q=0;while(W>0){const z=$.length-W;$.copy(Z.bufToStore,Z.pos,z,z+K),Z.pos+=K,G-=K;let H;if(G===0){if(H=C_(Z.id,Z.n,Buffer.from(Z.bufToStore)),++Z.state.outstandingRequests,++Q,dW(Z,X))return;Z.chunks.insertOne(H,{writeConcern:Z.writeConcern}).then(()=>{if(--Z.state.outstandingRequests,--Q,!Q)ZV(Z,X)},(F)=>YV(Z,F,X)),G=Z.chunkSizeBytes,Z.pos=0,++Z.n}W-=K,K=Math.min(G,W)}},s$1=function(Z,Y){if(Z.pos===0)return ZV(Z,Y);++Z.state.outstandingRequests;const J=Buffer.alloc(Z.pos);Z.bufToStore.copy(J,0,0,Z.pos);const X=C_(Z.id,Z.n,J);if(dW(Z,Y))return;Z.chunks.insertOne(X,{writeConcern:Z.writeConcern}).then(()=>{--Z.state.outstandingRequests,ZV(Z,Y)},($)=>YV(Z,$,Y))},dW=function(Z,Y){if(Z.state.aborted)return process.nextTick(Y,new M9.MongoAPIError("Stream has been aborted")),!0;return!1};Object.defineProperty(O_,"__esModule",{value:!0});O_.GridFSBucketWriteStream=void 0;var c$1=import.meta.require("stream"),j_=t1(),M9=r(),l$1=y8();class E_ extends c$1.Writable{constructor(Z,Y,J){super();if(this.gridFSFile=null,J=J??{},this.bucket=Z,this.chunks=Z.s._chunksCollection,this.filename=Y,this.files=Z.s._filesCollection,this.options=J,this.writeConcern=l$1.WriteConcern.fromOptions(J)||Z.s.options.writeConcern,this.done=!1,this.id=J.id?J.id:new j_.ObjectId,this.chunkSizeBytes=J.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},!this.bucket.s.calledOpenUploadStream)this.bucket.s.calledOpenUploadStream=!0,i$1(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")},()=>null)}_construct(Z){if(this.bucket.s.checkedIndexes)return process.nextTick(Z);this.bucket.once("index",Z)}_write(Z,Y,J){a$1(this,Z,Y,J)}_final(Z){if(this.state.streamEnd)return process.nextTick(Z);this.state.streamEnd=!0,s$1(this,Z)}async abort(){if(this.state.streamEnd)throw new M9.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new M9.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})}}O_.GridFSBucketWriteStream=E_});var g_=w((f_)=>{Object.defineProperty(f_,"__esModule",{value:!0});f_.GridFSBucket=void 0;var k_=r(),r$1=W6(),t$1=y8(),__=eq(),x_=JV(),o$1={bucketName:"fs",chunkSizeBytes:261120};class XV extends r$1.TypedEventEmitter{constructor(Z,Y){super();this.setMaxListeners(0);const J={...o$1,...Y,writeConcern:t$1.WriteConcern.fromOptions(Y)};this.s={db:Z,options:J,_chunksCollection:Z.collection(J.bucketName+".chunks"),_filesCollection:Z.collection(J.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(Z,Y){return new x_.GridFSBucketWriteStream(this,Z,Y)}openUploadStreamWithId(Z,Y,J){return new x_.GridFSBucketWriteStream(this,Y,{...J,id:Z})}openDownloadStream(Z,Y){return new __.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:Z},Y)}async delete(Z){const{deletedCount:Y}=await this.s._filesCollection.deleteOne({_id:Z});if(await this.s._chunksCollection.deleteMany({files_id:Z}),Y===0)throw new k_.MongoRuntimeError(`File not found for id ${Z}`)}find(Z={},Y={}){return this.s._filesCollection.find(Z,Y)}openDownloadStreamByName(Z,Y){let J={uploadDate:-1},X=void 0;if(Y&&Y.revision!=null)if(Y.revision>=0)J={uploadDate:1},X=Y.revision;else X=-Y.revision-1;return new __.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:Z},{...Y,sort:J,skip:X})}async rename(Z,Y){const J={_id:Z},X={$set:{filename:Y}},{matchedCount:$}=await this.s._filesCollection.updateOne(J,X);if($===0)throw new k_.MongoRuntimeError(`File with id ${Z} not found`)}async drop(){await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}}XV.INDEX="index";f_.GridFSBucket=XV});var h_=w((b_)=>{Object.defineProperty(b_,"__esModule",{value:!0});b_.ClientEncryption=void 0;var b7=t1(),e$1=$7(),H5=X1(),ZW1=vF(),A9=G9(),YW1=uF(),cW=dF();class lW{static getMongoCrypt(){const Z=e$1.getMongoDBClientEncryption();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,Y){if(this._client=Z,this._proxyOptions=Y.proxyOptions??{},this._tlsOptions=Y.tlsOptions??{},this._kmsProviders=Y.kmsProviders||{},Y.keyVaultNamespace==null)throw new A9.MongoCryptInvalidArgumentError("Missing required option `keyVaultNamespace`");const J={...Y,cryptoCallbacks:ZW1,kmsProviders:!Buffer.isBuffer(this._kmsProviders)?b7.serialize(this._kmsProviders):this._kmsProviders};this._keyVaultNamespace=Y.keyVaultNamespace,this._keyVaultClient=Y.keyVaultClient||Z;const X=lW.getMongoCrypt();this._mongoCrypt=new X(J)}async createDataKey(Z,Y={}){if(Y.keyAltNames&&!Array.isArray(Y.keyAltNames))throw new A9.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but was of type ${typeof Y.keyAltNames}.`);let J=void 0;if(Y.keyAltNames&&Y.keyAltNames.length>0)J=Y.keyAltNames.map((F,q)=>{if(typeof F!=="string")throw new A9.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but item at index ${q} was of type ${typeof F}`);return b7.serialize({keyAltName:F})});let X=void 0;if(Y.keyMaterial)X=b7.serialize({keyMaterial:Y.keyMaterial});const $=b7.serialize({provider:Z,...Y.masterKey}),W=this._mongoCrypt.makeDataKeyContext($,{keyAltNames:J,keyMaterial:X}),K=await new cW.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,W),{db:Q,collection:z}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),{insertedId:H}=await this._keyVaultClient.db(Q).collection(z).insertOne(K,{writeConcern:{w:"majority"}});return H}async rewrapManyDataKey(Z,Y){let J=void 0;if(Y){const F=Object.assign({provider:Y.provider},Y.masterKey);J=b7.serialize(F)}const X=b7.serialize(Z),$=this._mongoCrypt.makeRewrapManyDataKeyContext(X,J),W=new cW.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:G}=await W.execute(this,$);if(G.length===0)return{};const{db:K,collection:Q}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),z=G.map((F)=>({updateOne:{filter:{_id:F._id},update:{$set:{masterKey:F.masterKey,keyMaterial:F.keyMaterial},$currentDate:{updateDate:!0}}}}));return{bulkWriteResult:await this._keyVaultClient.db(K).collection(Q).bulkWrite(z,{writeConcern:{w:"majority"}})}}async deleteKey(Z){const{db:Y,collection:J}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).deleteOne({_id:Z},{writeConcern:{w:"majority"}})}getKeys(){const{db:Z,collection:Y}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Z).collection(Y).find({},{readConcern:{level:"majority"}})}async getKey(Z){const{db:Y,collection:J}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).findOne({_id:Z},{readConcern:{level:"majority"}})}async getKeyByAltName(Z){const{db:Y,collection:J}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).findOne({keyAltNames:Z},{readConcern:{level:"majority"}})}async addKeyAltName(Z,Y){const{db:J,collection:X}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(J).collection(X).findOneAndUpdate({_id:Z},{$addToSet:{keyAltNames:Y}},{writeConcern:{w:"majority"},returnDocument:"before"})}async removeKeyAltName(Z,Y){const{db:J,collection:X}=H5.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),$=[{$set:{keyAltNames:{$cond:[{$eq:["$keyAltNames",[Y]]},"$$REMOVE",{$filter:{input:"$keyAltNames",cond:{$ne:["$$this",Y]}}}]}}}];return await this._keyVaultClient.db(J).collection(X).findOneAndUpdate({_id:Z},$,{writeConcern:{w:"majority"},returnDocument:"before"})}async createEncryptedCollection(Z,Y,J){const{provider:X,masterKey:$,createCollectionOptions:{encryptedFields:{...W},...G}}=J;if(Array.isArray(W.fields)){const K=W.fields.map(async(H)=>H==null||typeof H!=="object"||H.keyId!=null?H:{...H,keyId:await this.createDataKey(X,{masterKey:$})}),Q=await Promise.allSettled(K);W.fields=Q.map((H,F)=>H.status==="fulfilled"?H.value:W.fields[F]);const z=Q.find((H)=>H.status==="rejected");if(z!=null)throw new A9.MongoCryptCreateDataKeyError(W,{cause:z.reason})}try{return{collection:await Z.createCollection(Y,{...G,encryptedFields:W}),encryptedFields:W}}catch(K){throw new A9.MongoCryptCreateEncryptedCollectionError(W,{cause:K})}}async encrypt(Z,Y){return this._encrypt(Z,!1,Y)}async encryptExpression(Z,Y){return this._encrypt(Z,!0,Y)}async decrypt(Z){const Y=b7.serialize({v:Z}),J=this._mongoCrypt.makeExplicitDecryptionContext(Y),X=new cW.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:$}=await X.execute(this,J);return $}async askForKMSCredentials(){return YW1.refreshKMSCredentials(this._kmsProviders)}static get libmongocryptVersion(){return lW.getMongoCrypt().libmongocryptVersion}async _encrypt(Z,Y,J){const{algorithm:X,keyId:$,keyAltName:W,contentionFactor:G,queryType:K,rangeOptions:Q}=J,z={expressionMode:Y,algorithm:X};if($)z.keyId=$.buffer;if(W){if($)throw new A9.MongoCryptInvalidArgumentError('"options" cannot contain both "keyId" and "keyAltName"');if(typeof W!=="string")throw new A9.MongoCryptInvalidArgumentError(`"options.keyAltName" must be of type string, but was of type ${typeof W}`);z.keyAltName=b7.serialize({keyAltName:W})}if(typeof G==="number"||typeof G==="bigint")z.contentionFactor=G;if(typeof K==="string")z.queryType=K;if(typeof Q==="object")z.rangeOptions=b7.serialize(Q);const H=b7.serialize({v:Z}),F=new cW.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),q=this._mongoCrypt.makeExplicitEncryptionContext(H,z);return(await F.execute(this,q)).v}}b_.ClientEncryption=lW});var pW=w((x)=>{Object.defineProperty(x,"__esModule",{value:!0});x.MongoUnexpectedServerResponseError=x.MongoTransactionError=x.MongoTopologyClosedError=x.MongoTailableCursorError=x.MongoSystemError=x.MongoServerSelectionError=x.MongoServerError=x.MongoServerClosedError=x.MongoRuntimeError=x.MongoParseError=x.MongoNotConnectedError=x.MongoNetworkTimeoutError=x.MongoNetworkError=x.MongoMissingDependencyError=x.MongoMissingCredentialsError=x.MongoKerberosError=x.MongoInvalidArgumentError=x.MongoGridFSStreamError=x.MongoGridFSChunkError=x.MongoExpiredSessionError=x.MongoError=x.MongoDriverError=x.MongoDecompressionError=x.MongoCursorInUseError=x.MongoCursorExhaustedError=x.MongoCompatibilityError=x.MongoChangeStreamError=x.MongoBatchReExecutionError=x.MongoAzureError=x.MongoAWSError=x.MongoAPIError=x.ChangeStreamCursor=x.ClientEncryption=x.MongoBulkWriteError=x.UUID=x.Timestamp=x.ObjectId=x.MinKey=x.MaxKey=x.Long=x.Int32=x.Double=x.Decimal128=x.DBRef=x.Code=x.BSONType=x.BSONSymbol=x.BSONRegExp=x.Binary=x.BSON=void 0;x.ConnectionPoolReadyEvent=x.ConnectionPoolMonitoringEvent=x.ConnectionPoolCreatedEvent=x.ConnectionPoolClosedEvent=x.ConnectionPoolClearedEvent=x.ConnectionCreatedEvent=x.ConnectionClosedEvent=x.ConnectionCheckOutStartedEvent=x.ConnectionCheckOutFailedEvent=x.ConnectionCheckedOutEvent=x.ConnectionCheckedInEvent=x.CommandSucceededEvent=x.CommandStartedEvent=x.CommandFailedEvent=x.WriteConcern=x.ReadPreference=x.ReadConcern=x.TopologyType=x.ServerType=x.ReadPreferenceMode=x.ReadConcernLevel=x.ProfilingLevel=x.ReturnDocument=x.ServerApiVersion=x.ExplainVerbosity=x.MongoErrorLabel=x.CURSOR_FLAGS=x.Compressor=x.AuthMechanism=x.GSSAPICanonicalizationValue=x.AutoEncryptionLoggerLevel=x.BatchType=x.UnorderedBulkOperation=x.OrderedBulkOperation=x.MongoClient=x.ListIndexesCursor=x.ListCollectionsCursor=x.GridFSBucketWriteStream=x.GridFSBucketReadStream=x.GridFSBucket=x.FindCursor=x.Db=x.Collection=x.ClientSession=x.ChangeStream=x.CancellationToken=x.AggregationCursor=x.Admin=x.AbstractCursor=x.MongoWriteConcernError=void 0;x.MongoCryptKMSRequestNetworkTimeoutError=x.MongoCryptInvalidArgumentError=x.MongoCryptError=x.MongoCryptCreateEncryptedCollectionError=x.MongoCryptCreateDataKeyError=x.MongoCryptAzureKMSRequestError=x.SrvPollingEvent=x.TopologyOpeningEvent=x.TopologyDescriptionChangedEvent=x.TopologyClosedEvent=x.ServerOpeningEvent=x.ServerHeartbeatSucceededEvent=x.ServerHeartbeatStartedEvent=x.ServerHeartbeatFailedEvent=x.ServerDescriptionChangedEvent=x.ServerClosedEvent=x.ConnectionReadyEvent=void 0;var JW1=Oz();Object.defineProperty(x,"Admin",{enumerable:!0,get:function(){return JW1.Admin}});var XW1=rz();Object.defineProperty(x,"OrderedBulkOperation",{enumerable:!0,get:function(){return XW1.OrderedBulkOperation}});var $W1=tz();Object.defineProperty(x,"UnorderedBulkOperation",{enumerable:!0,get:function(){return $W1.UnorderedBulkOperation}});var WW1=NZ();Object.defineProperty(x,"ChangeStream",{enumerable:!0,get:function(){return WW1.ChangeStream}});var GW1=Z9();Object.defineProperty(x,"Collection",{enumerable:!0,get:function(){return GW1.Collection}});var KW1=W4();Object.defineProperty(x,"AbstractCursor",{enumerable:!0,get:function(){return KW1.AbstractCursor}});var QW1=EJ();Object.defineProperty(x,"AggregationCursor",{enumerable:!0,get:function(){return QW1.AggregationCursor}});var zW1=jH();Object.defineProperty(x,"FindCursor",{enumerable:!0,get:function(){return zW1.FindCursor}});var HW1=oH();Object.defineProperty(x,"ListCollectionsCursor",{enumerable:!0,get:function(){return HW1.ListCollectionsCursor}});var FW1=yH();Object.defineProperty(x,"ListIndexesCursor",{enumerable:!0,get:function(){return FW1.ListIndexesCursor}});var qW1=g$();Object.defineProperty(x,"Db",{enumerable:!0,get:function(){return qW1.Db}});var VW1=g_();Object.defineProperty(x,"GridFSBucket",{enumerable:!0,get:function(){return VW1.GridFSBucket}});var UW1=eq();Object.defineProperty(x,"GridFSBucketReadStream",{enumerable:!0,get:function(){return UW1.GridFSBucketReadStream}});var LW1=JV();Object.defineProperty(x,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return LW1.GridFSBucketWriteStream}});var wW1=Q9();Object.defineProperty(x,"MongoClient",{enumerable:!0,get:function(){return wW1.MongoClient}});var RW1=W6();Object.defineProperty(x,"CancellationToken",{enumerable:!0,get:function(){return RW1.CancellationToken}});var MW1=IJ();Object.defineProperty(x,"ClientSession",{enumerable:!0,get:function(){return MW1.ClientSession}});var AW1=t1();Object.defineProperty(x,"BSON",{enumerable:!0,get:function(){return AW1.BSON}});var D8=t1();Object.defineProperty(x,"Binary",{enumerable:!0,get:function(){return D8.Binary}});Object.defineProperty(x,"BSONRegExp",{enumerable:!0,get:function(){return D8.BSONRegExp}});Object.defineProperty(x,"BSONSymbol",{enumerable:!0,get:function(){return D8.BSONSymbol}});Object.defineProperty(x,"BSONType",{enumerable:!0,get:function(){return D8.BSONType}});Object.defineProperty(x,"Code",{enumerable:!0,get:function(){return D8.Code}});Object.defineProperty(x,"DBRef",{enumerable:!0,get:function(){return D8.DBRef}});Object.defineProperty(x,"Decimal128",{enumerable:!0,get:function(){return D8.Decimal128}});Object.defineProperty(x,"Double",{enumerable:!0,get:function(){return D8.Double}});Object.defineProperty(x,"Int32",{enumerable:!0,get:function(){return D8.Int32}});Object.defineProperty(x,"Long",{enumerable:!0,get:function(){return D8.Long}});Object.defineProperty(x,"MaxKey",{enumerable:!0,get:function(){return D8.MaxKey}});Object.defineProperty(x,"MinKey",{enumerable:!0,get:function(){return D8.MinKey}});Object.defineProperty(x,"ObjectId",{enumerable:!0,get:function(){return D8.ObjectId}});Object.defineProperty(x,"Timestamp",{enumerable:!0,get:function(){return D8.Timestamp}});Object.defineProperty(x,"UUID",{enumerable:!0,get:function(){return D8.UUID}});var BW1=MJ();Object.defineProperty(x,"MongoBulkWriteError",{enumerable:!0,get:function(){return BW1.MongoBulkWriteError}});var NW1=h_();Object.defineProperty(x,"ClientEncryption",{enumerable:!0,get:function(){return NW1.ClientEncryption}});var DW1=sH();Object.defineProperty(x,"ChangeStreamCursor",{enumerable:!0,get:function(){return DW1.ChangeStreamCursor}});var x1=r();Object.defineProperty(x,"MongoAPIError",{enumerable:!0,get:function(){return x1.MongoAPIError}});Object.defineProperty(x,"MongoAWSError",{enumerable:!0,get:function(){return x1.MongoAWSError}});Object.defineProperty(x,"MongoAzureError",{enumerable:!0,get:function(){return x1.MongoAzureError}});Object.defineProperty(x,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return x1.MongoBatchReExecutionError}});Object.defineProperty(x,"MongoChangeStreamError",{enumerable:!0,get:function(){return x1.MongoChangeStreamError}});Object.defineProperty(x,"MongoCompatibilityError",{enumerable:!0,get:function(){return x1.MongoCompatibilityError}});Object.defineProperty(x,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return x1.MongoCursorExhaustedError}});Object.defineProperty(x,"MongoCursorInUseError",{enumerable:!0,get:function(){return x1.MongoCursorInUseError}});Object.defineProperty(x,"MongoDecompressionError",{enumerable:!0,get:function(){return x1.MongoDecompressionError}});Object.defineProperty(x,"MongoDriverError",{enumerable:!0,get:function(){return x1.MongoDriverError}});Object.defineProperty(x,"MongoError",{enumerable:!0,get:function(){return x1.MongoError}});Object.defineProperty(x,"MongoExpiredSessionError",{enumerable:!0,get:function(){return x1.MongoExpiredSessionError}});Object.defineProperty(x,"MongoGridFSChunkError",{enumerable:!0,get:function(){return x1.MongoGridFSChunkError}});Object.defineProperty(x,"MongoGridFSStreamError",{enumerable:!0,get:function(){return x1.MongoGridFSStreamError}});Object.defineProperty(x,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return x1.MongoInvalidArgumentError}});Object.defineProperty(x,"MongoKerberosError",{enumerable:!0,get:function(){return x1.MongoKerberosError}});Object.defineProperty(x,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return x1.MongoMissingCredentialsError}});Object.defineProperty(x,"MongoMissingDependencyError",{enumerable:!0,get:function(){return x1.MongoMissingDependencyError}});Object.defineProperty(x,"MongoNetworkError",{enumerable:!0,get:function(){return x1.MongoNetworkError}});Object.defineProperty(x,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return x1.MongoNetworkTimeoutError}});Object.defineProperty(x,"MongoNotConnectedError",{enumerable:!0,get:function(){return x1.MongoNotConnectedError}});Object.defineProperty(x,"MongoParseError",{enumerable:!0,get:function(){return x1.MongoParseError}});Object.defineProperty(x,"MongoRuntimeError",{enumerable:!0,get:function(){return x1.MongoRuntimeError}});Object.defineProperty(x,"MongoServerClosedError",{enumerable:!0,get:function(){return x1.MongoServerClosedError}});Object.defineProperty(x,"MongoServerError",{enumerable:!0,get:function(){return x1.MongoServerError}});Object.defineProperty(x,"MongoServerSelectionError",{enumerable:!0,get:function(){return x1.MongoServerSelectionError}});Object.defineProperty(x,"MongoSystemError",{enumerable:!0,get:function(){return x1.MongoSystemError}});Object.defineProperty(x,"MongoTailableCursorError",{enumerable:!0,get:function(){return x1.MongoTailableCursorError}});Object.defineProperty(x,"MongoTopologyClosedError",{enumerable:!0,get:function(){return x1.MongoTopologyClosedError}});Object.defineProperty(x,"MongoTransactionError",{enumerable:!0,get:function(){return x1.MongoTransactionError}});Object.defineProperty(x,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return x1.MongoUnexpectedServerResponseError}});Object.defineProperty(x,"MongoWriteConcernError",{enumerable:!0,get:function(){return x1.MongoWriteConcernError}});var IW1=MJ();Object.defineProperty(x,"BatchType",{enumerable:!0,get:function(){return IW1.BatchType}});var PW1=lF();Object.defineProperty(x,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return PW1.AutoEncryptionLoggerLevel}});var TW1=d$();Object.defineProperty(x,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return TW1.GSSAPICanonicalizationValue}});var jW1=C7();Object.defineProperty(x,"AuthMechanism",{enumerable:!0,get:function(){return jW1.AuthMechanism}});var EW1=WW();Object.defineProperty(x,"Compressor",{enumerable:!0,get:function(){return EW1.Compressor}});var CW1=W4();Object.defineProperty(x,"CURSOR_FLAGS",{enumerable:!0,get:function(){return CW1.CURSOR_FLAGS}});var OW1=r();Object.defineProperty(x,"MongoErrorLabel",{enumerable:!0,get:function(){return OW1.MongoErrorLabel}});var SW1=Iz();Object.defineProperty(x,"ExplainVerbosity",{enumerable:!0,get:function(){return SW1.ExplainVerbosity}});var kW1=Q9();Object.defineProperty(x,"ServerApiVersion",{enumerable:!0,get:function(){return kW1.ServerApiVersion}});var _W1=mH();Object.defineProperty(x,"ReturnDocument",{enumerable:!0,get:function(){return _W1.ReturnDocument}});var xW1=eH();Object.defineProperty(x,"ProfilingLevel",{enumerable:!0,get:function(){return xW1.ProfilingLevel}});var fW1=T6();Object.defineProperty(x,"ReadConcernLevel",{enumerable:!0,get:function(){return fW1.ReadConcernLevel}});var yW1=S0();Object.defineProperty(x,"ReadPreferenceMode",{enumerable:!0,get:function(){return yW1.ReadPreferenceMode}});var m_=P6();Object.defineProperty(x,"ServerType",{enumerable:!0,get:function(){return m_.ServerType}});Object.defineProperty(x,"TopologyType",{enumerable:!0,get:function(){return m_.TopologyType}});var gW1=T6();Object.defineProperty(x,"ReadConcern",{enumerable:!0,get:function(){return gW1.ReadConcern}});var bW1=S0();Object.defineProperty(x,"ReadPreference",{enumerable:!0,get:function(){return bW1.ReadPreference}});var vW1=y8();Object.defineProperty(x,"WriteConcern",{enumerable:!0,get:function(){return vW1.WriteConcern}});var $V=zq();Object.defineProperty(x,"CommandFailedEvent",{enumerable:!0,get:function(){return $V.CommandFailedEvent}});Object.defineProperty(x,"CommandStartedEvent",{enumerable:!0,get:function(){return $V.CommandStartedEvent}});Object.defineProperty(x,"CommandSucceededEvent",{enumerable:!0,get:function(){return $V.CommandSucceededEvent}});var v6=xq();Object.defineProperty(x,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return v6.ConnectionCheckedInEvent}});Object.defineProperty(x,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return v6.ConnectionCheckedOutEvent}});Object.defineProperty(x,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return v6.ConnectionCheckOutFailedEvent}});Object.defineProperty(x,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return v6.ConnectionCheckOutStartedEvent}});Object.defineProperty(x,"ConnectionClosedEvent",{enumerable:!0,get:function(){return v6.ConnectionClosedEvent}});Object.defineProperty(x,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return v6.ConnectionCreatedEvent}});Object.defineProperty(x,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return v6.ConnectionPoolClearedEvent}});Object.defineProperty(x,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return v6.ConnectionPoolClosedEvent}});Object.defineProperty(x,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return v6.ConnectionPoolCreatedEvent}});Object.defineProperty(x,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return v6.ConnectionPoolMonitoringEvent}});Object.defineProperty(x,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return v6.ConnectionPoolReadyEvent}});Object.defineProperty(x,"ConnectionReadyEvent",{enumerable:!0,get:function(){return v6.ConnectionReadyEvent}});var w4=UW();Object.defineProperty(x,"ServerClosedEvent",{enumerable:!0,get:function(){return w4.ServerClosedEvent}});Object.defineProperty(x,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return w4.ServerDescriptionChangedEvent}});Object.defineProperty(x,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return w4.ServerHeartbeatFailedEvent}});Object.defineProperty(x,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return w4.ServerHeartbeatStartedEvent}});Object.defineProperty(x,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return w4.ServerHeartbeatSucceededEvent}});Object.defineProperty(x,"ServerOpeningEvent",{enumerable:!0,get:function(){return w4.ServerOpeningEvent}});Object.defineProperty(x,"TopologyClosedEvent",{enumerable:!0,get:function(){return w4.TopologyClosedEvent}});Object.defineProperty(x,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return w4.TopologyDescriptionChangedEvent}});Object.defineProperty(x,"TopologyOpeningEvent",{enumerable:!0,get:function(){return w4.TopologyOpeningEvent}});var hW1=pq();Object.defineProperty(x,"SrvPollingEvent",{enumerable:!0,get:function(){return hW1.SrvPollingEvent}});var sZ=G9();Object.defineProperty(x,"MongoCryptAzureKMSRequestError",{enumerable:!0,get:function(){return sZ.MongoCryptAzureKMSRequestError}});Object.defineProperty(x,"MongoCryptCreateDataKeyError",{enumerable:!0,get:function(){return sZ.MongoCryptCreateDataKeyError}});Object.defineProperty(x,"MongoCryptCreateEncryptedCollectionError",{enumerable:!0,get:function(){return sZ.MongoCryptCreateEncryptedCollectionError}});Object.defineProperty(x,"MongoCryptError",{enumerable:!0,get:function(){return sZ.MongoCryptError}});Object.defineProperty(x,"MongoCryptInvalidArgumentError",{enumerable:!0,get:function(){return sZ.MongoCryptInvalidArgumentError}});Object.defineProperty(x,"MongoCryptKMSRequestNetworkTimeoutError",{enumerable:!0,get:function(){return sZ.MongoCryptKMSRequestNetworkTimeoutError}})});var c8=w((oj1,u_)=>{u_.exports=function Z(Y){if(Y==null)return;if(typeof Y.constructor!=="function")return;return Y.constructor.name}});var v7=w((cW1)=>{/*!
 * ignore
 */cW1.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}});var l_=w((ZE1,c_)=>{var L7=function(Z,Y,J){this.collection=null,this.Promise=J.Promise||Promise,this.modelName=J.modelName,delete J.modelName,this._closed=!1,iW.apply(this,arguments)},aW1=function(Z){L7.prototype[Z]=function(){const Y=this._getCollection(),J=Array.from(arguments),X=this,$=X&&X.conn&&X.conn.base&&X.conn.base.options&&X.conn.base.options.debug,W=X&&X.conn&&X.conn.options&&X.conn.options.debug,G=W==null?$:W,K=arguments[arguments.length-1],Q=new pW1;if(this.conn.$wasForceClosed){const F=new WV("Connection was force closed");if(J.length>0&&typeof J[J.length-1]==="function"){J[J.length-1](F);return}else throw F}let z=J,H=null;if(this._shouldBufferCommands()&&this.buffer){this.conn.emit("buffer",{_id:Q,modelName:X.modelName,collectionName:X.name,method:Z,args:J});let F,q=J,V=null,U=null;if(UX[Z]&&typeof K==="function")this.addQueue(()=>{K.call(this,null,this[Z].apply(this,q.slice(0,q.length-1)))},[]);else if(UX[Z])V=new Promise((R,A)=>{F=function B(M,D){if(U!=null)clearTimeout(U);if(M!=null)return A(M);R(D)},q=J.concat([F]),this.addQueue(Z,q)});else if(typeof K==="function")F=function R(){if(U!=null)clearTimeout(U);return K.apply(this,arguments)},q=J.slice(0,J.length-1).concat([F]);else V=new Promise((R,A)=>{F=function B(M,D){if(U!=null)clearTimeout(U);if(M!=null)return A(M);R(D)},q=J.concat([F]),this.addQueue(Z,q)});const L=this._getBufferTimeoutMS();if(U=setTimeout(()=>{if(this.removeQueue(Z,q)){const A="Operation `"+this.name+"."+Z+"()` buffering timed out after "+L+"ms",B=new WV(A);this.conn.emit("buffer-end",{_id:Q,modelName:X.modelName,collectionName:X.name,method:Z,error:B}),F(B)}},L),!UX[Z]&&typeof K==="function"){this.addQueue(Z,q);return}return V}else if(!UX[Z]&&typeof K==="function")H=function F(q,V){if(q!=null)X.conn.emit("operation-end",{_id:Q,modelName:X.modelName,collectionName:X.name,method:Z,error:q});else X.conn.emit("operation-end",{_id:Q,modelName:X.modelName,collectionName:X.name,method:Z,result:V});return K.apply(this,arguments)},z=J.slice(0,J.length-1).concat([H]);if(G)if(typeof G==="function"){let F=null;if(typeof J[J.length-1]=="function")F=J.slice(0,J.length-1);else F=J;G.apply(X,[X.name,Z].concat(F))}else if(G instanceof nW1.Writable)this.$printToStream(X.name,Z,J,G);else{const F=G.color==null?!0:G.color,q=G.shell==null?!1:G.shell;this.$print(X.name,Z,J,F,q)}this.conn.emit("operation-start",{_id:Q,modelName:X.modelName,collectionName:this.name,method:Z,params:z});try{if(Y==null){const q="Cannot call `"+this.name+"."+Z+"()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.";throw new WV(q)}if(UX[Z]&&typeof K==="function"){const q=Y[Z].apply(Y,z.slice(0,z.length-1));return K.call(this,null,q)}const F=Y[Z].apply(Y,z);if(F!=null&&typeof F.then==="function")return F.then((q)=>{return typeof K==="function"&&K(null,q),q},(q)=>{if(typeof K==="function"){K(q);return}throw q});return F}catch(F){if(typeof K==="function")return K(F);else throw this.conn.emit("operation-end",{_id:Q,modelName:X.modelName,collectionName:this.name,method:Z,error:F}),F}}},rZ=function(Z){const Y={inspect:function(){return Z}};if(KV.inspect.custom)Y[KV.inspect.custom]=Y.inspect;return Y},sW1=function(Z){return QV(Z,!0)},rW1=function(Z,Y){Z[Y]=rZ('ObjectId("'+Z[Y].toHexString()+'")')},tW1=function(Z,Y,J){if(J)Z[Y]=rZ('ISODate("'+Z[Y].toUTCString()+'")');else Z[Y]=rZ('new Date("'+Z[Y].toUTCString()+'")')},QV=function(Z,Y,J,X){if(Z&&typeof Z.toBSON==="function")Z=Z.toBSON();if(Z==null)return Z;let W=V0()(Z,iW1);const G=d_(W);if(G==="Binary")W="BinData("+W.sub_type+', "'+W.toString("base64")+'")';else if(G==="ObjectId")W=rZ('ObjectId("'+W.toHexString()+'")');else if(G==="Date")W=rZ('new Date("'+W.toUTCString()+'")');else if(G==="Object"){const K=Object.keys(W),Q=K.length;let z;for(let H=0;H<Q;++H)if(z=K[H],W[z]){let F;if(typeof W[z].toBSON==="function")try{W[z]=W[z].toBSON()}catch(V){F=V}const q=d_(W[z]);if(q==="Binary")W[z]="BinData("+W[z].sub_type+', "'+W[z].buffer.toString("base64")+'")';else if(q==="Object")W[z]=QV(W[z],!0);else if(q==="ObjectId")rW1(W,z);else if(q==="Date")tW1(W,z,X);else if(q==="ClientSession")W[z]=rZ('ClientSession("'+(W[z]&&W[z].id&&W[z].id.id&&W[z].id.id.buffer||"").toString("hex")+'")');else if(Array.isArray(W[z]))W[z]=W[z].map(sW1);else if(F!=null)throw F}}if(Y)return W;return KV.inspect(W,!1,10,J).replace(/\n/g,"").replace(/\s{2,}/g," ")};/*!
 * Module dependencies.
 */var iW=aA(),WV=J0(),GV=pW().Collection,pW1=Z4(),d_=c8(),iW1=v7().internalToObjectOptions,nW1=import.meta.require("stream"),KV=import.meta.require("util");/*!
 * Inherit from abstract Collection.
 */Object.setPrototypeOf(L7.prototype,iW.prototype);L7.prototype.onOpen=function(){return this.collection=this.conn.db.collection(this.name),iW.prototype.onOpen.call(this),this.collection};L7.prototype.onClose=function(Z){iW.prototype.onClose.call(this,Z)};L7.prototype._getCollection=function Z(){if(this.collection)return this.collection;if(this.conn.db!=null)return this.collection=this.conn.db.collection(this.name),this.collection;return null};/*!
 * ignore
 */var UX={watch:!0,find:!0,aggregate:!0};for(let Z of Object.getOwnPropertyNames(GV.prototype)){if(Object.getOwnPropertyDescriptor(GV.prototype,Z).get!==void 0)continue;if(typeof GV.prototype[Z]!=="function")continue;aW1(Z)}L7.prototype.$print=function(Z,Y,J,X,$){const W=X?"\x1B[0;36mMongoose:\x1B[0m ":"Mongoose: ",G=[Z,Y].join("."),K=[];for(let z=J.length-1;z>=0;--z)if(this.$format(J[z])||K.length)K.unshift(this.$format(J[z],X,$));const Q="("+K.join(", ")+")";console.info(W+G+Q)};L7.prototype.$printToStream=function(Z,Y,J,X){const $=[Z,Y].join("."),W=[];for(let K=J.length-1;K>=0;--K)if(this.$format(J[K])||W.length)W.unshift(this.$format(J[K]));const G="("+W.join(", ")+")";X.write($+G,"utf8")};L7.prototype.$format=function(Z,Y,J){const X=typeof Z;if(X==="function"||X==="undefined")return"";return QV(Z,!1,Y,J)};L7.prototype.getIndexes=L7.prototype.indexInformation;/*!
 * Module exports.
 */c_.exports=L7});var zV=w((YE1,n_)=>{/*!
 * Module dependencies.
 */var oW1=import.meta.require("events").EventEmitter;/*!
 * ignore
 */var p_=["close","change","end","error","resumeTokenChanged"];/*!
 * ignore
 */class i_ extends oW1{constructor(Z,Y,J){super();if(this.driverChangeStream=null,this.closed=!1,this.bindedEvents=!1,this.pipeline=Y,this.options=J,J&&J.hydrate&&!J.model)throw new Error("Cannot create change stream with `hydrate: true` unless calling `Model.watch()`");Z((X,$)=>{if(X!=null){this.emit("error",X);return}this.driverChangeStream=$,this.emit("ready")})}_bindEvents(){if(this.bindedEvents)return;if(this.bindedEvents=!0,this.driverChangeStream==null){this.once("ready",()=>{this.driverChangeStream.on("close",()=>{this.closed=!0}),p_.forEach((Z)=>{this.driverChangeStream.on(Z,(Y)=>{if(Z==="error"&&this.closed)return;if(Y!=null&&Y.fullDocument!=null&&this.options&&this.options.hydrate)Y.fullDocument=this.options.model.hydrate(Y.fullDocument);this.emit(Z,Y)})})});return}this.driverChangeStream.on("close",()=>{this.closed=!0}),p_.forEach((Z)=>{this.driverChangeStream.on(Z,(Y)=>{if(Z==="error"&&this.closed)return;if(Y!=null&&Y.fullDocument!=null&&this.options&&this.options.hydrate)Y.fullDocument=this.options.model.hydrate(Y.fullDocument);this.emit(Z,Y)})})}hasNext(Z){return this.driverChangeStream.hasNext(Z)}next(Z){if(this.options&&this.options.hydrate){if(Z!=null){const J=Z;Z=(X,$)=>{if(X!=null)return J(X);if($.fullDocument!=null)$.fullDocument=this.options.model.hydrate($.fullDocument);return J(null,$)}}let Y=this.driverChangeStream.next(Z);if(Y&&typeof Y.then==="function")Y=Y.then((J)=>{if(J.fullDocument!=null)J.fullDocument=this.options.model.hydrate(J.fullDocument);return J});return Y}return this.driverChangeStream.next(Z)}addListener(Z,Y){return this._bindEvents(),super.addListener(Z,Y)}on(Z,Y){return this._bindEvents(),super.on(Z,Y)}once(Z,Y){return this._bindEvents(),super.once(Z,Y)}_queue(Z){this.once("ready",()=>Z())}close(){if(this.closed=!0,this.driverChangeStream)this.driverChangeStream.close()}}/*!
 * ignore
 */n_.exports=i_});var tZ=w((JE1,r_)=>{var h1=function(){this._pres=new Map,this._posts=new Map},a_=function(Z,Y,J,X,$,W,G){if(W.useErrorHandlers)return Z.execPost(J,X,$,{error:Y},function(K){return typeof G==="function"&&G(K)});else return typeof G==="function"&&G(Y)},nW=function(Z,Y,J,X){let $;try{$=Z.apply(Y,J)}catch(W){return X(W)}if(aW($))$.then(()=>X(),(W)=>X(W))},aW=function(Z){return typeof Z==="object"&&Z!==null&&typeof Z.then==="function"},LX=function(Z){let Y=!1;const J=this;return function(){if(Y)return;return Y=!0,wX(()=>Z.apply(J,arguments))}},s_=function(Z,Y){if(Z.errorHandler)return!0;return Z.fn.length===Y+2};h1.skipWrappedFunction=function Z(){if(!(this instanceof h1.skipWrappedFunction))return new h1.skipWrappedFunction(...arguments);this.args=[...arguments]};h1.overwriteResult=function Z(){if(!(this instanceof h1.overwriteResult))return new h1.overwriteResult(...arguments);this.args=[...arguments]};h1.prototype.execPre=function(Z,Y,J,X){if(arguments.length===3)X=J,J=[];const $=this._pres.get(Z)||[],W=$.length,G=$.numAsync||0;let K=0,Q=G,z=!1;const H=J;let F=null;if(!W)return wX(function(){X(null)});function q(){if(K>=W)return;const U=$[K];if(U.isAsync){const L=[LX(V),LX(function(R){if(R){if(z)return;if(R instanceof h1.skipWrappedFunction)F=R;else return z=!0,X(R)}if(--Q===0&&K>=W)return X(F)})];nW(U.fn,Y,L,L[0])}else if(U.fn.length>0){const L=[LX(V)],R=arguments.length>=2?arguments:[null].concat(H);for(let A=1;A<R.length;++A){if(A===R.length-1&&typeof R[A]==="function")continue;L.push(R[A])}nW(U.fn,Y,L,L[0])}else{let L=null;try{L=U.fn.call(Y)}catch(R){if(R!=null)return X(R)}if(aW(L))L.then(()=>V(),(R)=>V(R));else{if(++K>=W)if(Q>0)return;else return wX(function(){X(F)});q()}}}q.apply(null,[null].concat(J));function V(U){if(U){if(z)return;if(U instanceof h1.skipWrappedFunction)F=U;else return z=!0,X(U)}if(++K>=W)if(Q>0)return;else return X(F);q.apply(Y,arguments)}};h1.prototype.execPreSync=function(Z,Y,J){const X=this._pres.get(Z)||[],$=X.length;for(let W=0;W<$;++W)X[W].fn.apply(Y,J||[])};h1.prototype.execPost=function(Z,Y,J,X,$){if(arguments.length<5)$=X,X=null;const W=this._posts.get(Z)||[],G=W.length;let K=0,Q=null;if(X&&X.error)Q=X.error;if(!G)return wX(function(){$.apply(null,[Q].concat(J))});function z(){const H=W[K].fn;let F=0;const q=J.length,V=[];for(let U=0;U<q;++U)if(F+=J[U]&&J[U]._kareemIgnore?0:1,!J[U]||!J[U]._kareemIgnore)V.push(J[U]);if(Q)if(s_(W[K],F)){const U=LX(function(L){if(L){if(L instanceof h1.overwriteResult){if(J=L.args,++K>=G)return $.call(null,Q);return z()}Q=L}if(++K>=G)return $.call(null,Q);z()});nW(H,Y,[Q].concat(V).concat([U]),U)}else{if(++K>=G)return $.call(null,Q);z()}else{const U=LX(function(L){if(L){if(L instanceof h1.overwriteResult){if(J=L.args,++K>=G)return $.apply(null,[null].concat(J));return z()}return Q=L,z()}if(++K>=G)return $.apply(null,[null].concat(J));z()});if(s_(W[K],F)){if(++K>=G)return $.apply(null,[null].concat(J));return z()}if(H.length===F+1)nW(H,Y,V.concat([U]),U);else{let L,R;try{R=H.apply(Y,V)}catch(A){L=A,Q=A}if(aW(R))return R.then((A)=>{U(A instanceof h1.overwriteResult?A:null)},(A)=>U(A));if(R instanceof h1.overwriteResult)J=R.args;if(++K>=G)return $.apply(null,[L].concat(J));z()}}}z()};h1.prototype.execPostSync=function(Z,Y,J){const X=this._posts.get(Z)||[],$=X.length;for(let W=0;W<$;++W){const G=X[W].fn.apply(Y,J||[]);if(G instanceof h1.overwriteResult)J=G.args}return J};h1.prototype.createWrapperSync=function(Z,Y){const J=this;return function X(){J.execPreSync(Z,this,arguments);const $=Y.apply(this,arguments);return J.execPostSync(Z,this,[$])[0]}};h1.prototype.wrap=function(Z,Y,J,X,$){const W=X.length>0?X[X.length-1]:null,G=Array.from(X);typeof W==="function"&&G.pop();const K=this;$=$||{};const Q=$.checkForPromise;this.execPre(Z,J,X,function(z){if(z&&!(z instanceof h1.skipWrappedFunction)){const V=$.numCallbackParams||0,U=$.contextParameter?[J]:[];for(let L=U.length;L<V;++L)U.push(null);return a_(K,z,Z,J,U,$,W)}const H=Y.length;let F;if(z instanceof h1.skipWrappedFunction)return F=z.args[0],q(null,...z.args);else try{F=Y.apply(J,G.concat(q))}catch(V){return q(V)}if(Q){if(aW(F))return F.then((V)=>q(null,V),(V)=>q(V));if(H<G.length+1)return q(null,F)}function q(){const V=Array.from(arguments);if(V.shift(),$.nullResultByDefault&&V.length===0)V.push(null);if(arguments[0])return a_(K,arguments[0],Z,J,V,$,W);else K.execPost(Z,J,V,function(){if(W===null)return;arguments[0]?W(arguments[0]):W.apply(J,arguments)})}})};h1.prototype.filter=function(Z){const Y=this.clone(),J=Array.from(Y._pres.keys());for(let $ of J){const W=this._pres.get($).map((G)=>Object.assign({},G,{name:$})).filter(Z);if(W.length===0){Y._pres.delete($);continue}W.numAsync=W.filter((G)=>G.isAsync).length,Y._pres.set($,W)}const X=Array.from(Y._posts.keys());for(let $ of X){const W=this._posts.get($).map((G)=>Object.assign({},G,{name:$})).filter(Z);if(W.length===0){Y._posts.delete($);continue}Y._posts.set($,W)}return Y};h1.prototype.hasHooks=function(Z){return this._pres.has(Z)||this._posts.has(Z)};h1.prototype.createWrapper=function(Z,Y,J,X){const $=this;if(!this.hasHooks(Z))return function(){wX(()=>Y.apply(this,arguments))};return function(){const W=J||this;$.wrap(Z,Y,W,Array.from(arguments),X)}};h1.prototype.pre=function(Z,Y,J,X,$){let W={};if(typeof Y==="object"&&Y!==null)W=Y,Y=W.isAsync;else if(typeof arguments[1]!=="boolean")J=Y,Y=!1;const G=this._pres.get(Z)||[];if(this._pres.set(Z,G),Y)G.numAsync=G.numAsync||0,++G.numAsync;if(typeof J!=="function")throw new Error('pre() requires a function, got "'+typeof J+'"');if($)G.unshift(Object.assign({},W,{fn:J,isAsync:Y}));else G.push(Object.assign({},W,{fn:J,isAsync:Y}));return this};h1.prototype.post=function(Z,Y,J,X){const $=this._posts.get(Z)||[];if(typeof Y==="function")X=!!J,J=Y,Y={};if(typeof J!=="function")throw new Error('post() requires a function, got "'+typeof J+'"');if(X)$.unshift(Object.assign({},Y,{fn:J}));else $.push(Object.assign({},Y,{fn:J}));return this._posts.set(Z,$),this};h1.prototype.clone=function(){const Z=new h1;for(let Y of this._pres.keys()){const J=this._pres.get(Y).slice();J.numAsync=this._pres.get(Y).numAsync,Z._pres.set(Y,J)}for(let Y of this._posts.keys())Z._posts.set(Y,this._posts.get(Y).slice());return Z};h1.prototype.merge=function(Z,Y){Y=arguments.length===1?!0:Y;const J=Y?this.clone():this;for(let X of Z._pres.keys()){const $=J._pres.get(X)||[],W=Z._pres.get(X).filter((K)=>$.map((Q)=>Q.fn).indexOf(K.fn)===-1),G=$.concat(W);G.numAsync=$.numAsync||0,G.numAsync+=W.filter((K)=>K.isAsync).length,J._pres.set(X,G)}for(let X of Z._posts.keys()){const $=J._posts.get(X)||[],W=Z._posts.get(X).filter((G)=>$.indexOf(G)===-1);J._posts.set(X,$.concat(W))}return J};var wX=typeof process==="object"&&process!==null&&process.nextTick||function Z(Y){setTimeout(Y,0)};r_.exports=h1});var e_=w((t_,o_)=>{var F8=o_.exports=t_={};F8.DocumentNotFoundError=null;F8.general={};F8.general.default="Validator failed for path `{PATH}` with value `{VALUE}`";F8.general.required="Path `{PATH}` is required.";F8.Number={};F8.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).";F8.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).";F8.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";F8.Date={};F8.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).";F8.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).";F8.String={};F8.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";F8.String.match="Path `{PATH}` is invalid ({VALUE}).";F8.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).";F8.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."});var sW=w((XE1,Yx)=>{/*!
 * Module dependencies.
 */var Zx=l1(),eW1=import.meta.require("util");class HV extends Zx{constructor(Z,Y,J,X){let $;const W=Zx.messages;if(W.DocumentNotFoundError!=null)$=typeof W.DocumentNotFoundError==="function"?W.DocumentNotFoundError(Z,Y):W.DocumentNotFoundError;else $='No document found for query "'+eW1.inspect(Z)+'" on model "'+Y+'"';super($);this.result=X,this.numAffected=J,this.filter=Z,this.query=Z}}Object.defineProperty(HV.prototype,"name",{value:"DocumentNotFoundError"});/*!
 * exports
 */Yx.exports=HV});var I8=w(($E1,$x)=>{var qV=function(Z){let Y=YG1.inspect(Z);if(Y=Y.replace(/^'|'$/g,'"'),!Y.startsWith('"'))Y='"'+Y+'"';return Y},Jx=function(Z){if(Z==null)return""+Z;const Y=typeof Z;if(Y!=="object")return Y;if(typeof Z.constructor!=="function")return Y;return Z.constructor.name},Xx=function(Z){const Y=Z&&Z._castErrorMessage||null;if(typeof Y==="string"||typeof Y==="function")return Y},FV=function(Z,Y,J,X,$,W,G){if(typeof $==="string"){const K=qV(J);let Q=$.replace("{KIND}",Y).replace("{VALUE}",K).replace("{PATH}",X);if(Z!=null)Q=Q.replace("{MODEL}",Z.modelName);return Q}else if(typeof $==="function")return $(J,X,Z,Y);else{const K=qV(J),Q=W?" (type "+W+")":"";let z="Cast to "+Y+" failed for value "+K+Q+' at path "'+X+'"';if(Z!=null)z+=' for model "'+Z.modelName+'"';if(G!=null&&typeof G.constructor==="function"&&G.constructor.name!=="AssertionError"&&G.constructor.name!=="Error")z+=' because of "'+G.constructor.name+'"';return z}};/*!
 * Module dependencies.
 */var ZG1=J0(),YG1=import.meta.require("util");class VV extends ZG1{constructor(Z,Y,J,X,$){if(arguments.length>0){const W=Jx(Y),G=Xx($),K=FV(null,Z,Y,J,G,W,X);super(K);this.init(Z,Y,J,X,$)}else super(FV())}toJSON(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}init(Z,Y,J,X,$){/*!
   * ignore
   */this.stringValue=qV(Y),this.messageFormat=Xx($),this.kind=Z,this.value=Y,this.path=J,this.reason=X,this.valueType=Jx(Y)}copy(Z){this.messageFormat=Z.messageFormat,this.stringValue=Z.stringValue,this.kind=Z.kind,this.value=Z.value,this.path=Z.path,this.reason=Z.reason,this.message=Z.message,this.valueType=Z.valueType}setModel(Z){/*!
   * ignore
   */this.model=Z,this.message=FV(Z,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}Object.defineProperty(VV.prototype,"name",{value:"CastError"});/*!
 * ignore
 *//*!
 * exports
 */$x.exports=VV});var UV=w((WE1,Wx)=>{/*!
 * ignore
 */Wx.exports=function Z(Y){const J=Object.keys(Y.errors||{}),X=J.length,$=[];let W;for(let G=0;G<X;++G){if(W=J[G],Y===Y.errors[W])continue;$.push(W+": "+Y.errors[W].message)}return $.join(", ")}});var N9=w((GE1,Qx)=>{/*!
 * Module requirements
 */var JG1=J0(),XG1=c8(),Gx=import.meta.require("util"),Kx=UV();class B9 extends JG1{constructor(Z){let Y;if(XG1(Z)==="model")Y=Z.constructor.modelName+" validation failed";else Y="Validation failed";super(Y);if(this.errors={},this._message=Y,Z)Z.$errors=this.errors}toString(){return this.name+": "+Kx(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,Y){if(Y instanceof B9){const{errors:J}=Y;for(let X of Object.keys(J))this.addError(`${Z}.${X}`,J[X]);return}this.errors[Z]=Y,this.message=this._message+": "+Kx(this)}}if(Gx.inspect.custom)B9.prototype[Gx.inspect.custom]=B9.prototype.inspect;Object.defineProperty(B9.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(B9.prototype,"name",{value:"ValidationError"});/*!
 * Module exports
 */Qx.exports=B9});var LV=w((KE1,Fx)=>{var Hx=function(Z,Y,J){if(typeof Z==="function")return Z(Y,J);const X=Object.keys(Y);for(let $ of X){if($==="message")continue;Z=Z.replace("{"+$.toUpperCase()+"}",Y[$])}return Z};/*!
 * Module dependencies.
 */var zx=l1();class RX extends zx{constructor(Z,Y){let J=Z.message;if(!J)J=zx.messages.general.default;const X=Hx(J,Z,Y);super(X);Z=Object.assign({},Z,{message:X}),this.properties=Z,this.kind=Z.type,this.path=Z.path,this.value=Z.value,this.reason=Z.reason}toString(){return this.message}toJSON(){return Object.assign({name:this.name,message:this.message},this)}}Object.defineProperty(RX.prototype,"name",{value:"ValidatorError"});Object.defineProperty(RX.prototype,"properties",{enumerable:!1,writable:!0,value:null});RX.prototype.formatMessage=Hx;/*!
 * exports
 */Fx.exports=RX});var RV=w((QE1,qx)=>{/*!
 * Module dependencies.
 */var $G1=l1();class wV extends $G1{constructor(Z,Y,J){const X=J.join(", ");super('No matching document found for id "'+Z._id+'" version '+Y+' modifiedPaths "'+X+'"');this.version=Y,this.modifiedPaths=J}}Object.defineProperty(wV.prototype,"name",{value:"VersionError"});/*!
 * exports
 */qx.exports=wV});var AV=w((zE1,Vx)=>{/*!
 * Module dependencies.
 */var WG1=l1();class MV extends WG1{constructor(Z){super("Can\'t save() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(MV.prototype,"name",{value:"ParallelSaveError"});/*!
 * exports
 */Vx.exports=MV});var NV=w((HE1,Ux)=>{/*!
 * Module dependencies.
 */var GG1=l1();class BV extends GG1{constructor(Z){super("Cannot overwrite `"+Z+"` model once compiled.")}}Object.defineProperty(BV.prototype,"name",{value:"OverwriteModelError"});/*!
 * exports
 */Ux.exports=BV});var wx=w((FE1,Lx)=>{/*!
 * Module dependencies.
 */var KG1=l1();class DV extends KG1{constructor(Z){const Y='Schema hasn\'t been registered for model "'+Z+'".\nUse mongoose.model(name, schema)';super(Y)}}Object.defineProperty(DV.prototype,"name",{value:"MissingSchemaError"});/*!
 * exports
 */Lx.exports=DV});var Mx=w((qE1,Rx)=>{var QG1=c8();Rx.exports=function Z(Y){if(QG1(Y)!=="TopologyDescription")return!1;const J=Array.from(Y.servers.values());return J.length>0&&J.every((X)=>X.type==="Unknown")}});var Bx=w((VE1,Ax)=>{var zG1=c8();Ax.exports=function Z(Y){if(zG1(Y)!=="TopologyDescription")return!1;if(Y.servers.size===0)return!1;for(let J of Y.servers.values())if(J.host.endsWith(".mongodb.net")===!1||J.port!==27017)return!1;return!0}});var Dx=w((UE1,Nx)=>{var HG1=c8(),FG1="Client network socket disconnected before secure TLS connection was established";Nx.exports=function Z(Y){if(HG1(Y)!=="TopologyDescription")return!1;const J=Array.from(Y.servers.values());return J.length>0&&J.every((X)=>X.error&&X.error.message.indexOf(FG1)!==-1)}});var PV=w((LE1,Ix)=>{/*!
 * Module dependencies.
 */var qG1=J0(),VG1=Mx(),UG1=Bx(),LG1=Dx();/*!
 * ignore
 */var wG1="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you\'re trying to access the database from an IP that isn\'t whitelisted. Make sure your current IP address is on your Atlas cluster\'s IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/",RG1="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html";class IV extends qG1{assimilateError(Z){const Y=Z.reason;if(UG1(Y)&&VG1(Y)&&Z.message.indexOf("bad auth")===-1&&Z.message.indexOf("Authentication failed")===-1)this.message=wG1;else if(LG1(Y))this.message=RG1;else this.message=Z.message;for(let X in Z)if(X!=="name")this[X]=Z[X];return this}}Object.defineProperty(IV.prototype,"name",{value:"MongooseServerSelectionError"});Ix.exports=IV});var jV=w((wE1,Px)=>{/*!
 * Module dependencies.
 */var MG1=l1();class TV extends MG1{constructor(Z){const Y="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+Z.join("\n  ")+"\nUse Model.updateOne() to update these arrays instead.";super(Y)}}Object.defineProperty(TV.prototype,"name",{value:"DivergentArrayError"});/*!
 * exports
 */Px.exports=TV});var F5=w((RE1,Tx)=>{/*!
 * Module dependencies.
 */var AG1=l1();class EV extends AG1{constructor(Z,Y,J){Y=Y||"Field `"+Z+"` is not in schema and strict mode is set to throw.";super(Y);this.isImmutableError=!!J,this.path=Z}}Object.defineProperty(EV.prototype,"name",{value:"StrictModeError"});Tx.exports=EV});var OV=w((ME1,jx)=>{/*!
 * Module dependencies.
 */var BG1=l1();class CV extends BG1{constructor(Z,Y){Y=Y||"Cannot populate path `"+Z+"` because it is not in your schema. Set the `strictPopulate` option to false to override.";super(Y);this.path=Z}}Object.defineProperty(CV.prototype,"name",{value:"StrictPopulateError"});jx.exports=CV});var l1=w((Ex,Cx)=>{var q8=J0();/*!
 * Module exports.
 */Cx.exports=Ex=q8;q8.messages=e_();q8.Messages=q8.messages;q8.DocumentNotFoundError=sW();q8.CastError=I8();q8.ValidationError=N9();q8.ValidatorError=LV();q8.VersionError=RV();q8.ParallelSaveError=AV();q8.OverwriteModelError=NV();q8.MissingSchemaError=wx();q8.MongooseServerSelectionError=PV();q8.DivergentArrayError=jV();q8.StrictModeError=F5();q8.StrictPopulateError=OV()});var h6=w((AE1,Ox)=>{Ox.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})});var V6=w((BE1,Sx)=>{var NG1=V0();class V8{constructor(Z){if(Z==null)return this;Object.assign(this,NG1(Z))}}var l8=h6();Object.defineProperty(V8.prototype,"type",l8);Object.defineProperty(V8.prototype,"validate",l8);Object.defineProperty(V8.prototype,"cast",l8);Object.defineProperty(V8.prototype,"required",l8);Object.defineProperty(V8.prototype,"default",l8);Object.defineProperty(V8.prototype,"ref",l8);Object.defineProperty(V8.prototype,"refPath",l8);Object.defineProperty(V8.prototype,"select",l8);Object.defineProperty(V8.prototype,"index",l8);Object.defineProperty(V8.prototype,"unique",l8);Object.defineProperty(V8.prototype,"immutable",l8);Object.defineProperty(V8.prototype,"sparse",l8);Object.defineProperty(V8.prototype,"text",l8);Object.defineProperty(V8.prototype,"transform",l8);Sx.exports=V8});var rW=w((NE1,oZ)=>{var DG1=I8();oZ.exports=function Z(Y,J){if(oZ.exports.convertToTrue.has(Y))return!0;if(oZ.exports.convertToFalse.has(Y))return!1;if(Y==null)return Y;throw new DG1("boolean",Y,J)};oZ.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]);oZ.exports.convertToFalse=new Set([!1,"false",0,"0","no"])});var tW=w((DE1,kx)=>{var IG1=rW();/*!
 * ignore
 */kx.exports=function(Z){const Y=this!=null?this.path:null;return IG1(Z,Y)}});var SV=w((IE1,_x)=>{/*!
 * ignore
 */_x.exports=function(Z){if(Array.isArray(Z)){if(!Z.every((Y)=>typeof Y==="number"||typeof Y==="string"))throw new Error("$type array values must be strings or numbers");return Z}if(typeof Z!=="number"&&typeof Z!=="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return Z}});var fx=w((PE1,xx)=>{var TG1=function(Z,Y){return function J(X,$,W,G){if(this==null||this.$__==null)return X;if(this.isNew)return X;if(G&&G.overwriteImmutable)return X;if(!(typeof Y==="function"?Y.call(this,this):Y))return X;const Q=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(Z):this.$__getValue(Z);if(this.$__.strictMode==="throw"&&X!==Q)throw new PG1(Z,"Path `"+Z+"` is immutable and strict mode is set to throw.",!0);return Q}},PG1=F5();/*!
 * ignore
 */xx.exports=function(Z){if(Z.$immutable)Z.$immutableSetter=TG1(Z.path,Z.options.immutable),Z.set(Z.$immutableSetter);else if(Z.$immutableSetter)Z.setters=Z.setters.filter((Y)=>Y!==Z.$immutableSetter),delete Z.$immutableSetter}});var gx=w((TE1,yx)=>{yx.exports=function Z(Y){return typeof Y==="function"&&Y.constructor&&Y.constructor.name==="AsyncFunction"}});var vx=w((jE1,bx)=>{bx.exports=function Z(Y){const J=Object.keys(Y);let X=!0;for(let $=0,W=J.length;$<W;++$)if(typeof Y[J[$]]==="object"&&Y[J[$]]!==null){X=!1;break}return X}});var mx=w((EE1,hx)=>{var CG1=function(Z){if(Z=String(Z),Z.length>100)return;var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!Y)return;var J=parseFloat(Y[1]),X=(Y[2]||"ms").toLowerCase();switch(X){case"years":case"year":case"yrs":case"yr":case"y":return J*EG1;case"weeks":case"week":case"w":return J*jG1;case"days":case"day":case"d":return J*D9;case"hours":case"hour":case"hrs":case"hr":case"h":return J*YY;case"minutes":case"minute":case"mins":case"min":case"m":return J*ZY;case"seconds":case"second":case"secs":case"sec":case"s":return J*eZ;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}},OG1=function(Z){var Y=Math.abs(Z);if(Y>=D9)return Math.round(Z/D9)+"d";if(Y>=YY)return Math.round(Z/YY)+"h";if(Y>=ZY)return Math.round(Z/ZY)+"m";if(Y>=eZ)return Math.round(Z/eZ)+"s";return Z+"ms"},SG1=function(Z){var Y=Math.abs(Z);if(Y>=D9)return oW(Z,Y,D9,"day");if(Y>=YY)return oW(Z,Y,YY,"hour");if(Y>=ZY)return oW(Z,Y,ZY,"minute");if(Y>=eZ)return oW(Z,Y,eZ,"second");return Z+" ms"},oW=function(Z,Y,J,X){var $=Y>=J*1.5;return Math.round(Z/J)+" "+X+($?"s":"")},eZ=1000,ZY=eZ*60,YY=ZY*60,D9=YY*24,jG1=D9*7,EG1=D9*365.25;hx.exports=function(Z,Y){Y=Y||{};var J=typeof Z;if(J==="string"&&Z.length>0)return CG1(Z);else if(J==="number"&&isFinite(Z))return Y.long?SG1(Z):OG1(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var dx=w((CE1,ux)=>{ux.exports=function Z(Y){const J=[];let X="",$="DEFAULT";for(let W=0;W<Y.length;++W){if($==="IN_SQUARE_BRACKETS"&&!/\d/.test(Y[W])&&Y[W]!=="]")$="DEFAULT",X=J[J.length-1]+"["+X,J.splice(J.length-1,1);if(Y[W]==="["){if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X),X="";$="IN_SQUARE_BRACKETS"}else if(Y[W]==="]")if($==="IN_SQUARE_BRACKETS")$="IMMEDIATELY_AFTER_SQUARE_BRACKETS",J.push(X),X="";else $="DEFAULT",X+=Y[W];else if(Y[W]==="."){if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X),X="";$="DEFAULT"}else X+=Y[W]}if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X);return J}});var nx=w((kG1)=>{var px=function(Z,Y,J,X,$,W){for(var G,K=0;K<Z.length&&K<Y.length;++K)if(G=Z[K],Array.isArray(G)&&Array.isArray(Y[K]))px(G,Y[K],J,X,$,W);else if(G)if(X)X(G,J,W(Y[K]));else{if(G[$])G=G[$];G[J]=W(Y[K])}},ix=function(Z){return Z},MX=dx(),lx=["__proto__","constructor","prototype"];kG1.get=function(Z,Y,J,X){var $;if(typeof J=="function")if(J.length<2)X=J,J=void 0;else $=J,J=void 0;X||(X=ix);var W=typeof Z=="string"?MX(Z):Z;if(!Array.isArray(W))throw new TypeError("Invalid `path`. Must be either string or array");var G=Y,K;for(var Q=0;Q<W.length;++Q){if(K=W[Q],typeof W[Q]!=="string"&&typeof W[Q]!=="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+typeof W[Q]);if(Array.isArray(G)&&!/^\d+$/.test(K)){var z=W.slice(Q);return[].concat(G).map(function(F){return F?kG1.get(z,F,J||$,X):X(void 0)})}if($)G=$(G,K);else{var H=J&&G[J]?G[J]:G;G=H instanceof Map?H.get(K):H[K]}if(!G)return X(G)}return X(G)};kG1.has=function(Z,Y){var J=typeof Z==="string"?MX(Z):Z;if(!Array.isArray(J))throw new TypeError("Invalid `path`. Must be either string or array");var X=J.length,$=Y;for(var W=0;W<X;++W){if(typeof J[W]!=="string"&&typeof J[W]!=="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+typeof J[W]);if($==null||typeof $!=="object"||!(J[W]in $))return!1;$=$[J[W]]}return!0};kG1.unset=function(Z,Y){var J=typeof Z==="string"?MX(Z):Z;if(!Array.isArray(J))throw new TypeError("Invalid `path`. Must be either string or array");var X=J.length,$=Y;for(var W=0;W<X;++W){if($==null||typeof $!=="object"||!(J[W]in $))return!1;if(typeof J[W]!=="string"&&typeof J[W]!=="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+typeof J[W]);if(lx.indexOf(J[W])!==-1)return!1;if(W===X-1)return delete $[J[W]],!0;$=$ instanceof Map?$.get(J[W]):$[J[W]]}return!0};kG1.set=function(Z,Y,J,X,$,W){var G;if(typeof X=="function")if(X.length<2)$=X,X=void 0;else G=X,X=void 0;$||($=ix);var K=typeof Z=="string"?MX(Z):Z;if(!Array.isArray(K))throw new TypeError("Invalid `path`. Must be either string or array");if(J==null)return;for(var Q=0;Q<K.length;++Q){if(typeof K[Q]!=="string"&&typeof K[Q]!=="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+typeof K[Q]);if(lx.indexOf(K[Q])!==-1)return}var z=W||/\$/.test(Z)&&W!==!1,H=J,F;for(var Q=0,q=K.length-1;Q<q;++Q){if(F=K[Q],F=="$")if(Q==q-1)break;else continue;if(Array.isArray(H)&&!/^\d+$/.test(F)){var V=K.slice(Q);if(!z&&Array.isArray(Y))for(var U=0;U<H.length&&U<Y.length;++U)kG1.set(V,Y[U],H[U],X||G,$,z);else for(var U=0;U<H.length;++U)kG1.set(V,Y,H[U],X||G,$,z);return}if(G)H=G(H,F);else{var L=X&&H[X]?H[X]:H;H=L instanceof Map?L.get(F):L[F]}if(!H)return}if(F=K[q],X&&H[X])H=H[X];if(Array.isArray(H)&&!/^\d+$/.test(F))if(!z&&Array.isArray(Y))px(H,Y,F,G,X,$);else for(var U=0;U<H.length;++U){var R=H[U];if(R)if(G)G(R,F,$(Y));else{if(R[X])R=R[X];R[F]=$(Y)}}else if(G)G(H,F,$(Y));else if(H instanceof Map)H.set(F,$(Y));else H[F]=$(Y)};/*!
 * Split a string path into components delimited by '.' or
 * '[\d+]'
 *
 * #### Example:
 *     stringToParts('foo[0].bar.1'); // ['foo', '0', 'bar', '1']
 */kG1.stringToParts=MX;/*!
 * Recursively set nested arrays
 *//*!
 * Returns the value passed to it.
 */});var w7=w((ax,sx)=>{sx.exports=ax=nx()});var ox=w((SE1,tx)=>{var yG1=V0();class rx{constructor(Z){if(this._docs={},this._childDocs=[],Z==null)return;if(Z=yG1(Z),Object.assign(this,Z),typeof Z.subPopulate==="object")this.populate=Z.subPopulate;if(Z.perDocumentLimit!=null&&Z.limit!=null)throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+Z.path+"`.")}}tx.exports=rx});var ex=w((gG1)=>{gG1.isMongooseDocumentArray=function(Z){return Array.isArray(Z)&&Z.isMongooseDocumentArray}});var eW=w((_E1,Zf)=>{var vG1=X6(),JY=Symbol("mongoose#emitted");Zf.exports=function Z(Y,J,X,$){if(typeof Y==="function")try{return J(function(W){if(W!=null){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!W[JY])W[JY]=!0,X.emit("error",W);try{Y(W)}catch(G){return vG1(()=>{throw G})}return}Y.apply(this,arguments)})}catch(W){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!W[JY])W[JY]=!0,X.emit("error",W);return Y(W)}return $=$||global.Promise,new $((W,G)=>{J(function(K,Q){if(K!=null){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!K[JY])K[JY]=!0,X.emit("error",K);return G(K)}if(arguments.length>2)return W(Array.prototype.slice.call(arguments,1));W(Q)})})}});var ZG=w((xE1,Yf)=>{Yf.exports=function Z(Y,J,X){const $=Object.keys(J.tree),W={};for(let G of $){if(X&&(Y.paths[G]||Y.nested[G]||Y.singleNestedPaths[G]))continue;W[G]=J.tree[G]}Y.options._isMerging=!0,Y.add(W,null),delete Y.options._isMerging,Y.callQueue=Y.callQueue.concat(J.callQueue),Y.method(J.methods),Y.static(J.statics);for(let[G,K]of Object.entries(J._userProvidedOptions))if(!(G in Y._userProvidedOptions))Y.set(G,K);for(let G in J.query)Y.query[G]=J.query[G];for(let G in J.virtuals)Y.virtuals[G]=J.virtuals[G].clone();Y._indexes=Y._indexes.concat(J._indexes||[]),Y.s.hooks.merge(J.s.hooks,!1)}});var $f=w((Jf,Xf)=>{/*!
 * Module dependencies.
 */var fE1=W1(),R7=Xf.exports=Jf=function Z(){};R7.ctor=function(){const Z=[...arguments],Y=function(){R7.apply(this,arguments),this.paths={},this.states={}};return Y.prototype=new R7,Y.prototype.stateNames=Z,Z.forEach(function(J){Y.prototype[J]=function(X){this._changeState(X,J)}}),Y};R7.prototype._changeState=function Z(Y,J){const X=this.paths[Y];if(X===J)return;const $=this.states[X];if($)delete $[Y];this.paths[Y]=J,this.states[J]=this.states[J]||{},this.states[J][Y]=!0};/*!
 * ignore
 */R7.prototype.clear=function Z(Y){if(this.states[Y]==null)return;const J=Object.keys(this.states[Y]);let X=J.length,$;while(X--)$=J[X],delete this.states[Y][$],delete this.paths[$]};/*!
 * ignore
 */R7.prototype.clearPath=function Z(Y){const J=this.paths[Y];if(!J)return;delete this.paths[Y],delete this.states[J][Y]};R7.prototype.getStatePaths=function Z(Y){if(this.states[Y]!=null)return this.states[Y];return{}};R7.prototype.some=function Z(){const Y=this,J=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(J,function(X){if(Y.states[X]==null)return!1;return Object.keys(Y.states[X]).length})};R7.prototype._iter=function Z(Y){return function(){let J=[...arguments];const X=J.pop();if(!J.length)J=this.stateNames;const $=this;return J.reduce(function(G,K){if($.states[K]==null)return G;return G.concat(Object.keys($.states[K]))},[])[Y](function(G,K,Q){return X(G,K,Q)})}};R7.prototype.forEach=function Z(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)};R7.prototype.map=function Z(){return this.map=this._iter("map"),this.map.apply(this,arguments)}});var Kf=w((Wf,Gf)=>{var L0=function(){this.activePaths=new mG1};/*!
 * Dependencies
 */var hG1=$f(),mG1=hG1.ctor("require","modify","init","default","ignore");Gf.exports=Wf=L0;L0.prototype.strictMode=!0;L0.prototype.fullPath=void 0;L0.prototype.selected=void 0;L0.prototype.shardval=void 0;L0.prototype.saveError=void 0;L0.prototype.validationError=void 0;L0.prototype.adhocPaths=void 0;L0.prototype.removing=void 0;L0.prototype.inserting=void 0;L0.prototype.saving=void 0;L0.prototype.version=void 0;L0.prototype._id=void 0;L0.prototype.ownerDocument=void 0;L0.prototype.populate=void 0;L0.prototype.populated=void 0;L0.prototype.primitiveAtomics=void 0;L0.prototype.wasPopulated=!1;L0.prototype.scope=void 0;L0.prototype.session=null;L0.prototype.pathsToScopes=null;L0.prototype.cachedRequired=null});var I9=w((uG1)=>{uG1.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed");uG1.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")});var P9=w((gE1,Qf)=>{var M7=function(Z,Y){if(Y&&Y.default){const J=Y.default;if(Array.isArray(J)&&J.length===0)Y.default=Array;else if(!Y.shared&&pG1(J)&&Object.keys(J).length===0)Y.default=function(){return{}}}YG.call(this,Z,Y,"Mixed"),this[lG1.schemaMixedSymbol]=!0};/*!
 * Module dependencies.
 */var YG=m0(),lG1=I9(),pG1=v4(),iG1=W1();M7.schemaName="Mixed";M7.defaultOptions={};/*!
 * Inherits from SchemaType.
 */M7.prototype=Object.create(YG.prototype);M7.prototype.constructor=M7;M7.get=YG.get;M7.set=YG.set;M7.setters=[];M7.prototype.cast=function(Z){if(Z instanceof Error)return iG1.errorToPOJO(Z);return Z};M7.prototype.castForQuery=function(Z,Y){return Y};/*!
 * Module exports.
 */Qf.exports=M7});var xV=w((bE1,zf)=>{/*!
 * Module dependencies.
 */var nG1=l1();class _V extends nG1{constructor(Z,Y){const J=Array.isArray(Y)?"array":"primitive value";super("Tried to set nested object field `"+Z+`\` to ${J} \``+Y+"`");this.path=Z}}Object.defineProperty(_V.prototype,"name",{value:"ObjectExpectedError"});zf.exports=_V});var yV=w((vE1,Hf)=>{/*!
 * Module dependencies.
 */var aG1=l1();class fV extends aG1{constructor(Z,Y,J){super('Parameter "'+Y+'" to '+J+'() must be an object, got "'+Z.toString()+'" (type '+typeof Z+")")}}Object.defineProperty(fV.prototype,"name",{value:"ObjectParameterError"});Hf.exports=fV});var qf=w((hE1,Ff)=>{/*!
 * Module dependencies.
 */var sG1=J0();class gV extends sG1{constructor(Z){super("Can\'t validate() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(gV.prototype,"name",{value:"ParallelValidateError"});/*!
 * exports
 */Ff.exports=gV});var bV=w((mE1,Vf)=>{Vf.exports=function Z(Y){const J={},X=Object.keys(Y);for(let $ of X){if($.indexOf(".")===-1){J[$]=1;continue}const W=$.split(".");let G=W[0];for(let K=0;K<W.length;++K)if(J[G]=1,K+1<W.length)G=G+"."+W[K+1]}return J}});var JG=w((uE1,Uf)=>{var vV=function(Z,Y){if(Z.$__.activePaths.default(Y),Z.$isSubdocument&&Z.$isSingleNested&&Z.$parent()!=null)Z.$parent().$__.activePaths.default(Z.$__pathRelativeToParent(Y))};Uf.exports=function Z(Y,J,X,$,W,G){const K=Object.keys(Y.$__schema.paths),Q=K.length;for(let z=0;z<Q;++z){let H,F="";const q=K[z];if(q==="_id"&&Y.$__.skipId)continue;const V=Y.$__schema.paths[q],U=V.splitPath(),L=U.length;let R=!1,A=Y._doc;for(let B=0;B<L;++B){if(A==null)break;const M=U[B];if(F+=(!F.length?"":".")+M,X===!0){if(F in J)break}else if(X===!1&&J&&!R){const D=V.$isSingleNested||V.$isMongooseDocumentArray;if(F in J||B===L-1&&D&&$!=null&&$[F])R=!0;else if($!=null&&!$[F])break}if(B===L-1){if(A[M]!==void 0)break;if(W!=null){if(typeof V.defaultValue==="function"){if(!V.defaultValue.$runBeforeSetters&&W)break;if(V.defaultValue.$runBeforeSetters&&!W)break}else if(!W)continue}if(G&&G[F])break;if(J&&X!==null){if(X===!0){if(q in J)continue;try{H=V.getDefault(Y,!1)}catch(D){Y.invalidate(q,D);break}if(typeof H!=="undefined")A[M]=H,vV(Y,q)}else if(R){try{H=V.getDefault(Y,!1)}catch(D){Y.invalidate(q,D);break}if(typeof H!=="undefined")A[M]=H,vV(Y,q)}}else{try{H=V.getDefault(Y,!1)}catch(D){Y.invalidate(q,D);break}if(typeof H!=="undefined")A[M]=H,vV(Y,q)}}else A=A[M]}}};/*!
 * ignore
 */});var hV=w((dE1,Lf)=>{/*!
 * ignore
 */Lf.exports=function Z(Y,J,X){X=X||{};const $=X.skipDocArrays;let W=0;if(!Y)return W;for(let G of Object.keys(Y.$__.activePaths.getStatePaths("modify"))){if($){const K=Y.$__schema.path(G);if(K&&K.$isMongooseDocumentArray)continue}if(G.startsWith(J+".")){if(Y.$__.activePaths.clearPath(G),++W,Y.$isSubdocument){const K=Y.ownerDocument(),Q=Y.$__fullPath(G);K.$__.activePaths.clearPath(Q)}}}return W}});var $G=w(($K1)=>{var Rf=function(Z,Y,J,X){XY=XY||p8();const $=X.typeKey;for(let W of Object.keys(Z)){const G=Z[W],Q=wf(G)&&Object.keys(G).length>0&&(!G[$]||$==="type"&&wf(G.type)&&G.type.type)?G:null;Mf({prop:W,subprops:Q,prototype:Y,prefix:J,options:X})}},Mf=function({prop:Z,subprops:Y,prototype:J,prefix:X,options:$}){XY=XY||p8();const W=(X?X+".":"")+Z;X=X||"";const G=X?Object.freeze({}):JK1;if(Y)Object.defineProperty(J,Z,{enumerable:!0,configurable:!0,get:function(){const K=this;if(!this.$__.getters)this.$__.getters={};if(!this.$__.getters[W]){const Q=Object.create(XY.prototype,XK1(this));if(!X)Q.$__[XG]=this;Q.$__.nestedPath=W,Object.defineProperty(Q,"schema",{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(Q,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(Q,tG1,{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(Q,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return rG1(K.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(Q,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return K.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(Q,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return K.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(Q,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(Q,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(W,null,YK1)||{}).length===0}}),Object.defineProperty(Q,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),Rf(Y,Q,W,$),this.$__.getters[W]=Q}return this.$__.getters[W]},set:function(K){if(K!=null&&K.$__isNested)K=K.$__get();else if(K instanceof XY&&!K.$__isNested)K=K.$toObject(oG1);(this.$__[XG]||this).$set(W,K)}});else Object.defineProperty(J,Z,{enumerable:!0,configurable:!0,get:function(){return this[ZK1].call(this.$__[XG]||this,W,null,G)},set:function(K){this.$set.call(this.$__[XG]||this,W,K)}})},XK1=function(Z){const Y={};return Object.getOwnPropertyNames(Z).forEach(function(J){if(["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(J)===-1)return;Y[J]=Object.getOwnPropertyDescriptor(Z,J),Y[J].enumerable=!1}),Y},rG1=V0(),tG1=Z1().documentSchemaSymbol,oG1=v7().internalToObjectOptions,eG1=W1(),XY,ZK1=Z1().getSymbol,XG=Z1().scopeSymbol,wf=eG1.isPOJO;/*!
 * exports
 */$K1.compile=Rf;$K1.defineKey=Mf;var YK1=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),JK1=Object.freeze({noDottedPath:!0})});var $Y=w((HK1)=>{var Nf=function(Z,Y,J,X){let $;if(Z&&Bf(Z)&&!Buffer.isBuffer(Z))$=Object.keys(Z.toObject({transform:!1,virtuals:!1})||{});else $=Object.keys(Z||{});const W=$.length,G={};Y=Y?Y+".":"";for(let K=0;K<W;++K){const Q=$[K],z=Z[Q];G[Y+Q]=z;const H=X&&X.path&&X.path(Y+Q),F=X&&X.nested&&X.nested[Y+Q];if(H&&H.instance==="Mixed")continue;if(If(z)){if(J&&J.skipArrays&&Array.isArray(z))continue;const q=Nf(z,Y+Q,J,X);for(let V in q)G[V]=q[V];if(Array.isArray(z))G[Y+Q]=z}if(F){const q=Object.keys(X.paths);for(let V of q)if(V.startsWith(Y+Q+".")&&!G.hasOwnProperty(V))G[V]=void 0}}return G},Df=function(Z,Y,J,X=null){if(Z==null||typeof Z!=="object")return;if(X==null)X={raw:{update:Z,path:Y},trace:new WeakSet};if(X.trace.has(Z))throw new QK1(`a circular reference in the update value, updateValue:
${zK1.inspect(X.raw.update,{showHidden:!1,depth:1})}
updatePath: '${X.raw.path}'`);X.trace.add(Z);const $=Object.keys(Z||{}),W=$.length;J=J||{},Y=Y?Y+".":"";for(let G=0;G<W;++G){const K=$[G];let Q=Z[K];const z=Y+K;if(J[z]=!0,!Buffer.isBuffer(Q)&&Bf(Q))Q=Q.toObject({transform:!1,virtuals:!1});if(If(Q))Df(Q,Y+K,J,X)}return X.trace.delete(Z),J},If=function(Z){return Z&&typeof Z==="object"&&!(Z instanceof Date)&&!Af(Z,"ObjectId")&&(!Array.isArray(Z)||Z.length!==0)&&!(Z instanceof Buffer)&&!Af(Z,"Decimal128")&&!(Z instanceof KK1)};/*!
 * Module dependencies.
 */var KK1=I6().Binary,Af=f8(),Bf=YJ(),QK1=l1(),zK1=import.meta.require("util");HK1.flatten=Nf;HK1.modifiedPaths=Df;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var G0=w((pE1,Pf)=>{var mV=function(Z,Y){if(Z==null)return Z;if(Z instanceof Map)return Z.get(Y);return Z[Y]};Pf.exports=function Z(Y,J,X){let $,W=!1;if(typeof J==="string"){if(J.indexOf(".")===-1){const Q=mV(Y,J);if(Q==null)return X;return Q}$=J.split(".")}else if(W=!0,$=J,$.length===1){const Q=mV(Y,$[0]);if(Q==null)return X;return Q}let G=J,K=Y;for(let Q of $){if(K==null)return X;if(!W&&K[G]!=null)return K[G];if(K=mV(K,Q),!W)G=G.substr(Q.length+1)}return K==null?X:K}});var uV=w((iE1,jf)=>{var Tf=f8();jf.exports=function Z(Y,J){if(typeof Y==="string"&&typeof J==="string")return Y===J;if(typeof Y==="number"&&typeof J==="number")return Y===J;if(Tf(Y,"ObjectId")&&Tf(J,"ObjectId"))return Y.toString()===J.toString();return!1}});var WG=w((nE1,Ef)=>{var VK1=uV();Ef.exports=function Z(Y,J){if(Y==null||Y.discriminators==null)return null;for(let X of Object.keys(Y.discriminators)){const $=Y.discriminators[X];if($.discriminatorMapping==null)continue;if(VK1($.discriminatorMapping.value,J))return $}return null}});var Of=w((aE1,Cf)=>{var UK1=G0(),LK1=WG();Cf.exports=function Z(Y,J,X){X=X||{};const $=X.typeOnly,W=Array.isArray(J)?J:J.indexOf(".")===-1?[J]:J.split(".");let G=null,K="adhocOrUndefined";const Q=LK1(Y.schema,Y.get(Y.schema.options.discriminatorKey))||Y.schema;for(let z=0;z<W.length;++z){const H=W.slice(0,z+1).join(".");if(G=Q.path(H),G==null){K="adhocOrUndefined";continue}if(G.instance==="Mixed")return $?"real":G;if(K=Q.pathType(H),(G.$isSingleNested||G.$isMongooseDocumentArrayElement)&&G.schema.discriminators!=null){const F=G.schema.discriminators,q=Y.get(H+"."+UK1(G,"schema.options.discriminatorKey"));if(q==null||F[q]==null)continue;const V=W.slice(z+1).join(".");return Z(Y.get(H),V,X)}}return $?K:G}});var kf=w((sE1,Sf)=>{var wK1=G0();Sf.exports=function Z(Y,J,X){const $=X!=null?Object.keys(wK1(Y.tree,X,{})):Object.keys(Y.tree),W=new Set(Object.keys(J));let G;if(W.size>1){G=new Set;for(let K of $)if(W.has(K))G.add(K);for(let K of W)if(!G.has(K))G.add(K);G=Array.from(G)}else G=Array.from(W);return G}});var xf=w((rE1,_f)=>{_f.exports=function Z(Y,J){if(J.length===1)return;let X=J[0],$=void 0;for(let W=0;W<J.length-1;++W){const G=Y.path(X);if(G&&G.schema)$=G.schema.options.strict,Y=G.schema,X=G.$isMongooseDocumentArray&&!isNaN(J[W+1])?"":J[W+1];else X+=X.length?"."+J[W+1]:J[W+1]}return $}});var GG=w((tE1,ff)=>{var RK1=W1(),MK1=new Set(["__index","__parentArray","_doc"]);ff.exports=function Z(Y,J){if(RK1.isPOJO(Y)&&Y.$__!=null&&Y._doc!=null){if(J){const X={};for(let $ of Object.keys(Y)){if(typeof $==="symbol")continue;if($[0]==="$")continue;if(MK1.has($))continue;X[$]=Y[$]}return{...Y._doc,...X}}return Y._doc}return Y}});var WY=w((oE1,yf)=>{/*!
 * ignore
 */yf.exports=function Z(Y){if(Y==null)return!0;if(typeof Y==="object")return!("$meta"in Y)&&!("$slice"in Y);return!0}});var GY=w((eE1,gf)=>{var AK1=WY();/*!
 * ignore
 */gf.exports=function Z(Y){if(Y==null)return null;const J=Object.keys(Y);let X=J.length,$=null;if(X===1&&J[0]==="_id")$=!Y._id;else while(X--){const W=J[X];if(W!=="_id"&&AK1(Y[W])){$=Y[W]!=null&&typeof Y[W]==="object"?Z(Y[W]):!Y[W];break}}return $}});var dV=w((ZC1,bf)=>{var BK1=W1();bf.exports=function Z(Y,J){if(Y._id==null||J==null||J.length===0)return;const X=String(Y._id);for(let $ of J){if($.isVirtual)continue;const G=$.path.split(".");for(let K=0;K<G.length-1;++K){const Q=G.slice(0,K+1).join("."),z=G.slice(K+1).join("."),H=Y.get(Q);if(H==null)continue;if(BK1.isMongooseDocumentArray(H)){for(let F=0;F<H.length;++F)if(H[F])H[F].populated(z,$._docs[X]==null?void 0:$._docs[X][F],$);break}}}}});var cV=w((YC1,hf)=>{var vf=function(Z){const Y=Object.keys(Z);let J=Y.length,X,$,W;while(J--){if($=Y[J],W=Z[$],NK1(W))Z[$]=vf(W);if(Z[$]===void 0){delete Z[$];continue}X=!0}return X?Z:void 0},{isPOJO:NK1}=W1();hf.exports=vf});var uf=w((JC1,mf)=>{mf.exports=function Z(Y,J,X,$,W){const G=Object.keys(Y).reduce((Q,z)=>Q||z.startsWith(J+"."),!1),K=J+"."+X.options.discriminatorKey;if(!G&&W.length===1&&W[0]===K)$.splice($.indexOf(K),1)}});var A7=w((XC1,df)=>{var DK1=uV();df.exports=function Z(Y,J){if(Y==null)return null;for(let X of Object.keys(Y)){const $=Y[X];if($.schema&&$.schema.discriminatorMapping&&DK1($.schema.discriminatorMapping.value,J))return $}return null}});var KG=w(($C1,cf)=>{/*!
 * ignore
 */cf.exports=function Z(Y,J){const X=J.split(".");let $="",W,G,K;for(let Q=0;Q<X.length;++Q)if($+=$.length?".":""+X[Q],Y[$]){G=Object.keys(Y),K=G.length;for(W=0;W<K;++W)if(G[Q].indexOf($+".")===0&&G[Q].indexOf(J)!==0)continue;return!0}return!1}});var KY=w((CK1)=>{var pf=function(Z){return function(Y){if(Y.options||(Y.options={}),Z!=null&&Array.isArray(Z.virtuals))Z=Object.assign({},Z),Z.virtuals=Z.virtuals.filter((J)=>typeof J==="string"&&J.startsWith(Y.path+".")).map((J)=>J.slice(Y.path.length+1));Y.options.lean=Z}};/*!
 * Module dependencies
 */var IK1=uf(),lf=G0(),PK1=A7(),TK1=WY(),jK1=V0(),EK1=KG();CK1.preparePopulationOptions=function Z(Y,J){const X=Y.options.populate,$=Object.keys(X).reduce((W,G)=>W.concat([X[G]]),[]);if(J.lean!=null)$.filter((W)=>(W&&W.options&&W.options.lean)==null).forEach(pf(J.lean));return $.forEach((W)=>{W._localModel=Y.model}),$};CK1.preparePopulationOptionsMQ=function Z(Y,J){const X=Y._mongooseOptions.populate,$=Object.keys(X).reduce((K,Q)=>K.concat([X[Q]]),[]);if(J.lean!=null)$.filter((K)=>(K&&K.options&&K.options.lean)==null).forEach(pf(J.lean));const W=Y&&Y.options&&Y.options.session||null;if(W!=null)$.forEach((K)=>{if(K.options==null){K.options={session:W};return}if(!("session"in K.options))K.options.session=W});const G=Y._fieldsForExec();return $.forEach((K)=>{K._queryProjection=G}),$.forEach((K)=>{K._localModel=Y.model}),$};CK1.createModel=function Z(Y,J,X,$,W){Y.hooks.execPreSync("createModel",J);const G=Y.schema?Y.schema.discriminatorMapping:null,K=G&&G.isRoot?G.key:null,Q=J[K];if(K&&Q&&Y.discriminators){const H=Y.discriminators[Q]||PK1(Y.discriminators,Q);if(H){const F=jK1($);return CK1.applyPaths(F,H.schema),new H(void 0,F,!0)}}const z={skipId:!0,isNew:!1,willInit:!0};if(W!=null&&"defaults"in W)z.defaults=W.defaults;return new Y(void 0,X,z)};/*!
 * ignore
 */CK1.createModelAndInit=function Z(Y,J,X,$,W,G,K){const Q=G?{populated:G}:void 0,z=CK1.createModel(Y,J,X,$,W);try{z.$init(J,Q,K)}catch(H){K(H,z)}};/*!
 * ignore
 */CK1.applyPaths=function Z(Y,J){let X,$;const W=new Set;if(Y){$=Object.keys(Y);const F=[];for(let q=0;q<$.length;++q){const V=$[q];if($[q][0]!=="-")continue;if(delete Y[V],V==="-_id")Y._id=0;else F.push(V.slice(1))}$=Object.keys(Y);for(let q=0;q<$.length;++q){if($[q][0]==="+")continue;const V=Y[$[q]];if(!TK1(V))continue;if($[q]==="_id"&&$.length>1)continue;X=!V;break}for(let q of F){const V=J.path(q);if(!V||!V.selected||X!==!1)Y[q]=0,X=!0;else if(V&&V.selected&&X===!1)W.add(q)}}const G=[],K=[],Q=[];switch(z(J),X){case!0:for(let F of K)Y[F]=0;break;case!1:if(J&&J.paths._id&&J.paths._id.options&&J.paths._id.options.select===!1)Y._id=0;for(let F of G){if(W.has(F))continue;if(EK1(Y,F))continue;Y[F]=Y[F]||1}break;case void 0:if(Y==null)break;for(let F of Object.keys(Y||{}))if(F.startsWith("+"))delete Y[F];for(let F of K){if(Y[F]!=null)continue;Y[F]=0}break}function z(F,q){if(q||(q=""),Q.indexOf(F)!==-1)return[];Q.push(F);const V=[];return F.eachPath(function(U,L){if(q)U=q+"."+U;if(L.$isSchemaMap||U.endsWith(".$*")){const A="+"+U,B=Y&&A in Y;if(L.options&&L.options.select===!1&&!B)K.push(U);return}let R=H(U,L);if(R==null&&!Array.isArray(L)&&L.$isMongooseArray&&!L.$isMongooseDocumentArray)R=H(U,L.caster);if(R!=null)V.push(R);if(L.schema){const A=z(L.schema,U);if(X===!1)IK1(Y,U,L.schema,G,A)}}),Q.pop(),V}function H(F,q){if(Y==null)return;if(typeof q.selected!=="boolean")return;if(q.selected===!1&&Y[F])return;if(!X&&q.selected&&F===J.options.discriminatorKey&&Y[F]!=null&&!Y[F]){delete Y[F];return}if(X===!1&&q.selected&&Y[F]!=null&&!Y[F]){delete Y[F];return}const V="+"+F;if(Y&&V in Y){if(delete Y[V],X===!1&&$.length>1&&!~$.indexOf(F))Y[F]=1;return}const L=F.split(".");let R="";for(let A=0;A<L.length;++A)if(R+=R.length?"."+L[A]:L[A],K.indexOf(R)!==-1)return;if(!X&&(q&&q.options&&q.options.$skipDiscriminatorCheck||!1)){let A="";for(let B=0;B<L.length;++B){A+=(A.length===0?"":".")+L[B];const M=lf(Y,A,!1)||lf(Y,A+".$",!1);if(M&&typeof M!=="object")return}}return(q.selected?G:K).push(F),F}}});var sf=w((GC1,af)=>{var xK1=function(Z){return!!Z&&(typeof Z==="object"||typeof Z==="function")&&typeof Z.then==="function"};af.exports=xK1});var QG=w((KC1,rf)=>{var fK1=/\./g;rf.exports=function Z(Y){if(Y.indexOf(".")===-1)return[Y];const J=Y.split(fK1),X=J.length,$=new Array(X);let W="";for(let G=0;G<X;++G)W+=W.length!==0?"."+J[G]:J[G],$[G]=W;return $}});var of=w((QC1,tf)=>{tf.exports=function Z(Y,J,X){let $=J[0],W=X,G=Y;for(let K=0;K<J.length-1;++K){const Q=W.path($);if(Q&&Q.schema){let z=G.get($);if(W=Q.schema,$=J[K+1],Array.isArray(z)&&!isNaN($))z=z[$],$="";if(z==null)break;G=z}else $+=$.length?"."+J[K+1]:J[K+1]}return G}});var zG=w((zC1,Zy)=>{var n1=function(Z,Y,J,X,$){if(typeof X==="object"&&X!=null&&$==null)$=X,X=void 0;if(J!=null){const W={isNew:J.isNew};if("defaults"in J.$__)W.defaults=J.$__.defaults;$=Object.assign(W,$)}if($!=null&&$.path!=null)this.$basePath=$.path;q5.call(this,Z,Y,X,$),delete this.$__.priorDoc},vK1=function(Z){let Y=Z.ownerDocument();function J(){Y.$removeListener("save",J),Y.$removeListener("deleteOne",J),Z.emit("deleteOne",Z),Z.constructor.emit("deleteOne",Z),Y=Z=null}Y.$on("save",J),Y.$on("deleteOne",J)},q5=p8(),yK1=X6(),gK1=v7().internalToObjectOptions,ef=import.meta.require("util"),bK1=W1();Zy.exports=n1;n1.prototype=Object.create(q5.prototype);Object.defineProperty(n1.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0});Object.defineProperty(n1.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0});/*!
 * ignore
 */n1.prototype.toBSON=function(){return this.toObject(gK1)};n1.prototype.save=async function Z(Y){if(Y=Y||{},!Y.suppressWarning)bK1.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you\'re sure this behavior is right for your app.");return new Promise((J,X)=>{this.$__save(($)=>{if($!=null)return X($);J(this)})})};n1.prototype.$__fullPath=function(Z){if(!this.$__.fullPath)this.ownerDocument();return Z?this.$__.fullPath+"."+Z:this.$__.fullPath};n1.prototype.$__pathRelativeToParent=function(Z){if(Z==null)return this.$basePath;return[this.$basePath,Z].join(".")};n1.prototype.$__save=function(Z){return yK1(()=>Z(null,this))};/*!
 * ignore
 */n1.prototype.$isValid=function(Z){const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)return Y.$isValid(J);return q5.prototype.$isValid.call(this,Z)};/*!
 * ignore
 */n1.prototype.markModified=function(Z){q5.prototype.markModified.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y==null||J==null)return;const X=this.$__pathRelativeToParent().replace(/\.$/,"");if(Y.isDirectModified(X)||this.isNew)return;this.$__parent.markModified(J,this)};/*!
 * ignore
 */n1.prototype.isModified=function(Z,Y){const J=this.$parent();if(J!=null){if(Array.isArray(Z)||typeof Z==="string")Z=Array.isArray(Z)?Z:Z.split(" "),Z=Z.map((X)=>this.$__pathRelativeToParent(X)).filter((X)=>X!=null);else if(!Z)Z=this.$__pathRelativeToParent();return J.$isModified(Z,Y)}return q5.prototype.isModified.call(this,Z,Y)};n1.prototype.$markValid=function(Z){q5.prototype.$markValid.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)Y.$markValid(J)};/*!
 * ignore
 */n1.prototype.invalidate=function(Z,Y,J){q5.prototype.invalidate.call(this,Z,Y,J);const X=this.$parent(),$=this.$__pathRelativeToParent(Z);if(X!=null&&$!=null)X.invalidate($,Y,J);else if(Y.kind==="cast"||Y.name==="CastError"||$==null)throw Y;return this.ownerDocument().$__.validationError};/*!
 * ignore
 */n1.prototype.$ignore=function(Z){q5.prototype.$ignore.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)Y.$ignore(J)};n1.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;let Z=this;const Y=[],J=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;Y.unshift(Z.$__pathRelativeToParent(void 0,!0));const X=Z.$parent();if(X==null)break;if(Z=X,J.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");J.add(Z)}return this.$__.fullPath=Y.join("."),this.$__.ownerDocument=Z,this.$__.ownerDocument};/*!
 * ignore
 */n1.prototype.$__fullPathWithIndexes=function(){let Z=this;const Y=[],J=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;Y.unshift(Z.$__pathRelativeToParent(void 0,!1));const X=Z.$parent();if(X==null)break;if(Z=X,J.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");J.add(Z)}return Y.join(".")};n1.prototype.parent=function(){return this.$__parent};n1.prototype.$parent=n1.prototype.parent;n1.prototype.$__deleteOne=function(Z){if(Z==null)return;return Z(null,this)};n1.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)};n1.prototype.deleteOne=function(Z,Y){if(typeof Z==="function")Y=Z,Z=null;if(vK1(this),!Z||!Z.noop)this.$__removeFromParent();return this.$__deleteOne(Y)};/*!
 * ignore
 */n1.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')};n1.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})};if(ef.inspect.custom)n1.prototype[ef.inspect.custom]=n1.prototype.inspect});var QY=w((HC1,Xy)=>{var i8=function(Z,Y,J,X,$){if(hK1.isMongooseDocumentArray(Y))this.__parentArray=Y,this[AX]=Y.$parent();else this.__parentArray=void 0,this[AX]=void 0;this.$setIndex($),this.$__parent=this[AX];let W;if(typeof J==="object"&&J!=null)W={isNew:!0,...J},J=void 0;else W={isNew:!0};Jy.call(this,Z,X,this[AX],J,W)};/*!
 * Module dependencies.
 */var Yy=import.meta.require("events").EventEmitter,Jy=zG(),hK1=W1(),AX=Z1().documentArrayParent;/*!
 * Inherit from Subdocument
 */i8.prototype=Object.create(Jy.prototype);i8.prototype.constructor=i8;Object.defineProperty(i8.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1});Object.defineProperty(i8.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0});for(let Z in Yy.prototype)i8[Z]=Yy.prototype[Z];/*!
 * ignore
 */i8.prototype.$setIndex=function(Z){if(this.__index=Z,this.$__!=null&&this.$__.validationError!=null){const Y=Object.keys(this.$__.validationError.errors);for(let J of Y)this.invalidate(J,this.$__.validationError.errors[J])}};/*!
 * ignore
 */i8.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')};/*!
 * ignore
 */i8.prototype.$__removeFromParent=function(){const Z=this._doc._id;if(!Z)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:Z})};i8.prototype.$__fullPath=function(Z,Y){if(this.__index==null)return null;if(!this.$__.fullPath)this.ownerDocument();if(Y)return Z?this.$__.fullPath+"."+Z:this.$__.fullPath;return Z?this.$__.fullPath+"."+this.__index+"."+Z:this.$__.fullPath+"."+this.__index};i8.prototype.$__pathRelativeToParent=function(Z,Y){if(this.__index==null)return null;if(Y)return Z==null?this.__parentArray.$path():this.__parentArray.$path()+"."+Z;if(Z==null)return this.__parentArray.$path()+"."+this.__index;return this.__parentArray.$path()+"."+this.__index+"."+Z};i8.prototype.$parent=function(){return this[AX]};i8.prototype.parentArray=function(){return this.__parentArray};/*!
 * Module exports.
 */Xy.exports=i8});var qG=w((FC1,Hy)=>{var dK1=function(Z,Y){if(!Y)return!1;for(let J of Z){if(J==null)return!1;const X=J.constructor;if(!(J instanceof nV)||X.modelName!==Y&&X.baseModelName!==Y)return!1}return!0},zy=function(Z,Y,J){if(typeof Y==="string"){if(Y.indexOf(".")===-1)return;Y=Ky.stringToParts(Y)}if(J=J||0,J>=Y.length)return;if(Z==null||typeof Z!=="object")return;if(zy(Z[Y[0]],Y,J+1),Z[Y[0]]!=null&&typeof Z[Y[0]]==="object"&&Object.keys(Z[Y[0]]).length===0)delete Z[Y[0]]},HG=function(Z,Y){const J=Z==null?null:Z[h7]&&Z[h7].caster&&Z[h7].caster.options&&Z[h7].caster.options.ref||null;if(Z.length===0&&Y.length!==0){if(dK1(Y,J))Z[V5].$populated(Z[U5],[],{[Qy]:Y[0].constructor})}},nV=p8(),lV=QY(),pV=J0(),$y=hV(),mK1=V0(),Wy=v7().internalToObjectOptions,Ky=w7(),n8=W1(),iV=f8(),R4=Z1().arrayAtomicsSymbol,V5=Z1().arrayParentSymbol,U5=Z1().arrayPathSymbol,h7=Z1().arraySchemaSymbol,Qy=Z1().populateModelSymbol,uK1=Symbol("mongoose#Array#sliced"),Gy=Array.prototype.push;/*!
 * ignore
 */var FG={$__getAtomics(){const Z=[],Y=Object.keys(this[R4]||{});let J=Y.length;const X=Object.assign({},Wy,{_isNested:!0});if(J===0)return Z[0]=["$set",this.toObject(X)],Z;while(J--){const $=Y[J];let W=this[R4][$];if(n8.isMongooseObject(W))W=W.toObject(X);else if(Array.isArray(W))W=this.toObject.call(W,X);else if(W!=null&&Array.isArray(W.$each))W.$each=this.toObject.call(W.$each,X);else if(W!=null&&typeof W.valueOf==="function")W=W.valueOf();if($==="$addToSet")W={$each:W};Z.push([$,W])}return Z},$atomics(){/*!
   * ignore
   */return this[R4]},$parent(){/*!
   * ignore
   */return this[V5]},$path(){/*!
   * ignore
   */return this[U5]},$shift(){this._registerAtomic("$pop",-1),this._markModified();const Z=this.__array;if(Z._shifted)return;return Z._shifted=!0,[].shift.call(Z)},$pop(){if(this._registerAtomic("$pop",1),this._markModified(),this._popped)return;return this._popped=!0,[].pop.call(this)},$schema(){/*!
   * ignore
   */return this[h7]},_cast(Z){let Y=!1,J;const X=this[V5];if(X)Y=X.$populated(this[U5],!0);if(Y&&Z!==null&&Z!==void 0){if(J=Y.options[Qy],J==null)throw new pV("No populated model found for path `"+this[U5]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");if(Buffer.isBuffer(Z)||iV(Z,"ObjectId")||!n8.isObject(Z))Z={_id:Z};if(!(Z.schema&&Z.schema.discriminatorMapping&&Z.schema.discriminatorMapping.key!==void 0))Z=new J(Z);return this[h7].caster.applySetters(Z,X,!0)}return this[h7].caster.applySetters(Z,X,!1)},_mapCast(Z,Y){return this._cast(Z,this.length+Y)},_markModified(Z){const Y=this[V5];let J;if(Y){if(J=this[U5],arguments.length)J=J+"."+Z;if(J!=null&&J.endsWith(".$"))return this;Y.markModified(J,arguments.length!==0?Z:Y)}return this},_registerAtomic(Z,Y){if(this[uK1])return;if(Z==="$set")return this[R4]={$set:Y},$y(this[V5],this[U5]),this._markModified(),this;const J=this[R4];if(Z==="$pop"&&!("$pop"in J)){const $=this;this[V5].once("save",function(){$._popped=$._shifted=null})}if(J.$set||Object.keys(J).length&&!(Z in J))return this[R4]={$set:this},this;let X;if(Z==="$pullAll"||Z==="$addToSet")J[Z]||(J[Z]=[]),J[Z]=J[Z].concat(Y);else if(Z==="$pullDocs"){const $=J.$pull||(J.$pull={});if(Y[0]instanceof lV)X=$.$or||($.$or=[]),Array.prototype.push.apply(X,Y.map((W)=>{return W.toObject({transform:(G,K)=>{if(W==null||W.$__==null)return K;return Object.keys(W.$__.activePaths.getStatePaths("default")).forEach((Q)=>{Ky.unset(Q,K),zy(K,Q)}),K},virtuals:!1})}));else X=$._id||($._id={$in:[]}),X.$in=X.$in.concat(Y)}else if(Z==="$push")if(J.$push=J.$push||{$each:[]},Y!=null&&n8.hasUserDefinedProperty(Y,"$each"))J.$push=Y;else if(Y.length===1)J.$push.$each.push(Y[0]);else if(Y.length<1e4)J.$push.$each.push(...Y);else for(let $ of Y)J.$push.$each.push($);else J[Z]=Y;return this},addToSet(){HG(this,arguments);const Z=[].map.call(arguments,this._mapCast,this),Y=[];let J="";if(Z[0]instanceof lV)J="doc";else if(Z[0]instanceof Date)J="date";else if(iV(Z[0],"ObjectId"))J="ObjectId";const X=n8.isMongooseArray(Z)?Z.__array:Z,$=n8.isMongooseArray(this)?this.__array:this;return X.forEach(function(W){let G;const K=+W;switch(J){case"doc":G=this.some(function(Q){return Q.equals(W)});break;case"date":G=this.some(function(Q){return+Q===K});break;case"ObjectId":G=this.find((Q)=>Q.toString()===W.toString());break;default:G=~this.indexOf(W);break}if(!G)this._markModified(),$.push(W),this._registerAtomic("$addToSet",W),[].push.call(Y,W)},this),Y},hasAtomics(){if(!n8.isPOJO(this[R4]))return 0;return Object.keys(this[R4]).length},includes(Z,Y){return this.indexOf(Z,Y)!==-1},indexOf(Z,Y){if(iV(Z,"ObjectId"))Z=Z.toString();Y=Y==null?0:Y;const J=this.length;for(let X=Y;X<J;++X)if(Z==this[X])return X;return-1},inspect(){return JSON.stringify(this)},nonAtomicPush(){const Z=[].map.call(arguments,this._mapCast,this);this._markModified();const Y=[].push.apply(this,Z);return this._registerAtomic("$set",this),Y},pop(){this._markModified();const Z=[].pop.call(this);return this._registerAtomic("$set",this),Z},pull(){const Z=[].map.call(arguments,($,W)=>this._cast($,W,{defaults:!1}),this),Y=this[V5].get(this[U5]);let J=Y.length,X;this._markModified();while(J--)if(X=Y[J],X instanceof nV){if(Z.some(function(W){return X.equals(W)}))[].splice.call(Y,J,1)}else if(~Y.indexOf.call(Z,X))[].splice.call(Y,J,1);if(Z[0]instanceof lV)this._registerAtomic("$pullDocs",Z.map(function($){const W=$.$__getValue("_id");if(W===void 0||$.$isDefault("_id"))return $;return W}));else this._registerAtomic("$pullAll",Z);if($y(this[V5],this[U5])>0)this._registerAtomic("$set",this);return this},push(){let Z=arguments,Y=Z;const J=Z[0]!=null&&n8.hasUserDefinedProperty(Z[0],"$each"),X=n8.isMongooseArray(this)?this.__array:this;if(J)Y=Z[0],Z=Z[0].$each;if(this[h7]==null)return Gy.apply(this,Z);HG(this,Z),Z=[].map.call(Z,this._mapCast,this);let $;const W=this[R4];if(this._markModified(),J){if(Y.$each=Z,(W.$push&&W.$push.$each&&W.$push.$each.length||0)!==0&&W.$push.$position!=Y.$position)throw new pV("Cannot call `Array#push()` multiple times with different `$position`");if(Y.$position!=null)[].splice.apply(X,[Y.$position,0].concat(Z)),$=this.length;else $=[].push.apply(X,Z)}else{if((W.$push&&W.$push.$each&&W.$push.$each.length||0)!==0&&W.$push.$position!=null)throw new pV("Cannot call `Array#push()` multiple times with different `$position`");Y=Z,$=Gy.apply(X,Z)}return this._registerAtomic("$push",Y),$},remove(){return this.pull.apply(this,arguments)},set(Z,Y,J){const X=this.__array;if(J)return X[Z]=Y,this;const $=FG._cast.call(this,Y,Z);return FG._markModified.call(this,Z),X[Z]=$,this},shift(){const Z=n8.isMongooseArray(this)?this.__array:this;this._markModified();const Y=[].shift.call(Z);return this._registerAtomic("$set",this),Y},sort(){const Z=n8.isMongooseArray(this)?this.__array:this,Y=[].sort.apply(Z,arguments);return this._registerAtomic("$set",this),Y},splice(){let Z;const Y=n8.isMongooseArray(this)?this.__array:this;if(this._markModified(),HG(this,Array.prototype.slice.call(arguments,2)),arguments.length){let J;if(this[h7]==null)J=arguments;else{J=[];for(let X=0;X<arguments.length;++X)J[X]=X<2?arguments[X]:this._cast(arguments[X],arguments[0]+(X-2))}Z=[].splice.apply(Y,J),this._registerAtomic("$set",this)}return Z},toBSON(){/*!
   * ignore
   */return this.toObject(Wy)},toObject(Z){const Y=n8.isMongooseArray(this)?this.__array:this;if(Z&&Z.depopulate)return Z=mK1(Z),Z._isNested=!0,[].concat(Y).map(function(J){return J instanceof nV?J.toObject(Z):J});return[].concat(Y)},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift(){HG(this,arguments);let Z;if(this[h7]==null)Z=arguments;else Z=[].map.call(arguments,this._cast,this);const Y=n8.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(Y,Z),this._registerAtomic("$set",this),this.length}};/*!
 * ignore
 *//*!
 * Minimize _just_ empty objects along the path chain specified
 * by `parts`, ignoring all other paths. Useful in cases where
 * you want to minimize after unsetting a path.
 *
 * #### Example:
 *
 *     const obj = { foo: { bar: { baz: {} } }, a: {} };
 *     _minimizePath(obj, 'foo.bar.baz');
 *     obj; // { a: {} }
 *//*!
 * ignore
 */var cK1=["filter","flat","flatMap","map","slice"];for(let Z of cK1){if(Array.prototype[Z]==null)continue;FG[Z]=function(){const Y=n8.isMongooseArray(this)?this.__array:this,J=[].concat(Y);return J[Z].apply(J,arguments)}}Hy.exports=FG});var sV=w((Ly,wy)=>{var nK1=function(Z,Y,J,X){let $;if(Array.isArray(Z)){const K=Z.length;if(K===0)$=new Array;else if(K===1)$=new Array(1),$[0]=Z[0];else if(K<1e4)$=new Array,Vy.apply($,Z);else{$=new Array;for(let Q=0;Q<K;++Q)Vy.call($,Z[Q])}}else $=[];const W={[VG]:{},[pK1]:void 0,[iK1]:Y,[qy]:X,[Fy]:void 0,isMongooseArray:!0,isMongooseArrayProxy:!0,__array:$};if(Z&&Z[VG]!=null)W[VG]=Z[VG];if(J!=null&&J instanceof lK1)W[Fy]=J,W[qy]=X||J.schema.path(Y);const G=new Proxy($,{get:function(K,Q){if(W.hasOwnProperty(Q))return W[Q];if(aV.hasOwnProperty(Q))return aV[Q];if(typeof Q==="string"&&Uy.test(Q)&&X?.$embeddedSchemaType!=null)return X.$embeddedSchemaType.applyGetters($[Q],J);return $[Q]},set:function(K,Q,z){if(typeof Q==="string"&&Uy.test(Q))aV.set.call(G,Q,z,!1);else if(W.hasOwnProperty(Q))W[Q]=z;else $[Q]=z;return!0}});return G};/*!
 * Module dependencies.
 */var lK1=p8(),aV=qG(),VG=Z1().arrayAtomicsSymbol,pK1=Z1().arrayAtomicsBackupSymbol,Fy=Z1().arrayParentSymbol,iK1=Z1().arrayPathSymbol,qy=Z1().arraySchemaSymbol,Vy=Array.prototype.push,Uy=/^\d+$/;/*!
 * Module exports.
 */wy.exports=Ly=nK1});var tV=w((qC1,My)=>{var Ry=f8(),rV=Z4();My.exports=function Z(Y){if(Y==null)return Y;if(Ry(Y,"ObjectId"))return Y;if(Y._id){if(Ry(Y._id,"ObjectId"))return Y._id;if(Y._id.toString instanceof Function)return new rV(Y._id.toString())}if(Y.toString instanceof Function)return new rV(Y.toString());return new rV(Y)}});var Dy=w((VC1,Ny)=>{var wG=function(Z){const Y=Z[RG];if(!Y||Y.$__.populated==null)return;const J=Object.keys(Y.$__.populated).filter((X)=>X.startsWith(Z[ZU]+"."));for(let X of J){const $=X.slice((Z[ZU]+".").length);if(!Array.isArray(Y.$__.populated[X].value))continue;Y.$__.populated[X].value=Z.map((W)=>W.$populated($))}},UG=qG(),aK1=p8(),sK1=tV(),Ay=A7(),rK1=v7().internalToObjectOptions,LG=W1(),oV=f8(),RG=Z1().arrayParentSymbol,ZU=Z1().arrayPathSymbol,eV=Z1().arraySchemaSymbol,By=Z1().documentArrayParent,YU={toBSON(){/*!
   * ignore
   */return this.toObject(rK1)},getArrayParent(){/*!
   * ignore
   */return this[RG]},_cast(Z,Y,J){if(this[eV]==null)return Z;let X=this[eV].casterConstructor;if((X.$isMongooseDocumentArray?LG.isMongooseDocumentArray(Z):Z instanceof X)||Z&&Z.constructor&&Z.constructor.baseCasterConstructor===X){if(!(Z[By]&&Z.__parentArray))Z[By]=this[RG],Z.__parentArray=this;return Z.$setIndex(Y),Z}if(Z===void 0||Z===null)return null;if(Buffer.isBuffer(Z)||oV(Z,"ObjectId")||!LG.isObject(Z))Z={_id:Z};if(Z&&X.discriminators&&X.schema&&X.schema.options&&X.schema.options.discriminatorKey)if(typeof Z[X.schema.options.discriminatorKey]==="string"&&X.discriminators[Z[X.schema.options.discriminatorKey]])X=X.discriminators[Z[X.schema.options.discriminatorKey]];else{const G=Ay(X.discriminators,Z[X.schema.options.discriminatorKey]);if(G)X=G}if(X.$isMongooseDocumentArray)return X.cast(Z,this,void 0,void 0,Y);const W=new X(Z,this,J,void 0,Y);return W.isNew=!0,W},id(Z){let Y,J,X;try{Y=sK1(Z).toString()}catch($){Y=null}for(let $ of this){if(!$)continue;if(X=$.get("_id"),X===null||typeof X==="undefined")continue;else if(X instanceof aK1){if(J||(J=String(Z)),J==X._id)return $}else if(!oV(Z,"ObjectId")&&!oV(X,"ObjectId")){if(Z==X||LG.deepEqual(Z,X))return $}else if(Y==X)return $}return null},toObject(Z){return[].concat(this.map(function(Y){if(Y==null)return null;if(typeof Y.toObject!=="function")return Y;return Y.toObject(Z)}))},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},push(){const Z=UG.push.apply(this,arguments);return wG(this),Z},pull(){const Z=UG.pull.apply(this,arguments);return wG(this),Z},shift(){const Z=UG.shift.apply(this,arguments);return wG(this),Z},splice(){const Z=UG.splice.apply(this,arguments);return wG(this),Z},inspect(){return this.toObject()},create(Z){let Y=this[eV].casterConstructor;if(Z&&Y.discriminators&&Y.schema&&Y.schema.options&&Y.schema.options.discriminatorKey)if(typeof Z[Y.schema.options.discriminatorKey]==="string"&&Y.discriminators[Z[Y.schema.options.discriminatorKey]])Y=Y.discriminators[Z[Y.schema.options.discriminatorKey]];else{const J=Ay(Y.discriminators,Z[Y.schema.options.discriminatorKey]);if(J)Y=J}return new Y(Z,this)},notify(Z){/*!
   * ignore
   */const Y=this;return function J(X,$){$=$||Y;let W=$.length;while(W--){if($[W]==null)continue;switch(Z){case"save":X=Y[W];break;default:break}if(LG.isMongooseArray($[W]))J(X,$[W]);else if($[W])$[W].emit(Z,X)}}},set(Z,Y,J){const X=this.__array;if(J)return X[Z]=Y,this;const $=YU._cast.call(this,Y,Z);return YU._markModified.call(this,Z),X[Z]=$,this},_markModified(Z,Y){const J=this[RG];let X;if(J){if(X=this[ZU],arguments.length)if(Y!=null){const $=Z.__index;X=X+"."+$+"."+Y}else X=X+"."+Z;if(X!=null&&X.endsWith(".$"))return this;J.markModified(X,arguments.length!==0?Z:J)}return this}};Ny.exports=YU});var j9=w((UC1,Py)=>{var YQ1=function(Z,Y,J){const X=[],$={[XU]:{},[oK1]:void 0,[WU]:Y,[T9]:void 0,[$U]:void 0};if(Array.isArray(Z)){if(Z[WU]===Y&&Z[$U]===J)$[XU]=Object.assign({},Z[XU]);Z.forEach((G)=>{eK1.call(X,G)})}if($[WU]=Y,$.__array=X,J&&J instanceof tK1){$[$U]=J,$[T9]=J.$__schema.path(Y);while($[T9]!=null&&$[T9].$isMongooseArray&&!$[T9].$isMongooseDocumentArray)$[T9]=$[T9].casterConstructor}const W=new Proxy(X,{get:function(G,K){if(K==="isMongooseArray"||K==="isMongooseArrayProxy"||K==="isMongooseDocumentArray"||K==="isMongooseDocumentArrayProxy")return!0;if($.hasOwnProperty(K))return $[K];if(JU.hasOwnProperty(K))return JU[K];if(Iy.hasOwnProperty(K))return Iy[K];return X[K]},set:function(G,K,Q){if(typeof K==="string"&&ZQ1.test(K))JU.set.call(W,K,Q,!1);else if($.hasOwnProperty(K))$[K]=Q;else X[K]=Q;return!0}});return W};/*!
 * Module dependencies.
 */var Iy=qG(),JU=Dy(),tK1=p8(),XU=Z1().arrayAtomicsSymbol,oK1=Z1().arrayAtomicsBackupSymbol,$U=Z1().arrayParentSymbol,WU=Z1().arrayPathSymbol,T9=Z1().arraySchemaSymbol,eK1=Array.prototype.push,ZQ1=/^\d+$/;/*!
 * Module exports.
 */Py.exports=YQ1});var p8=w((dy,cy)=>{var b=function(Z,Y,J,X){if(typeof J==="object"&&J!=null)X=J,J=X.skipId;if(X=Object.assign({},X),this.$__schema==null){const z=R1.isObject(Y)&&!Y.instanceOfSchema?new WQ1(Y):Y;this.$__setSchema(z),Y=J,J=X,X=arguments[4]||{}}if(this.$__=new JQ1,X.isNew!=null&&X.isNew!==!0)this.$isNew=X.isNew;if(X.priorDoc!=null)this.$__.priorDoc=X.priorDoc;if(J)this.$__.skipId=J;if(Z!=null&&typeof Z!=="object")throw new $Q1(Z,"obj","Document");let $=!0;if(X.defaults!==void 0)this.$__.defaults=X.defaults,$=X.defaults;const W=this.$__schema;if(typeof Y==="boolean"||Y==="throw"){if(Y!==!0)this.$__.strictMode=Y;Y=void 0}else if(W.options.strict!==!0)this.$__.strictMode=W.options.strict;const G=W.requiredPaths(!0);for(let z of G)this.$__.activePaths.require(z);let K=null;if(R1.isPOJO(Y)&&Object.keys(Y).length>0)K=qQ1(Y),this.$__.selected=Y,this.$__.exclude=K;const Q=K===!1&&Y?xy(Y):null;if(this._doc==null){if(this.$__buildDoc(Z,Y,J,K,Q,!1),$)HU(this,Y,K,Q,!0,null)}if(Z){if(this.$__original_set)this.$__original_set(Z,void 0,!0,X);else this.$set(Z,void 0,!0,X);if(Z instanceof b)this.$isNew=Z.$isNew}if(X.willInit&&$){if(X.skipDefaults)this.$__.skipDefaults=X.skipDefaults}else if($)HU(this,Y,K,Q,!1,X.skipDefaults);if(!this.$__.strictMode&&Z){const z=this;Object.keys(this._doc).forEach(function(F){if(!(F in W.tree)&&!(F in W.methods)&&!(F in W.virtuals)&&!F.startsWith("$"))KQ1({prop:F,subprops:null,prototype:z})})}xQ1(this)},jQ1=function(Z,Y,J){if(Z==null)return;const X=Object.keys(J.$__schema.paths),$=X.length,W=Y.indexOf(".")===-1?[Y]:Y.split(".");for(let G=0;G<$;++G){let K="";const Q=X[G];if(!Q.startsWith(Y+"."))continue;const z=J.$__schema.paths[Q],H=z.splitPath().slice(W.length),F=H.length;if(z.defaultValue===void 0)continue;let q=Z;for(let V=0;V<F;++V){if(q==null)break;const U=H[V];if(V===F-1){if(q[U]!==void 0)break;try{const L=z.getDefault(J,!1);if(L!==void 0)q[U]=L}catch(L){J.invalidate(Y+"."+K,L);break}break}K+=(!K.length?"":".")+U,q[U]=q[U]||{},q=q[U]}}},vy=function(Z,Y,J,X,$){if($=$||"",Y.$__!=null)Y=Y._doc;const W=Object.keys(Y),G=W.length;let K,Q,z,H=0;const F=Z.$__.strictMode,q=Z.$__schema;while(H<G)V(H++);function V(U){if(z=W[U],z==="__proto__"||z==="constructor")return;if(Q=$+z,K=q.path(Q),q.$isRootDiscriminator&&!Z.$__isSelected(Q))return;if(!K&&R1.isPOJO(Y[z])){if(!J[z]){if(J[z]={},!F&&!(z in q.tree)&&!(z in q.methods)&&!(z in q.virtuals))Z[z]=J[z]}vy(Z,Y[z],J[z],X,Q+".")}else if(!K){if(J[z]=Y[z],!F&&!$)Z[z]=Y[z]}else{if(J.hasOwnProperty(z)&&Y[z]!==void 0)delete J[z];if(Y[z]===null)J[z]=K._castNullish(null);else if(Y[z]!==void 0){const L=Y[z].$__==null?null:Y[z].$__.wasPopulated;if(K&&!L)try{if(X&&X.setters)J[z]=K.applySetters(Y[z],Z,!1);else J[z]=K.cast(Y[z],Z,!0)}catch(R){Z.invalidate(R.path,new _y({path:R.path,message:R.message,type:"cast",value:R.value,reason:R}))}else J[z]=Y[z]}if(!Z.$isModified(Q))Z.$__.activePaths.init(Q)}}},EQ1=function(Z,Y){if(!Array.isArray(Z))return!1;if(Z.length===0)return!1;for(let J of Z){if(!(J instanceof b))return!1;if(J.constructor.modelName==null)return!1;if(J.constructor.modelName!=Y&&J.constructor.baseModelName!=Y)return!1}return!0},hy=function(Z){if(Z==null)return!0;if(typeof Z!=="object"||Array.isArray(Z))return!1;for(let Y of Object.keys(Z))if(!hy(Z[Y]))return!1;return!0},CQ1=function(Z){const Y=Object.keys(Z.$__.activePaths.getStatePaths("require"));let J=0;const X=Y.length;for(J=0;J<X;++J){const $=Y[J],W=Z.$__schema.path($);if(W!=null&&typeof W.originalRequiredValue==="function"){Z.$__.cachedRequired=Z.$__.cachedRequired||{};try{Z.$__.cachedRequired[$]=W.originalRequiredValue.call(Z,Z)}catch(G){Z.invalidate($,G)}}}},my=function(Z,Y,J){const X={};CQ1(Z);let $=new Set(Object.keys(Z.$__.activePaths.getStatePaths("require")).filter(function(H){if(!Z.$__isSelected(H)&&!Z.$isModified(H))return!1;if(Z.$__.cachedRequired!=null&&H in Z.$__.cachedRequired)return Z.$__.cachedRequired[H];return!0}));Object.keys(Z.$__.activePaths.getStatePaths("init")).forEach(W),Object.keys(Z.$__.activePaths.getStatePaths("modify")).forEach(W),Object.keys(Z.$__.activePaths.getStatePaths("default")).forEach(W);function W(H){$.add(H)}const G=Z.$getAllSubdocs(),K=Z.modifiedPaths();for(let H of G)if(H.$basePath){const F=H.$isSingleNested?H.$__pathRelativeToParent():H.$__fullPathWithIndexes();for(let q of H.modifiedPaths())$.delete(F+"."+q);if(Z.$isModified(F,K)&&!Z.isDirectModified(F)&&!Z.$isDefault(F)){if($.add(F),Z.$__.pathsToScopes==null)Z.$__.pathsToScopes={};if(Z.$__.pathsToScopes[F]=H.$isDocumentArrayElement?H.__parentArray:H.$parent(),X[F]={skipSchemaValidators:!0},H.$isDocumentArrayElement&&H.__index!=null)X[F].index=H.__index}}for(let H of $){const F=Z.$__schema.path(H);if(!F)continue;if(F.$isMongooseDocumentArray){for(let q of $)if(q==null||q.startsWith(F.path+"."))$.delete(q)}if(!F.caster&&F.validators.length===0&&!F.$parentSchemaDocArray)$.delete(H);else if(F.$isMongooseArray&&!F.$isMongooseDocumentArray&&!F.$embeddedSchemaType.$isMongooseArray&&F.validators.length===0&&F.$embeddedSchemaType.validators.length===0)$.delete(H)}for(let H of $)if(Z.$__schema.singleNestedPaths.hasOwnProperty(H)){$.delete(H);continue}if(Array.isArray(Y))$=OQ1($,Y);else if(Array.isArray(J))$=SQ1($,J);for(let H of $){const F=Z.$__schema.path(H);if(!F)continue;if(!F.$isMongooseArray||!Array.isArray(F)&&F.$isMongooseDocumentArray&&!(F&&F.schemaOptions&&F.schemaOptions.required))continue;if(F.$isMongooseArray&&!F.$isMongooseDocumentArray&&!F.$embeddedSchemaType.$isMongooseArray&&F.$embeddedSchemaType.validators.length===0)continue;const q=Z.$__getValue(H);Q(q,$,H)}function Q(H,F,q){if(H!=null){const V=H.length;for(let U=0;U<V;++U)if(Array.isArray(H[U]))Q(H[U],F,q+"."+U);else F.add(q+"."+U)}}const z={skipArrays:!0};for(let H of $)if(Z.$__schema.nested[H]){let F=Z.$__getValue(H);if(MQ1(F))F=F.toObject({transform:!1});const q=QQ1(F,H,z,Z.$__schema);Object.keys(q).forEach(W)}for(let H of $){const F=Z.$__schema.path(H);if(!F)continue;if(F.$parentSchemaDocArray&&typeof F.$parentSchemaDocArray.path==="string")$.add(F.$parentSchemaDocArray.path);if(!F.$isSchemaMap)continue;const q=Z.$__getValue(H);if(q==null)continue;for(let V of q.keys())$.add(H+"."+V)}return $=Array.from($),[$,X]},OQ1=function(Z,Y){const J=new Set(Y),X=new Map([]);for(let W of Y){if(W.indexOf(".")===-1)continue;const G=W.split(".");let K=G[0];for(let Q=1;Q<G.length;++Q)X.set(K,W),K=K+"."+G[Q]}const $=new Set;for(let W of Z)if(J.has(W))$.add(W);else if(X.has(W))$.add(X.get(W));return $},SQ1=function(Z,Y){return Y=new Set(Y),Z=Array.from(Z).filter((J)=>!Y.has(J)),new Set(Z)},kQ1=function(Z,Y){if(!Z.$__.validationError)return;const J=Object.keys(Z.$__.validationError.errors);for(let X of J)if(X.startsWith(Y+"."))delete Z.$__.validationError.errors[X];if(Object.keys(Z.$__.validationError.errors).length===0)Z.$__.validationError=null},_Q1=function(Z,Y,J){const X=Y.schema;if(X==null)return;for(let $ of Object.keys(X.paths)){const W=X.paths[$];if(W.$immutableSetter==null)continue;const G=J==null?void 0:J.$__getValue($);W.$immutableSetter.call(Z,G)}},xQ1=function(Z){const Y=Z.$__schema&&Z.$__schema.callQueue;if(!Y.length)return;for(let J of Y)if(J[0]!=="pre"&&J[0]!=="post"&&J[0]!=="on")Z[J[0]].apply(Z,J[1])},uy=function(Z,Y,J,X){const $=Z.$__schema,W=Object.keys($.virtuals);let G=W.length;const K=G;let Q,z,H=Z._doc,F;const q=typeof(X&&X.aliases)==="boolean"?X.aliases:!0;let V=null;if(Array.isArray(J.virtuals))V=new Set(J.virtuals);else if(J.virtuals&&J.virtuals.pathsToSkip){V=new Set(W);for(let U=0;U<J.virtuals.pathsToSkip.length;U++)if(V.has(J.virtuals.pathsToSkip[U]))V.delete(J.virtuals.pathsToSkip[U])}if(!H)return Y;J=J||{};for(G=0;G<K;++G){if(Q=W[G],V!=null&&!V.has(Q))continue;if(!q&&$.aliases.hasOwnProperty(Q))continue;if(z=Q,J.path!=null){if(!Q.startsWith(J.path+"."))continue;z=Q.substring(J.path.length+1)}const U=z.split(".");if(F=B7(Z.get(Q),J),F===void 0)continue;const L=U.length;H=Y;for(let R=0;R<L-1;++R)H[U[R]]=H[U[R]]||{},H=H[U[R]];H[U[L-1]]=F}return Y},fQ1=function(Z,Y,J){const X=Z.$__schema,$=Object.keys(X.paths);let W=$.length,G,K=Z._doc,Q;if(!K)return Y;while(W--){G=$[W];const z=G.split("."),H=z.length,F=H-1;let q=Y,V;if(K=Z._doc,!Z.$__isSelected(G))continue;for(let U=0;U<H;++U){if(V=z[U],Q=K[V],U===F){const L=Z.$get(G);if(q[V]=B7(L,J),Array.isArray(q[V])&&X.paths[G].$embeddedSchemaType)for(let R=0;R<q[V].length;++R)q[V][R]=X.paths[G].$embeddedSchemaType.applyGetters(q[V][R],Z)}else if(Q==null){if(V in K)q[V]=Q;break}else q=q[V]||(q[V]={});K=Q}}return Y},yQ1=function(Z,Y){const J=Z.$__schema,X=Object.keys(J.paths||{});if(!Z._doc)return Y;for(let W of X){const G=J.paths[W];if(typeof G.options.transform==="function"){const K=Z.$get(W);if(K===void 0)continue;const Q=G.options.transform.call(Z,K);ky(W,Q),R1.setValue(W,Q,Y)}else if(G.$embeddedSchemaType!=null&&typeof G.$embeddedSchemaType.options.transform==="function"){const K=Z.$get(W);if(K===void 0)continue;const Q=[].concat(K),z=G.$embeddedSchemaType.options.transform;for(let H=0;H<Q.length;++H){const F=z.call(Z,Q[H]);Q[H]=F,ky(W,F)}Y[W]=Q}}return Y},ky=function(Z,Y){if(RQ1(Y))throw new Error("`transform` function must be synchronous, but the transform on path `"+Z+"` returned a promise.")},gQ1=function(Z,Y){const J=Z.$__schema,X=Object.keys(J.paths||{});if(!Z._doc)return Y;let W=Z.$__.selected;if(W===void 0)W={},wQ1.applyPaths(W,J);if(W==null||Object.keys(W).length===0)return Y;for(let G of X)if(W[G]!=null&&!W[G])delete Y[G];return Y};/*!
 * Module dependencies.
 */var QU=import.meta.require("events").EventEmitter,JQ1=Kf(),a8=l1(),Ty=P9(),XQ1=xV(),$Q1=yV(),jy=qf(),WQ1=HY(),zU=F5(),NG=N9(),_y=LV(),xy=bV(),HU=JG(),GU=hV(),B7=V0(),GQ1=$G().compile,KQ1=$G().defineKey,QQ1=$Y().flatten,zQ1=G0(),KU=Of(),Ey=kf(),HQ1=xf(),FQ1=GG(),Cy=X6(),fy=WY(),qQ1=GY(),FU=import.meta.require("util").inspect,yy=v7().internalToObjectOptions,VQ1=dV(),UQ1=cV(),LQ1=w7(),wQ1=KY(),R1=W1(),RQ1=sf(),AG=R1.deepEqual,MQ1=R1.isMongooseObject,zY=Z1().arrayAtomicsBackupSymbol,m6=Z1().arrayAtomicsSymbol,AQ1=Z1().documentArrayParent,BQ1=Z1().documentIsModified,gy=Z1().documentModifiedPaths,qU=Z1().documentSchemaSymbol,NQ1=Z1().getSymbol,Oy=Z1().populateModelSymbol,DQ1=Z1().scopeSymbol,IQ1=I9().schemaMixedSymbol,by=QG(),PQ1=of(),MG=Z1().sessionNewDocuments,BG,Sy,E9,TQ1=R1.specialProperties;b.prototype.$isMongooseDocumentPrototype=!0;Object.defineProperty(b.prototype,"isNew",{get:function(){return this.$isNew},set:function(Z){this.$isNew=Z}});Object.defineProperty(b.prototype,"errors",{get:function(){return this.$errors},set:function(Z){this.$errors=Z}});/*!
 * ignore
 */b.prototype.$isNew=!0;/*!
 * Document exposes the NodeJS event emitter API, so you can use
 * `on`, `once`, etc.
 */R1.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(Z){b.prototype[Z]=function(){if(!this.$__.emitter){if(Z==="emit")return;this.$__.emitter=new QU,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[Z].apply(this.$__.emitter,arguments)},b.prototype[`\$${Z}`]=b.prototype[Z]});b.prototype.constructor=b;for(let Z in QU.prototype)b[Z]=QU.prototype[Z];b.prototype.$__schema;b.prototype.schema;Object.defineProperty(b.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){if(this.$__.locals==null)this.$__.locals={};return this.$__.locals},set:function(Z){this.$__.locals=Z}});b.prototype.isNew;Object.defineProperty(b.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0});b.prototype.id;b.prototype.$errors;Object.defineProperty(b.prototype,"$op",{get:function(){return this.$__.op||null},set:function(Z){this.$__.op=Z}});/*!
 * ignore
 */b.prototype.$__buildDoc=function(Z,Y,J,X,$){const W={},G=Object.keys(this.$__schema.paths).filter((z)=>!z.includes("$*")),K=G.length;let Q=0;for(;Q<K;++Q){const z=G[Q];if(z==="_id"){if(J)continue;if(Z&&"_id"in Z)continue}const H=this.$__schema.paths[z].splitPath(),F=H.length,q=F-1;let V="",U=W,L=!1;for(let R=0;R<F;++R){const A=H[R];if(!V.length)V=A;else V+="."+A;if(X===!0){if(V in Y)break}else if(X===!1&&Y&&!L){if(V in Y)L=!0;else if(!$[V])break}if(R<q)U=U[A]||(U[A]={})}}this._doc=W};/*!
 * Converts to POJO when you use the document for querying
 */b.prototype.toBSON=function(){return this.toObject(yy)};b.prototype.init=function(Z,Y,J){if(typeof Y==="function")J=Y,Y=null;if(this.$__init(Z,Y),J)J(null,this);return this};b.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)};b.prototype.$__init=function(Z,Y){if(this.$isNew=!1,Y=Y||{},Z._id!=null&&Y.populated&&Y.populated.length){const X=String(Z._id);for(let $ of Y.populated){if($.isVirtual)this.$populated($.path,R1.getValue($.path,Z),$);else this.$populated($.path,$._docs[X],$);if($._childDocs==null)continue;for(let W of $._childDocs){if(W==null||W.$__==null)continue;W.$__.parent=this}$._childDocs=[]}}vy(this,Z,this._doc,Y),VQ1(this,Y.populated),this.$emit("init",this),this.constructor.emit("init",this);const J=this.$__.exclude===!1&&this.$__.selected?xy(this.$__.selected):null;return HU(this,this.$__.selected,this.$__.exclude,J,!1,this.$__.skipDefaults),this};b.prototype.updateOne=function Z(Y,J,X){const $=this.constructor.updateOne({_id:this._id},Y,J),W=this;if($.pre(function G(K){W.constructor._middleware.execPre("updateOne",W,[W],K)}),$.post(function G(K){W.constructor._middleware.execPost("updateOne",W,[W],{},K)}),this.$session()!=null){if(!("session"in $.options))$.options.session=this.$session()}if(X!=null)return $.exec(X);return $};b.prototype.replaceOne=function Z(){const Y=[...arguments];return Y.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,Y)};b.prototype.$session=function Z(Y){if(arguments.length===0){if(this.$__.session!=null&&this.$__.session.hasEnded)return this.$__.session=null,null;return this.$__.session}if(Y!=null&&Y.hasEnded)throw new a8("Cannot set a document\'s session to a session that has ended. Make sure you haven\'t called `endSession()` on the session you are passing to `$session()`.");if(Y==null&&this.$__.session==null)return;if(this.$__.session=Y,!this.$isSubdocument){const J=this.$getAllSubdocs();for(let X of J)X.$session(Y)}return Y};b.prototype.$timestamps=function Z(Y){if(arguments.length===0){if(this.$__.timestamps!=null)return this.$__.timestamps;if(this.$__schema)return this.$__schema.options.timestamps;return}const J=this.$timestamps();if(Y!==J)this.$__.timestamps=Y;return this};b.prototype.overwrite=function Z(Y){const J=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(Y))));for(let X of J){if(X==="_id")continue;if(this.$__schema.options.versionKey&&X===this.$__schema.options.versionKey)continue;if(this.$__schema.options.discriminatorKey&&X===this.$__schema.options.discriminatorKey)continue;this.$set(X,Y[X])}return this};b.prototype.$set=function Z(Y,J,X,$){if(R1.isPOJO(X))$=X,X=void 0;const W=$&&$.merge,G=X&&X!==!0,K=X===!0;let Q,z,H=0,F,q,V;const U=$&&"strict"in $;let L=U?$.strict:this.$__.strictMode;if(G)Q=this.$__.adhocPaths||(this.$__.adhocPaths={}),Q[Y]=this.$__schema.interpretAsType(Y,X,this.$__schema.options);if(Y==null)[Y,J]=[J,Y];else if(typeof Y!=="string"){if(Y instanceof b)if(Y.$__isNested)Y=Y.toObject();else Y=Y._doc;if(Y==null)[Y,J]=[J,Y];V=J?J+".":"",z=Ey(this.$__schema,Y);const j=z.length,n=$&&$._skipMinimizeTopLevel||!1;if(j===0&&n){if(delete $._skipMinimizeTopLevel,J)this.$set(J,{});return this}$=Object.assign({},$,{_skipMinimizeTopLevel:!1});for(let C=0;C<j;++C){q=z[C];const S=V?V+q:q;F=this.$__schema.pathType(S);const a=Y[q];if(X===!0&&!V&&a!=null&&F==="nested"&&this._doc[q]!=null)delete this._doc[q];if(R1.isNonBuiltinObject(a)&&F==="nested"){this.$set(S,a,K,Object.assign({},$,{_skipMarkModified:!0})),jQ1(this.$get(S),S,this);continue}else if(L){if(K&&a===void 0&&this.$get(S)!==void 0)continue;if(F==="adhocOrUndefined")F=KU(this,S,{typeOnly:!0});if(F==="real"||F==="virtual")this.$set(S,a,K,$);else if(F==="nested"&&a instanceof b)this.$set(S,a.toObject({transform:!1}),K,$);else if(L==="throw")if(F==="nested")throw new XQ1(q,a);else throw new zU(q)}else if(a!==void 0)this.$set(S,a,K,$)}const c={},y=Object.keys(this.$__schema.tree);for(let C=0,S=y.length;C<S;++C)(q=y[C])&&this._doc.hasOwnProperty(q)&&(c[q]=void 0);return this._doc=Object.assign(c,this._doc),this}let R=this.$__schema.pathType(Y),A=null;if(R==="adhocOrUndefined")A=Y.indexOf(".")===-1?[Y]:Y.split("."),R=KU(this,A,{typeOnly:!0});if(R==="adhocOrUndefined"&&!U){if(A==null)A=Y.indexOf(".")===-1?[Y]:Y.split(".");const j=HQ1(this.$__schema,A);if(j!==void 0)L=j}J=FQ1(J);const B=(()=>{if(this.$__.priorDoc!=null)return this.$__.priorDoc.$__getValue(Y);if(K)return;return this.$__getValue(Y)})();if(R==="nested"&&J){if(typeof J==="object"&&J!=null){if(J.$__!=null)J=J.toObject(yy);if(J==null)return this.invalidate(Y,new a8.CastError("Object",J,Y)),this;const j=this.$isModified(Y),n=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(Y);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(Y)){const y=this.$__getValue(Y);this.$__.savedState[Y]=y;const C=Object.keys(y||{});for(let S of C)this.$__.savedState[Y+"."+S]=y[S]}if(!W)this.$__setValue(Y,null),GU(this,Y);else return this.$set(J,Y,K);const c=Ey(this.$__schema,J,Y);this.$__setValue(Y,{});for(let y of c)this.$set(Y+"."+y,J[y],K,{...$,_skipMarkModified:!0});if(B!=null&&(!j||n)&&R1.deepEqual(n?this.$__.savedState[Y]:B,J))this.unmarkModified(Y);else this.markModified(Y);return this}return this.invalidate(Y,new a8.CastError("Object",J,Y)),this}let M;if(A==null)A=Y.indexOf(".")===-1?[Y]:Y.split(".");if(typeof this.$__schema.aliases[A[0]]==="string")A[0]=this.$__schema.aliases[A[0]];if(R==="adhocOrUndefined"&&L){let j;for(H=0;H<A.length;++H){const n=A.slice(0,H+1).join(".");if(H+1<A.length&&this.$__schema.pathType(n)==="virtual")return LQ1.set(Y,J,this),this;if(M=this.$__schema.path(n),M==null)continue;if(M instanceof Ty){j=!0;break}else if(M.$isSchemaMap&&M.$__schemaType instanceof Ty&&H<A.length-1){j=!0,M=M.$__schemaType;break}}if(M==null)M=KU(this,Y);if(!j&&!M){if(L==="throw")throw new zU(Y);return this}}else if(R==="virtual")return M=this.$__schema.virtualpath(Y),M.applySetters(J,this),this;else M=this.$__path(Y);let D=this._doc,d="";for(H=0;H<A.length-1;++H)if(D=D[A[H]],d+=(d.length!==0?".":"")+A[H],!D){if(this.$set(d,{}),!this.$__isSelected(d))this.unmarkModified(d);D=this.$__getValue(d)}let O;if(A.length<=1)O=Y;else{const j=A.length;for(H=0;H<j;++H){const n=A.slice(0,H+1).join(".");if(this.$get(n,null,{getters:!1})===null){O=n;break}}if(!O)O=Y}if(!M){if(this.$__set(O,Y,$,K,A,M,J,B),R==="nested"&&J==null)GU(this,Y);return this}if(M.$isSingleNested||M.$isMongooseArray)kQ1(this,Y);if(J!=null&&W&&M.$isSingleNested){if(J instanceof b)J=J.toObject({virtuals:!1,transform:!1});const j=Object.keys(J);for(let n of j)this.$set(Y+"."+n,J[n],K,$);return this}let E=!0;try{const j=(()=>{if(M.options==null)return!1;if(!(J instanceof b))return!1;const C=J.constructor,S=M.options.ref;if(S!=null&&(S===C.modelName||S===C.baseModelName))return!0;const a=M.options.refPath;if(a==null)return!1;const P1=J.get(a);return P1===C.modelName||P1===C.baseModelName})();let n=!1;if(j&&J instanceof b&&(!J.$__.wasPopulated||R1.deepEqual(J.$__.wasPopulated.value,J._id))){const C=M&&M.$isSingleNested?M.cast(J,this):J._id;this.$populated(Y,C,{[Oy]:J.constructor}),J.$__.wasPopulated={value:C},n=!0}let c;const y=this.$__schema.options.typeKey;if(M.options&&Array.isArray(M.options[y])&&M.options[y].length&&M.options[y][0].ref&&EQ1(J,M.options[y][0].ref)){c={[Oy]:J[0].constructor},this.$populated(Y,J.map(function(C){return C._id}),c);for(let C of J)C.$__.wasPopulated={value:C._id};n=!0}if(!j||!M.$isSingleNested||!J.$__){let C=this;if(this.$__schema.singleNestedPaths[Y]!=null&&A.length>1)C=PQ1(this,A,this.schema);if($!=null&&$.overwriteImmutable)J=M.applySetters(J,C,!1,B,{overwriteImmutable:!0});else J=M.applySetters(J,C,!1,B)}if(Array.isArray(J)&&!Array.isArray(M)&&M.$isMongooseDocumentArray&&J.length!==0&&J[0]!=null&&J[0].$__!=null&&J[0].$__.populated!=null){const C=Object.keys(J[0].$__.populated);for(let S of C)this.$populated(Y+"."+S,J.map((a)=>a.$populated(S)),J[0].$__.populated[S].options);n=!0}if(!n&&this.$__.populated){if(Array.isArray(J)&&this.$__.populated[Y]){for(let C=0;C<J.length;++C)if(J[C]instanceof b)J.set(C,J[C]._id,!0)}delete this.$__.populated[Y]}if(J!=null&&M.$isSingleNested)_Q1(J,M,B);this.$markValid(Y)}catch(j){if(j instanceof a8.StrictModeError&&j.isImmutableError)this.invalidate(Y,j);else if(j instanceof a8.CastError){if(this.invalidate(j.path,j),j.$originalErrorPath)this.invalidate(Y,new a8.CastError(M.instance,J,Y,j.$originalErrorPath))}else this.invalidate(Y,new a8.CastError(M.instance,J,Y,j));E=!1}if(E){let j=null,n=null;if(!K){const C=this.$isSubdocument?this.ownerDocument():this;j=C.$__.savedState,n=this.$isSubdocument?this.$__.fullPath+"."+Y:Y,C.$__saveInitialState(n)}this.$__set(O,Y,$,K,A,M,J,B);const c=!!this.$__.session?.transaction,y=this.$__.session&&this.$__.session[MG]&&this.$__.session[MG].has(this)&&this.$__.session[MG].get(this).modifiedPaths&&!this.$__.session[MG].get(this).modifiedPaths.has(n);if(j!=null&&j.hasOwnProperty(n)&&(!c||y)&&R1.deepEqual(J,j[n]))this.unmarkModified(Y)}if(M.$isSingleNested&&(this.isDirectModified(Y)||J==null))GU(this,Y);return this};/*!
 * ignore
 */b.prototype.set=b.prototype.$set;b.prototype.$__shouldModify=function(Z,Y,J,X,$,W,G,K){if(J&&J._skipMarkModified)return!1;if(this.$isNew)return!0;if(Y in this.$__.activePaths.getStatePaths("modify"))return!0;if(G===void 0&&!this.$__isSelected(Y))return!0;if(G===void 0&&Y in this.$__.activePaths.getStatePaths("default"))return!1;if(this.$populated(Y)&&G instanceof b&&AG(G._id,K))return!1;if(!AG(G,K!==void 0?K:R1.getValue(Y,this)))return!0;if(!X&&G!==null&&G!==void 0&&Y in this.$__.activePaths.getStatePaths("default")&&AG(G,W.getDefault(this,X)))return!0;return!1};b.prototype.$__set=function(Z,Y,J,X,$,W,G,K){if(E9=E9||QY(),this.$__shouldModify(Z,Y,J,X,$,W,G,K)){if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Y]){if(delete this.$__.primitiveAtomics[Y],Object.keys(this.$__.primitiveAtomics).length===0)delete this.$__.primitiveAtomics}if(this.markModified(Z),Sy||(Sy=sV()),G&&R1.isMongooseArray(G)){if(G._registerAtomic("$set",G),R1.isMongooseDocumentArray(G))G.forEach(function(V){V&&V.__parentArray&&(V.__parentArray=G)})}}else if(Array.isArray(G)&&Array.isArray(K)&&R1.isMongooseArray(G)&&R1.isMongooseArray(K)){if(G[m6]=K[m6],G[zY]=K[zY],R1.isMongooseDocumentArray(G))G.forEach((V)=>{if(V!=null)V.$isNew=!1})}let z=this._doc,H=0;const F=$.length;let q="";for(;H<F;H++){const U=H+1===F;if(q+=q?"."+$[H]:$[H],TQ1.has($[H]))return;if(U)if(z instanceof Map)z.set($[H],G);else if(z.$isSingleNested)if(!($[H]in z))z[$[H]]=G,z._doc[$[H]]=G;else z._doc[$[H]]=G;else z[$[H]]=G;else{const L=z instanceof Map;let R=L?z.get($[H]):z[$[H]];if(R1.isPOJO(R))z=R;else if(R&&R instanceof E9)z=R;else if(R&&!Array.isArray(R)&&R.$isSingleNested)z=R;else if(R&&Array.isArray(R))z=R;else if(R==null){if(R={},L)z.set($[H],R);else z[$[H]]=R;z=R}else z=R}}};b.prototype.$__getValue=function(Z){return R1.getValue(Z,this._doc)};b.prototype.$inc=function Z(Y,J){if(J==null)J=1;if(Array.isArray(Y))return Y.forEach((Q)=>this.$inc(Q,J)),this;const X=this.$__path(Y);if(X==null){if(this.$__.strictMode==="throw")throw new zU(Y);else if(this.$__.strictMode===!0)return this}else if(X.instance!=="Number")return this.invalidate(Y,new a8.CastError(X.instance,J,Y)),this;const $=this.$__getValue(Y)||0;let W=!1,G=null,K=J;try{J=X.cast(J),G=X.applySetters($+J,this),K=G-$,W=!0}catch(Q){this.invalidate(Y,new a8.CastError("number",J,Y,Q))}if(W){if(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[Y]==null)this.$__.primitiveAtomics[Y]={$inc:K};else this.$__.primitiveAtomics[Y].$inc+=K;this.markModified(Y),this.$__setValue(Y,G)}return this};b.prototype.$__setValue=function(Z,Y){return R1.setValue(Z,Y,this._doc),this};b.prototype.get=function(Z,Y,J){let X;if(J==null)J={};if(Y)X=this.$__schema.interpretAsType(Z,Y,this.$__schema.options);const $=J.noDottedPath;let W=$?this.$__schema.paths[Z]:this.$__path(Z);if(W==null){if(W=this.$__schema.virtualpath(Z),W!=null)return W.applyGetters(void 0,this)}if($){let z=this._doc[Z];if(X)z=X.cast(z);if(W!=null&&J.getters!==!1)return W.applyGetters(z,this);return z}if(W!=null&&W.instance==="Mixed"){const z=this.$__schema.virtualpath(Z);if(z!=null)W=z}const G=Z.indexOf(".")!==-1;let K=this._doc;const Q=G?Z.split("."):[Z];if(typeof this.$__schema.aliases[Q[0]]==="string")Q[0]=this.$__schema.aliases[Q[0]];for(let z=0,H=Q.length;z<H;z++){if(K&&K._doc)K=K._doc;if(K==null)K=void 0;else if(K instanceof Map)K=K.get(Q[z],{getters:!1});else if(z===H-1)K=R1.getValue(Q[z],K);else K=K[Q[z]]}if(X)K=X.cast(K);if(W!=null&&J.getters!==!1)K=W.applyGetters(K,this);else if(this.$__schema.nested[Z]&&J.virtuals)return uy(this,B7(K)||{},{path:Z});return K};/*!
 * ignore
 */b.prototype[NQ1]=b.prototype.get;b.prototype.$get=b.prototype.get;b.prototype.$__path=function(Z){const Y=this.$__.adhocPaths,J=Y&&Y.hasOwnProperty(Z)?Y[Z]:null;if(J)return J;return this.$__schema.path(Z)};b.prototype.markModified=function(Z,Y){if(this.$__saveInitialState(Z),this.$__.activePaths.modify(Z),Y!=null&&!this.$isSubdocument)this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[Z]=Y};/*!
 * ignore
 */b.prototype.$__saveInitialState=function Z(Y){const J=this.$__.savedState,X=Y;if(J!=null){const $=X.indexOf("."),W=$===-1?X:X.slice(0,$);if(!J.hasOwnProperty(W))J[W]=B7(this.$__getValue(W))}};b.prototype.unmarkModified=function(Z){if(this.$__.activePaths.init(Z),this.$__.pathsToScopes!=null)delete this.$__.pathsToScopes[Z]};b.prototype.$ignore=function(Z){this.$__.activePaths.ignore(Z)};b.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))};b.prototype.$isEmpty=function(Z){const Y={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){const J=this.$get(Z);if(J==null)return!0;if(typeof J!=="object")return!1;if(R1.isPOJO(J))return hy(J);return Object.keys(J.toObject(Y)).length===0}return Object.keys(this.toObject(Y)).length===0};/*!
 * ignore
 */b.prototype.modifiedPaths=function(Z){Z=Z||{};const Y=Object.keys(this.$__.activePaths.getStatePaths("modify")),J=new Set;let X=0,$=0;const W=Y.length;for(X=0;X<W;++X){const G=Y[X],K=by(G),Q=K.length;for($=0;$<Q;++$)J.add(K[$]);if(!Z.includeChildren)continue;let z=0,H=this.$get(G);if(typeof H==="object"&&H!==null){if(H._doc)H=H._doc;const F=H.length;if(Array.isArray(H))for(z=0;z<F;++z){const q=G+"."+z;if(!J.has(q)){if(J.add(q),H[z]!=null&&H[z].$__){const V=H[z].modifiedPaths();let U=0;const L=V.length;for(U=0;U<L;++U)J.add(q+"."+V[U])}}}else{const q=Object.keys(H);let V=0;const U=q.length;for(V=0;V<U;++V)J.add(G+"."+q[V])}}}return Array.from(J)};b.prototype[gy]=b.prototype.modifiedPaths;b.prototype.isModified=function(Z,Y){if(Z){const J=this.$__.activePaths.states.modify;if(J==null)return!1;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let G of Z)if(J[G]!=null)return!0;const X=Y||this[gy](),$=Z.some(function(G){return!!~X.indexOf(G)}),W=Object.keys(J);return $||Z.some(function(G){return W.some(function(K){return K===G||G.startsWith(K+".")})})}return this.$__.activePaths.some("modify")};b.prototype.$isModified=b.prototype.isModified;b.prototype[BQ1]=b.prototype.isModified;b.prototype.$isDefault=function(Z){if(Z==null)return this.$__.activePaths.some("default");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("default").hasOwnProperty(J))};b.prototype.$isDeleted=function(Z){if(arguments.length===0)return!!this.$__.isDeleted;return this.$__.isDeleted=!!Z,this};b.prototype.isDirectModified=function(Z){if(Z==null)return this.$__.activePaths.some("modify");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("modify").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("modify").hasOwnProperty(J))};b.prototype.isInit=function(Z){if(Z==null)return this.$__.activePaths.some("init");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("init").hasOwnProperty(J))};b.prototype.isSelected=function Z(Y){if(this.$__.selected==null)return!0;if(!Y)return!1;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1)Y=Y.split(" ");if(Array.isArray(Y))return Y.some((W)=>this.$__isSelected(W));const J=Object.keys(this.$__.selected);let X=null;if(J.length===1&&J[0]==="_id")return this.$__.selected._id===0;for(let W of J){if(W==="_id")continue;if(!fy(this.$__.selected[W]))continue;X=!!this.$__.selected[W];break}if(X===null)return!0;if(Y in this.$__.selected)return X;const $=Y+".";for(let W of J){if(W==="_id")continue;if(W.startsWith($))return X||W!==$;if($.startsWith(W+"."))return X}return!X};b.prototype.$__isSelected=b.prototype.isSelected;b.prototype.isDirectSelected=function Z(Y){if(this.$__.selected==null)return!0;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1)Y=Y.split(" ");if(Array.isArray(Y))return Y.some(($)=>this.isDirectSelected($));const J=Object.keys(this.$__.selected);let X=null;if(J.length===1&&J[0]==="_id")return this.$__.selected._id===0;for(let $ of J){if($==="_id")continue;if(!fy(this.$__.selected[$]))continue;X=!!this.$__.selected[$];break}if(X===null)return!0;if(this.$__.selected.hasOwnProperty(Y))return X;return!X};b.prototype.validate=async function Z(Y,J){if(typeof Y==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new a8("Document.prototype.validate() no longer accepts a callback");let X;if(this.$op="validate",this.$isSubdocument!=null);else if(this.$__.validating)X=new jy(this,{parentStack:J&&J.parentStack,conflictStack:this.$__.validating.stack});else this.$__.validating=new jy(this,{parentStack:J&&J.parentStack});if(arguments.length===1){if(typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))J=arguments[0],Y=null}if(J&&typeof J.pathsToSkip==="string"){const $=J.pathsToSkip.indexOf(" ")===-1;J.pathsToSkip=$?[J.pathsToSkip]:J.pathsToSkip.split(" ")}if(X!=null)throw X;return new Promise(($,W)=>{this.$__validate(Y,J,(G)=>{if(this.$op=null,this.$__.validating=null,G!=null)return W(G);$()})})};b.prototype.$validate=b.prototype.validate;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */b.prototype.$__validate=function(Z,Y,J){if(typeof Z==="function")J=Z,Y=null,Z=null;else if(typeof Y==="function")J=Y,Y=null;const X=Y&&typeof Y==="object"&&"validateModifiedOnly"in Y,$=Y&&Y.pathsToSkip||null;let W;if(X)W=!!Y.validateModifiedOnly;else W=this.$__schema.options.validateModifiedOnly;const G=this,K=()=>{let L=this.$__.validationError;if(this.$__.validationError=null,this.$__.validating=null,W&&L!=null){const R=Object.keys(L.errors);for(let A of R)if(!this.$isModified(A))delete L.errors[A];if(Object.keys(L.errors).length===0)L=void 0}if(this.$__.cachedRequired={},this.$emit("validate",G),this.constructor.emit("validate",G),L){for(let R in L.errors)if(!this[AQ1]&&L.errors[R]instanceof a8.CastError)this.invalidate(R,L.errors[R]);return L}},Q=my(this,Z,$),z=W?Q[0].filter((L)=>this.$isModified(L)):Q[0],H=Q[1];if(typeof Z==="string")Z=Z.split(" ");if(z.length===0)return Cy(function(){const L=K();if(L)return G.$__schema.s.hooks.execPost("validate:error",G,[G],{error:L},function(R){J(R)});J(null,G)});const F={};let q=0;for(let L of z)V(L);function V(L){if(L==null||F[L])return;F[L]=!0,q++,Cy(function(){const R=G.$__schema.path(L);if(!R)return--q||U();if(!G.$isValid(L)){--q||U();return}if(R[IQ1]!=null&&L!==R.path)return--q||U();let A=G.$__getValue(L),B;if(B=G.$populated(L))A=B;else if(A!=null&&A.$__!=null&&A.$__.wasPopulated)A=A._id;const M=G.$__.pathsToScopes!=null&&L in G.$__.pathsToScopes?G.$__.pathsToScopes[L]:G,D={...H[L],path:L,validateModifiedOnly:W};R.doValidate(A,function(d){if(d){if((R.$isSingleNested||R.$isArraySubdocument||R.$isMongooseDocumentArray)&&d instanceof NG)return--q||U();G.invalidate(L,d,void 0,!0)}--q||U()},M,D)})}function U(){const L=K();if(L)return G.$__schema.s.hooks.execPost("validate:error",G,[G],{error:L},function(R){J(R)});J(null,G)}};/*!
 * ignore
 *//*!
 * ignore
 */b.prototype.validateSync=function(Z,Y){const J=this;if(arguments.length===1&&typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))Y=arguments[0],Z=null;const X=Y&&typeof Y==="object"&&"validateModifiedOnly"in Y;let $;if(X)$=!!Y.validateModifiedOnly;else $=this.$__schema.options.validateModifiedOnly;let W=Y&&Y.pathsToSkip;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");else if(typeof W==="string"&&W.indexOf(" ")!==-1)W=W.split(" ");const G=my(this,Z,W),K=$?G[0].filter((F)=>this.$isModified(F)):G[0],Q=G[1],z={};for(let F=0,q=K.length;F<q;++F){const V=K[F];if(z[V])continue;z[V]=!0;const U=J.$__schema.path(V);if(!U)continue;if(!J.$isValid(V))continue;const L=J.$__getValue(V),R=U.doValidateSync(L,J,{skipSchemaValidators:Q[V],path:V,validateModifiedOnly:$});if(R){if((U.$isSingleNested||U.$isArraySubdocument||U.$isMongooseDocumentArray)&&R instanceof NG)continue;J.invalidate(V,R,void 0,!0)}}const H=J.$__.validationError;if(J.$__.validationError=void 0,J.$emit("validate",J),J.constructor.emit("validate",J),H){for(let F in H.errors)if(H.errors[F]instanceof a8.CastError)J.invalidate(F,H.errors[F])}return H};b.prototype.invalidate=function(Z,Y,J,X){if(!this.$__.validationError)this.$__.validationError=new NG(this);if(this.$__.validationError.errors[Z])return;if(!Y||typeof Y==="string")Y=new _y({path:Z,message:Y,type:X||"user defined",value:J});if(this.$__.validationError===Y)return this.$__.validationError;return this.$__.validationError.addError(Z,Y),this.$__.validationError};b.prototype.$markValid=function(Z){if(!this.$__.validationError||!this.$__.validationError.errors[Z])return;if(delete this.$__.validationError.errors[Z],Object.keys(this.$__.validationError.errors).length===0)this.$__.validationError=null};/*!
 * ignore
 *//*!
 * ignore
 */b.prototype.$isValid=function(Z){if(this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0)return!0;if(Z==null)return!1;if(Z.indexOf(" ")!==-1)Z=Z.split(" ");if(Array.isArray(Z))return Z.some((Y)=>this.$__.validationError.errors[Y]==null);return this.$__.validationError.errors[Z]==null};b.prototype.$__reset=function Z(){let Y=this;const J=this.$parent()===this?this.$getAllSubdocs():[],X=new Set;for(let W of J){const G=W.$__fullPathWithIndexes();if(W.$__reset(),this.isModified(G)||$(G))if(W.$isDocumentArrayElement)X.add(W.parentArray());else{const K=W.$parent();if(K===this)this.$__.activePaths.clearPath(W.$basePath);else if(K!=null&&K.$isSubdocument)K.$__reset()}}for(let W of X)this.$__.activePaths.clearPath(W.$path()),W[zY]=W[m6],W[m6]={};function $(W){W=W.indexOf(".")===-1?[W]:W.split(".");let G="";for(let K=0;K<W.length;++K)if(G+=(G.length?".":"")+W[K],Y.$__.activePaths[G]==="init")return!0;return!1}return this.$__dirty().forEach(function(W){const G=W.value;if(G&&G[m6])G[zY]=G[m6],G[m6]={}}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,Y=this,this.$__schema.requiredPaths().forEach(function(W){Y.$__.activePaths.require(W)}),this};/*!
 * ignore
 */b.prototype.$__undoReset=function Z(){if(this.$__.backup==null||this.$__.backup.activePaths==null)return;this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;for(let Y of this.$__dirty()){const J=Y.value;if(J&&J[m6]&&J[zY])J[m6]=J[zY]}for(let Y of this.$getAllSubdocs())Y.$__undoReset()};b.prototype.$__dirty=function(){const Z=this;let Y=this.$__.activePaths.map("modify",function($){return{path:$,value:Z.$__getValue($),schema:Z.$__path($)}});Y=Y.concat(this.$__.activePaths.map("default",function($){if($==="_id"||Z.$__getValue($)==null)return;return{path:$,value:Z.$__getValue($),schema:Z.$__path($)}}));const J=new Map(Y.filter(($)=>$!=null).map(($)=>[$.path,$.value])),X=[];return Y.forEach(function($){if(!$)return;let W=null;const G=by($.path);for(let K=0;K<G.length-1;K++)if(J.has(G[K])){W=J.get(G[K]);break}if(W==null)X.push($);else if(W!=null&&W[m6]!=null&&W.hasAtomics())W[m6]={},W[m6].$set=W}),X};b.prototype.$__setSchema=function(Z){GQ1(Z.tree,this,void 0,Z.options);for(let Y of Object.keys(Z.virtuals))Z.virtuals[Y]._applyDefaultGetters();if(Z.path("schema")==null)this.schema=Z;this.$__schema=Z,this[qU]=Z};b.prototype.$__getArrayPathsToValidate=function(){return BG||(BG=j9()),this.$__.activePaths.map("init","modify",function(Z){return this.$__getValue(Z)}.bind(this)).filter(function(Z){return Z&&Array.isArray(Z)&&R1.isMongooseDocumentArray(Z)&&Z.length}).reduce(function(Z,Y){return Z.concat(Y)},[]).filter(function(Z){return Z})};b.prototype.$getAllSubdocs=function(){BG||(BG=j9()),E9=E9||QY();function Z(J,X,$){let W=J,G=!1;if($)if(J instanceof b&&J[qU].paths[$])W=J._doc[$];else if(J instanceof b&&J[qU].nested[$])W=J._doc[$],G=!0;else W=J[$];if(W instanceof E9)X.push(W);else if(W instanceof Map)X=Array.from(W.keys()).reduce(function(K,Q){return Z(W.get(Q),K,null)},X);else if(W&&!Array.isArray(W)&&W.$isSingleNested)X=Object.keys(W._doc).reduce(function(K,Q){return Z(W,K,Q)},X),X.push(W);else if(W&&R1.isMongooseDocumentArray(W))W.forEach(function K(Q){if(!Q||!Q._doc)return;if(X=Object.keys(Q._doc).reduce(function(z,H){return Z(Q._doc,z,H)},X),Q instanceof E9)X.push(Q)});else if(G&&W!=null)for(let K of Object.keys(W))Z(W,X,K);return X}const Y=[];for(let J of Object.keys(this._doc))Z(this,Y,J);return Y};/*!
 * Runs queued functions
 *//*!
 * ignore
 */b.prototype.$__handleReject=function Z(Y){if(this.$listeners("error").length)this.$emit("error",Y);else if(this.constructor.listeners&&this.constructor.listeners("error").length)this.constructor.emit("error",Y)};b.prototype.$toObject=function(Z,Y){let J={transform:!0,flattenDecimals:!0};const X=Y?"toJSON":"toObject",$=this.constructor&&this.constructor.base&&this.constructor.base.options&&zQ1(this.constructor.base.options,X)||{},W=this.$__schema&&this.$__schema.options||{};J=R1.options(J,B7($)),J=R1.options(J,B7(W[X]||{})),Z=R1.isPOJO(Z)?{...Z}:{},Z._calledWithOptions=Z._calledWithOptions||{...Z};let G;if(Z._calledWithOptions.minimize!=null)G=Z.minimize;else if(J.minimize!=null)G=J.minimize;else G=W.minimize;let K;if(Z._calledWithOptions.flattenMaps!=null)K=Z.flattenMaps;else if(J.flattenMaps!=null)K=J.flattenMaps;else K=W.flattenMaps;let Q;if(Z._calledWithOptions.flattenObjectIds!=null)Q=Z.flattenObjectIds;else if(J.flattenObjectIds!=null)Q=J.flattenObjectIds;else Q=W.flattenObjectIds;const z=Object.assign({},Z,{_isNested:!0,json:Y,minimize:G,flattenMaps:K,flattenObjectIds:Q,_seen:Z&&Z._seen||new Map});if(R1.hasUserDefinedProperty(Z,"getters"))z.getters=Z.getters;if(R1.hasUserDefinedProperty(Z,"virtuals"))z.virtuals=Z.virtuals;if((Z.depopulate||(Z._parentOptions&&Z._parentOptions.depopulate||!1))&&Z._isNested&&this.$__.wasPopulated)return B7(this.$__.wasPopulated.value||this._id,z);Z=R1.options(J,Z),Z._isNested=!0,Z.json=Y,Z.minimize=G,z._parentOptions=Z,z._skipSingleNestedGetters=!1;const F=Object.assign({},z);F._skipSingleNestedGetters=!0;const q=Z.transform;let V=B7(this._doc,z)||{};if(Z.getters){if(fQ1(this,V,F),Z.minimize)V=UQ1(V)||{}}if(Z.virtuals||Z.getters&&Z.virtuals!==!1)uy(this,V,F,Z);if(Z.versionKey===!1&&this.$__schema.options.versionKey)delete V[this.$__schema.options.versionKey];let U=Z.transform;if(U)yQ1(this,V);if(Z.useProjection)gQ1(this,V);if(U===!0||W.toObject&&U){const L=Z.json?W.toJSON:W.toObject;if(L)U=typeof Z.transform==="function"?Z.transform:L.transform}else Z.transform=q;if(typeof U==="function"){const L=U(this,V,Z);if(typeof L!=="undefined")V=L}return V};b.prototype.toObject=function(Z){return this.$toObject(Z)};/*!
 * Applies virtuals properties to `json`.
 *//*!
 * ignore
 */b.prototype.toJSON=function(Z){return this.$toObject(Z,!0)};/*!
 * ignore
 */b.prototype.ownerDocument=function(){return this};b.prototype.parent=function(){if(this.$isSubdocument||this.$__.wasPopulated)return this.$__.parent;return this};b.prototype.$parent=b.prototype.parent;b.prototype.inspect=function(Z){const Y=R1.isPOJO(Z);let J;if(Y)J=Z,J.minimize=!1;const X=this.toObject(J);if(X==null)return"MongooseDocument { "+X+" }";return X};if(FU.custom)b.prototype[FU.custom]=b.prototype.inspect;b.prototype.toString=function(){const Z=this.inspect();if(typeof Z==="string")return Z;return FU(Z)};b.prototype.equals=function(Z){if(!Z)return!1;const Y=this.$__getValue("_id"),J=Z.$__!=null?Z.$__getValue("_id"):Z;if(!Y&&!J)return AG(this,Z);return Y&&Y.equals?Y.equals(J):Y===J};b.prototype.populate=async function Z(){const Y={},J=[...arguments];if(typeof J[J.length-1]==="function")throw new a8("Document.prototype.populate() no longer accepts a callback");if(J.length!==0){const W=R1.populate.apply(null,J);for(let G of W)Y[G.path]=G}const X=R1.object.vals(Y);let $=this.constructor;if(this.$__isNested){$=this.$__[DQ1].constructor;const W=this.$__.nestedPath;X.forEach(function(G){G.path=W+"."+G.path})}if(this.$session()!=null){const W=this.$session();X.forEach((G)=>{if(G.options==null){G.options={session:W};return}if(!("session"in G.options))G.options.session=W})}return X.forEach((W)=>{W._localModel=$}),$.populate(this,X)};b.prototype.$getPopulatedDocs=function Z(){let Y=[];if(this.$__.populated!=null)Y=Y.concat(Object.keys(this.$__.populated));let J=[];for(let X of Y){const $=this.$get(X);if(Array.isArray($))J=J.concat($);else if($ instanceof b)J.push($)}return J};b.prototype.populated=function(Z,Y,J){if(Y==null||Y===!0){if(!this.$__.populated)return;if(typeof Z!=="string")return;const $=Z.endsWith(".$*")?Z.replace(/\.\$\*$/,""):Z,W=this.$__.populated[$];if(W)return Y===!0?W:W.value;return}this.$__.populated||(this.$__.populated={}),this.$__.populated[Z]={value:Y,options:J};const X=Z.split(".");for(let $=0;$<X.length-1;++$){const W=X.slice(0,$+1).join("."),G=this.$get(W);if(G!=null&&G.$__!=null&&this.$populated(W)){const K=X.slice($+1).join(".");G.$populated(K,Y,J);break}}return Y};b.prototype.$populated=b.prototype.populated;b.prototype.$assertPopulated=function Z(Y,J){if(Array.isArray(Y))return Y.forEach((X)=>this.$assertPopulated(X,J)),this;if(arguments.length>1)this.$set(J);if(!this.$populated(Y))throw new a8(`Expected path "${Y}" to be populated`);return this};b.prototype.depopulate=function(Z){if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");let Y;const J=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],X=this.$__&&this.$__.populated||{};if(arguments.length===0){for(let W of J)delete this.$$populatedVirtuals[W],delete this._doc[W],delete X[W];const $=Object.keys(X);for(let W of $){if(Y=this.$populated(W),!Y)continue;delete X[W],R1.setValue(W,Y,this._doc)}return this}for(let $ of Z)if(Y=this.$populated($),delete X[$],J.indexOf($)!==-1)delete this.$$populatedVirtuals[$],delete this._doc[$];else if(Y)R1.setValue($,Y,this._doc);return this};b.prototype.$__fullPath=function(Z){return Z||""};b.prototype.getChanges=function(){const Z=this.$__delta();return Z?Z[1]:{}};b.prototype.$clone=function(){const Y=new this.constructor;if(Y.$isNew=this.$isNew,this._doc)Y._doc=B7(this._doc);if(this.$__){const X=new this.$__.constructor;for(let $ of Object.getOwnPropertyNames(this.$__)){if($==="activePaths")continue;X[$]=B7(this.$__[$])}Object.assign(X.activePaths,B7({...this.$__.activePaths})),Y.$__=X}return Y};/*!
 * Module exports.
 */b.ValidationError=NG;cy.exports=dy=b});var W1=w((rQ1)=>{var pQ1=function(Z){if(Array.isArray(Z.populate)){const X=[];Z.populate.forEach(function($){if(LU.test($.path)){const W=Object.assign({},$);W.path.split(wU).forEach(function(K){W.path=K,X.push(rQ1.populate(W)[0])})}else X.push(rQ1.populate($)[0])}),Z.populate=rQ1.populate(X)}else if(Z.populate!=null&&typeof Z.populate==="object")Z.populate=rQ1.populate(Z.populate);const Y=[],J=LU.test(Z.path)?Z.path.split(wU):[Z.path];if(Z.options!=null)Z.options=UU(Z.options);for(let X of J)Y.push(new ry(Object.assign({},Z,{path:X})));return Y},nQ1=function(Z,Y){let J=Z?._doc||Z;if(J!=null&&J.isMongooseArrayProxy)J=J.__array;return J instanceof Map?J.get(Y,iQ1):J[Y]};/*!
 * Module dependencies.
 */var bQ1=I6().UUID,vQ1=mx(),sy=w7(),hQ1=Z4(),ry=ox(),UU=V0(),mQ1=X6(),uQ1=v4(),ty=r3(),oy=ex(),L5=f8(),dQ1=aQ(),BX=YJ(),cQ1=eW(),lQ1=ZG(),NX=p5(),{trustedSymbol:qY}=WZ(),VU;rQ1.specialProperties=NX;rQ1.isMongooseArray=ty.isMongooseArray;rQ1.isMongooseDocumentArray=oy.isMongooseDocumentArray;rQ1.registerMongooseArray=ty.registerMongooseArray;rQ1.registerMongooseDocumentArray=oy.registerMongooseDocumentArray;var LU=/\s/,wU=/\s+/;rQ1.toCollectionName=function(Z,Y){if(Z==="system.profile")return Z;if(Z==="system.indexes")return Z;if(typeof Y==="function")return Y(Z);return Z};rQ1.deepEqual=function Z(Y,J){if(Y===J)return!0;if(typeof Y!=="object"||typeof J!=="object")return Y===J;if(Y instanceof Date&&J instanceof Date)return Y.getTime()===J.getTime();if(L5(Y,"ObjectId")&&L5(J,"ObjectId")||L5(Y,"Decimal128")&&L5(J,"Decimal128"))return Y.toString()===J.toString();if(Y instanceof RegExp&&J instanceof RegExp)return Y.source===J.source&&Y.ignoreCase===J.ignoreCase&&Y.multiline===J.multiline&&Y.global===J.global&&Y.dotAll===J.dotAll&&Y.unicode===J.unicode&&Y.sticky===J.sticky&&Y.hasIndices===J.hasIndices;if(Y==null||J==null)return!1;if(Y.prototype!==J.prototype)return!1;if(Y instanceof Map||J instanceof Map){if(!(Y instanceof Map)||!(J instanceof Map))return!1;return Z(Array.from(Y.keys()),Array.from(J.keys()))&&Z(Array.from(Y.values()),Array.from(J.values()))}if(Y instanceof Number&&J instanceof Number)return Y.valueOf()===J.valueOf();if(Buffer.isBuffer(Y))return rQ1.buffer.areEqual(Y,J);if(Array.isArray(Y)||Array.isArray(J)){if(!Array.isArray(Y)||!Array.isArray(J))return!1;const G=Y.length;if(G!==J.length)return!1;for(let K=0;K<G;++K)if(!Z(Y[K],J[K]))return!1;return!0}if(Y.$__!=null)Y=Y._doc;else if(BX(Y))Y=Y.toObject();if(J.$__!=null)J=J._doc;else if(BX(J))J=J.toObject();const X=Object.keys(Y),$=Object.keys(J),W=X.length;if(W!==$.length)return!1;for(let G=W-1;G>=0;G--)if(X[G]!==$[G])return!1;for(let G of X)if(!Z(Y[G],J[G]))return!1;return!0};rQ1.last=function(Z){if(Z.length>0)return Z[Z.length-1];return};/*!
 * ignore
 */rQ1.promiseOrCallback=cQ1;/*!
 * ignore
 */rQ1.cloneArrays=function Z(Y){if(!Array.isArray(Y))return Y;return Y.map((J)=>rQ1.cloneArrays(J))};/*!
 * ignore
 */rQ1.omit=function Z(Y,J){if(J==null)return Object.assign({},Y);if(!Array.isArray(J))J=[J];const X=Object.assign({},Y);for(let $ of J)delete X[$];return X};rQ1.options=function(Z,Y){const J=Object.keys(Z);let X=J.length,$;Y=Y||{};while(X--)if($=J[X],!($ in Y))Y[$]=Z[$];return Y};rQ1.merge=function Z(Y,J,X,$){X=X||{};const W=Object.keys(J);let G=0;const K=W.length;let Q;if(J[qY])Y[qY]=J[qY];$=$||"";const z=X.omitNested||{};while(G<K){if(Q=W[G++],X.omit&&X.omit[Q])continue;if(z[$])continue;if(NX.has(Q))continue;if(Y[Q]==null)Y[Q]=J[Q];else if(rQ1.isObject(J[Q])){if(!rQ1.isObject(Y[Q]))Y[Q]={};if(J[Q]!=null){if(X.isDiscriminatorSchemaMerge&&(J[Q].$isSingleNested&&Y[Q].$isMongooseDocumentArray)||J[Q].$isMongooseDocumentArray&&Y[Q].$isSingleNested)continue;else if(J[Q].instanceOfSchema){if(Y[Q].instanceOfSchema)lQ1(Y[Q],J[Q].clone(),X.isDiscriminatorSchemaMerge);else Y[Q]=J[Q].clone();continue}else if(L5(J[Q],"ObjectId")){Y[Q]=new hQ1(J[Q]);continue}}Z(Y[Q],J[Q],X,$?$+"."+Q:Q)}else if(X.overwrite)Y[Q]=J[Q]}};rQ1.toObject=function Z(Y){VU||(VU=p8());let J;if(Y==null)return Y;if(Y instanceof VU)return Y.toObject();if(Array.isArray(Y)){J=[];for(let X of Y)J.push(Z(X));return J}if(rQ1.isPOJO(Y)){if(J={},Y[qY])J[qY]=Y[qY];for(let X of Object.keys(Y)){if(NX.has(X))continue;J[X]=Z(Y[X])}return J}return Y};rQ1.isObject=uQ1;rQ1.isPOJO=sQ();rQ1.isNonBuiltinObject=function Z(Y){return typeof Y==="object"&&!rQ1.isNativeObject(Y)&&!rQ1.isMongooseType(Y)&&!(Y instanceof bQ1)&&Y!=null};rQ1.isNativeObject=function(Z){return Array.isArray(Z)||Z instanceof Date||Z instanceof Boolean||Z instanceof Number||Z instanceof String};rQ1.isEmptyObject=function(Z){return Z!=null&&typeof Z==="object"&&Object.keys(Z).length===0};rQ1.hasKey=function Z(Y,J){const X=Object.keys(Y);for(let $ of X){if($===J)return!0;if(rQ1.isPOJO(Y[$])&&rQ1.hasKey(Y[$],J))return!0}return!1};rQ1.tick=function Z(Y){if(typeof Y!=="function")return;return function(){try{Y.apply(this,arguments)}catch(J){mQ1(function(){throw J})}}};rQ1.isMongooseType=function(Z){return L5(Z,"ObjectId")||L5(Z,"Decimal128")||Z instanceof Buffer};rQ1.isMongooseObject=BX;rQ1.expires=function Z(Y){if(!(Y&&Y.constructor.name==="Object"))return;if(!("expires"in Y))return;Y.expireAfterSeconds=typeof Y.expires!=="string"?Y.expires:Math.round(vQ1(Y.expires)/1000),delete Y.expires};rQ1.populate=function Z(Y,J,X,$,W,G,K,Q){let z=null;if(arguments.length===1){if(Y instanceof ry)return Y._docs=[],Y._childDocs=[],[Y];if(Array.isArray(Y))return H(Y).map((q)=>rQ1.populate(q)[0]);if(rQ1.isObject(Y))z=Object.assign({},Y);else z={path:Y}}else if(typeof X==="object")z={path:Y,select:J,match:X,options:$};else z={path:Y,select:J,model:X,match:$,options:W,populate:G,justOne:K,count:Q};if(typeof z.path!=="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+typeof Y+"`");return pQ1(z);function H(F){const q=[];return F.forEach(function(V){if(LU.test(V.path))V.path.split(wU).forEach(function(L){const R=Object.assign({},V);R.path=L,q.push(R)});else q.push(V)}),q}};rQ1.getValue=function(Z,Y,J){return sy.get(Z,Y,nQ1,J)};/*!
 * ignore
 */var iQ1=Object.freeze({getters:!1});rQ1.setValue=function(Z,Y,J,X,$){sy.set(Z,Y,J,"_doc",X,$)};rQ1.object={};rQ1.object.vals=function Z(Y){const J=Object.keys(Y);let X=J.length;const $=[];while(X--)$.push(Y[J[X]]);return $};rQ1.object.shallowCopy=rQ1.options;var aQ1=Object.prototype.hasOwnProperty;rQ1.object.hasOwnProperty=function(Z,Y){return aQ1.call(Z,Y)};rQ1.isNullOrUndefined=function(Z){return Z===null||Z===void 0};/*!
 * ignore
 */rQ1.array={};rQ1.array.flatten=function Z(Y,J,X){return X||(X=[]),Y.forEach(function($){if(Array.isArray($))Z($,J,X);else if(!J||J($))X.push($)}),X};/*!
 * ignore
 */var sQ1=Object.prototype.hasOwnProperty;rQ1.hasUserDefinedProperty=function(Z,Y){if(Z==null)return!1;if(Array.isArray(Y)){for(let J of Y)if(rQ1.hasUserDefinedProperty(Z,J))return!0;return!1}if(sQ1.call(Z,Y))return!0;if(typeof Z==="object"&&Y in Z){const J=Z[Y];return J!==Object.prototype[Y]&&J!==Array.prototype[Y]}return!1};/*!
 * ignore
 */var ly=Math.pow(2,32)-1;rQ1.isArrayIndex=function(Z){if(typeof Z==="number")return Z>=0&&Z<=ly;if(typeof Z==="string"){if(!/^\d+$/.test(Z))return!1;return Z=+Z,Z>=0&&Z<=ly}return!1};rQ1.array.unique=function(Z){const Y=new Set,J=new Set,X=[];for(let $ of Z)if(typeof $==="number"||typeof $==="string"||$==null){if(Y.has($))continue;X.push($),Y.add($)}else if(L5($,"ObjectId")){if(J.has($.toString()))continue;X.push($),J.add($.toString())}else X.push($);return X};rQ1.buffer={};rQ1.buffer.areEqual=function(Z,Y){if(!Buffer.isBuffer(Z))return!1;if(!Buffer.isBuffer(Y))return!1;if(Z.length!==Y.length)return!1;for(let J=0,X=Z.length;J<X;++J)if(Z[J]!==Y[J])return!1;return!0};rQ1.getFunctionName=dQ1;rQ1.decorate=function(Z,Y){for(let J in Y){if(NX.has(J))continue;Z[J]=Y[J]}};rQ1.mergeClone=function(Z,Y){if(BX(Y))Y=Y.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});const J=Object.keys(Y),X=J.length;let $=0,W;while($<X){if(W=J[$++],NX.has(W))continue;if(typeof Z[W]==="undefined")Z[W]=UU(Y[W],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{let G=Y[W];if(G!=null&&G.valueOf&&!(G instanceof Date))G=G.valueOf();if(rQ1.isObject(G)){let K=G;if(BX(G)&&!G.isMongooseBuffer)K=K.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});if(G.isMongooseBuffer)K=Buffer.from(K);rQ1.mergeClone(Z[W],K)}else Z[W]=UU(G,{flattenDecimals:!1})}}};rQ1.each=function(Z,Y){for(let J of Z)Y(J)};rQ1.renameObjKey=function(Z,Y,J){return Object.keys(Z).reduce(($,W)=>{if(W===Y)$[J]=Z[Y];else $[W]=Z[W];return $},{})};/*!
 * ignore
 */rQ1.getOption=function(Z){const Y=Array.prototype.slice.call(arguments,1);for(let J of Y){if(J==null)continue;if(J[Z]!=null)return J[Z]}return null};/*!
 * ignore
 */rQ1.noop=function(){};rQ1.errorToPOJO=function Z(Y){if(!(Y instanceof Error))throw new Error("`error` must be `instanceof Error`.");const X={};for(let $ of Object.getOwnPropertyNames(Y))X[$]=Y[$];return X};/*!
 * ignore
 */rQ1.warn=function Z(Y){return process.emitWarning(Y,{code:"MONGOOSE"})};rQ1.injectTimestampsOption=function Z(Y,J){if(J==null)return;Y.timestamps=J}});var m0=w((TG,zg)=>{var M1=function(Z,Y,J){this[_z1]=!0,this.path=Z,this.instance=J,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),Y=Y||{};const X=this.constructor.defaultOptions||{},$=Object.keys(X);for(let K of $)if(X.hasOwnProperty(K)&&!Object.prototype.hasOwnProperty.call(Y,K))Y[K]=X[K];if(Y.select==null)delete Y.select;const W=this.OptionsConstructor||Gg;if(this.options=new W(Y),this._index=null,C9.hasUserDefinedProperty(this.options,"immutable"))this.$immutable=this.options.immutable,MU(this);const G=Object.keys(this.options);for(let K of G){if(K==="cast"){if(Array.isArray(this.options[K]))this.castFunction.apply(this,this.options[K]);else this.castFunction(this.options[K]);continue}if(C9.hasUserDefinedProperty(this.options,K)&&typeof this[K]==="function"){if(K==="index"&&this._index){if(Y.index===!1){const H=this._index;if(typeof H==="object"&&H!=null){if(H.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(H.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}const Q=Y[K];if(K==="default"){this.default(Q);continue}const z=Array.isArray(Q)?Q:[Q];this[K].apply(this,z)}}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})},Xg=function(Z,Y){if(Z!==void 0&&!Z){const X=new(Y.ErrorConstructor||BU)(Y);return X[Kg]=!0,X}},$g=function(Z,Y){return this.castForQuery(null,Z,Y)},gz1=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){return J.castForQuery(null,X,Y)})},Wg=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){if(Array.isArray(X)&&X.length===0)return X;return J.castForQuery(null,X,Y)})};/*!
 * Module dependencies.
 */var DX=l1(),Gg=V6(),Oz1=tW(),Sz1=SV(),PG=V0(),MU=fx(),kz1=gx(),AU=vx(),Jg=X6(),_z1=Z1().schemaTypeSymbol,C9=W1(),Kg=Z1().validatorErrorSymbol,xz1=Z1().documentIsModified,fz1=Z1().populateModelSymbol,Qg=DX.CastError,BU=DX.ValidatorError,yz1={_skipMarkModified:!0};M1.prototype.OptionsConstructor=Gg;M1.prototype.path;M1.prototype.validators;M1.prototype.isRequired;M1.prototype.splitPath=function(){if(this._presplitPath!=null)return this._presplitPath;if(this.path==null)return;return this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath};M1.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=(J)=>J;return this._cast=Y,this._cast};M1.prototype.castFunction=function Z(Y,J){if(arguments.length===0)return this._castFunction;if(Y===!1)Y=this.constructor._defaultCaster||((X)=>X);if(typeof Y==="string")return this._castErrorMessage=Y,this._castFunction;if(Y!=null)this._castFunction=Y;if(J!=null)this._castErrorMessage=J;return this._castFunction};M1.prototype.cast=function Z(){throw new Error("Base SchemaType class does not implement a `cast()` function")};M1.set=function Z(Y,J){if(!this.hasOwnProperty("defaultOptions"))this.defaultOptions=Object.assign({},this.defaultOptions);this.defaultOptions[Y]=J};M1.get=function(Z){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(Z)};M1.prototype.default=function(Z){if(arguments.length===1){if(Z===void 0){this.defaultValue=void 0;return}if(Z!=null&&Z.instanceOfSchema)throw new DX("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=Z,this.defaultValue}else if(arguments.length>1)this.defaultValue=[...arguments];return this.defaultValue};M1.prototype.index=function(Z){return this._index=Z,C9.expires(this._index),this};M1.prototype.unique=function(Z){if(this._index===!1){if(!Z)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||this._index===!0)this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.unique=Z,this};M1.prototype.text=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index===null||this._index===void 0||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.text=Z,this};M1.prototype.sparse=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.sparse=Z,this};M1.prototype.immutable=function(Z){return this.$immutable=Z,MU(this),this};M1.prototype.transform=function(Z){return this.options.transform=Z,this};M1.prototype.set=function(Z){if(typeof Z!=="function")throw new TypeError("A setter must be a function.");return this.setters.push(Z),this};M1.prototype.get=function(Z){if(typeof Z!=="function")throw new TypeError("A getter must be a function.");return this.getters.push(Z),this};M1.prototype.validate=function(Z,Y,J){if(typeof Z==="function"||Z&&C9.getFunctionName(Z.constructor)==="RegExp"){let G;if(typeof Y==="function")G={validator:Z,message:Y},G.type=J||"user defined";else if(Y instanceof Object&&!J){if(G=AU(Y)?Object.assign({},Y):PG(Y),!G.message)G.message=G.msg;G.validator=Z,G.type=G.type||"user defined"}else{if(Y==null)Y=DX.messages.general.default;if(!J)J="user defined";G={message:Y,type:J,validator:Z}}return this.validators.push(G),this}let X,$,W;for(X=0,$=arguments.length;X<$;X++){if(W=arguments[X],!C9.isPOJO(W)){const G="Invalid validator. Received ("+typeof W+") "+W+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(G)}this.validate(W.validator,W)}return this};M1.prototype.required=function(Z,Y){let J={};if(arguments.length>0&&Z==null)return this.validators=this.validators.filter(function(W){return W.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(typeof Z==="object")J=Z,Y=J.message||Y,Z=Z.isRequired;if(Z===!1)return this.validators=this.validators.filter(function(W){return W.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;const X=this;if(this.isRequired=!0,this.requiredValidator=function(W){const G=this&&this.$__&&this.$__.cachedRequired;if(G!=null&&!this.$__isSelected(X.path)&&!this[xz1](X.path))return!0;if(G!=null&&X.path in G){const K=G[X.path]?X.checkRequired(W,this):!0;return delete G[X.path],K}else if(typeof Z==="function")return Z.apply(this)?X.checkRequired(W,this):!0;return X.checkRequired(W,this)},this.originalRequiredValue=Z,typeof Z==="string")Y=Z,Z=void 0;const $=Y||DX.messages.general.required;return this.validators.unshift(Object.assign({},J,{validator:this.requiredValidator,message:$,type:"required"})),this};M1.prototype.ref=function(Z){return this.options.ref=Z,this};M1.prototype.getDefault=function(Z,Y,J){let X;if(typeof this.defaultValue==="function")if(this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid")X=this.defaultValue.call(Z);else X=this.defaultValue.call(Z,Z);else X=this.defaultValue;if(X!==null&&X!==void 0){if(typeof X==="object"&&(!this.options||!this.options.shared))X=PG(X);if(J&&J.skipCast)return this._applySetters(X,Z);const $=this.applySetters(X,Z,Y,void 0,yz1);if($&&!Array.isArray($)&&$.$isSingleNested)$.$__parent=Z;return $}return X};M1.prototype._applySetters=function(Z,Y,J,X,$){let W=Z;if(J)return W;const G=this.setters;for(let K=G.length-1;K>=0;K--)W=G[K].call(Y,W,X,this,$);return W};/*!
 * ignore
 */M1.prototype._castNullish=function Z(Y){return Y};M1.prototype.applySetters=function(Z,Y,J,X,$){let W=this._applySetters(Z,Y,J,X,$);if(W==null)return this._castNullish(W);return W=this.cast(W,Y,J,X,$),W};M1.prototype.applyGetters=function(Z,Y){let J=Z;const X=this.getters,$=X.length;if($===0)return J;for(let W=0;W<$;++W)J=X[W].call(Y,J,this);return J};M1.prototype.select=function Z(Y){return this.selected=!!Y,this};M1.prototype.doValidate=function(Z,Y,J,X){let $=!1;const W=this.path,G=this.validators.filter((z)=>typeof z==="object"&&z!==null);let K=G.length;if(!K)return Y(null);for(let z=0,H=G.length;z<H;++z){if($)break;const F=G[z],q=F.validator;let V;const U=AU(F)?Object.assign({},F):PG(F);if(U.path=X&&X.path?X.path:W,U.fullPath=this.$fullPath,U.value=Z,q instanceof RegExp){Q(q.test(Z),U,J);continue}if(typeof q!=="function")continue;if(Z===void 0&&q!==this.requiredValidator){Q(!0,U,J);continue}try{if(U.propsParameter)V=q.call(J,Z,U);else V=q.call(J,Z)}catch(L){if(V=!1,U.reason=L,L.message)U.message=L.message}if(V!=null&&typeof V.then==="function")V.then(function(L){Q(L,U,J)},function(L){U.reason=L,U.message=L.message,V=!1,Q(V,U,J)});else Q(V,U,J)}function Q(z,H,F){if($)return;if(z===void 0||z){if(--K<=0)Jg(function(){Y(null)})}else $=new(H.ErrorConstructor||BU)(H,F),$[Kg]=!0,Jg(function(){Y($)})}};M1.prototype.doValidateSync=function(Z,Y,J){const X=this.path;if(!this.validators.length)return null;let W=this.validators;if(Z===void 0)if(this.validators.length!==0&&this.validators[0].type==="required")W=[this.validators[0]];else return null;let G=null,K=0;const Q=W.length;for(K=0;K<Q;++K){const z=W[K];if(z===null||typeof z!=="object")continue;const H=z.validator,F=AU(z)?Object.assign({},z):PG(z);F.path=J&&J.path?J.path:X,F.fullPath=this.$fullPath,F.value=Z;let q=!1;if(kz1(H))continue;if(H instanceof RegExp){G=Xg(H.test(Z),F);continue}if(typeof H!=="function")continue;try{if(F.propsParameter)q=H.call(Y,Z,F);else q=H.call(Y,Z)}catch(V){q=!1,F.reason=V}if(q!=null&&typeof q.then==="function")continue;if(G=Xg(q,F),G)break}return G};M1._isRef=function(Z,Y,J,X){let $=X&&Z.options&&(Z.options.ref||Z.options.refPath);if(!$&&J&&J.$__!=null){const W=J.$__fullPath(Z.path,!0),G=J.ownerDocument();$=W!=null&&G.$populated(W)||J.$populated(Z.path)}if($){if(Y==null)return!0;if(!Buffer.isBuffer(Y)&&Y._bsontype!=="Binary"&&C9.isObject(Y))return!0;return X}return!1};/*!
 * ignore
 */M1.prototype._castRef=function Z(Y,J,X){if(Y==null)return Y;if(Y.$__!=null)return Y.$__.wasPopulated=Y.$__.wasPopulated||!0,Y;if(Buffer.isBuffer(Y)||!C9.isObject(Y)){if(X)return Y;throw new Qg(this.instance,Y,this.path,null,this)}const $=J.$__fullPath(this.path,!0),G=J.ownerDocument().$populated($,!0);let K=Y;if(!J.$__.populated||!J.$__.populated[$]||!J.$__.populated[$].options||!J.$__.populated[$].options.options||!J.$__.populated[$].options.options.lean)K=new G.options[fz1](Y),K.$__.wasPopulated=!0;return K};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */M1.prototype.$conditionalHandlers={$all:gz1,$eq:$g,$in:Wg,$ne:$g,$nin:Wg,$exists:Oz1,$type:Sz1};M1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z);return X.call(this,Y,J)}return this.applySetters(Y,J)};M1.checkRequired=function(Z){if(arguments.length!==0)this._checkRequired=Z;return this._checkRequired};M1.prototype.checkRequired=function(Z){return Z!=null};M1.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,Z,this.instance);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;if(this.defaultValue!==void 0)Y.defaultValue=this.defaultValue;if(this.$immutable!==void 0&&this.options.immutable===void 0)Y.$immutable=this.$immutable,MU(Y);if(this._index!==void 0)Y._index=this._index;if(this.selected!==void 0)Y.selected=this.selected;if(this.isRequired!==void 0)Y.isRequired=this.isRequired;if(this.originalRequiredValue!==void 0)Y.originalRequiredValue=this.originalRequiredValue;return Y.getters=this.getters.slice(),Y.setters=this.setters.slice(),Y};/*!
 * Module exports.
 */zg.exports=TG=M1;TG.CastError=Qg;TG.ValidatorError=BU});var Fg=w((wC1,Hg)=>{var N7=h6();class U6{constructor(Z){if(Object.assign(this,Z),Z!=null&&Z.options!=null)this.options=Object.assign({},Z.options)}}Object.defineProperty(U6.prototype,"ref",N7);Object.defineProperty(U6.prototype,"refPath",N7);Object.defineProperty(U6.prototype,"localField",N7);Object.defineProperty(U6.prototype,"foreignField",N7);Object.defineProperty(U6.prototype,"justOne",N7);Object.defineProperty(U6.prototype,"count",N7);Object.defineProperty(U6.prototype,"match",N7);Object.defineProperty(U6.prototype,"options",N7);Object.defineProperty(U6.prototype,"skip",N7);Object.defineProperty(U6.prototype,"limit",N7);Object.defineProperty(U6.prototype,"perDocumentLimit",N7);Hg.exports=U6});var NU=w((RC1,qg)=>{var w5=function(Z,Y){this.path=Y,this.getters=[],this.setters=[],this.options=Object.assign({},Z)},bz1=W1();w5.prototype._applyDefaultGetters=function(){if(this.getters.length>0||this.setters.length>0)return;const Y="$"+this.path;this.getters.push(function(){return this.$locals[Y]}),this.setters.push(function(J){this.$locals[Y]=J})};/*!
 * ignore
 */w5.prototype.clone=function(){const Z=new w5(this.options,this.path);return Z.getters=[].concat(this.getters),Z.setters=[].concat(this.setters),Z};w5.prototype.get=function(Z){return this.getters.push(Z),this};w5.prototype.set=function(Z){return this.setters.push(Z),this};w5.prototype.applyGetters=function(Z,Y){if(bz1.hasUserDefinedProperty(this.options,["ref","refPath"])&&Y.$$populatedVirtuals&&Y.$$populatedVirtuals.hasOwnProperty(this.path))Z=Y.$$populatedVirtuals[this.path];let J=Z;for(let X of this.getters)J=X.call(Y,J,this,Y);return J};w5.prototype.applySetters=function(Z,Y){let J=Z;for(let X of this.setters)J=X.call(Y,J,this,Y);return J};/*!
 * exports
 */qg.exports=w5});var DU=w((MC1,Vg)=>{Vg.exports=function Z(Y){const J={_id:{auto:!0}};J._id[Y.options.typeKey]="ObjectId",Y.add(J)}});var IU=w((AC1,Ug)=>{Ug.exports=function Z(Y,J){const X=Y.discriminatorMapping&&Y.discriminatorMapping.value;if(X&&!("sparse"in J)){const $=Y.options.discriminatorKey;J.partialFilterExpression=J.partialFilterExpression||{},J.partialFilterExpression[$]=X}return J}});var wg=w((BC1,Lg)=>{var PU=G0(),vz1=v4(),hz1=IU();Lg.exports=function Z(Y){let J=[];const X=new WeakMap,$=Y.constructor.indexTypes,W=new Map;return G(Y),J;function G(Q,z,H){if(X.has(Q))return;X.set(Q,!0),z=z||"";const F=Object.keys(Q.paths);for(let q of F){const V=Q.paths[q];if(H!=null&&H.paths[q])continue;if(V.$isMongooseDocumentArray||V.$isSingleNested){if(PU(V,"options.excludeIndexes")!==!0&&PU(V,"schemaOptions.excludeIndexes")!==!0&&PU(V,"schema.options.excludeIndexes")!==!0)G(V.schema,z+q+".");if(V.schema.discriminators!=null){const L=V.schema.discriminators,R=Object.keys(L);for(let A of R)G(L[A],z+q+".",V.schema)}if(V.$isMongooseDocumentArray)continue}const U=V._index||V.caster&&V.caster._index;if(U!==!1&&U!==null&&U!==void 0){const L={},R=vz1(U),A=R?U:{},B=typeof U==="string"?U:R?U.type:!1;if(B&&$.indexOf(B)!==-1)L[z+q]=B;else if(A.text)L[z+q]="text",delete A.text;else{let D=!1;if(U==="descending"||U==="desc")D=!0;else if(U==="ascending"||U==="asc")D=!1;else D=Number(U)===-1;L[z+q]=D?-1:1}if(delete A.type,!("background"in A))A.background=!0;if(Q.options.autoIndex!=null)A._autoIndex=Q.options.autoIndex;const M=A&&A.name;if(typeof M==="string")if(W.has(M))Object.assign(W.get(M),L);else J.push([L,A]),W.set(M,L);else J.push([L,A]),W.set(M,L)}}if(X.delete(Q),z)K(Q,z);else Q._indexes.forEach(function(q){const V=q[1];if(!("background"in V))V.background=!0;hz1(Q,V)}),J=J.concat(Q._indexes)}function K(Q,z){const H=Q._indexes,F=H.length;for(let q=0;q<F;++q){const V=H[q][0],U=H[q][1],L=Object.keys(V),R=L.length,A={};for(let M=0;M<R;++M){const D=L[M];A[z+D]=V[D]}const B=Object.assign({},U);if(U!=null&&U.partialFilterExpression!=null){B.partialFilterExpression={};const M=U.partialFilterExpression;for(let D of Object.keys(M))B.partialFilterExpression[z+D]=M[D]}J.push([A,B])}}}});var TU=w((NC1,Rg)=>{Rg.exports=function Z(Y){switch(Y){case"p":Y="primary";break;case"pp":Y="primaryPreferred";break;case"s":Y="secondary";break;case"sp":Y="secondaryPreferred";break;case"n":Y="nearest";break}return Y}});var Ag=w((DC1,Mg)=>{var mz1=function(){if(this._id!=null)return String(this._id);return null};/*!
 * ignore
 */Mg.exports=function Z(Y){if(!(!Y.paths.id&&Y.paths._id&&Y.options.id))return Y;if(Y.aliases&&Y.aliases.id)return Y;return Y.virtual("id").get(mz1),Y}});var IX=w((IC1,Bg)=>{Bg.exports=function Z(Y){return Y.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}});var jU=w((PC1,Ng)=>{var uz1=function(Z,Y){if(Z==null)return null;if(typeof Z==="boolean")return Y;if(typeof Z[Y]==="boolean")return Z[Y]?Y:null;if(!(Y in Z))return Y;return Z[Y]};Ng.exports=uz1;/*!
 * ignore
 */});var CU=w((TC1,Dg)=>{var O9=function(Z,Y,J){if(Y==null)return;if(Object.keys(Y).some((K)=>K[0]==="$")){if(Y.$push)G(Y.$push);if(Y.$addToSet)G(Y.$addToSet);if(Y.$set!=null){const K=Object.keys(Y.$set);for(let Q of K)EU(J,Q,Y.$set,Z)}if(Y.$setOnInsert!=null){const K=Object.keys(Y.$setOnInsert);for(let Q of K)EU(J,Q,Y.$setOnInsert,Z)}}const W=Object.keys(Y).filter((K)=>K[0]!=="$");for(let K of W)EU(J,K,Y,Z);function G(K){for(let Q of Object.keys(K)){const z=J.path(Q.replace(/\.\$\./i,".").replace(/.\$$/,""));if(K[Q]&&z&&z.$isMongooseDocumentArray&&z.schema.options.timestamps){const H=z.schema.options.timestamps,F=M4(H,"createdAt"),q=M4(H,"updatedAt");if(K[Q].$each)K[Q].$each.forEach(function(V){if(q!=null)V[q]=Z;if(F!=null)V[F]=Z;O9(Z,V,z.schema)});else{if(q!=null)K[Q][q]=Z;if(F!=null)K[Q][F]=Z;O9(Z,K[Q],z.schema)}}}}},cz1=function(Z,Y,J){const X=Y.schema.options.timestamps,$=Z.length;if(!X){for(let K=0;K<$;++K)O9(J,Z[K],Y.schema);return}const W=M4(X,"createdAt"),G=M4(X,"updatedAt");for(let K=0;K<$;++K){if(G!=null)Z[K][G]=J;if(W!=null)Z[K][W]=J;O9(J,Z[K],Y.schema)}},lz1=function(Z,Y,J){const X=Y.schema.options.timestamps;if(!X){O9(J,Z,Y.schema);return}const $=M4(X,"createdAt"),W=M4(X,"updatedAt");if(W!=null)Z[W]=J;if($!=null)Z[$]=J;O9(J,Z,Y.schema)},EU=function(Z,Y,J,X){const $=dz1(Y),W=Z.path($);if(!W)return;const G=[],K=$.split(".");for(let Q=K.length-1;Q>0;--Q){const z=Z.path(K.slice(0,Q).join("."));if(z!=null&&(z.$isMongooseDocumentArray||z.$isSingleNested))G.push({parentPath:Y.split(".").slice(0,Q).join("."),parentSchemaType:z})}if(Array.isArray(J[Y])&&W.$isMongooseDocumentArray)cz1(J[Y],W,X);else if(J[Y]&&W.$isSingleNested)lz1(J[Y],W,X);else if(G.length>0)for(let Q of G){const{parentPath:z,parentSchemaType:H}=Q,F=H.schema.options.timestamps,q=M4(F,"updatedAt");if(!F||q==null)continue;if(H.$isSingleNested)J[z+"."+q]=X;else if(H.$isMongooseDocumentArray){let V=Y.substring(z.length+1);if(/^\d+$/.test(V)){J[z+"."+V][q]=X;continue}const U=V.indexOf(".");V=U!==-1?V.substring(0,U):V,J[z+"."+V+"."+q]=X}}else if(W.schema!=null&&W.schema!=Z&&J[Y]){const Q=W.schema.options.timestamps,z=M4(Q,"createdAt"),H=M4(Q,"updatedAt");if(!Q)return;if(H!=null)J[Y][H]=X;if(z!=null)J[Y][z]=X}},dz1=IX(),M4=jU();Dg.exports=O9;/*!
 * ignore
 */});var OU=w((jC1,Ig)=>{var iz1=function(Z,Y,J,X,$,W){const G=X;let K=G;const Q=pz1($,"timestamps",!0);if(!Q||G==null)return X;const z=Q!=null&&Q.createdAt===!1,H=Q!=null&&Q.updatedAt===!1;if(W){if(X&&X.$set)X=X.$set,G.$set={},K=G.$set;if(!H&&J&&!X[J])K[J]=Z;if(!z&&Y&&!X[Y])K[Y]=Z;return G}if(X=X||{},Array.isArray(G)){if(J==null)return G;return G.push({$set:{[J]:Z}}),G}if(G.$set=G.$set||{},!H&&J&&(!X.$currentDate||!X.$currentDate[J])){let F=!1;if(J.indexOf(".")!==-1){const q=J.split(".");for(let V=1;V<q.length;++V){const U=q.slice(-V).join("."),L=q.slice(0,-V).join(".");if(X[L]!=null){X[L][U]=Z,F=!0;break}else if(X.$set&&X.$set[L]){X.$set[L][U]=Z,F=!0;break}}}if(!F)G.$set[J]=Z;if(G.hasOwnProperty(J))delete G[J]}if(!z&&Y){if(X[Y])delete X[Y];if(X.$set&&X.$set[Y])delete X.$set[Y];let F=!1;if(Y.indexOf(".")!==-1){const q=Y.split(".");for(let V=1;V<q.length;++V){const U=q.slice(-V).join("."),L=q.slice(0,-V).join(".");if(X[L]!=null){X[L][U]=Z,F=!0;break}else if(X.$set&&X.$set[L]){X.$set[L][U]=Z,F=!0;break}}}if(!F)G.$setOnInsert=G.$setOnInsert||{},G.$setOnInsert[Y]=Z}if(Object.keys(G.$set).length===0)delete G.$set;return G};/*!
 * ignore
 */var pz1=G0();Ig.exports=iz1;/*!
 * ignore
 */});var Tg=w((EC1,Pg)=>{Pg.exports=function Z(Y,J,X,$,W){const G=J!=null&&J.updatedAt===!1,K=J!=null&&J.createdAt===!1,Q=X!=null?X():Y.ownerDocument().constructor.base.now();if(!K&&(Y.isNew||Y.$isSubdocument)&&$&&!Y.$__getValue($)&&Y.$__isSelected($))Y.$set($,Q,void 0,{overwriteImmutable:!0});if(!G&&W&&(Y.isNew||Y.$isModified())){let z=Q;if(Y.isNew&&$!=null)z=Y.$__getValue($);Y.$set(W,z)}}});var Og=w((CC1,Cg)=>{var nz1=CU(),az1=OU(),sz1=G0(),jg=jU(),rz1=Tg(),tz1=I9(),Eg=new Set(["replaceOne","findOneAndReplace"]);Cg.exports=function Z(Y,J){const X=Y.childSchemas.find($);function $(F){return!!F.schema.options.timestamps}if(!J&&!X)return;const W=jg(J,"createdAt"),G=jg(J,"updatedAt"),K=J!=null&&J.hasOwnProperty("currentTime")?J.currentTime:null,Q={};if(Y.$timestamps={createdAt:W,updatedAt:G},W&&!Y.paths[W]){const F=Y.base!=null?Y.base.get("timestamps.createdAt.immutable"):null,q=F!=null?F:!0;Q[W]={[Y.options.typeKey||"type"]:Date,immutable:q}}if(G&&!Y.paths[G])Q[G]=Date;Y.add(Q),Y.pre("save",function F(q){const V=sz1(this,"$__.saveOptions.timestamps");if(V===!1)return q();rz1(this,V,K,W,G),q()}),Y.methods.initializeTimestamps=function(){const F=K!=null?K():this.constructor.base.now();if(W&&!this.get(W))this.$set(W,F);if(G&&!this.get(G))this.$set(G,F);if(this.$isSubdocument)return this;const q=this.$getAllSubdocs();for(let V of q)if(V.initializeTimestamps)V.initializeTimestamps();return this},H[tz1.builtInMiddleware]=!0;const z={query:!0,model:!1};Y.pre("findOneAndReplace",z,H),Y.pre("findOneAndUpdate",z,H),Y.pre("replaceOne",z,H),Y.pre("update",z,H),Y.pre("updateOne",z,H),Y.pre("updateMany",z,H);function H(F){const q=K!=null?K():this.model.base.now();if(Eg.has(this.op)&&this.getUpdate()==null)this.setUpdate({});az1(q,W,G,this.getUpdate(),this._mongooseOptions,Eg.has(this.op)),nz1(q,this.getUpdate(),this.model.schema),F()}}});var kg=w((OC1,Sg)=>{var ZH1=function(Z,Y){if(typeof Z==="string")return;if(typeof Z==="function")return;throw new oz1('Invalid ref at path "'+Y+'". Got '+ez1.inspect(Z,{depth:0}))},oz1=J0(),ez1=import.meta.require("util");Sg.exports=ZH1});var SU=w((SC1,_g)=>{_g.exports=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"])});var jG=w((kC1,fg)=>{var xg=function(Z,Y){const J=Y.schema.s.hooks.filter((X)=>{const $=JH1(X);if(X.name==="validate")return!!$.query;if(X.name==="deleteOne"||X.name==="updateOne")return!!$.query||Object.keys($).length===0;if(X.query!=null||X.document!=null)return!!X.query;return!0});Z.prototype._queryMiddleware=J},JH1=function(Z){const Y={};if(Z.hasOwnProperty("query"))Y.query=Z.query;if(Z.hasOwnProperty("document"))Y.document=Z.document;return Y};/*!
 * ignore
 */fg.exports=xg;var YH1=SU();/*!
 * ignore
 */xg.middlewareFunctions=YH1.concat(["validate"])});var EG=w((_C1,yg)=>{var PX=function(Z,Y,J){J=J||{};const X={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},$=J.decorateDoc?Z:Z.prototype;Z.$appliedHooks=!0;for(let z of Object.keys(Y.paths)){const H=Y.paths[z];let F=null;if(H.$isSingleNested)F=H.caster;else if(H.$isMongooseDocumentArray)F=H.Constructor;else continue;if(F.$appliedHooks)continue;if(PX(F,H.schema,{...J,isChildSchema:!0}),F.discriminators!=null){const q=Object.keys(F.discriminators);for(let V of q)PX(F.discriminators[V],F.discriminators[V].schema,J)}}const W=Y.s.hooks.filter((z)=>{if(z.name==="updateOne"||z.name==="deleteOne")return!!z.document;if(z.name==="remove"||z.name==="init")return z.document==null||!!z.document;if(z.query!=null||z.document!=null)return z.document!==!1;return!0}).filter((z)=>{if(Y.methods[z.name])return!z.fn[XH1.builtInMiddleware];return!0});Z._middleware=W,$.$__originalValidate=$.$__originalValidate||$.$__validate;const G=J&&J.isChildSchema?["save","validate","deleteOne"]:["save","validate"];for(let z of G){const H=z==="validate"?"$__originalValidate":`\$__${z}`,F=W.createWrapper(z,$[H],null,X);$[`\$__${z}`]=F}$.$__init=W.createWrapperSync("init",$.$__init,null,X);const K=Object.keys(Y.methods),Q=Object.assign({},X,{checkForPromise:!0});for(let z of K){if(WH1.has(z))continue;if(!W.hasHooks(z))continue;const H=$[z];$[z]=function(){const F=Array.prototype.slice.call(arguments),q=F.slice(-1).pop(),V=typeof q==="function"?F.slice(0,F.length-1):F;return $H1(q,(U)=>{return this[`\$__${z}`].apply(this,V.concat([U]))},Z.events)},$[`\$__${z}`]=W.createWrapper(z,H,null,Q)}},XH1=I9(),$H1=eW();/*!
 * ignore
 */yg.exports=PX;/*!
 * ignore
 */PX.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];/*!
 * ignore
 */var WH1=new Set(PX.middlewareFunctions.flatMap((Z)=>[Z,`\$__${Z}`]))});var TX=w((xC1,vg)=>{var s8=function(Z,Y,J){let X=Z;if(Z==null)X=0;let $,W,G;if(Array.isArray(Y))W=Y[0],G=Y[1];else $=Y;let K;if(typeof X==="number"||X instanceof Number)K=Buffer.alloc(X);else K=Buffer.from(X,$,J);return gg.decorate(K,s8.mixin),K.isMongooseBuffer=!0,K[s8.pathSymbol]=W,K[bg]=G,K._subtype=0,K};/*!
 * Module dependencies.
 */var kU=I6().Binary,gg=W1(),GH1=Symbol.for("mongoose#Buffer#_path"),bg=Symbol.for("mongoose#Buffer#_parent");s8.pathSymbol=GH1;/*!
 * Inherit from Buffer.
 */s8.mixin={_subtype:void 0,_markModified:function(){const Z=this[bg];if(Z)Z.markModified(this[s8.pathSymbol]);return this},write:function(){const Z=Buffer.prototype.write.apply(this,arguments);if(Z>0)this._markModified();return Z},copy:function(Z){const Y=Buffer.prototype.copy.apply(this,arguments);if(Z&&Z.isMongooseBuffer)Z._markModified();return Y}};/*!
 * Compile other Buffer methods marking this buffer as modified.
 */gg.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(Z){if(!Buffer.prototype[Z])return;s8.mixin[Z]=function(){const Y=Buffer.prototype[Z].apply(this,arguments);return this._markModified(),Y}});s8.mixin.toObject=function(Z){const Y=typeof Z==="number"?Z:this._subtype||0;return new kU(Buffer.from(this),Y)};s8.mixin.$toObject=s8.mixin.toObject;s8.mixin.toBSON=function(){return new kU(this,this._subtype||0)};s8.mixin.equals=function(Z){if(!Buffer.isBuffer(Z))return!1;if(this.length!==Z.length)return!1;for(let Y=0;Y<this.length;++Y)if(this[Y]!==Z[Y])return!1;return!0};s8.mixin.subtype=function(Z){if(typeof Z!=="number")throw new TypeError("Invalid subtype. Expected a number");if(this._subtype!==Z)this._markModified();this._subtype=Z};/*!
 * Module exports.
 */s8.Binary=kU;vg.exports=s8});var CG=w((fC1,cg)=>{var dg=function(Z){const Y=typeof Z;if(Y!=="string")throw new TypeError(`Mongoose maps only support string keys, got ${Y}`);if(Z.startsWith("$"))throw new Error(`Mongoose maps do not support keys that start with "\$", got "${Z}"`);if(Z.includes("."))throw new Error(`Mongoose maps do not support keys that contain ".", got "${Z}"`);if(qH1.has(Z))throw new Error(`Mongoose maps do not support reserved key name "${Z}"`)},KH1=P9(),QH1=J0(),hg=V0(),zH1=W1().deepEqual,HH1=c8(),FH1=GG(),mg=import.meta.require("util"),qH1=p5(),_U=f8(),ug=Z1().populateModelSymbol;/*!
 * ignore
 */class m7 extends Map{constructor(Z,Y,J,X){if(HH1(Z)==="Object")Z=Object.keys(Z).reduce(($,W)=>$.concat([[W,Z[W]]]),[]);super(Z);this.$__parent=J!=null&&J.$__!=null?J:null,this.$__path=Y,this.$__schemaType=X==null?new KH1(Y):X,this.$__runDeferred()}$init(Z,Y){if(dg(Z),super.set(Z,Y),Y!=null&&Y.$isSingleNested)Y.$basePath=this.$__path+"."+Z}$__set(Z,Y){super.set(Z,Y)}get(Z,Y){if(_U(Z,"ObjectId"))Z=Z.toString();if(Y=Y||{},Y.getters===!1)return super.get(Z);return this.$__schemaType.applyGetters(super.get(Z),this.$__parent)}set(Z,Y){if(_U(Z,"ObjectId"))Z=Z.toString();if(dg(Z),Y=FH1(Y),this.$__schemaType==null){this.$__deferred=this.$__deferred||[],this.$__deferred.push({key:Z,value:Y});return}let J;const X=this.$__parent,$=X!=null&&X.$__&&X.$__.populated?X.$populated(G.call(this),!0)||X.$populated(this.$__path,!0):null,W=this.get(Z);if($!=null){if(this.$__schemaType.$isSingleNested)throw new QH1("Cannot manually populate single nested subdoc underneath Map "+`at path "${this.$__path}". Try using an array instead of a Map.`);if(Array.isArray(Y)&&this.$__schemaType.$isMongooseArray)Y=Y.map((K)=>{if(K.$__==null)K=new $.options[ug](K);return K.$__.wasPopulated={value:K._id},K});else{if(Y.$__==null)Y=new $.options[ug](Y);Y.$__.wasPopulated={value:Y._id}}}else try{const K=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:G.call(this)}:null;Y=this.$__schemaType.applySetters(Y,this.$__parent,!1,this.get(Z),K)}catch(K){if(this.$__parent!=null&&this.$__parent.$__!=null){this.$__parent.invalidate(G.call(this),K);return}throw K}if(super.set(Z,Y),X!=null&&X.$__!=null&&!zH1(Y,W))X.markModified(G.call(this));function G(){if(J)return J;return J=this.$__path+"."+Z,J}}clear(){super.clear();const Z=this.$__parent;if(Z!=null)Z.markModified(this.$__path)}delete(Z){if(_U(Z,"ObjectId"))Z=Z.toString();return this.set(Z,void 0),super.delete(Z)}toBSON(){return new Map(this)}toObject(Z){if(Z&&Z.flattenMaps){const Y={},J=this.keys();for(let X of J)Y[X]=hg(this.get(X),Z);return Y}return new Map(this)}$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)}toJSON(Z){if(typeof(Z&&Z.flattenMaps)==="boolean"?Z.flattenMaps:!0){const Y={},J=this.keys();for(let X of J)Y[X]=hg(this.get(X),Z);return Y}return new Map(this)}inspect(){return new Map(this)}$__runDeferred(){if(!this.$__deferred)return;for(let Z of this.$__deferred)this.set(Z.key,Z.value);this.$__deferred=null}}if(mg.inspect.custom)Object.defineProperty(m7.prototype,mg.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:m7.prototype.inspect});Object.defineProperty(m7.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(m7.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(m7.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(m7.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(m7.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0});Object.defineProperty(m7.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0});cg.exports=m7});var pg=w((yC1,lg)=>{lg.exports=I6().UUID});var VY=w((VH1)=>{/*!
 * Module exports.
 */VH1.Array=sV();VH1.Buffer=TX();VH1.Document=VH1.Embedded=QY();VH1.DocumentArray=j9();VH1.Decimal128=s3();VH1.ObjectId=Z4();VH1.Map=CG();VH1.Subdocument=zG();VH1.UUID=pg()});var ng=w((vC1,ig)=>{var IH1=V6();class jX extends IH1{}var xU=h6();Object.defineProperty(jX.prototype,"enum",xU);Object.defineProperty(jX.prototype,"of",xU);Object.defineProperty(jX.prototype,"castNonArrays",xU);/*!
 * ignore
 */ig.exports=jX});var sg=w((hC1,ag)=>{var fU=function(Z){if(!Array.isArray(Z))return{min:0,max:0,containsNonArrayItem:!0};if(Z.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(Z.length===1&&!Array.isArray(Z[0]))return{min:1,max:1,containsNonArrayItem:!1};const Y=fU(Z[0]);for(let J=1;J<Z.length;++J){const X=fU(Z[J]);if(X.min<Y.min)Y.min=X.min;if(X.max>Y.max)Y.max=X.max;Y.containsNonArrayItem=Y.containsNonArrayItem||X.containsNonArrayItem}return Y.min=Y.min+1,Y.max=Y.max+1,Y};ag.exports=fU});var EX=w((mC1,tg)=>{var rg=import.meta.require("assert");tg.exports=function Z(Y){if(Y==null)return Y;if(Y==="")return null;if(typeof Y==="string"||typeof Y==="boolean")Y=Number(Y);if(rg.ok(!isNaN(Y)),Y instanceof Number)return Y.valueOf();if(typeof Y==="number")return Y;if(!Array.isArray(Y)&&typeof Y.valueOf==="function")return Number(Y.valueOf());if(Y.toString&&!Array.isArray(Y)&&Y.toString()==Number(Y))return Number(Y);rg.ok(!1)}});var Zb=w((uC1,eg)=>{var u6=function(Z,Y,J){if(CX(Z)||Z===null)return Z;if(Z.$cond!=null)if(Array.isArray(Z.$cond))Z.$cond=Z.$cond.map(($)=>u6($,Y,J));else Z.$cond.if=u6(Z.$cond.if,Y,J),Z.$cond.then=u6(Z.$cond.then,Y,J),Z.$cond.else=u6(Z.$cond.else,Y,J);else if(Z.$ifNull!=null)Z.$ifNull.map(($)=>u6($,Y,J));else if(Z.$switch!=null)Z.branches.map(($)=>u6($,Y,J)),Z.default=u6(Z.default,Y,J);const X=Object.keys(Z);for(let $ of X)if(PH1.has($))Z[$]=Z[$].map((W)=>u6(W,Y,J));else if(TH1.has($))Z[$]=fH1(Z[$],Y,J);else if(jH1.has($))Z[$]=xH1(Z[$],Y,J);else if(EH1.has($))Z[$]=yU(Z[$],Y,J);else if(SH1.has($))Z[$]=u6(Z[$],Y,J);if(Z.$in)Z.$in=_H1(Z.$in,Y,J);if(Z.$size)Z.$size=yU(Z.$size,Y,J);if(Z.$round){const $=Z.$round;if(!Array.isArray($)||$.length<1||$.length>2)throw new UY("Array",$,"$round");Z.$round=$.map((W)=>yU(W,Y,J))}return kH1(Z),Z},kH1=function(Z){const Y=Object.keys(Z);for(let J=0,X=Y.length;J<X;++J)Z[Y[J]]===void 0&&delete Z[Y[J]]},yU=function(Z){if(!SG(Z))return Z;try{return OG(Z)}catch(Y){throw new UY("Number",Z)}},_H1=function(Z,Y,J){const X=Z[1];if(!CX(X))return Z;const $=Z[0],W=Y.path(X.slice(1));if(W===null){if(J===!1)return Z;else if(J==="throw")throw new og("$in");return}if(!W.$isMongooseArray)throw new Error("Path must be an array for $in");return[W.$isMongooseDocumentArray?W.$embeddedSchemaType.cast($):W.caster.cast($),X]},xH1=function(Z){if(!Array.isArray(Z)){if(!SG(Z))return Z;try{return OG(Z)}catch(Y){throw new UY("Number",Z)}}return Z.map((Y)=>{if(!SG(Y))return Y;try{return OG(Y)}catch(J){throw new UY("Number",Y)}})},fH1=function(Z,Y,J){if(!Array.isArray(Z)||Z.length!==2)throw new Error("Comparison operator must be an array of length 2");Z[0]=u6(Z[0],Y,J);const X=Z[0];if(SG(Z[1])){let $=null,W=null,G=null;if(CX(X))$=X.slice(1),W=Y.path($);else if(typeof X==="object"&&X!=null){for(let Q of Object.keys(X))if(OH1.has(Q)&&CX(X[Q]))$=X[Q].slice(1)+"."+Q,G=OG;else if(CH1.has(Q)&&CX(X[Q])){if($=X[Q].slice(1)+"."+Q,W=Y.path(X[Q].slice(1)),W!=null){if(W.$isMongooseDocumentArray)W=W.$embeddedSchemaType;else if(W.$isMongooseArray)W=W.caster}}}const K=typeof Z[1]==="object"&&Z[1]!=null&&Z[1].$literal!=null;if(W!=null)if(K)Z[1]={$literal:W.cast(Z[1].$literal)};else Z[1]=W.cast(Z[1]);else if(G!=null)if(K)try{Z[1]={$literal:G(Z[1].$literal)}}catch(Q){throw new UY(G.name.replace(/^cast/,""),Z[1],$+".$literal")}else try{Z[1]=G(Z[1])}catch(Q){throw new UY(G.name.replace(/^cast/,""),Z[1],$)}else if($!=null&&J===!0)return;else if($!=null&&J==="throw")throw new og($)}else Z[1]=u6(Z[1]);return Z},CX=function(Z){return typeof Z==="string"&&Z[0]==="$"},SG=function(Z){if(typeof Z==="string"&&Z[0]==="$")return!1;if(typeof Z==="object"&&Z!==null&&Object.keys(Z).find((Y)=>Y[0]==="$"))return Z.$literal!=null;return!0},UY=I8(),og=F5(),OG=EX(),PH1=new Set(["$and","$or"]),TH1=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),jH1=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),EH1=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),CH1=new Set(["$arrayElemAt","$first","$last"]),OH1=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),SH1=new Set(["$not"]);eg.exports=function Z(Y,J,X){if(typeof Y!=="object"||Y===null)throw new Error("`$expr` must be an object");return u6(Y,J,X)}});var gU=w((dC1,Yb)=>{var yH1=I8();Yb.exports=function Z(Y,J){if(Y==null)return Y;if(Y._id&&typeof Y._id==="string")return Y._id;if(Y.toString&&Y.toString!==Object.prototype.toString&&!Array.isArray(Y))return Y.toString();throw new yH1("string",Y,J)}});var Wb=w((cC1,$b)=>{var gH1=I8(),Jb=rW(),Xb=gU();$b.exports=function(Z,Y){if(Z==null||typeof Z!=="object")throw new gH1("$text",Z,Y);if(Z.$search!=null)Z.$search=Xb(Z.$search,Y+".$search");if(Z.$language!=null)Z.$language=Xb(Z.$language,Y+".$language");if(Z.$caseSensitive!=null)Z.$caseSensitive=Jb(Z.$caseSensitive,Y+".$castSensitive");if(Z.$diacriticSensitive!=null)Z.$diacriticSensitive=Jb(Z.$diacriticSensitive,Y+".$diacriticSensitive");return Z}});var kG=w((lC1,Gb)=>{var bH1=new Set(["$ref","$id","$db"]);Gb.exports=function Z(Y){return Y[0]==="$"&&!bH1.has(Y)}});var LY=w((pC1,Fb)=>{var mU=function(Z,Y,J){if(Array.isArray(Z))Z.forEach(function(X,$){if(Array.isArray(X)||hU(X))return mU(X,Y,J);Z[$]=Y.castForQuery(null,X,J)});else{const X=Object.keys(Z);let $=X.length;while($--){const W=X[$],G=Z[W];if(Array.isArray(G)||hU(G))mU(G,Y,J),Z[W]=G;else Z[W]=Y.castForQuery({val:G,context:J})}}},lH1=function(Z,Y,J,X){if("strictQuery"in Z)return Z.strictQuery;if("strictQuery"in Y)return Y.strictQuery;const $=X&&X.mongooseCollection&&X.mongooseCollection.conn&&X.mongooseCollection.conn.base&&X.mongooseCollection.conn.base.options;if($){if("strictQuery"in $)return $.strictQuery}return J.strictQuery};/*!
 * Module dependencies.
 */var Kb=I8(),bU=F5(),vH1=OX(),hH1=Zb(),mH1=Wb(),uH1=G0(),Qb=WG(),zb=kG(),dH1=import.meta.require("util"),hU=v4(),vU=YJ(),Hb=W1(),cH1=["Polygon","MultiPolygon"];Fb.exports=function Z(Y,J,X,$){if(Array.isArray(J))throw new Error("Query filter must be an object, got an array ",dH1.inspect(J));if(J==null)return J;if(Y!=null&&Y.discriminators!=null&&J[Y.options.discriminatorKey]!=null)Y=Qb(Y,J[Y.options.discriminatorKey])||Y;const W=Object.keys(J);let G=W.length,K,Q,z,H,F,q,V;X=X||{};while(G--)if(F=W[G],V=J[F],F==="$or"||F==="$nor"||F==="$and"){if(!Array.isArray(V))throw new Kb("Array",V,F);for(let U=0;U<V.length;++U){if(V[U]==null||typeof V[U]!=="object")throw new Kb("Object",V[U],F+"."+U);const L=V[U][Y.options.discriminatorKey];if(L==null)V[U]=Z(Y,V[U],X,$);else{const R=Qb($.schema,L);V[U]=Z(R?R:Y,V[U],X,$)}}}else if(F==="$where"){if(q=typeof V,q!=="string"&&q!=="function")throw new Error("Must have a string or function for $where");if(q==="function")J[F]=V.toString();continue}else if(F==="$expr"){V=hH1(V,Y);continue}else if(F==="$elemMatch")V=Z(Y,V,X,$);else if(F==="$text")V=mH1(V,F);else{if(!Y)continue;if(z=Y.path(F),!z){const U=F.split(".");let L=U.length;while(L--){const R=U.slice(0,L).join("."),A=U.slice(L).join("."),B=Y.path(R),M=B&&B.schema&&B.schema.options&&B.schema.options.discriminatorKey;if(B!=null&&(B.schema&&B.schema.discriminators)!=null&&M!=null&&A!==M){const D=uH1(J,R+"."+M),d=B.schema.discriminators;if(typeof D==="string"&&d[D]!=null)z=d[D].path(A);else if(D!=null&&Object.keys(D).length===1&&Array.isArray(D.$in)&&D.$in.length===1&&typeof D.$in[0]==="string"&&d[D.$in[0]]!=null)z=d[D.$in[0]].path(A)}}}if(!z){const U=F.split(".");let L=U.length,R,A,B;while(L--)if(R=U.slice(0,L).join("."),z=Y.path(R),z)break;if(z){if(z.caster&&z.caster.schema){B={},A=U.slice(L).join("."),B[A]=V;const d=Z(z.caster.schema,B,X,$)[A];if(d===void 0)delete J[F];else J[F]=d}else J[F]=V;continue}if(hU(V)){let d="";if(V.$near)d="$near";else if(V.$nearSphere)d="$nearSphere";else if(V.$within)d="$within";else if(V.$geoIntersects)d="$geoIntersects";else if(V.$geoWithin)d="$geoWithin";if(d){const O=new vH1.Number("__QueryCasting__");let E=V[d];if(V.$maxDistance!=null)V.$maxDistance=O.castForQuery(null,V.$maxDistance,$);if(V.$minDistance!=null)V.$minDistance=O.castForQuery(null,V.$minDistance,$);if(d==="$within"){const j=E.$center||E.$centerSphere||E.$box||E.$polygon;if(!j)throw new Error("Bad $within parameter: "+JSON.stringify(V));E=j}else if(d==="$near"&&typeof E.type==="string"&&Array.isArray(E.coordinates))E=E.coordinates;else if((d==="$near"||d==="$nearSphere"||d==="$geoIntersects")&&E.$geometry&&typeof E.$geometry.type==="string"&&Array.isArray(E.$geometry.coordinates)){if(E.$maxDistance!=null)E.$maxDistance=O.castForQuery(null,E.$maxDistance,$);if(E.$minDistance!=null)E.$minDistance=O.castForQuery(null,E.$minDistance,$);if(vU(E.$geometry))E.$geometry=E.$geometry.toObject({transform:!1,virtuals:!1});E=E.$geometry.coordinates}else if(d==="$geoWithin"){if(E.$geometry){if(vU(E.$geometry))E.$geometry=E.$geometry.toObject({virtuals:!1});const j=E.$geometry.type;if(cH1.indexOf(j)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+j+'", must be "Polygon" or "MultiPolygon"');E=E.$geometry.coordinates}else if(E=E.$box||E.$polygon||E.$center||E.$centerSphere,vU(E))E=E.toObject({virtuals:!1})}mU(E,O,$);continue}}if(Y.nested[F])continue;const M="strict"in X?X.strict:Y.options.strict,D=lH1(X,Y._userProvidedOptions,Y.options,$);if(X.upsert&&M){if(M==="throw")throw new bU(F);throw new bU(F,'Path "'+F+'" is not in schema, strict mode is `true`, and upsert is `true`.')}if(D==="throw")throw new bU(F,'Path "'+F+'" is not in schema and strictQuery is \'throw\'.');else if(D)delete J[F]}else if(V==null)continue;else if(Hb.isPOJO(V))if(Q=Object.keys(V).some(zb),!Q)J[F]=z.castForQuery(null,V,$);else{const U=Object.keys(V);let L,R=U.length;while(R--)if(L=U[R],H=V[L],L==="$elemMatch"){if(H&&z!=null&&z.schema!=null)Z(z.schema,H,X,$);else if(H&&z!=null&&z.$isMongooseArray)if(Hb.isPOJO(H)&&H.$not!=null)Z(Y,H,X,$);else V[L]=z.castForQuery(L,H,$)}else if(L==="$not"){if(H&&z){if(K=Object.keys(H),K.length&&zb(K[0]))for(let A in H)H[A]=z.castForQuery(A,H[A],$);else V[L]=z.castForQuery(L,H,$);continue}}else V[L]=z.castForQuery(L,H,$)}else if(Array.isArray(V)&&["Buffer","Array"].indexOf(z.instance)===-1){const U=[],L=V;for(let R of L)U.push(z.castForQuery(null,R,$));J[F]={$in:U}}else J[F]=z.castForQuery(null,V,$)}return J}});var Vb=w((iC1,qb)=>{var pH1=V6();class wY extends pH1{}var _G=h6();Object.defineProperty(wY.prototype,"min",_G);Object.defineProperty(wY.prototype,"max",_G);Object.defineProperty(wY.prototype,"enum",_G);Object.defineProperty(wY.prototype,"populate",_G);/*!
 * ignore
 */qb.exports=wY});var xG=w((nC1,Lb)=>{var nH1=function(Z){const Y=this;if(Array.isArray(Z))return Z.map(function(J){return Ub(Y.path,J)});else if(Buffer.isBuffer(Z))return Z;return Ub(Y.path,Z)},Ub=function(Z,Y){const J=Number(Y);if(isNaN(J))throw new iH1("number",Y,Z);return J};/*!
 * Module requirements.
 */var iH1=I8();/*!
 * ignore
 *//*!
 * ignore
 */Lb.exports=nH1});var uU=w((aC1,Rb)=>{var K0=function(Z,Y){A4.call(this,Z,Y,"Number")},yG=function(Z){return this.cast(Z)},rH1=function(Z){const Y=this;if(!Array.isArray(Z))return[this.cast(Z)];return Z.map(function(J){return Y.cast(J)})};/*!
 * Module requirements.
 */var gG=l1(),aH1=Vb(),A4=m0(),sH1=EX(),fG=xG(),bG=W1(),wb=A4.CastError;K0.get=A4.get;K0.set=A4.set;K0.setters=[];/*!
 * ignore
 */K0._cast=sH1;K0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */K0._defaultCaster=(Z)=>{if(typeof Z!=="number")throw new Error;return Z};K0.schemaName="Number";K0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */K0.prototype=Object.create(A4.prototype);K0.prototype.constructor=K0;K0.prototype.OptionsConstructor=aH1;/*!
 * ignore
 */K0._checkRequired=(Z)=>typeof Z==="number"||Z instanceof Number;K0.checkRequired=A4.checkRequired;K0.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&A4._isRef(this,Y,J,!0))return Y!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():K0.checkRequired())(Y)};K0.prototype.min=function(Z,Y){if(this.minValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minValidator},this);if(Z!==null&&Z!==void 0){let J=Y||gG.messages.Number.min;J=J.replace(/{MIN}/,Z),this.validators.push({validator:this.minValidator=function(X){return X==null||X>=Z},message:J,type:"min",min:Z})}return this};K0.prototype.max=function(Z,Y){if(this.maxValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxValidator},this);if(Z!==null&&Z!==void 0){let J=Y||gG.messages.Number.max;J=J.replace(/{MAX}/,Z),this.validators.push({validator:this.maxValidator=function(X){return X==null||X<=Z},message:J,type:"max",max:Z})}return this};K0.prototype.enum=function(Z,Y){if(this.enumValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.enumValidator},this);if(!Array.isArray(Z)){if(bG.isPOJO(Z)&&Z.values!=null)Y=Z.message,Z=Z.values;else if(typeof Z==="number")Z=Array.prototype.slice.call(arguments),Y=null;if(bG.isPOJO(Z))Z=Object.values(Z);Y=Y||gG.messages.Number.enum}return Y=Y==null?gG.messages.Number.enum:Y,this.enumValidator=(J)=>J==null||Z.indexOf(J)!==-1,this.validators.push({validator:this.enumValidator,message:Y,type:"enum",enumValues:Z}),this};K0.prototype.cast=function(Z,Y,J){if(typeof Z!=="number"&&A4._isRef(this,Z,Y,J)){if(Z==null||bG.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}const X=Z&&typeof Z._id!=="undefined"?Z._id:Z;let $;if(typeof this._castFunction==="function")$=this._castFunction;else if(typeof this.constructor.cast==="function")$=this.constructor.cast();else $=K0.cast();try{return $(X)}catch(W){throw new wb("Number",X,this.path,W,this)}};/*!
 * ignore
 */K0.prototype.$conditionalHandlers=bG.options(A4.prototype.$conditionalHandlers,{$bitsAllClear:fG,$bitsAnyClear:fG,$bitsAllSet:fG,$bitsAnySet:fG,$gt:yG,$gte:yG,$lt:yG,$lte:yG,$mod:rH1});K0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new wb("number",Y,this.path,null,this);return X.call(this,Y,J)}return Y=this.applySetters(Y,J),Y};/*!
 * Module exports.
 */Rb.exports=K0});var SX=w((oH1)=>{var Mb=function(Z){return tH1.cast()(Z)},Ab=function(Z,Y){Z.forEach(function(J,X){if(Array.isArray(J))Ab(J,Y);else Z[X]=Mb.call(Y,J)})};/*!
 * Module requirements.
 */var tH1=uU();/*!
 * ignore
 */oH1.castToNumber=Mb;oH1.castArraysOfNumbers=Ab;/*!
 * ignore
 */});var lU=w(($F1)=>{var YF1=function(Z){const Y=vG();if(Array.isArray(Z))return Bb(Z,this),Z;if(cU(this,Z),Z&&Z.$geometry)return dU(Z,this);if(!Array.isArray(Z))throw new TypeError("$near must be either an array or an object with a $geometry property");return Y.prototype.castForQuery.call(this,null,Z)},dU=function(Z,Y){switch(Z.$geometry.type){case"Polygon":case"LineString":case"Point":Bb(Z.$geometry.coordinates,Y);break;default:break}return cU(Y,Z),Z},JF1=function(Z){if(cU(this,Z),Z.$box||Z.$polygon){const Y=Z.$box?"$box":"$polygon";Z[Y].forEach((J)=>{if(!Array.isArray(J)){const X="Invalid $within $box argument. Expected an array, received "+J;throw new TypeError(X)}J.forEach((X,$)=>{J[$]=kX.call(this,X)})})}else if(Z.$center||Z.$centerSphere){const Y=Z.$center?"$center":"$centerSphere";Z[Y].forEach((J,X)=>{if(Array.isArray(J))J.forEach(($,W)=>{J[W]=kX.call(this,$)});else Z[Y][X]=kX.call(this,J)})}else if(Z.$geometry)dU(Z,this);return Z},XF1=function(Z){if(!Z.$geometry)return;return dU(Z,this),Z},cU=function(Z,Y){if(Y.$maxDistance)Y.$maxDistance=kX.call(Z,Y.$maxDistance);if(Y.$minDistance)Y.$minDistance=kX.call(Z,Y.$minDistance)};/*!
 * Module requirements.
 */var Bb=SX().castArraysOfNumbers,kX=SX().castToNumber;/*!
 * ignore
 */$F1.cast$geoIntersects=XF1;$F1.cast$near=YF1;$F1.cast$within=JF1});var vG=w((tC1,Db)=>{var g1=function(Z,Y,J,X){hG||(hG=VY().Embedded);let $="type";if(X&&X.typeKey)$=X.typeKey;if(this.schemaOptions=X,Y){let K={};if(S9.isPOJO(Y))if(Y[$])K=VF1(Y),delete K[$],Y=Y[$];else Y=uG;if(J!=null&&J.ref!=null&&K.ref==null)K.ref=J.ref;if(Y===Object)Y=uG;const Q=typeof Y==="string"?Y:S9.getFunctionName(Y),z=OX(),H=z.hasOwnProperty(Q)?z[Q]:Y;if(this.casterConstructor=H,this.casterConstructor instanceof g1)this.casterConstructor[Nb]=!0;if(typeof H==="function"&&!H.$isArraySubdocument&&!H.$isSchemaMap){const F=this.caster instanceof hG?null:Z;this.caster=new H(F,K)}else if(this.caster=H,!(this.caster instanceof hG))this.caster.path=Z;this.$embeddedSchemaType=this.caster}this.$isMongooseArray=!0,d6.call(this,Z,J,"Array");let W,G;if(this.defaultValue!=null)W=this.defaultValue,G=typeof W==="function";if(!("defaultValue"in this)||this.defaultValue!==void 0){const K=function(){return G?W.call(this):W!=null?[].concat(W):[]};K.$runBeforeSetters=!G,this.default(K)}},MF1=function(Z,Y){if(!Array.isArray(Z))Z=[Z];return Z=Z.map((J)=>{if(!S9.isObject(J))return J;if(J.$elemMatch!=null)return{$elemMatch:xX(this.casterConstructor.schema,J.$elemMatch,null,this&&this.$$context)};const X={};return X[this.path]=J,xX(this.casterConstructor.schema,X,null,this&&this.$$context)[this.path]},this),this.castForQuery(null,Z,Y)},AF1=function(Z,Y){const J=Object.keys(Z),X=J.length;for(let K=0;K<X;++K){const Q=J[K],z=Z[Q];if(UF1(Q)&&z!=null)Z[Q]=this.castForQuery(Q,z,Y)}const $=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,W=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if($!=null&&Z[$]!=null&&W[Z[$]]!=null)return xX(W[Z[$]],Z,null,this&&this.$$context);const G=this.casterConstructor.schema??Y.schema;return xX(G,Z,null,this&&this.$$context)},iU=function(Z){return function Y(J){if(!Array.isArray(J))throw new TypeError("conditional "+Z+" requires an array");const X=[];for(let $ of J)X.push(xX(this.casterConstructor.schema,$,null,this&&this.$$context));return X}};/*!
 * Module dependencies.
 */var QF1=tW(),zF1=SV(),HF1=J0(),FF1=ng(),d6=m0(),mG=d6.CastError,uG=P9(),qF1=sg(),xX=LY(),VF1=V0(),UF1=kG(),dG=import.meta.require("util"),S9=W1(),LF1=SX().castToNumber,pU=lU(),wF1=A7(),_X,hG,Nb=Symbol("mongoose#isNestedArray"),RF1=Object.freeze({});g1.schemaName="Array";g1.options={castNonArrays:!0};/*!
 * ignore
 */g1.defaultOptions={};g1.set=d6.set;g1.setters=[];g1.get=d6.get;/*!
 * Inherits from SchemaType.
 */g1.prototype=Object.create(d6.prototype);g1.prototype.constructor=g1;g1.prototype.OptionsConstructor=FF1;/*!
 * ignore
 */g1._checkRequired=d6.prototype.checkRequired;g1.checkRequired=d6.checkRequired;g1.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&d6._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():g1.checkRequired())(Y)};g1.prototype.enum=function(){let Z=this;while(!0){const J=Z&&Z.caster&&Z.caster.instance;if(J==="Array"){Z=Z.caster;continue}if(J!=="String"&&J!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+J);break}let Y=arguments;if(!Array.isArray(arguments)&&S9.isObject(arguments))Y=S9.object.vals(Y);return Z.caster.enum.apply(Z.caster,Y),this};g1.prototype.applyGetters=function(Z,Y){if(Y!=null&&Y.$__!=null&&Y.$populated(this.path))return Z;return d6.prototype.applyGetters.call(this,Z,Y)};g1.prototype._applySetters=function(Z,Y,J,X){if(this.casterConstructor.$isMongooseArray&&g1.options.castNonArrays&&!this[Nb]){let $=0,W=this;while(W!=null&&W.$isMongooseArray&&!W.$isMongooseDocumentArray)++$,W=W.casterConstructor;if(Z!=null&&Z.length!==0){const G=qF1(Z);if(G.min===G.max&&G.max<$&&G.containsNonArrayItem)for(let K=G.max;K<$;++K)Z=[Z]}}return d6.prototype._applySetters.call(this,Z,Y,J,X)};g1.prototype.cast=function(Z,Y,J,X,$){_X||(_X=VY().Array);let W,G;if(Array.isArray(Z)){if(!Z.length&&Y){const V=Y.schema.indexedPaths(),U=this.path;for(W=0,G=V.length;W<G;++W){const R=V[W][0][U];if(R==="2dsphere"||R==="2d")return}const L=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(L!=null){for(W=0,G=V.length;W<G;++W)if(V[W][0][L]==="2dsphere")return}}$=$||RF1;let z=S9.isMongooseArray(Z)?Z.__array:Z,H=$.path||this.path;if($.arrayPathIndex!=null)H+="."+$.arrayPathIndex;if(Z=_X(z,H,Y,this),z=Z.__array,J&&Y!=null&&Y.$__!=null&&Y.$populated(this.path))return Z;const F=this.caster,q=F.$isMongooseArray;if(F&&this.casterConstructor!==uG)try{const V=z.length;for(W=0;W<V;W++){const U={};if(q){if($.arrayPath!=null)U.arrayPathIndex=W;else if(F._arrayParentPath!=null)U.arrayPathIndex=W}z[W]=F.applySetters(z[W],Y,J,void 0,U)}}catch(V){throw new mG("["+V.kind+"]",dG.inspect(Z),this.path+"."+W,V,this)}return Z}const K=this.options.castNonArrays!=null?this.options.castNonArrays:g1.options.castNonArrays;if(J||K){if(!!Y&&!!J)Y.markModified(this.path);return this.cast([Z],Y,J)}throw new mG("Array",dG.inspect(Z),this.path,null,this)};/*!
 * ignore
 */g1.prototype._castForPopulate=function Z(Y,J){if(_X||(_X=VY().Array),Array.isArray(Y)){let X;const $=Y.__array?Y.__array:Y,W=$.length,G=this.caster;if(G&&this.casterConstructor!==uG)try{for(X=0;X<W;X++){const K={};if(G.$isMongooseArray&&G._arrayParentPath!=null)K.arrayPathIndex=X;$[X]=G.cast($[X],J,!1,void 0,K)}}catch(K){throw new mG("["+K.kind+"]",dG.inspect(Y),this.path+"."+X,K,this)}return Y}throw new mG("Array",dG.inspect(Y),this.path,null,this)};g1.prototype.$toObject=g1.prototype.toObject;/*!
 * ignore
 */g1.prototype.discriminator=function(...Z){let Y=this;while(Y.$isMongooseArray&&!Y.$isMongooseDocumentArray)if(Y=Y.casterConstructor,Y==null||typeof Y==="function")throw new HF1("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return Y.discriminator(...Z)};/*!
 * ignore
 */g1.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,this.caster,Z,this.schemaOptions);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;return Y};g1.prototype._castForQuery=function(Z,Y){let J=this.casterConstructor;if(Z&&J.discriminators&&J.schema&&J.schema.options&&J.schema.options.discriminatorKey)if(typeof Z[J.schema.options.discriminatorKey]==="string"&&J.discriminators[Z[J.schema.options.discriminatorKey]])J=J.discriminators[Z[J.schema.options.discriminatorKey]];else{const Q=wF1(J.discriminators,Z[J.schema.options.discriminatorKey]);if(Q)J=Q}const X=this.casterConstructor.prototype,$=X&&X.castForQuery,W=X&&X.cast,G=J.castForQuery,K=this.caster;if(Array.isArray(Z))this.setters.reverse().forEach((Q)=>{Z=Q.call(this,Z,this)}),Z=Z.map(function(Q){if(S9.isObject(Q)&&Q.$elemMatch)return Q;if($)return Q=$.call(K,null,Q,Y),Q;else if(W)return Q=W.call(K,Q),Q;else if(G)return Q=G.call(K,null,Q,Y),Q;if(Q!=null)return Q=new J(Q),Q;return Q});else if($)Z=$.call(K,null,Z,Y);else if(W)Z=W.call(K,Z);else if(G)Z=G.call(K,null,Z,Y);else if(Z!=null)Z=new J(Z);return Z};g1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with Array.");return X.call(this,Y,J)}else return this._castForQuery(Y,J)};var Z0=g1.prototype.$conditionalHandlers={};Z0.$all=MF1;Z0.$options=String;Z0.$elemMatch=AF1;Z0.$geoIntersects=pU.cast$geoIntersects;Z0.$or=iU("$or");Z0.$and=iU("$and");Z0.$nor=iU("$nor");Z0.$near=Z0.$nearSphere=pU.cast$near;Z0.$within=Z0.$geoWithin=pU.cast$within;Z0.$size=Z0.$minDistance=Z0.$maxDistance=LF1;Z0.$exists=QF1;Z0.$type=zF1;Z0.$eq=Z0.$gt=Z0.$gte=Z0.$lt=Z0.$lte=Z0.$not=Z0.$regex=Z0.$ne=g1.prototype._castForQuery;Z0.$nin=d6.prototype.$conditionalHandlers.$nin;Z0.$in=d6.prototype.$conditionalHandlers.$in;/*!
 * Module exports.
 */Db.exports=g1});var Pb=w((oC1,Ib)=>{var BF1=import.meta.require("assert"),{Long:NF1}=I6();Ib.exports=function Z(Y){if(Y==null)return Y;if(Y==="")return null;if(typeof Y==="bigint")return Y;if(Y instanceof NF1)return Y.toBigInt();if(typeof Y==="string"||typeof Y==="number")return BigInt(Y);BF1.ok(!1)}});var jb=w((eC1,Tb)=>{var A0=function(Z,Y){RY.call(this,Z,Y,"BigInt")},cG=function(Z,Y){return this.castForQuery(null,Z,Y)};/*!
 * Module dependencies.
 */var DF1=I8(),RY=m0(),IF1=Pb(),PF1=W1();A0.schemaName="BigInt";A0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */A0.prototype=Object.create(RY.prototype);A0.prototype.constructor=A0;/*!
 * ignore
 */A0._cast=IF1;A0.set=RY.set;A0.setters=[];A0.get=RY.get;A0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */A0._checkRequired=(Z)=>Z!=null;A0.checkRequired=RY.checkRequired;A0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};A0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=A0.cast();try{return Y(Z)}catch(J){throw new DF1("BigInt",Z,this.path,J,this)}};/*!
 * ignore
 */A0.$conditionalHandlers=PF1.options(RY.prototype.$conditionalHandlers,{$gt:cG,$gte:cG,$lt:cG,$lte:cG});/*!
 * ignore
 */A0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=A0.$conditionalHandlers[Z],X)return X.call(this,Y);return this.applySetters(null,Y,J)}return this.applySetters(Y,J)};A0.prototype._castNullish=function Z(Y){if(typeof Y==="undefined")return Y;if((typeof this.constructor.cast==="function"?this.constructor.cast():A0.cast())==null)return Y;return Y};/*!
 * Module exports.
 */Tb.exports=A0});var Cb=w((ZO1,Eb)=>{var Q0=function(Z,Y){MY.call(this,Z,Y,"Boolean")};/*!
 * Module dependencies.
 */var TF1=I8(),MY=m0(),fX=rW(),jF1=W1();Q0.schemaName="Boolean";Q0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */Q0.prototype=Object.create(MY.prototype);Q0.prototype.constructor=Q0;/*!
 * ignore
 */Q0._cast=fX;Q0.set=MY.set;Q0.setters=[];Q0.get=MY.get;Q0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */Q0._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="boolean")throw new Error;return Z};/*!
 * ignore
 */Q0._checkRequired=(Z)=>Z===!0||Z===!1;Q0.checkRequired=MY.checkRequired;Q0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};Object.defineProperty(Q0,"convertToTrue",{get:()=>fX.convertToTrue,set:(Z)=>{fX.convertToTrue=Z}});Object.defineProperty(Q0,"convertToFalse",{get:()=>fX.convertToFalse,set:(Z)=>{fX.convertToFalse=Z}});Q0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=Q0.cast();try{return Y(Z)}catch(J){throw new TF1("Boolean",Z,this.path,J,this)}};Q0.$conditionalHandlers=jF1.options(MY.prototype.$conditionalHandlers,{});Q0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=Q0.$conditionalHandlers[Z],X)return X.call(this,Y);return this.applySetters(null,Y,J)}return this.applySetters(Y,J)};Q0.prototype._castNullish=function Z(Y){if(typeof Y==="undefined")return Y;const J=typeof this.constructor.cast==="function"?this.constructor.cast():Q0.cast();if(J==null)return Y;if(J.convertToFalse instanceof Set&&J.convertToFalse.has(Y))return!1;if(J.convertToTrue instanceof Set&&J.convertToTrue.has(Y))return!0;return Y};/*!
 * Module exports.
 */Eb.exports=Q0});var Sb=w((YO1,Ob)=>{var EF1=V6();class nU extends EF1{}var CF1=h6();Object.defineProperty(nU.prototype,"subtype",CF1);/*!
 * ignore
 */Ob.exports=nU});var fb=w((JO1,xb)=>{var Y8=function(Z,Y){B4.call(this,Z,Y,"Buffer")},pG=function(Z,Y){return this.castForQuery(null,Z,Y)};/*!
 * Module dependencies.
 */var AY=TX(),OF1=Sb(),B4=m0(),lG=xG(),_b=W1(),kb=AY.Binary,aU=B4.CastError;Y8.schemaName="Buffer";Y8.defaultOptions={};/*!
 * Inherits from SchemaType.
 */Y8.prototype=Object.create(B4.prototype);Y8.prototype.constructor=Y8;Y8.prototype.OptionsConstructor=OF1;/*!
 * ignore
 */Y8._checkRequired=(Z)=>!!(Z&&Z.length);Y8.set=B4.set;Y8.setters=[];Y8.get=B4.get;Y8.checkRequired=B4.checkRequired;Y8.prototype.checkRequired=function(Z,Y){if(B4._isRef(this,Z,Y,!0))return!!Z;return this.constructor._checkRequired(Z)};Y8.prototype.cast=function(Z,Y,J){let X;if(B4._isRef(this,Z,Y,J)){if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new AY(Z,[this.path,Y]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof kb){if(X=new AY(Z.value(!0),[this.path,Y]),typeof Z.sub_type!=="number")throw new aU("Buffer",Z,this.path,null,this);return X._subtype=Z.sub_type,X}if(Z==null||_b.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}if(Z&&Z._id)Z=Z._id;if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new AY(Z,[this.path,Y]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof kb){if(X=new AY(Z.value(!0),[this.path,Y]),typeof Z.sub_type!=="number")throw new aU("Buffer",Z,this.path,null,this);return X._subtype=Z.sub_type,X}if(Z===null)return Z;const $=typeof Z;if($==="string"||$==="number"||Array.isArray(Z)||$==="object"&&Z.type==="Buffer"&&Array.isArray(Z.data)){if($==="number")Z=[Z];if(X=new AY(Z,[this.path,Y]),this.options.subtype!=null)X._subtype=this.options.subtype;return X}throw new aU("Buffer",Z,this.path,null,this)};Y8.prototype.subtype=function(Z){return this.options.subtype=Z,this};/*!
 * ignore
 */Y8.prototype.$conditionalHandlers=_b.options(B4.prototype.$conditionalHandlers,{$bitsAllClear:lG,$bitsAnyClear:lG,$bitsAllSet:lG,$bitsAnySet:lG,$gt:pG,$gte:pG,$lt:pG,$lte:pG});Y8.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with Buffer.");return X.call(this,Y)}const $=this.applySetters(Y,J);return $?$.toObject({transform:!1,virtuals:!1}):$};/*!
 * Module exports.
 */xb.exports=Y8});var gb=w((XO1,yb)=>{var SF1=V6();class yX extends SF1{}var sU=h6();Object.defineProperty(yX.prototype,"min",sU);Object.defineProperty(yX.prototype,"max",sU);Object.defineProperty(yX.prototype,"expires",sU);/*!
 * ignore
 */yb.exports=yX});var vb=w(($O1,bb)=>{var rU=import.meta.require("assert");bb.exports=function Z(Y){if(Y==null||Y==="")return null;if(Y instanceof Date)return rU.ok(!isNaN(Y.valueOf())),Y;let J;if(rU.ok(typeof Y!=="boolean"),Y instanceof Number||typeof Y==="number")J=new Date(Y);else if(typeof Y==="string"&&!isNaN(Number(Y))&&(Number(Y)>=275761||Number(Y)<-271820))J=new Date(Number(Y));else if(typeof Y.valueOf==="function")J=new Date(Y.valueOf());else J=new Date(Y);if(!isNaN(J.valueOf()))return J;rU.ok(!1)}});var db=w((WO1,ub)=>{var z0=function(Z,Y){R5.call(this,Z,Y,"Date")},iG=function(Z){return this.cast(Z)};/*!
 * Module requirements.
 */var hb=l1(),kF1=gb(),R5=m0(),_F1=vb(),xF1=c8(),mb=W1(),fF1=R5.CastError;z0.schemaName="Date";z0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */z0.prototype=Object.create(R5.prototype);z0.prototype.constructor=z0;z0.prototype.OptionsConstructor=kF1;/*!
 * ignore
 */z0._cast=_F1;z0.set=R5.set;z0.setters=[];z0.get=R5.get;z0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */z0._defaultCaster=(Z)=>{if(Z!=null&&!(Z instanceof Date))throw new Error;return Z};z0.prototype.expires=function(Z){if(xF1(this._index)!=="Object")this._index={};return this._index.expires=Z,mb.expires(this._index),this};/*!
 * ignore
 */z0._checkRequired=(Z)=>Z instanceof Date;z0.checkRequired=R5.checkRequired;z0.prototype.checkRequired=function(Z,Y){if(typeof Z==="object"&&R5._isRef(this,Z,Y,!0))return Z!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():z0.checkRequired())(Z)};z0.prototype.min=function(Z,Y){if(this.minValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minValidator},this);if(Z){let J=Y||hb.messages.Date.min;if(typeof J==="string")J=J.replace(/{MIN}/,Z===Date.now?"Date.now()":Z.toString());const X=this;this.validators.push({validator:this.minValidator=function($){let W=Z;if(typeof Z==="function"&&Z!==Date.now)W=W.call(this);const G=W===Date.now?W():X.cast(W);return $===null||$.valueOf()>=G.valueOf()},message:J,type:"min",min:Z})}return this};z0.prototype.max=function(Z,Y){if(this.maxValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxValidator},this);if(Z){let J=Y||hb.messages.Date.max;if(typeof J==="string")J=J.replace(/{MAX}/,Z===Date.now?"Date.now()":Z.toString());const X=this;this.validators.push({validator:this.maxValidator=function($){let W=Z;if(typeof W==="function"&&W!==Date.now)W=W.call(this);const G=W===Date.now?W():X.cast(W);return $===null||$.valueOf()<=G.valueOf()},message:J,type:"max",max:Z})}return this};z0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=z0.cast();try{return Y(Z)}catch(J){throw new fF1("date",Z,this.path,J,this)}};z0.prototype.$conditionalHandlers=mb.options(R5.prototype.$conditionalHandlers,{$gt:iG,$gte:iG,$lt:iG,$lte:iG});z0.prototype.castForQuery=function(Z,Y,J){if(Z==null)return this.applySetters(Y,J);const X=this.$conditionalHandlers[Z];if(!X)throw new Error("Can\'t use "+Z+" with Date.");return X.call(this,Y)};/*!
 * Module exports.
 */ub.exports=z0});var lb=w((GO1,cb)=>{var k9=s3(),yF1=import.meta.require("assert");cb.exports=function Z(Y){if(Y==null)return Y;if(typeof Y==="object"&&typeof Y.$numberDecimal==="string")return k9.fromString(Y.$numberDecimal);if(Y instanceof k9)return Y;if(typeof Y==="string")return k9.fromString(Y);if(typeof Buffer==="function"&&Buffer.isBuffer(Y))return new k9(Y);if(typeof Uint8Array==="function"&&Y instanceof Uint8Array)return new k9(Y);if(typeof Y==="number")return k9.fromString(String(Y));if(typeof Y.valueOf==="function"&&typeof Y.valueOf()==="string")return k9.fromString(Y.valueOf());yF1.ok(!1)}});var ib=w((KO1,pb)=>{var x0=function(Z,Y){N4.call(this,Z,Y,"Decimal128")},nG=function(Z){return this.cast(Z)};/*!
 * Module dependencies.
 */var N4=m0(),gF1=N4.CastError,bF1=lb(),vF1=W1(),tU=f8();x0.schemaName="Decimal128";x0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */x0.prototype=Object.create(N4.prototype);x0.prototype.constructor=x0;/*!
 * ignore
 */x0._cast=bF1;x0.set=N4.set;x0.setters=[];x0.get=N4.get;x0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */x0._defaultCaster=(Z)=>{if(Z!=null&&!tU(Z,"Decimal128"))throw new Error;return Z};/*!
 * ignore
 */x0._checkRequired=(Z)=>tU(Z,"Decimal128");x0.checkRequired=N4.checkRequired;x0.prototype.checkRequired=function Z(Y,J){if(N4._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():x0.checkRequired())(Y)};x0.prototype.cast=function(Z,Y,J){if(N4._isRef(this,Z,Y,J)){if(tU(Z,"Decimal128"))return Z;return this._castRef(Z,Y,J)}let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=x0.cast();try{return X(Z)}catch($){throw new gF1("Decimal128",Z,this.path,$,this)}};/*!
 * ignore
 */x0.prototype.$conditionalHandlers=vF1.options(N4.prototype.$conditionalHandlers,{$gt:nG,$gte:nG,$lt:nG,$lte:nG});/*!
 * Module exports.
 */pb.exports=x0});var ab=w((QO1,nb)=>{var hF1=V6();class oU extends hF1{}var mF1=h6();Object.defineProperty(oU.prototype,"_id",mF1);nb.exports=oU});var eU=w((zO1,sb)=>{sb.exports=function Z(Y,J,X){if(Y.length===0)return X();let $=Y.length,W=null;for(let G of Y)J(G,function(K){if(W!=null)return;if(K!=null)return W=K,X(W);if(--$<=0)return X()})}});var ob=w((HO1,tb)=>{var rb=eU();/*!
 * ignore
 */tb.exports=function Z(Y){Y.s.hooks.pre("save",!1,function X($){if(this.$isSubdocument){$();return}const W=this,G=this.$getAllSubdocs();if(!G.length){$();return}rb(G,function(K,Q){K.$__schema.s.hooks.execPre("save",K,function(z){Q(z)})},function(K){if(K)return W.$__schema.s.hooks.execPost("save:error",W,[W],{error:K},function(Q){$(Q)});$()})},null,!0),Y.s.hooks.post("save",function X($,W){if(this.$isSubdocument){W();return}const G=this,K=this.$getAllSubdocs();if(!K.length){W();return}rb(K,function(Q,z){Q.$__schema.s.hooks.execPost("save",Q,[Q],function(H){z(H)})},function(Q){if(Q)return G.$__schema.s.hooks.execPost("save:error",G,[G],{error:Q},function(z){W(z)});W()})},null,!0)}});var Yv=w((FO1,YL)=>{var Zv=function(){let Z,Y;if(this.$__.shardval){Z=Object.keys(this.$__.shardval),Y=Z.length,this.$where=this.$where||{};for(let J=0;J<Y;++J)this.$where[Z[J]]=this.$__.shardval[Z[J]]}},ZL=function(){const Z=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(!eb.isPOJO(Z))return;const Y=this.$__.shardval={},J=Object.keys(Z),X=J.length;let $;for(let W=0;W<X;++W)if($=this.$__getValue(J[W]),$==null)Y[J[W]]=$;else if(eb.isMongooseObject($))Y[J[W]]=$.toObject({depopulate:!0,_isNested:!0});else if($ instanceof Date||$[uF1])Y[J[W]]=$;else if(typeof $.valueOf==="function")Y[J[W]]=$.valueOf();else Y[J[W]]=$},uF1=Z1().objectIdSymbol,eb=W1();/*!
 * ignore
 */YL.exports=function Z(Y){Y.post("init",function J(){return ZL.call(this),this}),Y.pre("save",function J(X){Zv.call(this),X()}),Y.pre("remove",function J(X){Zv.call(this),X()}),Y.post("save",function J(){ZL.call(this)})};/*!
 * ignore
 *//*!
 * ignore
 */YL.exports.storeShard=ZL;/*!
 * ignore
 */});var Wv=w((qO1,$v)=>{var Jv=function(Z,Y){const J=new Map;Y=Y||new Map;const X=Object.keys(Z.$__.activePaths.init).concat(Object.keys(Z.$__.activePaths.modify));for(let W of X){const G=Z.$__getValue(W);if(G!=null&&Array.isArray(G)&&dF1.isMongooseDocumentArray(G)&&G.length&&G[BY]!=null&&Object.keys(G[BY]).length!==0){const K=Y.get(W)||{};J.set(W,Xv(K,G[BY]))}}const $=Z.$__dirty();for(let W of $){const{path:G,value:K}=W;if(K!=null&&K[BY]!=null&&Object.keys(K[BY]).length!==0){const Q=Y.get(G)||{};J.set(G,Xv(Q,K[BY]))}}return J},Xv=function(Z,Y){if(Z=Z||{},Y.$pullAll!=null)Z.$pullAll=(Z.$pullAll||[]).concat(Y.$pullAll);if(Y.$push!=null)Z.$push=Z.$push||{},Z.$push.$each=(Z.$push.$each||[]).concat(Y.$push.$each);if(Y.$addToSet!=null)Z.$addToSet=(Z.$addToSet||[]).concat(Y.$addToSet);if(Y.$set!=null)Z.$set=Object.assign(Z.$set||{},Y.$set);return Z},BY=Z1().arrayAtomicsSymbol,aG=Z1().sessionNewDocuments,dF1=W1();$v.exports=function Z(Y){Y.pre("save",function J(){const X=this.$session();if(X==null)return;if(X.transaction==null||X[aG]==null)return;if(!X[aG].has(this)){const $={};if(this.isNew)$.isNew=!0;if(this.$__schema.options.versionKey)$.versionKey=this.get(this.$__schema.options.versionKey);$.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),$.atomics=Jv(this),X[aG].set(this,$)}else{const $=X[aG].get(this);for(let W of Object.keys(this.$__.activePaths.getStatePaths("modify")))$.modifiedPaths.add(W);$.atomics=Jv(this,$.atomics)}})}});var Kv=w((VO1,Gv)=>{/*!
 * ignore
 */Gv.exports=function Z(Y){Y.pre("save",!1,function X($,W){const G=this;if(this.$isSubdocument)return $();const K=W&&typeof W==="object"&&"validateBeforeSave"in W;let Q;if(K)Q=!!W.validateBeforeSave;else Q=this.$__schema.options.validateBeforeSave;if(Q){const H=W&&typeof W==="object"&&"validateModifiedOnly"in W?{validateModifiedOnly:W.validateModifiedOnly}:null;this.$validate(H).then(()=>{this.$op="save",$()},(F)=>{G.$__schema.s.hooks.execPost("save:error",G,[G],{error:F},function(q){G.$op="save",$(q)})})}else $()},null,!0)}});var JL=w((cF1)=>{cF1.saveSubdocs=ob();cF1.sharding=Yv();cF1.trackTransaction=Wv();cF1.validateBeforeSave=Kv()});var Hv=w((LO1,zv)=>{var Qv=JL();zv.exports=function Z(Y){for(let J of Object.values(Qv))J(Y,{deduplicate:!0});Y.plugins=Object.values(Qv).map((J)=>({fn:J,opts:{deduplicate:!0}})).concat(Y.plugins)}});var Vv=w((wO1,qv)=>{var aF1=ZG(),sF1=p5(),rF1=f8(),tF1=Z4(),Fv=v4();qv.exports=function Z(Y,J,X,$){const W=Object.keys(J);let G=0;const K=W.length;let Q;if(X=X||"",$=$||new WeakSet,$.has(J))return;$.add(J);while(G<K){if(Q=W[G++],!X){if(Q==="discriminators"||Q==="base"||Q==="_applyDiscriminators"||Q==="_userProvidedOptions"||Q==="options"||Q==="tree")continue}if(X==="tree"&&J!=null&&J.instanceOfSchema)continue;if(sF1.has(Q))continue;if(Y[Q]==null)Y[Q]=J[Q];else if(Fv(J[Q])){if(!Fv(Y[Q]))Y[Q]={};if(J[Q]!=null){if(J[Q].$isSingleNested&&Y[Q].$isMongooseDocumentArray||J[Q].$isMongooseDocumentArray&&Y[Q].$isSingleNested||J[Q].$isMongooseDocumentArrayElement&&Y[Q].$isMongooseDocumentArrayElement)continue;else if(J[Q].instanceOfSchema){if(Y[Q].instanceOfSchema)aF1(Y[Q],J[Q].clone(),!0);else Y[Q]=J[Q].clone();continue}else if(rF1(J[Q],"ObjectId")){Y[Q]=new tF1(J[Q]);continue}}Z(Y[Q],J[Q],X?X+"."+Q:Q,$)}}if(J!=null&&J.instanceOfSchema)Y.tree=Object.assign({},J.tree,Y.tree)}});var sG=w((RO1,wv)=>{var Uv=P9(),oF1=Hv(),eF1=V0(),Zq1=$G().defineKey,Yq1=G0(),XL=W1(),Jq1=Vv(),Lv={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};/*!
 * ignore
 */wv.exports=function Z(Y,J,X,$,W,G){if(!(X&&X.instanceOfSchema))throw new Error("You must pass a valid discriminator Schema");if(G=G==null?!0:G,Y.schema.discriminatorMapping&&!Y.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+J+'" can only be a discriminator of the root model');if(W){const F=Yq1(Y.base,"options.applyPluginsToDiscriminators",!1)||!G;Y.base._applyPlugins(X,{skipTopLevel:!F})}else if(!G)oF1(X);const K=Y.schema.options.discriminatorKey,Q=Y.schema.path(K);if(Q!=null){if(!XL.hasUserDefinedProperty(Q.options,"select"))Q.options.select=!0;Q.options.$skipDiscriminatorCheck=!0}else{const F={};F[K]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},F[K][Y.schema.options.typeKey]=String,Y.schema.add(F),Zq1({prop:K,prototype:Y.prototype,options:Y.schema.options})}if(X.path(K)&&X.path(K).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+J+'" cannot have field with name "'+K+'"');let z=J;if(typeof $==="string"&&$.length||$!=null)z=$;function H(F,q){if(F._baseSchema=q,q.paths._id&&q.paths._id.options&&!q.paths._id.options.auto)F.remove("_id");const V=Object.keys(q.paths),U=[];for(let O of V){if(F.nested[O]){U.push(O);continue}if(O.indexOf(".")===-1)continue;const E=O.split(".").slice(0,-1);let j="";for(let n of E)if(j+=(j.length?".":"")+n,F.paths[j]instanceof Uv||F.singleNestedPaths[j]instanceof Uv)U.push(O)}Jq1(F,q);for(let O of U)delete F.paths[O];F.childSchemas.forEach((O)=>{O.model.prototype.$__setSchema(O.schema)});const L={};if(L[K]={default:z,select:!0,set:function(O){if(O===z||Array.isArray(z)&&XL.deepEqual(O,z))return z;throw new Error('Can\'t set discriminator key "'+K+'"')},$skipDiscriminatorCheck:!0},L[K][F.options.typeKey]=Q?Q.options[F.options.typeKey]:String,F.add(L),F.discriminatorMapping={key:K,value:z,isRoot:!1},q.options.collection)F.options.collection=q.options.collection;const R=F.options.toJSON,A=F.options.toObject,B=F.options._id,M=F.options.id,D=Object.keys(F.options);F.options.discriminatorKey=q.options.discriminatorKey;const d=F._userProvidedOptions;for(let O of D)if(!Lv[O]){if(O in d&&!XL.deepEqual(F.options[O],q.options[O]))throw new Error("Can\'t customize discriminator option "+O+" (can only modify "+Object.keys(Lv).join(", ")+")")}F.options=eF1(q.options);for(let O of Object.keys(d))F.options[O]=d[O];if(R)F.options.toJSON=R;if(A)F.options.toObject=A;if(typeof B!=="undefined")F.options._id=B;if(F.options.id=M,G)F.s.hooks=Y.schema.s.hooks.merge(F.s.hooks);if(W)F.plugins=Array.prototype.slice.call(q.plugins);F.callQueue=q.callQueue.concat(F.callQueue),delete F._requiredpaths}if(H(X,Y.schema),!Y.discriminators)Y.discriminators={};if(!Y.schema.discriminatorMapping)Y.schema.discriminatorMapping={key:K,value:null,isRoot:!0};if(!Y.schema.discriminators)Y.schema.discriminators={};if(Y.schema.discriminators[J]=X,Y.discriminators[J]&&!X.options.overwriteModels)throw new Error('Discriminator with name "'+J+'" already exists');return X}});var rG=w((MO1,Rv)=>{var Xq1=A7();Rv.exports=function Z(Y,J,X){const $=Y.schema.options.discriminatorKey;let W=J!=null&&J[$];if(W==null)W=X;if(Y.discriminators&&W!=null)if(Y.discriminators[W])Y=Y.discriminators[W];else{const G=Xq1(Y.discriminators,W);if(G)Y=G}return Y}});var $L=w((AO1,Mv)=>{var $q1=DU();Mv.exports=function Z(Y,J){if(J==null||J._id==null)return Y;if(Y=Y.clone(),!J._id)Y.remove("_id"),Y.options._id=!1;else if(!Y.paths._id)$q1(Y),Y.options._id=!0;return Y}});var GL=w((BO1,Av)=>{/*!
 * Module dependencies.
 */var Wq1=l1();class WL extends Wq1{constructor(Z,Y){const J=`Cannot create use schema for property "${Z}" because the schema has the ${Y} option enabled.`;super(J)}}Object.defineProperty(WL.prototype,"name",{value:"InvalidSchemaOptionError"});/*!
 * exports
 */Av.exports=WL});var HL=w((NO1,Iv)=>{var a1=function(Z,Y,J){if(Z.options.timeseries)throw new Lq1(Y,"timeseries");const X=a1.defaultOptions&&a1.defaultOptions._id;if(X!=null)J=J||{},J._id=X;if(Z=Fq1(Z,J),this.caster=Dv(Z),this.caster.path=Y,this.caster.prototype.$basePath=Y,this.schema=Z,this.$isSingleNested=!0,this.base=Z.base,NY.call(this,Y,J,"Embedded"),Z._applyDiscriminators!=null&&!J?._skipApplyDiscriminators)for(let $ of Z._applyDiscriminators.keys())this.discriminator($,Z._applyDiscriminators.get($))},Dv=function(Z,Y){tG||(tG=zG());const J=function $(W,G,K){if(this.$__parent=K,tG.apply(this,arguments),K==null)return;this.$session(K.$session())};Z._preCompile();const X=Y!=null?Y.prototype:tG.prototype;J.prototype=Object.create(X),J.prototype.$__setSchema(Z),J.prototype.constructor=J,J.base=Z.base,J.schema=Z,J.$isSingleNested=!0,J.events=new KL,J.prototype.toBSON=function(){return this.toObject(qq1)};for(let $ in Z.methods)J.prototype[$]=Z.methods[$];for(let $ in Z.statics)J[$]=Z.statics[$];for(let $ in KL.prototype)J[$]=KL.prototype[$];return J};/*!
 * Module dependencies.
 */var Bv=I8(),KL=import.meta.require("events").EventEmitter,Gq1=xV(),Kq1=ab(),NY=m0(),Qq1=JG(),zq1=tW(),Nv=SX().castToNumber,Hq1=sG(),QL=lU(),zL=rG(),Fq1=$L(),qq1=v7().internalToObjectOptions,Vq1=GY(),Uq1=W1(),Lq1=GL(),tG;Iv.exports=a1;/*!
 * ignore
 */a1.prototype=Object.create(NY.prototype);a1.prototype.constructor=a1;a1.prototype.OptionsConstructor=Kq1;/*!
 * ignore
 */a1.prototype.$conditionalHandlers.$geoWithin=function Z(Y,J){return{$geometry:this.castForQuery(null,Y.$geometry,J)}};/*!
 * ignore
 */a1.prototype.$conditionalHandlers.$near=a1.prototype.$conditionalHandlers.$nearSphere=QL.cast$near;a1.prototype.$conditionalHandlers.$within=a1.prototype.$conditionalHandlers.$geoWithin=QL.cast$within;a1.prototype.$conditionalHandlers.$geoIntersects=QL.cast$geoIntersects;a1.prototype.$conditionalHandlers.$minDistance=Nv;a1.prototype.$conditionalHandlers.$maxDistance=Nv;a1.prototype.$conditionalHandlers.$exists=zq1;a1.prototype.cast=function(Z,Y,J,X,$){if(Z&&Z.$isSingleNested&&Z.parent===Y)return Z;if(Z!=null&&(typeof Z!=="object"||Array.isArray(Z)))throw new Gq1(this.path,Z);const W=this.schema.path(this.schema.options.discriminatorKey),G=W==null?null:W.getDefault(Y),K=zL(this.caster,Z,G);let Q;const z=Y&&Y.$__&&Y.$__.selected,H=this.path,F=z==null?null:Object.keys(z).reduce((q,V)=>{if(V.startsWith(H+"."))q=q||{},q[V.substring(H.length+1)]=z[V];return q},null);if(J){Q=new K(void 0,F,Y,!1,{defaults:!1}),delete Q.$__.defaults,Q.$init(Z);const q=Vq1(F);Qq1(Q,F,q)}else{if($=Object.assign({},$,{priorDoc:X}),Object.keys(Z).length===0)return new K({},F,Y,void 0,$);return new K(Z,F,Y,void 0,$)}return Q};a1.prototype.castForQuery=function(Z,Y,J,X){let $;if(Z!=null){if($=this.$conditionalHandlers[Z],!$)throw new Error("Can\'t use "+Z);return $.call(this,Y)}if(Y==null)return Y;const W=zL(this.caster,Y);if(Y instanceof W)return Y;if(this.options.runSetters)Y=this._applySetters(Y,J);const G=X!=null&&X.strict!=null?X.strict:void 0;try{Y=new W(Y,G)}catch(K){if(!(K instanceof Bv))throw new Bv("Embedded",Y,this.path,K,this);throw K}return Y};a1.prototype.doValidate=function(Z,Y,J,X){const $=zL(this.caster,Z);if(Z&&!(Z instanceof $))Z=new $(Z,null,J!=null&&J.$__!=null?J:null);if(X&&X.skipSchemaValidators){if(!Z)return Y(null);return Z.validate().then(()=>Y(null),(W)=>Y(W))}NY.prototype.doValidate.call(this,Z,function(W){if(W)return Y(W);if(!Z)return Y(null);Z.validate().then(()=>Y(null),(G)=>Y(G))},J,X)};a1.prototype.doValidateSync=function(Z,Y,J){if(!J||!J.skipSchemaValidators){const X=NY.prototype.doValidateSync.call(this,Z,Y);if(X)return X}if(!Z)return;return Z.validateSync()};a1.prototype.discriminator=function(Z,Y,J){J=J||{};const X=Uq1.isPOJO(J)?J.value:J,$=typeof J.clone==="boolean"?J.clone:!0;if(Y.instanceOfSchema&&$)Y=Y.clone();return Y=Hq1(this.caster,Z,Y,X),this.caster.discriminators[Z]=Dv(Y,this.caster),this.caster.discriminators[Z]};/*!
 * ignore
 */a1.defaultOptions={};a1.set=NY.set;a1.setters=[];a1.get=NY.get;/*!
 * ignore
 */a1.prototype.toJSON=function Z(){return{path:this.path,options:this.options}};/*!
 * ignore
 */a1.prototype.clone=function(){const Z=new this.constructor(this.schema,this.path,{...this.options,_skipApplyDiscriminators:!0});if(Z.validators=this.validators.slice(),this.requiredValidator!==void 0)Z.requiredValidator=this.requiredValidator;return Z.caster.discriminators=Object.assign({},this.caster.discriminators),Z}});var Tv=w((DO1,Pv)=>{var D4=function(Z,Y){if(this.$parentSchemaType=Y&&Y.$parentSchemaType,!this.$parentSchemaType)throw new wq1("Cannot create DocumentArrayElement schematype without a parent");delete Y.$parentSchemaType,FL.call(this,Z,Y,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0};/*!
 * Module dependencies.
 */var wq1=J0(),FL=m0(),Rq1=HL(),Mq1=rG();D4.schemaName="DocumentArrayElement";D4.defaultOptions={};/*!
 * Inherits from SchemaType.
 */D4.prototype=Object.create(FL.prototype);D4.prototype.constructor=D4;D4.prototype.cast=function(...Z){return this.$parentSchemaType.cast(...Z)[0]};D4.prototype.doValidate=function(Z,Y,J,X){const $=Mq1(this.caster,Z);if(Z&&!(Z instanceof $))Z=new $(Z,J,null,null,X&&X.index!=null?X.index:null);return Rq1.prototype.doValidate.call(this,Z,Y,J,X)};D4.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;const Z=FL.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,Z.caster=this.caster,Z.schema=this.schema,Z};/*!
 * Module exports.
 */Pv.exports=D4});var Cv=w((IO1,Ev)=>{var Aq1=V6();class oG extends Aq1{}var jv=h6();Object.defineProperty(oG.prototype,"excludeIndexes",jv);Object.defineProperty(oG.prototype,"_id",jv);/*!
 * ignore
 */Ev.exports=oG});var gv=w((PO1,yv)=>{var B0=function(Z,Y,J,X){if(Y.options&&Y.options.timeseries)throw new Pq1(Z,"timeseries");const $=B0.defaultOptions&&B0.defaultOptions._id;if($!=null)X=X||{},X._id=$;if(X!=null&&X._id!=null)Y=Sv(Y,X);else if(J!=null&&J._id!=null)Y=Sv(Y,J);const W=fv(Y,J);W.prototype.$basePath=Z,xv.call(this,Z,W,J),this.schema=Y,this.schemaOptions=X||{},this.$isMongooseDocumentArray=!0,this.Constructor=W,W.base=Y.base;const G=this.defaultValue;if(!("defaultValue"in this)||G!==void 0)this.default(function(){let Q=G.call(this);if(Q!=null&&!Array.isArray(Q))Q=[Q];return Q});const K=this;if(this.$embeddedSchemaType=new Bq1(Z+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:K}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema,Y._applyDiscriminators!=null&&!J?._skipApplyDiscriminators)for(let Q of Y._applyDiscriminators.keys())this.discriminator(Q,Y._applyDiscriminators.get(Q))},fv=function(Z,Y,J){_9||(_9=QY());function X(){if(_9.apply(this,arguments),this.__parentArray==null||this.__parentArray.getArrayParent()==null)return;this.$session(this.__parentArray.getArrayParent().$session())}Z._preCompile();const $=J!=null?J.prototype:_9.prototype;X.prototype=Object.create($),X.prototype.$__setSchema(Z),X.schema=Z,X.prototype.constructor=X,X.$isArraySubdocument=!0,X.events=new qL,X.base=Z.base;for(let W in Z.methods)X.prototype[W]=Z.methods[W];for(let W in Z.statics)X[W]=Z.statics[W];for(let W in qL.prototype)X[W]=qL.prototype[W];return X.options=Y,X},Eq1=function(Z,Y,J){if(!(J&&Y))return;const X=Z.path+".",$=Object.keys(Y);let W=$.length;const G={};let K,Q,z;while(W--)if(Q=$[W],Q.startsWith(X)){if(z=Q.substring(X.length),z==="$")continue;if(z.startsWith("$."))z=z.substring(2);K||(K=!0),G[z]=Y[Q]}return K&&G||void 0};/*!
 * Module dependencies.
 */var Ov=I8(),Bq1=Tv(),qL=import.meta.require("events").EventEmitter,xv=vG(),Nq1=Cv(),gX=m0(),Dq1=sG(),Sv=$L(),Iq1=GG(),DY=W1(),eG=rG(),Pq1=GL(),kv=Z1().arrayAtomicsSymbol,VL=Z1().arrayPathSymbol,Tq1=Z1().documentArrayParent,I4,_9;B0.schemaName="DocumentArray";B0.options={castNonArrays:!0};/*!
 * Inherits from SchemaArray.
 */B0.prototype=Object.create(xv.prototype);B0.prototype.constructor=B0;B0.prototype.OptionsConstructor=Nq1;/*!
 * ignore
 */B0.prototype.discriminator=function(Z,Y,J){if(typeof Z==="function")Z=DY.getFunctionName(Z);J=J||{};const X=DY.isPOJO(J)?J.value:J,$=typeof J.clone==="boolean"?J.clone:!0;if(Y.instanceOfSchema&&$)Y=Y.clone();Y=Dq1(this.casterConstructor,Z,Y,X);const W=fv(Y,null,this.casterConstructor);W.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(W,"name",{value:Z})}catch(G){}return this.casterConstructor.discriminators[Z]=W,this.casterConstructor.discriminators[Z]};B0.prototype.doValidate=function(Z,Y,J,X){I4||(I4=j9());const $=this;try{gX.prototype.doValidate.call(this,Z,W,J)}catch(G){return Y(G)}function W(G){if(G)return Y(G);let K=Z&&Z.length,Q;if(!K)return Y();if(X&&X.updateValidator)return Y();if(!DY.isMongooseDocumentArray(Z))Z=new I4(Z,$.path,J);function z(H){if(H!=null)Q=H;--K||Y(Q)}for(let H=0,F=K;H<F;++H){let q=Z[H];if(q==null){--K||Y(Q);continue}if(!(q instanceof _9)){const V=eG($.casterConstructor,Z[H]);q=Z[H]=new V(q,Z,void 0,void 0,H)}if(X!=null&&X.validateModifiedOnly&&!q.$isModified()){--K||Y(Q);continue}q.$__validate(z)}}};B0.prototype.doValidateSync=function(Z,Y,J){const X=gX.prototype.doValidateSync.call(this,Z,Y);if(X!=null)return X;const $=Z&&Z.length;let W=null;if(!$)return;for(let G=0,K=$;G<K;++G){let Q=Z[G];if(!Q)continue;if(!(Q instanceof _9)){const H=eG(this.casterConstructor,Z[G]);Q=Z[G]=new H(Q,Z,void 0,void 0,G)}if(J!=null&&J.validateModifiedOnly&&!Q.$isModified())continue;const z=Q.validateSync();if(z&&W==null)W=z}return W};/*!
 * ignore
 */B0.prototype.getDefault=function(Z,Y,J){let X=typeof this.defaultValue==="function"?this.defaultValue.call(Z):this.defaultValue;if(X==null)return X;if(J&&J.skipCast)return X;if(I4||(I4=j9()),!Array.isArray(X))X=[X];X=new I4(X,this.path,Z);for(let $=0;$<X.length;++$){const G=new(eG(this.casterConstructor,X[$]))({},X,void 0,void 0,$);G.$init(X[$]),G.isNew=!0,Object.assign(G.$__.activePaths.default,G.$__.activePaths.init),G.$__.activePaths.init={},X[$]=G}return X};var jq1=Object.freeze({transform:!1,virtuals:!1}),_v=Object.freeze({skipId:!1,willInit:!0});B0.prototype.cast=function(Z,Y,J,X,$){if(I4||(I4=j9()),Z!=null&&Z[VL]!=null&&Z===X)return Z;let W,G;$=$||{};const K=$.path||this.path;if(!Array.isArray(Z)){if(!J&&!B0.options.castNonArrays)throw new Ov("DocumentArray",Z,this.path,null,this);if(!!Y&&J)Y.markModified(K);return this.cast([Z],Y,J,X,$)}if(!$.skipDocumentArrayCast||DY.isMongooseDocumentArray(Z))Z=new I4(Z,K,Y);if(X!=null)Z[kv]=X[kv]||{};if($.arrayPathIndex!=null)Z[VL]=K+"."+$.arrayPathIndex;const Q=DY.isMongooseDocumentArray(Z)?Z.__array:Z,z=Q.length;for(let H=0;H<z;++H){if(!Q[H])continue;const F=eG(this.casterConstructor,Q[H]);if(Q[H].$__!=null&&!(Q[H]instanceof F)){const q=Iq1(Q[H],!0);if(Q[H]!==q)Q[H]=q;else Q[H]=Q[H].toObject({transform:!1,virtuals:Q[H].schema===F.schema})}if(Q[H]instanceof _9){if(Q[H][Tq1]!==Y)if(J){const q=new F(null,Z,_v,W,H);Q[H]=q.$init(Q[H])}else{const q=new F(Q[H],Z,void 0,void 0,H);Q[H]=q}if(Q[H].__index==null)Q[H].$setIndex(H)}else if(Q[H]!=null)if(J){if(Y)W||(W=Eq1(this,Y.$__.selected,J));else W=!0;G=new F(null,Z,_v,W,H),Q[H]=G.$init(Q[H])}else{if(X&&typeof X.id==="function")G=X.id(Q[H]._id);if(X&&G&&DY.deepEqual(G.toObject(jq1),Q[H]))G.set(Q[H]),Q[H]=G;else try{G=new F(Q[H],Z,void 0,void 0,H),Q[H]=G}catch(q){throw new Ov("embedded",Q[H],Z[VL],q,this)}}}return Z};/*!
 * ignore
 */B0.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,this.schema,{...Z,_skipApplyDiscriminators:!0},this.schemaOptions);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;return Y.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),Y};/*!
 * ignore
 */B0.prototype.applyGetters=function(Z,Y){return gX.prototype.applyGetters.call(this,Z,Y)};/*!
 * ignore
 */B0.defaultOptions={};B0.set=gX.set;B0.setters=[];B0.get=gX.get;/*!
 * Module exports.
 */yv.exports=B0});var vv=w((TO1,bv)=>{var Cq1=V6();class UL extends Cq1{}var Oq1=h6();Object.defineProperty(UL.prototype,"of",Oq1);bv.exports=UL});var uv=w((jO1,mv)=>{/*!
 * ignore
 */var LL=CG(),Sq1=vv(),hv=m0();/*!
 * ignore
 */class bX extends hv{constructor(Z,Y){super(Z,Y,"Map");this.$isSchemaMap=!0}set(Z,Y){return hv.set(Z,Y)}cast(Z,Y,J){if(Z instanceof LL)return Z;const X=this.path;if(J){const $=new LL({},X,Y,this.$__schemaType);if(Z instanceof global.Map)for(let W of Z.keys()){let G=Z.get(W);if(G==null)G=$.$__schemaType._castNullish(G);else G=$.$__schemaType.cast(G,Y,!0,null,{path:X+"."+W});$.$init(W,G)}else for(let W of Object.keys(Z)){let G=Z[W];if(G==null)G=$.$__schemaType._castNullish(G);else G=$.$__schemaType.cast(G,Y,!0,null,{path:X+"."+W});$.$init(W,G)}return $}return new LL(Z,X,Y,this.$__schemaType)}clone(){const Z=super.clone();if(this.$__schemaType!=null)Z.$__schemaType=this.$__schemaType.clone();return Z}}bX.schemaName="Map";bX.prototype.OptionsConstructor=Sq1;bX.defaultOptions={};mv.exports=bX});var lv=w((EO1,cv)=>{var kq1=V6();class ZK extends kq1{}var dv=h6();Object.defineProperty(ZK.prototype,"auto",dv);Object.defineProperty(ZK.prototype,"populate",dv);/*!
 * ignore
 */cv.exports=ZK});var nv=w((CO1,iv)=>{var N0=function(Z,Y){const J=typeof Z==="string"&&Z.length===24&&/^[a-f0-9]+$/i.test(Z),X=Y&&Y.suppressWarning;if((J||typeof Z==="undefined")&&!X)AL.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you\'re trying to create a hex char path in your schema.");P4.call(this,Z,Y,"ObjectId")},YK=function(Z){return this.cast(Z)},pv=function(){return new RL},gq1=function(Z){if(wL||(wL=p8()),this instanceof wL){if(Z===void 0)return new RL}return Z};/*!
 * Module dependencies.
 */var _q1=lv(),P4=m0(),xq1=tV(),fq1=c8(),RL=Z4(),ML=f8(),AL=W1(),yq1=P4.CastError,wL;N0.schemaName="ObjectId";N0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */N0.prototype=Object.create(P4.prototype);N0.prototype.constructor=N0;N0.prototype.OptionsConstructor=_q1;N0.get=P4.get;N0.set=P4.set;N0.setters=[];N0.prototype.auto=function(Z){if(Z)this.default(pv),this.set(gq1);return this};/*!
 * ignore
 */N0._checkRequired=(Z)=>ML(Z,"ObjectId");/*!
 * ignore
 */N0._cast=xq1;N0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */N0._defaultCaster=(Z)=>{if(!ML(Z,"ObjectId"))throw new Error(Z+" is not an instance of ObjectId");return Z};N0.checkRequired=P4.checkRequired;N0.prototype.checkRequired=function Z(Y,J){if(P4._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():N0.checkRequired())(Y)};N0.prototype.cast=function(Z,Y,J){if(!ML(Z,"ObjectId")&&P4._isRef(this,Z,Y,J)){if((fq1(Z)||"").toLowerCase()==="objectid")return new RL(Z.toHexString());if(Z==null||AL.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=N0.cast();try{return X(Z)}catch($){throw new yq1("ObjectId",Z,this.path,$,this)}};/*!
 * ignore
 */N0.prototype.$conditionalHandlers=AL.options(P4.prototype.$conditionalHandlers,{$gt:YK,$gte:YK,$lt:YK,$lte:YK});/*!
 * ignore
 */pv.$runBeforeSetters=!0;/*!
 * Module exports.
 */iv.exports=N0});var sv=w((OO1,av)=>{var bq1=V6();class c6 extends bq1{}var u7=h6();Object.defineProperty(c6.prototype,"enum",u7);Object.defineProperty(c6.prototype,"match",u7);Object.defineProperty(c6.prototype,"lowercase",u7);Object.defineProperty(c6.prototype,"trim",u7);Object.defineProperty(c6.prototype,"uppercase",u7);Object.defineProperty(c6.prototype,"minLength",u7);Object.defineProperty(c6.prototype,"minlength",u7);Object.defineProperty(c6.prototype,"maxLength",u7);Object.defineProperty(c6.prototype,"maxlength",u7);Object.defineProperty(c6.prototype,"populate",u7);/*!
 * ignore
 */av.exports=c6});var ov=w((SO1,tv)=>{var f1=function(Z,Y){this.enumValues=[],this.regExp=null,T4.call(this,Z,Y,"String")},vX=function(Z,Y){return this.castForQuery(null,Z,Y)},dq1=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){return J.castForQuery(null,X,Y)})},rv=function(Z){if(Z==null)return this._castNullish(Z);return this.cast(Z,this)};/*!
 * Module dependencies.
 */var T4=m0(),hX=l1(),vq1=sv(),hq1=gU(),BL=W1(),mq1=f8(),uq1=T4.CastError;f1.schemaName="String";f1.defaultOptions={};/*!
 * Inherits from SchemaType.
 */f1.prototype=Object.create(T4.prototype);f1.prototype.constructor=f1;Object.defineProperty(f1.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:vq1});/*!
 * ignore
 */f1._cast=hq1;f1.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */f1._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="string")throw new Error;return Z};f1.get=T4.get;f1.set=T4.set;f1.setters=[];/*!
 * ignore
 */f1._checkRequired=(Z)=>(Z instanceof String||typeof Z==="string")&&Z.length;f1.checkRequired=T4.checkRequired;f1.prototype.enum=function(){if(this.enumValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.enumValidator},this),this.enumValidator=!1;if(arguments[0]===void 0||arguments[0]===!1)return this;let Z,Y;if(BL.isObject(arguments[0]))if(Array.isArray(arguments[0].values))Z=arguments[0].values,Y=arguments[0].message;else Z=BL.object.vals(arguments[0]),Y=hX.messages.String.enum;else Z=arguments,Y=hX.messages.String.enum;for(let X of Z)if(X!==void 0)this.enumValues.push(this.cast(X));const J=this.enumValues;return this.enumValidator=function(X){return X==null||~J.indexOf(X)},this.validators.push({validator:this.enumValidator,message:Y,type:"enum",enumValues:J}),this};f1.prototype.lowercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.toLowerCase();return Y})};f1.prototype.uppercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.toUpperCase();return Y})};f1.prototype.trim=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.trim();return Y})};f1.prototype.minlength=function(Z,Y){if(this.minlengthValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minlengthValidator},this);if(Z!==null&&Z!==void 0){let J=Y||hX.messages.String.minlength;J=J.replace(/{MINLENGTH}/,Z),this.validators.push({validator:this.minlengthValidator=function(X){return X===null||X.length>=Z},message:J,type:"minlength",minlength:Z})}return this};f1.prototype.minLength=f1.prototype.minlength;f1.prototype.maxlength=function(Z,Y){if(this.maxlengthValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxlengthValidator},this);if(Z!==null&&Z!==void 0){let J=Y||hX.messages.String.maxlength;J=J.replace(/{MAXLENGTH}/,Z),this.validators.push({validator:this.maxlengthValidator=function(X){return X===null||X.length<=Z},message:J,type:"maxlength",maxlength:Z})}return this};f1.prototype.maxLength=f1.prototype.maxlength;f1.prototype.match=function Z(Y,J){const X=J||hX.messages.String.match,$=function(W){if(!Y)return!1;return Y.lastIndex=0,W!=null&&W!==""?Y.test(W):!0};return this.validators.push({validator:$,message:X,type:"regexp",regexp:Y}),this};f1.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&T4._isRef(this,Y,J,!0))return Y!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():f1.checkRequired())(Y)};f1.prototype.cast=function(Z,Y,J){if(typeof Z!=="string"&&T4._isRef(this,Z,Y,J))return this._castRef(Z,Y,J);let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=f1.cast();try{return X(Z)}catch($){throw new uq1("string",Z,this.path,null,this)}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */var cq1=BL.options(T4.prototype.$conditionalHandlers,{$all:dq1,$gt:vX,$gte:vX,$lt:vX,$lte:vX,$options:rv,$regex:function Z(Y){if(Object.prototype.toString.call(Y)==="[object RegExp]")return Y;return rv.call(this,Y)},$not:vX});Object.defineProperty(f1.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(cq1)});f1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with String.");return X.call(this,Y,J)}if(Object.prototype.toString.call(Y)==="[object RegExp]"||mq1(Y,"BSONRegExp"))return Y;return this.applySetters(Y,J)};/*!
 * Module exports.
 */tv.exports=f1});var Xh=w((kO1,Jh)=>{var pq1=function(Z){return Z!=null&&Buffer.from(Z,"hex")},iq1=function(Z){return Z!=null&&Z.toString("hex")},ev=function(Z){if(typeof Z!=="string")Z="";const Y=Z.replace(/[{}-]/g,""),J=pq1(Y),X=new PL(J);return X._subtype=4,X},Yh=function(Z){let Y;if(typeof Z!=="string"&&Z!=null)return Y=iq1(Z),Y.substring(0,8)+"-"+Y.substring(8,12)+"-"+Y.substring(12,16)+"-"+Y.substring(16,20)+"-"+Y.substring(20,32);return Z},D0=function(Z,Y){M5.call(this,Z,Y,"UUID"),this.getters.push(function(J){if(J!=null&&J.$__!=null)return J;return Yh(J)})},mX=function(Z){return this.cast(Z)},NL=function(Z){return Z.map((Y)=>{return this.cast(Y)})};/*!
 * Module dependencies.
 */var PL=TX(),M5=m0(),DL=M5.CastError,Zh=W1(),JK=xG(),IL=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,lq1=PL.Binary;D0.schemaName="UUID";D0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */D0.prototype=Object.create(M5.prototype);D0.prototype.constructor=D0;/*!
 * ignore
 */D0._cast=function(Z){if(Z==null)return Z;function Y(J){const X=new PL(J);return X._subtype=4,X}if(typeof Z==="string")if(IL.test(Z))return ev(Z);else throw new DL(D0.schemaName,Z,this.path);if(Buffer.isBuffer(Z))return Y(Z);if(Z instanceof lq1)return Y(Z.value(!0));if(Z.toString&&Z.toString!==Object.prototype.toString){if(IL.test(Z.toString()))return ev(Z.toString())}throw new DL(D0.schemaName,Z,this.path)};D0.get=M5.get;D0.set=M5.set;D0.setters=[];D0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */D0._checkRequired=(Z)=>Z!=null;D0.checkRequired=M5.checkRequired;D0.prototype.checkRequired=function Z(Y){if(Buffer.isBuffer(Y))Y=Yh(Y);return Y!=null&&IL.test(Y)};D0.prototype.cast=function(Z,Y,J){if(Zh.isNonBuiltinObject(Z)&&M5._isRef(this,Z,Y,J))return this._castRef(Z,Y,J);let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=D0.cast();try{return X(Z)}catch($){throw new DL(D0.schemaName,Z,this.path,$,this)}};/*!
 * ignore
 *//*!
 * ignore
 */D0.prototype.$conditionalHandlers=Zh.options(M5.prototype.$conditionalHandlers,{$bitsAllClear:JK,$bitsAnyClear:JK,$bitsAllSet:JK,$bitsAnySet:JK,$all:NL,$gt:mX,$gte:mX,$in:NL,$lt:mX,$lte:mX,$ne:mX,$nin:NL});D0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with UUID.");return X.call(this,Y,J)}else return this.cast(Y)};/*!
 * Module exports.
 */Jh.exports=D0});var OX=w((nq1)=>{/*!
 * Module exports.
 */nq1.Array=vG();nq1.BigInt=jb();nq1.Boolean=Cb();nq1.Buffer=fb();nq1.Date=db();nq1.Decimal128=nq1.Decimal=ib();nq1.DocumentArray=gv();nq1.Map=uv();nq1.Mixed=P9();nq1.Number=uU();nq1.ObjectId=nv();nq1.String=ov();nq1.Subdocument=HL();nq1.UUID=Xh();nq1.Oid=nq1.ObjectId;nq1.Object=nq1.Mixed;nq1.Bool=nq1.Boolean;nq1.ObjectID=nq1.ObjectId});var HY=w((kL,wh)=>{var o=function(Z,Y){if(!(this instanceof o))return new o(Z,Y);if(this.obj=Z,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods=Y&&Y.methods||{},this.methodOptions={},this.statics=Y&&Y.statics||{},this.tree={},this.query=Y&&Y.query||{},this.childSchemas=[],this.plugins=[],this.$id=++Fh,this.mapPaths=[],this.s={hooks:new HV1},this.options=this.defaultOptions(Y),Array.isArray(Z))for(let $ of Z)this.add($);else if(Z)this.add(Z);if(Y&&Y.virtuals){const $=Y.virtuals,W=Object.keys($);for(let G of W){const K=$[G].options?$[G].options:void 0,Q=this.virtual(G,K);if($[G].get)Q.get($[G].get);if($[G].set)Q.set($[G].set)}}const J=Z&&Z._id&&s1.isObject(Z._id);if(!this.paths._id&&this.options._id&&!J)Qh(this);this.setupTimestamp(this.options.timestamps)},qh=function(Z,Y){for(let J of Object.keys(Y)){let X=null;if(Y[J]!=null)X=Y[J];else{const W=zh(Z.paths[J],"options");if(W==null)continue;X=W.alias}if(!X)continue;const $=Z.paths[J].path;if(Array.isArray(X)){for(let W of X){if(typeof W!=="string")throw new Error("Invalid value for alias option on "+$+", got "+W);Z.aliases[W]=$,Z.virtual(W).get(function(G){return function(){if(typeof this.get==="function")return this.get(G);return this[G]}}($)).set(function(G){return function(K){return this.$set(G,K)}}($))}continue}if(typeof X!=="string")throw new Error("Invalid value for alias option on "+$+", got "+X);Z.aliases[X]=$,Z.virtual(X).get(function(W){return function(){if(typeof this.get==="function")return this.get(W);return this[W]}}($)).set(function(W){return function(G){return this.$set(W,G)}}($))}},DV1=function(Z){const Y=[];for(let J of Object.keys(Z.paths)){const X=Z.paths[J];if(X.$isMongooseDocumentArray||X.$isSingleNested)Y.push({schema:X.schema,model:X.caster})}return Y},IV1=function(Z,Y,J){if(Z.paths.hasOwnProperty(Y))return Z.paths[Y];if(Z.subpaths.hasOwnProperty(J))return Z.subpaths[J];if(Z.singleNestedPaths.hasOwnProperty(J)&&typeof Z.singleNestedPaths[J]==="object")return Z.singleNestedPaths[J];return null},Vh=function(Z){if(!/\.\d+/.test(Z))return Z;return Z.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$")},Uh=function(Z,Y){if(Z.mapPaths.length===0)return null;for(let J of Z.mapPaths){const X=J.path;if(new RegExp("^"+X.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(Y))return Z.paths[X]}return null},PV1=function(Z,Y,J,X,$){const W=J+".$*";let G={type:{}};if(s1.hasUserDefinedProperty(X,"of")){if(s1.isPOJO(X.of)&&Object.keys(X.of).length>0&&!s1.hasUserDefinedProperty(X.of,Z.options.typeKey))G={[Z.options.typeKey]:new o(X.of)};else if(s1.isPOJO(X.of))G=Object.assign({},X.of);else G={[Z.options.typeKey]:X.of};if(G[Z.options.typeKey]&&G[Z.options.typeKey].instanceOfSchema)G[Z.options.typeKey].eachPath((z,H)=>{if(H.options.select===!0||H.options.select===!1)throw new x9('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+J+"."+z+'"')});if(s1.hasUserDefinedProperty(X,"ref"))G.ref=X.ref}Y.$__schemaType=Z.interpretAsType(W,G,$)},Lh=function(Z,Y,J){const X=Y.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(X.length<2)return Z.paths.hasOwnProperty(X[0])?Z.paths[X[0]]:"adhocOrUndefined";let $=Z.path(X[0]),W=!1;if(!$)return"adhocOrUndefined";const G=X.length-1;for(let K=1;K<X.length;++K){W=!1;const Q=X[K];if(K===G&&$&&!/\D/.test(Q)){if($.$isMongooseDocumentArray)$=$.$embeddedSchemaType;else if($ instanceof A5.Array)$=$.caster;else $=void 0;break}if(!/\D/.test(Q)){if($ instanceof A5.Array&&K!==G)$=$.caster;continue}if(!($&&$.schema)){$=void 0;break}W=$.schema.pathType(Q)==="nested",$=$.schema.path(Q)}if(Z.subpaths[J]=$,$)return"real";if(W)return"nested";return"adhocOrUndefined"},TV1=function(Z,Y,J){return Lh(Z,Y,J),Z.subpaths[J]},OL=function(Z,Y){for(let{schema:J}of Z.childSchemas){if(!J.$implicitlyCreated)continue;Object.assign(J.options,Y),OL(J,Y)}},EL=function(Z,Y){const J=Y.split("."),X=J.pop();let $=Z.tree;for(let W of J)$=$[W];delete $[X]},SL=function(Z){return Z.startsWith("$[")&&Z.endsWith("]")};/*!
 * Module dependencies.
 */var zV1=import.meta.require("events").EventEmitter,HV1=tZ(),x9=J0(),Gh=m0(),Kh=V6(),FV1=Fg(),CL=NU(),Qh=DU(),P8=V0(),zh=G0(),qV1=c8(),VV1=wg(),$K=TU(),UV1=Ag(),LV1=ZG(),XK=w7(),wV1=Og(),s1=W1(),RV1=kg(),MV1=import.meta.require("util"),A5,AV1=jG().middlewareFunctions,BV1=EG().middlewareFunctions,Hh=AV1.concat(BV1).reduce((Z,Y)=>Z.add(Y),new Set),jL=s1.isPOJO,Fh=0,NV1=/^\d+$/;/*!
 * Inherit from EventEmitter.
 */o.prototype=Object.create(zV1.prototype);o.prototype.constructor=o;o.prototype.instanceOfSchema=!0;/*!
 * ignore
 */Object.defineProperty(o.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0});Object.defineProperty(o.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(o.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0});o.prototype.obj;o.prototype.paths;o.prototype.tree;o.prototype.clone=function(){const Z=this._clone();return Z.on("init",(Y)=>this.emit("init",Y)),Z};/*!
 * ignore
 */o.prototype._clone=function Z(Y){Y=Y||(this.base==null?o:this.base.Schema);const J=new Y({},this._userProvidedOptions);J.base=this.base,J.obj=this.obj,J.options=P8(this.options),J.callQueue=this.callQueue.map(function(X){return X}),J.methods=P8(this.methods),J.methodOptions=P8(this.methodOptions),J.statics=P8(this.statics),J.query=P8(this.query),J.plugins=Array.prototype.slice.call(this.plugins),J._indexes=P8(this._indexes),J.s.hooks=this.s.hooks.clone(),J.tree=P8(this.tree),J.paths=Object.fromEntries(Object.entries(this.paths).map(([X,$])=>[X,$.clone()])),J.nested=P8(this.nested),J.subpaths=P8(this.subpaths);for(let X of Object.values(J.paths))if(X.$isSingleNested){const $=X.path;for(let W of Object.keys(X.schema.paths))J.singleNestedPaths[$+"."+W]=X.schema.paths[W];for(let W of Object.keys(X.schema.singleNestedPaths))J.singleNestedPaths[$+"."+W]=X.schema.singleNestedPaths[W];for(let W of Object.keys(X.schema.subpaths))J.singleNestedPaths[$+"."+W]=X.schema.subpaths[W];for(let W of Object.keys(X.schema.nested))J.singleNestedPaths[$+"."+W]="nested"}if(J.childSchemas=DV1(J),J.virtuals=P8(this.virtuals),J.$globalPluginsApplied=this.$globalPluginsApplied,J.$isRootDiscriminator=this.$isRootDiscriminator,J.$implicitlyCreated=this.$implicitlyCreated,J.$id=++Fh,J.$originalSchemaId=this.$id,J.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null)J.discriminatorMapping=Object.assign({},this.discriminatorMapping);if(this.discriminators!=null)J.discriminators=Object.assign({},this.discriminators);if(this._applyDiscriminators!=null)J._applyDiscriminators=new Map(this._applyDiscriminators);return J.aliases=Object.assign({},this.aliases),J};o.prototype.pick=function(Z,Y){const J=new o({},Y||this.options);if(!Array.isArray(Z))throw new x9('Schema#pick() only accepts an array argument, got "'+typeof Z+'"');for(let X of Z)if(this.nested[X])J.add({[X]:zh(this.tree,X)});else{const $=this.path(X);if($==null)throw new x9("Path `"+X+"` is not in the schema");J.add({[X]:$})}return J};o.prototype.omit=function(Z,Y){const J=new o(this,Y||this.options);if(!Array.isArray(Z))throw new x9('Schema#omit() only accepts an array argument, got "'+typeof Z+'"');J.remove(Z);for(let X in J.singleNestedPaths)if(Z.includes(X))delete J.singleNestedPaths[X];return J};o.prototype.defaultOptions=function(Z){this._userProvidedOptions=Z==null?{}:P8(Z);const Y=this.base&&this.base.options||{},J="strict"in Y?Y.strict:!0,X="strictQuery"in Y?Y.strictQuery:!1,$="id"in Y?Y.id:!0;if(Z=s1.options({strict:J,strictQuery:X,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:$,typeKey:"type"},P8(Z)),Z.versionKey&&typeof Z.versionKey!=="string")throw new x9("`versionKey` must be falsy or string, got `"+typeof Z.versionKey+"`");if(typeof Z.read==="string")Z.read=$K(Z.read);else if(Array.isArray(Z.read)&&typeof Z.read[0]==="string")Z.read={mode:$K(Z.read[0]),tags:Z.read[1]};if(Z.optimisticConcurrency&&!Z.versionKey)throw new x9("Must set `versionKey` if using `optimisticConcurrency`");return Z};o.prototype.discriminator=function(Z,Y){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(Z,Y),this};o.prototype.add=function Z(Y,J){if(Y instanceof o||Y!=null&&Y.instanceOfSchema)return LV1(this,Y),this;if(Y._id===!1&&J==null)this.options._id=!1;if(J=J||"",J==="__proto__."||J==="constructor."||J==="prototype.")return this;const X=Object.keys(Y),$=this.options.typeKey;for(let G of X){if(s1.specialProperties.has(G))continue;const K=J+G,Q=Y[G];if(Q==null)throw new TypeError("Invalid value for schema path `"+K+'`, got value "'+Q+'"');if(G==="_id"&&Q===!1)continue;let z=!1;if(typeof Q==="string"){const H=this.base!=null?this.base.Schema.Types:o.Types,F=Q.charAt(0).toUpperCase()+Q.substring(1);z=H[F]!=null}if(G!=="_id"&&(typeof Q!=="object"&&typeof Q!=="function"&&!z||Q==null))throw new TypeError(`Invalid schema configuration: \`${Q}\` is not `+`a valid type at path \`${G}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(Q instanceof CL||(Q.constructor&&Q.constructor.name||null)==="VirtualType"){this.virtual(Q);continue}if(Array.isArray(Q)&&Q.length===1&&Q[0]==null)throw new TypeError("Invalid value for schema Array path `"+K+'`, got value "'+Q[0]+'"');if(!(jL(Q)||Q instanceof Kh)){if(J)this.nested[J.substring(0,J.length-1)]=!0;if(this.path(J+G,Q),Q[0]!=null&&!Q[0].instanceOfSchema&&s1.isPOJO(Q[0].discriminators)){const H=this.path(J+G);for(let F in Q[0].discriminators)H.discriminator(F,Q[0].discriminators[F])}}else if(Object.keys(Q).length<1){if(J)this.nested[J.substring(0,J.length-1)]=!0;this.path(K,Q)}else if(!Q[$]||$==="type"&&jL(Q.type)&&Q.type.type)this.nested[K]=!0,this.add(Q,K+".");else{const H=Q[$];if(jL(H)&&Object.keys(H).length>0){if(J)this.nested[J.substring(0,J.length-1)]=!0;const F={};if(this._userProvidedOptions.typeKey)F.typeKey=this._userProvidedOptions.typeKey;if(this._userProvidedOptions.strict!=null)F.strict=this._userProvidedOptions.strict;if(this._userProvidedOptions.toObject!=null)F.toObject=s1.omit(this._userProvidedOptions.toObject,["transform"]);if(this._userProvidedOptions.toJSON!=null)F.toJSON=s1.omit(this._userProvidedOptions.toJSON,["transform"]);const q=new o(H,F);q.$implicitlyCreated=!0;const V=Object.assign({},Q,{[$]:q});this.path(J+G,V)}else{if(J)this.nested[J.substring(0,J.length-1)]=!0;if(this.path(J+G,Q),Q!=null&&!Q.instanceOfSchema&&s1.isPOJO(Q.discriminators)){const F=this.path(J+G);for(let q in Q.discriminators)F.discriminator(q,Q.discriminators[q])}}}}const W=Object.fromEntries(Object.entries(Y).map(([G])=>[J+G,null]));return qh(this,W),this};o.prototype.alias=function Y(Z,Y){return qh(this,{[Z]:Y}),this};o.prototype.removeIndex=function Z(Y){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(typeof Y!=="object"&&typeof Y!=="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(typeof Y==="object"){for(let J=this._indexes.length-1;J>=0;--J)if(MV1.isDeepStrictEqual(this._indexes[J][0],Y))this._indexes.splice(J,1)}else for(let J=this._indexes.length-1;J>=0;--J)if(this._indexes[J][1]!=null&&this._indexes[J][1].name===Y)this._indexes.splice(J,1);return this};o.prototype.clearIndexes=function Z(){return this._indexes.length=0,this};o.reserved=Object.create(null);o.prototype.reserved=o.reserved;var J8=o.reserved;J8.prototype=J8.emit=J8.listeners=J8.removeListener=J8.collection=J8.errors=J8.get=J8.init=J8.isModified=J8.isNew=J8.populated=J8.remove=J8.save=J8.toObject=J8.validate=1;J8.collection=1;o.prototype.path=function(Z,Y){if(Y===void 0){const Q=Vh(Z);let z=IV1(this,Z,Q);if(z!=null)return z;const H=Uh(this,Z);if(H!=null)return H;if(z=this.hasMixedParent(Q),z!=null)return z;return/\.\d+\.?.*$/.test(Z)?TV1(this,Z,Q):void 0}const J=Z.split(".")[0];if(J8[J]&&!this.options.suppressReservedKeysWarning){const Q=`\`${J}\` is a reserved schema pathname and may break some functionality. `+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";s1.warn(Q)}if(typeof Y==="object"&&s1.hasUserDefinedProperty(Y,"ref"))RV1(Y.ref,Z);const X=Z.split(/\./),$=X.pop();let W=this.tree,G="";for(let Q of X){if(s1.specialProperties.has(Q))throw new Error("Cannot set special property `"+Q+"` on a schema");if(G=G+=(G.length>0?".":"")+Q,!W[Q])this.nested[G]=!0,W[Q]={};if(typeof W[Q]!=="object"){const z="Cannot set nested path `"+Z+"`. Parent path `"+G+"` already set to type "+W[Q].name+".";throw new Error(z)}W=W[Q]}W[$]=P8(Y),this.paths[Z]=this.interpretAsType(Z,Y,this.options);const K=this.paths[Z];if(K.$isSchemaMap){const Q=Z+".$*";this.paths[Q]=K.$__schemaType,this.mapPaths.push(this.paths[Q])}if(K.$isSingleNested){for(let Q of Object.keys(K.schema.paths))this.singleNestedPaths[Z+"."+Q]=K.schema.paths[Q];for(let Q of Object.keys(K.schema.singleNestedPaths))this.singleNestedPaths[Z+"."+Q]=K.schema.singleNestedPaths[Q];for(let Q of Object.keys(K.schema.subpaths))this.singleNestedPaths[Z+"."+Q]=K.schema.subpaths[Q];for(let Q of Object.keys(K.schema.nested))this.singleNestedPaths[Z+"."+Q]="nested";Object.defineProperty(K.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),K.caster.base=this.base,this.childSchemas.push({schema:K.schema,model:K.caster})}else if(K.$isMongooseDocumentArray)Object.defineProperty(K.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),K.casterConstructor.base=this.base,this.childSchemas.push({schema:K.schema,model:K.casterConstructor});if(K.$isMongooseArray&&K.caster instanceof Gh){let Q=Z,z=K;const H=[];while(z.$isMongooseArray){if(Q=Q+".$",z.$isMongooseDocumentArray)z.$embeddedSchemaType._arrayPath=Q,z.$embeddedSchemaType._arrayParentPath=Z,z=z.$embeddedSchemaType.clone();else z.caster._arrayPath=Q,z.caster._arrayParentPath=Z,z=z.caster.clone();z.path=Q,H.push(z)}for(let F of H)this.subpaths[F.path]=F}if(K.$isMongooseDocumentArray){for(let Q of Object.keys(K.schema.paths)){const z=K.schema.paths[Q];if(this.subpaths[Z+"."+Q]=z,typeof z==="object"&&z!=null&&z.$parentSchemaDocArray==null)z.$parentSchemaDocArray=K}for(let Q of Object.keys(K.schema.subpaths)){const z=K.schema.subpaths[Q];if(this.subpaths[Z+"."+Q]=z,typeof z==="object"&&z!=null&&z.$parentSchemaDocArray==null)z.$parentSchemaDocArray=K}for(let Q of Object.keys(K.schema.singleNestedPaths)){const z=K.schema.singleNestedPaths[Q];if(this.subpaths[Z+"."+Q]=z,typeof z==="object"&&z!=null&&z.$parentSchemaDocArray==null)z.$parentSchemaDocArray=K}}return this};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */Object.defineProperty(o.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null});o.prototype.interpretAsType=function(Z,Y,J){if(Y instanceof Gh){if(Y.path===Z)return Y;const Q=Y.clone();return Q.path=Z,Q}const X=this.base!=null?this.base.Schema.Types:o.Types,$=this.base!=null?this.base.Types:VY();if(!s1.isPOJO(Y)&&!(Y instanceof Kh)){if(s1.getFunctionName(Y.constructor)!=="Object"){const z=Y;Y={},Y[J.typeKey]=z}}let W=Y[J.typeKey]&&(Y[J.typeKey]instanceof Function||J.typeKey!=="type"||!Y.type.type)?Y[J.typeKey]:{},G;if(s1.isPOJO(W)||W==="mixed")return new X.Mixed(Z,Y);if(Array.isArray(W)||W===Array||W==="array"||W===X.Array){let Q=W===Array||W==="array"?Y.cast||Y.of:W[0];if(Q&&Q.instanceOfSchema){if(!(Q instanceof o))if(this.options._isMerging)Q=new o(Q);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new X.DocumentArray(Z,Q,Y)}if(Q&&Q[J.typeKey]&&Q[J.typeKey].instanceOfSchema){if(!(Q[J.typeKey]instanceof o))if(this.options._isMerging)Q[J.typeKey]=new o(Q[J.typeKey]);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new X.DocumentArray(Z,Q[J.typeKey],Y,Q)}if(Array.isArray(Q))return new X.Array(Z,this.interpretAsType(Z,Q,J),Y);const z=Q!=null&&Q[J.typeKey]&&(J.typeKey!=="type"||!Q.type.type)?Q[J.typeKey]:Q;if(typeof Q==="string")Q=X[Q.charAt(0).toUpperCase()+Q.substring(1)];else if(s1.isPOJO(z))if(Object.keys(z).length){const H={minimize:J.minimize};if(J.typeKey)H.typeKey=J.typeKey;if(J.hasOwnProperty("strict"))H.strict=J.strict;if(J.hasOwnProperty("strictQuery"))H.strictQuery=J.strictQuery;if(J.hasOwnProperty("toObject"))H.toObject=s1.omit(J.toObject,["transform"]);if(J.hasOwnProperty("toJSON"))H.toJSON=s1.omit(J.toJSON,["transform"]);if(this._userProvidedOptions.hasOwnProperty("_id"))H._id=this._userProvidedOptions._id;else if(o.Types.DocumentArray.defaultOptions._id!=null)H._id=o.Types.DocumentArray.defaultOptions._id;const F=new o(z,H);return F.$implicitlyCreated=!0,new X.DocumentArray(Z,F,Y)}else return new X.Array(Z,X.Mixed,Y);if(Q){if(W=Q[J.typeKey]&&(J.typeKey!=="type"||!Q.type.type)?Q[J.typeKey]:Q,Array.isArray(W))return new X.Array(Z,this.interpretAsType(Z,W,J),Y);if(G=typeof W==="string"?W:W.schemaName||s1.getFunctionName(W),G==="ClockDate")G="Date";if(G===void 0)throw new TypeError("Invalid schema configuration: "+`Could not determine the embedded type for array \`${Z}\`. `+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!X.hasOwnProperty(G))throw new TypeError("Invalid schema configuration: "+`\`${G}\` is not a valid type within the array \`${Z}\`.`+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new X.Array(Z,Q||X.Mixed,Y,J)}if(W&&W.instanceOfSchema)return new X.Subdocument(W,Z,Y);if(Buffer.isBuffer(W))G="Buffer";else if(typeof W==="function"||typeof W==="object")G=W.schemaName||s1.getFunctionName(W);else if(W===$.ObjectId)G="ObjectId";else if(W===$.Decimal128)G="Decimal128";else G=W==null?""+W:W.toString();if(G)G=G.charAt(0).toUpperCase()+G.substring(1);if(G==="ObjectID")G="ObjectId";if(G==="ClockDate")G="Date";if(G===void 0)throw new TypeError(`Invalid schema configuration: \`${Z}\` schematype definition is `+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(X[G]==null)throw new TypeError(`Invalid schema configuration: \`${G}\` is not `+`a valid type at path \`${Z}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");const K=new X[G](Z,Y);if(K.$isSchemaMap)PV1(this,K,Z,Y,J);return K};/*!
 * ignore
 */o.prototype.eachPath=function(Z){const Y=Object.keys(this.paths),J=Y.length;for(let X=0;X<J;++X)Z(Y[X],this.paths[Y[X]]);return this};o.prototype.requiredPaths=function Z(Y){if(this._requiredpaths&&!Y)return this._requiredpaths;const J=Object.keys(this.paths);let X=J.length;const $=[];while(X--){const W=J[X];if(this.paths[W].isRequired)$.push(W)}return this._requiredpaths=$,this._requiredpaths};o.prototype.indexedPaths=function Z(){if(this._indexedpaths)return this._indexedpaths;return this._indexedpaths=this.indexes(),this._indexedpaths};o.prototype.pathType=function(Z){if(this.paths.hasOwnProperty(Z))return"real";if(this.virtuals.hasOwnProperty(Z))return"virtual";if(this.nested.hasOwnProperty(Z))return"nested";const Y=Vh(Z);if(this.subpaths.hasOwnProperty(Y)||this.subpaths.hasOwnProperty(Z))return"real";const J=this.singleNestedPaths.hasOwnProperty(Y)||this.singleNestedPaths.hasOwnProperty(Z);if(J)return J==="nested"?"nested":"real";if(Uh(this,Z)!=null)return"real";if(/\.\d+\.|\.\d+$/.test(Z))return Lh(this,Z,Y);return"adhocOrUndefined"};o.prototype.hasMixedParent=function(Z){const Y=Z.split(/\./g);Z="";for(let J=0;J<Y.length;++J)if(Z=J>0?Z+"."+Y[J]:Y[J],this.paths.hasOwnProperty(Z)&&this.paths[Z]instanceof A5.Mixed)return this.paths[Z];return null};o.prototype.setupTimestamp=function(Z){return wV1(this,Z)};/*!
 * ignore
 */o.prototype.queue=function(Z,Y){return this.callQueue.push([Z,Y]),this};o.prototype.pre=function(Z){if(Z instanceof RegExp){const Y=Array.prototype.slice.call(arguments,1);for(let J of Hh)if(Z.test(J))this.pre.apply(this,[J].concat(Y));return this}if(Array.isArray(Z)){const Y=Array.prototype.slice.call(arguments,1);for(let J of Z)this.pre.apply(this,[J].concat(Y));return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this};o.prototype.post=function(Z){if(Z instanceof RegExp){const Y=Array.prototype.slice.call(arguments,1);for(let J of Hh)if(Z.test(J))this.post.apply(this,[J].concat(Y));return this}if(Array.isArray(Z)){const Y=Array.prototype.slice.call(arguments,1);for(let J of Z)this.post.apply(this,[J].concat(Y));return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this};o.prototype.plugin=function(Z,Y){if(typeof Z!=="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+typeof Z+'"');if(Y&&Y.deduplicate){for(let J of this.plugins)if(J.fn===Z)return this}return this.plugins.push({fn:Z,opts:Y}),Z(this,Y),this};o.prototype.method=function(Z,Y,J){if(typeof Z!=="string")for(let X in Z)this.methods[X]=Z[X],this.methodOptions[X]=P8(J);else this.methods[Z]=Y,this.methodOptions[Z]=P8(J);return this};o.prototype.static=function(Z,Y){if(typeof Z!=="string")for(let J in Z)this.statics[J]=Z[J];else this.statics[Z]=Y;return this};o.prototype.index=function(Z,Y){if(Z||(Z={}),Y||(Y={}),Y.expires)s1.expires(Y);for(let J in Z)if(this.aliases[J])Z=s1.renameObjKey(Z,J,this.aliases[J]);for(let J of Object.keys(Z))if(Z[J]==="ascending"||Z[J]==="asc")Z[J]=1;else if(Z[J]==="descending"||Z[J]==="desc")Z[J]=-1;return this._indexes.push([Z,Y]),this};o.prototype.set=function(Z,Y,J){if(arguments.length===1)return this.options[Z];switch(Z){case"read":if(typeof Y==="string")this.options[Z]={mode:$K(Y),tags:J};else if(Array.isArray(Y)&&typeof Y[0]==="string")this.options[Z]={mode:$K(Y[0]),tags:Y[1]};else this.options[Z]=Y;this._userProvidedOptions[Z]=this.options[Z];break;case"timestamps":this.setupTimestamp(Y),this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z];break;case"_id":if(this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z],Y&&!this.paths._id)Qh(this);else if(!Y&&this.paths._id!=null&&this.paths._id.auto)this.remove("_id");break;default:this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z];break}if(Z==="strict")OL(this,{strict:Y});if(Z==="strictQuery")OL(this,{strictQuery:Y});return this};/*!
 * Recursively set options on implicitly created schemas
 */o.prototype.get=function(Z){return this.options[Z]};var jV1="2d 2dsphere hashed text".split(" ");Object.defineProperty(o,"indexTypes",{get:function(){return jV1},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}});o.prototype.indexes=function(){return VV1(this)};o.prototype.virtual=function(Z,Y){if(Z instanceof CL||qV1(Z)==="VirtualType")return this.virtual(Z.path,Z.options);if(Y=new FV1(Y),s1.hasUserDefinedProperty(Y,["ref","refPath"])){if(Y.localField==null)throw new Error("Reference virtuals require `localField` option");if(Y.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function K(Q){if(XK.has(Z,Q)){const z=XK.get(Z,Q);if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(Y.justOne||Y.count)this.$$populatedVirtuals[Z]=Array.isArray(z)?z[0]:z;else this.$$populatedVirtuals[Z]=Array.isArray(z)?z:z==null?[]:[z];XK.unset(Z,Q)}});const $=this.virtual(Z);if($.options=Y,$.set(function(K){if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(Y.justOne||Y.count){if(this.$$populatedVirtuals[Z]=Array.isArray(K)?K[0]:K,typeof this.$$populatedVirtuals[Z]!=="object")this.$$populatedVirtuals[Z]=Y.count?K:null}else this.$$populatedVirtuals[Z]=Array.isArray(K)?K:K==null?[]:[K],this.$$populatedVirtuals[Z]=this.$$populatedVirtuals[Z].filter(function(Q){return Q&&typeof Q==="object"})}),typeof Y.get==="function")$.get(Y.get);const W=Z.split(".");let G=W[0];for(let K=0;K<W.length-1;++K){if(this.paths[G]==null)continue;if(this.paths[G].$isMongooseDocumentArray||this.paths[G].$isSingleNested){const Q=W.slice(K+1).join(".");this.paths[G].schema.virtual(Q,Y);break}G+="."+W[K+1]}return $}const J=this.virtuals,X=Z.split(".");if(this.pathType(Z)==="real")throw new Error('Virtual path "'+Z+'" conflicts with a real path in the schema');return J[Z]=X.reduce(function($,W,G){return $[W]||($[W]=G===X.length-1?new CL(Y,Z):{}),$[W]},this.tree),J[Z]};o.prototype.virtualpath=function(Z){return this.virtuals.hasOwnProperty(Z)?this.virtuals[Z]:null};o.prototype.remove=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z))Z.forEach(function(Y){if(this.path(Y)==null&&!this.nested[Y])return;if(this.nested[Y]){const J=Object.keys(this.paths).concat(Object.keys(this.nested));for(let X of J)if(X.startsWith(Y+"."))delete this.paths[X],delete this.nested[X],EL(this,X);delete this.nested[Y],EL(this,Y);return}delete this.paths[Y],EL(this,Y)},this);return this};/*!
 * ignore
 */o.prototype.removeVirtual=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z)){for(let Y of Z)if(this.virtuals[Y]==null)throw new x9(`Attempting to remove virtual "${Y}" that does not exist.`);for(let Y of Z)if(delete this.paths[Y],delete this.virtuals[Y],Y.indexOf(".")!==-1)XK.unset(Y,this.tree);else delete this.tree[Y]}return this};o.prototype.loadClass=function(Z,Y){if(Z===Object.prototype||Z===Function.prototype||Z.prototype.hasOwnProperty("$isMongooseModelPrototype")||Z.prototype.hasOwnProperty("$isMongooseDocumentPrototype"))return this;if(this.loadClass(Object.getPrototypeOf(Z),Y),!Y)Object.getOwnPropertyNames(Z).forEach(function(J){if(J.match(/^(length|name|prototype|constructor|__proto__)$/))return;const X=Object.getOwnPropertyDescriptor(Z,J);if(X.hasOwnProperty("value"))this.static(J,X.value)},this);return Object.getOwnPropertyNames(Z.prototype).forEach(function(J){if(J.match(/^(constructor)$/))return;const X=Object.getOwnPropertyDescriptor(Z.prototype,J);if(!Y){if(typeof X.value==="function")this.method(J,X.value)}if(typeof X.get==="function"){if(this.virtuals[J])this.virtuals[J].getters=[];this.virtual(J).get(X.get)}if(typeof X.set==="function"){if(this.virtuals[J])this.virtuals[J].setters=[];this.virtual(J).set(X.set)}},this),this};/*!
 * ignore
 */o.prototype._getSchema=function(Z){const Y=this,J=Y.path(Z),X=[];if(J)return J.$fullPath=Z,J;function $(G,K){let Q=G.length+1,z,H;while(Q--)if(H=G.slice(0,Q).join("."),z=K.path(H),z){if(X.push(H),z.caster){if(z.caster instanceof A5.Mixed)return z.caster.$fullPath=X.join("."),z.caster;if(Q!==G.length){if(z.schema){let F;if(G[Q]==="$"||SL(G[Q])){if(Q+1===G.length)return z.$embeddedSchemaType;if(F=$(G.slice(Q+1),z.schema),F)F.$parentSchemaDocArray=F.$parentSchemaDocArray||(z.schema.$isSingleNested?null:z);return F}if(F=$(G.slice(Q),z.schema),F)F.$parentSchemaDocArray=F.$parentSchemaDocArray||(z.schema.$isSingleNested?null:z);return F}}}else if(z.$isSchemaMap){if(Q>=G.length)return z;if(Q+1>=G.length)return z.$__schemaType;if(z.$__schemaType instanceof A5.Mixed)return z.$__schemaType;if(z.$__schemaType.schema!=null)return $(G.slice(Q+1),z.$__schemaType.schema)}return z.$fullPath=X.join("."),z}}const W=Z.split(".");for(let G=0;G<W.length;++G){if(W[G]==="$"||SL(W[G]))W[G]="0";if(NV1.test(W[G]))W[G]="$"}return $(W,Y)};/*!
 * ignore
 */o.prototype._getPathType=function(Z){const Y=this;if(Y.path(Z))return"real";function X($,W){let G=$.length+1,K,Q;while(G--)if(Q=$.slice(0,G).join("."),K=W.path(Q),K){if(K.caster){if(K.caster instanceof A5.Mixed)return{schema:K,pathType:"mixed"};if(G!==$.length&&K.schema){if($[G]==="$"||SL($[G])){if(G===$.length-1)return{schema:K,pathType:"nested"};return X($.slice(G+1),K.schema)}return X($.slice(G),K.schema)}return{schema:K,pathType:K.$isSingleNested?"nested":"array"}}return{schema:K,pathType:"real"}}else if(G===$.length&&W.nested[Q])return{schema:W,pathType:"nested"};return{schema:K||W,pathType:"undefined"}}return X(Z.split("."),Y)};/*!
 * ignore
 */o.prototype._preCompile=function Z(){UV1(this)};/*!
 * Module exports.
 */wh.exports=kL=o;o.Types=A5=OX();/*!
 * ignore
 */kL.ObjectId=A5.ObjectId});var Mh=w((fO1,Rh)=>{/*!
 * Module dependencies.
 */var EV1=J0();class _L extends EV1{constructor(Z,Y){super(Z);this.errors=Y}}Object.defineProperty(_L.prototype,"name",{value:"SyncIndexesError"});Rh.exports=_L});var xL=w((yO1,Ah)=>{Ah.exports=function Z(Y,J,X,$){if(Y[$])return;if(Y[$]=!0,!X||!X.skipTopLevel){let Q=null;for(let z of J){const H=z[1]==null?null:z[1].tags;if(!Array.isArray(H)){Y.plugin(z[0],z[1]);continue}if(Q=Q||new Set(Y.options.pluginTags||[]),!H.find((F)=>Q.has(F)))continue;Y.plugin(z[0],z[1])}}if(X=Object.assign({},X),delete X.skipTopLevel,X.applyPluginsToChildSchemas!==!1)for(let Q of Object.keys(Y.paths)){const z=Y.paths[Q];if(z.schema!=null)Z(z.schema,J,X,$),z.caster.prototype.$__setSchema(z.schema)}const W=Y.discriminators;if(W==null)return;const G=X.applyPluginsToDiscriminators,K=Object.keys(W);for(let Q of K){const z=W[Q];Z(z,J,{skipTopLevel:!G},$)}}});var Nh=w((gO1,Bh)=>{var CV1=J0();class fL extends CV1{constructor(Z,Y){super(Z);this.errors=Y}}Object.defineProperty(fL.prototype,"name",{value:"CreateCollectionsError"});Bh.exports=fL});var Th=w((bO1,Ph)=>{var G1=function(Z){if(this.base=Z,this.collections={},this.models={},this.config={},this.replica=!1,this.options=null,this.otherDbs=[],this.relatedDbs={},this.states=$0,this._readyState=$0.disconnected,this._closeCalled=!1,this._hasOpened=!1,this.plugins=[],typeof Z==="undefined"||!Z.connections.length)this.id=0;else this.id=Z.nextConnectionId;this._queue=[]};async function uV1(Z,Y){try{return await Z(Y)}catch(J){throw dV1(Y),J}}var dV1=function(Z){for(let Y of Z[uX].keys()){const J=Z[uX].get(Y);if(J.hasOwnProperty("isNew"))Y.$isNew=J.isNew;if(J.hasOwnProperty("versionKey"))Y.set(Y.schema.options.versionKey,J.versionKey);if(J.modifiedPaths.length>0&&Y.$__.activePaths.states.modify==null)Y.$__.activePaths.states.modify={};for(let X of J.modifiedPaths){const $=Y.$__.activePaths.paths[X];if($!=null)delete Y.$__.activePaths[$][X];Y.$__.activePaths.paths[X]="modify",Y.$__.activePaths.states.modify[X]=!0}for(let X of J.atomics.keys()){const $=Y.$__getValue(X);if($==null)continue;$[hV1]=J.atomics.get(X)}}},cV1=function(Z,Y,J){if(typeof Y==="function"&&J==null)throw new r8("Connection.prototype.openUri() no longer accepts a callback");else if(typeof J==="function")throw new r8("Connection.prototype.openUri() no longer accepts a callback")},Ih=function(Z){if(Z?.name==="MongoServerSelectionError"){const Y=Z;Z=new _V1,Z.assimilateError(Y)}return Z};/*!
 * Module dependencies.
 */var OV1=zV(),SV1=import.meta.require("events").EventEmitter,kV1=HY(),$0=GZ(),r8=l1(),_V1=PV(),xV1=Mh(),fV1=xL(),yV1=V0(),gV1=v3(),bV1=G0(),Dh=X6(),yL=W1(),vV1=Nh(),hV1=Z1().arrayAtomicsSymbol,uX=Z1().sessionNewDocuments,mV1=["MONGODB-X509"];/*!
 * Inherit from EventEmitter
 */Object.setPrototypeOf(G1.prototype,SV1.prototype);Object.defineProperty(G1.prototype,"readyState",{get:function(){return this._readyState},set:function(Z){if(!(Z in $0))throw new Error("Invalid connection state: "+Z);if(this._readyState!==Z){this._readyState=Z;for(let Y of this.otherDbs)Y.readyState=Z;if($0.connected===Z)this._hasOpened=!0;this.emit($0[Z])}}});G1.prototype.get=function(Z){if(this.config.hasOwnProperty(Z))return this.config[Z];return bV1(this.options,Z)};G1.prototype.set=function(Z,Y){if(this.config.hasOwnProperty(Z))return this.config[Z]=Y,Y;return this.options=this.options||{},this.options[Z]=Y,Y};G1.prototype.collections;G1.prototype.name;G1.prototype.models;G1.prototype.id;Object.defineProperty(G1.prototype,"plugins",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(G1.prototype,"host",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(G1.prototype,"port",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(G1.prototype,"user",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(G1.prototype,"pass",{configurable:!0,enumerable:!0,writable:!0});G1.prototype.db;G1.prototype.client;G1.prototype.config;G1.prototype.createCollection=async function Z(Y,J){if(typeof J==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new r8("Connection.prototype.createCollection() no longer accepts a callback");if((this.readyState===$0.connecting||this.readyState===$0.disconnected)&&this._shouldBufferCommands())await new Promise((X)=>{this._queue.push({fn:X})});return this.db.createCollection(Y,J)};G1.prototype.createCollections=async function Z(Y={}){const J={},X={},{continueOnError:$}=Y;delete Y.continueOnError;for(let W of Object.values(this.models))try{J[W.modelName]=await W.createCollection({})}catch(G){if(!$){X[W.modelName]=G;break}else J[W.modelName]=G}if(!$&&Object.keys(X).length){const W=Object.entries(X).map(([K,Q])=>`${K}: ${Q.message}`).join(", ");throw new vV1(W,X)}return J};G1.prototype.startSession=async function Z(Y){if(arguments.length>=2&&typeof arguments[1]==="function")throw new r8("Connection.prototype.startSession() no longer accepts a callback");if((this.readyState===$0.connecting||this.readyState===$0.disconnected)&&this._shouldBufferCommands())await new Promise((X)=>{this._queue.push({fn:X})});return this.client.startSession(Y)};G1.prototype.transaction=function Z(Y,J){return this.startSession().then((X)=>{return X[uX]=new Map,X.withTransaction(()=>uV1(Y,X),J).then(($)=>{return delete X[uX],$}).catch(($)=>{throw delete X[uX],$}).finally(()=>{X.endSession().catch(()=>{})})})};/*!
 * Reset document state in between transaction retries re: gh-13698
 *//*!
 * If transaction was aborted, we need to reset newly inserted documents' `isNew`.
 */G1.prototype.dropCollection=async function Z(Y){if(arguments.length>=2&&typeof arguments[1]==="function")throw new r8("Connection.prototype.dropCollection() no longer accepts a callback");if((this.readyState===$0.connecting||this.readyState===$0.disconnected)&&this._shouldBufferCommands())await new Promise((J)=>{this._queue.push({fn:J})});return this.db.dropCollection(Y)};G1.prototype.dropDatabase=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new r8("Connection.prototype.dropDatabase() no longer accepts a callback");if((this.readyState===$0.connecting||this.readyState===$0.disconnected)&&this._shouldBufferCommands())await new Promise((Y)=>{this._queue.push({fn:Y})});for(let Y of Object.values(this.models))delete Y.$init;return this.db.dropDatabase()};/*!
 * ignore
 */G1.prototype._shouldBufferCommands=function Z(){if(this.config.bufferCommands!=null)return this.config.bufferCommands;if(this.base.get("bufferCommands")!=null)return this.base.get("bufferCommands");return!0};G1.prototype.error=function(Z,Y){if(Y)return Y(Z),null;if(this.listeners("error").length>0)this.emit("error",Z);return Promise.reject(Z)};G1.prototype.onOpen=function(){this.readyState=$0.connected;for(let Z of this._queue)Z.fn.apply(Z.ctx,Z.args);this._queue=[];for(let Z in this.collections)if(yL.object.hasOwnProperty(this.collections,Z))this.collections[Z].onOpen();this.emit("open")};G1.prototype.openUri=async function Z(Y,J){if(this.readyState===$0.connecting||this.readyState===$0.connected){if(this._connectionString===Y)return this}this._closeCalled=!1;let X=!1;if(J&&"_fireAndForget"in J)X=J._fireAndForget,delete J._fireAndForget;try{cV1.apply(arguments)}catch($){if(X)throw $;throw this.$initialConnection=Promise.reject($),$}this.$initialConnection=this.createClient(Y,J).then(()=>this).catch(($)=>{if(this.readyState=$0.disconnected,this.listeners("error").length>0)Dh(()=>this.emit("error",$));throw $});for(let $ of Object.values(this.models))$.init().catch(function W(){});if(X)return this;try{await this.$initialConnection}catch($){throw Ih($)}return this};/*!
 * ignore
 *//*!
 * ignore
 */G1.prototype.destroy=async function Z(Y){if(typeof Y==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new r8("Connection.prototype.destroy() no longer accepts a callback");if(Y!=null&&typeof Y==="object")this.$wasForceClosed=!!Y.force;else this.$wasForceClosed=!!Y;return this._close(Y,!0)};G1.prototype.close=async function Z(Y){if(typeof Y==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new r8("Connection.prototype.close() no longer accepts a callback");if(Y!=null&&typeof Y==="object")this.$wasForceClosed=!!Y.force;else this.$wasForceClosed=!!Y;for(let J of Object.values(this.models))delete J.$init;return this._close(Y,!1)};G1.prototype._close=async function Z(Y,J){const X=this,$=this._closeCalled;if(this._closeCalled=!0,this._destroyCalled=J,this.client!=null)this.client._closeCalled=!0,this.client._destroyCalled=J;const W=this;switch(this.readyState){case $0.disconnected:if(J&&this.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);if(!$)await this.doClose(Y),this.onClose(Y);break;case $0.connected:if(this.readyState=$0.disconnecting,await this.doClose(Y),J&&X.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);this.onClose(Y);break;case $0.connecting:return new Promise((G,K)=>{const Q=()=>{if(this.removeListener("open",Q),this.removeListener("error",Q),J)this.destroy(Y).then(G,K);else this.close(Y).then(G,K)};this.once("open",Q),this.once("error",Q)});case $0.disconnecting:return new Promise((G)=>{this.once("close",()=>{if(J&&this.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);G()})})}return this};G1.prototype.doClose=function(){throw new Error("Connection#doClose unimplemented by driver")};G1.prototype.onClose=function(Z){this.readyState=$0.disconnected;for(let Y in this.collections)if(yL.object.hasOwnProperty(this.collections,Y))this.collections[Y].onClose(Z);this.emit("close",Z);for(let Y of this.otherDbs)this._destroyCalled?Y.destroy({force:Z,skipCloseClient:!0}):Y.close({force:Z,skipCloseClient:!0})};G1.prototype.collection=function(Z,Y){const J={autoIndex:this.config.autoIndex!=null?this.config.autoIndex:this.base.options.autoIndex,autoCreate:this.config.autoCreate!=null?this.config.autoCreate:this.base.options.autoCreate};Y=Object.assign({},J,Y?yV1(Y):{}),Y.$wasForceClosed=this.$wasForceClosed;const X=this.base&&this.base.__driver&&this.base.__driver.Collection||gV1.get().Collection;if(!(Z in this.collections))this.collections[Z]=new X(Z,this,Y);return this.collections[Z]};G1.prototype.plugin=function(Z,Y){return this.plugins.push([Z,Y]),this};G1.prototype.model=function(Z,Y,J,X){if(!(this instanceof G1))throw new r8("`connection.model()` should not be run with `new`. If you are doing `new db.model(foo)(bar)`, use `db.model(foo)(bar)` instead");let $;if(typeof Z==="function")$=Z,Z=$.name;if(typeof Y==="string")J=Y,Y=!1;if(yL.isObject(Y)){if(!Y.instanceOfSchema)Y=new kV1(Y);else if(!(Y instanceof this.base.Schema))Y=Y._clone(this.base.Schema)}if(Y&&!Y.instanceOfSchema)throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");const W={cache:!1,overwriteModels:this.base.options.overwriteModels},G=Object.assign(W,X,{connection:this});if(this.models[Z]&&!J&&G.overwriteModels!==!0){if(Y&&Y.instanceOfSchema&&Y!==this.models[Z].schema)throw new r8.OverwriteModelError(Z);return this.models[Z]}let K;if(Y&&Y.instanceOfSchema){if(fV1(Y,this.plugins,null,"$connectionPluginsApplied"),K=this.base._model($||Z,Y,J,G),!this.models[Z])this.models[Z]=K;return K.init().catch(function Q(){}),K}if(this.models[Z]&&J)return K=this.models[Z],Y=K.prototype.schema,K.__subclass(this,Y,J);if(arguments.length===1){if(K=this.models[Z],!K)throw new r8.MissingSchemaError(Z);return K}if(!K)throw new r8.MissingSchemaError(Z);if(this===K.prototype.db&&(!J||J===K.collection.name)){if(!this.models[Z])this.models[Z]=K;return K}return this.models[Z]=K.__subclass(this,Y,J),this.models[Z]};G1.prototype.deleteModel=function(Z){if(typeof Z==="string"){const Y=this.model(Z);if(Y==null)return this;const J=Y.collection.name;delete this.models[Z],delete this.collections[J],this.emit("deleteModel",Y)}else if(Z instanceof RegExp){const Y=Z,J=this.modelNames();for(let X of J)if(Y.test(X))this.deleteModel(X)}else throw new Error('First parameter to `deleteModel()` must be a string or regexp, got "'+Z+'"');return this};G1.prototype.watch=function(Z,Y){return new OV1(($)=>{Dh(()=>{if(this.readyState===$0.connecting)this.once("open",function(){const W=this.db.watch(Z,Y);$(null,W)});else{const W=this.db.watch(Z,Y);$(null,W)}})},Z,Y)};G1.prototype.asPromise=async function Z(){try{return await this.$initialConnection,this}catch(Y){throw Ih(Y)}};G1.prototype.modelNames=function(){return Object.keys(this.models)};G1.prototype.shouldAuthenticate=function(){return this.user!=null&&(this.pass!=null||this.authMechanismDoesNotRequirePassword())};G1.prototype.authMechanismDoesNotRequirePassword=function(){if(this.options&&this.options.auth)return mV1.indexOf(this.options.auth.authMechanism)>=0;return!0};G1.prototype.optionsProvideAuthenticationData=function(Z){return Z&&Z.user&&(Z.pass||this.authMechanismDoesNotRequirePassword())};G1.prototype.getClient=function Z(){return this.client};G1.prototype.setClient=function Z(){throw new r8("Connection#setClient not implemented by driver")};/*!
 * Called internally by `openUri()` to create a MongoClient instance.
 */G1.prototype.createClient=function Z(){throw new r8("Connection#createClient not implemented by driver")};G1.prototype.syncIndexes=async function Z(Y={}){const J={},X={},{continueOnError:$}=Y;delete Y.continueOnError;for(let W of Object.values(this.models))try{J[W.modelName]=await W.syncIndexes(Y)}catch(G){if(!$){X[W.modelName]=G;break}else J[W.modelName]=G}if(!$&&Object.keys(X).length){const W=Object.entries(X).map(([K,Q])=>`${K}: ${Q.message}`).join(", ");throw new xV1(W,X)}return J};/*!
 * Module exports.
 */G1.STATES=$0;Ph.exports=G1});var gL=w((vO1,lV1)=>{lV1.exports={name:"mongoose",description:"Mongoose MongoDB ODM",version:"8.0.2",author:"Guillermo Rauch <guillermo@learnboost.com>",keywords:["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],license:"MIT",dependencies:{bson:"^6.2.0",kareem:"2.5.1",mongodb:"6.2.0",mpath:"0.9.0",mquery:"5.0.0",ms:"2.1.3",sift:"16.0.1"},devDependencies:{"@babel/core":"7.23.2","@babel/preset-env":"7.22.20","@typescript-eslint/eslint-plugin":"^6.2.1","@typescript-eslint/parser":"^6.2.1",acquit:"1.3.0","acquit-ignore":"0.2.1","acquit-require":"0.1.1","assert-browserify":"2.0.0",axios:"1.1.3","babel-loader":"8.2.5",benchmark:"2.1.4","broken-link-checker":"^0.7.8",buffer:"^5.6.0",cheerio:"1.0.0-rc.12","crypto-browserify":"3.12.0",dotenv:"16.3.1",dox:"1.0.0",eslint:"8.52.0","eslint-plugin-markdown":"^3.0.1","eslint-plugin-mocha-no-only":"1.1.1",express:"^4.18.1","fs-extra":"~11.1.1","highlight.js":"11.8.0","lodash.isequal":"4.5.0","lodash.isequalwith":"4.4.0","markdownlint-cli2":"^0.10.0",marked:"4.3.0",mkdirp:"^3.0.1",mocha:"10.2.0",moment:"2.x","mongodb-memory-server":"8.15.1",ncp:"^2.0.0",nyc:"15.1.0",pug:"3.0.2",q:"1.5.1",sinon:"17.0.1","stream-browserify":"3.0.0",tsd:"0.29.0",typescript:"5.2.2",uuid:"9.0.1",webpack:"5.89.0"},directories:{lib:"./lib/mongoose"},scripts:{"docs:clean":"npm run docs:clean:stable","docs:clean:stable":"rimraf index.html && rimraf -rf ./docs/*.html  && rimraf -rf ./docs/api && rimraf -rf ./docs/tutorials/*.html && rimraf -rf ./docs/typescript/*.html && rimraf -rf ./docs/*.html && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:5x":"rimraf index.html && rimraf -rf ./docs/5.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:6x":"rimraf index.html && rimraf -rf ./docs/6.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:copy:tmp":"mkdirp ./tmp/docs/css && mkdirp ./tmp/docs/js && mkdirp ./tmp/docs/images && mkdirp ./tmp/docs/tutorials && mkdirp ./tmp/docs/typescript && mkdirp ./tmp/docs/api && ncp ./docs/css ./tmp/docs/css --filter=.css$ && ncp ./docs/js ./tmp/docs/js --filter=.js$ && ncp ./docs/images ./tmp/docs/images && ncp ./docs/tutorials ./tmp/docs/tutorials && ncp ./docs/typescript ./tmp/docs/typescript && ncp ./docs/api ./tmp/docs/api && cp index.html ./tmp && cp docs/*.html ./tmp/docs/","docs:copy:tmp:5x":"rimraf ./docs/5.x && ncp ./tmp ./docs/5.x","docs:move:6x:tmp":"mv ./docs/6.x ./tmp","docs:copy:tmp:6x":"rimraf ./docs/6.x && ncp ./tmp ./docs/6.x","docs:checkout:gh-pages":"git checkout gh-pages","docs:checkout:5x":"git checkout 5.x","docs:checkout:6x":"git checkout 6.x","docs:generate":"node ./scripts/website.js","docs:generate:search":"node ./scripts/generateSearch.js","docs:generate:sponsorData":"node ./scripts/loadSponsorData.js","docs:merge:stable":"git merge master","docs:merge:5x":"git merge 5.x","docs:merge:6x":"git merge 6.x","docs:test":"npm run docs:generate && npm run docs:generate:search","docs:view":"node ./scripts/static.js","docs:prepare:publish:stable":"npm run docs:checkout:gh-pages && npm run docs:merge:stable && npm run docs:generate && npm run docs:generate:search","docs:prepare:publish:5x":"npm run docs:checkout:5x && npm run docs:merge:5x && npm run docs:clean:stable && npm run docs:generate && npm run docs:copy:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:5x","docs:prepare:publish:6x":"npm run docs:checkout:6x && npm run docs:merge:6x && npm run docs:clean:stable && env DOCS_DEPLOY=true npm run docs:generate && npm run docs:move:6x:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:6x","docs:prepare:publish:7x":"env DOCS_DEPLOY=true npm run docs:generate && npm run docs:checkout:gh-pages && rimraf ./docs/7.x && mv ./tmp ./docs/7.x","docs:check-links":"blc http://127.0.0.1:8089 -ro",lint:"eslint .","lint-js":"eslint . --ext .js --ext .cjs","lint-ts":"eslint . --ext .ts","lint-md":"markdownlint-cli2 \"**/*.md\"","build-browser":"(rm ./dist/* || true) && node ./scripts/build-browser.js",prepublishOnly:"npm run build-browser",release:"git pull && git push origin master --tags && npm publish","release-5x":"git pull origin 5.x && git push origin 5.x && git push origin 5.x --tags && npm publish --tag 5x","release-6x":"git pull origin 6.x && git push origin 6.x && git push origin 6.x --tags && npm publish --tag 6x",mongo:"node ./tools/repl.js","publish-7x":"npm publish --tag 7x",test:"mocha --exit ./test/*.test.js","test-deno":"deno run --allow-env --allow-read --allow-net --allow-run --allow-sys --allow-write ./test/deno.js","test-rs":"START_REPLICA_SET=1 mocha --timeout 30000 --exit ./test/*.test.js","test-tsd":"node ./test/types/check-types-filename && tsd",tdd:"mocha ./test/*.test.js --inspect --watch --recursive --watch-files ./**/*.{js,ts}","test-coverage":"nyc --reporter=html --reporter=text npm test","ts-benchmark":"cd ./benchmarks/typescript/simple && npm install && npm run benchmark | node ../../../scripts/tsc-diagnostics-check"},main:"./index.js",types:"./types/index.d.ts",engines:{node:">=16.20.1"},bugs:{url:"https://github.com/Automattic/mongoose/issues/new"},repository:{type:"git",url:"git://github.com/Automattic/mongoose.git"},homepage:"https://mongoosejs.com",browser:"./dist/browser.umd.js",config:{mongodbMemoryServer:{disablePostinstall:!0}},funding:{type:"opencollective",url:"https://opencollective.com/mongoose"},tsd:{directory:"test/types",compilerOptions:{esModuleInterop:!1,strict:!0,allowSyntheticDefaultImports:!0,strictPropertyInitialization:!1,noImplicitAny:!1,strictNullChecks:!0,module:"commonjs",target:"ES2017"}}}});var Eh=w((hO1,jh)=>{var nV1=function(Z,Y){const J=Y?Y:{},X=J.readPreference?J.readPreference:tV1(Z),$=pV1(J);return X&&X!=="primary"&&X!=="primaryPreferred"?aV1(X,$):$},aV1=function(Z,Y){if(sV1(Y)&&rV1(Z))eV1();else return oV1(Y)},sV1=function(Z){const Y=Z.config&&Z.config.autoIndex,{autoCreate:J,autoIndex:X}=Z;return!!(Y||J||X)},rV1=function(Z){return Z==="secondary"||Z==="secondaryPreferred"},tV1=function(Z){const J=/(?:&|\?)readPreference=(\w+)(?:&|$)/.exec(Z);return J?J[1]:null},oV1=function(Z){return Z.config={autoIndex:!1},Z.autoCreate=!1,Z.autoIndex=!1,Z},eV1=function(){throw new iV1('MongoDB prohibits index creation on connections that read from non-primary replicas.  Connections that set "readPreference" to "secondary" or "secondaryPreferred" may not opt-in to the following connection options: autoCreate, autoIndex')},pV1=V0(),iV1=l1();jh.exports=nV1});var Ch=w((ZU1)=>{ZU1.setTimeout=setTimeout});var xh=w((uO1,_h)=>{var B5=function(){Oh.apply(this,arguments),this._listening=!1},bL=function(Z,Y,J,X){const $=X!=null?Y.db(X):Y.db();Z.db=$,Z.client=Y,Z.host=Y&&Y.s&&Y.s.options&&Y.s.options.hosts&&Y.s.options.hosts[0]&&Y.s.options.hosts[0].host||void 0,Z.port=Y&&Y.s&&Y.s.options&&Y.s.options.hosts&&Y.s.options.hosts[0]&&Y.s.options.hosts[0].port||void 0,Z.name=X!=null?X:$.databaseName,Z._closeCalled=Y._closeCalled;const W=()=>{if(Z.readyState!==t8.connected)Z.readyState=t8.connected,Z.emit("reconnect"),Z.emit("reconnected"),Z.onOpen()},G=Y&&Y.topology&&Y.topology.description&&Y.topology.description.type||"";if(G==="Single")Y.on("serverDescriptionChanged",(K)=>{if(K.newDescription.type==="Unknown")Z.readyState=t8.disconnected;else W()});else if(G.startsWith("ReplicaSet"))Y.on("topologyDescriptionChanged",(K)=>{const Q=K.newDescription;if(Z.readyState===t8.connected&&Q.type!=="ReplicaSetWithPrimary")Z.readyState=t8.disconnected;else if(Z.readyState===t8.disconnected&&Q.type==="ReplicaSetWithPrimary")W()});Z.onOpen();for(let K in Z.collections)if(kh.object.hasOwnProperty(Z.collections,K))Z.collections[K].onOpen()};/*!
 * Module dependencies.
 */var Oh=Th(),f9=l1(),t8=GZ(),Sh=pW(),JU1=gL(),XU1=Eh(),$U1=Ch().setTimeout,kh=W1();B5.STATES=t8;/*!
 * Inherits from Connection.
 */Object.setPrototypeOf(B5.prototype,Oh.prototype);B5.prototype.useDb=function(Z,Y){if(Y=Y||{},Y.useCache&&this.relatedDbs[Z])return this.relatedDbs[Z];const J=new this.constructor;J.name=Z,J.base=this.base,J.collections={},J.models={},J.replica=this.replica,J.config=Object.assign({},this.config,J.config),J.name=this.name,J.options=this.options,J._readyState=this._readyState,J._closeCalled=this._closeCalled,J._hasOpened=this._hasOpened,J._listening=!1,J._parent=this,J.host=this.host,J.port=this.port,J.user=this.user,J.pass=this.pass;const X=this;if(J.client=X.client,this.db&&this._readyState===t8.connected)$();else this.once("connected",$);function $(){J.client=X.client;const W={};if(Y.hasOwnProperty("noListener"))W.noListener=Y.noListener;J.db=X.client.db(Z,W),J.onOpen()}if(J.name=Z,Y.noListener!==!0)this.otherDbs.push(J);if(J.otherDbs.push(this),Y&&Y.useCache)this.relatedDbs[J.name]=J,J.relatedDbs=this.relatedDbs;return J};B5.prototype.removeDb=function Z(Y){const J=this.otherDbs.filter((X)=>X.name===Y);if(!J.length)throw new f9(`No connections to database "${Y}" found`);for(let X of J)X._closeCalled=!0,X._destroyCalled=!0,X._readyState=t8.disconnected,X.$wasForceClosed=!0;delete this.relatedDbs[Y],this.otherDbs=this.otherDbs.filter((X)=>X.name!==Y)};B5.prototype.doClose=async function Z(Y){if(this.client==null)return this;let J=!1;if(Y!=null&&typeof Y==="object")J=Y.skipCloseClient,Y=Y.force;if(J)return this;return await this.client.close(Y),await new Promise((X)=>$U1(X,1)),this};/*!
 * ignore
 */B5.prototype.createClient=async function Z(Y,J){if(typeof Y!=="string")throw new f9("The `uri` parameter to `openUri()` must be a "+`string, got "${typeof Y}". Make sure the first parameter to `+"`mongoose.connect()` or `mongoose.createConnection()` is a string.");if(this._destroyCalled)throw new f9("Connection has been closed and destroyed, and cannot be used for re-opening the connection. Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.");if(this.readyState===t8.connecting||this.readyState===t8.connected){if(this._connectionString!==Y)throw new f9("Can\'t call `openUri()` on an active connection with different connection strings. Make sure you aren\'t calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections")}if(J=XU1(Y,J),J){const W=J.config&&J.config.autoIndex!=null?J.config.autoIndex:J.autoIndex;if(W!=null)this.config.autoIndex=W!==!1,delete J.config,delete J.autoIndex;if("autoCreate"in J)this.config.autoCreate=!!J.autoCreate,delete J.autoCreate;if("sanitizeFilter"in J)this.config.sanitizeFilter=J.sanitizeFilter,delete J.sanitizeFilter;if(J.user||J.pass)J.auth=J.auth||{},J.auth.username=J.user,J.auth.password=J.pass,this.user=J.user,this.pass=J.pass;if(delete J.user,delete J.pass,J.bufferCommands!=null)this.config.bufferCommands=J.bufferCommands,delete J.bufferCommands}else J={};this._connectionOptions=J;const X=J.dbName;if(X!=null)this.$dbName=X;if(delete J.dbName,!kh.hasUserDefinedProperty(J,"driverInfo"))J.driverInfo={name:"Mongoose",version:JU1.version};this.readyState=t8.connecting,this._connectionString=Y;let $;try{$=new Sh.MongoClient(Y,J)}catch(W){throw this.readyState=t8.disconnected,W}this.client=$,$.setMaxListeners(0),await $.connect(),bL(this,$,J,X);for(let W of this.otherDbs)bL(W,$,{},W.name);return this};/*!
 * ignore
 */B5.prototype.setClient=function Z(Y){if(!(Y instanceof Sh.MongoClient))throw new f9("Must call `setClient()` with an instance of MongoClient");if(this.readyState!==t8.disconnected)throw new f9("Cannot call `setClient()` on a connection that is already connected.");if(Y.topology==null)throw new f9("Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.");this._connectionString=Y.s.url,bL(this,Y,{},Y.s.options.dbName);for(let J of Object.values(this.models))J.init().catch(function X(){});return this};/*!
 * ignore
 *//*!
 * Module exports.
 */_h.exports=B5});var fh=w((WU1)=>{/*!
 * Module exports.
 */WU1.Collection=l_();WU1.Connection=xh()});var gh=w((cO1,yh)=>{/*!
 * Valid mongoose options
 */var QU1=Object.freeze(["allowDiskUse","applyPluginsToChildSchemas","applyPluginsToDiscriminators","autoCreate","autoIndex","bufferCommands","bufferTimeoutMS","cloneSchemas","debug","id","timestamps.createdAt.immutable","maxTimeMS","objectIdGetter","overwriteModels","returnOriginal","runValidators","sanitizeFilter","sanitizeProjection","selectPopulatedPaths","setDefaultsOnInsert","strict","strictPopulate","strictQuery","toJSON","toObject","translateAliases"]);yh.exports=QU1});var vh=w((lO1,bh)=>{/*!
 * Module dependencies.
 */var zU1=l1();class vL extends zU1{constructor(Z){let Y=Z.map((J)=>J.message).join(", ");if(Y.length>50)Y=Y.slice(0,50)+"...";super(`eachAsync() finished with ${Z.length} errors: ${Y}`);this.errors=Z}}Object.defineProperty(vL.prototype,"name",{value:"EachAsyncMultiError"});/*!
 * exports
 */bh.exports=vL});var mL=w((pO1,mh)=>{var FU1=function(){const Z=[];let Y=null,J=0;return function $(W){if(Y===null&&Z.length===0)return Y=J++,W(X);Z.push(W)};function X(){if(Z.length!==0)Y=J++,Z.shift()(X);else Y=null}},hh=function(Z){if(Z.length===0)return null;return new HU1(Z)};/*!
 * Module dependencies.
 */var HU1=vh(),hL=X6();mh.exports=async function Z(Y,J,X){const $=X.parallel||1,W=X.batchSize,G=X.signal,K=X.continueOnError,Q=[],z=FU1();let H=!1;return new Promise((V,U)=>{if(G!=null){if(G.aborted)return V(null);G.addEventListener("abort",()=>{return H=!0,V(null)},{once:!0})}if(W!=null){if(typeof W!=="number")throw new TypeError("batchSize must be a number");else if(!Number.isInteger(W))throw new TypeError("batchSize must be an integer");else if(W<1)throw new TypeError("batchSize must be at least 1")}F((L,R)=>{if(L!=null)return U(L);V(R)})});function F(V){let U=0,L=0,R=null;for(let B=0;B<$;++B)z(A());function A(){let B=[],M=!1;return D;function D(d){if(M||H)return d();else if(R)return d();Y(function(O,E){if(R!=null)return d();if(O!=null)if(O.name==="MongoCursorExhaustedError")E=null;else if(K)Q.push(O);else return R=O,V(O),d();if(E==null){if(M=!0,U<=0){const c=K?hh(Q):R;V(c)}else if(W&&B.length)q(B,L++,n);return d()}if(++U,hL(()=>d()),W)B.push(E);if(W&&B.length!==W){hL(()=>z(D));return}const j=W?B:E;function n(c){if(W)U-=B.length,B=[];else--U;if(c!=null)if(K)Q.push(c);else return R=c,V(c);if((M||H)&&U<=0){const y=K?hh(Q):R;return V(y)}hL(()=>z(D))}q(j,L++,n)})}}}function q(V,U,L){let R;try{R=J(V,U)}catch(A){return L(A)}if(R&&typeof R.then==="function")R.then(function(){L(null)},function(A){L(A||new Error("`eachAsync()` promise rejected without error"))});else L(null)}}});var rh=w((iO1,ah)=>{var o8=function(Z){lh.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.skipped=!1,this.query=Z;const Y=Z.model;this._mongooseOptions={},this._transforms=[],this.model=Y,this.options={},Y.hooks.execPre("find",Z,(J)=>{if(J!=null){if(J instanceof VU1.skipWrappedFunction){const X=J.args[0];if(X!=null&&(!Array.isArray(X)||X.length)){const $=new dL('Cannot `skipMiddlewareFunction()` with a value when using `.find().cursor()`, value must be nullish or empty array, got "'+ih.inspect(X)+'".');this._markError($),this.listeners("error").length>0&&this.emit("error",$);return}this.skipped=!0,this.emit("cursor",null);return}this._markError(J),this.listeners("error").length>0&&this.emit("error",J);return}if(Object.assign(this.options,Z._optionsForExec()),this._transforms=this._transforms.concat(Z._transforms.slice()),this.options.transform)this._transforms.push(this.options.transform);if(this.options.batchSize)this.options._populateBatchSize=Math.min(this.options.batchSize,5000);if(Y.collection._shouldBufferCommands()&&Y.collection.buffer)Y.collection.queue.push([()=>uh(Z,this)]);else uh(Z,this)})},uh=function(Z,Y){try{const J=Z.model.collection.find(Z._conditions,Y.options);Y.cursor=J,Y.emit("cursor",J)}catch(J){Y._markError(J),Y.listeners("error").length>0&&Y.emit("error",Y._error)}},dh=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},GK=function(Z,Y){let J=Y;if(Z._transforms.length)J=function(X,$){if(X||$===null&&!Z._mongooseOptions.transformNull)return Y(X,$);Y(X,Z._transforms.reduce(function(W,G){return G.call(Z,W)},$))};if(Z._error)return uL(function(){J(Z._error)});if(Z.skipped)return uL(()=>J(null,null));if(Z.cursor){if(Z.query._mongooseOptions.populate&&!Z._pop)Z._pop=ph.preparePopulationOptionsMQ(Z.query,Z.query._mongooseOptions),Z._pop.__noPromise=!0;if(Z.query._mongooseOptions.populate&&Z.options._populateBatchSize>1)if(Z._batchDocs&&Z._batchDocs.length)return WK(Z,Z._batchDocs.shift(),Z._pop,J);else if(Z._batchExhausted)return J(null,null);else{Z._batchDocs=[],Z.cursor.next().then((X)=>{IY.call({ctx:Z,callback:J},null,X)},(X)=>{IY.call({ctx:Z,callback:J},X)});return}else return Z.cursor.next().then((X)=>{if(!X){J(null,null);return}if(!Z.query._mongooseOptions.populate)return WK(Z,X,null,J);Z.query.model.populate(X,Z._pop).then(($)=>{WK(Z,$,Z._pop,J)},($)=>{J($)})},(X)=>{J(X)})}else Z.once("error",Y),Z.once("cursor",function(X){if(Z.removeListener("error",Y),X==null){if(Z.skipped)return Y(null,null);return}GK(Z,Y)})},IY=function(Z,Y){if(Z)return this.callback(Z);if(!Y)return this.ctx._batchExhausted=!0,ch.call(this);if(this.ctx._batchDocs.push(Y),this.ctx._batchDocs.length<this.ctx.options._populateBatchSize){if(this.ctx._batchDocs.length>0&&this.ctx._batchDocs.length%1000===0)return uL(()=>this.ctx.cursor.next().then((J)=>{IY.call(this,null,J)},(J)=>{IY.call(this,J)}));this.ctx.cursor.next().then((J)=>{IY.call(this,null,J)},(J)=>{IY.call(this,J)})}else ch.call(this)},ch=function(){if(!this.ctx._batchDocs.length)return this.callback(null,null);this.ctx.query.model.populate(this.ctx._batchDocs,this.ctx._pop).then(()=>{WK(this.ctx,this.ctx._batchDocs.shift(),this.ctx._pop,this.callback)},(Z)=>{this.callback(Z)})},WK=function(Z,Y,J,X){if(Z.query._mongooseOptions.lean)return Z.model.hooks.execPost("find",Z.query,[[Y]],(Q)=>{if(Q!=null)return X(Q);X(null,Y)});const{model:$,_fields:W,_userProvidedFields:G,options:K}=Z.query;ph.createModelAndInit($,Y,W,G,K,J,(Q,z)=>{if(Q!=null)return X(Q);Z.model.hooks.execPost("find",Z.query,[[z]],(H)=>{if(H!=null)return X(H);X(null,z)})})},nh=function(Z,Y){if(Z.cursor)return Y();Z.once("cursor",function(J){if(J==null)return;Y()})};/*!
 * Module dependencies.
 */var dL=J0(),lh=import.meta.require("stream").Readable,qU1=mL(),ph=KY(),VU1=tZ(),uL=X6(),ih=import.meta.require("util");ih.inherits(o8,lh);/*!
 * ignore
 */o8.prototype._read=function(){GK(this,(Z,Y)=>{if(Z)return this.emit("error",Z);if(!Y){this.push(null),this.cursor.close(function(J){if(J)return this.emit("error",J)});return}this.push(Y)})};Object.defineProperty(o8.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});o8.prototype._markError=function(Z){return this._error=Z,this};o8.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new dL("QueryCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close(),this.emit("close")}catch(Y){throw this.listeners("error").length>0&&this.emit("error",Y),Y}};o8.prototype.rewind=function(){return nh(this,()=>{this.cursor.rewind()}),this};o8.prototype.next=async function Z(){if(arguments[0]==="function")throw new dL("QueryCursor.prototype.next() no longer accepts a callback");return new Promise((Y,J)=>{GK(this,function(X,$){if(X)return J(X);Y($)})})};o8.prototype.eachAsync=function(Z,Y,J){if(typeof Y==="function")J=Y,Y={};return Y=Y||{},qU1((X)=>GK(this,X),Z,Y,J)};o8.prototype.options;o8.prototype.addCursorFlag=function(Z,Y){return nh(this,()=>{this.cursor.addCursorFlag(Z,Y)}),this};/*!
 * ignore
 */o8.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */o8.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(dh)===-1)this.map(dh);return this};if(Symbol.asyncIterator!=null)o8.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */ah.exports=o8});var lL=w((nO1,oh)=>{var UU1=function(Z,Y){th(Z,Y,"maxTimeMS")},LU1=function(Z,Y){th(Z,Y,"allowDiskUse")},th=function(Z,Y,J){if(cL.hasUserDefinedProperty(Z,J))return;if(cL.hasUserDefinedProperty(Y.db.options,J))Z[J]=Y.db.options[J];else if(cL.hasUserDefinedProperty(Y.base.options,J))Z[J]=Y.base.options[J]},cL=W1();oh.exports={applyGlobalMaxTimeMS:UU1,applyGlobalDiskUse:LU1}});var pL=w((aO1,eh)=>{var wU1=G0();eh.exports=function Z(Y,J){if(J.writeConcern!=null)return;const X=wU1(Y,"options.writeConcern",{});if(Object.keys(X).length!=0){if(J.writeConcern={},!("w"in J)&&X.w!=null)J.writeConcern.w=X.w;if(!("j"in J)&&X.j!=null)J.writeConcern.j=X.j;if(!("wtimeout"in J)&&X.wtimeout!=null)J.writeConcern.wtimeout=X.wtimeout}else{if(!("w"in J)&&X.w!=null)J.w=X.w;if(!("j"in J)&&X.j!=null)J.j=X.j;if(!("wtimeout"in J)&&X.wtimeout!=null)J.wtimeout=X.wtimeout}}});var Jm=w((sO1,Ym)=>{var Zm=kG();Ym.exports=function Z(Y,J,X){const $=Y;if(!Object.keys(X).some(Zm))return J.castForQuery(null,X,$);const G=Object.keys(X);let K=G.length;while(K--){const Q=G[K],z=X[Q];if(Q==="$not"){if(z&&J&&!J.caster){const H=Object.keys(z);if(H.length&&Zm(H[0]))for(let F of Object.keys(z))z[F]=J.castForQuery(F,z[F],$);else X[Q]=J.castForQuery(Q,z,$);continue}}else X[Q]=J.castForQuery(Q,z,$)}return X}});var $m=w((rO1,Xm)=>{var RU1=/^\d+$/;Xm.exports=function Z(Y,J){let X=Y.path(J);if(X!=null)return X;const $=J.split(".");let W="",G=!1;for(let K of $){if(G&&RU1.test(K))continue;if(W=W.length===0?K:W+"."+K,X=Y.path(W),X!=null&&X.schema){if(Y=X.schema,W="",!G&&X.$isMongooseDocumentArray)G=!0}}return X}});var iL=w((tO1,Gm)=>{var Wm=$Y().modifiedPaths;Gm.exports=function Z(Y){const J=Object.keys(Y),X={},$={};for(let W of J){if(W.startsWith("$")){Wm(Y[W],"",X);continue}$[W]=Y[W]}return Wm($,"",X),X}});var nL=w((oO1,Km)=>{var MU1=iL();Km.exports=function Z(Y){if(Y==null)return{};const J=MU1(Y);return Object.keys(J).reduce((X,$)=>{const W=$.match(/\$\[[^\]]+\]/g);if(W==null)return X;for(let G of W){const K=$.indexOf(G);if(K!==$.lastIndexOf(G))throw new Error(`Path '${$}' contains the same array filter multiple times`);X[G.substring(2,G.length-1)]=$.substring(0,K-1).replace(/\$\[[^\]]+\]/g,"0")}return X},{})}});var qm=w((eO1,Fm)=>{var Hm=function(Z,Y,J,X,$){if(!Array.isArray(Z))return;for(let W of Z){if(W==null)throw new Error(`Got null array filter in ${Z}`);const G=Object.keys(W).filter((V)=>W[V]!=null);if(G.length===0)continue;const K=G[0];if(K==="$and"||K==="$or"){for(let V of G)Hm(W[V],Y,J,X,$);continue}const Q=K.indexOf("."),z=Q===-1?K:K.substring(0,Q);if(X[z]==null)continue;const H=Qm(X[z]),F=zm(Y,H);let q=F!=null?F.schema:null;if(q!=null&&q.discriminators!=null&&W[z+"."+q.options.discriminatorKey])q=q.discriminators[W[z+"."+q.options.discriminatorKey]]||q;for(let V of G){if(X[V]===null)continue;if(Object.keys(X).length===0)continue;const U=V.indexOf(".");let L=U===-1?null:V.substring(U),R;if(L==null||q==null)R=F;else L=Qm(L),R=zm(q,L);if(R==null){if(!J)return;const A=L==null?H+".0":H+".0"+L;throw new Error(`Could not find path "${A}" in schema`)}if(typeof W[V]==="object")W[V]=AU1($,R,W[V]);else W[V]=R.castForQuery(null,W[V])}}},AU1=Jm(),Qm=IX(),zm=$m(),BU1=nL();Fm.exports=function Z(Y){const J=Y.options.arrayFilters,X=Y.getUpdate(),$=Y.schema,W=BU1(X);let G=$.options.strict;if(Y._mongooseOptions.strict!=null)G=Y._mongooseOptions.strict;if(Y.model&&Y.model.base.options.strictQuery!=null)G=Y.model.base.options.strictQuery;if($._userProvidedOptions.strictQuery!=null)G=$._userProvidedOptions.strictQuery;if(Y._mongooseOptions.strictQuery!=null)G=Y._mongooseOptions.strictQuery;Hm(J,$,G,W,Y)}});var Lm=w((ZS1,Um)=>{var NU1=IX(),Vm=G0(),DU1=A7(),IU1=nL();Um.exports=function Z(Y,J,X,$,W){const G=$.split(".");let K=null,Q="adhocOrUndefined";X=X||{},J=J||{};const z=W!=null&&Array.isArray(W.arrayFilters)?W.arrayFilters:[],H=IU1(J);for(let F=0;F<G.length;++F){const q=NU1(G.slice(0,F+1).join("."));if(K=Y.path(q),K==null)continue;if(Q=Y.pathType(q),(K.$isSingleNested||K.$isMongooseDocumentArrayElement)&&K.schema.discriminators!=null){const V=Vm(K,"schema.options.discriminatorKey"),U=q+"."+V,L=U.replace(/\.\d+\./,".");let R=null;if(U in X)R=X[U];if(L in X)R=X[L];const A=q.replace(/\.\d+$/,"");if(K.$isMongooseDocumentArrayElement&&Vm(X[A],"$elemMatch."+V)!=null)R=X[A].$elemMatch[V];if(U in J)R=J[U];for(let d of Object.keys(H)){const O=H[d]+"."+V,E=d+"."+V;if(O===L){const j=z.find((n)=>n.hasOwnProperty(E));if(j!=null)R=j[E]}}if(R==null)continue;const B=DU1(K.caster.discriminators,R),M=B&&B.schema;if(M==null)continue;const D=G.slice(F+1).join(".");if(K=M.path(D),K!=null){Q=M._getPathType(D);break}}}return{type:Q,schematype:K}}});var Rm=w((YS1,wm)=>{var PU1=F5();wm.exports=function Z(Y,J,X,$,W,G){if(Y==null||!Y.options||!Y.options.immutable)return!1;let K=Y.options.immutable;if(typeof K==="function")K=K.call(G,G);if(!K)return!1;if(J===!1)return!1;if(J==="throw")throw new PU1(null,`Field ${W} is immutable and strict = 'throw'`);return delete X[$],!0}});var Bm=w((JS1,Am)=>{var Mm=function(Z,Y,J,X,$){const W=Z.path(J);if(W==null)return;let G=TU1(W,"options.immutable",null);if(G==null)return;if(typeof G==="function")G=G.call($,$);if(!G)return;X.$setOnInsert=X.$setOnInsert||{},X.$setOnInsert[J]=Y[J],delete Y[J]},TU1=G0();Am.exports=function Z(Y,J,X){if(J==null)return;const $=Object.keys(J);for(let W of $){const G=W.startsWith("$");if(W==="$set"){const K=Object.keys(J[W]);for(let Q of K)Mm(Y,J[W],Q,J,X)}else if(!G)Mm(Y,J,W,J,X)}}});var sL=w((XS1,Nm)=>{var aL=p5();Nm.exports=function Z(Y,J,X){if(J.indexOf(".")===-1){if(aL.has(J))return;Y[J]=X;return}const $=J.split("."),W=$.pop();let G=Y;for(let K of $){if(aL.has(K))continue;if(G[K]==null)G[K]={};G=G[K]}if(!aL.has(W))G[W]=X}});var Yw=w(($S1,Om)=>{var kU1=function(Z,Y){if(Z==="$unset"){if(typeof Y!=="string"&&(!Array.isArray(Y)||Y.find((J)=>typeof J!=="string")))throw new dX("Invalid $unset in pipeline, must be  a string or an array of strings");return Y}if(Z==="$project"){if(Y==null||typeof Y!=="object")throw new dX("Invalid $project in pipeline, must be an object");return Y}if(Z==="$addFields"||Z==="$set"){if(Y==null||typeof Y!=="object")throw new dX("Invalid "+Z+" in pipeline, must be an object");return Y}else if(Z==="$replaceRoot"||Z==="$replaceWith"){if(Y==null||typeof Y!=="object")throw new dX("Invalid "+Z+" in pipeline, must be an object");return Y}throw new dX('Invalid update pipeline operator: "'+Z+'"')},Cm=function(Z,Y,J,X,$,W,G){const K=X.strict,Q=G?G+".":"",z=Object.keys(Y);let H=z.length,F=!1,q,V,U,L=null;const R=K!=null?K:Z.options.strict;while(H--){if(V=z[H],U=Y[V],J==="$pull"){if(q=Z._getSchema(Q+V),q!=null&&q.schema!=null){Y[V]=EU1(q.schema,Y[V],X,$),F=!0;continue}}const A=Q?Q+V:V;if(Z.discriminatorMapping!=null&&A===Z.options.discriminatorKey&&Z.discriminatorMapping.value!==Y[V]&&!X.overwriteDiscriminatorKey){if(R==="throw"){const B=new Error('Can\'t modify discriminator key "'+A+'" on discriminator model');L=PY(B,$,A,L);continue}else if(R){delete Y[V];continue}}if(CU1(U)==="Object"){if(q=Z._getSchema(Q+V),q==null){const B=Im(Z,Y,W,Q+V,X);if(B.schematype!=null)q=B.schematype}if(J!=="$setOnInsert"&&Pm(q,K,Y,V,Q+V,$))continue;if(q&&q.caster&&J in eL)if("$each"in U){F=!0;try{Y[V]={$each:cX(q,U.$each,J,V,$,Q+V)}}catch(B){L=PY(B,$,V,L)}if(U.$slice!=null)Y[V].$slice=U.$slice|0;if(U.$sort)Y[V].$sort=U.$sort;if(U.$position!=null)Y[V].$position=tL(U.$position)}else{if(q!=null&&q.$isSingleNested){const B=K==null?q.schema.options.strict:K;try{Y[V]=q.castForQuery(null,U,$,{strict:B})}catch(M){L=PY(M,$,V,L)}}else try{Y[V]=cX(q,U,J,V,$,Q+V)}catch(B){L=PY(B,$,V,L)}if(Y[V]===void 0){delete Y[V];continue}F=!0}else if(J==="$currentDate"||J in eL&&q){try{Y[V]=cX(q,U,J,V,$,Q+V)}catch(B){L=PY(B,$,V,L)}if(Y[V]===void 0){delete Y[V];continue}F=!0}else{const B=Q+V,M=Z._getPathType(B);let D=K;if(M&&M.schema&&D==null)D=M.schema.options.strict;if(M.pathType==="undefined"){if(D==="throw")throw new Dm(B);else if(D){delete Y[V];continue}}F|=Cm(Z,U,J,X,$,W,Q+V)||Zw.isObject(U)&&Object.keys(U).length===0}}else{const B=V==="$each"||V==="$or"||V==="$and"||V==="$in"?G:Q+V;if(q=Z._getSchema(B),J!=="$setOnInsert"&&Pm(q,K,Y,V,Q+V,$))continue;let M=Z._getPathType(B);if(q==null){const O=Im(Z,Y,W,B,X);if(O.schematype!=null)q=O.schematype,M=O.type}let D=K;if(M&&M.schema&&K==null)D=M.schema.options.strict;if(D&&!q&&!/real|nested/.test(M.pathType))if(D==="throw"&&Z.virtuals[B]==null)throw new Dm(Q+V);else delete Y[V];else{if(J==="$rename"){F=!0;continue}try{if(Q.length===0||V.indexOf(".")===-1)Y[V]=cX(q,U,J,V,$,Q+V);else if(D!==!1||q!=null)SU1(Y,V,cX(q,U,J,V,$,Q+V)),delete Y[V]}catch(O){L=PY(O,$,V,L)}if(Array.isArray(Y[V])&&(J==="$addToSet"||J==="$push")&&V!=="$each"){if(q&&q.caster&&!q.caster.$isMongooseArray&&!q.caster[Em])Y[V]={$each:Y[V]}}if(Y[V]===void 0){delete Y[V];continue}F=!0}}}if(L!=null)throw L;return F},PY=function(Z,Y,J,X){if(typeof Y!=="object"||!Y.options.multipleCastError)throw Z;return X=X||new jU1,X.addError(J,Z),X},cX=function(Z,Y,J,X,$,W){if(!Z){if(J in Tm)try{return tL(Y)}catch(K){throw new rL("number",Y,W)}return Y}if(Z.caster&&J in eL&&(Zw.isObject(Y)||Array.isArray(Y))&&!jm[J]){let K=0,Q=Z;while(Q.$isMongooseArray)++K,Q=Q.caster;let z=0,H=Y;while(Array.isArray(H))++z,H=H[0];const F=K-z;while(z<K)Y=[Y],++z;let q=Z.applySetters(Array.isArray(Y)?Y:[Y],$);for(let V=0;V<F;++V)q=q[0];return q}if(J in _U1)return Y;if(J in Tm){if(Y==null)throw new rL("number",Y,Z.path);if(J==="$inc")return Z.castForQuery(null,Y,$);try{return tL(Y)}catch(K){throw new rL("number",Y,Z.path)}}if(J==="$currentDate"){if(typeof Y==="object")return{$type:Y.$type};return Boolean(Y)}if(oL.has(X))return Z.castForQuery(X,Y,$);if(jm[J]){const K=Y!=null&&Z.$isMongooseArray&&Z.$fullPath!=null&&!Z.$fullPath.match(/\d+$/),Q=Z[Em]!=null;if(K||Q)return Z.applySetters(Y,$);return Z.castForQuery(null,Y,$)}return Z.castForQuery(null,Y,$)},rL=I8(),dX=J0(),Dm=F5(),jU1=N9(),tL=EX(),EU1=LY(),CU1=c8(),Im=Lm(),Pm=Rm(),OU1=Bm(),Em=I9().schemaMixedSymbol,SU1=sL(),Zw=W1(),oL=new Set(["$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$bit"]);Om.exports=function Z(Y,J,X,$,W){if(J==null)return;if(X=X||{},Array.isArray(J)){const F=J.length;for(let q=0;q<F;++q){const V=Object.keys(J[q]);for(let U of V)J[q][U]=kU1(U,J[q][U])}return J}if(X.upsert)OU1(Y,J,$);const G=Object.keys(J);let K=G.length;const Q={};let z,H=!1;W=W||{};while(K--){const F=G[K];if(!oL.has(F)){if(!Q.$set)if(J.$set)Q.$set=J.$set;else Q.$set={};if(Q.$set[F]=J[F],G.splice(K,1),!~G.indexOf("$set"))G.push("$set")}else if(F==="$set"){if(!Q.$set)Q[F]=J[F]}else Q[F]=J[F]}K=G.length;while(K--){const F=G[K];if(z=Q[F],H=H||F.startsWith("$"),z&&typeof z==="object"&&!Buffer.isBuffer(z)&&oL.has(F))Cm(Y,z,F,X,$,W);else{const q="Invalid atomic update value for "+F+". Expected an object, received "+typeof z;throw new Error(q)}if(F.startsWith("$")&&Zw.isEmptyObject(z))delete Q[F]}if(Object.keys(Q).length===0&&X.upsert&&Object.keys(W).length>0)return{$setOnInsert:{...W}};return Q};/*!
 * ignore
 *//*!
 * ignore
 */var Tm={$pop:1,$inc:1},_U1={$unset:1},eL={$push:1,$addToSet:1,$set:1,$setOnInsert:1};/*!
 * ignore
 */var jm={$set:1,$setOnInsert:1}});var km=w((WS1,Sm)=>{async function fU1(Z,Y,J,X,$){return Promise.all(Y.map((W)=>new Promise((G,K)=>{const Q=W;if(W=xU1.createModel(Z,W,J,X),$.session!=null)W.$session($.session);W.$init(Q,$,(z)=>{if(z!=null)return K(z);G(W)})})))}var xU1=KY();Sm.exports=fU1});var KK=w((GS1,_m)=>{var yU1=WY();/*!
 * ignore
 */_m.exports=function Z(Y){if(Y==null)return!1;const J=Object.keys(Y),X=J.length;if(X===0)return!1;for(let $=0;$<X;++$){const W=J[$];if(W.startsWith("+"))continue;if(yU1(Y[W])&&!!Y[W])if(Y[W]!=null&&typeof Y[W]==="object")return Z(Y[W]);else return!!Y[W]}return!1}});var fm=w((KS1,xm)=>{xm.exports=function Z(Y,J){return Y===J||J.startsWith(Y+".")}});var vm=w((hU1)=>{var vU1=function(Z){if(arguments.length>1)throw new Error("Adding properties is not supported");function Y(){}return Y.prototype=Z,new Y};/*!
 * Module dependencies.
 */var Jw=["__proto__","constructor","prototype"],QK=hU1.clone=function Z(Y,J){if(Y===void 0||Y===null)return Y;if(Array.isArray(Y))return hU1.cloneArray(Y,J);if(Y.constructor){if(/ObjectI[dD]$/.test(Y.constructor.name))return typeof Y.clone=="function"?Y.clone():new Y.constructor(Y.id);if(Y.constructor.name==="ReadPreference")return new Y.constructor(Y.mode,Z(Y.tags,J));if(Y._bsontype=="Binary"&&Y.buffer&&Y.value)return typeof Y.clone=="function"?Y.clone():new Y.constructor(Y.value(!0),Y.sub_type);if(Y.constructor.name==="Date"||Y.constructor.name==="Function")return new Y.constructor(+Y);if(Y.constructor.name==="RegExp")return new RegExp(Y);if(Y.constructor.name==="Buffer")return Buffer.from(Y)}if(bU1(Y))return hU1.cloneObject(Y,J);if(Y.valueOf)return Y.valueOf()};/*!
 * ignore
 */hU1.cloneObject=function Z(Y,J){const X=J&&J.minimize,$={},W=Object.keys(Y),G=W.length;let K=!1,Q,z="",H=0;for(H=0;H<G;++H){if(z=W[H],Jw.indexOf(z)!==-1)continue;if(Q=QK(Y[z],J),!X||typeof Q!=="undefined")K||(K=!0),$[z]=Q}return X?K&&$:$};hU1.cloneArray=function Z(Y,J){const X=[],$=Y.length;let W=0;for(;W<$;W++)X.push(QK(Y[W],J));return X};hU1.merge=function Z(Y,J){const X=Object.keys(J);for(let $ of X){if(Jw.indexOf($)!==-1)continue;if(typeof Y[$]==="undefined")Y[$]=J[$];else if(hU1.isObject(J[$]))Z(Y[$],J[$]);else Y[$]=J[$]}};hU1.mergeClone=function Z(Y,J){const X=Object.keys(J);for(let $ of X){if(Jw.indexOf($)!==-1)continue;if(typeof Y[$]==="undefined")Y[$]=QK(J[$]);else if(hU1.isObject(J[$]))Z(Y[$],J[$]);else Y[$]=QK(J[$])}};hU1.readPref=function Z(Y){switch(Y){case"p":Y="primary";break;case"pp":Y="primaryPreferred";break;case"s":Y="secondary";break;case"sp":Y="secondaryPreferred";break;case"n":Y="nearest";break}return Y};hU1.readConcern=function Z(Y){if(typeof Y==="string"){switch(Y){case"l":Y="local";break;case"a":Y="available";break;case"m":Y="majority";break;case"lz":Y="linearizable";break;case"s":Y="snapshot";break}Y={level:Y}}return Y};var gU1=Object.prototype.toString;hU1.toString=function(Z){return gU1.call(Z)};var bU1=hU1.isObject=function(Z){return hU1.toString(Z)=="[object Object]"};hU1.keys=Object.keys;hU1.create=typeof Object.create=="function"?Object.create:vU1;hU1.inherits=function(Z,Y){Z.prototype=hU1.create(Y.prototype),Z.prototype.constructor=Z};hU1.isArgumentsObject=function(Z){return Object.prototype.toString.call(Z)==="[object Arguments]"}});var mm=w((HS1,hm)=>{var tU1=function(Z){if(Z=String(Z),Z.length>100)return;var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!Y)return;var J=parseFloat(Y[1]),X=(Y[2]||"ms").toLowerCase();switch(X){case"years":case"year":case"yrs":case"yr":case"y":return J*rU1;case"weeks":case"week":case"w":return J*sU1;case"days":case"day":case"d":return J*y9;case"hours":case"hour":case"hrs":case"hr":case"h":return J*EY;case"minutes":case"minute":case"mins":case"min":case"m":return J*jY;case"seconds":case"second":case"secs":case"sec":case"s":return J*TY;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}},oU1=function(Z){var Y=Math.abs(Z);if(Y>=y9)return Math.round(Z/y9)+"d";if(Y>=EY)return Math.round(Z/EY)+"h";if(Y>=jY)return Math.round(Z/jY)+"m";if(Y>=TY)return Math.round(Z/TY)+"s";return Z+"ms"},eU1=function(Z){var Y=Math.abs(Z);if(Y>=y9)return zK(Z,Y,y9,"day");if(Y>=EY)return zK(Z,Y,EY,"hour");if(Y>=jY)return zK(Z,Y,jY,"minute");if(Y>=TY)return zK(Z,Y,TY,"second");return Z+" ms"},zK=function(Z,Y,J,X){var $=Y>=J*1.5;return Math.round(Z/J)+" "+X+($?"s":"")},TY=1000,jY=TY*60,EY=jY*60,y9=EY*24,sU1=y9*7,rU1=y9*365.25;hm.exports=function(Z,Y){Y=Y||{};var J=typeof Z;if(J==="string"&&Z.length>0)return tU1(Z);else if(J==="number"&&isFinite(Z))return Y.long?eU1(Z):oU1(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var Xw=w((FS1,um)=>{var ZL1=function(Z){J.debug=J,J.default=J,J.coerce=Q,J.disable=W,J.enable=$,J.enabled=G,J.humanize=mm(),J.destroy=z,Object.keys(Z).forEach((H)=>{J[H]=Z[H]}),J.names=[],J.skips=[],J.formatters={};function Y(H){let F=0;for(let q=0;q<H.length;q++)F=(F<<5)-F+H.charCodeAt(q),F|=0;return J.colors[Math.abs(F)%J.colors.length]}J.selectColor=Y;function J(H){let F,q=null,V,U;function L(...R){if(!L.enabled)return;const A=L,B=Number(new Date),M=B-(F||B);if(A.diff=M,A.prev=F,A.curr=B,F=B,R[0]=J.coerce(R[0]),typeof R[0]!=="string")R.unshift("%O");let D=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(O,E)=>{if(O==="%%")return"%";D++;const j=J.formatters[E];if(typeof j==="function"){const n=R[D];O=j.call(A,n),R.splice(D,1),D--}return O}),J.formatArgs.call(A,R),(A.log||J.log).apply(A,R)}if(L.namespace=H,L.useColors=J.useColors(),L.color=J.selectColor(H),L.extend=X,L.destroy=J.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(q!==null)return q;if(V!==J.namespaces)V=J.namespaces,U=J.enabled(H);return U},set:(R)=>{q=R}}),typeof J.init==="function")J.init(L);return L}function X(H,F){const q=J(this.namespace+(typeof F==="undefined"?":":F)+H);return q.log=this.log,q}function $(H){J.save(H),J.namespaces=H,J.names=[],J.skips=[];let F;const q=(typeof H==="string"?H:"").split(/[\s,]+/),V=q.length;for(F=0;F<V;F++){if(!q[F])continue;if(H=q[F].replace(/\*/g,".*?"),H[0]==="-")J.skips.push(new RegExp("^"+H.slice(1)+"$"));else J.names.push(new RegExp("^"+H+"$"))}}function W(){const H=[...J.names.map(K),...J.skips.map(K).map((F)=>"-"+F)].join(",");return J.enable(""),H}function G(H){if(H[H.length-1]==="*")return!0;let F,q;for(F=0,q=J.skips.length;F<q;F++)if(J.skips[F].test(H))return!1;for(F=0,q=J.names.length;F<q;F++)if(J.names[F].test(H))return!0;return!1}function K(H){return H.toString().substring(2,H.toString().length-2).replace(/\.\*\?$/,"*")}function Q(H){if(H instanceof Error)return H.stack||H.message;return H}function z(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return J.enable(J.load()),J};um.exports=ZL1});var cm=w((dm,FK)=>{var YL1=function(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},JL1=function(Z){if(Z[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Z[0]+(this.useColors?"%c ":" ")+"+"+dm.humanize(this.diff),!this.useColors)return;const Y="color: "+this.color;Z.splice(1,0,Y,"color: inherit");let J=0,X=0;Z[0].replace(/%[a-zA-Z%]/g,($)=>{if($==="%%")return;if(J++,$==="%c")X=J}),Z.splice(X,0,Y)},XL1=function(Z){try{if(Z)dm.storage.setItem("debug",Z);else dm.storage.removeItem("debug")}catch(Y){}},$L1=function(){let Z;try{Z=dm.storage.getItem("debug")}catch(Y){}if(!Z&&typeof process!=="undefined"&&"env"in process)Z=process.env.DEBUG;return Z},WL1=function(){try{return localStorage}catch(Z){}};dm.formatArgs=JL1;dm.save=XL1;dm.load=$L1;dm.useColors=YL1;dm.storage=WL1();dm.destroy=(()=>{let Z=!1;return()=>{if(!Z)Z=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();dm.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];dm.log=console.debug||console.log||(()=>{});FK.exports=Xw()(dm);var{formatters:GL1}=FK.exports;GL1.j=function(Z){try{return JSON.stringify(Z)}catch(Y){return"[UnexpectedJSONParseError]: "+Y.message}}});var pm=w((VS1,lm)=>{lm.exports=(Z,Y=process.argv)=>{const J=Z.startsWith("-")?"":Z.length===1?"-":"--",X=Y.indexOf(J+Z),$=Y.indexOf("--");return X!==-1&&($===-1||X<$)}});var am=w((US1,nm)=>{var $w=function(Z){if(Z===0)return!1;return{level:Z,hasBasic:!0,has256:Z>=2,has16m:Z>=3}},Ww=function(Z,Y){if(N5===0)return 0;if(l6("color=16m")||l6("color=full")||l6("color=truecolor"))return 3;if(l6("color=256"))return 2;if(Z&&!Y&&N5===void 0)return 0;const J=N5||0;if(u0.TERM==="dumb")return J;if(process.platform==="win32"){const X=UL1.release().split(".");if(Number(X[0])>=10&&Number(X[2])>=10586)return Number(X[2])>=14931?3:2;return 1}if("CI"in u0){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((X)=>(X in u0))||u0.CI_NAME==="codeship")return 1;return J}if("TEAMCITY_VERSION"in u0)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(u0.TEAMCITY_VERSION)?1:0;if(u0.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in u0){const X=parseInt((u0.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(u0.TERM_PROGRAM){case"iTerm.app":return X>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(u0.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(u0.TERM))return 1;if("COLORTERM"in u0)return 1;return J},LL1=function(Z){const Y=Ww(Z,Z&&Z.isTTY);return $w(Y)},UL1=import.meta.require("os"),im=import.meta.require("tty"),l6=pm(),{env:u0}=process,N5;if(l6("no-color")||l6("no-colors")||l6("color=false")||l6("color=never"))N5=0;else if(l6("color")||l6("colors")||l6("color=true")||l6("color=always"))N5=1;if("FORCE_COLOR"in u0)if(u0.FORCE_COLOR==="true")N5=1;else if(u0.FORCE_COLOR==="false")N5=0;else N5=u0.FORCE_COLOR.length===0?1:Math.min(parseInt(u0.FORCE_COLOR,10),3);nm.exports={supportsColor:LL1,stdout:$w(Ww(!0,im.isatty(1))),stderr:$w(Ww(!0,im.isatty(2)))}});var om=w((rm,VK)=>{var RL1=function(){return"colors"in rm.inspectOpts?Boolean(rm.inspectOpts.colors):wL1.isatty(process.stderr.fd)},ML1=function(Z){const{namespace:Y,useColors:J}=this;if(J){const X=this.color,$="\x1B[3"+(X<8?X:"8;5;"+X),W=`  ${$};1m${Y} \x1B[0m`;Z[0]=W+Z[0].split("\n").join("\n"+W),Z.push($+"m+"+rm.humanize(this.diff)+"\x1B[0m")}else Z[0]=AL1()+Y+" "+Z[0]},AL1=function(){if(rm.inspectOpts.hideDate)return"";return(new Date()).toISOString()+" "},BL1=function(...Z){return process.stderr.write(qK.format(...Z)+"\n")},NL1=function(Z){if(Z)process.env.DEBUG=Z;else delete process.env.DEBUG},DL1=function(){return process.env.DEBUG},IL1=function(Z){Z.inspectOpts={};const Y=Object.keys(rm.inspectOpts);for(let J=0;J<Y.length;J++)Z.inspectOpts[Y[J]]=rm.inspectOpts[Y[J]]},wL1=import.meta.require("tty"),qK=import.meta.require("util");rm.init=IL1;rm.log=BL1;rm.formatArgs=ML1;rm.save=NL1;rm.load=DL1;rm.useColors=RL1;rm.destroy=qK.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");rm.colors=[6,2,3,4,5,1];try{const Z=am();if(Z&&(Z.stderr||Z).level>=2)rm.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(Z){}rm.inspectOpts=Object.keys(process.env).filter((Z)=>{return/^debug_/i.test(Z)}).reduce((Z,Y)=>{const J=Y.substring(6).toLowerCase().replace(/_([a-z])/g,($,W)=>{return W.toUpperCase()});let X=process.env[Y];if(/^(yes|on|true|enabled)$/i.test(X))X=!0;else if(/^(no|off|false|disabled)$/i.test(X))X=!1;else if(X==="null")X=null;else X=Number(X);return Z[J]=X,Z},{});VK.exports=Xw()(rm);var{formatters:sm}=VK.exports;sm.o=function(Z){return this.inspectOpts.colors=this.useColors,qK.inspect(Z,this.inspectOpts).split("\n").map((Y)=>Y.trim()).join(" ")};sm.O=function(Z){return this.inspectOpts.colors=this.useColors,qK.inspect(Z,this.inspectOpts)}});var lX=w((wS1,Gw)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)Gw.exports=cm();else Gw.exports=om()});var Zu=w((em)=>{var w0=em;w0.distinct=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const Y=Object.keys(w0.distinct);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};w0.distinct.select=w0.distinct.slice=w0.distinct.sort=w0.distinct.limit=w0.distinct.skip=w0.distinct.batchSize=w0.distinct.hint=w0.distinct.tailable=!0;w0.findOneAndUpdate=w0.findOneAndRemove=function(Z){const Y=Object.keys(w0.findOneAndUpdate);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};w0.findOneAndUpdate.limit=w0.findOneAndUpdate.skip=w0.findOneAndUpdate.batchSize=w0.findOneAndUpdate.tailable=!0;w0.count=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const Y=Object.keys(w0.count);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};w0.count.slice=w0.count.batchSize=w0.count.tailable=!0});var Qw=w((kL1,Yu)=>{kL1.isNode=typeof process!="undefined"&&typeof Yu=="object"&&typeof global=="object"&&typeof Buffer=="function"&&process.argv;kL1.isMongo=!kL1.isNode&&typeof printjson=="function"&&typeof ObjectId=="function"&&typeof rs=="function"&&typeof sh=="function";kL1.isBrowser=!kL1.isNode&&!kL1.isMongo&&typeof window!="undefined";kL1.type=kL1.isNode?"node":kL1.isMongo?"mongo":kL1.isBrowser?"browser":"unknown"});var pX=w((Xu,$u)=>{var Hw=function(){},xL1=function(Z){return function(){throw new Error("collection."+Z+" not implemented")}},zw=["find","findOne","updateMany","updateOne","replaceOne","count","distinct","findOneAndDelete","findOneAndUpdate","aggregate","findCursor","deleteOne","deleteMany"];for(let Z=0,Y=zw.length;Z<Y;++Z){const J=zw[Z];Hw.prototype[J]=xL1(J)}$u.exports=Xu=Hw;Hw.methods=zw});var Qu=w((Gu,Ku)=>{var fL1=pX();class Wu extends fL1{constructor(Z){super();this.collection=Z,this.collectionName=Z.collectionName}async find(Z,Y){return this.collection.find(Z,Y).toArray()}async findOne(Z,Y){return this.collection.findOne(Z,Y)}async count(Z,Y){return this.collection.count(Z,Y)}async distinct(Z,Y,J){return this.collection.distinct(Z,Y,J)}async updateMany(Z,Y,J){return this.collection.updateMany(Z,Y,J)}async updateOne(Z,Y,J){return this.collection.updateOne(Z,Y,J)}async replaceOne(Z,Y,J){return this.collection.replaceOne(Z,Y,J)}async deleteOne(Z,Y){return this.collection.deleteOne(Z,Y)}async deleteMany(Z,Y){return this.collection.deleteMany(Z,Y)}async findOneAndDelete(Z,Y){return this.collection.findOneAndDelete(Z,Y)}async findOneAndUpdate(Z,Y,J){return this.collection.findOneAndUpdate(Z,Y,J)}findCursor(Z,Y){return this.collection.find(Z,Y)}}Ku.exports=Gu=Wu});var Hu=w((MS1,zu)=>{var Fw=Qw();if(Fw.type=="unknown")throw new Error("Unknown environment");zu.exports=Fw.isNode?Qu():Fw.isMongo?pX():pX()});var Lw=w((qu,Vu)=>{var v=function(Z,Y){if(!(this instanceof v))return new v(Z,Y);const J=this.constructor.prototype;if(this.op=J.op||void 0,this.options=Object.assign({},J.options),this._conditions=J._conditions?_1.clone(J._conditions):{},this._fields=J._fields?_1.clone(J._fields):void 0,this._updateDoc=J._updateDoc?_1.clone(J._updateDoc):void 0,this._path=J._path||void 0,this._distinctDoc=J._distinctDoc||void 0,this._collection=J._collection||void 0,this._traceFunction=J._traceFunction||void 0,Y)this.setOptions(Y);if(Z)this.find(Z)},Fu=function(Z,Y,J){if(Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let X;if(J&&J.$meta){X=Z.sort||(Z.sort={}),X[Y]={$meta:J.$meta};return}X=Z.sort||(Z.sort={});let $=String(J||1).toLowerCase();if($=qw[$],!$)throw new TypeError("Invalid sort value: { "+Y+": "+J+" }");X[Y]=$},bL1=function(Z,Y,J){if(Z.sort=Z.sort||[],!Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let X=String(J||1).toLowerCase();if(X=qw[X],!X)throw new TypeError("Invalid sort value: [ "+Y+", "+J+" ]");Z.sort.push([Y,X])},vL1=function(Z,Y){if(Z.sort=Z.sort||new Map,!(Z.sort instanceof Map))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object or map consistently");Y.forEach(function(J,X){let $=String(J||1).toLowerCase();if($=qw[$],!$)throw new TypeError("Invalid sort value: < "+X+": "+J+" >");Z.sort.set(X,$)})},Vw=function(Z,Y,J,X,$){if(Z.op=Y,v.canMerge(J))Z.merge(J);if(X)Z._mergeUpdate(X);if(_1.isObject($))Z.setOptions($);return Z};async function Uw(Z,Y){const J=Z._optionsForExec(),X=Z._conditions,$=Z._updateForExec();return j4("update",Z._collection.collectionName,X,$,J),Z._collection[Y](X,$,J)}var yL1=import.meta.require("assert"),gL1=import.meta.require("util"),_1=vm(),j4=lX()("mquery"),g9="$geoWithin";Object.defineProperty(v,"use$geoWithin",{get:function(){return g9=="$geoWithin"},set:function(Z){if(Z===!0)g9="$geoWithin";else g9="$within"}});v.prototype.toConstructor=function Z(){function Y(X,$){if(!(this instanceof Y))return new Y(X,$);v.call(this,X,$)}_1.inherits(Y,v);const J=Y.prototype;return J.options={},J.setOptions(this.options),J.op=this.op,J._conditions=_1.clone(this._conditions),J._fields=_1.clone(this._fields),J._updateDoc=_1.clone(this._updateDoc),J._path=this._path,J._distinctDoc=this._distinctDoc,J._collection=this._collection,J._traceFunction=this._traceFunction,Y};v.prototype.setOptions=function(Z){if(!(Z&&_1.isObject(Z)))return this;const Y=_1.keys(Z);let J;for(let X=0;X<Y.length;++X)if(J=Y[X],typeof this[J]=="function"){const $=Array.isArray(Z[J])?Z[J]:[Z[J]];this[J].apply(this,$)}else this.options[J]=Z[J];return this};v.prototype.collection=function Z(Y){return this._collection=new v.Collection(Y),this};v.prototype.collation=function(Z){return this.options.collation=Z,this};v.prototype.$where=function(Z){return this._conditions.$where=Z,this};v.prototype.where=function(){if(!arguments.length)return this;if(!this.op)this.op="find";const Z=typeof arguments[0];if(Z=="string"){if(this._path=arguments[0],arguments.length===2)this._conditions[this._path]=arguments[1];return this}if(Z=="object"&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")};v.prototype.equals=function Z(Y){this._ensurePath("equals");const J=this._path;return this._conditions[J]=Y,this};v.prototype.eq=function Z(Y){this._ensurePath("eq");const J=this._path;return this._conditions[J]=Y,this};v.prototype.or=function Z(Y){const J=this._conditions.$or||(this._conditions.$or=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};v.prototype.nor=function Z(Y){const J=this._conditions.$nor||(this._conditions.$nor=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};v.prototype.and=function Z(Y){const J=this._conditions.$and||(this._conditions.$and=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};/*!
 * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance
 *
 *     Thing.where('type').nin(array)
 */"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(Z){v.prototype[Z]=function(){let Y,J;if(arguments.length===1)this._ensurePath(Z),J=arguments[0],Y=this._path;else J=arguments[1],Y=arguments[0];const X=this._conditions[Y]===null||typeof this._conditions[Y]==="object"?this._conditions[Y]:this._conditions[Y]={};return X["$"+Z]=J,this}});v.prototype.mod=function(){let Z,Y;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],Y=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],Y=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],Y=arguments[0];else Z=arguments[1],Y=arguments[0];const J=this._conditions[Y]||(this._conditions[Y]={});return J.$mod=Z,this};v.prototype.exists=function(){let Z,Y;if(arguments.length===0)this._ensurePath("exists"),Z=this._path,Y=!0;else if(arguments.length===1)if(typeof arguments[0]==="boolean")this._ensurePath("exists"),Z=this._path,Y=arguments[0];else Z=arguments[0],Y=!0;else if(arguments.length===2)Z=arguments[0],Y=arguments[1];const J=this._conditions[Z]||(this._conditions[Z]={});return J.$exists=Y,this};v.prototype.elemMatch=function(){if(arguments[0]==null)throw new TypeError("Invalid argument");let Z,Y,J;if(typeof arguments[0]==="function")this._ensurePath("elemMatch"),Y=this._path,Z=arguments[0];else if(_1.isObject(arguments[0]))this._ensurePath("elemMatch"),Y=this._path,J=arguments[0];else if(typeof arguments[1]==="function")Y=arguments[0],Z=arguments[1];else if(arguments[1]&&_1.isObject(arguments[1]))Y=arguments[0],J=arguments[1];else throw new TypeError("Invalid argument");if(Z)J=new v,Z(J),J=J._conditions;const X=this._conditions[Y]||(this._conditions[Y]={});return X.$elemMatch=J,this};v.prototype.within=function Z(){if(this._ensurePath("within"),this._geoComparison=g9,arguments.length===0)return this;if(arguments.length===2)return this.box.apply(this,arguments);else if(2<arguments.length)return this.polygon.apply(this,arguments);const Y=arguments[0];if(!Y)throw new TypeError("Invalid argument");if(Y.center)return this.circle(Y);if(Y.box)return this.box.apply(this,Y.box);if(Y.polygon)return this.polygon.apply(this,Y.polygon);if(Y.type&&Y.coordinates)return this.geometry(Y);throw new TypeError("Invalid argument")};v.prototype.box=function(){let Z,Y;if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];else if(arguments.length===2)this._ensurePath("box"),Z=this._path,Y=[arguments[0],arguments[1]];else throw new TypeError("Invalid argument");const J=this._conditions[Z]||(this._conditions[Z]={});return J[this._geoComparison||g9]={$box:Y},this};v.prototype.polygon=function(){let Z,Y;if(typeof arguments[0]=="string")Z=Array.from(arguments),Y=Z.shift();else this._ensurePath("polygon"),Y=this._path,Z=Array.from(arguments);const J=this._conditions[Y]||(this._conditions[Y]={});return J[this._geoComparison||g9]={$polygon:Z},this};v.prototype.circle=function(){let Z,Y;if(arguments.length===1)this._ensurePath("circle"),Z=this._path,Y=arguments[0];else if(arguments.length===2)Z=arguments[0],Y=arguments[1];else throw new TypeError("Invalid argument");if(!(("radius"in Y)&&Y.center))throw new Error("center and radius are required");const J=this._conditions[Z]||(this._conditions[Z]={}),X=Y.spherical?"$centerSphere":"$center",$=this._geoComparison||g9;if(J[$]={},J[$][X]=[Y.center,Y.radius],"unique"in Y)J[$].$uniqueDocs=!!Y.unique;return this};v.prototype.near=function Z(){let Y,J;if(this._geoComparison="$near",arguments.length===0)return this;else if(arguments.length===1)this._ensurePath("near"),Y=this._path,J=arguments[0];else if(arguments.length===2)Y=arguments[0],J=arguments[1];else throw new TypeError("Invalid argument");if(!J.center)throw new Error("center is required");const X=this._conditions[Y]||(this._conditions[Y]={}),$=J.spherical?"$nearSphere":"$near";if(Array.isArray(J.center)){X[$]=J.center;const W="maxDistance"in J?J.maxDistance:null;if(W!=null)X.$maxDistance=W;if(J.minDistance!=null)X.$minDistance=J.minDistance}else{if(J.center.type!="Point"||!Array.isArray(J.center.coordinates))throw new Error(gL1.format("Invalid GeoJSON specified for %s",$));if(X[$]={$geometry:J.center},"maxDistance"in J)X[$].$maxDistance=J.maxDistance;if("minDistance"in J)X[$].$minDistance=J.minDistance}return this};v.prototype.intersects=function Z(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",arguments.length===0)return this;const Y=arguments[0];if(Y!=null&&Y.type&&Y.coordinates)return this.geometry(Y);throw new TypeError("Invalid argument")};v.prototype.geometry=function Z(){if(!(this._geoComparison=="$within"||this._geoComparison=="$geoWithin"||this._geoComparison=="$near"||this._geoComparison=="$geoIntersects"))throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");let Y,J;if(arguments.length===1)this._ensurePath("geometry"),J=this._path,Y=arguments[0];else throw new TypeError("Invalid argument");if(!(Y.type&&Array.isArray(Y.coordinates)))throw new TypeError("Invalid argument");const X=this._conditions[J]||(this._conditions[J]={});return X[this._geoComparison]={$geometry:Y},this};v.prototype.select=function Z(){let Y=arguments[0];if(!Y)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const J=this._fields||(this._fields={}),X=typeof Y;let $,W;if((X=="string"||_1.isArgumentsObject(Y))&&typeof Y.length=="number"||Array.isArray(Y)){if(X=="string")Y=Y.split(/\s+/);for($=0,W=Y.length;$<W;++$){let G=Y[$];if(!G)continue;const K=G[0]=="-"?0:1;if(K===0)G=G.substring(1);J[G]=K}return this}if(_1.isObject(Y)){const G=_1.keys(Y);for($=0;$<G.length;++$)J[G[$]]=Y[G[$]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")};v.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,Y;if(arguments.length===1){const X=arguments[0];if(typeof X==="object"&&!Array.isArray(X)){const $=Object.keys(X),W=$.length;for(let G=0;G<W;++G)this.slice($[G],X[$[G]]);return this}this._ensurePath("slice"),Z=this._path,Y=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,Y=[arguments[0],arguments[1]];else Z=arguments[0],Y=arguments[1];else if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];const J=this._fields||(this._fields={});return J[Z]={$slice:Y},this};v.prototype.sort=function(Z){if(!Z)return this;let Y,J,X;this._validate("sort");const $=typeof Z;if(Array.isArray(Z)){J=Z.length;for(Y=0;Y<Z.length;++Y){if(!Array.isArray(Z[Y]))throw new Error("Invalid sort() argument, must be array of arrays");bL1(this.options,Z[Y][0],Z[Y][1])}return this}if(arguments.length===1&&$=="string"){Z=Z.split(/\s+/),J=Z.length;for(Y=0;Y<J;++Y){if(X=Z[Y],!X)continue;const W=X[0]=="-"?-1:1;if(W===-1)X=X.substring(1);Fu(this.options,X,W)}return this}if(_1.isObject(Z)){const W=_1.keys(Z);for(Y=0;Y<W.length;++Y)X=W[Y],Fu(this.options,X,Z[X]);return this}if(typeof Map!=="undefined"&&Z instanceof Map)return vL1(this.options,Z),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};/*!
 * @ignore
 */var qw={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};/*!
 * limit, skip, batchSize, comment
 *
 * Sets these associated options.
 *
 *     query.comment('feed query');
 */["limit","skip","batchSize","comment"].forEach(function(Z){v.prototype[Z]=function(Y){return this._validate(Z),this.options[Z]=Y,this}});v.prototype.maxTime=v.prototype.maxTimeMS=function(Z){return this._validate("maxTime"),this.options.maxTimeMS=Z,this};v.prototype.hint=function(){if(arguments.length===0)return this;this._validate("hint");const Z=arguments[0];if(_1.isObject(Z)){const Y=this.options.hint||(this.options.hint={});for(let J in Z)Y[J]=Z[J];return this}if(typeof Z==="string")return this.options.hint=Z,this;throw new TypeError("Invalid hint. "+Z)};v.prototype.j=function Z(Y){return this.options.j=Y,this};v.prototype.slaveOk=function(Z){return this.options.slaveOk=arguments.length?!!Z:!0,this};v.prototype.read=v.prototype.setReadPreference=function(Z){if(arguments.length>1&&!v.prototype.read.deprecationWarningIssued)console.error("Deprecation warning: \'tags\' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),v.prototype.read.deprecationWarningIssued=!0;return this.options.readPreference=_1.readPref(Z),this};v.prototype.readConcern=v.prototype.r=function(Z){return this.options.readConcern=_1.readConcern(Z),this};v.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=arguments.length?!!arguments[0]:!0,this};v.prototype.writeConcern=v.prototype.w=function Z(Y){if(typeof Y==="object"){if(typeof Y.j!=="undefined")this.options.j=Y.j;if(typeof Y.w!=="undefined")this.options.w=Y.w;if(typeof Y.wtimeout!=="undefined")this.options.wtimeout=Y.wtimeout}else this.options.w=Y==="m"?"majority":Y;return this};v.prototype.wtimeout=v.prototype.wTimeout=function Z(Y){return this.options.wtimeout=Y,this};v.prototype.merge=function(Z){if(!Z)return this;if(!v.canMerge(Z))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");if(Z instanceof v){if(Z._conditions)_1.merge(this._conditions,Z._conditions);if(Z._fields)this._fields||(this._fields={}),_1.merge(this._fields,Z._fields);if(Z.options)this.options||(this.options={}),_1.merge(this.options,Z.options);if(Z._updateDoc)this._updateDoc||(this._updateDoc={}),_1.mergeClone(this._updateDoc,Z._updateDoc);if(Z._distinctDoc)this._distinctDoc=Z._distinctDoc;return this}return _1.merge(this._conditions,Z),this};v.prototype.find=function(Z){if(this.op="find",v.canMerge(Z))this.merge(Z);return this};v.prototype._find=async function Z(){const Y=this._conditions,J=this._optionsForExec();if(this.$useProjection)J.projection=this._fieldsForExec();else J.fields=this._fieldsForExec();return j4("_find",this._collection.collectionName,Y,J),this._collection.find(Y,J)};v.prototype.cursor=function Z(Y){if(this.op){if(this.op!=="find")throw new TypeError(".cursor only support .find method")}else this.find(Y);const J=this._conditions,X=this._optionsForExec();if(this.$useProjection)X.projection=this._fieldsForExec();else X.fields=this._fieldsForExec();return j4("findCursor",this._collection.collectionName,J,X),this._collection.findCursor(J,X)};v.prototype.findOne=function(Z){if(this.op="findOne",v.canMerge(Z))this.merge(Z);return this};v.prototype._findOne=async function Z(){const Y=this._conditions,J=this._optionsForExec();if(this.$useProjection)J.projection=this._fieldsForExec();else J.fields=this._fieldsForExec();return j4("findOne",this._collection.collectionName,Y,J),this._collection.findOne(Y,J)};v.prototype.count=function(Z){if(this.op="count",this._validate(),v.canMerge(Z))this.merge(Z);return this};v.prototype._count=async function Z(){const Y=this._conditions,J=this._optionsForExec();return j4("count",this._collection.collectionName,Y,J),this._collection.count(Y,J)};v.prototype.distinct=function(Z,Y){if(this.op="distinct",this._validate(),!Y&&typeof Z==="string")Y=Z,Z=void 0;if(typeof Y=="string")this._distinctDoc=Y;if(v.canMerge(Z))this.merge(Z);return this};v.prototype._distinct=async function Z(){if(!this._distinctDoc)throw new Error("No value for `distinct` has been declared");const Y=this._conditions,J=this._optionsForExec();return j4("distinct",this._collection.collectionName,Y,J),this._collection.distinct(this._distinctDoc,Y,J)};v.prototype.updateMany=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return Vw(this,"updateMany",Y,J,X)};v.prototype._updateMany=async function(){return Uw(this,"updateMany")};v.prototype.updateOne=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return Vw(this,"updateOne",Y,J,X)};v.prototype._updateOne=async function(){return Uw(this,"updateOne")};v.prototype.replaceOne=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return this.setOptions({overwrite:!0}),Vw(this,"replaceOne",Y,J,X)};v.prototype._replaceOne=async function(){return Uw(this,"replaceOne")};/*!
 * Internal helper for updateMany, updateOne
 */v.prototype.deleteOne=function(Z){if(this.op="deleteOne",v.canMerge(Z))this.merge(Z);return this};v.prototype._deleteOne=async function(){const Z=this._optionsForExec();delete Z.justOne;const Y=this._conditions;return j4("deleteOne",this._collection.collectionName,Y,Z),this._collection.deleteOne(Y,Z)};v.prototype.deleteMany=function(Z){if(this.op="deleteMany",v.canMerge(Z))this.merge(Z);return this};v.prototype._deleteMany=async function(){const Z=this._optionsForExec();delete Z.justOne;const Y=this._conditions;return j4("deleteOne",this._collection.collectionName,Y,Z),this._collection.deleteMany(Y,Z)};v.prototype.findOneAndUpdate=function(Z,Y,J){if(this.op="findOneAndUpdate",this._validate(),arguments.length===1)Y=Z,Z=J=void 0;if(v.canMerge(Z))this.merge(Z);if(Y)this._mergeUpdate(Y);return J&&this.setOptions(J),this};v.prototype._findOneAndUpdate=async function(){const Z=this._conditions,Y=this._updateForExec(),J=this._optionsForExec();return this._collection.findOneAndUpdate(Z,Y,J)};v.prototype.findOneAndRemove=v.prototype.findOneAndDelete=function(Z,Y){if(this.op="findOneAndRemove",this._validate(),v.canMerge(Z))this.merge(Z);return Y&&this.setOptions(Y),this};v.prototype._findOneAndRemove=async function(){const Z=this._optionsForExec(),Y=this._conditions;return this._collection.findOneAndDelete(Y,Z)};v.prototype.setTraceFunction=function(Z){return this._traceFunction=Z,this};v.prototype.exec=async function Z(Y){if(typeof Y==="string")this.op=Y;yL1.ok(this.op,"Missing query type: (find, etc)");const J="_"+this.op;if(typeof this[J]!=="function")throw new TypeError(`this[${J}] is not a function`);return this[J]()};v.prototype.then=async function(Z,Y){return this.exec().then(Z,Y)};v.prototype.cursor=function(){if(this.op!="find")throw new Error("cursor() is only available for find");const Z=this._conditions,Y=this._optionsForExec();if(this.$useProjection)Y.projection=this._fieldsForExec();else Y.fields=this._fieldsForExec();return j4("cursor",this._collection.collectionName,Z,Y),this._collection.findCursor(Z,Y)};v.prototype.selected=function Z(){return!!(this._fields&&Object.keys(this._fields).length>0)};v.prototype.selectedInclusively=function Z(){if(!this._fields)return!1;const Y=Object.keys(this._fields);if(Y.length===0)return!1;for(let J=0;J<Y.length;++J){const X=Y[J];if(this._fields[X]===0)return!1;if(this._fields[X]&&typeof this._fields[X]==="object"&&this._fields[X].$meta)return!1}return!0};v.prototype.selectedExclusively=function Z(){if(!this._fields)return!1;const Y=Object.keys(this._fields);if(Y.length===0)return!1;for(let J=0;J<Y.length;++J){const X=Y[J];if(this._fields[X]===0)return!0}return!1};v.prototype._mergeUpdate=function(Z){if(!this._updateDoc)this._updateDoc={};if(Z instanceof v){if(Z._updateDoc)_1.mergeClone(this._updateDoc,Z._updateDoc)}else _1.mergeClone(this._updateDoc,Z)};v.prototype._optionsForExec=function(){return _1.clone(this.options)};v.prototype._fieldsForExec=function(){return _1.clone(this._fields)};v.prototype._updateForExec=function(){const Z=_1.clone(this._updateDoc),Y=_1.keys(Z),J={};for(let X of Y){if(this.options.overwrite){J[X]=Z[X];continue}if(X[0]!=="$"){if(!J.$set)if(Z.$set)J.$set=Z.$set;else J.$set={};if(J.$set[X]=Z[X],!~Y.indexOf("$set"))Y.push("$set")}else if(X==="$set"){if(!J.$set)J[X]=Z[X]}else J[X]=Z[X]}return this._compiledUpdate=J,J};v.prototype._ensurePath=function(Z){if(!this._path){const Y=Z+"() must be used after where() when called with these arguments";throw new Error(Y)}};/*!
 * Permissions
 */v.permissions=Zu();v._isPermitted=function(Z,Y){const J=v.permissions[Y];if(!J)return!0;return J[Z]!==!0};v.prototype._validate=function(Z){let Y,J;if(Z===void 0){if(J=v.permissions[this.op],typeof J!="function")return!0;Y=J(this)}else if(!v._isPermitted(Z,this.op))Y=Z;if(Y)throw new Error(Y+" cannot be used with "+this.op)};v.canMerge=function(Z){return Z instanceof v||_1.isObject(Z)};v.setGlobalTraceFunction=function(Z){v.traceFunction=Z};/*!
 * Exports.
 */v.utils=_1;v.env=Qw();v.Collection=Hu();v.BaseCollection=pX();Vu.exports=qu=v});var ww=w((AS1,Uu)=>{Uu.exports=function Z(Y,J){if(typeof Y==="string")Y=Y.split(/\s+/);if(!Array.isArray(Y)&&Object.prototype.toString.call(Y)!=="[object Arguments]")return Y;const $=Y.length,W={};for(let G=0;G<$;++G){let K=Y[G];if(!K)continue;const Q=K[0]=="-"?0:1;if(!J&&Q===0)K=K.substring(1);W[K]=Q}return W}});var Ru=w((BS1,wu)=>{var Lu=function(Z,Y){const J=Object.keys(Z)[0];if(J==="$and"||J==="$or"){if(!Array.isArray(Z[J]))return!1;return Z[J].find((W)=>Lu(W,Y))!=null}const X=J.indexOf("."),$=X===-1?J:J.slice(0,X);return Y.find((W)=>W.includes("$["+$+"]"))!=null};wu.exports=function Z(Y,J){const X=Object.keys(Y).map(($)=>Object.keys(Y[$])).reduce(($,W)=>$.concat(W),[]);return J.filter(($)=>{return Lu($,X)})}});var Rw=w((NS1,Mu)=>{/*!
 * ignore
 */Mu.exports=function Z(Y){if(typeof Y!=="object"||Y===null)return!1;const J=Object.keys(Y),X=J.length;for(let $=0;$<X;++$)if(J[$][0]==="$")return!0;return!1}});var Mw=w((DS1,Au)=>{var hL1=Rw(),{trustedSymbol:mL1}=WZ();Au.exports=function Z(Y){if(Y==null||typeof Y!=="object")return Y;if(Array.isArray(Y)){for(let X of Y)Z(X);return Y}const J=Object.keys(Y);for(let X of J){const $=Y[X];if($!=null&&$[mL1])continue;if(X==="$and"||X==="$or"){Z($);continue}if(hL1($)){const W=Object.keys($);if(W.length===1&&W[0]==="$eq")continue;Y[X]={$eq:Y[X]}}}return Y}});var Nu=w((IS1,Bu)=>{Bu.exports=function Z(Y){if(Y==null)return;const J=Object.keys(Y);for(let X=0;X<J.length;++X)if(typeof Y[J[X]]==="string")Y[J[X]]=1}});var Pu=w((PS1,Iu)=>{var Du=function(Z,Y){const J=Y.split("."),X=J.length;let $=J[0];for(let W=1;W<X;++W){if(Z[$]!=null||Z[$+".$"]!=null)return!0;$+="."+J[W]}return Z[$]!=null||Z[$+".$"]!=null},uL1=GY(),dL1=KK();/*!
 * ignore
 */Iu.exports=function Z(Y,J,X){if(X==null)return;const $=Object.keys(X);if(J=J||{},dL1(Y))for(let W of $){if(!Du(J,W))Y[W]=1;else if(J[W]===0)delete Y[W];const G=X[W]?.refPath;if(typeof G==="string"){if(!Du(J,G))Y[G]=1;else if(J[G]===0)delete Y[G]}}else if(uL1(Y))for(let W of $){if(J[W]==null)delete Y[W];const G=X[W]?.refPath;if(typeof G==="string"&&J[G]==null)delete Y[G]}};/*!
 * ignore
 */});var Aw=w((TS1,ju)=>{var lL1=function(Z,Y){if(Z[Y])return!0;const J=Y.split(".");let X=J[0];for(let W=1;W<J.length;++W){if(Z[X])return!0;X+="."+J[W]}const $=Object.keys(Z);if($.length){const W=Y+".";for(let G of $)if(G.slice(0,Y.length+1)===W)return!0}return!1},Tu=$Y().modifiedPaths,cL1=G0();ju.exports=function(Z,Y,J,X){X=X||{};const $=X.setDefaultsOnInsert!=null?X.setDefaultsOnInsert:Y.base.options.setDefaultsOnInsert;if(!X.upsert||$===!1)return J;const W=Object.keys(J||{}),G={},K={},Q=W.length,z={};let H=!1;for(let V=0;V<Q;++V)if(W[V].startsWith("$"))Tu(J[W[V]],"",z),H=!0;if(!H)Tu(J,"",z);const F=Object.keys(Z),q=F.length;for(let V=0;V<q;++V){const U=F[V],L=Z[U];if(L&&typeof L==="object"){const R=Object.keys(L),A=R.length;let B=!1;for(let M=0;M<A;++M)if(R[M].startsWith("$")){B=!0;break}if(B)continue}G[U]=!0,z[U]=!0}if(X&&X.overwrite&&!H)return J;return Y.eachPath(function(V,U){if(U.path==="_id"&&U.options.auto)return;const L=U.getDefault(null,!0);if(lL1(z,V))return;if(typeof L==="undefined")return;if(U.splitPath().includes("$*"))return;if(J=J||{},J.$setOnInsert=J.$setOnInsert||{},cL1(J,V)==null)J.$setOnInsert[V]=L;K[V]=L}),J}});var ku=w((jS1,Su)=>{/*!
 * Module dependencies.
 */var Eu=N9(),pL1=IX(),Cu=$Y().flatten,Ou=$Y().modifiedPaths;Su.exports=function(Z,Y,J,X,$){const W=Object.keys(J||{});let G={},K={};const Q={},z={},H=W.length;let F=!1;const q={};let V,U,L;for(L=0;L<H;++L)if(W[L].startsWith("$")){if(F=!0,W[L]==="$push"||W[L]==="$addToSet"){const S=Object.keys(J[W[L]]);for(let a=0;a<S.length;++a)if(V=J[W[L]][S[a]],V&&V.$each)z[S[a]]=(z[S[a]]||[]).concat(V.$each);else z[S[a]]=(z[S[a]]||[]).concat([V]);continue}Ou(J[W[L]],"",q);const c=Cu(J[W[L]],null,null,Y),y=Object.keys(c),C=y.length;for(let S=0;S<C;++S){const a=pL1(y[S]);if(U=W[L],a.includes("$"))continue;if(U==="$set"||U==="$setOnInsert"||U==="$pull"||U==="$pullAll")K[a]=c[y[S]],Q[a]=U==="$pull"||U==="$pullAll";else if(U==="$unset")K[a]=void 0;G[a]=!0}}if(!F)Ou(J,"",q),K=Cu(J,null,null,Y),G=Object.keys(K);const R=Object.keys(K),A=R.length,B=[],M=[],D=[],d=Z;function O(c,y){const C=Y._getSchema(R[c]);if(C==null)return;if(C.instance==="Mixed"&&C.path!==R[c])return;if(y&&Array.isArray(y.$in))y.$in.forEach((S,a)=>{B.push(function(P1){C.doValidate(S,function(y0){if(y0)y0.path=R[a]+".$in."+a,M.push(y0);P1(null)},d,{updateValidator:!0})})});else{if(Q[R[c]]&&C.$isMongooseArray)return;if(C.$isMongooseDocumentArrayElement&&y!=null&&y.$__!=null)D.push(R[c]),B.push(function(S){C.doValidate(y,function(a){if(a)if(a.errors)for(let P1 of Object.keys(a.errors)){const y0=a.errors[P1];y0.path=R[c]+"."+P1,M.push(y0)}else a.path=R[c],M.push(a);return S(null)},d,{updateValidator:!0})});else B.push(function(S){for(let a of D)if(R[c].startsWith(a+"."))return S(null);C.doValidate(y,function(a){if(C.schema!=null&&C.schema.options.storeSubdocValidationError===!1&&a instanceof Eu)return S(null);if(a)a.path=R[c],M.push(a);S(null)},d,{updateValidator:!0})})}}for(L=0;L<A;++L)O(L,K[R[L]]);const E=Object.keys(z);for(let c of E){let y=Y._getSchema(c);if(y&&y.$isMongooseDocumentArray)B.push(function(C){y.doValidate(z[c],n(c,M,C),X&&X.context==="query"?Z:null)});else{y=Y._getSchema(c+".0");for(let C of z[c])B.push(function(S){y.doValidate(C,n(c,M,S),X&&X.context==="query"?Z:null,{updateValidator:!0})})}}if($!=null){let c=B.length;if(c===0)return j($);for(let y of B)y(function(){if(--c<=0)j($)});return}return function(c){let y=B.length;if(y===0)return j(c);for(let C of B)C(function(){if(--y<=0)j(c)})};function j(c){if(M.length){const y=new Eu(null);for(let C of M)y.addError(C.path,C);return c(y)}c(null)}function n(c,y,C){return function(S){if(S)S.path=c,y.push(S);C(null)}}}});var AK=w((ES1,iu)=>{var u=function(Z,Y,J,X){if(!this._mongooseOptions)this._mongooseOptions={};Y=Y||{},this._transforms=[],this._hooks=new Dw,this._executionStack=null;const $=Object.keys(Y);for(let G of $)this._mongooseOptions[G]=Y[G];if(X)this.mongooseCollection=X;if(J)this.model=J,this.schema=J.schema;if(this.model&&this.model._mapreduce)this.lean();if(L6.call(this,null,Y),X)this.collection(X);if(Z)this.find(Z);this.options=this.options||{},this.$useProjection=!0;const W=this&&this.schema&&this.schema.options&&this.schema.options.collation||null;if(W!=null)this.options.collation=W},mu=function(Z){try{rL1(Z)}catch(Y){Z.error(Y)}},Nw=function(Z,Y){if(Z===1||Z==="asc"||Z==="ascending")return 1;if(Z===-1||Z==="desc"||Z==="descending")return-1;if(Z?.$meta!=null)return{$meta:Z.$meta};throw new TypeError("Invalid sort value: { "+Y+": "+Z+" }")},gu=function(Z,Y,J,X,$,W,G,K){if(X.includeResultMetadata&&Y==null)return Q(null),null;RK.createModelAndInit(Z,Y,$,W,X,G,Q);function Q(z,H){if(z)return Bw(()=>K(z));if(X.includeResultMetadata){if(Y&&H){if(X.session!=null)H.$session(X.session);J.value=H}else J.value=null;return Bw(()=>K(null,J))}if(X.session!=null)H.$session(X.session);Bw(()=>K(null,H))}},rX=function(Z){if(!Z||!Z.model||!Z.model.schema)return;const Y=Z.model.schema;if(Y&&Y.discriminatorMapping&&!Y.discriminatorMapping.isRoot)Z._conditions[Y.discriminatorMapping.key]=Y.discriminatorMapping.value},uu=function(Z){if("new"in Z)Z.returnDocument=Z.new?"after":"before",delete Z.new;if("returnOriginal"in Z)Z.returnDocument=Z.returnOriginal?"before":"after",delete Z.returnOriginal;if(typeof Z.returnDocument==="string")Z.returnOriginal=Z.returnDocument==="before"},Pw=function(Z,Y,J){const X=Z._optionsForExec(Z.model);if(Y in X)return X[Y];if(Y in Z.model.base.options)return Z.model.base.options[Y];return J},Iw=function(Z,Y,J,X,$,W){if($.lean&&typeof $.lean.transform==="function"){$.lean.transform(Y);for(let G=0;G<Z.childSchemas.length;G++){const K=J?J+"."+Z.childSchemas[G].model.path:Z.childSchemas[G].model.path,Q=Z.childSchemas[G].schema,z=vu.get(K,Y);if(z==null)continue;if(Array.isArray(z))for(let H=0;H<z.length;H++)$.lean.transform(z[H]);else $.lean.transform(z);Iw(Q,z,K,X,$)}if(W)return W(null,Y);else return}if($.includeResultMetadata)return W(null,X);return W(null,Y)},du=function(Z,Y,J,X){if(X.lean&&typeof X.lean.transform==="function"){for(let $ of Y)X.lean.transform($);for(let $=0;$<Z.childSchemas.length;$++){const W=J?J+"."+Z.childSchemas[$].model.path:Z.childSchemas[$].model.path,G=Z.childSchemas[$].schema;let K=vu.get(W,Y);if(K==null)continue;K=K.flat();for(let Q=0;Q<K.length;Q++)X.lean.transform(K[Q]);du(G,K,W,X)}}return Y};async function Tw(Z){if(this._castConditions(),mu(this),this.error()!=null)throw this.error();const Y=this._conditions,J=this._optionsForExec(this.model);this._applyTranslateAliases(J),this._update=j8(this._update,J);const X=Z==="replaceOne";if(X)this._update=new this.model(this._update,null,!0);else{if(this._update=this._castUpdate(this._update),this._update==null||Object.keys(this._update).length===0)return{acknowledged:!1};const W=Object.assign({},J,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});this._update=hu(this._conditions,this.model.schema,this._update,W)}if(Array.isArray(J.arrayFilters))J.arrayFilters=Xw1(this._update,J.arrayFilters);if(Pw(this,"runValidators",!1))await this.validate(this._update,J,X);if(this._update.toBSON)this._update=this._update.toBSON();return this.mongooseCollection[Z](Y,this._update,J)}var jw=function(Z,Y,J,X,$,W){if(Z.op=Y,Z._validateOp(),X=X||{},$!=null){if("strict"in $)Z._mongooseOptions.strict=$.strict}if(!(J instanceof u)&&J!=null&&J.toString()!=="[object Object]")Z.error(new D5(J,"filter",Y));else Z.merge(J);if(F0.isObject($))Z.setOptions($);if(Z._mergeUpdate(X),W)return Z.exec(W),Z;return Z},OY=function(Z,Y){if(typeof Z==="function")Z=Z.call(Y);if(Z==null)Z=new iL1(Y.getQuery(),Y.model.modelName);return Z},Fw1=function(Z){return new Promise((Y,J)=>{Z._hooks.execPost("exec",Z,[],{},(X)=>{if(X)return J(X);Y()})})},cu=function(Z,Y,J,X){if(Z._queryMiddleware==null){if(J!=null)throw J;return Y}return new Promise(($,W)=>{const G=J?{error:J}:{};Z._queryMiddleware.execPost(X||Z.op,Z,[Y],G,(K,Q)=>{if(K)return W(K);$(Q)})})},qw1=function(Z){return new Promise((Y,J)=>{Z._hooks.execPre("exec",Z,[],(X)=>{if(X!=null)return J(X);Y()})})},lu=function(Z,Y){if(Z._queryMiddleware==null)return;return new Promise((J,X)=>{Z._queryMiddleware.execPre(Y||Z.op,Z,[],($)=>{if($!=null)return X($);J()})})},MK=function(Z,Y){return function(J,X){if(J!=null)return Y(J);for(let $ of Z._transforms)try{X=$(X)}catch(W){return Y(W)}return Y(null,X)}},pu=function(Z,Y,J){for(let X of Y){if(Z.push(J+X.path),!Array.isArray(X.populate))continue;pu(Z,X.populate,J+X.path+".")}};/*!
 * Module dependencies.
 */var nX=I8(),iL1=sW(),Dw=tZ(),T8=J0(),D5=yV(),_u=rh(),xu=N9(),{applyGlobalMaxTimeMS:aX,applyGlobalDiskUse:sX}=lL(),nL1=TU(),aL1=pL(),sL1=LY(),rL1=qm(),wK=EX(),tL1=Yw(),j8=V0(),fu=km(),bu=A7(),RK=KY(),Bw=X6(),oL1=v7().internalToObjectOptions,eL1=GY(),Zw1=KK(),Yw1=KG(),yu=fm(),vu=w7(),L6=Lw(),Jw1=ww(),Xw1=Ru(),$w1=Mw(),Ww1=Nu(),Gw1=Pu(),hu=Aw(),LK=p5(),Kw1=ku(),iX=import.meta.require("util"),F0=W1(),Qw1=SU(),zw1=new Set(["allowDiskUse","batchSize","collation","comment","explain","hint","j","lean","limit","maxTimeMS","populate","projection","read","select","skip","slice","sort","tailable","w","writeConcern","wtimeout"]);/*!
 * inherit mquery
 */u.prototype=new L6;u.prototype.constructor=u;u.base=L6.prototype;/*!
 * Overwrite mquery's `_distinct`, because Mongoose uses that name
 * to store the field to apply distinct on.
 */Object.defineProperty(u.prototype,"_distinct",{configurable:!0,writable:!0,enumerable:!0,value:void 0});u.use$geoWithin=L6.use$geoWithin;u.prototype.toConstructor=function Z(){const Y=this.model,J=this.mongooseCollection,X=function(G,K){if(!(this instanceof X))return new X(G,K);this._mongooseOptions=j8($._mongooseOptions),u.call(this,G,K||null,Y,J)};iX.inherits(X,Y.Query);const $=X.prototype;$.options={};const W=Object.assign({},this.options);if(W.sort!=null)$.sort(W.sort),delete W.sort;return $.setOptions(W),$.op=this.op,$._validateOp(),$._conditions=j8(this._conditions),$._fields=j8(this._fields),$._update=j8(this._update,{flattenDecimals:!1}),$._path=this._path,$._distinct=this._distinct,$._collection=this._collection,$._mongooseOptions=this._mongooseOptions,X};u.prototype.clone=function(){const Z=this.model,Y=this.mongooseCollection,J=new this.model.Query({},{},Z,Y),X=Object.assign({},this.options);if(X.sort!=null)J.sort(X.sort),delete X.sort;return J.setOptions(X),J.op=this.op,J._validateOp(),J._conditions=j8(this._conditions),J._fields=j8(this._fields),J._update=j8(this._update,{flattenDecimals:!1}),J._path=this._path,J._distinct=this._distinct,J._collection=this._collection,J._mongooseOptions=this._mongooseOptions,J};u.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,Y;if(arguments.length===1){const X=arguments[0];if(typeof X==="object"&&!Array.isArray(X)){const $=Object.keys(X),W=$.length;for(let G=0;G<W;++G)this.slice($[G],X[$[G]]);return this}this._ensurePath("slice"),Z=this._path,Y=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,Y=[arguments[0],arguments[1]];else Z=arguments[0],Y=arguments[1];else if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];const J={};return J[Z]={$slice:Y},this.select(J),this};/*!
 * ignore
 */var Hw1=new Set(Qw1);u.prototype._validateOp=function(){if(this.op!=null&&!Hw1.has(this.op))this.error(new Error('Query has invalid `op`: "'+this.op+'"'))};u.prototype.mod=function(){let Z,Y;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],Y=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],Y=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],Y=arguments[0];else Z=arguments[1],Y=arguments[0];const J=this._conditions[Y]||(this._conditions[Y]={});return J.$mod=Z,this};u.prototype.limit=function Z(Y){if(this._validate("limit"),typeof Y==="string")try{Y=wK(Y)}catch(J){throw new nX("Number",Y,"limit")}return this.options.limit=Y,this};u.prototype.skip=function Z(Y){if(this._validate("skip"),typeof Y==="string")try{Y=wK(Y)}catch(J){throw new nX("Number",Y,"skip")}return this.options.skip=Y,this};u.prototype.projection=function(Z){if(arguments.length===0)return this._fields;return this._fields={},this._userProvidedFields={},this.select(Z),this._fields};u.prototype.select=function Z(){let Y=arguments[0];if(!Y)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const J=this._fields||(this._fields={}),X=this._userProvidedFields||(this._userProvidedFields={});let $=void 0;if(this.model!=null&&F0.hasUserDefinedProperty(this.model.db.options,"sanitizeProjection"))$=this.model.db.options.sanitizeProjection;else if(this.model!=null&&F0.hasUserDefinedProperty(this.model.base.options,"sanitizeProjection"))$=this.model.base.options.sanitizeProjection;else $=this._mongooseOptions.sanitizeProjection;function W(G){return typeof G==="string"&&$?G=1:G}if(Y=Jw1(Y,!0),F0.isObject(Y)){if(this.selectedInclusively())Object.entries(Y).forEach(([G,K])=>{if(K){if(J["-"+G]!=null)delete J["-"+G];J[G]=X[G]=W(K)}else Object.keys(X).forEach((Q)=>{if(yu(G,Q))delete J[Q],delete X[Q]})});else if(this.selectedExclusively())Object.entries(Y).forEach(([G,K])=>{if(!K){if(J["+"+G]!=null)delete J["+"+G];J[G]=X[G]=W(K)}else Object.keys(X).forEach((Q)=>{if(yu(G,Q))delete J[Q],delete X[Q]})});else{const G=Object.keys(Y);for(let K=0;K<G.length;++K){const Q=Y[G[K]],z=G[K];J[z]=W(Q),X[z]=W(Q)}}return this}throw new TypeError("Invalid select() argument. Must be string or object.")};u.prototype.read=function Z(Y,J){if(typeof Y==="string")Y=nL1(Y),this.options.readPreference={mode:Y,tags:J};else this.options.readPreference=Y;return this};u.prototype.toString=function Z(){if(this.op==="count"||this.op==="countDocuments"||this.op==="find"||this.op==="findOne"||this.op==="deleteMany"||this.op==="deleteOne"||this.op==="findOneAndDelete"||this.op==="remove")return`${this.model.modelName}.${this.op}(${iX.inspect(this._conditions)})`;if(this.op==="distinct")return`${this.model.modelName}.distinct('${this._distinct}', ${iX.inspect(this._conditions)})`;if(this.op==="findOneAndReplace"||this.op==="findOneAndUpdate"||this.op==="replaceOne"||this.op==="update"||this.op==="updateMany"||this.op==="updateOne")return`${this.model.modelName}.${this.op}(${iX.inspect(this._conditions)}, ${iX.inspect(this._update)})`;return`${this.model.modelName}.${this.op}()`};u.prototype.session=function Z(Y){if(Y==null)delete this.options.session;return this.options.session=Y,this};u.prototype.writeConcern=function Z(Y){if(Y==null)return delete this.options.writeConcern,this;return this.options.writeConcern=Y,this};u.prototype.w=function Z(Y){if(Y==null)delete this.options.w;if(this.options.writeConcern!=null)this.options.writeConcern.w=Y;else this.options.w=Y;return this};u.prototype.j=function Z(Y){if(Y==null)delete this.options.j;if(this.options.writeConcern!=null)this.options.writeConcern.j=Y;else this.options.j=Y;return this};u.prototype.wtimeout=function Z(Y){if(Y==null)delete this.options.wtimeout;if(this.options.writeConcern!=null)this.options.writeConcern.wtimeout=Y;else this.options.wtimeout=Y;return this};u.prototype.getOptions=function(){return this.options};u.prototype.setOptions=function(Z,Y){if(Y){if(this._mongooseOptions=Z&&j8(Z)||{},this.options=Z||{},"populate"in Z)this.populate(this._mongooseOptions);return this}if(Z==null)return this;if(typeof Z!=="object")throw new Error('Options must be an object, got "'+Z+'"');if(Z=Object.assign({},Z),Array.isArray(Z.populate)){const J=Z.populate;delete Z.populate;const X=J.length;for(let $=0;$<X;++$)this.populate(J[$])}if("setDefaultsOnInsert"in Z)this._mongooseOptions.setDefaultsOnInsert=Z.setDefaultsOnInsert,delete Z.setDefaultsOnInsert;if("overwriteDiscriminatorKey"in Z)this._mongooseOptions.overwriteDiscriminatorKey=Z.overwriteDiscriminatorKey,delete Z.overwriteDiscriminatorKey;if("sanitizeProjection"in Z){if(Z.sanitizeProjection&&!this._mongooseOptions.sanitizeProjection)Ww1(this._fields);this._mongooseOptions.sanitizeProjection=Z.sanitizeProjection,delete Z.sanitizeProjection}if("sanitizeFilter"in Z)this._mongooseOptions.sanitizeFilter=Z.sanitizeFilter,delete Z.sanitizeFilter;if("timestamps"in Z)this._mongooseOptions.timestamps=Z.timestamps,delete Z.timestamps;if("defaults"in Z)this._mongooseOptions.defaults=Z.defaults;if("translateAliases"in Z)this._mongooseOptions.translateAliases=Z.translateAliases,delete Z.translateAliases;if(Z.lean==null&&this.schema&&"lean"in this.schema.options)this._mongooseOptions.lean=this.schema.options.lean;if(typeof Z.limit==="string")try{Z.limit=wK(Z.limit)}catch(J){throw new nX("Number",Z.limit,"limit")}if(typeof Z.skip==="string")try{Z.skip=wK(Z.skip)}catch(J){throw new nX("Number",Z.skip,"skip")}for(let J of Object.keys(Z))if(zw1.has(J)){const X=Array.isArray(Z[J])?Z[J]:[Z[J]];this[J].apply(this,X)}else this.options[J]=Z[J];return this};u.prototype.explain=function Z(Y){if(arguments.length===0)this.options.explain=!0;else if(Y===!1)delete this.options.explain;else this.options.explain=Y;return this};u.prototype.allowDiskUse=function(Z){if(arguments.length===0)this.options.allowDiskUse=!0;else if(Z===!1)delete this.options.allowDiskUse;else this.options.allowDiskUse=Z;return this};u.prototype.maxTimeMS=function(Z){return this.options.maxTimeMS=Z,this};u.prototype.getFilter=function(){return this._conditions};u.prototype.getQuery=function(){return this._conditions};u.prototype.setQuery=function(Z){this._conditions=Z};u.prototype.getUpdate=function(){return this._update};u.prototype.setUpdate=function(Z){this._update=Z};u.prototype._fieldsForExec=function(){if(this._fields==null)return null;if(Object.keys(this._fields).length===0)return null;return j8(this._fields)};u.prototype._updateForExec=function(){const Z=j8(this._update,{transform:!1,depopulate:!0}),Y=Object.keys(Z);let J=Y.length;const X={};while(J--){const $=Y[J];if($[0]!=="$"){if(!X.$set)if(Z.$set)X.$set=Z.$set;else X.$set={};if(X.$set[$]=Z[$],Y.splice(J,1),!~Y.indexOf("$set"))Y.push("$set")}else if($==="$set"){if(!X.$set)X[$]=Z[$]}else X[$]=Z[$]}return X};u.prototype._optionsForExec=function(Z){const Y=j8(this.options);if(delete Y.populate,Z=Z||this.model,!Z)return Y;aL1(Z.schema,Y);const J=Z&&Z.schema&&Z.schema.options&&Z.schema.options.read;if(!("readPreference"in Y)&&J)Y.readPreference=J;if(Y.upsert!==void 0)Y.upsert=!!Y.upsert;if(Y.writeConcern){if(Y.j)Y.writeConcern.j=Y.j,delete Y.j;if(Y.w)Y.writeConcern.w=Y.w,delete Y.w;if(Y.wtimeout)Y.writeConcern.wtimeout=Y.wtimeout,delete Y.wtimeout}if(this._applyPaths(),this._fields!=null){this._fields=this._castFields(this._fields);const X=this._fieldsForExec();if(X!=null)Y.projection=X}return Y};u.prototype.lean=function(Z){return this._mongooseOptions.lean=arguments.length?Z:!0,this};u.prototype.set=function(Z,Y){if(typeof Z==="object"){const J=Object.keys(Z);for(let X of J)this.set(X,Z[X]);return this}if(this._update=this._update||{},Z in this._update)delete this._update[Z];return this._update.$set=this._update.$set||{},this._update.$set[Z]=Y,this};u.prototype.get=function Z(Y){const J=this._update;if(J==null)return;const X=J.$set;if(X==null)return J[Y];if(F0.hasUserDefinedProperty(J,Y))return J[Y];if(F0.hasUserDefinedProperty(X,Y))return X[Y];return};u.prototype.error=function Z(Y){if(arguments.length===0)return this._error;return this._error=Y,this};u.prototype._unsetCastError=function Z(){if(this._error!=null&&!(this._error instanceof nX))return;return this.error(null)};u.prototype.mongooseOptions=function(Z){if(arguments.length>0)this._mongooseOptions=Z;return this._mongooseOptions};u.prototype._castConditions=function(){let Z=void 0;if(this.model!=null&&F0.hasUserDefinedProperty(this.model.db.options,"sanitizeFilter"))Z=this.model.db.options.sanitizeFilter;else if(this.model!=null&&F0.hasUserDefinedProperty(this.model.base.options,"sanitizeFilter"))Z=this.model.base.options.sanitizeFilter;else Z=this._mongooseOptions.sanitizeFilter;if(Z)$w1(this._conditions);try{this.cast(this.model),this._unsetCastError()}catch(Y){this.error(Y)}};/*!
 * ignore
 */u.prototype._find=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._mongooseOptions,J=this,X=J._userProvidedFields||{};aX(this.options,this.model),sX(this.options,this.model);const $=Object.assign({},{session:this&&this.options&&this.options.session||null,lean:Y.lean||null}),W=this._optionsForExec();this._applyTranslateAliases(W);const G=this._conditions,K=W.projection,Q=await this.mongooseCollection.find(G,W);if(W.explain)return Q.explain();let z=await Q.toArray();if(z.length===0)return z;if(!Y.populate){const F=J.schema.options.versionKey;if(Y.lean&&Y.lean.versionKey===!1&&F)z.forEach((q)=>{if(F in q)delete q[F]});return Y.lean?du(J.model.schema,z,null,$):fu(J.model,z,K,X,$)}const H=RK.preparePopulationOptionsMQ(J,Y);if(Y.lean)return J.model.populate(z,H);return z=await fu(J.model,z,K,X,$),await this.model.populate(z,H),z};u.prototype.find=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new T8("Query.prototype.find() no longer accepts a callback");if(this.op="find",L6.canMerge(Z))this.merge(Z),rX(this);else if(Z!=null)this.error(new D5(Z,"filter","find"));return this};u.prototype.merge=function(Z){if(!Z)return this;const Y={overwrite:!0};if(Z instanceof u){if(Z._conditions){if(Y.omit={},this._conditions&&this._conditions.$and&&Z._conditions.$and)Y.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z._conditions.$and);if(this._conditions&&this._conditions.$or&&Z._conditions.$or)Y.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z._conditions.$or);F0.merge(this._conditions,Z._conditions,Y)}if(Z._fields)this._fields||(this._fields={}),F0.merge(this._fields,Z._fields,Y);if(Z.options)this.options||(this.options={}),F0.merge(this.options,Z.options,Y);if(Z._update)this._update||(this._update={}),F0.mergeClone(this._update,Z._update);if(Z._distinct)this._distinct=Z._distinct;return F0.merge(this._mongooseOptions,Z._mongooseOptions),this}else if(this.model!=null&&Z instanceof this.model.base.Types.ObjectId)return F0.merge(this._conditions,{_id:Z},Y),this;else if(Z&&Z.$__)Z=Z.toObject(oL1);if(Y.omit={},this._conditions&&this._conditions.$and&&Z.$and)Y.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z.$and);if(this._conditions&&this._conditions.$or&&Z.$or)Y.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z.$or);return F0.merge(this._conditions,Z,Y),this};u.prototype.collation=function(Z){if(this.options==null)this.options={};return this.options.collation=Z,this};u.prototype._completeOne=function(Z,Y,J){if(!Z&&!this.options.includeResultMetadata)return J(null,null);const X=this.model,$=j8(this._fields),W=this._userProvidedFields||{},G=this._mongooseOptions,K=this.options;if(!K.lean&&G.lean)K.lean=G.lean;if(K.explain)return J(null,Z);if(!G.populate){const z=this.schema.options.versionKey;if(G.lean&&G.lean.versionKey===!1&&z){if(z in Z)delete Z[z]}return G.lean?Iw(X.schema,Z,null,Y,K,J):gu(X,Z,Y,K,$,W,null,J)}const Q=RK.preparePopulationOptionsMQ(this,this._mongooseOptions);if(G.lean)return X.populate(Z,Q).then((z)=>{Iw(X.schema,z,null,Y,K,J)},(z)=>{J(z)});gu(X,Z,Y,K,$,W,[],(z,H)=>{if(z!=null)return J(z);X.populate(H,Q).then((F)=>{J(null,F)},(F)=>{J(F)})})};u.prototype._findOne=async function Z(){if(this._castConditions(),this.error())throw this.error();aX(this.options,this.model),sX(this.options,this.model);const Y=this._optionsForExec();this._applyTranslateAliases(Y);const J=await this.mongooseCollection.findOne(this._conditions,Y);return new Promise((X,$)=>{this._completeOne(J,null,MK(this,(W,G)=>{if(W)return $(W);X(G)}))})};u.prototype.findOne=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[3]==="function")throw new T8("Query.prototype.findOne() no longer accepts a callback");if(this.op="findOne",this._validateOp(),J)this.setOptions(J);if(Y)this.select(Y);if(L6.canMerge(Z))this.merge(Z),rX(this);else if(Z!=null)this.error(new D5(Z,"filter","findOne"));return this};u.prototype._countDocuments=async function Z(){try{this.cast(this.model)}catch(X){this.error(X)}if(this.error())throw this.error();aX(this.options,this.model),sX(this.options,this.model);const Y=this._optionsForExec();this._applyTranslateAliases(Y);const J=this._conditions;return this.mongooseCollection.countDocuments(J,Y)};/*!
 * If `translateAliases` option is set, call `Model.translateAliases()`
 * on the following query properties: filter, projection, update, distinct.
 */u.prototype._applyTranslateAliases=function Z(Y){let J=!1;if("translateAliases"in this._mongooseOptions)J=this._mongooseOptions.translateAliases;else if(this.model?.schema?._userProvidedOptions?.translateAliases!=null)J=this.model.schema._userProvidedOptions.translateAliases;else if(this.model?.base?.options?.translateAliases!=null)J=this.model.base.options.translateAliases;if(!J)return;if(this.model?.schema?.aliases&&Object.keys(this.model.schema.aliases).length>0){if(this.model.translateAliases(this._conditions,!0),this.model.translateAliases(Y.projection,!0),this.model.translateAliases(this._update,!0),this._distinct!=null&&this.model.schema.aliases[this._distinct]!=null)this._distinct=this.model.schema.aliases[this._distinct]}};u.prototype._estimatedDocumentCount=async function Z(){if(this.error())throw this.error();const Y=this._optionsForExec();return this.mongooseCollection.estimatedDocumentCount(Y)};u.prototype.estimatedDocumentCount=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new T8("Query.prototype.estimatedDocumentCount() no longer accepts a callback");if(this.op="estimatedDocumentCount",this._validateOp(),typeof Z==="object"&&Z!=null)this.setOptions(Z);return this};u.prototype.countDocuments=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new T8("Query.prototype.countDocuments() no longer accepts a callback");if(this.op="countDocuments",this._validateOp(),L6.canMerge(Z))this.merge(Z);if(typeof Y==="object"&&Y!=null)this.setOptions(Y);return this};u.prototype.__distinct=async function Z(){if(this._castConditions(),this.error())throw this.error();aX(this.options,this.model),sX(this.options,this.model);const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.distinct(this._distinct,this._conditions,Y)};u.prototype.distinct=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new T8("Query.prototype.distinct() no longer accepts a callback");if(this.op="distinct",this._validateOp(),L6.canMerge(Y))this.merge(Y),rX(this);else if(Y!=null)this.error(new D5(Y,"filter","distinct"));if(Z!=null)this._distinct=Z;return this};u.prototype.sort=function(Z){if(arguments.length>1)throw new Error("sort() only takes 1 Argument");if(this.options.sort==null)this.options.sort={};const Y=this.options.sort;if(typeof Z==="string"){const J=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let X of J){const $=X[0]=="-"?-1:1;if($===-1)X=X.slice(1);if(LK.has(X))continue;Y[X]=$}}else if(Array.isArray(Z))for(let J of Z){if(!Array.isArray(J))throw new TypeError("Invalid sort() argument, must be array of arrays");const X=""+J[0];if(LK.has(X))continue;Y[X]=Nw(J[1],X)}else if(typeof Z==="object"&&Z!=null&&!(Z instanceof Map))for(let J of Object.keys(Z)){if(LK.has(J))continue;Y[J]=Nw(Z[J],J)}else if(Z instanceof Map)for(let J of Z.keys()){if(J=""+J,LK.has(J))continue;Y[J]=Nw(Z.get(J),J)}else if(Z!=null)throw new TypeError("Invalid sort() argument. Must be a string, object, array, or map.");return this};/*!
 * Convert sort values
 */u.prototype.deleteOne=function Z(Y,J){if(typeof Y==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new T8("Query.prototype.deleteOne() no longer accepts a callback");if(this.op="deleteOne",this.setOptions(J),L6.canMerge(Y))this.merge(Y),rX(this);else if(Y!=null)this.error(new D5(Y,"filter","deleteOne"));return this};u.prototype._deleteOne=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.deleteOne(this._conditions,Y)};u.prototype.deleteMany=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new T8("Query.prototype.deleteMany() no longer accepts a callback");if(this.setOptions(Y),this.op="deleteMany",L6.canMerge(Z))this.merge(Z),rX(this);else if(Z!=null)this.error(new D5(Z,"filter","deleteMany"));return this};u.prototype._deleteMany=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.deleteMany(this._conditions,Y)};u.prototype.findOneAndUpdate=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[3]==="function")throw new T8("Query.prototype.findOneAndUpdate() no longer accepts a callback");switch(this.op="findOneAndUpdate",this._validateOp(),this._validate(),arguments.length){case 2:J=void 0;break;case 1:Y=Z,Z=J=void 0;break}if(L6.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new D5(Z,"filter","findOneAndUpdate"));if(Y)this._mergeUpdate(Y);if(J=J?j8(J):{},J.projection)this.select(J.projection),delete J.projection;if(J.fields)this.select(J.fields),delete J.fields;const X=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(J.new==null&&J.returnDocument==null&&J.returnOriginal==null&&X!=null)J.returnOriginal=X;return this.setOptions(J),this};u.prototype._findOneAndUpdate=async function Z(){if(this._castConditions(),mu(this),this.error())throw this.error();if(aX(this.options,this.model),sX(this.options,this.model),"strict"in this.options)this._mongooseOptions.strict=this.options.strict;const Y=this._optionsForExec(this.model);uu(Y),this._applyTranslateAliases(Y),this._update=this._castUpdate(this._update);const J=Object.assign({},Y,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});if(this._update=hu(this._conditions,this.model.schema,this._update,J),!this._update||Object.keys(this._update).length===0)if(Y.upsert){const G=j8(this._update);delete G._id,this._update={$set:G}}else return this._executionStack=null,await this._findOne();else if(this._update instanceof Error)throw this._update;else if(this._update.$set&&Object.keys(this._update.$set).length===0)delete this._update.$set;if(Pw(this,"runValidators",!1))await this.validate(this._update,Y,!1);if(this._update.toBSON)this._update=this._update.toBSON();let $=await this.mongooseCollection.findOneAndUpdate(this._conditions,this._update,Y);for(let G of this._transforms)$=G($);const W=!Y.includeResultMetadata?$:$.value;return new Promise((G,K)=>{this._completeOne(W,$,MK(this,(Q,z)=>{if(Q)return K(Q);G(z)}))})};u.prototype.findOneAndDelete=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new T8("Query.prototype.findOneAndDelete() no longer accepts a callback");if(this.op="findOneAndDelete",this._validateOp(),this._validate(),L6.canMerge(Z))this.merge(Z);return Y&&this.setOptions(Y),this};u.prototype._findOneAndDelete=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this.options.includeResultMetadata,J=this._conditions,X=this._optionsForExec(this.model);this._applyTranslateAliases(X);let $=await this.mongooseCollection.findOneAndDelete(J,X);for(let G of this._transforms)$=G($);const W=!Y?$:$.value;return new Promise((G,K)=>{this._completeOne(W,$,MK(this,(Q,z)=>{if(Q)return K(Q);G(z)}))})};u.prototype.findOneAndReplace=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[4]==="function")throw new T8("Query.prototype.findOneAndReplace() no longer accepts a callback");if(this.op="findOneAndReplace",this._validateOp(),this._validate(),L6.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new D5(Z,"filter","findOneAndReplace"));if(Y!=null)this._mergeUpdate(Y);J=J||{};const X=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(J.new==null&&J.returnDocument==null&&J.returnOriginal==null&&X!=null)J.returnOriginal=X;return this.setOptions(J),this};u.prototype._findOneAndReplace=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();if("strict"in this.options)this._mongooseOptions.strict=this.options.strict,delete this.options.strict;const Y=this._conditions,J=this._optionsForExec();this._applyTranslateAliases(J),uu(J);const X=this.options.includeResultMetadata,$={skipId:!0};if("strict"in this._mongooseOptions)$.strict=this._mongooseOptions.strict;const W=Pw(this,"runValidators",!1);try{const Q=new this.model(this._update,null,$);if(W)await Q.validate();else if(Q.$__.validationError)throw Q.$__.validationError;this._update=Q.toBSON()}catch(Q){if(Q instanceof xu)throw Q;const z=new xu;throw z.errors[Q.path]=Q,z}let G=await this.mongooseCollection.findOneAndReplace(Y,this._update,J);for(let Q of this._transforms)G=Q(G);const K=!X?G:G.value;return new Promise((Q,z)=>{this._completeOne(K,G,MK(this,(H,F)=>{if(H)return z(H);Q(F)}))})};/*!
 * ignore
 *//*!
 * ignore
 */u.prototype._mergeUpdate=function(Z){if(!this._update)this._update=Array.isArray(Z)?[]:{};if(Z==null||typeof Z==="object"&&Object.keys(Z).length===0)return;if(Z instanceof u){if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");if(Z._update)F0.mergeClone(this._update,Z._update)}else if(Array.isArray(Z)){if(!Array.isArray(this._update))throw new Error("Cannot mix array and object updates");this._update=this._update.concat(Z)}else{if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");F0.mergeClone(this._update,Z)}};/*!
 * ignore
 */u.prototype.validate=async function Z(Y,J,X){if(typeof arguments[3]==="function")throw new T8("Query.prototype.validate() no longer accepts a callback");if(await lu(this,"validate"),X)await Y.$validate();else await new Promise(($,W)=>{Kw1(this,this.model.schema,Y,J,(G)=>{if(G!=null)return W(G);$()})});await cu(this,null,null,"validate")};u.prototype._updateMany=async function Z(){return Tw.call(this,"updateMany")};u.prototype._updateOne=async function Z(){return Tw.call(this,"updateOne")};u.prototype._replaceOne=async function Z(){return Tw.call(this,"replaceOne")};u.prototype.updateMany=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return jw(this,"updateMany",Z,Y,J,X)};u.prototype.updateOne=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return jw(this,"updateOne",Z,Y,J,X)};u.prototype.replaceOne=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return jw(this,"replaceOne",Z,Y,J,X)};u.prototype.transform=function(Z){return this._transforms.push(Z),this};u.prototype.orFail=function(Z){return this.transform((Y)=>{switch(this.op){case"find":if(Y.length===0)throw OY(Z,this);break;case"findOne":if(Y==null)throw OY(Z,this);break;case"replaceOne":case"updateMany":case"updateOne":if(Y&&Y.matchedCount===0)throw OY(Z,this);break;case"findOneAndDelete":case"findOneAndUpdate":case"findOneAndReplace":if(this.options.includeResultMetadata&&Y!=null&&Y.value==null)throw OY(Z,this);if(!this.options.includeResultMetadata&&Y==null)throw OY(Z,this);break;case"deleteMany":case"deleteOne":if(Y.deletedCount===0)throw OY(Z,this);break;default:break}return Y}),this};u.prototype.isPathSelectedInclusive=function(Z){return Yw1(this._fields,Z)};u.prototype.exec=async function Z(Y){if(typeof Y==="function"||arguments.length>=2&&typeof arguments[1]==="function")throw new T8("Query.prototype.exec() no longer accepts a callback");if(typeof Y==="string")this.op=Y;if(this.op==null)throw new T8("Query must have `op` before executing");if(this.model==null)throw new T8("Query must have an associated model before executing");if(this._validateOp(),!this.op)return;if(this.options&&this.options.sort){if(Object.keys(this.options.sort).includes(""))throw new Error('Invalid field "" passed to sort()')}let J="_"+this.op;if(this.op==="distinct")J="__distinct";if(this._executionStack!=null){let G=this.toString();if(G.length>60)G=G.slice(0,60)+"...";const K=new T8("Query was already executed: "+G);throw K.originalStack=this._executionStack.stack,K}else this._executionStack=new Error;let X=null;try{await qw1(this)}catch(G){if(G instanceof Dw.skipWrappedFunction)X=G;else throw G}let $,W=null;try{await lu(this),$=X?X.args[0]:await this[J]();for(let G of this._transforms)$=G($)}catch(G){if(G instanceof Dw.skipWrappedFunction)$=G.args[0];else W=G}return $=await cu(this,$,W),await Fw1(this),$};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */u.prototype.then=function(Z,Y){return this.exec().then(Z,Y)};u.prototype.catch=function(Z){return this.exec().then(null,Z)};u.prototype.finally=function(Z){return this.exec().finally(Z)};u.prototype[Symbol.toStringTag]=function Z(){return`Query { ${this.op} }`};u.prototype.pre=function(Z){return this._hooks.pre("exec",Z),this};u.prototype.post=function(Z){return this._hooks.post("exec",Z),this};u.prototype._castUpdate=function Z(Y){let J=this.schema;const X=J.options.discriminatorKey,$=J._baseSchema?J._baseSchema:J;if(this._mongooseOptions.overwriteDiscriminatorKey&&Y[X]!=null&&$.discriminators){const K=Object.values($.discriminators).find((Q)=>Q.discriminatorMapping.value===Y[X]);if(K!=null)J=K}let W;if("upsert"in this.options)W=this.options.upsert;const G=this._conditions;if(J!=null&&F0.hasUserDefinedProperty(G,J.options.discriminatorKey)&&typeof G[J.options.discriminatorKey]!=="object"&&J.discriminators!=null){const K=G[J.options.discriminatorKey],Q=bu(this.model.discriminators,K);J=J.discriminators[K]||Q&&Q.schema||J}return tL1(J,Y,{strict:this._mongooseOptions.strict,upsert:W,arrayFilters:this.options.arrayFilters,overwriteDiscriminatorKey:this._mongooseOptions.overwriteDiscriminatorKey},this,this._conditions)};u.prototype.populate=function(){if(!Array.from(arguments).some(Boolean))return this;const Z=F0.populate.apply(null,arguments);if(this.options!=null){const X=this.options.readConcern,$=this.options.readPreference;for(let W of Z){if(X!=null&&(W&&W.options&&W.options.readConcern)==null)W.options=W.options||{},W.options.readConcern=X;if($!=null&&(W&&W.options&&W.options.readPreference)==null)W.options=W.options||{},W.options.readPreference=$}}const Y=this._mongooseOptions;if(Y.lean!=null){const X=Y.lean;for(let $ of Z)if(($&&$.options&&$.options.lean)==null)$.options=$.options||{},$.options.lean=X}if(!F0.isObject(Y.populate))Y.populate={};const J=Y.populate;for(let X of Z){const $=X.path;if(J[$]&&J[$].populate&&X.populate)X.populate=J[$].populate.concat(X.populate);J[X.path]=X}return this};u.prototype.getPopulatedPaths=function Z(){const Y=this._mongooseOptions.populate||{},J=Object.keys(Y);for(let X of Object.keys(Y)){const $=Y[X];if(!Array.isArray($.populate))continue;pu(J,$.populate,X+".")}return J};/*!
 * ignore
 */u.prototype.cast=function(Z,Y){Y||(Y=this._conditions),Z=Z||this.model;const J=Z.schema.options.discriminatorKey;if(Y!=null&&Y.hasOwnProperty(J))Z=bu(Z.discriminators,Y[J])||Z;const X={upsert:this.options&&this.options.upsert};if(this.options){if("strict"in this.options)X.strict=this.options.strict;if("strictQuery"in this.options)X.strictQuery=this.options.strictQuery}try{return sL1(Z.schema,Y,X,this)}catch($){if(typeof $.setModel==="function")$.setModel(Z);throw $}};u.prototype._castFields=function Z(Y){let J,X,$,W,G,K;if(Y){$=Object.keys(Y),X=[],K=$.length;while(K--)if(W=$[K],Y[W].$elemMatch)J||(J={}),J[W]=Y[W],X.push(W)}if(J){try{G=this.cast(this.model,J)}catch(Q){return Q}K=X.length;while(K--)W=X[K],Y[W]=G[W]}return Y};u.prototype._applyPaths=function Z(){if(!this.model)return;this._fields=this._fields||{},RK.applyPaths(this._fields,this.model.schema);let Y=!0;if("selectPopulatedPaths"in this.model.base.options)Y=this.model.base.options.selectPopulatedPaths;if("selectPopulatedPaths"in this.model.schema.options)Y=this.model.schema.options.selectPopulatedPaths;if(Y)Gw1(this._fields,this._userProvidedFields,this._mongooseOptions.populate)};u.prototype.cursor=function Z(Y){if(Y)this.setOptions(Y);try{this.cast(this.model)}catch(J){return new _u(this)._markError(J)}return new _u(this)};u.prototype.tailable=function(Z,Y){if(Z!=null&&typeof Z.constructor==="function"&&Z.constructor.name==="Object")Y=Z,Z=!0;if(Z===void 0)Z=!0;if(Y&&typeof Y==="object")for(let J of Object.keys(Y))if(J==="awaitData"||J==="awaitdata")this.options.awaitData=!!Y[J];else this.options[J]=Y[J];return this.options.tailable=arguments.length?!!Z:!0,this};u.prototype.near=function(){const Z=[],Y=this._mongooseOptions.nearSphere;if(arguments.length===1)if(Array.isArray(arguments[0]))Z.push({center:arguments[0],spherical:Y});else if(typeof arguments[0]==="string")Z.push(arguments[0]);else if(F0.isObject(arguments[0])){if(typeof arguments[0].spherical!=="boolean")arguments[0].spherical=Y;Z.push(arguments[0])}else throw new TypeError("invalid argument");else if(arguments.length===2)if(typeof arguments[0]==="number"&&typeof arguments[1]==="number")Z.push({center:[arguments[0],arguments[1]],spherical:Y});else if(typeof arguments[0]==="string"&&Array.isArray(arguments[1]))Z.push(arguments[0]),Z.push({center:arguments[1],spherical:Y});else if(typeof arguments[0]==="string"&&F0.isObject(arguments[1])){if(Z.push(arguments[0]),typeof arguments[1].spherical!=="boolean")arguments[1].spherical=Y;Z.push(arguments[1])}else throw new TypeError("invalid argument");else if(arguments.length===3)if(typeof arguments[0]==="string"&&typeof arguments[1]==="number"&&typeof arguments[2]==="number")Z.push(arguments[0]),Z.push({center:[arguments[1],arguments[2]],spherical:Y});else throw new TypeError("invalid argument");else throw new TypeError("invalid argument");return u.base.near.apply(this,Z)};u.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this};if(Symbol.asyncIterator!=null)u.prototype[Symbol.asyncIterator]=function(){return this.cursor().transformNull()._transformForAsyncIterator()};u.prototype.box=function(Z,Y){if(!Array.isArray(Z)&&F0.isObject(Z))Y=Z.ur,Z=Z.ll;return u.base.box.call(this,Z,Y)};u.prototype.center=u.base.circle;u.prototype.centerSphere=function(){if(arguments[0]!=null&&typeof arguments[0].constructor==="function"&&arguments[0].constructor.name==="Object")arguments[0].spherical=!0;if(arguments[1]!=null&&typeof arguments[1].constructor==="function"&&arguments[1].constructor.name==="Object")arguments[1].spherical=!0;u.base.circle.apply(this,arguments)};u.prototype.selectedInclusively=function Z(){return Zw1(this._fields)};u.prototype.selectedExclusively=function Z(){return eL1(this._fields)};u.prototype.model;/*!
 * Export
 */iu.exports=u});var ru=w((CS1,su)=>{var w6=function(Z){au.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.agg=Z,this._transforms=[];const Y=Z._model;delete Z.options.cursor.useMongooseAggCursor,this._mongooseOptions={},ww1(Y,this,Z)},ww1=function(Z,Y,J){if(!Z.collection.buffer)Z.hooks.execPre("aggregate",J,function(){Y.cursor=Z.collection.aggregate(J._pipeline,J.options||{}),Y.emit("cursor",Y.cursor)});else Z.collection.emitter.once("queue",function(){Z.hooks.execPre("aggregate",J,function(){Y.cursor=Z.collection.aggregate(J._pipeline,J.options||{}),Y.emit("cursor",Y.cursor)})})},nu=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},Rw1=function(Z,Y){if(Z.cursor)return Y();Z.once("cursor",function(){Y()})},BK=function(Z,Y){let J=Y;if(Z._transforms.length)J=function(X,$){if(X||$===null&&!Z._mongooseOptions.transformNull)return Y(X,$);Y(X,Z._transforms.reduce(function(W,G){return G(W)},$))};if(Z._error)return Uw1(function(){J(Z._error)});if(Z.cursor)return Z.cursor.next().then((X)=>{if(!X)return J(null,null);J(null,X)},(X)=>J(X));else Z.once("cursor",function(){BK(Z,Y)})};/*!
 * Module dependencies.
 */var Ew=J0(),au=import.meta.require("stream").Readable,Vw1=mL(),Uw1=X6(),Lw1=import.meta.require("util");Lw1.inherits(w6,au);/*!
 * ignore
 */w6.prototype._read=function(){const Z=this;BK(this,function(Y,J){if(Y)return Z.emit("error",Y);if(!J){Z.push(null),Z.cursor.close(function(X){if(X)return Z.emit("error",X)});return}Z.push(J)})};if(Symbol.asyncIterator!=null){const Z="Mongoose does not support using async iterators with an existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation";w6.prototype[Symbol.asyncIterator]=function(){throw new Ew(Z)}}Object.defineProperty(w6.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});w6.prototype._markError=function(Z){return this._error=Z,this};w6.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new Ew("AggregationCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close()}catch(Y){throw this.listeners("error").length>0&&this.emit("error",Y),Y}this.emit("close")};w6.prototype.next=async function Z(){if(typeof arguments[0]==="function")throw new Ew("AggregationCursor.prototype.next() no longer accepts a callback");return new Promise((Y,J)=>{BK(this,(X,$)=>{if(X!=null)return J(X);Y($)})})};w6.prototype.eachAsync=function(Z,Y,J){const X=this;if(typeof Y==="function")J=Y,Y={};return Y=Y||{},Vw1(function($){return BK(X,$)},Z,Y,J)};if(Symbol.asyncIterator!=null)w6.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 */w6.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(nu)===-1)this.map(nu);return this};/*!
 * ignore
 */w6.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */w6.prototype.addCursorFlag=function(Z,Y){const J=this;return Rw1(this,function(){J.cursor.addCursorFlag(Z,Y)}),this};/*!
 * ignore
 */su.exports=w6});var Cw=w((OS1,tu)=>{tu.exports=function Z(Y,J,X){const $=J&&J.discriminatorMapping;if(X=X||"",$&&!$.isRoot){const W=Y,G=(X.length>0?X+".":X)+$.key,K=$.value;if(W[0]!=null&&W[0].$match&&(W[0].$match[G]===void 0||W[0].$match[G]===K))W[0].$match[G]=K;else if(W[0]!=null&&W[0].$geoNear)W[0].$geoNear.query=W[0].$geoNear.query||{},W[0].$geoNear.query[G]=K;else if(W[0]!=null&&W[0].$search)if(W[1]&&W[1].$match!=null)W[1].$match[G]=W[1].$match[G]||K;else{const Q={};Q[G]=K,W.splice(1,0,{$match:Q})}else{const Q={};Q[G]=K,W.unshift({$match:Q})}}}});var eu=w((SS1,ou)=>{var Mw1=function(Z){if(Z==null||Z.$accumulator==null)return;for(let Y of["init","accumulate","merge","finalize"])if(typeof Z.$accumulator[Y]==="function")Z.$accumulator[Y]=String(Z.$accumulator[Y])};ou.exports=function Z(Y){if(!Array.isArray(Y))return;for(let J of Y){if(J==null)continue;const X=J.$group||J.$bucket||J.$bucketAuto;if(X!=null)for(let W of Object.keys(X))Mw1(X[W]);const $=Object.keys(J)[0];if($&&typeof J[$]==="object"){const W=J[$];for(let G of Object.keys(W))if(W[G]!=null&&W[G].$function!=null&&typeof W[G].$function.body==="function")W[G].$function.body=W[G].$function.body.toString()}if(J.$facet!=null)for(let W of Object.keys(J.$facet))Z(J.$facet[W])}}});var kw=w((kS1,$d)=>{var D1=function(Z,Y){if(this._pipeline=[],this._model=Y,this.options={},arguments.length===1&&Array.isArray(Z))this.append.apply(this,Z)},jw1=function(Z){if(typeof Z!=="object"||Z===null)return!1;const Y=Object.keys(Z);return Y.length===1&&Y[0][0]==="$"};/*!
 * Module dependencies
 */var Jd=ru(),Ow=J0(),Xd=AK(),{applyGlobalMaxTimeMS:Aw1,applyGlobalDiskUse:Bw1}=lL(),Nw1=V0(),Dw1=c8(),Sw=Cw(),Iw1=eu(),Zd=W1(),Pw1=Xd.prototype.read,Tw1=Xd.prototype.readConcern,Yd=new Set(["$$DESCEND","$$PRUNE","$$KEEP"]);D1.prototype.options;D1.prototype.model=function(Z){if(arguments.length===0)return this._model;if(this._model=Z,Z.schema!=null){if(this.options.readPreference==null&&Z.schema.options.read!=null)this.options.readPreference=Z.schema.options.read;if(this.options.collation==null&&Z.schema.options.collation!=null)this.options.collation=Z.schema.options.collation}return Z};D1.prototype.append=function(){const Z=arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:[...arguments];if(!Z.every(jw1))throw new Error("Arguments must be aggregate pipeline operators");return this._pipeline=this._pipeline.concat(Z),this};D1.prototype.addFields=function(Z){if(typeof Z!=="object"||Z===null||Array.isArray(Z))throw new Error("Invalid addFields() argument. Must be an object");return this.append({$addFields:Object.assign({},Z)})};D1.prototype.project=function(Z){const Y={};if(typeof Z==="object"&&!Array.isArray(Z))Object.keys(Z).forEach(function(J){Y[J]=Z[J]});else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(J){if(!J)return;const X=J[0]==="-"?0:1;if(X===0)J=J.substring(1);Y[J]=X});else throw new Error("Invalid project() argument. Must be string or object");return this.append({$project:Y})};D1.prototype.near=function(Z){const Y={};return Y.$geoNear=Z,this.append(Y)};/*!
 * define methods
 */"group match skip limit out densify fill".split(" ").forEach(function(Z){D1.prototype[Z]=function(Y){const J={};return J["$"+Z]=Y,this.append(J)}});D1.prototype.unwind=function(){const Z=[...arguments],Y=[];for(let J of Z)if(J&&typeof J==="object")Y.push({$unwind:J});else if(typeof J==="string")Y.push({$unwind:J[0]==="$"?J:"$"+J});else throw new Error('Invalid arg "'+J+'" to unwind(), must be string or object');return this.append.apply(this,Y)};D1.prototype.replaceRoot=function(Z){let Y;if(typeof Z==="string")Y=Z.startsWith("$")?Z:"$"+Z;else Y=Z;return this.append({$replaceRoot:{newRoot:Y}})};D1.prototype.count=function(Z){return this.append({$count:Z})};D1.prototype.sortByCount=function(Z){if(Z&&typeof Z==="object")return this.append({$sortByCount:Z});else if(typeof Z==="string")return this.append({$sortByCount:Z[0]==="$"?Z:"$"+Z});else throw new TypeError('Invalid arg "'+Z+'" to sortByCount(), must be string or object')};D1.prototype.lookup=function(Z){return this.append({$lookup:Z})};D1.prototype.graphLookup=function(Z){const Y={};if(Z){if(!Zd.isObject(Z))throw new TypeError("Invalid graphLookup() argument. Must be an object.");Zd.mergeClone(Y,Z);const J=Y.startWith;if(J&&typeof J==="string")Y.startWith=Y.startWith.startsWith("$")?Y.startWith:"$"+Y.startWith}return this.append({$graphLookup:Y})};D1.prototype.sample=function(Z){return this.append({$sample:{size:Z}})};D1.prototype.sort=function(Z){const Y={};if(Dw1(Z)==="Object"){const J=["desc","descending",-1];Object.keys(Z).forEach(function(X){if(Z[X]instanceof Object&&Z[X].$meta){Y[X]=Z[X];return}Y[X]=J.indexOf(Z[X])===-1?1:-1})}else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(J){if(!J)return;const X=J[0]==="-"?-1:1;if(X===-1)J=J.substring(1);Y[J]=X});else throw new TypeError("Invalid sort() argument. Must be a string or object.");return this.append({$sort:Y})};D1.prototype.unionWith=function(Z){return this.append({$unionWith:Z})};D1.prototype.read=function(Z,Y){return Pw1.call(this,Z,Y),this};D1.prototype.readConcern=function(Z){return Tw1.call(this,Z),this};D1.prototype.redact=function(Z,Y,J){if(arguments.length===3){if(typeof Y==="string"&&!Yd.has(Y)||typeof J==="string"&&!Yd.has(J))throw new Error("If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP");Z={$cond:{if:Z,then:Y,else:J}}}else if(arguments.length!==1)throw new TypeError("Invalid arguments");return this.append({$redact:Z})};D1.prototype.explain=async function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new Ow("Aggregate.prototype.explain() no longer accepts a callback");const J=this._model;if(!this._pipeline.length)throw new Error("Aggregate has empty pipeline");Sw(this._pipeline,this._model.schema),await new Promise((G,K)=>{J.hooks.execPre("aggregate",this,(Q)=>{if(Q){const z={error:Q};return J.hooks.execPost("aggregate",this,[null],z,(H)=>{K(H)})}else G()})});const X=J.collection.aggregate(this._pipeline,this.options);if(Y==null)Y=!0;let $=null;try{$=await X.explain(Y)}catch(G){await new Promise((K,Q)=>{const z={error:G};J.hooks.execPost("aggregate",this,[null],z,(H)=>{if(H)return Q(H);return K()})})}const W={error:null};return await new Promise((G,K)=>{J.hooks.execPost("aggregate",this,[$],W,(Q)=>{if(Q)return K(Q);return G()})}),$};D1.prototype.allowDiskUse=function(Z){return this.options.allowDiskUse=Z,this};D1.prototype.hint=function(Z){return this.options.hint=Z,this};D1.prototype.session=function(Z){if(Z==null)delete this.options.session;else this.options.session=Z;return this};D1.prototype.option=function(Z){for(let Y in Z)this.options[Y]=Z[Y];return this};D1.prototype.cursor=function(Z){return this.options.cursor=Z||{},new Jd(this)};D1.prototype.collation=function(Z){return this.options.collation=Z,this};D1.prototype.facet=function(Z){return this.append({$facet:Z})};D1.prototype.search=function(Z){return this.append({$search:Z})};D1.prototype.pipeline=function(){return this._pipeline};D1.prototype.exec=async function Z(){if(!this._model)throw new Error("Aggregate not bound to any Model");if(typeof arguments[0]==="function")throw new Ow("Aggregate.prototype.exec() no longer accepts a callback");const Y=this._model,J=this._model.collection;if(Aw1(this.options,Y),Bw1(this.options,Y),this.options&&this.options.cursor)return new Jd(this);if(Sw(this._pipeline,this._model.schema),Iw1(this._pipeline),await new Promise((G,K)=>{Y.hooks.execPre("aggregate",this,(Q)=>{if(Q){const z={error:Q};return Y.hooks.execPost("aggregate",this,[null],z,(H)=>{K(H)})}else G()})}),!this._pipeline.length)throw new Ow("Aggregate has empty pipeline");const X=Nw1(this.options||{});let $;try{$=await(await J.aggregate(this._pipeline,X)).toArray()}catch(G){await new Promise((K,Q)=>{const z={error:G};Y.hooks.execPost("aggregate",this,[null],z,(H)=>{if(H)return Q(H);K()})})}const W={error:null};return await new Promise((G,K)=>{Y.hooks.execPost("aggregate",this,[$],W,(Q)=>{if(Q)return K(Q);return G()})}),$};D1.prototype.then=function(Z,Y){return this.exec().then(Z,Y)};D1.prototype.catch=function(Z){return this.exec().then(null,Z)};D1.prototype.finally=function(Z){return this.exec().finally(Z)};if(Symbol.asyncIterator!=null)D1.prototype[Symbol.asyncIterator]=function(){return this.cursor({useMongooseAggCursor:!0}).transformNull()._transformForAsyncIterator()};/*!
 * Helpers
 */D1._prepareDiscriminatorPipeline=Sw;/*!
 * Exports
 */$d.exports=D1});var Kd=w((_S1,Gd)=>{var Ew1=V0();class Wd{constructor(Z){if(Z==null)return;Object.assign(this,Ew1(Z))}}Gd.exports=Wd});var zd=w((xS1,Qd)=>{Qd.exports=function Z(Y,J){const X=Object.keys(J.paths),$=X.length;for(let W=0;W<$;++W){let G="";const K=X[W],Q=J.paths[K],z=Q.splitPath(),H=z.length;let F=Y;for(let q=0;q<H;++q){if(F==null)break;const V=z[q];if(G+=(!G.length?"":".")+V,q===H-1){if(typeof F[V]!=="undefined"){if(Q.$isSingleNested)Z(F[V],Q.caster.schema);else if(Q.$isMongooseDocumentArray&&Array.isArray(F[V]))F[V].forEach((L)=>Z(L,Q.schema));break}const U=Q.getDefault(Y,!1,{skipCast:!0});if(typeof U!=="undefined"){if(F[V]=U,Q.$isSingleNested)Z(U,Q.caster.schema);else if(Q.$isMongooseDocumentArray&&Array.isArray(U))U.forEach((L)=>Z(L,Q.schema))}}else{if(F[V]==null)F[V]={};F=F[V]}}}}});var Fd=w((fS1,Hd)=>{var Cw1=G0(),Ow1=W1();Hd.exports=function Z(Y,J){const X=_w();function $(W,G){Object.defineProperty(Y.prototype,W,{get:function(){const K={};for(let Q in G.methods[W])K[Q]=G.methods[W][Q].bind(this);return K},configurable:!0})}for(let W of Object.keys(J.methods)){const G=J.methods[W];if(J.tree.hasOwnProperty(W))throw new Error('You have a method and a property in your schema both named "'+W+'"');if(typeof G==="function"&&X.prototype[W]===G){delete J.methods[W];continue}if(J.reserved[W]&&!Cw1(J,`methodOptions.${W}.suppressWarning`,!1))Ow1.warn(`mongoose: the method name "${W}" is used by mongoose `+"internally, overwriting it may cause bugs. If you\'re sure you know what you\'re doing, you can suppress this error by using "+`\`schema.method('${W}', fn, { suppressWarning: true })\`.`);if(typeof G==="function")Y.prototype[W]=G;else $(W,J)}Y.$appliedMethods=!0;for(let W of Object.keys(J.paths)){const G=J.paths[W];if(G.$isSingleNested&&!G.caster.$appliedMethods)Z(G.caster,G.schema);if(G.$isMongooseDocumentArray&&!G.Constructor.$appliedMethods)Z(G.Constructor,G.schema)}}});var Ud=w((yS1,Vd)=>{var xw=function(Z,Y,J,X,$){if(Z==null||typeof Z!=="object")return Z;const W={...Z};X=$?X||{}:Y;for(let G of Object.keys(W)){const K=$?$+"."+G:G;if(Y.hasOwnProperty(K)||X.hasOwnProperty(G))if(NK(Y[K])||NK(X[G]))W[G]=xw(W[G],Y,J,X[G],K);else delete W[G];else if(J[K])W[G]=xw(W[G],Y,J,X[G],K)}return W},fw=function(Z,Y,J,X,$){if(Z==null||typeof Z!=="object")return Z;const W={...Z};X=$?X||{}:Y;for(let G of Object.keys(W)){const K=$?$+"."+G:G;if(Y.hasOwnProperty(K)||X.hasOwnProperty(G)){if(NK(Y[K])||NK(X[G]))W[G]=fw(W[G],Y,J,X[G],K);continue}else if(J[K])W[G]=fw(W[G],Y,J,X[G],K);else delete W[G]}return W},qd=bV(),Sw1=GY(),kw1=KK(),NK=W1().isPOJO;Vd.exports=function Z(Y,J,X){if(J==null)return Y;if(Y==null)return Y;let $=null;if(kw1(J))$=!1;else if(Sw1(J))$=!0;if($==null)return Y;else if($)return X=X||qd(J),xw(Y,J,X);else return X=X||qd(J),fw(Y,J,X)}});var wd=w((gS1,Ld)=>{Ld.exports=function Z(Y){let J=!1;for(let X of Object.keys(Y))if(Y[X]==="text")J=!0;return J}});var Md=w((bS1,Rd)=>{var _w1=wd();Rd.exports=function Z(Y,J,X){if(_w1(Y))return;if(X.hasOwnProperty("collation")&&!J.hasOwnProperty("collation"))J.collation=X.collation}});var Bd=w((vS1,Ad)=>{var xw1=jG().middlewareFunctions,fw1=eW();Ad.exports=function Z(Y,J,X){const $={useErrorHandlers:!0,numCallbackParams:1};J=J.filter((W)=>{if(xw1.indexOf(W.name)!==-1)return!!W.model;return W.model!==!1}),Y.$__insertMany=J.createWrapper("insertMany",Y.$__insertMany,Y,$);for(let W of Object.keys(X))if(J.hasHooks(W)){const G=Y[W];Y[W]=function(){const K=arguments.length,Q=K>0?arguments[K-1]:null,z=typeof Q==="function"?Q:null,H=Array.prototype.slice.call(arguments,0,z==null?K:K-1);return fw1(z,(F)=>{J.execPre(W,Y,H,function(q){if(q!=null)return F(q);let V=0;const U=G.apply(Y,H.concat(L));if(U!=null&&typeof U.then==="function")U.then((R)=>L(null,R),(R)=>L(R));function L(R,A){if(V++>0)return;if(R!=null)return F(R);J.execPost(W,Y,[A],function(B){if(B!=null)return F(B);F(null,A)})}})},Y.events)}}}});var Dd=w((hS1,Nd)=>{Nd.exports=function Z(Y,J){for(let X in J.statics)Y[X]=J.statics[X]}});var DK=w((mS1,Id)=>{Id.exports=function Z(Y){if(!(this instanceof Z))return new Z(Y);return this.val=Y,this}});var tX=w((uS1,Pd)=>{/*!
 * ignore
 */Pd.exports=new WeakMap});var Cd=w((dS1,Ed)=>{var jd=function(Z,Y,J,X,$){const W=[],G=X.isVirtual&&X.justOne&&Z.length>1?!1:X.sort&&Z.length>1,K=X.$nullIfNotFound;let Q,z,H;if(bw1.isMongooseArray(Z))Z=Z.__array;let F=0;const q=Z.length;if(G&&$&&X[IK]===void 0){X[IK]=!1;for(let V in J)if(Array.isArray(J[V])){X[IK]=!0;break}}for(F=0;F<q;++F){if(H=Z[F],Array.isArray(H)){jd(H,Y,J,X,!0),W.push(H);continue}if(H===null&&G===!1){W.push(H);continue}if(z=String(H),Q=Y[z],X.clone&&Q!=null)if(X.lean){const V=Td.get(Q);Q=yw1(Q),Td.set(Q,V)}else Q=Q.constructor.hydrate(Q._doc);if($)if(Q)if(G){const V=J[z];if(X[IK])W.push(Q);else W[V]=Q}else W.push(Q);else if(H!=null&&H[gw1]!=null)W.push(H);else W.push(X.retainNullValues||K?null:H);else W[F]=Q||null}if(Z.length=0,W.length)W.forEach(function(V,U){Z[U]=V})},yw1=V0(),Td=tX(),gw1=Z1().modelSymbol,bw1=W1();Ed.exports=jd;var IK=Symbol("mongoose#assignRawDocsToIdStructure#hasArray")});var gw=w((cS1,Od)=>{var yw=function(Z,Y){if(Z.virtuals[Y])return{virtual:Z.virtuals[Y],path:void 0};const J=Y.split(".");let X="",$="";for(let W=0;W<J.length;++W){if(X+=(X.length>0?".":"")+J[W],Z.virtuals[X]){if(W===J.length-1)return{virtual:Z.virtuals[X],path:$};continue}if(Z.nested[X])continue;if(Z.paths[X]&&Z.paths[X].schema){Z=Z.paths[X].schema;const G=J.slice(W+1).join(".");if(Z.virtuals[G]){if(W===J.length-2)return{virtual:Z.virtuals[G],nestedSchemaPath:[$,X].filter((K)=>!!K).join(".")};continue}if(W+1<J.length&&Z.discriminators)for(let K of Object.keys(Z.discriminators)){const Q=yw(Z.discriminators[K],G);if(Q!=null){const z=[$,X,Q.nestedSchemaPath].filter((H)=>!!H).join(".");return{virtual:Q.virtual,nestedSchemaPath:z}}}$+=($.length>0?".":"")+X,X="";continue}if(Z.discriminators)for(let G of Object.keys(Z.discriminators)){const K=yw(Z.discriminators[G],Y);if(K)return K}return null}};Od.exports=yw;/*!
 * ignore
 */});var PK=w((lS1,Sd)=>{Sd.exports=function Z(Y,J,X){if(Y==null)return Y;if(Y._doc!=null)Y=Y._doc;if(arguments.length>=3){if(typeof Y!=="object")return;if(X===void 0)return;if(Y instanceof Map)Y.set(J,X);else Y[J]=X;return X}if(J==="$*")return Y instanceof Map?Array.from(Y.values()):Object.keys(Y).map(($)=>Y[$]);if(Y instanceof Map)return Y.get(J);return Y[J]}});var _d=w((TK,kd)=>{(function(Z,Y){typeof TK==="object"&&typeof kd!=="undefined"?Y(TK):typeof define==="function"&&define.amd?define(["exports"],Y):(Z=Z||self,Y(Z.sift={}))})(TK,function(Z){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Y=function(N,I){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,k){T.__proto__=k}||function(T,k){for(var s in k)if(Object.prototype.hasOwnProperty.call(k,s))T[s]=k[s]},Y(N,I)};function J(N,I){if(typeof I!=="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");Y(N,I);function T(){this.constructor=N}N.prototype=I===null?Object.create(I):(T.prototype=I.prototype,new T)}var X=function(N){var I="[object "+N+"]";return function(T){return $(T)===I}},$=function(N){return Object.prototype.toString.call(N)},W=function(N){if(N instanceof Date)return N.getTime();else if(G(N))return N.map(W);else if(N&&typeof N.toJSON==="function")return N.toJSON();return N},G=X("Array"),K=X("Object"),Q=X("Function"),z=function(N){return N&&(N.constructor===Object||N.constructor===Array||N.constructor.toString()==="function Object() { [native code] }"||N.constructor.toString()==="function Array() { [native code] }")&&!N.toJSON},H=function(N,I){if(N==null&&N==I)return!0;if(N===I)return!0;if(Object.prototype.toString.call(N)!==Object.prototype.toString.call(I))return!1;if(G(N)){if(N.length!==I.length)return!1;for(var T=0,k=N.length;T<k;T++)if(!H(N[T],I[T]))return!1;return!0}else if(K(N)){if(Object.keys(N).length!==Object.keys(I).length)return!1;for(var s in N)if(!H(N[s],I[s]))return!1;return!0}return!1},F=function(N,I,T,k,s,J1){var H1=I[k];if(G(N)&&isNaN(Number(H1))){for(var A1=0,_8=N.length;A1<_8;A1++)if(!F(N[A1],I,T,k,A1,N))return!1}if(k===I.length||N==null)return T(N,s,J1,k===0);return F(N[H1],I,T,k+1,H1,N)},q=function(){function N(I,T,k,s){this.params=I,this.owneryQuery=T,this.options=k,this.name=s,this.init()}return N.prototype.init=function(){},N.prototype.reset=function(){this.done=!1,this.keep=!1},N}(),V=function(N){J(I,N);function I(T,k,s,J1){var H1=N.call(this,T,k,s)||this;return H1.children=J1,H1}return I.prototype.reset=function(){this.keep=!1,this.done=!1;for(var T=0,k=this.children.length;T<k;T++)this.children[T].reset()},I.prototype.childrenNext=function(T,k,s,J1){var H1=!0,A1=!0;for(var _8=0,t6=this.children.length;_8<t6;_8++){var x8=this.children[_8];if(!x8.done)x8.next(T,k,s,J1);if(!x8.keep)A1=!1;if(x8.done){if(!x8.keep)break}else H1=!1}this.done=H1,this.keep=A1},I}(q),U=function(N){J(I,N);function I(T,k,s,J1,H1){var A1=N.call(this,T,k,s,J1)||this;return A1.name=H1,A1}return I}(V),L=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.next=function(T,k,s,J1){this.childrenNext(T,k,s,J1)},I}(V),R=function(N){J(I,N);function I(T,k,s,J1,H1){var A1=N.call(this,k,s,J1,H1)||this;return A1.keyPath=T,A1.propop=!0,A1._nextNestedValue=function(_8,t6,x8,hi){return A1.childrenNext(_8,t6,x8,hi),!A1.done},A1}return I.prototype.next=function(T,k,s){F(T,this.keyPath,this._nextNestedValue,0,k,s)},I}(V),A=function(N,I){if(N instanceof Function)return N;if(N instanceof RegExp)return function(k){var s=typeof k==="string"&&N.test(k);return N.lastIndex=0,s};var T=W(N);return function(k){return I(T,W(k))}},B=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.init=function(){this._test=A(this.params,this.options.compare)},I.prototype.next=function(T,k,s){if(!Array.isArray(s)||s.hasOwnProperty(k)){if(this._test(T,k,s))this.done=!0,this.keep=!0}},I}(q),M=function(N,I,T){return new B(N,I,T)},D=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.next=function(){this.done=!0,this.keep=!1},I}(q),d=function(N){return function(I,T,k,s){if(I==null)return new D(I,T,k,s);return N(I,T,k,s)}},O=function(N){return d(function(I,T,k,s){var J1=typeof W(I),H1=N(I);return new B(function(A1){return typeof W(A1)===J1&&H1(A1)},T,k,s)})},E=function(N,I,T,k){var s=k.operations[N];if(!s)j(N);return s(I,T,k,N)},j=function(N){throw new Error("Unsupported operation: "+N)},n=function(N,I){for(var T in N)if(I.operations.hasOwnProperty(T)||T.charAt(0)==="$")return!0;return!1},c=function(N,I,T,k,s){if(n(I,s)){var J1=C(I,T,s),H1=J1[0],A1=J1[1];if(A1.length)throw new Error("Property queries must contain only operations, or exact objects.");return new R(N,I,k,s,H1)}return new R(N,I,k,s,[new B(I,k,s)])},y=function(N,I,T){if(I===void 0)I=null;var k=T===void 0?{}:T,s=k.compare,J1=k.operations,H1={compare:s||H,operations:Object.assign({},J1||{})},A1=C(N,null,H1),_8=A1[0],t6=A1[1],x8=[];if(_8.length)x8.push(new R([],N,I,H1,_8));if(x8.push.apply(x8,t6),x8.length===1)return x8[0];return new L(N,I,H1,x8)},C=function(N,I,T){var k=[],s=[];if(!z(N))return k.push(new B(N,N,T)),[k,s];for(var J1 in N)if(T.operations.hasOwnProperty(J1)){var H1=E(J1,N[J1],N,T);if(H1){if(!H1.propop&&I&&!T.operations[I])throw new Error("Malformed query. "+J1+" cannot be matched against property.")}if(H1!=null)k.push(H1)}else if(J1.charAt(0)==="$")j(J1);else s.push(c(J1.split("."),N[J1],J1,N,T));return[k,s]},S=function(N){return function(I,T,k){return N.reset(),N.next(I,T,k),N.keep}},a=function(N,I){if(I===void 0)I={};return S(y(N,null,I))},P1=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.init=function(){this._test=A(this.params,this.options.compare)},I.prototype.reset=function(){N.prototype.reset.call(this),this.keep=!0},I.prototype.next=function(T){if(this._test(T))this.done=!0,this.keep=!1},I}(q),y0=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.init=function(){if(!this.params||typeof this.params!=="object")throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=y(this.params,this.owneryQuery,this.options)},I.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},I.prototype.next=function(T){if(G(T)){for(var k=0,s=T.length;k<s;k++){this._queryOperation.reset();var J1=T[k];this._queryOperation.next(J1,k,T,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},I}(q),r1=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.init=function(){this._queryOperation=y(this.params,this.owneryQuery,this.options)},I.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},I.prototype.next=function(T,k,s,J1){this._queryOperation.next(T,k,s,J1),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},I}(q),C0=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.init=function(){},I.prototype.next=function(T){if(G(T)&&T.length===this.params)this.done=!0,this.keep=!0},I}(q),k8=function(N){if(N.length===0)throw new Error("$and/$or/$nor must be a nonempty array")},$8=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!1,T}return I.prototype.init=function(){var T=this;k8(this.params),this._ops=this.params.map(function(k){return y(k,null,T.options)})},I.prototype.reset=function(){this.done=!1,this.keep=!1;for(var T=0,k=this._ops.length;T<k;T++)this._ops[T].reset()},I.prototype.next=function(T,k,s){var J1=!1,H1=!1;for(var A1=0,_8=this._ops.length;A1<_8;A1++){var t6=this._ops[A1];if(t6.next(T,k,s),t6.keep){J1=!0,H1=t6.keep;break}}this.keep=H1,this.done=J1},I}(q),_4=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!1,T}return I.prototype.next=function(T,k,s){N.prototype.next.call(this,T,k,s),this.keep=!this.keep},I}($8),wM=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.init=function(){var T=this;this._testers=this.params.map(function(k){if(n(k,T.options))throw new Error("cannot nest $ under "+T.name.toLowerCase());return A(k,T.options.compare)})},I.prototype.next=function(T,k,s){var J1=!1,H1=!1;for(var A1=0,_8=this._testers.length;A1<_8;A1++){var t6=this._testers[A1];if(t6(T)){J1=!0,H1=!0;break}}this.keep=H1,this.done=J1},I}(q),xi=function(N){J(I,N);function I(T,k,s,J1){var H1=N.call(this,T,k,s,J1)||this;return H1.propop=!0,H1._in=new wM(T,k,s,J1),H1}return I.prototype.next=function(T,k,s,J1){if(this._in.next(T,k,s),G(s)&&!J1){if(this._in.keep)this.keep=!1,this.done=!0;else if(k==s.length-1)this.keep=!0,this.done=!0}else this.keep=!this._in.keep,this.done=!0},I.prototype.reset=function(){N.prototype.reset.call(this),this._in.reset()},I}(q),fi=function(N){J(I,N);function I(){var T=N!==null&&N.apply(this,arguments)||this;return T.propop=!0,T}return I.prototype.next=function(T,k,s){if(s.hasOwnProperty(k)===this.params)this.done=!0,this.keep=!0},I}(q),yi=function(N){J(I,N);function I(T,k,s,J1){var H1=N.call(this,T,k,s,T.map(function(A1){return y(A1,k,s)}),J1)||this;return H1.propop=!1,k8(T),H1}return I.prototype.next=function(T,k,s,J1){this.childrenNext(T,k,s,J1)},I}(U),gi=function(N){J(I,N);function I(T,k,s,J1){var H1=N.call(this,T,k,s,T.map(function(A1){return y(A1,k,s)}),J1)||this;return H1.propop=!0,H1}return I.prototype.next=function(T,k,s,J1){this.childrenNext(T,k,s,J1)},I}(U),RM=function(N,I,T){return new B(N,I,T)},MM=function(N,I,T,k){return new P1(N,I,T,k)},AM=function(N,I,T,k){return new $8(N,I,T,k)},BM=function(N,I,T,k){return new _4(N,I,T,k)},NM=function(N,I,T,k){return new y0(N,I,T,k)},DM=function(N,I,T,k){return new xi(N,I,T,k)},IM=function(N,I,T,k){return new wM(N,I,T,k)},PM=O(function(N){return function(I){return I<N}}),TM=O(function(N){return function(I){return I<=N}}),jM=O(function(N){return function(I){return I>N}}),EM=O(function(N){return function(I){return I>=N}}),CM=function(N,I,T){var k=N[0],s=N[1];return new B(function(J1){return W(J1)%k===s},I,T)},OM=function(N,I,T,k){return new fi(N,I,T,k)},SM=function(N,I,T){return new B(new RegExp(N,I.$options),I,T)},kM=function(N,I,T,k){return new r1(N,I,T,k)},_M={number:function(N){return typeof N==="number"},string:function(N){return typeof N==="string"},bool:function(N){return typeof N==="boolean"},array:function(N){return Array.isArray(N)},null:function(N){return N===null},timestamp:function(N){return N instanceof Date}},xM=function(N,I,T){return new B(function(k){if(typeof N==="string"){if(!_M[N])throw new Error("Type alias does not exist");return _M[N](k)}return k!=null?k instanceof N||k.constructor===N:!1},I,T)},fM=function(N,I,T,k){return new yi(N,I,T,k)},yM=function(N,I,T,k){return new gi(N,I,T,k)},gM=function(N,I,T){return new C0(N,I,T,"$size")},bM=function(){return null},vM=function(N,I,T){var k;if(Q(N))k=N;else if(!process.env.CSP_ENABLED)k=new Function("obj","return "+N);else throw new Error("In CSP mode, sift does not support strings in \"$where\" condition");return new B(function(s){return k.bind(s)(s)},I,T)},bi=Object.freeze({__proto__:null,$Size:C0,$eq:RM,$ne:MM,$or:AM,$nor:BM,$elemMatch:NM,$nin:DM,$in:IM,$lt:PM,$lte:TM,$gt:jM,$gte:EM,$mod:CM,$exists:OM,$regex:SM,$not:kM,$type:xM,$and:fM,$all:yM,$size:gM,$options:bM,$where:vM}),hM=function(N,I,T){var k=T===void 0?{}:T,s=k.compare,J1=k.operations;return y(N,I,{compare:s,operations:Object.assign({},bi,J1||{})})},vi=function(N,I){if(I===void 0)I={};var T=hM(N,null,I);return S(T)};Z.$Size=C0,Z.$all=yM,Z.$and=fM,Z.$elemMatch=NM,Z.$eq=RM,Z.$exists=OM,Z.$gt=jM,Z.$gte=EM,Z.$in=IM,Z.$lt=PM,Z.$lte=TM,Z.$mod=CM,Z.$ne=MM,Z.$nin=DM,Z.$nor=BM,Z.$not=kM,Z.$options=bM,Z.$or=AM,Z.$regex=SM,Z.$size=gM,Z.$type=xM,Z.$where=vM,Z.EqualsOperation=B,Z.createDefaultQueryOperation=hM,Z.createEqualsOperation=M,Z.createOperationTester=S,Z.createQueryOperation=y,Z.createQueryTester=a,Z.default=vi,Object.defineProperty(Z,"__esModule",{value:!0})})});var fd=w((pS1,bw)=>{var xd=_d();bw.exports=xd.default;Object.assign(bw.exports,xd)});var md=w((iS1,hd)=>{var lw1=function(Z){if(Array.isArray(Z)){if(Z.some((Y)=>Array.isArray(Y)||Y===null))return Z.map((Y)=>{if(Y==null)return 0;if(Array.isArray(Y))return Y.filter((J)=>J!=null).length;return 1});return Z.filter((Y)=>Y!=null).length}return Z==null?0:1},EK=function(Z,Y,J,X){const $=typeof J.transform==="function",W=$?J.transform:pw1;if(Array.isArray(Z)){const G=[],K=Z.length;for(let H=0;H<K;++H){let F=Z[H];const q=Array.isArray(X)?X[H]:X;if(!hw(F)&&(!J.retainNullValues||F!=null)&&!$)continue;else if(!J.retainNullValues&&F==null)continue;else if($)F=W(hw(F)?F:null,q);if(bd(F,Y),G.push(F),Y.originalLimit&&G.length>=Y.originalLimit)break}const Q=G.length;while(Z.length>Q)Array.prototype.pop.apply(Z,[]);let z=0;if(CK.isMongooseArray(Z))for(z=0;z<Q;++z)Z.set(z,G[z],!0);else for(z=0;z<Q;++z)Z[z]=G[z];return Z}if(hw(Z)||CK.isPOJO(Z))return bd(Z,Y),W(Z,X);if(Z instanceof Map)return Z;if(J.justOne===!1)return[];return Z==null?W(Z,X):W(null,X)},bd=function(Z,Y){if(Z!=null&&Y.excludeId)if(typeof Z.$__setValue==="function")delete Z._doc._id;else delete Z._id},hw=function(Z){if(Z==null)return!1;return Array.isArray(Z)||Z.$isMongooseMap||Z.$__!=null||vd.has(Z)},pw1=function(Z){return Z},vw1=CG(),hw1=DK(),mw1=Cd(),jK=G0(),uw1=gw(),vd=tX(),yd=PK(),dw1=dV(),vw=w7(),gd=fd().default,CK=W1(),{populateModelSymbol:cw1}=Z1();hd.exports=function Z(Y){const J=Object.assign({},jK(Y,"allOptions.options.options"),jK(Y,"allOptions.options")),X=Object.assign({},Y.options,J,{justOne:Y.justOne,isVirtual:Y.isVirtual});X.$nullIfNotFound=Y.isVirtual;const $=Y.populatedModel,W=[].concat(Y.rawIds);Y.allIds=[].concat(Y.allIds),mw1(Y.rawIds,Y.rawDocs,Y.rawOrder,X);const{docs:G,rawIds:K,options:Q}=Y,z=Y.count&&Y.isVirtual;let H;function F(q){if(z)return q;if(q instanceof hw1)return q.val;if(q===void 0)return q;const V=Y.allIds[H];if(Y.path.endsWith(".$*"))return EK(q,Q,X,V);if(Y.justOne===!0&&Array.isArray(q)){const U=[];for(let L of q){const R=vd.get(L);if(R==null||R===$)U.push(L)}while(q.length>U.length)Array.prototype.pop.apply(q,[]);for(let L=0;L<U.length;++L)q[L]=U[L];return EK(q[0],Q,X,V)}else if(Y.justOne===!1&&!Array.isArray(q))return EK([q],Q,X,V);return EK(q,Q,X,V)}for(H=0;H<G.length;++H){const q=Y.path.endsWith(".$*")?Y.path.slice(0,-3):Y.path,V=vw.get(q,G[H],yd);if(V==null&&!uw1(Y.originalModel.schema,q))continue;let U;if(z)U=lw1(K[H]);else if(Array.isArray(Y.match))U=Array.isArray(K[H])?K[H].filter(gd(Y.match[H])):[K[H]].filter(gd(Y.match[H]))[0];else U=K[H];const L=Y.originalModel.schema,R=jK(G[H],"$__",null)!=null;let A=R?V instanceof Map:CK.isPOJO(V);if(A=A&&jK(L._getSchema(q),"$isSchemaMap"),!Y.isVirtual&&A){const D=V instanceof Map?Array.from(V.keys()):Object.keys(V);U=U.reduce((d,O,E)=>{return d.set(D[E],O),d},new Map)}if(R&&Array.isArray(U)){for(let D of U)if(D!=null&&D.$__!=null)D.$__.parent=G[H]}else if(R&&U!=null&&U.$__!=null)U.$__.parent=G[H];if(Y.isVirtual&&R){if(G[H].$populated(q,Y.justOne?W[0]:W,Y.allOptions),Array.isArray(U))U=U.map((D)=>D==null?void 0:D);vw.set(q,U,G[H],void 0,F,!1);continue}const B=q.split(".");let M=G[H];for(let D=0;D<B.length-1;++D){if(Array.isArray(M)&&!CK.isArrayIndex(B[D]))break;if(B[D]==="$*")break;if(M[B[D]]==null){const d=B.slice(0,D+1).join("."),O=L._getSchema(d);if(U==null&&O!=null&&O.$isMongooseArray)break;M[B[D]]={}}if(M=M[B[D]],typeof M!=="object")break}if(G[H].$__){if(Y.allOptions.options[cw1]=Y.allOptions.model,G[H].$populated(q,Y.unpopulatedValues[H],Y.allOptions.options),U!=null&&U.$__!=null)U.$__.wasPopulated={value:Y.unpopulatedValues[H]};if(U instanceof Map&&!U.$isMongooseMap)U=new vw1(U,q,G[H],G[H].schema.path(q).$__schemaType)}if(vw.set(q,U,G[H],yd,F,!1),G[H].$__)dw1(G[H],[Y.allOptions.options])}}});var mw=w((nS1,ud)=>{var iw1=iL();ud.exports=function Z(Y,J,X){if(!X||!(J&&J.upsert))return;if(!iw1(Y)[X])if(J.overwrite)Y[X]=0;else{if(!Y.$setOnInsert)Y.$setOnInsert={};Y.$setOnInsert[X]=0}}});var ad=w((aS1,nd)=>{var eX=function(Z,Y){if(Z==null)return;if(Z.discriminatorMapping&&!Z.discriminatorMapping.isRoot)Y[Z.discriminatorMapping.key]=Z.discriminatorMapping.value},SY=function(Z,Y){const J=Z.schema.options.discriminatorKey;if(Y!=null&&Y.hasOwnProperty(J))Z=aw1(Z.discriminators,Y[J])||Z;return Z},nw1=J0(),aw1=A7(),dd=CU(),cd=OU(),oX=LY(),ld=Yw(),pd=mw(),{inspect:sw1}=import.meta.require("util"),id=Aw();nd.exports=function Z(Y,J,X){const $=Y.base.now(),W=Y.base.options.setDefaultsOnInsert;if(J.insertOne)return(G)=>{const K=SY(Y,J.insertOne.document),Q=new K(J.insertOne.document);if(K.schema.options.timestamps&&X.timestamps!==!1)Q.initializeTimestamps();if(X.session!=null)Q.$session(X.session);const z=K?.schema?.options?.versionKey;if(z&&Q[z]==null)Q[z]=0;if(J.insertOne.document=Q,X.skipValidation||J.insertOne.skipValidation){G(null);return}J.insertOne.document.$validate().then(()=>{G(null)},(H)=>{G(H,null)})};else if(J.updateOne)return(G)=>{try{if(!J.updateOne.filter)throw new Error("Must provide a filter object.");if(!J.updateOne.update)throw new Error("Must provide an update object.");const K=SY(Y,J.updateOne.filter),Q=K.schema,z=X.strict!=null?X.strict:K.schema.options.strict;if(eX(Q,J.updateOne.filter),K.schema.$timestamps!=null&&J.updateOne.timestamps!==!1){const F=K.schema.$timestamps.createdAt,q=K.schema.$timestamps.updatedAt;cd($,F,q,J.updateOne.update,{})}if(J.updateOne.timestamps!==!1)dd($,J.updateOne.update,K.schema);if((J.updateOne.setDefaultsOnInsert==null?W:J.updateOne.setDefaultsOnInsert)!==!1)id(J.updateOne.filter,K.schema,J.updateOne.update,{setDefaultsOnInsert:!0,upsert:J.updateOne.upsert});pd(J.updateOne.update,J.updateOne,K.schema.options.versionKey),J.updateOne.filter=oX(K.schema,J.updateOne.filter,{strict:z,upsert:J.updateOne.upsert}),J.updateOne.update=ld(K.schema,J.updateOne.update,{strict:z,upsert:J.updateOne.upsert},K,J.updateOne.filter)}catch(K){return G(K,null)}G(null)};else if(J.updateMany)return(G)=>{try{if(!J.updateMany.filter)throw new Error("Must provide a filter object.");if(!J.updateMany.update)throw new Error("Must provide an update object.");const K=SY(Y,J.updateMany.filter),Q=K.schema,z=X.strict!=null?X.strict:K.schema.options.strict;if((J.updateMany.setDefaultsOnInsert==null?W:J.updateMany.setDefaultsOnInsert)!==!1)id(J.updateMany.filter,K.schema,J.updateMany.update,{setDefaultsOnInsert:!0,upsert:J.updateMany.upsert});if(K.schema.$timestamps!=null&&J.updateMany.timestamps!==!1){const F=K.schema.$timestamps.createdAt,q=K.schema.$timestamps.updatedAt;cd($,F,q,J.updateMany.update,{})}if(J.updateMany.timestamps!==!1)dd($,J.updateMany.update,K.schema);eX(Q,J.updateMany.filter),pd(J.updateMany.update,J.updateMany,K.schema.options.versionKey),J.updateMany.filter=oX(K.schema,J.updateMany.filter,{strict:z,upsert:J.updateMany.upsert}),J.updateMany.update=ld(K.schema,J.updateMany.update,{strict:z,upsert:J.updateMany.upsert},K,J.updateMany.filter)}catch(K){return G(K,null)}G(null)};else if(J.replaceOne)return(G)=>{const K=SY(Y,J.replaceOne.filter),Q=K.schema,z=X.strict!=null?X.strict:K.schema.options.strict;eX(Q,J.replaceOne.filter);try{J.replaceOne.filter=oX(K.schema,J.replaceOne.filter,{strict:z,upsert:J.replaceOne.upsert})}catch(q){return G(q,null)}const H=new K(J.replaceOne.replacement,z,!0);if(K.schema.options.timestamps)H.initializeTimestamps();if(X.session!=null)H.$session(X.session);const F=K?.schema?.options?.versionKey;if(F&&H[F]==null)H[F]=0;if(J.replaceOne.replacement=H,X.skipValidation||J.replaceOne.skipValidation){J.replaceOne.replacement=J.replaceOne.replacement.toBSON(),G(null);return}J.replaceOne.replacement.$validate().then(()=>{J.replaceOne.replacement=J.replaceOne.replacement.toBSON(),G(null)},(q)=>{G(q,null)})};else if(J.deleteOne)return(G)=>{const K=SY(Y,J.deleteOne.filter),Q=K.schema;eX(Q,J.deleteOne.filter);try{J.deleteOne.filter=oX(K.schema,J.deleteOne.filter)}catch(z){return G(z,null)}G(null)};else if(J.deleteMany)return(G)=>{const K=SY(Y,J.deleteMany.filter),Q=K.schema;eX(Q,J.deleteMany.filter);try{J.deleteMany.filter=oX(K.schema,J.deleteMany.filter)}catch(z){return G(z,null)}G(null)};else return(G)=>{const K=new nw1(`Invalid op passed to \`bulkWrite()\`: ${sw1(J)}`);G(K,null)}}});var od=w((sS1,td)=>{var rd=function(Z,Y,J){if(Z=Z.filter((X)=>!(X instanceof rw1)),!J)return Z;return Z.filter((X)=>{try{return Y.cast(X),!0}catch($){return!1}})},ow1=function(Z){if(Array.isArray(Z)){if(Z.length>1)return{$or:[].concat(Z.map((Y)=>Object.assign({},Y)))};return Object.assign({},Z[0])}return Object.assign({},Z)},rw1=DK(),tw1=QG(),{trusted:OK}=WZ(),sd=Rw();td.exports=function Z(Y,J,X,$,W){const G=ow1(J);if(X.size===1){const K=Array.from(X)[0],Q=$.schema.path(K);if(K!=="_id"||!G._id)Y=rd(Y,Q,W),G[K]=OK({$in:Y});else if(K==="_id"&&G._id){const H=sd(G[K])?G[K]:{$eq:G[K]};G[K]={...OK({$in:Y}),...H}}const z=tw1(K);for(let H=0;H<z.length-1;++H){const F=z[H];if(G[F]!=null&&G[F].$elemMatch!=null){G[F].$elemMatch[K.slice(F.length+1)]=OK({$in:Y}),delete G[K];break}}}else{const K=[];if(Array.isArray(G.$or))G.$and=[{$or:G.$or},{$or:K}],delete G.$or;else G.$or=K;for(let Q of X)if(Q!=="_id"||!G._id){const z=$.schema.path(Q);Y=rd(Y,z,W),K.push({[Q]:{$in:Y}})}else if(Q==="_id"&&G._id){const z=sd(G[Q])?G[Q]:{$eq:G[Q]};G[Q]={...OK({$in:Y}),...z}}}return G}});var Zc=w((rS1,ed)=>{var ew1=function(){return{result:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},insertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,upsertedCount:0,upsertedIds:{},insertedIds:{},n:0}};ed.exports=ew1});var Jc=w((tS1,Yc)=>{Yc.exports=function Z(Y){if(Y==null)return null;return Object.keys(Y)[0]}});var Gc=w((oS1,Wc)=>{/*!
 * ignore
 */var Xc=P9(),ZR1=G0(),YR1=A7(),$c=tX(),kY=w7(),JR1=Z1().populateModelSymbol;Wc.exports=function Z(Y,J,X,$){const W=J.path($),G=X;if(W)return W;const K=J.discriminatorMapping&&J.discriminatorMapping.key;if(K&&Y!=null){if(X!=null&&X[K]!=null){const H=YR1(Y.discriminators,X[K]);J=H?H.schema:J}else if(Y.discriminators!=null)return Object.keys(Y.discriminators).reduce((H,F)=>{const q=Y.discriminators[F];return H.concat(Z(q,q.schema,null,$))},[])}function Q(H,F,q,V){let U=H.length+1,L,R;while(U--){if(R=H.slice(0,U).join("."),L=F.path(R),L==null)continue;if(L.caster){if(L.caster instanceof Xc)return L.caster;let M=null;if(L.schema!=null&&L.schema.discriminators!=null){const D=L.schema.discriminators,d=R+"."+L.schema.options.discriminatorKey,O=q?kY.get(d,q)||[]:[];M=Object.keys(D).reduce(function(E,j){const n=D[j].discriminatorMapping.value;if(X==null||O.indexOf(j)!==-1||O.indexOf(n)!==-1)E.push(D[j]);return E},[])}if(U!==H.length&&L.schema){let D;if(H[U]==="$"){if(U+1===H.length)return L;if(D=Q(H.slice(U+1),F,q?kY.get(R,q):null,V.concat(H.slice(0,U))),D)D.$parentSchemaDocArray=D.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L);return D}if(M!=null&&M.length>0){D=[];for(let d of M){const O=Q(H.slice(U),d,q?kY.get(R,q):null,V.concat(H.slice(0,U)));if(O!=null){if(O.$parentSchemaDocArray=O.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L),O.$parentSchemaDocArray)D.$parentSchemaDocArray=O.$parentSchemaDocArray;D.push(O)}}return D}else{if(D=Q(H.slice(U),L.schema,q?kY.get(R,q):null,V.concat(H.slice(0,U))),D)D.$parentSchemaDocArray=D.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L);return D}}else if(U!==H.length&&L.$isMongooseArray&&L.casterConstructor.$isMongooseArray){let D=L;while(D.$isMongooseArray&&!D.$isMongooseDocumentArray)D=D.casterConstructor;const d=Q(H.slice(U),D.schema,null,V.concat(H.slice(0,U)));if(d!=null)return d;if(D.schema.discriminators){const O=[];for(let E of Object.keys(D.schema.discriminators)){const j=D.schema.discriminators[E]||D.schema,n=Q(H.slice(U),j,null,V.concat(H.slice(0,U)));if(n!=null)O.push(n)}if(O.length>0)return O}}}else if(L.$isSchemaMap&&L.$__schemaType instanceof Xc)return L.$__schemaType;const A=V.concat([R]).join(".");if(G!=null&&G.$__&&G.$populated(A)&&U<H.length){const M=X.$__.populated[A].options[JR1];if(M!=null)return Q(H.slice(U),M.schema,q?kY.get(R,q):null,V.concat(H.slice(0,U)))}const B=ZR1(G,R);if(B!=null){const M=Array.isArray(B)&&B.length>0?$c.get(B[0]):$c.get(B),D=M!=null?M.schema:null;if(D!=null){const d=Q(H.slice(U),D,q?kY.get(R,q):null,V.concat(H.slice(0,U)));if(d!=null)return d.$parentSchemaDocArray=d.$parentSchemaDocArray||(D.$isSingleNested?null:D),d}}return L}}const z=$.split(".");for(let H=0;H<z.length;++H)if(z[H]==="$")z[H]="0";return Q(z,J,X,[])}});var uw=w((eS1,Kc)=>{var XR1=WY();Kc.exports=function Z(Y,J){if(Y==null)return!1;if(J==="_id")return Y._id===0;const X=Object.keys(Y);let $=null;for(let W of X)if(XR1(Y[W])){$=Y[J]===1?"inclusive":"exclusive";break}if($==="inclusive")return Y[J]!==1;if($==="exclusive")return Y[J]===0;return!1}});var Vc=w((Zk1,qc)=>{var $R1=J0(),WR1=uw(),Qc=PK(),zc=w7(),GR1=import.meta.require("util"),Hc=W1(),Fc=/(\.\d+$|\.\d+\.)/g;qc.exports=function Z(Y,J,X,$,W){if(Y==null)return[];if(typeof Y==="string"&&W!=null&&WR1(W,Y))throw new $R1("refPath `"+Y+"` must not be excluded in projection, got "+GR1.inspect(W));if(Fc.test(X)){const Q=X.split(Fc);if(Q[Q.length-1]==="")throw new Error("Can\'t populate individual element in an array");let z="",H=Y;for(let V=0;V<Q.length;V+=2){const U=Q[V];if(H.startsWith(U+"."))z+=H.substring(0,U.length)+Q[V+1],H=H.substring(U.length+1);else if(V===Q.length-1){z+=H,H="";break}else throw new Error("Could not normalize ref path, chunk "+U+" not in populated path")}const F=zc.get(z,J,Qc);let q=Array.isArray(F)?F:[F];return q=Hc.array.flatten(q),q}const G=zc.get(Y,J,Qc);let K;if($!=null&&$.virtuals.hasOwnProperty(Y))K=[$.virtuals[Y].applyGetters(void 0,J)];else K=Array.isArray(G)?G:[G];return K=Hc.array.flatten(K),K}});var Ac=w((Yk1,Mc)=>{var VR1=function(Z,Y,J,X){const $=[],W={},G=X.virtual;for(let K of Y){let Q=null;const z={};let H;const F=X.nestedSchemaPath?X.nestedSchemaPath+".":"";if(typeof J.localField==="string")H=J.localField;else if(typeof G.options.localField==="function")H=F+G.options.localField.call(K,K);else if(Array.isArray(G.options.localField))H=G.options.localField.map((B)=>F+B);else H=F+G.options.localField;if(z.count=G.options.count,G.options.skip!=null&&!J.hasOwnProperty("skip"))J.skip=G.options.skip;if(G.options.limit!=null&&!J.hasOwnProperty("limit"))J.limit=G.options.limit;if(G.options.perDocumentLimit!=null&&!J.hasOwnProperty("perDocumentLimit"))J.perDocumentLimit=G.options.perDocumentLimit;let q=G.options.foreignField;if(!H||!q)return new Lc(`Cannot populate virtual \`${J.path}\` on model \`${Z.modelName}\`, because options \`localField\` and / or \`foreignField\` are missing`);if(typeof H==="function")H=H.call(K,K);if(typeof q==="function")q=q.call(K,K);z.isRefPath=!1;let V=null;if("justOne"in J&&J.justOne!==void 0)V=J.justOne;if(G.options.refPath)Q=Z3(G.options.refPath,K,J.path),V=!!G.options.justOne,z.isRefPath=!0;else if(G.options.ref){let B;if(typeof G.options.ref==="function"&&!G.options.ref[SK])B=G.options.ref.call(K,K);else B=G.options.ref;if(V=!!G.options.justOne,Array.isArray(B))Q=B;else Q=[B]}z.isVirtual=!0,z.virtual=G,z.justOne=V;const U=p6(z,"virtual.options.match",null)||p6(z,"virtual.options.options.match",null);let L=p6(J,"match",null)||U,R=typeof L==="function";if(R)L=L.call(K,K,z.virtual);if(Array.isArray(H)&&Array.isArray(q)&&H.length===q.length){L=Object.assign({},L);for(let B=1;B<H.length;++B)L[q[B]]=Rc(b9.get(H[B],K,Y3),Z.schema),R=!0;H=H[0],q=q[0]}z.localField=H,z.foreignField=q,z.match=L,z.hasMatchFunction=R;const A=wc(K,H,Z,J,G);try{pw(Z,$,W,Q,J,z,A,K)}catch(B){return B}}return $},pw=function(Z,Y,J,X,$,W,G,K,Q,z){const H=$.connection!=null?$.connection:Z.db;if(z=z===void 0?G:z,Array.isArray(z))z=E8.cloneArrays(z);if(X==null)return;let F=X.length;while(F--){const q=X[F];if(q==null)continue;let V;if($.model&&$.model[SK])V=$.model;else if(q[SK])V=q;else try{V=iw(H,q)}catch(B){if(G!==void 0)throw B;V=null}let U=G;const L=Array.isArray(G)?E8.array.flatten(G):[],R=W.modelNamesInOrder?W.modelNamesInOrder:X;if(W.isRefPath&&Array.isArray(G)&&L.length===R.length)U=L.filter((B,M)=>R[M]===q);const A=$.perDocumentLimit==null?p6($,"options.perDocumentLimit",null):$.perDocumentLimit;if(!J[q]||A!=null){const B={model:V};if(W.isVirtual&&p6(W.virtual,"options.options"))B.options=QR1(W.virtual.options.options);else if(Q!=null)B.options=Object.assign({},Q);E8.merge(B,$),$[dw]=V,B[dw]=V,J[q]={model:V,options:B,match:W.hasMatchFunction?[W.match]:W.match,docs:[K],ids:[U],allIds:[G],unpopulatedValues:[z],localField:new Set([W.localField]),foreignField:new Set([W.foreignField]),justOne:W.justOne,isVirtual:W.isVirtual,virtual:W.virtual,count:W.count,[dw]:V},Y.push(J[q])}else if(J[q].localField.add(W.localField),J[q].foreignField.add(W.foreignField),J[q].docs.push(K),J[q].ids.push(U),J[q].allIds.push(G),J[q].unpopulatedValues.push(z),W.hasMatchFunction)J[q].match.push(W.match)}},iw=function(Z,Y){if(Z.models[Y]==null&&Z._parent!=null)return iw(Z._parent,Y);return Z.model(Y)},cw=function(Z,Y){if(typeof Z==="function"&&!Z[SK])return Z.call(Y,Y);return Z},wc=function(Z,Y,J,X,$,W){const G=J.schema._getPathType(Y),K=G==="real"?J.schema.path(Y):G.schema,Q=K&&K.getters?K.getters:[];Y=K!=null&&K.instance==="Embedded"?Y+"._id":Y;const z=p6(X,"options",{}),H="getters"in z?z.getters:p6($,"options.getters",!1);if(Q.length!==0&&H){const F=Z.$__!=null?Z:J.hydrate(Z),q=E8.getValue(Y,Z);if(Array.isArray(q)){const V=E8.getValue(Y.split(".").slice(0,-1),F);return q.map((U,L)=>K.applyGetters(U,V[L]))}else return K.applyGetters(q,F)}else return Rc(b9.get(Y,Z,Y3),W)},Rc=function(Z,Y){if(Z!=null&&Z.$__!=null)return Z._id;if(Z!=null&&Z._id!=null&&(Y==null||!Y.$isSchemaMap))return Z._id;if(Array.isArray(Z)){const J=Z.__array!=null?Z.__array:Z;for(let X=0;X<J.length;++X)if(J[X]!=null&&J[X].$__!=null)J[X]=J[X]._id;if(E8.isMongooseArray(Z)&&Z.$schema())return Z.$schema()._castForPopulate(Z,Z.$parent());return[].concat(Z)}if(HR1(Z)==="Object"&&(Y==null||Y[lw]==null)){const J=[];for(let X of Object.keys(Z))J.push(Z[X]);return J}if(Z instanceof Map)return Array.from(Z.values());return Z},UR1=function(Z,Y,J,X,$,W){if(!J.isRefPath||$==null)return;const G=$.split(".");let K="",Q=void 0;for(let z=0;z<G.length;++z){const H=G[z];K=K+(K.length===0?"":".")+H;const F=Y.path(K);if(F!=null&&F.$isMongooseArray&&F.caster.discriminators!=null&&Object.keys(F.caster.discriminators).length!==0){const q=E8.getValue(K,Z),V=X.path.substring(K.length+1),U=F.caster.schema.options.discriminatorKey;Q=[];for(let L of q){const R=E8.getValue(U,L),A=F.caster.discriminators[R],B=A&&A.schema;if(B==null)continue;const M=B.path(V);if(M==null||M.options.refPath==null){const d=E8.getValue(J.localField.substring(K.length+1),L);W.forEach((O,E)=>{if(O===d)W[E]=KR1(O)});continue}const D=E8.getValue(G.slice(z+1).join("."),L);Q.push(D)}}}return Q},Lc=l1(),KR1=DK(),QR1=V0(),p6=G0(),zR1=A7(),HR1=c8(),Uc=Gc(),FR1=gw(),Y3=PK(),b9=w7(),Z3=Vc(),E8=W1(),SK=Z1().modelSymbol,dw=Z1().populateModelSymbol,lw=I9().schemaMixedSymbol,qR1=OV();Mc.exports=function Z(Y,J,X){let $;const W=J.length,G=[],K=X.model&&X.model.modelName||X.model;let Q,z,H;const F={},q=Y.schema;if(X._localModel!=null&&X._localModel.schema.nested[X.path])return[];const V=FR1(Y.schema,X.path);if((V==null?null:V.virtual)!=null)return VR1(Y,J,X,V);let L=Uc(Y,q,null,X.path);if(L=Array.isArray(L)?L:[L].filter((B)=>B!=null),!(X.strictPopulate===!1||X.options?.strictPopulate===!1)&&L.length===0&&X._localModel!=null)return new qR1(X._fullPath||X.path);for(let B=0;B<W;B++){$=J[B];let M=null;const D=$!=null&&$.$__!=null?$.$__schema:q;if(Q=Uc(Y,D,$,X.path),Q!=null&&Q.$isMongooseDocumentArray&&Q.options.ref==null&&Q.options.refPath==null)continue;if(Q&&Q.$parentSchemaDocArray&&p6(X,"options.sort")!=null)return new Lc("Cannot populate with `sort` on path "+X.path+" because it is a subproperty of a document array");H=null;let O=!1,E=null,j=null,n=null;if(Q!=null&&Q.instance==="Embedded"){if(Q.options.ref){const r1={localField:X.path+"._id",foreignField:"_id",justOne:!0},C0=A($,Q,K,Y),k8=b9.get(X.path,$),$8=b9.get("_id",k8);pw(Y,G,F,C0.modelNames,X,r1,$8,$,j,k8)}continue}if(Array.isArray(Q)){const r1=Q;for(let C0 of r1){let k8,$8;try{$8=A($,C0,K,Y),k8=$8.modelNames,O=O||$8.isRefPath,E=E||$8.refPath,M=$8.justOne}catch(_4){return _4}if(O&&!$8.isRefPath)continue;if(!k8)continue;H=H||[];for(let _4 of k8)if(H.indexOf(_4)===-1)H.push(_4)}}else{try{const r1=A($,Q,K,Y);if(H=r1.modelNames,O=r1.isRefPath,E=E||r1.refPath,M=r1.justOne,j=p6(Q,"options.populate",null),O)n=H,H=Array.from(new Set(H))}catch(r1){return r1}if(!H)continue}const c={},y=X.path,C="_id";if("justOne"in X&&X.justOne!==void 0)M=X.justOne;else if(Q&&!Q[lw]){if(X.path.endsWith("."+Q.path)||X.path===Q.path)M=Array.isArray(Q)?Q.every((r1)=>!r1.$isMongooseArray):!Q.$isMongooseArray}if(!H)continue;c.isVirtual=!1,c.justOne=M,c.localField=y,c.foreignField=C;const S=wc($,y,Y,X,null,Q),a=String(E8.getValue(C,$));X._docs[a]=Array.isArray(S)?S.slice():S;let P1=p6(X,"match",null);const y0=typeof P1==="function";if(y0)P1=P1.call($,$);if(c.match=P1,c.hasMatchFunction=y0,c.isRefPath=O,c.modelNamesInOrder=n,O)H=UR1($,q,c,X,E,S)||H;try{pw(Y,G,F,H,X,c,S,$,j)}catch(r1){return r1}}return G;function A(B,M,D,d){let O,E=!1,j=null;const n=M;if(M&&M.instance==="Array")M=M.caster;if(M&&M.$isSchemaMap)M=M.$__schemaType;const c=M&&M.options&&M.options.ref;if(z=M&&M.options&&M.options.refPath,M!=null&&M[lw]&&!c&&!z&&!D)return{modelNames:null};if(D)O=[D];else if(z!=null){if(typeof z==="function"){const y=X.path.slice(0,X.path.length-M.path.length-1),C=b9.get(y,B,Y3),S=Array.isArray(C)?E8.array.flatten(C):C?[C]:[];O=new Set;for(let a of S)z=z.call(a,a,X.path),Z3(z,B,X.path,q,X._queryProjection).forEach((P1)=>O.add(P1));O=Array.from(O)}else O=Z3(z,B,X.path,q,X._queryProjection);E=!0}else{let y,C,S,a,P1=d;const y0=d.schema.options.discriminatorKey;if(!M&&y0&&(a=E8.getValue(y0,B))){const r1=zR1(d.discriminators,a)||d;if(r1!=null)P1=r1;else try{P1=iw(d.db,a)}catch(C0){return C0}if(S=P1.schema._getSchema(X.path),S&&S.caster)S=S.caster}else S=M;if(n&&n.path.endsWith(".$*"))j=!n.$isMongooseArray&&!n._arrayPath;else if(S!=null)j=!S.$isMongooseArray&&!S._arrayPath;if((y=p6(S,"options.ref"))!=null)if(S!=null&&typeof y==="function"&&X.path.endsWith("."+S.path)){O=new Set;const r1=X.path.slice(0,X.path.length-S.path.length-1),C0=b9.get(r1,B,Y3),k8=Array.isArray(C0)?E8.array.flatten(C0):C0?[C0]:[];for(let $8 of k8)O.add(cw(y,$8));if(k8.length===0)O=[cw(y,B)];else O=Array.from(O)}else y=cw(y,B),O=[y];else if((S=p6(M,"options.refPath"))!=null)if(E=!0,typeof C==="function"){const r1=X.path.slice(0,X.path.length-S.path.length-1),C0=b9.get(r1,B,Y3),k8=Array.isArray(C0)?E8.array.flatten(C0):C0?[C0]:[];O=new Set;for(let $8 of k8)C=C.call($8,$8,X.path),Z3(C,B,X.path,q,X._queryProjection).forEach((_4)=>O.add(_4));O=Array.from(O)}else O=Z3(C,B,X.path,q,X._queryProjection)}if(!O)if(X._localModel==null)O=[d.modelName];else return{modelNames:O,justOne:j,isRefPath:E,refPath:z};if(!Array.isArray(O))O=[O];return{modelNames:O,justOne:j,isRefPath:E,refPath:z}}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var Nc=w((Jk1,Bc)=>{var LR1=G0();Bc.exports=function Z(Y){if(Array.isArray(Y)){const X=Object.keys(Y[0]);return X.length===1&&X[0]==="_id"&&Y[0]._id!=="hashed"}if(typeof Y!=="object")return!1;const J=LR1(Y,"key",{});return Object.keys(J).length===1&&J.hasOwnProperty("_id")}});var Pc=w((Xk1,Ic)=>{var kK=G0(),Dc=W1();Ic.exports=function Z(Y,J,X){if(X.textIndexVersion!=null){delete X.key._fts,delete X.key._ftsx;const K={...X.weights,...X.key};if(Object.keys(K).length!==Object.keys(Y).length)return!1;for(let Q of Object.keys(K)){if(!(Q in Y))return!1;const z=K[Q];if(z!==kK(J,"weights."+Q)&&!(z===1&&kK(J,"weights."+Q)==null))return!1}if(J.default_language!==X.default_language)return X.default_language==="english"&&J.default_language==null;return!0}const $=["unique","partialFilterExpression","sparse","expireAfterSeconds","collation"];for(let K of $){if(!(K in J)&&!(K in X))continue;if(K==="collation"){if(J[K]==null||X[K]==null)return J[K]==null&&X[K]==null;const Q=Object.keys(J.collation),z=J.collation,H=X.collation;for(let F of Q)if(kK(z,F)!==kK(H,F))return!1}else if(!Dc.deepEqual(J[K],X[K]))return!1}const W=Object.keys(Y),G=Object.keys(X.key);if(W.length!==G.length)return!1;for(let K=0;K<W.length;++K){if(W[K]!==G[K])return!1;if(!Dc.deepEqual(Y[W[K]],X.key[G[K]]))return!1}return!0}});var Cc=w(($k1,Ec)=>{var wR1=function(Z,Y){return jc({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:Y,indexesType:"schema"})},RR1=function(Z,Y){return jc({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:Y,indexesType:"db"})},jc=function({baseModelName:Z,discriminatorMapping:Y,indexes:J,indexesType:X}){const $=Y&&Y.key,W=Y&&Y.value;if(!$)return J;if(Boolean(Z))return J.filter((K)=>{const Q=Tc(K,X);return Q&&Q[$]===W});return J.filter((K)=>{const Q=Tc(K,X);return!Q||!Q[$]})},Tc=function(Z,Y){if(Y==="schema"){const J=Z[1];return J&&J.partialFilterExpression}return Z.partialFilterExpression};Ec.exports={getRelatedSchemaIndexes:wR1,getRelatedDBIndexes:RR1}});var Sc=w((Wk1,Oc)=>{var MR1=function(Z,Y,J){let X=0,$=0,W=null;if(Y<=0)throw new Error("Limit must be positive");if(Z.length===0)return J(null,[]);for(let z=0;z<Z.length&&z<Y;++z)G();function G(){Z[$+X](Q($+X)),++X}const K=[];function Q(z){return(H,F)=>{if(--X,++$,W!=null)return;if(H!=null)return W=H,J(W);if(K[z]=F,$===Z.length)return J(null,K);else if($+X<Z.length)G()}}};Oc.exports=MR1;/*!
 * ignore
 */});var _c=w((Gk1,kc)=>{kc.exports=function Z(Y,J,X){if(J==null)return;for(let $=0;$<J.length;++$)if(Array.isArray(J[$]))Z(Y,J[$],X+"."+$);else Y.push(X+"."+$)}});var bc=w((Kk1,gc)=>{var xc=G0(),fc=w7(),yc=ww();/*!
 * ignore
 */gc.exports=function Z(Y,J,X){const $=yc(xc(J,"select",null),!0)||yc(xc(J,"options.select",null),!0);if($==null)return;for(let W of Y){if(!$.hasOwnProperty("-"+W))continue;for(let G of X)if(G.$__!=null)fc.unset(W,G._doc);else fc.unset(W,G)}}});var hc=w((Qk1,vc)=>{/*!
 * Module dependencies.
 */var AR1=l1();class nw extends AR1{constructor(Z,Y,J,X){let $=Z.map((W)=>W.message).join(", ");if($.length>200)$=$.slice(0,200)+"...";super(`${X} failed with ${Z.length} Mongoose validation errors: ${$}`);this.validationErrors=Z,this.results=Y,this.rawResult=J,this.operation=X}}Object.defineProperty(nw.prototype,"name",{value:"MongooseBulkWriteError"});/*!
 * exports
 */vc.exports=nw});var _w=w(($l,Wl)=>{var i=function(Z,Y,J){if(Y instanceof sw)throw new TypeError("2nd argument to `Model` must be a POJO or string, **not** a schema. Make sure you\'re calling `mongoose.model()`, not `mongoose.Model()`.");v9.call(this,Z,Y,J)},Xl=function(Z,Y){if(Z.$where==null)return;for(let J of Object.keys(Z.$where))Y[J]=Z.$where[J]},eR1=function(Z,Y){const J=Z.$__schema.options.versionKey;if(!J)return null;const X=Z.$__getValue(J)||0;return new nc(Z,X,Y)},ZM1=function(Z,Y){const J=Z.$__schema.options.skipVersioning;if(!J)return!1;return Y=Y.replace(/\.\d+\./,"."),J[Y]},I5=function(Z,Y,J,X,$,W){if(W||(W="$set"),!J[W])J[W]={};if(J[W][X.path]=$,Z.$__schema.options.versionKey===!1)return;if(ZM1(Z,X.path))return;if(_Y===(_Y&Z.$__.version))return;if(Z.$__schema.options.optimisticConcurrency)return;switch(W){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}if(W==="$push"||W==="$addToSet"||W==="$pullAll"||W==="$pull")if(/\.\d+\.|\.\d+$/.test(X.path))fK.call(Z);else Z.$__.version=2;else if(/^\$p/.test(W))fK.call(Z);else if(Array.isArray($))fK.call(Z);else if(/\.\d+\.|\.\d+$/.test(X.path))Z.$__.version=1},YM1=function(Z,Y,J,X,$){if(J.$set&&J.$set[X.path])return;if(typeof $.$__getAtomics==="function"){$.$__getAtomics().forEach(function(F){const q=F[0],V=F[1];I5(Z,Y,J,X,V,q)});return}const W=$[ZR],G=Object.keys(W);let K=G.length,Q,z;if(K===0){if(b1.isMongooseObject($))$=$.toObject({depopulate:1,_isNested:!0});else if($.valueOf)$=$.valueOf();return I5(Z,Y,J,X,$)}function H(F){return b1.isMongooseObject(F)?F.toObject({depopulate:1,_isNested:!0}):F}while(K--){if(z=G[K],Q=W[z],b1.isMongooseObject(Q))Q=Q.toObject({depopulate:!0,transform:!1,_isNested:!0});else if(Array.isArray(Q))Q=Q.map(H);else if(Q.valueOf)Q=Q.valueOf();if(z==="$addToSet")Q={$each:Q};I5(Z,Y,J,X,Q,z)}},JM1=function(Z,Y,J){const X=Z.$populated(Y,!0);if(!X&&Z.$__.selected){const W=Y.split(".")[0];if(Z.$__.selected[W+".$"])return W}if(!(X&&b1.isMongooseArray(J)))return;if(X.options.match||X.options.options&&b1.object.hasOwnProperty(X.options.options,"limit")||X.options.options&&X.options.options.skip||X.options.select&&(X.options.select._id===0||/\s?-_id\s?/.test(X.options.select))){const W=J[ZR];if(Object.keys(W).length===0||W.$set||W.$pop)return Y}},fK=function(){return this.$__.version=_Y,this},I1=function(Z,Y){if(Z==null||Z===global)throw new U1("`Model."+Y+"()` cannot run without a model as `this`. Make sure you are calling `MyModel."+Y+"()` where `MyModel` is a Mongoose model.");else if(Z[Jl]==null)throw new U1("`Model."+Y+"()` cannot run without a model as `this`. Make sure you are not calling `new Model."+Y+"()`")},XM1=function(Z,Y,J,X){const $=[];for(let[W,G]of Y){let K=!1;const Q=ew(Z,d7(G));for(let z of J){if(ow(z))continue;if(ec(W,Q,z)&&!X.includes(z.name)){K=!0;break}}if(!K)$.push(W)}return $},$M1=function(Z,Y,J){const X=[];for(let $ of J){let W=!1;if(ow($))continue;for(let[G,K]of Y){const Q=ew(Z,d7(K));if(sc(G,Q,Z.options),ec(G,Q,$)){W=!0;break}}if(!W)X.push($.name)}return X};async function pc(Z,Y){if(Z.length===0)return[];return await Promise.all(Z.map((J)=>Y.dropIndex(J))),Z}var WM1=function(Z,Y,J){const X=Z.schema.indexes();let $;Y=Y||{};const W=function(F){if(F&&!Z.$caught)Z.emit("error",F);Z.emit("index",F||$),J&&J(F||$)};for(let F of X)if(ow(F))b1.warn('mongoose: Cannot specify a custom index on `_id` for model name "'+Z.modelName+'", MongoDB does not allow overwriting the default `_id` index. See https://bit.ly/mongodb-id-index');if(!X.length){$3(function(){W()});return}const G=function(F,q,V,U){Z.emit("index-single-done",F,q,V,U)},K=function(F,q){Z.emit("index-single-start",F,q)},Q=Z.schema._baseSchema,z=Q?Q.indexes():[];$3(function(){if(Y._automatic&&!Z.collection.collection)Z.collection.addQueue(H,[]);else H()});function H(){if(Y._automatic){if(Z.schema.options.autoIndex===!1||Z.schema.options.autoIndex==null&&Z.db.config.autoIndex===!1)return W()}const F=X.shift();if(!F)return W();if(Y._automatic&&F[1]._autoIndex===!1)return H();if(z.find((U)=>b1.deepEqual(U,F)))return H();const q=d7(F[0]),V=d7(F[1]);if(delete V._autoIndex,ew(Z.schema,V),tc(Z.schema,V),sc(q,V,Z.schema.options),K(q,Y),"background"in Y)V.background=Y.background;if("toCreate"in Y){if(Y.toCreate.length===0)return W()}Z.collection.createIndex(q,V).then((U)=>{G(null,q,V,U),H()},(U)=>{if(!$)$=U;if(!Z.$caught)Z.emit("error",U);G(U,q,V),H()})}},xY=function(Z,Y){Z.$isNew=Y,Z.$emit("isNew",Y),Z.constructor.emit("isNew",Y);const J=Z.$getAllSubdocs();for(let X of J)X.$isNew=Y,X.$emit("isNew",Y)},GM1=function(Z){return new Promise((Y,J)=>{Z.schema.s.hooks.execPre("save",Z,(X)=>{if(X){J(X);return}Y()})})},KM1=function(Z){return new Promise((Y,J)=>{if(Z.$isNew)xY(Z,!1);Z.$__reset(),Z.schema.s.hooks.execPost("save",Z,[Z],{},(X)=>{if(X){J(X);return}Y()})})},JR=function(Z,Y,J,X,$){const W=new Z.Query({},{},Z,Z.collection);if(J instanceof v9)J=J.toObject();else J=d7(J);$=typeof $==="function"?$:d7($);const G=Z&&Z.schema&&Z.schema.options&&Z.schema.options.versionKey||null;return oc(X,$,G),W[Y](J,X,$)},QM1=function(Z,Y,J,X,$){let W=J.length;if(J.length===0)return $(null,Y);for(let K of J)FM1(Z,Y,K,G);function G(K){if(K)return $(K,null);if(--W)return;$(null,Y)}},FM1=function(Z,Y,J,X){const $=J;if(J.strictPopulate==null){if(J._localModel!=null&&J._localModel.schema._userProvidedOptions.strictPopulate!=null)$.strictPopulate=J._localModel.schema._userProvidedOptions.strictPopulate;else if(J._localModel!=null&&Z.base.options.strictPopulate!=null)$.strictPopulate=Z.base.options.strictPopulate;else if(Z.base.options.strictPopulate!=null)$.strictPopulate=Z.base.options.strictPopulate}if(!Array.isArray(Y))Y=[Y];if(Y.length===0||Y.every(b1.isNullOrUndefined))return X();const W=uR1(Z,Y,$);if(W instanceof U1)return $3(function(){X(W)});const G=W.length;let K=[];function Q(U){return U!==void 0}let z=G,H=!1;const F=[];for(let U=0;U<G;++U){const L=W[U];let R=L.options.select,A=b1.array.flatten(L.ids,Q);A=b1.array.unique(A);const B={};if(B.sort=L&&L.options&&L.options.options&&L.options.options.sort||void 0,B.excludeId=zM1.test(R)||R&&R._id===0,L.options&&L.options.options&&L.options.options.lean&&L.options.options.lean.transform)L.options.options._leanTransform=L.options.options.lean.transform,L.options.options.lean=!0;if(A.length===0||A.every(b1.isNullOrUndefined)){--z,ic(Z,[],L,B);continue}if(H=!0,typeof $.foreignField==="string")L.foreignField.clear(),L.foreignField.add($.foreignField);const M=gR1(A,L.match,L.foreignField,L.model,L.options.skipInvalidIds);if(B.excludeId)if(typeof R==="string")R=R.replace(HM1," ");else R=b1.object.shallowCopy(R),delete R._id;if(L.options.options&&L.options.options.limit!=null)B.originalLimit=L.options.options.limit;else if(L.options.limit!=null)B.originalLimit=L.options.limit;F.push([L,M,R,B,q])}if(!H){if(W.length!==0)return X();if($.populate!=null){const U=b1.populate($.populate).map((L)=>Object.assign({},L,{path:$.path+"."+L.path}));Z.populate(Y,U).then((L)=>{X(null,L)},(L)=>{X(L)});return}return X()}for(let U of F)qM1.apply(null,U);function q(U,L){if(U!=null)return X(U,null);if(K=K.concat(L),--z===0)V()}function V(){for(let U of F){const L=U[0],R=U[3];for(let A of K)L.options._childDocs.push(A);try{ic(Z,K,L,R)}catch(A){return X(A)}}for(let U of F)sR1(U[0].foreignField,U[0].options,K);for(let U of F){const L=U[0];if(L.options&&L.options.options&&L.options.options._leanTransform)for(let R of K)L.options.options._leanTransform(R)}X()}},qM1=function(Z,Y,J,X,$){let W=d7(Z.options.populate);const G=Object.assign({skip:Z.options.skip,limit:Z.options.limit,perDocumentLimit:Z.options.perDocumentLimit},Z.options.options);if(Z.count)delete G.skip;if(G.perDocumentLimit!=null)G.limit=G.perDocumentLimit,delete G.perDocumentLimit;else if(G.limit!=null)G.limit=G.limit*Z.ids.length;const K=Z.model.find(Y,J,G);for(let Q of Z.foreignField)if(Q!=="_id"&&K.selectedInclusively()&&!lR1(K._fields,Q))K.select(Q);if(Z.count)for(let Q of Z.foreignField)K.select(Q);if(W){if(Z.model.baseModelName!=null)if(Array.isArray(W))W.forEach((z)=>{z.strictPopulate=!1});else if(typeof W==="string")W={path:W,strictPopulate:!1};else W.strictPopulate=!1;const Q=Z.options._fullPath||Z.options.path;if(Array.isArray(W))for(let z of W)z._fullPath=Q+"."+z.path;else if(typeof W==="object")W._fullPath=Q+"."+W.path;K.populate(W)}K.exec().then((Q)=>{for(let z of Q)pR1.set(z,Z.model);$(null,Q)},(Q)=>{$(Q)})},ic=function(Z,Y,J,X){const{options:$,isVirtual:W,justOne:G}=J;let K;const Q=$&&$.options&&$.options.lean||!1,z=Y.length,H={},F={};let q,V;const U=d7(J.allIds);for(let L=0;L<z;L++){if(V=Y[L],V==null)continue;for(let R of J.foreignField){if(K=b1.getValue(R,V),Array.isArray(K)){K=b1.array.unique(b1.array.flatten(K));for(let A of K){if(A instanceof v9)A=A._id;if(q=String(A),F[q])if(Array.isArray(F[q]))F[q].push(V),H[q].push(L);else F[q]=[F[q],V],H[q]=[H[q],L];else if(W&&!G)F[q]=[V],H[q]=[L];else F[q]=V,H[q]=L}}else{if(K instanceof v9)K=K._id;if(q=String(K),F[q]){if(Array.isArray(F[q]))F[q].push(V),H[q].push(L);else if(W||F[q].constructor!==V.constructor||String(F[q]._id)!==String(V._id))F[q]=[F[q],V],H[q]=[H[q],L]}else F[q]=V,H[q]=L}if(!Q)V.$__.wasPopulated=V.$__.wasPopulated||!0}}fR1({originalModel:Z,rawIds:J.isVirtual?U:J.allIds,allIds:U,unpopulatedValues:J.unpopulatedValues,foreignField:J.foreignField,rawDocs:F,rawOrder:H,docs:J.docs,path:$.path,options:X,justOne:J.justOne,isVirtual:J.isVirtual,allOptions:J,populatedModel:J.model,lean:Q,virtual:J.virtual,count:J.count,match:J.match})},VM1=function(Z,Y){for(let J in Y)Z.Query.prototype[J]=Y[J]};/*!
 * Module dependencies.
 */var BR1=kw(),NR1=zV(),v9=p8(),DR1=sW(),IR1=jV(),aw=import.meta.require("events").EventEmitter,PR1=tZ(),TR1=TX(),U1=l1(),jR1=NV(),_K=AK(),ER1=Kd(),sw=HY(),rw=N9(),nc=RV(),mc=AV(),CR1=JG(),OR1=zd(),SR1=jG(),kR1=EG(),ac=Fd(),_R1=Ud(),sc=Md(),xR1=Bd(),rc=Dd(),tc=pL(),fR1=md(),yR1=ad(),d7=V0(),gR1=od(),oc=mw(),uc=Zc(),bR1=WG(),vR1=sG(),hR1=Jc(),tw=eU(),X3=G0(),mR1=c8(),xK=A7(),uR1=Ac(),$3=X6(),yK=v7().internalToObjectOptions,ow=Nc(),ec=Pc(),{getRelatedDBIndexes:dR1,getRelatedSchemaIndexes:cR1}=Cc(),dc=uw(),ew=IU(),lR1=KG(),pR1=tX(),iR1=Sc(),nR1=QG(),aR1=Cw(),Zl=_c(),sR1=bc(),rR1=sL(),cc=GZ(),lc=import.meta.require("util"),b1=W1(),Yl=hc(),tR1=cV(),_Y=1|2,ZR=Z1().arrayAtomicsSymbol,gK=Symbol("mongoose#Model#collection"),YR=Symbol("mongoose#Model#db"),Jl=Z1().modelSymbol,J3=Symbol("mongoose#Model#subclassed"),oR1=Object.assign({},yK,{bson:!0,flattenObjectIds:!1});Object.setPrototypeOf(i.prototype,v9.prototype);i.prototype.$isMongooseModelPrototype=!0;i.prototype.db;i.prototype.collection;i.prototype.$__collection;i.prototype.modelName;i.prototype.$where;i.prototype.baseModelName;i.events;i._middleware;/*!
 * ignore
 *//*!
 * ignore
 */i.prototype.$__handleSave=function(Z,Y){const J={};if(tc(this.$__schema,Z),typeof Z.writeConcern!=="undefined"){if(J.writeConcern={},"w"in Z.writeConcern)J.writeConcern.w=Z.writeConcern.w;if("j"in Z.writeConcern)J.writeConcern.j=Z.writeConcern.j;if("wtimeout"in Z.writeConcern)J.writeConcern.wtimeout=Z.writeConcern.wtimeout}else{if("w"in Z)J.w=Z.w;if("j"in Z)J.j=Z.j;if("wtimeout"in Z)J.wtimeout=Z.wtimeout}if("checkKeys"in Z)J.checkKeys=Z.checkKeys;const X=this.$session();if(!J.hasOwnProperty("session")&&X!=null)J.session=X;if(this.$isNew){const G=this.toObject(oR1);if((G||{})._id===void 0){$3(function(){Y(new U1("document must have an _id before saving"))});return}this.$__version(!0,G),this[gK].insertOne(G,J).then((K)=>Y(null,K),(K)=>{xY(this,!0),Y(K,null)}),this.$__reset(),xY(this,!1),this.$__.inserting=!0;return}this.$__.inserting=!1;const $=this.$__delta();if($){if($ instanceof U1){Y($);return}const G=this.$__where($[0]);if(G instanceof U1){Y(G);return}Xl(this,G);const K=$[1];if(this.$__schema.options.minimize){if(tR1(K),Object.keys(K).length===0){W.call(this);return}}this[gK].updateOne(G,K,J).then((Q)=>{Q.$where=G,Y(null,Q)},(Q)=>{this.$__undoReset(),Y(Q)})}else{W.call(this);return}this.$__.modifiedPaths=this.modifiedPaths(),this.$__reset(),xY(this,!1);function W(){const G=Object.assign({},Z,J),K=this.$__where(),Q=this.$__schema.options.optimisticConcurrency;if(Q&&!Array.isArray(Q)){const z=this.$__schema.options.versionKey,H=this.$__getValue(z);if(H!=null)K[z]=H}this.constructor.collection.findOne(K,G).then((z)=>{Y(null,{$where:K,matchedCount:!z?0:1})}).catch(Y)}};/*!
 * ignore
 */i.prototype.$__save=function(Z,Y){this.$__handleSave(Z,(J,X)=>{if(J)return this.$__schema.s.hooks.execPost("save:error",this,[this],{error:J},(K)=>{Y(K,this)});let $=0;if((Z!=null?Z.writeConcern!=null?Z.writeConcern.w:Z.w:0)!==0){if(X!=null)if(Array.isArray(X))$=X.length;else if(X.matchedCount!=null)$=X.matchedCount;else $=X;if(this.$__.version&&!this.$__.inserting){const K=(2&this.$__.version)===2;this.$__.version=void 0;const Q=this.$__schema.options.versionKey,z=this.$__getValue(Q)||0;if($<=0){this.$__undoReset();const H=this.$__.$versionError||new nc(this,z,this.$__.modifiedPaths);return Y(H)}if(K)this.$__setValue(Q,z+1)}if(X!=null&&$<=0)return this.$__undoReset(),J=new DR1(X.$where,this.constructor.modelName,$,X),this.$__schema.s.hooks.execPost("save:error",this,[this],{error:J},(Q)=>{Y(Q,this)})}this.$__.saving=void 0,this.$__.savedState={},this.$emit("save",this,$),this.constructor.emit("save",this,$),Y(null,this)})};/*!
 * ignore
 */i.prototype.save=async function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new U1("Model.prototype.save() no longer accepts a callback");let J;if(this.$op="save",this.$__.saving)J=new mc(this);else this.$__.saving=new mc(this);if(Y=new ER1(Y),Y.hasOwnProperty("session"))this.$session(Y.session);if(this.$__.timestamps!=null)Y.timestamps=this.$__.timestamps;if(this.$__.$versionError=eR1(this,this.modifiedPaths()),J)throw this.$__handleReject(J),J;return this.$__.saveOptions=Y,await new Promise((X,$)=>{this.$__save(Y,(W)=>{if(this.$__.saving=null,this.$__.saveOptions=null,this.$__.$versionError=null,this.$op=null,W!=null)return this.$__handleReject(W),$(W);X()})}),this};i.prototype.$save=i.prototype.save;i.prototype.$__delta=function(){const Z=this.$__dirty(),Y=this.$__schema.options.optimisticConcurrency;if(Y)if(Array.isArray(Y)){const K=new Set(Y);if(this.modifiedPaths().find((z)=>K.has(z)))this.$__.version=Z.length?_Y:1}else this.$__.version=Z.length?_Y:1;if(!Z.length&&_Y!==this.$__.version)return;const J={},X={},$=Z.length,W=[];let G=0;if(J._id=this._doc._id,(J&&J._id&&J._id.$__||null)!=null)J._id=J._id.toObject({transform:!1,depopulate:!0});for(;G<$;++G){const K=Z[G];let Q=K.value;const z=JM1(this,K.path,Q);if(z){W.push(z);continue}if(!this.$populated(K.path,!0)&&this.$__.selected){const F=K.path.split("."),q=F[0];if(this.$__.selected[q]&&this.$__.selected[q].$elemMatch)if(F.length>1&&F[1]==0&&typeof J[q]==="undefined")J[q]=this.$__.selected[q],F[1]="$",K.path=F.join(".");else{W.push(K.path);continue}}if(this.$isDefault(K.path)&&this.$__.selected){if(K.path.indexOf(".")===-1&&dc(this.$__.selected,K.path))continue;if(nR1(K.path).find((q)=>dc(this.$__.isSelected,q)))continue}if(W.length)continue;if(Q===void 0)I5(this,J,X,K,1,"$unset");else if(Q===null)I5(this,J,X,K,null);else if(b1.isMongooseArray(Q)&&Q.$path()&&Q[ZR])YM1(this,J,X,K,Q);else if(Q[TR1.pathSymbol]&&Buffer.isBuffer(Q))Q=Q.toObject(),I5(this,J,X,K,Q);else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[K.path]!=null){const F=this.$__.primitiveAtomics[K.path],q=hR1(F);I5(this,J,X,K,F[q],q)}else Q=d7(Q,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}),I5(this,J,X,K,Q)}if(W.length)return new IR1(W);if(this.$__.version)this.$__version(J,X);if(Object.keys(X).length===0)return[J,null];return[J,X]};i.prototype.$__version=function(Z,Y){const J=this.$__schema.options.versionKey;if(Z===!0){if(J)rR1(Y,J,0),this.$__setValue(J,0);return}if(J===!1)return;if(!this.$__isSelected(J))return;if((1&this.$__.version)===1){const X=this.$__getValue(J);if(X!=null)Z[J]=X}if((2&this.$__.version)===2)if(X3(Y.$set,J,null)!=null)++Y.$set[J];else Y.$inc=Y.$inc||{},Y.$inc[J]=1};/*!
 * ignore
 */i.prototype.increment=fK;i.prototype.$__where=function Z(Y){if(Y||(Y={}),!Y._id)Y._id=this._doc._id;if(this._doc._id===void 0)return new U1("No _id found on document!");return Y};i.prototype.deleteOne=function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new U1("Model.prototype.deleteOne() no longer accepts a callback");if(!Y)Y={};if(Y.hasOwnProperty("session"))this.$session(Y.session);const J=this,X=this.$__where();if(X instanceof Error)throw X;const $=J.constructor.deleteOne(X,Y);if(this.$session()!=null){if(!("session"in $.options))$.options.session=this.$session()}return $.pre(function W(G){J.constructor._middleware.execPre("deleteOne",J,[J],G)}),$.pre(function W(G){tw(J.$getAllSubdocs(),(K,Q)=>{K.constructor._middleware.execPre("deleteOne",K,[K],Q)},G)}),$.pre(function W(G){if(J.$__.isDeleted)return G(PR1.skipWrappedFunction());return G()}),$.post(function W(G){tw(J.$getAllSubdocs(),(K,Q)=>{K.constructor._middleware.execPost("deleteOne",K,[K],{},Q)},G)}),$.post(function W(G){J.constructor._middleware.execPost("deleteOne",J,[J],{},G)}),$};i.prototype.$model=function Z(Y){if(arguments.length===0)return this.constructor;return this[YR].model(Y)};i.prototype.model=i.prototype.$model;i.exists=function Z(Y,J){if(I1(this,"exists"),typeof arguments[2]==="function")throw new U1("Model.exists() no longer accepts a callback");return this.findOne(Y).select({_id:1}).lean().setOptions(J)};i.discriminator=function(Z,Y,J){let X;if(typeof Z==="function"){if(X=Z,Z=b1.getFunctionName(X),!(X.prototype instanceof i))throw new U1("The provided class "+Z+" must extend Model")}J=J||{};const $=b1.isPOJO(J)?J.value:J,W=typeof J.clone==="boolean"?J.clone:!0,G=typeof J.mergePlugins==="boolean"?J.mergePlugins:!0;if(I1(this,"discriminator"),b1.isObject(Y)&&!Y.instanceOfSchema)Y=new sw(Y);if(Y instanceof sw&&W)Y=Y.clone();if(Y=vR1(this,Z,Y,$,G,J.mergeHooks),this.db.models[Z]&&!Y.options.overwriteModels)throw new jR1(Z);Y.$isRootDiscriminator=!0,Y.$globalPluginsApplied=!0,X=this.db.model(X||Z,Y,this.$__collection.name),this.discriminators[Z]=X;const K=this.discriminators[Z];if(Object.setPrototypeOf(K.prototype,this.prototype),Object.defineProperty(K,"baseModelName",{value:this.modelName,configurable:!0,writable:!1}),ac(K,Y),rc(K,Y),this[J3]!=null)for(let Q of this[J3])Q.discriminators=Q.discriminators||{},Q.discriminators[Z]=X.__subclass(X.db,Y,Q.collection.name);return K};/*!
 * Give the constructor the ability to emit events.
 */for(let Z in aw.prototype)i[Z]=aw.prototype[Z];i.init=function Z(){if(I1(this,"init"),typeof arguments[0]==="function")throw new U1("Model.init() no longer accepts a callback");if(this.schema.emit("init",this),this.$init!=null)return this.$init;const Y=this.db,J=async()=>{if(!b1.getOption("autoIndex",this.schema.options,Y.config,Y.base.options))return;return await this.ensureIndexes({_automatic:!0})},X=async()=>{if((Y.readyState===cc.connecting||Y.readyState===cc.disconnected)&&Y._shouldBufferCommands())await new Promise((K)=>{Y._queue.push({fn:K})});if(!b1.getOption("autoCreate",this.schema.options,Y.config,Y.base.options))return;return await this.createCollection()};this.$init=X().then(()=>J());const $=this.$init.catch,W=this;return this.$init.catch=function(){return W.$caught=!0,$.apply(W.$init,arguments)},this.$init};i.createCollection=async function Z(Y){if(I1(this,"createCollection"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new U1("Model.createCollection() no longer accepts a callback");const J=this&&this.schema&&this.schema.options&&this.schema.options.collectionOptions;if(J!=null)Y=Object.assign({},J,Y);const X=this&&this.schema&&this.schema.options&&this.schema.options.collation;if(X!=null)Y=Object.assign({collation:X},Y);const $=this&&this.schema&&this.schema.options&&this.schema.options.capped;if($!=null){if(typeof $==="number")Y=Object.assign({capped:!0,size:$},Y);else if(typeof $==="object")Y=Object.assign({capped:!0},$,Y)}const W=this&&this.schema&&this.schema.options&&this.schema.options.timeseries;if(W!=null){if(Y=Object.assign({timeseries:W},Y),Y.expireAfterSeconds!=null);else if(Y.expires!=null)b1.expires(Y);else if(this.schema.options.expireAfterSeconds!=null)Y.expireAfterSeconds=this.schema.options.expireAfterSeconds;else if(this.schema.options.expires!=null)Y.expires=this.schema.options.expires,b1.expires(Y)}const G=this&&this.schema&&this.schema.options&&this.schema.options.clusteredIndex;if(G!=null)Y=Object.assign({clusteredIndex:{...G,unique:!0}},Y);try{await this.db.createCollection(this.$__collection.collectionName,Y)}catch(K){if(K!=null&&(K.name!=="MongoServerError"||K.code!==48))throw K}return this.$__collection};i.syncIndexes=async function Z(Y){if(I1(this,"syncIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new U1("Model.syncIndexes() no longer accepts a callback");const J=this;try{await J.createCollection()}catch(W){if(W!=null&&(W.name!=="MongoServerError"||W.code!==48))throw W}const X=await J.diffIndexes(),$=await J.cleanIndexes({...Y,toDrop:X.toDrop});return await J.createIndexes({...Y,toCreate:X.toCreate}),$};i.diffIndexes=async function Z(){if(typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new U1("Model.syncIndexes() no longer accepts a callback");const Y=this;let J=await Y.listIndexes().catch((K)=>{if(K.codeName=="NamespaceNotFound")return;throw K});if(J===void 0)J=[];J=dR1(Y,J);const X=Y.schema,$=cR1(Y,X.indexes()),W=$M1(X,$,J),G=XM1(X,$,J,W);return{toDrop:W,toCreate:G}};i.cleanIndexes=async function Z(Y){if(I1(this,"cleanIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new U1("Model.cleanIndexes() no longer accepts a callback");const J=this,X=J.$__collection;if(Array.isArray(Y&&Y.toDrop))return await pc(Y.toDrop,X);const $=await J.diffIndexes();return await pc($.toDrop,X)};i.listIndexes=async function Z(){if(I1(this,"listIndexes"),typeof arguments[0]==="function")throw new U1("Model.listIndexes() no longer accepts a callback");if(this.$__collection.buffer)await new Promise((Y)=>{this.$__collection.addQueue(Y)});return this.$__collection.listIndexes().toArray()};i.ensureIndexes=async function Z(Y){if(I1(this,"ensureIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new U1("Model.ensureIndexes() no longer accepts a callback");await new Promise((J,X)=>{WM1(this,Y,($)=>{if($!=null)return X($);J()})})};i.createIndexes=async function Z(Y){if(I1(this,"createIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new U1("Model.createIndexes() no longer accepts a callback");return this.ensureIndexes(Y)};/*!
 * ignore
 */i.schema;i.db;i.collection;i.$__collection;i.base;i.discriminators;i.translateAliases=function Z(Y,J){I1(this,"translateAliases");const X=($,W)=>{let G;const K=[],Q=$.split(".");let z=this.schema;for(let F in Q){const q=Q[F];if(z&&z.aliases[q]){if(G=z.aliases[q],J&&G in Y)throw new U1(`Provided object has both field "${q}" and its alias "${G}"`);K.push(G)}else G=q,K.push(q);if(z&&z.paths[G])z=z.paths[G].schema;else z=null}const H=K.join(".");if(Y instanceof Map)Y.set(H,W);else Y[H]=W;if(H!==$)if(Y instanceof Map)Y.delete($);else delete Y[$];return Y};if(typeof Y==="object"){if(Y instanceof Map)for(let $ of new Map(Y))Y=X($[0],$[1]);else for(let $ of Object.keys(Y))if(Y=X($,Y[$]),$[0]==="$")if(Array.isArray(Y[$]))for(let W in Y[$])Y[$][W]=this.translateAliases(Y[$][W]);else this.translateAliases(Y[$]);return Y}else return Y};i.deleteOne=function Z(Y,J){if(I1(this,"deleteOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new U1("Model.prototype.deleteOne() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);return X.setOptions(J),X.deleteOne(Y)};i.deleteMany=function Z(Y,J){if(I1(this,"deleteMany"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new U1("Model.deleteMany() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);return X.setOptions(J),X.deleteMany(Y)};i.find=function Z(Y,J,X){if(I1(this,"find"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new U1("Model.find() no longer accepts a callback");const $=new this.Query({},{},this,this.$__collection);return $.select(J),$.setOptions(X),$.find(Y)};i.findById=function Z(Y,J,X){if(I1(this,"findById"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new U1("Model.findById() no longer accepts a callback");if(typeof Y==="undefined")Y=null;return this.findOne({_id:Y},J,X)};i.findOne=function Z(Y,J,X){if(I1(this,"findOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new U1("Model.findOne() no longer accepts a callback");const $=new this.Query({},{},this,this.$__collection);return $.select(J),$.setOptions(X),$.findOne(Y)};i.estimatedDocumentCount=function Z(Y){return I1(this,"estimatedDocumentCount"),new this.Query({},{},this,this.$__collection).estimatedDocumentCount(Y)};i.countDocuments=function Z(Y,J){if(I1(this,"countDocuments"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new U1("Model.countDocuments() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);if(J!=null)X.setOptions(J);return X.countDocuments(Y)};i.distinct=function Z(Y,J){if(I1(this,"distinct"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new U1("Model.distinct() no longer accepts a callback");return new this.Query({},{},this,this.$__collection).distinct(Y,J)};i.where=function Z(Y,J){I1(this,"where");const X=new this.Query({},{},this,this.$__collection).find({});return X.where.apply(X,arguments)};i.$where=function Z(){I1(this,"$where");const Y=new this.Query({},{},this,this.$__collection).find({});return Y.$where.apply(Y,arguments)};i.findOneAndUpdate=function(Z,Y,J){if(I1(this,"findOneAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new U1("Model.findOneAndUpdate() no longer accepts a callback");if(arguments.length===1)Y=Z,Z=null,J=null;let X;if(J)X=J.fields||J.projection;Y=d7(Y,{depopulate:!0,_isNested:!0}),oc(Y,J,this.schema.options.versionKey);const $=new this.Query({},{},this,this.$__collection);return $.select(X),$.findOneAndUpdate(Z,Y,J)};i.findByIdAndUpdate=function(Z,Y,J){if(I1(this,"findByIdAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new U1("Model.findByIdAndUpdate() no longer accepts a callback");if(Z instanceof v9)Z=Z._id;return this.findOneAndUpdate.call(this,{_id:Z},Y,J)};i.findOneAndDelete=function(Z,Y){if(I1(this,"findOneAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new U1("Model.findOneAndDelete() no longer accepts a callback");let J;if(Y)J=Y.select,Y.select=void 0;const X=new this.Query({},{},this,this.$__collection);return X.select(J),X.findOneAndDelete(Z,Y)};i.findByIdAndDelete=function(Z,Y){if(I1(this,"findByIdAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new U1("Model.findByIdAndDelete() no longer accepts a callback");return this.findOneAndDelete({_id:Z},Y)};i.findOneAndReplace=function(Z,Y,J){if(I1(this,"findOneAndReplace"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new U1("Model.findOneAndReplace() no longer accepts a callback");let X;if(J)X=J.select,J.select=void 0;const $=new this.Query({},{},this,this.$__collection);return $.select(X),$.findOneAndReplace(Z,Y,J)};i.create=async function Z(Y,J){if(typeof J==="function"||typeof arguments[2]==="function")throw new U1("Model.create() no longer accepts a callback");I1(this,"create");let X;const $=this.schema.options.discriminatorKey;if(Array.isArray(Y))X=Y,J=J!=null&&typeof J==="object"?J:{};else{const K=arguments[arguments.length-1];if(J={},typeof K==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new U1("Model.create() no longer accepts a callback");else if(X=[...arguments],X.length>1&&!K)X.pop();if(X.length===2&&X[0]!=null&&X[1]!=null&&X[0].session==null&&K&&mR1(K.session)==="ClientSession"&&!this.schema.path("session"))b1.warn("WARNING: to pass a `session` to `Model.create()` in Mongoose, you **must** pass an array as the first argument. See: https://mongoosejs.com/docs/api/model.html#Model.create()")}if(X.length===0)return Array.isArray(Y)?[]:null;let W=[];const G=typeof J.aggregateErrors==="boolean"?!J.aggregateErrors:!0;if(delete J.aggregateErrors,J.ordered){for(let K=0;K<X.length;K++)try{const Q=X[K],z=this.discriminators&&Q[$]!=null?this.discriminators[Q[$]]||xK(this.discriminators,Q[$]):this;if(z==null)throw new U1(`Discriminator "${Q[$]}" not `+`found for model "${this.modelName}"`);let H=Q;if(!(H instanceof z))H=new z(H);await H.$save(J),W.push(H)}catch(Q){if(!G)W.push(Q);else throw Q}return W}else if(!G)W=await Promise.allSettled(X.map(async(K)=>{const Q=this.discriminators&&K[$]!=null?this.discriminators[K[$]]||xK(this.discriminators,K[$]):this;if(Q==null)throw new U1(`Discriminator "${K[$]}" not `+`found for model "${this.modelName}"`);let z=K;if(!(z instanceof Q))z=new Q(z);return await z.$save(J),z})),W=W.map((K)=>K.status==="fulfilled"?K.value:K.reason);else{let K=null;if(W=await Promise.all(X.map(async(Q)=>{const z=this.discriminators&&Q[$]!=null?this.discriminators[Q[$]]||xK(this.discriminators,Q[$]):this;if(z==null)throw new U1(`Discriminator "${Q[$]}" not `+`found for model "${this.modelName}"`);try{let H=Q;if(!(H instanceof z))H=new z(H);return await H.$save(J),H}catch(H){if(!K)K=H}})),K)throw K}if(!Array.isArray(Y)&&X.length===1)return W[0];return W};i.watch=function(Z,Y){I1(this,"watch");const J=(X)=>{if(Z=Z||[],aR1(Z,this.schema,"fullDocument"),this.$__collection.buffer)this.$__collection.addQueue(()=>{if(this.closed)return;const $=this.$__collection.watch(Z,Y);X(null,$)});else{const $=this.$__collection.watch(Z,Y);X(null,$)}};return Y=Y||{},Y.model=this,new NR1(J,Z,Y)};i.startSession=function(){return I1(this,"startSession"),this.db.startSession.apply(this.db,arguments)};i.insertMany=async function Z(Y,J){if(I1(this,"insertMany"),typeof J==="function"||typeof arguments[2]==="function")throw new U1("Model.insertMany() no longer accepts a callback");return new Promise((X,$)=>{this.$__insertMany(Y,J,(W,G)=>{if(W!=null)return $(W);X(G)})})};i.$__insertMany=function(Z,Y,J){const X=this;if(typeof Y==="function")J=Y,Y=null;J=J||b1.noop,Y=Y||{};const $=Y.limit||1000,W=!!Y.rawResult,G=typeof Y.ordered==="boolean"?Y.ordered:!0,K=typeof Y.throwOnValidationError==="boolean"?Y.throwOnValidationError:!1,Q=!!Y.lean;if(!Array.isArray(Z))Z=[Z];const z=[],H=new Map,F=G?null:new Array(Z.length),q=Z.map((V,U)=>(L)=>{if(!(V instanceof X))try{V=new X(V)}catch(R){return L(R)}if(Y.session!=null)V.$session(Y.session);if(Q)return $3(()=>L(null,V));V.$validate().then(()=>{L(null,V)},(R)=>{if(G===!1)return z.push(R),H.set(R,U),F[U]=R,L(null,null);L(R)})});iR1(q,$,function(V,U){if(V){J(V,null);return}const L=new Map,R=new Map;for(let M=0;M<U.length;++M)L.set(U[M],M);const A=U.filter(function(M){return M!=null});for(let M=0;M<A.length;++M)R.set(M,L.get(A[M]));if(z.length>0)z.sort((M,D)=>{return H.get(M)-H.get(D)});if(A.length===0){if(W)return J(null,{acknowledged:!0,insertedCount:0,insertedIds:{},mongoose:{validationErrors:z}});J(null,[]);return}const B=A.map(function(M){if(M.$__schema.options.versionKey)M[M.$__schema.options.versionKey]=0;if((!Y||Y.timestamps!==!1)&&M.initializeTimestamps&&(!M.$__||M.$__.timestamps!==!1))return M.initializeTimestamps().toObject(yK);return M.toObject(yK)});X.$__collection.insertMany(B,Y).then((M)=>{for(let D of A)D.$__reset(),xY(D,!1);if(G===!1&&K&&z.length>0){for(let D=0;D<F.length;++D)if(F[D]===void 0)F[D]=U[D];return J(new Yl(z,F,M,"insertMany"))}if(W){if(G===!1){for(let D=0;D<F.length;++D)if(F[D]===void 0)F[D]=U[D];M.mongoose={validationErrors:z,results:F}}return J(null,M)}if(Y.populate!=null)return X.populate(A,Y.populate).then((D)=>{J(null,D)},(D)=>{if(D!=null)D.insertedDocs=A;throw D});J(null,A)},(M)=>{if(M.writeErrors==null&&(M.result&&M.result.result&&M.result.result.writeErrors)!=null)M.writeErrors=M.result.result.writeErrors;const D=M&&M.writeErrors,d=new Set((M&&M.writeErrors||[]).map((E)=>E.index));if(M.writeErrors!=null)for(let E=0;E<M.writeErrors.length;++E){const j=R.get(M.writeErrors[E].index);if(M.writeErrors[E]={...M.writeErrors[E],index:j},!G)F[j]=M.writeErrors[E]}if(!G){for(let E=0;E<F.length;++E)if(F[E]===void 0)F[E]=U[E];M.results=F}let O=-1;if(M.insertedDocs=A.filter((E,j)=>{const n=!D||d.has(j);if(G){if(O>-1)return j<O;if(n)O=j}return!n}).map(function E(j){return j.$__reset(),xY(j,!1),j}),W&&G===!1)M.mongoose={validationErrors:z,results:F};J(M,null)})})};/*!
 * ignore
 */i.bulkWrite=async function Z(Y,J){if(I1(this,"bulkWrite"),typeof J==="function"||typeof arguments[2]==="function")throw new U1("Model.bulkWrite() no longer accepts a callback");J=J||{};const X=J.ordered==null?!0:J.ordered,$=Y.map((W)=>yR1(this,W,J));return new Promise((W,G)=>{if(X){tw($,(q,V)=>q(V),(q)=>{if(q)return G(q);if(Y.length===0)return W(uc());try{this.$__collection.bulkWrite(Y,J,(V,U)=>{if(V)return G(V);W(U)})}catch(V){return G(V)}});return}let K=$.length,Q=[],z=[];const H=[];if(K===0)F.call(this);else for(let q=0;q<$.length;++q)$[q]((V)=>{if(V==null)Q.push(q);else z.push({index:q,error:V}),H[q]=V;if(--K<=0)F.call(this)});z=z.sort((q,V)=>q.index-V.index).map((q)=>q.error);function F(){const q=Q;if(Q=Q.sort().map((V)=>Y[V]),Q.length===0)return W(uc());this.$__collection.bulkWrite(Q,J,(V,U)=>{if(V){if(z.length>0)V.mongoose=V.mongoose||{},V.mongoose.validationErrors=z;return G(V)}for(let L=0;L<q.length;++L)H[q[L]]=null;if(z.length>0)if(J.throwOnValidationError)return G(new Yl(z,H,U,"bulkWrite"));else U.mongoose=U.mongoose||{},U.mongoose.validationErrors=z,U.mongoose.results=H;W(U)})}})};i.bulkSave=async function Z(Y,J){if(J=J||{},J.timestamps!=null)for(let G of Y)G.$__.saveOptions=G.$__.saveOptions||{},G.$__.saveOptions.timestamps=J.timestamps;else for(let G of Y)if(G.$__.timestamps!=null)G.$__.saveOptions=G.$__.saveOptions||{},G.$__.saveOptions.timestamps=G.$__.timestamps;await Promise.all(Y.map(GM1));const X=this.buildBulkWriteOperations(Y,{skipValidation:!0,timestamps:J.timestamps}),{bulkWriteResult:$,bulkWriteError:W}=await this.bulkWrite(X,J).then((G)=>({bulkWriteResult:G,bulkWriteError:null}),(G)=>({bulkWriteResult:null,bulkWriteError:G}));if(await Promise.all(Y.map(async(G)=>{if((W&&W.writeErrors.find((Q)=>{return(Q.err.op._id||Q.err.op.q._id).toString()===G._id.toString()}))==null)await KM1(G)})),W&&W.writeErrors&&W.writeErrors.length)throw W;return $};i.applyDefaults=function Z(Y){if(Y.$__!=null){CR1(Y,Y.$__.fields,Y.$__.exclude);for(let J of Y.$getAllSubdocs())Z(J,J.$__.fields,J.$__.exclude);return Y}return OR1(Y,this.schema),Y};i.castObject=function Z(Y,J){J=J||{};const X={},$=this.schema,W=Object.keys($.paths);for(let K of W){const Q=$.path(K);if(!Q||!Q.$isMongooseArray)continue;const z=X3(Y,K);Zl(W,z,K)}let G=null;for(let K of W){const Q=$.path(K);if(Q==null)continue;let z=X3(Y,K,void 0);if(z==null)continue;const H=K.indexOf(".")===-1?[K]:K.split(".");let F=X;for(let q=0;q<H.length-1;++q){if(F[H[q]]==null)F[H[q]]=isNaN(H[q+1])?{}:[];F=F[H[q]]}if(Q.$isMongooseDocumentArray)continue;if(Q.$isSingleNested||Q.$isMongooseDocumentArrayElement){try{z=i.castObject.call(Q.caster,z)}catch(q){if(!J.ignoreCastErrors)G=G||new rw,G.addError(K,q);continue}F[H[H.length-1]]=z;continue}try{z=Q.cast(z),F[H[H.length-1]]=z}catch(q){if(!J.ignoreCastErrors)G=G||new rw,G.addError(K,q);continue}}if(G!=null)throw G;return X};i.buildBulkWriteOperations=function Z(Y,J){if(!Array.isArray(Y))throw new Error(`bulkSave expects an array of documents to be passed, received \`${Y}\` instead`);W();const X=this.schema.options.discriminatorKey;return Y.reduce((G,K,Q)=>{if(!J.skipValidation){if(!(K instanceof v9))throw new Error(`documents.${Q} was not a mongoose document, documents must be an array of mongoose documents (instanceof mongoose.Document).`);const q=K.validateSync();if(q)throw q}if(K.isNew){const q={insertOne:{document:K}};return b1.injectTimestampsOption(q.insertOne,J.timestamps),G.push(q),G}const H=K.$__delta();if(H!=null&&!b1.isEmptyObject(H[0])){const q=K.$__where(H[0]),V=H[1];if(Xl(K,q),K[X]!=null&&!(X in q))q[X]=K[X];K.$__version(q,H);const U={updateOne:{filter:q,update:V}};return b1.injectTimestampsOption(U.updateOne,J.timestamps),G.push(U),G}return G},[]);function W(){if(J=J||{},J.skipValidation==null)J.skipValidation=!1}};i.hydrate=function(Z,Y,J){if(I1(this,"hydrate"),Y!=null){if(Z!=null&&Z.$__!=null)Z=Z.toObject(yK);Z=_R1(Z,Y)}const X=KY().createModel(this,Z,Y);return X.$init(Z,J),X};i.updateMany=function Z(Y,J,X){return I1(this,"updateMany"),JR(this,"updateMany",Y,J,X)};i.updateOne=function Z(Y,J,X){return I1(this,"updateOne"),JR(this,"updateOne",Y,J,X)};i.replaceOne=function Z(Y,J,X){I1(this,"replaceOne");const $=this&&this.schema&&this.schema.options&&this.schema.options.versionKey||null;if($&&!J[$])J[$]=0;return JR(this,"replaceOne",Y,J,X)};i.aggregate=function Z(Y,J){if(I1(this,"aggregate"),typeof J==="function"||typeof arguments[2]==="function")throw new U1("Model.aggregate() no longer accepts a callback");const X=new BR1(Y||[]);if(X.model(this),J!=null)X.option(J);if(typeof callback==="undefined")return X;return X};i.validate=async function Z(Y,J,X){if(arguments.length<3||arguments.length===3&&typeof arguments[2]==="function")X=Y;if(typeof X==="function"||typeof arguments[3]==="function")throw new U1("Model.validate() no longer accepts a callback");let $=this.schema;const W=$.options.discriminatorKey;if($.discriminators!=null&&Y!=null&&Y[W]!=null)$=bR1($,Y[W])||$;let G=Object.keys($.paths);if(J!=null){const z=typeof J==="string"?new Set(J.split(" ")):Array.isArray(J)?new Set(J):new Set(G);G=G.filter((H)=>{if(J.pathsToSkip){if(Array.isArray(J.pathsToSkip)){if(J.pathsToSkip.find((V)=>V==H))return!1}else if(typeof J.pathsToSkip=="string"){if(J.pathsToSkip.includes(H))return!1}}const F=H.split(".");let q=F[0];for(let V of F){if(z.has(q))return!0;q+="."+V}return z.has(H)})}for(let z of G){const H=$.path(z);if(!H||!H.$isMongooseArray||H.$isMongooseDocumentArray)continue;const F=X3(Y,z);Zl(G,F,z)}let K=null;G=new Set(G);try{Y=this.castObject(Y)}catch(z){K=z;for(let H of Object.keys(K.errors||{}))G.delete(H)}let Q=G.size;return new Promise((z,H)=>{for(let q of G){const V=$.path(q);if(V==null){F();continue}const U=q.indexOf(".")===-1?[q]:q.split(".");let L=Y;for(let A=0;A<U.length-1;++A)L=L[U[A]];const R=X3(Y,q,void 0);V.doValidate(R,(A)=>{if(A)K=K||new rw,K.addError(q,A);F()},X,{path:q})}function F(){if(--Q<=0)if(K)H(K);else z(Y)}})};i.populate=async function Z(Y,J){if(I1(this,"populate"),typeof J==="function"||typeof arguments[2]==="function")throw new U1("Model.populate() no longer accepts a callback");const X=this;J=b1.populate(J);const $={};return new Promise((W,G)=>{QM1(X,Y,J,$,(K,Q)=>{if(K)return G(K);W(Q)})})};/*!
 * Populates `docs`
 */var zM1=/\s?-_id\s?/,HM1=/\s?-_id\s?/g;/*!
 * ignore
 *//*!
 * ignore
 */i.compile=function Z(Y,J,X,$,W){if(J.options.versionKey!==!1&&!J.paths[J.options.versionKey]){const F={};F[J.options.versionKey]=Number,J.add(F)}let K;if(typeof Y==="function"&&Y.prototype instanceof i)K=Y,Y=K.name,J.loadClass(K,!1),K.prototype.$isMongooseModelPrototype=!0;else K=function F(q,V,U){if(F.hooks.execPreSync("createModel",q),!(this instanceof F))return new F(q,V,U);const L=F.schema.options.discriminatorKey;if(F.discriminators==null||q==null||q[L]==null){i.call(this,q,V,U);return}const R=F.discriminators[q[L]]||xK(F.discriminators,q[L]);if(R!=null)return new R(q,V,U);i.call(this,q,V,U)};if(K.hooks=J.s.hooks.clone(),K.base=W,K.modelName=Y,!(K.prototype instanceof i))Object.setPrototypeOf(K,i),Object.setPrototypeOf(K.prototype,i.prototype);K.model=function F(q){return this.db.model(q)},K.db=$,K.prototype.db=$,K.prototype[YR]=$,K.discriminators=K.prototype.discriminators=void 0,K[Jl]=!0,K.events=new aw,J._preCompile();const z={schemaUserProvidedOptions:J._userProvidedOptions||{},capped:J.options.capped,Promise:K.base.Promise,modelName:Y};if(J.options.autoCreate!==void 0)z.autoCreate=J.options.autoCreate;const H=$.collection(X,z);return K.prototype.collection=H,K.prototype.$collection=H,K.prototype[gK]=H,K.prototype.$__setSchema(J),ac(K,J),rc(K,J),kR1(K,J),xR1(K,J.s.hooks,J.statics),K.schema=K.prototype.$__schema,K.collection=H,K.$__collection=H,K.Query=function(){_K.apply(this,arguments)},Object.setPrototypeOf(K.Query.prototype,_K.prototype),K.Query.base=_K.base,K.Query.prototype.constructor=_K,SR1(K.Query,K),VM1(K,J.query),K};i.__subclass=function Z(Y,J,X){const $=this,W=function H(F,q,V){if(!(this instanceof H))return new H(F,q,V);$.call(this,F,q,V)};if(Object.setPrototypeOf(W,$),Object.setPrototypeOf(W.prototype,$.prototype),W.db=Y,W.prototype.db=Y,W.prototype[YR]=Y,$[J3]=$[J3]||[],$[J3].push(W),$.discriminators!=null){W.discriminators={};for(let H of Object.keys($.discriminators))W.discriminators[H]=$.discriminators[H].__subclass($.db,$.discriminators[H].schema,X)}const G=J&&typeof J!=="string"?J:$.prototype.$__schema,K=G.options||{},Q=G._userProvidedOptions||{};if(!X)X=$.prototype.$__schema.get("collection")||b1.toCollectionName($.modelName,this.base.pluralize());const z={schemaUserProvidedOptions:Q,capped:G&&K.capped};return W.prototype.collection=Y.collection(X,z),W.prototype.$collection=W.prototype.collection,W.prototype[gK]=W.prototype.collection,W.collection=W.prototype.collection,W.$__collection=W.collection,W.init().catch(()=>{}),W};i.inspect=function(){return`Model { ${this.modelName} }`};if(lc.inspect.custom)i[lc.inspect.custom]=i.inspect;/*!
 * Module exports.
 */Wl.exports=$l=i});var Kl=w((W3,Gl)=>{var wM1=function(Z){let Y;if(Z=Z.toLowerCase(),!~LM1.indexOf(Z)){if(Y=UM1.filter(function(J){return Z.match(J[0])}),Y[0])return Z.replace(Y[0][0],Y[0][1])}return Z};Gl.exports=wM1;W3.pluralization=[[/human$/gi,"humans"],[/(m)an$/gi,"$1en"],[/(pe)rson$/gi,"$1ople"],[/(child)$/gi,"$1ren"],[/^(ox)$/gi,"$1en"],[/(ax|test)is$/gi,"$1es"],[/(octop|vir)us$/gi,"$1i"],[/(alias|status)$/gi,"$1es"],[/(bu)s$/gi,"$1ses"],[/(buffal|tomat|potat)o$/gi,"$1oes"],[/([ti])um$/gi,"$1a"],[/sis$/gi,"ses"],[/(?:([^f])fe|([lr])f)$/gi,"$1$2ves"],[/(hive)$/gi,"$1s"],[/([^aeiouy]|qu)y$/gi,"$1ies"],[/(x|ch|ss|sh)$/gi,"$1es"],[/(matr|vert|ind)ix|ex$/gi,"$1ices"],[/([m|l])ouse$/gi,"$1ice"],[/(kn|w|l)ife$/gi,"$1ives"],[/(quiz)$/gi,"$1zes"],[/^goose$/i,"geese"],[/s$/gi,"s"],[/([^a-z])$/,"$1"],[/$/gi,"s"]];var UM1=W3.pluralization;W3.uncountables=["advice","energy","excretion","digestion","cooperation","health","justice","labour","machinery","equipment","information","pollution","sewage","paper","money","species","series","rain","rice","fish","sheep","moose","deer","news","expertise","status","media"];var LM1=W3.uncountables});var Vl=w((zk1,ql)=>{/*!
 * Module requirements
 */var Hl=J0(),Ql=import.meta.require("util"),zl=UV();class P5 extends Hl{constructor(){super("");this.errors={}}toString(){return zl(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,Y){if(Y instanceof P5){const{errors:J}=Y;for(let X of Object.keys(J))this.addError(X,J[X]);return}this.errors[Z]=Y,this.message=zl(this)}}if(Ql.inspect.custom)P5.prototype[Ql.inspect.custom]=P5.prototype.inspect;Object.defineProperty(P5.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(P5.prototype,"name",{value:"SetOptionError"});class Fl extends Hl{constructor(Z){super(`"${Z}" is not a valid option to set`)}}P5.SetOptionInnerError=Fl;/*!
 * Module exports
 */ql.exports=P5});var Ll=w(()=>{var Ul=W1();if(typeof jest!=="undefined"&&!process.env.SUPPRESS_JEST_WARNINGS){if(typeof window!=="undefined")Ul.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s default jsdom test environment. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.");if(setTimeout.clock!=null&&typeof setTimeout.clock.Date==="function")Ul.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s mock timers enabled. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.")}});var Nl=w((Al,Bl)=>{var i6=function(Z,Y,J,X,$){if(!(this instanceof i6))return new i6(Z,Y,J,X,$);if(NM1(Y)&&!Y.instanceOfSchema)Y=new RM1(Y);if(Y=this.schema||Y,!this.schema&&Y.options._id){if(Z=Z||{},Z._id===void 0)Z._id=new MM1}if(!Y)throw new Ml.MissingSchemaError;this.$__setSchema(Y),wl.call(this,Z,J,X,$),BM1(this,Y,{decorateDoc:!0});for(let W in Y.methods)this[W]=Y.methods[W];for(let W in Y.statics)this[W]=Y.statics[W]};/*!
 * Module dependencies.
 */var wl=p8(),Rl=import.meta.require("events").EventEmitter,Ml=l1(),RM1=HY(),MM1=Z4(),AM1=Ml.ValidationError,BM1=EG(),NM1=v4();/*!
 * Inherit from the NodeJS document
 */i6.prototype=Object.create(wl.prototype);i6.prototype.constructor=i6;/*!
 * ignore
 */i6.events=new Rl;/*!
 * Browser doc exposes the event emitter API
 */i6.$emitter=new Rl;["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(Z){i6[Z]=function(){return i6.$emitter[Z].apply(i6.$emitter,arguments)}});/*!
 * Module exports.
 */i6.ValidationError=AM1;Bl.exports=Al=i6});var Il=w((qk1,XR)=>{/*!
 * Module dependencies.
 */var DM1=p8(),IM1=Nl(),Dl=!1;XR.exports=function Z(){if(Dl)return IM1;return DM1};/*!
 * ignore
 */XR.exports.setBrowser=function(Z){Dl=Z}});var kl=w((Ol,Sl)=>{var t=function(Z){this.connections=[],this.nextConnectionId=0,this.models={},this.events=new TM1,this.__driver=El.get(),this.options=Object.assign({pluralization:!0,autoIndex:!0,autoCreate:!0},Z);const Y=WR.getOption("createInitialConnection",this.options);if(Y==null||Y){const J=this.createConnection();J.models=this.models}if(this.options.pluralization)this._pluralize=_M1;if(!Z||!Z[Cl]){const J=this;this.Schema=function(){return this.base=J,E4.apply(this,arguments)},this.Schema.prototype=Object.create(E4.prototype),Object.assign(this.Schema,E4),this.Schema.base=this,this.Schema.Types=Object.assign({},E4.Types)}else for(let J of["Schema","model"])this[J]=t.prototype[J];this.Schema.prototype.base=this,Object.defineProperty(this,"plugins",{configurable:!1,enumerable:!0,writable:!1,value:Object.values(kM1).map((J)=>[J,{deduplicate:!0}])})};/*!
 * Module dependencies.
 */var PM1=p8(),TM1=import.meta.require("events").EventEmitter,Tl=tZ(),E4=HY(),jM1=m0(),G3=OX(),EM1=NU(),$R=GZ(),Pl=gh(),CM1=VY(),OM1=AK(),jl=_w(),SM1=xL(),kM1=JL(),El=v3(),_M1=Kl(),WR=W1(),xM1=gL(),fM1=LY(),yM1=kw(),gM1=WZ().trusted,bM1=Mw(),vM1=f8(),vK=J0(),bK=Vl(),Cl=Symbol.for("mongoose:default");Ll();var hM1=/^[0-9A-Fa-f]{24}$/;t.prototype.cast=fM1;t.prototype.STATES=$R;t.prototype.ConnectionStates=$R;t.prototype.driver=El;t.prototype.setDriver=function Z(Y){const J=this instanceof t?this:X8;if(J.__driver===Y)return J;if(J.connections&&J.connections.find((W)=>W.readyState!==$R.disconnected))throw new vK("Cannot modify Mongoose driver if a connection is already open. Call `mongoose.disconnect()` before modifying the driver");J.__driver=Y;const $=Y.Connection;return J.connections=[new $(J)],J.connections[0].models=J.models,J};t.prototype.set=function(Z,Y){const J=this instanceof t?this:X8;if(arguments.length===1&&typeof Z!=="object"){if(Pl.indexOf(Z)===-1){const W=new bK;throw W.addError(Z,new bK.SetOptionInnerError(Z)),W}return J.options[Z]}let X={};if(arguments.length===2)X={[Z]:Y};if(arguments.length===1&&typeof Z==="object")X=Z;let $=void 0;for(let[W,G]of Object.entries(X)){if(Pl.indexOf(W)===-1){if(!$)$=new bK;$.addError(W,new bK.SetOptionInnerError(W));continue}if(J.options[W]=G,W==="objectIdGetter")if(G)Object.defineProperty(X8.Types.ObjectId.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});else delete X8.Types.ObjectId.prototype._id}if($)throw $;return J};t.prototype.get=t.prototype.set;t.prototype.createConnection=function(Z,Y){const J=this instanceof t?this:X8,$=new J.__driver.Connection(J);if(J.connections.push($),J.nextConnectionId++,J.events.emit("createConnection",$),arguments.length>0)$.openUri(Z,{...Y,_fireAndForget:!0});return $};t.prototype.connect=async function Z(Y,J){if(typeof J==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new vK("Mongoose.prototype.connect() no longer accepts a callback");const X=this instanceof t?this:X8;return X.connection.openUri(Y,J).then(()=>X)};t.prototype.disconnect=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new vK("Mongoose.prototype.disconnect() no longer accepts a callback");const Y=this instanceof t?this:X8;if(Y.connections.length<=0)return;await Promise.all(Y.connections.map((X)=>X.close()))};t.prototype.startSession=function(){const Z=this instanceof t?this:X8;return Z.connection.startSession.apply(Z.connection,arguments)};t.prototype.pluralize=function(Z){const Y=this instanceof t?this:X8;if(arguments.length>0)Y._pluralize=Z;return Y._pluralize};t.prototype.model=function(Z,Y,J,X){const $=this instanceof t?this:X8;if(typeof Y==="string")J=Y,Y=!1;if(arguments.length===1){const Q=$.models[Z];if(!Q)throw new vK.MissingSchemaError(Z);return Q}if(WR.isObject(Y)&&!(Y instanceof E4))Y=new E4(Y);if(Y&&!(Y instanceof E4))throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");X=X||{};const W=Y;if(Y){if($.get("cloneSchemas"))Y=Y.clone();$._applyPlugins(Y)}const G=$.options.hasOwnProperty("overwriteModels")?$.options.overwriteModels:X.overwriteModels;if($.models.hasOwnProperty(Z)&&X.cache!==!1&&G!==!0){if(W&&W.instanceOfSchema&&W!==$.models[Z].schema)throw new $.Error.OverwriteModelError(Z);if(J&&J!==$.models[Z].collection.name){const Q=$.models[Z];return Y=Q.prototype.schema,Q.__subclass($.connection,Y,J)}return $.models[Z]}if(Y==null)throw new $.Error.MissingSchemaError(Z);const K=$._model(Z,Y,J,X);return $.connection.models[Z]=K,$.models[Z]=K,K};/*!
 * ignore
 */t.prototype._model=function(Z,Y,J,X){const $=this instanceof t?this:X8;let W;if(typeof Z==="function"){if(W=Z,Z=W.name,!(W.prototype instanceof jl))throw new $.Error("The provided class "+Z+" must extend Model")}if(Y){if($.get("cloneSchemas"))Y=Y.clone();$._applyPlugins(Y)}if(Y==null||!("pluralization"in Y.options))Y.options.pluralization=$.options.pluralization;if(!J)J=Y.get("collection")||WR.toCollectionName(Z,$.pluralize());const G=X.connection||$.connection;if(W=$.Model.compile(W||Z,Y,J,G,$),W.init().catch(function K(){}),G.emit("model",W),Y._applyDiscriminators!=null)for(let K of Y._applyDiscriminators.keys())W.discriminator(K,Y._applyDiscriminators.get(K));return W};t.prototype.deleteModel=function(Z){const Y=this instanceof t?this:X8;return Y.connection.deleteModel(Z),delete Y.models[Z],Y};t.prototype.modelNames=function(){const Z=this instanceof t?this:X8;return Object.keys(Z.models)};t.prototype._applyPlugins=function(Z,Y){const J=this instanceof t?this:X8;Y=Y||{},Y.applyPluginsToDiscriminators=J.options&&J.options.applyPluginsToDiscriminators||!1,Y.applyPluginsToChildSchemas=typeof(J.options&&J.options.applyPluginsToChildSchemas)==="boolean"?J.options.applyPluginsToChildSchemas:!0,SM1(Z,J.plugins,Y,"$globalPluginsApplied")};t.prototype.plugin=function(Z,Y){const J=this instanceof t?this:X8;return J.plugins.push([Z,Y]),J};t.prototype.__defineGetter__("connection",function(){return this.connections[0]});t.prototype.__defineSetter__("connection",function(Z){if(Z instanceof this.__driver.Connection)this.connections[0]=Z,this.models=Z.models});t.prototype.connections;t.prototype.nextConnectionId;t.prototype.Aggregate=yM1;Object.defineProperty(t.prototype,"Collection",{get:function(){return this.__driver.Collection},set:function(Z){this.__driver.Collection=Z}});Object.defineProperty(t.prototype,"Connection",{get:function(){return this.__driver.Connection},set:function(Z){if(Z===this.__driver.Connection)return;this.__driver.Connection=Z}});t.prototype.version=xM1.version;t.prototype.Mongoose=t;t.prototype.Schema=E4;t.prototype.SchemaType=jM1;t.prototype.SchemaTypes=E4.Types;t.prototype.VirtualType=EM1;t.prototype.Types=CM1;t.prototype.Query=OM1;t.prototype.Model=jl;t.prototype.Document=PM1;t.prototype.DocumentProvider=Il();t.prototype.ObjectId=G3.ObjectId;t.prototype.isValidObjectId=function(Z){return(this instanceof t?this:X8).Types.ObjectId.isValid(Z)};t.prototype.isObjectIdOrHexString=function(Z){return vM1(Z,"ObjectId")||typeof Z==="string"&&hM1.test(Z)};t.prototype.syncIndexes=function(Z){return(this instanceof t?this:X8).connection.syncIndexes(Z)};t.prototype.Decimal128=G3.Decimal128;t.prototype.Mixed=G3.Mixed;t.prototype.Date=G3.Date;t.prototype.Number=G3.Number;t.prototype.Error=l1();t.prototype.MongooseError=J0();t.prototype.now=function Z(){return new Date};t.prototype.CastError=I8();t.prototype.SchemaTypeOptions=V6();t.prototype.mquery=Lw();t.prototype.sanitizeFilter=bM1;t.prototype.trusted=gM1;t.prototype.skipMiddlewareFunction=Tl.skipWrappedFunction;t.prototype.overwriteMiddlewareResult=Tl.overwriteResult;var X8=Sl.exports=Ol=new t({[Cl]:!0})});var fl=w((Vk1,xl)=>{/*!
 * Module dependencies.
 */v3().set(fh());var _l=kl();_l.Mongoose.prototype.mongo=pW();xl.exports=_l});var yl=w((Uk1,K1)=>{var Q1=fl();K1.exports=Q1;K1.exports.default=Q1;K1.exports.mongoose=Q1;K1.exports.cast=Q1.cast;K1.exports.STATES=Q1.STATES;K1.exports.setDriver=Q1.setDriver;K1.exports.set=Q1.set;K1.exports.get=Q1.get;K1.exports.createConnection=Q1.createConnection;K1.exports.connect=Q1.connect;K1.exports.disconnect=Q1.disconnect;K1.exports.startSession=Q1.startSession;K1.exports.pluralize=Q1.pluralize;K1.exports.model=Q1.model;K1.exports.deleteModel=Q1.deleteModel;K1.exports.modelNames=Q1.modelNames;K1.exports.plugin=Q1.plugin;K1.exports.connections=Q1.connections;K1.exports.version=Q1.version;K1.exports.Mongoose=Q1.Mongoose;K1.exports.Schema=Q1.Schema;K1.exports.SchemaType=Q1.SchemaType;K1.exports.SchemaTypes=Q1.SchemaTypes;K1.exports.VirtualType=Q1.VirtualType;K1.exports.Types=Q1.Types;K1.exports.Query=Q1.Query;K1.exports.Model=Q1.Model;K1.exports.Document=Q1.Document;K1.exports.ObjectId=Q1.ObjectId;K1.exports.isValidObjectId=Q1.isValidObjectId;K1.exports.isObjectIdOrHexString=Q1.isObjectIdOrHexString;K1.exports.syncIndexes=Q1.syncIndexes;K1.exports.Decimal128=Q1.Decimal128;K1.exports.Mixed=Q1.Mixed;K1.exports.Date=Q1.Date;K1.exports.Number=Q1.Number;K1.exports.Error=Q1.Error;K1.exports.MongooseError=Q1.MongooseError;K1.exports.now=Q1.now;K1.exports.CastError=Q1.CastError;K1.exports.SchemaTypeOptions=Q1.SchemaTypeOptions;K1.exports.mongo=Q1.mongo;K1.exports.mquery=Q1.mquery;K1.exports.sanitizeFilter=Q1.sanitizeFilter;K1.exports.trusted=Q1.trusted;K1.exports.skipMiddlewareFunction=Q1.skipMiddlewareFunction;K1.exports.overwriteMiddlewareResult=Q1.overwriteMiddlewareResult});var pp=w((lp)=>{var uB1=function(Z){return function(Y,J){return new Promise((X,$)=>{Z.call(this,Y,J,(W,G)=>{if(W)$(W);else X(G)})})}};Object.defineProperty(lp,"__esModule",{value:!0});lp.default=uB1});var ap=w((XM,np)=>{var iB1=function(Z){return Boolean(Z)&&typeof Z.addRequest==="function"},JM=function(){const{stack:Z}=new Error;if(typeof Z!=="string")return!1;return Z.split("\n").some((Y)=>Y.indexOf("(https.js:")!==-1||Y.indexOf("node:https:")!==-1)},VQ=function(Z,Y){return new VQ.Agent(Z,Y)},ip=XM&&XM.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}},cB1=import.meta.require("events"),lB1=ip(lX()),pB1=ip(pp()),k3=lB1.default("agent-base");(function(Z){class Y extends cB1.EventEmitter{constructor(J,X){super();let $=X;if(typeof J==="function")this.callback=J;else if(J)$=J;if(this.timeout=null,$&&typeof $.timeout==="number")this.timeout=$.timeout;this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){if(typeof this.explicitDefaultPort==="number")return this.explicitDefaultPort;return JM()?443:80}set defaultPort(J){this.explicitDefaultPort=J}get protocol(){if(typeof this.explicitProtocol==="string")return this.explicitProtocol;return JM()?"https:":"http:"}set protocol(J){this.explicitProtocol=J}callback(J,X,$){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(J,X){const $=Object.assign({},X);if(typeof $.secureEndpoint!=="boolean")$.secureEndpoint=JM();if($.host==null)$.host="localhost";if($.port==null)$.port=$.secureEndpoint?443:80;if($.protocol==null)$.protocol=$.secureEndpoint?"https:":"http:";if($.host&&$.path)delete $.path;delete $.agent,delete $.hostname,delete $._defaultAgent,delete $.defaultPort,delete $.createConnection,J._last=!0,J.shouldKeepAlive=!1;let W=!1,G=null;const K=$.timeout||this.timeout,Q=(q)=>{if(J._hadError)return;J.emit("error",q),J._hadError=!0},z=()=>{G=null,W=!0;const q=new Error(`A "socket" was not created for HTTP request before ${K}ms`);q.code="ETIMEOUT",Q(q)},H=(q)=>{if(W)return;if(G!==null)clearTimeout(G),G=null;Q(q)},F=(q)=>{if(W)return;if(G!=null)clearTimeout(G),G=null;if(iB1(q)){k3("Callback returned another Agent instance %o",q.constructor.name),q.addRequest(J,$);return}if(q){q.once("free",()=>{this.freeSocket(q,$)}),J.onSocket(q);return}const V=new Error(`no Duplex stream was returned to agent-base for \`${J.method} ${J.path}\``);Q(V)};if(typeof this.callback!=="function"){Q(new Error("`callback` is not defined"));return}if(!this.promisifiedCallback)if(this.callback.length>=3)k3("Converting legacy callback function to promise"),this.promisifiedCallback=pB1.default(this.callback);else this.promisifiedCallback=this.callback;if(typeof K==="number"&&K>0)G=setTimeout(z,K);if("port"in $&&typeof $.port!=="number")$.port=Number($.port);try{k3("Resolving socket for %o request: %o",$.protocol,`${J.method} ${J.path}`),Promise.resolve(this.promisifiedCallback(J,$)).then(F,H)}catch(q){Promise.reject(q).catch(H)}}freeSocket(J,X){k3("Freeing socket %o %o",J.constructor.name,X),J.destroy()}destroy(){k3("Destroying agent %o",this.constructor.name)}}Z.Agent=Y,Z.prototype=Z.Agent.prototype})(VQ||(VQ={}));np.exports=VQ});var sp=w((x3)=>{var sB1=function(Z){return new Promise((Y,J)=>{let X=0;const $=[];function W(){const F=Z.read();if(F)H(F);else Z.once("readable",W)}function G(){Z.removeListener("end",Q),Z.removeListener("error",z),Z.removeListener("close",K),Z.removeListener("readable",W)}function K(F){_3("onclose had error %o",F)}function Q(){_3("onend")}function z(F){G(),_3("onerror %o",F),J(F)}function H(F){$.push(F),X+=F.length;const q=Buffer.concat($,X);if(q.indexOf("\r\n\r\n")===-1){_3("have not received end of HTTP headers yet..."),W();return}const U=q.toString("ascii",0,q.indexOf("\r\n")),L=+U.split(" ")[1];_3("got proxy server response: %o",U),Y({statusCode:L,buffered:q})}Z.on("error",z),Z.on("close",K),Z.on("end",Q),W()})},nB1=x3&&x3.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(x3,"__esModule",{value:!0});var aB1=nB1(lX()),_3=aB1.default("https-proxy-agent:parse-proxy-response");x3.default=sB1});var ep=w((a9)=>{var JN1=function(Z){Z.resume()},XN1=function(Z,Y){return Boolean(!Y&&Z===80||Y&&Z===443)},$N1=function(Z){return typeof Z==="string"?/^https:?$/i.test(Z):!1},WN1=function(Z,...Y){const J={};let X;for(X in Z)if(!Y.includes(X))J[X]=Z[X];return J},rB1=a9&&a9.__awaiter||function(Z,Y,J,X){function $(W){return W instanceof J?W:new J(function(G){G(W)})}return new(J||(J=Promise))(function(W,G){function K(H){try{z(X.next(H))}catch(F){G(F)}}function Q(H){try{z(X.throw(H))}catch(F){G(F)}}function z(H){H.done?W(H.value):$(H.value).then(K,Q)}z((X=X.apply(Z,Y||[])).next())})},aY=a9&&a9.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(a9,"__esModule",{value:!0});var rp=aY(import.meta.require("net")),tp=aY(import.meta.require("tls")),tB1=aY(import.meta.require("url")),oB1=aY(import.meta.require("assert")),eB1=aY(lX()),ZN1=ap(),YN1=aY(sp()),f3=eB1.default("https-proxy-agent:agent");class op extends ZN1.Agent{constructor(Z){let Y;if(typeof Z==="string")Y=tB1.default.parse(Z);else Y=Z;if(!Y)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");f3("creating new HttpsProxyAgent instance: %o",Y);super(Y);const J=Object.assign({},Y);if(this.secureProxy=Y.secureProxy||$N1(J.protocol),J.host=J.hostname||J.host,typeof J.port==="string")J.port=parseInt(J.port,10);if(!J.port&&J.host)J.port=this.secureProxy?443:80;if(this.secureProxy&&!("ALPNProtocols"in J))J.ALPNProtocols=["http 1.1"];if(J.host&&J.path)delete J.path,delete J.pathname;this.proxy=J}callback(Z,Y){return rB1(this,void 0,void 0,function*(){const{proxy:J,secureProxy:X}=this;let $;if(X)f3("Creating `tls.Socket`: %o",J),$=tp.default.connect(J);else f3("Creating `net.Socket`: %o",J),$=rp.default.connect(J);const W=Object.assign({},J.headers);let K=`CONNECT ${`${Y.host}:${Y.port}`} HTTP/1.1\r\n`;if(J.auth)W["Proxy-Authorization"]=`Basic ${Buffer.from(J.auth).toString("base64")}`;let{host:Q,port:z,secureEndpoint:H}=Y;if(!XN1(z,H))Q+=`:${z}`;W.Host=Q,W.Connection="close";for(let L of Object.keys(W))K+=`${L}: ${W[L]}\r\n`;const F=YN1.default($);$.write(`${K}\r\n`);const{statusCode:q,buffered:V}=yield F;if(q===200){if(Z.once("socket",JN1),Y.secureEndpoint){f3("Upgrading socket connection to TLS");const L=Y.servername||Y.host;return tp.default.connect(Object.assign(Object.assign({},WN1(Y,"host","hostname","path","port")),{socket:$,servername:L}))}return $}$.destroy();const U=new rp.default.Socket({writable:!1});return U.readable=!0,Z.once("socket",(L)=>{f3("replaying proxy buffer for failed request"),oB1.default(L.listenerCount("data")>0),L.push(V),L.push(null)}),U})}}a9.default=op});var Yi=w((GM,Zi)=>{var WM=function(Z){return new $M.default(Z)},GN1=GM&&GM.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}},$M=GN1(ep());(function(Z){Z.HttpsProxyAgent=$M.default,Z.prototype=$M.default.prototype})(WM||(WM={}));Zi.exports=WM});var hK=mM(yl(),1),mM1=new hK.Schema({username:{type:String,required:!0,unique:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},fullName:{type:String},bio:{type:String},profilePicture:{type:String},createdAt:{type:Date,default:Date.now,required:!0},updatedAt:{type:Date,default:Date.now,required:!0},roles:{type:[String],default:[]},isActive:{type:Boolean,default:!0},socialProfiles:[{platform:{type:String},profileUrl:{type:String}}],address:{street:{type:String},city:{type:String},state:{type:String},country:{type:String},zipCode:{type:String}}}),gl=hK.default.model("User",mM1);var K3=function(Z){switch(bl.call(Z)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return l7(Z,Error)}},GR=function(Z,Y){return bl.call(Z)===`[object ${Y}]`};var c7=function(Z){return GR(Z,"String")},mK=function(Z){return Z===null||typeof Z!=="object"&&typeof Z!=="function"},R6=function(Z){return GR(Z,"Object")},KR=function(Z){return typeof Event!=="undefined"&&l7(Z,Event)},QR=function(Z){return typeof Element!=="undefined"&&l7(Z,Element)},Q3=function(Z){return GR(Z,"RegExp")},d0=function(Z){return Boolean(Z&&Z.then&&typeof Z.then==="function")},zR=function(Z){return R6(Z)&&"nativeEvent"in Z&&"preventDefault"in Z&&"stopPropagation"in Z},z3=function(Z){return typeof Z==="number"&&Z!==Z},l7=function(Z,Y){try{return Z instanceof Y}catch(J){return!1}},uK=function(Z){return!!(typeof Z==="object"&&Z!==null&&(Z.__isVue||Z._isVue))},bl=Object.prototype.toString;var p7=function(Z,Y=0){if(typeof Z!=="string"||Y===0)return Z;return Z.length<=Y?Z:`${Z.slice(0,Y)}...`},H3=function(Z,Y){let J=Z;const X=J.length;if(X<=150)return J;if(Y>X)Y=X;let $=Math.max(Y-60,0);if($<5)$=0;let W=Math.min($+140,X);if(W>X-5)W=X;if(W===X)$=Math.max(W-140,0);if(J=J.slice($,W),$>0)J=`'{snip} ${J}`;if(W<X)J+=" {snip}";return J};var vl=function(Z,Y,J=!1){if(!c7(Z))return!1;if(Q3(Y))return Y.test(Z);if(c7(Y))return J?Z===Y:Z.includes(Y);return!1},i7=function(Z,Y=[],J=!1){return Y.some((X)=>vl(Z,X,J))};var FR=function(Z,Y,J=250,X,$,W,G){if(!W.exception||!W.exception.values||!G||!l7(G.originalException,Error))return;const K=W.exception.values.length>0?W.exception.values[W.exception.values.length-1]:void 0;if(K)W.exception.values=uM1(HR(Z,Y,$,G.originalException,X,W.exception.values,K,0),J)},HR=function(Z,Y,J,X,$,W,G,K){if(W.length>=J+1)return W;let Q=[...W];if(l7(X[$],Error)){hl(G,K);const z=Z(Y,X[$]),H=Q.length;ml(z,$,H,K),Q=HR(Z,Y,J,X[$],$,[z,...Q],z,H)}if(Array.isArray(X.errors))X.errors.forEach((z,H)=>{if(l7(z,Error)){hl(G,K);const F=Z(Y,z),q=Q.length;ml(F,`errors[${H}]`,q,K),Q=HR(Z,Y,J,z,$,[F,...Q],F,q)}});return Q},hl=function(Z,Y){Z.mechanism=Z.mechanism||{type:"generic",handled:!0},Z.mechanism={...Z.mechanism,is_exception_group:!0,exception_id:Y}},ml=function(Z,Y,J,X){Z.mechanism=Z.mechanism||{type:"generic",handled:!0},Z.mechanism={...Z.mechanism,type:"chained",source:Y,exception_id:J,parent_id:X}},uM1=function(Z,Y){return Z.map((J)=>{if(J.value)J.value=p7(J.value,Y);return J})};var dK=function(Z){return Z&&Z.Math==Math?Z:void 0},F3=function(){return C1},q3=function(Z,Y,J){const X=J||C1,$=X.__SENTRY__=X.__SENTRY__||{};return $[Z]||($[Z]=Y())},C1=typeof globalThis=="object"&&dK(globalThis)||typeof window=="object"&&dK(window)||typeof self=="object"&&dK(self)||typeof global=="object"&&dK(global)||function(){return this}()||{};var ul=function(Z,Y={}){if(!Z)return"<unknown>";try{let J=Z;const X=5,$=[];let W=0,G=0;const K=" > ",Q=K.length;let z;const H=Array.isArray(Y)?Y:Y.keyAttrs,F=!Array.isArray(Y)&&Y.maxStringLength||dM1;while(J&&W++<X){if(z=cM1(J,H),z==="html"||W>1&&G+$.length*Q+z.length>=F)break;$.push(z),G+=z.length,J=J.parentNode}return $.reverse().join(K)}catch(J){return"<unknown>"}},cM1=function(Z,Y){const J=Z,X=[];let $,W,G,K,Q;if(!J||!J.tagName)return"";X.push(J.tagName.toLowerCase());const z=Y&&Y.length?Y.filter((F)=>J.getAttribute(F)).map((F)=>[F,J.getAttribute(F)]):null;if(z&&z.length)z.forEach((F)=>{X.push(`[${F[0]}="${F[1]}"]`)});else{if(J.id)X.push(`#${J.id}`);if($=J.className,$&&c7($)){W=$.split(/\s+/);for(Q=0;Q<W.length;Q++)X.push(`.${W[Q]}`)}}const H=["aria-label","type","name","title","alt"];for(Q=0;Q<H.length;Q++)if(G=H[Q],K=J.getAttribute(G),K)X.push(`[${G}="${K}"]`);return X.join("")};var jk1=F3(),dM1=80;var n7=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var C8=function(Z){if(!("console"in C1))return Z();const Y=C1.console,J={},X=Object.keys(fY);X.forEach(($)=>{const W=fY[$];J[$]=Y[$],Y[$]=W});try{return Z()}finally{X.forEach(($)=>{Y[$]=J[$]})}},pM1=function(){let Z=!1;const Y={enable:()=>{Z=!0},disable:()=>{Z=!1},isEnabled:()=>Z};if(n7)V3.forEach((J)=>{Y[J]=(...X)=>{if(Z)C8(()=>{C1.console[J](`${lM1}[${J}]:`,...X)})}});else V3.forEach((J)=>{Y[J]=()=>{return}});return Y},lM1="Sentry Logger ",V3=["debug","info","warn","error","log","assert","trace"],fY={},f=pM1();var nM1=function(Z){return Z==="http"||Z==="https"},T5=function(Z,Y=!1){const{host:J,path:X,pass:$,port:W,projectId:G,protocol:K,publicKey:Q}=Z;return`${K}://${Q}${Y&&$?`:${$}`:""}`+`@${J}${W?`:${W}`:""}/${X?`${X}/`:X}${G}`},dl=function(Z){const Y=iM1.exec(Z);if(!Y){C8(()=>{console.error(`Invalid Sentry Dsn: ${Z}`)});return}const[J,X,$="",W,G="",K]=Y.slice(1);let Q="",z=K;const H=z.split("/");if(H.length>1)Q=H.slice(0,-1).join("/"),z=H.pop();if(z){const F=z.match(/^\d+/);if(F)z=F[0]}return cl({host:W,pass:$,path:Q,projectId:z,port:G,protocol:J,publicKey:X})},cl=function(Z){return{protocol:Z.protocol,publicKey:Z.publicKey||"",pass:Z.pass||"",host:Z.host,port:Z.port||"",path:Z.path||"",projectId:Z.projectId}},aM1=function(Z){if(!n7)return!0;const{port:Y,projectId:J,protocol:X}=Z;if(["protocol","publicKey","host","projectId"].find((G)=>{if(!Z[G])return f.error(`Invalid Sentry Dsn: ${G} missing`),!0;return!1}))return!1;if(!J.match(/^\d+$/))return f.error(`Invalid Sentry Dsn: Invalid projectId ${J}`),!1;if(!nM1(X))return f.error(`Invalid Sentry Dsn: Invalid protocol ${X}`),!1;if(Y&&isNaN(parseInt(Y,10)))return f.error(`Invalid Sentry Dsn: Invalid port ${Y}`),!1;return!0},cK=function(Z){const Y=typeof Z==="string"?dl(Z):cl(Z);if(!Y||!aM1(Y))return;return Y},iM1=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;class O8 extends Error{constructor(Z,Y="warn"){super(Z);this.message=Z,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=Y}}var I0=function(Z,Y,J){if(!(Y in Z))return;const X=Z[Y],$=J(X);if(typeof $==="function")il($,X);Z[Y]=$},yY=function(Z,Y,J){try{Object.defineProperty(Z,Y,{value:J,writable:!0,configurable:!0})}catch(X){n7&&f.log(`Failed to add non-enumerable property "${Y}" to object`,Z)}},il=function(Z,Y){try{const J=Y.prototype||{};Z.prototype=Y.prototype=J,yY(Z,"__sentry_original__",Y)}catch(J){}},VR=function(Z){return Z.__sentry_original__},UR=function(Z){return Object.keys(Z).map((Y)=>`${encodeURIComponent(Y)}=${encodeURIComponent(Z[Y])}`).join("&")},lK=function(Z){if(K3(Z))return{message:Z.message,name:Z.name,stack:Z.stack,...pl(Z)};else if(KR(Z)){const Y={type:Z.type,target:ll(Z.target),currentTarget:ll(Z.currentTarget),...pl(Z)};if(typeof CustomEvent!=="undefined"&&l7(Z,CustomEvent))Y.detail=Z.detail;return Y}else return Z},ll=function(Z){try{return QR(Z)?ul(Z):Object.prototype.toString.call(Z)}catch(Y){return"<unknown>"}},pl=function(Z){if(typeof Z==="object"&&Z!==null){const Y={};for(let J in Z)if(Object.prototype.hasOwnProperty.call(Z,J))Y[J]=Z[J];return Y}else return{}},LR=function(Z,Y=40){const J=Object.keys(lK(Z));if(J.sort(),!J.length)return"[object has no keys]";if(J[0].length>=Y)return p7(J[0],Y);for(let X=J.length;X>0;X--){const $=J.slice(0,X).join(", ");if($.length>Y)continue;if(X===J.length)return $;return p7($,Y)}return""},E0=function(Z){return qR(Z,new Map)},qR=function(Z,Y){if(R6(Z)){const J=Y.get(Z);if(J!==void 0)return J;const X={};Y.set(Z,X);for(let $ of Object.keys(Z))if(typeof Z[$]!=="undefined")X[$]=qR(Z[$],Y);return X}if(Array.isArray(Z)){const J=Y.get(Z);if(J!==void 0)return J;const X=[];return Y.set(Z,X),Z.forEach(($)=>{X.push(qR($,Y))}),X}return Z};var sM1=function(Z,Y=!1){return!(Y||Z&&!Z.startsWith("/")&&!Z.includes(":\\")&&!Z.startsWith(".")&&!Z.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&Z!==void 0&&!Z.includes("node_modules/")},nl=function(Z){const Y=/^\s*[-]{4,}$/,J=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return(X)=>{const $=X.match(J);if($){let W,G,K,Q,z;if($[1]){K=$[1];let q=K.lastIndexOf(".");if(K[q-1]===".")q--;if(q>0){W=K.slice(0,q),G=K.slice(q+1);const V=W.indexOf(".Module");if(V>0)K=K.slice(V+1),W=W.slice(0,V)}Q=void 0}if(G)Q=W,z=G;if(G==="<anonymous>")z=void 0,K=void 0;if(K===void 0)z=z||"<anonymous>",K=Q?`${Q}.${z}`:z;let H=$[2]&&$[2].startsWith("file://")?$[2].slice(7):$[2];const F=$[5]==="native";if(!H&&$[5]&&!F)H=$[5];return{filename:H,module:Z?Z(H):void 0,function:K,lineno:parseInt($[3],10)||void 0,colno:parseInt($[4],10)||void 0,in_app:sM1(H,F)}}if(X.match(Y))return{filename:X};return}};var pK=function(...Z){const Y=Z.sort((J,X)=>J[0]-X[0]).map((J)=>J[1]);return(J,X=0)=>{const $=[],W=J.split("\n");for(let G=X;G<W.length;G++){const K=W[G];if(K.length>1024)continue;const Q=al.test(K)?K.replace(al,"$1"):K;if(Q.match(/\S*Error: /))continue;for(let z of Y){const H=z(Q);if(H){$.push(H);break}}if($.length>=rl)break}return tl($)}},RR=function(Z){if(Array.isArray(Z))return pK(...Z);return Z},tl=function(Z){if(!Z.length)return[];const Y=Array.from(Z);if(/sentryWrapped/.test(Y[Y.length-1].function||""))Y.pop();if(Y.reverse(),sl.test(Y[Y.length-1].function||"")){if(Y.pop(),sl.test(Y[Y.length-1].function||""))Y.pop()}return Y.slice(0,rl).map((J)=>({...J,filename:J.filename||Y[Y.length-1].filename,function:J.function||"?"}))},U3=function(Z){try{if(!Z||typeof Z!=="function")return wR;return Z.name||wR}catch(Y){return wR}},MR=function(Z){return[90,nl(Z)]},rl=50,al=/\(error: (.*)\)/,sl=/captureMessage|captureException/,wR="<anonymous>";var gY=function(Z,Y){iK[Z]=iK[Z]||[],iK[Z].push(Y)};var bY=function(Z,Y){if(!ol[Z])Y(),ol[Z]=!0},vY=function(Z,Y){const J=Z&&iK[Z];if(!J)return;for(let X of J)try{X(Y)}catch($){n7&&f.error(`Error while triggering instrumentation handler.\nType: ${Z}\nName: ${U3(X)}\nError:`,$)}},iK={},ol={};var AR=function(Z){gY("console",Z),bY("console",rM1)},rM1=function(){if(!("console"in C1))return;V3.forEach(function(Z){if(!(Z in C1.console))return;I0(C1.console,Z,function(Y){return fY[Z]=Y,function(...J){vY("console",{args:J,level:Z});const $=fY[Z];$&&$.apply(C1.console,J)}})})};var q0=function(){const Z=C1,Y=Z.crypto||Z.msCrypto;let J=()=>Math.random()*16;try{if(Y&&Y.randomUUID)return Y.randomUUID().replace(/-/g,"");if(Y&&Y.getRandomValues)J=()=>Y.getRandomValues(new Uint8Array(1))[0]}catch(X){}return([1e7]+1000+4000+8000+100000000000).replace(/[018]/g,(X)=>(X^(J()&15)>>X/4).toString(16))},el=function(Z){return Z.exception&&Z.exception.values?Z.exception.values[0]:void 0},C4=function(Z){const{message:Y,event_id:J}=Z;if(Y)return Y;const X=el(Z);if(X){if(X.type&&X.value)return`${X.type}: ${X.value}`;return X.type||X.value||J||"<unknown>"}return J||"<unknown>"},BR=function(Z,Y,J){const X=Z.exception=Z.exception||{},$=X.values=X.values||[],W=$[0]=$[0]||{};if(!W.value)W.value=Y||"";if(!W.type)W.type=J||"Error"},L3=function(Z,Y){const J=el(Z);if(!J)return;const X={type:"generic",handled:!0},$=J.mechanism;if(J.mechanism={...X,...$,...Y},Y&&"data"in Y){const W={...$&&$.data,...Y.data};J.mechanism.data=W}},NR=function(Z){const Y=Z.match(tM1)||[],J=parseInt(Y[1],10),X=parseInt(Y[2],10),$=parseInt(Y[3],10);return{buildmetadata:Y[5],major:isNaN(J)?void 0:J,minor:isNaN(X)?void 0:X,patch:isNaN($)?void 0:$,prerelease:Y[4]}},DR=function(Z,Y,J=5){if(Y.lineno===void 0)return;const X=Z.length,$=Math.max(Math.min(X-1,Y.lineno-1),0);Y.pre_context=Z.slice(Math.max(0,$-J),$).map((W)=>H3(W,0)),Y.context_line=H3(Z[Math.min(X-1,$)],Y.colno||0),Y.post_context=Z.slice(Math.min($+1,X),$+1+J).map((W)=>H3(W,0))},nK=function(Z){if(Z&&Z.__sentry_captured__)return!0;try{yY(Z,"__sentry_captured__",!0)}catch(Y){}return!1},j5=function(Z){return Array.isArray(Z)?Z:[Z]},tM1=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;var IR=function(Z){gY("error",Z),bY("error",oM1)},oM1=function(){aK=C1.onerror,C1.onerror=function(Z,Y,J,X,$){if(vY("error",{column:X,error:$,line:J,msg:Z,url:Y}),aK&&!aK.__SENTRY_LOADER__)return aK.apply(this,arguments);return!1},C1.onerror.__SENTRY_INSTRUMENTED__=!0},aK=null;var PR=function(Z){gY("unhandledrejection",Z),bY("unhandledrejection",eM1)},eM1=function(){sK=C1.onunhandledrejection,C1.onunhandledrejection=function(Z){if(vY("unhandledrejection",Z),sK&&!sK.__SENTRY_LOADER__)return sK.apply(this,arguments);return!0},C1.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0},sK=null;var Zp=function(){return typeof __SENTRY_BROWSER_BUNDLE__!=="undefined"&&!!__SENTRY_BROWSER_BUNDLE__};var jR=function(){return!Zp()&&Object.prototype.toString.call(typeof process!=="undefined"?process:0)==="[object process]"},E5=function(Z,Y){return Z.require(Y)},n6=function(Z){let Y;try{Y=E5(TR,Z)}catch(J){}try{const{cwd:J}=E5(TR,"process");Y=E5(TR,`${J()}/node_modules/${Z}`)}catch(J){}return Y};var Yp=function(){const Z=typeof WeakSet==="function",Y=Z?new WeakSet:[];function J($){if(Z){if(Y.has($))return!0;return Y.add($),!1}for(let W=0;W<Y.length;W++)if(Y[W]===$)return!0;return Y.push($),!1}function X($){if(Z)Y.delete($);else for(let W=0;W<Y.length;W++)if(Y[W]===$){Y.splice(W,1);break}}return[J,X]};var M6=function(Z,Y=100,J=Infinity){try{return rK("",Z,Y,J)}catch(X){return{ERROR:`**non-serializable** (${X})`}}},tK=function(Z,Y=3,J=102400){const X=M6(Z,Y);if(XA1(X)>J)return tK(Z,Y-1,J);return X},rK=function(Z,Y,J=Infinity,X=Infinity,$=Yp()){const[W,G]=$;if(Y==null||["number","boolean","string"].includes(typeof Y)&&!z3(Y))return Y;const K=ZA1(Z,Y);if(!K.startsWith("[object "))return K;if(Y.__sentry_skip_normalization__)return Y;const Q=typeof Y.__sentry_override_normalization_depth__==="number"?Y.__sentry_override_normalization_depth__:J;if(Q===0)return K.replace("object ","");if(W(Y))return"[Circular ~]";const z=Y;if(z&&typeof z.toJSON==="function")try{const V=z.toJSON();return rK("",V,Q-1,X,$)}catch(V){}const H=Array.isArray(Y)?[]:{};let F=0;const q=lK(Y);for(let V in q){if(!Object.prototype.hasOwnProperty.call(q,V))continue;if(F>=X){H[V]="[MaxProperties ~]";break}const U=q[V];H[V]=rK(V,U,Q-1,X,$),F++}return G(Y),H},ZA1=function(Z,Y){try{if(Z==="domain"&&Y&&typeof Y==="object"&&Y._events)return"[Domain]";if(Z==="domainEmitter")return"[DomainEmitter]";if(typeof global!=="undefined"&&Y===global)return"[Global]";if(typeof window!=="undefined"&&Y===window)return"[Window]";if(typeof document!=="undefined"&&Y===document)return"[Document]";if(uK(Y))return"[VueViewModel]";if(zR(Y))return"[SyntheticEvent]";if(typeof Y==="number"&&Y!==Y)return"[NaN]";if(typeof Y==="function")return`[Function: ${U3(Y)}]`;if(typeof Y==="symbol")return`[${String(Y)}]`;if(typeof Y==="bigint")return`[BigInt: ${String(Y)}]`;const J=YA1(Y);if(/^HTML(\w*)Element$/.test(J))return`[HTMLElement: ${J}]`;return`[object ${J}]`}catch(J){return`**non-serializable** (${J})`}},YA1=function(Z){const Y=Object.getPrototypeOf(Z);return Y?Y.constructor.name:"null prototype"},JA1=function(Z){return~-encodeURI(Z).split(/%..|./).length},XA1=function(Z){return JA1(JSON.stringify(Z))};var A6=function(Z){return new U8((Y)=>{Y(Z)})},h9=function(Z){return new U8((Y,J)=>{J(Z)})},O4;(function(Z){Z[Z.PENDING=0]="PENDING";const J=1;Z[Z.RESOLVED=J]="RESOLVED";const X=2;Z[Z.REJECTED=X]="REJECTED"})(O4||(O4={}));class U8{constructor(Z){U8.prototype.__init.call(this),U8.prototype.__init2.call(this),U8.prototype.__init3.call(this),U8.prototype.__init4.call(this),this._state=O4.PENDING,this._handlers=[];try{Z(this._resolve,this._reject)}catch(Y){this._reject(Y)}}then(Z,Y){return new U8((J,X)=>{this._handlers.push([!1,($)=>{if(!Z)J($);else try{J(Z($))}catch(W){X(W)}},($)=>{if(!Y)X($);else try{J(Y($))}catch(W){X(W)}}]),this._executeHandlers()})}catch(Z){return this.then((Y)=>Y,Z)}finally(Z){return new U8((Y,J)=>{let X,$;return this.then((W)=>{if($=!1,X=W,Z)Z()},(W)=>{if($=!0,X=W,Z)Z()}).then(()=>{if($){J(X);return}Y(X)})})}__init(){this._resolve=(Z)=>{this._setResult(O4.RESOLVED,Z)}}__init2(){this._reject=(Z)=>{this._setResult(O4.REJECTED,Z)}}__init3(){this._setResult=(Z,Y)=>{if(this._state!==O4.PENDING)return;if(d0(Y)){Y.then(this._resolve,this._reject);return}this._state=Z,this._value=Y,this._executeHandlers()}}__init4(){this._executeHandlers=()=>{if(this._state===O4.PENDING)return;const Z=this._handlers.slice();this._handlers=[],Z.forEach((Y)=>{if(Y[0])return;if(this._state===O4.RESOLVED)Y[1](this._value);if(this._state===O4.REJECTED)Y[2](this._value);Y[0]=!0})}}}var ER=function(Z){const Y=[];function J(){return Z===void 0||Y.length<Z}function X(G){return Y.splice(Y.indexOf(G),1)[0]}function $(G){if(!J())return h9(new O8("Not adding Promise because buffer limit was reached."));const K=G();if(Y.indexOf(K)===-1)Y.push(K);return K.then(()=>X(K)).then(null,()=>X(K).then(null,()=>{})),K}function W(G){return new U8((K,Q)=>{let z=Y.length;if(!z)return K(!0);const H=setTimeout(()=>{if(G&&G>0)K(!1)},G);Y.forEach((F)=>{A6(F).then(()=>{if(!--z)clearTimeout(H),K(!0)},Q)})})}return{$:Y,add:$,drain:W}};var Jp=function(Z){const Y={};let J=0;while(J<Z.length){const X=Z.indexOf("=",J);if(X===-1)break;let $=Z.indexOf(";",J);if($===-1)$=Z.length;else if($<X){J=Z.lastIndexOf(";",X-1)+1;continue}const W=Z.slice(J,X).trim();if(Y[W]===void 0){let G=Z.slice(X+1,$).trim();if(G.charCodeAt(0)===34)G=G.slice(1,-1);try{Y[W]=G.indexOf("%")!==-1?decodeURIComponent(G):G}catch(K){Y[W]=G}}J=$+1}return Y};var w3=function(Z){if(!Z)return{};const Y=Z.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Y)return{};const J=Y[6]||"",X=Y[8]||"";return{host:Y[4],path:Y[5],protocol:Y[2],search:J,hash:X,relative:Y[5]+J+X}},m9=function(Z){return Z.split(/[\?#]/,1)[0]},hY=function(Z){return Z.split(/\\?\//).filter((Y)=>Y.length>0&&Y!==",").length},R3=function(Z){const{protocol:Y,host:J,path:X}=Z,$=J&&J.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${Y?`${Y}://`:""}${$}${X}`};var u9=function(Z,Y={}){const J=Z.method&&Z.method.toUpperCase();let X="",$="url";if(Y.customRoute||Z.route)X=Y.customRoute||`${Z.baseUrl||""}${Z.route&&Z.route.path}`,$="route";else if(Z.originalUrl||Z.url)X=m9(Z.originalUrl||Z.url||"");let W="";if(Y.method&&J)W+=J;if(Y.method&&Y.path)W+=" ";if(Y.path&&X)W+=X;return[W,$]},GA1=function(Z,Y){switch(Y){case"path":return u9(Z,{path:!0})[0];case"handler":return Z.route&&Z.route.stack&&Z.route.stack[0]&&Z.route.stack[0].name||"<anonymous>";case"methodPath":default:{const J=Z._reconstructedRoute?Z._reconstructedRoute:void 0;return u9(Z,{path:!0,method:!0,customRoute:J})[0]}}},KA1=function(Z,Y){const J={};return(Array.isArray(Y)?Y:Xp).forEach(($)=>{if(Z&&$ in Z)J[$]=Z[$]}),J},CR=function(Z,Y){const{include:J=WA1,deps:X}=Y||{},$={},W=Z.headers||{},G=Z.method,K=Z.hostname||Z.host||W.host||"<no host>",Q=Z.protocol==="https"||Z.socket&&Z.socket.encrypted?"https":"http",z=Z.originalUrl||Z.url||"",H=z.startsWith(Q)?z:`${Q}://${K}${z}`;return J.forEach((F)=>{switch(F){case"headers":{if($.headers=W,!J.includes("cookies"))delete $.headers.cookie;break}case"method":{$.method=G;break}case"url":{$.url=H;break}case"cookies":{$.cookies=Z.cookies||W.cookie&&Jp(W.cookie)||{};break}case"query_string":{$.query_string=QA1(Z,X);break}case"data":{if(G==="GET"||G==="HEAD")break;if(Z.body!==void 0)$.data=c7(Z.body)?Z.body:JSON.stringify(M6(Z.body));break}default:if({}.hasOwnProperty.call(Z,F))$[F]=Z[F]}}),$},OR=function(Z,Y,J){const X={...$A1,...J&&J.include};if(X.request){const $=Array.isArray(X.request)?CR(Y,{include:X.request,deps:J&&J.deps}):CR(Y,{deps:J&&J.deps});Z.request={...Z.request,...$}}if(X.user){const $=Y.user&&R6(Y.user)?KA1(Y.user,X.user):{};if(Object.keys($).length)Z.user={...Z.user,...$}}if(X.ip){const $=Y.ip||Y.socket&&Y.socket.remoteAddress;if($)Z.user={...Z.user,ip_address:$}}if(X.transaction&&!Z.transaction)Z.transaction=GA1(Y,X.transaction);return Z},QA1=function(Z,Y){let J=Z.originalUrl||Z.url||"";if(!J)return;if(J.startsWith("/"))J=`http://dogs.are.great${J}`;try{return Z.query||typeof URL!==void 0&&new URL(J).search.slice(1)||Y&&Y.url&&Y.url.parse(J).query||void 0}catch(X){return}};var $A1={ip:!1,request:!0,transaction:!0,user:!0},WA1=["cookies","data","headers","method","query_string","url"],Xp=["id","username","email"];var SR=function(Z){return Z==="warn"?"warning":$p.includes(Z)?Z:"log"},$p=["fatal","error","warning","log","info","debug"];var zA1=function(){const{performance:Z}=Gp;if(!Z||!Z.now)return;const Y=Date.now()-Z.now();return{now:()=>Z.now(),timeOrigin:Y}},HA1=function(){try{return E5(qA1,"perf_hooks").performance}catch(Z){return}},Gp=F3(),_R={nowSeconds:()=>Date.now()/1000},kR=jR()?HA1():zA1(),Wp=kR===void 0?_R:{nowSeconds:()=>(kR.timeOrigin+kR.now())/1000},d9=_R.nowSeconds.bind(_R),c9=Wp.nowSeconds.bind(Wp);var M3,FA1=(()=>{const{performance:Z}=Gp;if(!Z||!Z.now){M3="none";return}const Y=3600000,J=Z.now(),X=Date.now(),$=Z.timeOrigin?Math.abs(Z.timeOrigin+J-X):Y,W=$<Y,G=Z.timing&&Z.timing.navigationStart,Q=typeof G==="number"?Math.abs(G+J-X):Y,z=Q<Y;if(W||z)if($<=Q)return M3="timeOrigin",Z.timeOrigin;else return M3="navigationStart",G;return M3="dateNow",X})();var fR=function(Z){if(!c7(Z)&&!Array.isArray(Z))return;let Y={};if(Array.isArray(Z))Y=Z.reduce((X,$)=>{const W=Kp($);return{...X,...W}},{});else{if(!Z)return;Y=Kp(Z)}const J=Object.entries(Y).reduce((X,[$,W])=>{if($.match(Qp)){const G=$.slice(xR.length);X[G]=W}return X},{});if(Object.keys(J).length>0)return J;else return},mY=function(Z){if(!Z)return;const Y=Object.entries(Z).reduce((J,[X,$])=>{if($)J[`${xR}${X}`]=$;return J},{});return VA1(Y)},Kp=function(Z){return Z.split(",").map((Y)=>Y.split("=").map((J)=>decodeURIComponent(J.trim()))).reduce((Y,[J,X])=>{return Y[J]=X,Y},{})},VA1=function(Z){if(Object.keys(Z).length===0)return;return Object.entries(Z).reduce((Y,[J,X],$)=>{const W=`${encodeURIComponent(J)}=${encodeURIComponent(X)}`,G=$===0?W:`${Y},${W}`;if(G.length>zp)return n7&&f.warn(`Not adding key: ${J} with val: ${X} to baggage header due to exceeding baggage size limits.`),Y;else return G},"")};var xR="sentry-",Qp=/^sentry-/,zp=8192;var Fp=function(Z){if(!Z)return;const Y=Z.match(Hp);if(!Y)return;let J;if(Y[3]==="1")J=!0;else if(Y[3]==="0")J=!1;return{traceId:Y[1],parentSampled:J,parentSpanId:Y[2]}},A3=function(Z,Y){const J=Fp(Z),X=fR(Y),{traceId:$,parentSpanId:W,parentSampled:G}=J||{},K={traceId:$||q0(),spanId:q0().substring(16),sampled:G};if(W)K.parentSpanId=W;if(X)K.dsc=X;return{traceparentData:J,dynamicSamplingContext:X,propagationContext:K}},l9=function(Z=q0(),Y=q0().substring(16),J){let X="";if(J!==void 0)X=J?"-1":"-0";return`${Z}-${Y}${X}`},Hp=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var C5=function(Z,Y=[]){return[Z,Y]},gR=function(Z,Y){const[J,X]=Z;return[J,[...X,Y]]},oK=function(Z,Y){const J=Z[1];for(let X of J){const $=X[0].type;if(Y(X,$))return!0}return!1};var yR=function(Z,Y){return(Y||new TextEncoder).encode(Z)},B3=function(Z,Y){const[J,X]=Z;let $=JSON.stringify(J);function W(G){if(typeof $==="string")$=typeof G==="string"?$+G:[yR($,Y),G];else $.push(typeof G==="string"?yR(G,Y):G)}for(let G of X){const[K,Q]=G;if(W(`\n${JSON.stringify(K)}\n`),typeof Q==="string"||Q instanceof Uint8Array)W(Q);else{let z;try{z=JSON.stringify(Q)}catch(H){z=JSON.stringify(M6(Q))}W(z)}}return typeof $==="string"?$:UA1($)},UA1=function(Z){const Y=Z.reduce(($,W)=>$+W.length,0),J=new Uint8Array(Y);let X=0;for(let $ of Z)J.set($,X),X+=$.length;return J};var bR=function(Z,Y){const J=typeof Z.data==="string"?yR(Z.data,Y):Z.data;return[E0({type:"attachment",length:J.length,filename:Z.filename,content_type:Z.contentType,attachment_type:Z.attachmentType}),J]},eK=function(Z){return LA1[Z]},ZQ=function(Z){if(!Z||!Z.sdk)return;const{name:Y,version:J}=Z.sdk;return{name:Y,version:J}},vR=function(Z,Y,J,X){const $=Z.sdkProcessingMetadata&&Z.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:Z.event_id,sent_at:(new Date()).toISOString(),...Y&&{sdk:Y},...!!J&&X&&{dsn:T5(X)},...$&&{trace:E0({...$})}}},LA1={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};var qp=function(Z,Y=Date.now()){const J=parseInt(`${Z}`,10);if(!isNaN(J))return J*1000;const X=Date.parse(`${Z}`);if(!isNaN(X))return X-Y;return 60000},Vp=function(Z,Y){return Z[Y]||Z.all||0},hR=function(Z,Y,J=Date.now()){return Vp(Z,Y)>J},mR=function(Z,{statusCode:Y,headers:J},X=Date.now()){const $={...Z},W=J&&J["x-sentry-rate-limits"],G=J&&J["retry-after"];if(W)for(let K of W.trim().split(",")){const[Q,z]=K.split(":",2),H=parseInt(Q,10),F=(!isNaN(H)?H:60)*1000;if(!z)$.all=X+F;else for(let q of z.split(";"))$[q]=X+F}else if(G)$.all=X+qp(G,X);else if(Y===429)$.all=X+60000;return $};var uR=function(Z,Y){return Z(Y.stack||"",1)},YQ=function(Z,Y){const J={type:Y.name||Y.constructor.name,value:Y.message},X=uR(Z,Y);if(X.length)J.stacktrace={frames:X};return J},wA1=function(Z){if("name"in Z&&typeof Z.name==="string"){let Y=`'${Z.name}' captured as exception`;if("message"in Z&&typeof Z.message==="string")Y+=` with message '${Z.message}'`;return Y}else if("message"in Z&&typeof Z.message==="string")return Z.message;else return`Object captured as exception with keys: ${LR(Z)}`},dR=function(Z,Y,J,X){let $=J;const G=X&&X.data&&X.data.mechanism||{handled:!0,type:"generic"};if(!K3(J)){if(R6(J)){const Q=Z(),z=Q.getClient(),H=z&&z.getOptions().normalizeDepth;Q.configureScope((q)=>{q.setExtra("__serialized__",tK(J,H))});const F=wA1(J);$=X&&X.syntheticException||new Error(F),$.message=F}else $=X&&X.syntheticException||new Error(J),$.message=J;G.synthetic=!0}const K={exception:{values:[YQ(Y,$)]}};return BR(K,void 0,void 0),L3(K,G),{...K,event_id:X&&X.event_id}},cR=function(Z,Y,J="info",X,$){const W={event_id:X&&X.event_id,level:J,message:Y};if($&&X&&X.syntheticException){const G=uR(Z,X.syntheticException);if(G.length)W.exception={values:[{value:Y,stacktrace:{frames:G}}]}}return W};class a6{constructor(Z){this._maxSize=Z,this._cache=new Map}get size(){return this._cache.size}get(Z){const Y=this._cache.get(Z);if(Y===void 0)return;return this._cache.delete(Z),this._cache.set(Z,Y),Y}set(Z,Y){if(this._cache.size>=this._maxSize)this._cache.delete(this._cache.keys().next().value);this._cache.set(Z,Y)}remove(Z){const Y=this._cache.get(Z);if(Y)this._cache.delete(Z);return Y}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const Z=[];return this._cache.forEach((Y)=>Z.push(Y)),Z}}var N3=function(Z,Y){return Z!=null?Z:Y()};var h=function(Z){let Y=void 0,J=Z[0],X=1;while(X<Z.length){const $=Z[X],W=Z[X+1];if(X+=2,($==="optionalAccess"||$==="optionalCall")&&J==null)return;if($==="access"||$==="optionalAccess")Y=J,J=W(J);else if($==="call"||$==="optionalCall")J=W((...G)=>J.call(Y,...G)),Y=void 0}return J};var e=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var uY="production";var D3=function(){return q3("globalEventProcessors",()=>[])},lR=function(Z){D3().push(Z)},dY=function(Z,Y,J,X=0){return new U8(($,W)=>{const G=Z[X];if(Y===null||typeof G!=="function")$(Y);else{const K=G({...Y},J);if(e&&G.id&&K===null&&f.log(`Event processor "${G.id}" dropped event`),d0(K))K.then((Q)=>dY(Z,Q,J,X+1).then($)).then(null,W);else dY(Z,K,J,X+1).then($).then(null,W)}})};var Up=function(Z){const Y=c9(),J={sid:q0(),init:!0,timestamp:Y,started:Y,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>RA1(J)};if(Z)S4(J,Z);return J},S4=function(Z,Y={}){if(Y.user){if(!Z.ipAddress&&Y.user.ip_address)Z.ipAddress=Y.user.ip_address;if(!Z.did&&!Y.did)Z.did=Y.user.id||Y.user.email||Y.user.username}if(Z.timestamp=Y.timestamp||c9(),Y.abnormal_mechanism)Z.abnormal_mechanism=Y.abnormal_mechanism;if(Y.ignoreDuration)Z.ignoreDuration=Y.ignoreDuration;if(Y.sid)Z.sid=Y.sid.length===32?Y.sid:q0();if(Y.init!==void 0)Z.init=Y.init;if(!Z.did&&Y.did)Z.did=`${Y.did}`;if(typeof Y.started==="number")Z.started=Y.started;if(Z.ignoreDuration)Z.duration=void 0;else if(typeof Y.duration==="number")Z.duration=Y.duration;else{const J=Z.timestamp-Z.started;Z.duration=J>=0?J:0}if(Y.release)Z.release=Y.release;if(Y.environment)Z.environment=Y.environment;if(!Z.ipAddress&&Y.ipAddress)Z.ipAddress=Y.ipAddress;if(!Z.userAgent&&Y.userAgent)Z.userAgent=Y.userAgent;if(typeof Y.errors==="number")Z.errors=Y.errors;if(Y.status)Z.status=Y.status},Lp=function(Z,Y){let J={};if(Y)J={status:Y};else if(Z.status==="ok")J={status:"exited"};S4(Z,J)},RA1=function(Z){return E0({sid:`${Z.sid}`,init:Z.init,started:new Date(Z.started*1000).toISOString(),timestamp:new Date(Z.timestamp*1000).toISOString(),status:Z.status,errors:Z.errors,did:typeof Z.did==="number"||typeof Z.did==="string"?`${Z.did}`:void 0,duration:Z.duration,abnormal_mechanism:Z.abnormal_mechanism,attrs:{release:Z.release,environment:Z.environment,ip_address:Z.ipAddress,user_agent:Z.userAgent}})};var wp=function(){return{traceId:q0(),spanId:q0().substring(16)}},MA1=100;class s6{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=wp()}static clone(Z){const Y=new s6;if(Z)Y._breadcrumbs=[...Z._breadcrumbs],Y._tags={...Z._tags},Y._extra={...Z._extra},Y._contexts={...Z._contexts},Y._user=Z._user,Y._level=Z._level,Y._span=Z._span,Y._session=Z._session,Y._transactionName=Z._transactionName,Y._fingerprint=Z._fingerprint,Y._eventProcessors=[...Z._eventProcessors],Y._requestSession=Z._requestSession,Y._attachments=[...Z._attachments],Y._sdkProcessingMetadata={...Z._sdkProcessingMetadata},Y._propagationContext={...Z._propagationContext};return Y}addScopeListener(Z){this._scopeListeners.push(Z)}addEventProcessor(Z){return this._eventProcessors.push(Z),this}setUser(Z){if(this._user=Z||{},this._session)S4(this._session,{user:Z});return this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(Z){return this._requestSession=Z,this}setTags(Z){return this._tags={...this._tags,...Z},this._notifyScopeListeners(),this}setTag(Z,Y){return this._tags={...this._tags,[Z]:Y},this._notifyScopeListeners(),this}setExtras(Z){return this._extra={...this._extra,...Z},this._notifyScopeListeners(),this}setExtra(Z,Y){return this._extra={...this._extra,[Z]:Y},this._notifyScopeListeners(),this}setFingerprint(Z){return this._fingerprint=Z,this._notifyScopeListeners(),this}setLevel(Z){return this._level=Z,this._notifyScopeListeners(),this}setTransactionName(Z){return this._transactionName=Z,this._notifyScopeListeners(),this}setContext(Z,Y){if(Y===null)delete this._contexts[Z];else this._contexts[Z]=Y;return this._notifyScopeListeners(),this}setSpan(Z){return this._span=Z,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const Z=this.getSpan();return Z&&Z.transaction}setSession(Z){if(!Z)delete this._session;else this._session=Z;return this._notifyScopeListeners(),this}getSession(){return this._session}update(Z){if(!Z)return this;if(typeof Z==="function"){const Y=Z(this);return Y instanceof s6?Y:this}if(Z instanceof s6){if(this._tags={...this._tags,...Z._tags},this._extra={...this._extra,...Z._extra},this._contexts={...this._contexts,...Z._contexts},Z._user&&Object.keys(Z._user).length)this._user=Z._user;if(Z._level)this._level=Z._level;if(Z._fingerprint)this._fingerprint=Z._fingerprint;if(Z._requestSession)this._requestSession=Z._requestSession;if(Z._propagationContext)this._propagationContext=Z._propagationContext}else if(R6(Z)){if(Z=Z,this._tags={...this._tags,...Z.tags},this._extra={...this._extra,...Z.extra},this._contexts={...this._contexts,...Z.contexts},Z.user)this._user=Z.user;if(Z.level)this._level=Z.level;if(Z.fingerprint)this._fingerprint=Z.fingerprint;if(Z.requestSession)this._requestSession=Z.requestSession;if(Z.propagationContext)this._propagationContext=Z.propagationContext}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=wp(),this}addBreadcrumb(Z,Y){const J=typeof Y==="number"?Y:MA1;if(J<=0)return this;const X={timestamp:d9(),...Z},$=this._breadcrumbs;return $.push(X),this._breadcrumbs=$.length>J?$.slice(-J):$,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(Z){return this._attachments.push(Z),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(Z,Y={},J){if(this._extra&&Object.keys(this._extra).length)Z.extra={...this._extra,...Z.extra};if(this._tags&&Object.keys(this._tags).length)Z.tags={...this._tags,...Z.tags};if(this._user&&Object.keys(this._user).length)Z.user={...this._user,...Z.user};if(this._contexts&&Object.keys(this._contexts).length)Z.contexts={...this._contexts,...Z.contexts};if(this._level)Z.level=this._level;if(this._transactionName)Z.transaction=this._transactionName;if(this._span){Z.contexts={trace:this._span.getTraceContext(),...Z.contexts};const W=this._span.transaction;if(W){Z.sdkProcessingMetadata={dynamicSamplingContext:W.getDynamicSamplingContext(),...Z.sdkProcessingMetadata};const G=W.name;if(G)Z.tags={transaction:G,...Z.tags}}}this._applyFingerprint(Z);const X=this._getBreadcrumbs(),$=[...Z.breadcrumbs||[],...X];return Z.breadcrumbs=$.length>0?$:void 0,Z.sdkProcessingMetadata={...Z.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},dY([...J||[],...D3(),...this._eventProcessors],Z,Y)}setSDKProcessingMetadata(Z){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...Z},this}setPropagationContext(Z){return this._propagationContext=Z,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){if(!this._notifyingListeners)this._notifyingListeners=!0,this._scopeListeners.forEach((Z)=>{Z(this)}),this._notifyingListeners=!1}_applyFingerprint(Z){if(Z.fingerprint=Z.fingerprint?j5(Z.fingerprint):[],this._fingerprint)Z.fingerprint=Z.fingerprint.concat(this._fingerprint);if(Z.fingerprint&&!Z.fingerprint.length)delete Z.fingerprint}}var D7=function(){return C1.__SENTRY__=C1.__SENTRY__||{extensions:{},hub:void 0},C1},JQ=function(Z){const Y=D7(),J=r6(Y);return pY(Y,Z),J},z1=function(){const Z=D7();if(Z.__SENTRY__&&Z.__SENTRY__.acs){const Y=Z.__SENTRY__.acs.getCurrentHub();if(Y)return Y}return Rp(Z)},Rp=function(Z=D7()){if(!Mp(Z)||r6(Z).isOlderThan(pR))pY(Z,new cY);return r6(Z)},lY=function(Z,Y=Rp()){if(!Mp(Z)||r6(Z).isOlderThan(pR)){const J=Y.getStackTop();pY(Z,new cY(J.client,s6.clone(J.scope)))}},I3=function(Z){const Y=D7();Y.__SENTRY__=Y.__SENTRY__||{},Y.__SENTRY__.acs=Z},XQ=function(Z,Y={}){const J=D7();if(J.__SENTRY__&&J.__SENTRY__.acs)return J.__SENTRY__.acs.runWithAsyncContext(Z,Y);return Z()},Mp=function(Z){return!!(Z&&Z.__SENTRY__&&Z.__SENTRY__.hub)},r6=function(Z){return q3("hub",()=>new cY,Z)},pY=function(Z,Y){if(!Z)return!1;const J=Z.__SENTRY__=Z.__SENTRY__||{};return J.hub=Y,!0},pR=4,AA1=100;class cY{constructor(Z,Y=new s6,J=pR){if(this._version=J,this._stack=[{scope:Y}],Z)this.bindClient(Z)}isOlderThan(Z){return this._version<Z}bindClient(Z){const Y=this.getStackTop();if(Y.client=Z,Z&&Z.setupIntegrations)Z.setupIntegrations()}pushScope(){const Z=s6.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:Z}),Z}popScope(){if(this.getStack().length<=1)return!1;return!!this.getStack().pop()}withScope(Z){const Y=this.pushScope();try{Z(Y)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(Z,Y){const J=this._lastEventId=Y&&Y.event_id?Y.event_id:q0(),X=new Error("Sentry syntheticException");return this._withClient(($,W)=>{$.captureException(Z,{originalException:Z,syntheticException:X,...Y,event_id:J},W)}),J}captureMessage(Z,Y,J){const X=this._lastEventId=J&&J.event_id?J.event_id:q0(),$=new Error(Z);return this._withClient((W,G)=>{W.captureMessage(Z,Y,{originalException:Z,syntheticException:$,...J,event_id:X},G)}),X}captureEvent(Z,Y){const J=Y&&Y.event_id?Y.event_id:q0();if(!Z.type)this._lastEventId=J;return this._withClient((X,$)=>{X.captureEvent(Z,{...Y,event_id:J},$)}),J}lastEventId(){return this._lastEventId}addBreadcrumb(Z,Y){const{scope:J,client:X}=this.getStackTop();if(!X)return;const{beforeBreadcrumb:$=null,maxBreadcrumbs:W=AA1}=X.getOptions&&X.getOptions()||{};if(W<=0)return;const K={timestamp:d9(),...Z},Q=$?C8(()=>$(K,Y)):K;if(Q===null)return;if(X.emit)X.emit("beforeAddBreadcrumb",Q,Y);J.addBreadcrumb(Q,W)}setUser(Z){this.getScope().setUser(Z)}setTags(Z){this.getScope().setTags(Z)}setExtras(Z){this.getScope().setExtras(Z)}setTag(Z,Y){this.getScope().setTag(Z,Y)}setExtra(Z,Y){this.getScope().setExtra(Z,Y)}setContext(Z,Y){this.getScope().setContext(Z,Y)}configureScope(Z){const{scope:Y,client:J}=this.getStackTop();if(J)Z(Y)}run(Z){const Y=JQ(this);try{Z(this)}finally{JQ(Y)}}getIntegration(Z){const Y=this.getClient();if(!Y)return null;try{return Y.getIntegration(Z)}catch(J){return e&&f.warn(`Cannot retrieve integration ${Z.id} from the current Hub`),null}}startTransaction(Z,Y){const J=this._callExtensionMethod("startTransaction",Z,Y);if(e&&!J)if(!this.getClient())f.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'");else f.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`);return J}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(Z=!1){if(Z)return this.endSession();this._sendSessionUpdate()}endSession(){const Y=this.getStackTop().scope,J=Y.getSession();if(J)Lp(J);this._sendSessionUpdate(),Y.setSession()}startSession(Z){const{scope:Y,client:J}=this.getStackTop(),{release:X,environment:$=uY}=J&&J.getOptions()||{},{userAgent:W}=C1.navigator||{},G=Up({release:X,environment:$,user:Y.getUser(),...W&&{userAgent:W},...Z}),K=Y.getSession&&Y.getSession();if(K&&K.status==="ok")S4(K,{status:"exited"});return this.endSession(),Y.setSession(G),G}shouldSendDefaultPii(){const Z=this.getClient(),Y=Z&&Z.getOptions();return Boolean(Y&&Y.sendDefaultPii)}_sendSessionUpdate(){const{scope:Z,client:Y}=this.getStackTop(),J=Z.getSession();if(J&&Y&&Y.captureSession)Y.captureSession(J)}_withClient(Z){const{scope:Y,client:J}=this.getStackTop();if(J)Z(J,Y)}_callExtensionMethod(Z,...Y){const X=D7().__SENTRY__;if(X&&X.extensions&&typeof X.extensions[Z]==="function")return X.extensions[Z].apply(this,Y);e&&f.warn(`Extension method ${Z} couldn't be found, doing nothing.`)}}var iR=function(Z){return(Z||z1()).getScope().getTransaction()};var Bp=function(){if(Ap)return;Ap=!0,IR(nR),PR(nR)},nR=function(){const Z=iR();if(Z)e&&f.log("[Tracing] Transaction: internal_error -> Global error occured"),Z.setStatus("internal_error")},Ap=!1;nR.tag="sentry_tracingErrorCallback";var Np=function(Z){if(Z<400&&Z>=100)return"ok";if(Z>=400&&Z<500)switch(Z){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(Z>=500&&Z<600)switch(Z){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"};class aR{constructor(Z=1000){this._maxlen=Z,this.spans=[]}add(Z){if(this.spans.length>this._maxlen)Z.spanRecorder=void 0;else this.spans.push(Z)}}class $Q{constructor(Z={}){if(this.traceId=Z.traceId||q0(),this.spanId=Z.spanId||q0().substring(16),this.startTimestamp=Z.startTimestamp||c9(),this.tags=Z.tags||{},this.data=Z.data||{},this.instrumenter=Z.instrumenter||"sentry",this.origin=Z.origin||"manual",Z.parentSpanId)this.parentSpanId=Z.parentSpanId;if("sampled"in Z)this.sampled=Z.sampled;if(Z.op)this.op=Z.op;if(Z.description)this.description=Z.description;if(Z.name)this.description=Z.name;if(Z.status)this.status=Z.status;if(Z.endTimestamp)this.endTimestamp=Z.endTimestamp}get name(){return this.description||""}set name(Z){this.setName(Z)}startChild(Z){const Y=new $Q({...Z,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(Y.spanRecorder=this.spanRecorder,Y.spanRecorder)Y.spanRecorder.add(Y);if(Y.transaction=this.transaction,e&&Y.transaction){const J=Z&&Z.op||"< unknown op >",X=Y.transaction.name||"< unknown name >",$=Y.transaction.spanId,W=`[Tracing] Starting '${J}' span on transaction '${X}' (${$}).`;Y.transaction.metadata.spanMetadata[Y.spanId]={logMessage:W},f.log(W)}return Y}setTag(Z,Y){return this.tags={...this.tags,[Z]:Y},this}setData(Z,Y){return this.data={...this.data,[Z]:Y},this}setStatus(Z){return this.status=Z,this}setHttpStatus(Z){this.setTag("http.status_code",String(Z)),this.setData("http.response.status_code",Z);const Y=Np(Z);if(Y!=="unknown_error")this.setStatus(Y);return this}setName(Z){this.description=Z}isSuccess(){return this.status==="ok"}finish(Z){if(e&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:Y}=this.transaction.metadata.spanMetadata[this.spanId];if(Y)f.log(Y.replace("Starting","Finishing"))}this.endTimestamp=typeof Z==="number"?Z:c9()}toTraceparent(){return l9(this.traceId,this.spanId,this.sampled)}toContext(){return E0({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(Z){return this.data=Z.data||{},this.description=Z.description,this.endTimestamp=Z.endTimestamp,this.op=Z.op,this.parentSpanId=Z.parentSpanId,this.sampled=Z.sampled,this.spanId=Z.spanId||this.spanId,this.startTimestamp=Z.startTimestamp||this.startTimestamp,this.status=Z.status,this.tags=Z.tags||{},this.traceId=Z.traceId||this.traceId,this}getTraceContext(){return E0({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return E0({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}var I7=function(Z,Y,J){const X=Y.getOptions(),{publicKey:$}=Y.getDsn()||{},{segment:W}=J&&J.getUser()||{},G=E0({environment:X.environment||uY,release:X.release,user_segment:W,public_key:$,trace_id:Z});return Y.emit&&Y.emit("createDsc",G),G};class iY extends $Q{constructor(Z,Y){super(Z);delete this.description,this._measurements={},this._contexts={},this._hub=Y||z1(),this._name=Z.name||"",this.metadata={source:"custom",...Z.metadata,spanMetadata:{}},this._trimEnd=Z.trimEnd,this.transaction=this;const J=this.metadata.dynamicSamplingContext;if(J)this._frozenDynamicSamplingContext={...J}}get name(){return this._name}set name(Z){this.setName(Z)}setName(Z,Y="custom"){this._name=Z,this.metadata.source=Y}initSpanRecorder(Z=1000){if(!this.spanRecorder)this.spanRecorder=new aR(Z);this.spanRecorder.add(this)}setContext(Z,Y){if(Y===null)delete this._contexts[Z];else this._contexts[Z]=Y}setMeasurement(Z,Y,J=""){this._measurements[Z]={value:Y,unit:J}}setMetadata(Z){this.metadata={...this.metadata,...Z}}finish(Z){const Y=this._finishTransaction(Z);if(!Y)return;return this._hub.captureEvent(Y)}toContext(){const Z=super.toContext();return E0({...Z,name:this.name,trimEnd:this._trimEnd})}updateWithContext(Z){return super.updateWithContext(Z),this.name=Z.name||"",this._trimEnd=Z.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const Z=this._hub||z1(),Y=Z.getClient();if(!Y)return{};const J=Z.getScope(),X=I7(this.traceId,Y,J),$=this.metadata.sampleRate;if($!==void 0)X.sample_rate=`${$}`;const W=this.metadata.source;if(W&&W!=="url")X.transaction=this.name;if(this.sampled!==void 0)X.sampled=String(this.sampled);return X}setHub(Z){this._hub=Z}_finishTransaction(Z){if(this.endTimestamp!==void 0)return;if(!this.name)e&&f.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>";super.finish(Z);const Y=this._hub.getClient();if(Y&&Y.emit)Y.emit("finishTransaction",this);if(this.sampled!==!0){if(e&&f.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),Y)Y.recordDroppedEvent("sample_rate","transaction");return}const J=this.spanRecorder?this.spanRecorder.spans.filter((G)=>G!==this&&G.endTimestamp):[];if(this._trimEnd&&J.length>0)this.endTimestamp=J.reduce((G,K)=>{if(G.endTimestamp&&K.endTimestamp)return G.endTimestamp>K.endTimestamp?G:K;return G}).endTimestamp;const X=this.metadata,$={contexts:{...this._contexts,trace:this.getTraceContext()},spans:J,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...X,dynamicSamplingContext:this.getDynamicSamplingContext()},...X.source&&{transaction_info:{source:X.source}}};if(Object.keys(this._measurements).length>0)e&&f.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),$.measurements=this._measurements;return e&&f.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),$}}var Ip=function(Z,Y,J,X,$){const{normalizeDepth:W=3,normalizeMaxBreadth:G=1000}=Z,K={...Y,event_id:Y.event_id||J.event_id||q0(),timestamp:Y.timestamp||d9()},Q=J.integrations||Z.integrations.map((q)=>q.name);if(BA1(K,Z),IA1(K,Q),Y.type===void 0)NA1(K,Z.stackParser);let z=X;if(J.captureContext)z=s6.clone(z).update(J.captureContext);if(J.mechanism)L3(K,J.mechanism);let H=A6(K);const F=$&&$.getEventProcessors?$.getEventProcessors():[];if(z){if(z.getAttachments){const q=[...J.attachments||[],...z.getAttachments()];if(q.length)J.attachments=q}H=z.applyToEvent(K,J,F)}else H=dY([...F,...D3()],K,J);return H.then((q)=>{if(q)DA1(q);if(typeof W==="number"&&W>0)return PA1(q,W,G);return q})},BA1=function(Z,Y){const{environment:J,release:X,dist:$,maxValueLength:W=250}=Y;if(!("environment"in Z))Z.environment="environment"in Y?J:uY;if(Z.release===void 0&&X!==void 0)Z.release=X;if(Z.dist===void 0&&$!==void 0)Z.dist=$;if(Z.message)Z.message=p7(Z.message,W);const G=Z.exception&&Z.exception.values&&Z.exception.values[0];if(G&&G.value)G.value=p7(G.value,W);const K=Z.request;if(K&&K.url)K.url=p7(K.url,W)},NA1=function(Z,Y){const J=C1._sentryDebugIds;if(!J)return;let X;const $=Dp.get(Y);if($)X=$;else X=new Map,Dp.set(Y,X);const W=Object.keys(J).reduce((G,K)=>{let Q;const z=X.get(K);if(z)Q=z;else Q=Y(K),X.set(K,Q);for(let H=Q.length-1;H>=0;H--){const F=Q[H];if(F.filename){G[F.filename]=J[K];break}}return G},{});try{Z.exception.values.forEach((G)=>{G.stacktrace.frames.forEach((K)=>{if(K.filename)K.debug_id=W[K.filename]})})}catch(G){}},DA1=function(Z){const Y={};try{Z.exception.values.forEach((X)=>{X.stacktrace.frames.forEach(($)=>{if($.debug_id){if($.abs_path)Y[$.abs_path]=$.debug_id;else if($.filename)Y[$.filename]=$.debug_id;delete $.debug_id}})})}catch(X){}if(Object.keys(Y).length===0)return;Z.debug_meta=Z.debug_meta||{},Z.debug_meta.images=Z.debug_meta.images||[];const J=Z.debug_meta.images;Object.keys(Y).forEach((X)=>{J.push({type:"sourcemap",code_file:X,debug_id:Y[X]})})},IA1=function(Z,Y){if(Y.length>0)Z.sdk=Z.sdk||{},Z.sdk.integrations=[...Z.sdk.integrations||[],...Y]},PA1=function(Z,Y,J){if(!Z)return null;const X={...Z,...Z.breadcrumbs&&{breadcrumbs:Z.breadcrumbs.map(($)=>({...$,...$.data&&{data:M6($.data,Y,J)}}))},...Z.user&&{user:M6(Z.user,Y,J)},...Z.contexts&&{contexts:M6(Z.contexts,Y,J)},...Z.extra&&{extra:M6(Z.extra,Y,J)}};if(Z.contexts&&Z.contexts.trace&&X.contexts){if(X.contexts.trace=Z.contexts.trace,Z.contexts.trace.data)X.contexts.trace.data=M6(Z.contexts.trace.data,Y,J)}if(Z.spans)X.spans=Z.spans.map(($)=>{if($.data)$.data=M6($.data,Y,J);return $});return X},Pp=function(Z){if(!Z)return;if(TA1(Z))return{captureContext:Z};if(EA1(Z))return{captureContext:Z};return Z},TA1=function(Z){return Z instanceof s6||typeof Z==="function"},EA1=function(Z){return Object.keys(Z).some((Y)=>jA1.includes(Y))},Dp=new WeakMap,jA1=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];var p9=function(Z,Y){return z1().captureException(Z,Pp(Y))};var O5=function(){return z1().getClient()};var WQ=function(Z){if(typeof __SENTRY_TRACING__==="boolean"&&!__SENTRY_TRACING__)return!1;const Y=O5(),J=Z||Y&&Y.getOptions();return!!J&&(J.enableTracing||("tracesSampleRate"in J)||("tracesSampler"in J))};var Tp=function(Z,Y,J){if(!WQ(Y))return Z.sampled=!1,Z;if(Z.sampled!==void 0)return Z.setMetadata({sampleRate:Number(Z.sampled)}),Z;let X;if(typeof Y.tracesSampler==="function")X=Y.tracesSampler(J),Z.setMetadata({sampleRate:Number(X)});else if(J.parentSampled!==void 0)X=J.parentSampled;else if(typeof Y.tracesSampleRate!=="undefined")X=Y.tracesSampleRate,Z.setMetadata({sampleRate:Number(X)});else X=1,Z.setMetadata({sampleRate:X});if(!CA1(X))return e&&f.warn("[Tracing] Discarding transaction because of invalid sample rate."),Z.sampled=!1,Z;if(!X)return e&&f.log(`[Tracing] Discarding transaction because ${typeof Y.tracesSampler==="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),Z.sampled=!1,Z;if(Z.sampled=Math.random()<X,!Z.sampled)return e&&f.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(X)})`),Z;return e&&f.log(`[Tracing] starting ${Z.op} transaction - ${Z.name}`),Z},CA1=function(Z){if(z3(Z)||!(typeof Z==="number"||typeof Z==="boolean"))return e&&f.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(Z)} of type ${JSON.stringify(typeof Z)}.`),!1;if(Z<0||Z>1)return e&&f.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${Z}.`),!1;return!0};var OA1=function(){const Y=this.getScope().getSpan();return Y?{"sentry-trace":Y.toTraceparent()}:{}},SA1=function(Z,Y){const J=this.getClient(),X=J&&J.getOptions()||{},$=X.instrumenter||"sentry",W=Z.instrumenter||"sentry";if($!==W)e&&f.error(`A transaction was started with instrumenter=\`${W}\`, but the SDK is configured with the \`${$}\` instrumenter.
The transaction will not be sampled. Please use the ${$} instrumentation to start transactions.`),Z.sampled=!1;let G=new iY(Z,this);if(G=Tp(G,X,{parentSampled:Z.parentSampled,transactionContext:Z,...Y}),G.sampled)G.initSpanRecorder(X._experiments&&X._experiments.maxSpans);if(J&&J.emit)J.emit("startTransaction",G);return G};var jp=function(){const Z=D7();if(!Z.__SENTRY__)return;if(Z.__SENTRY__.extensions=Z.__SENTRY__.extensions||{},!Z.__SENTRY__.extensions.startTransaction)Z.__SENTRY__.extensions.startTransaction=SA1;if(!Z.__SENTRY__.extensions.traceHeaders)Z.__SENTRY__.extensions.traceHeaders=OA1;Bp()};var GQ=function(Z,Y,J=()=>{}){const X=Cp(Z),$=z1(),W=$.getScope(),G=W.getSpan(),K=Ep($,G,X);W.setSpan(K);function Q(){K&&K.finish(),$.getScope().setSpan(G)}let z;try{z=Y(K)}catch(H){throw K&&K.setStatus("internal_error"),J(H),Q(),H}if(d0(z))Promise.resolve(z).then(()=>{Q()},(H)=>{K&&K.setStatus("internal_error"),J(H),Q()});else Q();return z},KQ=function(Z,Y){const J=Cp(Z),X=z1(),$=X.getScope(),W=$.getSpan(),G=Ep(X,W,J);$.setSpan(G);function K(){G&&G.finish(),X.getScope().setSpan(W)}let Q;try{Q=Y(G)}catch(z){throw G&&G.setStatus("internal_error"),K(),z}if(d0(Q))Promise.resolve(Q).then(()=>{K()},()=>{G&&G.setStatus("internal_error"),K()});else K();return Q};var QQ=function({sentryTrace:Z,baggage:Y},J){const $=z1().getScope(),{traceparentData:W,dynamicSamplingContext:G,propagationContext:K}=A3(Z,Y);if($.setPropagationContext(K),e&&W)f.log(`[Tracing] Continuing trace ${W.traceId}.`);const Q={...W,metadata:E0({dynamicSamplingContext:W&&!G?{}:G})};if(!J)return Q;return J(Q)},Ep=function(Z,Y,J){if(!WQ())return;return Y?Y.startChild(J):Z.startTransaction(J)},Cp=function(Z){const Y={...Z};if(Y.name!==void 0&&Y.description===void 0)Y.description=Y.name;return Y};var kA1=function(Z,Y){if(!Y)return Z;return Z.sdk=Z.sdk||{},Z.sdk.name=Z.sdk.name||Y.name,Z.sdk.version=Z.sdk.version||Y.version,Z.sdk.integrations=[...Z.sdk.integrations||[],...Y.integrations||[]],Z.sdk.packages=[...Z.sdk.packages||[],...Y.packages||[]],Z},Op=function(Z,Y,J,X){const $=ZQ(J),W={sent_at:(new Date()).toISOString(),...$&&{sdk:$},...!!X&&Y&&{dsn:T5(Y)}},G="aggregates"in Z?[{type:"sessions"},Z]:[{type:"session"},Z.toJSON()];return C5(W,[G])},Sp=function(Z,Y,J,X){const $=ZQ(J),W=Z.type&&Z.type!=="replay_event"?Z.type:"event";kA1(Z,J&&J.sdk);const G=vR(Z,$,X,Y);return delete Z.sdkProcessingMetadata,C5(G,[[{type:W},Z]])};class sR{constructor(Z,Y){this._client=Z,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1000),this._sessionAttrs=Y}flush(){const Z=this.getSessionAggregates();if(Z.aggregates.length===0)return;this._pendingAggregates={},this._client.sendSession(Z)}getSessionAggregates(){const Z=Object.keys(this._pendingAggregates).map((J)=>{return this._pendingAggregates[parseInt(J)]}),Y={attrs:this._sessionAttrs,aggregates:Z};return E0(Y)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const Z=z1().getScope(),Y=Z.getRequestSession();if(Y&&Y.status)this._incrementSessionStatusCount(Y.status,new Date),Z.setRequestSession(void 0)}_incrementSessionStatusCount(Z,Y){const J=new Date(Y).setSeconds(0,0);this._pendingAggregates[J]=this._pendingAggregates[J]||{};const X=this._pendingAggregates[J];if(!X.started)X.started=new Date(J).toISOString();switch(Z){case"errored":return X.errored=(X.errored||0)+1,X.errored;case"ok":return X.exited=(X.exited||0)+1,X.exited;default:return X.crashed=(X.crashed||0)+1,X.crashed}}}var xA1=function(Z){const Y=Z.protocol?`${Z.protocol}:`:"",J=Z.port?`:${Z.port}`:"";return`${Y}//${Z.host}${J}${Z.path?`/${Z.path}`:""}/api/`},fA1=function(Z){return`${xA1(Z)}${Z.projectId}/envelope/`},yA1=function(Z,Y){return UR({sentry_key:Z.publicKey,sentry_version:_A1,...Y&&{sentry_client:`${Y.name}/${Y.version}`}})},kp=function(Z,Y={}){const J=typeof Y==="string"?Y:Y.tunnel,X=typeof Y==="string"||!Y._metadata?void 0:Y._metadata.sdk;return J?J:`${fA1(Z)}?${yA1(Z,X)}`};var _A1="7";var gA1=function(Z){const Y={};return Z.forEach((J)=>{const{name:X}=J,$=Y[X];if($&&!$.isDefaultInstance&&J.isDefaultInstance)return;Y[X]=J}),Object.keys(Y).map((J)=>Y[J])},rR=function(Z){const Y=Z.defaultIntegrations||[],J=Z.integrations;Y.forEach((G)=>{G.isDefaultInstance=!0});let X;if(Array.isArray(J))X=[...Y,...J];else if(typeof J==="function")X=j5(J(Y));else X=Y;const $=gA1(X),W=bA1($,(G)=>G.name==="Debug");if(W!==-1){const[G]=$.splice(W,1);$.push(G)}return $},xp=function(Z,Y){const J={};return Y.forEach((X)=>{if(X)tR(Z,X,J)}),J},tR=function(Z,Y,J){if(J[Y.name]=Y,_p.indexOf(Y.name)===-1)Y.setupOnce(lR,z1),_p.push(Y.name);if(Y.setup&&typeof Y.setup==="function")Y.setup(Z);if(Z.on&&typeof Y.preprocessEvent==="function"){const X=Y.preprocessEvent.bind(Y);Z.on("preprocessEvent",($,W)=>X($,W,Z))}if(Z.addEventProcessor&&typeof Y.processEvent==="function"){const X=Y.processEvent.bind(Y),$=Object.assign((W,G)=>X(W,G,Z),{id:Y.name});Z.addEventProcessor($)}e&&f.log(`Integration installed: ${Y.name}`)};var bA1=function(Z,Y){for(let J=0;J<Z.length;J++)if(Y(Z[J])===!0)return J;return-1},_p=[];var vA1=function(Z,Y){const J=`${Y} must return \`null\` or a valid event.`;if(d0(Z))return Z.then((X)=>{if(!R6(X)&&X!==null)throw new O8(J);return X},(X)=>{throw new O8(`${Y} rejected with ${X}`)});else if(!R6(Z)&&Z!==null)throw new O8(J);return Z},hA1=function(Z,Y,J){const{beforeSend:X,beforeSendTransaction:$}=Z;if(yp(Y)&&X)return X(Y,J);if(gp(Y)&&$)return $(Y,J);return Y},yp=function(Z){return Z.type===void 0},gp=function(Z){return Z.type==="transaction"},fp="Not capturing exception because it's already been captured.";class oR{constructor(Z){if(this._options=Z,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],Z.dsn)this._dsn=cK(Z.dsn);else e&&f.warn("No DSN provided, client will not send events.");if(this._dsn){const Y=kp(this._dsn,Z);this._transport=Z.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...Z.transportOptions,url:Y})}}captureException(Z,Y,J){if(nK(Z)){e&&f.log(fp);return}let X=Y&&Y.event_id;return this._process(this.eventFromException(Z,Y).then(($)=>this._captureEvent($,Y,J)).then(($)=>{X=$})),X}captureMessage(Z,Y,J,X){let $=J&&J.event_id;const W=mK(Z)?this.eventFromMessage(String(Z),Y,J):this.eventFromException(Z,J);return this._process(W.then((G)=>this._captureEvent(G,J,X)).then((G)=>{$=G})),$}captureEvent(Z,Y,J){if(Y&&Y.originalException&&nK(Y.originalException)){e&&f.log(fp);return}let X=Y&&Y.event_id;return this._process(this._captureEvent(Z,Y,J).then(($)=>{X=$})),X}captureSession(Z){if(typeof Z.release!=="string")e&&f.warn("Discarded session because of missing or non-string release");else this.sendSession(Z),S4(Z,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(Z){const Y=this._transport;if(Y)return this._isClientDoneProcessing(Z).then((J)=>{return Y.flush(Z).then((X)=>J&&X)});else return A6(!0)}close(Z){return this.flush(Z).then((Y)=>{return this.getOptions().enabled=!1,Y})}getEventProcessors(){return this._eventProcessors}addEventProcessor(Z){this._eventProcessors.push(Z)}setupIntegrations(Z){if(Z&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)this._integrations=xp(this,this._options.integrations),this._integrationsInitialized=!0}getIntegrationById(Z){return this._integrations[Z]}getIntegration(Z){try{return this._integrations[Z.id]||null}catch(Y){return e&&f.warn(`Cannot retrieve integration ${Z.id} from the current Client`),null}}addIntegration(Z){tR(this,Z,this._integrations)}sendEvent(Z,Y={}){this.emit("beforeSendEvent",Z,Y);let J=Sp(Z,this._dsn,this._options._metadata,this._options.tunnel);for(let $ of Y.attachments||[])J=gR(J,bR($,this._options.transportOptions&&this._options.transportOptions.textEncoder));const X=this._sendEnvelope(J);if(X)X.then(($)=>this.emit("afterSendEvent",Z,$),null)}sendSession(Z){const Y=Op(Z,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(Y)}recordDroppedEvent(Z,Y,J){if(this._options.sendClientReports){const X=`${Z}:${Y}`;e&&f.log(`Adding outcome: "${X}"`),this._outcomes[X]=this._outcomes[X]+1||1}}on(Z,Y){if(!this._hooks[Z])this._hooks[Z]=[];this._hooks[Z].push(Y)}emit(Z,...Y){if(this._hooks[Z])this._hooks[Z].forEach((J)=>J(...Y))}_updateSessionFromEvent(Z,Y){let J=!1,X=!1;const $=Y.exception&&Y.exception.values;if($){X=!0;for(let K of $){const Q=K.mechanism;if(Q&&Q.handled===!1){J=!0;break}}}const W=Z.status==="ok";if(W&&Z.errors===0||W&&J)S4(Z,{...J&&{status:"crashed"},errors:Z.errors||Number(X||J)}),this.captureSession(Z)}_isClientDoneProcessing(Z){return new U8((Y)=>{let J=0;const X=1,$=setInterval(()=>{if(this._numProcessing==0)clearInterval($),Y(!0);else if(J+=X,Z&&J>=Z)clearInterval($),Y(!1)},X)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(Z,Y,J){const X=this.getOptions(),$=Object.keys(this._integrations);if(!Y.integrations&&$.length>0)Y.integrations=$;return this.emit("preprocessEvent",Z,Y),Ip(X,Z,Y,J,this).then((W)=>{if(W===null)return W;const{propagationContext:G}=W.sdkProcessingMetadata||{};if(!(W.contexts&&W.contexts.trace)&&G){const{traceId:Q,spanId:z,parentSpanId:H,dsc:F}=G;W.contexts={trace:{trace_id:Q,span_id:z,parent_span_id:H},...W.contexts};const q=F?F:I7(Q,this,J);W.sdkProcessingMetadata={dynamicSamplingContext:q,...W.sdkProcessingMetadata}}return W})}_captureEvent(Z,Y={},J){return this._processEvent(Z,Y,J).then((X)=>{return X.event_id},(X)=>{if(e){const $=X;if($.logLevel==="log")f.log($.message);else f.warn($)}return})}_processEvent(Z,Y,J){const X=this.getOptions(),{sampleRate:$}=X,W=gp(Z),G=yp(Z),K=Z.type||"error",Q=`before send for type \`${K}\``;if(G&&typeof $==="number"&&Math.random()>$)return this.recordDroppedEvent("sample_rate","error",Z),h9(new O8(`Discarding event because it's not included in the random sample (sampling rate = ${$})`,"log"));const z=K==="replay_event"?"replay":K;return this._prepareEvent(Z,Y,J).then((H)=>{if(H===null)throw this.recordDroppedEvent("event_processor",z,Z),new O8("An event processor returned `null`, will not send event.","log");if(Y.data&&Y.data.__sentry__===!0)return H;const q=hA1(X,H,Y);return vA1(q,Q)}).then((H)=>{if(H===null)throw this.recordDroppedEvent("before_send",z,Z),new O8(`${Q} returned \`null\`, will not send event.`,"log");const F=J&&J.getSession();if(!W&&F)this._updateSessionFromEvent(F,H);const q=H.transaction_info;if(W&&q&&H.transaction!==Z.transaction)H.transaction_info={...q,source:"custom"};return this.sendEvent(H,Y),H}).then(null,(H)=>{if(H instanceof O8)throw H;throw this.captureException(H,{data:{__sentry__:!0},originalException:H}),new O8(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${H}`)})}_process(Z){this._numProcessing++,Z.then((Y)=>{return this._numProcessing--,Y},(Y)=>{return this._numProcessing--,Y})}_sendEnvelope(Z){if(this.emit("beforeEnvelope",Z),this._isEnabled()&&this._transport)return this._transport.send(Z).then(null,(Y)=>{e&&f.error("Error while sending event:",Y)});else e&&f.error("Transport disabled")}_clearOutcomes(){const Z=this._outcomes;return this._outcomes={},Object.keys(Z).map((Y)=>{const[J,X]=Y.split(":");return{reason:J,category:X,quantity:Z[Y]}})}}var bp=function(Z,Y,J,X,$){const W={sent_at:(new Date()).toISOString()};if(J&&J.sdk)W.sdk={name:J.sdk.name,version:J.sdk.version};if(!!X&&!!$)W.dsn=T5($);if(Y)W.trace=E0(Y);const G=mA1(Z);return C5(W,[G])},mA1=function(Z){return[{type:"check_in"},Z]};class nY extends oR{constructor(Z){jp();super(Z)}eventFromException(Z,Y){return A6(dR(z1,this._options.stackParser,Z,Y))}eventFromMessage(Z,Y="info",J){return A6(cR(this._options.stackParser,Z,Y,J,this._options.attachStacktrace))}captureException(Z,Y,J){if(this._options.autoSessionTracking&&this._sessionFlusher&&J){const X=J.getRequestSession();if(X&&X.status==="ok")X.status="errored"}return super.captureException(Z,Y,J)}captureEvent(Z,Y,J){if(this._options.autoSessionTracking&&this._sessionFlusher&&J){if((Z.type||"exception")==="exception"&&Z.exception&&Z.exception.values&&Z.exception.values.length>0){const W=J.getRequestSession();if(W&&W.status==="ok")W.status="errored"}}return super.captureEvent(Z,Y,J)}close(Z){if(this._sessionFlusher)this._sessionFlusher.close();return super.close(Z)}initSessionFlusher(){const{release:Z,environment:Y}=this._options;if(!Z)e&&f.warn("Cannot initialise an instance of SessionFlusher if no release is provided!");else this._sessionFlusher=new sR(this,{release:Z,environment:Y})}captureCheckIn(Z,Y,J){const X=Z.status!=="in_progress"&&Z.checkInId?Z.checkInId:q0();if(!this._isEnabled())return e&&f.warn("SDK not enabled, will not capture checkin."),X;const $=this.getOptions(),{release:W,environment:G,tunnel:K}=$,Q={check_in_id:X,monitor_slug:Z.monitorSlug,status:Z.status,release:W,environment:G};if(Z.status!=="in_progress")Q.duration=Z.duration;if(Y)Q.monitor_config={schedule:Y.schedule,checkin_margin:Y.checkinMargin,max_runtime:Y.maxRuntime,timezone:Y.timezone};const[z,H]=this._getTraceInfoFromScope(J);if(H)Q.contexts={trace:H};const F=bp(Q,z,this.getSdkMetadata(),K,this.getDsn());return e&&f.info("Sending checkin:",Z.monitorSlug,Z.status),this._sendEnvelope(F),X}_captureRequestSession(){if(!this._sessionFlusher)e&&f.warn("Discarded request mode session because autoSessionTracking option was disabled");else this._sessionFlusher.incrementSessionStatusCount()}_prepareEvent(Z,Y,J){if(this._options.platform)Z.platform=Z.platform||this._options.platform;if(this._options.runtime)Z.contexts={...Z.contexts,runtime:(Z.contexts||{}).runtime||this._options.runtime};if(this._options.serverName)Z.server_name=Z.server_name||this._options.serverName;return super._prepareEvent(Z,Y,J)}_getTraceInfoFromScope(Z){if(!Z)return[void 0,void 0];const Y=Z.getSpan();if(Y)return[Y.transaction?Y.transaction.getDynamicSamplingContext():void 0,Y.getTraceContext()];const{traceId:J,spanId:X,parentSpanId:$,dsc:W}=Z.getPropagationContext(),G={trace_id:J,span_id:X,parent_span_id:$};if(W)return[W,G];return[I7(J,this,Z),G]}}var eR=function(Z,Y){if(Y.debug===!0)if(e)f.enable();else C8(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")});const J=z1();J.getScope().update(Y.initialScope);const $=new Z(Y);J.bindClient($)};var i9=function(Z,Y,J=ER(Z.bufferSize||uA1)){let X={};const $=(G)=>J.drain(G);function W(G){const K=[];if(oK(G,(F,q)=>{const V=eK(q);if(hR(X,V)){const U=vp(F,q);Z.recordDroppedEvent("ratelimit_backoff",V,U)}else K.push(F)}),K.length===0)return A6();const Q=C5(G[0],K),z=(F)=>{oK(Q,(q,V)=>{const U=vp(q,V);Z.recordDroppedEvent(F,eK(V),U)})},H=()=>Y({body:B3(Q,Z.textEncoder)}).then((F)=>{if(F.statusCode!==void 0&&(F.statusCode<200||F.statusCode>=300))e&&f.warn(`Sentry responded with status code ${F.statusCode} to sent event.`);return X=mR(X,F),F},(F)=>{throw z("network_error"),F});return J.add(H).then((F)=>F,(F)=>{if(F instanceof O8)return e&&f.error("Skipped sending event because buffer is full."),z("queue_overflow"),A6();else throw F})}return W.__sentry__baseTransport__=!0,{send:W,flush:$}},vp=function(Z,Y){if(Y!=="event"&&Y!=="transaction")return;return Array.isArray(Z)?Z[1]:void 0},uA1=30;var S5="7.84.0";var e8={};b3(e8,{LinkedErrors:()=>{{return qQ}},InboundFilters:()=>{{return FQ}},FunctionToString:()=>{{return zQ}}});var hp;class zQ{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=zQ.id}setupOnce(){hp=Function.prototype.toString;try{Function.prototype.toString=function(...Z){const Y=VR(this)||this;return hp.apply(Y,Z)}}catch(Z){}}}zQ.__initStatic();var lA1=function(Z={},Y={}){return{allowUrls:[...Z.allowUrls||[],...Y.allowUrls||[]],denyUrls:[...Z.denyUrls||[],...Y.denyUrls||[]],ignoreErrors:[...Z.ignoreErrors||[],...Y.ignoreErrors||[],...Z.disableErrorDefaults?[]:dA1],ignoreTransactions:[...Z.ignoreTransactions||[],...Y.ignoreTransactions||[],...Z.disableTransactionDefaults?[]:cA1],ignoreInternal:Z.ignoreInternal!==void 0?Z.ignoreInternal:!0}},pA1=function(Z,Y){if(Y.ignoreInternal&&tA1(Z))return e&&f.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${C4(Z)}`),!0;if(iA1(Z,Y.ignoreErrors))return e&&f.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${C4(Z)}`),!0;if(nA1(Z,Y.ignoreTransactions))return e&&f.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${C4(Z)}`),!0;if(aA1(Z,Y.denyUrls))return e&&f.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${C4(Z)}.\nUrl: ${HQ(Z)}`),!0;if(!sA1(Z,Y.allowUrls))return e&&f.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${C4(Z)}.\nUrl: ${HQ(Z)}`),!0;return!1},iA1=function(Z,Y){if(Z.type||!Y||!Y.length)return!1;return rA1(Z).some((J)=>i7(J,Y))},nA1=function(Z,Y){if(Z.type!=="transaction"||!Y||!Y.length)return!1;const J=Z.transaction;return J?i7(J,Y):!1},aA1=function(Z,Y){if(!Y||!Y.length)return!1;const J=HQ(Z);return!J?!1:i7(J,Y)},sA1=function(Z,Y){if(!Y||!Y.length)return!0;const J=HQ(Z);return!J?!0:i7(J,Y)},rA1=function(Z){const Y=[];if(Z.message)Y.push(Z.message);let J;try{J=Z.exception.values[Z.exception.values.length-1]}catch(X){}if(J){if(J.value){if(Y.push(J.value),J.type)Y.push(`${J.type}: ${J.value}`)}}if(e&&Y.length===0)f.error(`Could not extract message for event ${C4(Z)}`);return Y},tA1=function(Z){try{return Z.exception.values[0].type==="SentryError"}catch(Y){}return!1},oA1=function(Z=[]){for(let Y=Z.length-1;Y>=0;Y--){const J=Z[Y];if(J&&J.filename!=="<anonymous>"&&J.filename!=="[native code]")return J.filename||null}return null},HQ=function(Z){try{let Y;try{Y=Z.exception.values[0].stacktrace.frames}catch(J){}return Y?oA1(Y):null}catch(Y){return e&&f.error(`Cannot extract url for event ${C4(Z)}`),null}},dA1=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],cA1=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class FQ{static __initStatic(){this.id="InboundFilters"}constructor(Z={}){this.name=FQ.id,this._options=Z}setupOnce(Z,Y){}processEvent(Z,Y,J){const X=J.getOptions(),$=lA1(this._options,X);return pA1(Z,$)?null:Z}}FQ.__initStatic();var eA1="cause",ZB1=5;class qQ{static __initStatic(){this.id="LinkedErrors"}constructor(Z={}){this._key=Z.key||eA1,this._limit=Z.limit||ZB1,this.name=qQ.id}setupOnce(){}preprocessEvent(Z,Y,J){const X=J.getOptions();FR(YQ,X.stackParser,X.maxValueLength,this._key,this._limit,Z,Y)}}qQ.__initStatic();var n9=function(Z,Y){const J=Y.getClient(),X=J&&J.getDsn(),$=J&&J.getOptions().tunnel;return JB1(Z,X)||YB1(Z,$)},YB1=function(Z,Y){if(!Y)return!1;return mp(Z)===mp(Y)},JB1=function(Z,Y){return Y?Z.includes(Y.host):!1},mp=function(Z){return Z[Z.length-1]==="/"?Z.slice(0,-1):Z};var XB1=function(Z){const{transactionNamingScheme:Y,include:{ip:J,user:X,...$}}=Z,W=[];for(let[K,Q]of Object.entries($))if(Q)W.push(K);let G;if(X===void 0)G=!0;else if(typeof X==="boolean")G=X;else{const K=[];for(let[Q,z]of Object.entries(X))if(z)K.push(Q);G=K}return{include:{ip:J,user:G,request:W.length!==0?W:void 0,transaction:Y}}},$B1=function(Z){try{return Z.getClient().getOptions()._metadata.sdk.name}catch(Y){return}},ZM={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"};class k5{static __initStatic(){this.id="RequestData"}constructor(Z={}){this.name=k5.id,this._addRequestData=OR,this._options={...ZM,...Z,include:{method:!0,...ZM.include,...Z.include,user:Z.include&&typeof Z.include.user==="boolean"?Z.include.user:{...ZM.include.user,...(Z.include||{}).user}}}}setupOnce(Z,Y){const{transactionNamingScheme:J}=this._options;Z((X)=>{const $=Y(),W=$.getIntegration(k5),{sdkProcessingMetadata:G={}}=X,K=G.request;if(!W||!K)return X;const Q=G.requestDataOptionsFromExpressHandler||G.requestDataOptionsFromGCPWrapper||XB1(this._options),z=this._addRequestData(X,K,Q);if(X.type==="transaction"||J==="handler")return z;const F=K._sentryTransaction;if(F){const q=$B1($)==="sentry.javascript.nextjs"?F.name.startsWith("/api"):J!=="path",[V]=u9(K,{path:!0,method:q,customRoute:F.name});z.transaction=V}return z})}}k5.__initStatic();var Y0=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var Z6=function(Z){const Y=h([Z,"call",(X)=>X(),"access",(X)=>X.getClient,"call",(X)=>X(),"optionalAccess",(X)=>X.getOptions,"call",(X)=>X()]);return(h([Y,"optionalAccess",(X)=>X.instrumenter])||"sentry")!=="sentry"};var up=function(Z,Y){const J=Z.length;switch(J){case 2:return function(X,$){const W=$.__sentry_transaction;if(W){const G=W.startChild({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"});$.once("finish",()=>{G.finish()})}return Z.call(this,X,$)};case 3:return function(X,$,W){const G=$.__sentry_transaction,K=h([G,"optionalAccess",(Q)=>Q.startChild,"call",(Q)=>Q({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"})]);Z.call(this,X,$,function(...Q){h([K,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),W.call(this,...Q)})};case 4:return function(X,$,W,G){const K=W.__sentry_transaction,Q=h([K,"optionalAccess",(z)=>z.startChild,"call",(z)=>z({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"})]);Z.call(this,X,$,W,function(...z){h([Q,"optionalAccess",(H)=>H.finish,"call",(H)=>H()]),G.call(this,...z)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${J}`)}},jB1=function(Z,Y){return Z.map((J)=>{if(typeof J==="function")return up(J,Y);if(Array.isArray(J))return J.map((X)=>{if(typeof X==="function")return up(X,Y);return X});return J})},EB1=function(Z,Y){const J=Z[Y];return Z[Y]=function(...X){return J.call(this,...jB1(X,Y))},Z},CB1=function(Z,Y=[]){Y.forEach((J)=>EB1(Z,J))},OB1=function(Z){const Y="settings"in Z;if(Y&&Z._router===void 0&&Z.lazyrouter)Z.lazyrouter();const J=Y?Z._router:Z;if(!J){Y0&&f.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),Y0&&f.debug("Routing instrumentation is currently only supported in Express 4.");return}const X=Object.getPrototypeOf(J),$=X.process_params;X.process_params=function W(G,K,Q,z,H){if(!Q._reconstructedRoute)Q._reconstructedRoute="";const{layerRoutePath:F,isRegex:q,isArray:V,numExtraSegments:U}=kB1(G);if(F||q||V)Q._hasParameters=!0;let L;if(F)L=F;else L=fB1(Q.originalUrl,Q._reconstructedRoute,G.path)||"";const R=L.split("/").filter((M)=>M.length>0&&(q||V||!M.includes("*"))).join("/");if(R&&R.length>0)Q._reconstructedRoute+=`/${R}${q?"/":""}`;const A=hY(m9(Q.originalUrl||""))+U,B=hY(Q._reconstructedRoute);if(A===B){if(!Q._hasParameters){if(Q._reconstructedRoute!==Q.originalUrl)Q._reconstructedRoute=Q.originalUrl?m9(Q.originalUrl):Q.originalUrl}const M=z.__sentry_transaction;if(M&&M.metadata.source!=="custom"){const D=Q._reconstructedRoute||"/";M.setName(...u9(Q,{path:!0,method:!0,customRoute:D}))}}return $.call(this,G,K,Q,z,H)}},kB1=function(Z){let Y=h([Z,"access",(G)=>G.route,"optionalAccess",(G)=>G.path]);const J=Q3(Y),X=Array.isArray(Y);if(!Y){const[G]=C1.process.versions.node.split(".").map(Number);if(G>=16)Y=SB1(Z.path,Z.regexp,Z.keys)}if(!Y)return{isRegex:J,isArray:X,numExtraSegments:0};const $=X?Math.max(_B1(Y)-hY(Z.path||""),0):0;return{layerRoutePath:xB1(X,Y),isRegex:J,isArray:X,numExtraSegments:$}},_B1=function(Z){return Z.reduce((Y,J)=>{return Y+hY(J.toString())},0)},xB1=function(Z,Y){if(Z)return Y.map((J)=>J.toString()).join(",");return Y&&Y.toString()},fB1=function(Z,Y,J){const X=m9(Z||""),$=h([X,"optionalAccess",(Q)=>Q.split,"call",(Q)=>Q("/"),"access",(Q)=>Q.filter,"call",(Q)=>Q((z)=>!!z)]);let W=0;const G=h([Y,"optionalAccess",(Q)=>Q.split,"call",(Q)=>Q("/"),"access",(Q)=>Q.filter,"call",(Q)=>Q((z)=>!!z),"access",(Q)=>Q.length])||0;return h([J,"optionalAccess",(Q)=>Q.split,"call",(Q)=>Q("/"),"access",(Q)=>Q.filter,"call",(Q)=>Q((z)=>{if(h([$,"optionalAccess",(H)=>H[G+W]])===z)return W+=1,!0;return!1}),"access",(Q)=>Q.join,"call",(Q)=>Q("/")])};class P3{static __initStatic(){this.id="Express"}constructor(Z={}){this.name=P3.id,this._router=Z.router||Z.app,this._methods=(Array.isArray(Z.methods)?Z.methods:[]).concat("use")}setupOnce(Z,Y){if(!this._router){Y0&&f.error("ExpressIntegration is missing an Express instance");return}if(Z6(Y)){Y0&&f.log("Express Integration is skipped because of instrumenter configuration.");return}CB1(this._router,this._methods),OB1(this._router)}}P3.__initStatic();var SB1=(Z,Y,J)=>{if(!Z||!Y||!J||Object.keys(J).length===0||!h([J,"access",(z)=>z[0],"optionalAccess",(z)=>z.offset]))return;const X=J.sort((z,H)=>z.offset-H.offset),W=new RegExp(Y,`${Y.flags}d`).exec(Z);if(!W||!W.indices)return;const[,...G]=W.indices;if(G.length!==X.length)return;let K=Z,Q=0;return G.forEach((z,H)=>{if(z){const[F,q]=z,V=K.substring(0,F-Q),U=`:${X[H].name}`,L=K.substring(q-Q);K=V+U+L,Q=Q+(q-F-U.length)}}),K};class T3{static __initStatic(){this.id="Postgres"}constructor(Z={}){this.name=T3.id,this._usePgNative=!!Z.usePgNative,this._module=Z.module}loadDependency(){return this._module=this._module||n6("pg")}setupOnce(Z,Y){if(Z6(Y)){Y0&&f.log("Postgres Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){Y0&&f.error("Postgres Integration was unable to require `pg` package.");return}const X=this._usePgNative?h([J,"access",($)=>$.native,"optionalAccess",($)=>$.Client]):J.Client;if(!X){Y0&&f.error("Postgres Integration was unable to access 'pg-native' bindings.");return}I0(X.prototype,"query",function($){return function(W,G,K){const z=Y().getScope().getSpan(),H={"db.system":"postgresql"};try{if(this.database)H["db.name"]=this.database;if(this.host)H["server.address"]=this.host;if(this.port)H["server.port"]=this.port;if(this.user)H["db.user"]=this.user}catch(V){}const F=h([z,"optionalAccess",(V)=>V.startChild,"call",(V)=>V({description:typeof W==="string"?W:W.text,op:"db",origin:"auto.db.postgres",data:H})]);if(typeof K==="function")return $.call(this,W,G,function(V,U){h([F,"optionalAccess",(L)=>L.finish,"call",(L)=>L()]),K(V,U)});if(typeof G==="function")return $.call(this,W,function(V,U){h([F,"optionalAccess",(L)=>L.finish,"call",(L)=>L()]),G(V,U)});const q=typeof G!=="undefined"?$.call(this,W,G):$.call(this,W);if(d0(q))return q.then((V)=>{return h([F,"optionalAccess",(U)=>U.finish,"call",(U)=>U()]),V});return h([F,"optionalAccess",(V)=>V.finish,"call",(V)=>V()]),q}})}}T3.__initStatic();class j3{static __initStatic(){this.id="Mysql"}constructor(){this.name=j3.id}loadDependency(){return this._module=this._module||n6("mysql/lib/Connection.js")}setupOnce(Z,Y){if(Z6(Y)){Y0&&f.log("Mysql Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){Y0&&f.error("Mysql Integration was unable to require `mysql` package.");return}let X=void 0;try{J.prototype.connect=new Proxy(J.prototype.connect,{apply(G,K,Q){if(!X)X=K.config;return G.apply(K,Q)}})}catch(G){Y0&&f.error("Mysql Integration was unable to instrument `mysql` config.")}function $(){if(!X)return{};return{"server.address":X.host,"server.port":X.port,"db.user":X.user}}function W(G){if(!G||G.endTimestamp)return;const K=$();Object.keys(K).forEach((Q)=>{G.setData(Q,K[Q])}),G.finish()}I0(J,"createQuery",function(G){return function(K,Q,z){const F=Y().getScope().getSpan(),q=h([F,"optionalAccess",(U)=>U.startChild,"call",(U)=>U({description:typeof K==="string"?K:K.sql,op:"db",origin:"auto.db.mysql",data:{"db.system":"mysql"}})]);if(typeof z==="function")return G.call(this,K,Q,function(U,L,R){W(q),z(U,L,R)});if(typeof Q==="function")return G.call(this,K,function(U,L,R){W(q),Q(U,L,R)});const V=G.call(this,K,Q);return V.on("end",()=>{W(q)}),V}})}}j3.__initStatic();var bB1=function(Z){return Z&&typeof Z==="object"&&Z.once&&typeof Z.once==="function"},yB1=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],gB1={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class E3{static __initStatic(){this.id="Mongo"}constructor(Z={}){this.name=E3.id,this._operations=Array.isArray(Z.operations)?Z.operations:yB1,this._describeOperations="describeOperations"in Z?Z.describeOperations:!0,this._useMongoose=!!Z.useMongoose}loadDependency(){const Z=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||n6(Z)}setupOnce(Z,Y){if(Z6(Y)){Y0&&f.log("Mongo Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){const X=this._useMongoose?"mongoose":"mongodb";Y0&&f.error(`Mongo Integration was unable to require \`${X}\` package.`);return}this._instrumentOperations(J.Collection,this._operations,Y)}_instrumentOperations(Z,Y,J){Y.forEach((X)=>this._patchOperation(Z,X,J))}_patchOperation(Z,Y,J){if(!(Y in Z.prototype))return;const X=this._getSpanContextFromOperationArguments.bind(this);I0(Z.prototype,Y,function($){return function(...W){const G=W[W.length-1],Q=J().getScope().getSpan();if(typeof G!=="function"||Y==="mapReduce"&&W.length===2){const H=h([Q,"optionalAccess",(q)=>q.startChild,"call",(q)=>q(X(this,Y,W))]),F=$.call(this,...W);if(d0(F))return F.then((q)=>{return h([H,"optionalAccess",(V)=>V.finish,"call",(V)=>V()]),q});else if(bB1(F)){const q=F;try{q.once("close",()=>{h([H,"optionalAccess",(V)=>V.finish,"call",(V)=>V()])})}catch(V){h([H,"optionalAccess",(U)=>U.finish,"call",(U)=>U()])}return q}else return h([H,"optionalAccess",(q)=>q.finish,"call",(q)=>q()]),F}const z=h([Q,"optionalAccess",(H)=>H.startChild,"call",(H)=>H(X(this,Y,W.slice(0,-1)))]);return $.call(this,...W.slice(0,-1),function(H,F){h([z,"optionalAccess",(q)=>q.finish,"call",(q)=>q()]),G(H,F)})}})}_getSpanContextFromOperationArguments(Z,Y,J){const X={"db.system":"mongodb","db.name":Z.dbName,"db.operation":Y,"db.mongodb.collection":Z.collectionName},$={op:"db",origin:"auto.db.mongo",description:Y,data:X},W=gB1[Y],G=Array.isArray(this._describeOperations)?this._describeOperations.includes(Y):this._describeOperations;if(!W||!G)return $;try{if(Y==="mapReduce"){const[K,Q]=J;X[W[0]]=typeof K==="string"?K:K.name||"<anonymous>",X[W[1]]=typeof Q==="string"?Q:Q.name||"<anonymous>"}else for(let K=0;K<W.length;K++)X[`db.mongodb.${W[K]}`]=JSON.stringify(J[K])}catch(K){}return $}}E3.__initStatic();var vB1=function(Z){return!!Z&&!!Z.$use};class C3{static __initStatic(){this.id="Prisma"}constructor(Z={}){if(this.name=C3.id,vB1(Z.client)&&!Z.client._sentryInstrumented){yY(Z.client,"_sentryInstrumented",!0);const Y={};try{const J=Z.client._engineConfig;if(J){const{activeProvider:X,clientVersion:$}=J;if(X)Y["db.system"]=X;if($)Y["db.prisma.version"]=$}}catch(J){}Z.client.$use((J,X)=>{if(Z6(z1))return X(J);const{action:$,model:W}=J;return GQ({name:W?`${W} ${$}`:$,op:"db.prisma",origin:"auto.db.prisma",data:{...Y,"db.operation":$}},()=>X(J))})}else Y0&&f.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",Z.client)}setupOnce(){}}C3.__initStatic();class O3{static __initStatic(){this.id="GraphQL"}constructor(){this.name=O3.id}loadDependency(){return this._module=this._module||n6("graphql/execution/execute.js")}setupOnce(Z,Y){if(Z6(Y)){Y0&&f.log("GraphQL Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){Y0&&f.error("GraphQL Integration was unable to require graphql/execution package.");return}I0(J,"execute",function(X){return function(...$){const W=Y().getScope(),G=W.getSpan(),K=h([G,"optionalAccess",(z)=>z.startChild,"call",(z)=>z({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);h([W,"optionalAccess",(z)=>z.setSpan,"call",(z)=>z(K)]);const Q=X.call(this,...$);if(d0(Q))return Q.then((z)=>{return h([K,"optionalAccess",(H)=>H.finish,"call",(H)=>H()]),h([W,"optionalAccess",(H)=>H.setSpan,"call",(H)=>H(G)]),z});return h([K,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),h([W,"optionalAccess",(z)=>z.setSpan,"call",(z)=>z(G)]),Q}})}}O3.__initStatic();var dp=function(Z,Y){return Z.map((J)=>{return Object.keys(J).forEach((X)=>{Object.keys(J[X]).forEach(($)=>{if(typeof J[X][$]!=="function")return;hB1(J,X,$,Y)})}),J})},hB1=function(Z,Y,J,X){I0(Z[Y],J,function($){return function(...W){const K=X().getScope().getSpan(),Q=h([K,"optionalAccess",(H)=>H.startChild,"call",(H)=>H({description:`${Y}.${J}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),z=$.call(this,...W);if(d0(z))return z.then((H)=>{return h([Q,"optionalAccess",(F)=>F.finish,"call",(F)=>F()]),H});return h([Q,"optionalAccess",(H)=>H.finish,"call",(H)=>H()]),z}})};class S3{static __initStatic(){this.id="Apollo"}constructor(Z={useNestjs:!1}){this.name=S3.id,this._useNest=!!Z.useNestjs}loadDependency(){if(this._useNest)this._module=this._module||n6("@nestjs/graphql");else this._module=this._module||n6("apollo-server-core");return this._module}setupOnce(Z,Y){if(Z6(Y)){Y0&&f.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){const J=this.loadDependency();if(!J){Y0&&f.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}I0(J.GraphQLFactory.prototype,"mergeWithSchema",function(X){return function(...$){return I0(this.resolversExplorerService,"explore",function(W){return function(){const G=j5(W.call(this));return dp(G,Y)}}),X.call(this,...$)}})}else{const J=this.loadDependency();if(!J){Y0&&f.error("Apollo Integration was unable to require apollo-server-core package.");return}I0(J.ApolloServerBase.prototype,"constructSchema",function(X){return function(){if(!this.config.resolvers){if(Y0){if(this.config.schema)f.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),f.warn();else if(this.config.modules)f.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property.");f.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")}return X.call(this)}const $=j5(this.config.resolvers);return this.config.resolvers=dp($,Y),X.call(this)}})}}}S3.__initStatic();import*as cp from"os";import{TextEncoder as mB1} from"util";class YM extends nY{constructor(Z){Z._metadata=Z._metadata||{},Z._metadata.sdk=Z._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:S5}],version:S5},Z.transportOptions={textEncoder:new mB1,...Z.transportOptions};const Y={...Z,platform:"node",runtime:{name:"node",version:global.process.version},serverName:Z.serverName||global.process.env.SENTRY_NAME||cp.hostname()};super(Y)}}import*as KN1 from"http";import*as QN1 from"https";import{Readable as zN1} from"stream";import{URL as Ji} from"url";import{createGzip as HN1} from"zlib";var Xi=mM(Yi(),1),qN1=function(Z){return new zN1({read(){this.push(Z),this.push(null)}})},$i=function(Z){let Y;try{Y=new Ji(Z.url)}catch(Q){return C8(()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")}),i9(Z,()=>Promise.resolve({}))}const J=Y.protocol==="https:",X=VN1(Y,Z.proxy||(J?process.env.https_proxy:void 0)||process.env.http_proxy),$=J?QN1:KN1,W=Z.keepAlive===void 0?!1:Z.keepAlive,G=X?new Xi.HttpsProxyAgent(X):new $.Agent({keepAlive:W,maxSockets:30,timeout:2000}),K=UN1(Z,N3(Z.httpModule,()=>$),G);return i9(Z,K)},VN1=function(Z,Y){const{no_proxy:J}=process.env;if(J&&J.split(",").some(($)=>Z.host.endsWith($)||Z.hostname.endsWith($)))return;else return Y},UN1=function(Z,Y,J){const{hostname:X,pathname:$,port:W,protocol:G,search:K}=new Ji(Z.url);return function Q(z){return new Promise((H,F)=>{let q=qN1(z.body);const V={...Z.headers};if(z.body.length>FN1)V["content-encoding"]="gzip",q=q.pipe(HN1());const U=Y.request({method:"POST",agent:J,headers:V,hostname:X,path:`${$}${K}`,port:W,protocol:G,ca:Z.caCerts},(L)=>{L.on("data",()=>{}),L.on("end",()=>{}),L.setEncoding("utf8");const R=N3(L.headers["retry-after"],()=>null),A=N3(L.headers["x-sentry-rate-limits"],()=>null);H({statusCode:L.statusCode,headers:{"retry-after":R,"x-sentry-rate-limits":Array.isArray(A)?A[0]:A}})});U.on("error",F),q.pipe(U)})}},FN1=32768;import{spawn as Rb1} from"child_process";import{posix as LN1,sep as wN1} from"path";var MN1=function(Z){return Z.replace(/^[A-Z]:/,"").replace(/\\/g,"/")},Wi=function(Z,Y=RN1){if(!Z)return;const J=Y?MN1(Z):Z;let{root:X,dir:$,base:W,ext:G}=LN1.parse(J);const Q=`${require&&require.main&&require.main.filename&&$||global.process.cwd()}/`;let z=W;if(G===".js"||G===".mjs"||G===".cjs")z=z.slice(0,G.length*-1);if(!X&&!$)$=".";let H=$.lastIndexOf("/node_modules/");if(H>-1)return`${$.slice(H+14).replace(/\//g,".")}:${z}`;if(H=`${$}/`.lastIndexOf(Q,0),H===0){let F=$.slice(Q.length).replace(/\//g,".");if(F)F+=":";return F+=z,F}return z},RN1=wN1==="\\";var Gi=function(){return!!process.send&&!!process.env.SENTRY_ANR_CHILD_PROCESS};var Y6=NR(process.versions.node);import*as UQ from"domain";var Ki=function(){return UQ.active},AN1=function(){const Z=Ki();if(!Z)return;return lY(Z),r6(Z)},BN1=function(Z){const Y={};return lY(Y,Z),r6(Y)},NN1=function(Z,Y){const J=Ki();if(J&&h([Y,"optionalAccess",(G)=>G.reuseExisting]))return Z();const X=UQ.create(),$=J?r6(J):void 0,W=BN1($);return pY(X,W),X.bind(()=>{return Z()})()},Qi=function(){I3({getCurrentHub:AN1,runWithAsyncContext:NN1})};import*as zi from"async_hooks";var Hi=function(){if(!LQ)LQ=new zi.AsyncLocalStorage;function Z(){return LQ.getStore()}function Y(X){const $={};return lY($,X),r6($)}function J(X,$){const W=Z();if(W&&h([$,"optionalAccess",(K)=>K.reuseExisting]))return X();const G=Y(W);return LQ.run(G,()=>{return X()})}I3({getCurrentHub:Z,runWithAsyncContext:J})},LQ;var Fi=function(){if(Y6.major&&Y6.major>=14)Hi();else Qi()};import*as qi from"util";class _5{constructor(){_5.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=_5.id}setupOnce(){AR(({args:Z,level:Y})=>{const J=z1();if(!J.getIntegration(_5))return;J.addBreadcrumb({category:"console",level:SR(Y),message:qi.format.apply(void 0,Z)},{input:[...Z],level:Y})})}}_5.__initStatic();var a7=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;import{URL as KM} from"url";var Ui=function(Z){const{protocol:Y,hostname:J,port:X}=wi(Z),$=Z.path?Z.path:"/";return`${Y}//${J}${X}${$}`},QM=function(Z){const{protocol:Y,hostname:J,port:X}=wi(Z),$=Z.pathname||"/",W=Z.auth?DN1(Z.auth):"";return`${Y}//${W}${J}${X}${$}`},DN1=function(Z){const[Y,J]=Z.split(":");return`${Y?"[Filtered]":""}:${J?"[Filtered]":""}@`},zM=function(Z,Y,J){if(!Z)return Z;let[X,$]=Z.split(" ");if(Y.host&&!Y.protocol)Y.protocol=h([J,"optionalAccess",(W)=>W.agent,"optionalAccess",(W)=>W.protocol]),$=QM(Y);if(h([$,"optionalAccess",(W)=>W.startsWith,"call",(W)=>W("///")]))$=$.slice(2);return`${X} ${$}`},Vi=function(Z){const Y={protocol:Z.protocol,hostname:typeof Z.hostname==="string"&&Z.hostname.startsWith("[")?Z.hostname.slice(1,-1):Z.hostname,hash:Z.hash,search:Z.search,pathname:Z.pathname,path:`${Z.pathname||""}${Z.search||""}`,href:Z.href};if(Z.port!=="")Y.port=Number(Z.port);if(Z.username||Z.password)Y.auth=`${Z.username}:${Z.password}`;return Y},Li=function(Z,Y){let J,X;if(typeof Y[Y.length-1]==="function")J=Y.pop();if(typeof Y[0]==="string")X=Vi(new KM(Y[0]));else if(Y[0]instanceof KM)X=Vi(Y[0]);else{X=Y[0];try{const $=new KM(X.path||"",`${X.protocol||"http:"}//${X.hostname}`);X={pathname:$.pathname,search:$.search,hash:$.hash,...X}}catch($){}}if(Y.length===2)X={...X,...Y[1]};if(X.protocol===void 0)if(Y6.major&&Y6.major>8)X.protocol=h([h([Z,"optionalAccess",($)=>$.globalAgent]),"optionalAccess",($)=>$.protocol])||h([X.agent,"optionalAccess",($)=>$.protocol])||h([X._defaultAgent,"optionalAccess",($)=>$.protocol]);else X.protocol=h([X.agent,"optionalAccess",($)=>$.protocol])||h([X._defaultAgent,"optionalAccess",($)=>$.protocol])||h([h([Z,"optionalAccess",($)=>$.globalAgent]),"optionalAccess",($)=>$.protocol]);if(J)return[X,J];else return[X]},wi=function(Z){const Y=Z.protocol||"",J=Z.hostname||Z.host||"",X=!Z.port||Z.port===80||Z.port===443||/^(.*):(\d+)$/.test(J)?"":`:${Z.port}`;return{protocol:Y,hostname:J,port:X}};var Ri=function(Z,Y,J,X){const $=new a6(100),W=new a6(100),G=(z)=>{if(J===void 0)return!0;const H=$.get(z);if(H!==void 0)return H;const F=J(z);return $.set(z,F),F},K=(z)=>{if(X===void 0)return!0;const H=W.get(z);if(H!==void 0)return H;const F=i7(z,X);return W.set(z,F),F};function Q(z,H,F,q){if(!z1().getIntegration(x5))return;z1().addBreadcrumb({category:"http",data:{status_code:q&&q.statusCode,...H},type:"http"},{event:z,request:F,response:q})}return function z(H){return function F(...q){const V=Li(Z,q),U=V[0],L=Ui(U),R=QM(U);if(n9(R,z1()))return H.apply(Z,V);const A=z1(),B=A.getScope(),M=B.getSpan(),D=IN1(R,U),d=G(L)?h([M,"optionalAccess",(O)=>O.startChild,"call",(O)=>O({op:"http.client",origin:"auto.http.node.http",description:`${D["http.method"]} ${D.url}`,data:D})]):void 0;if(K(L))if(d){const O=d.toTraceparent(),E=h([d,"optionalAccess",(j)=>j.transaction,"optionalAccess",(j)=>j.getDynamicSamplingContext,"call",(j)=>j()]);Mi(U,R,O,E)}else{const O=A.getClient(),{traceId:E,sampled:j,dsc:n}=B.getPropagationContext(),c=l9(E,void 0,j),y=n||(O?I7(E,O,B):void 0);Mi(U,R,c,y)}else a7&&f.log(`[Tracing] Not adding sentry-trace header to outgoing request (${R}) due to mismatching tracePropagationTargets option.`);return H.apply(Z,V).once("response",function(O){const E=this;if(Y)Q("response",D,E,O);if(d){if(O.statusCode)d.setHttpStatus(O.statusCode);d.description=zM(d.description,U,E),d.finish()}}).once("error",function(){const O=this;if(Y)Q("error",D,O);if(d)d.setHttpStatus(500),d.description=zM(d.description,U,O),d.finish()})}}},Mi=function(Z,Y,J,X){if((Z.headers||{})["sentry-trace"])return;a7&&f.log(`[Tracing] Adding sentry-trace header ${J} to outgoing request to "${Y}": `);const W=mY(X),G=W&&W.length>0?PN1(Z,W):void 0;Z.headers={...Z.headers,"sentry-trace":J,...G&&{baggage:G}}},IN1=function(Z,Y){const J=Y.method||"GET",X={url:Z,"http.method":J};if(Y.hash)X["http.fragment"]=Y.hash.substring(1);if(Y.search)X["http.query"]=Y.search.substring(1);return X},PN1=function(Z,Y){if(!Z.headers||!Z.headers.baggage)return Y;else if(!Y)return Z.headers.baggage;else if(Array.isArray(Z.headers.baggage))return[...Z.headers.baggage,Y];return[Z.headers.baggage,Y]};class x5{static __initStatic(){this.id="Http"}__init(){this.name=x5.id}constructor(Z={}){x5.prototype.__init.call(this),this._breadcrumbs=typeof Z.breadcrumbs==="undefined"?!0:Z.breadcrumbs,this._tracing=!Z.tracing?void 0:Z.tracing===!0?{}:Z.tracing}setupOnce(Z,Y){if(!this._breadcrumbs&&!this._tracing)return;const J=h([Y,"call",(K)=>K(),"access",(K)=>K.getClient,"call",(K)=>K(),"optionalAccess",(K)=>K.getOptions,"call",(K)=>K()]);if(J&&J.instrumenter!=="sentry"){a7&&f.log("HTTP Integration is skipped because of instrumenter configuration.");return}const X=h([this,"access",(K)=>K._tracing,"optionalAccess",(K)=>K.shouldCreateSpanForRequest])||h([J,"optionalAccess",(K)=>K.shouldCreateSpanForRequest]),$=h([J,"optionalAccess",(K)=>K.tracePropagationTargets])||h([this,"access",(K)=>K._tracing,"optionalAccess",(K)=>K.tracePropagationTargets]),W=import.meta.require("http"),G=Ri(W,this._breadcrumbs,X,$);if(I0(W,"get",G),I0(W,"request",G),Y6.major&&Y6.major>8){const K=import.meta.require("https"),Q=Ri(K,this._breadcrumbs,X,$);I0(K,"get",Q),I0(K,"request",Q)}}}x5.__initStatic();var y3=function(Z){C8(()=>{console.error(Z)});const Y=O5();if(Y===void 0)a7&&f.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);const J=Y.getOptions(),X=J&&J.shutdownTimeout&&J.shutdownTimeout>0&&J.shutdownTimeout||TN1;Y.close(X).then(($)=>{if(!$)a7&&f.warn("We reached the timeout for emptying the request buffer, still exiting now!");global.process.exit(1)},($)=>{a7&&f.error($)})},TN1=2000;class k4{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=k4.id}__init2(){this.handler=this._makeErrorHandler()}constructor(Z={}){k4.prototype.__init.call(this),k4.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...Z}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let Y=!1,J=!1,X=!1,$;return(W)=>{let G=y3;const K=O5();if(this._options.onFatalError)G=this._options.onFatalError;else if(K&&K.getOptions().onFatalError)G=K.getOptions().onFatalError;const z=global.process.listeners("uncaughtException").reduce((F,q)=>{if(q.name==="domainUncaughtExceptionClear"||q.tag&&q.tag==="sentry_tracingErrorCallback"||q===this.handler)return F;else return F+1},0)===0,H=this._options.exitEvenIfOtherHandlersAreRegistered||z;if(!Y){const F=z1();if($=W,Y=!0,F.getIntegration(k4))F.withScope((q)=>{if(q.setLevel("fatal"),F.captureException(W,{originalException:W,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!X&&H)X=!0,G(W)});else if(!X&&H)X=!0,G(W)}else if(H){if(X)a7&&f.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),y3(W);else if(!J)J=!0,setTimeout(()=>{if(!X)X=!0,G($,W)},2000)}}}}k4.__initStatic();class f5{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=f5.id}constructor(Z={mode:"warn"}){this._options=Z,f5.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(Z,Y){const J=z1();if(J.getIntegration(f5))J.withScope((X)=>{X.setExtra("unhandledPromiseRejection",!0),J.captureException(Z,{originalException:Y,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})});this._handleRejection(Z)}_handleRejection(Z){const Y="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";if(this._options.mode==="warn")C8(()=>{console.warn(Y),console.error(Z&&Z.stack?Z.stack:Z)});else if(this._options.mode==="strict")C8(()=>{console.warn(Y)}),y3(Z)}}f5.__initStatic();import{existsSync as jN1,readFileSync as EN1} from"fs";import{dirname as CN1,join as ON1} from"path";var SN1=function(){try{return require.cache?Object.keys(require.cache):[]}catch(Z){return[]}},kN1=function(){const Z=require.main&&require.main.paths||[],Y=SN1(),J={},X={};return Y.forEach(($)=>{let W=$;const G=()=>{const K=W;if(W=CN1(K),!W||K===W||X[K])return;if(Z.indexOf(W)<0)return G();const Q=ON1(K,"package.json");if(X[K]=!0,!jN1(Q))return G();try{const z=JSON.parse(EN1(Q,"utf8"));J[z.name]=z.version}catch(z){}};G()}),J},HM;class y5{constructor(){y5.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=y5.id}setupOnce(Z,Y){Z((J)=>{if(!Y().getIntegration(y5))return J;return{...J,modules:{...J.modules,...this._getModules()}}})}_getModules(){if(!HM)HM=kN1();return HM}}y5.__initStatic();import{readFile as _N1} from"fs";var fN1=function(Z){return new Promise((Y,J)=>{_N1(Z,"utf8",(X,$)=>{if(X)J(X);else Y($)})})};async function yN1(Z){const Y=wQ.get(Z);if(Y===null)return null;if(Y!==void 0)return Y;let J=null;try{J=(await fN1(Z)).split("\n")}catch(X){}return wQ.set(Z,J),J}var wQ=new a6(100),xN1=7;class g5{static __initStatic(){this.id="ContextLines"}__init(){this.name=g5.id}constructor(Z={}){this._options=Z,g5.prototype.__init.call(this)}get _contextLines(){return this._options.frameContextLines!==void 0?this._options.frameContextLines:xN1}setupOnce(Z,Y){Z((J)=>{if(!Y().getIntegration(g5))return J;return this.addSourceContext(J)})}async addSourceContext(Z){const Y={},J=[];if(this._contextLines>0&&h([Z,"access",(X)=>X.exception,"optionalAccess",(X)=>X.values]))for(let X of Z.exception.values){if(!h([X,"access",($)=>$.stacktrace,"optionalAccess",($)=>$.frames]))continue;for(let $=X.stacktrace.frames.length-1;$>=0;$--){const W=X.stacktrace.frames[$];if(W.filename&&!Y[W.filename]&&!wQ.get(W.filename))J.push(yN1(W.filename)),Y[W.filename]=1}}if(J.length>0)await Promise.all(J);if(this._contextLines>0&&h([Z,"access",(X)=>X.exception,"optionalAccess",(X)=>X.values])){for(let X of Z.exception.values)if(X.stacktrace&&X.stacktrace.frames)await this.addSourceContextToFrames(X.stacktrace.frames)}return Z}addSourceContextToFrames(Z){for(let Y of Z)if(Y.filename&&Y.context_line===void 0){const J=wQ.get(Y.filename);if(J)try{DR(J,Y,this._contextLines)}catch(X){}}}}g5.__initStatic();import{execFile as gN1} from"child_process";import{readFile as bN1,readdir as vN1} from"fs";import*as f0 from"os";import{join as hN1} from"path";import{promisify as Bi} from"util";async function dN1(){const Z=f0.platform();switch(Z){case"darwin":return sN1();case"linux":return rN1();default:return{name:iN1[Z]||Z,version:f0.release()}}}var cN1=function(){try{if(typeof process.versions.icu!=="string")return;const Z=new Date(900000000);if(new Intl.DateTimeFormat("es",{month:"long"}).format(Z)==="enero"){const J=Intl.DateTimeFormat().resolvedOptions();return{locale:J.locale,timezone:J.timeZone}}}catch(Z){}return},lN1=function(){const Z=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-process.uptime()*1000).toISOString(),app_memory:Z}},pN1=function(Z){const Y={};let J;try{J=f0.uptime&&f0.uptime()}catch(X){}if(typeof J==="number")Y.boot_time=new Date(Date.now()-J*1000).toISOString();if(Y.arch=f0.arch(),Z===!0||Z.memory)Y.memory_size=f0.totalmem(),Y.free_memory=f0.freemem();if(Z===!0||Z.cpu){const X=f0.cpus();if(X&&X.length){const $=X[0];Y.processor_count=X.length,Y.cpu_description=$.model,Y.processor_frequency=$.speed}}return Y},s7=function(Z,Y){const J=Z.exec(Y);return J?J[1]:void 0};async function sN1(){const Z={kernel_version:f0.release(),name:"Mac OS X",version:`10.${Number(f0.release().split(".")[0])-4}`};try{const Y=await new Promise((J,X)=>{gN1("/usr/bin/sw_vers",($,W)=>{if($){X($);return}J(W)})});Z.name=s7(/^ProductName:\s+(.*)$/m,Y),Z.version=s7(/^ProductVersion:\s+(.*)$/m,Y),Z.build=s7(/^BuildVersion:\s+(.*)$/m,Y)}catch(Y){}return Z}var Ai=function(Z){return Z.split(" ")[0].toLowerCase()};async function rN1(){const Z={kernel_version:f0.release(),name:"Linux"};try{const Y=await uN1("/etc"),J=nN1.find((K)=>Y.includes(K.name));if(!J)return Z;const X=hN1("/etc",J.name),$=(await mN1(X,{encoding:"utf-8"})).toLowerCase(),{distros:W}=J;Z.name=W.find((K)=>$.indexOf(Ai(K))>=0)||W[0];const G=Ai(Z.name);Z.version=aN1[G]($)}catch(Y){}return Z}var tN1=function(){if(process.env.VERCEL)return{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION};else if(process.env.AWS_REGION)return{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV};else if(process.env.GCP_PROJECT)return{"cloud.provider":"gcp"};else if(process.env.ALIYUN_REGION_ID)return{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID};else if(process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME)return{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME};else if(process.env.IBM_CLOUD_REGION)return{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION};else if(process.env.TENCENTCLOUD_REGION)return{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE};else if(process.env.NETLIFY)return{"cloud.provider":"netlify"};else if(process.env.FLY_REGION)return{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION};else if(process.env.DYNO)return{"cloud.provider":"heroku"};else return},mN1=Bi(bN1),uN1=Bi(vN1);class s9{static __initStatic(){this.id="Context"}__init(){this.name=s9.id}constructor(Z={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0}){this._options=Z,s9.prototype.__init.call(this)}setupOnce(Z){Z((Y)=>this.addContext(Y))}async addContext(Z){if(this._cachedContext===void 0)this._cachedContext=this._getContexts();const Y=this._updateContext(await this._cachedContext);return Z.contexts={...Z.contexts,app:{...Y.app,...h([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.app])},os:{...Y.os,...h([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.os])},device:{...Y.device,...h([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.device])},culture:{...Y.culture,...h([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.culture])},cloud_resource:{...Y.cloud_resource,...h([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.cloud_resource])}},Z}_updateContext(Z){if(h([Z,"optionalAccess",(Y)=>Y.app,"optionalAccess",(Y)=>Y.app_memory]))Z.app.app_memory=process.memoryUsage().rss;if(h([Z,"optionalAccess",(Y)=>Y.device,"optionalAccess",(Y)=>Y.free_memory]))Z.device.free_memory=f0.freemem();return Z}async _getContexts(){const Z={};if(this._options.os)Z.os=await dN1();if(this._options.app)Z.app=lN1();if(this._options.device)Z.device=pN1(this._options.device);if(this._options.culture){const Y=cN1();if(Y)Z.culture=Y}if(this._options.cloudResource)Z.cloud_resource=tN1();return Z}}s9.__initStatic();var iN1={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},nN1=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],aN1={alpine:(Z)=>Z,arch:(Z)=>s7(/distrib_release=(.*)/,Z),centos:(Z)=>s7(/release ([^ ]+)/,Z),debian:(Z)=>Z,fedora:(Z)=>s7(/release (..)/,Z),mint:(Z)=>s7(/distrib_release=(.*)/,Z),red:(Z)=>s7(/release ([^ ]+)/,Z),suse:(Z)=>s7(/VERSION = (.*)\n/,Z),ubuntu:(Z)=>s7(/distrib_release=(.*)/,Z)};var oN1=function(Z,Y,J){let X=0,$=5,W=0;return setInterval(()=>{if(W===0){if(X>Z){if($*=2,J($),$>86400)$=86400;W=$}}else if(W-=1,W===0)Y();X=0},1000).unref(),()=>{X+=1}},Di=function(Z){let Y=[],J=!1;function X(G){if(Y=[],J)return;J=!0,Z(G)}Y.push(X);function $(G){Y.push(G)}function W(G){const K=Y.pop()||X;try{K(G)}catch(Q){X(G)}}return{add:$,next:W}},eN1=function(){try{return new Ii}catch(Z){return}},Ni=function(Z){return Z!==void 0&&["","?","<anonymous>"].includes(Z)},Z21=function(Z,Y){return Z===Y||Ni(Z)&&Ni(Y)},Pi=function(Z){if(Z===void 0)return;return Z.slice(-10).reduce((Y,J)=>`${Y},${J.function},${J.lineno},${J.colno}`,"")},Y21=function(Z,Y){if(Y===void 0)return;return Pi(Z(Y,1))};class Ii{constructor(){const{Session:Z}=import.meta.require("inspector");this._session=new Z}configureAndConnect(Z,Y){this._session.connect(),this._session.on("Debugger.paused",(J)=>{Z(J,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:Y?"all":"uncaught"})}setPauseOnExceptions(Z){this._session.post("Debugger.setPauseOnExceptions",{state:Z?"all":"uncaught"})}getLocalVariables(Z,Y){this._getProperties(Z,(J)=>{const{add:X,next:$}=Di(Y);for(let W of J)if(h([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.objectId])&&h([W,"optionalAccess",(G)=>G.value,"access",(G)=>G.className])==="Array"){const G=W.value.objectId;X((K)=>this._unrollArray(G,W.name,K,$))}else if(h([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.objectId])&&h([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.className])==="Object"){const G=W.value.objectId;X((K)=>this._unrollObject(G,W.name,K,$))}else if(h([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])||h([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.description]))X((G)=>this._unrollOther(W,G,$));$({})})}_getProperties(Z,Y){this._session.post("Runtime.getProperties",{objectId:Z,ownProperties:!0},(J,X)=>{if(J)Y([]);else Y(X.result)})}_unrollArray(Z,Y,J,X){this._getProperties(Z,($)=>{J[Y]=$.filter((W)=>W.name!=="length"&&!isNaN(parseInt(W.name,10))).sort((W,G)=>parseInt(W.name,10)-parseInt(G.name,10)).map((W)=>h([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])),X(J)})}_unrollObject(Z,Y,J,X){this._getProperties(Z,($)=>{J[Y]=$.map((W)=>[W.name,h([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])]).reduce((W,[G,K])=>{return W[G]=K,W},{}),X(J)})}_unrollOther(Z,Y,J){if(h([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.value]))Y[Z.name]=Z.value.value;else if(h([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.description])&&h([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.type])!=="function")Y[Z.name]=`<${Z.value.description}>`;J(Y)}}class b5{static __initStatic(){this.id="LocalVariables"}__init(){this.name=b5.id}__init2(){this._cachedFrames=new a6(20)}constructor(Z={},Y=eN1()){this._options=Z,this._session=Y,b5.prototype.__init.call(this),b5.prototype.__init2.call(this)}setupOnce(Z,Y){this._setup(Z,h([Y,"call",(J)=>J(),"access",(J)=>J.getClient,"call",(J)=>J(),"optionalAccess",(J)=>J.getOptions,"call",(J)=>J()]))}_setup(Z,Y){if(this._session&&h([Y,"optionalAccess",(J)=>J.includeLocalVariables])){if((Y6.major||0)<18){f.log("The `LocalVariables` integration is only supported on Node >= v18.");return}const X=this._options.captureAllExceptions!==!1;if(this._session.configureAndConnect(($,W)=>this._handlePaused(Y.stackParser,$,W),X),X){const $=this._options.maxExceptionsPerSecond||50;this._rateLimiter=oN1($,()=>{f.log("Local variables rate-limit lifted."),h([this,"access",(W)=>W._session,"optionalAccess",(W)=>W.setPauseOnExceptions,"call",(W)=>W(!0)])},(W)=>{f.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${W} seconds.`),h([this,"access",(G)=>G._session,"optionalAccess",(G)=>G.setPauseOnExceptions,"call",(G)=>G(!1)])})}Z(async($)=>this._addLocalVariables($))}}_handlePaused(Z,{params:{reason:Y,data:J,callFrames:X}},$){if(Y!=="exception"&&Y!=="promiseRejection"){$();return}h([this,"access",(Q)=>Q._rateLimiter,"optionalCall",(Q)=>Q()]);const W=Y21(Z,h([J,"optionalAccess",(Q)=>Q.description]));if(W==null){$();return}const{add:G,next:K}=Di((Q)=>{this._cachedFrames.set(W,Q),$()});for(let Q=0;Q<Math.min(X.length,5);Q++){const{scopeChain:z,functionName:H,this:F}=X[Q],q=z.find((U)=>U.type==="local"),V=F.className==="global"||!F.className?H:`${F.className}.${H}`;if(h([q,"optionalAccess",(U)=>U.object,"access",(U)=>U.objectId])===void 0)G((U)=>{U[Q]={function:V},K(U)});else{const U=q.object.objectId;G((L)=>h([this,"access",(R)=>R._session,"optionalAccess",(R)=>R.getLocalVariables,"call",(R)=>R(U,(A)=>{L[Q]={function:V,vars:A},K(L)})]))}}K([])}_addLocalVariables(Z){for(let Y of h([Z,"optionalAccess",(J)=>J.exception,"optionalAccess",(J)=>J.values])||[])this._addLocalVariablesToException(Y);return Z}_addLocalVariablesToException(Z){const Y=Pi(h([Z,"optionalAccess",($)=>$.stacktrace,"optionalAccess",($)=>$.frames]));if(Y===void 0)return;const J=this._cachedFrames.remove(Y);if(J===void 0)return;const X=h([Z,"access",($)=>$.stacktrace,"optionalAccess",($)=>$.frames,"optionalAccess",($)=>$.length])||0;for(let $=0;$<X;$++){const W=X-$-1;if(!h([Z,"optionalAccess",(G)=>G.stacktrace,"optionalAccess",(G)=>G.frames,"optionalAccess",(G)=>G[W]])||!J[$])break;if(J[$].vars===void 0||Z.stacktrace.frames[W].in_app===!1||!Z21(Z.stacktrace.frames[W].function,J[$].function))continue;Z.stacktrace.frames[W].vars=J[$].vars}}}b5.__initStatic();var Ti=function(Z,Y,J){if(Z.headers.split("\r\n").some((W)=>W.startsWith("sentry-trace:")))return;if(Z.addHeader("sentry-trace",Y),J)Z.addHeader("baggage",J)},J21=function(Z,Y,J){const X=w3(J),$=Y.method||"GET",W={"http.method":$};if(X.search)W["http.query"]=X.search;if(X.hash)W["http.fragment"]=X.hash;return h([Z,"optionalAccess",(G)=>G.startChild,"call",(G)=>G({op:"http.client",origin:"auto.http.node.undici",description:`${$} ${R3(X)}`,data:W})])},g3;(function(Z){Z.RequestCreate="undici:request:create";const J="undici:request:headers";Z.RequestEnd=J;const X="undici:request:error";Z.RequestError=X})(g3||(g3={}));class S8{static __initStatic(){this.id="Undici"}__init(){this.name=S8.id}__init2(){this._createSpanUrlMap=new a6(100)}__init3(){this._headersUrlMap=new a6(100)}constructor(Z={}){S8.prototype.__init.call(this),S8.prototype.__init2.call(this),S8.prototype.__init3.call(this),S8.prototype.__init4.call(this),S8.prototype.__init5.call(this),S8.prototype.__init6.call(this),this._options={breadcrumbs:Z.breadcrumbs===void 0?!0:Z.breadcrumbs,shouldCreateSpanForRequest:Z.shouldCreateSpanForRequest}}setupOnce(Z){if(Y6.major&&Y6.major<16)return;let Y;try{Y=E5(X21,"diagnostics_channel")}catch(J){}if(!Y||!Y.subscribe)return;Y.subscribe(g3.RequestCreate,this._onRequestCreate),Y.subscribe(g3.RequestEnd,this._onRequestEnd),Y.subscribe(g3.RequestError,this._onRequestError)}_shouldCreateSpan(Z){if(this._options.shouldCreateSpanForRequest===void 0)return!0;const Y=this._createSpanUrlMap.get(Z);if(Y!==void 0)return Y;const J=this._options.shouldCreateSpanForRequest(Z);return this._createSpanUrlMap.set(Z,J),J}__init4(){this._onRequestCreate=(Z)=>{const Y=z1();if(!Y.getIntegration(S8))return;const{request:J}=Z,X=J.origin?J.origin.toString()+J.path:J.path;if(n9(X,Y)||J.__sentry_span__!==void 0)return;const $=Y.getClient();if(!$)return;const W=$.getOptions(),G=Y.getScope(),K=G.getSpan(),Q=this._shouldCreateSpan(X)?J21(K,J,X):void 0;if(Q)J.__sentry_span__=Q;if(((H)=>{if(W.tracePropagationTargets===void 0)return!0;const F=this._headersUrlMap.get(H);if(F!==void 0)return F;const q=i7(H,W.tracePropagationTargets);return this._headersUrlMap.set(H,q),q})(X))if(Q){const H=h([Q,"optionalAccess",(q)=>q.transaction,"optionalAccess",(q)=>q.getDynamicSamplingContext,"call",(q)=>q()]),F=mY(H);Ti(J,Q.toTraceparent(),F)}else{const{traceId:H,sampled:F,dsc:q}=G.getPropagationContext(),V=l9(H,void 0,F),U=q||I7(H,$,G),L=mY(U);Ti(J,V,L)}}}__init5(){this._onRequestEnd=(Z)=>{const Y=z1();if(!Y.getIntegration(S8))return;const{request:J,response:X}=Z,$=J.origin?J.origin.toString()+J.path:J.path;if(n9($,Y))return;const W=J.__sentry_span__;if(W)W.setHttpStatus(X.statusCode),W.finish();if(this._options.breadcrumbs)Y.addBreadcrumb({category:"http",data:{method:J.method,status_code:X.statusCode,url:$},type:"http"},{event:"response",request:J,response:X})}}__init6(){this._onRequestError=(Z)=>{const Y=z1();if(!Y.getIntegration(S8))return;const{request:J}=Z,X=J.origin?J.origin.toString()+J.path:J.path;if(n9(X,Y))return;const $=J.__sentry_span__;if($)$.setStatus("internal_error"),$.finish();if(this._options.breadcrumbs)Y.addBreadcrumb({category:"http",data:{method:J.method,url:X},level:"error",type:"http"},{event:"error",request:J})}}}S8.__initStatic();import*as ji from"http";import{URL as $21} from"url";var W21=function(Z,Y){const J=G21(Y.sidecarUrl);if(!J)return;let X=0;if(typeof Z.on!=="function"){f.warn("[Spotlight] Cannot connect to spotlight due to missing method on SDK client (`client.on`)");return}Z.on("beforeEnvelope",($)=>{if(X>3){f.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");return}const W=B3($),G=ji.request({method:"POST",path:J.pathname,hostname:J.hostname,port:J.port,headers:{"Content-Type":"application/x-sentry-envelope"}},(K)=>{K.on("data",()=>{}),K.on("end",()=>{}),K.setEncoding("utf8")});G.on("error",()=>{X++,f.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")}),G.write(W),G.end()})},G21=function(Z){try{return new $21(`${Z}`)}catch(Y){f.warn(`[Spotlight] Invalid sidecar URL: ${Z}`);return}};class r9{static __initStatic(){this.id="Spotlight"}__init(){this.name=r9.id}constructor(Z){r9.prototype.__init.call(this),this._options={sidecarUrl:h([Z,"optionalAccess",(Y)=>Y.sidecarUrl])||"http://localhost:8969/stream"}}setupOnce(){}setup(Z){W21(Z,this._options)}}r9.__initStatic();var FM=function(Z={}){if(Gi())Z.autoSessionTracking=!1,Z.tracesSampleRate=0;const Y=D7();Fi();const J=h([Y,"access",(W)=>W.__SENTRY__,"optionalAccess",(W)=>W.integrations])||[];if(Z.defaultIntegrations=Z.defaultIntegrations===!1?[]:[...Array.isArray(Z.defaultIntegrations)?Z.defaultIntegrations:Ei,...J],Z.dsn===void 0&&process.env.SENTRY_DSN)Z.dsn=process.env.SENTRY_DSN;const X=process.env.SENTRY_TRACES_SAMPLE_RATE;if(Z.tracesSampleRate===void 0&&X){const W=parseFloat(X);if(isFinite(W))Z.tracesSampleRate=W}if(Z.release===void 0){const W=Ci();if(W!==void 0)Z.release=W;else Z.autoSessionTracking=!1}if(Z.environment===void 0&&process.env.SENTRY_ENVIRONMENT)Z.environment=process.env.SENTRY_ENVIRONMENT;if(Z.autoSessionTracking===void 0&&Z.dsn!==void 0)Z.autoSessionTracking=!0;if(Z.instrumenter===void 0)Z.instrumenter="sentry";const $={...Z,stackParser:RR(Z.stackParser||Oi),integrations:rR(Z),transport:Z.transport||$i};if(eR(Z.clientClass||YM,$),Z.autoSessionTracking)K21();if(Q21(),Z.spotlight){const W=z1().getClient();if(W&&W.addIntegration)W.setupIntegrations(!0),W.addIntegration(new r9({sidecarUrl:typeof Z.spotlight==="string"?Z.spotlight:void 0}))}};var Ci=function(Z){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(C1.SENTRY_RELEASE&&C1.SENTRY_RELEASE.id)return C1.SENTRY_RELEASE.id;return process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||Z},K21=function(){const Z=z1();Z.startSession(),process.on("beforeExit",()=>{const Y=Z.getScope().getSession();if(Y&&!["exited","crashed"].includes(Y.status))Z.endSession()})},Q21=function(){const Z=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(Z)){const Y=process.env.SENTRY_TRACE,J=process.env.SENTRY_BAGGAGE,{propagationContext:X}=A3(Y,J);z1().getScope().setPropagationContext(X)}},Ei=[new e8.InboundFilters,new e8.FunctionToString,new e8.LinkedErrors,new _5,new x5,new S8,new k4,new f5,new g5,new b5,new s9,new y5,new k5],Oi=pK(MR(Wi));var qM={};b3(qM,{Undici:()=>{{return S8}},Spotlight:()=>{{return r9}},RequestData:()=>{{return k5}},OnUnhandledRejection:()=>{{return f5}},OnUncaughtException:()=>{{return k4}},Modules:()=>{{return y5}},LocalVariables:()=>{{return b5}},Http:()=>{{return x5}},ContextLines:()=>{{return g5}},Context:()=>{{return s9}},Console:()=>{{return _5}}});var VM={};b3(VM,{Prisma:()=>{{return C3}},Postgres:()=>{{return T3}},Mysql:()=>{{return j3}},Mongo:()=>{{return E3}},GraphQL:()=>{{return O3}},Express:()=>{{return P3}},Apollo:()=>{{return S3}}});var r7={...e8,...qM,...VM};import*as Si from"os";class UM extends nY{constructor(Z){Z._metadata=Z._metadata||{},Z._metadata.sdk=Z._metadata.sdk||{name:"sentry.javascript.bun",packages:[{name:"npm:@sentry/bun",version:S5}],version:S5};const Y={...Z,platform:"javascript",runtime:{name:"bun",version:Bun.version},serverName:Z.serverName||global.process.env.SENTRY_NAME||Si.hostname()};super(Y)}}var z21=function(){Bun.serve=new Proxy(Bun.serve,{apply(Z,Y,J){return H21(J[0]),Z.apply(Y,J)}})},H21=function(Z){Z.fetch=new Proxy(Z.fetch,{apply(Y,J,X){return XQ(()=>{const $=X[0],W=$.method.toUpperCase();if(W==="OPTIONS"||W==="HEAD")return Y.apply(J,X);const G=w3($.url),K={"http.request.method":$.method||"GET"};if(G.search)K["http.query"]=G.search;const Q=R3(G);return QQ({sentryTrace:$.headers.get("sentry-trace")||"",baggage:$.headers.get("baggage")},(z)=>{return KQ({op:"http.server",name:`${$.method} ${G.path||"/"}`,origin:"auto.http.bun.serve",...z,data:K,metadata:{...z.metadata,source:"url",request:{url:Q,method:$.method,headers:$.headers.toJSON()}}},async(H)=>{try{const F=await Y.apply(J,X);if(F&&F.status){if(h([H,"optionalAccess",(q)=>q.setHttpStatus,"call",(q)=>q(F.status)]),h([H,"optionalAccess",(q)=>q.setData,"call",(q)=>q("http.response.status_code",F.status)]),H instanceof iY)H.setContext("response",{headers:F.headers.toJSON(),status_code:F.status})}return F}catch(F){throw p9(F,{mechanism:{type:"bun",handled:!1,data:{function:"serve"}}}),F}})})})}})};class t9{constructor(){t9.prototype.__init.call(this)}static __initStatic(){this.id="BunServer"}__init(){this.name=t9.id}setupOnce(){z21()}}t9.__initStatic();var ki=function(Z){function Y(J){const X={body:J.body,method:"POST",headers:Z.headers};try{return fetch(Z.url,X).then(($)=>{return{statusCode:$.status,headers:{"x-sentry-rate-limits":$.headers.get("X-Sentry-Rate-Limits"),"retry-after":$.headers.get("Retry-After")}}})}catch($){return h9($)}}return i9(Z,Y)};var F21=function(Z={}){Z.clientClass=UM,Z.transport=Z.transport||ki,Z.defaultIntegrations=Z.defaultIntegrations===!1?[]:[...Array.isArray(Z.defaultIntegrations)?Z.defaultIntegrations:_i],FM(Z)},_i=[new e8.InboundFilters,new e8.FunctionToString,new e8.LinkedErrors,new r7.Console,new r7.Http,new r7.Undici,new r7.ContextLines,new r7.Context,new r7.Modules,new r7.RequestData,new t9];var LM={};b3(LM,{BunServer:()=>{{return t9}}});var Mh1={...e8,...r7,...LM};async function V21(Z){try{return console.log("Finding user by email:",Z),await gl.findOne({email:Z})}catch(Y){throw p9(Y),console.error("Error finding user by email:",Y.message),new Error("Error finding user by email")}}async function U21(Z,Y){return Bun.password.verify(Z,Y)}async function L21(Z){try{const{email:Y,password:J}=Z.body;if(!Y||!J)throw new Error("Missing required fields for login");const X=await V21(Y);if(!X)return console.log("User not found:",Y),{status:"error",message:"User not found"};if(!await U21(J,X.password))return console.log("Incorrect password for user:",Y),{status:"error",message:"Incorrect password"};return console.log("User logged in:",Y),{status:"success",message:"User logged in successfully",user:X}}catch(Y){return p9(Y),console.error("Login error:",Y),{status:"error",message:"Error during login",error:Y.message}}}export{L21 as default};

//# debugId=F1BFC0CF593AAD8B64756e2164756e21
