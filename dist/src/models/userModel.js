// @bun
var ou=Object.create;var{defineProperty:y$,getPrototypeOf:eu,getOwnPropertyNames:Zm}=Object;var Jm=Object.prototype.hasOwnProperty;var Xm=(Z,J,X)=>{X=Z!=null?ou(eu(Z)):{};const Y=J||!Z||!Z.__esModule?y$(X,"default",{value:Z,enumerable:!0}):X;for(let G of Zm(Z))if(!Jm.call(Y,G))y$(Y,G,{get:()=>Z[G],enumerable:!0});return Y};var R=(Z,J)=>()=>(J||Z((J={exports:{}}).exports,J),J.exports);var h=(Z)=>{return import.meta.require(Z)};var ZU1=(Z,J)=>{for(var X in J)y$(Z,X,{get:J[X],enumerable:!0,configurable:!0,set:(Y)=>J[X]=()=>Y})};var g3=R((Ym,b$)=>{/*!
 * ignore
 */var sL=null;Ym.get=function(){return sL};Ym.set=function(Z){sL=Z}});var X6=R((Jd)=>{var WW=function(Z){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(Z))},m7=function(Z){return Object.prototype.toString.call(Z)==="[object Uint8Array]"},d5=function(Z){return Object.prototype.toString.call(Z)==="[object RegExp]"},HW=function(Z){return Object.prototype.toString.call(Z)==="[object Map]"},c5=function(Z){return Object.prototype.toString.call(Z)==="[object Date]"},v8=function(Z,J){return JSON.stringify(Z,(X,Y)=>{if(typeof Y==="bigint")return{$numberLong:`${Y}`};else if(HW(Y))return Object.fromEntries(Y);return Y})},Wm=function(Z){if(Z!=null&&typeof Z==="object"&&"stylize"in Z&&typeof Z.stylize==="function")return Z.stylize},Qm=function(Z){return a4.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},Fm=function(){const{navigator:Z}=globalThis;return typeof Z==="object"&&Z.product==="ReactNative"},Um=function(Z){if(Z<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${Z}`);return i5.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},EV=function(Z){return Z!=null&&typeof Z==="object"&&"$id"in Z&&Z.$id!=null&&"$ref"in Z&&typeof Z.$ref==="string"&&(!("$db"in Z)||("$db"in Z)&&typeof Z.$db==="string")},WV=function(Z){return!isNaN(parseInt(Z,10))},jm=function(Z){const J=C.fromNumber(1e9);let X=C.fromNumber(0);if(!Z.parts[0]&&!Z.parts[1]&&!Z.parts[2]&&!Z.parts[3])return{quotient:Z,rem:X};for(let Y=0;Y<=3;Y++)X=X.shiftLeft(32),X=X.add(new C(Z.parts[Y],0)),Z.parts[Y]=X.div(J).low,X=X.modulo(J);return{quotient:Z,rem:X}},Om=function(Z,J){if(!Z&&!J)return{high:C.fromNumber(0),low:C.fromNumber(0)};const X=Z.shiftRightUnsigned(32),Y=new C(Z.getLowBits(),0),G=J.shiftRightUnsigned(32),$=new C(J.getLowBits(),0);let W=X.multiply(G),H=X.multiply($);const q=Y.multiply(G);let K=Y.multiply($);return W=W.add(H.shiftRightUnsigned(32)),H=new C(H.getLowBits(),0).add(q).add(K.shiftRightUnsigned(32)),W=W.add(H.shiftRightUnsigned(32)),K=H.shiftLeft(32).add(new C(K.getLowBits(),0)),{high:W,low:K}},Sm=function(Z,J){const X=Z.high>>>0,Y=J.high>>>0;if(X<Y)return!0;else if(X===Y){const G=Z.low>>>0,$=J.low>>>0;if(G<$)return!0}return!1},T6=function(Z,J){throw new b(`"${Z}" is not a valid Decimal128 string - ${J}`)},y3=function(Z,J,X){let Y=5;if(Array.isArray(Z))for(let G=0;G<Z.length;G++)Y+=HV(G.toString(),Z[G],J,!0,X);else{if(typeof Z?.toBSON==="function")Z=Z.toBSON();for(let G of Object.keys(Z))Y+=HV(G,Z[G],J,!1,X)}return Y},HV=function(Z,J,X=!1,Y=!1,G=!1){if(typeof J?.toBSON==="function")J=J.toBSON();switch(typeof J){case"string":return 1+_.utf8ByteLength(Z)+1+4+_.utf8ByteLength(J)+1;case"number":if(Math.floor(J)===J&&J>=UV&&J<=FV)if(J>=l3&&J<=c3)return(Z!=null?_.utf8ByteLength(Z)+1:0)+5;else return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;else return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;case"undefined":if(Y||!G)return(Z!=null?_.utf8ByteLength(Z)+1:0)+1;return 0;case"boolean":return(Z!=null?_.utf8ByteLength(Z)+1:0)+2;case"object":if(J!=null&&typeof J._bsontype==="string"&&J[Symbol.for("@@mdb.bson.version")]!==d7)throw new r4;else if(J==null||J._bsontype==="MinKey"||J._bsontype==="MaxKey")return(Z!=null?_.utf8ByteLength(Z)+1:0)+1;else if(J._bsontype==="ObjectId")return(Z!=null?_.utf8ByteLength(Z)+1:0)+13;else if(J instanceof Date||c5(J))return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;else if(ArrayBuffer.isView(J)||J instanceof ArrayBuffer||WW(J))return(Z!=null?_.utf8ByteLength(Z)+1:0)+6+J.byteLength;else if(J._bsontype==="Long"||J._bsontype==="Double"||J._bsontype==="Timestamp")return(Z!=null?_.utf8ByteLength(Z)+1:0)+9;else if(J._bsontype==="Decimal128")return(Z!=null?_.utf8ByteLength(Z)+1:0)+17;else if(J._bsontype==="Code")if(J.scope!=null&&Object.keys(J.scope).length>0)return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+4+4+_.utf8ByteLength(J.code.toString())+1+y3(J.scope,X,G);else return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+4+_.utf8ByteLength(J.code.toString())+1;else if(J._bsontype==="Binary"){const $=J;if($.sub_type===N1.SUBTYPE_BYTE_ARRAY)return(Z!=null?_.utf8ByteLength(Z)+1:0)+($.position+1+4+1+4);else return(Z!=null?_.utf8ByteLength(Z)+1:0)+($.position+1+4+1)}else if(J._bsontype==="Symbol")return(Z!=null?_.utf8ByteLength(Z)+1:0)+_.utf8ByteLength(J.value)+4+1+1;else if(J._bsontype==="DBRef"){const $=Object.assign({$ref:J.collection,$id:J.oid},J.fields);if(J.db!=null)$.$db=J.db;return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+y3($,X,G)}else if(J instanceof RegExp||d5(J))return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+_.utf8ByteLength(J.source)+1+(J.global?1:0)+(J.ignoreCase?1:0)+(J.multiline?1:0)+1;else if(J._bsontype==="BSONRegExp")return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+_.utf8ByteLength(J.pattern)+1+_.utf8ByteLength(J.options)+1;else return(Z!=null?_.utf8ByteLength(Z)+1:0)+y3(J,X,G)+1;case"function":if(X)return(Z!=null?_.utf8ByteLength(Z)+1:0)+1+4+_.utf8ByteLength(J.toString())+1}return 0},_m=function(Z){return Z.split("").sort().join("")},jV=function(Z,J,X){let Y=0;for(let G=J;G<X;G+=1){const $=Z[G];if(Y){if(($&fm)!==dm)return!1;Y-=1}else if($&gm)if(($&ym)===hm)Y=1;else if(($&bm)===um)Y=2;else if(($&vm)===mm)Y=3;else return!1}return!Y},OV=function(Z,J,X){J=J==null?{}:J;const Y=J&&J.index?J.index:0,G=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24;if(G<5)throw new b(`bson size must be >= 5, is ${G}`);if(J.allowObjectSmallerThanBufferSize&&Z.length<G)throw new b(`buffer length ${Z.length} must be >= bson size ${G}`);if(!J.allowObjectSmallerThanBufferSize&&Z.length!==G)throw new b(`buffer length ${Z.length} must === bson size ${G}`);if(G+Y>Z.byteLength)throw new b(`(bson size ${G} + options.index ${Y} must be <= buffer length ${Z.byteLength})`);if(Z[Y+G-1]!==0)throw new b("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return b3(Z,Y,J,X)},b3=function(Z,J,X,Y=!1){const G=X.fieldsAsRaw==null?null:X.fieldsAsRaw,$=X.raw==null?!1:X.raw,W=typeof X.bsonRegExp==="boolean"?X.bsonRegExp:!1,H=X.promoteBuffers??!1,q=X.promoteLongs??!0,K=X.promoteValues??!0,Q=X.useBigInt64??!1;if(Q&&!K)throw new b("Must either request bigint or Long for int64 deserialization");if(Q&&!q)throw new b("Must either request bigint or Long for int64 deserialization");const z=X.validation==null?{utf8:!0}:X.validation;let F=!0,U;const L=new Set,V=z.utf8;if(typeof V==="boolean")U=V;else{F=!1;const j=Object.keys(V).map(function(E){return V[E]});if(j.length===0)throw new b("UTF-8 validation setting cannot be empty");if(typeof j[0]!=="boolean")throw new b("Invalid UTF-8 validation option, must specify boolean values");if(U=j[0],!j.every((E)=>E===U))throw new b("Invalid UTF-8 validation option - keys must be all true or all false")}if(!F)for(let j of Object.keys(V))L.add(j);const w=J;if(Z.length<5)throw new b("corrupt bson message < 5 bytes long");const B=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;if(B<5||B>Z.length)throw new b("corrupt bson message");const M=Y?[]:{};let A=0;const I=!1;let m=Y?!1:null;const k=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);while(!I){const j=Z[J++];if(j===0)break;let E=J;while(Z[E]!==0&&E<Z.length)E++;if(E>=Z.byteLength)throw new b("Bad BSON Document: illegal CString");const p=Y?A++:_.toUTF8(Z,J,E);let u=!0;if(F||L.has(p))u=U;else u=!U;if(m!==!1&&p[0]==="$")m=pm.test(p);let g;if(J=E+1,j===LV){const T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;if(T<=0||T>Z.length-J||Z[J+T-1]!==0)throw new b("bad string length in bson");g=f3(Z,J,J+T-1,u),J=J+T}else if(j===RV){const T=_.allocate(12);T.set(Z.subarray(J,J+12)),g=new G0(T),J=J+12}else if(j===p5&&K===!1)g=new o4(Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24);else if(j===p5)g=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;else if(j===v3&&K===!1)g=new t4(k.getFloat64(J,!0)),J=J+8;else if(j===v3)g=k.getFloat64(J,!0),J=J+8;else if(j===AV){const T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24,O=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;g=new Date(new C(T,O).toNumber())}else if(j===wV){if(Z[J]!==0&&Z[J]!==1)throw new b("illegal boolean type value");g=Z[J++]===1}else if(j===qW){const T=J,O=Z[J]|Z[J+1]<<8|Z[J+2]<<16|Z[J+3]<<24;if(O<=0||O>Z.length-J)throw new b("bad embedded document length in bson");if($)g=Z.slice(J,J+O);else{let i=X;if(!F)i={...X,validation:{utf8:u}};g=b3(Z,T,i,!1)}J=J+O}else if(j===VV){const T=J,O=Z[J]|Z[J+1]<<8|Z[J+2]<<16|Z[J+3]<<24;let i=X;const M1=J+O;if(G&&G[p])i={...X,raw:!0};if(!F)i={...i,validation:{utf8:u}};if(g=b3(Z,T,i,!0),J=J+O,Z[J-1]!==0)throw new b("invalid array terminator byte");if(J!==M1)throw new b("corrupted array bson")}else if(j===Hm)g=void 0;else if(j===QW)g=null;else if(j===FW){const T=PZ.fromUint8Array(Z.subarray(J,J+8)),O=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24,i=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24,M1=new C(O,i);if(Q)g=T.getBigInt64(0,!0);else if(q&&K===!0)g=M1.lessThanOrEqual(cm)&&M1.greaterThanOrEqual(lm)?M1.toNumber():M1;else g=M1}else if(j===IV){const T=_.allocate(16);T.set(Z.subarray(J,J+16),0),J=J+16,g=new a0(T)}else if(j===KW){let T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;const O=T,i=Z[J++];if(T<0)throw new b("Negative binary type element size found");if(T>Z.byteLength)throw new b("Binary type size larger than document size");if(Z.slice!=null){if(i===N1.SUBTYPE_BYTE_ARRAY){if(T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24,T<0)throw new b("Negative binary type element size found for subtype 0x02");if(T>O-4)throw new b("Binary type with subtype 0x02 contains too long binary size");if(T<O-4)throw new b("Binary type with subtype 0x02 contains too short binary size")}if(H&&K)g=_.toLocalBufferType(Z.slice(J,J+T));else if(g=new N1(Z.slice(J,J+T),i),i===u3&&E0.isValid(g))g=g.toUUID()}else{const M1=_.allocate(T);if(i===N1.SUBTYPE_BYTE_ARRAY){if(T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24,T<0)throw new b("Negative binary type element size found for subtype 0x02");if(T>O-4)throw new b("Binary type with subtype 0x02 contains too long binary size");if(T<O-4)throw new b("Binary type with subtype 0x02 contains too short binary size")}for(E=0;E<T;E++)M1[E]=Z[J+E];if(H&&K)g=M1;else if(g=new N1(Z.slice(J,J+T),i),i===u3&&E0.isValid(g))g=g.toUUID()}J=J+T}else if(j===h3&&W===!1){E=J;while(Z[E]!==0&&E<Z.length)E++;if(E>=Z.length)throw new b("Bad BSON Document: illegal CString");const T=_.toUTF8(Z,J,E);J=E+1,E=J;while(Z[E]!==0&&E<Z.length)E++;if(E>=Z.length)throw new b("Bad BSON Document: illegal CString");const O=_.toUTF8(Z,J,E);J=E+1;const i=new Array(O.length);for(E=0;E<O.length;E++)switch(O[E]){case"m":i[E]="m";break;case"s":i[E]="g";break;case"i":i[E]="i";break}g=new RegExp(T,i.join(""))}else if(j===h3&&W===!0){E=J;while(Z[E]!==0&&E<Z.length)E++;if(E>=Z.length)throw new b("Bad BSON Document: illegal CString");const T=_.toUTF8(Z,J,E);J=E+1,E=J;while(Z[E]!==0&&E<Z.length)E++;if(E>=Z.length)throw new b("Bad BSON Document: illegal CString");const O=_.toUTF8(Z,J,E);J=E+1,g=new J6(T,O)}else if(j===BV){const T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;if(T<=0||T>Z.length-J||Z[J+T-1]!==0)throw new b("bad string length in bson");const O=f3(Z,J,J+T-1,u);g=K?O:new p7(O),J=J+T}else if(j===NV){const T=Z[J++]+Z[J++]*(1<<8)+Z[J++]*(1<<16)+Z[J++]*(1<<24),O=Z[J++]+Z[J++]*(1<<8)+Z[J++]*(1<<16)+Z[J++]*(1<<24);g=new Z6({i:T,t:O})}else if(j===DV)g=new l7;else if(j===CV)g=new c7;else if(j===zW){const T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;if(T<=0||T>Z.length-J||Z[J+T-1]!==0)throw new b("bad string length in bson");const O=f3(Z,J,J+T-1,u);g=new A4(O),J=J+T}else if(j===MV){const T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;if(T<13)throw new b("code_w_scope total size shorter minimum expected length");const O=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;if(O<=0||O>Z.length-J||Z[J+O-1]!==0)throw new b("bad string length in bson");const i=f3(Z,J,J+O-1,u);J=J+O;const M1=J,P0=Z[J]|Z[J+1]<<8|Z[J+2]<<16|Z[J+3]<<24,p1=b3(Z,M1,X,!1);if(J=J+P0,T<8+P0+O)throw new b("code_w_scope total size is too short, truncating scope");if(T>8+P0+O)throw new b("code_w_scope total size is too long, clips outer document");g=new A4(i,p1)}else if(j===qm){const T=Z[J++]|Z[J++]<<8|Z[J++]<<16|Z[J++]<<24;if(T<=0||T>Z.length-J||Z[J+T-1]!==0)throw new b("bad string length in bson");if(z!=null&&z.utf8){if(!jV(Z,J,J+T-1))throw new b("Invalid UTF-8 string in BSON document")}const O=_.toUTF8(Z,J,J+T-1);J=J+T;const i=_.allocate(12);i.set(Z.subarray(J,J+12),0);const M1=new G0(i);J=J+12,g=new t6(O,M1)}else throw new b(`Detected unknown BSON type ${j.toString(16)} for fieldname "${p}"`);if(p==="__proto__")Object.defineProperty(M,p,{value:g,writable:!0,enumerable:!0,configurable:!0});else M[p]=g}if(B!==J-w){if(Y)throw new b("corrupt array bson");throw new b("corrupt object bson")}if(!m)return M;if(EV(M)){const j=Object.assign({},M);return delete j.$ref,delete j.$id,delete j.$db,new t6(M.$ref,M.$id,M.$db,j)}return M},f3=function(Z,J,X,Y){const G=_.toUTF8(Z,J,X);if(Y){for(let $=0;$<G.length;$++)if(G.charCodeAt($)===65533){if(!jV(Z,J,X))throw new b("Invalid UTF-8 string in BSON document");break}}return G},u$=function(Z,J,X,Y){Z[Y++]=LV;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G+1,Z[Y-1]=0;const $=_.encodeUTF8Into(Z,X,Y+4);return Z[Y+3]=$+1>>24&255,Z[Y+2]=$+1>>16&255,Z[Y+1]=$+1>>8&255,Z[Y]=$+1&255,Y=Y+4+$,Z[Y++]=0,Y},m$=function(Z,J,X,Y){const $=!Object.is(X,-0)&&Number.isSafeInteger(X)&&X<=c3&&X>=l3?p5:v3;if($===p5)n5.setInt32(0,X,!0);else n5.setFloat64(0,X,!0);const W=$===p5?im:d3;Z[Y++]=$;const H=_.encodeUTF8Into(Z,J,Y);return Y=Y+H,Z[Y++]=0,Z.set(W,Y),Y+=W.byteLength,Y},d$=function(Z,J,X,Y){Z[Y++]=FW;const G=_.encodeUTF8Into(Z,J,Y);return Y+=G,Z[Y++]=0,n5.setBigInt64(0,X,!0),Z.set(d3,Y),Y+=d3.byteLength,Y},CZ=function(Z,J,X,Y){Z[Y++]=QW;const G=_.encodeUTF8Into(Z,J,Y);return Y=Y+G,Z[Y++]=0,Y},c$=function(Z,J,X,Y){Z[Y++]=wV;const G=_.encodeUTF8Into(Z,J,Y);return Y=Y+G,Z[Y++]=0,Z[Y++]=X?1:0,Y},l$=function(Z,J,X,Y){Z[Y++]=AV;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G,Z[Y++]=0;const $=C.fromNumber(X.getTime()),W=$.getLowBits(),H=$.getHighBits();return Z[Y++]=W&255,Z[Y++]=W>>8&255,Z[Y++]=W>>16&255,Z[Y++]=W>>24&255,Z[Y++]=H&255,Z[Y++]=H>>8&255,Z[Y++]=H>>16&255,Z[Y++]=H>>24&255,Y},p$=function(Z,J,X,Y){Z[Y++]=h3;const G=_.encodeUTF8Into(Z,J,Y);if(Y=Y+G,Z[Y++]=0,X.source&&X.source.match(m3)!=null)throw new b("value "+X.source+" must not contain null bytes");if(Y=Y+_.encodeUTF8Into(Z,X.source,Y),Z[Y++]=0,X.ignoreCase)Z[Y++]=105;if(X.global)Z[Y++]=115;if(X.multiline)Z[Y++]=109;return Z[Y++]=0,Y},i$=function(Z,J,X,Y){Z[Y++]=h3;const G=_.encodeUTF8Into(Z,J,Y);if(Y=Y+G,Z[Y++]=0,X.pattern.match(m3)!=null)throw new b("pattern "+X.pattern+" must not contain null bytes");Y=Y+_.encodeUTF8Into(Z,X.pattern,Y),Z[Y++]=0;const $=X.options.split("").sort().join("");return Y=Y+_.encodeUTF8Into(Z,$,Y),Z[Y++]=0,Y},n$=function(Z,J,X,Y){if(X===null)Z[Y++]=QW;else if(X._bsontype==="MinKey")Z[Y++]=DV;else Z[Y++]=CV;const G=_.encodeUTF8Into(Z,J,Y);return Y=Y+G,Z[Y++]=0,Y},a$=function(Z,J,X,Y){Z[Y++]=RV;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G,Z[Y++]=0;const $=X.id;if(m7($))for(let W=0;W<12;W++)Z[Y++]=$[W];else throw new b("object ["+JSON.stringify(X)+"] is not a valid ObjectId");return Y},s$=function(Z,J,X,Y){Z[Y++]=KW;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G,Z[Y++]=0;const $=X.length;return Z[Y++]=$&255,Z[Y++]=$>>8&255,Z[Y++]=$>>16&255,Z[Y++]=$>>24&255,Z[Y++]=Km,Z.set(X,Y),Y=Y+$,Y},r$=function(Z,J,X,Y,G,$,W,H,q){if(q.has(X))throw new b("Cannot convert circular structure to BSON");q.add(X),Z[Y++]=Array.isArray(X)?VV:qW;const K=_.encodeUTF8Into(Z,J,Y);Y=Y+K,Z[Y++]=0;const Q=TZ(Z,X,G,Y,$+1,W,H,q);return q.delete(X),Q},t$=function(Z,J,X,Y){Z[Y++]=IV;const G=_.encodeUTF8Into(Z,J,Y);return Y=Y+G,Z[Y++]=0,Z.set(X.bytes.subarray(0,16),Y),Y+16},o$=function(Z,J,X,Y){Z[Y++]=X._bsontype==="Long"?FW:NV;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G,Z[Y++]=0;const $=X.getLowBits(),W=X.getHighBits();return Z[Y++]=$&255,Z[Y++]=$>>8&255,Z[Y++]=$>>16&255,Z[Y++]=$>>24&255,Z[Y++]=W&255,Z[Y++]=W>>8&255,Z[Y++]=W>>16&255,Z[Y++]=W>>24&255,Y},e$=function(Z,J,X,Y){X=X.valueOf(),Z[Y++]=p5;const G=_.encodeUTF8Into(Z,J,Y);return Y=Y+G,Z[Y++]=0,Z[Y++]=X&255,Z[Y++]=X>>8&255,Z[Y++]=X>>16&255,Z[Y++]=X>>24&255,Y},ZW=function(Z,J,X,Y){Z[Y++]=v3;const G=_.encodeUTF8Into(Z,J,Y);return Y=Y+G,Z[Y++]=0,n5.setFloat64(0,X.value,!0),Z.set(d3,Y),Y=Y+8,Y},JW=function(Z,J,X,Y){Z[Y++]=zW;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G,Z[Y++]=0;const $=X.toString(),W=_.encodeUTF8Into(Z,$,Y+4)+1;return Z[Y]=W&255,Z[Y+1]=W>>8&255,Z[Y+2]=W>>16&255,Z[Y+3]=W>>24&255,Y=Y+4+W-1,Z[Y++]=0,Y},XW=function(Z,J,X,Y,G=!1,$=0,W=!1,H=!0,q){if(X.scope&&typeof X.scope==="object"){Z[Y++]=MV;const K=_.encodeUTF8Into(Z,J,Y);Y=Y+K,Z[Y++]=0;let Q=Y;const z=X.code;Y=Y+4;const F=_.encodeUTF8Into(Z,z,Y+4)+1;Z[Y]=F&255,Z[Y+1]=F>>8&255,Z[Y+2]=F>>16&255,Z[Y+3]=F>>24&255,Z[Y+4+F-1]=0,Y=Y+F+4;const U=TZ(Z,X.scope,G,Y,$+1,W,H,q);Y=U-1;const L=U-Q;Z[Q++]=L&255,Z[Q++]=L>>8&255,Z[Q++]=L>>16&255,Z[Q++]=L>>24&255,Z[Y++]=0}else{Z[Y++]=zW;const K=_.encodeUTF8Into(Z,J,Y);Y=Y+K,Z[Y++]=0;const Q=X.code.toString(),z=_.encodeUTF8Into(Z,Q,Y+4)+1;Z[Y]=z&255,Z[Y+1]=z>>8&255,Z[Y+2]=z>>16&255,Z[Y+3]=z>>24&255,Y=Y+4+z-1,Z[Y++]=0}return Y},YW=function(Z,J,X,Y){Z[Y++]=KW;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G,Z[Y++]=0;const $=X.buffer;let W=X.position;if(X.sub_type===N1.SUBTYPE_BYTE_ARRAY)W=W+4;if(Z[Y++]=W&255,Z[Y++]=W>>8&255,Z[Y++]=W>>16&255,Z[Y++]=W>>24&255,Z[Y++]=X.sub_type,X.sub_type===N1.SUBTYPE_BYTE_ARRAY)W=W-4,Z[Y++]=W&255,Z[Y++]=W>>8&255,Z[Y++]=W>>16&255,Z[Y++]=W>>24&255;return Z.set($,Y),Y=Y+X.position,Y},GW=function(Z,J,X,Y){Z[Y++]=BV;const G=_.encodeUTF8Into(Z,J,Y);Y=Y+G,Z[Y++]=0;const $=_.encodeUTF8Into(Z,X.value,Y+4)+1;return Z[Y]=$&255,Z[Y+1]=$>>8&255,Z[Y+2]=$>>16&255,Z[Y+3]=$>>24&255,Y=Y+4+$-1,Z[Y++]=0,Y},$W=function(Z,J,X,Y,G,$,W){Z[Y++]=qW;const H=_.encodeUTF8Into(Z,J,Y);Y=Y+H,Z[Y++]=0;let q=Y,K={$ref:X.collection||X.namespace,$id:X.oid};if(X.db!=null)K.$db=X.db;K=Object.assign(K,X.fields);const Q=TZ(Z,K,!1,Y,G+1,$,!0,W),z=Q-q;return Z[q++]=z&255,Z[q++]=z>>8&255,Z[q++]=z>>16&255,Z[q++]=z>>24&255,Q},TZ=function(Z,J,X,Y,G,$,W,H){if(H==null){if(J==null)return Z[0]=5,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0,5;if(Array.isArray(J))throw new b("serialize does not support an array as the root input");if(typeof J!=="object")throw new b("serialize does not support non-object as the root input");else if("_bsontype"in J&&typeof J._bsontype==="string")throw new b("BSON types cannot be serialized as a document");else if(c5(J)||d5(J)||m7(J)||WW(J))throw new b("date, regexp, typedarray, and arraybuffer cannot be BSON documents");H=new Set}H.add(J);let q=Y+4;if(Array.isArray(J))for(let Q=0;Q<J.length;Q++){const z=`${Q}`;let F=J[Q];if(typeof F?.toBSON==="function")F=F.toBSON();if(typeof F==="string")q=u$(Z,z,F,q);else if(typeof F==="number")q=m$(Z,z,F,q);else if(typeof F==="bigint")q=d$(Z,z,F,q);else if(typeof F==="boolean")q=c$(Z,z,F,q);else if(F instanceof Date||c5(F))q=l$(Z,z,F,q);else if(F===void 0)q=CZ(Z,z,F,q);else if(F===null)q=CZ(Z,z,F,q);else if(m7(F))q=s$(Z,z,F,q);else if(F instanceof RegExp||d5(F))q=p$(Z,z,F,q);else if(typeof F==="object"&&F._bsontype==null)q=r$(Z,z,F,q,X,G,$,W,H);else if(typeof F==="object"&&F[Symbol.for("@@mdb.bson.version")]!==d7)throw new r4;else if(F._bsontype==="ObjectId")q=a$(Z,z,F,q);else if(F._bsontype==="Decimal128")q=t$(Z,z,F,q);else if(F._bsontype==="Long"||F._bsontype==="Timestamp")q=o$(Z,z,F,q);else if(F._bsontype==="Double")q=ZW(Z,z,F,q);else if(typeof F==="function"&&$)q=JW(Z,z,F,q);else if(F._bsontype==="Code")q=XW(Z,z,F,q,X,G,$,W,H);else if(F._bsontype==="Binary")q=YW(Z,z,F,q);else if(F._bsontype==="BSONSymbol")q=GW(Z,z,F,q);else if(F._bsontype==="DBRef")q=$W(Z,z,F,q,G,$,H);else if(F._bsontype==="BSONRegExp")q=i$(Z,z,F,q);else if(F._bsontype==="Int32")q=e$(Z,z,F,q);else if(F._bsontype==="MinKey"||F._bsontype==="MaxKey")q=n$(Z,z,F,q);else if(typeof F._bsontype!=="undefined")throw new b(`Unrecognized or invalid _bsontype: ${String(F._bsontype)}`)}else if(J instanceof Map||HW(J)){const Q=J.entries();let z=!1;while(!z){const F=Q.next();if(z=!!F.done,z)continue;const U=F.value[0];let L=F.value[1];if(typeof L?.toBSON==="function")L=L.toBSON();const V=typeof L;if(typeof U==="string"&&!qV.has(U)){if(U.match(m3)!=null)throw new b("key "+U+" must not contain null bytes");if(X){if(U[0]==="$")throw new b("key "+U+" must not start with '$'");else if(~U.indexOf("."))throw new b("key "+U+" must not contain '.'")}}if(V==="string")q=u$(Z,U,L,q);else if(V==="number")q=m$(Z,U,L,q);else if(V==="bigint")q=d$(Z,U,L,q);else if(V==="boolean")q=c$(Z,U,L,q);else if(L instanceof Date||c5(L))q=l$(Z,U,L,q);else if(L===null||L===void 0&&W===!1)q=CZ(Z,U,L,q);else if(m7(L))q=s$(Z,U,L,q);else if(L instanceof RegExp||d5(L))q=p$(Z,U,L,q);else if(V==="object"&&L._bsontype==null)q=r$(Z,U,L,q,X,G,$,W,H);else if(typeof L==="object"&&L[Symbol.for("@@mdb.bson.version")]!==d7)throw new r4;else if(L._bsontype==="ObjectId")q=a$(Z,U,L,q);else if(V==="object"&&L._bsontype==="Decimal128")q=t$(Z,U,L,q);else if(L._bsontype==="Long"||L._bsontype==="Timestamp")q=o$(Z,U,L,q);else if(L._bsontype==="Double")q=ZW(Z,U,L,q);else if(L._bsontype==="Code")q=XW(Z,U,L,q,X,G,$,W,H);else if(typeof L==="function"&&$)q=JW(Z,U,L,q);else if(L._bsontype==="Binary")q=YW(Z,U,L,q);else if(L._bsontype==="BSONSymbol")q=GW(Z,U,L,q);else if(L._bsontype==="DBRef")q=$W(Z,U,L,q,G,$,H);else if(L._bsontype==="BSONRegExp")q=i$(Z,U,L,q);else if(L._bsontype==="Int32")q=e$(Z,U,L,q);else if(L._bsontype==="MinKey"||L._bsontype==="MaxKey")q=n$(Z,U,L,q);else if(typeof L._bsontype!=="undefined")throw new b(`Unrecognized or invalid _bsontype: ${String(L._bsontype)}`)}}else{if(typeof J?.toBSON==="function"){if(J=J.toBSON(),J!=null&&typeof J!=="object")throw new b("toBSON function did not return an object")}for(let Q of Object.keys(J)){let z=J[Q];if(typeof z?.toBSON==="function")z=z.toBSON();const F=typeof z;if(typeof Q==="string"&&!qV.has(Q)){if(Q.match(m3)!=null)throw new b("key "+Q+" must not contain null bytes");if(X){if(Q[0]==="$")throw new b("key "+Q+" must not start with '$'");else if(~Q.indexOf("."))throw new b("key "+Q+" must not contain '.'")}}if(F==="string")q=u$(Z,Q,z,q);else if(F==="number")q=m$(Z,Q,z,q);else if(F==="bigint")q=d$(Z,Q,z,q);else if(F==="boolean")q=c$(Z,Q,z,q);else if(z instanceof Date||c5(z))q=l$(Z,Q,z,q);else if(z===void 0){if(W===!1)q=CZ(Z,Q,z,q)}else if(z===null)q=CZ(Z,Q,z,q);else if(m7(z))q=s$(Z,Q,z,q);else if(z instanceof RegExp||d5(z))q=p$(Z,Q,z,q);else if(F==="object"&&z._bsontype==null)q=r$(Z,Q,z,q,X,G,$,W,H);else if(typeof z==="object"&&z[Symbol.for("@@mdb.bson.version")]!==d7)throw new r4;else if(z._bsontype==="ObjectId")q=a$(Z,Q,z,q);else if(F==="object"&&z._bsontype==="Decimal128")q=t$(Z,Q,z,q);else if(z._bsontype==="Long"||z._bsontype==="Timestamp")q=o$(Z,Q,z,q);else if(z._bsontype==="Double")q=ZW(Z,Q,z,q);else if(z._bsontype==="Code")q=XW(Z,Q,z,q,X,G,$,W,H);else if(typeof z==="function"&&$)q=JW(Z,Q,z,q);else if(z._bsontype==="Binary")q=YW(Z,Q,z,q);else if(z._bsontype==="BSONSymbol")q=GW(Z,Q,z,q);else if(z._bsontype==="DBRef")q=$W(Z,Q,z,q,G,$,H);else if(z._bsontype==="BSONRegExp")q=i$(Z,Q,z,q);else if(z._bsontype==="Int32")q=e$(Z,Q,z,q);else if(z._bsontype==="MinKey"||z._bsontype==="MaxKey")q=n$(Z,Q,z,q);else if(typeof z._bsontype!=="undefined")throw new b(`Unrecognized or invalid _bsontype: ${String(z._bsontype)}`)}}H.delete(J),Z[q++]=0;const K=q-Y;return Z[Y++]=K&255,Z[Y++]=K>>8&255,Z[Y++]=K>>16&255,Z[Y++]=K>>24&255,q},nm=function(Z){return Z!=null&&typeof Z==="object"&&"_bsontype"in Z&&typeof Z._bsontype==="string"},SV=function(Z,J={}){if(typeof Z==="number"){const Y=Z<=c3&&Z>=l3,G=Z<=QV&&Z>=zV;if(J.relaxed||J.legacy)return Z;if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(Y)return new o4(Z);if(G){if(J.useBigInt64)return BigInt(Z);return C.fromNumber(Z)}}return new t4(Z)}if(Z==null||typeof Z!=="object")return Z;if(Z.$undefined)return null;const X=Object.keys(Z).filter((Y)=>Y.startsWith("$")&&Z[Y]!=null);for(let Y=0;Y<X.length;Y++){const G=am[X[Y]];if(G)return G.fromExtendedJSON(Z,J)}if(Z.$date!=null){const Y=Z.$date,G=new Date;if(J.legacy)if(typeof Y==="number")G.setTime(Y);else if(typeof Y==="string")G.setTime(Date.parse(Y));else if(typeof Y==="bigint")G.setTime(Number(Y));else throw new EZ(`Unrecognized type for EJSON date: ${typeof Y}`);else if(typeof Y==="string")G.setTime(Date.parse(Y));else if(C.isLong(Y))G.setTime(Y.toNumber());else if(typeof Y==="number"&&J.relaxed)G.setTime(Y);else if(typeof Y==="bigint")G.setTime(Number(Y));else throw new EZ(`Unrecognized type for EJSON date: ${typeof Y}`);return G}if(Z.$code!=null){const Y=Object.assign({},Z);if(Z.$scope)Y.$scope=SV(Z.$scope);return A4.fromExtendedJSON(Z)}if(EV(Z)||Z.$dbPointer){const Y=Z.$ref?Z:Z.$dbPointer;if(Y instanceof t6)return Y;const G=Object.keys(Y).filter((W)=>W.startsWith("$"));let $=!0;if(G.forEach((W)=>{if(["$ref","$id","$db"].indexOf(W)===-1)$=!1}),$)return t6.fromExtendedJSON(Y)}return Z},sm=function(Z,J){return Z.map((X,Y)=>{J.seenObjects.push({propertyName:`index ${Y}`,obj:null});try{return w4(X,J)}finally{J.seenObjects.pop()}})},KV=function(Z){const J=Z.toISOString();return Z.getUTCMilliseconds()!==0?J:J.slice(0,-5)+"Z"},w4=function(Z,J){if(Z instanceof Map||HW(Z)){const X=Object.create(null);for(let[Y,G]of Z){if(typeof Y!=="string")throw new b("Can only serialize maps with string keys");X[Y]=G}return w4(X,J)}if((typeof Z==="object"||typeof Z==="function")&&Z!==null){const X=J.seenObjects.findIndex((Y)=>Y.obj===Z);if(X!==-1){const Y=J.seenObjects.map((Q)=>Q.propertyName),G=Y.slice(0,X).map((Q)=>`${Q} -> `).join(""),$=Y[X],W=" -> "+Y.slice(X+1,Y.length-1).map((Q)=>`${Q} -> `).join(""),H=Y[Y.length-1],q=" ".repeat(G.length+$.length/2),K="-".repeat(W.length+($.length+H.length)/2-1);throw new b("Converting circular structure to EJSON:\n"+`    ${G}${$}${W}${H}\n`+`    ${q}\\${K}/`)}J.seenObjects[J.seenObjects.length-1].obj=Z}if(Array.isArray(Z))return sm(Z,J);if(Z===void 0)return null;if(Z instanceof Date||c5(Z)){const X=Z.getTime(),Y=X>-1&&X<253402318800000;if(J.legacy)return J.relaxed&&Y?{$date:Z.getTime()}:{$date:KV(Z)};return J.relaxed&&Y?{$date:KV(Z)}:{$date:{$numberLong:Z.getTime().toString()}}}if(typeof Z==="number"&&(!J.relaxed||!isFinite(Z))){if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(Z>=l3&&Z<=c3)return{$numberInt:Z.toString()};if(Z>=zV&&Z<=QV)return{$numberLong:Z.toString()}}return{$numberDouble:Object.is(Z,-0)?"-0.0":Z.toString()}}if(typeof Z==="bigint"){if(!J.relaxed)return{$numberLong:BigInt.asIntN(64,Z).toString()};return Number(BigInt.asIntN(64,Z))}if(Z instanceof RegExp||d5(Z)){let X=Z.flags;if(X===void 0){const G=Z.toString().match(/[gimuy]*$/);if(G)X=G[0]}return new J6(Z.source,X).toExtendedJSON(J)}if(Z!=null&&typeof Z==="object")return tm(Z,J);return Z},tm=function(Z,J){if(Z==null||typeof Z!=="object")throw new b("not an object instance");const X=Z._bsontype;if(typeof X==="undefined"){const Y={};for(let G of Object.keys(Z)){J.seenObjects.push({propertyName:G,obj:null});try{const $=w4(Z[G],J);if(G==="__proto__")Object.defineProperty(Y,G,{value:$,writable:!0,enumerable:!0,configurable:!0});else Y[G]=$}finally{J.seenObjects.pop()}}return Y}else if(Z!=null&&typeof Z==="object"&&typeof Z._bsontype==="string"&&Z[Symbol.for("@@mdb.bson.version")]!==d7)throw new r4;else if(nm(Z)){let Y=Z;if(typeof Y.toExtendedJSON!=="function"){const G=rm[Z._bsontype];if(!G)throw new b("Unrecognized or invalid _bsontype: "+Z._bsontype);Y=G(Y)}if(X==="Code"&&Y.scope)Y=new A4(Y.code,w4(Y.scope,J));else if(X==="DBRef"&&Y.oid)Y=new t6(w4(Y.collection,J),w4(Y.oid,J),w4(Y.db,J),w4(Y.fields,J));return Y.toExtendedJSON(J)}else throw new b("_bsontype must be a string, but was: "+typeof X)},kV=function(Z,J){const X={useBigInt64:J?.useBigInt64??!1,relaxed:J?.relaxed??!0,legacy:J?.legacy??!1};return JSON.parse(Z,(Y,G)=>{if(Y.indexOf("\0")!==-1)throw new b(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(Y)}`);return SV(G,X)})},_V=function(Z,J,X,Y){if(X!=null&&typeof X==="object")Y=X,X=0;if(J!=null&&typeof J==="object"&&!Array.isArray(J))Y=J,J=void 0,X=0;const G=Object.assign({relaxed:!0,legacy:!1},Y,{seenObjects:[{propertyName:"(root)",obj:null}]}),$=w4(Z,G);return JSON.stringify($,J,X)},om=function(Z,J){return J=J||{},JSON.parse(_V(Z,J))},em=function(Z,J){return J=J||{},kV(JSON.stringify(Z),J)},gV=function(Z){if(s4.length<Z)s4=_.allocate(Z)},fV=function(Z,J={}){const X=typeof J.checkKeys==="boolean"?J.checkKeys:!1,Y=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,G=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!0,$=typeof J.minInternalBufferSize==="number"?J.minInternalBufferSize:xV;if(s4.length<$)s4=_.allocate($);const W=TZ(s4,Z,X,0,0,Y,G,null),H=_.allocate(W);return H.set(s4.subarray(0,W),0),H},yV=function(Z,J,X={}){const Y=typeof X.checkKeys==="boolean"?X.checkKeys:!1,G=typeof X.serializeFunctions==="boolean"?X.serializeFunctions:!1,$=typeof X.ignoreUndefined==="boolean"?X.ignoreUndefined:!0,W=typeof X.index==="number"?X.index:0,H=TZ(s4,Z,Y,0,0,G,$,null);return J.set(s4.subarray(0,H),W),W+H-1},bV=function(Z,J={}){return OV(_.toLocalBufferType(Z),J)},vV=function(Z,J={}){J=J||{};const X=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,Y=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!0;return y3(Z,X,Y)},hV=function(Z,J,X,Y,G,$){const W=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},$),H=_.toLocalBufferType(Z);let q=J;for(let K=0;K<X;K++){const Q=H[q]|H[q+1]<<8|H[q+2]<<16|H[q+3]<<24;W.index=q,Y[G+K]=OV(H,W),q=q+Q}return q},d7=6,c3=2147483647,l3=-2147483648,QV=Math.pow(2,63)-1,zV=-Math.pow(2,63),FV=Math.pow(2,53),UV=-Math.pow(2,53),v3=1,LV=2,qW=3,VV=4,KW=5,Hm=6,RV=7,wV=8,AV=9,QW=10,h3=11,qm=12,zW=13,BV=14,MV=15,p5=16,NV=17,FW=18,IV=19,DV=255,CV=127,Km=0,u3=4,PV=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class b extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(Z){super(Z)}static isBSONError(Z){return Z!=null&&typeof Z==="object"&&"bsonError"in Z&&Z.bsonError===!0&&"name"in Z&&"message"in Z&&"stack"in Z}}class r4 extends b{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${d7}.x.x`)}}class EZ extends b{get name(){return"BSONRuntimeError"}constructor(Z){super(Z)}}var zm=(()=>{try{return import.meta.require("crypto").randomBytes}catch{return Qm}})(),a4={toLocalBufferType(Z){if(Buffer.isBuffer(Z))return Z;if(ArrayBuffer.isView(Z))return Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength);const J=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(J==="ArrayBuffer"||J==="SharedArrayBuffer"||J==="[object ArrayBuffer]"||J==="[object SharedArrayBuffer]")return Buffer.from(Z);throw new b(`Cannot create Buffer from ${String(Z)}`)},allocate(Z){return Buffer.alloc(Z)},equals(Z,J){return a4.toLocalBufferType(Z).equals(J)},fromNumberArray(Z){return Buffer.from(Z)},fromBase64(Z){return Buffer.from(Z,"base64")},toBase64(Z){return a4.toLocalBufferType(Z).toString("base64")},fromISO88591(Z){return Buffer.from(Z,"binary")},toISO88591(Z){return a4.toLocalBufferType(Z).toString("binary")},fromHex(Z){return Buffer.from(Z,"hex")},toHex(Z){return a4.toLocalBufferType(Z).toString("hex")},fromUTF8(Z){return Buffer.from(Z,"utf8")},toUTF8(Z,J,X){return a4.toLocalBufferType(Z).toString("utf8",J,X)},utf8ByteLength(Z){return Buffer.byteLength(Z,"utf8")},encodeUTF8Into(Z,J,X){return a4.toLocalBufferType(Z).write(J,X,void 0,"utf8")},randomBytes:zm},Lm=(()=>{const{crypto:Z}=globalThis;if(Z!=null&&typeof Z.getRandomValues==="function")return(J)=>{return Z.getRandomValues(i5.allocate(J))};else{if(Fm()){const{console:J}=globalThis;J?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return Um}})(),rL=/(\d|[a-f])/i,i5={toLocalBufferType(Z){const J=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(J==="Uint8Array")return Z;if(ArrayBuffer.isView(Z))return new Uint8Array(Z.buffer.slice(Z.byteOffset,Z.byteOffset+Z.byteLength));if(J==="ArrayBuffer"||J==="SharedArrayBuffer"||J==="[object ArrayBuffer]"||J==="[object SharedArrayBuffer]")return new Uint8Array(Z);throw new b(`Cannot make a Uint8Array from ${String(Z)}`)},allocate(Z){if(typeof Z!=="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(Z)}`);return new Uint8Array(Z)},equals(Z,J){if(Z.byteLength!==J.byteLength)return!1;for(let X=0;X<Z.byteLength;X++)if(Z[X]!==J[X])return!1;return!0},fromNumberArray(Z){return Uint8Array.from(Z)},fromBase64(Z){return Uint8Array.from(atob(Z),(J)=>J.charCodeAt(0))},toBase64(Z){return btoa(i5.toISO88591(Z))},fromISO88591(Z){return Uint8Array.from(Z,(J)=>J.charCodeAt(0)&255)},toISO88591(Z){return Array.from(Uint16Array.from(Z),(J)=>String.fromCharCode(J)).join("")},fromHex(Z){const J=Z.length%2===0?Z:Z.slice(0,Z.length-1),X=[];for(let Y=0;Y<J.length;Y+=2){const G=J[Y],$=J[Y+1];if(!rL.test(G))break;if(!rL.test($))break;const W=Number.parseInt(`${G}${$}`,16);X.push(W)}return Uint8Array.from(X)},toHex(Z){return Array.from(Z,(J)=>J.toString(16).padStart(2,"0")).join("")},fromUTF8(Z){return(new TextEncoder()).encode(Z)},toUTF8(Z,J,X){return new TextDecoder("utf8",{fatal:!1}).decode(Z.slice(J,X))},utf8ByteLength(Z){return i5.fromUTF8(Z).byteLength},encodeUTF8Into(Z,J,X){const Y=i5.fromUTF8(J);return Z.set(Y,X),Y.byteLength},randomBytes:Lm},Vm=typeof Buffer==="function"&&Buffer.prototype?._isBuffer!==!0,_=Vm?a4:i5;class PZ extends DataView{static fromUint8Array(Z){return new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}}class Y8{get[Symbol.for("@@mdb.bson.version")](){return d7}[Symbol.for("nodejs.util.inspect.custom")](Z,J,X){return this.inspect(Z,J,X)}}class N1 extends Y8{get _bsontype(){return"Binary"}constructor(Z,J){super();if(Z!=null&&typeof Z==="string"&&!ArrayBuffer.isView(Z)&&!WW(Z)&&!Array.isArray(Z))throw new b("Binary can only be constructed from Uint8Array or number[]");if(this.sub_type=J??N1.BSON_BINARY_SUBTYPE_DEFAULT,Z==null)this.buffer=_.allocate(N1.BUFFER_SIZE),this.position=0;else this.buffer=Array.isArray(Z)?_.fromNumberArray(Z):_.toLocalBufferType(Z),this.position=this.buffer.byteLength}put(Z){if(typeof Z==="string"&&Z.length!==1)throw new b("only accepts single character String");else if(typeof Z!=="number"&&Z.length!==1)throw new b("only accepts single character Uint8Array or Array");let J;if(typeof Z==="string")J=Z.charCodeAt(0);else if(typeof Z==="number")J=Z;else J=Z[0];if(J<0||J>255)throw new b("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=J;else{const X=_.allocate(N1.BUFFER_SIZE+this.buffer.length);X.set(this.buffer,0),this.buffer=X,this.buffer[this.position++]=J}}write(Z,J){if(J=typeof J==="number"?J:this.position,this.buffer.byteLength<J+Z.length){const X=_.allocate(this.buffer.byteLength+Z.length);X.set(this.buffer,0),this.buffer=X}if(ArrayBuffer.isView(Z))this.buffer.set(_.toLocalBufferType(Z),J),this.position=J+Z.byteLength>this.position?J+Z.length:this.position;else if(typeof Z==="string")throw new b("input cannot be string")}read(Z,J){return J=J&&J>0?J:this.position,this.buffer.slice(Z,Z+J)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return _.toBase64(this.buffer)}toString(Z){if(Z==="hex")return _.toHex(this.buffer);if(Z==="base64")return _.toBase64(this.buffer);if(Z==="utf8"||Z==="utf-8")return _.toUTF8(this.buffer,0,this.buffer.byteLength);return _.toUTF8(this.buffer,0,this.buffer.byteLength)}toExtendedJSON(Z){Z=Z||{};const J=_.toBase64(this.buffer),X=Number(this.sub_type).toString(16);if(Z.legacy)return{$binary:J,$type:X.length===1?"0"+X:X};return{$binary:{base64:J,subType:X.length===1?"0"+X:X}}}toUUID(){if(this.sub_type===N1.SUBTYPE_UUID)return new E0(this.buffer.slice(0,this.position));throw new b(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${N1.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(Z,J){return new N1(_.fromHex(Z),J)}static createFromBase64(Z,J){return new N1(_.fromBase64(Z),J)}static fromExtendedJSON(Z,J){J=J||{};let X,Y;if("$binary"in Z){if(J.legacy&&typeof Z.$binary==="string"&&"$type"in Z)Y=Z.$type?parseInt(Z.$type,16):0,X=_.fromBase64(Z.$binary);else if(typeof Z.$binary!=="string")Y=Z.$binary.subType?parseInt(Z.$binary.subType,16):0,X=_.fromBase64(Z.$binary.base64)}else if("$uuid"in Z)Y=4,X=E0.bytesFromString(Z.$uuid);if(!X)throw new b(`Unexpected Binary Extended JSON format ${JSON.stringify(Z)}`);return Y===u3?new E0(X):new N1(X,Y)}inspect(Z,J,X){X??=v8;const Y=_.toBase64(this.buffer.subarray(0,this.position)),G=X(Y,J),$=X(this.sub_type,J);return`Binary.createFromBase64(${G}, ${$})`}}N1.BSON_BINARY_SUBTYPE_DEFAULT=0;N1.BUFFER_SIZE=256;N1.SUBTYPE_DEFAULT=0;N1.SUBTYPE_FUNCTION=1;N1.SUBTYPE_BYTE_ARRAY=2;N1.SUBTYPE_UUID_OLD=3;N1.SUBTYPE_UUID=4;N1.SUBTYPE_MD5=5;N1.SUBTYPE_ENCRYPTED=6;N1.SUBTYPE_COLUMN=7;N1.SUBTYPE_USER_DEFINED=128;var v$=16,Rm=/^[0-9A-F]{32}$/i,wm=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class E0 extends N1{constructor(Z){let J;if(Z==null)J=E0.generate();else if(Z instanceof E0)J=_.toLocalBufferType(new Uint8Array(Z.buffer));else if(ArrayBuffer.isView(Z)&&Z.byteLength===v$)J=_.toLocalBufferType(Z);else if(typeof Z==="string")J=E0.bytesFromString(Z);else throw new b("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(J,u3)}get id(){return this.buffer}set id(Z){this.buffer=Z}toHexString(Z=!0){if(Z)return[_.toHex(this.buffer.subarray(0,4)),_.toHex(this.buffer.subarray(4,6)),_.toHex(this.buffer.subarray(6,8)),_.toHex(this.buffer.subarray(8,10)),_.toHex(this.buffer.subarray(10,16))].join("-");return _.toHex(this.buffer)}toString(Z){if(Z==="hex")return _.toHex(this.id);if(Z==="base64")return _.toBase64(this.id);return this.toHexString()}toJSON(){return this.toHexString()}equals(Z){if(!Z)return!1;if(Z instanceof E0)return _.equals(Z.id,this.id);try{return _.equals(new E0(Z).id,this.id)}catch{return!1}}toBinary(){return new N1(this.id,N1.SUBTYPE_UUID)}static generate(){const Z=_.randomBytes(v$);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z}static isValid(Z){if(!Z)return!1;if(typeof Z==="string")return E0.isValidUUIDString(Z);if(m7(Z))return Z.byteLength===v$;return Z._bsontype==="Binary"&&Z.sub_type===this.SUBTYPE_UUID&&Z.buffer.byteLength===16}static createFromHexString(Z){const J=E0.bytesFromString(Z);return new E0(J)}static createFromBase64(Z){return new E0(_.fromBase64(Z))}static bytesFromString(Z){if(!E0.isValidUUIDString(Z))throw new b("UUID string representation must be 32 hex digits or canonical hyphenated representation");return _.fromHex(Z.replace(/-/g,""))}static isValidUUIDString(Z){return Rm.test(Z)||wm.test(Z)}inspect(Z,J,X){return X??=v8,`new UUID(${X(this.toHexString(),J)})`}}class A4 extends Y8{get _bsontype(){return"Code"}constructor(Z,J){super();this.code=Z.toString(),this.scope=J??null}toJSON(){if(this.scope!=null)return{code:this.code,scope:this.scope};return{code:this.code}}toExtendedJSON(){if(this.scope)return{$code:this.code,$scope:this.scope};return{$code:this.code}}static fromExtendedJSON(Z){return new A4(Z.$code,Z.$scope)}inspect(Z,J,X){X??=v8;let Y=X(this.code,J);const G=Y.includes("\n");if(this.scope!=null)Y+=`,${G?"\n":" "}${X(this.scope,J)}`;const $=G&&this.scope===null;return`new Code(${G?"\n":""}${Y}${$?"\n":""})`}}class t6 extends Y8{get _bsontype(){return"DBRef"}constructor(Z,J,X,Y){super();const G=Z.split(".");if(G.length===2)X=G.shift(),Z=G.shift();this.collection=Z,this.oid=J,this.db=X,this.fields=Y||{}}get namespace(){return this.collection}set namespace(Z){this.collection=Z}toJSON(){const Z=Object.assign({$ref:this.collection,$id:this.oid},this.fields);if(this.db!=null)Z.$db=this.db;return Z}toExtendedJSON(Z){Z=Z||{};let J={$ref:this.collection,$id:this.oid};if(Z.legacy)return J;if(this.db)J.$db=this.db;return J=Object.assign(J,this.fields),J}static fromExtendedJSON(Z){const J=Object.assign({},Z);return delete J.$ref,delete J.$id,delete J.$db,new t6(Z.$ref,Z.$id,Z.$db,J)}inspect(Z,J,X){X??=v8;const Y=[X(this.namespace,J),X(this.oid,J),...this.db?[X(this.db,J)]:[],...Object.keys(this.fields).length>0?[X(this.fields,J)]:[]];return Y[1]=X===v8?`new ObjectId(${Y[1]})`:Y[1],`new DBRef(${Y.join(", ")})`}}var e8=void 0;try{e8=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var tL=1<<16,Am=1<<24,l5=tL*tL,TV=l5*l5,oL=TV/2,eL={},ZV={},Bm=20,Mm=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class C extends Y8{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(Z=0,J,X){super();if(typeof Z==="bigint")Object.assign(this,C.fromBigInt(Z,!!J));else if(typeof Z==="string")Object.assign(this,C.fromString(Z,!!J));else this.low=Z|0,this.high=J|0,this.unsigned=!!X}static fromBits(Z,J,X){return new C(Z,J,X)}static fromInt(Z,J){let X,Y,G;if(J){if(Z>>>=0,G=0<=Z&&Z<256){if(Y=ZV[Z],Y)return Y}if(X=C.fromBits(Z,(Z|0)<0?-1:0,!0),G)ZV[Z]=X;return X}else{if(Z|=0,G=-128<=Z&&Z<128){if(Y=eL[Z],Y)return Y}if(X=C.fromBits(Z,Z<0?-1:0,!1),G)eL[Z]=X;return X}}static fromNumber(Z,J){if(isNaN(Z))return J?C.UZERO:C.ZERO;if(J){if(Z<0)return C.UZERO;if(Z>=TV)return C.MAX_UNSIGNED_VALUE}else{if(Z<=-oL)return C.MIN_VALUE;if(Z+1>=oL)return C.MAX_VALUE}if(Z<0)return C.fromNumber(-Z,J).neg();return C.fromBits(Z%l5|0,Z/l5|0,J)}static fromBigInt(Z,J){return C.fromString(Z.toString(),J)}static fromString(Z,J,X){if(Z.length===0)throw new b("empty string");if(Z==="NaN"||Z==="Infinity"||Z==="+Infinity"||Z==="-Infinity")return C.ZERO;if(typeof J==="number")X=J,J=!1;else J=!!J;if(X=X||10,X<2||36<X)throw new b("radix");let Y;if((Y=Z.indexOf("-"))>0)throw new b("interior hyphen");else if(Y===0)return C.fromString(Z.substring(1),J,X).neg();const G=C.fromNumber(Math.pow(X,8));let $=C.ZERO;for(let W=0;W<Z.length;W+=8){const H=Math.min(8,Z.length-W),q=parseInt(Z.substring(W,W+H),X);if(H<8){const K=C.fromNumber(Math.pow(X,H));$=$.mul(K).add(C.fromNumber(q))}else $=$.mul(G),$=$.add(C.fromNumber(q))}return $.unsigned=J,$}static fromBytes(Z,J,X){return X?C.fromBytesLE(Z,J):C.fromBytesBE(Z,J)}static fromBytesLE(Z,J){return new C(Z[0]|Z[1]<<8|Z[2]<<16|Z[3]<<24,Z[4]|Z[5]<<8|Z[6]<<16|Z[7]<<24,J)}static fromBytesBE(Z,J){return new C(Z[4]<<24|Z[5]<<16|Z[6]<<8|Z[7],Z[0]<<24|Z[1]<<16|Z[2]<<8|Z[3],J)}static isLong(Z){return Z!=null&&typeof Z==="object"&&"__isLong__"in Z&&Z.__isLong__===!0}static fromValue(Z,J){if(typeof Z==="number")return C.fromNumber(Z,J);if(typeof Z==="string")return C.fromString(Z,J);return C.fromBits(Z.low,Z.high,typeof J==="boolean"?J:Z.unsigned)}add(Z){if(!C.isLong(Z))Z=C.fromValue(Z);const J=this.high>>>16,X=this.high&65535,Y=this.low>>>16,G=this.low&65535,$=Z.high>>>16,W=Z.high&65535,H=Z.low>>>16,q=Z.low&65535;let K=0,Q=0,z=0,F=0;return F+=G+q,z+=F>>>16,F&=65535,z+=Y+H,Q+=z>>>16,z&=65535,Q+=X+W,K+=Q>>>16,Q&=65535,K+=J+$,K&=65535,C.fromBits(z<<16|F,K<<16|Q,this.unsigned)}and(Z){if(!C.isLong(Z))Z=C.fromValue(Z);return C.fromBits(this.low&Z.low,this.high&Z.high,this.unsigned)}compare(Z){if(!C.isLong(Z))Z=C.fromValue(Z);if(this.eq(Z))return 0;const J=this.isNegative(),X=Z.isNegative();if(J&&!X)return-1;if(!J&&X)return 1;if(!this.unsigned)return this.sub(Z).isNegative()?-1:1;return Z.high>>>0>this.high>>>0||Z.high===this.high&&Z.low>>>0>this.low>>>0?-1:1}comp(Z){return this.compare(Z)}divide(Z){if(!C.isLong(Z))Z=C.fromValue(Z);if(Z.isZero())throw new b("division by zero");if(e8){if(!this.unsigned&&this.high===-2147483648&&Z.low===-1&&Z.high===-1)return this;const G=(this.unsigned?e8.div_u:e8.div_s)(this.low,this.high,Z.low,Z.high);return C.fromBits(G,e8.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?C.UZERO:C.ZERO;let J,X,Y;if(!this.unsigned){if(this.eq(C.MIN_VALUE))if(Z.eq(C.ONE)||Z.eq(C.NEG_ONE))return C.MIN_VALUE;else if(Z.eq(C.MIN_VALUE))return C.ONE;else if(J=this.shr(1).div(Z).shl(1),J.eq(C.ZERO))return Z.isNegative()?C.ONE:C.NEG_ONE;else return X=this.sub(Z.mul(J)),Y=J.add(X.div(Z)),Y;else if(Z.eq(C.MIN_VALUE))return this.unsigned?C.UZERO:C.ZERO;if(this.isNegative()){if(Z.isNegative())return this.neg().div(Z.neg());return this.neg().div(Z).neg()}else if(Z.isNegative())return this.div(Z.neg()).neg();Y=C.ZERO}else{if(!Z.unsigned)Z=Z.toUnsigned();if(Z.gt(this))return C.UZERO;if(Z.gt(this.shru(1)))return C.UONE;Y=C.UZERO}X=this;while(X.gte(Z)){J=Math.max(1,Math.floor(X.toNumber()/Z.toNumber()));const G=Math.ceil(Math.log(J)/Math.LN2),$=G<=48?1:Math.pow(2,G-48);let W=C.fromNumber(J),H=W.mul(Z);while(H.isNegative()||H.gt(X))J-=$,W=C.fromNumber(J,this.unsigned),H=W.mul(Z);if(W.isZero())W=C.ONE;Y=Y.add(W),X=X.sub(H)}return Y}div(Z){return this.divide(Z)}equals(Z){if(!C.isLong(Z))Z=C.fromValue(Z);if(this.unsigned!==Z.unsigned&&this.high>>>31===1&&Z.high>>>31===1)return!1;return this.high===Z.high&&this.low===Z.low}eq(Z){return this.equals(Z)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(C.MIN_VALUE)?64:this.neg().getNumBitsAbs();const Z=this.high!==0?this.high:this.low;let J;for(J=31;J>0;J--)if((Z&1<<J)!==0)break;return this.high!==0?J+33:J+1}greaterThan(Z){return this.comp(Z)>0}gt(Z){return this.greaterThan(Z)}greaterThanOrEqual(Z){return this.comp(Z)>=0}gte(Z){return this.greaterThanOrEqual(Z)}ge(Z){return this.greaterThanOrEqual(Z)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(Z){return this.comp(Z)<0}lt(Z){return this.lessThan(Z)}lessThanOrEqual(Z){return this.comp(Z)<=0}lte(Z){return this.lessThanOrEqual(Z)}modulo(Z){if(!C.isLong(Z))Z=C.fromValue(Z);if(e8){const J=(this.unsigned?e8.rem_u:e8.rem_s)(this.low,this.high,Z.low,Z.high);return C.fromBits(J,e8.get_high(),this.unsigned)}return this.sub(this.div(Z).mul(Z))}mod(Z){return this.modulo(Z)}rem(Z){return this.modulo(Z)}multiply(Z){if(this.isZero())return C.ZERO;if(!C.isLong(Z))Z=C.fromValue(Z);if(e8){const U=e8.mul(this.low,this.high,Z.low,Z.high);return C.fromBits(U,e8.get_high(),this.unsigned)}if(Z.isZero())return C.ZERO;if(this.eq(C.MIN_VALUE))return Z.isOdd()?C.MIN_VALUE:C.ZERO;if(Z.eq(C.MIN_VALUE))return this.isOdd()?C.MIN_VALUE:C.ZERO;if(this.isNegative())if(Z.isNegative())return this.neg().mul(Z.neg());else return this.neg().mul(Z).neg();else if(Z.isNegative())return this.mul(Z.neg()).neg();if(this.lt(C.TWO_PWR_24)&&Z.lt(C.TWO_PWR_24))return C.fromNumber(this.toNumber()*Z.toNumber(),this.unsigned);const J=this.high>>>16,X=this.high&65535,Y=this.low>>>16,G=this.low&65535,$=Z.high>>>16,W=Z.high&65535,H=Z.low>>>16,q=Z.low&65535;let K=0,Q=0,z=0,F=0;return F+=G*q,z+=F>>>16,F&=65535,z+=Y*q,Q+=z>>>16,z&=65535,z+=G*H,Q+=z>>>16,z&=65535,Q+=X*q,K+=Q>>>16,Q&=65535,Q+=Y*H,K+=Q>>>16,Q&=65535,Q+=G*W,K+=Q>>>16,Q&=65535,K+=J*q+X*H+Y*W+G*$,K&=65535,C.fromBits(z<<16|F,K<<16|Q,this.unsigned)}mul(Z){return this.multiply(Z)}negate(){if(!this.unsigned&&this.eq(C.MIN_VALUE))return C.MIN_VALUE;return this.not().add(C.ONE)}neg(){return this.negate()}not(){return C.fromBits(~this.low,~this.high,this.unsigned)}notEquals(Z){return!this.equals(Z)}neq(Z){return this.notEquals(Z)}ne(Z){return this.notEquals(Z)}or(Z){if(!C.isLong(Z))Z=C.fromValue(Z);return C.fromBits(this.low|Z.low,this.high|Z.high,this.unsigned)}shiftLeft(Z){if(C.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return C.fromBits(this.low<<Z,this.high<<Z|this.low>>>32-Z,this.unsigned);else return C.fromBits(0,this.low<<Z-32,this.unsigned)}shl(Z){return this.shiftLeft(Z)}shiftRight(Z){if(C.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return C.fromBits(this.low>>>Z|this.high<<32-Z,this.high>>Z,this.unsigned);else return C.fromBits(this.high>>Z-32,this.high>=0?0:-1,this.unsigned)}shr(Z){return this.shiftRight(Z)}shiftRightUnsigned(Z){if(C.isLong(Z))Z=Z.toInt();if(Z&=63,Z===0)return this;else{const J=this.high;if(Z<32){const X=this.low;return C.fromBits(X>>>Z|J<<32-Z,J>>>Z,this.unsigned)}else if(Z===32)return C.fromBits(J,0,this.unsigned);else return C.fromBits(J>>>Z-32,0,this.unsigned)}}shr_u(Z){return this.shiftRightUnsigned(Z)}shru(Z){return this.shiftRightUnsigned(Z)}subtract(Z){if(!C.isLong(Z))Z=C.fromValue(Z);return this.add(Z.neg())}sub(Z){return this.subtract(Z)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){if(this.unsigned)return(this.high>>>0)*l5+(this.low>>>0);return this.high*l5+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(Z){return Z?this.toBytesLE():this.toBytesBE()}toBytesLE(){const Z=this.high,J=this.low;return[J&255,J>>>8&255,J>>>16&255,J>>>24,Z&255,Z>>>8&255,Z>>>16&255,Z>>>24]}toBytesBE(){const Z=this.high,J=this.low;return[Z>>>24,Z>>>16&255,Z>>>8&255,Z&255,J>>>24,J>>>16&255,J>>>8&255,J&255]}toSigned(){if(!this.unsigned)return this;return C.fromBits(this.low,this.high,!1)}toString(Z){if(Z=Z||10,Z<2||36<Z)throw new b("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(C.MIN_VALUE)){const G=C.fromNumber(Z),$=this.div(G),W=$.mul(G).sub(this);return $.toString(Z)+W.toInt().toString(Z)}else return"-"+this.neg().toString(Z);const J=C.fromNumber(Math.pow(Z,6),this.unsigned);let X=this,Y="";while(!0){const G=X.div(J);let W=(X.sub(G.mul(J)).toInt()>>>0).toString(Z);if(X=G,X.isZero())return W+Y;else{while(W.length<6)W="0"+W;Y=""+W+Y}}}toUnsigned(){if(this.unsigned)return this;return C.fromBits(this.low,this.high,!0)}xor(Z){if(!C.isLong(Z))Z=C.fromValue(Z);return C.fromBits(this.low^Z.low,this.high^Z.high,this.unsigned)}eqz(){return this.isZero()}le(Z){return this.lessThanOrEqual(Z)}toExtendedJSON(Z){if(Z&&Z.relaxed)return this.toNumber();return{$numberLong:this.toString()}}static fromExtendedJSON(Z,J){const{useBigInt64:X=!1,relaxed:Y=!0}={...J};if(Z.$numberLong.length>Bm)throw new b("$numberLong string is too long");if(!Mm.test(Z.$numberLong))throw new b(`\$numberLong string "${Z.$numberLong}" is in an invalid format`);if(X){const $=BigInt(Z.$numberLong);return BigInt.asIntN(64,$)}const G=C.fromString(Z.$numberLong);if(Y)return G.toNumber();return G}inspect(Z,J,X){X??=v8;const Y=X(this.toString(),J),G=this.unsigned?`, ${X(this.unsigned,J)}`:"";return`new Long(${Y}${G})`}}C.TWO_PWR_24=C.fromInt(Am);C.MAX_UNSIGNED_VALUE=C.fromBits(4294967295|0,4294967295|0,!0);C.ZERO=C.fromInt(0);C.UZERO=C.fromInt(0,!0);C.ONE=C.fromInt(1);C.UONE=C.fromInt(1,!0);C.NEG_ONE=C.fromInt(-1);C.MAX_VALUE=C.fromBits(4294967295|0,2147483647|0,!1);C.MIN_VALUE=C.fromBits(0,2147483648|0,!1);var Nm=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Im=/^(\+|-)?(Infinity|inf)$/i,Dm=/^(\+|-)?NaN$/i,m5=6111,DZ=-6176,JV=6176,XV=34,h$=_.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),YV=_.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),GV=_.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Cm=/^([-+])?(\d+)?$/,Pm=31,$V=16383,Em=30,Tm=31;class a0 extends Y8{get _bsontype(){return"Decimal128"}constructor(Z){super();if(typeof Z==="string")this.bytes=a0.fromString(Z).bytes;else if(m7(Z)){if(Z.byteLength!==16)throw new b("Decimal128 must take a Buffer of 16 bytes");this.bytes=Z}else throw new b("Decimal128 must take a Buffer or string")}static fromString(Z){return a0._fromString(Z,{allowRounding:!1})}static fromStringWithRounding(Z){return a0._fromString(Z,{allowRounding:!0})}static _fromString(Z,J){let X=!1,Y=!1,G=!1,$=!1,W=0,H=0,q=0,K=0,Q=0;const z=[0];let F=0,U=0,L=0,V=0,w=new C(0,0),B=new C(0,0),M=0,A=0;if(Z.length>=7000)throw new b(""+Z+" not a valid Decimal128 string");const I=Z.match(Nm),m=Z.match(Im),k=Z.match(Dm);if(!I&&!m&&!k||Z.length===0)throw new b(""+Z+" not a valid Decimal128 string");if(I){const u=I[2],g=I[4],T=I[5],O=I[6];if(g&&O===void 0)T6(Z,"missing exponent power");if(g&&u===void 0)T6(Z,"missing exponent base");if(g===void 0&&(T||O))T6(Z,"missing e before exponent")}if(Z[A]==="+"||Z[A]==="-")Y=!0,X=Z[A++]==="-";if(!WV(Z[A])&&Z[A]!=="."){if(Z[A]==="i"||Z[A]==="I")return new a0(X?YV:GV);else if(Z[A]==="N")return new a0(h$)}while(WV(Z[A])||Z[A]==="."){if(Z[A]==="."){if(G)T6(Z,"contains multiple periods");G=!0,A=A+1;continue}if(F<XV){if(Z[A]!=="0"||$){if(!$)Q=H;$=!0,z[U++]=parseInt(Z[A],10),F=F+1}}if($)q=q+1;if(G)K=K+1;H=H+1,A=A+1}if(G&&!H)throw new b(""+Z+" not a valid Decimal128 string");if(Z[A]==="e"||Z[A]==="E"){const u=Z.substr(++A).match(Cm);if(!u||!u[2])return new a0(h$);V=parseInt(u[0],10),A=A+u[0].length}if(Z[A])return new a0(h$);if(!F)z[0]=0,q=1,F=1,W=0;else if(L=F-1,W=q,W!==1)while(Z[Q+W-1+Number(Y)+Number(G)]==="0")W=W-1;if(V<=K&&K>V+(1<<14))V=DZ;else V=V-K;while(V>m5){if(L=L+1,L>=XV){if(W===0){V=m5;break}T6(Z,"overflow")}V=V-1}if(J.allowRounding){while(V<DZ||F<q){if(L===0&&W<F){V=DZ,W=0;break}if(F<q)q=q-1;else L=L-1;if(V<m5)V=V+1;else{if(z.join("").match(/^0+$/)){V=m5;break}T6(Z,"overflow")}}if(L+1<W){let u=H;if(G)Q=Q+1,u=u+1;if(Y)Q=Q+1,u=u+1;const g=parseInt(Z[Q+L+1],10);let T=0;if(g>=5){if(T=1,g===5){T=z[L]%2===1?1:0;for(let O=Q+L+2;O<u;O++)if(parseInt(Z[O],10)){T=1;break}}}if(T){let O=L;for(;O>=0;O--)if(++z[O]>9){if(z[O]=0,O===0)if(V<m5)V=V+1,z[O]=1;else return new a0(X?YV:GV)}else break}}}else{while(V<DZ||F<q){if(L===0){if(W===0){V=DZ;break}T6(Z,"exponent underflow")}if(F<q){if(Z[q-1+Number(Y)+Number(G)]!=="0"&&W!==0)T6(Z,"inexact rounding");q=q-1}else{if(z[L]!==0)T6(Z,"inexact rounding");L=L-1}if(V<m5)V=V+1;else T6(Z,"overflow")}if(L+1<W){if(G)Q=Q+1;if(Y)Q=Q+1;if(parseInt(Z[Q+L+1],10)!==0)T6(Z,"inexact rounding")}}if(w=C.fromNumber(0),B=C.fromNumber(0),W===0)w=C.fromNumber(0),B=C.fromNumber(0);else if(L<17){let u=0;B=C.fromNumber(z[u++]),w=new C(0,0);for(;u<=L;u++)B=B.multiply(C.fromNumber(10)),B=B.add(C.fromNumber(z[u]))}else{let u=0;w=C.fromNumber(z[u++]);for(;u<=L-17;u++)w=w.multiply(C.fromNumber(10)),w=w.add(C.fromNumber(z[u]));B=C.fromNumber(z[u++]);for(;u<=L;u++)B=B.multiply(C.fromNumber(10)),B=B.add(C.fromNumber(z[u]))}const j=Om(w,C.fromString("100000000000000000"));if(j.low=j.low.add(B),Sm(j.low,B))j.high=j.high.add(C.fromNumber(1));M=V+JV;const E={low:C.fromNumber(0),high:C.fromNumber(0)};if(j.high.shiftRightUnsigned(49).and(C.fromNumber(1)).equals(C.fromNumber(1)))E.high=E.high.or(C.fromNumber(3).shiftLeft(61)),E.high=E.high.or(C.fromNumber(M).and(C.fromNumber(16383).shiftLeft(47))),E.high=E.high.or(j.high.and(C.fromNumber(140737488355327)));else E.high=E.high.or(C.fromNumber(M&16383).shiftLeft(49)),E.high=E.high.or(j.high.and(C.fromNumber(562949953421311)));if(E.low=j.low,X)E.high=E.high.or(C.fromString("9223372036854775808"));const p=_.allocate(16);return A=0,p[A++]=E.low.low&255,p[A++]=E.low.low>>8&255,p[A++]=E.low.low>>16&255,p[A++]=E.low.low>>24&255,p[A++]=E.low.high&255,p[A++]=E.low.high>>8&255,p[A++]=E.low.high>>16&255,p[A++]=E.low.high>>24&255,p[A++]=E.high.low&255,p[A++]=E.high.low>>8&255,p[A++]=E.high.low>>16&255,p[A++]=E.high.low>>24&255,p[A++]=E.high.high&255,p[A++]=E.high.high>>8&255,p[A++]=E.high.high>>16&255,p[A++]=E.high.high>>24&255,new a0(p)}toString(){let Z,J=0;const X=new Array(36);for(let A=0;A<X.length;A++)X[A]=0;let Y=0,G=!1,$,W={parts:[0,0,0,0]},H,q;const K=[];Y=0;const Q=this.bytes,z=Q[Y++]|Q[Y++]<<8|Q[Y++]<<16|Q[Y++]<<24,F=Q[Y++]|Q[Y++]<<8|Q[Y++]<<16|Q[Y++]<<24,U=Q[Y++]|Q[Y++]<<8|Q[Y++]<<16|Q[Y++]<<24,L=Q[Y++]|Q[Y++]<<8|Q[Y++]<<16|Q[Y++]<<24;if(Y=0,{low:new C(z,F),high:new C(U,L)}.high.lessThan(C.ZERO))K.push("-");const w=L>>26&Pm;if(w>>3===3)if(w===Em)return K.join("")+"Infinity";else if(w===Tm)return"NaN";else Z=L>>15&$V,$=8+(L>>14&1);else $=L>>14&7,Z=L>>17&$V;const B=Z-JV;if(W.parts[0]=(L&16383)+(($&15)<<14),W.parts[1]=U,W.parts[2]=F,W.parts[3]=z,W.parts[0]===0&&W.parts[1]===0&&W.parts[2]===0&&W.parts[3]===0)G=!0;else for(q=3;q>=0;q--){let A=0;const I=jm(W);if(W=I.quotient,A=I.rem.low,!A)continue;for(H=8;H>=0;H--)X[q*9+H]=A%10,A=Math.floor(A/10)}if(G)J=1,X[Y]=0;else{J=36;while(!X[Y])J=J-1,Y=Y+1}const M=J-1+B;if(M>=34||M<=-7||B>0){if(J>34){if(K.push("0"),B>0)K.push(`E+${B}`);else if(B<0)K.push(`E${B}`);return K.join("")}if(K.push(`${X[Y++]}`),J=J-1,J)K.push(".");for(let A=0;A<J;A++)K.push(`${X[Y++]}`);if(K.push("E"),M>0)K.push(`+${M}`);else K.push(`${M}`)}else if(B>=0)for(let A=0;A<J;A++)K.push(`${X[Y++]}`);else{let A=J+B;if(A>0)for(let I=0;I<A;I++)K.push(`${X[Y++]}`);else K.push("0");K.push(".");while(A++<0)K.push("0");for(let I=0;I<J-Math.max(A-1,0);I++)K.push(`${X[Y++]}`)}return K.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(Z){return a0.fromString(Z.$numberDecimal)}inspect(Z,J,X){return X??=v8,`new Decimal128(${X(this.toString(),J)})`}}class t4 extends Y8{get _bsontype(){return"Double"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z}valueOf(){return this.value}toJSON(){return this.value}toString(Z){return this.value.toString(Z)}toExtendedJSON(Z){if(Z&&(Z.legacy||Z.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-0.0"};return{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(Z,J){const X=parseFloat(Z.$numberDouble);return J&&J.relaxed?X:new t4(X)}inspect(Z,J,X){return X??=v8,`new Double(${X(this.value,J)})`}}class o4 extends Y8{get _bsontype(){return"Int32"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z|0}valueOf(){return this.value}toString(Z){return this.value.toString(Z)}toJSON(){return this.value}toExtendedJSON(Z){if(Z&&(Z.relaxed||Z.legacy))return this.value;return{$numberInt:this.value.toString()}}static fromExtendedJSON(Z,J){return J&&J.relaxed?parseInt(Z.$numberInt,10):new o4(Z.$numberInt)}inspect(Z,J,X){return X??=v8,`new Int32(${X(this.value,J)})`}}class c7 extends Y8{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new c7}inspect(){return"new MaxKey()"}}class l7 extends Y8{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new l7}inspect(){return"new MinKey()"}}var km=new RegExp("^[0-9a-fA-F]{24}$"),u7=null,R4=Symbol("id");class G0 extends Y8{get _bsontype(){return"ObjectId"}constructor(Z){super();let J;if(typeof Z==="object"&&Z&&"id"in Z){if(typeof Z.id!=="string"&&!ArrayBuffer.isView(Z.id))throw new b("Argument passed in must have an id that is of type string or Buffer");if("toHexString"in Z&&typeof Z.toHexString==="function")J=_.fromHex(Z.toHexString());else J=Z.id}else J=Z;if(J==null||typeof J==="number")this[R4]=G0.generate(typeof J==="number"?J:void 0);else if(ArrayBuffer.isView(J)&&J.byteLength===12)this[R4]=_.toLocalBufferType(J);else if(typeof J==="string")if(J.length===24&&km.test(J))this[R4]=_.fromHex(J);else throw new b("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new b("Argument passed in does not match the accepted types");if(G0.cacheHexString)this.__id=_.toHex(this.id)}get id(){return this[R4]}set id(Z){if(this[R4]=Z,G0.cacheHexString)this.__id=_.toHex(Z)}toHexString(){if(G0.cacheHexString&&this.__id)return this.__id;const Z=_.toHex(this.id);if(G0.cacheHexString&&!this.__id)this.__id=Z;return Z}static getInc(){return G0.index=(G0.index+1)%16777215}static generate(Z){if(typeof Z!=="number")Z=Math.floor(Date.now()/1000);const J=G0.getInc(),X=_.allocate(12);if(PZ.fromUint8Array(X).setUint32(0,Z,!1),u7===null)u7=_.randomBytes(5);return X[4]=u7[0],X[5]=u7[1],X[6]=u7[2],X[7]=u7[3],X[8]=u7[4],X[11]=J&255,X[10]=J>>8&255,X[9]=J>>16&255,X}toString(Z){if(Z==="base64")return _.toBase64(this.id);if(Z==="hex")return this.toHexString();return this.toHexString()}toJSON(){return this.toHexString()}static is(Z){return Z!=null&&typeof Z==="object"&&"_bsontype"in Z&&Z._bsontype==="ObjectId"}equals(Z){if(Z===void 0||Z===null)return!1;if(G0.is(Z))return this[R4][11]===Z[R4][11]&&_.equals(this[R4],Z[R4]);if(typeof Z==="string")return Z.toLowerCase()===this.toHexString();if(typeof Z==="object"&&typeof Z.toHexString==="function"){const J=Z.toHexString(),X=this.toHexString();return typeof J==="string"&&J.toLowerCase()===X}return!1}getTimestamp(){const Z=new Date,J=PZ.fromUint8Array(this.id).getUint32(0,!1);return Z.setTime(Math.floor(J)*1000),Z}static createPk(){return new G0}static createFromTime(Z){const J=_.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return PZ.fromUint8Array(J).setUint32(0,Z,!1),new G0(J)}static createFromHexString(Z){if(Z?.length!==24)throw new b("hex string must be 24 characters");return new G0(_.fromHex(Z))}static createFromBase64(Z){if(Z?.length!==16)throw new b("base64 string must be 16 characters");return new G0(_.fromBase64(Z))}static isValid(Z){if(Z==null)return!1;try{return new G0(Z),!0}catch{return!1}}toExtendedJSON(){if(this.toHexString)return{$oid:this.toHexString()};return{$oid:this.toString("hex")}}static fromExtendedJSON(Z){return new G0(Z.$oid)}inspect(Z,J,X){return X??=v8,`new ObjectId(${X(this.toHexString(),J)})`}}G0.index=Math.floor(Math.random()*16777215);class J6 extends Y8{get _bsontype(){return"BSONRegExp"}constructor(Z,J){super();if(this.pattern=Z,this.options=_m(J??""),this.pattern.indexOf("\0")!==-1)throw new b(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new b(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let X=0;X<this.options.length;X++)if(!(this.options[X]==="i"||this.options[X]==="m"||this.options[X]==="x"||this.options[X]==="l"||this.options[X]==="s"||this.options[X]==="u"))throw new b(`The regular expression option [${this.options[X]}] is not supported`)}static parseOptions(Z){return Z?Z.split("").sort().join(""):""}toExtendedJSON(Z){if(Z=Z||{},Z.legacy)return{$regex:this.pattern,$options:this.options};return{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(Z){if("$regex"in Z)if(typeof Z.$regex!=="string"){if(Z.$regex._bsontype==="BSONRegExp")return Z}else return new J6(Z.$regex,J6.parseOptions(Z.$options));if("$regularExpression"in Z)return new J6(Z.$regularExpression.pattern,J6.parseOptions(Z.$regularExpression.options));throw new b(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(Z)}`)}inspect(Z,J,X){const Y=Wm(J)??((W)=>W);X??=v8;const G=Y(X(this.pattern),"regexp"),$=Y(X(this.options),"regexp");return`new BSONRegExp(${G}, ${$})`}}class p7 extends Y8{get _bsontype(){return"BSONSymbol"}constructor(Z){super();this.value=Z}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(Z){return new p7(Z.$symbol)}inspect(Z,J,X){return X??=v8,`new BSONSymbol(${X(this.value,J)})`}}var xm=C;class Z6 extends xm{get _bsontype(){return"Timestamp"}constructor(Z){if(Z==null)super(0,0,!0);else if(typeof Z==="bigint")super(Z,!0);else if(C.isLong(Z))super(Z.low,Z.high,!0);else if(typeof Z==="object"&&"t"in Z&&"i"in Z){if(typeof Z.t!=="number"&&(typeof Z.t!=="object"||Z.t._bsontype!=="Int32"))throw new b("Timestamp constructed from { t, i } must provide t as a number");if(typeof Z.i!=="number"&&(typeof Z.i!=="object"||Z.i._bsontype!=="Int32"))throw new b("Timestamp constructed from { t, i } must provide i as a number");const J=Number(Z.t),X=Number(Z.i);if(J<0||Number.isNaN(J))throw new b("Timestamp constructed from { t, i } must provide a positive t");if(X<0||Number.isNaN(X))throw new b("Timestamp constructed from { t, i } must provide a positive i");if(J>4294967295)throw new b("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(X>4294967295)throw new b("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(X,J,!0)}else throw new b("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(Z){return new Z6(C.fromInt(Z,!0))}static fromNumber(Z){return new Z6(C.fromNumber(Z,!0))}static fromBits(Z,J){return new Z6({i:Z,t:J})}static fromString(Z,J){return new Z6(C.fromString(Z,!0,J))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(Z){const J=C.isLong(Z.$timestamp.i)?Z.$timestamp.i.getLowBitsUnsigned():Z.$timestamp.i,X=C.isLong(Z.$timestamp.t)?Z.$timestamp.t.getLowBitsUnsigned():Z.$timestamp.t;return new Z6({t:X,i:J})}inspect(Z,J,X){X??=v8;const Y=X(this.high>>>0,J),G=X(this.low>>>0,J);return`new Timestamp({ t: ${Y}, i: ${G} })`}}Z6.MAX_VALUE=C.MAX_UNSIGNED_VALUE;var gm=128,fm=192,ym=224,bm=240,vm=248,hm=192,um=224,mm=240,dm=128,cm=C.fromNumber(FV),lm=C.fromNumber(UV),pm=/^\$ref$|^\$id$|^\$db$/,m3=/\x00/,qV=new Set(["$db","$ref","$id","$clusterTime"]),n5=new DataView(new ArrayBuffer(8),0,8),im=new Uint8Array(n5.buffer,0,4),d3=new Uint8Array(n5.buffer,0,8),am={$oid:G0,$binary:N1,$uuid:N1,$symbol:p7,$numberInt:o4,$numberDecimal:a0,$numberDouble:t4,$numberLong:C,$minKey:l7,$maxKey:c7,$regex:J6,$regularExpression:J6,$timestamp:Z6},rm={Binary:(Z)=>new N1(Z.value(),Z.sub_type),Code:(Z)=>new A4(Z.code,Z.scope),DBRef:(Z)=>new t6(Z.collection||Z.namespace,Z.oid,Z.db,Z.fields),Decimal128:(Z)=>new a0(Z.bytes),Double:(Z)=>new t4(Z.value),Int32:(Z)=>new o4(Z.value),Long:(Z)=>C.fromBits(Z.low!=null?Z.low:Z.low_,Z.low!=null?Z.high:Z.high_,Z.low!=null?Z.unsigned:Z.unsigned_),MaxKey:()=>new c7,MinKey:()=>new l7,ObjectId:(Z)=>new G0(Z),BSONRegExp:(Z)=>new J6(Z.pattern,Z.options),BSONSymbol:(Z)=>new p7(Z.value),Timestamp:(Z)=>Z6.fromBits(Z.low,Z.high)},i7=Object.create(null);i7.parse=kV;i7.stringify=_V;i7.serialize=om;i7.deserialize=em;Object.freeze(i7);var xV=17825792,s4=_.allocate(xV),Zd=Object.freeze({__proto__:null,BSONError:b,BSONRegExp:J6,BSONRuntimeError:EZ,BSONSymbol:p7,BSONType:PV,BSONValue:Y8,BSONVersionError:r4,Binary:N1,Code:A4,DBRef:t6,Decimal128:a0,Double:t4,EJSON:i7,Int32:o4,Long:C,MaxKey:c7,MinKey:l7,ObjectId:G0,Timestamp:Z6,UUID:E0,calculateObjectSize:vV,deserialize:bV,deserializeStream:hV,serialize:fV,serializeWithBufferAndIndex:yV,setInternalBufferSize:gV});Jd.BSON=Zd;Jd.BSONError=b;Jd.BSONRegExp=J6;Jd.BSONRuntimeError=EZ;Jd.BSONSymbol=p7;Jd.BSONType=PV;Jd.BSONValue=Y8;Jd.BSONVersionError=r4;Jd.Binary=N1;Jd.Code=A4;Jd.DBRef=t6;Jd.Decimal128=a0;Jd.Double=t4;Jd.EJSON=i7;Jd.Int32=o4;Jd.Long=C;Jd.MaxKey=c7;Jd.MinKey=l7;Jd.ObjectId=G0;Jd.Timestamp=Z6;Jd.UUID=E0;Jd.calculateObjectSize=vV;Jd.deserialize=bV;Jd.deserializeStream=hV;Jd.serialize=fV;Jd.serializeWithBufferAndIndex=yV;Jd.setInternalBufferSize=gV});var p3=R((YU1,uV)=>{uV.exports=X6().Decimal128});var t=R((Od)=>{Od.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup");Od.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics");Od.arrayParentSymbol=Symbol("mongoose#Array#_parent");Od.arrayPathSymbol=Symbol("mongoose#Array#_path");Od.arraySchemaSymbol=Symbol("mongoose#Array#_schema");Od.documentArrayParent=Symbol("mongoose#documentArrayParent");Od.documentIsSelected=Symbol("mongoose#Document#isSelected");Od.documentIsModified=Symbol("mongoose#Document#isModified");Od.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths");Od.documentSchemaSymbol=Symbol("mongoose#Document#schema");Od.getSymbol=Symbol("mongoose#Document#get");Od.modelSymbol=Symbol("mongoose#Model");Od.objectIdSymbol=Symbol("mongoose#ObjectId");Od.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model");Od.schemaTypeSymbol=Symbol("mongoose#schemaType");Od.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments");Od.scopeSymbol=Symbol("mongoose#Document#scope");Od.validatorErrorSymbol=Symbol("mongoose#validatorError")});var B4=R(($U1,mV)=>{var jZ=X6().ObjectId,ad=t().objectIdSymbol;Object.defineProperty(jZ.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});/*!
 * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
 */if(!jZ.prototype.hasOwnProperty("valueOf"))jZ.prototype.valueOf=function Z(){return this.toString()};jZ.prototype[ad]=!0;mV.exports=jZ});var n7=R((WU1,dV)=>{dV.exports=new Set(["__proto__","constructor","prototype"])});var i3=R((sd)=>{sd.isMongooseArray=function(Z){return Array.isArray(Z)&&Z.isMongooseArray}});var OZ=R((qU1,cV)=>{var td=i3().isMongooseArray;cV.exports=function(Z){return Z!=null&&(td(Z)||Z.$__!=null||Z.isMongooseBuffer||Z.$isMongooseMap)}});var UW=R((KU1,lV)=>{var od=/^function\s*([^\s(]+)/;lV.exports=function(Z){return Z.name||(Z.toString().trim().match(od)||[])[1]}});var B8=R((QU1,pV)=>{var ed=function(Z,J){return typeof Z==="object"&&Z!==null&&Z._bsontype===J};pV.exports=ed});var e4=R((zU1,iV)=>{iV.exports=function(Z){return Buffer.isBuffer(Z)||Object.prototype.toString.call(Z)==="[object Object]"}});var LW=R((FU1,nV)=>{nV.exports=function Z(J){if(J==null||typeof J!=="object")return!1;const X=Object.getPrototypeOf(J);return!X||X.constructor.name==="Object"}});var a5=R((Zc)=>{var aV=Symbol("mongoose#trustedSymbol");Zc.trustedSymbol=aV;Zc.trusted=function Z(J){if(J==null||typeof J!=="object")return J;return J[aV]=!0,J}});var W0=R((LU1,rV)=>{var wW=function(Z,J,X){if(Z==null)return Z;if(Array.isArray(Z))return Fc(qc(Z)?Z.__array:Z,J);if(Wc(Z)){if(J&&J._skipSingleNestedGetters&&Z.$isSingleNested)J=Object.assign({},J,{getters:!1});const G=Z.$isSingleNested;if(Qc(Z)&&Z.$__!=null&&Z._doc!=null)return Z._doc;let $;if(J&&J.json&&typeof Z.toJSON==="function")$=Z.toJSON(J);else $=Z.toObject(J);if(J&&J.minimize&&G&&Object.keys($).length===0)return;return $}const Y=Z.constructor;if(Y)switch(Hc(Y)){case"Object":return RW(Z,J,X);case"Date":return new Y(+Z);case"RegExp":return Uc(Z);default:break}if(sV(Z,"ObjectId")){if(J&&J.flattenObjectIds)return Z.toJSON();return new Gc(Z.id)}if(sV(Z,"Decimal128")){if(J&&J.flattenDecimals)return Z.toJSON();return Yc.fromString(Z.toString())}if(!Y&&Kc(Z))return RW(Z,J,X);if(typeof Z==="object"&&Z[zc.schemaTypeSymbol])return Z.clone();if(J&&J.bson&&typeof Z.toBSON==="function")return Z;if(typeof Z.valueOf==="function")return Z.valueOf();return RW(Z,J,X)},RW=function(Z,J,X){const Y=J&&J.minimize,G=J&&J.omitUndefined,$=J&&J._seen,W={};let H;if($&&$.has(Z))return $.get(Z);else if($)$.set(Z,W);if(VW in Z)W[VW]=Z[VW];let q=0,K="";const Q=Object.keys(Z),z=Q.length;for(q=0;q<z;++q){if($c.has(K=Q[q]))continue;const F=wW(Z[K],J,!1);if((Y===!1||G)&&typeof F==="undefined")delete W[K];else if(Y!==!0||typeof F!=="undefined")H||(H=!0),W[K]=F}return Y&&!X?H&&W:W},Fc=function(Z,J){let X=0;const Y=Z.length,G=new Array(Y);for(X=0;X<Y;++X)G[X]=wW(Z[X],J,!0);return G},Uc=function(Z){const J=new RegExp(Z.source,Z.flags);if(J.lastIndex!==Z.lastIndex)J.lastIndex=Z.lastIndex;return J},Yc=p3(),Gc=B4(),$c=n7(),Wc=OZ(),Hc=UW(),sV=B8(),qc=i3().isMongooseArray,Kc=e4(),Qc=LW(),zc=t(),VW=a5().trustedSymbol;rV.exports=wW;/*!
 * ignore
 */});var s5=R((tV,oV)=>{/*!
 * Connection states
 */var o6=oV.exports=tV=Object.create(null);o6[0]="disconnected";o6[1]="connected";o6[2]="connecting";o6[3]="disconnecting";o6[99]="uninitialized";o6["disconnected"]=0;o6["connected"]=1;o6["connecting"]=2;o6["disconnecting"]=3;o6["uninitialized"]=99});var h8=R((VU1,eV)=>{/*!
 * Centralize this so we can more easily work around issues with people
 * stubbing out `process.nextTick()` in tests using sinon:
 * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
 * See gh-6074
 */var Lc=typeof process!=="undefined"&&typeof process.nextTick==="function"?process.nextTick.bind(process):(Z)=>setTimeout(Z,0);eV.exports=function Z(J){return Lc(J)}});var XR=R((RU1,JR)=>{var f1=function(Z,J,X){if(X===void 0)X={};if(this.opts=X,this.name=Z,this.collectionName=Z,this.conn=J,this.queue=[],this.buffer=!0,this.emitter=new Vc,Rc.connected===this.conn.readyState)this.onOpen()};/*!
 * Module dependencies.
 */var Vc=import.meta.require("events").EventEmitter,Rc=s5(),ZR=h8();f1.prototype.name;f1.prototype.collectionName;f1.prototype.conn;f1.prototype.onOpen=function(){this.buffer=!1,ZR(()=>this.doQueue())};f1.prototype.onClose=function(){};f1.prototype.addQueue=function(Z,J){return this.queue.push([Z,J]),this};f1.prototype.removeQueue=function(Z,J){const X=this.queue.findIndex((Y)=>Y[0]===Z&&Y[1]===J);if(X===-1)return!1;return this.queue.splice(X,1),!0};f1.prototype.doQueue=function(){for(let J of this.queue)if(typeof J[0]==="function")J[0].apply(this,J[1]);else this[J[0]].apply(this,J[1]);this.queue=[];const Z=this;return ZR(function(){Z.emitter.emit("queue")}),this};f1.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")};f1.prototype.createIndex=function(){throw new Error("Collection#createIndex unimplemented by driver")};f1.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")};f1.prototype.findOneAndUpdate=function(){throw new Error("Collection#findOneAndUpdate unimplemented by driver")};f1.prototype.findOneAndDelete=function(){throw new Error("Collection#findOneAndDelete unimplemented by driver")};f1.prototype.findOneAndReplace=function(){throw new Error("Collection#findOneAndReplace unimplemented by driver")};f1.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")};f1.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")};f1.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")};f1.prototype.insertOne=function(){throw new Error("Collection#insertOne unimplemented by driver")};f1.prototype.insertMany=function(){throw new Error("Collection#insertMany unimplemented by driver")};f1.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")};f1.prototype.updateOne=function(){throw new Error("Collection#updateOne unimplemented by driver")};f1.prototype.updateMany=function(){throw new Error("Collection#updateMany unimplemented by driver")};f1.prototype.deleteOne=function(){throw new Error("Collection#deleteOne unimplemented by driver")};f1.prototype.deleteMany=function(){throw new Error("Collection#deleteMany unimplemented by driver")};f1.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")};f1.prototype.watch=function(){throw new Error("Collection#watch unimplemented by driver")};/*!
 * ignore
 */f1.prototype._shouldBufferCommands=function Z(){const J=this.opts;if(J.bufferCommands!=null)return J.bufferCommands;if(J&&J.schemaUserProvidedOptions!=null&&J.schemaUserProvidedOptions.bufferCommands!=null)return J.schemaUserProvidedOptions.bufferCommands;return this.conn._shouldBufferCommands()};/*!
 * ignore
 */f1.prototype._getBufferTimeoutMS=function Z(){const J=this.conn,X=this.opts;if(X.bufferTimeoutMS!=null)return X.bufferTimeoutMS;if(X&&X.schemaUserProvidedOptions!=null&&X.schemaUserProvidedOptions.bufferTimeoutMS!=null)return X.schemaUserProvidedOptions.bufferTimeoutMS;if(J.config.bufferTimeoutMS!=null)return J.config.bufferTimeoutMS;if(J.base!=null&&J.base.get("bufferTimeoutMS")!=null)return J.base.get("bufferTimeoutMS");return 1e4};/*!
 * Module exports.
 */JR.exports=f1});var r1=R((wU1,YR)=>{/*!
 * ignore
 */class AW extends Error{}Object.defineProperty(AW.prototype,"name",{value:"MongooseError"});YR.exports=AW});var i1=R((Q0)=>{var wc=function(Z){const{fieldsAsRaw:J,useBigInt64:X,promoteValues:Y,promoteBuffers:G,promoteLongs:$,serializeFunctions:W,ignoreUndefined:H,bsonRegExp:q,raw:K,enableUtf8Validation:Q}=Z;return{fieldsAsRaw:J,useBigInt64:X,promoteValues:Y,promoteBuffers:G,promoteLongs:$,serializeFunctions:W,ignoreUndefined:H,bsonRegExp:q,raw:K,enableUtf8Validation:Q}},Ac=function(Z,J){const X=J?.bsonOptions;return{raw:Z?.raw??X?.raw??!1,useBigInt64:Z?.useBigInt64??X?.useBigInt64??!1,promoteLongs:Z?.promoteLongs??X?.promoteLongs??!0,promoteValues:Z?.promoteValues??X?.promoteValues??!0,promoteBuffers:Z?.promoteBuffers??X?.promoteBuffers??!1,ignoreUndefined:Z?.ignoreUndefined??X?.ignoreUndefined??!1,bsonRegExp:Z?.bsonRegExp??X?.bsonRegExp??!1,serializeFunctions:Z?.serializeFunctions??X?.serializeFunctions??!1,fieldsAsRaw:Z?.fieldsAsRaw??X?.fieldsAsRaw??{},enableUtf8Validation:Z?.enableUtf8Validation??X?.enableUtf8Validation??!0}};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.resolveBSONOptions=Q0.pluckBSONSerializeOptions=Q0.UUID=Q0.Timestamp=Q0.serialize=Q0.ObjectId=Q0.MinKey=Q0.MaxKey=Q0.Long=Q0.Int32=Q0.Double=Q0.deserialize=Q0.Decimal128=Q0.DBRef=Q0.Code=Q0.calculateObjectSize=Q0.BSONType=Q0.BSONSymbol=Q0.BSONRegExp=Q0.BSON=Q0.Binary=void 0;var M0=X6();Object.defineProperty(Q0,"Binary",{enumerable:!0,get:function(){return M0.Binary}});Object.defineProperty(Q0,"BSON",{enumerable:!0,get:function(){return M0.BSON}});Object.defineProperty(Q0,"BSONRegExp",{enumerable:!0,get:function(){return M0.BSONRegExp}});Object.defineProperty(Q0,"BSONSymbol",{enumerable:!0,get:function(){return M0.BSONSymbol}});Object.defineProperty(Q0,"BSONType",{enumerable:!0,get:function(){return M0.BSONType}});Object.defineProperty(Q0,"calculateObjectSize",{enumerable:!0,get:function(){return M0.calculateObjectSize}});Object.defineProperty(Q0,"Code",{enumerable:!0,get:function(){return M0.Code}});Object.defineProperty(Q0,"DBRef",{enumerable:!0,get:function(){return M0.DBRef}});Object.defineProperty(Q0,"Decimal128",{enumerable:!0,get:function(){return M0.Decimal128}});Object.defineProperty(Q0,"deserialize",{enumerable:!0,get:function(){return M0.deserialize}});Object.defineProperty(Q0,"Double",{enumerable:!0,get:function(){return M0.Double}});Object.defineProperty(Q0,"Int32",{enumerable:!0,get:function(){return M0.Int32}});Object.defineProperty(Q0,"Long",{enumerable:!0,get:function(){return M0.Long}});Object.defineProperty(Q0,"MaxKey",{enumerable:!0,get:function(){return M0.MaxKey}});Object.defineProperty(Q0,"MinKey",{enumerable:!0,get:function(){return M0.MinKey}});Object.defineProperty(Q0,"ObjectId",{enumerable:!0,get:function(){return M0.ObjectId}});Object.defineProperty(Q0,"serialize",{enumerable:!0,get:function(){return M0.serialize}});Object.defineProperty(Q0,"Timestamp",{enumerable:!0,get:function(){return M0.Timestamp}});Object.defineProperty(Q0,"UUID",{enumerable:!0,get:function(){return M0.UUID}});Q0.pluckBSONSerializeOptions=wc;Q0.resolveBSONOptions=Ac});var a=R((_R)=>{var Mc=function(Z){return"errors"in Z&&Array.isArray(Z.errors)},Nc=function(Z){return Z[DR]===!0},Ic=function(Z){const J=Object.assign({},Z);if(J.ok===0)J.ok=1,delete J.errmsg,delete J.code,delete J.codeName;return J},Dc=function(Z,J){if(Z instanceof a7)return!0;if(Z instanceof e6){if((J>=9||Z.hasErrorLabel(_R.MongoErrorLabel.RetryableWriteError))&&!Z.hasErrorLabel(_R.MongoErrorLabel.HandshakeError))return!1}if(Z instanceof IW)return $R.has(Z.result?.code??Z.code??0);if(Z instanceof e6&&typeof Z.code==="number")return $R.has(Z.code);if(_R.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(_R.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},Cc=function(Z){return Z.hasErrorLabel(_R.MongoErrorLabel.RetryableWriteError)},Pc=function(Z){if(typeof Z.code==="number"?SR.has(Z.code):!1)return!0;if(Z instanceof a7)return!0;if(_R.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(_R.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},kR=function(Z){if(typeof Z.code==="number")return Ec.has(Z.code);return _R.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(Z.message)||_R.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message)},Oc=function(Z){if(typeof Z.code==="number")return Tc.has(Z.code);if(kR(Z))return!1;return _R.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message)},Sc=function(Z){return!!(typeof Z.code==="number"&&jc.has(Z.code))},kc=function(Z){if(Z instanceof MW||Z==null)return!0;return kR(Z)||Oc(Z)},_c=function(Z){return!!(Z instanceof a7&&Z.message.match(/timed out/))},xc=function(Z,J){if(Z==null||!(Z instanceof e6))return!1;if(Z instanceof a7)return!0;if(J!=null&&J>=9){if(Z.code===_R.MONGODB_ERROR_CODES.CursorNotFound)return!0;return Z.hasErrorLabel(_R.MongoErrorLabel.ResumableChangeStreamError)}if(typeof Z.code==="number")return _R.GET_MORE_RESUMABLE_CODES.has(Z.code);return!1};Object.defineProperty(_R,"__esModule",{value:!0});_R.isResumableError=_R.isNetworkTimeoutError=_R.isSDAMUnrecoverableError=_R.isNodeShuttingDownError=_R.isRetryableReadError=_R.isRetryableWriteError=_R.needsRetryableWriteLabel=_R.MongoWriteConcernError=_R.MongoServerSelectionError=_R.MongoSystemError=_R.MongoMissingDependencyError=_R.MongoMissingCredentialsError=_R.MongoCompatibilityError=_R.MongoInvalidArgumentError=_R.MongoParseError=_R.MongoNetworkTimeoutError=_R.MongoNetworkError=_R.isNetworkErrorBeforeHandshake=_R.MongoTopologyClosedError=_R.MongoCursorExhaustedError=_R.MongoServerClosedError=_R.MongoCursorInUseError=_R.MongoUnexpectedServerResponseError=_R.MongoGridFSChunkError=_R.MongoGridFSStreamError=_R.MongoTailableCursorError=_R.MongoChangeStreamError=_R.MongoAzureError=_R.MongoAWSError=_R.MongoKerberosError=_R.MongoExpiredSessionError=_R.MongoTransactionError=_R.MongoNotConnectedError=_R.MongoDecompressionError=_R.MongoBatchReExecutionError=_R.MongoRuntimeError=_R.MongoAPIError=_R.MongoDriverError=_R.MongoServerError=_R.MongoError=_R.MongoErrorLabel=_R.GET_MORE_RESUMABLE_CODES=_R.MONGODB_ERROR_CODES=_R.NODE_IS_RECOVERING_ERROR_MESSAGE=_R.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=_R.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;var SZ=Symbol("errorLabels");_R.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i");_R.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i");_R.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i");_R.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391});_R.GET_MORE_RESUMABLE_CODES=new Set([_R.MONGODB_ERROR_CODES.HostUnreachable,_R.MONGODB_ERROR_CODES.HostNotFound,_R.MONGODB_ERROR_CODES.NetworkTimeout,_R.MONGODB_ERROR_CODES.ShutdownInProgress,_R.MONGODB_ERROR_CODES.PrimarySteppedDown,_R.MONGODB_ERROR_CODES.ExceededTimeLimit,_R.MONGODB_ERROR_CODES.SocketException,_R.MONGODB_ERROR_CODES.NotWritablePrimary,_R.MONGODB_ERROR_CODES.InterruptedAtShutdown,_R.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,_R.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,_R.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,_R.MONGODB_ERROR_CODES.StaleShardVersion,_R.MONGODB_ERROR_CODES.StaleEpoch,_R.MONGODB_ERROR_CODES.StaleConfig,_R.MONGODB_ERROR_CODES.RetryChangeStream,_R.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,_R.MONGODB_ERROR_CODES.CursorNotFound]);_R.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});class e6 extends Error{constructor(Z,J){super(Z,J);this[SZ]=new Set}static buildErrorMessage(Z){if(typeof Z==="string")return Z;if(Mc(Z)&&Z.message.length===0)return Z.errors.length===0?"AggregateError has an empty errors array. Please check the `cause` property for more information.":Z.errors.map(({message:J})=>J).join(", ");return Z.message}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(Z){return this[SZ].has(Z)}addErrorLabel(Z){this[SZ].add(Z)}get errorLabels(){return Array.from(this[SZ])}}_R.MongoError=e6;class BW extends e6{constructor(Z){super(Z.message||Z.errmsg||Z.$err||"n/a");if(Z.errorLabels)this[SZ]=new Set(Z.errorLabels);for(let J in Z)if(J!=="errorLabels"&&J!=="errmsg"&&J!=="message")this[J]=Z[J]}get name(){return"MongoServerError"}}_R.MongoServerError=BW;class _Z extends e6{constructor(Z,J){super(Z,J)}get name(){return"MongoDriverError"}}_R.MongoDriverError=_Z;class G8 extends _Z{constructor(Z,J){super(Z,J)}get name(){return"MongoAPIError"}}_R.MongoAPIError=G8;class Z4 extends _Z{constructor(Z,J){super(Z,J)}get name(){return"MongoRuntimeError"}}_R.MongoRuntimeError=Z4;class WR extends G8{constructor(Z="This batch has already been executed, create new batch to execute"){super(Z)}get name(){return"MongoBatchReExecutionError"}}_R.MongoBatchReExecutionError=WR;class HR extends Z4{constructor(Z){super(Z)}get name(){return"MongoDecompressionError"}}_R.MongoDecompressionError=HR;class qR extends G8{constructor(Z){super(Z)}get name(){return"MongoNotConnectedError"}}_R.MongoNotConnectedError=qR;class KR extends G8{constructor(Z){super(Z)}get name(){return"MongoTransactionError"}}_R.MongoTransactionError=KR;class QR extends G8{constructor(Z="Cannot use a session that has ended"){super(Z)}get name(){return"MongoExpiredSessionError"}}_R.MongoExpiredSessionError=QR;class zR extends Z4{constructor(Z){super(Z)}get name(){return"MongoKerberosError"}}_R.MongoKerberosError=zR;class FR extends Z4{constructor(Z){super(Z)}get name(){return"MongoAWSError"}}_R.MongoAWSError=FR;class UR extends Z4{constructor(Z){super(Z)}get name(){return"MongoAzureError"}}_R.MongoAzureError=UR;class LR extends Z4{constructor(Z){super(Z)}get name(){return"MongoChangeStreamError"}}_R.MongoChangeStreamError=LR;class VR extends G8{constructor(Z="Tailable cursor does not support this operation"){super(Z)}get name(){return"MongoTailableCursorError"}}_R.MongoTailableCursorError=VR;class RR extends Z4{constructor(Z){super(Z)}get name(){return"MongoGridFSStreamError"}}_R.MongoGridFSStreamError=RR;class wR extends Z4{constructor(Z){super(Z)}get name(){return"MongoGridFSChunkError"}}_R.MongoGridFSChunkError=wR;class AR extends Z4{constructor(Z){super(Z)}get name(){return"MongoUnexpectedServerResponseError"}}_R.MongoUnexpectedServerResponseError=AR;class BR extends G8{constructor(Z="Cursor is already initialized"){super(Z)}get name(){return"MongoCursorInUseError"}}_R.MongoCursorInUseError=BR;class MR extends G8{constructor(Z="Server is closed"){super(Z)}get name(){return"MongoServerClosedError"}}_R.MongoServerClosedError=MR;class NR extends G8{constructor(Z){super(Z||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}}_R.MongoCursorExhaustedError=NR;class IR extends G8{constructor(Z="Topology is closed"){super(Z)}get name(){return"MongoTopologyClosedError"}}_R.MongoTopologyClosedError=IR;var DR=Symbol("beforeHandshake");_R.isNetworkErrorBeforeHandshake=Nc;class a7 extends e6{constructor(Z,J){super(Z,{cause:J?.cause});if(J&&typeof J.beforeHandshake==="boolean")this[DR]=J.beforeHandshake}get name(){return"MongoNetworkError"}}_R.MongoNetworkError=a7;class CR extends a7{constructor(Z,J){super(Z,J)}get name(){return"MongoNetworkTimeoutError"}}_R.MongoNetworkTimeoutError=CR;class MW extends _Z{constructor(Z){super(Z)}get name(){return"MongoParseError"}}_R.MongoParseError=MW;class PR extends G8{constructor(Z){super(Z)}get name(){return"MongoInvalidArgumentError"}}_R.MongoInvalidArgumentError=PR;class ER extends G8{constructor(Z){super(Z)}get name(){return"MongoCompatibilityError"}}_R.MongoCompatibilityError=ER;class TR extends G8{constructor(Z){super(Z)}get name(){return"MongoMissingCredentialsError"}}_R.MongoMissingCredentialsError=TR;class jR extends G8{constructor(Z,J={}){super(Z,J)}get name(){return"MongoMissingDependencyError"}}_R.MongoMissingDependencyError=jR;class NW extends e6{constructor(Z,J){if(J&&J.error)super(e6.buildErrorMessage(J.error.message||J.error),{cause:J.error});else super(Z);if(J)this.reason=J;this.code=J.error?.code}get name(){return"MongoSystemError"}}_R.MongoSystemError=NW;class OR extends NW{constructor(Z,J){super(Z,J)}get name(){return"MongoServerSelectionError"}}_R.MongoServerSelectionError=OR;class IW extends BW{constructor(Z,J){if(J&&Array.isArray(J.errorLabels))Z.errorLabels=J.errorLabels;super(Z);if(this.errInfo=Z.errInfo,J!=null)this.result=Ic(J)}get name(){return"MongoWriteConcernError"}}_R.MongoWriteConcernError=IW;var SR=new Set([_R.MONGODB_ERROR_CODES.HostUnreachable,_R.MONGODB_ERROR_CODES.HostNotFound,_R.MONGODB_ERROR_CODES.NetworkTimeout,_R.MONGODB_ERROR_CODES.ShutdownInProgress,_R.MONGODB_ERROR_CODES.PrimarySteppedDown,_R.MONGODB_ERROR_CODES.SocketException,_R.MONGODB_ERROR_CODES.NotWritablePrimary,_R.MONGODB_ERROR_CODES.InterruptedAtShutdown,_R.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,_R.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,_R.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),$R=new Set([...SR,_R.MONGODB_ERROR_CODES.ExceededTimeLimit]);_R.needsRetryableWriteLabel=Dc;_R.isRetryableWriteError=Cc;_R.isRetryableReadError=Pc;var Ec=new Set([_R.MONGODB_ERROR_CODES.ShutdownInProgress,_R.MONGODB_ERROR_CODES.PrimarySteppedDown,_R.MONGODB_ERROR_CODES.InterruptedAtShutdown,_R.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,_R.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),Tc=new Set([_R.MONGODB_ERROR_CODES.NotWritablePrimary,_R.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,_R.MONGODB_ERROR_CODES.LegacyNotPrimary]),jc=new Set([_R.MONGODB_ERROR_CODES.InterruptedAtShutdown,_R.MONGODB_ERROR_CODES.ShutdownInProgress]);_R.isNodeShuttingDownError=Sc;_R.isSDAMUnrecoverableError=kc;_R.isNetworkTimeoutError=_c;_R.isResumableError=xc});var N0=R((yR)=>{Object.defineProperty(yR,"__esModule",{value:!0});yR.ReadPreference=yR.ReadPreferenceMode=void 0;var s7=a();yR.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});class R1{constructor(Z,J,X){if(!R1.isValid(Z))throw new s7.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(Z)}`);if(X==null&&typeof J==="object"&&!Array.isArray(J))X=J,J=void 0;else if(J&&!Array.isArray(J))throw new s7.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=Z,this.tags=J,this.hedge=X?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,X=X??{},X.maxStalenessSeconds!=null){if(X.maxStalenessSeconds<=0)throw new s7.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=X.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===R1.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new s7.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new s7.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new s7.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(Z){return new R1(Z)}static fromOptions(Z){if(!Z)return;const J=Z.readPreference??Z.session?.transaction.options.readPreference,X=Z.readPreferenceTags;if(J==null)return;if(typeof J==="string")return new R1(J,X,{maxStalenessSeconds:Z.maxStalenessSeconds,hedge:Z.hedge});else if(!(J instanceof R1)&&typeof J==="object"){const Y=J.mode||J.preference;if(Y&&typeof Y==="string")return new R1(Y,J.tags??X,{maxStalenessSeconds:J.maxStalenessSeconds,hedge:Z.hedge})}if(X)J.tags=X;return J}static translate(Z){if(Z.readPreference==null)return Z;const J=Z.readPreference;if(typeof J==="string")Z.readPreference=new R1(J);else if(J&&!(J instanceof R1)&&typeof J==="object"){const X=J.mode||J.preference;if(X&&typeof X==="string")Z.readPreference=new R1(X,J.tags,{maxStalenessSeconds:J.maxStalenessSeconds})}else if(!(J instanceof R1))throw new s7.MongoInvalidArgumentError(`Invalid read preference: ${J}`);return Z}static isValid(Z){return(new Set([R1.PRIMARY,R1.PRIMARY_PREFERRED,R1.SECONDARY,R1.SECONDARY_PREFERRED,R1.NEAREST,null])).has(Z)}isValid(Z){return R1.isValid(typeof Z==="string"?Z:this.mode)}secondaryOk(){return(new Set([R1.PRIMARY_PREFERRED,R1.SECONDARY,R1.SECONDARY_PREFERRED,R1.NEAREST])).has(this.mode)}equals(Z){return Z.mode===this.mode}toJSON(){const Z={mode:this.mode};if(Array.isArray(this.tags))Z.tags=this.tags;if(this.maxStalenessSeconds)Z.maxStalenessSeconds=this.maxStalenessSeconds;if(this.hedge)Z.hedge=this.hedge;return Z}}R1.PRIMARY=yR.ReadPreferenceMode.primary;R1.PRIMARY_PREFERRED=yR.ReadPreferenceMode.primaryPreferred;R1.SECONDARY=yR.ReadPreferenceMode.secondary;R1.SECONDARY_PREFERRED=yR.ReadPreferenceMode.secondaryPreferred;R1.NEAREST=yR.ReadPreferenceMode.nearest;R1.primary=new R1(yR.ReadPreferenceMode.primary);R1.primaryPreferred=new R1(yR.ReadPreferenceMode.primaryPreferred);R1.secondary=new R1(yR.ReadPreferenceMode.secondary);R1.secondaryPreferred=new R1(yR.ReadPreferenceMode.secondaryPreferred);R1.nearest=new R1(yR.ReadPreferenceMode.nearest);yR.ReadPreference=R1});var Y6=R((vR)=>{var Ml=function(Z){Z.forEach(Bl.clearTimeout),Z.clear()},Nl=function(Z,J){if(Z.clusterTime==null)Z.clusterTime=J;else if(J.clusterTime.greaterThan(Z.clusterTime.clusterTime))Z.clusterTime=J};Object.defineProperty(vR,"__esModule",{value:!0});vR._advanceClusterTime=vR.drainTimerQueue=vR.ServerType=vR.TopologyType=vR.STATE_CONNECTED=vR.STATE_CONNECTING=vR.STATE_CLOSED=vR.STATE_CLOSING=void 0;var Bl=import.meta.require("timers");vR.STATE_CLOSING="closing";vR.STATE_CLOSED="closed";vR.STATE_CONNECTING="connecting";vR.STATE_CONNECTED="connected";vR.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});vR.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});vR.drainTimerQueue=Ml;vR._advanceClusterTime=Nl});var gZ=R((mR)=>{var Sl=function(){return(Z,J)=>DW(Z,J.filter((X)=>X.isWritable))},kl=function(Z){return(J,X)=>{if(!Z)return[];return X.filter((Y)=>{return Y.address===Z.address&&Y.type!==u8.ServerType.Unknown})}},_l=function(Z,J){if(!J||!Z||Z&&Z<mR.MIN_SECONDARY_WRITE_WIRE_VERSION)return CW(xZ.ReadPreference.primary);return CW(J)},xl=function(Z,J,X){if(Z.maxStalenessSeconds==null||Z.maxStalenessSeconds<0)return X;const Y=Z.maxStalenessSeconds,G=(J.heartbeatFrequencyMS+Ol)/1000;if(Y<G)throw new r3.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${G} seconds`);if(Y<uR)throw new r3.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${uR} seconds`);if(J.type===u8.TopologyType.ReplicaSetWithPrimary){const $=Array.from(J.servers.values()).filter(s3)[0];return X.reduce((W,H)=>{const K=(H.lastUpdateTime-H.lastWriteDate-($.lastUpdateTime-$.lastWriteDate)+J.heartbeatFrequencyMS)/1000,Q=Z.maxStalenessSeconds??0;if(K<=Q)W.push(H);return W},[])}if(J.type===u8.TopologyType.ReplicaSetNoPrimary){if(X.length===0)return X;const $=X.reduce((W,H)=>H.lastWriteDate>W.lastWriteDate?H:W);return X.reduce((W,H)=>{const K=($.lastWriteDate-H.lastWriteDate+J.heartbeatFrequencyMS)/1000,Q=Z.maxStalenessSeconds??0;if(K<=Q)W.push(H);return W},[])}return X},gl=function(Z,J){const X=Object.keys(Z),Y=Object.keys(J);for(let G=0;G<X.length;++G){const $=X[G];if(Y.indexOf($)===-1||J[$]!==Z[$])return!1}return!0},fl=function(Z,J){if(Z.tags==null||Array.isArray(Z.tags)&&Z.tags.length===0)return J;for(let X=0;X<Z.tags.length;++X){const Y=Z.tags[X],G=J.reduce(($,W)=>{if(gl(Y,W.tags))$.push(W);return $},[]);if(G.length)return G}return[]},DW=function(Z,J){const X=J.reduce((G,$)=>G===-1?$.roundTripTime:Math.min($.roundTripTime,G),-1),Y=X+Z.localThresholdMS;return J.reduce((G,$)=>{if($.roundTripTime<=Y&&$.roundTripTime>=X)G.push($);return G},[])},s3=function(Z){return Z.type===u8.ServerType.RSPrimary},yl=function(Z){return Z.type===u8.ServerType.RSSecondary},bl=function(Z){return Z.type===u8.ServerType.RSSecondary||Z.type===u8.ServerType.RSPrimary},vl=function(Z){return Z.type!==u8.ServerType.Unknown},hl=function(Z){return Z.type===u8.ServerType.LoadBalancer},CW=function(Z){if(!Z.isValid())throw new r3.MongoInvalidArgumentError("Invalid read preference specified");return(J,X)=>{const Y=J.commonWireVersion;if(Y&&Z.minWireVersion&&Z.minWireVersion>Y)throw new r3.MongoCompatibilityError(`Minimum wire version '${Z.minWireVersion}' required, but found '${Y}'`);if(J.type===u8.TopologyType.LoadBalanced)return X.filter(hl);if(J.type===u8.TopologyType.Unknown)return[];if(J.type===u8.TopologyType.Single||J.type===u8.TopologyType.Sharded)return DW(J,X.filter(vl));const G=Z.mode;if(G===xZ.ReadPreference.PRIMARY)return X.filter(s3);if(G===xZ.ReadPreference.PRIMARY_PREFERRED){const H=X.filter(s3);if(H.length)return H}const $=G===xZ.ReadPreference.NEAREST?bl:yl,W=DW(J,fl(Z,xl(Z,J,X.filter($))));if(G===xZ.ReadPreference.SECONDARY_PREFERRED&&W.length===0)return X.filter(s3);return W}};Object.defineProperty(mR,"__esModule",{value:!0});mR.readPreferenceServerSelector=mR.secondaryWritableServerSelector=mR.sameServerSelector=mR.writableServerSelector=mR.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;var r3=a(),xZ=N0(),u8=Y6(),Ol=1e4,uR=90;mR.MIN_SECONDARY_WRITE_WIRE_VERSION=13;mR.writableServerSelector=Sl;mR.sameServerSelector=kl;mR.secondaryWritableServerSelector=_l;mR.readPreferenceServerSelector=CW});var r7=R((lR)=>{Object.defineProperty(lR,"__esModule",{value:!0});lR.OP_MSG=lR.OP_COMPRESSED=lR.OP_DELETE=lR.OP_QUERY=lR.OP_INSERT=lR.OP_UPDATE=lR.OP_REPLY=lR.MIN_SUPPORTED_QE_SERVER_VERSION=lR.MIN_SUPPORTED_QE_WIRE_VERSION=lR.MAX_SUPPORTED_WIRE_VERSION=lR.MIN_SUPPORTED_WIRE_VERSION=lR.MAX_SUPPORTED_SERVER_VERSION=lR.MIN_SUPPORTED_SERVER_VERSION=void 0;lR.MIN_SUPPORTED_SERVER_VERSION="3.6";lR.MAX_SUPPORTED_SERVER_VERSION="7.0";lR.MIN_SUPPORTED_WIRE_VERSION=6;lR.MAX_SUPPORTED_WIRE_VERSION=21;lR.MIN_SUPPORTED_QE_WIRE_VERSION=21;lR.MIN_SUPPORTED_QE_SERVER_VERSION="7.0";lR.OP_REPLY=1;lR.OP_UPDATE=2001;lR.OP_INSERT=2002;lR.OP_QUERY=2004;lR.OP_DELETE=2006;lR.OP_COMPRESSED=2012;lR.OP_MSG=2013});var T0=R((iR)=>{Object.defineProperty(iR,"__esModule",{value:!0});iR.TOPOLOGY_EVENTS=iR.CMAP_EVENTS=iR.HEARTBEAT_EVENTS=iR.RESUME_TOKEN_CHANGED=iR.END=iR.CHANGE=iR.INIT=iR.MORE=iR.RESPONSE=iR.SERVER_HEARTBEAT_FAILED=iR.SERVER_HEARTBEAT_SUCCEEDED=iR.SERVER_HEARTBEAT_STARTED=iR.COMMAND_FAILED=iR.COMMAND_SUCCEEDED=iR.COMMAND_STARTED=iR.CLUSTER_TIME_RECEIVED=iR.CONNECTION_CHECKED_IN=iR.CONNECTION_CHECKED_OUT=iR.CONNECTION_CHECK_OUT_FAILED=iR.CONNECTION_CHECK_OUT_STARTED=iR.CONNECTION_CLOSED=iR.CONNECTION_READY=iR.CONNECTION_CREATED=iR.CONNECTION_POOL_READY=iR.CONNECTION_POOL_CLEARED=iR.CONNECTION_POOL_CLOSED=iR.CONNECTION_POOL_CREATED=iR.TOPOLOGY_DESCRIPTION_CHANGED=iR.TOPOLOGY_CLOSED=iR.TOPOLOGY_OPENING=iR.SERVER_DESCRIPTION_CHANGED=iR.SERVER_CLOSED=iR.SERVER_OPENING=iR.DESCRIPTION_RECEIVED=iR.UNPINNED=iR.PINNED=iR.MESSAGE=iR.ENDED=iR.CLOSED=iR.CONNECT=iR.OPEN=iR.CLOSE=iR.TIMEOUT=iR.ERROR=iR.SYSTEM_JS_COLLECTION=iR.SYSTEM_COMMAND_COLLECTION=iR.SYSTEM_USER_COLLECTION=iR.SYSTEM_PROFILE_COLLECTION=iR.SYSTEM_INDEX_COLLECTION=iR.SYSTEM_NAMESPACE_COLLECTION=void 0;iR.LEGACY_HELLO_COMMAND_CAMEL_CASE=iR.LEGACY_HELLO_COMMAND=iR.MONGO_CLIENT_EVENTS=iR.LOCAL_SERVER_EVENTS=iR.SERVER_RELAY_EVENTS=iR.APM_EVENTS=void 0;iR.SYSTEM_NAMESPACE_COLLECTION="system.namespaces";iR.SYSTEM_INDEX_COLLECTION="system.indexes";iR.SYSTEM_PROFILE_COLLECTION="system.profile";iR.SYSTEM_USER_COLLECTION="system.users";iR.SYSTEM_COMMAND_COLLECTION="$cmd";iR.SYSTEM_JS_COLLECTION="system.js";iR.ERROR="error";iR.TIMEOUT="timeout";iR.CLOSE="close";iR.OPEN="open";iR.CONNECT="connect";iR.CLOSED="closed";iR.ENDED="ended";iR.MESSAGE="message";iR.PINNED="pinned";iR.UNPINNED="unpinned";iR.DESCRIPTION_RECEIVED="descriptionReceived";iR.SERVER_OPENING="serverOpening";iR.SERVER_CLOSED="serverClosed";iR.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged";iR.TOPOLOGY_OPENING="topologyOpening";iR.TOPOLOGY_CLOSED="topologyClosed";iR.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged";iR.CONNECTION_POOL_CREATED="connectionPoolCreated";iR.CONNECTION_POOL_CLOSED="connectionPoolClosed";iR.CONNECTION_POOL_CLEARED="connectionPoolCleared";iR.CONNECTION_POOL_READY="connectionPoolReady";iR.CONNECTION_CREATED="connectionCreated";iR.CONNECTION_READY="connectionReady";iR.CONNECTION_CLOSED="connectionClosed";iR.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted";iR.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed";iR.CONNECTION_CHECKED_OUT="connectionCheckedOut";iR.CONNECTION_CHECKED_IN="connectionCheckedIn";iR.CLUSTER_TIME_RECEIVED="clusterTimeReceived";iR.COMMAND_STARTED="commandStarted";iR.COMMAND_SUCCEEDED="commandSucceeded";iR.COMMAND_FAILED="commandFailed";iR.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted";iR.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded";iR.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed";iR.RESPONSE="response";iR.MORE="more";iR.INIT="init";iR.CHANGE="change";iR.END="end";iR.RESUME_TOKEN_CHANGED="resumeTokenChanged";iR.HEARTBEAT_EVENTS=Object.freeze([iR.SERVER_HEARTBEAT_STARTED,iR.SERVER_HEARTBEAT_SUCCEEDED,iR.SERVER_HEARTBEAT_FAILED]);iR.CMAP_EVENTS=Object.freeze([iR.CONNECTION_POOL_CREATED,iR.CONNECTION_POOL_READY,iR.CONNECTION_POOL_CLEARED,iR.CONNECTION_POOL_CLOSED,iR.CONNECTION_CREATED,iR.CONNECTION_READY,iR.CONNECTION_CLOSED,iR.CONNECTION_CHECK_OUT_STARTED,iR.CONNECTION_CHECK_OUT_FAILED,iR.CONNECTION_CHECKED_OUT,iR.CONNECTION_CHECKED_IN]);iR.TOPOLOGY_EVENTS=Object.freeze([iR.SERVER_OPENING,iR.SERVER_CLOSED,iR.SERVER_DESCRIPTION_CHANGED,iR.TOPOLOGY_OPENING,iR.TOPOLOGY_CLOSED,iR.TOPOLOGY_DESCRIPTION_CHANGED,iR.ERROR,iR.TIMEOUT,iR.CLOSE]);iR.APM_EVENTS=Object.freeze([iR.COMMAND_STARTED,iR.COMMAND_SUCCEEDED,iR.COMMAND_FAILED]);iR.SERVER_RELAY_EVENTS=Object.freeze([iR.SERVER_HEARTBEAT_STARTED,iR.SERVER_HEARTBEAT_SUCCEEDED,iR.SERVER_HEARTBEAT_FAILED,iR.COMMAND_STARTED,iR.COMMAND_SUCCEEDED,iR.COMMAND_FAILED,...iR.CMAP_EVENTS]);iR.LOCAL_SERVER_EVENTS=Object.freeze([iR.CONNECT,iR.DESCRIPTION_RECEIVED,iR.CLOSED,iR.ENDED]);iR.MONGO_CLIENT_EVENTS=Object.freeze([...iR.CMAP_EVENTS,...iR.APM_EVENTS,...iR.TOPOLOGY_EVENTS,...iR.HEARTBEAT_EVENTS]);iR.LEGACY_HELLO_COMMAND="ismaster";iR.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"});var G6=R((Mw)=>{Object.defineProperty(Mw,"__esModule",{value:!0});Mw.ReadConcern=Mw.ReadConcernLevel=void 0;Mw.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});class t5{constructor(Z){this.level=Mw.ReadConcernLevel[Z]??Z}static fromOptions(Z){if(Z==null)return;if(Z.readConcern){const{readConcern:J}=Z;if(J instanceof t5)return J;else if(typeof J==="string")return new t5(J);else if("level"in J&&J.level)return new t5(J.level)}if(Z.level)return new t5(Z.level);return}static get MAJORITY(){return Mw.ReadConcernLevel.majority}static get AVAILABLE(){return Mw.ReadConcernLevel.available}static get LINEARIZABLE(){return Mw.ReadConcernLevel.linearizable}static get SNAPSHOT(){return Mw.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}}Mw.ReadConcern=t5});var M8=R((Iw)=>{Object.defineProperty(Iw,"__esModule",{value:!0});Iw.WriteConcern=Iw.WRITE_CONCERN_KEYS=void 0;Iw.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];class fZ{constructor(Z,J,X,Y){if(Z!=null)if(!Number.isNaN(Number(Z)))this.w=Number(Z);else this.w=Z;if(J!=null)this.wtimeoutMS=this.wtimeout=J;if(X!=null)this.journal=this.j=X;if(Y!=null)this.journal=this.j=Y?!0:!1}static apply(Z,J){const X={};if(J.w!=null)X.w=J.w;if(J.wtimeoutMS!=null)X.wtimeout=J.wtimeoutMS;if(J.journal!=null)X.j=J.j;return Z.writeConcern=X,Z}static fromOptions(Z,J){if(Z==null)return;J=J??{};let X;if(typeof Z==="string"||typeof Z==="number")X={w:Z};else if(Z instanceof fZ)X=Z;else X=Z.writeConcern;const Y=J instanceof fZ?J:J.writeConcern,{w:G=void 0,wtimeout:$=void 0,j:W=void 0,fsync:H=void 0,journal:q=void 0,wtimeoutMS:K=void 0}={...Y,...X};if(G!=null||$!=null||K!=null||W!=null||q!=null||H!=null)return new fZ(G,$??K,W??q,H);return}}Iw.WriteConcern=fZ});var Z1=R((yw)=>{var xp=function(Z,J){for(let X of J)if(Z===X||X.startsWith("*.")&&Z?.endsWith(X.substring(2,X.length))||X.startsWith("*/")&&Z?.endsWith(X.substring(2,X.length)))return!0;return!1},gp=function(Z){let J=void 0;if(typeof Z==="string")J=Z;else if(Array.isArray(Z))J={},Z.forEach((X)=>{J[X]=1});else if(Z!=null&&typeof Z==="object"){J={};for(let X in Z)J[X]=Z[X]}return J},xW=function(Z){return fp(Z)==="[object Object]"},yp=function(Z,J){return{...Z,...J}},bp=function(Z,J){const X={};for(let Y in Z)if(J.includes(Y))X[Y]=Z[Y];return X},vp=function(Z,J){if(J&&J.s.options?.retryWrites)Z.retryWrites=!0;return Z},hp=function(Z){return!!Z&&typeof Z.then==="function"},up=function(Z,J,X){const Y=Tw(J).capabilities;if(X.collation&&typeof X.collation==="object")if(Y&&Y.commandsTakeCollation)Z.collation=X.collation;else throw new O6.MongoCompatibilityError("Current topology does not support collation")},mp=function(Z,J,X){if(X&&X.session&&X.session.inTransaction())return;const Y=Object.assign({},Z.readConcern||{});if(J.s.readConcern)Object.assign(Y,J.s.readConcern);if(Object.keys(Y).length>0)Object.assign(Z,{readConcern:Y})},dp=function(Z,J){if(Z.explain)return Z;return{explain:Z,verbosity:J.verbosity}},Tw=function(Z){if("topology"in Z&&Z.topology)return Z.topology;else if("client"in Z&&Z.client.topology)return Z.client.topology;throw new O6.MongoNotConnectedError("MongoClient must be connected to perform this operation")},cp=function(Z){return vZ.fromString(Z)};function*lp(Z=0){let J=Z;while(!0){const X=J;J+=1,yield X}}var pp=function(Z,J){const X=Z();if(J==null)return X;X.then((Y)=>J(void 0,Y),(Y)=>J(Y));return},ip=function(){const Z=Dp.randomBytes(16);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z},np=function(Z){if(Z){if(Z.loadBalanced)return Tp.MAX_SUPPORTED_WIRE_VERSION;if(Z.hello)return Z.hello.maxWireVersion;if("lastHello"in Z&&typeof Z.lastHello==="function"){const J=Z.lastHello();if(J)return J.maxWireVersion}if(Z.description&&"maxWireVersion"in Z.description&&Z.description.maxWireVersion!=null)return Z.description.maxWireVersion}return 0},ap=function(Z,J,X){Z=Z||[];let Y=0,G=0;for(Y=0;Y<Z.length;++Y)G++,J(Z[Y],$);if(G===0){X();return}function $(W){if(G--,W){X(W);return}if(Y===Z.length&&G<=0)X()}},sp=function(Z,J){if(!Array.isArray(Z)||!Array.isArray(J))return!1;return Z.length===J.length&&Z.every((X,Y)=>X===J[Y])},rp=function(Z,J){if(Z===J)return!0;if(!Z||!J)return Z===J;if(Z==null&&J!=null||Z!=null&&J==null)return!1;if(Z.constructor.name!==J.constructor.name)return!1;if(Z.message!==J.message)return!1;return!0},tp=function(Z){return function J(X,Y){const G=Z[X.s.state];if(G&&G.indexOf(Y)<0)throw new O6.MongoRuntimeError(`illegal state transition from [${X.s.state}] => [${Y}], allowed: [${G}]`);X.emit("stateChanged",X.s.state,Y),X.s.state=Y}},jw=function(){const Z=process.hrtime();return Math.floor(Z[0]*1000+Z[1]/1e6)},op=function(Z){if(typeof Z!=="number")throw new O6.MongoInvalidArgumentError("Numeric value required to calculate duration");const J=jw()-Z;return J<0?0:J},Ow=function(Z){if(Array.isArray(Z)){for(let X of Z)if(Ow(X))return!0;return!1}const J=Object.keys(Z);return J.length>0&&J[0][0]==="$"},ep=function(Z,J){const X=Object.assign({},J,Ew.resolveBSONOptions(J,Z));if(!J?.session?.inTransaction()){const $=Op.ReadConcern.fromOptions(J)??Z?.readConcern;if($)X.readConcern=$;const W=_p.WriteConcern.fromOptions(J)??Z?.writeConcern;if(W)X.writeConcern=W}const G=Sp.ReadPreference.fromOptions(J)??Z?.readPreference;if(G)X.readPreference=G;return X},Sw=function(Z,J){Z=Array.isArray(Z)?new Set(Z):Z,J=Array.isArray(J)?new Set(J):J;for(let X of J)if(!Z.has(X))return!1;return!0},Zi=function(Z){return Z[jp.LEGACY_HELLO_COMMAND]||Z.hello?!0:!1},Ji=function(Z,J){const X=new Set(Z);for(let Y of J)X.delete(Y);return X},kw=function(Z,J=void 0){if(!xW(Z))return!1;const X=Z.constructor;if(X&&X.prototype){if(!xW(X.prototype))return!1;if(!Xi(X.prototype,"isPrototypeOf"))return!1}if(J){const Y=Object.keys(Z);return Sw(Y,J)}return!0},gW=function(Z){if(Z==null)return Z;else if(Array.isArray(Z))return Z.map((X)=>gW(X));else if(kw(Z)){const X={};for(let Y in Z)X[Y]=gW(Z[Y]);return X}const J=Z.constructor;if(J)switch(J.name.toLowerCase()){case"date":return new J(Number(Z));case"map":return new Map(Z);case"set":return new Set(Z);case"buffer":return Buffer.from(Z)}return Z},xw=function(Z){return process.emitWarning(Z,{code:yw.MONGODB_WARNING_CODE})},Yi=function(Z){if(!Pw.has(Z))return Pw.add(Z),xw(Z)},Gi=function(Z){return Object.values(Z).join(", ")},$i=function(Z){if(!Z)return!1;if(Z.loadBalanced)return!0;if(Z.description.logicalSessionTimeoutMinutes!=null){if(Z.description.type!==kp.ServerType.Standalone)return!0}return!1},Wi=function(Z,J=0){const X=Array.from(Z);if(J>X.length)throw new O6.MongoRuntimeError("Limit must be less than the number of items");let Y=X.length;const G=J%X.length===0?1:X.length-J;while(Y>G){const $=Math.floor(Math.random()*Y);Y-=1;const W=X[Y];X[Y]=X[$],X[$]=W}return J%X.length===0?X:X.slice(G)},Hi=function(Z){if(Z.aggregate||Z.count||Z.distinct||Z.find||Z.geoNear)return!0;return!1},qi=function(Z,J){if(Z==null&&J==null)return 0;if(Z==null)return-1;if(J==null)return 1;return yw.ByteUtils.compare(Z.id,J.id)},gw=function(Z){if(typeof Z==="number")return Math.trunc(Z);const J=Number.parseInt(String(Z),10);return Number.isNaN(J)?null:J},Ki=function(Z){const J=gw(Z);return J!=null&&J>=0?J:null},Qi=function(Z,J){const X=Z.endsWith(".")?Z.slice(0,Z.length-1):Z,Y=J.endsWith(".")?J.slice(0,J.length-1):J,G=/^.*?\./,$=`.${X.replace(G,"")}`,W=`.${Y.replace(G,"")}`;return $.endsWith(W)};async function zi(Z,J={}){return new Promise((X,Y)=>{const G={method:"GET",timeout:1e4,json:!0,...Pp.parse(Z),...J},$=Cp.request(G,(W)=>{W.setEncoding("utf8");let H="";W.on("data",(q)=>{H+=q}),W.once("end",()=>{if(J.json===!1){X(H);return}try{const q=JSON.parse(H);X(q)}catch{Y(new O6.MongoRuntimeError(`Invalid JSON response: "${H}"`))}})});$.once("timeout",()=>$.destroy(new O6.MongoNetworkTimeoutError(`Network request to ${Z} timed out after ${J.timeout} ms`))),$.once("error",(W)=>Y(W)),$.end()})}Object.defineProperty(yw,"__esModule",{value:!0});yw.TimeoutController=yw.request=yw.matchesParentDomain=yw.parseUnsignedInteger=yw.parseInteger=yw.compareObjectId=yw.commandSupportsReadConcern=yw.shuffle=yw.supportsRetryableWrites=yw.enumToString=yw.emitWarningOnce=yw.emitWarning=yw.MONGODB_WARNING_CODE=yw.DEFAULT_PK_FACTORY=yw.HostAddress=yw.BufferPool=yw.List=yw.deepCopy=yw.isRecord=yw.setDifference=yw.isHello=yw.isSuperset=yw.resolveOptions=yw.hasAtomicOperators=yw.calculateDurationInMs=yw.now=yw.makeStateMachine=yw.errorStrictEqual=yw.arrayStrictEqual=yw.eachAsync=yw.maxWireVersion=yw.uuidV4=yw.maybeCallback=yw.makeCounter=yw.MongoDBCollectionNamespace=yw.MongoDBNamespace=yw.ns=yw.getTopology=yw.decorateWithExplain=yw.decorateWithReadConcern=yw.decorateWithCollation=yw.isPromiseLike=yw.applyRetryableWrites=yw.filterOptions=yw.mergeOptions=yw.isObject=yw.normalizeHintField=yw.hostMatchesWildcards=yw.ByteUtils=void 0;var Dp=import.meta.require("crypto"),Cp=import.meta.require("http"),Cw=import.meta.require("timers"),Pp=import.meta.require("url"),Ep=import.meta.require("url"),Ew=i1(),Tp=r7(),jp=T0(),O6=a(),Op=G6(),Sp=N0(),kp=Y6(),_p=M8();yw.ByteUtils={toLocalBufferType(Z){return Buffer.isBuffer(Z)?Z:Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength)},equals(Z,J){return yw.ByteUtils.toLocalBufferType(Z).equals(J)},compare(Z,J){return yw.ByteUtils.toLocalBufferType(Z).compare(J)},toBase64(Z){return yw.ByteUtils.toLocalBufferType(Z).toString("base64")}};yw.hostMatchesWildcards=xp;yw.normalizeHintField=gp;var fp=(Z)=>Object.prototype.toString.call(Z);yw.isObject=xW;yw.mergeOptions=yp;yw.filterOptions=bp;yw.applyRetryableWrites=vp;yw.isPromiseLike=hp;yw.decorateWithCollation=up;yw.decorateWithReadConcern=mp;yw.decorateWithExplain=dp;yw.getTopology=Tw;yw.ns=cp;class vZ{constructor(Z,J){this.db=Z,this.collection=J,this.collection=J===""?void 0:J}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(Z){return new fW(this.db,Z)}static fromString(Z){if(typeof Z!=="string"||Z==="")throw new O6.MongoRuntimeError(`Cannot parse namespace from "${Z}"`);const[J,...X]=Z.split("."),Y=X.join(".");return new vZ(J,Y===""?void 0:Y)}}yw.MongoDBNamespace=vZ;class fW extends vZ{constructor(Z,J){super(Z,J);this.collection=J}static fromString(Z){return super.fromString(Z)}}yw.MongoDBCollectionNamespace=fW;yw.makeCounter=lp;yw.maybeCallback=pp;yw.uuidV4=ip;yw.maxWireVersion=np;yw.eachAsync=ap;yw.arrayStrictEqual=sp;yw.errorStrictEqual=rp;yw.makeStateMachine=tp;yw.now=jw;yw.calculateDurationInMs=op;yw.hasAtomicOperators=Ow;yw.resolveOptions=ep;yw.isSuperset=Sw;yw.isHello=Zi;yw.setDifference=Ji;var Xi=(Z,J)=>Object.prototype.hasOwnProperty.call(Z,J);yw.isRecord=kw;yw.deepCopy=gW;class yW{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(let Z of this.nodes())yield Z.value}*nodes(){let Z=this.head.next;while(Z!==this.head){const{next:J}=Z;yield Z,Z=J}}push(Z){this.count+=1;const J={next:this.head,prev:this.head.prev,value:Z};this.head.prev.next=J,this.head.prev=J}pushMany(Z){for(let J of Z)this.push(J)}unshift(Z){this.count+=1;const J={next:this.head.next,prev:this.head,value:Z};this.head.next.prev=J,this.head.next=J}remove(Z){if(Z===this.head||this.length===0)return null;this.count-=1;const{prev:J,next:X}=Z;return J.next=X,X.prev=J,Z.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(Z){for(let J of this.nodes())if(Z(J.value))this.remove(J)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}}yw.List=yW;class _w{constructor(){this.buffers=new yW,this.totalByteLength=0}get length(){return this.totalByteLength}append(Z){this.buffers.push(Z),this.totalByteLength+=Z.length}getInt32(){if(this.totalByteLength<4)return null;const Z=this.buffers.first();if(Z!=null&&Z.byteLength>=4)return Z.readInt32LE(0);const J=this.read(4),X=J.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(J),X}read(Z){if(typeof Z!=="number"||Z<0)throw new O6.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(Z>this.totalByteLength)return Buffer.alloc(0);const J=Buffer.allocUnsafe(Z);for(let X=0;X<Z;){const Y=this.buffers.shift();if(Y==null)break;const G=Z-X,$=Math.min(G,Y.byteLength),W=Y.subarray(0,$);if(J.set(W,X),X+=$,this.totalByteLength-=$,$<Y.byteLength)this.buffers.unshift(Y.subarray($))}return J}}yw.BufferPool=_w;class bZ{constructor(Z){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;const J=Z.split(" ").join("%20");if(J.endsWith(".sock")){this.socketPath=decodeURIComponent(J);return}const X=`iLoveJS://${J}`;let Y;try{Y=new Ep.URL(X)}catch(H){const q=new O6.MongoRuntimeError(`Unable to parse ${J} with URL`);throw q.cause=H,q}const{hostname:G,port:$}=Y;let W=decodeURIComponent(G).toLowerCase();if(W.startsWith("[")&&W.endsWith("]"))this.isIPv6=!0,W=W.substring(1,G.length-1);if(this.host=W.toLowerCase(),typeof $==="number")this.port=$;else if(typeof $==="string"&&$!=="")this.port=Number.parseInt($,10);else this.port=27017;if(this.port===0)throw new O6.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){if(typeof this.host==="string"){if(this.isIPv6)return`[${this.host}]:${this.port}`;return`${this.host}:${this.port}`}return`${this.socketPath}`}static fromString(Z){return new bZ(Z)}static fromHostPort(Z,J){if(Z.includes(":"))Z=`[${Z}]`;return bZ.fromString(`${Z}:${J}`)}static fromSrvRecord({name:Z,port:J}){return bZ.fromHostPort(Z,J)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};const Z=this.host??"",J=this.port??0;return{host:Z,port:J}}}yw.HostAddress=bZ;yw.DEFAULT_PK_FACTORY={createPk(){return new Ew.ObjectId}};yw.MONGODB_WARNING_CODE="MONGODB DRIVER";yw.emitWarning=xw;var Pw=new Set;yw.emitWarningOnce=Yi;yw.enumToString=Gi;yw.supportsRetryableWrites=$i;yw.shuffle=Wi;yw.commandSupportsReadConcern=Hi;yw.compareObjectId=qi;yw.parseInteger=gw;yw.parseUnsignedInteger=Ki;yw.matchesParentDomain=Qi;yw.request=zi;class fw extends AbortController{constructor(Z=0,J=Z>0?Cw.setTimeout(()=>this.abort(),Z):null){super();this.timeoutId=J}clear(){if(this.timeoutId!=null)Cw.clearTimeout(this.timeoutId);this.timeoutId=null}}yw.TimeoutController=fw});var S1=R((uw)=>{var $n=function(Z,J){if(!Array.isArray(J)&&!(J instanceof Set))J=[J];return J=new Set(J),Object.defineProperty(Z,"aspects",{value:J,writable:!1}),J};Object.defineProperty(uw,"__esModule",{value:!0});uw.defineAspects=uw.AbstractOperation=uw.Aspect=void 0;var Gn=i1(),bW=N0();uw.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};var vW=Symbol("session");class hw{constructor(Z={}){this.readPreference=this.hasAspect(uw.Aspect.WRITE_OPERATION)?bW.ReadPreference.primary:bW.ReadPreference.fromOptions(Z)??bW.ReadPreference.primary,this.bsonOptions=Gn.resolveBSONOptions(Z),this[vW]=Z.session!=null?Z.session:void 0,this.options=Z,this.bypassPinningCheck=!!Z.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(Z){const J=this.constructor;if(J.aspects==null)return!1;return J.aspects.has(Z)}get session(){return this[vW]}clearSession(){this[vW]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}}uw.AbstractOperation=hw;uw.defineAspects=$n});var N8=R((iw)=>{var qn=function(Z,J,X){return hW.maybeCallback(()=>Kn(Z,J),X)};async function Kn(Z,J){if(!(J instanceof Z7.AbstractOperation))throw new s0.MongoRuntimeError("This method requires a valid operation instance");if(Z.topology==null){if(Z.s.hasBeenClosed)throw new s0.MongoNotConnectedError("Client must be connected before running operations");Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await Z.connect()}finally{delete Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}const{topology:X}=Z;if(X==null)throw new s0.MongoRuntimeError("client.connect did not create a topology but also did not throw");let Y=J.session,G;if(Y==null)G=Symbol(),Y=Z.startSession({owner:G,explicit:!1});else if(Y.hasEnded)throw new s0.MongoExpiredSessionError("Use of expired sessions is not permitted");else if(Y.snapshotEnabled&&!X.capabilities.supportsSnapshotReads)throw new s0.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later");else if(Y.client!==Z)throw new s0.MongoInvalidArgumentError("ClientSession must be from the same MongoClient");const $=J.readPreference??cw.ReadPreference.primary,W=!!Y?.inTransaction();if(W&&!$.equals(cw.ReadPreference.primary))throw new s0.MongoTransactionError(`Read preference in a transaction must be primary, not: ${$.mode}`);if(Y?.isPinned&&Y.transaction.isCommitted&&!J.bypassPinningCheck)Y.unpin();let H;if(J.hasAspect(Z7.Aspect.MUST_SELECT_SAME_SERVER))H=lw.sameServerSelector(J.server?.description);else if(J.trySecondaryWrite)H=lw.secondaryWritableServerSelector(X.commonWireVersion,$);else H=$;const q=await X.selectServerAsync(H,{session:Y});if(Y==null)return J.execute(q,void 0);if(!J.hasAspect(Z7.Aspect.RETRYABLE))try{return await J.execute(q,Y)}finally{if(Y?.owner!=null&&Y.owner===G)await Y.endSession().catch(()=>null)}const K=X.s.options.retryReads&&!W&&J.canRetryRead,Q=X.s.options.retryWrites&&!W&&hW.supportsRetryableWrites(q)&&J.canRetryWrite,z=J.hasAspect(Z7.Aspect.READ_OPERATION),F=J.hasAspect(Z7.Aspect.WRITE_OPERATION),U=z&&K||F&&Q;if(F&&Q)J.options.willRetryWrite=!0,Y.incrementTransactionNumber();try{return await J.execute(q,Y)}catch(L){if(U&&L instanceof s0.MongoError)return await Qn(J,L,{session:Y,topology:X,selector:H});throw L}finally{if(Y?.owner!=null&&Y.owner===G)await Y.endSession().catch(()=>null)}}async function Qn(Z,J,{session:X,topology:Y,selector:G}){const $=Z.hasAspect(Z7.Aspect.WRITE_OPERATION),W=Z.hasAspect(Z7.Aspect.READ_OPERATION);if($&&J.code===Hn)throw new s0.MongoServerError({message:pw,errmsg:pw,originalError:J});if($&&!s0.isRetryableWriteError(J))throw J;if(W&&!s0.isRetryableReadError(J))throw J;if(J instanceof s0.MongoNetworkError&&X.isPinned&&!X.inTransaction()&&Z.hasAspect(Z7.Aspect.CURSOR_CREATING))X.unpin({force:!0,forceClear:!0});const H=await Y.selectServerAsync(G,{session:X});if($&&!hW.supportsRetryableWrites(H))throw new s0.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await Z.execute(H,X)}catch(q){if(q instanceof s0.MongoError&&q.hasErrorLabel(s0.MongoErrorLabel.NoWritesPerformed))throw J;throw q}}Object.defineProperty(iw,"__esModule",{value:!0});iw.executeOperation=void 0;var s0=a(),cw=N0(),lw=gZ(),hW=Z1(),Z7=S1(),Hn=s0.MONGODB_ERROR_CODES.IllegalOperation,pw="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";iw.executeOperation=qn});var dW=R((aw)=>{Object.defineProperty(aw,"__esModule",{value:!0});aw.Explain=aw.ExplainVerbosity=void 0;var zn=a();aw.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});class mW{constructor(Z){if(typeof Z==="boolean")this.verbosity=Z?aw.ExplainVerbosity.allPlansExecution:aw.ExplainVerbosity.queryPlanner;else this.verbosity=Z}static fromOptions(Z){if(Z?.explain==null)return;const J=Z.explain;if(typeof J==="boolean"||typeof J==="string")return new mW(J);throw new zn.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}}aw.Explain=mW});var z0=R((ow)=>{Object.defineProperty(ow,"__esModule",{value:!0});ow.CommandOperation=void 0;var Fn=a(),Un=dW(),Ln=G6(),Vn=gZ(),hZ=Z1(),rw=M8(),o5=S1();class tw extends o5.AbstractOperation{constructor(Z,J){super(J);this.options=J??{};const X=J?.dbName||J?.authdb;if(X)this.ns=new hZ.MongoDBNamespace(X,"$cmd");else this.ns=Z?Z.s.namespace.withCollection("$cmd"):new hZ.MongoDBNamespace("admin","$cmd");if(this.readConcern=Ln.ReadConcern.fromOptions(J),this.writeConcern=rw.WriteConcern.fromOptions(J),this.hasAspect(o5.Aspect.EXPLAINABLE))this.explain=Un.Explain.fromOptions(J);else if(J?.explain!=null)throw new Fn.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){if(this.hasAspect(o5.Aspect.EXPLAINABLE))return this.explain==null;return!0}async executeCommand(Z,J,X){this.server=Z;const Y={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:J},G=hZ.maxWireVersion(Z),$=this.session&&this.session.inTransaction();if(this.readConcern&&hZ.commandSupportsReadConcern(X)&&!$)Object.assign(X,{readConcern:this.readConcern});if(this.trySecondaryWrite&&G<Vn.MIN_SECONDARY_WRITE_WIRE_VERSION)Y.omitReadPreference=!0;if(this.writeConcern&&this.hasAspect(o5.Aspect.WRITE_OPERATION)&&!$)rw.WriteConcern.apply(X,this.writeConcern);if(Y.collation&&typeof Y.collation==="object"&&!this.hasAspect(o5.Aspect.SKIP_COLLATION))Object.assign(X,{collation:Y.collation});if(typeof Y.maxTimeMS==="number")X.maxTimeMS=Y.maxTimeMS;if(this.hasAspect(o5.Aspect.EXPLAINABLE)&&this.explain)X=hZ.decorateWithExplain(X,this.explain);return Z.commandAsync(this.ns,X,Y)}}ow.CommandOperation=tw});var YA=R((JA)=>{Object.defineProperty(JA,"__esModule",{value:!0});JA.ListDatabasesOperation=void 0;var ZA=Z1(),Rn=z0(),cW=S1();class lW extends Rn.CommandOperation{constructor(Z,J){super(Z,J);this.options=J??{},this.ns=new ZA.MongoDBNamespace("admin","$cmd")}async execute(Z,J){const X={listDatabases:1};if(typeof this.options.nameOnly==="boolean")X.nameOnly=this.options.nameOnly;if(this.options.filter)X.filter=this.options.filter;if(typeof this.options.authorizedDatabases==="boolean")X.authorizedDatabases=this.options.authorizedDatabases;if(ZA.maxWireVersion(Z)>=9&&this.options.comment!==void 0)X.comment=this.options.comment;return super.executeCommand(Z,J,X)}}JA.ListDatabasesOperation=lW;cW.defineAspects(lW,[cW.Aspect.READ_OPERATION,cW.Aspect.RETRYABLE])});var iW=R(($A)=>{Object.defineProperty($A,"__esModule",{value:!0});$A.RemoveUserOperation=void 0;var wn=z0(),GA=S1();class pW extends wn.CommandOperation{constructor(Z,J,X){super(Z,X);this.options=X,this.username=J}async execute(Z,J){return await super.executeCommand(Z,J,{dropUser:this.username}),!0}}$A.RemoveUserOperation=pW;GA.defineAspects(pW,[GA.Aspect.WRITE_OPERATION])});var e5=R((QA)=>{Object.defineProperty(QA,"__esModule",{value:!0});QA.RunAdminCommandOperation=QA.RunCommandOperation=void 0;var An=Z1(),HA=S1();class qA extends HA.AbstractOperation{constructor(Z,J,X){super(X);this.command=J,this.options=X,this.ns=Z.s.namespace.withCollection("$cmd")}async execute(Z,J){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:J})}}QA.RunCommandOperation=qA;class KA extends HA.AbstractOperation{constructor(Z,J){super(J);this.command=Z,this.options=J,this.ns=new An.MongoDBNamespace("admin","$cmd")}async execute(Z,J){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:J})}}QA.RunAdminCommandOperation=KA});var VA=R((UA)=>{Object.defineProperty(UA,"__esModule",{value:!0});UA.ValidateCollectionOperation=void 0;var nW=a(),Mn=z0();class FA extends Mn.CommandOperation{constructor(Z,J,X){const Y={validate:J},G=Object.keys(X);for(let $=0;$<G.length;$++)if(Object.prototype.hasOwnProperty.call(X,G[$])&&G[$]!=="session")Y[G[$]]=X[G[$]];super(Z.s.db,X);this.options=X,this.command=Y,this.collectionName=J}async execute(Z,J){const X=this.collectionName,Y=await super.executeCommand(Z,J,this.command);if(Y.result!=null&&typeof Y.result!=="string")throw new nW.MongoUnexpectedServerResponseError("Error with validation data");if(Y.result!=null&&Y.result.match(/exception|corrupt/)!=null)throw new nW.MongoUnexpectedServerResponseError(`Invalid collection ${X}`);if(Y.valid!=null&&!Y.valid)throw new nW.MongoUnexpectedServerResponseError(`Invalid collection ${X}`);return Y}}UA.ValidateCollectionOperation=FA});var aW=R((wA)=>{Object.defineProperty(wA,"__esModule",{value:!0});wA.Admin=void 0;var Nn=i1(),t3=N8(),In=YA(),Dn=iW(),Cn=e5(),Pn=VA();class RA{constructor(Z){this.s={db:Z}}async command(Z,J){return t3.executeOperation(this.s.db.client,new Cn.RunAdminCommandOperation(Z,{...Nn.resolveBSONOptions(J),session:J?.session,readPreference:J?.readPreference}))}async buildInfo(Z){return this.command({buildinfo:1},Z)}async serverInfo(Z){return this.command({buildinfo:1},Z)}async serverStatus(Z){return this.command({serverStatus:1},Z)}async ping(Z){return this.command({ping:1},Z)}async removeUser(Z,J){return t3.executeOperation(this.s.db.client,new Dn.RemoveUserOperation(this.s.db,Z,{dbName:"admin",...J}))}async validateCollection(Z,J={}){return t3.executeOperation(this.s.db.client,new Pn.ValidateCollectionOperation(this,Z,J))}async listDatabases(Z){return t3.executeOperation(this.s.db.client,new In.ListDatabasesOperation(this.s.db,Z))}async replSetGetStatus(Z){return this.command({replSetGetStatus:1},Z)}}wA.Admin=RA});var oW=R((BA)=>{var tW=function(Z,J){const X={q:Z,limit:typeof J.limit==="number"?J.limit:0};if(J.collation)X.collation=J.collation;if(J.hint)X.hint=J.hint;return X};Object.defineProperty(BA,"__esModule",{value:!0});BA.makeDeleteStatement=BA.DeleteManyOperation=BA.DeleteOneOperation=BA.DeleteOperation=void 0;var uZ=a(),En=z0(),$6=S1();class mZ extends En.CommandOperation{constructor(Z,J,X){super(void 0,X);this.options=X,this.ns=Z,this.statements=J}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.limit!=null?Z.limit>0:!0)}async execute(Z,J){const X=this.options??{},Y=typeof X.ordered==="boolean"?X.ordered:!0,G={delete:this.ns.collection,deletes:this.statements,ordered:Y};if(X.let)G.let=X.let;if(X.comment!==void 0)G.comment=X.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((W)=>W.hint))throw new uZ.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,J,G)}}BA.DeleteOperation=mZ;class sW extends mZ{constructor(Z,J,X){super(Z.s.namespace,[tW(J,{...X,limit:1})],X)}async execute(Z,J){const X=await super.execute(Z,J);if(this.explain)return X;if(X.code)throw new uZ.MongoServerError(X);if(X.writeErrors)throw new uZ.MongoServerError(X.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:X.n}}}BA.DeleteOneOperation=sW;class rW extends mZ{constructor(Z,J,X){super(Z.s.namespace,[tW(J,X)],X)}async execute(Z,J){const X=await super.execute(Z,J);if(this.explain)return X;if(X.code)throw new uZ.MongoServerError(X);if(X.writeErrors)throw new uZ.MongoServerError(X.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:X.n}}}BA.DeleteManyOperation=rW;BA.makeDeleteStatement=tW;$6.defineAspects(mZ,[$6.Aspect.RETRYABLE,$6.Aspect.WRITE_OPERATION]);$6.defineAspects(sW,[$6.Aspect.RETRYABLE,$6.Aspect.WRITE_OPERATION,$6.Aspect.EXPLAINABLE,$6.Aspect.SKIP_COLLATION]);$6.defineAspects(rW,[$6.Aspect.WRITE_OPERATION,$6.Aspect.EXPLAINABLE,$6.Aspect.SKIP_COLLATION])});var JH=R((NA)=>{Object.defineProperty(NA,"__esModule",{value:!0});NA.BulkWriteOperation=void 0;var eW=S1();class ZH extends eW.AbstractOperation{constructor(Z,J,X){super(X);this.options=X,this.collection=Z,this.operations=J}async execute(Z,J){const X=this.collection,Y=this.operations,G={...this.options,...this.bsonOptions,readPreference:this.readPreference},$=G.ordered===!1?X.initializeUnorderedBulkOp(G):X.initializeOrderedBulkOp(G);for(let H=0;H<Y.length;H++)$.raw(Y[H]);return await $.execute({...G,session:J})}}NA.BulkWriteOperation=ZH;eW.defineAspects(ZH,[eW.Aspect.WRITE_OPERATION])});var XH=R((DA)=>{async function Sn(Z,J,X){if(X==null)X={};const Y=X.full==null?!1:X.full,G=await Z.collection(J).listIndexes(X).toArray();if(Y)return G;const $={};for(let W of G)$[W.name]=Object.entries(W.key);return $}var kn=function(Z,J,X){if((typeof X.forceServerObjectId==="boolean"?X.forceServerObjectId:Z.s.db.options?.forceServerObjectId)===!0)return J;return J.map((G)=>{if(G._id==null)G._id=Z.s.pkFactory.createPk();return G})};Object.defineProperty(DA,"__esModule",{value:!0});DA.prepareDocs=DA.indexInformation=void 0;DA.indexInformation=Sn;DA.prepareDocs=kn});var $H=R((EA)=>{Object.defineProperty(EA,"__esModule",{value:!0});EA.InsertManyOperation=EA.InsertOneOperation=EA.InsertOperation=void 0;var o3=a(),xn=M8(),gn=JH(),fn=z0(),PA=XH(),M4=S1();class e3 extends fn.CommandOperation{constructor(Z,J,X){super(void 0,X);this.options={...X,checkKeys:X.checkKeys??!1},this.ns=Z,this.documents=J}async execute(Z,J){const X=this.options??{},Y=typeof X.ordered==="boolean"?X.ordered:!0,G={insert:this.ns.collection,documents:this.documents,ordered:Y};if(typeof X.bypassDocumentValidation==="boolean")G.bypassDocumentValidation=X.bypassDocumentValidation;if(X.comment!==void 0)G.comment=X.comment;return super.executeCommand(Z,J,G)}}EA.InsertOperation=e3;class YH extends e3{constructor(Z,J,X){super(Z.s.namespace,PA.prepareDocs(Z,[J],X),X)}async execute(Z,J){const X=await super.execute(Z,J);if(X.code)throw new o3.MongoServerError(X);if(X.writeErrors)throw new o3.MongoServerError(X.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,insertedId:this.documents[0]._id}}}EA.InsertOneOperation=YH;class GH extends M4.AbstractOperation{constructor(Z,J,X){super(X);if(!Array.isArray(J))throw new o3.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=X,this.collection=Z,this.docs=J}async execute(Z,J){const X=this.collection,Y={...this.options,...this.bsonOptions,readPreference:this.readPreference},G=xn.WriteConcern.fromOptions(Y),$=new gn.BulkWriteOperation(X,PA.prepareDocs(X,this.docs,Y).map((W)=>({insertOne:{document:W}})),Y);try{const W=await $.execute(Z,J);return{acknowledged:G?.w!==0,insertedCount:W.insertedCount,insertedIds:W.insertedIds}}catch(W){if(W&&W.message==="Operation must be an object with an operation key")throw new o3.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values");throw W}}}EA.InsertManyOperation=GH;M4.defineAspects(e3,[M4.Aspect.RETRYABLE,M4.Aspect.WRITE_OPERATION]);M4.defineAspects(YH,[M4.Aspect.RETRYABLE,M4.Aspect.WRITE_OPERATION]);M4.defineAspects(GH,[M4.Aspect.WRITE_OPERATION])});var QH=R((jA)=>{var ZX=function(Z,J,X){if(Z==null||typeof Z!=="object")throw new W6.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(J==null||typeof J!=="object")throw new W6.MongoInvalidArgumentError("Document must be a valid JavaScript object");const Y={q:Z,u:J};if(typeof X.upsert==="boolean")Y.upsert=X.upsert;if(X.multi)Y.multi=X.multi;if(X.hint)Y.hint=X.hint;if(X.arrayFilters)Y.arrayFilters=X.arrayFilters;if(X.collation)Y.collation=X.collation;return Y};Object.defineProperty(jA,"__esModule",{value:!0});jA.makeUpdateStatement=jA.ReplaceOneOperation=jA.UpdateManyOperation=jA.UpdateOneOperation=jA.UpdateOperation=void 0;var W6=a(),WH=Z1(),vn=z0(),_0=S1();class Z9 extends vn.CommandOperation{constructor(Z,J,X){super(void 0,X);this.options=X,this.ns=Z,this.statements=J}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.multi==null||Z.multi===!1)}async execute(Z,J){const X=this.options??{},Y=typeof X.ordered==="boolean"?X.ordered:!0,G={update:this.ns.collection,updates:this.statements,ordered:Y};if(typeof X.bypassDocumentValidation==="boolean")G.bypassDocumentValidation=X.bypassDocumentValidation;if(X.let)G.let=X.let;if(X.comment!==void 0)G.comment=X.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((W)=>W.hint))throw new W6.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,J,G)}}jA.UpdateOperation=Z9;class HH extends Z9{constructor(Z,J,X,Y){super(Z.s.namespace,[ZX(J,X,{...Y,multi:!1})],Y);if(!WH.hasAtomicOperators(X))throw new W6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,J){const X=await super.execute(Z,J);if(this.explain!=null)return X;if(X.code)throw new W6.MongoServerError(X);if(X.writeErrors)throw new W6.MongoServerError(X.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:X.nModified??X.n,upsertedId:Array.isArray(X.upserted)&&X.upserted.length>0?X.upserted[0]._id:null,upsertedCount:Array.isArray(X.upserted)&&X.upserted.length?X.upserted.length:0,matchedCount:Array.isArray(X.upserted)&&X.upserted.length>0?0:X.n}}}jA.UpdateOneOperation=HH;class qH extends Z9{constructor(Z,J,X,Y){super(Z.s.namespace,[ZX(J,X,{...Y,multi:!0})],Y);if(!WH.hasAtomicOperators(X))throw new W6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,J){const X=await super.execute(Z,J);if(this.explain!=null)return X;if(X.code)throw new W6.MongoServerError(X);if(X.writeErrors)throw new W6.MongoServerError(X.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:X.nModified??X.n,upsertedId:Array.isArray(X.upserted)&&X.upserted.length>0?X.upserted[0]._id:null,upsertedCount:Array.isArray(X.upserted)&&X.upserted.length?X.upserted.length:0,matchedCount:Array.isArray(X.upserted)&&X.upserted.length>0?0:X.n}}}jA.UpdateManyOperation=qH;class KH extends Z9{constructor(Z,J,X,Y){super(Z.s.namespace,[ZX(J,X,{...Y,multi:!1})],Y);if(WH.hasAtomicOperators(X))throw new W6.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}async execute(Z,J){const X=await super.execute(Z,J);if(this.explain!=null)return X;if(X.code)throw new W6.MongoServerError(X);if(X.writeErrors)throw new W6.MongoServerError(X.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:X.nModified??X.n,upsertedId:Array.isArray(X.upserted)&&X.upserted.length>0?X.upserted[0]._id:null,upsertedCount:Array.isArray(X.upserted)&&X.upserted.length?X.upserted.length:0,matchedCount:Array.isArray(X.upserted)&&X.upserted.length>0?0:X.n}}}jA.ReplaceOneOperation=KH;jA.makeUpdateStatement=ZX;_0.defineAspects(Z9,[_0.Aspect.RETRYABLE,_0.Aspect.WRITE_OPERATION,_0.Aspect.SKIP_COLLATION]);_0.defineAspects(HH,[_0.Aspect.RETRYABLE,_0.Aspect.WRITE_OPERATION,_0.Aspect.EXPLAINABLE,_0.Aspect.SKIP_COLLATION]);_0.defineAspects(qH,[_0.Aspect.WRITE_OPERATION,_0.Aspect.EXPLAINABLE,_0.Aspect.SKIP_COLLATION]);_0.defineAspects(KH,[_0.Aspect.RETRYABLE,_0.Aspect.WRITE_OPERATION,_0.Aspect.SKIP_COLLATION])});var iZ=R((yA)=>{var GX=function(Z,J,X,Y){if(X)Y=X;else if(Y&&Y.result)Y=Y.result;if(Y==null)return;if(Y.ok===0&&J.ok===1){J.ok=0;const $={index:0,code:Y.code||0,errmsg:Y.message,errInfo:Y.errInfo,op:Z.operations[0]};J.writeErrors.push(new YX($));return}else if(Y.ok===0&&J.ok===0)return;if(fA(Z)&&Y.n)J.nInserted=J.nInserted+Y.n;if(FH(Z)&&Y.n)J.nRemoved=J.nRemoved+Y.n;let G=0;if(Array.isArray(Y.upserted)){G=Y.upserted.length;for(let $=0;$<Y.upserted.length;$++)J.upserted.push({index:Y.upserted[$].index+Z.originalZeroIndex,_id:Y.upserted[$]._id})}else if(Y.upserted)G=1,J.upserted.push({index:Z.originalZeroIndex,_id:Y.upserted});if(zH(Z)&&Y.n){const $=Y.nModified;if(J.nUpserted=J.nUpserted+G,J.nMatched=J.nMatched+(Y.n-G),typeof $==="number")J.nModified=J.nModified+$;else J.nModified=0}if(Array.isArray(Y.writeErrors))for(let $=0;$<Y.writeErrors.length;$++){const W={index:Z.originalIndexes[Y.writeErrors[$].index],code:Y.writeErrors[$].code,errmsg:Y.writeErrors[$].errmsg,errInfo:Y.writeErrors[$].errInfo,op:Z.operations[Y.writeErrors[$].index]};J.writeErrors.push(new YX(W))}if(Y.writeConcernError)J.writeConcernErrors.push(new pZ(Y.writeConcernError))},xA=function(Z,J,X){if(Z.s.batches.length===0)return X(void 0,new X7(Z.s.bulkResult,Z.isOrdered));const Y=Z.s.batches.shift();function G(W,H){if(W&&"message"in W&&!(W instanceof I0.MongoWriteConcernError))return X(new J9(W,new X7(Z.s.bulkResult,Z.isOrdered)));if(W instanceof I0.MongoWriteConcernError)return nn(Y,Z.s.bulkResult,Z.isOrdered,W,X);GX(Y,Z.s.bulkResult,W,H);const q=new X7(Z.s.bulkResult,Z.isOrdered);if(Z.handleWriteError(X,q))return;xA(Z,J,X)}const $=J7.resolveOptions(Z,{...J,ordered:Z.isOrdered});if($.bypassDocumentValidation!==!0)delete $.bypassDocumentValidation;if(Z.operationId)G.operationId=Z.operationId;if(Z.s.bypassDocumentValidation===!0)$.bypassDocumentValidation=!0;if(Z.s.checkKeys===!1)$.checkKeys=!1;if($.retryWrites){if(zH(Y))$.retryWrites=$.retryWrites&&!Y.operations.some((W)=>W.multi);if(FH(Y))$.retryWrites=$.retryWrites&&!Y.operations.some((W)=>W.limit===0)}try{if(fA(Y))XX.executeOperation(Z.s.collection.client,new ln.InsertOperation(Z.s.namespace,Y.operations,$),G);else if(zH(Y))XX.executeOperation(Z.s.collection.client,new t7.UpdateOperation(Z.s.namespace,Y.operations,$),G);else if(FH(Y))XX.executeOperation(Z.s.collection.client,new lZ.DeleteOperation(Z.s.namespace,Y.operations,$),G)}catch(W){W.ok=0,GX(Y,Z.s.bulkResult,W,void 0),X()}},nn=function(Z,J,X,Y,G){GX(Z,J,void 0,Y.result),G(new J9({message:Y.result?.writeConcernError.errmsg,code:Y.result?.writeConcernError.result},new X7(J,X)))},kA=function(Z){if(typeof Z.s.options.forceServerObjectId==="boolean")return Z.s.options.forceServerObjectId;if(typeof Z.s.collection.s.db.options?.forceServerObjectId==="boolean")return Z.s.collection.s.db.options?.forceServerObjectId;return!1},fA=function(Z){return Z.batchType===yA.BatchType.INSERT},zH=function(Z){return Z.batchType===yA.BatchType.UPDATE},FH=function(Z){return Z.batchType===yA.BatchType.DELETE},cZ=function(Z){let{currentOp:J}=Z.s;if(Z.s.currentOp=void 0,!J)J={};return J};Object.defineProperty(yA,"__esModule",{value:!0});yA.BulkOperationBase=yA.FindOperators=yA.MongoBulkWriteError=yA.mergeBatchResults=yA.WriteError=yA.WriteConcernError=yA.BulkWriteResult=yA.Batch=yA.BatchType=void 0;var cn=import.meta.require("util"),JX=i1(),I0=a(),lZ=oW(),XX=N8(),ln=$H(),pn=S1(),t7=QH(),J7=Z1(),SA=M8(),dZ=Symbol("serverError");yA.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});class _A{constructor(Z,J){this.originalZeroIndex=J,this.currentIndex=0,this.originalIndexes=[],this.batchType=Z,this.operations=[],this.size=0,this.sizeBytes=0}}yA.Batch=_A;class X7{static generateIdMap(Z){const J={};for(let X of Z)J[X.index]=X._id;return J}constructor(Z,J){this.result=Z,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=X7.generateIdMap(this.result.upserted),this.insertedIds=X7.generateIdMap(this.getSuccessfullyInsertedIds(Z,J)),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}getSuccessfullyInsertedIds(Z,J){if(Z.writeErrors.length===0)return Z.insertedIds;if(J)return Z.insertedIds.slice(0,Z.writeErrors[0].index);return Z.insertedIds.filter(({index:X})=>!Z.writeErrors.some((Y)=>X===Y.index))}getUpsertedIdAt(Z){return this.result.upserted[Z]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(Z){return Z<this.result.writeErrors.length?this.result.writeErrors[Z]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(this.result.writeConcernErrors.length===0)return;else if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];else{let Z="";for(let J=0;J<this.result.writeConcernErrors.length;J++){const X=this.result.writeConcernErrors[J];if(Z=Z+X.errmsg,J===0)Z=Z+" and "}return new pZ({errmsg:Z,code:I0.MONGODB_ERROR_CODES.WriteConcernFailed})}}toString(){return`BulkWriteResult(${this.result})`}isOk(){return this.result.ok===1}}yA.BulkWriteResult=X7;class pZ{constructor(Z){this[dZ]=Z}get code(){return this[dZ].code}get errmsg(){return this[dZ].errmsg}get errInfo(){return this[dZ].errInfo}toJSON(){return this[dZ]}toString(){return`WriteConcernError(${this.errmsg})`}}yA.WriteConcernError=pZ;class YX{constructor(Z){this.err=Z}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}}yA.WriteError=YX;yA.mergeBatchResults=GX;class J9 extends I0.MongoServerError{constructor(Z,J){super(Z);if(this.writeErrors=[],Z instanceof pZ)this.err=Z;else if(!(Z instanceof Error))this.message=Z.message,this.code=Z.code,this.writeErrors=Z.writeErrors??[];this.result=J,Object.assign(this,Z)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}}yA.MongoBulkWriteError=J9;class UH{constructor(Z){this.bulkOperation=Z}update(Z){const J=cZ(this.bulkOperation);return this.bulkOperation.addToOperationsList(yA.BatchType.UPDATE,t7.makeUpdateStatement(J.selector,Z,{...J,multi:!0}))}updateOne(Z){if(!J7.hasAtomicOperators(Z))throw new I0.MongoInvalidArgumentError("Update document requires atomic operators");const J=cZ(this.bulkOperation);return this.bulkOperation.addToOperationsList(yA.BatchType.UPDATE,t7.makeUpdateStatement(J.selector,Z,{...J,multi:!1}))}replaceOne(Z){if(J7.hasAtomicOperators(Z))throw new I0.MongoInvalidArgumentError("Replacement document must not use atomic operators");const J=cZ(this.bulkOperation);return this.bulkOperation.addToOperationsList(yA.BatchType.UPDATE,t7.makeUpdateStatement(J.selector,Z,{...J,multi:!1}))}deleteOne(){const Z=cZ(this.bulkOperation);return this.bulkOperation.addToOperationsList(yA.BatchType.DELETE,lZ.makeDeleteStatement(Z.selector,{...Z,limit:1}))}delete(){const Z=cZ(this.bulkOperation);return this.bulkOperation.addToOperationsList(yA.BatchType.DELETE,lZ.makeDeleteStatement(Z.selector,{...Z,limit:0}))}upsert(){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.upsert=!0,this}collation(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.collation=Z,this}arrayFilters(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.arrayFilters=Z,this}hint(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.hint=Z,this}}yA.FindOperators=UH;var an=cn.promisify(xA);class gA extends pn.AbstractOperation{constructor(Z,J){super(J);this.bulkOperation=Z}execute(Z,J){if(this.options.session==null)this.options.session=J;return an(this.bulkOperation,this.options)}}class LH{constructor(Z,J,X){this.isOrdered=X;const Y=J7.getTopology(Z);J=J==null?{}:J;const G=Z.s.namespace,$=!1,W=void 0,H=Y.lastHello(),q=!!(Y.s.options&&Y.s.options.autoEncrypter),K=H&&H.maxBsonObjectSize?H.maxBsonObjectSize:16777216,Q=q?2097152:K,z=H&&H.maxWriteBatchSize?H.maxWriteBatchSize:1000,F=(z-1).toString(10).length+2;let U=Object.assign({},J);U=J7.applyRetryableWrites(U,Z.s.db);const L={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};if(this.s={bulkResult:L,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:SA.WriteConcern.fromOptions(J),maxBsonObjectSize:K,maxBatchSizeBytes:Q,maxWriteBatchSize:z,maxKeySize:F,namespace:G,topology:Y,options:U,bsonOptions:JX.resolveBSONOptions(J),currentOp:W,executed:$,collection:Z,err:void 0,checkKeys:typeof J.checkKeys==="boolean"?J.checkKeys:!1},J.bypassDocumentValidation===!0)this.s.bypassDocumentValidation=!0}insert(Z){if(Z._id==null&&!kA(this))Z._id=new JX.ObjectId;return this.addToOperationsList(yA.BatchType.INSERT,Z)}find(Z){if(!Z)throw new I0.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:Z},new UH(this)}raw(Z){if(Z==null||typeof Z!=="object")throw new I0.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in Z){const J=kA(this);if(Z.insertOne&&Z.insertOne.document==null){if(J!==!0&&Z.insertOne._id==null)Z.insertOne._id=new JX.ObjectId;return this.addToOperationsList(yA.BatchType.INSERT,Z.insertOne)}if(J!==!0&&Z.insertOne.document._id==null)Z.insertOne.document._id=new JX.ObjectId;return this.addToOperationsList(yA.BatchType.INSERT,Z.insertOne.document)}if("replaceOne"in Z||"updateOne"in Z||"updateMany"in Z){if("replaceOne"in Z){if("q"in Z.replaceOne)throw new I0.MongoInvalidArgumentError("Raw operations are not allowed");const J=t7.makeUpdateStatement(Z.replaceOne.filter,Z.replaceOne.replacement,{...Z.replaceOne,multi:!1});if(J7.hasAtomicOperators(J.u))throw new I0.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(yA.BatchType.UPDATE,J)}if("updateOne"in Z){if("q"in Z.updateOne)throw new I0.MongoInvalidArgumentError("Raw operations are not allowed");const J=t7.makeUpdateStatement(Z.updateOne.filter,Z.updateOne.update,{...Z.updateOne,multi:!1});if(!J7.hasAtomicOperators(J.u))throw new I0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(yA.BatchType.UPDATE,J)}if("updateMany"in Z){if("q"in Z.updateMany)throw new I0.MongoInvalidArgumentError("Raw operations are not allowed");const J=t7.makeUpdateStatement(Z.updateMany.filter,Z.updateMany.update,{...Z.updateMany,multi:!0});if(!J7.hasAtomicOperators(J.u))throw new I0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(yA.BatchType.UPDATE,J)}}if("deleteOne"in Z){if("q"in Z.deleteOne)throw new I0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(yA.BatchType.DELETE,lZ.makeDeleteStatement(Z.deleteOne.filter,{...Z.deleteOne,limit:1}))}if("deleteMany"in Z){if("q"in Z.deleteMany)throw new I0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(yA.BatchType.DELETE,lZ.makeDeleteStatement(Z.deleteMany.filter,{...Z.deleteMany,limit:0}))}throw new I0.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){const Z=[...this.s.batches];if(this.isOrdered){if(this.s.currentBatch)Z.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)Z.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)Z.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)Z.push(this.s.currentRemoveBatch)}return Z}async execute(Z={}){if(this.s.executed)throw new I0.MongoBatchReExecutionError;const J=SA.WriteConcern.fromOptions(Z);if(J)this.s.writeConcern=J;if(this.isOrdered){if(this.s.currentBatch)this.s.batches.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)this.s.batches.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)this.s.batches.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)this.s.batches.push(this.s.currentRemoveBatch)}if(this.s.batches.length===0)throw new I0.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;const X={...this.s.options,...Z},Y=new gA(this,X);return XX.executeOperation(this.s.collection.client,Y)}handleWriteError(Z,J){if(this.s.bulkResult.writeErrors.length>0){const Y=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return Z(new J9({message:Y,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},J)),!0}const X=J.getWriteConcernError();if(X)return Z(new J9(X,J)),!0;return!1}}yA.BulkOperationBase=LH;Object.defineProperty(LH.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}})});var VH=R((uA)=>{Object.defineProperty(uA,"__esModule",{value:!0});uA.OrderedBulkOperation=void 0;var Xa=i1(),vA=a(),$X=iZ();class hA extends $X.BulkOperationBase{constructor(Z,J){super(Z,J,!0)}addToOperationsList(Z,J){const X=Xa.calculateObjectSize(J,{checkKeys:!1,ignoreUndefined:!1});if(X>=this.s.maxBsonObjectSize)throw new vA.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch==null)this.s.currentBatch=new $X.Batch(Z,this.s.currentIndex);const Y=this.s.maxKeySize;if(this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+Y+X>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new $X.Batch(Z,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0;if(Z===$X.BatchType.INSERT)this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:J._id});if(Array.isArray(J))throw new vA.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(J),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=Y+X,this.s.currentIndex+=1,this}}uA.OrderedBulkOperation=hA});var RH=R((lA)=>{Object.defineProperty(lA,"__esModule",{value:!0});lA.UnorderedBulkOperation=void 0;var Ya=i1(),dA=a(),N4=iZ();class cA extends N4.BulkOperationBase{constructor(Z,J){super(Z,J,!1)}handleWriteError(Z,J){if(this.s.batches.length)return!1;return super.handleWriteError(Z,J)}addToOperationsList(Z,J){const X=Ya.calculateObjectSize(J,{checkKeys:!1,ignoreUndefined:!1});if(X>=this.s.maxBsonObjectSize)throw new dA.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch=void 0,Z===N4.BatchType.INSERT)this.s.currentBatch=this.s.currentInsertBatch;else if(Z===N4.BatchType.UPDATE)this.s.currentBatch=this.s.currentUpdateBatch;else if(Z===N4.BatchType.DELETE)this.s.currentBatch=this.s.currentRemoveBatch;const Y=this.s.maxKeySize;if(this.s.currentBatch==null)this.s.currentBatch=new N4.Batch(Z,this.s.currentIndex);if(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+Y+X>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new N4.Batch(Z,this.s.currentIndex);if(Array.isArray(J))throw new dA.MongoInvalidArgumentError("Operation passed in cannot be an Array");if(this.s.currentBatch.operations.push(J),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,Z===N4.BatchType.INSERT)this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:J._id});else if(Z===N4.BatchType.UPDATE)this.s.currentUpdateBatch=this.s.currentBatch;else if(Z===N4.BatchType.DELETE)this.s.currentRemoveBatch=this.s.currentBatch;return this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=Y+X,this}}lA.UnorderedBulkOperation=cA});var WX=R((nA)=>{Object.defineProperty(nA,"__esModule",{value:!0});nA.AggregateOperation=nA.DB_AGGREGATE_COLLECTION=void 0;var iA=a(),Ga=Z1(),$a=M8(),Wa=z0(),nZ=S1();nA.DB_AGGREGATE_COLLECTION=1;var Ha=8;class wH extends Wa.CommandOperation{constructor(Z,J,X){super(void 0,{...X,dbName:Z.db});if(this.options={...X},this.target=Z.collection||nA.DB_AGGREGATE_COLLECTION,this.pipeline=J,this.hasWriteStage=!1,typeof X?.out==="string")this.pipeline=this.pipeline.concat({$out:X.out}),this.hasWriteStage=!0;else if(J.length>0){const Y=J[J.length-1];if(Y.$out||Y.$merge)this.hasWriteStage=!0}if(this.hasWriteStage)this.trySecondaryWrite=!0;else delete this.options.writeConcern;if(this.explain&&this.writeConcern)throw new iA.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(X?.cursor!=null&&typeof X.cursor!=="object")throw new iA.MongoInvalidArgumentError("Cursor options must be an object")}get canRetryRead(){return!this.hasWriteStage}addToPipeline(Z){this.pipeline.push(Z)}async execute(Z,J){const X=this.options,Y=Ga.maxWireVersion(Z),G={aggregate:this.target,pipeline:this.pipeline};if(this.hasWriteStage&&Y<Ha)this.readConcern=void 0;if(this.hasWriteStage&&this.writeConcern)$a.WriteConcern.apply(G,this.writeConcern);if(X.bypassDocumentValidation===!0)G.bypassDocumentValidation=X.bypassDocumentValidation;if(typeof X.allowDiskUse==="boolean")G.allowDiskUse=X.allowDiskUse;if(X.hint)G.hint=X.hint;if(X.let)G.let=X.let;if(X.comment!==void 0)G.comment=X.comment;if(G.cursor=X.cursor||{},X.batchSize&&!this.hasWriteStage)G.cursor.batchSize=X.batchSize;return super.executeCommand(Z,J,G)}}nA.AggregateOperation=wH;nZ.defineAspects(wH,[nZ.Aspect.READ_OPERATION,nZ.Aspect.RETRYABLE,nZ.Aspect.EXPLAINABLE,nZ.Aspect.CURSOR_CREATING])});var m8=R((tA)=>{Object.defineProperty(tA,"__esModule",{value:!0});tA.CancellationToken=tA.TypedEventEmitter=void 0;var qa=import.meta.require("events");class AH extends qa.EventEmitter{emitAndLog(Z,...J){if(this.emit(Z,...J),this.component)this.mongoLogger?.debug(this.component,J[0])}}tA.TypedEventEmitter=AH;class rA extends AH{}tA.CancellationToken=rA});var NH=R((eA)=>{Object.defineProperty(eA,"__esModule",{value:!0});eA.GetMoreOperation=void 0;var BH=a(),Qa=Z1(),HX=S1();class MH extends HX.AbstractOperation{constructor(Z,J,X,Y){super(Y);this.options=Y,this.ns=Z,this.cursorId=J,this.server=X}async execute(Z,J){if(Z!==this.server)throw new BH.MongoRuntimeError("Getmore must run on the same server operation began on");if(this.cursorId==null||this.cursorId.isZero())throw new BH.MongoRuntimeError("Unable to iterate cursor with no id");const X=this.ns.collection;if(X==null)throw new BH.MongoRuntimeError("A collection name must be determined before getMore");const Y={getMore:this.cursorId,collection:X};if(typeof this.options.batchSize==="number")Y.batchSize=Math.abs(this.options.batchSize);if(typeof this.options.maxAwaitTimeMS==="number")Y.maxTimeMS=this.options.maxAwaitTimeMS;if(this.options.comment!==void 0&&Qa.maxWireVersion(Z)>=9)Y.comment=this.options.comment;const G={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};return Z.commandAsync(this.ns,Y,G)}}eA.GetMoreOperation=MH;HX.defineAspects(MH,[HX.Aspect.READ_OPERATION,HX.Aspect.MUST_SELECT_SAME_SERVER])});var GB=R((XB)=>{Object.defineProperty(XB,"__esModule",{value:!0});XB.KillCursorsOperation=void 0;var JB=a(),IH=S1();class DH extends IH.AbstractOperation{constructor(Z,J,X,Y){super(Y);this.ns=J,this.cursorId=Z,this.server=X}async execute(Z,J){if(Z!==this.server)throw new JB.MongoRuntimeError("Killcursor must run on the same server operation began on");const X=this.ns.collection;if(X==null)throw new JB.MongoRuntimeError("A collection name must be determined before killCursors");const Y={killCursors:X,cursors:[this.cursorId]};try{await Z.commandAsync(this.ns,Y,{session:J})}catch{}}}XB.KillCursorsOperation=DH;IH.defineAspects(DH,[IH.Aspect.MUST_SELECT_SAME_SERVER])});var CH=R(($B)=>{Object.defineProperty($B,"__esModule",{value:!0});$B.ConnectionPoolMetrics=void 0;class I4{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(Z){if(Z===I4.TXN)this.txnConnections+=1;else if(Z===I4.CURSOR)this.cursorConnections+=1;else this.otherConnections+=1}markUnpinned(Z){if(Z===I4.TXN)this.txnConnections-=1;else if(Z===I4.CURSOR)this.cursorConnections-=1;else this.otherConnections-=1}info(Z){return"Timed out while checking out a connection from connection pool: "+`maxPoolSize: ${Z}, `+`connections in use by cursors: ${this.cursorConnections}, `+`connections in use by transactions: ${this.txnConnections}, `+`connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}}I4.TXN="txn";I4.CURSOR="cursor";I4.OTHER="other";$B.ConnectionPoolMetrics=I4});var aZ=R((QB)=>{var qB=function(Z,J){if(J?.loadBalanced)return R0.ServerType.LoadBalancer;if(!Z||!Z.ok)return R0.ServerType.Unknown;if(Z.isreplicaset)return R0.ServerType.RSGhost;if(Z.msg&&Z.msg==="isdbgrid")return R0.ServerType.Mongos;if(Z.setName)if(Z.hidden)return R0.ServerType.RSOther;else if(Z.isWritablePrimary)return R0.ServerType.RSPrimary;else if(Z.secondary)return R0.ServerType.RSSecondary;else if(Z.arbiterOnly)return R0.ServerType.RSArbiter;else return R0.ServerType.RSOther;return R0.ServerType.Standalone},La=function(Z,J){const X=Object.keys(Z),Y=Object.keys(J);return X.length===Y.length&&X.every((G)=>J[G]===Z[G])},KB=function(Z,J){if(Z==null||J==null)return-1;if(!Z.processId.equals(J.processId))return-1;const X=qX.Long.isLong(Z.counter)?Z.counter:qX.Long.fromNumber(Z.counter),Y=qX.Long.isLong(J.counter)?J.counter:qX.Long.fromNumber(J.counter);return X.compare(Y)};Object.defineProperty(QB,"__esModule",{value:!0});QB.compareTopologyVersion=QB.parseServerType=QB.ServerDescription=void 0;var qX=i1(),za=a(),X9=Z1(),R0=Y6(),Fa=new Set([R0.ServerType.RSPrimary,R0.ServerType.Standalone,R0.ServerType.Mongos,R0.ServerType.LoadBalancer]),Ua=new Set([R0.ServerType.RSPrimary,R0.ServerType.RSSecondary,R0.ServerType.Mongos,R0.ServerType.Standalone,R0.ServerType.LoadBalancer]);class HB{constructor(Z,J,X={}){if(Z==null||Z==="")throw new za.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof Z==="string"?X9.HostAddress.fromString(Z).toString():Z.toString(),this.type=qB(J,X),this.hosts=J?.hosts?.map((Y)=>Y.toLowerCase())??[],this.passives=J?.passives?.map((Y)=>Y.toLowerCase())??[],this.arbiters=J?.arbiters?.map((Y)=>Y.toLowerCase())??[],this.tags=J?.tags??{},this.minWireVersion=J?.minWireVersion??0,this.maxWireVersion=J?.maxWireVersion??0,this.roundTripTime=X?.roundTripTime??-1,this.lastUpdateTime=X9.now(),this.lastWriteDate=J?.lastWrite?.lastWriteDate??0,this.error=X.error??null,this.topologyVersion=this.error?.topologyVersion??J?.topologyVersion??null,this.setName=J?.setName??null,this.setVersion=J?.setVersion??null,this.electionId=J?.electionId??null,this.logicalSessionTimeoutMinutes=J?.logicalSessionTimeoutMinutes??null,this.primary=J?.primary??null,this.me=J?.me?.toLowerCase()??null,this.$clusterTime=J?.$clusterTime??null}get hostAddress(){return X9.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===R0.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return Ua.has(this.type)}get isWritable(){return Fa.has(this.type)}get host(){const Z=`:${this.port}`.length;return this.address.slice(0,-Z)}get port(){const Z=this.address.split(":").pop();return Z?Number.parseInt(Z,10):27017}equals(Z){const J=this.topologyVersion===Z?.topologyVersion||KB(this.topologyVersion,Z?.topologyVersion)===0,X=this.electionId!=null&&Z?.electionId!=null?X9.compareObjectId(this.electionId,Z.electionId)===0:this.electionId===Z?.electionId;return Z!=null&&X9.errorStrictEqual(this.error,Z.error)&&this.type===Z.type&&this.minWireVersion===Z.minWireVersion&&X9.arrayStrictEqual(this.hosts,Z.hosts)&&La(this.tags,Z.tags)&&this.setName===Z.setName&&this.setVersion===Z.setVersion&&X&&this.primary===Z.primary&&this.logicalSessionTimeoutMinutes===Z.logicalSessionTimeoutMinutes&&J}}QB.ServerDescription=HB;QB.parseServerType=qB;QB.compareTopologyVersion=KB});var EH=R((wB)=>{var Na=function(Z){switch(Z){case w1.ServerType.Standalone:return w1.TopologyType.Single;case w1.ServerType.Mongos:return w1.TopologyType.Sharded;case w1.ServerType.RSPrimary:return w1.TopologyType.ReplicaSetWithPrimary;case w1.ServerType.RSOther:case w1.ServerType.RSSecondary:return w1.TopologyType.ReplicaSetNoPrimary;default:return w1.TopologyType.Unknown}},RB=function(Z,J,X=null,Y=null,G=null){if(X=X||J.setName,X!==J.setName)return Z.delete(J.address),[o7(Z),X,Y,G];if(J.maxWireVersion>=17){const H=PH.compareObjectId(G,J.electionId),q=H===0,K=H===-1,Q=(Y??-1)<=(J.setVersion??-1);if(K||q&&Q)G=J.electionId,Y=J.setVersion;else return Z.set(J.address,new Y7.ServerDescription(J.address)),[o7(Z),X,Y,G]}else{const H=J.electionId?J.electionId:null;if(J.setVersion&&H){if(Y&&G){if(Y>J.setVersion||PH.compareObjectId(G,H)>0)return Z.set(J.address,new Y7.ServerDescription(J.address)),[o7(Z),X,Y,G]}G=J.electionId}if(J.setVersion!=null&&(Y==null||J.setVersion>Y))Y=J.setVersion}for(let[H,q]of Z)if(q.type===w1.ServerType.RSPrimary&&q.address!==J.address){Z.set(H,new Y7.ServerDescription(q.address));break}J.allHosts.forEach((H)=>{if(!Z.has(H))Z.set(H,new Y7.ServerDescription(H))});const $=Array.from(Z.keys()),W=J.allHosts;return $.filter((H)=>W.indexOf(H)===-1).forEach((H)=>{Z.delete(H)}),[o7(Z),X,Y,G]},Ia=function(Z,J,X=null){if(X==null)throw new wa.MongoRuntimeError('Argument "setName" is required if connected to a replica set');if(X!==J.setName||J.me&&J.address!==J.me)Z.delete(J.address);return o7(Z)},Da=function(Z,J,X=null){const Y=w1.TopologyType.ReplicaSetNoPrimary;if(X=X??J.setName,X!==J.setName)return Z.delete(J.address),[Y,X];if(J.allHosts.forEach((G)=>{if(!Z.has(G))Z.set(G,new Y7.ServerDescription(G))}),J.me&&J.address!==J.me)Z.delete(J.address);return[Y,X]},o7=function(Z){for(let J of Z.values())if(J.type===w1.ServerType.RSPrimary)return w1.TopologyType.ReplicaSetWithPrimary;return w1.TopologyType.ReplicaSetNoPrimary};Object.defineProperty(wB,"__esModule",{value:!0});wB.TopologyDescription=void 0;var KX=r7(),wa=a(),PH=Z1(),w1=Y6(),Y7=aZ(),Aa=KX.MIN_SUPPORTED_SERVER_VERSION,Ba=KX.MAX_SUPPORTED_SERVER_VERSION,FB=KX.MIN_SUPPORTED_WIRE_VERSION,UB=KX.MAX_SUPPORTED_WIRE_VERSION,Ma=new Set([w1.ServerType.Mongos,w1.ServerType.Unknown]),LB=new Set([w1.ServerType.Mongos,w1.ServerType.Standalone]),VB=new Set([w1.ServerType.RSSecondary,w1.ServerType.RSArbiter,w1.ServerType.RSOther]);class sZ{constructor(Z,J=null,X=null,Y=null,G=null,$=null,W=null){W=W??{},this.type=Z??w1.TopologyType.Unknown,this.servers=J??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=W.heartbeatFrequencyMS??0,this.localThresholdMS=W.localThresholdMS??15,this.setName=X??null,this.maxElectionId=G??null,this.maxSetVersion=Y??null,this.commonWireVersion=$??0;for(let H of this.servers.values()){if(H.type===w1.ServerType.Unknown||H.type===w1.ServerType.LoadBalancer)continue;if(H.minWireVersion>UB)this.compatible=!1,this.compatibilityError=`Server at ${H.address} requires wire version ${H.minWireVersion}, but this version of the driver only supports up to ${UB} (MongoDB ${Ba})`;if(H.maxWireVersion<FB){this.compatible=!1,this.compatibilityError=`Server at ${H.address} reports wire version ${H.maxWireVersion}, but this version of the driver requires at least ${FB} (MongoDB ${Aa}).`;break}}this.logicalSessionTimeoutMinutes=null;for(let[,H]of this.servers)if(H.isReadable){if(H.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=H.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,H.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(Z,J=0){const X=Z.hostnames(),Y=new Set(this.servers.keys()),G=new Set(X),$=new Set;for(let H of Y)if(G.delete(H),!X.has(H))$.add(H);if(G.size===0&&$.size===0)return this;const W=new Map(this.servers);for(let H of $)W.delete(H);if(G.size>0){if(J===0)for(let H of G)W.set(H,new Y7.ServerDescription(H));else if(W.size<J){const H=PH.shuffle(G,J-W.size);for(let q of H)W.set(q,new Y7.ServerDescription(q))}}return new sZ(this.type,W,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(Z){const J=Z.address;let{type:X,setName:Y,maxSetVersion:G,maxElectionId:$,commonWireVersion:W}=this;const H=Z.type,q=new Map(this.servers);if(Z.maxWireVersion!==0)if(W==null)W=Z.maxWireVersion;else W=Math.min(W,Z.maxWireVersion);if(typeof Z.setName==="string"&&typeof Y==="string"&&Z.setName!==Y)if(X===w1.TopologyType.Single)Z=new Y7.ServerDescription(J);else q.delete(J);if(q.set(J,Z),X===w1.TopologyType.Single)return new sZ(w1.TopologyType.Single,q,Y,G,$,W,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(X===w1.TopologyType.Unknown)if(H===w1.ServerType.Standalone&&this.servers.size!==1)q.delete(J);else X=Na(H);if(X===w1.TopologyType.Sharded){if(!Ma.has(H))q.delete(J)}if(X===w1.TopologyType.ReplicaSetNoPrimary){if(LB.has(H))q.delete(J);if(H===w1.ServerType.RSPrimary){const K=RB(q,Z,Y,G,$);X=K[0],Y=K[1],G=K[2],$=K[3]}else if(VB.has(H)){const K=Da(q,Z,Y);X=K[0],Y=K[1]}}if(X===w1.TopologyType.ReplicaSetWithPrimary)if(LB.has(H))q.delete(J),X=o7(q);else if(H===w1.ServerType.RSPrimary){const K=RB(q,Z,Y,G,$);X=K[0],Y=K[1],G=K[2],$=K[3]}else if(VB.has(H))X=Ia(q,Z,Y);else X=o7(q);return new sZ(X,q,Y,G,$,W,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){const Z=Array.from(this.servers.values()).filter((J)=>J.error);if(Z.length>0)return Z[0].error;return null}get hasKnownServers(){return Array.from(this.servers.values()).some((Z)=>Z.type!==w1.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some((Z)=>Z.isDataBearing)}hasServer(Z){return this.servers.has(Z)}}wB.TopologyDescription=sZ});var jH=R((MB)=>{var Ea=function(Z){let J=Z?.readPreference??TH.ReadPreference.primary;if(Z?.readPreference)J=Z.readPreference;if(typeof J==="string")J=TH.ReadPreference.fromString(J);if(!(J instanceof TH.ReadPreference))throw new Ca.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return J},Ta=function(Z){if(Z==null)return!1;if(Z.description&&Z.description.type===BB.ServerType.Mongos)return!0;if(Z.description&&Z.description instanceof Pa.TopologyDescription)return Array.from(Z.description.servers.values()).some((X)=>X.type===BB.ServerType.Mongos);return!1};Object.defineProperty(MB,"__esModule",{value:!0});MB.isSharded=MB.getReadPreference=void 0;var Ca=a(),TH=N0(),BB=Y6(),Pa=EH();MB.getReadPreference=Ea;MB.isSharded=Ta});var OH=R((CB)=>{var fa=function(Z){return!!(Z.commitTransaction||Z.abortTransaction)};Object.defineProperty(CB,"__esModule",{value:!0});CB.isTransactionCommand=CB.Transaction=CB.TxnState=void 0;var IB=a(),Oa=G6(),Sa=N0(),ka=M8();CB.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});var _a={[CB.TxnState.NO_TRANSACTION]:[CB.TxnState.NO_TRANSACTION,CB.TxnState.STARTING_TRANSACTION],[CB.TxnState.STARTING_TRANSACTION]:[CB.TxnState.TRANSACTION_IN_PROGRESS,CB.TxnState.TRANSACTION_COMMITTED,CB.TxnState.TRANSACTION_COMMITTED_EMPTY,CB.TxnState.TRANSACTION_ABORTED],[CB.TxnState.TRANSACTION_IN_PROGRESS]:[CB.TxnState.TRANSACTION_IN_PROGRESS,CB.TxnState.TRANSACTION_COMMITTED,CB.TxnState.TRANSACTION_ABORTED],[CB.TxnState.TRANSACTION_COMMITTED]:[CB.TxnState.TRANSACTION_COMMITTED,CB.TxnState.TRANSACTION_COMMITTED_EMPTY,CB.TxnState.STARTING_TRANSACTION,CB.TxnState.NO_TRANSACTION],[CB.TxnState.TRANSACTION_ABORTED]:[CB.TxnState.STARTING_TRANSACTION,CB.TxnState.NO_TRANSACTION],[CB.TxnState.TRANSACTION_COMMITTED_EMPTY]:[CB.TxnState.TRANSACTION_COMMITTED_EMPTY,CB.TxnState.NO_TRANSACTION]},xa=new Set([CB.TxnState.STARTING_TRANSACTION,CB.TxnState.TRANSACTION_IN_PROGRESS]),ga=new Set([CB.TxnState.TRANSACTION_COMMITTED,CB.TxnState.TRANSACTION_COMMITTED_EMPTY,CB.TxnState.TRANSACTION_ABORTED]);class DB{constructor(Z){Z=Z??{},this.state=CB.TxnState.NO_TRANSACTION,this.options={};const J=ka.WriteConcern.fromOptions(Z);if(J){if(J.w===0)throw new IB.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=J}if(Z.readConcern)this.options.readConcern=Oa.ReadConcern.fromOptions(Z);if(Z.readPreference)this.options.readPreference=Sa.ReadPreference.fromOptions(Z);if(Z.maxCommitTimeMS)this.options.maxTimeMS=Z.maxCommitTimeMS;this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===CB.TxnState.STARTING_TRANSACTION}get isActive(){return xa.has(this.state)}get isCommitted(){return ga.has(this.state)}transition(Z){const J=_a[this.state];if(J&&J.includes(Z)){if(this.state=Z,this.state===CB.TxnState.NO_TRANSACTION||this.state===CB.TxnState.STARTING_TRANSACTION||this.state===CB.TxnState.TRANSACTION_ABORTED)this.unpinServer();return}throw new IB.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${Z}]`)}pinServer(Z){if(this.isActive)this._pinnedServer=Z}unpinServer(){this._pinnedServer=void 0}}CB.Transaction=DB;CB.isTransactionCommand=fa});var tZ=R((fB)=>{var xB=function(Z,J){return S6.calculateDurationInMs(Z)<J},la=function(Z){const J=Z instanceof q1.MongoServerError&&Z.codeName&&ca.has(Z.codeName);return VX(Z)||!J&&Z.code!==q1.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&Z.code!==q1.MONGODB_ERROR_CODES.UnknownReplWriteConcern},LX=function(Z,J){const X=Z[G9],Y=J?.error;if(Z.inTransaction()&&Y&&Y instanceof q1.MongoError&&Y.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError))return;const G=Z.client.topology;if(X&&G!=null){const W=Array.from(G.s.servers.values())[0];if(J?.error==null||J?.force){if(W.pool.checkIn(X),X.emit(kB.UNPINNED,Z.transaction.state!==t1.TxnState.NO_TRANSACTION?zX.ConnectionPoolMetrics.TXN:zX.ConnectionPoolMetrics.CURSOR),J?.forceClear)W.pool.clear({serviceId:X.serviceId})}Z[G9]=void 0}},VX=function(Z){if(Z==null||!(Z instanceof q1.MongoServerError))return!1;return Z.code===q1.MONGODB_ERROR_CODES.MaxTimeMSExpired||Z.writeConcernError&&Z.writeConcernError.code===q1.MONGODB_ERROR_CODES.MaxTimeMSExpired},gB=function(Z,J,X,Y,G){return Z.commitTransaction().then(()=>Y,($)=>{if($ instanceof q1.MongoError&&xB(J,_B)&&!VX($)){if($.hasErrorLabel(q1.MongoErrorLabel.UnknownTransactionCommitResult))return gB(Z,J,X,Y,G);if($.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError))return _H(Z,J,X,G)}throw $})},ia=function(Z){return pa.has(Z.transaction.state)},_H=function(Z,J,X,Y={}){Z.startTransaction(Y);let G;try{G=X(Z)}catch($){G=Promise.reject($)}if(!S6.isPromiseLike(G))return Z.abortTransaction().catch(()=>null),Promise.reject(new q1.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise"));return G.then(($)=>{if(ia(Z))return $;return gB(Z,J,X,$,Y)},($)=>{function W(H){if(H instanceof q1.MongoError&&H.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError)&&xB(J,_B))return _H(Z,J,X,Y);if(VX(H))H.addErrorLabel(q1.MongoErrorLabel.UnknownTransactionCommitResult);throw H}if(Z.inTransaction())return Z.abortTransaction().then(()=>W($));return W($)})},na=function(Z,J,X){const Y=Z.transaction.state;if(Y===t1.TxnState.NO_TRANSACTION){X(new q1.MongoTransactionError("No transaction started"));return}if(J==="commitTransaction"){if(Y===t1.TxnState.STARTING_TRANSACTION||Y===t1.TxnState.TRANSACTION_COMMITTED_EMPTY){Z.transaction.transition(t1.TxnState.TRANSACTION_COMMITTED_EMPTY),X();return}if(Y===t1.TxnState.TRANSACTION_ABORTED){X(new q1.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(Y===t1.TxnState.STARTING_TRANSACTION){Z.transaction.transition(t1.TxnState.TRANSACTION_ABORTED),X();return}if(Y===t1.TxnState.TRANSACTION_ABORTED){X(new q1.MongoTransactionError("Cannot call abortTransaction twice"));return}if(Y===t1.TxnState.TRANSACTION_COMMITTED||Y===t1.TxnState.TRANSACTION_COMMITTED_EMPTY){X(new q1.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}const G={[J]:1};let $;if(Z.transaction.options.writeConcern)$=Object.assign({},Z.transaction.options.writeConcern);else if(Z.clientOptions&&Z.clientOptions.writeConcern)$={w:Z.clientOptions.writeConcern.w};if(Y===t1.TxnState.TRANSACTION_COMMITTED)$=Object.assign({wtimeoutMS:1e4},$,{w:"majority"});if($)ma.WriteConcern.apply(G,$);if(J==="commitTransaction"&&Z.transaction.options.maxTimeMS)Object.assign(G,{maxTimeMS:Z.transaction.options.maxTimeMS});function W(H){if(J!=="commitTransaction"){if(Z.transaction.transition(t1.TxnState.TRANSACTION_ABORTED),Z.loadBalanced)LX(Z,{force:!1});return X()}if(Z.transaction.transition(t1.TxnState.TRANSACTION_COMMITTED),H instanceof q1.MongoError){if(H.hasErrorLabel(q1.MongoErrorLabel.RetryableWriteError)||H instanceof q1.MongoWriteConcernError||VX(H)){if(la(H))H.addErrorLabel(q1.MongoErrorLabel.UnknownTransactionCommitResult),Z.unpin({error:H})}else if(H.hasErrorLabel(q1.MongoErrorLabel.TransientTransactionError))Z.unpin({error:H})}X(H)}if(Z.transaction.recoveryToken)G.recoveryToken=Z.transaction.recoveryToken;EB.executeOperation(Z.client,new TB.RunAdminCommandOperation(G,{session:Z,readPreference:jB.ReadPreference.primary,bypassPinningCheck:!0}),(H)=>{if(G.abortTransaction)Z.unpin();if(H instanceof q1.MongoError&&H.hasErrorLabel(q1.MongoErrorLabel.RetryableWriteError)){if(G.commitTransaction)Z.unpin({force:!0}),G.writeConcern=Object.assign({wtimeout:1e4},G.writeConcern,{w:"majority"});return EB.executeOperation(Z.client,new TB.RunAdminCommandOperation(G,{session:Z,readPreference:jB.ReadPreference.primary,bypassPinningCheck:!0}),W)}W(H)})},aa=function(Z,J,X){if(Z.hasEnded)return new q1.MongoExpiredSessionError;const Y=Z.serverSession;if(Y==null)return new q1.MongoRuntimeError("Unable to acquire server session");if(X.writeConcern?.w===0){if(Z&&Z.explicit)return new q1.MongoAPIError("Cannot have explicit session with unacknowledged writes");return}Y.lastUse=S6.now(),J.lsid=Y.id;const G=Z.inTransaction()||t1.isTransactionCommand(J);if(!!X.willRetryWrite||G)Y.txnNumber+=Z[UX],Z[UX]=0,J.txnNumber=QX.Long.fromNumber(Y.txnNumber);if(!G){if(Z.transaction.state!==t1.TxnState.NO_TRANSACTION)Z.transaction.transition(t1.TxnState.NO_TRANSACTION);if(Z.supports.causalConsistency&&Z.operationTime&&S6.commandSupportsReadConcern(J))J.readConcern=J.readConcern||{},Object.assign(J.readConcern,{afterClusterTime:Z.operationTime});else if(Z[$9]){if(J.readConcern=J.readConcern||{level:ua.ReadConcernLevel.snapshot},Z[FX]!=null)Object.assign(J.readConcern,{atClusterTime:Z[FX]})}return}if(J.autocommit=!1,Z.transaction.state===t1.TxnState.STARTING_TRANSACTION){Z.transaction.transition(t1.TxnState.TRANSACTION_IN_PROGRESS),J.startTransaction=!0;const W=Z.transaction.options.readConcern||Z?.clientOptions?.readConcern;if(W)J.readConcern=W;if(Z.supports.causalConsistency&&Z.operationTime)J.readConcern=J.readConcern||{},Object.assign(J.readConcern,{afterClusterTime:Z.operationTime})}return},sa=function(Z,J){if(J.$clusterTime)SH._advanceClusterTime(Z,J.$clusterTime);if(J.operationTime&&Z&&Z.supports.causalConsistency)Z.advanceOperationTime(J.operationTime);if(J.recoveryToken&&Z&&Z.inTransaction())Z.transaction._recoveryToken=J.recoveryToken;if(Z?.[$9]&&Z[FX]==null){const X=J.cursor?.atClusterTime||J.atClusterTime;if(X)Z[FX]=X}},SB;Object.defineProperty(fB,"__esModule",{value:!0});fB.updateSessionFromResponse=fB.applySession=fB.ServerSessionPool=fB.ServerSession=fB.maybeClearPinnedConnection=fB.ClientSession=void 0;var ba=import.meta.require("util"),QX=i1(),zX=CH(),va=jH(),kB=T0(),q1=a(),ha=m8(),EB=N8(),TB=e5(),ua=G6(),jB=N0(),SH=Y6(),t1=OH(),S6=Z1(),ma=M8(),da=8,Y9=Symbol("serverSession"),FX=Symbol("snapshotTime"),$9=Symbol("snapshotEnabled"),G9=Symbol("pinnedConnection"),UX=Symbol("txnNumberIncrement");class kH extends ha.TypedEventEmitter{constructor(Z,J,X,Y){super();if(this[SB]=!1,Z==null)throw new q1.MongoRuntimeError("ClientSession requires a MongoClient");if(J==null||!(J instanceof xH))throw new q1.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(X=X??{},X.snapshot===!0){if(this[$9]=!0,X.causalConsistency===!0)throw new q1.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive')}this.client=Z,this.sessionPool=J,this.hasEnded=!1,this.clientOptions=Y,this.explicit=!!X.explicit,this[Y9]=this.explicit?this.sessionPool.acquire():null,this[UX]=0;const G=this.explicit&&X.snapshot!==!0;this.supports={causalConsistency:X.causalConsistency??G},this.clusterTime=X.initialClusterTime,this.operationTime=void 0,this.owner=X.owner,this.defaultTransactionOptions=Object.assign({},X.defaultTransactionOptions),this.transaction=new t1.Transaction}get id(){return this[Y9]?.id}get serverSession(){let Z=this[Y9];if(Z==null){if(this.explicit)throw new q1.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new q1.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");Z=this.sessionPool.acquire(),this[Y9]=Z}return Z}get snapshotEnabled(){return this[$9]}get loadBalanced(){return this.client.topology?.description.type===SH.TopologyType.LoadBalanced}get pinnedConnection(){return this[G9]}pin(Z){if(this[G9])throw TypeError("Cannot pin multiple connections to the same session");this[G9]=Z,Z.emit(kB.PINNED,this.inTransaction()?zX.ConnectionPoolMetrics.TXN:zX.ConnectionPoolMetrics.CURSOR)}unpin(Z){if(this.loadBalanced)return LX(this,Z);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[G9]:this.transaction.isPinned}async endSession(Z){try{if(this.inTransaction())await this.abortTransaction();if(!this.hasEnded){const J=this[Y9];if(J!=null)this.sessionPool.release(J),Object.defineProperty(this,Y9,{value:rZ.clone(J),writable:!1});this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{LX(this,{force:!0,...Z})}}advanceOperationTime(Z){if(this.operationTime==null){this.operationTime=Z;return}if(Z.greaterThan(this.operationTime))this.operationTime=Z}advanceClusterTime(Z){if(!Z||typeof Z!=="object")throw new q1.MongoInvalidArgumentError("input cluster time must be an object");if(!Z.clusterTime||Z.clusterTime._bsontype!=="Timestamp")throw new q1.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!Z.signature||Z.signature.hash?._bsontype!=="Binary"||typeof Z.signature.keyId!=="bigint"&&typeof Z.signature.keyId!=="number"&&Z.signature.keyId?._bsontype!=="Long")throw new q1.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');SH._advanceClusterTime(this,Z)}equals(Z){if(!(Z instanceof kH))return!1;if(this.id==null||Z.id==null)return!1;return S6.ByteUtils.equals(this.id.id.buffer,Z.id.id.buffer)}incrementTransactionNumber(){this[UX]+=1}inTransaction(){return this.transaction.isActive}startTransaction(Z){if(this[$9])throw new q1.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new q1.MongoTransactionError("Transaction already in progress");if(this.isPinned&&this.transaction.isCommitted)this.unpin();const J=S6.maxWireVersion(this.client.topology);if(va.isSharded(this.client.topology)&&J!=null&&J<da)throw new q1.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new t1.Transaction({readConcern:Z?.readConcern??this.defaultTransactionOptions.readConcern??this.clientOptions?.readConcern,writeConcern:Z?.writeConcern??this.defaultTransactionOptions.writeConcern??this.clientOptions?.writeConcern,readPreference:Z?.readPreference??this.defaultTransactionOptions.readPreference??this.clientOptions?.readPreference,maxCommitTimeMS:Z?.maxCommitTimeMS??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(t1.TxnState.STARTING_TRANSACTION)}async commitTransaction(){return OB(this,"commitTransaction")}async abortTransaction(){return OB(this,"abortTransaction")}toBSON(){throw new q1.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(Z,J){const X=S6.now();return _H(this,X,Z,J)}}fB.ClientSession=kH;SB=$9;var _B=120000,ca=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);fB.maybeClearPinnedConnection=LX;var pa=new Set([t1.TxnState.NO_TRANSACTION,t1.TxnState.TRANSACTION_COMMITTED,t1.TxnState.TRANSACTION_ABORTED]),OB=ba.promisify(na);class rZ{constructor(){this.id={id:new QX.Binary(S6.uuidV4(),QX.Binary.SUBTYPE_UUID)},this.lastUse=S6.now(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(Z){return Math.round(S6.calculateDurationInMs(this.lastUse)%86400000%3600000/60000)>Z-1}static clone(Z){const J=new ArrayBuffer(16),X=Buffer.from(J);X.set(Z.id.id.buffer);const Y=new QX.Binary(X,Z.id.id.sub_type);return Object.setPrototypeOf({id:{id:Y},lastUse:Z.lastUse,txnNumber:Z.txnNumber,isDirty:Z.isDirty},rZ.prototype)}}fB.ServerSession=rZ;class xH{constructor(Z){if(Z==null)throw new q1.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=Z,this.sessions=new S6.List}acquire(){const Z=this.client.topology?.logicalSessionTimeoutMinutes??10;let J=null;while(this.sessions.length>0){const X=this.sessions.shift();if(X!=null&&(!!this.client.topology?.loadBalanced||!X.hasTimedOut(Z))){J=X;break}}if(J==null)J=new rZ;return J}release(Z){const J=this.client.topology?.logicalSessionTimeoutMinutes??10;if(this.client.topology?.loadBalanced&&!J)this.sessions.unshift(Z);if(!J)return;if(this.sessions.prune((X)=>X.hasTimedOut(J)),!Z.hasTimedOut(J)){if(Z.isDirty)return;this.sessions.unshift(Z)}}}fB.ServerSessionPool=xH;fB.applySession=aa;fB.updateSessionFromResponse=sa});var C4=R((dB)=>{async function AX(Z,{blocking:J,transform:X}){if(Z.closed)return null;do{if(Z[r0]==null)await Z[mB]();if(Z[t0].length!==0){const G=Z[t0].shift();if(G!=null&&X&&Z[ZJ])try{return Z[ZJ](G)}catch($){throw await G7(Z,{error:$,needsToEmitClosed:!0}).catch(()=>null),$}return G}if(Z.isDead)return await G7(Z,{}),null;const Y=Z[j0].batchSize||1000;try{const G=await Z.getMore(Y);if(G){const $=typeof G.cursor.id==="number"?k6.Long.fromNumber(G.cursor.id):typeof G.cursor.id==="bigint"?k6.Long.fromBigInt(G.cursor.id):G.cursor.id;Z[t0].pushMany(G.cursor.nextBatch),Z[r0]=$}}catch(G){throw await G7(Z,{error:G}).catch(()=>null),G}if(Z.isDead)await G7(Z,{});if(Z[t0].length===0&&J===!1)return null}while(!Z.isDead||Z[t0].length!==0);return null}async function G7(Z,J){const X=Z[r0],Y=Z[oZ],G=Z[wX],$=Z[D4],W=J?.error,H=J?.needsToEmitClosed??Z[t0].length===0;if(W){if(Z.loadBalanced&&W instanceof d8.MongoNetworkError)return q()}if(X==null||G==null||X.isZero()||Y==null){if(H)Z[e7]=!0,Z[r0]=k6.Long.ZERO,Z.emit(q9.CLOSE);if($){if($.owner===Z){await $.endSession({error:W});return}if(!$.inTransaction())gH.maybeClearPinnedConnection($,{error:W})}return}async function q(){if($){if($.owner===Z){try{await $.endSession({error:W})}finally{Z.emit(q9.CLOSE)}return}if(!$.inTransaction())gH.maybeClearPinnedConnection($,{error:W})}Z.emit(q9.CLOSE);return}if(Z[eZ]=!0,$.hasEnded)return q();try{await uB.executeOperation(Z[W9],new Ys.KillCursorsOperation(X,Y,G,{session:$})).catch(()=>null)}finally{await q()}}var Z5=function(Z){if(Z[H9])throw new d8.MongoCursorInUseError};Object.defineProperty(dB,"__esModule",{value:!0});dB.assertUninitialized=dB.AbstractCursor=dB.CURSOR_FLAGS=void 0;var hB=import.meta.require("stream"),k6=i1(),d8=a(),Js=m8(),uB=N8(),Xs=NH(),Ys=GB(),bB=G6(),RX=N0(),gH=tZ(),vB=Z1(),r0=Symbol("id"),t0=Symbol("documents"),wX=Symbol("server"),oZ=Symbol("namespace"),W9=Symbol("client"),D4=Symbol("session"),j0=Symbol("options"),ZJ=Symbol("transform"),H9=Symbol("initialized"),e7=Symbol("closed"),eZ=Symbol("killed"),mB=Symbol("kInit");dB.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class q9 extends Js.TypedEventEmitter{constructor(Z,J,X={}){super();if(!Z.s.isMongoClient)throw new d8.MongoRuntimeError("Cursor must be constructed with MongoClient");this[W9]=Z,this[oZ]=J,this[r0]=null,this[t0]=new vB.List,this[H9]=!1,this[e7]=!1,this[eZ]=!1,this[j0]={readPreference:X.readPreference&&X.readPreference instanceof RX.ReadPreference?X.readPreference:RX.ReadPreference.primary,...k6.pluckBSONSerializeOptions(X)};const Y=bB.ReadConcern.fromOptions(X);if(Y)this[j0].readConcern=Y;if(typeof X.batchSize==="number")this[j0].batchSize=X.batchSize;if(X.comment!==void 0)this[j0].comment=X.comment;if(typeof X.maxTimeMS==="number")this[j0].maxTimeMS=X.maxTimeMS;if(typeof X.maxAwaitTimeMS==="number")this[j0].maxAwaitTimeMS=X.maxAwaitTimeMS;if(X.session instanceof gH.ClientSession)this[D4]=X.session;else this[D4]=this[W9].startSession({owner:this,explicit:!1})}get id(){return this[r0]??void 0}get isDead(){return(this[r0]?.isZero()??!1)||this[e7]||this[eZ]}get client(){return this[W9]}get server(){return this[wX]}get namespace(){return this[oZ]}get readPreference(){return this[j0].readPreference}get readConcern(){return this[j0].readConcern}get session(){return this[D4]}set session(Z){this[D4]=Z}get cursorOptions(){return this[j0]}get closed(){return this[e7]}get killed(){return this[eZ]}get loadBalanced(){return!!this[W9].topology?.loadBalanced}bufferedCount(){return this[t0].length}readBufferedDocuments(Z){const J=[],X=Math.min(Z??this[t0].length,this[t0].length);for(let Y=0;Y<X;Y++){const G=this[t0].shift();if(G!=null)J.push(G)}return J}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0){const Z=await this.next();if(Z===null){if(!this.closed)throw await G7(this,{needsToEmitClosed:!0}).catch(()=>null),new d8.MongoAPIError("Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.");break}if(yield Z,this[r0]===k6.Long.ZERO)break}}finally{if(!this.closed)await this.close().catch(()=>null)}}stream(Z){if(Z?.transform){const J=Z.transform;return new fH(this).pipe(new hB.Transform({objectMode:!0,highWaterMark:1,transform(Y,G,$){try{const W=J(Y);$(void 0,W)}catch(W){$(W)}}}))}return new fH(this)}async hasNext(){if(this[r0]===k6.Long.ZERO)return!1;if(this[t0].length!==0)return!0;const Z=await AX(this,{blocking:!0,transform:!1});if(Z)return this[t0].unshift(Z),!0;return!1}async next(){if(this[r0]===k6.Long.ZERO)throw new d8.MongoCursorExhaustedError;return AX(this,{blocking:!0,transform:!0})}async tryNext(){if(this[r0]===k6.Long.ZERO)throw new d8.MongoCursorExhaustedError;return AX(this,{blocking:!1,transform:!0})}async forEach(Z){if(typeof Z!=="function")throw new d8.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(let J of this)if(Z(J)===!1)break}async close(){const Z=!this[e7];this[e7]=!0,await G7(this,{needsToEmitClosed:Z})}async toArray(){const Z=[];for await(let J of this)Z.push(J);return Z}addCursorFlag(Z,J){if(Z5(this),!dB.CURSOR_FLAGS.includes(Z))throw new d8.MongoInvalidArgumentError(`Flag ${Z} is not one of ${dB.CURSOR_FLAGS}`);if(typeof J!=="boolean")throw new d8.MongoInvalidArgumentError(`Flag ${Z} must be a boolean value`);return this[j0][Z]=J,this}map(Z){Z5(this);const J=this[ZJ];if(J)this[ZJ]=(X)=>{return Z(J(X))};else this[ZJ]=Z;return this}withReadPreference(Z){if(Z5(this),Z instanceof RX.ReadPreference)this[j0].readPreference=Z;else if(typeof Z==="string")this[j0].readPreference=RX.ReadPreference.fromString(Z);else throw new d8.MongoInvalidArgumentError(`Invalid read preference: ${Z}`);return this}withReadConcern(Z){Z5(this);const J=bB.ReadConcern.fromOptions({readConcern:Z});if(J)this[j0].readConcern=J;return this}maxTimeMS(Z){if(Z5(this),typeof Z!=="number")throw new d8.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[j0].maxTimeMS=Z,this}batchSize(Z){if(Z5(this),this[j0].tailable)throw new d8.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof Z!=="number")throw new d8.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[j0].batchSize=Z,this}rewind(){if(!this[H9])return;this[r0]=null,this[t0].clear(),this[e7]=!1,this[eZ]=!1,this[H9]=!1;const Z=this[D4];if(Z){if(Z.explicit===!1){if(!Z.hasEnded)Z.endSession().catch(()=>null);this[D4]=this.client.startSession({owner:this,explicit:!1})}}}async getMore(Z){const J=new Xs.GetMoreOperation(this[oZ],this[r0],this[wX],{...this[j0],session:this[D4],batchSize:Z});return uB.executeOperation(this[W9],J)}async[mB](){try{const Z=await this._initialize(this[D4]),J=Z.response;if(this[wX]=Z.server,J.cursor){if(this[r0]=typeof J.cursor.id==="number"?k6.Long.fromNumber(J.cursor.id):typeof J.cursor.id==="bigint"?k6.Long.fromBigInt(J.cursor.id):J.cursor.id,J.cursor.ns)this[oZ]=vB.ns(J.cursor.ns);this[t0].pushMany(J.cursor.firstBatch)}if(this[r0]==null)this[r0]=k6.Long.ZERO,this[t0].push(Z.response);this[H9]=!0}catch(Z){throw this[H9]=!0,await G7(this,{error:Z}),Z}if(this.isDead)await G7(this,void 0);return}}q9.CLOSE="close";dB.AbstractCursor=q9;dB.assertUninitialized=Z5;class fH extends hB.Readable{constructor(Z){super({objectMode:!0,autoDestroy:!1,highWaterMark:1});this._readInProgress=!1,this._cursor=Z}_read(Z){if(!this._readInProgress)this._readInProgress=!0,this._readNext()}_destroy(Z,J){this._cursor.close().then(()=>J(Z),(X)=>J(X))}_readNext(){AX(this._cursor,{blocking:!0,transform:!0}).then((Z)=>{if(Z==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(Z))return this._readNext();this._readInProgress=!1}},(Z)=>{if(Z.message.match(/server is closed/))return this._cursor.close().catch(()=>null),this.push(null);if(Z.message.match(/operation was interrupted/))return this.push(null);return this.destroy(Z)})}}});var JJ=R((iB)=>{Object.defineProperty(iB,"__esModule",{value:!0});iB.AggregationCursor=void 0;var lB=WX(),pB=N8(),$s=Z1(),H6=C4(),o0=Symbol("pipeline"),BX=Symbol("options");class bH extends H6.AbstractCursor{constructor(Z,J,X=[],Y={}){super(Z,J,Y);this[o0]=X,this[BX]=Y}get pipeline(){return this[o0]}clone(){const Z=$s.mergeOptions({},this[BX]);return delete Z.session,new bH(this.client,this.namespace,this[o0],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const J=new lB.AggregateOperation(this.namespace,this[o0],{...this[BX],...this.cursorOptions,session:Z}),X=await pB.executeOperation(this.client,J);return{server:J.server,session:Z,response:X}}async explain(Z){return pB.executeOperation(this.client,new lB.AggregateOperation(this.namespace,this[o0],{...this[BX],...this.cursorOptions,explain:Z??!0}))}group(Z){return H6.assertUninitialized(this),this[o0].push({$group:Z}),this}limit(Z){return H6.assertUninitialized(this),this[o0].push({$limit:Z}),this}match(Z){return H6.assertUninitialized(this),this[o0].push({$match:Z}),this}out(Z){return H6.assertUninitialized(this),this[o0].push({$out:Z}),this}project(Z){return H6.assertUninitialized(this),this[o0].push({$project:Z}),this}lookup(Z){return H6.assertUninitialized(this),this[o0].push({$lookup:Z}),this}redact(Z){return H6.assertUninitialized(this),this[o0].push({$redact:Z}),this}skip(Z){return H6.assertUninitialized(this),this[o0].push({$skip:Z}),this}sort(Z){return H6.assertUninitialized(this),this[o0].push({$sort:Z}),this}unwind(Z){return H6.assertUninitialized(this),this[o0].push({$unwind:Z}),this}geoNear(Z){return H6.assertUninitialized(this),this[o0].push({$geoNear:Z}),this}}iB.AggregationCursor=bH});var uH=R((aB)=>{Object.defineProperty(aB,"__esModule",{value:!0});aB.CountOperation=void 0;var Ws=z0(),vH=S1();class hH extends Ws.CommandOperation{constructor(Z,J,X){super({s:{namespace:Z}},X);this.options=X,this.collectionName=Z.collection,this.query=J}async execute(Z,J){const X=this.options,Y={count:this.collectionName,query:this.query};if(typeof X.limit==="number")Y.limit=X.limit;if(typeof X.skip==="number")Y.skip=X.skip;if(X.hint!=null)Y.hint=X.hint;if(typeof X.maxTimeMS==="number")Y.maxTimeMS=X.maxTimeMS;const G=await super.executeCommand(Z,J,Y);return G?G.n:0}}aB.CountOperation=hH;vH.defineAspects(hH,[vH.Aspect.READ_OPERATION,vH.Aspect.RETRYABLE])});var MX=R((tB)=>{var K9=function(Z=1){const J=`${Z}`.toLowerCase();if(Hs(Z))return Z;switch(J){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new rB.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(Z)}`)}},Hs=function(Z){return typeof Z==="object"&&Z!=null&&"$meta"in Z&&typeof Z.$meta==="string"},qs=function(Z){if(Array.isArray(Z)&&Z.length===2)try{return K9(Z[1]),!0}catch(J){return!1}return!1},Ks=function(Z){return Array.isArray(Z)&&Array.isArray(Z[0])},Qs=function(Z){return Z instanceof Map&&Z.size>0},zs=function(Z){return new Map([[`${Z[0]}`,K9([Z[1]])]])},Fs=function(Z){const J=Z.map(([X,Y])=>[`${X}`,K9(Y)]);return new Map(J)},Us=function(Z){const J=Z.map((X)=>[`${X}`,1]);return new Map(J)},Ls=function(Z){const J=Object.entries(Z).map(([X,Y])=>[`${X}`,K9(Y)]);return new Map(J)},Vs=function(Z){const J=Array.from(Z).map(([X,Y])=>[`${X}`,K9(Y)]);return new Map(J)},Rs=function(Z,J){if(Z==null)return;if(typeof Z==="string")return new Map([[Z,K9(J)]]);if(typeof Z!=="object")throw new rB.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(Z)} Sort must be a valid object`);if(!Array.isArray(Z))return Qs(Z)?Vs(Z):Object.keys(Z).length?Ls(Z):void 0;if(!Z.length)return;if(Ks(Z))return Fs(Z);if(qs(Z))return zs(Z);return Us(Z)};Object.defineProperty(tB,"__esModule",{value:!0});tB.formatSort=void 0;var rB=a();tB.formatSort=Rs});var XM=R((ZM)=>{var Ns=function(Z,J,X){const Y={find:Z.collection,filter:J};if(X.sort)Y.sort=Bs.formatSort(X.sort);if(X.projection){let $=X.projection;if($&&Array.isArray($))$=$.length?$.reduce((W,H)=>{return W[H]=1,W},{}):{_id:1};Y.projection=$}if(X.hint)Y.hint=eB.normalizeHintField(X.hint);if(typeof X.skip==="number")Y.skip=X.skip;if(typeof X.limit==="number")if(X.limit<0)Y.limit=-X.limit,Y.singleBatch=!0;else Y.limit=X.limit;if(typeof X.batchSize==="number")if(X.batchSize<0){if(X.limit&&X.limit!==0&&Math.abs(X.batchSize)<Math.abs(X.limit))Y.limit=-X.batchSize;Y.singleBatch=!0}else Y.batchSize=X.batchSize;if(typeof X.singleBatch==="boolean")Y.singleBatch=X.singleBatch;if(X.comment!==void 0)Y.comment=X.comment;if(typeof X.maxTimeMS==="number")Y.maxTimeMS=X.maxTimeMS;const G=As.ReadConcern.fromOptions(X);if(G)Y.readConcern=G.toJSON();if(X.max)Y.max=X.max;if(X.min)Y.min=X.min;if(typeof X.returnKey==="boolean")Y.returnKey=X.returnKey;if(typeof X.showRecordId==="boolean")Y.showRecordId=X.showRecordId;if(typeof X.tailable==="boolean")Y.tailable=X.tailable;if(typeof X.oplogReplay==="boolean")Y.oplogReplay=X.oplogReplay;if(typeof X.timeout==="boolean")Y.noCursorTimeout=!X.timeout;else if(typeof X.noCursorTimeout==="boolean")Y.noCursorTimeout=X.noCursorTimeout;if(typeof X.awaitData==="boolean")Y.awaitData=X.awaitData;if(typeof X.allowPartialResults==="boolean")Y.allowPartialResults=X.allowPartialResults;if(X.collation)Y.collation=X.collation;if(typeof X.allowDiskUse==="boolean")Y.allowDiskUse=X.allowDiskUse;if(X.let)Y.let=X.let;return Y};Object.defineProperty(ZM,"__esModule",{value:!0});ZM.FindOperation=void 0;var ws=a(),As=G6(),Bs=MX(),eB=Z1(),Ms=z0(),XJ=S1();class mH extends Ms.CommandOperation{constructor(Z,J,X={},Y={}){super(Z,Y);if(this.options={...Y},delete this.options.writeConcern,this.ns=J,typeof X!=="object"||Array.isArray(X))throw new ws.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=X!=null&&X._bsontype==="ObjectId"?{_id:X}:X}async execute(Z,J){this.server=Z;const X=this.options;let Y=Ns(this.ns,this.filter,X);if(this.explain)Y=eB.decorateWithExplain(Y,this.explain);return Z.commandAsync(this.ns,Y,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:J})}}ZM.FindOperation=mH;XJ.defineAspects(mH,[XJ.Aspect.READ_OPERATION,XJ.Aspect.RETRYABLE,XJ.Aspect.EXPLAINABLE,XJ.Aspect.CURSOR_CREATING])});var pH=R(($M)=>{Object.defineProperty($M,"__esModule",{value:!0});$M.FindCursor=$M.FLAGS=void 0;var Is=i1(),_6=a(),Ds=uH(),dH=N8(),YM=XM(),cH=MX(),GM=Z1(),g0=C4(),J5=Symbol("filter"),NX=Symbol("numReturned"),I1=Symbol("builtOptions");$M.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class lH extends g0.AbstractCursor{constructor(Z,J,X={},Y={}){super(Z,J,Y);if(this[J5]=X,this[I1]=Y,Y.sort!=null)this[I1].sort=cH.formatSort(Y.sort)}clone(){const Z=GM.mergeOptions({},this[I1]);return delete Z.session,new lH(this.client,this.namespace,this[J5],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const J=new YM.FindOperation(void 0,this.namespace,this[J5],{...this[I1],...this.cursorOptions,session:Z}),X=await dH.executeOperation(this.client,J);return this[NX]=X.cursor?.firstBatch?.length,{server:J.server,session:Z,response:X}}async getMore(Z){const J=this[NX];if(J){const Y=this[I1].limit;if(Z=Y&&Y>0&&J+Z>Y?Y-J:Z,Z<=0)return await this.close().catch(()=>null),{cursor:{id:Is.Long.ZERO,nextBatch:[]}}}const X=await super.getMore(Z);if(X)this[NX]=this[NX]+X.cursor.nextBatch.length;return X}async count(Z){if(GM.emitWarningOnce("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof Z==="boolean")throw new _6.MongoInvalidArgumentError("Invalid first parameter to count");return dH.executeOperation(this.client,new Ds.CountOperation(this.namespace,this[J5],{...this[I1],...this.cursorOptions,...Z}))}async explain(Z){return dH.executeOperation(this.client,new YM.FindOperation(void 0,this.namespace,this[J5],{...this[I1],...this.cursorOptions,explain:Z??!0}))}filter(Z){return g0.assertUninitialized(this),this[J5]=Z,this}hint(Z){return g0.assertUninitialized(this),this[I1].hint=Z,this}min(Z){return g0.assertUninitialized(this),this[I1].min=Z,this}max(Z){return g0.assertUninitialized(this),this[I1].max=Z,this}returnKey(Z){return g0.assertUninitialized(this),this[I1].returnKey=Z,this}showRecordId(Z){return g0.assertUninitialized(this),this[I1].showRecordId=Z,this}addQueryModifier(Z,J){if(g0.assertUninitialized(this),Z[0]!=="$")throw new _6.MongoInvalidArgumentError(`${Z} is not a valid query modifier`);switch(Z.substr(1)){case"comment":this[I1].comment=J;break;case"explain":this[I1].explain=J;break;case"hint":this[I1].hint=J;break;case"max":this[I1].max=J;break;case"maxTimeMS":this[I1].maxTimeMS=J;break;case"min":this[I1].min=J;break;case"orderby":this[I1].sort=cH.formatSort(J);break;case"query":this[J5]=J;break;case"returnKey":this[I1].returnKey=J;break;case"showDiskLoc":this[I1].showRecordId=J;break;default:throw new _6.MongoInvalidArgumentError(`Invalid query modifier: ${Z}`)}return this}comment(Z){return g0.assertUninitialized(this),this[I1].comment=Z,this}maxAwaitTimeMS(Z){if(g0.assertUninitialized(this),typeof Z!=="number")throw new _6.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[I1].maxAwaitTimeMS=Z,this}maxTimeMS(Z){if(g0.assertUninitialized(this),typeof Z!=="number")throw new _6.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[I1].maxTimeMS=Z,this}project(Z){return g0.assertUninitialized(this),this[I1].projection=Z,this}sort(Z,J){if(g0.assertUninitialized(this),this[I1].tailable)throw new _6.MongoTailableCursorError("Tailable cursor does not support sorting");return this[I1].sort=cH.formatSort(Z,J),this}allowDiskUse(Z=!0){if(g0.assertUninitialized(this),!this[I1].sort)throw new _6.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');if(!Z)return this[I1].allowDiskUse=!1,this;return this[I1].allowDiskUse=!0,this}collation(Z){return g0.assertUninitialized(this),this[I1].collation=Z,this}limit(Z){if(g0.assertUninitialized(this),this[I1].tailable)throw new _6.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof Z!=="number")throw new _6.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[I1].limit=Z,this}skip(Z){if(g0.assertUninitialized(this),this[I1].tailable)throw new _6.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof Z!=="number")throw new _6.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[I1].skip=Z,this}}$M.FindCursor=lH});var YJ=R((QM)=>{var Ts=function(Z){return typeof Z==="number"||Z==="2d"||Z==="2dsphere"||Z==="text"||Z==="geoHaystack"},js=function(Z){return Array.isArray(Z)&&Z.length===2&&Ts(Z[1])},Os=function(Z,J){const X=new Map,Y=!Array.isArray(Z)||js(Z)?[Z]:Z;for(let G of Y)if(typeof G==="string")X.set(G,1);else if(Array.isArray(G))X.set(G[0],G[1]??1);else if(G instanceof Map)for(let[$,W]of G)X.set($,W);else if(nH.isObject(G))for(let[$,W]of Object.entries(G))X.set($,W);return{...J,key:X}};Object.defineProperty(QM,"__esModule",{value:!0});QM.IndexInformationOperation=QM.IndexExistsOperation=QM.ListIndexesOperation=QM.DropIndexOperation=QM.EnsureIndexOperation=QM.CreateIndexOperation=QM.CreateIndexesOperation=QM.IndexesOperation=void 0;var iH=a(),Ps=N0(),nH=Z1(),aH=z0(),sH=XH(),$8=S1(),Es=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);class HM extends $8.AbstractOperation{constructor(Z,J){super(J);this.options=J,this.collection=Z}async execute(Z,J){const X=this.collection,Y=this.options;return sH.indexInformation(X.s.db,X.collectionName,{full:!0,...Y,readPreference:this.readPreference,session:J})}}QM.IndexesOperation=HM;class IX extends aH.CommandOperation{constructor(Z,J,X,Y){super(Z,Y);this.options=Y??{},this.collectionName=J,this.indexes=X.map((G)=>{const $=G.key instanceof Map?G.key:new Map(Object.entries(G.key)),W=G.name!=null?G.name:Array.from($).flat().join("_");return{...Object.fromEntries(Object.entries({...G}).filter(([q])=>Es.has(q))),name:W,key:$}})}async execute(Z,J){const X=this.options,Y=this.indexes,G=nH.maxWireVersion(Z),$={createIndexes:this.collectionName,indexes:Y};if(X.commitQuorum!=null){if(G<9)throw new iH.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4");$.commitQuorum=X.commitQuorum}return this.options.collation=void 0,await super.executeCommand(Z,J,$),Y.map((H)=>H.name||"")}}QM.CreateIndexesOperation=IX;class DX extends IX{constructor(Z,J,X,Y){super(Z,J,[Os(X,Y)],Y)}async execute(Z,J){return(await super.execute(Z,J))[0]}}QM.CreateIndexOperation=DX;class rH extends DX{constructor(Z,J,X,Y){super(Z,J,X,Y);this.readPreference=Ps.ReadPreference.primary,this.db=Z,this.collectionName=J}async execute(Z,J){const X=this.indexes[0].name,Y=await this.db.collection(this.collectionName).listIndexes({session:J}).toArray().catch((G)=>{if(G instanceof iH.MongoError&&G.code===iH.MONGODB_ERROR_CODES.NamespaceNotFound)return[];throw G});if(X&&Y.some((G)=>G.name===X))return X;return super.execute(Z,J)}}QM.EnsureIndexOperation=rH;class tH extends aH.CommandOperation{constructor(Z,J,X){super(Z,X);this.options=X??{},this.collection=Z,this.indexName=J}async execute(Z,J){const X={dropIndexes:this.collection.collectionName,index:this.indexName};return super.executeCommand(Z,J,X)}}QM.DropIndexOperation=tH;class oH extends aH.CommandOperation{constructor(Z,J){super(Z,J);this.options={...J},delete this.options.writeConcern,this.collectionNamespace=Z.s.namespace}async execute(Z,J){const X=nH.maxWireVersion(Z),Y=this.options.batchSize?{batchSize:this.options.batchSize}:{},G={listIndexes:this.collectionNamespace.collection,cursor:Y};if(X>=9&&this.options.comment!==void 0)G.comment=this.options.comment;return super.executeCommand(Z,J,G)}}QM.ListIndexesOperation=oH;class qM extends $8.AbstractOperation{constructor(Z,J,X){super(X);this.options=X,this.collection=Z,this.indexes=J}async execute(Z,J){const X=this.collection,Y=this.indexes,G=await sH.indexInformation(X.s.db,X.collectionName,{...this.options,readPreference:this.readPreference,session:J});if(!Array.isArray(Y))return G[Y]!=null;return Y.every(($)=>G[$]!=null)}}QM.IndexExistsOperation=qM;class KM extends $8.AbstractOperation{constructor(Z,J,X){super(X);this.options=X??{},this.db=Z,this.name=J}async execute(Z,J){const X=this.db,Y=this.name;return sH.indexInformation(X,Y,{...this.options,readPreference:this.readPreference,session:J})}}QM.IndexInformationOperation=KM;$8.defineAspects(oH,[$8.Aspect.READ_OPERATION,$8.Aspect.RETRYABLE,$8.Aspect.CURSOR_CREATING]);$8.defineAspects(IX,[$8.Aspect.WRITE_OPERATION]);$8.defineAspects(DX,[$8.Aspect.WRITE_OPERATION]);$8.defineAspects(rH,[$8.Aspect.WRITE_OPERATION]);$8.defineAspects(tH,[$8.Aspect.WRITE_OPERATION])});var Zq=R((FM)=>{Object.defineProperty(FM,"__esModule",{value:!0});FM.ListIndexesCursor=void 0;var bs=N8(),vs=YJ(),hs=C4();class eH extends hs.AbstractCursor{constructor(Z,J){super(Z.client,Z.s.namespace,J);this.parent=Z,this.options=J}clone(){return new eH(this.parent,{...this.options,...this.cursorOptions})}async _initialize(Z){const J=new vs.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:Z}),X=await bs.executeOperation(this.parent.client,J);return{server:J.server,session:Z,response:X}}}FM.ListIndexesCursor=eH});var wM=R((VM)=>{Object.defineProperty(VM,"__esModule",{value:!0});VM.ListSearchIndexesCursor=void 0;var us=JJ();class LM extends us.AggregationCursor{constructor({fullNamespace:Z,client:J},X,Y={}){const G=X==null?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:X}}];super(J,Z,G,Y)}}VM.ListSearchIndexesCursor=LM});var NM=R((BM)=>{Object.defineProperty(BM,"__esModule",{value:!0});BM.CountDocumentsOperation=void 0;var ms=WX();class AM extends ms.AggregateOperation{constructor(Z,J,X){const Y=[];if(Y.push({$match:J}),typeof X.skip==="number")Y.push({$skip:X.skip});if(typeof X.limit==="number")Y.push({$limit:X.limit});Y.push({$group:{_id:1,n:{$sum:1}}});super(Z.s.namespace,Y,X)}async execute(Z,J){const Y=await super.execute(Z,J);if(Y.cursor==null||Y.cursor.firstBatch==null)return 0;const G=Y.cursor.firstBatch;return G.length?G[0].n:0}}BM.CountDocumentsOperation=AM});var PM=R((DM)=>{Object.defineProperty(DM,"__esModule",{value:!0});DM.DistinctOperation=void 0;var IM=Z1(),ds=z0(),CX=S1();class Jq extends ds.CommandOperation{constructor(Z,J,X,Y){super(Z,Y);this.options=Y??{},this.collection=Z,this.key=J,this.query=X}async execute(Z,J){const X=this.collection,Y=this.key,G=this.query,$=this.options,W={distinct:X.collectionName,key:Y,query:G};if(typeof $.maxTimeMS==="number")W.maxTimeMS=$.maxTimeMS;if(typeof $.comment!=="undefined")W.comment=$.comment;IM.decorateWithReadConcern(W,X,$),IM.decorateWithCollation(W,X,$);const H=await super.executeCommand(Z,J,W);return this.explain?H:H.values}}DM.DistinctOperation=Jq;CX.defineAspects(Jq,[CX.Aspect.READ_OPERATION,CX.Aspect.RETRYABLE,CX.Aspect.EXPLAINABLE])});var Yq=R((jM)=>{Object.defineProperty(jM,"__esModule",{value:!0});jM.DropDatabaseOperation=jM.DropCollectionOperation=void 0;var EM=a(),TM=z0(),PX=S1();class EX extends TM.CommandOperation{constructor(Z,J,X={}){super(Z,X);this.db=Z,this.options=X,this.name=J}async execute(Z,J){const X=this.db,Y=this.options,G=this.name,$=X.client.options.autoEncryption?.encryptedFieldsMap;let W=Y.encryptedFields??$?.[`${X.databaseName}.${G}`];if(!W&&$)W=(await X.listCollections({name:G},{nameOnly:!1}).toArray())?.[0]?.options?.encryptedFields;if(W){const H=W.escCollection||`enxcol_.${G}.esc`,q=W.ecocCollection||`enxcol_.${G}.ecoc`;for(let K of[H,q]){const Q=new EX(X,K);try{await Q.executeWithoutEncryptedFieldsCheck(Z,J)}catch(z){if(!(z instanceof EM.MongoServerError)||z.code!==EM.MONGODB_ERROR_CODES.NamespaceNotFound)throw z}}}return this.executeWithoutEncryptedFieldsCheck(Z,J)}async executeWithoutEncryptedFieldsCheck(Z,J){return await super.executeCommand(Z,J,{drop:this.name}),!0}}jM.DropCollectionOperation=EX;class Xq extends TM.CommandOperation{constructor(Z,J){super(Z,J);this.options=J}async execute(Z,J){return await super.executeCommand(Z,J,{dropDatabase:1}),!0}}jM.DropDatabaseOperation=Xq;PX.defineAspects(EX,[PX.Aspect.WRITE_OPERATION]);PX.defineAspects(Xq,[PX.Aspect.WRITE_OPERATION])});var _M=R((SM)=>{Object.defineProperty(SM,"__esModule",{value:!0});SM.EstimatedDocumentCountOperation=void 0;var ls=z0(),TX=S1();class Gq extends ls.CommandOperation{constructor(Z,J={}){super(Z,J);this.options=J,this.collectionName=Z.collectionName}async execute(Z,J){const X={count:this.collectionName};if(typeof this.options.maxTimeMS==="number")X.maxTimeMS=this.options.maxTimeMS;if(this.options.comment!==void 0)X.comment=this.options.comment;return(await super.executeCommand(Z,J,X))?.n||0}}SM.EstimatedDocumentCountOperation=Gq;TX.defineAspects(Gq,[TX.Aspect.READ_OPERATION,TX.Aspect.RETRYABLE,TX.Aspect.CURSOR_CREATING])});var $q=R((bM)=>{var xM=function(Z,J){if(Z.new=J.returnDocument===bM.ReturnDocument.AFTER,Z.upsert=J.upsert===!0,J.bypassDocumentValidation===!0)Z.bypassDocumentValidation=J.bypassDocumentValidation;return Z};Object.defineProperty(bM,"__esModule",{value:!0});bM.FindOneAndUpdateOperation=bM.FindOneAndReplaceOperation=bM.FindOneAndDeleteOperation=bM.ReturnDocument=void 0;var $7=a(),ps=N0(),is=MX(),OX=Z1(),ns=z0(),jX=S1();bM.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});class GJ extends ns.CommandOperation{constructor(Z,J,X){super(Z,X);this.options=X??{},this.cmdBase={remove:!1,new:!1,upsert:!1},X.includeResultMetadata??=!1;const Y=is.formatSort(X.sort);if(Y)this.cmdBase.sort=Y;if(X.projection)this.cmdBase.fields=X.projection;if(X.maxTimeMS)this.cmdBase.maxTimeMS=X.maxTimeMS;if(X.writeConcern)this.cmdBase.writeConcern=X.writeConcern;if(X.let)this.cmdBase.let=X.let;if(X.comment!==void 0)this.cmdBase.comment=X.comment;this.readPreference=ps.ReadPreference.primary,this.collection=Z,this.query=J}async execute(Z,J){const X=this.collection,Y=this.query,G={...this.options,...this.bsonOptions},$={findAndModify:X.collectionName,query:Y,...this.cmdBase};try{OX.decorateWithCollation($,X,G)}catch(H){return H}if(G.hint){if(this.writeConcern?.w===0||OX.maxWireVersion(Z)<8)throw new $7.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands");$.hint=G.hint}const W=await super.executeCommand(Z,J,$);return G.includeResultMetadata?W:W.value??null}}class gM extends GJ{constructor(Z,J,X){if(J==null||typeof J!=="object")throw new $7.MongoInvalidArgumentError('Argument "filter" must be an object');super(Z,J,X);this.cmdBase.remove=!0}}bM.FindOneAndDeleteOperation=gM;class fM extends GJ{constructor(Z,J,X,Y){if(J==null||typeof J!=="object")throw new $7.MongoInvalidArgumentError('Argument "filter" must be an object');if(X==null||typeof X!=="object")throw new $7.MongoInvalidArgumentError('Argument "replacement" must be an object');if(OX.hasAtomicOperators(X))throw new $7.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(Z,J,Y);this.cmdBase.update=X,xM(this.cmdBase,Y)}}bM.FindOneAndReplaceOperation=fM;class yM extends GJ{constructor(Z,J,X,Y){if(J==null||typeof J!=="object")throw new $7.MongoInvalidArgumentError('Argument "filter" must be an object');if(X==null||typeof X!=="object")throw new $7.MongoInvalidArgumentError('Argument "update" must be an object');if(!OX.hasAtomicOperators(X))throw new $7.MongoInvalidArgumentError("Update document requires atomic operators");super(Z,J,Y);if(this.cmdBase.update=X,xM(this.cmdBase,Y),Y.arrayFilters)this.cmdBase.arrayFilters=Y.arrayFilters}}bM.FindOneAndUpdateOperation=yM;jX.defineAspects(GJ,[jX.Aspect.WRITE_OPERATION,jX.Aspect.RETRYABLE,jX.Aspect.EXPLAINABLE])});var cM=R((mM)=>{Object.defineProperty(mM,"__esModule",{value:!0});mM.IsCappedOperation=void 0;var ts=a(),os=S1();class uM extends os.AbstractOperation{constructor(Z,J){super(J);this.options=J,this.collection=Z}async execute(Z,J){const X=this.collection,[Y]=await X.s.db.listCollections({name:X.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:J}).toArray();if(Y==null||Y.options==null)throw new ts.MongoAPIError(`collection ${X.namespace} not found`);return!!Y.options?.capped}}mM.IsCappedOperation=uM});var nM=R((pM)=>{Object.defineProperty(pM,"__esModule",{value:!0});pM.OptionsOperation=void 0;var es=a(),Zr=S1();class lM extends Zr.AbstractOperation{constructor(Z,J){super(J);this.options=J,this.collection=Z}async execute(Z,J){const X=this.collection,[Y]=await X.s.db.listCollections({name:X.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:J}).toArray();if(Y==null||Y.options==null)throw new es.MongoAPIError(`collection ${X.namespace} not found`);return Y.options}}pM.OptionsOperation=lM});var Hq=R((sM)=>{Object.defineProperty(sM,"__esModule",{value:!0});sM.RenameOperation=void 0;var Jr=X5(),Xr=Z1(),Yr=z0(),aM=S1();class Wq extends Yr.CommandOperation{constructor(Z,J,X){super(Z,X);this.collection=Z,this.newName=J,this.options=X,this.ns=new Xr.MongoDBNamespace("admin","$cmd")}async execute(Z,J){const X=this.collection.namespace,Y=this.collection.s.namespace.withCollection(this.newName).toString(),G=typeof this.options.dropTarget==="boolean"?this.options.dropTarget:!1,$={renameCollection:X,to:Y,dropTarget:G};return await super.executeCommand(Z,J,$),new Jr.Collection(this.collection.s.db,this.newName,this.collection.s.options)}}sM.RenameOperation=Wq;aM.defineAspects(Wq,[aM.Aspect.WRITE_OPERATION])});var ZN=R((oM)=>{Object.defineProperty(oM,"__esModule",{value:!0});oM.CreateSearchIndexesOperation=void 0;var Gr=S1();class tM extends Gr.AbstractOperation{constructor(Z,J){super();this.collection=Z,this.descriptions=J}async execute(Z,J){const X=this.collection.fullNamespace,Y={createSearchIndexes:X.collection,indexes:this.descriptions};return((await Z.commandAsync(X,Y,{session:J}))?.indexesCreated??[]).map(({name:W})=>W)}}oM.CreateSearchIndexesOperation=tM});var $N=R((YN)=>{Object.defineProperty(YN,"__esModule",{value:!0});YN.DropSearchIndexOperation=void 0;var JN=a(),$r=S1();class XN extends $r.AbstractOperation{constructor(Z,J){super();this.collection=Z,this.name=J}async execute(Z,J){const X=this.collection.fullNamespace,Y={dropSearchIndex:X.collection};if(typeof this.name==="string")Y.name=this.name;try{await Z.commandAsync(X,Y,{session:J})}catch(G){if(!(G instanceof JN.MongoServerError&&G.code===JN.MONGODB_ERROR_CODES.NamespaceNotFound))throw G}}}YN.DropSearchIndexOperation=XN});var KN=R((HN)=>{Object.defineProperty(HN,"__esModule",{value:!0});HN.UpdateSearchIndexOperation=void 0;var Wr=S1();class WN extends Wr.AbstractOperation{constructor(Z,J,X){super();this.collection=Z,this.name=J,this.definition=X}async execute(Z,J){const X=this.collection.fullNamespace,Y={updateSearchIndex:X.collection,name:this.name,definition:this.definition};await Z.commandAsync(X,Y,{session:J});return}}HN.UpdateSearchIndexOperation=WN});var X5=R((LN)=>{Object.defineProperty(LN,"__esModule",{value:!0});LN.Collection=void 0;var Hr=i1(),qr=VH(),Kr=RH(),Qr=Q9(),zr=JJ(),Fr=pH(),Ur=Zq(),Lr=wM(),QN=a(),Vr=JH(),Rr=uH(),wr=NM(),zN=oW(),Ar=PM(),Br=Yq(),Mr=_M(),y1=N8(),qq=$q(),Y5=YJ(),FN=$H(),Nr=cM(),Ir=nM(),Dr=Hq(),Cr=ZN(),Pr=$N(),Er=KN(),Kq=QH(),Tr=G6(),Qq=N0(),P1=Z1(),jr=M8();class UN{constructor(Z,J,X){this.s={db:Z,options:X,namespace:new P1.MongoDBCollectionNamespace(Z.databaseName,J),pkFactory:Z.options?.pkFactory??P1.DEFAULT_PK_FACTORY,readPreference:Qq.ReadPreference.fromOptions(X),bsonOptions:Hr.resolveBSONOptions(X,Z),readConcern:Tr.ReadConcern.fromOptions(X),writeConcern:jr.WriteConcern.fromOptions(X)},this.client=Z.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){if(this.s.readConcern==null)return this.s.db.readConcern;return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.s.db.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){if(this.s.writeConcern==null)return this.s.db.writeConcern;return this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(Z){this.s.collectionHint=P1.normalizeHintField(Z)}async insertOne(Z,J){return y1.executeOperation(this.client,new FN.InsertOneOperation(this,Z,P1.resolveOptions(this,J)))}async insertMany(Z,J){return y1.executeOperation(this.client,new FN.InsertManyOperation(this,Z,P1.resolveOptions(this,J??{ordered:!0})))}async bulkWrite(Z,J){if(!Array.isArray(Z))throw new QN.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return y1.executeOperation(this.client,new Vr.BulkWriteOperation(this,Z,P1.resolveOptions(this,J??{ordered:!0})))}async updateOne(Z,J,X){return y1.executeOperation(this.client,new Kq.UpdateOneOperation(this,Z,J,P1.resolveOptions(this,X)))}async replaceOne(Z,J,X){return y1.executeOperation(this.client,new Kq.ReplaceOneOperation(this,Z,J,P1.resolveOptions(this,X)))}async updateMany(Z,J,X){return y1.executeOperation(this.client,new Kq.UpdateManyOperation(this,Z,J,P1.resolveOptions(this,X)))}async deleteOne(Z={},J={}){return y1.executeOperation(this.client,new zN.DeleteOneOperation(this,Z,P1.resolveOptions(this,J)))}async deleteMany(Z={},J={}){return y1.executeOperation(this.client,new zN.DeleteManyOperation(this,Z,P1.resolveOptions(this,J)))}async rename(Z,J){return y1.executeOperation(this.client,new Dr.RenameOperation(this,Z,{...J,readPreference:Qq.ReadPreference.PRIMARY}))}async drop(Z){return y1.executeOperation(this.client,new Br.DropCollectionOperation(this.s.db,this.collectionName,Z))}async findOne(Z={},J={}){const X=this.find(Z,J).limit(-1).batchSize(1),Y=await X.next();return await X.close(),Y}find(Z={},J={}){return new Fr.FindCursor(this.client,this.s.namespace,Z,P1.resolveOptions(this,J))}async options(Z){return y1.executeOperation(this.client,new Ir.OptionsOperation(this,P1.resolveOptions(this,Z)))}async isCapped(Z){return y1.executeOperation(this.client,new Nr.IsCappedOperation(this,P1.resolveOptions(this,Z)))}async createIndex(Z,J){return y1.executeOperation(this.client,new Y5.CreateIndexOperation(this,this.collectionName,Z,P1.resolveOptions(this,J)))}async createIndexes(Z,J){return y1.executeOperation(this.client,new Y5.CreateIndexesOperation(this,this.collectionName,Z,P1.resolveOptions(this,{...J,maxTimeMS:void 0})))}async dropIndex(Z,J){return y1.executeOperation(this.client,new Y5.DropIndexOperation(this,Z,{...P1.resolveOptions(this,J),readPreference:Qq.ReadPreference.primary}))}async dropIndexes(Z){try{return await y1.executeOperation(this.client,new Y5.DropIndexOperation(this,"*",P1.resolveOptions(this,Z))),!0}catch{return!1}}listIndexes(Z){return new Ur.ListIndexesCursor(this,P1.resolveOptions(this,Z))}async indexExists(Z,J){return y1.executeOperation(this.client,new Y5.IndexExistsOperation(this,Z,P1.resolveOptions(this,J)))}async indexInformation(Z){return y1.executeOperation(this.client,new Y5.IndexInformationOperation(this.s.db,this.collectionName,P1.resolveOptions(this,Z)))}async estimatedDocumentCount(Z){return y1.executeOperation(this.client,new Mr.EstimatedDocumentCountOperation(this,P1.resolveOptions(this,Z)))}async countDocuments(Z={},J={}){return y1.executeOperation(this.client,new wr.CountDocumentsOperation(this,Z,P1.resolveOptions(this,J)))}async distinct(Z,J={},X={}){return y1.executeOperation(this.client,new Ar.DistinctOperation(this,Z,J,P1.resolveOptions(this,X)))}async indexes(Z){return y1.executeOperation(this.client,new Y5.IndexesOperation(this,P1.resolveOptions(this,Z)))}async findOneAndDelete(Z,J){return y1.executeOperation(this.client,new qq.FindOneAndDeleteOperation(this,Z,P1.resolveOptions(this,J)))}async findOneAndReplace(Z,J,X){return y1.executeOperation(this.client,new qq.FindOneAndReplaceOperation(this,Z,J,P1.resolveOptions(this,X)))}async findOneAndUpdate(Z,J,X){return y1.executeOperation(this.client,new qq.FindOneAndUpdateOperation(this,Z,J,P1.resolveOptions(this,X)))}aggregate(Z=[],J){if(!Array.isArray(Z))throw new QN.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new zr.AggregationCursor(this.client,this.s.namespace,Z,P1.resolveOptions(this,J))}watch(Z=[],J={}){if(!Array.isArray(Z))J=Z,Z=[];return new Qr.ChangeStream(this,Z,P1.resolveOptions(this,J))}initializeUnorderedBulkOp(Z){return new Kr.UnorderedBulkOperation(this,P1.resolveOptions(this,Z))}initializeOrderedBulkOp(Z){return new qr.OrderedBulkOperation(this,P1.resolveOptions(this,Z))}async count(Z={},J={}){return y1.executeOperation(this.client,new Rr.CountOperation(this.fullNamespace,Z,P1.resolveOptions(this,J)))}listSearchIndexes(Z,J){J=typeof Z==="object"?Z:J==null?{}:J;const X=Z==null?null:typeof Z==="object"?null:Z;return new Lr.ListSearchIndexesCursor(this,X,J)}async createSearchIndex(Z){const[J]=await this.createSearchIndexes([Z]);return J}async createSearchIndexes(Z){return y1.executeOperation(this.client,new Cr.CreateSearchIndexesOperation(this,Z))}async dropSearchIndex(Z){return y1.executeOperation(this.client,new Pr.DropSearchIndexOperation(this,Z))}async updateSearchIndex(Z,J){return y1.executeOperation(this.client,new Er.UpdateSearchIndexOperation(this,Z,J))}}LN.Collection=UN});var Lq=R((wN)=>{Object.defineProperty(wN,"__esModule",{value:!0});wN.ChangeStreamCursor=void 0;var zq=Q9(),RN=T0(),Or=WX(),Sr=N8(),Fq=Z1(),kr=C4();class Uq extends kr.AbstractCursor{constructor(Z,J,X=[],Y={}){super(Z,J,Y);if(this.pipeline=X,this.options=Y,this._resumeToken=null,this.startAtOperationTime=Y.startAtOperationTime,Y.startAfter)this.resumeToken=Y.startAfter;else if(Y.resumeAfter)this.resumeToken=Y.resumeAfter}set resumeToken(Z){this._resumeToken=Z,this.emit(zq.ChangeStream.RESUME_TOKEN_CHANGED,Z)}get resumeToken(){return this._resumeToken}get resumeOptions(){const Z={...this.options};for(let J of["resumeAfter","startAfter","startAtOperationTime"])delete Z[J];if(this.resumeToken!=null)if(this.options.startAfter&&!this.hasReceived)Z.startAfter=this.resumeToken;else Z.resumeAfter=this.resumeToken;else if(this.startAtOperationTime!=null&&Fq.maxWireVersion(this.server)>=7)Z.startAtOperationTime=this.startAtOperationTime;return Z}cacheResumeToken(Z){if(this.bufferedCount()===0&&this.postBatchResumeToken)this.resumeToken=this.postBatchResumeToken;else this.resumeToken=Z;this.hasReceived=!0}_processBatch(Z){const J=Z.cursor;if(J.postBatchResumeToken){if(this.postBatchResumeToken=Z.cursor.postBatchResumeToken,("firstBatch"in Z.cursor?Z.cursor.firstBatch:Z.cursor.nextBatch).length===0)this.resumeToken=J.postBatchResumeToken}}clone(){return new Uq(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}async _initialize(Z){const J=new Or.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:Z}),X=await Sr.executeOperation(Z.client,J),Y=J.server;if(this.maxWireVersion=Fq.maxWireVersion(Y),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7)this.startAtOperationTime=X.operationTime;return this._processBatch(X),this.emit(RN.INIT,X),this.emit(RN.RESPONSE),{server:Y,session:Z,response:X}}async getMore(Z){const J=await super.getMore(Z);return this.maxWireVersion=Fq.maxWireVersion(this.server),this._processBatch(J),this.emit(zq.ChangeStream.MORE,J),this.emit(zq.ChangeStream.RESPONSE),J}}wN.ChangeStreamCursor=Uq});var NN=R((BN)=>{Object.defineProperty(BN,"__esModule",{value:!0});BN.ListCollectionsOperation=void 0;var _r=Z1(),xr=z0(),SX=S1();class Vq extends xr.CommandOperation{constructor(Z,J,X){super(Z,X);if(this.options={...X},delete this.options.writeConcern,this.db=Z,this.filter=J,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize==="number")this.batchSize=this.options.batchSize}async execute(Z,J){return super.executeCommand(Z,J,this.generateCommand(_r.maxWireVersion(Z)))}generateCommand(Z){const J={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};if(Z>=9&&this.options.comment!==void 0)J.comment=this.options.comment;return J}}BN.ListCollectionsOperation=Vq;SX.defineAspects(Vq,[SX.Aspect.READ_OPERATION,SX.Aspect.RETRYABLE,SX.Aspect.CURSOR_CREATING])});var wq=R((IN)=>{Object.defineProperty(IN,"__esModule",{value:!0});IN.ListCollectionsCursor=void 0;var gr=N8(),fr=NN(),yr=C4();class Rq extends yr.AbstractCursor{constructor(Z,J,X){super(Z.client,Z.s.namespace,X);this.parent=Z,this.filter=J,this.options=X}clone(){return new Rq(this.parent,this.filter,{...this.options,...this.cursorOptions})}async _initialize(Z){const J=new fr.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:Z}),X=await gr.executeOperation(this.parent.client,J);return{server:J.server,session:Z,response:X}}}IN.ListCollectionsCursor=Rq});var jN=R((EN)=>{Object.defineProperty(EN,"__esModule",{value:!0});EN.RunCommandCursor=void 0;var z9=a(),CN=N8(),br=NH(),vr=e5(),hr=Z1(),ur=C4();class PN extends ur.AbstractCursor{setComment(Z){return this.getMoreOptions.comment=Z,this}setMaxTimeMS(Z){return this.getMoreOptions.maxAwaitTimeMS=Z,this}setBatchSize(Z){return this.getMoreOptions.batchSize=Z,this}clone(){throw new z9.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(Z){throw new z9.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(Z,J){throw new z9.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(Z){throw new z9.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(Z){throw new z9.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(Z,J,X={}){super(Z.client,hr.ns(Z.namespace),X);this.getMoreOptions={},this.db=Z,this.command=Object.freeze({...J})}async _initialize(Z){const J=new vr.RunCommandOperation(this.db,this.command,{...this.cursorOptions,session:Z,readPreference:this.cursorOptions.readPreference}),X=await CN.executeOperation(this.client,J);if(X.cursor==null)throw new z9.MongoUnexpectedServerResponseError("Expected server to respond with cursor");return{server:J.server,session:Z,response:X}}async getMore(Z){const J=new br.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});return CN.executeOperation(this.client,J)}}EN.RunCommandCursor=PN});var _N=R((SN)=>{Object.defineProperty(SN,"__esModule",{value:!0});SN.CollectionsOperation=void 0;var mr=X5(),dr=S1();class ON extends dr.AbstractOperation{constructor(Z,J){super(J);this.options=J,this.db=Z}async execute(Z,J){const X=await this.db.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:J}).toArray(),Y=[];for(let{name:G}of X)if(!G.includes("$"))Y.push(new mr.Collection(this.db,G,this.db.s.options));return Y}}SN.CollectionsOperation=ON});var bN=R((fN)=>{Object.defineProperty(fN,"__esModule",{value:!0});fN.CreateCollectionOperation=void 0;var xN=r7(),cr=X5(),lr=a(),pr=z0(),ir=YJ(),gN=S1(),nr=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),ar="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.";class kX extends pr.CommandOperation{constructor(Z,J,X={}){super(Z,X);this.options=X,this.db=Z,this.name=J}async execute(Z,J){const X=this.db,Y=this.name,G=this.options,$=G.encryptedFields??X.client.options.autoEncryption?.encryptedFieldsMap?.[`${X.databaseName}.${Y}`];if($){if(!Z.loadBalanced&&Z.description.maxWireVersion<xN.MIN_SUPPORTED_QE_WIRE_VERSION)throw new lr.MongoCompatibilityError(`${ar} The minimum server version required is ${xN.MIN_SUPPORTED_QE_SERVER_VERSION}`);const H=$.escCollection??`enxcol_.${Y}.esc`,q=$.ecocCollection??`enxcol_.${Y}.ecoc`;for(let K of[H,q])await new kX(X,K,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(Z,J);if(!G.encryptedFields)this.options={...this.options,encryptedFields:$}}const W=await this.executeWithoutEncryptedFieldsCheck(Z,J);if($)await new ir.CreateIndexOperation(X,Y,{__safeContent__:1},{}).execute(Z,J);return W}async executeWithoutEncryptedFieldsCheck(Z,J){const X=this.db,Y=this.name,G=this.options,$={create:Y};for(let W in G)if(G[W]!=null&&typeof G[W]!=="function"&&!nr.has(W))$[W]=G[W];return await super.executeCommand(Z,J,$),new cr.Collection(X,Y,G)}}fN.CreateCollectionOperation=kX;gN.defineAspects(kX,[gN.Aspect.WRITE_OPERATION])});var dN=R((uN)=>{Object.defineProperty(uN,"__esModule",{value:!0});uN.ProfilingLevelOperation=void 0;var vN=a(),sr=z0();class hN extends sr.CommandOperation{constructor(Z,J){super(Z,J);this.options=J}async execute(Z,J){const X=await super.executeCommand(Z,J,{profile:-1});if(X.ok===1){const Y=X.was;if(Y===0)return"off";if(Y===1)return"slow_only";if(Y===2)return"all";throw new vN.MongoUnexpectedServerResponseError(`Illegal profiling level value ${Y}`)}else throw new vN.MongoUnexpectedServerResponseError("Error with profile command")}}uN.ProfilingLevelOperation=hN});var Aq=R((lN)=>{Object.defineProperty(lN,"__esModule",{value:!0});lN.SetProfilingLevelOperation=lN.ProfilingLevel=void 0;var rr=a(),tr=Z1(),or=z0(),er=new Set(["off","slow_only","all"]);lN.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});class cN extends or.CommandOperation{constructor(Z,J,X){super(Z,X);switch(this.options=X,J){case lN.ProfilingLevel.off:this.profile=0;break;case lN.ProfilingLevel.slowOnly:this.profile=1;break;case lN.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=J}async execute(Z,J){const X=this.level;if(!er.has(X))throw new rr.MongoInvalidArgumentError(`Profiling level must be one of "${tr.enumToString(lN.ProfilingLevel)}"`);return await super.executeCommand(Z,J,{profile:this.profile}),X}}lN.SetProfilingLevelOperation=cN});var sN=R((nN)=>{Object.defineProperty(nN,"__esModule",{value:!0});nN.DbStatsOperation=void 0;var Zt=z0(),iN=S1();class Bq extends Zt.CommandOperation{constructor(Z,J){super(Z,J);this.options=J}async execute(Z,J){const X={dbStats:!0};if(this.options.scale!=null)X.scale=this.options.scale;return super.executeCommand(Z,J,X)}}nN.DbStatsOperation=Bq;iN.defineAspects(Bq,[iN.Aspect.READ_OPERATION])});var _X=R((JI)=>{Object.defineProperty(JI,"__esModule",{value:!0});JI.Db=void 0;var Jt=aW(),rN=i1(),Xt=Q9(),Yt=X5(),F9=T0(),Gt=JJ(),$t=wq(),Wt=jN(),tN=a(),Ht=_N(),qt=bN(),oN=Yq(),q6=N8(),eN=YJ(),Kt=dN(),Qt=iW(),zt=Hq(),Ft=e5(),Ut=Aq(),Lt=sN(),Vt=G6(),ZI=N0(),f0=Z1(),Rt=M8(),wt=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"];class W7{constructor(Z,J,X){if(X=X??{},X=f0.filterOptions(X,wt),typeof J==="string"&&J.includes("."))throw new tN.MongoInvalidArgumentError("Database names cannot contain the character '.'");this.s={options:X,readPreference:ZI.ReadPreference.fromOptions(X),bsonOptions:rN.resolveBSONOptions(X,Z),pkFactory:X?.pkFactory??f0.DEFAULT_PK_FACTORY,readConcern:Vt.ReadConcern.fromOptions(X),writeConcern:Rt.WriteConcern.fromOptions(X),namespace:new f0.MongoDBNamespace(J)},this.client=Z}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){return this.s.readPreference?.preference!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.client.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}async createCollection(Z,J){return q6.executeOperation(this.client,new qt.CreateCollectionOperation(this,Z,f0.resolveOptions(this,J)))}async command(Z,J){return q6.executeOperation(this.client,new Ft.RunCommandOperation(this,Z,{...rN.resolveBSONOptions(J),session:J?.session,readPreference:J?.readPreference}))}aggregate(Z=[],J){return new Gt.AggregationCursor(this.client,this.s.namespace,Z,f0.resolveOptions(this,J))}admin(){return new Jt.Admin(this)}collection(Z,J={}){if(typeof J==="function")throw new tN.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new Yt.Collection(this,Z,f0.resolveOptions(this,J))}async stats(Z){return q6.executeOperation(this.client,new Lt.DbStatsOperation(this,f0.resolveOptions(this,Z)))}listCollections(Z={},J={}){return new $t.ListCollectionsCursor(this,Z,f0.resolveOptions(this,J))}async renameCollection(Z,J,X){return q6.executeOperation(this.client,new zt.RenameOperation(this.collection(Z),J,{...X,new_collection:!0,readPreference:ZI.ReadPreference.primary}))}async dropCollection(Z,J){return q6.executeOperation(this.client,new oN.DropCollectionOperation(this,Z,f0.resolveOptions(this,J)))}async dropDatabase(Z){return q6.executeOperation(this.client,new oN.DropDatabaseOperation(this,f0.resolveOptions(this,Z)))}async collections(Z){return q6.executeOperation(this.client,new Ht.CollectionsOperation(this,f0.resolveOptions(this,Z)))}async createIndex(Z,J,X){return q6.executeOperation(this.client,new eN.CreateIndexOperation(this,Z,J,f0.resolveOptions(this,X)))}async removeUser(Z,J){return q6.executeOperation(this.client,new Qt.RemoveUserOperation(this,Z,f0.resolveOptions(this,J)))}async setProfilingLevel(Z,J){return q6.executeOperation(this.client,new Ut.SetProfilingLevelOperation(this,Z,f0.resolveOptions(this,J)))}async profilingLevel(Z){return q6.executeOperation(this.client,new Kt.ProfilingLevelOperation(this,f0.resolveOptions(this,Z)))}async indexInformation(Z,J){return q6.executeOperation(this.client,new eN.IndexInformationOperation(this,Z,f0.resolveOptions(this,J)))}watch(Z=[],J={}){if(!Array.isArray(Z))J=Z,Z=[];return new Xt.ChangeStream(this,Z,f0.resolveOptions(this,J))}runCursorCommand(Z,J){return new Wt.RunCommandCursor(this,Z,J)}}W7.SYSTEM_NAMESPACE_COLLECTION=F9.SYSTEM_NAMESPACE_COLLECTION;W7.SYSTEM_INDEX_COLLECTION=F9.SYSTEM_INDEX_COLLECTION;W7.SYSTEM_PROFILE_COLLECTION=F9.SYSTEM_PROFILE_COLLECTION;W7.SYSTEM_USER_COLLECTION=F9.SYSTEM_USER_COLLECTION;W7.SYSTEM_COMMAND_COLLECTION=F9.SYSTEM_COMMAND_COLLECTION;W7.SYSTEM_JS_COLLECTION=F9.SYSTEM_JS_COLLECTION;JI.Db=W7});var GI=R((YI)=>{var WJ=function(Z){if(Z===4)return"ipv4";if(Z===6)return"ipv6";return Z?Z.toLowerCase():"ipv4"},J1=YI,{Buffer:xX}=import.meta.require("buffer"),At=import.meta.require("os");J1.toBuffer=function(Z,J,X){X=~~X;let Y;if(this.isV4Format(Z))Y=J||xX.alloc(X+4),Z.split(/\./g).map((G)=>{Y[X++]=parseInt(G,10)&255});else if(this.isV6Format(Z)){const G=Z.split(":",8);let $;for($=0;$<G.length;$++){const W=this.isV4Format(G[$]);let H;if(W)H=this.toBuffer(G[$]),G[$]=H.slice(0,2).toString("hex");if(H&&++$<8)G.splice($,0,H.slice(2,4).toString("hex"))}if(G[0]==="")while(G.length<8)G.unshift("0");else if(G[G.length-1]==="")while(G.length<8)G.push("0");else if(G.length<8){for($=0;$<G.length&&G[$]!=="";$++);const W=[$,1];for($=9-G.length;$>0;$--)W.push("0");G.splice(...W)}Y=J||xX.alloc(X+16);for($=0;$<G.length;$++){const W=parseInt(G[$],16);Y[X++]=W>>8&255,Y[X++]=W&255}}if(!Y)throw Error(`Invalid ip address: ${Z}`);return Y};J1.toString=function(Z,J,X){J=~~J,X=X||Z.length-J;let Y=[];if(X===4){for(let G=0;G<X;G++)Y.push(Z[J+G]);Y=Y.join(".")}else if(X===16){for(let G=0;G<X;G+=2)Y.push(Z.readUInt16BE(J+G).toString(16));Y=Y.join(":"),Y=Y.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),Y=Y.replace(/:{3,4}/,"::")}return Y};var Bt=/^(\d{1,3}\.){3,3}\d{1,3}$/,Mt=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;J1.isV4Format=function(Z){return Bt.test(Z)};J1.isV6Format=function(Z){return Mt.test(Z)};J1.fromPrefixLen=function(Z,J){if(Z>32)J="ipv6";else J=WJ(J);let X=4;if(J==="ipv6")X=16;const Y=xX.alloc(X);for(let G=0,$=Y.length;G<$;++G){let W=8;if(Z<8)W=Z;Z-=W,Y[G]=~(255>>W)&255}return J1.toString(Y)};J1.mask=function(Z,J){Z=J1.toBuffer(Z),J=J1.toBuffer(J);const X=xX.alloc(Math.max(Z.length,J.length));let Y;if(Z.length===J.length)for(Y=0;Y<Z.length;Y++)X[Y]=Z[Y]&J[Y];else if(J.length===4)for(Y=0;Y<J.length;Y++)X[Y]=Z[Z.length-4+Y]&J[Y];else{for(Y=0;Y<X.length-6;Y++)X[Y]=0;X[10]=255,X[11]=255;for(Y=0;Y<Z.length;Y++)X[Y+12]=Z[Y]&J[Y+12];Y+=12}for(;Y<X.length;Y++)X[Y]=0;return J1.toString(X)};J1.cidr=function(Z){const J=Z.split("/"),X=J[0];if(J.length!==2)throw new Error(`invalid CIDR subnet: ${X}`);const Y=J1.fromPrefixLen(parseInt(J[1],10));return J1.mask(X,Y)};J1.subnet=function(Z,J){const X=J1.toLong(J1.mask(Z,J)),Y=J1.toBuffer(J);let G=0;for(let W=0;W<Y.length;W++)if(Y[W]===255)G+=8;else{let H=Y[W]&255;while(H)H=H<<1&255,G++}const $=2**(32-G);return{networkAddress:J1.fromLong(X),firstAddress:$<=2?J1.fromLong(X):J1.fromLong(X+1),lastAddress:$<=2?J1.fromLong(X+$-1):J1.fromLong(X+$-2),broadcastAddress:J1.fromLong(X+$-1),subnetMask:J,subnetMaskLength:G,numHosts:$<=2?$:$-2,length:$,contains(W){return X===J1.toLong(J1.mask(W,J))}}};J1.cidrSubnet=function(Z){const J=Z.split("/"),X=J[0];if(J.length!==2)throw new Error(`invalid CIDR subnet: ${X}`);const Y=J1.fromPrefixLen(parseInt(J[1],10));return J1.subnet(X,Y)};J1.not=function(Z){const J=J1.toBuffer(Z);for(let X=0;X<J.length;X++)J[X]=255^J[X];return J1.toString(J)};J1.or=function(Z,J){if(Z=J1.toBuffer(Z),J=J1.toBuffer(J),Z.length===J.length){for(let $=0;$<Z.length;++$)Z[$]|=J[$];return J1.toString(Z)}let X=Z,Y=J;if(J.length>Z.length)X=J,Y=Z;const G=X.length-Y.length;for(let $=G;$<X.length;++$)X[$]|=Y[$-G];return J1.toString(X)};J1.isEqual=function(Z,J){if(Z=J1.toBuffer(Z),J=J1.toBuffer(J),Z.length===J.length){for(let Y=0;Y<Z.length;Y++)if(Z[Y]!==J[Y])return!1;return!0}if(J.length===4){const Y=J;J=Z,Z=Y}for(let Y=0;Y<10;Y++)if(J[Y]!==0)return!1;const X=J.readUInt16BE(10);if(X!==0&&X!==65535)return!1;for(let Y=0;Y<4;Y++)if(Z[Y]!==J[Y+12])return!1;return!0};J1.isPrivate=function(Z){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^f[cd][0-9a-f]{2}:/i.test(Z)||/^fe80:/i.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};J1.isPublic=function(Z){return!J1.isPrivate(Z)};J1.isLoopback=function(Z){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(Z)||/^fe80::1$/.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};J1.loopback=function(Z){if(Z=WJ(Z),Z!=="ipv4"&&Z!=="ipv6")throw new Error("family must be ipv4 or ipv6");return Z==="ipv4"?"127.0.0.1":"fe80::1"};J1.address=function(Z,J){const X=At.networkInterfaces();if(J=WJ(J),Z&&Z!=="private"&&Z!=="public"){const G=X[Z].filter(($)=>{return WJ($.family)===J});if(G.length===0)return;return G[0].address}const Y=Object.keys(X).map((G)=>{const $=X[G].filter((W)=>{if(W.family=WJ(W.family),W.family!==J||J1.isLoopback(W.address))return!1;if(!Z)return!0;return Z==="public"?J1.isPrivate(W.address):J1.isPublic(W.address)});return $.length?$[0].address:void 0}).filter(Boolean);return!Y.length?J1.loopback(J):Y[0]};J1.toLong=function(Z){let J=0;return Z.split(".").forEach((X)=>{J<<=8,J+=parseInt(X)}),J>>>0};J1.fromLong=function(Z){return`${Z>>>24}.${Z>>16&255}.${Z>>8&255}.${Z&255}`}});var KI=R((qI)=>{var Nt=function(Z){if(!$I.Buffer.isEncoding(Z))throw new Error(G5.INVALID_ENCODING)},WI=function(Z){return typeof Z==="number"&&isFinite(Z)&&Pt(Z)},HI=function(Z,J){if(typeof Z==="number"){if(!WI(Z)||Z<0)throw new Error(J?G5.INVALID_OFFSET:G5.INVALID_LENGTH)}else throw new Error(J?G5.INVALID_OFFSET_NON_NUMBER:G5.INVALID_LENGTH_NON_NUMBER)},It=function(Z){HI(Z,!1)},Dt=function(Z){HI(Z,!0)},Ct=function(Z,J){if(Z<0||Z>J.length)throw new Error(G5.INVALID_TARGET_OFFSET)},Pt=function(Z){return typeof Z==="number"&&isFinite(Z)&&Math.floor(Z)===Z},Et=function(Z){if(typeof BigInt==="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof $I.Buffer.prototype[Z]==="undefined")throw new Error(`Platform does not support Buffer.prototype.${Z}.`)};Object.defineProperty(qI,"__esModule",{value:!0});var $I=import.meta.require("buffer"),G5={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};qI.ERRORS=G5;qI.checkEncoding=Nt;qI.isFiniteInteger=WI;qI.checkLengthValue=It;qI.checkOffsetValue=Dt;qI.checkTargetOffset=Ct;qI.bigIntAndBufferInt64Check=Et});var FI=R((zI)=>{Object.defineProperty(zI,"__esModule",{value:!0});var F1=KI(),QI=4096,gt="utf8";class Mq{constructor(Z){if(this.length=0,this._encoding=gt,this._writeOffset=0,this._readOffset=0,Mq.isSmartBufferOptions(Z)){if(Z.encoding)F1.checkEncoding(Z.encoding),this._encoding=Z.encoding;if(Z.size)if(F1.isFiniteInteger(Z.size)&&Z.size>0)this._buff=Buffer.allocUnsafe(Z.size);else throw new Error(F1.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(Z.buff)if(Buffer.isBuffer(Z.buff))this._buff=Z.buff,this.length=Z.buff.length;else throw new Error(F1.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(QI)}else{if(typeof Z!=="undefined")throw new Error(F1.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(QI)}}static fromSize(Z,J){return new this({size:Z,encoding:J})}static fromBuffer(Z,J){return new this({buff:Z,encoding:J})}static fromOptions(Z){return new this(Z)}static isSmartBufferOptions(Z){const J=Z;return J&&(J.encoding!==void 0||J.size!==void 0||J.buff!==void 0)}readInt8(Z){return this._readNumberValue(Buffer.prototype.readInt8,1,Z)}readInt16BE(Z){return this._readNumberValue(Buffer.prototype.readInt16BE,2,Z)}readInt16LE(Z){return this._readNumberValue(Buffer.prototype.readInt16LE,2,Z)}readInt32BE(Z){return this._readNumberValue(Buffer.prototype.readInt32BE,4,Z)}readInt32LE(Z){return this._readNumberValue(Buffer.prototype.readInt32LE,4,Z)}readBigInt64BE(Z){return F1.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,Z)}readBigInt64LE(Z){return F1.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,Z)}writeInt8(Z,J){return this._writeNumberValue(Buffer.prototype.writeInt8,1,Z,J),this}insertInt8(Z,J){return this._insertNumberValue(Buffer.prototype.writeInt8,1,Z,J)}writeInt16BE(Z,J){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,Z,J)}insertInt16BE(Z,J){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,Z,J)}writeInt16LE(Z,J){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,Z,J)}insertInt16LE(Z,J){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,Z,J)}writeInt32BE(Z,J){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,Z,J)}insertInt32BE(Z,J){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,Z,J)}writeInt32LE(Z,J){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,Z,J)}insertInt32LE(Z,J){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,Z,J)}writeBigInt64BE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,J)}insertBigInt64BE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,J)}writeBigInt64LE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,J)}insertBigInt64LE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,J)}readUInt8(Z){return this._readNumberValue(Buffer.prototype.readUInt8,1,Z)}readUInt16BE(Z){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,Z)}readUInt16LE(Z){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,Z)}readUInt32BE(Z){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,Z)}readUInt32LE(Z){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,Z)}readBigUInt64BE(Z){return F1.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,Z)}readBigUInt64LE(Z){return F1.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,Z)}writeUInt8(Z,J){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,Z,J)}insertUInt8(Z,J){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,Z,J)}writeUInt16BE(Z,J){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,Z,J)}insertUInt16BE(Z,J){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,Z,J)}writeUInt16LE(Z,J){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,Z,J)}insertUInt16LE(Z,J){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,Z,J)}writeUInt32BE(Z,J){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,Z,J)}insertUInt32BE(Z,J){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,Z,J)}writeUInt32LE(Z,J){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,Z,J)}insertUInt32LE(Z,J){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,Z,J)}writeBigUInt64BE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,J)}insertBigUInt64BE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,J)}writeBigUInt64LE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,J)}insertBigUInt64LE(Z,J){return F1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,J)}readFloatBE(Z){return this._readNumberValue(Buffer.prototype.readFloatBE,4,Z)}readFloatLE(Z){return this._readNumberValue(Buffer.prototype.readFloatLE,4,Z)}writeFloatBE(Z,J){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,Z,J)}insertFloatBE(Z,J){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,Z,J)}writeFloatLE(Z,J){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,Z,J)}insertFloatLE(Z,J){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,Z,J)}readDoubleBE(Z){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,Z)}readDoubleLE(Z){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,Z)}writeDoubleBE(Z,J){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,Z,J)}insertDoubleBE(Z,J){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,Z,J)}writeDoubleLE(Z,J){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,Z,J)}insertDoubleLE(Z,J){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,Z,J)}readString(Z,J){let X;if(typeof Z==="number")F1.checkLengthValue(Z),X=Math.min(Z,this.length-this._readOffset);else J=Z,X=this.length-this._readOffset;if(typeof J!=="undefined")F1.checkEncoding(J);const Y=this._buff.slice(this._readOffset,this._readOffset+X).toString(J||this._encoding);return this._readOffset+=X,Y}insertString(Z,J,X){return F1.checkOffsetValue(J),this._handleString(Z,!0,J,X)}writeString(Z,J,X){return this._handleString(Z,!1,J,X)}readStringNT(Z){if(typeof Z!=="undefined")F1.checkEncoding(Z);let J=this.length;for(let Y=this._readOffset;Y<this.length;Y++)if(this._buff[Y]===0){J=Y;break}const X=this._buff.slice(this._readOffset,J);return this._readOffset=J+1,X.toString(Z||this._encoding)}insertStringNT(Z,J,X){return F1.checkOffsetValue(J),this.insertString(Z,J,X),this.insertUInt8(0,J+Z.length),this}writeStringNT(Z,J,X){return this.writeString(Z,J,X),this.writeUInt8(0,typeof J==="number"?J+Z.length:this.writeOffset),this}readBuffer(Z){if(typeof Z!=="undefined")F1.checkLengthValue(Z);const J=typeof Z==="number"?Z:this.length,X=Math.min(this.length,this._readOffset+J),Y=this._buff.slice(this._readOffset,X);return this._readOffset=X,Y}insertBuffer(Z,J){return F1.checkOffsetValue(J),this._handleBuffer(Z,!0,J)}writeBuffer(Z,J){return this._handleBuffer(Z,!1,J)}readBufferNT(){let Z=this.length;for(let X=this._readOffset;X<this.length;X++)if(this._buff[X]===0){Z=X;break}const J=this._buff.slice(this._readOffset,Z);return this._readOffset=Z+1,J}insertBufferNT(Z,J){return F1.checkOffsetValue(J),this.insertBuffer(Z,J),this.insertUInt8(0,J+Z.length),this}writeBufferNT(Z,J){if(typeof J!=="undefined")F1.checkOffsetValue(J);return this.writeBuffer(Z,J),this.writeUInt8(0,typeof J==="number"?J+Z.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(Z){F1.checkOffsetValue(Z),F1.checkTargetOffset(Z,this),this._readOffset=Z}get writeOffset(){return this._writeOffset}set writeOffset(Z){F1.checkOffsetValue(Z),F1.checkTargetOffset(Z,this),this._writeOffset=Z}get encoding(){return this._encoding}set encoding(Z){F1.checkEncoding(Z),this._encoding=Z}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(Z){const J=typeof Z==="string"?Z:this._encoding;return F1.checkEncoding(J),this._buff.toString(J,0,this.length)}destroy(){return this.clear(),this}_handleString(Z,J,X,Y){let G=this._writeOffset,$=this._encoding;if(typeof X==="number")G=X;else if(typeof X==="string")F1.checkEncoding(X),$=X;if(typeof Y==="string")F1.checkEncoding(Y),$=Y;const W=Buffer.byteLength(Z,$);if(J)this.ensureInsertable(W,G);else this._ensureWriteable(W,G);if(this._buff.write(Z,G,W,$),J)this._writeOffset+=W;else if(typeof X==="number")this._writeOffset=Math.max(this._writeOffset,G+W);else this._writeOffset+=W;return this}_handleBuffer(Z,J,X){const Y=typeof X==="number"?X:this._writeOffset;if(J)this.ensureInsertable(Z.length,Y);else this._ensureWriteable(Z.length,Y);if(Z.copy(this._buff,Y),J)this._writeOffset+=Z.length;else if(typeof X==="number")this._writeOffset=Math.max(this._writeOffset,Y+Z.length);else this._writeOffset+=Z.length;return this}ensureReadable(Z,J){let X=this._readOffset;if(typeof J!=="undefined")F1.checkOffsetValue(J),X=J;if(X<0||X+Z>this.length)throw new Error(F1.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(Z,J){if(F1.checkOffsetValue(J),this._ensureCapacity(this.length+Z),J<this.length)this._buff.copy(this._buff,J+Z,J,this._buff.length);if(J+Z>this.length)this.length=J+Z;else this.length+=Z}_ensureWriteable(Z,J){const X=typeof J==="number"?J:this._writeOffset;if(this._ensureCapacity(X+Z),X+Z>this.length)this.length=X+Z}_ensureCapacity(Z){const J=this._buff.length;if(Z>J){let X=this._buff,Y=J*3/2+1;if(Y<Z)Y=Z;this._buff=Buffer.allocUnsafe(Y),X.copy(this._buff,0,0,J)}}_readNumberValue(Z,J,X){this.ensureReadable(J,X);const Y=Z.call(this._buff,typeof X==="number"?X:this._readOffset);if(typeof X==="undefined")this._readOffset+=J;return Y}_insertNumberValue(Z,J,X,Y){return F1.checkOffsetValue(Y),this.ensureInsertable(J,Y),Z.call(this._buff,X,Y),this._writeOffset+=J,this}_writeNumberValue(Z,J,X,Y){if(typeof Y==="number"){if(Y<0)throw new Error(F1.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);F1.checkOffsetValue(Y)}const G=typeof Y==="number"?Y:this._writeOffset;if(this._ensureWriteable(J,G),Z.call(this._buff,X,G),typeof Y==="number")this._writeOffset=Math.max(this._writeOffset,G+J);else this._writeOffset+=J;return this}}zI.SmartBuffer=Mq});var Tq=R((UI)=>{Object.defineProperty(UI,"__esModule",{value:!0});UI.SOCKS5_NO_ACCEPTABLE_AUTH=UI.SOCKS5_CUSTOM_AUTH_END=UI.SOCKS5_CUSTOM_AUTH_START=UI.SOCKS_INCOMING_PACKET_SIZES=UI.SocksClientState=UI.Socks5Response=UI.Socks5HostType=UI.Socks5Auth=UI.Socks4Response=UI.SocksCommand=UI.ERRORS=UI.DEFAULT_TIMEOUT=void 0;var yt=30000;UI.DEFAULT_TIMEOUT=yt;var bt={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};UI.ERRORS=bt;var vt={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:(Z)=>Z+7,Socks4Response:8};UI.SOCKS_INCOMING_PACKET_SIZES=vt;var Nq;(function(Z){Z[Z.connect=1]="connect",Z[Z.bind=2]="bind",Z[Z.associate=3]="associate"})(Nq||(Nq={}));UI.SocksCommand=Nq;var Iq;(function(Z){Z[Z.Granted=90]="Granted",Z[Z.Failed=91]="Failed",Z[Z.Rejected=92]="Rejected",Z[Z.RejectedIdent=93]="RejectedIdent"})(Iq||(Iq={}));UI.Socks4Response=Iq;var Dq;(function(Z){Z[Z.NoAuth=0]="NoAuth",Z[Z.GSSApi=1]="GSSApi",Z[Z.UserPass=2]="UserPass"})(Dq||(Dq={}));UI.Socks5Auth=Dq;var ht=128;UI.SOCKS5_CUSTOM_AUTH_START=ht;var ut=254;UI.SOCKS5_CUSTOM_AUTH_END=ut;var mt=255;UI.SOCKS5_NO_ACCEPTABLE_AUTH=mt;var Cq;(function(Z){Z[Z.Granted=0]="Granted",Z[Z.Failure=1]="Failure",Z[Z.NotAllowed=2]="NotAllowed",Z[Z.NetworkUnreachable=3]="NetworkUnreachable",Z[Z.HostUnreachable=4]="HostUnreachable",Z[Z.ConnectionRefused=5]="ConnectionRefused",Z[Z.TTLExpired=6]="TTLExpired",Z[Z.CommandNotSupported=7]="CommandNotSupported",Z[Z.AddressNotSupported=8]="AddressNotSupported"})(Cq||(Cq={}));UI.Socks5Response=Cq;var Pq;(function(Z){Z[Z.IPv4=1]="IPv4",Z[Z.Hostname=3]="Hostname",Z[Z.IPv6=4]="IPv6"})(Pq||(Pq={}));UI.Socks5HostType=Pq;var Eq;(function(Z){Z[Z.Created=0]="Created",Z[Z.Connecting=1]="Connecting",Z[Z.Connected=2]="Connected",Z[Z.SentInitialHandshake=3]="SentInitialHandshake",Z[Z.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",Z[Z.SentAuthentication=5]="SentAuthentication",Z[Z.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",Z[Z.SentFinalHandshake=7]="SentFinalHandshake",Z[Z.ReceivedFinalResponse=8]="ReceivedFinalResponse",Z[Z.BoundWaitingForConnection=9]="BoundWaitingForConnection",Z[Z.Established=10]="Established",Z[Z.Disconnected=11]="Disconnected",Z[Z.Error=99]="Error"})(Eq||(Eq={}));UI.SocksClientState=Eq});var jq=R((RI)=>{var et=function(Z){for(let J=Z.length-1;J>0;J--){const X=Math.floor(Math.random()*(J+1));[Z[J],Z[X]]=[Z[X],Z[J]]}};Object.defineProperty(RI,"__esModule",{value:!0});RI.shuffleArray=RI.SocksClientError=void 0;class VI extends Error{constructor(Z,J){super(Z);this.options=J}}RI.SocksClientError=VI;RI.shuffleArray=et});var CI=R((II)=>{var Xo=function(Z,J=["connect","bind","associate"]){if(!O0.SocksCommand[Z.command])throw new W8.SocksClientError(O0.ERRORS.InvalidSocksCommand,Z);if(J.indexOf(Z.command)===-1)throw new W8.SocksClientError(O0.ERRORS.InvalidSocksCommandForOperation,Z);if(!BI(Z.destination))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!MI(Z.proxy))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsProxy,Z);if(AI(Z.proxy,Z),Z.timeout&&!NI(Z.timeout))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsTimeout,Z);if(Z.existing_socket&&!(Z.existing_socket instanceof Jo.Duplex))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsExistingSocket,Z)},Yo=function(Z){if(Z.command!=="connect")throw new W8.SocksClientError(O0.ERRORS.InvalidSocksCommandChain,Z);if(!BI(Z.destination))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!(Z.proxies&&Array.isArray(Z.proxies)&&Z.proxies.length>=2))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsProxiesLength,Z);if(Z.proxies.forEach((J)=>{if(!MI(J))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsProxy,Z);AI(J,Z)}),Z.timeout&&!NI(Z.timeout))throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsTimeout,Z)},AI=function(Z,J){if(Z.custom_auth_method!==void 0){if(Z.custom_auth_method<O0.SOCKS5_CUSTOM_AUTH_START||Z.custom_auth_method>O0.SOCKS5_CUSTOM_AUTH_END)throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsCustomAuthRange,J);if(Z.custom_auth_request_handler===void 0||typeof Z.custom_auth_request_handler!=="function")throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,J);if(Z.custom_auth_response_size===void 0)throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,J);if(Z.custom_auth_response_handler===void 0||typeof Z.custom_auth_response_handler!=="function")throw new W8.SocksClientError(O0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,J)}},BI=function(Z){return Z&&typeof Z.host==="string"&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535},MI=function(Z){return Z&&(typeof Z.host==="string"||typeof Z.ipaddress==="string")&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535&&(Z.type===4||Z.type===5)},NI=function(Z){return typeof Z==="number"&&Z>0};Object.defineProperty(II,"__esModule",{value:!0});II.validateSocksClientChainOptions=II.validateSocksClientOptions=void 0;var W8=jq(),O0=Tq(),Jo=import.meta.require("stream");II.validateSocksClientOptions=Xo;II.validateSocksClientChainOptions=Yo});var jI=R((EI)=>{Object.defineProperty(EI,"__esModule",{value:!0});EI.ReceiveBuffer=void 0;class PI{constructor(Z=4096){this.buffer=Buffer.allocUnsafe(Z),this.offset=0,this.originalSize=Z}get length(){return this.offset}append(Z){if(!Buffer.isBuffer(Z))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+Z.length>=this.buffer.length){const J=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+Z.length)),J.copy(this.buffer)}return Z.copy(this.buffer,this.offset),this.offset+=Z.length}peek(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,Z)}get(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const J=Buffer.allocUnsafe(Z);return this.buffer.slice(0,Z).copy(J),this.buffer.copyWithin(0,Z,Z+this.offset-Z),this.offset-=Z,J}}EI.ReceiveBuffer=PI});var OI=R((H7)=>{var U9=H7&&H7.__awaiter||function(Z,J,X,Y){function G($){return $ instanceof X?$:new X(function(W){W($)})}return new(X||(X=Promise))(function($,W){function H(Q){try{K(Y.next(Q))}catch(z){W(z)}}function q(Q){try{K(Y.throw(Q))}catch(z){W(z)}}function K(Q){Q.done?$(Q.value):G(Q.value).then(H,q)}K((Y=Y.apply(Z,J||[])).next())})};Object.defineProperty(H7,"__esModule",{value:!0});H7.SocksClientError=H7.SocksClient=void 0;var $o=import.meta.require("events"),L9=import.meta.require("net"),c8=GI(),I8=FI(),d=Tq(),Oq=CI(),Wo=jI(),Sq=jq();Object.defineProperty(H7,"SocksClientError",{enumerable:!0,get:function(){return Sq.SocksClientError}});class gX extends $o.EventEmitter{constructor(Z){super();this.options=Object.assign({},Z),Oq.validateSocksClientOptions(Z),this.setState(d.SocksClientState.Created)}static createConnection(Z,J){return new Promise((X,Y)=>{try{Oq.validateSocksClientOptions(Z,["connect"])}catch($){if(typeof J==="function")return J($),X($);else return Y($)}const G=new gX(Z);G.connect(Z.existing_socket),G.once("established",($)=>{if(G.removeAllListeners(),typeof J==="function")J(null,$),X($);else X($)}),G.once("error",($)=>{if(G.removeAllListeners(),typeof J==="function")J($),X($);else Y($)})})}static createConnectionChain(Z,J){return new Promise((X,Y)=>U9(this,void 0,void 0,function*(){try{Oq.validateSocksClientChainOptions(Z)}catch(G){if(typeof J==="function")return J(G),X(G);else return Y(G)}if(Z.randomizeChain)Sq.shuffleArray(Z.proxies);try{let G;for(let $=0;$<Z.proxies.length;$++){const W=Z.proxies[$],H=$===Z.proxies.length-1?Z.destination:{host:Z.proxies[$+1].host||Z.proxies[$+1].ipaddress,port:Z.proxies[$+1].port},q=yield gX.createConnection({command:"connect",proxy:W,destination:H,existing_socket:G});G=G||q.socket}if(typeof J==="function")J(null,{socket:G}),X({socket:G});else X({socket:G})}catch(G){if(typeof J==="function")J(G),X(G);else Y(G)}}))}static createUDPFrame(Z){const J=new I8.SmartBuffer;if(J.writeUInt16BE(0),J.writeUInt8(Z.frameNumber||0),L9.isIPv4(Z.remoteHost.host))J.writeUInt8(d.Socks5HostType.IPv4),J.writeUInt32BE(c8.toLong(Z.remoteHost.host));else if(L9.isIPv6(Z.remoteHost.host))J.writeUInt8(d.Socks5HostType.IPv6),J.writeBuffer(c8.toBuffer(Z.remoteHost.host));else J.writeUInt8(d.Socks5HostType.Hostname),J.writeUInt8(Buffer.byteLength(Z.remoteHost.host)),J.writeString(Z.remoteHost.host);return J.writeUInt16BE(Z.remoteHost.port),J.writeBuffer(Z.data),J.toBuffer()}static parseUDPFrame(Z){const J=I8.SmartBuffer.fromBuffer(Z);J.readOffset=2;const X=J.readUInt8(),Y=J.readUInt8();let G;if(Y===d.Socks5HostType.IPv4)G=c8.fromLong(J.readUInt32BE());else if(Y===d.Socks5HostType.IPv6)G=c8.toString(J.readBuffer(16));else G=J.readString(J.readUInt8());const $=J.readUInt16BE();return{frameNumber:X,remoteHost:{host:G,port:$},data:J.readBuffer()}}setState(Z){if(this.state!==d.SocksClientState.Error)this.state=Z}connect(Z){this.onDataReceived=(X)=>this.onDataReceivedHandler(X),this.onClose=()=>this.onCloseHandler(),this.onError=(X)=>this.onErrorHandler(X),this.onConnect=()=>this.onConnectHandler();const J=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||d.DEFAULT_TIMEOUT);if(J.unref&&typeof J.unref==="function")J.unref();if(Z)this.socket=Z;else this.socket=new L9.Socket;if(this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(d.SocksClientState.Connecting),this.receiveBuffer=new Wo.ReceiveBuffer,Z)this.socket.emit("connect");else if(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null)this.socket.setNoDelay(!!this.options.set_tcp_nodelay);this.prependOnceListener("established",(X)=>{setImmediate(()=>{if(this.receiveBuffer.length>0){const Y=this.receiveBuffer.get(this.receiveBuffer.length);X.socket.emit("data",Y)}X.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){if(this.state!==d.SocksClientState.Established&&this.state!==d.SocksClientState.BoundWaitingForConnection)this.closeSocket(d.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){if(this.setState(d.SocksClientState.Connected),this.options.proxy.type===4)this.sendSocks4InitialHandshake();else this.sendSocks5InitialHandshake();this.setState(d.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(Z){this.receiveBuffer.append(Z),this.processData()}processData(){while(this.state!==d.SocksClientState.Established&&this.state!==d.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize)if(this.state===d.SocksClientState.SentInitialHandshake)if(this.options.proxy.type===4)this.handleSocks4FinalHandshakeResponse();else this.handleInitialSocks5HandshakeResponse();else if(this.state===d.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===d.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===d.SocksClientState.BoundWaitingForConnection)if(this.options.proxy.type===4)this.handleSocks4IncomingConnectionResponse();else this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(d.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(d.ERRORS.SocketClosed)}onErrorHandler(Z){this.closeSocket(Z.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(Z){if(this.state!==d.SocksClientState.Error)this.setState(d.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new Sq.SocksClientError(Z,this.options))}sendSocks4InitialHandshake(){const Z=this.options.proxy.userId||"",J=new I8.SmartBuffer;if(J.writeUInt8(4),J.writeUInt8(d.SocksCommand[this.options.command]),J.writeUInt16BE(this.options.destination.port),L9.isIPv4(this.options.destination.host))J.writeBuffer(c8.toBuffer(this.options.destination.host)),J.writeStringNT(Z);else J.writeUInt8(0),J.writeUInt8(0),J.writeUInt8(0),J.writeUInt8(1),J.writeStringNT(Z),J.writeStringNT(this.options.destination.host);this.nextRequiredPacketBufferSize=d.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(J.toBuffer())}handleSocks4FinalHandshakeResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==d.Socks4Response.Granted)this.closeSocket(`${d.ERRORS.Socks4ProxyRejectedConnection} - (${d.Socks4Response[Z[1]]})`);else if(d.SocksCommand[this.options.command]===d.SocksCommand.bind){const J=I8.SmartBuffer.fromBuffer(Z);J.readOffset=2;const X={port:J.readUInt16BE(),host:c8.fromLong(J.readUInt32BE())};if(X.host==="0.0.0.0")X.host=this.options.proxy.ipaddress;this.setState(d.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:X,socket:this.socket})}else this.setState(d.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==d.Socks4Response.Granted)this.closeSocket(`${d.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${d.Socks4Response[Z[1]]})`);else{const J=I8.SmartBuffer.fromBuffer(Z);J.readOffset=2;const X={port:J.readUInt16BE(),host:c8.fromLong(J.readUInt32BE())};this.setState(d.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:X,socket:this.socket})}}sendSocks5InitialHandshake(){const Z=new I8.SmartBuffer,J=[d.Socks5Auth.NoAuth];if(this.options.proxy.userId||this.options.proxy.password)J.push(d.Socks5Auth.UserPass);if(this.options.proxy.custom_auth_method!==void 0)J.push(this.options.proxy.custom_auth_method);Z.writeUInt8(5),Z.writeUInt8(J.length);for(let X of J)Z.writeUInt8(X);this.nextRequiredPacketBufferSize=d.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(Z.toBuffer()),this.setState(d.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const Z=this.receiveBuffer.get(2);if(Z[0]!==5)this.closeSocket(d.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion);else if(Z[1]===d.SOCKS5_NO_ACCEPTABLE_AUTH)this.closeSocket(d.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType);else if(Z[1]===d.Socks5Auth.NoAuth)this.socks5ChosenAuthType=d.Socks5Auth.NoAuth,this.sendSocks5CommandRequest();else if(Z[1]===d.Socks5Auth.UserPass)this.socks5ChosenAuthType=d.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication();else if(Z[1]===this.options.proxy.custom_auth_method)this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication();else this.closeSocket(d.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const Z=this.options.proxy.userId||"",J=this.options.proxy.password||"",X=new I8.SmartBuffer;X.writeUInt8(1),X.writeUInt8(Buffer.byteLength(Z)),X.writeString(Z),X.writeUInt8(Buffer.byteLength(J)),X.writeString(J),this.nextRequiredPacketBufferSize=d.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(X.toBuffer()),this.setState(d.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return U9(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(d.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(Z){return U9(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(Z)})}handleSocks5AuthenticationNoAuthHandshakeResponse(Z){return U9(this,void 0,void 0,function*(){return Z[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(Z){return U9(this,void 0,void 0,function*(){return Z[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return U9(this,void 0,void 0,function*(){this.setState(d.SocksClientState.ReceivedAuthenticationResponse);let Z=!1;if(this.socks5ChosenAuthType===d.Socks5Auth.NoAuth)Z=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===d.Socks5Auth.UserPass)Z=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===this.options.proxy.custom_auth_method)Z=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size));if(!Z)this.closeSocket(d.ERRORS.Socks5AuthenticationFailed);else this.sendSocks5CommandRequest()})}sendSocks5CommandRequest(){const Z=new I8.SmartBuffer;if(Z.writeUInt8(5),Z.writeUInt8(d.SocksCommand[this.options.command]),Z.writeUInt8(0),L9.isIPv4(this.options.destination.host))Z.writeUInt8(d.Socks5HostType.IPv4),Z.writeBuffer(c8.toBuffer(this.options.destination.host));else if(L9.isIPv6(this.options.destination.host))Z.writeUInt8(d.Socks5HostType.IPv6),Z.writeBuffer(c8.toBuffer(this.options.destination.host));else Z.writeUInt8(d.Socks5HostType.Hostname),Z.writeUInt8(this.options.destination.host.length),Z.writeString(this.options.destination.host);Z.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(Z.toBuffer()),this.setState(d.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==d.Socks5Response.Granted)this.closeSocket(`${d.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${d.Socks5Response[Z[1]]}`);else{const J=Z[3];let X,Y;if(J===d.Socks5HostType.IPv4){const G=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<G){this.nextRequiredPacketBufferSize=G;return}if(Y=I8.SmartBuffer.fromBuffer(this.receiveBuffer.get(G).slice(4)),X={host:c8.fromLong(Y.readUInt32BE()),port:Y.readUInt16BE()},X.host==="0.0.0.0")X.host=this.options.proxy.ipaddress}else if(J===d.Socks5HostType.Hostname){const G=Z[4],$=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(G);if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}Y=I8.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(5)),X={host:Y.readString(G),port:Y.readUInt16BE()}}else if(J===d.Socks5HostType.IPv6){const G=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<G){this.nextRequiredPacketBufferSize=G;return}Y=I8.SmartBuffer.fromBuffer(this.receiveBuffer.get(G).slice(4)),X={host:c8.toString(Y.readBuffer(16)),port:Y.readUInt16BE()}}if(this.setState(d.SocksClientState.ReceivedFinalResponse),d.SocksCommand[this.options.command]===d.SocksCommand.connect)this.setState(d.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:X,socket:this.socket});else if(d.SocksCommand[this.options.command]===d.SocksCommand.bind)this.setState(d.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:X,socket:this.socket});else if(d.SocksCommand[this.options.command]===d.SocksCommand.associate)this.setState(d.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:X,socket:this.socket})}}handleSocks5IncomingConnectionResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==d.Socks5Response.Granted)this.closeSocket(`${d.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${d.Socks5Response[Z[1]]}`);else{const J=Z[3];let X,Y;if(J===d.Socks5HostType.IPv4){const G=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<G){this.nextRequiredPacketBufferSize=G;return}if(Y=I8.SmartBuffer.fromBuffer(this.receiveBuffer.get(G).slice(4)),X={host:c8.fromLong(Y.readUInt32BE()),port:Y.readUInt16BE()},X.host==="0.0.0.0")X.host=this.options.proxy.ipaddress}else if(J===d.Socks5HostType.Hostname){const G=Z[4],$=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(G);if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}Y=I8.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(5)),X={host:Y.readString(G),port:Y.readUInt16BE()}}else if(J===d.Socks5HostType.IPv6){const G=d.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<G){this.nextRequiredPacketBufferSize=G;return}Y=I8.SmartBuffer.fromBuffer(this.receiveBuffer.get(G).slice(4)),X={host:c8.toString(Y.readBuffer(16)),port:Y.readUInt16BE()}}this.setState(d.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:X,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}H7.SocksClient=gX});var SI=R(($5)=>{var Ho=$5&&$5.__createBinding||(Object.create?function(Z,J,X,Y){if(Y===void 0)Y=X;var G=Object.getOwnPropertyDescriptor(J,X);if(!G||("get"in G?!J.__esModule:G.writable||G.configurable))G={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Z,Y,G)}:function(Z,J,X,Y){if(Y===void 0)Y=X;Z[Y]=J[X]}),qo=$5&&$5.__exportStar||function(Z,J){for(var X in Z)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(J,X))Ho(J,Z,X)};Object.defineProperty($5,"__esModule",{value:!0});qo(OI(),$5)});var x6=R((kI)=>{var HJ=function(Z){return new Proxy(Z?{kModuleError:Z}:{},{get:(X,Y)=>{if(Y==="kModuleError")return Z;throw Z},set:()=>{throw Z}})},Ko=function(){try{return kI.Kerberos=(()=>{ throw new Error(`Cannot require module "kerberos"`);})(),kI.Kerberos}catch{return kI.Kerberos}},Qo=function(){try{return kI.ZStandard=(()=>{ throw new Error(`Cannot require module "@mongodb-js/zstd"`);})(),kI.ZStandard}catch{return kI.ZStandard}},zo=function(){try{return (()=>{ throw new Error(`Cannot require module "@aws-sdk/credential-providers"`);})()}catch{return HJ(new q7.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}},Fo=function(){try{return (()=>{ throw new Error(`Cannot require module "gcp-metadata"`);})()}catch{return HJ(new q7.MongoMissingDependencyError("Optional module `gcp-metadata` not found. Please install it to enable getting gcp credentials via the official sdk."))}},Uo=function(){try{return (()=>{ throw new Error(`Cannot require module "snappy"`);})()}catch(Z){return{kModuleError:new q7.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:Z})}}},Lo=function(){try{return SI()}catch(Z){return{kModuleError:new q7.MongoMissingDependencyError("Optional module `socks` not found. Please install it to connections over a SOCKS5 proxy",{cause:Z})}}},Vo=function(){let Z=null;try{Z=(()=>{ throw new Error(`Cannot require module "mongodb-client-encryption"`);})()}catch(J){return{kModuleError:new q7.MongoMissingDependencyError("Optional module `mongodb-client-encryption` not found. Please install it to use auto encryption or ClientEncryption.",{cause:J})}}return Z};Object.defineProperty(kI,"__esModule",{value:!0});kI.getMongoDBClientEncryption=kI.aws4=kI.getSocks=kI.getSnappy=kI.getGcpMetadata=kI.getAwsCredentialProvider=kI.getZstdLibrary=kI.ZStandard=kI.getKerberos=kI.Kerberos=void 0;var q7=a();kI.Kerberos=HJ(new q7.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));kI.getKerberos=Ko;kI.ZStandard=HJ(new q7.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));kI.getZstdLibrary=Qo;kI.getAwsCredentialProvider=zo;kI.getGcpMetadata=Fo;kI.getSnappy=Uo;kI.getSocks=Lo;kI.aws4=HJ(new q7.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{kI.aws4=(()=>{ throw new Error(`Cannot require module "aws4"`);})()}catch{}kI.getMongoDBClientEncryption=Vo});var P4=R((yI)=>{Object.defineProperty(yI,"__esModule",{value:!0});yI.AuthProvider=yI.AuthContext=void 0;var Io=a();class gI{constructor(Z,J,X){this.reauthenticating=!1,this.connection=Z,this.credentials=J,this.options=X}}yI.AuthContext=gI;class fI{async prepare(Z,J){return Z}async reauth(Z){if(Z.reauthenticating)throw new Io.MongoRuntimeError("Reauthentication already in progress.");try{Z.reauthenticating=!0,await this.auth(Z)}finally{Z.reauthenticating=!1}}}yI.AuthProvider=fI});var vX=R((dI)=>{async function kq(Z,J){return Z.commandAsync(Po.ns("$external.$cmd"),J,void 0)}async function To(Z){const{hostAddress:J}=Z.options,{credentials:X}=Z;if(!J||typeof J.host!=="string"||!X)throw new vI.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(ko(),"kModuleError"in qJ)throw qJ.kModuleError;const{initializeClient:Y}=qJ,{username:G,password:$}=X,W=X.mechanismProperties,H=W.SERVICE_NAME??"mongodb",q=await mI(J.host,W),K={};if($!=null)Object.assign(K,{user:G,password:$});const Q=W.SERVICE_HOST??q;let z=`${H}${process.platform==="win32"?"/":"@"}${Q}`;if("SERVICE_REALM"in W)z=`${z}@${W.SERVICE_REALM}`;return Y(z,K)}var jo=function(Z){return{saslStart:1,mechanism:"GSSAPI",payload:Z,autoAuthorize:1}},Oo=function(Z,J){return{saslContinue:1,conversationId:J,payload:Z}};async function uI(Z,J,X){try{return await Z.step(X)||""}catch(Y){if(J===0)throw Y;return uI(Z,J-1,X)}}async function So(Z,J,X){const Y=await Z.unwrap(X);return Z.wrap(Y||"",{user:J})}async function mI(Z,J){const X=J.CANONICALIZE_HOST_NAME;if(!X||X===dI.GSSAPICanonicalizationValue.none)return Z;if(X===dI.GSSAPICanonicalizationValue.on||X===dI.GSSAPICanonicalizationValue.forwardAndReverse){const{address:Y}=await _q.promises.lookup(Z);try{const G=await _q.promises.resolvePtr(Y);return G.length>0?G[0]:Z}catch(G){return xq(Z)}}else return xq(Z)}async function xq(Z){try{const J=await _q.promises.resolveCname(Z);return J.length>0?J[0]:Z}catch{return Z}}var ko=function(){if(!qJ)qJ=Co.getKerberos()};Object.defineProperty(dI,"__esModule",{value:!0});dI.resolveCname=dI.performGSSAPICanonicalizeHostName=dI.GSSAPI=dI.GSSAPICanonicalizationValue=void 0;var _q=import.meta.require("dns"),Co=x6(),vI=a(),Po=Z1(),Eo=P4();dI.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});var qJ;class hI extends Eo.AuthProvider{async auth(Z){const{connection:J,credentials:X}=Z;if(X==null)throw new vI.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");const{username:Y}=X,G=await To(Z),$=await G.step(""),W=await kq(J,jo($)),H=await uI(G,10,W.payload),q=await kq(J,Oo(H,W.conversationId)),K=await So(G,Y,q.payload);await kq(J,{saslContinue:1,conversationId:q.conversationId,payload:K})}}dI.GSSAPI=hI;dI.performGSSAPICanonicalizeHostName=mI;dI.resolveCname=xq});var J4=R((lI)=>{Object.defineProperty(lI,"__esModule",{value:!0});lI.AUTH_MECHS_AUTH_SRC_EXTERNAL=lI.AuthMechanism=void 0;lI.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"});lI.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([lI.AuthMechanism.MONGODB_GSSAPI,lI.AuthMechanism.MONGODB_AWS,lI.AuthMechanism.MONGODB_OIDC,lI.AuthMechanism.MONGODB_X509])});var uX=R((aI)=>{var fo=function(Z){if(Z){if(Array.isArray(Z.saslSupportedMechs))return Z.saslSupportedMechs.includes(y0.AuthMechanism.MONGODB_SCRAM_SHA256)?y0.AuthMechanism.MONGODB_SCRAM_SHA256:y0.AuthMechanism.MONGODB_SCRAM_SHA1;if(Z.maxWireVersion>=3)return y0.AuthMechanism.MONGODB_SCRAM_SHA1}return y0.AuthMechanism.MONGODB_CR};Object.defineProperty(aI,"__esModule",{value:!0});aI.MongoCredentials=aI.DEFAULT_ALLOWED_HOSTS=void 0;var K6=a(),go=vX(),y0=J4(),iI=["aws","azure"],nI="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";aI.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];var yo="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class hX{constructor(Z){if(this.username=Z.username??"",this.password=Z.password,this.source=Z.source,!this.source&&Z.db)this.source=Z.db;if(this.mechanism=Z.mechanism||y0.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=Z.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)){if(!this.username&&process.env.AWS_ACCESS_KEY_ID)this.username=process.env.AWS_ACCESS_KEY_ID;if(!this.password&&process.env.AWS_SECRET_ACCESS_KEY)this.password=process.env.AWS_SECRET_ACCESS_KEY;if(this.mechanismProperties.AWS_SESSION_TOKEN==null&&process.env.AWS_SESSION_TOKEN!=null)this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN}}if(this.mechanism===y0.AuthMechanism.MONGODB_OIDC&&!this.mechanismProperties.ALLOWED_HOSTS)this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:aI.DEFAULT_ALLOWED_HOSTS};Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(Z){return this.mechanism===Z.mechanism&&this.username===Z.username&&this.password===Z.password&&this.source===Z.source}resolveAuthMechanism(Z){if(this.mechanism.match(/DEFAULT/i))return new hX({username:this.username,password:this.password,source:this.source,mechanism:fo(Z),mechanismProperties:this.mechanismProperties});return this}validate(){if((this.mechanism===y0.AuthMechanism.MONGODB_GSSAPI||this.mechanism===y0.AuthMechanism.MONGODB_CR||this.mechanism===y0.AuthMechanism.MONGODB_PLAIN||this.mechanism===y0.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===y0.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new K6.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===y0.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.PROVIDER_NAME)throw new K6.MongoInvalidArgumentError(`username and PROVIDER_NAME may not be used together for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.PROVIDER_NAME==="azure"&&!this.mechanismProperties.TOKEN_AUDIENCE)throw new K6.MongoAzureError(yo);if(this.mechanismProperties.PROVIDER_NAME&&!iI.includes(this.mechanismProperties.PROVIDER_NAME))throw new K6.MongoInvalidArgumentError(`Currently only a PROVIDER_NAME in ${iI.join(",")} is supported for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.REFRESH_TOKEN_CALLBACK&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new K6.MongoInvalidArgumentError(`A REQUEST_TOKEN_CALLBACK must be provided when using a REFRESH_TOKEN_CALLBACK for mechanism '${this.mechanism}'`);if(!this.mechanismProperties.PROVIDER_NAME&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new K6.MongoInvalidArgumentError(`Either a PROVIDER_NAME or a REQUEST_TOKEN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){const J=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(J))throw new K6.MongoInvalidArgumentError(nI);for(let X of J)if(typeof X!=="string")throw new K6.MongoInvalidArgumentError(nI)}}if(y0.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)){if(this.source!=null&&this.source!=="$external")throw new K6.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`)}if(this.mechanism===y0.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new K6.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===y0.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new K6.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}const Z=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(go.GSSAPICanonicalizationValue).includes(Z))throw new K6.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${Z}`)}static merge(Z,J){return new hX({username:J.username??Z?.username??"",password:J.password??Z?.password??"",mechanism:J.mechanism??Z?.mechanism??y0.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:J.mechanismProperties??Z?.mechanismProperties??{},source:J.source??J.db??Z?.source??"admin"})}}aI.MongoCredentials=hX});var dX=R((ZD)=>{var v1=function(Z,J,X){if(X.globals)Z=X.globals[Z.name];return new Z(`${X.context?X.context:"Value"} ${J}.`)},w9=function(Z,J){if(typeof Z==="bigint")throw v1(TypeError,"is a BigInt which cannot be converted to a number",J);if(!J.globals)return Number(Z);return J.globals.Number(Z)},oI=function(Z){if(Z>0&&Z%1===0.5&&(Z&1)===0||Z<0&&Z%1===-0.5&&(Z&1)===1)return QJ(Math.floor(Z));return QJ(Math.round(Z))},mX=function(Z){return QJ(Math.trunc(Z))},tI=function(Z){return Z<0?-1:1},bo=function(Z,J){const X=Z%J;if(tI(J)!==tI(X))return X+J;return X},QJ=function(Z){return Z===0?0:Z},A9=function(Z,{unsigned:J}){let X,Y;if(J)X=0,Y=2**Z-1;else X=-(2**(Z-1)),Y=2**(Z-1)-1;const G=2**Z,$=2**(Z-1);return(W,H={})=>{let q=w9(W,H);if(q=QJ(q),H.enforceRange){if(!Number.isFinite(q))throw v1(TypeError,"is not a finite number",H);if(q=mX(q),q<X||q>Y)throw v1(TypeError,`is outside the accepted range of ${X} to ${Y}, inclusive`,H);return q}if(!Number.isNaN(q)&&H.clamp)return q=Math.min(Math.max(q,X),Y),q=oI(q),q;if(!Number.isFinite(q)||q===0)return 0;if(q=mX(q),q>=X&&q<=Y)return q;if(q=bo(q,G),!J&&q>=$)return q-G;return q}},eI=function(Z,{unsigned:J}){const X=Number.MAX_SAFE_INTEGER,Y=J?0:Number.MIN_SAFE_INTEGER,G=J?BigInt.asUintN:BigInt.asIntN;return($,W={})=>{let H=w9($,W);if(H=QJ(H),W.enforceRange){if(!Number.isFinite(H))throw v1(TypeError,"is not a finite number",W);if(H=mX(H),H<Y||H>X)throw v1(TypeError,`is outside the accepted range of ${Y} to ${X}, inclusive`,W);return H}if(!Number.isNaN(H)&&W.clamp)return H=Math.min(Math.max(H,Y),X),H=oI(H),H;if(!Number.isFinite(H)||H===0)return 0;let q=BigInt(mX(H));return q=G(Z,q),Number(q)}},gq=function(Z){try{return vo.call(Z),!0}catch{return!1}},V9=function(Z){try{return ho.call(Z),!0}catch{return!1}},R9=function(Z){try{return new Uint8Array(Z),!1}catch{return!0}};ZD.any=(Z)=>{return Z};ZD.undefined=()=>{return};ZD.boolean=(Z)=>{return Boolean(Z)};ZD.byte=A9(8,{unsigned:!1});ZD.octet=A9(8,{unsigned:!0});ZD.short=A9(16,{unsigned:!1});ZD["unsigned short"]=A9(16,{unsigned:!0});ZD.long=A9(32,{unsigned:!1});ZD["unsigned long"]=A9(32,{unsigned:!0});ZD["long long"]=eI(64,{unsigned:!1});ZD["unsigned long long"]=eI(64,{unsigned:!0});ZD.double=(Z,J={})=>{const X=w9(Z,J);if(!Number.isFinite(X))throw v1(TypeError,"is not a finite floating-point value",J);return X};ZD["unrestricted double"]=(Z,J={})=>{return w9(Z,J)};ZD.float=(Z,J={})=>{const X=w9(Z,J);if(!Number.isFinite(X))throw v1(TypeError,"is not a finite floating-point value",J);if(Object.is(X,-0))return X;const Y=Math.fround(X);if(!Number.isFinite(Y))throw v1(TypeError,"is outside the range of a single-precision floating-point value",J);return Y};ZD["unrestricted float"]=(Z,J={})=>{const X=w9(Z,J);if(isNaN(X))return X;if(Object.is(X,-0))return X;return Math.fround(X)};ZD.DOMString=(Z,J={})=>{if(J.treatNullAsEmptyString&&Z===null)return"";if(typeof Z==="symbol")throw v1(TypeError,"is a symbol, which cannot be converted to a string",J);return(J.globals?J.globals.String:String)(Z)};ZD.ByteString=(Z,J={})=>{const X=ZD.DOMString(Z,J);let Y;for(let G=0;(Y=X.codePointAt(G))!==void 0;++G)if(Y>255)throw v1(TypeError,"is not a valid ByteString",J);return X};ZD.USVString=(Z,J={})=>{const X=ZD.DOMString(Z,J),Y=X.length,G=[];for(let $=0;$<Y;++$){const W=X.charCodeAt($);if(W<55296||W>57343)G.push(String.fromCodePoint(W));else if(56320<=W&&W<=57343)G.push(String.fromCodePoint(65533));else if($===Y-1)G.push(String.fromCodePoint(65533));else{const H=X.charCodeAt($+1);if(56320<=H&&H<=57343){const q=W&1023,K=H&1023;G.push(String.fromCodePoint((2<<15)+(2<<9)*q+K)),++$}else G.push(String.fromCodePoint(65533))}}return G.join("")};ZD.object=(Z,J={})=>{if(Z===null||typeof Z!=="object"&&typeof Z!=="function")throw v1(TypeError,"is not an object",J);return Z};var vo=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,ho=typeof SharedArrayBuffer==="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;ZD.ArrayBuffer=(Z,J={})=>{if(!gq(Z)){if(J.allowShared&&!V9(Z))throw v1(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",J);throw v1(TypeError,"is not an ArrayBuffer",J)}if(R9(Z))throw v1(TypeError,"is a detached ArrayBuffer",J);return Z};var uo=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;ZD.DataView=(Z,J={})=>{try{uo.call(Z)}catch(X){throw v1(TypeError,"is not a DataView",J)}if(!J.allowShared&&V9(Z.buffer))throw v1(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",J);if(R9(Z.buffer))throw v1(TypeError,"is backed by a detached ArrayBuffer",J);return Z};var mo=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((Z)=>{const{name:J}=Z,X=/^[AEIOU]/u.test(J)?"an":"a";ZD[J]=(Y,G={})=>{if(!ArrayBuffer.isView(Y)||mo.call(Y)!==J)throw v1(TypeError,`is not ${X} ${J} object`,G);if(!G.allowShared&&V9(Y.buffer))throw v1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",G);if(R9(Y.buffer))throw v1(TypeError,"is a view on a detached ArrayBuffer",G);return Y}});ZD.ArrayBufferView=(Z,J={})=>{if(!ArrayBuffer.isView(Z))throw v1(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",J);if(!J.allowShared&&V9(Z.buffer))throw v1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",J);if(R9(Z.buffer))throw v1(TypeError,"is a view on a detached ArrayBuffer",J);return Z};ZD.BufferSource=(Z,J={})=>{if(ArrayBuffer.isView(Z)){if(!J.allowShared&&V9(Z.buffer))throw v1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",J);if(R9(Z.buffer))throw v1(TypeError,"is a view on a detached ArrayBuffer",J);return Z}if(!J.allowShared&&!gq(Z))throw v1(TypeError,"is not an ArrayBuffer or a view on one",J);if(J.allowShared&&!V9(Z)&&!gq(Z))throw v1(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",J);if(R9(Z))throw v1(TypeError,"is a detached ArrayBuffer",J);return Z};ZD.DOMTimeStamp=ZD["unsigned long long"]});var lX=R((qD,KD)=>{var ze=function(Z){return typeof Z==="object"&&Z!==null||typeof Z==="function"},Fe=function(Z,J){for(let X of Reflect.ownKeys(J)){const Y=Reflect.getOwnPropertyDescriptor(J,X);if(Y&&!Reflect.defineProperty(Z,X,Y))throw new TypeError(`Cannot redefine property: ${String(X)}`)}},Ue=function(Z,J){const X=$D(Z);return Object.defineProperties(Object.create(X["%Object.prototype%"]),Object.getOwnPropertyDescriptors(J))},$D=function(Z){if(XD(Z,cX))return Z[cX];const J=Object.create(null);J["%Object.prototype%"]=Z.Object.prototype,J["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new Z.Array()[Symbol.iterator]()));try{J["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(Z.eval("(async function* () {})").prototype))}catch{J["%AsyncIteratorPrototype%"]=Le}return Z[cX]=J,J},Ve=function(Z,J,X){if(!Z[B9])Z[B9]=Object.create(null);if(J in Z[B9])return Z[B9][J];return Z[B9][J]=X(),Z[B9][J]},WD=function(Z){return Z?Z[YD]:null},HD=function(Z){return Z?Z[GD]:null},Re=function(Z){const J=WD(Z);return J?J:Z},we=function(Z){const J=HD(Z);return J?J:Z},Be=function(Z){if(typeof Z!=="string")return!1;const J=Z>>>0;if(J===4294967295)return!1;const X=`${J}`;if(Z!==X)return!1;return!0},Ne=function(Z){try{return Me.call(Z),!0}catch(J){return!1}},Ie=function([Z,J],X){let Y;switch(X){case"key":Y=Z;break;case"value":Y=J;break;case"key+value":Y=[Z,J];break}return{value:Y,done:!1}},XD=Function.prototype.call.bind(Object.prototype.hasOwnProperty),YD=Symbol("wrapper"),GD=Symbol("impl"),B9=Symbol("SameObject caches"),cX=Symbol.for("[webidl2js] constructor registry"),Le=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),Ae=Symbol("internal"),Me=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,De=Symbol("supports property index"),Ce=Symbol("supported property indices"),Pe=Symbol("supports property name"),Ee=Symbol("supported property names"),Te=Symbol("indexed property get"),je=Symbol("indexed property set new"),Oe=Symbol("indexed property set existing"),Se=Symbol("named property get"),ke=Symbol("named property set new"),_e=Symbol("named property set existing"),xe=Symbol("named property delete"),ge=Symbol("async iterator get the next iteration result"),fe=Symbol("async iterator return steps"),ye=Symbol("async iterator initialization steps"),be=Symbol("async iterator end of iteration");KD.exports=qD={isObject:ze,hasOwn:XD,define:Fe,newObjectInRealm:Ue,wrapperSymbol:YD,implSymbol:GD,getSameObject:Ve,ctorRegistrySymbol:cX,initCtorRegistry:$D,wrapperForImpl:WD,implForWrapper:HD,tryWrapperForImpl:Re,tryImplForWrapper:we,iterInternalSymbol:Ae,isArrayBuffer:Ne,isArrayIndexPropName:Be,supportsPropertyIndex:De,supportedPropertyIndices:Ce,supportsPropertyName:Pe,supportedPropertyNames:Ee,indexedGet:Te,indexedSetNew:je,indexedSetExisting:Oe,namedGet:Se,namedSetNew:ke,namedSetExisting:_e,namedDelete:xe,asyncIteratorNext:ge,asyncIteratorReturn:fe,asyncIteratorInit:ye,asyncIteratorEOI:be,iteratorResult:Ie}});var zD=R((FV1,QD)=>{var ve=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,he=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,ue=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,me=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,de=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,ce=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,le=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11FD5}-\u{11FF1}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,pe=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,ie=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,ne=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,ae=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1123E}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,se=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;QD.exports={combiningMarks:ve,combiningClassVirama:he,validZWNJ:ue,bidiDomain:me,bidiS1LTR:de,bidiS1RTL:ce,bidiS2:le,bidiS3:pe,bidiS4EN:ie,bidiS4AN:ne,bidiS5:ae,bidiS6:se}});var FD=R((UV1,re)=>{re.exports=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," \u0308"],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," \u0304"],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," \u0301"],[181,1,"\u03BC"],[182,2],[183,2],[184,5," \u0327"],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"1\u20444"],[189,1,"1\u20442"],[190,1,"3\u20444"],[191,2],[192,1,"\xE0"],[193,1,"\xE1"],[194,1,"\xE2"],[195,1,"\xE3"],[196,1,"\xE4"],[197,1,"\xE5"],[198,1,"\xE6"],[199,1,"\xE7"],[200,1,"\xE8"],[201,1,"\xE9"],[202,1,"\xEA"],[203,1,"\xEB"],[204,1,"\xEC"],[205,1,"\xED"],[206,1,"\xEE"],[207,1,"\xEF"],[208,1,"\xF0"],[209,1,"\xF1"],[210,1,"\xF2"],[211,1,"\xF3"],[212,1,"\xF4"],[213,1,"\xF5"],[214,1,"\xF6"],[215,2],[216,1,"\xF8"],[217,1,"\xF9"],[218,1,"\xFA"],[219,1,"\xFB"],[220,1,"\xFC"],[221,1,"\xFD"],[222,1,"\xFE"],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,"\u0101"],[257,2],[258,1,"\u0103"],[259,2],[260,1,"\u0105"],[261,2],[262,1,"\u0107"],[263,2],[264,1,"\u0109"],[265,2],[266,1,"\u010B"],[267,2],[268,1,"\u010D"],[269,2],[270,1,"\u010F"],[271,2],[272,1,"\u0111"],[273,2],[274,1,"\u0113"],[275,2],[276,1,"\u0115"],[277,2],[278,1,"\u0117"],[279,2],[280,1,"\u0119"],[281,2],[282,1,"\u011B"],[283,2],[284,1,"\u011D"],[285,2],[286,1,"\u011F"],[287,2],[288,1,"\u0121"],[289,2],[290,1,"\u0123"],[291,2],[292,1,"\u0125"],[293,2],[294,1,"\u0127"],[295,2],[296,1,"\u0129"],[297,2],[298,1,"\u012B"],[299,2],[300,1,"\u012D"],[301,2],[302,1,"\u012F"],[303,2],[304,1,"i\u0307"],[305,2],[[306,307],1,"ij"],[308,1,"\u0135"],[309,2],[310,1,"\u0137"],[[311,312],2],[313,1,"\u013A"],[314,2],[315,1,"\u013C"],[316,2],[317,1,"\u013E"],[318,2],[[319,320],1,"l\xB7"],[321,1,"\u0142"],[322,2],[323,1,"\u0144"],[324,2],[325,1,"\u0146"],[326,2],[327,1,"\u0148"],[328,2],[329,1,"\u02BCn"],[330,1,"\u014B"],[331,2],[332,1,"\u014D"],[333,2],[334,1,"\u014F"],[335,2],[336,1,"\u0151"],[337,2],[338,1,"\u0153"],[339,2],[340,1,"\u0155"],[341,2],[342,1,"\u0157"],[343,2],[344,1,"\u0159"],[345,2],[346,1,"\u015B"],[347,2],[348,1,"\u015D"],[349,2],[350,1,"\u015F"],[351,2],[352,1,"\u0161"],[353,2],[354,1,"\u0163"],[355,2],[356,1,"\u0165"],[357,2],[358,1,"\u0167"],[359,2],[360,1,"\u0169"],[361,2],[362,1,"\u016B"],[363,2],[364,1,"\u016D"],[365,2],[366,1,"\u016F"],[367,2],[368,1,"\u0171"],[369,2],[370,1,"\u0173"],[371,2],[372,1,"\u0175"],[373,2],[374,1,"\u0177"],[375,2],[376,1,"\xFF"],[377,1,"\u017A"],[378,2],[379,1,"\u017C"],[380,2],[381,1,"\u017E"],[382,2],[383,1,"s"],[384,2],[385,1,"\u0253"],[386,1,"\u0183"],[387,2],[388,1,"\u0185"],[389,2],[390,1,"\u0254"],[391,1,"\u0188"],[392,2],[393,1,"\u0256"],[394,1,"\u0257"],[395,1,"\u018C"],[[396,397],2],[398,1,"\u01DD"],[399,1,"\u0259"],[400,1,"\u025B"],[401,1,"\u0192"],[402,2],[403,1,"\u0260"],[404,1,"\u0263"],[405,2],[406,1,"\u0269"],[407,1,"\u0268"],[408,1,"\u0199"],[[409,411],2],[412,1,"\u026F"],[413,1,"\u0272"],[414,2],[415,1,"\u0275"],[416,1,"\u01A1"],[417,2],[418,1,"\u01A3"],[419,2],[420,1,"\u01A5"],[421,2],[422,1,"\u0280"],[423,1,"\u01A8"],[424,2],[425,1,"\u0283"],[[426,427],2],[428,1,"\u01AD"],[429,2],[430,1,"\u0288"],[431,1,"\u01B0"],[432,2],[433,1,"\u028A"],[434,1,"\u028B"],[435,1,"\u01B4"],[436,2],[437,1,"\u01B6"],[438,2],[439,1,"\u0292"],[440,1,"\u01B9"],[[441,443],2],[444,1,"\u01BD"],[[445,451],2],[[452,454],1,"d\u017E"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,"\u01CE"],[462,2],[463,1,"\u01D0"],[464,2],[465,1,"\u01D2"],[466,2],[467,1,"\u01D4"],[468,2],[469,1,"\u01D6"],[470,2],[471,1,"\u01D8"],[472,2],[473,1,"\u01DA"],[474,2],[475,1,"\u01DC"],[[476,477],2],[478,1,"\u01DF"],[479,2],[480,1,"\u01E1"],[481,2],[482,1,"\u01E3"],[483,2],[484,1,"\u01E5"],[485,2],[486,1,"\u01E7"],[487,2],[488,1,"\u01E9"],[489,2],[490,1,"\u01EB"],[491,2],[492,1,"\u01ED"],[493,2],[494,1,"\u01EF"],[[495,496],2],[[497,499],1,"dz"],[500,1,"\u01F5"],[501,2],[502,1,"\u0195"],[503,1,"\u01BF"],[504,1,"\u01F9"],[505,2],[506,1,"\u01FB"],[507,2],[508,1,"\u01FD"],[509,2],[510,1,"\u01FF"],[511,2],[512,1,"\u0201"],[513,2],[514,1,"\u0203"],[515,2],[516,1,"\u0205"],[517,2],[518,1,"\u0207"],[519,2],[520,1,"\u0209"],[521,2],[522,1,"\u020B"],[523,2],[524,1,"\u020D"],[525,2],[526,1,"\u020F"],[527,2],[528,1,"\u0211"],[529,2],[530,1,"\u0213"],[531,2],[532,1,"\u0215"],[533,2],[534,1,"\u0217"],[535,2],[536,1,"\u0219"],[537,2],[538,1,"\u021B"],[539,2],[540,1,"\u021D"],[541,2],[542,1,"\u021F"],[543,2],[544,1,"\u019E"],[545,2],[546,1,"\u0223"],[547,2],[548,1,"\u0225"],[549,2],[550,1,"\u0227"],[551,2],[552,1,"\u0229"],[553,2],[554,1,"\u022B"],[555,2],[556,1,"\u022D"],[557,2],[558,1,"\u022F"],[559,2],[560,1,"\u0231"],[561,2],[562,1,"\u0233"],[563,2],[[564,566],2],[[567,569],2],[570,1,"\u2C65"],[571,1,"\u023C"],[572,2],[573,1,"\u019A"],[574,1,"\u2C66"],[[575,576],2],[577,1,"\u0242"],[578,2],[579,1,"\u0180"],[580,1,"\u0289"],[581,1,"\u028C"],[582,1,"\u0247"],[583,2],[584,1,"\u0249"],[585,2],[586,1,"\u024B"],[587,2],[588,1,"\u024D"],[589,2],[590,1,"\u024F"],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,"\u0266"],[690,1,"j"],[691,1,"r"],[692,1,"\u0279"],[693,1,"\u027B"],[694,1,"\u0281"],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," \u0306"],[729,5," \u0307"],[730,5," \u030A"],[731,5," \u0328"],[732,5," \u0303"],[733,5," \u030B"],[734,2],[735,2],[736,1,"\u0263"],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,"\u0295"],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,"\u0300"],[833,1,"\u0301"],[834,2],[835,1,"\u0313"],[836,1,"\u0308\u0301"],[837,1,"\u03B9"],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,"\u0371"],[881,2],[882,1,"\u0373"],[883,2],[884,1,"\u02B9"],[885,2],[886,1,"\u0377"],[887,2],[[888,889],3],[890,5," \u03B9"],[[891,893],2],[894,5,";"],[895,1,"\u03F3"],[[896,899],3],[900,5," \u0301"],[901,5," \u0308\u0301"],[902,1,"\u03AC"],[903,1,"\xB7"],[904,1,"\u03AD"],[905,1,"\u03AE"],[906,1,"\u03AF"],[907,3],[908,1,"\u03CC"],[909,3],[910,1,"\u03CD"],[911,1,"\u03CE"],[912,2],[913,1,"\u03B1"],[914,1,"\u03B2"],[915,1,"\u03B3"],[916,1,"\u03B4"],[917,1,"\u03B5"],[918,1,"\u03B6"],[919,1,"\u03B7"],[920,1,"\u03B8"],[921,1,"\u03B9"],[922,1,"\u03BA"],[923,1,"\u03BB"],[924,1,"\u03BC"],[925,1,"\u03BD"],[926,1,"\u03BE"],[927,1,"\u03BF"],[928,1,"\u03C0"],[929,1,"\u03C1"],[930,3],[931,1,"\u03C3"],[932,1,"\u03C4"],[933,1,"\u03C5"],[934,1,"\u03C6"],[935,1,"\u03C7"],[936,1,"\u03C8"],[937,1,"\u03C9"],[938,1,"\u03CA"],[939,1,"\u03CB"],[[940,961],2],[962,6,"\u03C3"],[[963,974],2],[975,1,"\u03D7"],[976,1,"\u03B2"],[977,1,"\u03B8"],[978,1,"\u03C5"],[979,1,"\u03CD"],[980,1,"\u03CB"],[981,1,"\u03C6"],[982,1,"\u03C0"],[983,2],[984,1,"\u03D9"],[985,2],[986,1,"\u03DB"],[987,2],[988,1,"\u03DD"],[989,2],[990,1,"\u03DF"],[991,2],[992,1,"\u03E1"],[993,2],[994,1,"\u03E3"],[995,2],[996,1,"\u03E5"],[997,2],[998,1,"\u03E7"],[999,2],[1000,1,"\u03E9"],[1001,2],[1002,1,"\u03EB"],[1003,2],[1004,1,"\u03ED"],[1005,2],[1006,1,"\u03EF"],[1007,2],[1008,1,"\u03BA"],[1009,1,"\u03C1"],[1010,1,"\u03C3"],[1011,2],[1012,1,"\u03B8"],[1013,1,"\u03B5"],[1014,2],[1015,1,"\u03F8"],[1016,2],[1017,1,"\u03C3"],[1018,1,"\u03FB"],[1019,2],[1020,2],[1021,1,"\u037B"],[1022,1,"\u037C"],[1023,1,"\u037D"],[1024,1,"\u0450"],[1025,1,"\u0451"],[1026,1,"\u0452"],[1027,1,"\u0453"],[1028,1,"\u0454"],[1029,1,"\u0455"],[1030,1,"\u0456"],[1031,1,"\u0457"],[1032,1,"\u0458"],[1033,1,"\u0459"],[1034,1,"\u045A"],[1035,1,"\u045B"],[1036,1,"\u045C"],[1037,1,"\u045D"],[1038,1,"\u045E"],[1039,1,"\u045F"],[1040,1,"\u0430"],[1041,1,"\u0431"],[1042,1,"\u0432"],[1043,1,"\u0433"],[1044,1,"\u0434"],[1045,1,"\u0435"],[1046,1,"\u0436"],[1047,1,"\u0437"],[1048,1,"\u0438"],[1049,1,"\u0439"],[1050,1,"\u043A"],[1051,1,"\u043B"],[1052,1,"\u043C"],[1053,1,"\u043D"],[1054,1,"\u043E"],[1055,1,"\u043F"],[1056,1,"\u0440"],[1057,1,"\u0441"],[1058,1,"\u0442"],[1059,1,"\u0443"],[1060,1,"\u0444"],[1061,1,"\u0445"],[1062,1,"\u0446"],[1063,1,"\u0447"],[1064,1,"\u0448"],[1065,1,"\u0449"],[1066,1,"\u044A"],[1067,1,"\u044B"],[1068,1,"\u044C"],[1069,1,"\u044D"],[1070,1,"\u044E"],[1071,1,"\u044F"],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,"\u0461"],[1121,2],[1122,1,"\u0463"],[1123,2],[1124,1,"\u0465"],[1125,2],[1126,1,"\u0467"],[1127,2],[1128,1,"\u0469"],[1129,2],[1130,1,"\u046B"],[1131,2],[1132,1,"\u046D"],[1133,2],[1134,1,"\u046F"],[1135,2],[1136,1,"\u0471"],[1137,2],[1138,1,"\u0473"],[1139,2],[1140,1,"\u0475"],[1141,2],[1142,1,"\u0477"],[1143,2],[1144,1,"\u0479"],[1145,2],[1146,1,"\u047B"],[1147,2],[1148,1,"\u047D"],[1149,2],[1150,1,"\u047F"],[1151,2],[1152,1,"\u0481"],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,"\u048B"],[1163,2],[1164,1,"\u048D"],[1165,2],[1166,1,"\u048F"],[1167,2],[1168,1,"\u0491"],[1169,2],[1170,1,"\u0493"],[1171,2],[1172,1,"\u0495"],[1173,2],[1174,1,"\u0497"],[1175,2],[1176,1,"\u0499"],[1177,2],[1178,1,"\u049B"],[1179,2],[1180,1,"\u049D"],[1181,2],[1182,1,"\u049F"],[1183,2],[1184,1,"\u04A1"],[1185,2],[1186,1,"\u04A3"],[1187,2],[1188,1,"\u04A5"],[1189,2],[1190,1,"\u04A7"],[1191,2],[1192,1,"\u04A9"],[1193,2],[1194,1,"\u04AB"],[1195,2],[1196,1,"\u04AD"],[1197,2],[1198,1,"\u04AF"],[1199,2],[1200,1,"\u04B1"],[1201,2],[1202,1,"\u04B3"],[1203,2],[1204,1,"\u04B5"],[1205,2],[1206,1,"\u04B7"],[1207,2],[1208,1,"\u04B9"],[1209,2],[1210,1,"\u04BB"],[1211,2],[1212,1,"\u04BD"],[1213,2],[1214,1,"\u04BF"],[1215,2],[1216,3],[1217,1,"\u04C2"],[1218,2],[1219,1,"\u04C4"],[1220,2],[1221,1,"\u04C6"],[1222,2],[1223,1,"\u04C8"],[1224,2],[1225,1,"\u04CA"],[1226,2],[1227,1,"\u04CC"],[1228,2],[1229,1,"\u04CE"],[1230,2],[1231,2],[1232,1,"\u04D1"],[1233,2],[1234,1,"\u04D3"],[1235,2],[1236,1,"\u04D5"],[1237,2],[1238,1,"\u04D7"],[1239,2],[1240,1,"\u04D9"],[1241,2],[1242,1,"\u04DB"],[1243,2],[1244,1,"\u04DD"],[1245,2],[1246,1,"\u04DF"],[1247,2],[1248,1,"\u04E1"],[1249,2],[1250,1,"\u04E3"],[1251,2],[1252,1,"\u04E5"],[1253,2],[1254,1,"\u04E7"],[1255,2],[1256,1,"\u04E9"],[1257,2],[1258,1,"\u04EB"],[1259,2],[1260,1,"\u04ED"],[1261,2],[1262,1,"\u04EF"],[1263,2],[1264,1,"\u04F1"],[1265,2],[1266,1,"\u04F3"],[1267,2],[1268,1,"\u04F5"],[1269,2],[1270,1,"\u04F7"],[1271,2],[1272,1,"\u04F9"],[1273,2],[1274,1,"\u04FB"],[1275,2],[1276,1,"\u04FD"],[1277,2],[1278,1,"\u04FF"],[1279,2],[1280,1,"\u0501"],[1281,2],[1282,1,"\u0503"],[1283,2],[1284,1,"\u0505"],[1285,2],[1286,1,"\u0507"],[1287,2],[1288,1,"\u0509"],[1289,2],[1290,1,"\u050B"],[1291,2],[1292,1,"\u050D"],[1293,2],[1294,1,"\u050F"],[1295,2],[1296,1,"\u0511"],[1297,2],[1298,1,"\u0513"],[1299,2],[1300,1,"\u0515"],[1301,2],[1302,1,"\u0517"],[1303,2],[1304,1,"\u0519"],[1305,2],[1306,1,"\u051B"],[1307,2],[1308,1,"\u051D"],[1309,2],[1310,1,"\u051F"],[1311,2],[1312,1,"\u0521"],[1313,2],[1314,1,"\u0523"],[1315,2],[1316,1,"\u0525"],[1317,2],[1318,1,"\u0527"],[1319,2],[1320,1,"\u0529"],[1321,2],[1322,1,"\u052B"],[1323,2],[1324,1,"\u052D"],[1325,2],[1326,1,"\u052F"],[1327,2],[1328,3],[1329,1,"\u0561"],[1330,1,"\u0562"],[1331,1,"\u0563"],[1332,1,"\u0564"],[1333,1,"\u0565"],[1334,1,"\u0566"],[1335,1,"\u0567"],[1336,1,"\u0568"],[1337,1,"\u0569"],[1338,1,"\u056A"],[1339,1,"\u056B"],[1340,1,"\u056C"],[1341,1,"\u056D"],[1342,1,"\u056E"],[1343,1,"\u056F"],[1344,1,"\u0570"],[1345,1,"\u0571"],[1346,1,"\u0572"],[1347,1,"\u0573"],[1348,1,"\u0574"],[1349,1,"\u0575"],[1350,1,"\u0576"],[1351,1,"\u0577"],[1352,1,"\u0578"],[1353,1,"\u0579"],[1354,1,"\u057A"],[1355,1,"\u057B"],[1356,1,"\u057C"],[1357,1,"\u057D"],[1358,1,"\u057E"],[1359,1,"\u057F"],[1360,1,"\u0580"],[1361,1,"\u0581"],[1362,1,"\u0582"],[1363,1,"\u0583"],[1364,1,"\u0584"],[1365,1,"\u0585"],[1366,1,"\u0586"],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,"\u0565\u0582"],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,"\u0627\u0674"],[1654,1,"\u0648\u0674"],[1655,1,"\u06C7\u0674"],[1656,1,"\u064A\u0674"],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,"\u0915\u093C"],[2393,1,"\u0916\u093C"],[2394,1,"\u0917\u093C"],[2395,1,"\u091C\u093C"],[2396,1,"\u0921\u093C"],[2397,1,"\u0922\u093C"],[2398,1,"\u092B\u093C"],[2399,1,"\u092F\u093C"],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,"\u09A1\u09BC"],[2525,1,"\u09A2\u09BC"],[2526,3],[2527,1,"\u09AF\u09BC"],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,"\u0A32\u0A3C"],[2612,3],[2613,2],[2614,1,"\u0A38\u0A3C"],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,"\u0A16\u0A3C"],[2650,1,"\u0A17\u0A3C"],[2651,1,"\u0A1C\u0A3C"],[2652,2],[2653,3],[2654,1,"\u0A2B\u0A3C"],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,"\u0B21\u0B3C"],[2909,1,"\u0B22\u0B3C"],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[[3315,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,"\u0E4D\u0E32"],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,"\u0ECD\u0EB2"],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[[3790,3791],3],[[3792,3801],2],[[3802,3803],3],[3804,1,"\u0EAB\u0E99"],[3805,1,"\u0EAB\u0EA1"],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,"\u0F0B"],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,"\u0F42\u0FB7"],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,"\u0F4C\u0FB7"],[[3918,3921],2],[3922,1,"\u0F51\u0FB7"],[[3923,3926],2],[3927,1,"\u0F56\u0FB7"],[[3928,3931],2],[3932,1,"\u0F5B\u0FB7"],[[3933,3944],2],[3945,1,"\u0F40\u0FB5"],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,"\u0F71\u0F72"],[3956,2],[3957,1,"\u0F71\u0F74"],[3958,1,"\u0FB2\u0F80"],[3959,1,"\u0FB2\u0F71\u0F80"],[3960,1,"\u0FB3\u0F80"],[3961,1,"\u0FB3\u0F71\u0F80"],[[3962,3968],2],[3969,1,"\u0F71\u0F80"],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,"\u0F92\u0FB7"],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,"\u0F9C\u0FB7"],[[3998,4001],2],[4002,1,"\u0FA1\u0FB7"],[[4003,4006],2],[4007,1,"\u0FA6\u0FB7"],[[4008,4011],2],[4012,1,"\u0FAB\u0FB7"],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,"\u0F90\u0FB5"],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,"\u2D27"],[[4296,4300],3],[4301,1,"\u2D2D"],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,"\u10DC"],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,"\u13F0"],[5113,1,"\u13F1"],[5114,1,"\u13F2"],[5115,1,"\u13F3"],[5116,1,"\u13F4"],[5117,1,"\u13F5"],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6000],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,"\u0432"],[7297,1,"\u0434"],[7298,1,"\u043E"],[7299,1,"\u0441"],[[7300,7301],1,"\u0442"],[7302,1,"\u044A"],[7303,1,"\u0463"],[7304,1,"\uA64B"],[[7305,7311],3],[7312,1,"\u10D0"],[7313,1,"\u10D1"],[7314,1,"\u10D2"],[7315,1,"\u10D3"],[7316,1,"\u10D4"],[7317,1,"\u10D5"],[7318,1,"\u10D6"],[7319,1,"\u10D7"],[7320,1,"\u10D8"],[7321,1,"\u10D9"],[7322,1,"\u10DA"],[7323,1,"\u10DB"],[7324,1,"\u10DC"],[7325,1,"\u10DD"],[7326,1,"\u10DE"],[7327,1,"\u10DF"],[7328,1,"\u10E0"],[7329,1,"\u10E1"],[7330,1,"\u10E2"],[7331,1,"\u10E3"],[7332,1,"\u10E4"],[7333,1,"\u10E5"],[7334,1,"\u10E6"],[7335,1,"\u10E7"],[7336,1,"\u10E8"],[7337,1,"\u10E9"],[7338,1,"\u10EA"],[7339,1,"\u10EB"],[7340,1,"\u10EC"],[7341,1,"\u10ED"],[7342,1,"\u10EE"],[7343,1,"\u10EF"],[7344,1,"\u10F0"],[7345,1,"\u10F1"],[7346,1,"\u10F2"],[7347,1,"\u10F3"],[7348,1,"\u10F4"],[7349,1,"\u10F5"],[7350,1,"\u10F6"],[7351,1,"\u10F7"],[7352,1,"\u10F8"],[7353,1,"\u10F9"],[7354,1,"\u10FA"],[[7355,7356],3],[7357,1,"\u10FD"],[7358,1,"\u10FE"],[7359,1,"\u10FF"],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,"\xE6"],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,"\u01DD"],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,"\u0223"],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,"\u0250"],[7493,1,"\u0251"],[7494,1,"\u1D02"],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,"\u0259"],[7499,1,"\u025B"],[7500,1,"\u025C"],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,"\u014B"],[7506,1,"o"],[7507,1,"\u0254"],[7508,1,"\u1D16"],[7509,1,"\u1D17"],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,"\u1D1D"],[7514,1,"\u026F"],[7515,1,"v"],[7516,1,"\u1D25"],[7517,1,"\u03B2"],[7518,1,"\u03B3"],[7519,1,"\u03B4"],[7520,1,"\u03C6"],[7521,1,"\u03C7"],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,"\u03B2"],[7527,1,"\u03B3"],[7528,1,"\u03C1"],[7529,1,"\u03C6"],[7530,1,"\u03C7"],[7531,2],[[7532,7543],2],[7544,1,"\u043D"],[[7545,7578],2],[7579,1,"\u0252"],[7580,1,"c"],[7581,1,"\u0255"],[7582,1,"\xF0"],[7583,1,"\u025C"],[7584,1,"f"],[7585,1,"\u025F"],[7586,1,"\u0261"],[7587,1,"\u0265"],[7588,1,"\u0268"],[7589,1,"\u0269"],[7590,1,"\u026A"],[7591,1,"\u1D7B"],[7592,1,"\u029D"],[7593,1,"\u026D"],[7594,1,"\u1D85"],[7595,1,"\u029F"],[7596,1,"\u0271"],[7597,1,"\u0270"],[7598,1,"\u0272"],[7599,1,"\u0273"],[7600,1,"\u0274"],[7601,1,"\u0275"],[7602,1,"\u0278"],[7603,1,"\u0282"],[7604,1,"\u0283"],[7605,1,"\u01AB"],[7606,1,"\u0289"],[7607,1,"\u028A"],[7608,1,"\u1D1C"],[7609,1,"\u028B"],[7610,1,"\u028C"],[7611,1,"z"],[7612,1,"\u0290"],[7613,1,"\u0291"],[7614,1,"\u0292"],[7615,1,"\u03B8"],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,"\u1E01"],[7681,2],[7682,1,"\u1E03"],[7683,2],[7684,1,"\u1E05"],[7685,2],[7686,1,"\u1E07"],[7687,2],[7688,1,"\u1E09"],[7689,2],[7690,1,"\u1E0B"],[7691,2],[7692,1,"\u1E0D"],[7693,2],[7694,1,"\u1E0F"],[7695,2],[7696,1,"\u1E11"],[7697,2],[7698,1,"\u1E13"],[7699,2],[7700,1,"\u1E15"],[7701,2],[7702,1,"\u1E17"],[7703,2],[7704,1,"\u1E19"],[7705,2],[7706,1,"\u1E1B"],[7707,2],[7708,1,"\u1E1D"],[7709,2],[7710,1,"\u1E1F"],[7711,2],[7712,1,"\u1E21"],[7713,2],[7714,1,"\u1E23"],[7715,2],[7716,1,"\u1E25"],[7717,2],[7718,1,"\u1E27"],[7719,2],[7720,1,"\u1E29"],[7721,2],[7722,1,"\u1E2B"],[7723,2],[7724,1,"\u1E2D"],[7725,2],[7726,1,"\u1E2F"],[7727,2],[7728,1,"\u1E31"],[7729,2],[7730,1,"\u1E33"],[7731,2],[7732,1,"\u1E35"],[7733,2],[7734,1,"\u1E37"],[7735,2],[7736,1,"\u1E39"],[7737,2],[7738,1,"\u1E3B"],[7739,2],[7740,1,"\u1E3D"],[7741,2],[7742,1,"\u1E3F"],[7743,2],[7744,1,"\u1E41"],[7745,2],[7746,1,"\u1E43"],[7747,2],[7748,1,"\u1E45"],[7749,2],[7750,1,"\u1E47"],[7751,2],[7752,1,"\u1E49"],[7753,2],[7754,1,"\u1E4B"],[7755,2],[7756,1,"\u1E4D"],[7757,2],[7758,1,"\u1E4F"],[7759,2],[7760,1,"\u1E51"],[7761,2],[7762,1,"\u1E53"],[7763,2],[7764,1,"\u1E55"],[7765,2],[7766,1,"\u1E57"],[7767,2],[7768,1,"\u1E59"],[7769,2],[7770,1,"\u1E5B"],[7771,2],[7772,1,"\u1E5D"],[7773,2],[7774,1,"\u1E5F"],[7775,2],[7776,1,"\u1E61"],[7777,2],[7778,1,"\u1E63"],[7779,2],[7780,1,"\u1E65"],[7781,2],[7782,1,"\u1E67"],[7783,2],[7784,1,"\u1E69"],[7785,2],[7786,1,"\u1E6B"],[7787,2],[7788,1,"\u1E6D"],[7789,2],[7790,1,"\u1E6F"],[7791,2],[7792,1,"\u1E71"],[7793,2],[7794,1,"\u1E73"],[7795,2],[7796,1,"\u1E75"],[7797,2],[7798,1,"\u1E77"],[7799,2],[7800,1,"\u1E79"],[7801,2],[7802,1,"\u1E7B"],[7803,2],[7804,1,"\u1E7D"],[7805,2],[7806,1,"\u1E7F"],[7807,2],[7808,1,"\u1E81"],[7809,2],[7810,1,"\u1E83"],[7811,2],[7812,1,"\u1E85"],[7813,2],[7814,1,"\u1E87"],[7815,2],[7816,1,"\u1E89"],[7817,2],[7818,1,"\u1E8B"],[7819,2],[7820,1,"\u1E8D"],[7821,2],[7822,1,"\u1E8F"],[7823,2],[7824,1,"\u1E91"],[7825,2],[7826,1,"\u1E93"],[7827,2],[7828,1,"\u1E95"],[[7829,7833],2],[7834,1,"a\u02BE"],[7835,1,"\u1E61"],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,"\u1EA1"],[7841,2],[7842,1,"\u1EA3"],[7843,2],[7844,1,"\u1EA5"],[7845,2],[7846,1,"\u1EA7"],[7847,2],[7848,1,"\u1EA9"],[7849,2],[7850,1,"\u1EAB"],[7851,2],[7852,1,"\u1EAD"],[7853,2],[7854,1,"\u1EAF"],[7855,2],[7856,1,"\u1EB1"],[7857,2],[7858,1,"\u1EB3"],[7859,2],[7860,1,"\u1EB5"],[7861,2],[7862,1,"\u1EB7"],[7863,2],[7864,1,"\u1EB9"],[7865,2],[7866,1,"\u1EBB"],[7867,2],[7868,1,"\u1EBD"],[7869,2],[7870,1,"\u1EBF"],[7871,2],[7872,1,"\u1EC1"],[7873,2],[7874,1,"\u1EC3"],[7875,2],[7876,1,"\u1EC5"],[7877,2],[7878,1,"\u1EC7"],[7879,2],[7880,1,"\u1EC9"],[7881,2],[7882,1,"\u1ECB"],[7883,2],[7884,1,"\u1ECD"],[7885,2],[7886,1,"\u1ECF"],[7887,2],[7888,1,"\u1ED1"],[7889,2],[7890,1,"\u1ED3"],[7891,2],[7892,1,"\u1ED5"],[7893,2],[7894,1,"\u1ED7"],[7895,2],[7896,1,"\u1ED9"],[7897,2],[7898,1,"\u1EDB"],[7899,2],[7900,1,"\u1EDD"],[7901,2],[7902,1,"\u1EDF"],[7903,2],[7904,1,"\u1EE1"],[7905,2],[7906,1,"\u1EE3"],[7907,2],[7908,1,"\u1EE5"],[7909,2],[7910,1,"\u1EE7"],[7911,2],[7912,1,"\u1EE9"],[7913,2],[7914,1,"\u1EEB"],[7915,2],[7916,1,"\u1EED"],[7917,2],[7918,1,"\u1EEF"],[7919,2],[7920,1,"\u1EF1"],[7921,2],[7922,1,"\u1EF3"],[7923,2],[7924,1,"\u1EF5"],[7925,2],[7926,1,"\u1EF7"],[7927,2],[7928,1,"\u1EF9"],[7929,2],[7930,1,"\u1EFB"],[7931,2],[7932,1,"\u1EFD"],[7933,2],[7934,1,"\u1EFF"],[7935,2],[[7936,7943],2],[7944,1,"\u1F00"],[7945,1,"\u1F01"],[7946,1,"\u1F02"],[7947,1,"\u1F03"],[7948,1,"\u1F04"],[7949,1,"\u1F05"],[7950,1,"\u1F06"],[7951,1,"\u1F07"],[[7952,7957],2],[[7958,7959],3],[7960,1,"\u1F10"],[7961,1,"\u1F11"],[7962,1,"\u1F12"],[7963,1,"\u1F13"],[7964,1,"\u1F14"],[7965,1,"\u1F15"],[[7966,7967],3],[[7968,7975],2],[7976,1,"\u1F20"],[7977,1,"\u1F21"],[7978,1,"\u1F22"],[7979,1,"\u1F23"],[7980,1,"\u1F24"],[7981,1,"\u1F25"],[7982,1,"\u1F26"],[7983,1,"\u1F27"],[[7984,7991],2],[7992,1,"\u1F30"],[7993,1,"\u1F31"],[7994,1,"\u1F32"],[7995,1,"\u1F33"],[7996,1,"\u1F34"],[7997,1,"\u1F35"],[7998,1,"\u1F36"],[7999,1,"\u1F37"],[[8000,8005],2],[[8006,8007],3],[8008,1,"\u1F40"],[8009,1,"\u1F41"],[8010,1,"\u1F42"],[8011,1,"\u1F43"],[8012,1,"\u1F44"],[8013,1,"\u1F45"],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,"\u1F51"],[8026,3],[8027,1,"\u1F53"],[8028,3],[8029,1,"\u1F55"],[8030,3],[8031,1,"\u1F57"],[[8032,8039],2],[8040,1,"\u1F60"],[8041,1,"\u1F61"],[8042,1,"\u1F62"],[8043,1,"\u1F63"],[8044,1,"\u1F64"],[8045,1,"\u1F65"],[8046,1,"\u1F66"],[8047,1,"\u1F67"],[8048,2],[8049,1,"\u03AC"],[8050,2],[8051,1,"\u03AD"],[8052,2],[8053,1,"\u03AE"],[8054,2],[8055,1,"\u03AF"],[8056,2],[8057,1,"\u03CC"],[8058,2],[8059,1,"\u03CD"],[8060,2],[8061,1,"\u03CE"],[[8062,8063],3],[8064,1,"\u1F00\u03B9"],[8065,1,"\u1F01\u03B9"],[8066,1,"\u1F02\u03B9"],[8067,1,"\u1F03\u03B9"],[8068,1,"\u1F04\u03B9"],[8069,1,"\u1F05\u03B9"],[8070,1,"\u1F06\u03B9"],[8071,1,"\u1F07\u03B9"],[8072,1,"\u1F00\u03B9"],[8073,1,"\u1F01\u03B9"],[8074,1,"\u1F02\u03B9"],[8075,1,"\u1F03\u03B9"],[8076,1,"\u1F04\u03B9"],[8077,1,"\u1F05\u03B9"],[8078,1,"\u1F06\u03B9"],[8079,1,"\u1F07\u03B9"],[8080,1,"\u1F20\u03B9"],[8081,1,"\u1F21\u03B9"],[8082,1,"\u1F22\u03B9"],[8083,1,"\u1F23\u03B9"],[8084,1,"\u1F24\u03B9"],[8085,1,"\u1F25\u03B9"],[8086,1,"\u1F26\u03B9"],[8087,1,"\u1F27\u03B9"],[8088,1,"\u1F20\u03B9"],[8089,1,"\u1F21\u03B9"],[8090,1,"\u1F22\u03B9"],[8091,1,"\u1F23\u03B9"],[8092,1,"\u1F24\u03B9"],[8093,1,"\u1F25\u03B9"],[8094,1,"\u1F26\u03B9"],[8095,1,"\u1F27\u03B9"],[8096,1,"\u1F60\u03B9"],[8097,1,"\u1F61\u03B9"],[8098,1,"\u1F62\u03B9"],[8099,1,"\u1F63\u03B9"],[8100,1,"\u1F64\u03B9"],[8101,1,"\u1F65\u03B9"],[8102,1,"\u1F66\u03B9"],[8103,1,"\u1F67\u03B9"],[8104,1,"\u1F60\u03B9"],[8105,1,"\u1F61\u03B9"],[8106,1,"\u1F62\u03B9"],[8107,1,"\u1F63\u03B9"],[8108,1,"\u1F64\u03B9"],[8109,1,"\u1F65\u03B9"],[8110,1,"\u1F66\u03B9"],[8111,1,"\u1F67\u03B9"],[[8112,8113],2],[8114,1,"\u1F70\u03B9"],[8115,1,"\u03B1\u03B9"],[8116,1,"\u03AC\u03B9"],[8117,3],[8118,2],[8119,1,"\u1FB6\u03B9"],[8120,1,"\u1FB0"],[8121,1,"\u1FB1"],[8122,1,"\u1F70"],[8123,1,"\u03AC"],[8124,1,"\u03B1\u03B9"],[8125,5," \u0313"],[8126,1,"\u03B9"],[8127,5," \u0313"],[8128,5," \u0342"],[8129,5," \u0308\u0342"],[8130,1,"\u1F74\u03B9"],[8131,1,"\u03B7\u03B9"],[8132,1,"\u03AE\u03B9"],[8133,3],[8134,2],[8135,1,"\u1FC6\u03B9"],[8136,1,"\u1F72"],[8137,1,"\u03AD"],[8138,1,"\u1F74"],[8139,1,"\u03AE"],[8140,1,"\u03B7\u03B9"],[8141,5," \u0313\u0300"],[8142,5," \u0313\u0301"],[8143,5," \u0313\u0342"],[[8144,8146],2],[8147,1,"\u0390"],[[8148,8149],3],[[8150,8151],2],[8152,1,"\u1FD0"],[8153,1,"\u1FD1"],[8154,1,"\u1F76"],[8155,1,"\u03AF"],[8156,3],[8157,5," \u0314\u0300"],[8158,5," \u0314\u0301"],[8159,5," \u0314\u0342"],[[8160,8162],2],[8163,1,"\u03B0"],[[8164,8167],2],[8168,1,"\u1FE0"],[8169,1,"\u1FE1"],[8170,1,"\u1F7A"],[8171,1,"\u03CD"],[8172,1,"\u1FE5"],[8173,5," \u0308\u0300"],[8174,5," \u0308\u0301"],[8175,5,"`"],[[8176,8177],3],[8178,1,"\u1F7C\u03B9"],[8179,1,"\u03C9\u03B9"],[8180,1,"\u03CE\u03B9"],[8181,3],[8182,2],[8183,1,"\u1FF6\u03B9"],[8184,1,"\u1F78"],[8185,1,"\u03CC"],[8186,1,"\u1F7C"],[8187,1,"\u03CE"],[8188,1,"\u03C9\u03B9"],[8189,5," \u0301"],[8190,5," \u0314"],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,"\u2010"],[[8210,8214],2],[8215,5," \u0333"],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,"\u2032\u2032"],[8244,1,"\u2032\u2032\u2032"],[8245,2],[8246,1,"\u2035\u2035"],[8247,1,"\u2035\u2035\u2035"],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," \u0305"],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,"\u2032\u2032\u2032\u2032"],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,"\u2212"],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,"\u2212"],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,"\u0259"],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"\xB0c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,"\u025B"],[8456,2],[8457,1,"\xB0f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,"\u0127"],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,"\u03C9"],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,"\xE5"],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,"\u05D0"],[8502,1,"\u05D1"],[8503,1,"\u05D2"],[8504,1,"\u05D3"],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,"\u03C0"],[[8509,8510],1,"\u03B3"],[8511,1,"\u03C0"],[8512,1,"\u2211"],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"1\u20447"],[8529,1,"1\u20449"],[8530,1,"1\u204410"],[8531,1,"1\u20443"],[8532,1,"2\u20443"],[8533,1,"1\u20445"],[8534,1,"2\u20445"],[8535,1,"3\u20445"],[8536,1,"4\u20445"],[8537,1,"1\u20446"],[8538,1,"5\u20446"],[8539,1,"1\u20448"],[8540,1,"3\u20448"],[8541,1,"5\u20448"],[8542,1,"7\u20448"],[8543,1,"1\u2044"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"0\u20443"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,"\u222B\u222B"],[8749,1,"\u222B\u222B\u222B"],[8750,2],[8751,1,"\u222E\u222E"],[8752,1,"\u222E\u222E\u222E"],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9000],2],[9001,1,"\u3008"],[9002,1,"\u3009"],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,"\u222B\u222B\u222B\u222B"],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,"\u2ADD\u0338"],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,"\u2C30"],[11265,1,"\u2C31"],[11266,1,"\u2C32"],[11267,1,"\u2C33"],[11268,1,"\u2C34"],[11269,1,"\u2C35"],[11270,1,"\u2C36"],[11271,1,"\u2C37"],[11272,1,"\u2C38"],[11273,1,"\u2C39"],[11274,1,"\u2C3A"],[11275,1,"\u2C3B"],[11276,1,"\u2C3C"],[11277,1,"\u2C3D"],[11278,1,"\u2C3E"],[11279,1,"\u2C3F"],[11280,1,"\u2C40"],[11281,1,"\u2C41"],[11282,1,"\u2C42"],[11283,1,"\u2C43"],[11284,1,"\u2C44"],[11285,1,"\u2C45"],[11286,1,"\u2C46"],[11287,1,"\u2C47"],[11288,1,"\u2C48"],[11289,1,"\u2C49"],[11290,1,"\u2C4A"],[11291,1,"\u2C4B"],[11292,1,"\u2C4C"],[11293,1,"\u2C4D"],[11294,1,"\u2C4E"],[11295,1,"\u2C4F"],[11296,1,"\u2C50"],[11297,1,"\u2C51"],[11298,1,"\u2C52"],[11299,1,"\u2C53"],[11300,1,"\u2C54"],[11301,1,"\u2C55"],[11302,1,"\u2C56"],[11303,1,"\u2C57"],[11304,1,"\u2C58"],[11305,1,"\u2C59"],[11306,1,"\u2C5A"],[11307,1,"\u2C5B"],[11308,1,"\u2C5C"],[11309,1,"\u2C5D"],[11310,1,"\u2C5E"],[11311,1,"\u2C5F"],[[11312,11358],2],[11359,2],[11360,1,"\u2C61"],[11361,2],[11362,1,"\u026B"],[11363,1,"\u1D7D"],[11364,1,"\u027D"],[[11365,11366],2],[11367,1,"\u2C68"],[11368,2],[11369,1,"\u2C6A"],[11370,2],[11371,1,"\u2C6C"],[11372,2],[11373,1,"\u0251"],[11374,1,"\u0271"],[11375,1,"\u0250"],[11376,1,"\u0252"],[11377,2],[11378,1,"\u2C73"],[11379,2],[11380,2],[11381,1,"\u2C76"],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,"\u023F"],[11391,1,"\u0240"],[11392,1,"\u2C81"],[11393,2],[11394,1,"\u2C83"],[11395,2],[11396,1,"\u2C85"],[11397,2],[11398,1,"\u2C87"],[11399,2],[11400,1,"\u2C89"],[11401,2],[11402,1,"\u2C8B"],[11403,2],[11404,1,"\u2C8D"],[11405,2],[11406,1,"\u2C8F"],[11407,2],[11408,1,"\u2C91"],[11409,2],[11410,1,"\u2C93"],[11411,2],[11412,1,"\u2C95"],[11413,2],[11414,1,"\u2C97"],[11415,2],[11416,1,"\u2C99"],[11417,2],[11418,1,"\u2C9B"],[11419,2],[11420,1,"\u2C9D"],[11421,2],[11422,1,"\u2C9F"],[11423,2],[11424,1,"\u2CA1"],[11425,2],[11426,1,"\u2CA3"],[11427,2],[11428,1,"\u2CA5"],[11429,2],[11430,1,"\u2CA7"],[11431,2],[11432,1,"\u2CA9"],[11433,2],[11434,1,"\u2CAB"],[11435,2],[11436,1,"\u2CAD"],[11437,2],[11438,1,"\u2CAF"],[11439,2],[11440,1,"\u2CB1"],[11441,2],[11442,1,"\u2CB3"],[11443,2],[11444,1,"\u2CB5"],[11445,2],[11446,1,"\u2CB7"],[11447,2],[11448,1,"\u2CB9"],[11449,2],[11450,1,"\u2CBB"],[11451,2],[11452,1,"\u2CBD"],[11453,2],[11454,1,"\u2CBF"],[11455,2],[11456,1,"\u2CC1"],[11457,2],[11458,1,"\u2CC3"],[11459,2],[11460,1,"\u2CC5"],[11461,2],[11462,1,"\u2CC7"],[11463,2],[11464,1,"\u2CC9"],[11465,2],[11466,1,"\u2CCB"],[11467,2],[11468,1,"\u2CCD"],[11469,2],[11470,1,"\u2CCF"],[11471,2],[11472,1,"\u2CD1"],[11473,2],[11474,1,"\u2CD3"],[11475,2],[11476,1,"\u2CD5"],[11477,2],[11478,1,"\u2CD7"],[11479,2],[11480,1,"\u2CD9"],[11481,2],[11482,1,"\u2CDB"],[11483,2],[11484,1,"\u2CDD"],[11485,2],[11486,1,"\u2CDF"],[11487,2],[11488,1,"\u2CE1"],[11489,2],[11490,1,"\u2CE3"],[[11491,11492],2],[[11493,11498],2],[11499,1,"\u2CEC"],[11500,2],[11501,1,"\u2CEE"],[[11502,11505],2],[11506,1,"\u2CF3"],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,"\u2D61"],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,"\u6BCD"],[[11936,12018],2],[12019,1,"\u9F9F"],[[12020,12031],3],[12032,1,"\u4E00"],[12033,1,"\u4E28"],[12034,1,"\u4E36"],[12035,1,"\u4E3F"],[12036,1,"\u4E59"],[12037,1,"\u4E85"],[12038,1,"\u4E8C"],[12039,1,"\u4EA0"],[12040,1,"\u4EBA"],[12041,1,"\u513F"],[12042,1,"\u5165"],[12043,1,"\u516B"],[12044,1,"\u5182"],[12045,1,"\u5196"],[12046,1,"\u51AB"],[12047,1,"\u51E0"],[12048,1,"\u51F5"],[12049,1,"\u5200"],[12050,1,"\u529B"],[12051,1,"\u52F9"],[12052,1,"\u5315"],[12053,1,"\u531A"],[12054,1,"\u5338"],[12055,1,"\u5341"],[12056,1,"\u535C"],[12057,1,"\u5369"],[12058,1,"\u5382"],[12059,1,"\u53B6"],[12060,1,"\u53C8"],[12061,1,"\u53E3"],[12062,1,"\u56D7"],[12063,1,"\u571F"],[12064,1,"\u58EB"],[12065,1,"\u5902"],[12066,1,"\u590A"],[12067,1,"\u5915"],[12068,1,"\u5927"],[12069,1,"\u5973"],[12070,1,"\u5B50"],[12071,1,"\u5B80"],[12072,1,"\u5BF8"],[12073,1,"\u5C0F"],[12074,1,"\u5C22"],[12075,1,"\u5C38"],[12076,1,"\u5C6E"],[12077,1,"\u5C71"],[12078,1,"\u5DDB"],[12079,1,"\u5DE5"],[12080,1,"\u5DF1"],[12081,1,"\u5DFE"],[12082,1,"\u5E72"],[12083,1,"\u5E7A"],[12084,1,"\u5E7F"],[12085,1,"\u5EF4"],[12086,1,"\u5EFE"],[12087,1,"\u5F0B"],[12088,1,"\u5F13"],[12089,1,"\u5F50"],[12090,1,"\u5F61"],[12091,1,"\u5F73"],[12092,1,"\u5FC3"],[12093,1,"\u6208"],[12094,1,"\u6236"],[12095,1,"\u624B"],[12096,1,"\u652F"],[12097,1,"\u6534"],[12098,1,"\u6587"],[12099,1,"\u6597"],[12100,1,"\u65A4"],[12101,1,"\u65B9"],[12102,1,"\u65E0"],[12103,1,"\u65E5"],[12104,1,"\u66F0"],[12105,1,"\u6708"],[12106,1,"\u6728"],[12107,1,"\u6B20"],[12108,1,"\u6B62"],[12109,1,"\u6B79"],[12110,1,"\u6BB3"],[12111,1,"\u6BCB"],[12112,1,"\u6BD4"],[12113,1,"\u6BDB"],[12114,1,"\u6C0F"],[12115,1,"\u6C14"],[12116,1,"\u6C34"],[12117,1,"\u706B"],[12118,1,"\u722A"],[12119,1,"\u7236"],[12120,1,"\u723B"],[12121,1,"\u723F"],[12122,1,"\u7247"],[12123,1,"\u7259"],[12124,1,"\u725B"],[12125,1,"\u72AC"],[12126,1,"\u7384"],[12127,1,"\u7389"],[12128,1,"\u74DC"],[12129,1,"\u74E6"],[12130,1,"\u7518"],[12131,1,"\u751F"],[12132,1,"\u7528"],[12133,1,"\u7530"],[12134,1,"\u758B"],[12135,1,"\u7592"],[12136,1,"\u7676"],[12137,1,"\u767D"],[12138,1,"\u76AE"],[12139,1,"\u76BF"],[12140,1,"\u76EE"],[12141,1,"\u77DB"],[12142,1,"\u77E2"],[12143,1,"\u77F3"],[12144,1,"\u793A"],[12145,1,"\u79B8"],[12146,1,"\u79BE"],[12147,1,"\u7A74"],[12148,1,"\u7ACB"],[12149,1,"\u7AF9"],[12150,1,"\u7C73"],[12151,1,"\u7CF8"],[12152,1,"\u7F36"],[12153,1,"\u7F51"],[12154,1,"\u7F8A"],[12155,1,"\u7FBD"],[12156,1,"\u8001"],[12157,1,"\u800C"],[12158,1,"\u8012"],[12159,1,"\u8033"],[12160,1,"\u807F"],[12161,1,"\u8089"],[12162,1,"\u81E3"],[12163,1,"\u81EA"],[12164,1,"\u81F3"],[12165,1,"\u81FC"],[12166,1,"\u820C"],[12167,1,"\u821B"],[12168,1,"\u821F"],[12169,1,"\u826E"],[12170,1,"\u8272"],[12171,1,"\u8278"],[12172,1,"\u864D"],[12173,1,"\u866B"],[12174,1,"\u8840"],[12175,1,"\u884C"],[12176,1,"\u8863"],[12177,1,"\u897E"],[12178,1,"\u898B"],[12179,1,"\u89D2"],[12180,1,"\u8A00"],[12181,1,"\u8C37"],[12182,1,"\u8C46"],[12183,1,"\u8C55"],[12184,1,"\u8C78"],[12185,1,"\u8C9D"],[12186,1,"\u8D64"],[12187,1,"\u8D70"],[12188,1,"\u8DB3"],[12189,1,"\u8EAB"],[12190,1,"\u8ECA"],[12191,1,"\u8F9B"],[12192,1,"\u8FB0"],[12193,1,"\u8FB5"],[12194,1,"\u9091"],[12195,1,"\u9149"],[12196,1,"\u91C6"],[12197,1,"\u91CC"],[12198,1,"\u91D1"],[12199,1,"\u9577"],[12200,1,"\u9580"],[12201,1,"\u961C"],[12202,1,"\u96B6"],[12203,1,"\u96B9"],[12204,1,"\u96E8"],[12205,1,"\u9751"],[12206,1,"\u975E"],[12207,1,"\u9762"],[12208,1,"\u9769"],[12209,1,"\u97CB"],[12210,1,"\u97ED"],[12211,1,"\u97F3"],[12212,1,"\u9801"],[12213,1,"\u98A8"],[12214,1,"\u98DB"],[12215,1,"\u98DF"],[12216,1,"\u9996"],[12217,1,"\u9999"],[12218,1,"\u99AC"],[12219,1,"\u9AA8"],[12220,1,"\u9AD8"],[12221,1,"\u9ADF"],[12222,1,"\u9B25"],[12223,1,"\u9B2F"],[12224,1,"\u9B32"],[12225,1,"\u9B3C"],[12226,1,"\u9B5A"],[12227,1,"\u9CE5"],[12228,1,"\u9E75"],[12229,1,"\u9E7F"],[12230,1,"\u9EA5"],[12231,1,"\u9EBB"],[12232,1,"\u9EC3"],[12233,1,"\u9ECD"],[12234,1,"\u9ED1"],[12235,1,"\u9EF9"],[12236,1,"\u9EFD"],[12237,1,"\u9F0E"],[12238,1,"\u9F13"],[12239,1,"\u9F20"],[12240,1,"\u9F3B"],[12241,1,"\u9F4A"],[12242,1,"\u9F52"],[12243,1,"\u9F8D"],[12244,1,"\u9F9C"],[12245,1,"\u9FA0"],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,"\u3012"],[12343,2],[12344,1,"\u5341"],[12345,1,"\u5344"],[12346,1,"\u5345"],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," \u3099"],[12444,5," \u309A"],[[12445,12446],2],[12447,1,"\u3088\u308A"],[12448,2],[[12449,12542],2],[12543,1,"\u30B3\u30C8"],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,"\u1100"],[12594,1,"\u1101"],[12595,1,"\u11AA"],[12596,1,"\u1102"],[12597,1,"\u11AC"],[12598,1,"\u11AD"],[12599,1,"\u1103"],[12600,1,"\u1104"],[12601,1,"\u1105"],[12602,1,"\u11B0"],[12603,1,"\u11B1"],[12604,1,"\u11B2"],[12605,1,"\u11B3"],[12606,1,"\u11B4"],[12607,1,"\u11B5"],[12608,1,"\u111A"],[12609,1,"\u1106"],[12610,1,"\u1107"],[12611,1,"\u1108"],[12612,1,"\u1121"],[12613,1,"\u1109"],[12614,1,"\u110A"],[12615,1,"\u110B"],[12616,1,"\u110C"],[12617,1,"\u110D"],[12618,1,"\u110E"],[12619,1,"\u110F"],[12620,1,"\u1110"],[12621,1,"\u1111"],[12622,1,"\u1112"],[12623,1,"\u1161"],[12624,1,"\u1162"],[12625,1,"\u1163"],[12626,1,"\u1164"],[12627,1,"\u1165"],[12628,1,"\u1166"],[12629,1,"\u1167"],[12630,1,"\u1168"],[12631,1,"\u1169"],[12632,1,"\u116A"],[12633,1,"\u116B"],[12634,1,"\u116C"],[12635,1,"\u116D"],[12636,1,"\u116E"],[12637,1,"\u116F"],[12638,1,"\u1170"],[12639,1,"\u1171"],[12640,1,"\u1172"],[12641,1,"\u1173"],[12642,1,"\u1174"],[12643,1,"\u1175"],[12644,3],[12645,1,"\u1114"],[12646,1,"\u1115"],[12647,1,"\u11C7"],[12648,1,"\u11C8"],[12649,1,"\u11CC"],[12650,1,"\u11CE"],[12651,1,"\u11D3"],[12652,1,"\u11D7"],[12653,1,"\u11D9"],[12654,1,"\u111C"],[12655,1,"\u11DD"],[12656,1,"\u11DF"],[12657,1,"\u111D"],[12658,1,"\u111E"],[12659,1,"\u1120"],[12660,1,"\u1122"],[12661,1,"\u1123"],[12662,1,"\u1127"],[12663,1,"\u1129"],[12664,1,"\u112B"],[12665,1,"\u112C"],[12666,1,"\u112D"],[12667,1,"\u112E"],[12668,1,"\u112F"],[12669,1,"\u1132"],[12670,1,"\u1136"],[12671,1,"\u1140"],[12672,1,"\u1147"],[12673,1,"\u114C"],[12674,1,"\u11F1"],[12675,1,"\u11F2"],[12676,1,"\u1157"],[12677,1,"\u1158"],[12678,1,"\u1159"],[12679,1,"\u1184"],[12680,1,"\u1185"],[12681,1,"\u1188"],[12682,1,"\u1191"],[12683,1,"\u1192"],[12684,1,"\u1194"],[12685,1,"\u119E"],[12686,1,"\u11A1"],[12687,3],[[12688,12689],2],[12690,1,"\u4E00"],[12691,1,"\u4E8C"],[12692,1,"\u4E09"],[12693,1,"\u56DB"],[12694,1,"\u4E0A"],[12695,1,"\u4E2D"],[12696,1,"\u4E0B"],[12697,1,"\u7532"],[12698,1,"\u4E59"],[12699,1,"\u4E19"],[12700,1,"\u4E01"],[12701,1,"\u5929"],[12702,1,"\u5730"],[12703,1,"\u4EBA"],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"(\u1100)"],[12801,5,"(\u1102)"],[12802,5,"(\u1103)"],[12803,5,"(\u1105)"],[12804,5,"(\u1106)"],[12805,5,"(\u1107)"],[12806,5,"(\u1109)"],[12807,5,"(\u110B)"],[12808,5,"(\u110C)"],[12809,5,"(\u110E)"],[12810,5,"(\u110F)"],[12811,5,"(\u1110)"],[12812,5,"(\u1111)"],[12813,5,"(\u1112)"],[12814,5,"(\uAC00)"],[12815,5,"(\uB098)"],[12816,5,"(\uB2E4)"],[12817,5,"(\uB77C)"],[12818,5,"(\uB9C8)"],[12819,5,"(\uBC14)"],[12820,5,"(\uC0AC)"],[12821,5,"(\uC544)"],[12822,5,"(\uC790)"],[12823,5,"(\uCC28)"],[12824,5,"(\uCE74)"],[12825,5,"(\uD0C0)"],[12826,5,"(\uD30C)"],[12827,5,"(\uD558)"],[12828,5,"(\uC8FC)"],[12829,5,"(\uC624\uC804)"],[12830,5,"(\uC624\uD6C4)"],[12831,3],[12832,5,"(\u4E00)"],[12833,5,"(\u4E8C)"],[12834,5,"(\u4E09)"],[12835,5,"(\u56DB)"],[12836,5,"(\u4E94)"],[12837,5,"(\u516D)"],[12838,5,"(\u4E03)"],[12839,5,"(\u516B)"],[12840,5,"(\u4E5D)"],[12841,5,"(\u5341)"],[12842,5,"(\u6708)"],[12843,5,"(\u706B)"],[12844,5,"(\u6C34)"],[12845,5,"(\u6728)"],[12846,5,"(\u91D1)"],[12847,5,"(\u571F)"],[12848,5,"(\u65E5)"],[12849,5,"(\u682A)"],[12850,5,"(\u6709)"],[12851,5,"(\u793E)"],[12852,5,"(\u540D)"],[12853,5,"(\u7279)"],[12854,5,"(\u8CA1)"],[12855,5,"(\u795D)"],[12856,5,"(\u52B4)"],[12857,5,"(\u4EE3)"],[12858,5,"(\u547C)"],[12859,5,"(\u5B66)"],[12860,5,"(\u76E3)"],[12861,5,"(\u4F01)"],[12862,5,"(\u8CC7)"],[12863,5,"(\u5354)"],[12864,5,"(\u796D)"],[12865,5,"(\u4F11)"],[12866,5,"(\u81EA)"],[12867,5,"(\u81F3)"],[12868,1,"\u554F"],[12869,1,"\u5E7C"],[12870,1,"\u6587"],[12871,1,"\u7B8F"],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,"\u1100"],[12897,1,"\u1102"],[12898,1,"\u1103"],[12899,1,"\u1105"],[12900,1,"\u1106"],[12901,1,"\u1107"],[12902,1,"\u1109"],[12903,1,"\u110B"],[12904,1,"\u110C"],[12905,1,"\u110E"],[12906,1,"\u110F"],[12907,1,"\u1110"],[12908,1,"\u1111"],[12909,1,"\u1112"],[12910,1,"\uAC00"],[12911,1,"\uB098"],[12912,1,"\uB2E4"],[12913,1,"\uB77C"],[12914,1,"\uB9C8"],[12915,1,"\uBC14"],[12916,1,"\uC0AC"],[12917,1,"\uC544"],[12918,1,"\uC790"],[12919,1,"\uCC28"],[12920,1,"\uCE74"],[12921,1,"\uD0C0"],[12922,1,"\uD30C"],[12923,1,"\uD558"],[12924,1,"\uCC38\uACE0"],[12925,1,"\uC8FC\uC758"],[12926,1,"\uC6B0"],[12927,2],[12928,1,"\u4E00"],[12929,1,"\u4E8C"],[12930,1,"\u4E09"],[12931,1,"\u56DB"],[12932,1,"\u4E94"],[12933,1,"\u516D"],[12934,1,"\u4E03"],[12935,1,"\u516B"],[12936,1,"\u4E5D"],[12937,1,"\u5341"],[12938,1,"\u6708"],[12939,1,"\u706B"],[12940,1,"\u6C34"],[12941,1,"\u6728"],[12942,1,"\u91D1"],[12943,1,"\u571F"],[12944,1,"\u65E5"],[12945,1,"\u682A"],[12946,1,"\u6709"],[12947,1,"\u793E"],[12948,1,"\u540D"],[12949,1,"\u7279"],[12950,1,"\u8CA1"],[12951,1,"\u795D"],[12952,1,"\u52B4"],[12953,1,"\u79D8"],[12954,1,"\u7537"],[12955,1,"\u5973"],[12956,1,"\u9069"],[12957,1,"\u512A"],[12958,1,"\u5370"],[12959,1,"\u6CE8"],[12960,1,"\u9805"],[12961,1,"\u4F11"],[12962,1,"\u5199"],[12963,1,"\u6B63"],[12964,1,"\u4E0A"],[12965,1,"\u4E2D"],[12966,1,"\u4E0B"],[12967,1,"\u5DE6"],[12968,1,"\u53F3"],[12969,1,"\u533B"],[12970,1,"\u5B97"],[12971,1,"\u5B66"],[12972,1,"\u76E3"],[12973,1,"\u4F01"],[12974,1,"\u8CC7"],[12975,1,"\u5354"],[12976,1,"\u591C"],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1\u6708"],[12993,1,"2\u6708"],[12994,1,"3\u6708"],[12995,1,"4\u6708"],[12996,1,"5\u6708"],[12997,1,"6\u6708"],[12998,1,"7\u6708"],[12999,1,"8\u6708"],[13000,1,"9\u6708"],[13001,1,"10\u6708"],[13002,1,"11\u6708"],[13003,1,"12\u6708"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,"\u30A2"],[13009,1,"\u30A4"],[13010,1,"\u30A6"],[13011,1,"\u30A8"],[13012,1,"\u30AA"],[13013,1,"\u30AB"],[13014,1,"\u30AD"],[13015,1,"\u30AF"],[13016,1,"\u30B1"],[13017,1,"\u30B3"],[13018,1,"\u30B5"],[13019,1,"\u30B7"],[13020,1,"\u30B9"],[13021,1,"\u30BB"],[13022,1,"\u30BD"],[13023,1,"\u30BF"],[13024,1,"\u30C1"],[13025,1,"\u30C4"],[13026,1,"\u30C6"],[13027,1,"\u30C8"],[13028,1,"\u30CA"],[13029,1,"\u30CB"],[13030,1,"\u30CC"],[13031,1,"\u30CD"],[13032,1,"\u30CE"],[13033,1,"\u30CF"],[13034,1,"\u30D2"],[13035,1,"\u30D5"],[13036,1,"\u30D8"],[13037,1,"\u30DB"],[13038,1,"\u30DE"],[13039,1,"\u30DF"],[13040,1,"\u30E0"],[13041,1,"\u30E1"],[13042,1,"\u30E2"],[13043,1,"\u30E4"],[13044,1,"\u30E6"],[13045,1,"\u30E8"],[13046,1,"\u30E9"],[13047,1,"\u30EA"],[13048,1,"\u30EB"],[13049,1,"\u30EC"],[13050,1,"\u30ED"],[13051,1,"\u30EF"],[13052,1,"\u30F0"],[13053,1,"\u30F1"],[13054,1,"\u30F2"],[13055,1,"\u4EE4\u548C"],[13056,1,"\u30A2\u30D1\u30FC\u30C8"],[13057,1,"\u30A2\u30EB\u30D5\u30A1"],[13058,1,"\u30A2\u30F3\u30DA\u30A2"],[13059,1,"\u30A2\u30FC\u30EB"],[13060,1,"\u30A4\u30CB\u30F3\u30B0"],[13061,1,"\u30A4\u30F3\u30C1"],[13062,1,"\u30A6\u30A9\u30F3"],[13063,1,"\u30A8\u30B9\u30AF\u30FC\u30C9"],[13064,1,"\u30A8\u30FC\u30AB\u30FC"],[13065,1,"\u30AA\u30F3\u30B9"],[13066,1,"\u30AA\u30FC\u30E0"],[13067,1,"\u30AB\u30A4\u30EA"],[13068,1,"\u30AB\u30E9\u30C3\u30C8"],[13069,1,"\u30AB\u30ED\u30EA\u30FC"],[13070,1,"\u30AC\u30ED\u30F3"],[13071,1,"\u30AC\u30F3\u30DE"],[13072,1,"\u30AE\u30AC"],[13073,1,"\u30AE\u30CB\u30FC"],[13074,1,"\u30AD\u30E5\u30EA\u30FC"],[13075,1,"\u30AE\u30EB\u30C0\u30FC"],[13076,1,"\u30AD\u30ED"],[13077,1,"\u30AD\u30ED\u30B0\u30E9\u30E0"],[13078,1,"\u30AD\u30ED\u30E1\u30FC\u30C8\u30EB"],[13079,1,"\u30AD\u30ED\u30EF\u30C3\u30C8"],[13080,1,"\u30B0\u30E9\u30E0"],[13081,1,"\u30B0\u30E9\u30E0\u30C8\u30F3"],[13082,1,"\u30AF\u30EB\u30BC\u30A4\u30ED"],[13083,1,"\u30AF\u30ED\u30FC\u30CD"],[13084,1,"\u30B1\u30FC\u30B9"],[13085,1,"\u30B3\u30EB\u30CA"],[13086,1,"\u30B3\u30FC\u30DD"],[13087,1,"\u30B5\u30A4\u30AF\u30EB"],[13088,1,"\u30B5\u30F3\u30C1\u30FC\u30E0"],[13089,1,"\u30B7\u30EA\u30F3\u30B0"],[13090,1,"\u30BB\u30F3\u30C1"],[13091,1,"\u30BB\u30F3\u30C8"],[13092,1,"\u30C0\u30FC\u30B9"],[13093,1,"\u30C7\u30B7"],[13094,1,"\u30C9\u30EB"],[13095,1,"\u30C8\u30F3"],[13096,1,"\u30CA\u30CE"],[13097,1,"\u30CE\u30C3\u30C8"],[13098,1,"\u30CF\u30A4\u30C4"],[13099,1,"\u30D1\u30FC\u30BB\u30F3\u30C8"],[13100,1,"\u30D1\u30FC\u30C4"],[13101,1,"\u30D0\u30FC\u30EC\u30EB"],[13102,1,"\u30D4\u30A2\u30B9\u30C8\u30EB"],[13103,1,"\u30D4\u30AF\u30EB"],[13104,1,"\u30D4\u30B3"],[13105,1,"\u30D3\u30EB"],[13106,1,"\u30D5\u30A1\u30E9\u30C3\u30C9"],[13107,1,"\u30D5\u30A3\u30FC\u30C8"],[13108,1,"\u30D6\u30C3\u30B7\u30A7\u30EB"],[13109,1,"\u30D5\u30E9\u30F3"],[13110,1,"\u30D8\u30AF\u30BF\u30FC\u30EB"],[13111,1,"\u30DA\u30BD"],[13112,1,"\u30DA\u30CB\u30D2"],[13113,1,"\u30D8\u30EB\u30C4"],[13114,1,"\u30DA\u30F3\u30B9"],[13115,1,"\u30DA\u30FC\u30B8"],[13116,1,"\u30D9\u30FC\u30BF"],[13117,1,"\u30DD\u30A4\u30F3\u30C8"],[13118,1,"\u30DC\u30EB\u30C8"],[13119,1,"\u30DB\u30F3"],[13120,1,"\u30DD\u30F3\u30C9"],[13121,1,"\u30DB\u30FC\u30EB"],[13122,1,"\u30DB\u30FC\u30F3"],[13123,1,"\u30DE\u30A4\u30AF\u30ED"],[13124,1,"\u30DE\u30A4\u30EB"],[13125,1,"\u30DE\u30C3\u30CF"],[13126,1,"\u30DE\u30EB\u30AF"],[13127,1,"\u30DE\u30F3\u30B7\u30E7\u30F3"],[13128,1,"\u30DF\u30AF\u30ED\u30F3"],[13129,1,"\u30DF\u30EA"],[13130,1,"\u30DF\u30EA\u30D0\u30FC\u30EB"],[13131,1,"\u30E1\u30AC"],[13132,1,"\u30E1\u30AC\u30C8\u30F3"],[13133,1,"\u30E1\u30FC\u30C8\u30EB"],[13134,1,"\u30E4\u30FC\u30C9"],[13135,1,"\u30E4\u30FC\u30EB"],[13136,1,"\u30E6\u30A2\u30F3"],[13137,1,"\u30EA\u30C3\u30C8\u30EB"],[13138,1,"\u30EA\u30E9"],[13139,1,"\u30EB\u30D4\u30FC"],[13140,1,"\u30EB\u30FC\u30D6\u30EB"],[13141,1,"\u30EC\u30E0"],[13142,1,"\u30EC\u30F3\u30C8\u30B2\u30F3"],[13143,1,"\u30EF\u30C3\u30C8"],[13144,1,"0\u70B9"],[13145,1,"1\u70B9"],[13146,1,"2\u70B9"],[13147,1,"3\u70B9"],[13148,1,"4\u70B9"],[13149,1,"5\u70B9"],[13150,1,"6\u70B9"],[13151,1,"7\u70B9"],[13152,1,"8\u70B9"],[13153,1,"9\u70B9"],[13154,1,"10\u70B9"],[13155,1,"11\u70B9"],[13156,1,"12\u70B9"],[13157,1,"13\u70B9"],[13158,1,"14\u70B9"],[13159,1,"15\u70B9"],[13160,1,"16\u70B9"],[13161,1,"17\u70B9"],[13162,1,"18\u70B9"],[13163,1,"19\u70B9"],[13164,1,"20\u70B9"],[13165,1,"21\u70B9"],[13166,1,"22\u70B9"],[13167,1,"23\u70B9"],[13168,1,"24\u70B9"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,"\u5E73\u6210"],[13180,1,"\u662D\u548C"],[13181,1,"\u5927\u6B63"],[13182,1,"\u660E\u6CBB"],[13183,1,"\u682A\u5F0F\u4F1A\u793E"],[13184,1,"pa"],[13185,1,"na"],[13186,1,"\u03BCa"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"\u03BCf"],[13197,1,"\u03BCg"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"\u03BCl"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"\u03BCm"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"m\u2215s"],[13224,1,"m\u2215s2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rad\u2215s"],[13231,1,"rad\u2215s2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"\u03BCs"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"\u03BCv"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"\u03BCw"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k\u03C9"],[13249,1,"m\u03C9"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"c\u2215kg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"v\u2215m"],[13279,1,"a\u2215m"],[13280,1,"1\u65E5"],[13281,1,"2\u65E5"],[13282,1,"3\u65E5"],[13283,1,"4\u65E5"],[13284,1,"5\u65E5"],[13285,1,"6\u65E5"],[13286,1,"7\u65E5"],[13287,1,"8\u65E5"],[13288,1,"9\u65E5"],[13289,1,"10\u65E5"],[13290,1,"11\u65E5"],[13291,1,"12\u65E5"],[13292,1,"13\u65E5"],[13293,1,"14\u65E5"],[13294,1,"15\u65E5"],[13295,1,"16\u65E5"],[13296,1,"17\u65E5"],[13297,1,"18\u65E5"],[13298,1,"19\u65E5"],[13299,1,"20\u65E5"],[13300,1,"21\u65E5"],[13301,1,"22\u65E5"],[13302,1,"23\u65E5"],[13303,1,"24\u65E5"],[13304,1,"25\u65E5"],[13305,1,"26\u65E5"],[13306,1,"27\u65E5"],[13307,1,"28\u65E5"],[13308,1,"29\u65E5"],[13309,1,"30\u65E5"],[13310,1,"31\u65E5"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,"\uA641"],[42561,2],[42562,1,"\uA643"],[42563,2],[42564,1,"\uA645"],[42565,2],[42566,1,"\uA647"],[42567,2],[42568,1,"\uA649"],[42569,2],[42570,1,"\uA64B"],[42571,2],[42572,1,"\uA64D"],[42573,2],[42574,1,"\uA64F"],[42575,2],[42576,1,"\uA651"],[42577,2],[42578,1,"\uA653"],[42579,2],[42580,1,"\uA655"],[42581,2],[42582,1,"\uA657"],[42583,2],[42584,1,"\uA659"],[42585,2],[42586,1,"\uA65B"],[42587,2],[42588,1,"\uA65D"],[42589,2],[42590,1,"\uA65F"],[42591,2],[42592,1,"\uA661"],[42593,2],[42594,1,"\uA663"],[42595,2],[42596,1,"\uA665"],[42597,2],[42598,1,"\uA667"],[42599,2],[42600,1,"\uA669"],[42601,2],[42602,1,"\uA66B"],[42603,2],[42604,1,"\uA66D"],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,"\uA681"],[42625,2],[42626,1,"\uA683"],[42627,2],[42628,1,"\uA685"],[42629,2],[42630,1,"\uA687"],[42631,2],[42632,1,"\uA689"],[42633,2],[42634,1,"\uA68B"],[42635,2],[42636,1,"\uA68D"],[42637,2],[42638,1,"\uA68F"],[42639,2],[42640,1,"\uA691"],[42641,2],[42642,1,"\uA693"],[42643,2],[42644,1,"\uA695"],[42645,2],[42646,1,"\uA697"],[42647,2],[42648,1,"\uA699"],[42649,2],[42650,1,"\uA69B"],[42651,2],[42652,1,"\u044A"],[42653,1,"\u044C"],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,"\uA723"],[42787,2],[42788,1,"\uA725"],[42789,2],[42790,1,"\uA727"],[42791,2],[42792,1,"\uA729"],[42793,2],[42794,1,"\uA72B"],[42795,2],[42796,1,"\uA72D"],[42797,2],[42798,1,"\uA72F"],[[42799,42801],2],[42802,1,"\uA733"],[42803,2],[42804,1,"\uA735"],[42805,2],[42806,1,"\uA737"],[42807,2],[42808,1,"\uA739"],[42809,2],[42810,1,"\uA73B"],[42811,2],[42812,1,"\uA73D"],[42813,2],[42814,1,"\uA73F"],[42815,2],[42816,1,"\uA741"],[42817,2],[42818,1,"\uA743"],[42819,2],[42820,1,"\uA745"],[42821,2],[42822,1,"\uA747"],[42823,2],[42824,1,"\uA749"],[42825,2],[42826,1,"\uA74B"],[42827,2],[42828,1,"\uA74D"],[42829,2],[42830,1,"\uA74F"],[42831,2],[42832,1,"\uA751"],[42833,2],[42834,1,"\uA753"],[42835,2],[42836,1,"\uA755"],[42837,2],[42838,1,"\uA757"],[42839,2],[42840,1,"\uA759"],[42841,2],[42842,1,"\uA75B"],[42843,2],[42844,1,"\uA75D"],[42845,2],[42846,1,"\uA75F"],[42847,2],[42848,1,"\uA761"],[42849,2],[42850,1,"\uA763"],[42851,2],[42852,1,"\uA765"],[42853,2],[42854,1,"\uA767"],[42855,2],[42856,1,"\uA769"],[42857,2],[42858,1,"\uA76B"],[42859,2],[42860,1,"\uA76D"],[42861,2],[42862,1,"\uA76F"],[42863,2],[42864,1,"\uA76F"],[[42865,42872],2],[42873,1,"\uA77A"],[42874,2],[42875,1,"\uA77C"],[42876,2],[42877,1,"\u1D79"],[42878,1,"\uA77F"],[42879,2],[42880,1,"\uA781"],[42881,2],[42882,1,"\uA783"],[42883,2],[42884,1,"\uA785"],[42885,2],[42886,1,"\uA787"],[[42887,42888],2],[[42889,42890],2],[42891,1,"\uA78C"],[42892,2],[42893,1,"\u0265"],[42894,2],[42895,2],[42896,1,"\uA791"],[42897,2],[42898,1,"\uA793"],[42899,2],[[42900,42901],2],[42902,1,"\uA797"],[42903,2],[42904,1,"\uA799"],[42905,2],[42906,1,"\uA79B"],[42907,2],[42908,1,"\uA79D"],[42909,2],[42910,1,"\uA79F"],[42911,2],[42912,1,"\uA7A1"],[42913,2],[42914,1,"\uA7A3"],[42915,2],[42916,1,"\uA7A5"],[42917,2],[42918,1,"\uA7A7"],[42919,2],[42920,1,"\uA7A9"],[42921,2],[42922,1,"\u0266"],[42923,1,"\u025C"],[42924,1,"\u0261"],[42925,1,"\u026C"],[42926,1,"\u026A"],[42927,2],[42928,1,"\u029E"],[42929,1,"\u0287"],[42930,1,"\u029D"],[42931,1,"\uAB53"],[42932,1,"\uA7B5"],[42933,2],[42934,1,"\uA7B7"],[42935,2],[42936,1,"\uA7B9"],[42937,2],[42938,1,"\uA7BB"],[42939,2],[42940,1,"\uA7BD"],[42941,2],[42942,1,"\uA7BF"],[42943,2],[42944,1,"\uA7C1"],[42945,2],[42946,1,"\uA7C3"],[42947,2],[42948,1,"\uA794"],[42949,1,"\u0282"],[42950,1,"\u1D8E"],[42951,1,"\uA7C8"],[42952,2],[42953,1,"\uA7CA"],[42954,2],[[42955,42959],3],[42960,1,"\uA7D1"],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,"\uA7D7"],[42967,2],[42968,1,"\uA7D9"],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,"\uA7F6"],[42998,2],[42999,2],[43000,1,"\u0127"],[43001,1,"\u0153"],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,"\uA727"],[43869,1,"\uAB37"],[43870,1,"\u026B"],[43871,1,"\uAB52"],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,"\u028D"],[[43882,43883],2],[[43884,43887],3],[43888,1,"\u13A0"],[43889,1,"\u13A1"],[43890,1,"\u13A2"],[43891,1,"\u13A3"],[43892,1,"\u13A4"],[43893,1,"\u13A5"],[43894,1,"\u13A6"],[43895,1,"\u13A7"],[43896,1,"\u13A8"],[43897,1,"\u13A9"],[43898,1,"\u13AA"],[43899,1,"\u13AB"],[43900,1,"\u13AC"],[43901,1,"\u13AD"],[43902,1,"\u13AE"],[43903,1,"\u13AF"],[43904,1,"\u13B0"],[43905,1,"\u13B1"],[43906,1,"\u13B2"],[43907,1,"\u13B3"],[43908,1,"\u13B4"],[43909,1,"\u13B5"],[43910,1,"\u13B6"],[43911,1,"\u13B7"],[43912,1,"\u13B8"],[43913,1,"\u13B9"],[43914,1,"\u13BA"],[43915,1,"\u13BB"],[43916,1,"\u13BC"],[43917,1,"\u13BD"],[43918,1,"\u13BE"],[43919,1,"\u13BF"],[43920,1,"\u13C0"],[43921,1,"\u13C1"],[43922,1,"\u13C2"],[43923,1,"\u13C3"],[43924,1,"\u13C4"],[43925,1,"\u13C5"],[43926,1,"\u13C6"],[43927,1,"\u13C7"],[43928,1,"\u13C8"],[43929,1,"\u13C9"],[43930,1,"\u13CA"],[43931,1,"\u13CB"],[43932,1,"\u13CC"],[43933,1,"\u13CD"],[43934,1,"\u13CE"],[43935,1,"\u13CF"],[43936,1,"\u13D0"],[43937,1,"\u13D1"],[43938,1,"\u13D2"],[43939,1,"\u13D3"],[43940,1,"\u13D4"],[43941,1,"\u13D5"],[43942,1,"\u13D6"],[43943,1,"\u13D7"],[43944,1,"\u13D8"],[43945,1,"\u13D9"],[43946,1,"\u13DA"],[43947,1,"\u13DB"],[43948,1,"\u13DC"],[43949,1,"\u13DD"],[43950,1,"\u13DE"],[43951,1,"\u13DF"],[43952,1,"\u13E0"],[43953,1,"\u13E1"],[43954,1,"\u13E2"],[43955,1,"\u13E3"],[43956,1,"\u13E4"],[43957,1,"\u13E5"],[43958,1,"\u13E6"],[43959,1,"\u13E7"],[43960,1,"\u13E8"],[43961,1,"\u13E9"],[43962,1,"\u13EA"],[43963,1,"\u13EB"],[43964,1,"\u13EC"],[43965,1,"\u13ED"],[43966,1,"\u13EE"],[43967,1,"\u13EF"],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,"\u8C48"],[63745,1,"\u66F4"],[63746,1,"\u8ECA"],[63747,1,"\u8CC8"],[63748,1,"\u6ED1"],[63749,1,"\u4E32"],[63750,1,"\u53E5"],[[63751,63752],1,"\u9F9C"],[63753,1,"\u5951"],[63754,1,"\u91D1"],[63755,1,"\u5587"],[63756,1,"\u5948"],[63757,1,"\u61F6"],[63758,1,"\u7669"],[63759,1,"\u7F85"],[63760,1,"\u863F"],[63761,1,"\u87BA"],[63762,1,"\u88F8"],[63763,1,"\u908F"],[63764,1,"\u6A02"],[63765,1,"\u6D1B"],[63766,1,"\u70D9"],[63767,1,"\u73DE"],[63768,1,"\u843D"],[63769,1,"\u916A"],[63770,1,"\u99F1"],[63771,1,"\u4E82"],[63772,1,"\u5375"],[63773,1,"\u6B04"],[63774,1,"\u721B"],[63775,1,"\u862D"],[63776,1,"\u9E1E"],[63777,1,"\u5D50"],[63778,1,"\u6FEB"],[63779,1,"\u85CD"],[63780,1,"\u8964"],[63781,1,"\u62C9"],[63782,1,"\u81D8"],[63783,1,"\u881F"],[63784,1,"\u5ECA"],[63785,1,"\u6717"],[63786,1,"\u6D6A"],[63787,1,"\u72FC"],[63788,1,"\u90CE"],[63789,1,"\u4F86"],[63790,1,"\u51B7"],[63791,1,"\u52DE"],[63792,1,"\u64C4"],[63793,1,"\u6AD3"],[63794,1,"\u7210"],[63795,1,"\u76E7"],[63796,1,"\u8001"],[63797,1,"\u8606"],[63798,1,"\u865C"],[63799,1,"\u8DEF"],[63800,1,"\u9732"],[63801,1,"\u9B6F"],[63802,1,"\u9DFA"],[63803,1,"\u788C"],[63804,1,"\u797F"],[63805,1,"\u7DA0"],[63806,1,"\u83C9"],[63807,1,"\u9304"],[63808,1,"\u9E7F"],[63809,1,"\u8AD6"],[63810,1,"\u58DF"],[63811,1,"\u5F04"],[63812,1,"\u7C60"],[63813,1,"\u807E"],[63814,1,"\u7262"],[63815,1,"\u78CA"],[63816,1,"\u8CC2"],[63817,1,"\u96F7"],[63818,1,"\u58D8"],[63819,1,"\u5C62"],[63820,1,"\u6A13"],[63821,1,"\u6DDA"],[63822,1,"\u6F0F"],[63823,1,"\u7D2F"],[63824,1,"\u7E37"],[63825,1,"\u964B"],[63826,1,"\u52D2"],[63827,1,"\u808B"],[63828,1,"\u51DC"],[63829,1,"\u51CC"],[63830,1,"\u7A1C"],[63831,1,"\u7DBE"],[63832,1,"\u83F1"],[63833,1,"\u9675"],[63834,1,"\u8B80"],[63835,1,"\u62CF"],[63836,1,"\u6A02"],[63837,1,"\u8AFE"],[63838,1,"\u4E39"],[63839,1,"\u5BE7"],[63840,1,"\u6012"],[63841,1,"\u7387"],[63842,1,"\u7570"],[63843,1,"\u5317"],[63844,1,"\u78FB"],[63845,1,"\u4FBF"],[63846,1,"\u5FA9"],[63847,1,"\u4E0D"],[63848,1,"\u6CCC"],[63849,1,"\u6578"],[63850,1,"\u7D22"],[63851,1,"\u53C3"],[63852,1,"\u585E"],[63853,1,"\u7701"],[63854,1,"\u8449"],[63855,1,"\u8AAA"],[63856,1,"\u6BBA"],[63857,1,"\u8FB0"],[63858,1,"\u6C88"],[63859,1,"\u62FE"],[63860,1,"\u82E5"],[63861,1,"\u63A0"],[63862,1,"\u7565"],[63863,1,"\u4EAE"],[63864,1,"\u5169"],[63865,1,"\u51C9"],[63866,1,"\u6881"],[63867,1,"\u7CE7"],[63868,1,"\u826F"],[63869,1,"\u8AD2"],[63870,1,"\u91CF"],[63871,1,"\u52F5"],[63872,1,"\u5442"],[63873,1,"\u5973"],[63874,1,"\u5EEC"],[63875,1,"\u65C5"],[63876,1,"\u6FFE"],[63877,1,"\u792A"],[63878,1,"\u95AD"],[63879,1,"\u9A6A"],[63880,1,"\u9E97"],[63881,1,"\u9ECE"],[63882,1,"\u529B"],[63883,1,"\u66C6"],[63884,1,"\u6B77"],[63885,1,"\u8F62"],[63886,1,"\u5E74"],[63887,1,"\u6190"],[63888,1,"\u6200"],[63889,1,"\u649A"],[63890,1,"\u6F23"],[63891,1,"\u7149"],[63892,1,"\u7489"],[63893,1,"\u79CA"],[63894,1,"\u7DF4"],[63895,1,"\u806F"],[63896,1,"\u8F26"],[63897,1,"\u84EE"],[63898,1,"\u9023"],[63899,1,"\u934A"],[63900,1,"\u5217"],[63901,1,"\u52A3"],[63902,1,"\u54BD"],[63903,1,"\u70C8"],[63904,1,"\u88C2"],[63905,1,"\u8AAA"],[63906,1,"\u5EC9"],[63907,1,"\u5FF5"],[63908,1,"\u637B"],[63909,1,"\u6BAE"],[63910,1,"\u7C3E"],[63911,1,"\u7375"],[63912,1,"\u4EE4"],[63913,1,"\u56F9"],[63914,1,"\u5BE7"],[63915,1,"\u5DBA"],[63916,1,"\u601C"],[63917,1,"\u73B2"],[63918,1,"\u7469"],[63919,1,"\u7F9A"],[63920,1,"\u8046"],[63921,1,"\u9234"],[63922,1,"\u96F6"],[63923,1,"\u9748"],[63924,1,"\u9818"],[63925,1,"\u4F8B"],[63926,1,"\u79AE"],[63927,1,"\u91B4"],[63928,1,"\u96B8"],[63929,1,"\u60E1"],[63930,1,"\u4E86"],[63931,1,"\u50DA"],[63932,1,"\u5BEE"],[63933,1,"\u5C3F"],[63934,1,"\u6599"],[63935,1,"\u6A02"],[63936,1,"\u71CE"],[63937,1,"\u7642"],[63938,1,"\u84FC"],[63939,1,"\u907C"],[63940,1,"\u9F8D"],[63941,1,"\u6688"],[63942,1,"\u962E"],[63943,1,"\u5289"],[63944,1,"\u677B"],[63945,1,"\u67F3"],[63946,1,"\u6D41"],[63947,1,"\u6E9C"],[63948,1,"\u7409"],[63949,1,"\u7559"],[63950,1,"\u786B"],[63951,1,"\u7D10"],[63952,1,"\u985E"],[63953,1,"\u516D"],[63954,1,"\u622E"],[63955,1,"\u9678"],[63956,1,"\u502B"],[63957,1,"\u5D19"],[63958,1,"\u6DEA"],[63959,1,"\u8F2A"],[63960,1,"\u5F8B"],[63961,1,"\u6144"],[63962,1,"\u6817"],[63963,1,"\u7387"],[63964,1,"\u9686"],[63965,1,"\u5229"],[63966,1,"\u540F"],[63967,1,"\u5C65"],[63968,1,"\u6613"],[63969,1,"\u674E"],[63970,1,"\u68A8"],[63971,1,"\u6CE5"],[63972,1,"\u7406"],[63973,1,"\u75E2"],[63974,1,"\u7F79"],[63975,1,"\u88CF"],[63976,1,"\u88E1"],[63977,1,"\u91CC"],[63978,1,"\u96E2"],[63979,1,"\u533F"],[63980,1,"\u6EBA"],[63981,1,"\u541D"],[63982,1,"\u71D0"],[63983,1,"\u7498"],[63984,1,"\u85FA"],[63985,1,"\u96A3"],[63986,1,"\u9C57"],[63987,1,"\u9E9F"],[63988,1,"\u6797"],[63989,1,"\u6DCB"],[63990,1,"\u81E8"],[63991,1,"\u7ACB"],[63992,1,"\u7B20"],[63993,1,"\u7C92"],[63994,1,"\u72C0"],[63995,1,"\u7099"],[63996,1,"\u8B58"],[63997,1,"\u4EC0"],[63998,1,"\u8336"],[63999,1,"\u523A"],[64000,1,"\u5207"],[64001,1,"\u5EA6"],[64002,1,"\u62D3"],[64003,1,"\u7CD6"],[64004,1,"\u5B85"],[64005,1,"\u6D1E"],[64006,1,"\u66B4"],[64007,1,"\u8F3B"],[64008,1,"\u884C"],[64009,1,"\u964D"],[64010,1,"\u898B"],[64011,1,"\u5ED3"],[64012,1,"\u5140"],[64013,1,"\u55C0"],[[64014,64015],2],[64016,1,"\u585A"],[64017,2],[64018,1,"\u6674"],[[64019,64020],2],[64021,1,"\u51DE"],[64022,1,"\u732A"],[64023,1,"\u76CA"],[64024,1,"\u793C"],[64025,1,"\u795E"],[64026,1,"\u7965"],[64027,1,"\u798F"],[64028,1,"\u9756"],[64029,1,"\u7CBE"],[64030,1,"\u7FBD"],[64031,2],[64032,1,"\u8612"],[64033,2],[64034,1,"\u8AF8"],[[64035,64036],2],[64037,1,"\u9038"],[64038,1,"\u90FD"],[[64039,64041],2],[64042,1,"\u98EF"],[64043,1,"\u98FC"],[64044,1,"\u9928"],[64045,1,"\u9DB4"],[64046,1,"\u90DE"],[64047,1,"\u96B7"],[64048,1,"\u4FAE"],[64049,1,"\u50E7"],[64050,1,"\u514D"],[64051,1,"\u52C9"],[64052,1,"\u52E4"],[64053,1,"\u5351"],[64054,1,"\u559D"],[64055,1,"\u5606"],[64056,1,"\u5668"],[64057,1,"\u5840"],[64058,1,"\u58A8"],[64059,1,"\u5C64"],[64060,1,"\u5C6E"],[64061,1,"\u6094"],[64062,1,"\u6168"],[64063,1,"\u618E"],[64064,1,"\u61F2"],[64065,1,"\u654F"],[64066,1,"\u65E2"],[64067,1,"\u6691"],[64068,1,"\u6885"],[64069,1,"\u6D77"],[64070,1,"\u6E1A"],[64071,1,"\u6F22"],[64072,1,"\u716E"],[64073,1,"\u722B"],[64074,1,"\u7422"],[64075,1,"\u7891"],[64076,1,"\u793E"],[64077,1,"\u7949"],[64078,1,"\u7948"],[64079,1,"\u7950"],[64080,1,"\u7956"],[64081,1,"\u795D"],[64082,1,"\u798D"],[64083,1,"\u798E"],[64084,1,"\u7A40"],[64085,1,"\u7A81"],[64086,1,"\u7BC0"],[64087,1,"\u7DF4"],[64088,1,"\u7E09"],[64089,1,"\u7E41"],[64090,1,"\u7F72"],[64091,1,"\u8005"],[64092,1,"\u81ED"],[[64093,64094],1,"\u8279"],[64095,1,"\u8457"],[64096,1,"\u8910"],[64097,1,"\u8996"],[64098,1,"\u8B01"],[64099,1,"\u8B39"],[64100,1,"\u8CD3"],[64101,1,"\u8D08"],[64102,1,"\u8FB6"],[64103,1,"\u9038"],[64104,1,"\u96E3"],[64105,1,"\u97FF"],[64106,1,"\u983B"],[64107,1,"\u6075"],[64108,1,"\uD850\uDEEE"],[64109,1,"\u8218"],[[64110,64111],3],[64112,1,"\u4E26"],[64113,1,"\u51B5"],[64114,1,"\u5168"],[64115,1,"\u4F80"],[64116,1,"\u5145"],[64117,1,"\u5180"],[64118,1,"\u52C7"],[64119,1,"\u52FA"],[64120,1,"\u559D"],[64121,1,"\u5555"],[64122,1,"\u5599"],[64123,1,"\u55E2"],[64124,1,"\u585A"],[64125,1,"\u58B3"],[64126,1,"\u5944"],[64127,1,"\u5954"],[64128,1,"\u5A62"],[64129,1,"\u5B28"],[64130,1,"\u5ED2"],[64131,1,"\u5ED9"],[64132,1,"\u5F69"],[64133,1,"\u5FAD"],[64134,1,"\u60D8"],[64135,1,"\u614E"],[64136,1,"\u6108"],[64137,1,"\u618E"],[64138,1,"\u6160"],[64139,1,"\u61F2"],[64140,1,"\u6234"],[64141,1,"\u63C4"],[64142,1,"\u641C"],[64143,1,"\u6452"],[64144,1,"\u6556"],[64145,1,"\u6674"],[64146,1,"\u6717"],[64147,1,"\u671B"],[64148,1,"\u6756"],[64149,1,"\u6B79"],[64150,1,"\u6BBA"],[64151,1,"\u6D41"],[64152,1,"\u6EDB"],[64153,1,"\u6ECB"],[64154,1,"\u6F22"],[64155,1,"\u701E"],[64156,1,"\u716E"],[64157,1,"\u77A7"],[64158,1,"\u7235"],[64159,1,"\u72AF"],[64160,1,"\u732A"],[64161,1,"\u7471"],[64162,1,"\u7506"],[64163,1,"\u753B"],[64164,1,"\u761D"],[64165,1,"\u761F"],[64166,1,"\u76CA"],[64167,1,"\u76DB"],[64168,1,"\u76F4"],[64169,1,"\u774A"],[64170,1,"\u7740"],[64171,1,"\u78CC"],[64172,1,"\u7AB1"],[64173,1,"\u7BC0"],[64174,1,"\u7C7B"],[64175,1,"\u7D5B"],[64176,1,"\u7DF4"],[64177,1,"\u7F3E"],[64178,1,"\u8005"],[64179,1,"\u8352"],[64180,1,"\u83EF"],[64181,1,"\u8779"],[64182,1,"\u8941"],[64183,1,"\u8986"],[64184,1,"\u8996"],[64185,1,"\u8ABF"],[64186,1,"\u8AF8"],[64187,1,"\u8ACB"],[64188,1,"\u8B01"],[64189,1,"\u8AFE"],[64190,1,"\u8AED"],[64191,1,"\u8B39"],[64192,1,"\u8B8A"],[64193,1,"\u8D08"],[64194,1,"\u8F38"],[64195,1,"\u9072"],[64196,1,"\u9199"],[64197,1,"\u9276"],[64198,1,"\u967C"],[64199,1,"\u96E3"],[64200,1,"\u9756"],[64201,1,"\u97DB"],[64202,1,"\u97FF"],[64203,1,"\u980B"],[64204,1,"\u983B"],[64205,1,"\u9B12"],[64206,1,"\u9F9C"],[64207,1,"\uD84A\uDC4A"],[64208,1,"\uD84A\uDC44"],[64209,1,"\uD84C\uDFD5"],[64210,1,"\u3B9D"],[64211,1,"\u4018"],[64212,1,"\u4039"],[64213,1,"\uD854\uDE49"],[64214,1,"\uD857\uDCD0"],[64215,1,"\uD85F\uDED3"],[64216,1,"\u9F43"],[64217,1,"\u9F8E"],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,"\u0574\u0576"],[64276,1,"\u0574\u0565"],[64277,1,"\u0574\u056B"],[64278,1,"\u057E\u0576"],[64279,1,"\u0574\u056D"],[[64280,64284],3],[64285,1,"\u05D9\u05B4"],[64286,2],[64287,1,"\u05F2\u05B7"],[64288,1,"\u05E2"],[64289,1,"\u05D0"],[64290,1,"\u05D3"],[64291,1,"\u05D4"],[64292,1,"\u05DB"],[64293,1,"\u05DC"],[64294,1,"\u05DD"],[64295,1,"\u05E8"],[64296,1,"\u05EA"],[64297,5,"+"],[64298,1,"\u05E9\u05C1"],[64299,1,"\u05E9\u05C2"],[64300,1,"\u05E9\u05BC\u05C1"],[64301,1,"\u05E9\u05BC\u05C2"],[64302,1,"\u05D0\u05B7"],[64303,1,"\u05D0\u05B8"],[64304,1,"\u05D0\u05BC"],[64305,1,"\u05D1\u05BC"],[64306,1,"\u05D2\u05BC"],[64307,1,"\u05D3\u05BC"],[64308,1,"\u05D4\u05BC"],[64309,1,"\u05D5\u05BC"],[64310,1,"\u05D6\u05BC"],[64311,3],[64312,1,"\u05D8\u05BC"],[64313,1,"\u05D9\u05BC"],[64314,1,"\u05DA\u05BC"],[64315,1,"\u05DB\u05BC"],[64316,1,"\u05DC\u05BC"],[64317,3],[64318,1,"\u05DE\u05BC"],[64319,3],[64320,1,"\u05E0\u05BC"],[64321,1,"\u05E1\u05BC"],[64322,3],[64323,1,"\u05E3\u05BC"],[64324,1,"\u05E4\u05BC"],[64325,3],[64326,1,"\u05E6\u05BC"],[64327,1,"\u05E7\u05BC"],[64328,1,"\u05E8\u05BC"],[64329,1,"\u05E9\u05BC"],[64330,1,"\u05EA\u05BC"],[64331,1,"\u05D5\u05B9"],[64332,1,"\u05D1\u05BF"],[64333,1,"\u05DB\u05BF"],[64334,1,"\u05E4\u05BF"],[64335,1,"\u05D0\u05DC"],[[64336,64337],1,"\u0671"],[[64338,64341],1,"\u067B"],[[64342,64345],1,"\u067E"],[[64346,64349],1,"\u0680"],[[64350,64353],1,"\u067A"],[[64354,64357],1,"\u067F"],[[64358,64361],1,"\u0679"],[[64362,64365],1,"\u06A4"],[[64366,64369],1,"\u06A6"],[[64370,64373],1,"\u0684"],[[64374,64377],1,"\u0683"],[[64378,64381],1,"\u0686"],[[64382,64385],1,"\u0687"],[[64386,64387],1,"\u068D"],[[64388,64389],1,"\u068C"],[[64390,64391],1,"\u068E"],[[64392,64393],1,"\u0688"],[[64394,64395],1,"\u0698"],[[64396,64397],1,"\u0691"],[[64398,64401],1,"\u06A9"],[[64402,64405],1,"\u06AF"],[[64406,64409],1,"\u06B3"],[[64410,64413],1,"\u06B1"],[[64414,64415],1,"\u06BA"],[[64416,64419],1,"\u06BB"],[[64420,64421],1,"\u06C0"],[[64422,64425],1,"\u06C1"],[[64426,64429],1,"\u06BE"],[[64430,64431],1,"\u06D2"],[[64432,64433],1,"\u06D3"],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,"\u06AD"],[[64471,64472],1,"\u06C7"],[[64473,64474],1,"\u06C6"],[[64475,64476],1,"\u06C8"],[64477,1,"\u06C7\u0674"],[[64478,64479],1,"\u06CB"],[[64480,64481],1,"\u06C5"],[[64482,64483],1,"\u06C9"],[[64484,64487],1,"\u06D0"],[[64488,64489],1,"\u0649"],[[64490,64491],1,"\u0626\u0627"],[[64492,64493],1,"\u0626\u06D5"],[[64494,64495],1,"\u0626\u0648"],[[64496,64497],1,"\u0626\u06C7"],[[64498,64499],1,"\u0626\u06C6"],[[64500,64501],1,"\u0626\u06C8"],[[64502,64504],1,"\u0626\u06D0"],[[64505,64507],1,"\u0626\u0649"],[[64508,64511],1,"\u06CC"],[64512,1,"\u0626\u062C"],[64513,1,"\u0626\u062D"],[64514,1,"\u0626\u0645"],[64515,1,"\u0626\u0649"],[64516,1,"\u0626\u064A"],[64517,1,"\u0628\u062C"],[64518,1,"\u0628\u062D"],[64519,1,"\u0628\u062E"],[64520,1,"\u0628\u0645"],[64521,1,"\u0628\u0649"],[64522,1,"\u0628\u064A"],[64523,1,"\u062A\u062C"],[64524,1,"\u062A\u062D"],[64525,1,"\u062A\u062E"],[64526,1,"\u062A\u0645"],[64527,1,"\u062A\u0649"],[64528,1,"\u062A\u064A"],[64529,1,"\u062B\u062C"],[64530,1,"\u062B\u0645"],[64531,1,"\u062B\u0649"],[64532,1,"\u062B\u064A"],[64533,1,"\u062C\u062D"],[64534,1,"\u062C\u0645"],[64535,1,"\u062D\u062C"],[64536,1,"\u062D\u0645"],[64537,1,"\u062E\u062C"],[64538,1,"\u062E\u062D"],[64539,1,"\u062E\u0645"],[64540,1,"\u0633\u062C"],[64541,1,"\u0633\u062D"],[64542,1,"\u0633\u062E"],[64543,1,"\u0633\u0645"],[64544,1,"\u0635\u062D"],[64545,1,"\u0635\u0645"],[64546,1,"\u0636\u062C"],[64547,1,"\u0636\u062D"],[64548,1,"\u0636\u062E"],[64549,1,"\u0636\u0645"],[64550,1,"\u0637\u062D"],[64551,1,"\u0637\u0645"],[64552,1,"\u0638\u0645"],[64553,1,"\u0639\u062C"],[64554,1,"\u0639\u0645"],[64555,1,"\u063A\u062C"],[64556,1,"\u063A\u0645"],[64557,1,"\u0641\u062C"],[64558,1,"\u0641\u062D"],[64559,1,"\u0641\u062E"],[64560,1,"\u0641\u0645"],[64561,1,"\u0641\u0649"],[64562,1,"\u0641\u064A"],[64563,1,"\u0642\u062D"],[64564,1,"\u0642\u0645"],[64565,1,"\u0642\u0649"],[64566,1,"\u0642\u064A"],[64567,1,"\u0643\u0627"],[64568,1,"\u0643\u062C"],[64569,1,"\u0643\u062D"],[64570,1,"\u0643\u062E"],[64571,1,"\u0643\u0644"],[64572,1,"\u0643\u0645"],[64573,1,"\u0643\u0649"],[64574,1,"\u0643\u064A"],[64575,1,"\u0644\u062C"],[64576,1,"\u0644\u062D"],[64577,1,"\u0644\u062E"],[64578,1,"\u0644\u0645"],[64579,1,"\u0644\u0649"],[64580,1,"\u0644\u064A"],[64581,1,"\u0645\u062C"],[64582,1,"\u0645\u062D"],[64583,1,"\u0645\u062E"],[64584,1,"\u0645\u0645"],[64585,1,"\u0645\u0649"],[64586,1,"\u0645\u064A"],[64587,1,"\u0646\u062C"],[64588,1,"\u0646\u062D"],[64589,1,"\u0646\u062E"],[64590,1,"\u0646\u0645"],[64591,1,"\u0646\u0649"],[64592,1,"\u0646\u064A"],[64593,1,"\u0647\u062C"],[64594,1,"\u0647\u0645"],[64595,1,"\u0647\u0649"],[64596,1,"\u0647\u064A"],[64597,1,"\u064A\u062C"],[64598,1,"\u064A\u062D"],[64599,1,"\u064A\u062E"],[64600,1,"\u064A\u0645"],[64601,1,"\u064A\u0649"],[64602,1,"\u064A\u064A"],[64603,1,"\u0630\u0670"],[64604,1,"\u0631\u0670"],[64605,1,"\u0649\u0670"],[64606,5," \u064C\u0651"],[64607,5," \u064D\u0651"],[64608,5," \u064E\u0651"],[64609,5," \u064F\u0651"],[64610,5," \u0650\u0651"],[64611,5," \u0651\u0670"],[64612,1,"\u0626\u0631"],[64613,1,"\u0626\u0632"],[64614,1,"\u0626\u0645"],[64615,1,"\u0626\u0646"],[64616,1,"\u0626\u0649"],[64617,1,"\u0626\u064A"],[64618,1,"\u0628\u0631"],[64619,1,"\u0628\u0632"],[64620,1,"\u0628\u0645"],[64621,1,"\u0628\u0646"],[64622,1,"\u0628\u0649"],[64623,1,"\u0628\u064A"],[64624,1,"\u062A\u0631"],[64625,1,"\u062A\u0632"],[64626,1,"\u062A\u0645"],[64627,1,"\u062A\u0646"],[64628,1,"\u062A\u0649"],[64629,1,"\u062A\u064A"],[64630,1,"\u062B\u0631"],[64631,1,"\u062B\u0632"],[64632,1,"\u062B\u0645"],[64633,1,"\u062B\u0646"],[64634,1,"\u062B\u0649"],[64635,1,"\u062B\u064A"],[64636,1,"\u0641\u0649"],[64637,1,"\u0641\u064A"],[64638,1,"\u0642\u0649"],[64639,1,"\u0642\u064A"],[64640,1,"\u0643\u0627"],[64641,1,"\u0643\u0644"],[64642,1,"\u0643\u0645"],[64643,1,"\u0643\u0649"],[64644,1,"\u0643\u064A"],[64645,1,"\u0644\u0645"],[64646,1,"\u0644\u0649"],[64647,1,"\u0644\u064A"],[64648,1,"\u0645\u0627"],[64649,1,"\u0645\u0645"],[64650,1,"\u0646\u0631"],[64651,1,"\u0646\u0632"],[64652,1,"\u0646\u0645"],[64653,1,"\u0646\u0646"],[64654,1,"\u0646\u0649"],[64655,1,"\u0646\u064A"],[64656,1,"\u0649\u0670"],[64657,1,"\u064A\u0631"],[64658,1,"\u064A\u0632"],[64659,1,"\u064A\u0645"],[64660,1,"\u064A\u0646"],[64661,1,"\u064A\u0649"],[64662,1,"\u064A\u064A"],[64663,1,"\u0626\u062C"],[64664,1,"\u0626\u062D"],[64665,1,"\u0626\u062E"],[64666,1,"\u0626\u0645"],[64667,1,"\u0626\u0647"],[64668,1,"\u0628\u062C"],[64669,1,"\u0628\u062D"],[64670,1,"\u0628\u062E"],[64671,1,"\u0628\u0645"],[64672,1,"\u0628\u0647"],[64673,1,"\u062A\u062C"],[64674,1,"\u062A\u062D"],[64675,1,"\u062A\u062E"],[64676,1,"\u062A\u0645"],[64677,1,"\u062A\u0647"],[64678,1,"\u062B\u0645"],[64679,1,"\u062C\u062D"],[64680,1,"\u062C\u0645"],[64681,1,"\u062D\u062C"],[64682,1,"\u062D\u0645"],[64683,1,"\u062E\u062C"],[64684,1,"\u062E\u0645"],[64685,1,"\u0633\u062C"],[64686,1,"\u0633\u062D"],[64687,1,"\u0633\u062E"],[64688,1,"\u0633\u0645"],[64689,1,"\u0635\u062D"],[64690,1,"\u0635\u062E"],[64691,1,"\u0635\u0645"],[64692,1,"\u0636\u062C"],[64693,1,"\u0636\u062D"],[64694,1,"\u0636\u062E"],[64695,1,"\u0636\u0645"],[64696,1,"\u0637\u062D"],[64697,1,"\u0638\u0645"],[64698,1,"\u0639\u062C"],[64699,1,"\u0639\u0645"],[64700,1,"\u063A\u062C"],[64701,1,"\u063A\u0645"],[64702,1,"\u0641\u062C"],[64703,1,"\u0641\u062D"],[64704,1,"\u0641\u062E"],[64705,1,"\u0641\u0645"],[64706,1,"\u0642\u062D"],[64707,1,"\u0642\u0645"],[64708,1,"\u0643\u062C"],[64709,1,"\u0643\u062D"],[64710,1,"\u0643\u062E"],[64711,1,"\u0643\u0644"],[64712,1,"\u0643\u0645"],[64713,1,"\u0644\u062C"],[64714,1,"\u0644\u062D"],[64715,1,"\u0644\u062E"],[64716,1,"\u0644\u0645"],[64717,1,"\u0644\u0647"],[64718,1,"\u0645\u062C"],[64719,1,"\u0645\u062D"],[64720,1,"\u0645\u062E"],[64721,1,"\u0645\u0645"],[64722,1,"\u0646\u062C"],[64723,1,"\u0646\u062D"],[64724,1,"\u0646\u062E"],[64725,1,"\u0646\u0645"],[64726,1,"\u0646\u0647"],[64727,1,"\u0647\u062C"],[64728,1,"\u0647\u0645"],[64729,1,"\u0647\u0670"],[64730,1,"\u064A\u062C"],[64731,1,"\u064A\u062D"],[64732,1,"\u064A\u062E"],[64733,1,"\u064A\u0645"],[64734,1,"\u064A\u0647"],[64735,1,"\u0626\u0645"],[64736,1,"\u0626\u0647"],[64737,1,"\u0628\u0645"],[64738,1,"\u0628\u0647"],[64739,1,"\u062A\u0645"],[64740,1,"\u062A\u0647"],[64741,1,"\u062B\u0645"],[64742,1,"\u062B\u0647"],[64743,1,"\u0633\u0645"],[64744,1,"\u0633\u0647"],[64745,1,"\u0634\u0645"],[64746,1,"\u0634\u0647"],[64747,1,"\u0643\u0644"],[64748,1,"\u0643\u0645"],[64749,1,"\u0644\u0645"],[64750,1,"\u0646\u0645"],[64751,1,"\u0646\u0647"],[64752,1,"\u064A\u0645"],[64753,1,"\u064A\u0647"],[64754,1,"\u0640\u064E\u0651"],[64755,1,"\u0640\u064F\u0651"],[64756,1,"\u0640\u0650\u0651"],[64757,1,"\u0637\u0649"],[64758,1,"\u0637\u064A"],[64759,1,"\u0639\u0649"],[64760,1,"\u0639\u064A"],[64761,1,"\u063A\u0649"],[64762,1,"\u063A\u064A"],[64763,1,"\u0633\u0649"],[64764,1,"\u0633\u064A"],[64765,1,"\u0634\u0649"],[64766,1,"\u0634\u064A"],[64767,1,"\u062D\u0649"],[64768,1,"\u062D\u064A"],[64769,1,"\u062C\u0649"],[64770,1,"\u062C\u064A"],[64771,1,"\u062E\u0649"],[64772,1,"\u062E\u064A"],[64773,1,"\u0635\u0649"],[64774,1,"\u0635\u064A"],[64775,1,"\u0636\u0649"],[64776,1,"\u0636\u064A"],[64777,1,"\u0634\u062C"],[64778,1,"\u0634\u062D"],[64779,1,"\u0634\u062E"],[64780,1,"\u0634\u0645"],[64781,1,"\u0634\u0631"],[64782,1,"\u0633\u0631"],[64783,1,"\u0635\u0631"],[64784,1,"\u0636\u0631"],[64785,1,"\u0637\u0649"],[64786,1,"\u0637\u064A"],[64787,1,"\u0639\u0649"],[64788,1,"\u0639\u064A"],[64789,1,"\u063A\u0649"],[64790,1,"\u063A\u064A"],[64791,1,"\u0633\u0649"],[64792,1,"\u0633\u064A"],[64793,1,"\u0634\u0649"],[64794,1,"\u0634\u064A"],[64795,1,"\u062D\u0649"],[64796,1,"\u062D\u064A"],[64797,1,"\u062C\u0649"],[64798,1,"\u062C\u064A"],[64799,1,"\u062E\u0649"],[64800,1,"\u062E\u064A"],[64801,1,"\u0635\u0649"],[64802,1,"\u0635\u064A"],[64803,1,"\u0636\u0649"],[64804,1,"\u0636\u064A"],[64805,1,"\u0634\u062C"],[64806,1,"\u0634\u062D"],[64807,1,"\u0634\u062E"],[64808,1,"\u0634\u0645"],[64809,1,"\u0634\u0631"],[64810,1,"\u0633\u0631"],[64811,1,"\u0635\u0631"],[64812,1,"\u0636\u0631"],[64813,1,"\u0634\u062C"],[64814,1,"\u0634\u062D"],[64815,1,"\u0634\u062E"],[64816,1,"\u0634\u0645"],[64817,1,"\u0633\u0647"],[64818,1,"\u0634\u0647"],[64819,1,"\u0637\u0645"],[64820,1,"\u0633\u062C"],[64821,1,"\u0633\u062D"],[64822,1,"\u0633\u062E"],[64823,1,"\u0634\u062C"],[64824,1,"\u0634\u062D"],[64825,1,"\u0634\u062E"],[64826,1,"\u0637\u0645"],[64827,1,"\u0638\u0645"],[[64828,64829],1,"\u0627\u064B"],[[64830,64831],2],[[64832,64847],2],[64848,1,"\u062A\u062C\u0645"],[[64849,64850],1,"\u062A\u062D\u062C"],[64851,1,"\u062A\u062D\u0645"],[64852,1,"\u062A\u062E\u0645"],[64853,1,"\u062A\u0645\u062C"],[64854,1,"\u062A\u0645\u062D"],[64855,1,"\u062A\u0645\u062E"],[[64856,64857],1,"\u062C\u0645\u062D"],[64858,1,"\u062D\u0645\u064A"],[64859,1,"\u062D\u0645\u0649"],[64860,1,"\u0633\u062D\u062C"],[64861,1,"\u0633\u062C\u062D"],[64862,1,"\u0633\u062C\u0649"],[[64863,64864],1,"\u0633\u0645\u062D"],[64865,1,"\u0633\u0645\u062C"],[[64866,64867],1,"\u0633\u0645\u0645"],[[64868,64869],1,"\u0635\u062D\u062D"],[64870,1,"\u0635\u0645\u0645"],[[64871,64872],1,"\u0634\u062D\u0645"],[64873,1,"\u0634\u062C\u064A"],[[64874,64875],1,"\u0634\u0645\u062E"],[[64876,64877],1,"\u0634\u0645\u0645"],[64878,1,"\u0636\u062D\u0649"],[[64879,64880],1,"\u0636\u062E\u0645"],[[64881,64882],1,"\u0637\u0645\u062D"],[64883,1,"\u0637\u0645\u0645"],[64884,1,"\u0637\u0645\u064A"],[64885,1,"\u0639\u062C\u0645"],[[64886,64887],1,"\u0639\u0645\u0645"],[64888,1,"\u0639\u0645\u0649"],[64889,1,"\u063A\u0645\u0645"],[64890,1,"\u063A\u0645\u064A"],[64891,1,"\u063A\u0645\u0649"],[[64892,64893],1,"\u0641\u062E\u0645"],[64894,1,"\u0642\u0645\u062D"],[64895,1,"\u0642\u0645\u0645"],[64896,1,"\u0644\u062D\u0645"],[64897,1,"\u0644\u062D\u064A"],[64898,1,"\u0644\u062D\u0649"],[[64899,64900],1,"\u0644\u062C\u062C"],[[64901,64902],1,"\u0644\u062E\u0645"],[[64903,64904],1,"\u0644\u0645\u062D"],[64905,1,"\u0645\u062D\u062C"],[64906,1,"\u0645\u062D\u0645"],[64907,1,"\u0645\u062D\u064A"],[64908,1,"\u0645\u062C\u062D"],[64909,1,"\u0645\u062C\u0645"],[64910,1,"\u0645\u062E\u062C"],[64911,1,"\u0645\u062E\u0645"],[[64912,64913],3],[64914,1,"\u0645\u062C\u062E"],[64915,1,"\u0647\u0645\u062C"],[64916,1,"\u0647\u0645\u0645"],[64917,1,"\u0646\u062D\u0645"],[64918,1,"\u0646\u062D\u0649"],[[64919,64920],1,"\u0646\u062C\u0645"],[64921,1,"\u0646\u062C\u0649"],[64922,1,"\u0646\u0645\u064A"],[64923,1,"\u0646\u0645\u0649"],[[64924,64925],1,"\u064A\u0645\u0645"],[64926,1,"\u0628\u062E\u064A"],[64927,1,"\u062A\u062C\u064A"],[64928,1,"\u062A\u062C\u0649"],[64929,1,"\u062A\u062E\u064A"],[64930,1,"\u062A\u062E\u0649"],[64931,1,"\u062A\u0645\u064A"],[64932,1,"\u062A\u0645\u0649"],[64933,1,"\u062C\u0645\u064A"],[64934,1,"\u062C\u062D\u0649"],[64935,1,"\u062C\u0645\u0649"],[64936,1,"\u0633\u062E\u0649"],[64937,1,"\u0635\u062D\u064A"],[64938,1,"\u0634\u062D\u064A"],[64939,1,"\u0636\u062D\u064A"],[64940,1,"\u0644\u062C\u064A"],[64941,1,"\u0644\u0645\u064A"],[64942,1,"\u064A\u062D\u064A"],[64943,1,"\u064A\u062C\u064A"],[64944,1,"\u064A\u0645\u064A"],[64945,1,"\u0645\u0645\u064A"],[64946,1,"\u0642\u0645\u064A"],[64947,1,"\u0646\u062D\u064A"],[64948,1,"\u0642\u0645\u062D"],[64949,1,"\u0644\u062D\u0645"],[64950,1,"\u0639\u0645\u064A"],[64951,1,"\u0643\u0645\u064A"],[64952,1,"\u0646\u062C\u062D"],[64953,1,"\u0645\u062E\u064A"],[64954,1,"\u0644\u062C\u0645"],[64955,1,"\u0643\u0645\u0645"],[64956,1,"\u0644\u062C\u0645"],[64957,1,"\u0646\u062C\u062D"],[64958,1,"\u062C\u062D\u064A"],[64959,1,"\u062D\u062C\u064A"],[64960,1,"\u0645\u062C\u064A"],[64961,1,"\u0641\u0645\u064A"],[64962,1,"\u0628\u062D\u064A"],[64963,1,"\u0643\u0645\u0645"],[64964,1,"\u0639\u062C\u0645"],[64965,1,"\u0635\u0645\u0645"],[64966,1,"\u0633\u062E\u064A"],[64967,1,"\u0646\u062C\u064A"],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,"\u0635\u0644\u06D2"],[65009,1,"\u0642\u0644\u06D2"],[65010,1,"\u0627\u0644\u0644\u0647"],[65011,1,"\u0627\u0643\u0628\u0631"],[65012,1,"\u0645\u062D\u0645\u062F"],[65013,1,"\u0635\u0644\u0639\u0645"],[65014,1,"\u0631\u0633\u0648\u0644"],[65015,1,"\u0639\u0644\u064A\u0647"],[65016,1,"\u0648\u0633\u0644\u0645"],[65017,1,"\u0635\u0644\u0649"],[65018,5,"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064A\u0647 \u0648\u0633\u0644\u0645"],[65019,5,"\u062C\u0644 \u062C\u0644\u0627\u0644\u0647"],[65020,1,"\u0631\u06CC\u0627\u0644"],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,"\u3001"],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,"\u3016"],[65048,1,"\u3017"],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,"\u2014"],[65074,1,"\u2013"],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,"\u3014"],[65082,1,"\u3015"],[65083,1,"\u3010"],[65084,1,"\u3011"],[65085,1,"\u300A"],[65086,1,"\u300B"],[65087,1,"\u3008"],[65088,1,"\u3009"],[65089,1,"\u300C"],[65090,1,"\u300D"],[65091,1,"\u300E"],[65092,1,"\u300F"],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," \u0305"],[[65101,65103],5,"_"],[65104,5,","],[65105,1,"\u3001"],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,"\u2014"],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,"\u3014"],[65118,1,"\u3015"],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," \u064B"],[65137,1,"\u0640\u064B"],[65138,5," \u064C"],[65139,2],[65140,5," \u064D"],[65141,3],[65142,5," \u064E"],[65143,1,"\u0640\u064E"],[65144,5," \u064F"],[65145,1,"\u0640\u064F"],[65146,5," \u0650"],[65147,1,"\u0640\u0650"],[65148,5," \u0651"],[65149,1,"\u0640\u0651"],[65150,5," \u0652"],[65151,1,"\u0640\u0652"],[65152,1,"\u0621"],[[65153,65154],1,"\u0622"],[[65155,65156],1,"\u0623"],[[65157,65158],1,"\u0624"],[[65159,65160],1,"\u0625"],[[65161,65164],1,"\u0626"],[[65165,65166],1,"\u0627"],[[65167,65170],1,"\u0628"],[[65171,65172],1,"\u0629"],[[65173,65176],1,"\u062A"],[[65177,65180],1,"\u062B"],[[65181,65184],1,"\u062C"],[[65185,65188],1,"\u062D"],[[65189,65192],1,"\u062E"],[[65193,65194],1,"\u062F"],[[65195,65196],1,"\u0630"],[[65197,65198],1,"\u0631"],[[65199,65200],1,"\u0632"],[[65201,65204],1,"\u0633"],[[65205,65208],1,"\u0634"],[[65209,65212],1,"\u0635"],[[65213,65216],1,"\u0636"],[[65217,65220],1,"\u0637"],[[65221,65224],1,"\u0638"],[[65225,65228],1,"\u0639"],[[65229,65232],1,"\u063A"],[[65233,65236],1,"\u0641"],[[65237,65240],1,"\u0642"],[[65241,65244],1,"\u0643"],[[65245,65248],1,"\u0644"],[[65249,65252],1,"\u0645"],[[65253,65256],1,"\u0646"],[[65257,65260],1,"\u0647"],[[65261,65262],1,"\u0648"],[[65263,65264],1,"\u0649"],[[65265,65268],1,"\u064A"],[[65269,65270],1,"\u0644\u0622"],[[65271,65272],1,"\u0644\u0623"],[[65273,65274],1,"\u0644\u0625"],[[65275,65276],1,"\u0644\u0627"],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,"\""],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,"\u2985"],[65376,1,"\u2986"],[65377,1,"."],[65378,1,"\u300C"],[65379,1,"\u300D"],[65380,1,"\u3001"],[65381,1,"\u30FB"],[65382,1,"\u30F2"],[65383,1,"\u30A1"],[65384,1,"\u30A3"],[65385,1,"\u30A5"],[65386,1,"\u30A7"],[65387,1,"\u30A9"],[65388,1,"\u30E3"],[65389,1,"\u30E5"],[65390,1,"\u30E7"],[65391,1,"\u30C3"],[65392,1,"\u30FC"],[65393,1,"\u30A2"],[65394,1,"\u30A4"],[65395,1,"\u30A6"],[65396,1,"\u30A8"],[65397,1,"\u30AA"],[65398,1,"\u30AB"],[65399,1,"\u30AD"],[65400,1,"\u30AF"],[65401,1,"\u30B1"],[65402,1,"\u30B3"],[65403,1,"\u30B5"],[65404,1,"\u30B7"],[65405,1,"\u30B9"],[65406,1,"\u30BB"],[65407,1,"\u30BD"],[65408,1,"\u30BF"],[65409,1,"\u30C1"],[65410,1,"\u30C4"],[65411,1,"\u30C6"],[65412,1,"\u30C8"],[65413,1,"\u30CA"],[65414,1,"\u30CB"],[65415,1,"\u30CC"],[65416,1,"\u30CD"],[65417,1,"\u30CE"],[65418,1,"\u30CF"],[65419,1,"\u30D2"],[65420,1,"\u30D5"],[65421,1,"\u30D8"],[65422,1,"\u30DB"],[65423,1,"\u30DE"],[65424,1,"\u30DF"],[65425,1,"\u30E0"],[65426,1,"\u30E1"],[65427,1,"\u30E2"],[65428,1,"\u30E4"],[65429,1,"\u30E6"],[65430,1,"\u30E8"],[65431,1,"\u30E9"],[65432,1,"\u30EA"],[65433,1,"\u30EB"],[65434,1,"\u30EC"],[65435,1,"\u30ED"],[65436,1,"\u30EF"],[65437,1,"\u30F3"],[65438,1,"\u3099"],[65439,1,"\u309A"],[65440,3],[65441,1,"\u1100"],[65442,1,"\u1101"],[65443,1,"\u11AA"],[65444,1,"\u1102"],[65445,1,"\u11AC"],[65446,1,"\u11AD"],[65447,1,"\u1103"],[65448,1,"\u1104"],[65449,1,"\u1105"],[65450,1,"\u11B0"],[65451,1,"\u11B1"],[65452,1,"\u11B2"],[65453,1,"\u11B3"],[65454,1,"\u11B4"],[65455,1,"\u11B5"],[65456,1,"\u111A"],[65457,1,"\u1106"],[65458,1,"\u1107"],[65459,1,"\u1108"],[65460,1,"\u1121"],[65461,1,"\u1109"],[65462,1,"\u110A"],[65463,1,"\u110B"],[65464,1,"\u110C"],[65465,1,"\u110D"],[65466,1,"\u110E"],[65467,1,"\u110F"],[65468,1,"\u1110"],[65469,1,"\u1111"],[65470,1,"\u1112"],[[65471,65473],3],[65474,1,"\u1161"],[65475,1,"\u1162"],[65476,1,"\u1163"],[65477,1,"\u1164"],[65478,1,"\u1165"],[65479,1,"\u1166"],[[65480,65481],3],[65482,1,"\u1167"],[65483,1,"\u1168"],[65484,1,"\u1169"],[65485,1,"\u116A"],[65486,1,"\u116B"],[65487,1,"\u116C"],[[65488,65489],3],[65490,1,"\u116D"],[65491,1,"\u116E"],[65492,1,"\u116F"],[65493,1,"\u1170"],[65494,1,"\u1171"],[65495,1,"\u1172"],[[65496,65497],3],[65498,1,"\u1173"],[65499,1,"\u1174"],[65500,1,"\u1175"],[[65501,65503],3],[65504,1,"\xA2"],[65505,1,"\xA3"],[65506,1,"\xAC"],[65507,5," \u0304"],[65508,1,"\xA6"],[65509,1,"\xA5"],[65510,1,"\u20A9"],[65511,3],[65512,1,"\u2502"],[65513,1,"\u2190"],[65514,1,"\u2191"],[65515,1,"\u2192"],[65516,1,"\u2193"],[65517,1,"\u25A0"],[65518,1,"\u25CB"],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66000,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,"\uD801\uDC28"],[66561,1,"\uD801\uDC29"],[66562,1,"\uD801\uDC2A"],[66563,1,"\uD801\uDC2B"],[66564,1,"\uD801\uDC2C"],[66565,1,"\uD801\uDC2D"],[66566,1,"\uD801\uDC2E"],[66567,1,"\uD801\uDC2F"],[66568,1,"\uD801\uDC30"],[66569,1,"\uD801\uDC31"],[66570,1,"\uD801\uDC32"],[66571,1,"\uD801\uDC33"],[66572,1,"\uD801\uDC34"],[66573,1,"\uD801\uDC35"],[66574,1,"\uD801\uDC36"],[66575,1,"\uD801\uDC37"],[66576,1,"\uD801\uDC38"],[66577,1,"\uD801\uDC39"],[66578,1,"\uD801\uDC3A"],[66579,1,"\uD801\uDC3B"],[66580,1,"\uD801\uDC3C"],[66581,1,"\uD801\uDC3D"],[66582,1,"\uD801\uDC3E"],[66583,1,"\uD801\uDC3F"],[66584,1,"\uD801\uDC40"],[66585,1,"\uD801\uDC41"],[66586,1,"\uD801\uDC42"],[66587,1,"\uD801\uDC43"],[66588,1,"\uD801\uDC44"],[66589,1,"\uD801\uDC45"],[66590,1,"\uD801\uDC46"],[66591,1,"\uD801\uDC47"],[66592,1,"\uD801\uDC48"],[66593,1,"\uD801\uDC49"],[66594,1,"\uD801\uDC4A"],[66595,1,"\uD801\uDC4B"],[66596,1,"\uD801\uDC4C"],[66597,1,"\uD801\uDC4D"],[66598,1,"\uD801\uDC4E"],[66599,1,"\uD801\uDC4F"],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,"\uD801\uDCD8"],[66737,1,"\uD801\uDCD9"],[66738,1,"\uD801\uDCDA"],[66739,1,"\uD801\uDCDB"],[66740,1,"\uD801\uDCDC"],[66741,1,"\uD801\uDCDD"],[66742,1,"\uD801\uDCDE"],[66743,1,"\uD801\uDCDF"],[66744,1,"\uD801\uDCE0"],[66745,1,"\uD801\uDCE1"],[66746,1,"\uD801\uDCE2"],[66747,1,"\uD801\uDCE3"],[66748,1,"\uD801\uDCE4"],[66749,1,"\uD801\uDCE5"],[66750,1,"\uD801\uDCE6"],[66751,1,"\uD801\uDCE7"],[66752,1,"\uD801\uDCE8"],[66753,1,"\uD801\uDCE9"],[66754,1,"\uD801\uDCEA"],[66755,1,"\uD801\uDCEB"],[66756,1,"\uD801\uDCEC"],[66757,1,"\uD801\uDCED"],[66758,1,"\uD801\uDCEE"],[66759,1,"\uD801\uDCEF"],[66760,1,"\uD801\uDCF0"],[66761,1,"\uD801\uDCF1"],[66762,1,"\uD801\uDCF2"],[66763,1,"\uD801\uDCF3"],[66764,1,"\uD801\uDCF4"],[66765,1,"\uD801\uDCF5"],[66766,1,"\uD801\uDCF6"],[66767,1,"\uD801\uDCF7"],[66768,1,"\uD801\uDCF8"],[66769,1,"\uD801\uDCF9"],[66770,1,"\uD801\uDCFA"],[66771,1,"\uD801\uDCFB"],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,"\uD801\uDD97"],[66929,1,"\uD801\uDD98"],[66930,1,"\uD801\uDD99"],[66931,1,"\uD801\uDD9A"],[66932,1,"\uD801\uDD9B"],[66933,1,"\uD801\uDD9C"],[66934,1,"\uD801\uDD9D"],[66935,1,"\uD801\uDD9E"],[66936,1,"\uD801\uDD9F"],[66937,1,"\uD801\uDDA0"],[66938,1,"\uD801\uDDA1"],[66939,3],[66940,1,"\uD801\uDDA3"],[66941,1,"\uD801\uDDA4"],[66942,1,"\uD801\uDDA5"],[66943,1,"\uD801\uDDA6"],[66944,1,"\uD801\uDDA7"],[66945,1,"\uD801\uDDA8"],[66946,1,"\uD801\uDDA9"],[66947,1,"\uD801\uDDAA"],[66948,1,"\uD801\uDDAB"],[66949,1,"\uD801\uDDAC"],[66950,1,"\uD801\uDDAD"],[66951,1,"\uD801\uDDAE"],[66952,1,"\uD801\uDDAF"],[66953,1,"\uD801\uDDB0"],[66954,1,"\uD801\uDDB1"],[66955,3],[66956,1,"\uD801\uDDB3"],[66957,1,"\uD801\uDDB4"],[66958,1,"\uD801\uDDB5"],[66959,1,"\uD801\uDDB6"],[66960,1,"\uD801\uDDB7"],[66961,1,"\uD801\uDDB8"],[66962,1,"\uD801\uDDB9"],[66963,3],[66964,1,"\uD801\uDDBB"],[66965,1,"\uD801\uDDBC"],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,"\u02D0"],[67458,1,"\u02D1"],[67459,1,"\xE6"],[67460,1,"\u0299"],[67461,1,"\u0253"],[67462,3],[67463,1,"\u02A3"],[67464,1,"\uAB66"],[67465,1,"\u02A5"],[67466,1,"\u02A4"],[67467,1,"\u0256"],[67468,1,"\u0257"],[67469,1,"\u1D91"],[67470,1,"\u0258"],[67471,1,"\u025E"],[67472,1,"\u02A9"],[67473,1,"\u0264"],[67474,1,"\u0262"],[67475,1,"\u0260"],[67476,1,"\u029B"],[67477,1,"\u0127"],[67478,1,"\u029C"],[67479,1,"\u0267"],[67480,1,"\u0284"],[67481,1,"\u02AA"],[67482,1,"\u02AB"],[67483,1,"\u026C"],[67484,1,"\uD837\uDF04"],[67485,1,"\uA78E"],[67486,1,"\u026E"],[67487,1,"\uD837\uDF05"],[67488,1,"\u028E"],[67489,1,"\uD837\uDF06"],[67490,1,"\xF8"],[67491,1,"\u0276"],[67492,1,"\u0277"],[67493,1,"q"],[67494,1,"\u027A"],[67495,1,"\uD837\uDF08"],[67496,1,"\u027D"],[67497,1,"\u027E"],[67498,1,"\u0280"],[67499,1,"\u02A8"],[67500,1,"\u02A6"],[67501,1,"\uAB67"],[67502,1,"\u02A7"],[67503,1,"\u0288"],[67504,1,"\u2C71"],[67505,3],[67506,1,"\u028F"],[67507,1,"\u02A1"],[67508,1,"\u02A2"],[67509,1,"\u0298"],[67510,1,"\u01C0"],[67511,1,"\u01C1"],[67512,1,"\u01C2"],[67513,1,"\uD837\uDF0A"],[67514,1,"\uD837\uDF1E"],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,"\uD803\uDCC0"],[68737,1,"\uD803\uDCC1"],[68738,1,"\uD803\uDCC2"],[68739,1,"\uD803\uDCC3"],[68740,1,"\uD803\uDCC4"],[68741,1,"\uD803\uDCC5"],[68742,1,"\uD803\uDCC6"],[68743,1,"\uD803\uDCC7"],[68744,1,"\uD803\uDCC8"],[68745,1,"\uD803\uDCC9"],[68746,1,"\uD803\uDCCA"],[68747,1,"\uD803\uDCCB"],[68748,1,"\uD803\uDCCC"],[68749,1,"\uD803\uDCCD"],[68750,1,"\uD803\uDCCE"],[68751,1,"\uD803\uDCCF"],[68752,1,"\uD803\uDCD0"],[68753,1,"\uD803\uDCD1"],[68754,1,"\uD803\uDCD2"],[68755,1,"\uD803\uDCD3"],[68756,1,"\uD803\uDCD4"],[68757,1,"\uD803\uDCD5"],[68758,1,"\uD803\uDCD6"],[68759,1,"\uD803\uDCD7"],[68760,1,"\uD803\uDCD8"],[68761,1,"\uD803\uDCD9"],[68762,1,"\uD803\uDCDA"],[68763,1,"\uD803\uDCDB"],[68764,1,"\uD803\uDCDC"],[68765,1,"\uD803\uDCDD"],[68766,1,"\uD803\uDCDE"],[68767,1,"\uD803\uDCDF"],[68768,1,"\uD803\uDCE0"],[68769,1,"\uD803\uDCE1"],[68770,1,"\uD803\uDCE2"],[68771,1,"\uD803\uDCE3"],[68772,1,"\uD803\uDCE4"],[68773,1,"\uD803\uDCE5"],[68774,1,"\uD803\uDCE6"],[68775,1,"\uD803\uDCE7"],[68776,1,"\uD803\uDCE8"],[68777,1,"\uD803\uDCE9"],[68778,1,"\uD803\uDCEA"],[68779,1,"\uD803\uDCEB"],[68780,1,"\uD803\uDCEC"],[68781,1,"\uD803\uDCED"],[68782,1,"\uD803\uDCEE"],[68783,1,"\uD803\uDCEF"],[68784,1,"\uD803\uDCF0"],[68785,1,"\uD803\uDCF1"],[68786,1,"\uD803\uDCF2"],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69375],3],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,"\uD806\uDCC0"],[71841,1,"\uD806\uDCC1"],[71842,1,"\uD806\uDCC2"],[71843,1,"\uD806\uDCC3"],[71844,1,"\uD806\uDCC4"],[71845,1,"\uD806\uDCC5"],[71846,1,"\uD806\uDCC6"],[71847,1,"\uD806\uDCC7"],[71848,1,"\uD806\uDCC8"],[71849,1,"\uD806\uDCC9"],[71850,1,"\uD806\uDCCA"],[71851,1,"\uD806\uDCCB"],[71852,1,"\uD806\uDCCC"],[71853,1,"\uD806\uDCCD"],[71854,1,"\uD806\uDCCE"],[71855,1,"\uD806\uDCCF"],[71856,1,"\uD806\uDCD0"],[71857,1,"\uD806\uDCD1"],[71858,1,"\uD806\uDCD2"],[71859,1,"\uD806\uDCD3"],[71860,1,"\uD806\uDCD4"],[71861,1,"\uD806\uDCD5"],[71862,1,"\uD806\uDCD6"],[71863,1,"\uD806\uDCD7"],[71864,1,"\uD806\uDCD8"],[71865,1,"\uD806\uDCD9"],[71866,1,"\uD806\uDCDA"],[71867,1,"\uD806\uDCDB"],[71868,1,"\uD806\uDCDC"],[71869,1,"\uD806\uDCDD"],[71870,1,"\uD806\uDCDE"],[71871,1,"\uD806\uDCDF"],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,3],[[78896,78904],3],[[78905,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,"\uD81B\uDE60"],[93761,1,"\uD81B\uDE61"],[93762,1,"\uD81B\uDE62"],[93763,1,"\uD81B\uDE63"],[93764,1,"\uD81B\uDE64"],[93765,1,"\uD81B\uDE65"],[93766,1,"\uD81B\uDE66"],[93767,1,"\uD81B\uDE67"],[93768,1,"\uD81B\uDE68"],[93769,1,"\uD81B\uDE69"],[93770,1,"\uD81B\uDE6A"],[93771,1,"\uD81B\uDE6B"],[93772,1,"\uD81B\uDE6C"],[93773,1,"\uD81B\uDE6D"],[93774,1,"\uD81B\uDE6E"],[93775,1,"\uD81B\uDE6F"],[93776,1,"\uD81B\uDE70"],[93777,1,"\uD81B\uDE71"],[93778,1,"\uD81B\uDE72"],[93779,1,"\uD81B\uDE73"],[93780,1,"\uD81B\uDE74"],[93781,1,"\uD81B\uDE75"],[93782,1,"\uD81B\uDE76"],[93783,1,"\uD81B\uDE77"],[93784,1,"\uD81B\uDE78"],[93785,1,"\uD81B\uDE79"],[93786,1,"\uD81B\uDE7A"],[93787,1,"\uD81B\uDE7B"],[93788,1,"\uD81B\uDE7C"],[93789,1,"\uD81B\uDE7D"],[93790,1,"\uD81B\uDE7E"],[93791,1,"\uD81B\uDE7F"],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110927],3],[[110928,110930],2],[[110931,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,"\uD834\uDD57\uD834\uDD65"],[119135,1,"\uD834\uDD58\uD834\uDD65"],[119136,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6E"],[119137,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6F"],[119138,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD70"],[119139,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD71"],[119140,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD72"],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,"\uD834\uDDB9\uD834\uDD65"],[119228,1,"\uD834\uDDBA\uD834\uDD65"],[119229,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6E"],[119230,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6E"],[119231,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6F"],[119232,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6F"],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[120000,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,"\u0131"],[120485,1,"\u0237"],[[120486,120487],3],[120488,1,"\u03B1"],[120489,1,"\u03B2"],[120490,1,"\u03B3"],[120491,1,"\u03B4"],[120492,1,"\u03B5"],[120493,1,"\u03B6"],[120494,1,"\u03B7"],[120495,1,"\u03B8"],[120496,1,"\u03B9"],[120497,1,"\u03BA"],[120498,1,"\u03BB"],[120499,1,"\u03BC"],[120500,1,"\u03BD"],[120501,1,"\u03BE"],[120502,1,"\u03BF"],[120503,1,"\u03C0"],[120504,1,"\u03C1"],[120505,1,"\u03B8"],[120506,1,"\u03C3"],[120507,1,"\u03C4"],[120508,1,"\u03C5"],[120509,1,"\u03C6"],[120510,1,"\u03C7"],[120511,1,"\u03C8"],[120512,1,"\u03C9"],[120513,1,"\u2207"],[120514,1,"\u03B1"],[120515,1,"\u03B2"],[120516,1,"\u03B3"],[120517,1,"\u03B4"],[120518,1,"\u03B5"],[120519,1,"\u03B6"],[120520,1,"\u03B7"],[120521,1,"\u03B8"],[120522,1,"\u03B9"],[120523,1,"\u03BA"],[120524,1,"\u03BB"],[120525,1,"\u03BC"],[120526,1,"\u03BD"],[120527,1,"\u03BE"],[120528,1,"\u03BF"],[120529,1,"\u03C0"],[120530,1,"\u03C1"],[[120531,120532],1,"\u03C3"],[120533,1,"\u03C4"],[120534,1,"\u03C5"],[120535,1,"\u03C6"],[120536,1,"\u03C7"],[120537,1,"\u03C8"],[120538,1,"\u03C9"],[120539,1,"\u2202"],[120540,1,"\u03B5"],[120541,1,"\u03B8"],[120542,1,"\u03BA"],[120543,1,"\u03C6"],[120544,1,"\u03C1"],[120545,1,"\u03C0"],[120546,1,"\u03B1"],[120547,1,"\u03B2"],[120548,1,"\u03B3"],[120549,1,"\u03B4"],[120550,1,"\u03B5"],[120551,1,"\u03B6"],[120552,1,"\u03B7"],[120553,1,"\u03B8"],[120554,1,"\u03B9"],[120555,1,"\u03BA"],[120556,1,"\u03BB"],[120557,1,"\u03BC"],[120558,1,"\u03BD"],[120559,1,"\u03BE"],[120560,1,"\u03BF"],[120561,1,"\u03C0"],[120562,1,"\u03C1"],[120563,1,"\u03B8"],[120564,1,"\u03C3"],[120565,1,"\u03C4"],[120566,1,"\u03C5"],[120567,1,"\u03C6"],[120568,1,"\u03C7"],[120569,1,"\u03C8"],[120570,1,"\u03C9"],[120571,1,"\u2207"],[120572,1,"\u03B1"],[120573,1,"\u03B2"],[120574,1,"\u03B3"],[120575,1,"\u03B4"],[120576,1,"\u03B5"],[120577,1,"\u03B6"],[120578,1,"\u03B7"],[120579,1,"\u03B8"],[120580,1,"\u03B9"],[120581,1,"\u03BA"],[120582,1,"\u03BB"],[120583,1,"\u03BC"],[120584,1,"\u03BD"],[120585,1,"\u03BE"],[120586,1,"\u03BF"],[120587,1,"\u03C0"],[120588,1,"\u03C1"],[[120589,120590],1,"\u03C3"],[120591,1,"\u03C4"],[120592,1,"\u03C5"],[120593,1,"\u03C6"],[120594,1,"\u03C7"],[120595,1,"\u03C8"],[120596,1,"\u03C9"],[120597,1,"\u2202"],[120598,1,"\u03B5"],[120599,1,"\u03B8"],[120600,1,"\u03BA"],[120601,1,"\u03C6"],[120602,1,"\u03C1"],[120603,1,"\u03C0"],[120604,1,"\u03B1"],[120605,1,"\u03B2"],[120606,1,"\u03B3"],[120607,1,"\u03B4"],[120608,1,"\u03B5"],[120609,1,"\u03B6"],[120610,1,"\u03B7"],[120611,1,"\u03B8"],[120612,1,"\u03B9"],[120613,1,"\u03BA"],[120614,1,"\u03BB"],[120615,1,"\u03BC"],[120616,1,"\u03BD"],[120617,1,"\u03BE"],[120618,1,"\u03BF"],[120619,1,"\u03C0"],[120620,1,"\u03C1"],[120621,1,"\u03B8"],[120622,1,"\u03C3"],[120623,1,"\u03C4"],[120624,1,"\u03C5"],[120625,1,"\u03C6"],[120626,1,"\u03C7"],[120627,1,"\u03C8"],[120628,1,"\u03C9"],[120629,1,"\u2207"],[120630,1,"\u03B1"],[120631,1,"\u03B2"],[120632,1,"\u03B3"],[120633,1,"\u03B4"],[120634,1,"\u03B5"],[120635,1,"\u03B6"],[120636,1,"\u03B7"],[120637,1,"\u03B8"],[120638,1,"\u03B9"],[120639,1,"\u03BA"],[120640,1,"\u03BB"],[120641,1,"\u03BC"],[120642,1,"\u03BD"],[120643,1,"\u03BE"],[120644,1,"\u03BF"],[120645,1,"\u03C0"],[120646,1,"\u03C1"],[[120647,120648],1,"\u03C3"],[120649,1,"\u03C4"],[120650,1,"\u03C5"],[120651,1,"\u03C6"],[120652,1,"\u03C7"],[120653,1,"\u03C8"],[120654,1,"\u03C9"],[120655,1,"\u2202"],[120656,1,"\u03B5"],[120657,1,"\u03B8"],[120658,1,"\u03BA"],[120659,1,"\u03C6"],[120660,1,"\u03C1"],[120661,1,"\u03C0"],[120662,1,"\u03B1"],[120663,1,"\u03B2"],[120664,1,"\u03B3"],[120665,1,"\u03B4"],[120666,1,"\u03B5"],[120667,1,"\u03B6"],[120668,1,"\u03B7"],[120669,1,"\u03B8"],[120670,1,"\u03B9"],[120671,1,"\u03BA"],[120672,1,"\u03BB"],[120673,1,"\u03BC"],[120674,1,"\u03BD"],[120675,1,"\u03BE"],[120676,1,"\u03BF"],[120677,1,"\u03C0"],[120678,1,"\u03C1"],[120679,1,"\u03B8"],[120680,1,"\u03C3"],[120681,1,"\u03C4"],[120682,1,"\u03C5"],[120683,1,"\u03C6"],[120684,1,"\u03C7"],[120685,1,"\u03C8"],[120686,1,"\u03C9"],[120687,1,"\u2207"],[120688,1,"\u03B1"],[120689,1,"\u03B2"],[120690,1,"\u03B3"],[120691,1,"\u03B4"],[120692,1,"\u03B5"],[120693,1,"\u03B6"],[120694,1,"\u03B7"],[120695,1,"\u03B8"],[120696,1,"\u03B9"],[120697,1,"\u03BA"],[120698,1,"\u03BB"],[120699,1,"\u03BC"],[120700,1,"\u03BD"],[120701,1,"\u03BE"],[120702,1,"\u03BF"],[120703,1,"\u03C0"],[120704,1,"\u03C1"],[[120705,120706],1,"\u03C3"],[120707,1,"\u03C4"],[120708,1,"\u03C5"],[120709,1,"\u03C6"],[120710,1,"\u03C7"],[120711,1,"\u03C8"],[120712,1,"\u03C9"],[120713,1,"\u2202"],[120714,1,"\u03B5"],[120715,1,"\u03B8"],[120716,1,"\u03BA"],[120717,1,"\u03C6"],[120718,1,"\u03C1"],[120719,1,"\u03C0"],[120720,1,"\u03B1"],[120721,1,"\u03B2"],[120722,1,"\u03B3"],[120723,1,"\u03B4"],[120724,1,"\u03B5"],[120725,1,"\u03B6"],[120726,1,"\u03B7"],[120727,1,"\u03B8"],[120728,1,"\u03B9"],[120729,1,"\u03BA"],[120730,1,"\u03BB"],[120731,1,"\u03BC"],[120732,1,"\u03BD"],[120733,1,"\u03BE"],[120734,1,"\u03BF"],[120735,1,"\u03C0"],[120736,1,"\u03C1"],[120737,1,"\u03B8"],[120738,1,"\u03C3"],[120739,1,"\u03C4"],[120740,1,"\u03C5"],[120741,1,"\u03C6"],[120742,1,"\u03C7"],[120743,1,"\u03C8"],[120744,1,"\u03C9"],[120745,1,"\u2207"],[120746,1,"\u03B1"],[120747,1,"\u03B2"],[120748,1,"\u03B3"],[120749,1,"\u03B4"],[120750,1,"\u03B5"],[120751,1,"\u03B6"],[120752,1,"\u03B7"],[120753,1,"\u03B8"],[120754,1,"\u03B9"],[120755,1,"\u03BA"],[120756,1,"\u03BB"],[120757,1,"\u03BC"],[120758,1,"\u03BD"],[120759,1,"\u03BE"],[120760,1,"\u03BF"],[120761,1,"\u03C0"],[120762,1,"\u03C1"],[[120763,120764],1,"\u03C3"],[120765,1,"\u03C4"],[120766,1,"\u03C5"],[120767,1,"\u03C6"],[120768,1,"\u03C7"],[120769,1,"\u03C8"],[120770,1,"\u03C9"],[120771,1,"\u2202"],[120772,1,"\u03B5"],[120773,1,"\u03B8"],[120774,1,"\u03BA"],[120775,1,"\u03C6"],[120776,1,"\u03C1"],[120777,1,"\u03C0"],[[120778,120779],1,"\u03DD"],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,"\uD83A\uDD22"],[125185,1,"\uD83A\uDD23"],[125186,1,"\uD83A\uDD24"],[125187,1,"\uD83A\uDD25"],[125188,1,"\uD83A\uDD26"],[125189,1,"\uD83A\uDD27"],[125190,1,"\uD83A\uDD28"],[125191,1,"\uD83A\uDD29"],[125192,1,"\uD83A\uDD2A"],[125193,1,"\uD83A\uDD2B"],[125194,1,"\uD83A\uDD2C"],[125195,1,"\uD83A\uDD2D"],[125196,1,"\uD83A\uDD2E"],[125197,1,"\uD83A\uDD2F"],[125198,1,"\uD83A\uDD30"],[125199,1,"\uD83A\uDD31"],[125200,1,"\uD83A\uDD32"],[125201,1,"\uD83A\uDD33"],[125202,1,"\uD83A\uDD34"],[125203,1,"\uD83A\uDD35"],[125204,1,"\uD83A\uDD36"],[125205,1,"\uD83A\uDD37"],[125206,1,"\uD83A\uDD38"],[125207,1,"\uD83A\uDD39"],[125208,1,"\uD83A\uDD3A"],[125209,1,"\uD83A\uDD3B"],[125210,1,"\uD83A\uDD3C"],[125211,1,"\uD83A\uDD3D"],[125212,1,"\uD83A\uDD3E"],[125213,1,"\uD83A\uDD3F"],[125214,1,"\uD83A\uDD40"],[125215,1,"\uD83A\uDD41"],[125216,1,"\uD83A\uDD42"],[125217,1,"\uD83A\uDD43"],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,"\u0627"],[126465,1,"\u0628"],[126466,1,"\u062C"],[126467,1,"\u062F"],[126468,3],[126469,1,"\u0648"],[126470,1,"\u0632"],[126471,1,"\u062D"],[126472,1,"\u0637"],[126473,1,"\u064A"],[126474,1,"\u0643"],[126475,1,"\u0644"],[126476,1,"\u0645"],[126477,1,"\u0646"],[126478,1,"\u0633"],[126479,1,"\u0639"],[126480,1,"\u0641"],[126481,1,"\u0635"],[126482,1,"\u0642"],[126483,1,"\u0631"],[126484,1,"\u0634"],[126485,1,"\u062A"],[126486,1,"\u062B"],[126487,1,"\u062E"],[126488,1,"\u0630"],[126489,1,"\u0636"],[126490,1,"\u0638"],[126491,1,"\u063A"],[126492,1,"\u066E"],[126493,1,"\u06BA"],[126494,1,"\u06A1"],[126495,1,"\u066F"],[126496,3],[126497,1,"\u0628"],[126498,1,"\u062C"],[126499,3],[126500,1,"\u0647"],[[126501,126502],3],[126503,1,"\u062D"],[126504,3],[126505,1,"\u064A"],[126506,1,"\u0643"],[126507,1,"\u0644"],[126508,1,"\u0645"],[126509,1,"\u0646"],[126510,1,"\u0633"],[126511,1,"\u0639"],[126512,1,"\u0641"],[126513,1,"\u0635"],[126514,1,"\u0642"],[126515,3],[126516,1,"\u0634"],[126517,1,"\u062A"],[126518,1,"\u062B"],[126519,1,"\u062E"],[126520,3],[126521,1,"\u0636"],[126522,3],[126523,1,"\u063A"],[[126524,126529],3],[126530,1,"\u062C"],[[126531,126534],3],[126535,1,"\u062D"],[126536,3],[126537,1,"\u064A"],[126538,3],[126539,1,"\u0644"],[126540,3],[126541,1,"\u0646"],[126542,1,"\u0633"],[126543,1,"\u0639"],[126544,3],[126545,1,"\u0635"],[126546,1,"\u0642"],[126547,3],[126548,1,"\u0634"],[[126549,126550],3],[126551,1,"\u062E"],[126552,3],[126553,1,"\u0636"],[126554,3],[126555,1,"\u063A"],[126556,3],[126557,1,"\u06BA"],[126558,3],[126559,1,"\u066F"],[126560,3],[126561,1,"\u0628"],[126562,1,"\u062C"],[126563,3],[126564,1,"\u0647"],[[126565,126566],3],[126567,1,"\u062D"],[126568,1,"\u0637"],[126569,1,"\u064A"],[126570,1,"\u0643"],[126571,3],[126572,1,"\u0645"],[126573,1,"\u0646"],[126574,1,"\u0633"],[126575,1,"\u0639"],[126576,1,"\u0641"],[126577,1,"\u0635"],[126578,1,"\u0642"],[126579,3],[126580,1,"\u0634"],[126581,1,"\u062A"],[126582,1,"\u062B"],[126583,1,"\u062E"],[126584,3],[126585,1,"\u0636"],[126586,1,"\u0638"],[126587,1,"\u063A"],[126588,1,"\u066E"],[126589,3],[126590,1,"\u06A1"],[126591,3],[126592,1,"\u0627"],[126593,1,"\u0628"],[126594,1,"\u062C"],[126595,1,"\u062F"],[126596,1,"\u0647"],[126597,1,"\u0648"],[126598,1,"\u0632"],[126599,1,"\u062D"],[126600,1,"\u0637"],[126601,1,"\u064A"],[126602,3],[126603,1,"\u0644"],[126604,1,"\u0645"],[126605,1,"\u0646"],[126606,1,"\u0633"],[126607,1,"\u0639"],[126608,1,"\u0641"],[126609,1,"\u0635"],[126610,1,"\u0642"],[126611,1,"\u0631"],[126612,1,"\u0634"],[126613,1,"\u062A"],[126614,1,"\u062B"],[126615,1,"\u062E"],[126616,1,"\u0630"],[126617,1,"\u0636"],[126618,1,"\u0638"],[126619,1,"\u063A"],[[126620,126624],3],[126625,1,"\u0628"],[126626,1,"\u062C"],[126627,1,"\u062F"],[126628,3],[126629,1,"\u0648"],[126630,1,"\u0632"],[126631,1,"\u062D"],[126632,1,"\u0637"],[126633,1,"\u064A"],[126634,3],[126635,1,"\u0644"],[126636,1,"\u0645"],[126637,1,"\u0646"],[126638,1,"\u0633"],[126639,1,"\u0639"],[126640,1,"\u0641"],[126641,1,"\u0635"],[126642,1,"\u0642"],[126643,1,"\u0631"],[126644,1,"\u0634"],[126645,1,"\u062A"],[126646,1,"\u062B"],[126647,1,"\u062E"],[126648,1,"\u0630"],[126649,1,"\u0636"],[126650,1,"\u0638"],[126651,1,"\u063A"],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"\u3014s\u3015"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,"\u307B\u304B"],[127489,1,"\u30B3\u30B3"],[127490,1,"\u30B5"],[[127491,127503],3],[127504,1,"\u624B"],[127505,1,"\u5B57"],[127506,1,"\u53CC"],[127507,1,"\u30C7"],[127508,1,"\u4E8C"],[127509,1,"\u591A"],[127510,1,"\u89E3"],[127511,1,"\u5929"],[127512,1,"\u4EA4"],[127513,1,"\u6620"],[127514,1,"\u7121"],[127515,1,"\u6599"],[127516,1,"\u524D"],[127517,1,"\u5F8C"],[127518,1,"\u518D"],[127519,1,"\u65B0"],[127520,1,"\u521D"],[127521,1,"\u7D42"],[127522,1,"\u751F"],[127523,1,"\u8CA9"],[127524,1,"\u58F0"],[127525,1,"\u5439"],[127526,1,"\u6F14"],[127527,1,"\u6295"],[127528,1,"\u6355"],[127529,1,"\u4E00"],[127530,1,"\u4E09"],[127531,1,"\u904A"],[127532,1,"\u5DE6"],[127533,1,"\u4E2D"],[127534,1,"\u53F3"],[127535,1,"\u6307"],[127536,1,"\u8D70"],[127537,1,"\u6253"],[127538,1,"\u7981"],[127539,1,"\u7A7A"],[127540,1,"\u5408"],[127541,1,"\u6E80"],[127542,1,"\u6709"],[127543,1,"\u6708"],[127544,1,"\u7533"],[127545,1,"\u5272"],[127546,1,"\u55B6"],[127547,1,"\u914D"],[[127548,127551],3],[127552,1,"\u3014\u672C\u3015"],[127553,1,"\u3014\u4E09\u3015"],[127554,1,"\u3014\u4E8C\u3015"],[127555,1,"\u3014\u5B89\u3015"],[127556,1,"\u3014\u70B9\u3015"],[127557,1,"\u3014\u6253\u3015"],[127558,1,"\u3014\u76D7\u3015"],[127559,1,"\u3014\u52DD\u3015"],[127560,1,"\u3014\u6557\u3015"],[[127561,127567],3],[127568,1,"\u5F97"],[127569,1,"\u53EF"],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128000,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128732],3],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128895],3],[[128896,128980],2],[[128981,128984],2],[[128985,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],3],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],3],[[129712,129718],2],[[129719,129722],2],[[129723,129727],3],[[129728,129730],2],[[129731,129733],2],[[129734,129743],3],[[129744,129750],2],[[129751,129753],2],[[129754,129759],3],[[129760,129767],2],[[129768,129775],3],[[129776,129782],2],[[129783,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[[177977,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,"\u4E3D"],[194561,1,"\u4E38"],[194562,1,"\u4E41"],[194563,1,"\uD840\uDD22"],[194564,1,"\u4F60"],[194565,1,"\u4FAE"],[194566,1,"\u4FBB"],[194567,1,"\u5002"],[194568,1,"\u507A"],[194569,1,"\u5099"],[194570,1,"\u50E7"],[194571,1,"\u50CF"],[194572,1,"\u349E"],[194573,1,"\uD841\uDE3A"],[194574,1,"\u514D"],[194575,1,"\u5154"],[194576,1,"\u5164"],[194577,1,"\u5177"],[194578,1,"\uD841\uDD1C"],[194579,1,"\u34B9"],[194580,1,"\u5167"],[194581,1,"\u518D"],[194582,1,"\uD841\uDD4B"],[194583,1,"\u5197"],[194584,1,"\u51A4"],[194585,1,"\u4ECC"],[194586,1,"\u51AC"],[194587,1,"\u51B5"],[194588,1,"\uD864\uDDDF"],[194589,1,"\u51F5"],[194590,1,"\u5203"],[194591,1,"\u34DF"],[194592,1,"\u523B"],[194593,1,"\u5246"],[194594,1,"\u5272"],[194595,1,"\u5277"],[194596,1,"\u3515"],[194597,1,"\u52C7"],[194598,1,"\u52C9"],[194599,1,"\u52E4"],[194600,1,"\u52FA"],[194601,1,"\u5305"],[194602,1,"\u5306"],[194603,1,"\u5317"],[194604,1,"\u5349"],[194605,1,"\u5351"],[194606,1,"\u535A"],[194607,1,"\u5373"],[194608,1,"\u537D"],[[194609,194611],1,"\u537F"],[194612,1,"\uD842\uDE2C"],[194613,1,"\u7070"],[194614,1,"\u53CA"],[194615,1,"\u53DF"],[194616,1,"\uD842\uDF63"],[194617,1,"\u53EB"],[194618,1,"\u53F1"],[194619,1,"\u5406"],[194620,1,"\u549E"],[194621,1,"\u5438"],[194622,1,"\u5448"],[194623,1,"\u5468"],[194624,1,"\u54A2"],[194625,1,"\u54F6"],[194626,1,"\u5510"],[194627,1,"\u5553"],[194628,1,"\u5563"],[[194629,194630],1,"\u5584"],[194631,1,"\u5599"],[194632,1,"\u55AB"],[194633,1,"\u55B3"],[194634,1,"\u55C2"],[194635,1,"\u5716"],[194636,1,"\u5606"],[194637,1,"\u5717"],[194638,1,"\u5651"],[194639,1,"\u5674"],[194640,1,"\u5207"],[194641,1,"\u58EE"],[194642,1,"\u57CE"],[194643,1,"\u57F4"],[194644,1,"\u580D"],[194645,1,"\u578B"],[194646,1,"\u5832"],[194647,1,"\u5831"],[194648,1,"\u58AC"],[194649,1,"\uD845\uDCE4"],[194650,1,"\u58F2"],[194651,1,"\u58F7"],[194652,1,"\u5906"],[194653,1,"\u591A"],[194654,1,"\u5922"],[194655,1,"\u5962"],[194656,1,"\uD845\uDEA8"],[194657,1,"\uD845\uDEEA"],[194658,1,"\u59EC"],[194659,1,"\u5A1B"],[194660,1,"\u5A27"],[194661,1,"\u59D8"],[194662,1,"\u5A66"],[194663,1,"\u36EE"],[194664,3],[194665,1,"\u5B08"],[[194666,194667],1,"\u5B3E"],[194668,1,"\uD846\uDDC8"],[194669,1,"\u5BC3"],[194670,1,"\u5BD8"],[194671,1,"\u5BE7"],[194672,1,"\u5BF3"],[194673,1,"\uD846\uDF18"],[194674,1,"\u5BFF"],[194675,1,"\u5C06"],[194676,3],[194677,1,"\u5C22"],[194678,1,"\u3781"],[194679,1,"\u5C60"],[194680,1,"\u5C6E"],[194681,1,"\u5CC0"],[194682,1,"\u5C8D"],[194683,1,"\uD847\uDDE4"],[194684,1,"\u5D43"],[194685,1,"\uD847\uDDE6"],[194686,1,"\u5D6E"],[194687,1,"\u5D6B"],[194688,1,"\u5D7C"],[194689,1,"\u5DE1"],[194690,1,"\u5DE2"],[194691,1,"\u382F"],[194692,1,"\u5DFD"],[194693,1,"\u5E28"],[194694,1,"\u5E3D"],[194695,1,"\u5E69"],[194696,1,"\u3862"],[194697,1,"\uD848\uDD83"],[194698,1,"\u387C"],[194699,1,"\u5EB0"],[194700,1,"\u5EB3"],[194701,1,"\u5EB6"],[194702,1,"\u5ECA"],[194703,1,"\uD868\uDF92"],[194704,1,"\u5EFE"],[[194705,194706],1,"\uD848\uDF31"],[194707,1,"\u8201"],[[194708,194709],1,"\u5F22"],[194710,1,"\u38C7"],[194711,1,"\uD84C\uDEB8"],[194712,1,"\uD858\uDDDA"],[194713,1,"\u5F62"],[194714,1,"\u5F6B"],[194715,1,"\u38E3"],[194716,1,"\u5F9A"],[194717,1,"\u5FCD"],[194718,1,"\u5FD7"],[194719,1,"\u5FF9"],[194720,1,"\u6081"],[194721,1,"\u393A"],[194722,1,"\u391C"],[194723,1,"\u6094"],[194724,1,"\uD849\uDED4"],[194725,1,"\u60C7"],[194726,1,"\u6148"],[194727,1,"\u614C"],[194728,1,"\u614E"],[194729,1,"\u614C"],[194730,1,"\u617A"],[194731,1,"\u618E"],[194732,1,"\u61B2"],[194733,1,"\u61A4"],[194734,1,"\u61AF"],[194735,1,"\u61DE"],[194736,1,"\u61F2"],[194737,1,"\u61F6"],[194738,1,"\u6210"],[194739,1,"\u621B"],[194740,1,"\u625D"],[194741,1,"\u62B1"],[194742,1,"\u62D4"],[194743,1,"\u6350"],[194744,1,"\uD84A\uDF0C"],[194745,1,"\u633D"],[194746,1,"\u62FC"],[194747,1,"\u6368"],[194748,1,"\u6383"],[194749,1,"\u63E4"],[194750,1,"\uD84A\uDFF1"],[194751,1,"\u6422"],[194752,1,"\u63C5"],[194753,1,"\u63A9"],[194754,1,"\u3A2E"],[194755,1,"\u6469"],[194756,1,"\u647E"],[194757,1,"\u649D"],[194758,1,"\u6477"],[194759,1,"\u3A6C"],[194760,1,"\u654F"],[194761,1,"\u656C"],[194762,1,"\uD84C\uDC0A"],[194763,1,"\u65E3"],[194764,1,"\u66F8"],[194765,1,"\u6649"],[194766,1,"\u3B19"],[194767,1,"\u6691"],[194768,1,"\u3B08"],[194769,1,"\u3AE4"],[194770,1,"\u5192"],[194771,1,"\u5195"],[194772,1,"\u6700"],[194773,1,"\u669C"],[194774,1,"\u80AD"],[194775,1,"\u43D9"],[194776,1,"\u6717"],[194777,1,"\u671B"],[194778,1,"\u6721"],[194779,1,"\u675E"],[194780,1,"\u6753"],[194781,1,"\uD84C\uDFC3"],[194782,1,"\u3B49"],[194783,1,"\u67FA"],[194784,1,"\u6785"],[194785,1,"\u6852"],[194786,1,"\u6885"],[194787,1,"\uD84D\uDC6D"],[194788,1,"\u688E"],[194789,1,"\u681F"],[194790,1,"\u6914"],[194791,1,"\u3B9D"],[194792,1,"\u6942"],[194793,1,"\u69A3"],[194794,1,"\u69EA"],[194795,1,"\u6AA8"],[194796,1,"\uD84D\uDEA3"],[194797,1,"\u6ADB"],[194798,1,"\u3C18"],[194799,1,"\u6B21"],[194800,1,"\uD84E\uDCA7"],[194801,1,"\u6B54"],[194802,1,"\u3C4E"],[194803,1,"\u6B72"],[194804,1,"\u6B9F"],[194805,1,"\u6BBA"],[194806,1,"\u6BBB"],[194807,1,"\uD84E\uDE8D"],[194808,1,"\uD847\uDD0B"],[194809,1,"\uD84E\uDEFA"],[194810,1,"\u6C4E"],[194811,1,"\uD84F\uDCBC"],[194812,1,"\u6CBF"],[194813,1,"\u6CCD"],[194814,1,"\u6C67"],[194815,1,"\u6D16"],[194816,1,"\u6D3E"],[194817,1,"\u6D77"],[194818,1,"\u6D41"],[194819,1,"\u6D69"],[194820,1,"\u6D78"],[194821,1,"\u6D85"],[194822,1,"\uD84F\uDD1E"],[194823,1,"\u6D34"],[194824,1,"\u6E2F"],[194825,1,"\u6E6E"],[194826,1,"\u3D33"],[194827,1,"\u6ECB"],[194828,1,"\u6EC7"],[194829,1,"\uD84F\uDED1"],[194830,1,"\u6DF9"],[194831,1,"\u6F6E"],[194832,1,"\uD84F\uDF5E"],[194833,1,"\uD84F\uDF8E"],[194834,1,"\u6FC6"],[194835,1,"\u7039"],[194836,1,"\u701E"],[194837,1,"\u701B"],[194838,1,"\u3D96"],[194839,1,"\u704A"],[194840,1,"\u707D"],[194841,1,"\u7077"],[194842,1,"\u70AD"],[194843,1,"\uD841\uDD25"],[194844,1,"\u7145"],[194845,1,"\uD850\uDE63"],[194846,1,"\u719C"],[194847,3],[194848,1,"\u7228"],[194849,1,"\u7235"],[194850,1,"\u7250"],[194851,1,"\uD851\uDE08"],[194852,1,"\u7280"],[194853,1,"\u7295"],[194854,1,"\uD851\uDF35"],[194855,1,"\uD852\uDC14"],[194856,1,"\u737A"],[194857,1,"\u738B"],[194858,1,"\u3EAC"],[194859,1,"\u73A5"],[[194860,194861],1,"\u3EB8"],[194862,1,"\u7447"],[194863,1,"\u745C"],[194864,1,"\u7471"],[194865,1,"\u7485"],[194866,1,"\u74CA"],[194867,1,"\u3F1B"],[194868,1,"\u7524"],[194869,1,"\uD853\uDC36"],[194870,1,"\u753E"],[194871,1,"\uD853\uDC92"],[194872,1,"\u7570"],[194873,1,"\uD848\uDD9F"],[194874,1,"\u7610"],[194875,1,"\uD853\uDFA1"],[194876,1,"\uD853\uDFB8"],[194877,1,"\uD854\uDC44"],[194878,1,"\u3FFC"],[194879,1,"\u4008"],[194880,1,"\u76F4"],[194881,1,"\uD854\uDCF3"],[194882,1,"\uD854\uDCF2"],[194883,1,"\uD854\uDD19"],[194884,1,"\uD854\uDD33"],[194885,1,"\u771E"],[[194886,194887],1,"\u771F"],[194888,1,"\u774A"],[194889,1,"\u4039"],[194890,1,"\u778B"],[194891,1,"\u4046"],[194892,1,"\u4096"],[194893,1,"\uD855\uDC1D"],[194894,1,"\u784E"],[194895,1,"\u788C"],[194896,1,"\u78CC"],[194897,1,"\u40E3"],[194898,1,"\uD855\uDE26"],[194899,1,"\u7956"],[194900,1,"\uD855\uDE9A"],[194901,1,"\uD855\uDEC5"],[194902,1,"\u798F"],[194903,1,"\u79EB"],[194904,1,"\u412F"],[194905,1,"\u7A40"],[194906,1,"\u7A4A"],[194907,1,"\u7A4F"],[194908,1,"\uD856\uDD7C"],[[194909,194910],1,"\uD856\uDEA7"],[194911,3],[194912,1,"\u4202"],[194913,1,"\uD856\uDFAB"],[194914,1,"\u7BC6"],[194915,1,"\u7BC9"],[194916,1,"\u4227"],[194917,1,"\uD857\uDC80"],[194918,1,"\u7CD2"],[194919,1,"\u42A0"],[194920,1,"\u7CE8"],[194921,1,"\u7CE3"],[194922,1,"\u7D00"],[194923,1,"\uD857\uDF86"],[194924,1,"\u7D63"],[194925,1,"\u4301"],[194926,1,"\u7DC7"],[194927,1,"\u7E02"],[194928,1,"\u7E45"],[194929,1,"\u4334"],[194930,1,"\uD858\uDE28"],[194931,1,"\uD858\uDE47"],[194932,1,"\u4359"],[194933,1,"\uD858\uDED9"],[194934,1,"\u7F7A"],[194935,1,"\uD858\uDF3E"],[194936,1,"\u7F95"],[194937,1,"\u7FFA"],[194938,1,"\u8005"],[194939,1,"\uD859\uDCDA"],[194940,1,"\uD859\uDD23"],[194941,1,"\u8060"],[194942,1,"\uD859\uDDA8"],[194943,1,"\u8070"],[194944,1,"\uD84C\uDF5F"],[194945,1,"\u43D5"],[194946,1,"\u80B2"],[194947,1,"\u8103"],[194948,1,"\u440B"],[194949,1,"\u813E"],[194950,1,"\u5AB5"],[194951,1,"\uD859\uDFA7"],[194952,1,"\uD859\uDFB5"],[194953,1,"\uD84C\uDF93"],[194954,1,"\uD84C\uDF9C"],[194955,1,"\u8201"],[194956,1,"\u8204"],[194957,1,"\u8F9E"],[194958,1,"\u446B"],[194959,1,"\u8291"],[194960,1,"\u828B"],[194961,1,"\u829D"],[194962,1,"\u52B3"],[194963,1,"\u82B1"],[194964,1,"\u82B3"],[194965,1,"\u82BD"],[194966,1,"\u82E6"],[194967,1,"\uD85A\uDF3C"],[194968,1,"\u82E5"],[194969,1,"\u831D"],[194970,1,"\u8363"],[194971,1,"\u83AD"],[194972,1,"\u8323"],[194973,1,"\u83BD"],[194974,1,"\u83E7"],[194975,1,"\u8457"],[194976,1,"\u8353"],[194977,1,"\u83CA"],[194978,1,"\u83CC"],[194979,1,"\u83DC"],[194980,1,"\uD85B\uDC36"],[194981,1,"\uD85B\uDD6B"],[194982,1,"\uD85B\uDCD5"],[194983,1,"\u452B"],[194984,1,"\u84F1"],[194985,1,"\u84F3"],[194986,1,"\u8516"],[194987,1,"\uD85C\uDFCA"],[194988,1,"\u8564"],[194989,1,"\uD85B\uDF2C"],[194990,1,"\u455D"],[194991,1,"\u4561"],[194992,1,"\uD85B\uDFB1"],[194993,1,"\uD85C\uDCD2"],[194994,1,"\u456B"],[194995,1,"\u8650"],[194996,1,"\u865C"],[194997,1,"\u8667"],[194998,1,"\u8669"],[194999,1,"\u86A9"],[195000,1,"\u8688"],[195001,1,"\u870E"],[195002,1,"\u86E2"],[195003,1,"\u8779"],[195004,1,"\u8728"],[195005,1,"\u876B"],[195006,1,"\u8786"],[195007,3],[195008,1,"\u87E1"],[195009,1,"\u8801"],[195010,1,"\u45F9"],[195011,1,"\u8860"],[195012,1,"\u8863"],[195013,1,"\uD85D\uDE67"],[195014,1,"\u88D7"],[195015,1,"\u88DE"],[195016,1,"\u4635"],[195017,1,"\u88FA"],[195018,1,"\u34BB"],[195019,1,"\uD85E\uDCAE"],[195020,1,"\uD85E\uDD66"],[195021,1,"\u46BE"],[195022,1,"\u46C7"],[195023,1,"\u8AA0"],[195024,1,"\u8AED"],[195025,1,"\u8B8A"],[195026,1,"\u8C55"],[195027,1,"\uD85F\uDCA8"],[195028,1,"\u8CAB"],[195029,1,"\u8CC1"],[195030,1,"\u8D1B"],[195031,1,"\u8D77"],[195032,1,"\uD85F\uDF2F"],[195033,1,"\uD842\uDC04"],[195034,1,"\u8DCB"],[195035,1,"\u8DBC"],[195036,1,"\u8DF0"],[195037,1,"\uD842\uDCDE"],[195038,1,"\u8ED4"],[195039,1,"\u8F38"],[195040,1,"\uD861\uDDD2"],[195041,1,"\uD861\uDDED"],[195042,1,"\u9094"],[195043,1,"\u90F1"],[195044,1,"\u9111"],[195045,1,"\uD861\uDF2E"],[195046,1,"\u911B"],[195047,1,"\u9238"],[195048,1,"\u92D7"],[195049,1,"\u92D8"],[195050,1,"\u927C"],[195051,1,"\u93F9"],[195052,1,"\u9415"],[195053,1,"\uD862\uDFFA"],[195054,1,"\u958B"],[195055,1,"\u4995"],[195056,1,"\u95B7"],[195057,1,"\uD863\uDD77"],[195058,1,"\u49E6"],[195059,1,"\u96C3"],[195060,1,"\u5DB2"],[195061,1,"\u9723"],[195062,1,"\uD864\uDD45"],[195063,1,"\uD864\uDE1A"],[195064,1,"\u4A6E"],[195065,1,"\u4A76"],[195066,1,"\u97E0"],[195067,1,"\uD865\uDC0A"],[195068,1,"\u4AB2"],[195069,1,"\uD865\uDC96"],[[195070,195071],1,"\u980B"],[195072,1,"\u9829"],[195073,1,"\uD865\uDDB6"],[195074,1,"\u98E2"],[195075,1,"\u4B33"],[195076,1,"\u9929"],[195077,1,"\u99A7"],[195078,1,"\u99C2"],[195079,1,"\u99FE"],[195080,1,"\u4BCE"],[195081,1,"\uD866\uDF30"],[195082,1,"\u9B12"],[195083,1,"\u9C40"],[195084,1,"\u9CFD"],[195085,1,"\u4CCE"],[195086,1,"\u4CED"],[195087,1,"\u9D67"],[195088,1,"\uD868\uDCCE"],[195089,1,"\u4CF8"],[195090,1,"\uD868\uDD05"],[195091,1,"\uD868\uDE0E"],[195092,1,"\uD868\uDE91"],[195093,1,"\u9EBB"],[195094,1,"\u4D56"],[195095,1,"\u9EF9"],[195096,1,"\u9EFE"],[195097,1,"\u9F05"],[195098,1,"\u9F0F"],[195099,1,"\u9F16"],[195100,1,"\u9F3B"],[195101,1,"\uD869\uDE00"],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918000,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]});var LD=R((te,UD)=>{te.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}});var BD=R((LV1,AD)=>{var ee=function(Z){return/[^\x00-\x7F]/u.test(Z)},RD=function(Z,{useSTD3ASCIIRules:J}){let X=0,Y=VD.length-1;while(X<=Y){const G=Math.floor((X+Y)/2),$=VD[G],W=Array.isArray($[0])?$[0][0]:$[0],H=Array.isArray($[0])?$[0][1]:$[0];if(W<=Z&&H>=Z){if(J&&($[1]===H8.disallowed_STD3_valid||$[1]===H8.disallowed_STD3_mapped))return[H8.disallowed,...$.slice(2)];else if($[1]===H8.disallowed_STD3_valid)return[H8.valid,...$.slice(2)];else if($[1]===H8.disallowed_STD3_mapped)return[H8.mapped,...$.slice(2)];return $.slice(1)}else if(W>Z)Y=G-1;else X=G+1}return null},Z11=function(Z,{useSTD3ASCIIRules:J,processingOption:X}){let Y=!1,G="";for(let $ of Z){const[W,H]=RD($.codePointAt(0),{useSTD3ASCIIRules:J});switch(W){case H8.disallowed:Y=!0,G+=$;break;case H8.ignored:break;case H8.mapped:G+=H;break;case H8.deviation:if(X==="transitional")G+=H;else G+=$;break;case H8.valid:G+=$;break}}return{string:G,error:Y}},J11=function(Z,{checkHyphens:J,checkBidi:X,checkJoiners:Y,processingOption:G,useSTD3ASCIIRules:$}){if(Z.normalize("NFC")!==Z)return!1;const W=Array.from(Z);if(J){if(W[2]==="-"&&W[3]==="-"||(Z.startsWith("-")||Z.endsWith("-")))return!1}if(Z.includes(".")||W.length>0&&Q6.combiningMarks.test(W[0]))return!1;for(let H of W){const[q]=RD(H.codePointAt(0),{useSTD3ASCIIRules:$});if(G==="transitional"&&q!==H8.valid||G==="nontransitional"&&q!==H8.valid&&q!==H8.deviation)return!1}if(Y){let H=0;for(let[q,K]of W.entries())if(K==="\u200C"||K==="\u200D"){if(q>0){if(Q6.combiningClassVirama.test(W[q-1]))continue;if(K==="\u200C"){const Q=W.indexOf("\u200C",q+1),z=Q<0?W.slice(H):W.slice(H,Q);if(Q6.validZWNJ.test(z.join(""))){H=q+1;continue}}}return!1}}if(X){let H;if(Q6.bidiS1LTR.test(W[0]))H=!1;else if(Q6.bidiS1RTL.test(W[0]))H=!0;else return!1;if(H){if(!Q6.bidiS2.test(Z)||!Q6.bidiS3.test(Z)||Q6.bidiS4EN.test(Z)&&Q6.bidiS4AN.test(Z))return!1}else if(!Q6.bidiS5.test(Z)||!Q6.bidiS6.test(Z))return!1}return!0},X11=function(Z){const J=Z.map((X)=>{if(X.startsWith("xn--"))try{return yq.decode(X.substring(4))}catch(Y){return""}return X}).join(".");return Q6.bidiDomain.test(J)},wD=function(Z,J){const{processingOption:X}=J;let{string:Y,error:G}=Z11(Z,J);Y=Y.normalize("NFC");const $=Y.split("."),W=X11($);for(let[H,q]of $.entries()){let K=q,Q=X;if(K.startsWith("xn--")){try{K=yq.decode(K.substring(4)),$[H]=K}catch(F){G=!0;continue}Q="nontransitional"}if(G)continue;if(!J11(K,{...J,processingOption:Q,checkBidi:J.checkBidi&&W}))G=!0}return{string:$.join("."),error:G}},Y11=function(Z,{checkHyphens:J=!1,checkBidi:X=!1,checkJoiners:Y=!1,useSTD3ASCIIRules:G=!1,processingOption:$="nontransitional",verifyDNSLength:W=!1}={}){if($!=="transitional"&&$!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");const H=wD(Z,{processingOption:$,checkHyphens:J,checkBidi:X,checkJoiners:Y,useSTD3ASCIIRules:G});let q=H.string.split(".");if(q=q.map((K)=>{if(ee(K))try{return`xn--${yq.encode(K)}`}catch(Q){H.error=!0}return K}),W){const K=q.join(".").length;if(K>253||K===0)H.error=!0;for(let Q=0;Q<q.length;++Q)if(q[Q].length>63||q[Q].length===0){H.error=!0;break}}if(H.error)return null;return q.join(".")},G11=function(Z,{checkHyphens:J=!1,checkBidi:X=!1,checkJoiners:Y=!1,useSTD3ASCIIRules:G=!1,processingOption:$="nontransitional"}={}){const W=wD(Z,{processingOption:$,checkHyphens:J,checkBidi:X,checkJoiners:Y,useSTD3ASCIIRules:G});return{domain:W.string,error:W.error}},yq=import.meta.require("punycode"),Q6=zD(),VD=FD(),{STATUS_MAPPING:H8}=LD();AD.exports={toASCII:Y11,toUnicode:G11}});var vq=R((VV1,ND)=>{var bq=function(Z){return Z>=48&&Z<=57},MD=function(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122},$11=function(Z){return MD(Z)||bq(Z)},W11=function(Z){return bq(Z)||Z>=65&&Z<=70||Z>=97&&Z<=102};ND.exports={isASCIIDigit:bq,isASCIIAlpha:MD,isASCIIAlphanumeric:$11,isASCIIHex:W11}});var pX=R((RV1,ID)=>{var K11=function(Z){return H11.encode(Z)},Q11=function(Z){return q11.decode(Z)},H11=new TextEncoder,q11=new TextDecoder("utf-8",{ignoreBOM:!0});ID.exports={utf8Encode:K11,utf8DecodeWithoutBOM:Q11}});var iX=R((wV1,OD)=>{var D1=function(Z){return Z.codePointAt(0)},z11=function(Z){let J=Z.toString(16).toUpperCase();if(J.length===1)J=`0${J}`;return`%${J}`},PD=function(Z){const J=new Uint8Array(Z.byteLength);let X=0;for(let Y=0;Y<Z.byteLength;++Y){const G=Z[Y];if(G!==37)J[X++]=G;else if(G===37&&(!DD(Z[Y+1])||!DD(Z[Y+2])))J[X++]=G;else{const $=parseInt(String.fromCodePoint(Z[Y+1],Z[Y+2]),16);J[X++]=$,Y+=2}}return J.slice(0,X)},F11=function(Z){const J=CD(Z);return PD(J)},hq=function(Z){return Z<=31||Z>126},L11=function(Z){return hq(Z)||U11.has(Z)},uq=function(Z){return hq(Z)||V11.has(Z)},R11=function(Z){return uq(Z)||Z===D1("'")},ED=function(Z){return uq(Z)||w11.has(Z)},TD=function(Z){return ED(Z)||A11.has(Z)},M11=function(Z){return TD(Z)||B11.has(Z)},I11=function(Z){return M11(Z)||N11.has(Z)},jD=function(Z,J){const X=CD(Z);let Y="";for(let G of X)if(!J(G))Y+=String.fromCharCode(G);else Y+=z11(G);return Y},D11=function(Z,J){return jD(String.fromCodePoint(Z),J)},C11=function(Z,J,X=!1){let Y="";for(let G of Z)if(X&&G===" ")Y+="+";else Y+=jD(G,J);return Y},{isASCIIHex:DD}=vq(),{utf8Encode:CD}=pX(),U11=new Set([D1(" "),D1("\""),D1("<"),D1(">"),D1("`")]),V11=new Set([D1(" "),D1("\""),D1("#"),D1("<"),D1(">")]),w11=new Set([D1("?"),D1("`"),D1("{"),D1("}")]),A11=new Set([D1("/"),D1(":"),D1(";"),D1("="),D1("@"),D1("["),D1("\\"),D1("]"),D1("^"),D1("|")]),B11=new Set([D1("$"),D1("%"),D1("&"),D1("+"),D1(",")]),N11=new Set([D1("!"),D1("'"),D1("("),D1(")"),D1("~")]);OD.exports={isC0ControlPercentEncode:hq,isFragmentPercentEncode:L11,isQueryPercentEncode:uq,isSpecialQueryPercentEncode:R11,isPathPercentEncode:ED,isUserinfoPercentEncode:TD,isURLEncodedPercentEncode:I11,percentDecodeString:F11,percentDecodeBytes:PD,utf8PercentEncodeString:C11,utf8PercentEncodeCodePoint:D11}});var iq=R((o11,q8)=>{var c=function(Z){return Z.codePointAt(0)},SD=function(Z){return[...Z].length},kD=function(Z,J){const X=Z[J];return isNaN(X)?void 0:String.fromCodePoint(X)},_D=function(Z){return Z==="."||Z.toLowerCase()==="%2e"},_11=function(Z){return Z=Z.toLowerCase(),Z===".."||Z==="%2e."||Z===".%2e"||Z==="%2e%2e"},x11=function(Z,J){return v0.isASCIIAlpha(Z)&&(J===c(":")||J===c("|"))},yD=function(Z){return Z.length===2&&v0.isASCIIAlpha(Z.codePointAt(0))&&(Z[1]===":"||Z[1]==="|")},g11=function(Z){return Z.length===2&&v0.isASCIIAlpha(Z.codePointAt(0))&&Z[1]===":"},f11=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},y11=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},nX=function(Z){return fD[Z]!==void 0},b0=function(Z){return nX(Z.scheme)},mq=function(Z){return!nX(Z.scheme)},bD=function(Z){return fD[Z]},vD=function(Z){if(Z==="")return K1;let J=10;if(Z.length>=2&&Z.charAt(0)==="0"&&Z.charAt(1).toLowerCase()==="x")Z=Z.substring(2),J=16;else if(Z.length>=2&&Z.charAt(0)==="0")Z=Z.substring(1),J=8;if(Z==="")return 0;let X=/[^0-7]/u;if(J===10)X=/[^0-9]/u;if(J===16)X=/[^0-9A-Fa-f]/u;if(X.test(Z))return K1;return parseInt(Z,J)},b11=function(Z){const J=Z.split(".");if(J[J.length-1]===""){if(J.length>1)J.pop()}if(J.length>4)return K1;const X=[];for(let $ of J){const W=vD($);if(W===K1)return K1;X.push(W)}for(let $=0;$<X.length-1;++$)if(X[$]>255)return K1;if(X[X.length-1]>=256**(5-X.length))return K1;let Y=X.pop(),G=0;for(let $ of X)Y+=$*256**(3-G),++G;return Y},v11=function(Z){let J="",X=Z;for(let Y=1;Y<=4;++Y){if(J=String(X%256)+J,Y!==4)J=`.${J}`;X=Math.floor(X/256)}return J},h11=function(Z){const J=[0,0,0,0,0,0,0,0];let X=0,Y=null,G=0;if(Z=Array.from(Z,($)=>$.codePointAt(0)),Z[G]===c(":")){if(Z[G+1]!==c(":"))return K1;G+=2,++X,Y=X}while(G<Z.length){if(X===8)return K1;if(Z[G]===c(":")){if(Y!==null)return K1;++G,++X,Y=X;continue}let $=0,W=0;while(W<4&&v0.isASCIIHex(Z[G]))$=$*16+parseInt(kD(Z,G),16),++G,++W;if(Z[G]===c(".")){if(W===0)return K1;if(G-=W,X>6)return K1;let H=0;while(Z[G]!==void 0){let q=null;if(H>0)if(Z[G]===c(".")&&H<4)++G;else return K1;if(!v0.isASCIIDigit(Z[G]))return K1;while(v0.isASCIIDigit(Z[G])){const K=parseInt(kD(Z,G));if(q===null)q=K;else if(q===0)return K1;else q=q*10+K;if(q>255)return K1;++G}if(J[X]=J[X]*256+q,++H,H===2||H===4)++X}if(H!==4)return K1;break}else if(Z[G]===c(":")){if(++G,Z[G]===void 0)return K1}else if(Z[G]!==void 0)return K1;J[X]=$,++X}if(Y!==null){let $=X-Y;X=7;while(X!==0&&$>0){const W=J[Y+$-1];J[Y+$-1]=J[X],J[X]=W,--X,--$}}else if(Y===null&&X!==8)return K1;return J},u11=function(Z){let J="";const X=c11(Z);let Y=!1;for(let G=0;G<=7;++G){if(Y&&Z[G]===0)continue;else if(Y)Y=!1;if(X===G){J+=G===0?"::":":",Y=!0;continue}if(J+=Z[G].toString(16),G!==7)J+=":"}return J},dq=function(Z,J=!1){if(Z[0]==="["){if(Z[Z.length-1]!=="]")return K1;return h11(Z.substring(1,Z.length-1))}if(J)return d11(Z);const X=E11(T11(Z)),Y=l11(X);if(Y===K1)return K1;if(f11(Y))return K1;if(m11(Y))return b11(Y);return Y},m11=function(Z){const J=Z.split(".");if(J[J.length-1]===""){if(J.length===1)return!1;J.pop()}const X=J[J.length-1];if(vD(X)!==K1)return!0;if(/^[0-9]+$/u.test(X))return!0;return!1},d11=function(Z){if(y11(Z))return K1;return sX(Z,gD)},c11=function(Z){let J=null,X=1,Y=null,G=0;for(let $=0;$<Z.length;++$)if(Z[$]!==0){if(G>X)J=Y,X=G;Y=null,G=0}else{if(Y===null)Y=$;++G}if(G>X)return Y;return J},lq=function(Z){if(typeof Z==="number")return v11(Z);if(Z instanceof Array)return`[${u11(Z)}]`;return Z},l11=function(Z,J=!1){const X=P11.toASCII(Z,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:J,verifyDNSLength:J});if(X===null||X==="")return K1;return X},p11=function(Z){return Z.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")},i11=function(Z){return Z.replace(/\u0009|\u000A|\u000D/ug,"")},hD=function(Z){const{path:J}=Z;if(J.length===0)return;if(Z.scheme==="file"&&J.length===1&&a11(J[0]))return;J.pop()},uD=function(Z){return Z.username!==""||Z.password!==""},n11=function(Z){return Z.host===null||Z.host===""||M9(Z)||Z.scheme==="file"},M9=function(Z){return typeof Z.path==="string"},a11=function(Z){return/^[A-Za-z]:$/u.test(Z)},H0=function(Z,J,X,Y,G){if(this.pointer=0,this.input=Z,this.base=J||null,this.encodingOverride=X||"utf-8",this.stateOverride=G,this.url=Y,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};const W=p11(this.input);if(W!==this.input)this.parseError=!0;this.input=W}const $=i11(this.input);if($!==this.input)this.parseError=!0;this.input=$,this.state=G||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,(W)=>W.codePointAt(0));for(;this.pointer<=this.input.length;++this.pointer){const W=this.input[this.pointer],H=isNaN(W)?void 0:String.fromCodePoint(W),q=this[`parse ${this.state}`](W,H);if(!q)break;else if(q===K1){this.failure=!0;break}}},mD=function(Z,J){const X=Z.length-J;return X>=2&&x11(Z[J],Z[J+1])&&(X===2||s11.has(Z[J+2]))},r11=function(Z,J){let X=`${Z.scheme}:`;if(Z.host!==null){if(X+="//",Z.username!==""||Z.password!==""){if(X+=Z.username,Z.password!=="")X+=`:${Z.password}`;X+="@"}if(X+=lq(Z.host),Z.port!==null)X+=`:${Z.port}`}if(Z.host===null&&!M9(Z)&&Z.path.length>1&&Z.path[0]==="")X+="/.";if(X+=pq(Z),Z.query!==null)X+=`?${Z.query}`;if(!J&&Z.fragment!==null)X+=`#${Z.fragment}`;return X},t11=function(Z){let J=`${Z.scheme}://`;if(J+=lq(Z.host),Z.port!==null)J+=`:${Z.port}`;return J},pq=function(Z){if(M9(Z))return Z.path;let J="";for(let X of Z.path)J+=`/${X}`;return J},P11=BD(),v0=vq(),{utf8DecodeWithoutBOM:E11}=pX(),{percentDecodeString:T11,utf8PercentEncodeCodePoint:aX,utf8PercentEncodeString:sX,isC0ControlPercentEncode:gD,isFragmentPercentEncode:j11,isQueryPercentEncode:O11,isSpecialQueryPercentEncode:S11,isPathPercentEncode:k11,isUserinfoPercentEncode:cq}=iX(),fD={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K1=Symbol("failure");H0.prototype["parse scheme start"]=function Z(J,X){if(v0.isASCIIAlpha(J))this.buffer+=X.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,K1;return!0};H0.prototype["parse scheme"]=function Z(J,X){if(v0.isASCIIAlphanumeric(J)||J===c("+")||J===c("-")||J===c("."))this.buffer+=X.toLowerCase();else if(J===c(":")){if(this.stateOverride){if(b0(this.url)&&!nX(this.buffer))return!1;if(!b0(this.url)&&nX(this.buffer))return!1;if((uD(this.url)||this.url.port!==null)&&this.buffer==="file")return!1;if(this.url.scheme==="file"&&this.url.host==="")return!1}if(this.url.scheme=this.buffer,this.stateOverride){if(this.url.port===bD(this.url.scheme))this.url.port=null;return!1}if(this.buffer="",this.url.scheme==="file"){if(this.input[this.pointer+1]!==c("/")||this.input[this.pointer+2]!==c("/"))this.parseError=!0;this.state="file"}else if(b0(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme)this.state="special relative or authority";else if(b0(this.url))this.state="special authority slashes";else if(this.input[this.pointer+1]===c("/"))this.state="path or authority",++this.pointer;else this.url.path="",this.state="opaque path"}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,K1;return!0};H0.prototype["parse no scheme"]=function Z(J){if(this.base===null||M9(this.base)&&J!==c("#"))return K1;else if(M9(this.base)&&J===c("#"))this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else if(this.base.scheme==="file")this.state="file",--this.pointer;else this.state="relative",--this.pointer;return!0};H0.prototype["parse special relative or authority"]=function Z(J){if(J===c("/")&&this.input[this.pointer+1]===c("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="relative",--this.pointer;return!0};H0.prototype["parse path or authority"]=function Z(J){if(J===c("/"))this.state="authority";else this.state="path",--this.pointer;return!0};H0.prototype["parse relative"]=function Z(J){if(this.url.scheme=this.base.scheme,J===c("/"))this.state="relative slash";else if(b0(this.url)&&J===c("\\"))this.parseError=!0,this.state="relative slash";else if(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,J===c("?"))this.url.query="",this.state="query";else if(J===c("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(J))this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer;return!0};H0.prototype["parse relative slash"]=function Z(J){if(b0(this.url)&&(J===c("/")||J===c("\\"))){if(J===c("\\"))this.parseError=!0;this.state="special authority ignore slashes"}else if(J===c("/"))this.state="authority";else this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer;return!0};H0.prototype["parse special authority slashes"]=function Z(J){if(J===c("/")&&this.input[this.pointer+1]===c("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="special authority ignore slashes",--this.pointer;return!0};H0.prototype["parse special authority ignore slashes"]=function Z(J){if(J!==c("/")&&J!==c("\\"))this.state="authority",--this.pointer;else this.parseError=!0;return!0};H0.prototype["parse authority"]=function Z(J,X){if(J===c("@")){if(this.parseError=!0,this.atFlag)this.buffer=`%40${this.buffer}`;this.atFlag=!0;const Y=SD(this.buffer);for(let G=0;G<Y;++G){const $=this.buffer.codePointAt(G);if($===c(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const W=aX($,cq);if(this.passwordTokenSeenFlag)this.url.password+=W;else this.url.username+=W}this.buffer=""}else if(isNaN(J)||J===c("/")||J===c("?")||J===c("#")||b0(this.url)&&J===c("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,K1;this.pointer-=SD(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=X;return!0};H0.prototype["parse hostname"]=H0.prototype["parse host"]=function Z(J,X){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(J===c(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,K1;if(this.stateOverride==="hostname")return!1;const Y=dq(this.buffer,mq(this.url));if(Y===K1)return K1;this.url.host=Y,this.buffer="",this.state="port"}else if(isNaN(J)||J===c("/")||J===c("?")||J===c("#")||b0(this.url)&&J===c("\\")){if(--this.pointer,b0(this.url)&&this.buffer==="")return this.parseError=!0,K1;else if(this.stateOverride&&this.buffer===""&&(uD(this.url)||this.url.port!==null))return this.parseError=!0,!1;const Y=dq(this.buffer,mq(this.url));if(Y===K1)return K1;if(this.url.host=Y,this.buffer="",this.state="path start",this.stateOverride)return!1}else{if(J===c("["))this.arrFlag=!0;else if(J===c("]"))this.arrFlag=!1;this.buffer+=X}return!0};H0.prototype["parse port"]=function Z(J,X){if(v0.isASCIIDigit(J))this.buffer+=X;else if(isNaN(J)||J===c("/")||J===c("?")||J===c("#")||b0(this.url)&&J===c("\\")||this.stateOverride){if(this.buffer!==""){const Y=parseInt(this.buffer);if(Y>65535)return this.parseError=!0,K1;this.url.port=Y===bD(this.url.scheme)?null:Y,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,K1;return!0};var s11=new Set([c("/"),c("\\"),c("?"),c("#")]);H0.prototype["parse file"]=function Z(J){if(this.url.scheme="file",this.url.host="",J===c("/")||J===c("\\")){if(J===c("\\"))this.parseError=!0;this.state="file slash"}else if(this.base!==null&&this.base.scheme==="file"){if(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,J===c("?"))this.url.query="",this.state="query";else if(J===c("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(J)){if(this.url.query=null,!mD(this.input,this.pointer))hD(this.url);else this.parseError=!0,this.url.path=[];this.state="path",--this.pointer}}else this.state="path",--this.pointer;return!0};H0.prototype["parse file slash"]=function Z(J){if(J===c("/")||J===c("\\")){if(J===c("\\"))this.parseError=!0;this.state="file host"}else{if(this.base!==null&&this.base.scheme==="file"){if(!mD(this.input,this.pointer)&&g11(this.base.path[0]))this.url.path.push(this.base.path[0]);this.url.host=this.base.host}this.state="path",--this.pointer}return!0};H0.prototype["parse file host"]=function Z(J,X){if(isNaN(J)||J===c("/")||J===c("\\")||J===c("?")||J===c("#"))if(--this.pointer,!this.stateOverride&&yD(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let Y=dq(this.buffer,mq(this.url));if(Y===K1)return K1;if(Y==="localhost")Y="";if(this.url.host=Y,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=X;return!0};H0.prototype["parse path start"]=function Z(J){if(b0(this.url)){if(J===c("\\"))this.parseError=!0;if(this.state="path",J!==c("/")&&J!==c("\\"))--this.pointer}else if(!this.stateOverride&&J===c("?"))this.url.query="",this.state="query";else if(!this.stateOverride&&J===c("#"))this.url.fragment="",this.state="fragment";else if(J!==void 0){if(this.state="path",J!==c("/"))--this.pointer}else if(this.stateOverride&&this.url.host===null)this.url.path.push("");return!0};H0.prototype["parse path"]=function Z(J){if(isNaN(J)||J===c("/")||b0(this.url)&&J===c("\\")||!this.stateOverride&&(J===c("?")||J===c("#"))){if(b0(this.url)&&J===c("\\"))this.parseError=!0;if(_11(this.buffer)){if(hD(this.url),J!==c("/")&&!(b0(this.url)&&J===c("\\")))this.url.path.push("")}else if(_D(this.buffer)&&J!==c("/")&&!(b0(this.url)&&J===c("\\")))this.url.path.push("");else if(!_D(this.buffer)){if(this.url.scheme==="file"&&this.url.path.length===0&&yD(this.buffer))this.buffer=`${this.buffer[0]}:`;this.url.path.push(this.buffer)}if(this.buffer="",J===c("?"))this.url.query="",this.state="query";if(J===c("#"))this.url.fragment="",this.state="fragment"}else{if(J===c("%")&&(!v0.isASCIIHex(this.input[this.pointer+1])||!v0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=aX(J,k11)}return!0};H0.prototype["parse opaque path"]=function Z(J){if(J===c("?"))this.url.query="",this.state="query";else if(J===c("#"))this.url.fragment="",this.state="fragment";else{if(!isNaN(J)&&J!==c("%"))this.parseError=!0;if(J===c("%")&&(!v0.isASCIIHex(this.input[this.pointer+1])||!v0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;if(!isNaN(J))this.url.path+=aX(J,gD)}return!0};H0.prototype["parse query"]=function Z(J,X){if(!b0(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")this.encodingOverride="utf-8";if(!this.stateOverride&&J===c("#")||isNaN(J)){const Y=b0(this.url)?S11:O11;if(this.url.query+=sX(this.buffer,Y),this.buffer="",J===c("#"))this.url.fragment="",this.state="fragment"}else if(!isNaN(J)){if(J===c("%")&&(!v0.isASCIIHex(this.input[this.pointer+1])||!v0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=X}return!0};H0.prototype["parse fragment"]=function Z(J){if(!isNaN(J)){if(J===c("%")&&(!v0.isASCIIHex(this.input[this.pointer+1])||!v0.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.url.fragment+=aX(J,j11)}return!0};o11.serializeURL=r11;o11.serializePath=pq;o11.serializeURLOrigin=function(Z){switch(Z.scheme){case"blob":try{return o11.serializeURLOrigin(o11.parseURL(pq(Z)))}catch(J){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return t11({scheme:Z.scheme,host:Z.host,port:Z.port});case"file":return"null";default:return"null"}};o11.basicURLParse=function(Z,J){if(J===void 0)J={};const X=new H0(Z,J.baseURL,J.encodingOverride,J.url,J.stateOverride);if(X.failure)return null;return X.url};o11.setTheUsername=function(Z,J){Z.username=sX(J,cq)};o11.setThePassword=function(Z,J){Z.password=sX(J,cq)};o11.serializeHost=lq;o11.cannotHaveAUsernamePasswordPort=n11;o11.hasAnOpaquePath=M9;o11.serializeInteger=function(Z){return String(Z)};o11.parseURL=function(Z,J){if(J===void 0)J={};return o11.basicURLParse(Z,{baseURL:J.baseURL,encodingOverride:J.encodingOverride})}});var nq=R((AV1,sD)=>{var nD=function(Z){return Z.codePointAt(0)},K01=function(Z){const J=F01(Z,nD("&")),X=[];for(let Y of J){if(Y.length===0)continue;let G,$;const W=Y.indexOf(nD("="));if(W>=0)G=Y.slice(0,W),$=Y.slice(W+1);else G=Y,$=new Uint8Array(0);G=aD(G,43,32),$=aD($,43,32);const H=cD(lD(G)),q=cD(lD($));X.push([H,q])}return X},Q01=function(Z){return K01(q01(Z))},z01=function(Z,J=void 0){let X="utf-8";if(J!==void 0)X=J;let Y="";for(let[G,$]of Z.entries()){const W=pD($[0],iD,!0);let H=$[1];if($.length>2&&$[2]!==void 0){if($[2]==="hidden"&&W==="_charset_")H=X;else if($[2]==="file")H=H.name}if(H=pD(H,iD,!0),G!==0)Y+="&";Y+=`${W}=${H}`}return Y},F01=function(Z,J){const X=[];let Y=0,G=Z.indexOf(J);while(G>=0)X.push(Z.slice(Y,G)),Y=G+1,G=Z.indexOf(J,Y);if(Y!==Z.length)X.push(Z.slice(Y));return X},aD=function(Z,J,X){let Y=Z.indexOf(J);while(Y>=0)Z[Y]=X,Y=Z.indexOf(J,Y+1);return Z},{utf8Encode:q01,utf8DecodeWithoutBOM:cD}=pX(),{percentDecodeBytes:lD,utf8PercentEncodeString:pD,isURLEncodedPercentEncode:iD}=iX();sD.exports={parseUrlencodedString:Q01,serializeUrlencoded:z01}});var tD=R((U01)=>{var rD=dX(),rX=lX();U01.convert=(Z,J,{context:X="The provided value"}={})=>{if(typeof J!=="function")throw new Z.TypeError(X+" is not a function");function Y(...G){const $=rX.tryWrapperForImpl(this);let W;for(let H=0;H<G.length;H++)G[H]=rX.tryWrapperForImpl(G[H]);return W=Reflect.apply(J,$,G),W=rD.any(W,{context:X,globals:Z}),W}return Y.construct=(...G)=>{for(let W=0;W<G.length;W++)G[W]=rX.tryWrapperForImpl(G[W]);let $=Reflect.construct(J,G);return $=rD.any($,{context:X,globals:Z}),$},Y[rX.wrapperSymbol]=J,Y.objectReference=J,Y}});var oD=R((V01)=>{var aq=nq();V01.implementation=class Z{constructor(J,X,{doNotStripQMark:Y=!1}){let G=X[0];if(this._list=[],this._url=null,!Y&&typeof G==="string"&&G[0]==="?")G=G.slice(1);if(Array.isArray(G))for(let $ of G){if($.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([$[0],$[1]])}else if(typeof G==="object"&&Object.getPrototypeOf(G)===null)for(let $ of Object.keys(G)){const W=G[$];this._list.push([$,W])}else this._list=aq.parseUrlencodedString(G)}_updateSteps(){if(this._url!==null){let J=aq.serializeUrlencoded(this._list);if(J==="")J=null;this._url._url.query=J}}append(J,X){this._list.push([J,X]),this._updateSteps()}delete(J){let X=0;while(X<this._list.length)if(this._list[X][0]===J)this._list.splice(X,1);else X++;this._updateSteps()}get(J){for(let X of this._list)if(X[0]===J)return X[1];return null}getAll(J){const X=[];for(let Y of this._list)if(Y[0]===J)X.push(Y[1]);return X}has(J){for(let X of this._list)if(X[0]===J)return!0;return!1}set(J,X){let Y=!1,G=0;while(G<this._list.length)if(this._list[G][0]===J)if(Y)this._list.splice(G,1);else Y=!0,this._list[G][1]=X,G++;else G++;if(!Y)this._list.push([J,X]);this._updateSteps()}sort(){this._list.sort((J,X)=>{if(J[0]<X[0])return-1;if(J[0]>X[0])return 1;return 0}),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return aq.serializeUrlencoded(this._list)}}});var rq=R((B01)=>{var J2=function(Z,J){let X;if(J!==void 0)X=J.prototype;if(!u1.isObject(X))X=Z[Z2].URLSearchParams.prototype;return Object.create(X)},z6=dX(),u1=lX(),w01=tD(),eD=u1.newObjectInRealm,w0=u1.implSymbol,Z2=u1.ctorRegistrySymbol;B01.is=(Z)=>{return u1.isObject(Z)&&u1.hasOwn(Z,w0)&&Z[w0]instanceof K7.implementation};B01.isImpl=(Z)=>{return u1.isObject(Z)&&Z instanceof K7.implementation};B01.convert=(Z,J,{context:X="The provided value"}={})=>{if(B01.is(J))return u1.implForWrapper(J);throw new Z.TypeError(`${X} is not of type 'URLSearchParams'.`)};B01.createDefaultIterator=(Z,J,X)=>{const G=Z[Z2]["URLSearchParams Iterator"],$=Object.create(G);return Object.defineProperty($,u1.iterInternalSymbol,{value:{target:J,kind:X,index:0},configurable:!0}),$};B01.create=(Z,J,X)=>{const Y=J2(Z);return B01.setup(Y,Z,J,X)};B01.createImpl=(Z,J,X)=>{const Y=B01.create(Z,J,X);return u1.implForWrapper(Y)};B01._internalSetup=(Z,J)=>{};B01.setup=(Z,J,X=[],Y={})=>{if(Y.wrapper=Z,B01._internalSetup(Z,J),Object.defineProperty(Z,w0,{value:new K7.implementation(J,X,Y),configurable:!0}),Z[w0][u1.wrapperSymbol]=Z,K7.init)K7.init(Z[w0]);return Z};B01.new=(Z,J)=>{const X=J2(Z,J);if(B01._internalSetup(X,Z),Object.defineProperty(X,w0,{value:Object.create(K7.implementation.prototype),configurable:!0}),X[w0][u1.wrapperSymbol]=X,K7.init)K7.init(X[w0]);return X[w0]};var A01=new Set(["Window","Worker"]);B01.install=(Z,J)=>{if(!J.some((G)=>A01.has(G)))return;const X=u1.initCtorRegistry(Z);class Y{constructor(){const G=[];{let $=arguments[0];if($!==void 0)if(u1.isObject($))if($[Symbol.iterator]!==void 0)if(!u1.isObject($))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else{const W=[],H=$;for(let q of H){if(!u1.isObject(q))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");else{const K=[],Q=q;for(let z of Q)z=z6.USVString(z,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:Z}),K.push(z);q=K}W.push(q)}$=W}else if(!u1.isObject($))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else{const W=Object.create(null);for(let H of Reflect.ownKeys($)){const q=Object.getOwnPropertyDescriptor($,H);if(q&&q.enumerable){let K=H;K=z6.USVString(K,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:Z});let Q=$[H];Q=z6.USVString(Q,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:Z}),W[K]=Q}}$=W}else $=z6.USVString($,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:Z});else $="";G.push($)}return B01.setup(Object.create(new.target.prototype),Z,G)}append(G,$){const W=this!==null&&this!==void 0?this:Z;if(!B01.is(W))throw new Z.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const H=[];{let q=arguments[0];q=z6.USVString(q,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:Z}),H.push(q)}{let q=arguments[1];q=z6.USVString(q,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:Z}),H.push(q)}return u1.tryWrapperForImpl(W[w0].append(...H))}delete(G){const $=this!==null&&this!==void 0?this:Z;if(!B01.is($))throw new Z.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const W=[];{let H=arguments[0];H=z6.USVString(H,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:Z}),W.push(H)}return u1.tryWrapperForImpl($[w0].delete(...W))}get(G){const $=this!==null&&this!==void 0?this:Z;if(!B01.is($))throw new Z.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const W=[];{let H=arguments[0];H=z6.USVString(H,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:Z}),W.push(H)}return $[w0].get(...W)}getAll(G){const $=this!==null&&this!==void 0?this:Z;if(!B01.is($))throw new Z.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const W=[];{let H=arguments[0];H=z6.USVString(H,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:Z}),W.push(H)}return u1.tryWrapperForImpl($[w0].getAll(...W))}has(G){const $=this!==null&&this!==void 0?this:Z;if(!B01.is($))throw new Z.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const W=[];{let H=arguments[0];H=z6.USVString(H,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:Z}),W.push(H)}return $[w0].has(...W)}set(G,$){const W=this!==null&&this!==void 0?this:Z;if(!B01.is(W))throw new Z.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const H=[];{let q=arguments[0];q=z6.USVString(q,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:Z}),H.push(q)}{let q=arguments[1];q=z6.USVString(q,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:Z}),H.push(q)}return u1.tryWrapperForImpl(W[w0].set(...H))}sort(){const G=this!==null&&this!==void 0?this:Z;if(!B01.is(G))throw new Z.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return u1.tryWrapperForImpl(G[w0].sort())}toString(){const G=this!==null&&this!==void 0?this:Z;if(!B01.is(G))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return G[w0].toString()}keys(){if(!B01.is(this))throw new Z.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return B01.createDefaultIterator(Z,this,"key")}values(){if(!B01.is(this))throw new Z.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return B01.createDefaultIterator(Z,this,"value")}entries(){if(!B01.is(this))throw new Z.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return B01.createDefaultIterator(Z,this,"key+value")}forEach(G){if(!B01.is(this))throw new Z.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");G=w01.convert(Z,G,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});const $=arguments[1];let W=Array.from(this[w0]),H=0;while(H<W.length){const[q,K]=W[H].map(u1.tryWrapperForImpl);G.call($,K,q,this),W=Array.from(this[w0]),H++}}}Object.defineProperties(Y.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:Y.prototype.entries,configurable:!0,writable:!0}}),X["URLSearchParams"]=Y,X["URLSearchParams Iterator"]=Object.create(X["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),u1.define(X["URLSearchParams Iterator"],{next(){const G=this&&this[u1.iterInternalSymbol];if(!G)throw new Z.TypeError("next() called on a value that is not a URLSearchParams iterator object");const{target:$,kind:W,index:H}=G,q=Array.from($[w0]),K=q.length;if(H>=K)return eD(Z,{value:void 0,done:!0});const Q=q[H];return G.index=H+1,eD(Z,u1.iteratorResult(Q.map(u1.tryWrapperForImpl),W))}}),Object.defineProperty(Z,"URLSearchParams",{configurable:!0,writable:!0,value:Y})};var K7=oD()});var $2=R((E01)=>{var n1=iq(),G2=nq(),P01=rq();E01.implementation=class Z{constructor(J,X){const Y=X[0],G=X[1];let $=null;if(G!==void 0){if($=n1.basicURLParse(G),$===null)throw new TypeError(`Invalid base URL: ${G}`)}const W=n1.basicURLParse(Y,{baseURL:$});if(W===null)throw new TypeError(`Invalid URL: ${Y}`);const H=W.query!==null?W.query:"";this._url=W,this._query=P01.createImpl(J,[H],{doNotStripQMark:!0}),this._query._url=this}get href(){return n1.serializeURL(this._url)}set href(J){const X=n1.basicURLParse(J);if(X===null)throw new TypeError(`Invalid URL: ${J}`);this._url=X,this._query._list.splice(0);const{query:Y}=X;if(Y!==null)this._query._list=G2.parseUrlencodedString(Y)}get origin(){return n1.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(J){n1.basicURLParse(`${J}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(J){if(n1.cannotHaveAUsernamePasswordPort(this._url))return;n1.setTheUsername(this._url,J)}get password(){return this._url.password}set password(J){if(n1.cannotHaveAUsernamePasswordPort(this._url))return;n1.setThePassword(this._url,J)}get host(){const J=this._url;if(J.host===null)return"";if(J.port===null)return n1.serializeHost(J.host);return`${n1.serializeHost(J.host)}:${n1.serializeInteger(J.port)}`}set host(J){if(n1.hasAnOpaquePath(this._url))return;n1.basicURLParse(J,{url:this._url,stateOverride:"host"})}get hostname(){if(this._url.host===null)return"";return n1.serializeHost(this._url.host)}set hostname(J){if(n1.hasAnOpaquePath(this._url))return;n1.basicURLParse(J,{url:this._url,stateOverride:"hostname"})}get port(){if(this._url.port===null)return"";return n1.serializeInteger(this._url.port)}set port(J){if(n1.cannotHaveAUsernamePasswordPort(this._url))return;if(J==="")this._url.port=null;else n1.basicURLParse(J,{url:this._url,stateOverride:"port"})}get pathname(){return n1.serializePath(this._url)}set pathname(J){if(n1.hasAnOpaquePath(this._url))return;this._url.path=[],n1.basicURLParse(J,{url:this._url,stateOverride:"path start"})}get search(){if(this._url.query===null||this._url.query==="")return"";return`?${this._url.query}`}set search(J){const X=this._url;if(J===""){X.query=null,this._query._list=[];return}const Y=J[0]==="?"?J.substring(1):J;X.query="",n1.basicURLParse(Y,{url:X,stateOverride:"query"}),this._query._list=G2.parseUrlencodedString(Y)}get searchParams(){return this._query}get hash(){if(this._url.fragment===null||this._url.fragment==="")return"";return`#${this._url.fragment}`}set hash(J){if(J===""){this._url.fragment=null;return}const X=J[0]==="#"?J.substring(1):J;this._url.fragment="",n1.basicURLParse(X,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var K2=R((S01)=>{var W2=function(Z,J){let X;if(J!==void 0)X=J.prototype;if(!l8.isObject(X))X=Z[j01].URL.prototype;return Object.create(X)},F6=dX(),l8=lX(),E1=l8.implSymbol,j01=l8.ctorRegistrySymbol;S01.is=(Z)=>{return l8.isObject(Z)&&l8.hasOwn(Z,E1)&&Z[E1]instanceof Q7.implementation};S01.isImpl=(Z)=>{return l8.isObject(Z)&&Z instanceof Q7.implementation};S01.convert=(Z,J,{context:X="The provided value"}={})=>{if(S01.is(J))return l8.implForWrapper(J);throw new Z.TypeError(`${X} is not of type 'URL'.`)};S01.create=(Z,J,X)=>{const Y=W2(Z);return S01.setup(Y,Z,J,X)};S01.createImpl=(Z,J,X)=>{const Y=S01.create(Z,J,X);return l8.implForWrapper(Y)};S01._internalSetup=(Z,J)=>{};S01.setup=(Z,J,X=[],Y={})=>{if(Y.wrapper=Z,S01._internalSetup(Z,J),Object.defineProperty(Z,E1,{value:new Q7.implementation(J,X,Y),configurable:!0}),Z[E1][l8.wrapperSymbol]=Z,Q7.init)Q7.init(Z[E1]);return Z};S01.new=(Z,J)=>{const X=W2(Z,J);if(S01._internalSetup(X,Z),Object.defineProperty(X,E1,{value:Object.create(Q7.implementation.prototype),configurable:!0}),X[E1][l8.wrapperSymbol]=X,Q7.init)Q7.init(X[E1]);return X[E1]};var O01=new Set(["Window","Worker"]);S01.install=(Z,J)=>{if(!J.some((G)=>O01.has(G)))return;const X=l8.initCtorRegistry(Z);class Y{constructor(G){if(arguments.length<1)throw new Z.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);const $=[];{let W=arguments[0];W=F6.USVString(W,{context:"Failed to construct 'URL': parameter 1",globals:Z}),$.push(W)}{let W=arguments[1];if(W!==void 0)W=F6.USVString(W,{context:"Failed to construct 'URL': parameter 2",globals:Z});$.push(W)}return S01.setup(Object.create(new.target.prototype),Z,$)}toJSON(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return G[E1].toJSON()}get href(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get href' called on an object that is not a valid instance of URL.");return G[E1].href}set href(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set href' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:Z}),$[E1].href=G}toString(){const G=this;if(!S01.is(G))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URL.");return G[E1].href}get origin(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get origin' called on an object that is not a valid instance of URL.");return G[E1].origin}get protocol(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return G[E1].protocol}set protocol(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set protocol' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:Z}),$[E1].protocol=G}get username(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get username' called on an object that is not a valid instance of URL.");return G[E1].username}set username(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set username' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:Z}),$[E1].username=G}get password(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get password' called on an object that is not a valid instance of URL.");return G[E1].password}set password(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set password' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:Z}),$[E1].password=G}get host(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get host' called on an object that is not a valid instance of URL.");return G[E1].host}set host(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set host' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:Z}),$[E1].host=G}get hostname(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return G[E1].hostname}set hostname(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set hostname' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:Z}),$[E1].hostname=G}get port(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get port' called on an object that is not a valid instance of URL.");return G[E1].port}set port(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set port' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:Z}),$[E1].port=G}get pathname(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return G[E1].pathname}set pathname(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set pathname' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:Z}),$[E1].pathname=G}get search(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get search' called on an object that is not a valid instance of URL.");return G[E1].search}set search(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set search' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:Z}),$[E1].search=G}get searchParams(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return l8.getSameObject(this,"searchParams",()=>{return l8.tryWrapperForImpl(G[E1].searchParams)})}get hash(){const G=this!==null&&this!==void 0?this:Z;if(!S01.is(G))throw new Z.TypeError("'get hash' called on an object that is not a valid instance of URL.");return G[E1].hash}set hash(G){const $=this!==null&&this!==void 0?this:Z;if(!S01.is($))throw new Z.TypeError("'set hash' called on an object that is not a valid instance of URL.");G=F6.USVString(G,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:Z}),$[E1].hash=G}}if(Object.defineProperties(Y.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),X["URL"]=Y,Object.defineProperty(Z,"URL",{configurable:!0,writable:!0,value:Y}),J.includes("Window"))Object.defineProperty(Z,"webkitURL",{configurable:!0,writable:!0,value:Y})};var Q7=$2()});var Q2=R((v01)=>{var y01=K2(),b01=rq();v01.URL=y01;v01.URLSearchParams=b01});var F2=R((c01)=>{var{URL:m01,URLSearchParams:d01}=Q2(),g6=iq(),z2=iX(),oX={Array,Object,Promise,String,TypeError};m01.install(oX,["Window"]);d01.install(oX,["Window"]);c01.URL=oX.URL;c01.URLSearchParams=oX.URLSearchParams;c01.parseURL=g6.parseURL;c01.basicURLParse=g6.basicURLParse;c01.serializeURL=g6.serializeURL;c01.serializePath=g6.serializePath;c01.serializeHost=g6.serializeHost;c01.serializeInteger=g6.serializeInteger;c01.serializeURLOrigin=g6.serializeURLOrigin;c01.setTheUsername=g6.setTheUsername;c01.setThePassword=g6.setThePassword;c01.cannotHaveAUsernamePasswordPort=g6.cannotHaveAUsernamePasswordPort;c01.hasAnOpaquePath=g6.hasAnOpaquePath;c01.percentDecodeString=z2.percentDecodeString;c01.percentDecodeBytes=z2.percentDecodeBytes});var L2=R((U6)=>{var q81=function(Z,J){var X,Y;const G=Z.clone(),$=(X=J===null||J===void 0?void 0:J.replacementString)!==null&&X!==void 0?X:"_credentials_",W=(Y=J===null||J===void 0?void 0:J.redactUsernames)!==null&&Y!==void 0?Y:!0;if((G.username||G.password)&&W)G.username=$,G.password="";else if(G.password)G.password=$;if(G.searchParams.has("authMechanismProperties")){const H=new U2.CommaAndColonSeparatedRecord(G.searchParams.get("authMechanismProperties"));if(H.get("AWS_SESSION_TOKEN"))H.set("AWS_SESSION_TOKEN",$),G.searchParams.set("authMechanismProperties",H.toString())}if(G.searchParams.has("tlsCertificateKeyFilePassword"))G.searchParams.set("tlsCertificateKeyFilePassword",$);if(G.searchParams.has("proxyUsername")&&W)G.searchParams.set("proxyUsername",$);if(G.searchParams.has("proxyPassword"))G.searchParams.set("proxyPassword",$);return G},K81=function(Z,J){var X,Y;const G=(X=J===null||J===void 0?void 0:J.replacementString)!==null&&X!==void 0?X:"<credentials>",$=(Y=J===null||J===void 0?void 0:J.redactUsernames)!==null&&Y!==void 0?Y:!0;let W;try{W=new U2.default(Z)}catch(K){}if(W)return J={...J,replacementString:"___credentials___"},W.redact(J).toString().replace(/___credentials___/g,G);const H=G,q=[(K)=>K.replace($?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`\$1${H}\$3`),(K)=>K.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`\$1${H}`),(K)=>K.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`\$1${H}`),(K)=>$?K.replace(/(proxyUsername=)([^&]+)/gi,`\$1${H}`):K,(K)=>K.replace(/(proxyPassword=)([^&]+)/gi,`\$1${H}`)];for(let K of q)Z=K(Z);return Z},$81=U6&&U6.__createBinding||(Object.create?function(Z,J,X,Y){if(Y===void 0)Y=X;var G=Object.getOwnPropertyDescriptor(J,X);if(!G||("get"in G?!J.__esModule:G.writable||G.configurable))G={enumerable:!0,get:function(){return J[X]}};Object.defineProperty(Z,Y,G)}:function(Z,J,X,Y){if(Y===void 0)Y=X;Z[Y]=J[X]}),W81=U6&&U6.__setModuleDefault||(Object.create?function(Z,J){Object.defineProperty(Z,"default",{enumerable:!0,value:J})}:function(Z,J){Z.default=J}),H81=U6&&U6.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var J={};if(Z!=null){for(var X in Z)if(X!=="default"&&Object.prototype.hasOwnProperty.call(Z,X))$81(J,Z,X)}return W81(J,Z),J};Object.defineProperty(U6,"__esModule",{value:!0});U6.redactConnectionString=U6.redactValidConnectionString=void 0;var U2=H81(oq());U6.redactValidConnectionString=q81;U6.redactConnectionString=K81});var oq=R((ZK)=>{var z81=function(Z){return Z.startsWith("mongodb://")||Z.startsWith("mongodb+srv://")},U81=function(Z){return class J extends Z{append(X,Y){return super.append(this._normalizeKey(X),Y)}delete(X){return super.delete(this._normalizeKey(X))}get(X){return super.get(this._normalizeKey(X))}getAll(X){return super.getAll(this._normalizeKey(X))}has(X){return super.has(this._normalizeKey(X))}set(X,Y){return super.set(this._normalizeKey(X),Y)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(X){return eq.prototype._normalizeKey.call(this,X)}}};Object.defineProperty(ZK,"__esModule",{value:!0});ZK.CommaAndColonSeparatedRecord=ZK.ConnectionString=ZK.redactConnectionString=void 0;var Q81=F2(),V2=L2();Object.defineProperty(ZK,"redactConnectionString",{enumerable:!0,get:function(){return V2.redactConnectionString}});var zJ="__this_is_a_placeholder__",F81=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;class eq extends Map{delete(Z){return super.delete(this._normalizeKey(Z))}get(Z){return super.get(this._normalizeKey(Z))}has(Z){return super.has(this._normalizeKey(Z))}set(Z,J){return super.set(this._normalizeKey(Z),J)}_normalizeKey(Z){Z=`${Z}`;for(let J of this.keys())if(J.toLowerCase()===Z.toLowerCase()){Z=J;break}return Z}}class R2 extends Q81.URL{}class X4 extends Error{get name(){return"MongoParseError"}}class FJ extends R2{constructor(Z,J={}){var X;const{looseValidation:Y}=J;if(!Y&&!z81(Z))throw new X4('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');const G=Z.match(F81);if(!G)throw new X4(`Invalid connection string "${Z}"`);const{protocol:$,username:W,password:H,hosts:q,rest:K}=(X=G.groups)!==null&&X!==void 0?X:{};if(!Y){if(!$||!q)throw new X4(`Protocol and host list are required in "${Z}"`);try{decodeURIComponent(W!==null&&W!==void 0?W:""),decodeURIComponent(H!==null&&H!==void 0?H:"")}catch(F){throw new X4(F.message)}const z=/[:/?#[\]@]/gi;if(W===null||W===void 0?void 0:W.match(z))throw new X4(`Username contains unescaped characters ${W}`);if(!W||!H){const F=Z.replace(`${$}://`,"");if(F.startsWith("@")||F.startsWith(":"))throw new X4("URI contained empty userinfo section")}if(H===null||H===void 0?void 0:H.match(z))throw new X4("Password contains unescaped characters")}let Q="";if(typeof W==="string")Q+=W;if(typeof H==="string")Q+=`:${H}`;if(Q)Q+="@";try{super(`${$.toLowerCase()}://${Q}${zJ}${K}`)}catch(z){if(Y)new FJ(Z,{...J,looseValidation:!1});if(typeof z.message==="string")z.message=z.message.replace(zJ,q);throw z}if(this._hosts=q.split(","),!Y){if(this.isSRV&&this.hosts.length!==1)throw new X4("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some((z)=>z.includes(":")))throw new X4("mongodb+srv URI cannot have port number")}if(!this.pathname)this.pathname="/";Object.setPrototypeOf(this.searchParams,U81(this.searchParams.constructor).prototype)}get host(){return zJ}set host(Z){throw new Error("No single host for connection string")}get hostname(){return zJ}set hostname(Z){throw new Error("No single host for connection string")}get port(){return""}set port(Z){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(Z){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(Z){this._hosts=Z}toString(){return super.toString().replace(zJ,this.hosts.join(","))}clone(){return new FJ(this.toString(),{looseValidation:!0})}redact(Z){return V2.redactValidConnectionString(this,Z)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){const{href:Z,origin:J,protocol:X,username:Y,password:G,hosts:$,pathname:W,search:H,searchParams:q,hash:K}=this;return{href:Z,origin:J,protocol:X,username:Y,password:G,hosts:$,pathname:W,search:H,searchParams:q,hash:K}}}ZK.ConnectionString=FJ;class w2 extends eq{constructor(Z){super();for(let J of(Z!==null&&Z!==void 0?Z:"").split(",")){if(!J)continue;const X=J.indexOf(":");if(X===-1)this.set(J,"");else this.set(J.slice(0,X),J.slice(X+1))}}toString(){return[...this].map((Z)=>Z.join(":")).join(",")}}ZK.CommaAndColonSeparatedRecord=w2;ZK.default=FJ});var B2=R((OV1,R81)=>{R81.exports={name:"mongodb",version:"6.2.0",description:"The official MongoDB driver for Node.js",main:"lib/index.js",files:["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],types:"mongodb.d.ts",repository:{type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},keywords:["mongodb","driver","official"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},dependencies:{"@mongodb-js/saslprep":"^1.1.0",bson:"^6.2.0","mongodb-connection-string-url":"^2.6.0"},peerDependencies:{"@aws-sdk/credential-providers":"^3.188.0","@mongodb-js/zstd":"^1.1.0","gcp-metadata":"^5.2.0",kerberos:"^2.0.1","mongodb-client-encryption":">=6.0.0 <7",snappy:"^7.2.2",socks:"^2.7.1"},peerDependenciesMeta:{"@aws-sdk/credential-providers":{optional:!0},"@mongodb-js/zstd":{optional:!0},kerberos:{optional:!0},snappy:{optional:!0},"mongodb-client-encryption":{optional:!0},"gcp-metadata":{optional:!0},socks:{optional:!0}},devDependencies:{"@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.36.4","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.1.0","@octokit/core":"^4.2.4","@types/chai":"^4.3.5","@types/chai-subset":"^1.3.3","@types/express":"^4.17.17","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.1","@types/node":"^20.5.9","@types/saslprep":"^1.0.1","@types/semver":"^7.5.0","@types/sinon":"^10.0.16","@types/sinon-chai":"^3.2.9","@types/whatwg-url":"^11.0.0","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0",chai:"^4.3.7","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.48.0","eslint-config-prettier":"^8.10.0","eslint-plugin-import":"^2.28.1","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-tsdoc":"^0.2.17","eslint-plugin-unused-imports":"^2.0.0",express:"^4.18.2","gcp-metadata":"^5.2.0","js-yaml":"^4.1.0",mocha:"^10.2.0","mocha-sinon":"^2.1.2","mongodb-client-encryption":"^6.0.0","mongodb-legacy":"^6.0.0",nyc:"^15.1.0",prettier:"^2.8.8",semver:"^7.5.4",sinon:"^15.2.0","sinon-chai":"^3.7.0",snappy:"^7.2.2",socks:"^2.7.1","source-map-support":"^0.5.21","ts-node":"^10.9.1",tsd:"^0.28.1",typescript:"^5.0.4","typescript-cached-transpile":"^0.0.6","v8-heapsnapshot":"^1.3.1",yargs:"^17.7.2"},license:"Apache-2.0",engines:{node:">=16.20.1"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},homepage:"https://github.com/mongodb/node-mongodb-native",scripts:{"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && node etc/clean_definition_files.cjs && eslint mongodb.d.ts --fix","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","build:nightly":"node ./.github/scripts/nightly.mjs","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:search-indexes":"nyc mocha --config test/mocha_mongodb.json test/manual/search-index-management.prose.test.ts","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:drivers-atlas-testing":"mocha --config test/mocha_mongodb.json test/atlas/drivers_atlas_testing.test.ts","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"nyc mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:oidc":"mocha --config test/mocha_mongodb.json test/manual/mongodb_oidc.prose.test.ts","check:oidc-azure":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_oidc_azure.prose.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"nyc mocha --config test/manual/mocharc.json test/manual/kerberos.test.ts","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.ts","check:ldap":"nyc mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},tsd:{directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}}}});var P2=R((D2)=>{var w81=function(Z){const J=new JK(512),{appName:X=""}=Z;if(X.length>0){const Q=Buffer.byteLength(X,"utf8")<=128?Z.appName:Buffer.from(X,"utf8").subarray(0,128).toString("utf8");J.ifItFitsItSits("application",{name:Q})}const{name:Y="",version:G="",platform:$=""}=Z.driverInfo,W={name:Y.length>0?`nodejs|${Y}`:"nodejs",version:G.length>0?`${N2}|${G}`:N2};if(!J.ifItFitsItSits("driver",W))throw new M2.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let H=A81();if($.length>0)H=`${H}|${$}`;if(!J.ifItFitsItSits("platform",H))throw new M2.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");const q=(new Map()).set("name",eX.platform).set("architecture",eX.arch).set("version",UJ.release()).set("type",UJ.type());if(!J.ifItFitsItSits("os",q))for(let Q of q.keys()){if(q.delete(Q),q.size===0)break;if(J.ifItFitsItSits("os",q))break}const K=I2();if(K!=null){if(!J.ifItFitsItSits("env",K))for(let Q of K.keys()){if(K.delete(Q),K.size===0)break;if(J.ifItFitsItSits("env",K))break}}return J.toObject()},I2=function(){const{AWS_EXECUTION_ENV:Z="",AWS_LAMBDA_RUNTIME_API:J="",FUNCTIONS_WORKER_RUNTIME:X="",K_SERVICE:Y="",FUNCTION_NAME:G="",VERCEL:$="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:W="",AWS_REGION:H="",FUNCTION_MEMORY_MB:q="",FUNCTION_REGION:K="",FUNCTION_TIMEOUT_SEC:Q="",VERCEL_REGION:z=""}=eX.env,F=Z.startsWith("AWS_Lambda_")||J.length>0,U=X.length>0,L=Y.length>0||G.length>0,V=$.length>0,w=new Map;if(V&&!(U||L)){if(z.length>0)w.set("region",z);return w.set("name","vercel"),w}if(F&&!(U||L||V)){if(H.length>0)w.set("region",H);if(W.length>0&&Number.isInteger(+W))w.set("memory_mb",new N9.Int32(W));return w.set("name","aws.lambda"),w}if(U&&!(L||F||V))return w.set("name","azure.func"),w;if(L&&!(U||F||V)){if(K.length>0)w.set("region",K);if(q.length>0&&Number.isInteger(+q))w.set("memory_mb",new N9.Int32(q));if(Q.length>0&&Number.isInteger(+Q))w.set("timeout_sec",new N9.Int32(Q));return w.set("name","gcp.func"),w}return null},A81=function(){if("Deno"in globalThis)return`Deno v${typeof Deno?.version?.deno==="string"?Deno?.version?.deno:"0.0.0-unknown"}, ${UJ.endianness()}`;if("Bun"in globalThis)return`Bun v${typeof Bun?.version==="string"?Bun?.version:"0.0.0-unknown"}, ${UJ.endianness()}`;return`Node.js ${eX.version}, ${UJ.endianness()}`};Object.defineProperty(D2,"__esModule",{value:!0});D2.getFAASEnv=D2.makeClientMetadata=D2.LimitedSizeDocument=void 0;var UJ=import.meta.require("os"),eX=import.meta.require("process"),N9=i1(),M2=a(),N2=B2().version;class JK{constructor(Z){this.maxSize=Z,this.document=new Map,this.documentSize=5}ifItFitsItSits(Z,J){const X=N9.BSON.serialize((new Map()).set(Z,J)).byteLength-5;if(X+this.documentSize>this.maxSize)return!1;return this.documentSize+=X,this.document.set(Z,J),!0}toObject(){return N9.BSON.deserialize(N9.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}}D2.LimitedSizeDocument=JK;D2.makeClientMetadata=w81;D2.getFAASEnv=I2});var JY=R((k2)=>{var O2=function(){if(W5==null){const Z=T2.getSnappy();if("kModuleError"in Z)throw Z.kModuleError;W5=Z}return W5};async function P81(Z,J){const X={};switch(Z.agreedCompressor){case"snappy":return W5??=O2(),W5.compress(J);case"zstd":{if(S2(),"kModuleError"in F7)throw F7.kModuleError;return F7.compress(J,I81)}case"zlib":{if(Z.zlibCompressionLevel)X.level=Z.zlibCompressionLevel;return C81(J,X)}default:throw new j2.MongoInvalidArgumentError(`Unknown compressor ${Z.agreedCompressor} failed to compress`)}}async function E81(Z,J){if(Z!==k2.Compressor.snappy&&Z!==k2.Compressor.zstd&&Z!==k2.Compressor.zlib&&Z!==k2.Compressor.none)throw new j2.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${Z})`);switch(Z){case k2.Compressor.snappy:return W5??=O2(),W5.uncompress(J,{asBuffer:!0});case k2.Compressor.zstd:{if(S2(),"kModuleError"in F7)throw F7.kModuleError;return F7.decompress(J)}case k2.Compressor.zlib:return D81(J);default:return J}}var S2=function(){if(!F7)F7=T2.getZstdLibrary()};Object.defineProperty(k2,"__esModule",{value:!0});k2.decompress=k2.compress=k2.uncompressibleCommands=k2.Compressor=void 0;var E2=import.meta.require("util"),ZY=import.meta.require("zlib"),N81=T0(),T2=x6(),j2=a();k2.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3});k2.uncompressibleCommands=new Set([N81.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);var I81=3,D81=E2.promisify(ZY.inflate.bind(ZY)),C81=E2.promisify(ZY.deflate.bind(ZY)),F7,W5=null;k2.compress=P81;k2.decompress=E81});var YK=R((x2)=>{var VJ=function(Z,J){return function(X,Y,G,$){let W;try{const H=LJ[Z](J,X,Y);H.setAutoPadding(!1),W=H.update(G);const q=H.final();if(q.length>0)W=Buffer.concat([W,q])}catch(H){return H}return W.copy($),W.length}},O81=function(Z,J){try{LJ.randomFillSync(Z,0,J)}catch(X){return X}return J},S81=function(Z,J){let X;try{X=LJ.createHash("sha256").update(Z).digest()}catch(Y){return Y}return X.copy(J),X.length},XK=function(Z){return(J,X,Y)=>{let G;try{G=LJ.createHmac(Z,J).update(X).digest()}catch($){return $}return G.copy(Y),G.length}},k81=function(Z,J,X){let Y;try{const G=LJ.createSign("sha256WithRSAEncryption"),$=Buffer.from(`-----BEGIN PRIVATE KEY-----\n${Z.toString("base64")}\n-----END PRIVATE KEY-----\n`);Y=G.update(J).end().sign($)}catch(G){return G}return Y.copy(X),Y.length};Object.defineProperty(x2,"__esModule",{value:!0});x2.hmacSha256Hook=x2.hmacSha512Hook=x2.aes256CtrDecryptHook=x2.aes256CtrEncryptHook=x2.aes256CbcDecryptHook=x2.aes256CbcEncryptHook=x2.signRsaSha256Hook=x2.makeHmacHook=x2.sha256Hook=x2.randomHook=x2.makeAES256Hook=void 0;var LJ=import.meta.require("crypto");x2.makeAES256Hook=VJ;x2.randomHook=O81;x2.sha256Hook=S81;x2.makeHmacHook=XK;x2.signRsaSha256Hook=k81;x2.aes256CbcEncryptHook=VJ("createCipheriv","aes-256-cbc");x2.aes256CbcDecryptHook=VJ("createDecipheriv","aes-256-cbc");x2.aes256CtrEncryptHook=VJ("createCipheriv","aes-256-ctr");x2.aes256CtrDecryptHook=VJ("createDecipheriv","aes-256-ctr");x2.hmacSha512Hook=XK("sha512");x2.hmacSha256Hook=XK("sha256")});var q5=R((u2)=>{Object.defineProperty(u2,"__esModule",{value:!0});u2.MongoCryptKMSRequestNetworkTimeoutError=u2.MongoCryptAzureKMSRequestError=u2.MongoCryptCreateEncryptedCollectionError=u2.MongoCryptCreateDataKeyError=u2.MongoCryptInvalidArgumentError=u2.MongoCryptError=void 0;var d81=a();class H5 extends d81.MongoError{constructor(Z,J={}){super(Z,J)}get name(){return"MongoCryptError"}}u2.MongoCryptError=H5;class f2 extends H5{constructor(Z){super(Z)}get name(){return"MongoCryptInvalidArgumentError"}}u2.MongoCryptInvalidArgumentError=f2;class y2 extends H5{constructor(Z,{cause:J}){super(`Unable to complete creating data keys: ${J.message}`,{cause:J});this.encryptedFields=Z}get name(){return"MongoCryptCreateDataKeyError"}}u2.MongoCryptCreateDataKeyError=y2;class b2 extends H5{constructor(Z,{cause:J}){super(`Unable to create collection: ${J.message}`,{cause:J});this.encryptedFields=Z}get name(){return"MongoCryptCreateEncryptedCollectionError"}}u2.MongoCryptCreateEncryptedCollectionError=b2;class v2 extends H5{constructor(Z,J){super(Z);this.body=J}get name(){return"MongoCryptAzureKMSRequestError"}}u2.MongoCryptAzureKMSRequestError=v2;class h2 extends H5{get name(){return"MongoCryptKMSRequestNetworkTimeoutError"}}u2.MongoCryptKMSRequestNetworkTimeoutError=h2});var l2=R((d2)=>{Object.defineProperty(d2,"__esModule",{value:!0});d2.MongocryptdManager=void 0;var a81=a();class XY{constructor(Z={}){if(this.uri=typeof Z.mongocryptdURI==="string"&&Z.mongocryptdURI.length>0?Z.mongocryptdURI:XY.DEFAULT_MONGOCRYPTD_URI,this.bypassSpawn=!!Z.mongocryptdBypassSpawn,this.spawnPath=Z.mongocryptdSpawnPath||"",this.spawnArgs=[],Array.isArray(Z.mongocryptdSpawnArgs))this.spawnArgs=this.spawnArgs.concat(Z.mongocryptdSpawnArgs);if(this.spawnArgs.filter((J)=>typeof J==="string").every((J)=>J.indexOf("--idleShutdownTimeoutSecs")<0))this.spawnArgs.push("--idleShutdownTimeoutSecs","60")}async spawn(){const Z=this.spawnPath||"mongocryptd",{spawn:J}=import.meta.require("child_process");this._child=J(Z,this.spawnArgs,{stdio:"ignore",detached:!0}),this._child.on("error",()=>{}),this._child.unref()}async withRespawn(Z){try{return await Z()}catch(X){if(!(X instanceof a81.MongoNetworkTimeoutError&&!this.bypassSpawn))throw X}return await this.spawn(),await Z()}}XY.DEFAULT_MONGOCRYPTD_URI="mongodb://localhost:27020";d2.MongocryptdManager=XY});var n2=R((p2)=>{async function r81(Z){const J=s81.getAwsCredentialProvider();if("kModuleError"in J)return Z;const{fromNodeProviderChain:X}=J,G=await X()();return{...Z,aws:G}}Object.defineProperty(p2,"__esModule",{value:!0});p2.loadAWSCredentials=void 0;var s81=x6();p2.loadAWSCredentials=r81});var r2=R((a2)=>{var e81=function(Z,J={}){return new Promise((X,Y)=>{let G;const $=t81.get(Z,J,(W)=>{W.setEncoding("utf8");let H="";W.on("data",(q)=>H+=q),W.on("end",()=>{GK.clearTimeout(G),X({status:W.statusCode,body:H})})}).on("error",(W)=>{GK.clearTimeout(G),Y(W)}).end();G=GK.setTimeout(()=>{$.destroy(new o81.MongoCryptKMSRequestNetworkTimeoutError("request timed out after 10 seconds"))},1e4)})};Object.defineProperty(a2,"__esModule",{value:!0});a2.get=void 0;var t81=import.meta.require("http"),GK=import.meta.require("timers"),o81=q5();a2.get=e81});var XC=R((e2)=>{async function X61(Z){const{status:J,body:X}=Z,Y=(()=>{try{return JSON.parse(X)}catch{throw new K5.MongoCryptAzureKMSRequestError("Malformed JSON body in GET request.")}})();if(J!==200)throw new K5.MongoCryptAzureKMSRequestError("Unable to complete request.",Y);if(!Y.access_token)throw new K5.MongoCryptAzureKMSRequestError("Malformed response body - missing field `access_token`.");if(!Y.expires_in)throw new K5.MongoCryptAzureKMSRequestError("Malformed response body - missing field `expires_in`.");const G=Number(Y.expires_in)*1000;if(Number.isNaN(G))throw new K5.MongoCryptAzureKMSRequestError("Malformed response body - unable to parse int from `expires_in` field.");return{accessToken:Y.access_token,expiresOnTimestamp:Date.now()+G}}var t2=function(Z){const J=new URL(Z.url?.toString()??"http://169.254.169.254/metadata/identity/oauth2/token");return J.searchParams.append("api-version","2018-02-01"),J.searchParams.append("resource","https://vault.azure.net"),{headers:{...Z.headers,"Content-Type":"application/json",Metadata:!0},url:J}};async function o2(Z={}){const{headers:J,url:X}=t2(Z),Y=await Z61.get(X,{headers:J}).catch((G)=>{if(G instanceof K5.MongoCryptKMSRequestNetworkTimeoutError)throw new K5.MongoCryptAzureKMSRequestError(`[Azure KMS] ${G.message}`);throw G});return X61(Y)}async function Y61(Z){const J=await e2.tokenCache.getToken();return{...Z,azure:J}}Object.defineProperty(e2,"__esModule",{value:!0});e2.loadAzureCredentials=e2.fetchAzureKMSToken=e2.prepareRequest=e2.tokenCache=e2.AzureCredentialCache=void 0;var K5=q5(),Z61=r2(),J61=6000;class $K{constructor(){this.cachedToken=null}async getToken(){if(this.cachedToken==null||this.needsRefresh(this.cachedToken))this.cachedToken=await this._getToken();return{accessToken:this.cachedToken.accessToken}}needsRefresh(Z){return Z.expiresOnTimestamp-Date.now()<=J61}resetCache(){this.cachedToken=null}_getToken(){return o2()}}e2.AzureCredentialCache=$K;e2.tokenCache=new $K;e2.prepareRequest=t2;e2.fetchAzureKMSToken=o2;e2.loadAzureCredentials=Y61});var $C=R((YC)=>{async function q61(Z){const J=H61.getGcpMetadata();if("kModuleError"in J)return Z;const{access_token:X}=await J.instance({property:"service-accounts/default/token"});return{...Z,gcp:{accessToken:X}}}Object.defineProperty(YC,"__esModule",{value:!0});YC.loadGCPCredentials=void 0;var H61=x6();YC.loadGCPCredentials=q61});var WK=R((WC)=>{var YY=function(Z,J){const X=J[Z];if(X==null)return!1;return typeof X==="object"&&Object.keys(X).length===0};async function F61(Z){let J=Z;if(YY("aws",Z))J=await K61.loadAWSCredentials(J);if(YY("gcp",Z))J=await z61.loadGCPCredentials(J);if(YY("azure",Z))J=await Q61.loadAzureCredentials(J);return J}Object.defineProperty(WC,"__esModule",{value:!0});WC.refreshKMSCredentials=WC.isEmptyCredentials=void 0;var K61=n2(),Q61=XC(),z61=$C();WC.isEmptyCredentials=YY;WC.refreshKMSCredentials=F61});var HK=R((AC)=>{var w61=function(){if(RJ==null){const Z=R61.getSocks();if("kModuleError"in Z)throw Z.kModuleError;RJ=Z}return RJ},KC=function(Z){if(process.env.MONGODB_CRYPT_DEBUG)console.error(Z)};Object.defineProperty(AC,"__esModule",{value:!0});AC.StateMachine=void 0;var qC=import.meta.require("fs/promises"),L61=import.meta.require("net"),V61=import.meta.require("tls"),E4=i1(),R61=x6(),GY=Z1(),U7=q5(),RJ=null,$Y=0,QC=1,zC=2,FC=3,UC=7,LC=4,VC=5,RC=6,A61=443,B61=new Map([[$Y,"MONGOCRYPT_CTX_ERROR"],[QC,"MONGOCRYPT_CTX_NEED_MONGO_COLLINFO"],[zC,"MONGOCRYPT_CTX_NEED_MONGO_MARKINGS"],[FC,"MONGOCRYPT_CTX_NEED_MONGO_KEYS"],[UC,"MONGOCRYPT_CTX_NEED_KMS_CREDENTIALS"],[LC,"MONGOCRYPT_CTX_NEED_KMS"],[VC,"MONGOCRYPT_CTX_READY"],[RC,"MONGOCRYPT_CTX_DONE"]]),M61=["tlsInsecure","tlsAllowInvalidCertificates","tlsAllowInvalidHostnames","tlsDisableOCSPEndpointCheck","tlsDisableCertificateRevocationCheck"];class wC{constructor(Z,J=E4.pluckBSONSerializeOptions(Z)){this.options=Z,this.bsonOptions=J}async execute(Z,J){const{_keyVaultNamespace:X,_keyVaultClient:Y,_metaDataClient:G,_mongocryptdClient:$,_mongocryptdManager:W}=Z;let H=null;while(J.state!==RC&&J.state!==$Y)switch(KC(`[context#${J.id}] ${B61.get(J.state)||J.state}`),J.state){case QC:{const q=E4.deserialize(J.nextMongoOperation());if(!G)throw new U7.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_COLLINFO but metadata client is undefined");const K=await this.fetchCollectionInfo(G,J.ns,q);if(K)J.addMongoOperationResponse(K);J.finishMongoOperation();break}case zC:{const q=J.nextMongoOperation();if(!$)throw new U7.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_MARKINGS but mongocryptdClient is undefined");const K=W?await W.withRespawn(this.markCommand.bind(this,$,J.ns,q)):await this.markCommand($,J.ns,q);J.addMongoOperationResponse(K),J.finishMongoOperation();break}case FC:{const q=J.nextMongoOperation(),K=await this.fetchKeys(Y,X,q);if(K.length===0)H={v:[]};for await(let Q of K)J.addMongoOperationResponse(E4.serialize(Q));J.finishMongoOperation();break}case UC:{const q=await Z.askForKMSCredentials();J.provideKMSProviders(E4.serialize(q));break}case LC:{const q=Array.from(this.requests(J));await Promise.all(q),J.finishKMSRequests();break}case VC:{const q=J.finalize();if(J.state===$Y){const K=J.status.message||"Finalization error";throw new U7.MongoCryptError(K)}H=E4.deserialize(q,this.options);break}default:throw new U7.MongoCryptError(`Unknown state: ${J.state}`)}if(J.state===$Y||H==null){const q=J.status.message;if(!q)KC("unidentifiable error in MongoCrypt - received an error status from \`libmongocrypt\` but received no error message.");throw new U7.MongoCryptError(q??"unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message.")}return H}kmsRequest(Z){const J=Z.endpoint.split(":"),X=J[1]!=null?Number.parseInt(J[1],10):A61,Y={host:J[0],servername:J[0],port:X},G=Z.message;return new Promise(async($,W)=>{const H=new GY.BufferPool;let q,K;function Q(){for(let L of[q,K])if(L)L.removeAllListeners(),L.destroy()}function z(){Q(),W(new U7.MongoCryptError("KMS request timed out"))}function F(L){Q();const V=new U7.MongoCryptError("KMS request failed",{cause:L});W(V)}if(this.options.proxyOptions&&this.options.proxyOptions.proxyHost){K=L61.connect({host:this.options.proxyOptions.proxyHost,port:this.options.proxyOptions.proxyPort||1080}),K.on("timeout",z),K.on("error",F);try{await import.meta.require("events").once(K,"connect"),RJ??=w61(),Y.socket=(await RJ.SocksClient.createConnection({existing_socket:K,command:"connect",destination:{host:Y.host,port:Y.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:this.options.proxyOptions.proxyUsername,password:this.options.proxyOptions.proxyPassword}})).socket}catch(L){return F(L)}}const U=this.options.tlsOptions;if(U){const L=Z.kmsProvider,V=U[L];if(V){const w=this.validateTlsOptions(L,V);if(w)W(w);try{await this.setTlsOptions(V,Y)}catch(B){return F(B)}}}q=V61.connect(Y,()=>{q.write(G)}),q.once("timeout",z),q.once("error",F),q.on("data",(L)=>{H.append(L);while(Z.bytesNeeded>0&&H.length){const V=Math.min(Z.bytesNeeded,H.length);Z.addResponse(H.read(V))}if(Z.bytesNeeded<=0)Q(),$()})})}*requests(Z){for(let J=Z.nextKMSRequest();J!=null;J=Z.nextKMSRequest())yield this.kmsRequest(J)}validateTlsOptions(Z,J){const X=Object.keys(J);for(let Y of M61)if(X.includes(Y))return new U7.MongoCryptError(`Insecure TLS options prohibited for ${Z}: ${Y}`)}async setTlsOptions(Z,J){if(Z.tlsCertificateKeyFile){const X=await qC.readFile(Z.tlsCertificateKeyFile);J.cert=J.key=X}if(Z.tlsCAFile)J.ca=await qC.readFile(Z.tlsCAFile);if(Z.tlsCertificateKeyFilePassword)J.passphrase=Z.tlsCertificateKeyFilePassword}async fetchCollectionInfo(Z,J,X){const{db:Y}=GY.MongoDBCollectionNamespace.fromString(J),G=await Z.db(Y).listCollections(X,{promoteLongs:!1,promoteValues:!1}).toArray();return G.length>0?E4.serialize(G[0]):null}async markCommand(Z,J,X){const Y={promoteLongs:!1,promoteValues:!1},{db:G}=GY.MongoDBCollectionNamespace.fromString(J),$=E4.deserialize(X,Y),W=await Z.db(G).command($,Y);return E4.serialize(W,this.bsonOptions)}fetchKeys(Z,J,X){const{db:Y,collection:G}=GY.MongoDBCollectionNamespace.fromString(J);return Z.db(Y).collection(G,{readConcern:{level:"majority"}}).find(E4.deserialize(X)).toArray()}}AC.StateMachine=wC});var KK=R((CC)=>{var DC=function(Z,J,X=!0){if(X){if(Buffer.isBuffer(J))J=I9.deserialize(J);if(Buffer.isBuffer(Z))throw new WY.MongoRuntimeError("Expected result of decryption to be deserialized BSON object")}if(!Z||typeof Z!=="object")return;for(let Y of Object.keys(Z)){const G=J[Y];if(G&&G._bsontype==="Binary"&&G.sub_type===6){if(!Z[qK])Object.defineProperty(Z,qK,{value:[],configurable:!0,enumerable:!1,writable:!1});Z[qK].push(Y);continue}DC(Z[Y],G,!1)}},NC;Object.defineProperty(CC,"__esModule",{value:!0});CC.AutoEncrypter=CC.AutoEncryptionLoggerLevel=void 0;var I9=i1(),N61=x6(),WY=a(),I61=Q5(),D61=Z1(),C61=YK(),P61=q5(),E61=l2(),T61=WK(),MC=HK();CC.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4});var IC=Symbol.for("@@mdb.decorateDecryptionResult"),qK=Symbol.for("@@mdb.decryptedKeys");class HY{static getMongoCrypt(){const Z=N61.getMongoDBClientEncryption();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,J){this[NC]=!1,this._client=Z,this._bypassEncryption=J.bypassAutoEncryption===!0,this._keyVaultNamespace=J.keyVaultNamespace||"admin.datakeys",this._keyVaultClient=J.keyVaultClient||Z,this._metaDataClient=J.metadataClient||Z,this._proxyOptions=J.proxyOptions||{},this._tlsOptions=J.tlsOptions||{},this._kmsProviders=J.kmsProviders||{};const X={cryptoCallbacks:C61};if(J.schemaMap)X.schemaMap=Buffer.isBuffer(J.schemaMap)?J.schemaMap:I9.serialize(J.schemaMap);if(J.encryptedFieldsMap)X.encryptedFieldsMap=Buffer.isBuffer(J.encryptedFieldsMap)?J.encryptedFieldsMap:I9.serialize(J.encryptedFieldsMap);if(X.kmsProviders=!Buffer.isBuffer(this._kmsProviders)?I9.serialize(this._kmsProviders):this._kmsProviders,J.options?.logger)X.logger=J.options.logger;if(J.extraOptions&&J.extraOptions.cryptSharedLibPath)X.cryptSharedLibPath=J.extraOptions.cryptSharedLibPath;if(J.bypassQueryAnalysis)X.bypassQueryAnalysis=J.bypassQueryAnalysis;if(this._bypassMongocryptdAndCryptShared=this._bypassEncryption||!!J.bypassQueryAnalysis,J.extraOptions&&J.extraOptions.cryptSharedLibSearchPaths)X.cryptSharedLibSearchPaths=J.extraOptions.cryptSharedLibSearchPaths;else if(!this._bypassMongocryptdAndCryptShared)X.cryptSharedLibSearchPaths=["$SYSTEM"];const Y=HY.getMongoCrypt();if(this._mongocrypt=new Y(X),this._contextCounter=0,J.extraOptions&&J.extraOptions.cryptSharedLibRequired&&!this.cryptSharedLibVersionInfo)throw new P61.MongoCryptInvalidArgumentError("`cryptSharedLibRequired` set but no crypt_shared library loaded");if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){this._mongocryptdManager=new E61.MongocryptdManager(J.extraOptions);const G={serverSelectionTimeoutMS:1e4};if(J.extraOptions==null||typeof J.extraOptions.mongocryptdURI!=="string")G.family=4;this._mongocryptdClient=new I61.MongoClient(this._mongocryptdManager.uri,G)}}async init(){if(this._bypassMongocryptdAndCryptShared||this.cryptSharedLibVersionInfo)return;if(!this._mongocryptdManager)throw new WY.MongoRuntimeError("Reached impossible state: mongocryptdManager is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdClient)throw new WY.MongoRuntimeError("Reached impossible state: mongocryptdClient is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdManager.bypassSpawn)await this._mongocryptdManager.spawn();try{return await this._mongocryptdClient.connect()}catch(Z){const{message:J}=Z;if(J&&(J.match(/timed out after/)||J.match(/ENOTFOUND/)))throw new WY.MongoRuntimeError("Unable to connect to `mongocryptd`, please make sure it is running or in your PATH for auto-spawn",{cause:Z});throw Z}}async teardown(Z){await this._mongocryptdClient?.close(Z)}async encrypt(Z,J,X={}){if(this._bypassEncryption)return J;const Y=Buffer.isBuffer(J)?J:I9.serialize(J,X),G=this._mongocrypt.makeEncryptionContext(D61.MongoDBCollectionNamespace.fromString(Z).db,Y);return G.id=this._contextCounter++,G.ns=Z,G.document=J,new MC.StateMachine({promoteValues:!1,promoteLongs:!1,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,G)}async decrypt(Z,J={}){const X=Buffer.isBuffer(Z)?Z:I9.serialize(Z,J),Y=this._mongocrypt.makeDecryptionContext(X);Y.id=this._contextCounter++;const G=new MC.StateMachine({...J,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),$=this[IC],W=await G.execute(this,Y);if($)DC(W,Z);return W}async askForKMSCredentials(){return T61.refreshKMSCredentials(this._kmsProviders)}get cryptSharedLibVersionInfo(){return this._mongocrypt.cryptSharedLibVersionInfo}static get libmongocryptVersion(){return HY.getMongoCrypt().libmongocryptVersion}}CC.AutoEncrypter=HY;NC=IC});var SC=R((jC)=>{Object.defineProperty(jC,"__esModule",{value:!0});jC.Encrypter=void 0;var O61=import.meta.require("util"),S61=KK(),k61=T0(),_61=x6(),EC=a(),x61=Q5(),wJ=Symbol("internalClient");class TC{constructor(Z,J,X){if(typeof X.autoEncryption!=="object")throw new EC.MongoInvalidArgumentError('Option "autoEncryption" must be specified');if(this[wJ]=null,this.bypassAutoEncryption=!!X.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,X.maxPoolSize===0&&X.autoEncryption.keyVaultClient==null)X.autoEncryption.keyVaultClient=Z;else if(X.autoEncryption.keyVaultClient==null)X.autoEncryption.keyVaultClient=this.getInternalClient(Z,J,X);if(this.bypassAutoEncryption)X.autoEncryption.metadataClient=void 0;else if(X.maxPoolSize===0)X.autoEncryption.metadataClient=Z;else X.autoEncryption.metadataClient=this.getInternalClient(Z,J,X);if(X.proxyHost)X.autoEncryption.proxyOptions={proxyHost:X.proxyHost,proxyPort:X.proxyPort,proxyUsername:X.proxyUsername,proxyPassword:X.proxyPassword};this.autoEncrypter=new S61.AutoEncrypter(Z,X.autoEncryption)}getInternalClient(Z,J,X){let Y=this[wJ];if(Y==null){const G={};for(let $ of[...Object.getOwnPropertyNames(X),...Object.getOwnPropertySymbols(X)]){if(["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes($))continue;Reflect.set(G,$,Reflect.get(X,$))}G.minPoolSize=0,Y=new x61.MongoClient(J,G),this[wJ]=Y;for(let $ of k61.MONGO_CLIENT_EVENTS)for(let W of Z.listeners($))Y.on($,W);Z.on("newListener",($,W)=>{Y?.on($,W)}),this.needsConnecting=!0}return Y}async connectInternalClient(){const Z=this[wJ];if(this.needsConnecting&&Z!=null)this.needsConnecting=!1,await Z.connect()}closeCallback(Z,J,X){O61.callbackify(this.close.bind(this))(Z,J,X)}async close(Z,J){const X=await this.autoEncrypter.teardown(!!J).catch((G)=>G),Y=this[wJ];if(Y!=null&&Z!==Y)return Y.close(J);if(X)throw X}static checkForMongoCrypt(){if("kModuleError"in _61.getMongoDBClientEncryption())throw new EC.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project")}}jC.Encrypter=TC});var LK=R((xC)=>{var AJ=function(Z){const J=Object.values(xC.SeverityLevel),X=Z?.toLowerCase();if(X!=null&&J.includes(X))return X;return null},D9=function(Z){return{write:(J)=>{Z.write(f61.inspect(J,{compact:!0,breakLength:Infinity}),"utf-8");return}}},y61=function({MONGODB_LOG_PATH:Z},{mongodbLogPath:J}){if(typeof J==="string"&&/^stderr$/i.test(J))return D9(process.stderr);if(typeof J==="string"&&/^stdout$/i.test(J))return D9(process.stdout);if(typeof J==="object"&&typeof J?.write==="function")return J;if(Z&&/^stderr$/i.test(Z))return D9(process.stderr);if(Z&&/^stdout$/i.test(Z))return D9(process.stdout);return D9(process.stderr)},b61=function(Z,J){const X=xC.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(Z),Y=xC.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(J);return X<Y?-1:X>Y?1:0},zK=function(Z,J){const X=g61.EJSON.stringify(Z);return J!==0&&X.length>J?`${X.slice(0,J)}...`:X},v61=function(Z){const J=Z;return J.toLog!==void 0&&typeof J.toLog==="function"},QK=function(Z,J){Z.commandName=J.commandName,Z.requestId=J.requestId,Z.driverConnectionId=J?.connectionId;const{host:X,port:Y}=UK.HostAddress.fromString(J.address).toHostPort();if(Z.serverHost=X,Z.serverPort=Y,J?.serviceId)Z.serviceId=J.serviceId.toHexString();return Z},f6=function(Z,J){const{host:X,port:Y}=UK.HostAddress.fromString(J.address).toHostPort();return Z.serverHost=X,Z.serverPort=Y,Z},h61=function(Z,J=xC.DEFAULT_MAX_DOCUMENT_LENGTH){let X=Object.create(null);switch(Z.name){case C8.COMMAND_STARTED:return X=QK(X,Z),X.message="Command started",X.command=zK(Z.command,J),X.databaseName=Z.databaseName,X;case C8.COMMAND_SUCCEEDED:return X=QK(X,Z),X.message="Command succeeded",X.durationMS=Z.duration,X.reply=zK(Z.reply,J),X;case C8.COMMAND_FAILED:return X=QK(X,Z),X.message="Command failed",X.durationMS=Z.duration,X.failure=Z.failure,X;case C8.CONNECTION_POOL_CREATED:if(X=f6(X,Z),X.message="Connection pool created",Z.options){const{maxIdleTimeMS:Y,minPoolSize:G,maxPoolSize:$,maxConnecting:W,waitQueueTimeoutMS:H}=Z.options;X={...X,maxIdleTimeMS:Y,minPoolSize:G,maxPoolSize:$,maxConnecting:W,waitQueueTimeoutMS:H}}return X;case C8.CONNECTION_POOL_READY:return X=f6(X,Z),X.message="Connection pool ready",X;case C8.CONNECTION_POOL_CLEARED:if(X=f6(X,Z),X.message="Connection pool cleared",Z.serviceId?._bsontype==="ObjectId")X.serviceId=Z.serviceId.toHexString();return X;case C8.CONNECTION_POOL_CLOSED:return X=f6(X,Z),X.message="Connection pool closed",X;case C8.CONNECTION_CREATED:return X=f6(X,Z),X.message="Connection created",X.driverConnectionId=Z.connectionId,X;case C8.CONNECTION_READY:return X=f6(X,Z),X.message="Connection ready",X.driverConnectionId=Z.connectionId,X;case C8.CONNECTION_CLOSED:switch(X=f6(X,Z),X.message="Connection closed",X.driverConnectionId=Z.connectionId,Z.reason){case"stale":X.reason="Connection became stale because the pool was cleared";break;case"idle":X.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":if(X.reason="An error occurred while using the connection",Z.error)X.error=Z.error;break;case"poolClosed":X.reason="Connection pool was closed";break;default:X.reason=`Unknown close reason: ${Z.reason}`}return X;case C8.CONNECTION_CHECK_OUT_STARTED:return X=f6(X,Z),X.message="Connection checkout started",X;case C8.CONNECTION_CHECK_OUT_FAILED:switch(X=f6(X,Z),X.message="Connection checkout failed",Z.reason){case"poolClosed":X.reason="Connection pool was closed";break;case"timeout":X.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":if(X.reason="An error occurred while trying to establish a new connection",Z.error)X.error=Z.error;break;default:X.reason=`Unknown close reason: ${Z.reason}`}return X;case C8.CONNECTION_CHECKED_OUT:return X=f6(X,Z),X.message="Connection checked out",X.driverConnectionId=Z.connectionId,X;case C8.CONNECTION_CHECKED_IN:return X=f6(X,Z),X.message="Connection checked in",X.driverConnectionId=Z.connectionId,X;default:for(let[Y,G]of Object.entries(Z))if(G!=null)X[Y]=G}return X};Object.defineProperty(xC,"__esModule",{value:!0});xC.MongoLogger=xC.stringifyWithMaxLen=xC.createStdioLogger=xC.MongoLoggableComponent=xC.SEVERITY_LEVEL_MAP=xC.DEFAULT_MAX_DOCUMENT_LENGTH=xC.SeverityLevel=void 0;var g61=X6(),f61=import.meta.require("util"),C8=T0(),UK=Z1();xC.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"});xC.DEFAULT_MAX_DOCUMENT_LENGTH=1000;class kC extends Map{constructor(Z){const J=[];for(let[X,Y]of Z)J.push([Y,X]);J.push(...Z);super(J)}getNumericSeverityLevel(Z){return this.get(Z)}getSeverityLevelName(Z){return this.get(Z)}}xC.SEVERITY_LEVEL_MAP=new kC([[xC.SeverityLevel.OFF,(-Infinity)],[xC.SeverityLevel.EMERGENCY,0],[xC.SeverityLevel.ALERT,1],[xC.SeverityLevel.CRITICAL,2],[xC.SeverityLevel.ERROR,3],[xC.SeverityLevel.WARNING,4],[xC.SeverityLevel.NOTICE,5],[xC.SeverityLevel.INFORMATIONAL,6],[xC.SeverityLevel.DEBUG,7],[xC.SeverityLevel.TRACE,8]]);xC.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection"});xC.createStdioLogger=D9;xC.stringifyWithMaxLen=zK;class _C{constructor(Z){this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=Z.componentSeverities,this.maxDocumentLength=Z.maxDocumentLength,this.logDestination=Z.logDestination}log(Z,J,X){if(b61(Z,this.componentSeverities[J])>0)return;let Y={t:new Date,c:J,s:Z};if(typeof X==="string")Y.message=X;else if(typeof X==="object")if(v61(X))Y={...Y,...X.toLog()};else Y={...Y,...h61(X,this.maxDocumentLength)};this.logDestination.write(Y)}static resolveOptions(Z,J){const X={...Z,...J,mongodbLogPath:y61(Z,J)},Y=AJ(X.MONGODB_LOG_ALL)??xC.SeverityLevel.OFF;return{componentSeverities:{command:AJ(X.MONGODB_LOG_COMMAND)??Y,topology:AJ(X.MONGODB_LOG_TOPOLOGY)??Y,serverSelection:AJ(X.MONGODB_LOG_SERVER_SELECTION)??Y,connection:AJ(X.MONGODB_LOG_CONNECTION)??Y,default:Y},maxDocumentLength:UK.parseUnsignedInteger(X.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1000,logDestination:X.mongodbLogPath}}}xC.MongoLogger=_C});var NK=R((mC)=>{async function r61(Z){if(typeof Z.srvHost!=="string")throw new o.MongoAPIError('Option "srvHost" must not be empty');if(Z.srvHost.split(".").length<3)throw new o.MongoAPIError("URI must include hostname, domain name, and tld");const J=Z.srvHost,X=await yC.promises.resolveSrv(`_${Z.srvServiceName}._tcp.${J}`);if(X.length===0)throw new o.MongoAPIError("No addresses found at host");for(let{name:Q}of X)if(!K8.matchesParentDomain(Q,J))throw new o.MongoAPIError("Server record does not share hostname with parent URI");const Y=X.map((Q)=>K8.HostAddress.fromString(`${Q.name}:${Q.port??27017}`));wK(Y,Z,!0);let G;try{G=await yC.promises.resolveTxt(J)}catch(Q){if(Q.code!=="ENODATA"&&Q.code!=="ENOTFOUND")throw Q;return Y}if(G.length>1)throw new o.MongoParseError("Multiple text records not allowed");const $=new l61.URLSearchParams(G[0].join(""));if([...$.keys()].some((Q)=>!RK.includes(Q)))throw new o.MongoParseError(`Text record may only set any of: ${RK.join(", ")}`);if(RK.some((Q)=>$.get(Q)===""))throw new o.MongoParseError("Cannot have empty URI params in DNS TXT Record");const H=$.get("authSource")??void 0,q=$.get("replicaSet")??void 0,K=$.get("loadBalanced")??void 0;if(!Z.userSpecifiedAuthSource&&H&&Z.credentials&&!Y4.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(Z.credentials.mechanism))Z.credentials=C9.MongoCredentials.merge(Z.credentials,{source:H});if(!Z.userSpecifiedReplicaSet&&q)Z.replicaSet=q;if(K==="true")Z.loadBalanced=!0;if(Z.replicaSet&&Z.srvMaxHosts>0)throw new o.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return wK(Y,Z,!0),Y}var t61=function(Z){if(!Z)return;const J=(X,Y)=>{if(Z.has(X)&&Z.has(Y))throw new o.MongoAPIError(`The '${X}' option cannot be used with the '${Y}' option`)};J("tlsInsecure","tlsAllowInvalidCertificates"),J("tlsInsecure","tlsAllowInvalidHostnames"),J("tlsInsecure","tlsDisableCertificateRevocationCheck"),J("tlsInsecure","tlsDisableOCSPEndpointCheck"),J("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),J("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),J("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")},j4=function(Z,J){if(typeof J==="boolean")return J;switch(J){case"true":return!0;case"false":return!1;default:throw new o.MongoParseError(`${Z} must be either "true" or "false"`)}},BK=function(Z,J){const X=K8.parseInteger(J);if(X!=null)return X;throw new o.MongoParseError(`Expected ${Z} to be stringified int value, got: ${J}`)},BJ=function(Z,J){const X=BK(Z,J);if(X<0)throw new o.MongoParseError(`${Z} can only be a positive int value, got: ${J}`);return X};function*hC(Z){if(Z==="")return;const J=Z.split(",");for(let X of J){const[Y,G]=X.split(/:(.*)/);if(G==null)throw new o.MongoParseError("Cannot have undefined values in key value pairs");yield[Y,G]}}var o61=function(Z,J=void 0,X={}){if(J!=null&&!(J instanceof qY.MongoClient))X=J,J=void 0;if(X.useBigInt64&&typeof X.promoteLongs==="boolean"&&!X.promoteLongs)throw new o.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(X.useBigInt64&&typeof X.promoteValues==="boolean"&&!X.promoteValues)throw new o.MongoAPIError("Must request either bigint or Long for int64 deserialization");const Y=new c61.default(Z),{hosts:G,isSRV:$}=Y,W=Object.create(null);for(let B of Object.getOwnPropertySymbols(X))if(mC.FEATURE_FLAGS.has(B))W[B]=X[B];W.hosts=$?[]:G.map(K8.HostAddress.fromString);const H=new MJ;if(Y.pathname!=="/"&&Y.pathname!==""){const B=decodeURIComponent(Y.pathname[0]==="/"?Y.pathname.slice(1):Y.pathname);if(B)H.set("dbName",[B])}if(Y.username!==""){const B={username:decodeURIComponent(Y.username)};if(typeof Y.password==="string")B.password=decodeURIComponent(Y.password);H.set("auth",[B])}for(let B of Y.searchParams.keys()){const M=Y.searchParams.getAll(B),A=/readPreferenceTags/i.test(B);if(!A&&M.length>1)throw new o.MongoInvalidArgumentError(`URI option "${B}" cannot appear more than once in the connection string`);if(!A&&M.includes(""))throw new o.MongoAPIError(`URI option "${B}" cannot be specified with no value`);if(!H.has(B))H.set(B,M)}const q=new MJ(Object.entries(X).filter(([,B])=>B!=null));if(H.has("serverApi"))throw new o.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");const K=H.get("authMechanismProperties");if(K){for(let B of K)if(/(^|,)ALLOWED_HOSTS:/.test(B))throw new o.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.")}if(q.has("loadBalanced"))throw new o.MongoParseError("loadBalanced is only a valid option in the URI");const Q=new MJ,z=new Set([...H.keys(),...q.keys()]);for(let B of z){const M=[],A=q.get(B);if(A!=null)M.push(A);const I=H.get(B)??[];M.push(...I),Q.set(B,M)}if(Q.has("tls")||Q.has("ssl")){const B=(Q.get("tls")||[]).concat(Q.get("ssl")||[]).map(j4.bind(null,"tls/ssl"));if(new Set(B).size!==1)throw new o.MongoParseError("All values of tls/ssl must be the same.")}t61(Q);const F=K8.setDifference(z,Array.from(Object.keys(mC.OPTIONS)).map((B)=>B.toLowerCase()));if(F.size!==0){const B=F.size>1?"options":"option",M=F.size>1?"are":"is";throw new o.MongoParseError(`${B} ${Array.from(F).join(", ")} ${M} not supported`)}for(let[B,M]of Object.entries(mC.OPTIONS)){const A=Q.get(B);if(!A||A.length===0){if(mC.DEFAULT_OPTIONS.has(B))uC(W,B,M,[mC.DEFAULT_OPTIONS.get(B)])}else{const{deprecated:I}=M;if(I){const m=typeof I==="string"?`: ${I}`:"";K8.emitWarning(`${B} is a deprecated option${m}`)}uC(W,B,M,A)}}if(W.credentials){const B=W.credentials.mechanism===Y4.AuthMechanism.MONGODB_GSSAPI,M=W.credentials.mechanism===Y4.AuthMechanism.MONGODB_X509,A=W.credentials.mechanism===Y4.AuthMechanism.MONGODB_AWS,I=W.credentials.mechanism===Y4.AuthMechanism.MONGODB_OIDC;if((B||M)&&Q.has("authSource")&&W.credentials.source!=="$external")throw new o.MongoParseError(`authMechanism ${W.credentials.mechanism} requires an authSource of '\$external'`);if(!(B||M||A||I)&&W.dbName&&!Q.has("authSource"))W.credentials=C9.MongoCredentials.merge(W.credentials,{source:W.dbName});if(A&&W.credentials.username&&!W.credentials.password)throw new o.MongoMissingCredentialsError(`When using ${W.credentials.mechanism} password must be set when a username is specified`);if(W.credentials.validate(),W.credentials.password===""&&W.credentials.username===""&&W.credentials.mechanism===Y4.AuthMechanism.MONGODB_DEFAULT&&Object.keys(W.credentials.mechanismProperties).length===0)delete W.credentials}if(!W.dbName)W.dbName="test";if(wK(G,W,$),J&&W.autoEncryption)vC.Encrypter.checkForMongoCrypt(),W.encrypter=new vC.Encrypter(J,Z,X),W.autoEncrypter=W.encrypter.autoEncrypter;if(W.userSpecifiedAuthSource=q.has("authSource")||H.has("authSource"),W.userSpecifiedReplicaSet=q.has("replicaSet")||H.has("replicaSet"),$){if(W.srvHost=G[0],W.directConnection)throw new o.MongoAPIError("SRV URI does not support directConnection");if(W.srvMaxHosts>0&&typeof W.replicaSet==="string")throw new o.MongoParseError("Cannot use srvMaxHosts option with replicaSet");const B=!q.has("tls")&&!H.has("tls"),M=!q.has("ssl")&&!H.has("ssl");if(B&&M)W.tls=!0}else if(H.has("srvMaxHosts")||q.has("srvMaxHosts")||H.has("srvServiceName")||q.has("srvServiceName"))throw new o.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(W.directConnection&&W.hosts.length!==1)throw new o.MongoParseError("directConnection option requires exactly one host");if(!W.proxyHost&&(W.proxyPort||W.proxyUsername||W.proxyPassword))throw new o.MongoParseError("Must specify proxyHost if other proxy options are passed");if(W.proxyUsername&&!W.proxyPassword||!W.proxyUsername&&W.proxyPassword)throw new o.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map((B)=>H.get(B)??[]).some((B)=>B.length>1))throw new o.MongoParseError("Proxy options cannot be specified multiple times in the connection string");const L=Symbol.for("@@mdb.enableMongoLogger");W[L]=W[L]??!1;let V={},w={};if(W[L])V={MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH,...W[Symbol.for("@@mdb.internalLoggerConfig")]},w={mongodbLogPath:W.mongodbLogPath};return W.mongoLoggerOptions=i61.MongoLogger.resolveOptions(V,w),W.metadata=p61.makeClientMetadata(W),W},wK=function(Z,J,X){if(J.loadBalanced){if(Z.length>1)throw new o.MongoParseError(n61);if(J.replicaSet)throw new o.MongoParseError(a61);if(J.directConnection)throw new o.MongoParseError(s61);if(X&&J.srvMaxHosts>0)throw new o.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}return},uC=function(Z,J,X,Y){const{target:G,type:$,transform:W}=X,H=G??J;switch($){case"boolean":Z[H]=j4(H,Y[0]);break;case"int":Z[H]=BK(H,Y[0]);break;case"uint":Z[H]=BJ(H,Y[0]);break;case"string":if(Y[0]==null)break;Z[H]=String(Y[0]);break;case"record":if(!K8.isRecord(Y[0]))throw new o.MongoParseError(`${H} must be an object`);Z[H]=Y[0];break;case"any":Z[H]=Y[0];break;default:{if(!W)throw new o.MongoParseError("Descriptors missing a type must define a transform");const q=W({name:H,options:Z,values:Y});Z[H]=q;break}}};Object.defineProperty(mC,"__esModule",{value:!0});mC.FEATURE_FLAGS=mC.DEFAULT_OPTIONS=mC.OPTIONS=mC.parseOptions=mC.resolveSRVRecord=void 0;var yC=import.meta.require("dns"),c61=oq(),l61=import.meta.require("url"),C9=uX(),Y4=J4(),p61=P2(),bC=JY(),vC=SC(),o=a(),qY=Q5(),i61=LK(),VK=G6(),L7=N0(),K8=Z1(),T4=M8(),RK=["authSource","replicaSet","loadBalanced"],n61="loadBalanced option only supported with a single host in the URI",a61="loadBalanced option not supported with a replicaSet option",s61="loadBalanced option not supported when directConnection is provided";mC.resolveSRVRecord=r61;class MJ extends Map{constructor(Z=[]){super(Z.map(([J,X])=>[J.toLowerCase(),X]))}has(Z){return super.has(Z.toLowerCase())}get(Z){return super.get(Z.toLowerCase())}set(Z,J){return super.set(Z.toLowerCase(),J)}delete(Z){return super.delete(Z.toLowerCase())}}mC.parseOptions=o61;mC.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:Z,options:J,values:[X]}){if(!K8.isRecord(X,["username","password"]))throw new o.MongoParseError(`${Z} must be an object with 'username' and 'password' properties`);return C9.MongoCredentials.merge(J.credentials,{username:X.username,password:X.password})}},authMechanism:{target:"credentials",transform({options:Z,values:[J]}){const X=Object.values(Y4.AuthMechanism),[Y]=X.filter((W)=>W.match(RegExp(String.raw`\b${J}\b`,"i")));if(!Y)throw new o.MongoParseError(`authMechanism one of ${X}, got ${J}`);let G=Z.credentials?.source;if(Y===Y4.AuthMechanism.MONGODB_PLAIN||Y4.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(Y))G="$external";let $=Z.credentials?.password;if(Y===Y4.AuthMechanism.MONGODB_X509&&$==="")$=void 0;return C9.MongoCredentials.merge(Z.credentials,{mechanism:Y,source:G,password:$})}},authMechanismProperties:{target:"credentials",transform({options:Z,values:J}){let X=Object.create(null);for(let Y of J)if(typeof Y==="string")for(let[G,$]of hC(Y))try{X[G]=j4(G,$)}catch{X[G]=$}else{if(!K8.isRecord(Y))throw new o.MongoParseError("AuthMechanismProperties must be an object");X={...Y}}return C9.MongoCredentials.merge(Z.credentials,{mechanismProperties:X})}},authSource:{target:"credentials",transform({options:Z,values:[J]}){const X=String(J);return C9.MongoCredentials.merge(Z.credentials,{source:X})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[Z]}){const J=typeof Z==="string"?{version:Z}:Z,X=J&&J.version;if(!X)throw new o.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(qY.ServerApiVersion).join('", "')}"]`);if(!Object.values(qY.ServerApiVersion).some((Y)=>Y===X))throw new o.MongoParseError(`Invalid server API version=${X}; must be in the following enum: ["${Object.values(qY.ServerApiVersion).join('", "')}"]`);return J}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:Z}){const J=new Set;for(let X of Z){const Y=typeof X==="string"?X.split(","):X;if(!Array.isArray(Y))throw new o.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(let G of Y)if(Object.keys(bC.Compressor).includes(String(G)))J.add(String(G));else throw new o.MongoInvalidArgumentError(`${G} is not a valid compression mechanism. Must be one of: ${Object.keys(bC.Compressor)}.`)}return[...J]}},connectTimeoutMS:{default:30000,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:Z,values:[J]}){const X=BK(Z,J);if(X===4||X===6)return X;throw new o.MongoParseError(`Option 'family' must be 4 or 6 got ${X}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:J,values:[X]}){const Y=T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,fsync:j4(Z,X)}});if(!Y)throw new o.MongoParseError(`Unable to make a writeConcern from fsync=${X}`);return Y}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:J,values:[X]}){const Y=T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,journal:j4(Z,X)}});if(!Y)throw new o.MongoParseError(`Unable to make a writeConcern from journal=${X}`);return Y}},journal:{target:"writeConcern",transform({name:Z,options:J,values:[X]}){const Y=T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,journal:j4(Z,X)}});if(!Y)throw new o.MongoParseError(`Unable to make a writeConcern from journal=${X}`);return Y}},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:Z,values:[J]}){const X=BJ(Z,J);if(X===0)throw new o.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return X}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:Z,options:J,values:[X]}){const Y=BJ(Z,X);if(J.readPreference)return L7.ReadPreference.fromOptions({readPreference:{...J.readPreference,maxStalenessSeconds:Y}});else return new L7.ReadPreference("secondary",void 0,{maxStalenessSeconds:Y})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[Z],options:J}){return{...J.driverInfo,name:String(Z)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:K8.DEFAULT_PK_FACTORY,transform({values:[Z]}){if(K8.isRecord(Z,["createPk"])&&typeof Z.createPk==="function")return Z;throw new o.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${Z}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[Z],options:J}){if(Z instanceof VK.ReadConcern||K8.isRecord(Z,["level"]))return VK.ReadConcern.fromOptions({...J.readConcern,...Z});throw new o.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(Z)}`)}},readConcernLevel:{target:"readConcern",transform({values:[Z],options:J}){return VK.ReadConcern.fromOptions({...J.readConcern,level:Z})}},readPreference:{default:L7.ReadPreference.primary,transform({values:[Z],options:J}){if(Z instanceof L7.ReadPreference)return L7.ReadPreference.fromOptions({readPreference:{...J.readPreference,...Z},...Z});if(K8.isRecord(Z,["mode"])){const X=L7.ReadPreference.fromOptions({readPreference:{...J.readPreference,...Z},...Z});if(X)return X;else throw new o.MongoParseError(`Cannot make read preference from ${JSON.stringify(Z)}`)}if(typeof Z==="string"){const X={hedge:J.readPreference?.hedge,maxStalenessSeconds:J.readPreference?.maxStalenessSeconds};return new L7.ReadPreference(Z,J.readPreference?.tags,X)}throw new o.MongoParseError(`Unknown ReadPreference value: ${Z}`)}},readPreferenceTags:{target:"readPreference",transform({values:Z,options:J}){const X=Array.isArray(Z[0])?Z[0]:Z,Y=[];for(let G of X){const $=Object.create(null);if(typeof G==="string")for(let[W,H]of hC(G))$[W]=H;if(K8.isRecord(G))for(let[W,H]of Object.entries(G))$[W]=H;Y.push($)}return L7.ReadPreference.fromOptions({readPreference:J.readPreference,readPreferenceTags:Y})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverSelectionTimeoutMS:{default:30000,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:Z,values:[J]}){return!j4(Z,J)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:Z,values:[J]}){return j4(Z,J)?()=>{return}:void 0}},tlsCAFile:{type:"string"},tlsCRLFile:{type:"string"},tlsCertificateKeyFile:{type:"string"},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:Z,options:J,values:[X]}){const Y=j4(Z,X);if(Y)J.checkServerIdentity=()=>{return},J.rejectUnauthorized=!1;else J.checkServerIdentity=J.tlsAllowInvalidHostnames?()=>{return}:void 0,J.rejectUnauthorized=J.tlsAllowInvalidCertificates?!1:!0;return Y}},w:{target:"writeConcern",transform({values:[Z],options:J}){return T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,w:Z}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[Z],options:J}){if(K8.isRecord(Z)||Z instanceof T4.WriteConcern)return T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,...Z}});else if(Z==="majority"||typeof Z==="number")return T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,w:Z}});throw new o.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(Z)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[Z],options:J}){const X=T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,wtimeout:BJ("wtimeout",Z)}});if(X)return X;throw new o.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[Z],options:J}){const X=T4.WriteConcern.fromOptions({writeConcern:{...J.writeConcern,wtimeoutMS:BJ("wtimeoutMS",Z)}});if(X)return X;throw new o.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean",deprecated:"useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},useUnifiedTopology:{type:"boolean",deprecated:"useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},mongodbLogPath:{type:"any"}};mC.DEFAULT_OPTIONS=new MJ(Object.entries(mC.OPTIONS).filter(([,Z])=>Z.default!=null).map(([Z,J])=>[Z,J.default]));mC.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger"),Symbol.for("@@mdb.internalLoggerConfig")])});var QY=R((tC)=>{Object.defineProperty(tC,"__esModule",{value:!0});tC.ServerHeartbeatFailedEvent=tC.ServerHeartbeatSucceededEvent=tC.ServerHeartbeatStartedEvent=tC.TopologyClosedEvent=tC.TopologyOpeningEvent=tC.TopologyDescriptionChangedEvent=tC.ServerClosedEvent=tC.ServerOpeningEvent=tC.ServerDescriptionChangedEvent=void 0;class dC{constructor(Z,J,X,Y){this.topologyId=Z,this.address=J,this.previousDescription=X,this.newDescription=Y}}tC.ServerDescriptionChangedEvent=dC;class cC{constructor(Z,J){this.topologyId=Z,this.address=J}}tC.ServerOpeningEvent=cC;class lC{constructor(Z,J){this.topologyId=Z,this.address=J}}tC.ServerClosedEvent=lC;class pC{constructor(Z,J,X){this.topologyId=Z,this.previousDescription=J,this.newDescription=X}}tC.TopologyDescriptionChangedEvent=pC;class iC{constructor(Z){this.topologyId=Z}}tC.TopologyOpeningEvent=iC;class nC{constructor(Z){this.topologyId=Z}}tC.TopologyClosedEvent=nC;class aC{constructor(Z,J){this.connectionId=Z,this.awaited=J}}tC.ServerHeartbeatStartedEvent=aC;class sC{constructor(Z,J,X,Y){this.connectionId=Z,this.duration=J,this.reply=X??{},this.awaited=Y}}tC.ServerHeartbeatSucceededEvent=sC;class rC{constructor(Z,J,X,Y){this.connectionId=Z,this.duration=J,this.failure=X,this.awaited=Y}}tC.ServerHeartbeatFailedEvent=rC});var zY=R((GP)=>{Object.defineProperty(GP,"__esModule",{value:!0});GP.BinMsg=GP.Msg=GP.Response=GP.Query=void 0;var V7=i1(),IJ=a(),K41=N0(),NJ=r7(),P9=0,Q41=2,z41=4,F41=8,U41=16,L41=32,V41=64,R41=128,w41=1,A41=2,B41=4,M41=8;class IK{constructor(Z,J,X){this.databaseName=Z,this.query=J;const Y=`${Z}.\$cmd`;if(typeof Z!=="string")throw new IJ.MongoRuntimeError("Database name must be a string for a query");if(J==null)throw new IJ.MongoRuntimeError("A query document must be specified for query");if(Y.indexOf("\0")!==-1)throw new IJ.MongoRuntimeError("Namespace cannot contain a null character");this.ns=Y,this.numberToSkip=X.numberToSkip||0,this.numberToReturn=X.numberToReturn||0,this.returnFieldSelector=X.returnFieldSelector||void 0,this.requestId=IK.getRequestId(),this.pre32Limit=X.pre32Limit,this.serializeFunctions=typeof X.serializeFunctions==="boolean"?X.serializeFunctions:!1,this.ignoreUndefined=typeof X.ignoreUndefined==="boolean"?X.ignoreUndefined:!1,this.maxBsonSize=X.maxBsonSize||16777216,this.checkKeys=typeof X.checkKeys==="boolean"?X.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof X.secondaryOk==="boolean"?X.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=P9++}nextRequestId(){return P9+1}static getRequestId(){return++P9}toBin(){const Z=[];let J=null,X=0;if(this.tailable)X|=Q41;if(this.secondaryOk)X|=z41;if(this.oplogReplay)X|=F41;if(this.noCursorTimeout)X|=U41;if(this.awaitData)X|=L41;if(this.exhaust)X|=V41;if(this.partial)X|=R41;if(this.batchSize!==this.numberToReturn)this.numberToReturn=this.batchSize;const Y=Buffer.alloc(20+Buffer.byteLength(this.ns)+1+4+4);Z.push(Y);const G=V7.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});if(Z.push(G),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0)J=V7.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),Z.push(J);const $=Y.length+G.length+(J?J.length:0);let W=4;return Y[3]=$>>24&255,Y[2]=$>>16&255,Y[1]=$>>8&255,Y[0]=$&255,Y[W+3]=this.requestId>>24&255,Y[W+2]=this.requestId>>16&255,Y[W+1]=this.requestId>>8&255,Y[W]=this.requestId&255,W=W+4,Y[W+3]=0>>24&255,Y[W+2]=0>>16&255,Y[W+1]=0>>8&255,Y[W]=0&255,W=W+4,Y[W+3]=NJ.OP_QUERY>>24&255,Y[W+2]=NJ.OP_QUERY>>16&255,Y[W+1]=NJ.OP_QUERY>>8&255,Y[W]=NJ.OP_QUERY&255,W=W+4,Y[W+3]=X>>24&255,Y[W+2]=X>>16&255,Y[W+1]=X>>8&255,Y[W]=X&255,W=W+4,W=W+Y.write(this.ns,W,"utf8")+1,Y[W-1]=0,Y[W+3]=this.numberToSkip>>24&255,Y[W+2]=this.numberToSkip>>16&255,Y[W+1]=this.numberToSkip>>8&255,Y[W]=this.numberToSkip&255,W=W+4,Y[W+3]=this.numberToReturn>>24&255,Y[W+2]=this.numberToReturn>>16&255,Y[W+1]=this.numberToReturn>>8&255,Y[W]=this.numberToReturn&255,W=W+4,Z}}GP.Query=IK;class eC{constructor(Z,J,X,Y){this.documents=new Array(0),this.parsed=!1,this.raw=Z,this.data=X,this.opts=Y??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=J.length,this.requestId=J.requestId,this.responseTo=J.responseTo,this.opCode=J.opCode,this.fromCompressed=J.fromCompressed,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{};const J=Z.raw||!1,X=Z.documentsReturnedIn||null,Y=Z.useBigInt64??this.opts.useBigInt64,G=Z.promoteLongs??this.opts.promoteLongs,$=Z.promoteValues??this.opts.promoteValues,W=Z.promoteBuffers??this.opts.promoteBuffers,H=Z.bsonRegExp??this.opts.bsonRegExp;let q;const K={useBigInt64:Y,promoteLongs:G,promoteValues:$,promoteBuffers:W,bsonRegExp:H};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new V7.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&w41)!==0,this.queryFailure=(this.responseFlags&A41)!==0,this.shardConfigStale=(this.responseFlags&B41)!==0,this.awaitCapable=(this.responseFlags&M41)!==0;for(let Q=0;Q<this.numberReturned;Q++){if(q=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,J)this.documents[Q]=this.data.slice(this.index,this.index+q);else this.documents[Q]=V7.deserialize(this.data.slice(this.index,this.index+q),K);this.index=this.index+q}if(this.documents.length===1&&X!=null&&J){const Q={};Q[X]=!0,K.fieldsAsRaw=Q;const z=V7.deserialize(this.documents[0],K);this.documents=[z]}this.parsed=!0}}GP.Response=eC;var ZP=1,JP=2,XP=1<<16;class DK{constructor(Z,J,X){if(this.databaseName=Z,this.command=J,this.options=X,J==null)throw new IJ.MongoInvalidArgumentError("Query document must be specified for query");if(this.command.$db=Z,X.readPreference&&X.readPreference.mode!==K41.ReadPreference.PRIMARY)this.command.$readPreference=X.readPreference.toJSON();this.options=X??{},this.requestId=X.requestId?X.requestId:DK.getRequestId(),this.serializeFunctions=typeof X.serializeFunctions==="boolean"?X.serializeFunctions:!1,this.ignoreUndefined=typeof X.ignoreUndefined==="boolean"?X.ignoreUndefined:!1,this.checkKeys=typeof X.checkKeys==="boolean"?X.checkKeys:!1,this.maxBsonSize=X.maxBsonSize||16777216,this.checksumPresent=!1,this.moreToCome=X.moreToCome||!1,this.exhaustAllowed=typeof X.exhaustAllowed==="boolean"?X.exhaustAllowed:!1}toBin(){const Z=[];let J=0;if(this.checksumPresent)J|=ZP;if(this.moreToCome)J|=JP;if(this.exhaustAllowed)J|=XP;const X=Buffer.alloc(20);Z.push(X);let Y=X.length;const G=this.command;return Y+=this.makeDocumentSegment(Z,G),X.writeInt32LE(Y,0),X.writeInt32LE(this.requestId,4),X.writeInt32LE(0,8),X.writeInt32LE(NJ.OP_MSG,12),X.writeUInt32LE(J,16),Z}makeDocumentSegment(Z,J){const X=Buffer.alloc(1);X[0]=0;const Y=this.serializeBson(J);return Z.push(X),Z.push(Y),X.length+Y.length}serializeBson(Z){return V7.serialize(Z,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return P9=P9+1&2147483647,P9}}GP.Msg=DK;class YP{constructor(Z,J,X,Y){this.parsed=!1,this.raw=Z,this.data=X,this.opts=Y??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=J.length,this.requestId=J.requestId,this.responseTo=J.responseTo,this.opCode=J.opCode,this.fromCompressed=J.fromCompressed,this.responseFlags=X.readInt32LE(0),this.checksumPresent=(this.responseFlags&ZP)!==0,this.moreToCome=(this.responseFlags&JP)!==0,this.exhaustAllowed=(this.responseFlags&XP)!==0,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{},this.index=4;const J=Z.raw||!1,X=Z.documentsReturnedIn||null,Y=Z.useBigInt64??this.opts.useBigInt64,G=Z.promoteLongs??this.opts.promoteLongs,$=Z.promoteValues??this.opts.promoteValues,W=Z.promoteBuffers??this.opts.promoteBuffers,H=Z.bsonRegExp??this.opts.bsonRegExp,q=this.parseBsonSerializationOptions(Z),K={useBigInt64:Y,promoteLongs:G,promoteValues:$,promoteBuffers:W,bsonRegExp:H,validation:q};while(this.index<this.data.length){const Q=this.data.readUInt8(this.index++);if(Q===0){const z=this.data.readUInt32LE(this.index),F=this.data.slice(this.index,this.index+z);this.documents.push(J?F:V7.deserialize(F,K)),this.index+=z}else if(Q===1)throw new IJ.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&X!=null&&J){const Q={};Q[X]=!0,K.fieldsAsRaw=Q;const z=V7.deserialize(this.documents[0],K);this.documents=[z]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:Z}){if(Z===!1)return{utf8:!1};return{utf8:{writeErrors:!1}}}}GP.BinMsg=YP});var jK=R((FP)=>{var EK=function(Z){if(Z instanceof qP.Msg)return y6.deepCopy(Z.command);if(Z.query?.$query){let Y;if(Z.ns==="admin.$cmd")Y=Object.assign({},Z.query.$query);else Y={find:E41(Z)},Object.keys(WP).forEach((G)=>{if(Z.query[G]!=null)Y[WP[G]]=y6.deepCopy(Z.query[G])});if(Object.keys(HP).forEach((G)=>{const $=G;if(Z[$]!=null)Y[HP[$]]=y6.deepCopy(Z[$])}),T41.forEach((G)=>{if(Z[G])Y[G]=Z[G]}),Z.pre32Limit!=null)Y.limit=Z.pre32Limit;if(Z.query.$explain)return{explain:Y};return Y}const J={},X={};if(Z.query){for(let Y in Z.query)J[Y]=y6.deepCopy(Z.query[Y]);X.query=J}for(let Y in Z){if(Y==="query")continue;X[Y]=y6.deepCopy(Z[Y])}return Z.query?J:X},j41=function(Z,J){if(!J)return J;if(Z instanceof qP.Msg)return y6.deepCopy(J.result?J.result:J);if(Z.query&&Z.query.$query!=null)return{ok:1,cursor:{id:y6.deepCopy(J.cursorId),ns:P41(Z),firstBatch:y6.deepCopy(J.documents)}};return y6.deepCopy(J.result?J.result:J)},TK=function(Z){let J;if("id"in Z)J=Z.id;return{address:Z.address,serviceId:Z.serviceId,connectionId:J}};Object.defineProperty(FP,"__esModule",{value:!0});FP.SENSITIVE_COMMANDS=FP.CommandFailedEvent=FP.CommandSucceededEvent=FP.CommandStartedEvent=void 0;var DJ=T0(),y6=Z1(),qP=zY();class KP{constructor(Z,J){this.name=DJ.COMMAND_STARTED;const X=EK(J),Y=CK(X),{address:G,connectionId:$,serviceId:W}=TK(Z);if(FP.SENSITIVE_COMMANDS.has(Y))this.commandObj={},this.commandObj[Y]=!0;this.address=G,this.connectionId=$,this.serviceId=W,this.requestId=J.requestId,this.databaseName=J.databaseName,this.commandName=Y,this.command=PK(Y,X,X)}get hasServiceId(){return!!this.serviceId}}FP.CommandStartedEvent=KP;class QP{constructor(Z,J,X,Y){this.name=DJ.COMMAND_SUCCEEDED;const G=EK(J),$=CK(G),{address:W,connectionId:H,serviceId:q}=TK(Z);this.address=W,this.connectionId=H,this.serviceId=q,this.requestId=J.requestId,this.commandName=$,this.duration=y6.calculateDurationInMs(Y),this.reply=PK($,G,j41(J,X))}get hasServiceId(){return!!this.serviceId}}FP.CommandSucceededEvent=QP;class zP{constructor(Z,J,X,Y){this.name=DJ.COMMAND_FAILED;const G=EK(J),$=CK(G),{address:W,connectionId:H,serviceId:q}=TK(Z);this.address=W,this.connectionId=H,this.serviceId=q,this.requestId=J.requestId,this.commandName=$,this.duration=y6.calculateDurationInMs(Y),this.failure=PK($,G,X)}get hasServiceId(){return!!this.serviceId}}FP.CommandFailedEvent=zP;FP.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);var C41=new Set(["hello",DJ.LEGACY_HELLO_COMMAND,DJ.LEGACY_HELLO_COMMAND_CAMEL_CASE]),CK=(Z)=>Object.keys(Z)[0],P41=(Z)=>Z.ns,E41=(Z)=>Z.ns.split(".")[1],PK=(Z,J,X)=>FP.SENSITIVE_COMMANDS.has(Z)||C41.has(Z)&&J.speculativeAuthenticate?{}:X,WP={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},HP={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},T41=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"]});var wP=R((VP)=>{var f41=function(Z){const J=Z instanceof CJ.Msg?Z.command:Z.query,X=Object.keys(J)[0];return!VY.uncompressibleCommands.has(X)},PJ=function(Z,J){const X=Z[LY],Y=X.getInt32();if(Y==null)return J();if(Y<0)return J(new OK.MongoParseError(`Invalid message size: ${Y}`));if(Y>Z.maxBsonMessageSize)return J(new OK.MongoParseError(`Invalid message size: ${Y}, max allowed: ${Z.maxBsonMessageSize}`));if(Y>X.length)return J();const G=X.read(Y),$={length:G.readInt32LE(0),requestId:G.readInt32LE(4),responseTo:G.readInt32LE(8),opCode:G.readInt32LE(12)},W=()=>{if(Z.isMonitoringConnection){const Q=X.getInt32();if(Q!=null&&Q<=X.length)return!0}return!1};let H=$.opCode===UY.OP_MSG?CJ.BinMsg:CJ.Response;if($.opCode!==UY.OP_COMPRESSED){const Q=G.subarray(R7);if(W())return PJ(Z,J);if(Z.emit("message",new H(G,$,Q)),X.length>=4)return PJ(Z,J);return J()}$.fromCompressed=!0,$.opCode=G.readInt32LE(R7),$.length=G.readInt32LE(R7+4);const q=G[R7+8],K=G.slice(R7+9);H=$.opCode===UY.OP_MSG?CJ.BinMsg:CJ.Response,VY.decompress(q,K).then((Q)=>{if(Q.length!==$.length)return J(new OK.MongoDecompressionError("Message body and message header must be the same length"));if(W())return PJ(Z,J);if(Z.emit("message",new H(G,$,Q)),X.length>=4)return PJ(Z,J);return J()},(Q)=>{return J(Q)})};Object.defineProperty(VP,"__esModule",{value:!0});VP.MessageStream=void 0;var _41=import.meta.require("stream"),OK=a(),x41=Z1(),CJ=zY(),VY=JY(),UY=r7(),R7=16,UP=9,g41=67108864,LY=Symbol("buffer");class LP extends _41.Duplex{constructor(Z={}){super(Z);this.isMonitoringConnection=!1,this.maxBsonMessageSize=Z.maxBsonMessageSize||g41,this[LY]=new x41.BufferPool}get buffer(){return this[LY]}_write(Z,J,X){this[LY].append(Z),PJ(this,X)}_read(){return}writeCommand(Z,J){const X=J.agreedCompressor??"none";if(X==="none"||!f41(Z)){const H=Z.toBin();this.push(Array.isArray(H)?Buffer.concat(H):H);return}const Y=Buffer.concat(Z.toBin()),G=Y.slice(R7),$=Y.readInt32LE(12),W={agreedCompressor:X,zlibCompressionLevel:J.zlibCompressionLevel??0};VY.compress(W,G).then((H)=>{const q=Buffer.alloc(R7);q.writeInt32LE(R7+UP+H.length,0),q.writeInt32LE(Z.requestId,4),q.writeInt32LE(0,8),q.writeInt32LE(UY.OP_COMPRESSED,12);const K=Buffer.alloc(UP);K.writeInt32LE($,0),K.writeInt32LE(G.length,4),K.writeUInt8(VY.Compressor[X],8),this.push(Buffer.concat([q,K,H]))},(H)=>{J.cb(H)})}}VP.MessageStream=LP});var NP=R((BP)=>{Object.defineProperty(BP,"__esModule",{value:!0});BP.StreamDescription=void 0;var y41=Y6(),b41=aZ(),v41=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"];class AP{constructor(Z,J){this.address=Z,this.type=y41.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48000000,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=J?.logicalSessionTimeoutMinutes,this.loadBalanced=!!J?.loadBalanced,this.compressors=J&&J.compressors&&Array.isArray(J.compressors)?J.compressors:[]}receiveResponse(Z){if(Z==null)return;this.type=b41.parseServerType(Z);for(let J of v41){if(Z[J]!=null)this[J]=Z[J];if("__nodejs_mock_server__"in Z)this.__nodejs_mock_server__=Z.__nodejs_mock_server__}if(Z.compression)this.compressor=this.compressors.filter((J)=>Z.compression?.includes(J))[0]}}BP.StreamDescription=AP});var EJ=R((OP)=>{var jP=function(Z){return Z.description.logicalSessionTimeoutMinutes!=null},l41=function(Z){const J=Z.description;if(J==null)return!1;return w7.maxWireVersion(Z)>=6&&!J.__nodejs_mock_server__},p41=function(Z,J){if(J.proxyHost)return J.hostAddress.toString();const{remoteAddress:X,remotePort:Y}=Z;if(typeof X==="string"&&typeof Y==="number")return w7.HostAddress.fromHostPort(X,Y).toString();return w7.uuidV4().toString("hex")},i41=function(Z,J,X,Y){X=X??{};const G={requestId:J.requestId,cb:Y,session:X.session,noResponse:typeof X.noResponse==="boolean"?X.noResponse:!1,documentsReturnedIn:X.documentsReturnedIn,useBigInt64:typeof X.useBigInt64==="boolean"?X.useBigInt64:!1,promoteLongs:typeof X.promoteLongs==="boolean"?X.promoteLongs:!0,promoteValues:typeof X.promoteValues==="boolean"?X.promoteValues:!0,promoteBuffers:typeof X.promoteBuffers==="boolean"?X.promoteBuffers:!1,bsonRegExp:typeof X.bsonRegExp==="boolean"?X.bsonRegExp:!1,enableUtf8Validation:typeof X.enableUtf8Validation==="boolean"?X.enableUtf8Validation:!0,raw:typeof X.raw==="boolean"?X.raw:!1,started:0};if(Z[W4]&&Z[W4].compressor){if(G.agreedCompressor=Z[W4].compressor,Z[W4].zlibCompressionLevel)G.zlibCompressionLevel=Z[W4].zlibCompressionLevel}if(typeof X.socketTimeoutMS==="number")Z[h0].setTimeout(X.socketTimeoutMS);else if(Z.socketTimeoutMS!==0)Z[h0].setTimeout(Z.socketTimeoutMS);if(Z.monitorCommands)Z.emit(D0.COMMAND_STARTED,new RY.CommandStartedEvent(Z,J)),G.started=w7.now(),G.cb=($,W)=>{if($&&W?.ok!==1)Z.emit(D0.COMMAND_FAILED,new RY.CommandFailedEvent(Z,J,$,G.started));else if(W&&(W.ok===0||W.$err))Z.emit(D0.COMMAND_FAILED,new RY.CommandFailedEvent(Z,J,W,G.started));else Z.emit(D0.COMMAND_SUCCEEDED,new RY.CommandSucceededEvent(Z,J,W,G.started));if(typeof Y==="function")Y($,$ instanceof $4.MongoWriteConcernError?void 0:W)};if(!G.noResponse)Z[b6].set(G.requestId,G);try{Z[G4].writeCommand(J,G)}catch($){if(!G.noResponse){Z[b6].delete(G.requestId),G.cb($);return}}if(G.noResponse)G.cb()};Object.defineProperty(OP,"__esModule",{value:!0});OP.hasSessionSupport=OP.CryptoConnection=OP.Connection=void 0;var IP=import.meta.require("timers"),h41=import.meta.require("util"),A7=T0(),$4=a(),u41=m8(),DP=tZ(),w7=Z1(),RY=jK(),CP=zY(),m41=wP(),d41=NP(),PP=jH(),h0=Symbol("stream"),b6=Symbol("queue"),G4=Symbol("messageStream"),SK=Symbol("generation"),kK=Symbol("lastUseTime"),_K=Symbol("clusterTime"),W4=Symbol("description"),xK=Symbol("hello"),EP=Symbol("autoEncrypter"),wY=Symbol("delayedTimeoutId"),c41="Connection internal queue contains more than 1 operation description";class D0 extends u41.TypedEventEmitter{constructor(Z,J){super();this.commandAsync=h41.promisify((X,Y,G,$)=>this.command(X,Y,G,$)),this.id=J.id,this.address=p41(Z,J),this.socketTimeoutMS=J.socketTimeoutMS??0,this.monitorCommands=J.monitorCommands,this.serverApi=J.serverApi,this.closed=!1,this[xK]=null,this[_K]=null,this[W4]=new d41.StreamDescription(this.address,J),this[SK]=J.generation,this[kK]=w7.now(),this[b6]=new Map,this[G4]=new m41.MessageStream({...J,maxBsonMessageSize:this.hello?.maxBsonMessageSize}),this[h0]=Z,this[wY]=null,this[G4].on("message",(X)=>this.onMessage(X)),this[G4].on("error",(X)=>this.onError(X)),this[h0].on("close",()=>this.onClose()),this[h0].on("timeout",()=>this.onTimeout()),this[h0].on("error",()=>{}),this[h0].pipe(this[G4]),this[G4].pipe(this[h0])}get description(){return this[W4]}get hello(){return this[xK]}set hello(Z){this[W4].receiveResponse(Z),this[W4]=Object.freeze(this[W4]),this[xK]=Z}set isMonitoringConnection(Z){this[G4].isMonitoringConnection=Z}get isMonitoringConnection(){return this[G4].isMonitoringConnection}get serviceId(){return this.hello?.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[SK]||0}set generation(Z){this[SK]=Z}get idleTime(){return w7.calculateDurationInMs(this[kK])}get clusterTime(){return this[_K]}get stream(){return this[h0]}markAvailable(){this[kK]=w7.now()}onError(Z){this.cleanup(!0,Z)}onClose(){const Z=`connection ${this.id} to ${this.address} closed`;this.cleanup(!0,new $4.MongoNetworkError(Z))}onTimeout(){this[wY]=IP.setTimeout(()=>{const Z=`connection ${this.id} to ${this.address} timed out`,J=this.hello==null;this.cleanup(!0,new $4.MongoNetworkTimeoutError(Z,{beforeHandshake:J}))},1).unref()}onMessage(Z){const J=this[wY];if(J!=null)IP.clearTimeout(J),this[wY]=null;const X=this[h0].timeout??0;this[h0].setTimeout(0),this.emit("message",Z);let Y=this[b6].get(Z.responseTo);if(!Y&&this.isMonitoringConnection)if(this[b6].size>1)this.cleanup(!0,new $4.MongoRuntimeError(c41));else{const $=this[b6].entries().next();if($.value!=null){const[W,H]=$.value;Y=H,this[b6].delete(W)}}if(!Y)return;const G=Y.cb;if(this[b6].delete(Z.responseTo),"moreToCome"in Z&&Z.moreToCome)this[b6].set(Z.requestId,Y),this[h0].setTimeout(X);try{Z.parse(Y)}catch($){G($);return}if(Z.documents[0]){const $=Z.documents[0],W=Y.session;if(W)DP.updateSessionFromResponse(W,$);if($.$clusterTime)this[_K]=$.$clusterTime,this.emit(D0.CLUSTER_TIME_RECEIVED,$.$clusterTime);if($.writeConcernError){G(new $4.MongoWriteConcernError($.writeConcernError,$),$);return}if($.ok===0||$.$err||$.errmsg||$.code){G(new $4.MongoServerError($));return}}G(void 0,Z.documents[0])}destroy(Z,J){if(this.closed){process.nextTick(()=>J?.());return}if(typeof J==="function")this.once("close",()=>process.nextTick(()=>J()));this.removeAllListeners(D0.PINNED),this.removeAllListeners(D0.UNPINNED);const X=`connection ${this.id} to ${this.address} closed`;this.cleanup(Z.force,new $4.MongoNetworkError(X))}cleanup(Z,J){if(this.closed)return;this.closed=!0;const X=()=>{for(let Y of this[b6].values())Y.cb(J);this[b6].clear(),this.emit(D0.CLOSE)};if(this[h0].removeAllListeners(),this[G4].removeAllListeners(),this[G4].destroy(),Z){this[h0].destroy(),X();return}if(!this[h0].writableEnded)this[h0].end(()=>{this[h0].destroy(),X()});else X()}command(Z,J,X,Y){let G={...J};const $=PP.getReadPreference(X),W=l41(this),H=X?.session;let q=this.clusterTime;if(this.serverApi){const{version:z,strict:F,deprecationErrors:U}=this.serverApi;if(G.apiVersion=z,F!=null)G.apiStrict=F;if(U!=null)G.apiDeprecationErrors=U}if(jP(this)&&H){if(H.clusterTime&&q&&H.clusterTime.clusterTime.greaterThan(q.clusterTime))q=H.clusterTime;const z=DP.applySession(H,G,X);if(z)return Y(z)}else if(H?.explicit)return Y(new $4.MongoCompatibilityError("Current topology does not support sessions"));if(q)G.$clusterTime=q;if(PP.isSharded(this)&&!W&&$&&$.mode!=="primary")G={$query:G,$readPreference:$.toJSON()};const K=Object.assign({numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:$.secondaryOk()},X),Q=W?new CP.Msg(Z.db,G,K):new CP.Query(Z.db,G,K);try{i41(this,Q,K,Y)}catch(z){Y(z)}}}D0.COMMAND_STARTED=A7.COMMAND_STARTED;D0.COMMAND_SUCCEEDED=A7.COMMAND_SUCCEEDED;D0.COMMAND_FAILED=A7.COMMAND_FAILED;D0.CLUSTER_TIME_RECEIVED=A7.CLUSTER_TIME_RECEIVED;D0.CLOSE=A7.CLOSE;D0.MESSAGE=A7.MESSAGE;D0.PINNED=A7.PINNED;D0.UNPINNED=A7.UNPINNED;OP.Connection=D0;class TP extends D0{constructor(Z,J){super(Z,J);this[EP]=J.autoEncrypter}command(Z,J,X,Y){const G=this[EP];if(!G)return Y(new $4.MongoMissingDependencyError("No AutoEncrypter available for encryption"));const $=w7.maxWireVersion(this);if($===0)return super.command(Z,J,X,Y);if($<8){Y(new $4.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2"));return}const W=J.find||J.findAndModify?J.sort:null,H=J.createIndexes?J.indexes.map((q)=>q.key):null;G.encrypt(Z.toString(),J,X).then((q)=>{if(W!=null&&(J.find||J.findAndModify))q.sort=W;if(H!=null&&J.createIndexes)for(let[K,Q]of H.entries())q.indexes[K].key=Q;super.command(Z,q,X,(K,Q)=>{if(K||Q==null){Y(K,Q);return}G.decrypt(Q,X).then((z)=>Y(void 0,z),(z)=>Y(z))})},(q)=>{if(q)Y(q,null)})}}OP.CryptoConnection=TP;OP.hasSessionSupport=jP});var yP=R((gP)=>{Object.defineProperty(gP,"__esModule",{value:!0});gP.MongoCR=void 0;var kP=import.meta.require("crypto"),s41=a(),_P=Z1(),r41=P4();class xP extends r41.AuthProvider{async auth(Z){const{connection:J,credentials:X}=Z;if(!X)throw new s41.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:Y,password:G,source:$}=X,{nonce:W}=await J.commandAsync(_P.ns(`${$}.\$cmd`),{getnonce:1},void 0),H=kP.createHash("md5").update(`${Y}:mongo:${G}`,"utf8").digest("hex"),q=kP.createHash("md5").update(`${W}${Y}${H}`,"utf8").digest("hex"),K={authenticate:1,user:Y,nonce:W,key:q};await J.commandAsync(_P.ns(`${$}.\$cmd`),K,void 0)}}gP.MongoCR=xP});var uP=R((vP)=>{async function $71(Z){function J(X){if(!X.AccessKeyId||!X.SecretAccessKey||!X.Token)throw new z5.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new Z71.MongoCredentials({username:X.AccessKeyId,password:X.SecretAccessKey,source:Z.source,mechanism:J71.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:X.Token}})}if(F5.credentialProvider??=AY.getAwsCredentialProvider(),"kModuleError"in F5.credentialProvider){if(gK.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return J(await O4.request(`${G71}${gK.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`));const X=await O4.request(`${yK}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),Y=await O4.request(`${yK}/${bP}`,{json:!1,headers:{"X-aws-ec2-metadata-token":X}}),G=await O4.request(`${yK}/${bP}/${Y}`,{headers:{"X-aws-ec2-metadata-token":X}});return J(G)}else{let{AWS_STS_REGIONAL_ENDPOINTS:X="",AWS_REGION:Y=""}=gK.env;X=X.toLowerCase(),Y=Y.toLowerCase();const G=Y.length!==0&&X.length!==0,$=X==="regional"||X==="legacy"&&!X71.has(Y),W=G&&$?F5.credentialProvider.fromNodeProviderChain({clientConfig:{region:Y}}):F5.credentialProvider.fromNodeProviderChain();try{const H=await W();return J({AccessKeyId:H.accessKeyId,SecretAccessKey:H.secretAccessKey,Token:H.sessionToken,Expiration:H.expiration})}catch(H){throw new z5.MongoAWSError(H.message)}}}var W71=function(Z){const J=Z.split(".");if(J.length===1||J[1]==="amazonaws")return"us-east-1";return J[1]};Object.defineProperty(vP,"__esModule",{value:!0});vP.MongoDBAWS=void 0;var t41=import.meta.require("crypto"),gK=import.meta.require("process"),o41=import.meta.require("util"),fK=i1(),AY=x6(),z5=a(),O4=Z1(),e41=P4(),Z71=uX(),J71=J4(),X71=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Y71=110,G71="http://169.254.170.2",yK="http://169.254.169.254",bP="/latest/meta-data/iam/security-credentials",bK={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1};class F5 extends e41.AuthProvider{constructor(){super();this.randomBytesAsync=o41.promisify(t41.randomBytes)}async auth(Z){const{connection:J}=Z;if(!Z.credentials)throw new z5.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in AY.aws4)throw AY.aws4.kModuleError;const{sign:X}=AY.aws4;if(O4.maxWireVersion(J)<9)throw new z5.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");if(!Z.credentials.username)Z.credentials=await $71(Z.credentials);const{credentials:Y}=Z,G=Y.username,$=Y.password,W=Y.mechanismProperties.AWS_SESSION_TOKEN,H=G&&$&&W?{accessKeyId:G,secretAccessKey:$,sessionToken:W}:G&&$?{accessKeyId:G,secretAccessKey:$}:void 0,q=Y.source,K=await this.randomBytesAsync(32),Q={saslStart:1,mechanism:"MONGODB-AWS",payload:fK.serialize({r:K,p:Y71},bK)},z=await J.commandAsync(O4.ns(`${q}.\$cmd`),Q,void 0),F=fK.deserialize(z.payload.buffer,bK),U=F.h,L=F.s.buffer;if(L.length!==64)throw new z5.MongoRuntimeError(`Invalid server nonce length ${L.length}, expected 64`);if(!O4.ByteUtils.equals(L.subarray(0,K.byteLength),K))throw new z5.MongoRuntimeError("Server nonce does not begin with client nonce");if(U.length<1||U.length>255||U.indexOf("..")!==-1)throw new z5.MongoRuntimeError(`Server returned an invalid host: "${U}"`);const V="Action=GetCallerIdentity&Version=2011-06-15",w=X({method:"POST",host:U,region:W71(F.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":V.length,"X-MongoDB-Server-Nonce":O4.ByteUtils.toBase64(L),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:V},H),B={a:w.headers.Authorization,d:w.headers["X-Amz-Date"]};if(W)B.t=W;const M={saslContinue:1,conversationId:1,payload:fK.serialize(B,bK)};await J.commandAsync(O4.ns(`${q}.\$cmd`),M,void 0)}}F5.credentialProvider=null;vP.MongoDBAWS=F5});var hK=R((dP)=>{var vK=function(Z){return{saslStart:1,mechanism:K71.AuthMechanism.MONGODB_OIDC,payload:H71.BSON.serialize({jwt:Z})}};Object.defineProperty(dP,"__esModule",{value:!0});dP.commandDocument=dP.ServiceWorkflow=void 0;var H71=X6(),q71=Z1(),K71=J4();class mP{async execute(Z,J){const X=await this.getToken(J),Y=vK(X);return Z.commandAsync(q71.ns(J.source),Y,void 0)}async speculativeAuth(Z){const J=await this.getToken(Z),X=vK(J);return X.db=Z.source,{speculativeAuthenticate:X}}}dP.ServiceWorkflow=mP;dP.commandDocument=vK});var nP=R((pP)=>{Object.defineProperty(pP,"__esModule",{value:!0});pP.AwsServiceWorkflow=void 0;var z71=import.meta.require("fs"),F71=a(),U71=hK(),L71="AWS_WEB_IDENTITY_TOKEN_FILE must be set in the environment.";class lP extends U71.ServiceWorkflow{constructor(){super()}async getToken(){const Z=process.env.AWS_WEB_IDENTITY_TOKEN_FILE;if(!Z)throw new F71.MongoAWSError(L71);return z71.promises.readFile(Z,"utf8")}}pP.AwsServiceWorkflow=lP});var BY=R((rP)=>{Object.defineProperty(rP,"__esModule",{value:!0});rP.Cache=rP.ExpiringCacheEntry=void 0;var V71=300000;class aP{constructor(Z){this.expiration=this.expirationTime(Z)}isValid(){return this.expiration-Date.now()>V71}expirationTime(Z){return Date.now()+Z*1000}}rP.ExpiringCacheEntry=aP;class sP{constructor(){this.entries=new Map}clear(){this.entries.clear()}hashedCacheKey(Z,J,X){return JSON.stringify([Z,J,X])}}rP.Cache=sP});var XE=R((ZE)=>{Object.defineProperty(ZE,"__esModule",{value:!0});ZE.AzureTokenCache=ZE.AzureTokenEntry=void 0;var oP=BY();class uK extends oP.ExpiringCacheEntry{constructor(Z,J){super(J);this.token=Z}}ZE.AzureTokenEntry=uK;class eP extends oP.Cache{addEntry(Z,J){const X=new uK(J.access_token,J.expires_in);return this.entries.set(Z,X),X}cacheKey(Z){return Z}deleteEntry(Z){this.entries.delete(Z)}getEntry(Z){return this.entries.get(Z)}}ZE.AzureTokenCache=eP});var HE=R(($E)=>{async function P71(Z){const J=`${N71}&resource=${Z}`;return await A71.request(J,{json:!0,headers:I71})}var E71=function(Z){if(Z==null||typeof Z!=="object")return!1;return"access_token"in Z&&"expires_in"in Z};Object.defineProperty($E,"__esModule",{value:!0});$E.AzureServiceWorkflow=void 0;var YE=a(),A71=Z1(),B71=XE(),M71=hK(),N71="http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01",I71=Object.freeze({Metadata:"true",Accept:"application/json"}),D71="Azure endpoint did not return a value with only access_token and expires_in properties",C71="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class GE extends M71.ServiceWorkflow{constructor(){super(...arguments);this.cache=new B71.AzureTokenCache}async getToken(Z){const J=Z?.mechanismProperties.TOKEN_AUDIENCE;if(!J)throw new YE.MongoAzureError(C71);let X;const Y=this.cache.getEntry(J);if(Y?.isValid())X=Y.token;else{this.cache.deleteEntry(J);const G=await P71(J);if(!E71(G))throw new YE.MongoAzureError(D71);this.cache.addEntry(J,G),X=G.access_token}return X}}$E.AzureServiceWorkflow=GE});var UE=R((zE)=>{var qE=function(Z){let J=Promise.resolve();return async(X,Y)=>{return await J,J=J.then(()=>Z(X,Y)),J}},S71=function(Z,J){let X=TJ.get(Z),Y=TJ.get(J??KE);if(X==null)U5++,X=U5,TJ.set(Z,U5);if(Y==null&&J)U5++,Y=U5,TJ.set(J,U5);return`${X}-${Y}`};Object.defineProperty(zE,"__esModule",{value:!0});zE.CallbackLockCache=void 0;var T71=a(),j71=BY(),O71="Auth mechanism property REQUEST_TOKEN_CALLBACK is required.",U5=0,KE=async()=>({accessToken:"test"}),TJ=new WeakMap;TJ.set(KE,U5);class QE extends j71.Cache{getEntry(Z,J){const X=J.mechanismProperties.REQUEST_TOKEN_CALLBACK,Y=J.mechanismProperties.REFRESH_TOKEN_CALLBACK;if(!X)throw new T71.MongoInvalidArgumentError(O71);const G=S71(X,Y),$=this.cacheKey(Z.address,J.username,G),W=this.entries.get($);if(W)return W;return this.addEntry($,G,X,Y)}addEntry(Z,J,X,Y){const G={requestCallback:qE(X),refreshCallback:Y?qE(Y):void 0,callbackHash:J};return this.entries.set(Z,G),G}cacheKey(Z,J,X){return this.hashedCacheKey(Z,J,X)}}zE.CallbackLockCache=QE});var AE=R((RE)=>{Object.defineProperty(RE,"__esModule",{value:!0});RE.TokenEntryCache=RE.TokenEntry=void 0;var LE=BY(),k71=0;class mK extends LE.ExpiringCacheEntry{constructor(Z,J,X){super(X);this.tokenResult=Z,this.serverInfo=J}}RE.TokenEntry=mK;class VE extends LE.Cache{addEntry(Z,J,X,Y,G){const $=new mK(Y,G,Y.expiresInSeconds??k71);return this.entries.set(this.cacheKey(Z,J,X),$),$}deleteEntry(Z,J,X){this.entries.delete(this.cacheKey(Z,J,X))}getEntry(Z,J,X){return this.entries.get(this.cacheKey(Z,J,X))}deleteExpiredEntries(){for(let[Z,J]of this.entries)if(!J.isValid())this.entries.delete(Z)}cacheKey(Z,J,X){return this.hashedCacheKey(Z,J,X)}}RE.TokenEntryCache=VE});var PE=R((DE)=>{var h71=function(Z,J){if(J!=null&&typeof J==="number")return{saslContinue:1,conversationId:J,payload:new L5.Binary(L5.BSON.serialize({jwt:Z}))};return{saslStart:1,mechanism:NE.AuthMechanism.MONGODB_OIDC,payload:new L5.Binary(L5.BSON.serialize({jwt:Z}))}},u71=function(Z){if(Z==null||typeof Z!=="object")return!0;if(!("accessToken"in Z))return!0;return!Object.getOwnPropertyNames(Z).every((J)=>b71.includes(J))},ME=function(Z){const J={};if(Z.username)J.n=Z.username;return{saslStart:1,autoAuthorize:1,mechanism:NE.AuthMechanism.MONGODB_OIDC,payload:new L5.Binary(L5.BSON.serialize(J))}};Object.defineProperty(DE,"__esModule",{value:!0});DE.CallbackWorkflow=void 0;var L5=X6(),dK=a(),BE=Z1(),NE=J4(),x71=UE(),g71=AE(),f71=0,y71=300,b71=["accessToken","expiresInSeconds","refreshToken"],v71="User provided OIDC callbacks must return a valid object with an accessToken.";class IE{constructor(){this.cache=new g71.TokenEntryCache,this.callbackCache=new x71.CallbackLockCache}async speculativeAuth(Z){const J=ME(Z);return J.db=Z.source,{speculativeAuthenticate:J}}async execute(Z,J,X,Y){const{requestCallback:G,refreshCallback:$,callbackHash:W}=this.callbackCache.getEntry(Z,J),H=this.cache.getEntry(Z.address,J.username,W);let q;if(H)if(H.isValid()&&!X)q=await this.finishAuthentication(Z,J,H.tokenResult,Y?.speculativeAuthenticate?.conversationId);else{const K=await this.fetchAccessToken(Z,J,H.serverInfo,X,W,G,$);try{q=await this.finishAuthentication(Z,J,K,X?void 0:Y?.speculativeAuthenticate?.conversationId)}catch(Q){if(X&&Q instanceof dK.MongoError&&Q.code===dK.MONGODB_ERROR_CODES.Reauthenticate)this.cache.deleteEntry(Z.address,J.username,W),q=await this.execute(Z,J,X);else throw Q}}else{const K=await this.startAuthentication(Z,J,X,Y),Q=K.conversationId,z=L5.BSON.deserialize(K.payload.buffer),F=await this.fetchAccessToken(Z,J,z,X,W,G,$);q=await this.finishAuthentication(Z,J,F,Q)}return q}async startAuthentication(Z,J,X,Y){let G;if(!X&&Y?.speculativeAuthenticate)G=Y.speculativeAuthenticate;else G=await Z.commandAsync(BE.ns(J.source),ME(J),void 0);return G}async finishAuthentication(Z,J,X,Y){return await Z.commandAsync(BE.ns(J.source),h71(X.accessToken,Y),void 0)}async fetchAccessToken(Z,J,X,Y,G,$,W){const H=this.cache.getEntry(Z.address,J.username,G);let q;const K={timeoutSeconds:y71,version:f71};if(H){if(H.isValid()&&!Y)return H.tokenResult;if(W)K.refreshToken=H.tokenResult.refreshToken,q=await W(X,K);else q=await $(X,K)}else q=await $(X,K);if(u71(q))throw this.cache.deleteEntry(Z.address,J.username,G),new dK.MongoMissingCredentialsError(v71);return this.cache.deleteExpiredEntries(),this.cache.addEntry(Z.address,J.username||"",G,q,X),q}}DE.CallbackWorkflow=IE});var _E=R((SE)=>{var EE=function(Z){const{credentials:J}=Z;if(!J)throw new jE.MongoMissingCredentialsError(p71);return J},TE=function(Z){const J=Z.mechanismProperties.PROVIDER_NAME,X=SE.OIDC_WORKFLOWS.get(J||"callback");if(!X)throw new jE.MongoInvalidArgumentError(`Could not load workflow for provider ${Z.mechanismProperties.PROVIDER_NAME}`);return X};Object.defineProperty(SE,"__esModule",{value:!0});SE.MongoDBOIDC=SE.OIDC_WORKFLOWS=void 0;var jE=a(),m71=P4(),d71=nP(),c71=HE(),l71=PE(),p71="AuthContext must provide credentials.";SE.OIDC_WORKFLOWS=new Map;SE.OIDC_WORKFLOWS.set("callback",new l71.CallbackWorkflow);SE.OIDC_WORKFLOWS.set("aws",new d71.AwsServiceWorkflow);SE.OIDC_WORKFLOWS.set("azure",new c71.AzureServiceWorkflow);class OE extends m71.AuthProvider{constructor(){super()}async auth(Z){const{connection:J,reauthenticating:X,response:Y}=Z,G=EE(Z);await TE(G).execute(J,G,X,Y)}async prepare(Z,J){const X=EE(J),G=await TE(X).speculativeAuth(X);return{...Z,...G}}}SE.MongoDBOIDC=OE});var yE=R((gE)=>{Object.defineProperty(gE,"__esModule",{value:!0});gE.Plain=void 0;var i71=i1(),n71=a(),a71=Z1(),s71=P4();class xE extends s71.AuthProvider{async auth(Z){const{connection:J,credentials:X}=Z;if(!X)throw new n71.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:Y,password:G}=X,W={saslStart:1,mechanism:"PLAIN",payload:new i71.Binary(Buffer.from(`\0${Y}\0${G}`)),autoAuthorize:1};await J.commandAsync(a71.ns("$external.$cmd"),W,void 0)}}gE.Plain=xE});var hE=R((KR1,vE)=>{var S4=function(Z,J){if(!(this instanceof S4))return new S4(Z,J);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=Z||1024,this.deduplicate=J?J.deduplicate:null,this.zeros=this.deduplicate?MY(this.deduplicate.length):null},r71=function(Z,J){while(Z.maxPages<J){var X=Z.pages;Z.pages=new Array(32768),Z.pages[0]=X,Z.level++,Z.maxPages*=32768}},t71=function(Z,J){if(Z.length===J)return Z;if(Z.length>J)return Z.slice(0,J);var X=MY(J);return Z.copy(X),X},MY=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var J=new Buffer(Z);return J.fill(0),J},o71=function(Z){var J=Buffer.allocUnsafe?Buffer.allocUnsafe(Z.length):new Buffer(Z.length);return Z.copy(J),J},bE=function(Z,J){this.offset=Z*J.length,this.buffer=J,this.updated=!1,this.deduplicate=0},e71=function(Z,J){Z=(Z-(J[0]=Z&32767))/32768,Z=(Z-(J[1]=Z&32767))/32768,J[3]=(Z-(J[2]=Z&32767))/32768&32767};vE.exports=S4;S4.prototype.updated=function(Z){while(this.deduplicate&&Z.buffer[Z.deduplicate]===this.deduplicate[Z.deduplicate])if(Z.deduplicate++,Z.deduplicate===this.deduplicate.length){if(Z.deduplicate=0,Z.buffer.equals&&Z.buffer.equals(this.deduplicate))Z.buffer=this.deduplicate;break}if(Z.updated||!this.updates)return;Z.updated=!0,this.updates.push(Z)};S4.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var Z=this.updates.pop();return Z.updated=!1,Z};S4.prototype._array=function(Z,J){if(Z>=this.maxPages){if(J)return;r71(this,Z)}e71(Z,this.path);var X=this.pages;for(var Y=this.level;Y>0;Y--){var G=this.path[Y],$=X[G];if(!$){if(J)return;$=X[G]=new Array(32768)}X=$}return X};S4.prototype.get=function(Z,J){var X=this._array(Z,J),Y=this.path[0],G=X&&X[Y];if(!G&&!J){if(G=X[Y]=new bE(Z,MY(this.pageSize)),Z>=this.length)this.length=Z+1}if(G&&G.buffer===this.deduplicate&&this.deduplicate&&!J)G.buffer=o71(G.buffer),G.deduplicate=0;return G};S4.prototype.set=function(Z,J){var X=this._array(Z,!1),Y=this.path[0];if(Z>=this.length)this.length=Z+1;if(!J||this.zeros&&J.equals&&J.equals(this.zeros)){X[Y]=void 0;return}if(this.deduplicate&&J.equals&&J.equals(this.deduplicate))J=this.deduplicate;var G=X[Y],$=t71(J,this.pageSize);if(G)G.buffer=$;else X[Y]=new bE(Z,$)};S4.prototype.toBuffer=function(){var Z=new Array(this.length),J=MY(this.pageSize),X=0;while(X<Z.length){var Y=this._array(X,!0);for(var G=0;G<32768&&X<Z.length;G++)Z[X++]=Y&&Y[G]?Y[G].buffer:J}return Buffer.concat(Z)}});var mE=R((QR1,uE)=>{var B7=function(Z){if(!(this instanceof B7))return new B7(Z);if(!Z)Z={};if(Buffer.isBuffer(Z))Z={buffer:Z};if(this.pageOffset=Z.pageOffset||0,this.pageSize=Z.pageSize||1024,this.pages=Z.pages||Z51(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!X51(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!Z.trackUpdates,this._pageMask=this.pageSize-1,Z.buffer){for(var J=0;J<Z.buffer.length;J+=this.pageSize)this.pages.set(J/this.pageSize,Z.buffer.slice(J,J+this.pageSize));this.byteLength=Z.buffer.length,this.length=8*this.byteLength}},J51=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var J=new Buffer(Z);return J.fill(0),J},X51=function(Z){return!(Z&Z-1)},Z51=hE();uE.exports=B7;B7.prototype.get=function(Z){var J=Z&7,X=(Z-J)/8;return!!(this.getByte(X)&128>>J)};B7.prototype.getByte=function(Z){var J=Z&this._pageMask,X=(Z-J)/this.pageSize,Y=this.pages.get(X,!0);return Y?Y.buffer[J+this.pageOffset]:0};B7.prototype.set=function(Z,J){var X=Z&7,Y=(Z-X)/8,G=this.getByte(Y);return this.setByte(Y,J?G|128>>X:G&(255^128>>X))};B7.prototype.toBuffer=function(){var Z=J51(this.pages.length*this.pageSize);for(var J=0;J<this.pages.length;J++){var X=this.pages.get(J,!0),Y=J*this.pageSize;if(X)X.buffer.copy(Z,Y,this.pageOffset,this.pageOffset+this.pageSize)}return Z};B7.prototype.setByte=function(Z,J){var X=Z&this._pageMask,Y=(Z-X)/this.pageSize,G=this.pages.get(Y,!1);if(X+=this.pageOffset,G.buffer[X]===J)return!1;if(G.buffer[X]=J,Z>=this.byteLength)this.byteLength=Z+1,this.length=this.byteLength*8;if(this._trackUpdates)this.pages.updated(G);return!0}});var cE=R((dE)=>{Object.defineProperty(dE,"__esModule",{value:!0});var Y51=import.meta.require("zlib");dE.default=Y51.gunzipSync(Buffer.from("H4sIAAAAAAACA+3dTYgcWR0A8FfTnekQ47aCkBxiZpYV8RhwYQM7bA/ksoLgSRD0IOSiePAkLrowvWSF4CkHEW856MlTQHA9RKZ1ZJODsEcVcTOyhxUEbXdXtpPp1PNVV39Uz4czEyaTVOb3G6a7XtWrr/devX49/+qekG2Go7Aa2jHGyozG+Dmrzi2mP/xb/zMhLI+WlRm2byubm2h0ivVi7BYzusVjuNkt1l9uFWsutWL8OP4rzV9KeXdsKx1HFhbSc6vIG0fKBZ14UNfLFS6FRrGRtXh98ZvphL/x4uLV/IOzaat/vlikv/TixavxR8PQitfPpKNbffXSwgtr8fV07GX+L1967urwg5W0/t0LV37y/oWFlQtX8ping7reXE3LT680r9yPKyn/3Vn64SwdVs6m/KN0yHrp9D+RvXsqpe6MSia5mH6LSog//Xq/++O74YVTjfDFWK2VIuNSemiPppphcVYeyzcudKqFMiq6cs3vVkrzlcnE0mxeZ1Jf2ZXsSvk8TmRZWYdpalydxd5bc8eUkt1wlEbtqTVLr8XQLFpKMb+dpr9SbSOt4ozTgXUq8+Ihm8cTt0shtCvT6dwao6sxPf5ydmU208/Z0yH8IZtlvZi3e5fG12yn3PLSdPvnQ7vsK9rxyKpqevzFZGVfu3YHezvbnbvit9Xdm5fGbf/MZ7PuuNrTjLJnaofH7gm0h+VKU/g/tdUocrer3cO4yOcuycGoyLrba6Ta+lrlnkZ5ntvWCrfV39wLTuNg9QvsvHb37P8BAGCP0eNTOH5szf154JmnNQIcn7b+FziyAfX4eWnn+C6Lm4M0mj31ubkViiDV4WLvs56qN54xGS3HWER5su6nQtZubl9tcY/4atbr9e5kWewew/g2a8fdy2Yaa97+pgQAAAAAAIBHtt+dYmWwaN/byI5g/9PYVfMvb4YvvDpOLJxvFgueP9VbPXh8/yCZViZxNYATaejmDQAAAACgfjJ/3QUA4JD3Px1InT+5PtQCAAAAAAAAAKD2xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP6G6+khVCgSAAAAAAAAAKidYQjLYVfNcPSyAE+dhQsnvAAq59/VHAAAAAAAAOCJmv8E/w4HiLqf3nWuWCB1pe0esg/pT3sKd+m4XjhpFpZH3/1THTcU6cfRLnrHf3ZNPZs+bf9rwPuIUPYAWb+j/Zy0EaAxAAAAAADwrPJ1IMBenu6ea99M+0W/17wCAAAAAAAAnGRLm8oA4JnQUAQAAAAAAAAAUHvi/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/jdX0ECsUCQAAAAAAAADUTiMCAAAAAAAAAHU3VAQAAAAAAAAAUH8hLNf1uwsWbhT/uWBzUEx/ei1Nxc001VqrnN2wuRjCK3G4HuNgtuJoSVj17Q9QyBQBAAAAAAAAHMKpuJ4/+Otc5L2XZi8dJlQ/LCPXhc4keJ9UI9uFre3rDfY9uoXZPQBFHL34HSWWm8sx5rH83d967IfZMRZHHG/2Qi8MFnbscXnhnzHei5NND8P2bW2OT3G8vFeebBHbz9dGEf5jDt+fK4/mTve1bnwndsNL92+mE/75xhs/yz65Ed/ZbP29SP96oxvCDxrxcjj333R262/d6X6tG66lYy/z/+rtMn83nHvv9nfOv/dw4+pvspCl4v7+1npa/nHvtbSvjSJ/mf79/VuLC7N03LiW8o/SMU8ldO+jPOul1OVQ3vVwK+TZqBLCt3/RXvveS7eaD0L8YyhrJeV/cC0WGTdD1hzlCo2H98vzK9a+963V7qRVTeaNa+ZGpWp+N62jSmOetJD8dn67fB4n8nzchG7n4+os2tcgzLWUQVg70rta8lE7nqW7IW710v7eDsV1F7e6433njYfd9j9Gl2KIveptMePVamOXQuhXO5tUk6Pv+kiPX43T7/3YevDy4MN+HLw8CHPX6OqOOwKe73z0+pnf3rvT6pX76j/SUU7/3UjqX5r7ZW7PdZU8Vq2id+29Pphdh3n1Tqp/t0aXaWVOPnsFGre+waRdpKf/TK+7fiX3bOWluVeJg77AAPNDwr37fwAA2GP0+BSOHwcn6/231ghwfPr6X+DIBtTj582d47s8LD3xMeYktt+YHXHe6XQuH9P4Nu+H3ctmGmve/qYEAAAAAACAR7bfnWJlsGgSNNoM54tPZ23EI4vYzPY1/fzq1ud/GP/01jjx8P2tYsG7DzrrB4/vHySTz5YB+n8AAAAAgJrJ/XEXAIDHEf/2yXUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGdABAAAAAAAAADqbqgIAAAAAAAAAKD2hv8DWK79UBhoBgA=","base64"))});var iE=R((e0)=>{var E9=function(){const Z=lE.default.readUInt32BE(OJ);OJ+=4;const J=lE.default.slice(OJ,OJ+Z);return OJ+=Z,$51.default({buffer:J})},pE=e0&&e0.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(e0,"__esModule",{value:!0});e0.bidirectional_l=e0.bidirectional_r_al=e0.prohibited_characters=e0.non_ASCII_space_characters=e0.commonly_mapped_to_nothing=e0.unassigned_code_points=void 0;var $51=pE(mE()),lE=pE(cE()),OJ=0;e0.unassigned_code_points=E9();e0.commonly_mapped_to_nothing=E9();e0.non_ASCII_space_characters=E9();e0.prohibited_characters=E9();e0.bidirectional_r_al=E9();e0.bidirectional_l=E9()});var rE=R((UR1,sE)=>{var aE=function(Z){const J=[],X=Z.length;for(let Y=0;Y<X;Y+=1){const G=Z.charCodeAt(Y);if(G>=55296&&G<=56319&&X>Y+1){const $=Z.charCodeAt(Y+1);if($>=56320&&$<=57343){J.push((G-55296)*1024+$-56320+65536),Y+=1;continue}}J.push(G)}return J},SJ=function(Z,J={}){if(typeof Z!=="string")throw new TypeError("Expected string.");if(Z.length===0)return"";const X=aE(Z).map((Q)=>W51.get(Q)?32:Q).filter((Q)=>!H51.get(Q)),Y=String.fromCodePoint.apply(null,X).normalize("NFKC"),G=aE(Y);if(G.some((Q)=>M7.prohibited_characters.get(Q)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(J.allowUnassigned!==!0){if(G.some((z)=>M7.unassigned_code_points.get(z)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5")}const W=G.some((Q)=>M7.bidirectional_r_al.get(Q)),H=G.some((Q)=>M7.bidirectional_l.get(Q));if(W&&H)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");const q=M7.bidirectional_r_al.get(nE(q51(Y))),K=M7.bidirectional_r_al.get(nE(K51(Y)));if(W&&!(q&&K))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return Y},M7=iE(),W51=M7.non_ASCII_space_characters,H51=M7.commonly_mapped_to_nothing,nE=(Z)=>Z.codePointAt(0),q51=(Z)=>Z[0],K51=(Z)=>Z[Z.length-1];SJ.saslprep=SJ;SJ.default=SJ;sE.exports=SJ});var HT=R(($T)=>{var eE=function(Z){return Z.replace("=","=3D").replace(",","=2C")},ZT=function(Z,J){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(Z,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(J.toString("base64"),"utf8")])},JT=function(Z,J,X){const Y=eE(J.username);return{saslStart:1,mechanism:Z==="sha1"?tE.AuthMechanism.MONGODB_SCRAM_SHA1:tE.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new cK.Binary(Buffer.concat([Buffer.from("n,,","utf8"),ZT(Y,X)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}};async function U51(Z,J){const{connection:X,credentials:Y}=J;if(!Y)throw new v6.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!J.nonce)throw new v6.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");const G=J.nonce,$=Y.source,W=JT(Z,Y,G),H=await X.commandAsync(lK.ns(`${$}.\$cmd`),W,void 0);await XT(Z,H,J)}async function XT(Z,J,X){const{connection:Y,credentials:G}=X;if(!G)throw new v6.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!X.nonce)throw new v6.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");const $=X.nonce,W=G.source,H=eE(G.username),q=G.password,K=Z==="sha256"?Q51.saslprep(q):L51(H,q),Q=Buffer.isBuffer(J.payload)?new cK.Binary(J.payload):J.payload,z=oE(Q),F=parseInt(z.i,10);if(F&&F<4096)throw new v6.MongoRuntimeError(`Server returned an invalid iteration count ${F}`);const{s:U,r:L}=z;if(L.startsWith("nonce"))throw new v6.MongoRuntimeError(`Server returned an invalid nonce: ${L}`);const V=`c=biws,r=${L}`,w=B51(K,Buffer.from(U,"base64"),F,Z),B=NY(Z,w,"Client Key"),M=NY(Z,w,"Server Key"),A=R51(Z,B),I=[ZT(H,$),Q.toString("utf8"),V].join(","),m=NY(Z,A,I),k=`p=${V51(B,m)}`,j=[V,k].join(","),E=NY(Z,M,I),p={saslContinue:1,conversationId:J.conversationId,payload:new cK.Binary(Buffer.from(j))},u=await Y.commandAsync(lK.ns(`${W}.\$cmd`),p,void 0),g=oE(u.payload);if(!M51(Buffer.from(g.v,"base64"),E))throw new v6.MongoRuntimeError("Server returned an invalid signature");if(u.done!==!1)return;const T={saslContinue:1,conversationId:u.conversationId,payload:Buffer.alloc(0)};await Y.commandAsync(lK.ns(`${W}.\$cmd`),T,void 0)}var oE=function(Z){const J=Z.toString("utf8"),X={},Y=J.split(",");for(let G=0;G<Y.length;G++){const $=Y[G].split("=");X[$[0]]=$[1]}return X},L51=function(Z,J){if(typeof Z!=="string")throw new v6.MongoInvalidArgumentError("Username must be a string");if(typeof J!=="string")throw new v6.MongoInvalidArgumentError("Password must be a string");if(J.length===0)throw new v6.MongoInvalidArgumentError("Password cannot be empty");let X;try{X=N7.createHash("md5")}catch(Y){if(N7.getFips())throw new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode");throw Y}return X.update(`${Z}:mongo:${J}`,"utf8"),X.digest("hex")},V51=function(Z,J){if(!Buffer.isBuffer(Z))Z=Buffer.from(Z);if(!Buffer.isBuffer(J))J=Buffer.from(J);const X=Math.max(Z.length,J.length),Y=[];for(let G=0;G<X;G+=1)Y.push(Z[G]^J[G]);return Buffer.from(Y).toString("base64")},R51=function(Z,J){return N7.createHash(Z).update(J).digest()},NY=function(Z,J,X){return N7.createHmac(Z,J).update(X).digest()},w51=function(){IY={},pK=0},B51=function(Z,J,X,Y){const G=[Z,J.toString("base64"),X].join("_");if(IY[G]!=null)return IY[G];const $=N7.pbkdf2Sync(Z,J,X,A51[Y],Y);if(pK>=200)w51();return IY[G]=$,pK+=1,$},M51=function(Z,J){if(Z.length!==J.length)return!1;if(typeof N7.timingSafeEqual==="function")return N7.timingSafeEqual(Z,J);let X=0;for(let Y=0;Y<Z.length;Y++)X|=Z[Y]^J[Y];return X===0};Object.defineProperty($T,"__esModule",{value:!0});$T.ScramSHA256=$T.ScramSHA1=void 0;var Q51=rE(),N7=import.meta.require("crypto"),z51=import.meta.require("util"),cK=i1(),v6=a(),lK=Z1(),F51=P4(),tE=J4();class iK extends F51.AuthProvider{constructor(Z){super();this.cryptoMethod=Z||"sha1",this.randomBytesAsync=z51.promisify(N7.randomBytes)}async prepare(Z,J){const X=this.cryptoMethod,Y=J.credentials;if(!Y)throw new v6.MongoMissingCredentialsError("AuthContext must provide credentials.");const G=await this.randomBytesAsync(24);return J.nonce=G,{...Z,speculativeAuthenticate:{...JT(X,Y,G),db:Y.source}}}async auth(Z){const{reauthenticating:J,response:X}=Z;if(X?.speculativeAuthenticate&&!J)return XT(this.cryptoMethod,X.speculativeAuthenticate,Z);return U51(this.cryptoMethod,Z)}}var IY={},pK=0,A51={sha256:32,sha1:20};class YT extends iK{constructor(){super("sha1")}}$T.ScramSHA1=YT;class GT extends iK{constructor(){super("sha256")}}$T.ScramSHA256=GT});var UT=R((zT)=>{var KT=function(Z){const J={authenticate:1,mechanism:"MONGODB-X509"};if(Z.username)J.user=Z.username;return J};Object.defineProperty(zT,"__esModule",{value:!0});zT.X509=void 0;var qT=a(),I51=Z1(),D51=P4();class QT extends D51.AuthProvider{async prepare(Z,J){const{credentials:X}=J;if(!X)throw new qT.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...Z,speculativeAuthenticate:KT(X)}}async auth(Z){const{connection:J,credentials:X}=Z;if(!X)throw new qT.MongoMissingCredentialsError("AuthContext must provide credentials.");if(Z.response?.speculativeAuthenticate)return;await J.commandAsync(I51.ns("$external.$cmd"),KT(X),void 0)}}zT.X509=QT});var tK=R((NT)=>{var x51=function(Z,J){aK({...Z,existingSocket:void 0},(X,Y)=>{if(X||!Y)return J(X);let G=Z.connectionType??VT.Connection;if(Z.autoEncrypter)G=VT.CryptoConnection;const $=new G(Y,Z);f51($,Z).then(()=>J(void 0,$),(W)=>{$.destroy({force:!1}),J(W)})})},g51=function(Z,J){const X=Number(Z.maxWireVersion),Y=Number(Z.minWireVersion),G=!Number.isNaN(X)&&X>=T9.MIN_SUPPORTED_WIRE_VERSION,$=!Number.isNaN(Y)&&Y<=T9.MAX_SUPPORTED_WIRE_VERSION;if(G){if($)return null;const H=`Server at ${J.hostAddress} reports minimum wire version ${JSON.stringify(Z.minWireVersion)}, but this version of the Node.js Driver requires at most ${T9.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${T9.MAX_SUPPORTED_SERVER_VERSION})`;return new A0.MongoCompatibilityError(H)}const W=`Server at ${J.hostAddress} reports maximum wire version ${JSON.stringify(Z.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${T9.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${T9.MIN_SUPPORTED_SERVER_VERSION})`;return new A0.MongoCompatibilityError(W)};async function f51(Z,J){const X=J.credentials;if(X){if(X.mechanism!==L6.AuthMechanism.MONGODB_DEFAULT&&!NT.AUTH_PROVIDERS.get(X.mechanism))throw new A0.MongoInvalidArgumentError(`AuthMechanism '${X.mechanism}' not supported`)}const Y=new E51.AuthContext(Z,X,J);Z.authContext=Y;const G=await BT(Y),$={...J};if(typeof J.connectTimeoutMS==="number")$.socketTimeoutMS=J.connectTimeoutMS;const W=(new Date()).getTime(),H=await Z.commandAsync(AT.ns("admin.$cmd"),G,$);if(!("isWritablePrimary"in H))H.isWritablePrimary=H[wT.LEGACY_HELLO_COMMAND];if(H.helloOk)Z.helloOk=!0;const q=g51(H,J);if(q)throw q;if(J.loadBalanced){if(!H.serviceId)throw new A0.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.")}if(Z.hello=H,Z.lastHelloMS=(new Date()).getTime()-W,!H.arbiterOnly&&X){Y.response=H;const K=X.resolveAuthMechanism(H),Q=NT.AUTH_PROVIDERS.get(K.mechanism);if(!Q)throw new A0.MongoInvalidArgumentError(`No AuthProvider for ${K.mechanism} defined.`);try{await Q.auth(Y)}catch(z){if(z instanceof A0.MongoError){if(z.addErrorLabel(A0.MongoErrorLabel.HandshakeError),A0.needsRetryableWriteLabel(z,H.maxWireVersion))z.addErrorLabel(A0.MongoErrorLabel.RetryableWriteError)}throw z}}}async function BT(Z){const J=Z.options,X=J.compressors?J.compressors:[],{serverApi:Y}=Z.connection,G={[Y?.version?"hello":wT.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:J.metadata,compression:X};if(J.loadBalanced===!0)G.loadBalanced=!0;const $=Z.credentials;if($){if($.mechanism===L6.AuthMechanism.MONGODB_DEFAULT&&$.username){G.saslSupportedMechs=`${$.source}.${$.username}`;const H=NT.AUTH_PROVIDERS.get(L6.AuthMechanism.MONGODB_SCRAM_SHA256);if(!H)throw new A0.MongoInvalidArgumentError(`No AuthProvider for ${L6.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return H.prepare(G,Z)}const W=NT.AUTH_PROVIDERS.get($.mechanism);if(!W)throw new A0.MongoInvalidArgumentError(`No AuthProvider for ${$.mechanism} defined.`);return W.prepare(G,Z)}return G}var sK=function(Z){const J=Z.hostAddress;if(!J)throw new A0.MongoInvalidArgumentError('Option "hostAddress" is required');const X={};for(let Y of NT.LEGAL_TCP_SOCKET_OPTIONS)if(Z[Y]!=null)X[Y]=Z[Y];if(typeof J.socketPath==="string")return X.path=J.socketPath,X;else if(typeof J.host==="string")return X.host=J.host,X.port=J.port,X;else throw new A0.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(J)}`)},y51=function(Z){const J=sK(Z);for(let X of NT.LEGAL_TLS_SOCKET_OPTIONS)if(Z[X]!=null)J[X]=Z[X];if(Z.existingSocket)J.socket=Z.existingSocket;if(J.servername==null&&J.host&&!RT.isIP(J.host))J.servername=J.host;return J},aK=function(Z,J){const X=Z.tls??!1,Y=Z.noDelay??!0,G=Z.connectTimeoutMS??30000,$=Z.rejectUnauthorized??!0,W=Z.existingSocket;let H;const q=function(U,L){if(U&&H)H.destroy();J(U,L)};if(Z.proxyHost!=null)return h51({...Z,connectTimeoutMS:G},q);if(X){const U=C51.connect(y51(Z));if(typeof U.disableRenegotiation==="function")U.disableRenegotiation();H=U}else if(W)H=W;else H=RT.createConnection(sK(Z));H.setKeepAlive(!0,300000),H.setTimeout(G),H.setNoDelay(Y);const K=X?"secureConnect":"connect";let Q;function z(U){return(L)=>{if(nK.forEach((V)=>H.removeAllListeners(V)),Q&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",Q);H.removeListener(K,F),q(MT(U,L))}}function F(){if(nK.forEach((U)=>H.removeAllListeners(U)),Q&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",Q);if("authorizationError"in H){if(H.authorizationError&&$)return q(H.authorizationError)}H.setTimeout(0),q(void 0,H)}if(nK.forEach((U)=>H.once(U,z(U))),Z.cancellationToken)Q=z("cancel"),Z.cancellationToken.once("cancel",Q);if(W)process.nextTick(F);else H.once(K,F)},v51=function(){if(kJ==null){const Z=P51.getSocks();if("kModuleError"in Z)throw Z.kModuleError;kJ=Z}return kJ},h51=function(Z,J){const X=AT.HostAddress.fromHostPort(Z.proxyHost??"",Z.proxyPort??1080);aK({...Z,hostAddress:X,tls:!1,proxyHost:void 0},(Y,G)=>{if(Y||!G)return J(Y);const $=sK(Z);if(typeof $.host!=="string"||typeof $.port!=="number")return J(new A0.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts"));try{kJ??=v51()}catch(W){return J(W)}kJ.SocksClient.createConnection({existing_socket:G,timeout:Z.connectTimeoutMS,command:"connect",destination:{host:$.host,port:$.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:Z.proxyUsername||void 0,password:Z.proxyPassword||void 0}}).then(({socket:W})=>{aK({...Z,existingSocket:W,proxyHost:void 0},J)},(W)=>J(MT("error",W)))})},MT=function(Z,J){switch(Z){case"error":return new A0.MongoNetworkError(A0.MongoError.buildErrorMessage(J),{cause:J});case"timeout":return new A0.MongoNetworkTimeoutError("connection timed out");case"close":return new A0.MongoNetworkError("connection closed");case"cancel":return new A0.MongoNetworkError("connection establishment was cancelled");default:return new A0.MongoNetworkError("unknown network error")}};Object.defineProperty(NT,"__esModule",{value:!0});NT.LEGAL_TCP_SOCKET_OPTIONS=NT.LEGAL_TLS_SOCKET_OPTIONS=NT.prepareHandshakeDocument=NT.connect=NT.AUTH_PROVIDERS=void 0;var RT=import.meta.require("net"),C51=import.meta.require("tls"),wT=T0(),P51=x6(),A0=a(),AT=Z1(),E51=P4(),T51=vX(),j51=yP(),O51=uP(),S51=_E(),k51=yE(),L6=J4(),LT=HT(),_51=UT(),VT=EJ(),T9=r7();NT.AUTH_PROVIDERS=new Map([[L6.AuthMechanism.MONGODB_AWS,new O51.MongoDBAWS],[L6.AuthMechanism.MONGODB_CR,new j51.MongoCR],[L6.AuthMechanism.MONGODB_GSSAPI,new T51.GSSAPI],[L6.AuthMechanism.MONGODB_OIDC,new S51.MongoDBOIDC],[L6.AuthMechanism.MONGODB_PLAIN,new k51.Plain],[L6.AuthMechanism.MONGODB_SCRAM_SHA1,new LT.ScramSHA1],[L6.AuthMechanism.MONGODB_SCRAM_SHA256,new LT.ScramSHA256],[L6.AuthMechanism.MONGODB_X509,new _51.X509]]);NT.connect=x51;NT.prepareHandshakeDocument=BT;NT.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"];NT.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];var b51=["error","close","timeout","parseError"],nK=new Set(b51),kJ=null});var oK=R((gT)=>{Object.defineProperty(gT,"__esModule",{value:!0});gT.ConnectionPoolClearedEvent=gT.ConnectionCheckedInEvent=gT.ConnectionCheckedOutEvent=gT.ConnectionCheckOutFailedEvent=gT.ConnectionCheckOutStartedEvent=gT.ConnectionClosedEvent=gT.ConnectionReadyEvent=gT.ConnectionCreatedEvent=gT.ConnectionPoolClosedEvent=gT.ConnectionPoolReadyEvent=gT.ConnectionPoolCreatedEvent=gT.ConnectionPoolMonitoringEvent=void 0;var h6=T0();class i8{constructor(Z){this.time=new Date,this.address=Z.address}}gT.ConnectionPoolMonitoringEvent=i8;class DT extends i8{constructor(Z){super(Z);this.name=h6.CONNECTION_POOL_CREATED;const{maxConnecting:J,maxPoolSize:X,minPoolSize:Y,maxIdleTimeMS:G,waitQueueTimeoutMS:$}=Z.options;this.options={maxConnecting:J,maxPoolSize:X,minPoolSize:Y,maxIdleTimeMS:G,waitQueueTimeoutMS:$}}}gT.ConnectionPoolCreatedEvent=DT;class CT extends i8{constructor(Z){super(Z);this.name=h6.CONNECTION_POOL_READY}}gT.ConnectionPoolReadyEvent=CT;class PT extends i8{constructor(Z){super(Z);this.name=h6.CONNECTION_POOL_CLOSED}}gT.ConnectionPoolClosedEvent=PT;class ET extends i8{constructor(Z,J){super(Z);this.name=h6.CONNECTION_CREATED,this.connectionId=J.id}}gT.ConnectionCreatedEvent=ET;class TT extends i8{constructor(Z,J){super(Z);this.name=h6.CONNECTION_READY,this.connectionId=J.id}}gT.ConnectionReadyEvent=TT;class jT extends i8{constructor(Z,J,X,Y){super(Z);this.name=h6.CONNECTION_CLOSED,this.connectionId=J.id,this.reason=X,this.serviceId=J.serviceId,this.error=Y??null}}gT.ConnectionClosedEvent=jT;class OT extends i8{constructor(Z){super(Z);this.name=h6.CONNECTION_CHECK_OUT_STARTED}}gT.ConnectionCheckOutStartedEvent=OT;class ST extends i8{constructor(Z,J,X){super(Z);this.name=h6.CONNECTION_CHECK_OUT_FAILED,this.reason=J,this.error=X}}gT.ConnectionCheckOutFailedEvent=ST;class kT extends i8{constructor(Z,J){super(Z);this.name=h6.CONNECTION_CHECKED_OUT,this.connectionId=J.id}}gT.ConnectionCheckedOutEvent=kT;class _T extends i8{constructor(Z,J){super(Z);this.name=h6.CONNECTION_CHECKED_IN,this.connectionId=J.id}}gT.ConnectionCheckedInEvent=_T;class xT extends i8{constructor(Z,J={}){super(Z);this.name=h6.CONNECTION_POOL_CLEARED,this.serviceId=J.serviceId,this.interruptInUseConnections=J.interruptInUseConnections}}gT.ConnectionPoolClearedEvent=xT});var ZQ=R((hT)=>{Object.defineProperty(hT,"__esModule",{value:!0});hT.WaitQueueTimeoutError=hT.PoolClearedOnNetworkError=hT.PoolClearedError=hT.PoolClosedError=void 0;var DY=a();class yT extends DY.MongoDriverError{constructor(Z){super("Attempted to check out a connection from closed connection pool");this.address=Z.address}get name(){return"MongoPoolClosedError"}}hT.PoolClosedError=yT;class eK extends DY.MongoNetworkError{constructor(Z,J){const X=J?J:`Connection pool for ${Z.address} was cleared because another operation failed with: "${Z.serverError?.message}"`;super(X,Z.serverError?{cause:Z.serverError}:void 0);this.address=Z.address,this.addErrorLabel(DY.MongoErrorLabel.RetryableWriteError)}get name(){return"MongoPoolClearedError"}}hT.PoolClearedError=eK;class bT extends eK{constructor(Z){super(Z,`Connection to ${Z.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}}hT.PoolClearedOnNetworkError=bT;class vT extends DY.MongoDriverError{constructor(Z,J){super(Z);this.address=J}get name(){return"MongoWaitQueueTimeoutError"}}hT.WaitQueueTimeoutError=vT});var iT=R((lT)=>{Object.defineProperty(lT,"__esModule",{value:!0});lT.ConnectionPool=lT.PoolState=void 0;var j9=import.meta.require("timers"),R6=T0(),u6=a(),mT=m8(),xJ=Z1(),dT=tK(),CY=EJ(),u0=oK(),O9=ZQ(),X91=CH(),PY=Symbol("server"),k4=Symbol("connections"),S9=Symbol("pending"),I7=Symbol("checkedOut"),V5=Symbol("minPoolSizeTimer"),k9=Symbol("generation"),cT=Symbol("serviceGenerations"),EY=Symbol("connectionCounter"),TY=Symbol("cancellationToken"),_4=Symbol("waitQueue"),jY=Symbol("cancelled"),OY=Symbol("metrics"),SY=Symbol("processingWaitQueue"),m6=Symbol("poolState");lT.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});class x1 extends mT.TypedEventEmitter{constructor(Z,J){super();if(this.options=Object.freeze({...J,connectionType:CY.Connection,maxPoolSize:J.maxPoolSize??100,minPoolSize:J.minPoolSize??0,maxConnecting:J.maxConnecting??2,maxIdleTimeMS:J.maxIdleTimeMS??0,waitQueueTimeoutMS:J.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:J.minPoolSizeCheckFrequencyMS??100,autoEncrypter:J.autoEncrypter,metadata:J.metadata}),this.options.minPoolSize>this.options.maxPoolSize)throw new u6.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[m6]=lT.PoolState.paused,this[PY]=Z,this[k4]=new xJ.List,this[S9]=0,this[I7]=new Set,this[V5]=void 0,this[k9]=0,this[cT]=new Map,this[EY]=xJ.makeCounter(1),this[TY]=new mT.CancellationToken,this[TY].setMaxListeners(Infinity),this[_4]=new xJ.List,this[OY]=new X91.ConnectionPoolMetrics,this[SY]=!1,this.mongoLogger=this[PY].topology.client.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog(x1.CONNECTION_POOL_CREATED,new u0.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[m6]===lT.PoolState.closed}get generation(){return this[k9]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[k4].length}get pendingConnectionCount(){return this[S9]}get currentCheckedOutCount(){return this[I7].size}get waitQueueSize(){return this[_4].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[cT]}get serverError(){return this[PY].description.error}get checkedOutConnections(){return this[I7]}waitQueueErrorMetrics(){return this[OY].info(this.options.maxPoolSize)}ready(){if(this[m6]!==lT.PoolState.paused)return;this[m6]=lT.PoolState.ready,this.emitAndLog(x1.CONNECTION_POOL_READY,new u0.ConnectionPoolReadyEvent(this)),j9.clearTimeout(this[V5]),this.ensureMinPoolSize()}checkOut(Z){this.emitAndLog(x1.CONNECTION_CHECK_OUT_STARTED,new u0.ConnectionCheckOutStartedEvent(this));const J=this.options.waitQueueTimeoutMS,X={callback:Z,timeoutController:new xJ.TimeoutController(J)};X.timeoutController.signal.addEventListener("abort",()=>{X[jY]=!0,X.timeoutController.clear(),this.emitAndLog(x1.CONNECTION_CHECK_OUT_FAILED,new u0.ConnectionCheckOutFailedEvent(this,"timeout")),X.callback(new O9.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))}),this[_4].push(X),process.nextTick(()=>this.processWaitQueue())}checkIn(Z){if(!this[I7].has(Z))return;const J=this.closed,X=this.connectionIsStale(Z),Y=!!(J||X||Z.closed);if(!Y)Z.markAvailable(),this[k4].unshift(Z);if(this[I7].delete(Z),this.emitAndLog(x1.CONNECTION_CHECKED_IN,new u0.ConnectionCheckedInEvent(this,Z)),Y){const G=Z.closed?"error":J?"poolClosed":"stale";this.destroyConnection(Z,G)}process.nextTick(()=>this.processWaitQueue())}clear(Z={}){if(this.closed)return;if(this.loadBalanced){const{serviceId:G}=Z;if(!G)throw new u6.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");const $=G.toHexString(),W=this.serviceGenerations.get($);if(W==null)throw new u6.MongoRuntimeError("Service generations are required in load balancer mode.");else this.serviceGenerations.set($,W+1);this.emitAndLog(x1.CONNECTION_POOL_CLEARED,new u0.ConnectionPoolClearedEvent(this,{serviceId:G}));return}const J=Z.interruptInUseConnections??!1,X=this[k9];this[k9]+=1;const Y=this[m6]===lT.PoolState.paused;if(this[m6]=lT.PoolState.paused,this.clearMinPoolSizeTimer(),!Y)this.emitAndLog(x1.CONNECTION_POOL_CLEARED,new u0.ConnectionPoolClearedEvent(this,{interruptInUseConnections:J}));if(J)process.nextTick(()=>this.interruptInUseConnections(X));this.processWaitQueue()}interruptInUseConnections(Z){for(let J of this[I7])if(J.generation<=Z)this.checkIn(J),J.onError(new O9.PoolClearedOnNetworkError(this))}close(Z,J){let X=Z;const Y=J??Z;if(typeof X==="function")X={};if(X=Object.assign({force:!1},X),this.closed)return Y();if(this[TY].emit("cancel"),typeof this[EY].return==="function")this[EY].return(void 0);this[m6]=lT.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue(),xJ.eachAsync(this[k4].toArray(),(G,$)=>{this.emitAndLog(x1.CONNECTION_CLOSED,new u0.ConnectionClosedEvent(this,G,"poolClosed")),G.destroy({force:!!X.force},$)},(G)=>{this[k4].clear(),this.emitAndLog(x1.CONNECTION_POOL_CLOSED,new u0.ConnectionPoolClosedEvent(this)),Y(G)})}withConnection(Z,J,X){if(Z){J(void 0,Z,(Y,G)=>{if(Y)return this.withReauthentication(Y,Z,J,X);X(void 0,G)});return}this.checkOut((Y,G)=>{J(Y,G,($,W)=>{if($)if(G)this.withReauthentication($,G,J,X);else X($);else X(void 0,W);if(G)this.checkIn(G)})})}withReauthentication(Z,J,X,Y){if(Z instanceof u6.MongoError&&Z.code===u6.MONGODB_ERROR_CODES.Reauthenticate)this.reauthenticate(J,X,(G,$)=>{if(G)return Y(G);Y(void 0,$)});else Y(Z)}reauthenticate(Z,J,X){const Y=Z.authContext;if(!Y)return X(new u6.MongoRuntimeError("No auth context found on connection."));const G=Y.credentials;if(!G)return X(new u6.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate"));const $=G.resolveAuthMechanism(Z.hello||void 0),W=dT.AUTH_PROVIDERS.get($.mechanism);if(!W)return X(new u6.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${G.mechanism}`));W.reauth(Y).then(()=>{J(void 0,Z,(H,q)=>{if(H)return X(H);X(void 0,q)})},(H)=>X(H))}clearMinPoolSizeTimer(){const Z=this[V5];if(Z)j9.clearTimeout(Z)}destroyConnection(Z,J){this.emitAndLog(x1.CONNECTION_CLOSED,new u0.ConnectionClosedEvent(this,Z,J)),process.nextTick(()=>Z.destroy({force:!1}))}connectionIsStale(Z){const J=Z.serviceId;if(this.loadBalanced&&J){const X=J.toHexString(),Y=this.serviceGenerations.get(X);return Z.generation!==Y}return Z.generation!==this[k9]}connectionIsIdle(Z){return!!(this.options.maxIdleTimeMS&&Z.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(Z){const J=this.connectionIsStale(Z),X=this.connectionIsIdle(Z);if(!J&&!X&&!Z.closed)return!1;const Y=Z.closed?"error":J?"stale":"idle";return this.destroyConnection(Z,Y),!0}createConnection(Z){const J={...this.options,id:this[EY].next().value,generation:this[k9],cancellationToken:this[TY]};this[S9]++,this.emitAndLog(x1.CONNECTION_CREATED,new u0.ConnectionCreatedEvent(this,{id:J.id})),dT.connect(J,(X,Y)=>{if(X||!Y){if(this[S9]--,this.emitAndLog(x1.CONNECTION_CLOSED,new u0.ConnectionClosedEvent(this,{id:J.id,serviceId:void 0},"error",X)),X instanceof u6.MongoNetworkError||X instanceof u6.MongoServerError)X.connectionGeneration=J.generation;Z(X??new u6.MongoRuntimeError("Connection creation failed without error"));return}if(this[m6]!==lT.PoolState.ready){this[S9]--,Y.destroy({force:!0}),Z(this.closed?new O9.PoolClosedError(this):new O9.PoolClearedError(this));return}for(let G of[...R6.APM_EVENTS,CY.Connection.CLUSTER_TIME_RECEIVED])Y.on(G,($)=>this.emit(G,$));if(this.loadBalanced){Y.on(CY.Connection.PINNED,($)=>this[OY].markPinned($)),Y.on(CY.Connection.UNPINNED,($)=>this[OY].markUnpinned($));const G=Y.serviceId;if(G){let $;const W=G.toHexString();if($=this.serviceGenerations.get(W))Y.generation=$;else this.serviceGenerations.set(W,0),Y.generation=0}}Y.markAvailable(),this.emitAndLog(x1.CONNECTION_READY,new u0.ConnectionReadyEvent(this,Y)),this[S9]--,Z(void 0,Y);return})}ensureMinPoolSize(){const Z=this.options.minPoolSize;if(this[m6]!==lT.PoolState.ready||Z===0)return;if(this[k4].prune((J)=>this.destroyConnectionIfPerished(J)),this.totalConnectionCount<Z&&this.pendingConnectionCount<this.options.maxConnecting)this.createConnection((J,X)=>{if(J)this[PY].handleError(J);if(!J&&X)this[k4].push(X),process.nextTick(()=>this.processWaitQueue());if(this[m6]===lT.PoolState.ready)j9.clearTimeout(this[V5]),this[V5]=j9.setTimeout(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)});else j9.clearTimeout(this[V5]),this[V5]=j9.setTimeout(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)}processWaitQueue(){if(this[SY])return;this[SY]=!0;while(this.waitQueueSize){const X=this[_4].first();if(!X){this[_4].shift();continue}if(X[jY]){this[_4].shift();continue}if(this[m6]!==lT.PoolState.ready){const G=this.closed?"poolClosed":"connectionError",$=this.closed?new O9.PoolClosedError(this):new O9.PoolClearedError(this);this.emitAndLog(x1.CONNECTION_CHECK_OUT_FAILED,new u0.ConnectionCheckOutFailedEvent(this,G,$)),X.timeoutController.clear(),this[_4].shift(),X.callback($);continue}if(!this.availableConnectionCount)break;const Y=this[k4].shift();if(!Y)break;if(!this.destroyConnectionIfPerished(Y))this[I7].add(Y),this.emitAndLog(x1.CONNECTION_CHECKED_OUT,new u0.ConnectionCheckedOutEvent(this,Y)),X.timeoutController.clear(),this[_4].shift(),X.callback(void 0,Y)}const{maxPoolSize:Z,maxConnecting:J}=this.options;while(this.waitQueueSize>0&&this.pendingConnectionCount<J&&(Z===0||this.totalConnectionCount<Z)){const X=this[_4].shift();if(!X||X[jY])continue;this.createConnection((Y,G)=>{if(X[jY]){if(!Y&&G)this[k4].push(G)}else{if(Y)this.emitAndLog(x1.CONNECTION_CHECK_OUT_FAILED,new u0.ConnectionCheckOutFailedEvent(this,"connectionError",Y));else if(G)this[I7].add(G),this.emitAndLog(x1.CONNECTION_CHECKED_OUT,new u0.ConnectionCheckedOutEvent(this,G));X.timeoutController.clear(),X.callback(Y,G)}process.nextTick(()=>this.processWaitQueue())})}this[SY]=!1}}x1.CONNECTION_POOL_CREATED=R6.CONNECTION_POOL_CREATED;x1.CONNECTION_POOL_CLOSED=R6.CONNECTION_POOL_CLOSED;x1.CONNECTION_POOL_CLEARED=R6.CONNECTION_POOL_CLEARED;x1.CONNECTION_POOL_READY=R6.CONNECTION_POOL_READY;x1.CONNECTION_CREATED=R6.CONNECTION_CREATED;x1.CONNECTION_READY=R6.CONNECTION_READY;x1.CONNECTION_CLOSED=R6.CONNECTION_CLOSED;x1.CONNECTION_CHECK_OUT_STARTED=R6.CONNECTION_CHECK_OUT_STARTED;x1.CONNECTION_CHECK_OUT_FAILED=R6.CONNECTION_CHECK_OUT_FAILED;x1.CONNECTION_CHECKED_OUT=R6.CONNECTION_CHECKED_OUT;x1.CONNECTION_CHECKED_IN=R6.CONNECTION_CHECKED_IN;lT.ConnectionPool=x1});var Xj=R((Zj)=>{var bJ=function(Z){return Z.s.state===m0.STATE_CLOSED||Z.s.state===m0.STATE_CLOSING},sT=function(Z){Z[H4]?.stop(),Z[H4]=void 0,Z[R5]?.close(),Z[R5]=void 0,Z[A5].emit("cancel"),Z[d0]?.destroy({force:!0}),Z[d0]=void 0},$91=function(Z,J){let X=n8.now();const Y=Z[kY].description.topologyVersion,G=Y!=null;Z.emit(fJ.Server.SERVER_HEARTBEAT_STARTED,new gJ.ServerHeartbeatStartedEvent(Z.address,G));function $(H){Z[d0]?.destroy({force:!0}),Z[d0]=void 0,Z.emit(fJ.Server.SERVER_HEARTBEAT_FAILED,new gJ.ServerHeartbeatFailedEvent(Z.address,n8.calculateDurationInMs(X),H,G));const q=!(H instanceof _9.MongoError)?new _9.MongoError(_9.MongoError.buildErrorMessage(H),{cause:H}):H;if(q.addErrorLabel(_9.MongoErrorLabel.ResetPool),q instanceof _9.MongoNetworkTimeoutError)q.addErrorLabel(_9.MongoErrorLabel.InterruptInUseConnections);Z.emit("resetServer",q),J(H)}const W=Z[d0];if(W&&!W.closed){const{serverApi:H,helloOk:q}=W,K=Z.options.connectTimeoutMS,Q=Z.options.heartbeatFrequencyMS,z={[H?.version||q?"hello":JQ.LEGACY_HELLO_COMMAND]:1,...G&&Y?{maxAwaitTimeMS:Q,topologyVersion:W91(Y)}:{}},F=G?{socketTimeoutMS:K?K+Q:0,exhaustAllowed:!0}:{socketTimeoutMS:K};if(G&&Z[R5]==null)Z[R5]=new XQ(Z[A5],Object.assign({heartbeatFrequencyMS:Z.options.heartbeatFrequencyMS},Z.connectOptions));W.command(n8.ns("admin.$cmd"),z,F,(U,L)=>{if(U)return $(U);if(!("isWritablePrimary"in L))L.isWritablePrimary=L[JQ.LEGACY_HELLO_COMMAND];const V=Z[R5],w=G&&V?V.roundTripTime:n8.calculateDurationInMs(X),B=G&&L.topologyVersion!=null;if(Z.emit(fJ.Server.SERVER_HEARTBEAT_SUCCEEDED,new gJ.ServerHeartbeatSucceededEvent(Z.address,w,L,B)),B)Z.emit(fJ.Server.SERVER_HEARTBEAT_STARTED,new gJ.ServerHeartbeatStartedEvent(Z.address,!0)),X=n8.now();else Z[R5]?.close(),Z[R5]=void 0,J(void 0,L)});return}tT.connect(Z.connectOptions,(H,q)=>{if(H){Z[d0]=void 0,$(H);return}if(q){if(q.isMonitoringConnection=!0,bJ(Z)){q.destroy({force:!0});return}Z[d0]=q,Z.emit(fJ.Server.SERVER_HEARTBEAT_SUCCEEDED,new gJ.ServerHeartbeatSucceededEvent(Z.address,n8.calculateDurationInMs(X),q.hello,!1)),J(void 0,q.hello)}})},rT=function(Z){return(J)=>{if(Z.s.state===w5){process.nextTick(J);return}g9(Z,w5);function X(){if(!bJ(Z))g9(Z,x9);J()}$91(Z,(Y,G)=>{if(Y){if(Z[kY].description.type===m0.ServerType.Unknown)return X()}if(G&&G.topologyVersion)D7.setTimeout(()=>{if(!bJ(Z))Z[H4]?.wake()},0);X()})}},W91=function(Z){return{processId:Z.processId,counter:nT.Long.isLong(Z.counter)?Z.counter:nT.Long.fromNumber(Z.counter)}},eT=function(Z,J){const X=n8.now();J.cancellationToken=Z[A5];const Y=J.heartbeatFrequencyMS;if(Z.closed)return;function G(W){if(Z.closed){W?.destroy({force:!0});return}if(Z[d0]==null)Z[d0]=W;Z[yJ]=n8.calculateDurationInMs(X),Z[H4]=D7.setTimeout(()=>eT(Z,J),Y)}const $=Z[d0];if($==null){tT.connect(J,(W,H)=>{if(W){Z[d0]=void 0,Z[yJ]=0;return}G(H)});return}$.command(n8.ns("admin.$cmd"),{[JQ.LEGACY_HELLO_COMMAND]:1},void 0,(W)=>{if(W){Z[d0]=void 0,Z[yJ]=0;return}G()})};Object.defineProperty(Zj,"__esModule",{value:!0});Zj.MonitorInterval=Zj.RTTPinger=Zj.Monitor=void 0;var D7=import.meta.require("timers"),nT=i1(),tT=tK(),Y91=EJ(),JQ=T0(),_9=a(),aT=m8(),n8=Z1(),m0=Y6(),gJ=QY(),fJ=YQ(),kY=Symbol("server"),H4=Symbol("monitorId"),d0=Symbol("connection"),A5=Symbol("cancellationToken"),R5=Symbol("rttPinger"),yJ=Symbol("roundTripTime"),x9="idle",w5="monitoring",g9=n8.makeStateMachine({[m0.STATE_CLOSING]:[m0.STATE_CLOSING,x9,m0.STATE_CLOSED],[m0.STATE_CLOSED]:[m0.STATE_CLOSED,w5],[x9]:[x9,w5,m0.STATE_CLOSING],[w5]:[w5,x9,m0.STATE_CLOSING]}),G91=new Set([m0.STATE_CLOSING,m0.STATE_CLOSED,w5]);class oT extends aT.TypedEventEmitter{get connection(){return this[d0]}constructor(Z,J){super();this[kY]=Z,this[d0]=void 0,this[A5]=new aT.CancellationToken,this[A5].setMaxListeners(Infinity),this[H4]=void 0,this.s={state:m0.STATE_CLOSED},this.address=Z.description.address,this.options=Object.freeze({connectTimeoutMS:J.connectTimeoutMS??1e4,heartbeatFrequencyMS:J.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:J.minHeartbeatFrequencyMS??500});const X=this[A5],Y=Object.assign({id:"<monitor>",generation:Z.pool.generation,connectionType:Y91.Connection,cancellationToken:X,hostAddress:Z.description.hostAddress},J,{raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0});if(delete Y.credentials,Y.autoEncrypter)delete Y.autoEncrypter;this.connectOptions=Object.freeze(Y)}connect(){if(this.s.state!==m0.STATE_CLOSED)return;const Z=this.options.heartbeatFrequencyMS,J=this.options.minHeartbeatFrequencyMS;this[H4]=new _Y(rT(this),{heartbeatFrequencyMS:Z,minHeartbeatFrequencyMS:J,immediate:!0})}requestCheck(){if(G91.has(this.s.state))return;this[H4]?.wake()}reset(){const Z=this[kY].description.topologyVersion;if(bJ(this)||Z==null)return;g9(this,m0.STATE_CLOSING),sT(this),g9(this,x9);const J=this.options.heartbeatFrequencyMS,X=this.options.minHeartbeatFrequencyMS;this[H4]=new _Y(rT(this),{heartbeatFrequencyMS:J,minHeartbeatFrequencyMS:X})}close(){if(bJ(this))return;g9(this,m0.STATE_CLOSING),sT(this),this.emit("close"),g9(this,m0.STATE_CLOSED)}}Zj.Monitor=oT;class XQ{constructor(Z,J){this[d0]=void 0,this[A5]=Z,this[yJ]=0,this.closed=!1;const X=J.heartbeatFrequencyMS;this[H4]=D7.setTimeout(()=>eT(this,J),X)}get roundTripTime(){return this[yJ]}close(){this.closed=!0,D7.clearTimeout(this[H4]),this[d0]?.destroy({force:!0}),this[d0]=void 0}}Zj.RTTPinger=XQ;class _Y{constructor(Z,J={}){if(this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{if(this.stopped)return;if(this.timerId)D7.clearTimeout(this.timerId);this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=n8.now(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)})},this.fn=Z,this.lastExecutionEnded=(-Infinity),this.heartbeatFrequencyMS=J.heartbeatFrequencyMS??1000,this.minHeartbeatFrequencyMS=J.minHeartbeatFrequencyMS??500,J.immediate)this._executeAndReschedule();else this._reschedule(void 0)}wake(){const J=n8.now()-this.lastExecutionEnded;if(J<0)return this._executeAndReschedule();if(this.isExecutionInProgress)return;if(this.isExpeditedCallToFnScheduled)return;if(J<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-J);return}this._executeAndReschedule()}stop(){if(this.stopped=!0,this.timerId)D7.clearTimeout(this.timerId),this.timerId=void 0;this.lastExecutionEnded=(-Infinity),this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){const Z=n8.now(),J=Z-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:Z,timeSinceLastCall:J}}_reschedule(Z){if(this.stopped)return;if(this.timerId)D7.clearTimeout(this.timerId);this.timerId=D7.setTimeout(this._executeAndReschedule,Z||this.heartbeatFrequencyMS)}}Zj.MonitorInterval=_Y});var YQ=R((Gj)=>{var V91=function(Z,J){if(Z===-1)return J;const X=0.2;return X*J+(1-X)*Z},GQ=function(Z,J){if(Z.loadBalanced)return;if(J instanceof e1.MongoNetworkError&&!(J instanceof e1.MongoNetworkTimeoutError))Z[f9]?.reset();Z.emit(P8.DESCRIPTION_RECEIVED,new HQ.ServerDescription(Z.description.hostAddress,void 0,{error:J}))},R91=function(Z,J){if(J)return J.inTransaction()||"aggregate"in Z||"find"in Z||"getMore"in Z||"listCollections"in Z||"listIndexes"in Z;return!1},w91=function(Z,J){if(J.serviceId)return J.generation!==Z.serviceGenerations.get(J.serviceId.toHexString());return J.generation!==Z.generation},A91=function(Z,J){const X=J.topologyVersion,Y=Z.description.topologyVersion;return HQ.compareTopologyVersion(Y,X)<0},$Q=function(Z,J){return Z&&Z.inTransaction()&&!WQ.isTransactionCommand(J)},Yj=function(Z){return Z.s.options.retryWrites!==!1},B91=function(Z,J,X,Y,G){const $=Y?.session;return function W(H,q){if(H==null&&q!=null)return G(void 0,q);if(Y!=null&&"noResponse"in Y&&Y.noResponse===!0)return G(void 0,null);if(!H)return G(new e1.MongoUnexpectedServerResponseError("Empty response with no error"));if(!(H instanceof e1.MongoError))return G(H);if(w91(Z.pool,J))return G(H);if(H instanceof e1.MongoNetworkError){if($&&!$.hasEnded&&$.serverSession)$.serverSession.isDirty=!0;if($Q($,X)&&!H.hasErrorLabel(e1.MongoErrorLabel.TransientTransactionError))H.addErrorLabel(e1.MongoErrorLabel.TransientTransactionError);if((Yj(Z.topology)||WQ.isTransactionCommand(X))&&xY.supportsRetryableWrites(Z)&&!$Q($,X))H.addErrorLabel(e1.MongoErrorLabel.RetryableWriteError)}else if((Yj(Z.topology)||WQ.isTransactionCommand(X))&&e1.needsRetryableWriteLabel(H,xY.maxWireVersion(Z))&&!$Q($,X))H.addErrorLabel(e1.MongoErrorLabel.RetryableWriteError);if($&&$.isPinned&&H.hasErrorLabel(e1.MongoErrorLabel.TransientTransactionError))$.unpin({force:!0});return Z.handleError(H,J),G(H)}};Object.defineProperty(Gj,"__esModule",{value:!0});Gj.Server=void 0;var K91=import.meta.require("util"),Q91=EJ(),z91=iT(),F91=ZQ(),q4=T0(),e1=a(),U91=m8(),WQ=OH(),xY=Z1(),m1=Y6(),L91=Xj(),HQ=aZ(),vJ=xY.makeStateMachine({[m1.STATE_CLOSED]:[m1.STATE_CLOSED,m1.STATE_CONNECTING],[m1.STATE_CONNECTING]:[m1.STATE_CONNECTING,m1.STATE_CLOSING,m1.STATE_CONNECTED,m1.STATE_CLOSED],[m1.STATE_CONNECTED]:[m1.STATE_CONNECTED,m1.STATE_CLOSING,m1.STATE_CLOSED],[m1.STATE_CLOSING]:[m1.STATE_CLOSING,m1.STATE_CLOSED]}),f9=Symbol("monitor");class P8 extends U91.TypedEventEmitter{constructor(Z,J,X){super();this.commandAsync=K91.promisify(($,W,H,q)=>this.command($,W,H,q)),this.serverApi=X.serverApi;const Y={hostAddress:J.hostAddress,...X};this.topology=Z,this.pool=new z91.ConnectionPool(this,Y),this.s={description:J,options:X,state:m1.STATE_CLOSED,operationCount:0};for(let $ of[...q4.CMAP_EVENTS,...q4.APM_EVENTS])this.pool.on($,(W)=>this.emit($,W));if(this.pool.on(Q91.Connection.CLUSTER_TIME_RECEIVED,($)=>{this.clusterTime=$}),this.loadBalanced){this[f9]=null;return}const G=new L91.Monitor(this,this.s.options);this[f9]=G;for(let $ of q4.HEARTBEAT_EVENTS)G.on($,(W)=>this.emit($,W));G.on("resetServer",($)=>GQ(this,$)),G.on(P8.SERVER_HEARTBEAT_SUCCEEDED,($)=>{if(this.emit(P8.DESCRIPTION_RECEIVED,new HQ.ServerDescription(this.description.hostAddress,$.reply,{roundTripTime:V91(this.description.roundTripTime,$.duration)})),this.s.state===m1.STATE_CONNECTING)vJ(this,m1.STATE_CONNECTED),this.emit(P8.CONNECT,this)})}get clusterTime(){return this.topology.clusterTime}set clusterTime(Z){this.topology.clusterTime=Z}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter;return}get loadBalanced(){return this.topology.description.type===m1.TopologyType.LoadBalanced}connect(){if(this.s.state!==m1.STATE_CLOSED)return;if(vJ(this,m1.STATE_CONNECTING),!this.loadBalanced)this[f9]?.connect();else vJ(this,m1.STATE_CONNECTED),this.emit(P8.CONNECT,this)}destroy(Z,J){if(typeof Z==="function")J=Z,Z={force:!1};if(Z=Object.assign({},{force:!1},Z),this.s.state===m1.STATE_CLOSED){if(typeof J==="function")J();return}if(vJ(this,m1.STATE_CLOSING),!this.loadBalanced)this[f9]?.close();this.pool.close(Z,(X)=>{if(vJ(this,m1.STATE_CLOSED),this.emit("closed"),typeof J==="function")J(X)})}requestCheck(){if(!this.loadBalanced)this[f9]?.requestCheck()}command(Z,J,X,Y){if(Y==null)throw new e1.MongoInvalidArgumentError("Callback must be provided");if(Z.db==null||typeof Z==="string")throw new e1.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===m1.STATE_CLOSING||this.s.state===m1.STATE_CLOSED){Y(new e1.MongoServerClosedError);return}const G=Object.assign({},X,{wireProtocolCommand:!1});if(G.omitReadPreference)delete G.readPreference;const $=G.session,W=$?.pinnedConnection;if(this.loadBalanced&&$&&W==null&&R91(J,$)){this.pool.checkOut((H,q)=>{if(H||q==null){if(Y)return Y(H);return}$.pin(q),this.command(Z,J,G,Y)});return}this.incrementOperationCount(),this.pool.withConnection(W,(H,q,K)=>{if(H||!q){if(this.decrementOperationCount(),!H)return K(new e1.MongoRuntimeError("Failed to create connection without error"));if(!(H instanceof F91.PoolClearedError))this.handleError(H);return K(H)}q.command(Z,J,G,B91(this,q,J,G,(Q,z)=>{this.decrementOperationCount(),K(Q,z)}))},Y)}handleError(Z,J){if(!(Z instanceof e1.MongoError))return;if(Z.connectionGeneration&&Z.connectionGeneration<this.pool.generation)return;const Y=Z instanceof e1.MongoNetworkError&&!(Z instanceof e1.MongoNetworkTimeoutError),G=e1.isNetworkErrorBeforeHandshake(Z),$=Z.hasErrorLabel(e1.MongoErrorLabel.HandshakeError);if(Y||G||$){if(!this.loadBalanced)Z.addErrorLabel(e1.MongoErrorLabel.ResetPool),GQ(this,Z);else if(J)this.pool.clear({serviceId:J.serviceId})}else if(e1.isSDAMUnrecoverableError(Z)){if(A91(this,Z)){const W=xY.maxWireVersion(this)<=7||e1.isNodeShuttingDownError(Z);if(this.loadBalanced&&J&&W)this.pool.clear({serviceId:J.serviceId});if(!this.loadBalanced){if(W)Z.addErrorLabel(e1.MongoErrorLabel.ResetPool);GQ(this,Z),process.nextTick(()=>this.requestCheck())}}}}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}}P8.SERVER_HEARTBEAT_STARTED=q4.SERVER_HEARTBEAT_STARTED;P8.SERVER_HEARTBEAT_SUCCEEDED=q4.SERVER_HEARTBEAT_SUCCEEDED;P8.SERVER_HEARTBEAT_FAILED=q4.SERVER_HEARTBEAT_FAILED;P8.CONNECT=q4.CONNECT;P8.DESCRIPTION_RECEIVED=q4.DESCRIPTION_RECEIVED;P8.CLOSED=q4.CLOSED;P8.ENDED=q4.ENDED;Gj.Server=P8});var QQ=R((Hj)=>{Object.defineProperty(Hj,"__esModule",{value:!0});Hj.SrvPoller=Hj.SrvPollingEvent=void 0;var M91=import.meta.require("dns"),qQ=import.meta.require("timers"),N91=a(),I91=m8(),Wj=Z1();class KQ{constructor(Z){this.srvRecords=Z}hostnames(){return new Set(this.srvRecords.map((Z)=>Wj.HostAddress.fromSrvRecord(Z).toString()))}}Hj.SrvPollingEvent=KQ;class gY extends I91.TypedEventEmitter{constructor(Z){super();if(!Z||!Z.srvHost)throw new N91.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=Z.srvHost,this.srvMaxHosts=Z.srvMaxHosts??0,this.srvServiceName=Z.srvServiceName??"mongodb",this.rescanSrvIntervalMS=60000,this.heartbeatFrequencyMS=Z.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){if(!this._timeout)this.schedule()}stop(){if(this._timeout)qQ.clearTimeout(this._timeout),this.generation+=1,this._timeout=void 0}schedule(){if(this._timeout)qQ.clearTimeout(this._timeout);this._timeout=qQ.setTimeout(()=>{this._poll().catch(()=>null)},this.intervalMS)}success(Z){this.haMode=!1,this.schedule(),this.emit(gY.SRV_RECORD_DISCOVERY,new KQ(Z))}failure(){this.haMode=!0,this.schedule()}async _poll(){const Z=this.generation;let J;try{J=await M91.promises.resolveSrv(this.srvAddress)}catch(Y){this.failure();return}if(Z!==this.generation)return;const X=[];for(let Y of J)if(Wj.matchesParentDomain(Y.name,this.srvHost))X.push(Y);if(!X.length){this.failure();return}this.success(X)}}gY.SRV_RECORD_DISCOVERY="srvRecordDiscovery";Hj.SrvPoller=gY});var Mj=R((Aj)=>{var Vj=function(Z,J,X,Y){X=X??{force:!1};for(let G of E8.LOCAL_SERVER_EVENTS)Z.removeAllListeners(G);Z.destroy(X,()=>{J.emit(b1.SERVER_CLOSED,new C7.ServerClosedEvent(J.s.id,Z.description.address));for(let G of E8.SERVER_RELAY_EVENTS)Z.removeAllListeners(G);if(typeof Y==="function")Y()})},E91=function(Z){if(Z?.directConnection)return z1.TopologyType.Single;if(Z?.replicaSet)return z1.TopologyType.ReplicaSetNoPrimary;if(Z?.loadBalanced)return z1.TopologyType.LoadBalanced;return z1.TopologyType.Unknown},Rj=function(Z,J){Z.emit(b1.SERVER_OPENING,new C7.ServerOpeningEvent(Z.s.id,J.address));const X=new zj.Server(Z,J,Z.s.options);for(let Y of E8.SERVER_RELAY_EVENTS)X.on(Y,(G)=>Z.emit(Y,G));return X.on(zj.Server.DESCRIPTION_RECEIVED,(Y)=>Z.serverUpdateHandler(Y)),X.connect(),X},Uj=function(Z,J){if(J&&Z.s.servers.has(J.address)){const X=Z.s.servers.get(J.address);if(X){if(X.s.description=J,J.error instanceof g4.MongoError&&J.error.hasErrorLabel(g4.MongoErrorLabel.ResetPool)){const Y=J.error.hasErrorLabel(g4.MongoErrorLabel.InterruptInUseConnections);X.pool.clear({interruptInUseConnections:Y})}else if(J.error==null){const Y=Z.s.description.type;if(J.isDataBearing||J.type!==z1.ServerType.Unknown&&Y===z1.TopologyType.Single)X.pool.ready()}}}for(let X of Z.description.servers.values())if(!Z.s.servers.has(X.address)){const Y=Rj(Z,X);Z.s.servers.set(X.address,Y)}for(let X of Z.s.servers){const Y=X[0];if(Z.description.hasServer(Y))continue;if(!Z.s.servers.has(Y))continue;const G=Z.s.servers.get(Y);if(Z.s.servers.delete(Y),G)Vj(G,Z)}},wj=function(Z,J){while(Z.length){const X=Z.shift();if(!X)continue;if(X.timeoutController.clear(),!X[UQ])X.callback(J)}},Lj=function(Z){if(Z.s.state===z1.STATE_CLOSED){wj(Z[x4],new g4.MongoTopologyClosedError);return}const J=Z.description.type===z1.TopologyType.Sharded,X=Array.from(Z.description.servers.values()),Y=Z[x4].length;for(let G=0;G<Y;++G){const $=Z[x4].shift();if(!$)continue;if($[UQ])continue;let W;try{const K=$.serverSelector;W=K?K(Z.description,X):X}catch(K){$.timeoutController.clear(),$.callback(K);continue}let H;if(W.length===0){Z[x4].push($);continue}else if(W.length===1)H=Z.s.servers.get(W[0].address);else{const K=K4.shuffle(W,2),Q=Z.s.servers.get(K[0].address),z=Z.s.servers.get(K[1].address);H=Q&&z&&Q.s.operationCount<z.s.operationCount?Q:z}if(!H){$.callback(new g4.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",Z.description));return}const q=$.transaction;if(J&&q&&q.isActive&&H)q.pinServer(H);$.timeoutController.clear(),$.callback(void 0,H)}if(Z[x4].length>0)for(let[,G]of Z.s.servers)process.nextTick(function $(){return G.requestCheck()})},T91=function(Z,J){const Y=Z.servers.get(J.address)?.topologyVersion;return FQ.compareTopologyVersion(Y,J.topologyVersion)>0};Object.defineProperty(Aj,"__esModule",{value:!0});Aj.ServerCapabilities=Aj.Topology=void 0;var Kj=import.meta.require("util"),Qj=NK(),E8=T0(),g4=a(),C91=m8(),hJ=N0(),K4=Z1(),z1=Y6(),C7=QY(),zj=YQ(),FQ=aZ(),zQ=gZ(),fY=QQ(),Fj=EH(),P91=0,uJ=K4.makeStateMachine({[z1.STATE_CLOSED]:[z1.STATE_CLOSED,z1.STATE_CONNECTING],[z1.STATE_CONNECTING]:[z1.STATE_CONNECTING,z1.STATE_CLOSING,z1.STATE_CONNECTED,z1.STATE_CLOSED],[z1.STATE_CONNECTED]:[z1.STATE_CONNECTED,z1.STATE_CLOSING,z1.STATE_CLOSED],[z1.STATE_CLOSING]:[z1.STATE_CLOSING,z1.STATE_CLOSED]}),UQ=Symbol("cancelled"),x4=Symbol("waitQueue");class b1 extends C91.TypedEventEmitter{constructor(Z,J,X){super();if(this.client=Z,this.selectServerAsync=Kj.promisify((q,K,Q)=>this.selectServer(q,K,Q)),X=X??{hosts:[K4.HostAddress.fromString("localhost:27017")],...Object.fromEntries(Qj.DEFAULT_OPTIONS.entries()),...Object.fromEntries(Qj.FEATURE_FLAGS.entries())},typeof J==="string")J=[K4.HostAddress.fromString(J)];else if(!Array.isArray(J))J=[J];const Y=[];for(let q of J)if(typeof q==="string")Y.push(K4.HostAddress.fromString(q));else if(q instanceof K4.HostAddress)Y.push(q);else throw new g4.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(q)}`);const G=E91(X),$=P91++,W=X.srvMaxHosts==null||X.srvMaxHosts===0||X.srvMaxHosts>=Y.length?Y:K4.shuffle(Y,X.srvMaxHosts),H=new Map;for(let q of W)H.set(q.toString(),new FQ.ServerDescription(q));if(this[x4]=new K4.List,this.s={id:$,options:X,seedlist:Y,state:z1.STATE_CLOSED,description:new Fj.TopologyDescription(G,H,X.replicaSet,void 0,void 0,void 0,X),serverSelectionTimeoutMS:X.serverSelectionTimeoutMS,heartbeatFrequencyMS:X.heartbeatFrequencyMS,minHeartbeatFrequencyMS:X.minHeartbeatFrequencyMS,servers:new Map,credentials:X?.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:(q)=>this.detectShardedTopology(q),detectSrvRecords:(q)=>this.detectSrvRecords(q)},X.srvHost&&!X.loadBalanced)this.s.srvPoller=X.srvPoller??new fY.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:X.srvHost,srvMaxHosts:X.srvMaxHosts,srvServiceName:X.srvServiceName}),this.on(b1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology)}detectShardedTopology(Z){const J=Z.previousDescription.type,X=Z.newDescription.type,Y=J!==z1.TopologyType.Sharded&&X===z1.TopologyType.Sharded,$=!!this.s.srvPoller?.listeners(fY.SrvPoller.SRV_RECORD_DISCOVERY)?.includes(this.s.detectSrvRecords);if(Y&&!$)this.s.srvPoller?.on(fY.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),this.s.srvPoller?.start()}detectSrvRecords(Z){const J=this.s.description;if(this.s.description=this.s.description.updateFromSrvPollingEvent(Z,this.s.options.srvMaxHosts),this.s.description===J)return;Uj(this),this.emit(b1.TOPOLOGY_DESCRIPTION_CHANGED,new C7.TopologyDescriptionChangedEvent(this.s.id,J,this.s.description))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get capabilities(){return new LQ(this.lastHello())}connect(Z,J){if(typeof Z==="function")J=Z,Z={};if(Z=Z??{},this.s.state===z1.STATE_CONNECTED){if(typeof J==="function")J();return}uJ(this,z1.STATE_CONNECTING),this.emit(b1.TOPOLOGY_OPENING,new C7.TopologyOpeningEvent(this.s.id)),this.emit(b1.TOPOLOGY_DESCRIPTION_CHANGED,new C7.TopologyDescriptionChangedEvent(this.s.id,new Fj.TopologyDescription(z1.TopologyType.Unknown),this.s.description));const X=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(X.map(($)=>[$.address,Rj(this,$)])),this.s.options.loadBalanced)for(let $ of X){const W=new FQ.ServerDescription($.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(W)}const Y=($)=>J?J($):this.emit(b1.ERROR,$),G=Z.readPreference??hJ.ReadPreference.primary;this.selectServer(zQ.readPreferenceServerSelector(G),Z,($,W)=>{if($)return this.close({force:!1},()=>Y($));if(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]!==!0&&W&&this.s.credentials){W.command(K4.ns("admin.$cmd"),{ping:1},{},(q)=>{if(q)return Y(q);uJ(this,z1.STATE_CONNECTED),this.emit(b1.OPEN,this),this.emit(b1.CONNECT,this),J?.(void 0,this)});return}uJ(this,z1.STATE_CONNECTED),this.emit(b1.OPEN,this),this.emit(b1.CONNECT,this),J?.(void 0,this)})}close(Z,J){if(Z=Z??{force:!1},this.s.state===z1.STATE_CLOSED||this.s.state===z1.STATE_CLOSING)return J?.();const X=Array.from(this.s.servers.values(),(Y)=>{return Kj.promisify(Vj)(Y,this,{force:!!Z?.force})});Promise.all(X).then(()=>{if(this.s.servers.clear(),uJ(this,z1.STATE_CLOSING),wj(this[x4],new g4.MongoTopologyClosedError),z1.drainTimerQueue(this.s.connectionTimers),this.s.srvPoller)this.s.srvPoller.stop(),this.s.srvPoller.removeListener(fY.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords);this.removeListener(b1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),uJ(this,z1.STATE_CLOSED),this.emit(b1.TOPOLOGY_CLOSED,new C7.TopologyClosedEvent(this.s.id))}).finally(()=>J?.())}selectServer(Z,J,X){let Y;if(typeof Z!=="function")if(typeof Z==="string")Y=zQ.readPreferenceServerSelector(hJ.ReadPreference.fromString(Z));else{let q;if(Z instanceof hJ.ReadPreference)q=Z;else hJ.ReadPreference.translate(J),q=J.readPreference||hJ.ReadPreference.primary;Y=zQ.readPreferenceServerSelector(q)}else Y=Z;J=Object.assign({},{serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS},J);const G=this.description.type===z1.TopologyType.Sharded,$=J.session,W=$&&$.transaction;if(G&&W&&W.server){X(void 0,W.server);return}const H={serverSelector:Y,transaction:W,callback:X,timeoutController:new K4.TimeoutController(J.serverSelectionTimeoutMS)};H.timeoutController.signal.addEventListener("abort",()=>{H[UQ]=!0,H.timeoutController.clear();const q=new g4.MongoServerSelectionError(`Server selection timed out after ${J.serverSelectionTimeoutMS} ms`,this.description);H.callback(q)}),this[x4].push(H),Lj(this)}serverUpdateHandler(Z){if(!this.s.description.hasServer(Z.address))return;if(T91(this.s.description,Z))return;const J=this.s.description,X=this.s.description.servers.get(Z.address);if(!X)return;const Y=Z.$clusterTime;if(Y)z1._advanceClusterTime(this,Y);const G=X&&X.equals(Z);if(this.s.description=this.s.description.update(Z),this.s.description.compatibilityError){this.emit(b1.ERROR,new g4.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!G){const $=this.s.description.servers.get(Z.address);if($)this.emit(b1.SERVER_DESCRIPTION_CHANGED,new C7.ServerDescriptionChangedEvent(this.s.id,Z.address,X,$))}if(Uj(this,Z),this[x4].length>0)Lj(this);if(!G)this.emit(b1.TOPOLOGY_DESCRIPTION_CHANGED,new C7.TopologyDescriptionChangedEvent(this.s.id,J,this.s.description))}auth(Z,J){if(typeof Z==="function")J=Z,Z=void 0;if(typeof J==="function")J(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===z1.STATE_CONNECTED}isDestroyed(){return this.s.state===z1.STATE_CLOSED}lastHello(){const Z=Array.from(this.description.servers.values());if(Z.length===0)return{};return Z.filter((Y)=>Y.type!==z1.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(Z){this.s.clusterTime=Z}}b1.SERVER_OPENING=E8.SERVER_OPENING;b1.SERVER_CLOSED=E8.SERVER_CLOSED;b1.SERVER_DESCRIPTION_CHANGED=E8.SERVER_DESCRIPTION_CHANGED;b1.TOPOLOGY_OPENING=E8.TOPOLOGY_OPENING;b1.TOPOLOGY_CLOSED=E8.TOPOLOGY_CLOSED;b1.TOPOLOGY_DESCRIPTION_CHANGED=E8.TOPOLOGY_DESCRIPTION_CHANGED;b1.ERROR=E8.ERROR;b1.OPEN=E8.OPEN;b1.CONNECT=E8.CONNECT;b1.CLOSE=E8.CLOSE;b1.TIMEOUT=E8.TIMEOUT;Aj.Topology=b1;class LQ{constructor(Z){this.minWireVersion=Z.minWireVersion||0,this.maxWireVersion=Z.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}}Aj.ServerCapabilities=LQ});var Q5=R((Tj)=>{Object.defineProperty(Tj,"__esModule",{value:!0});Tj.MongoClient=Tj.ServerApiVersion=void 0;var VQ=import.meta.require("fs"),O91=import.meta.require("util"),S91=i1(),k91=Q9(),_91=uX(),x91=J4(),Nj=NK(),g91=T0(),f91=_X(),Ij=a(),y91=LK(),b91=m8(),v91=N8(),h91=e5(),Dj=N0(),u91=gZ(),Cj=Mj(),Pj=tZ(),RQ=Z1();Tj.ServerApiVersion=Object.freeze({v1:"1"});var c0=Symbol("options");class Ej extends b91.TypedEventEmitter{constructor(Z,J){super();this[c0]=Nj.parseOptions(Z,this,J),this.mongoLogger=new y91.MongoLogger(this[c0].mongoLoggerOptions);const X=this;this.s={url:Z,bsonOptions:S91.resolveBSONOptions(this[c0]),namespace:RQ.ns("admin"),hasBeenClosed:!1,sessionPool:new Pj.ServerSessionPool(this),activeSessions:new Set,get options(){return X[c0]},get readConcern(){return X[c0].readConcern},get writeConcern(){return X[c0].writeConcern},get readPreference(){return X[c0].readPreference},get isMongoClient(){return!0}}}get options(){return Object.freeze({...this[c0]})}get serverApi(){return this[c0].serverApi&&Object.freeze({...this[c0].serverApi})}get monitorCommands(){return this[c0].monitorCommands}set monitorCommands(Z){this[c0].monitorCommands=Z}get autoEncrypter(){return this[c0].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}async connect(){if(this.connectionLock)return this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){if(this.topology&&this.topology.isConnected())return this;const Z=this[c0];if(Z.tls){if(typeof Z.tlsCAFile==="string")Z.ca??=await VQ.promises.readFile(Z.tlsCAFile);if(typeof Z.tlsCRLFile==="string")Z.crl??=await VQ.promises.readFile(Z.tlsCRLFile);if(typeof Z.tlsCertificateKeyFile==="string"){if(!Z.key||!Z.cert){const X=await VQ.promises.readFile(Z.tlsCertificateKeyFile);Z.key??=X,Z.cert??=X}}}if(typeof Z.srvHost==="string"){const X=await Nj.resolveSRVRecord(Z);for(let[Y,G]of X.entries())Z.hosts[Y]=G}if(Z.credentials?.mechanism===x91.AuthMechanism.MONGODB_OIDC){const X=Z.credentials?.mechanismProperties?.ALLOWED_HOSTS||_91.DEFAULT_ALLOWED_HOSTS;if(!Z.credentials?.mechanismProperties?.PROVIDER_NAME){for(let G of Z.hosts)if(!RQ.hostMatchesWildcards(G.toHostPort().host,X))throw new Ij.MongoInvalidArgumentError(`Host '${G}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${X.join(",")}'`)}}this.topology=new Cj.Topology(this,Z.hosts,Z),this.topology.once(Cj.Topology.OPEN,()=>this.emit("open",this));for(let X of g91.MONGO_CLIENT_EVENTS)this.topology.on(X,(...Y)=>this.emit(X,...Y));const J=async()=>{try{await O91.promisify((X)=>this.topology?.connect(Z,X))()}catch(X){throw this.topology?.close({force:!0}),X}};if(this.autoEncrypter)await this.autoEncrypter?.init(),await J(),await Z.encrypter.connectInternalClient();else await J();return this}async close(Z=!1){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1});const J=Array.from(this.s.activeSessions,(H)=>H.endSession());if(this.s.activeSessions.clear(),await Promise.all(J),this.topology==null)return;const X=u91.readPreferenceServerSelector(Dj.ReadPreference.primaryPreferred),Y=this.topology.description,G=Array.from(Y.servers.values());if(X(Y,G).length!==0){const H=Array.from(this.s.sessionPool.sessions,({id:q})=>q);if(H.length!==0)await v91.executeOperation(this,new h91.RunAdminCommandOperation({endSessions:H},{readPreference:Dj.ReadPreference.primaryPreferred,noResponse:!0})).catch(()=>null)}const W=this.topology;this.topology=void 0,await new Promise((H,q)=>{W.close({force:Z},(K)=>{if(K)return q(K);const{encrypter:Q}=this[c0];if(Q)return Q.closeCallback(this,Z,(z)=>{if(z)return q(z);H()});H()})})}db(Z,J){if(J=J??{},!Z)Z=this.options.dbName;const X=Object.assign({},this[c0],J);return new f91.Db(this,Z,X)}static async connect(Z,J){return new this(Z,J).connect()}startSession(Z){const J=new Pj.ClientSession(this,this.s.sessionPool,{explicit:!0,...Z},this[c0]);return this.s.activeSessions.add(J),J.once("ended",()=>{this.s.activeSessions.delete(J)}),J}async withSession(Z,J){const X={owner:Symbol(),...typeof Z==="object"?Z:{}},Y=typeof Z==="function"?Z:J;if(Y==null)throw new Ij.MongoInvalidArgumentError("Missing required callback parameter");const G=this.startSession(X);try{return await Y(G)}finally{try{await G.endSession()}catch{}}}watch(Z=[],J={}){if(!Array.isArray(Z))J=Z,Z=[];return new k91.ChangeStream(this,Z,RQ.resolveOptions(this,J))}}Tj.MongoClient=Ej});var Q9=R((Oj)=>{Object.defineProperty(Oj,"__esModule",{value:!0});Oj.ChangeStream=void 0;var d91=X5(),c6=T0(),c91=Lq(),l91=_X(),d6=a(),p91=Q5(),i91=m8(),wQ=Z1(),y9=Symbol("cursorStream"),b9=Symbol("closed"),mJ=Symbol("mode"),n91=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],B5={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},a91=[c6.RESUME_TOKEN_CHANGED,c6.END,c6.CLOSE],s91="A change stream document has been received that lacks a resume token (_id).",yY="ChangeStream is closed";class T8 extends i91.TypedEventEmitter{constructor(Z,J=[],X={}){super();if(this.pipeline=J,this.options={...X},delete this.options.writeConcern,Z instanceof d91.Collection)this.type=B5.COLLECTION;else if(Z instanceof l91.Db)this.type=B5.DATABASE;else if(Z instanceof p91.MongoClient)this.type=B5.CLUSTER;else throw new d6.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");if(this.parent=Z,this.namespace=Z.s.namespace,!this.options.readPreference&&Z.readPreference)this.options.readPreference=Z.readPreference;this.cursor=this._createChangeStreamCursor(X),this[b9]=!1,this[mJ]=!1,this.on("newListener",(Y)=>{if(Y==="change"&&this.cursor&&this.listenerCount("change")===0)this._streamEvents(this.cursor)}),this.on("removeListener",(Y)=>{if(Y==="change"&&this.listenerCount("change")===0&&this.cursor)this[y9]?.removeAllListeners("data")})}get cursorStream(){return this[y9]}get resumeToken(){return this.cursor?.resumeToken}async hasNext(){this._setIsIterator();while(!0)try{return await this.cursor.hasNext()}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(J){try{await this.close()}catch{}throw J}}}async next(){this._setIsIterator();while(!0)try{const Z=await this.cursor.next();return this._processChange(Z??null)}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(J){try{await this.close()}catch{}throw J}}}async tryNext(){this._setIsIterator();while(!0)try{return await this.cursor.tryNext()??null}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(J){try{await this.close()}catch{}throw J}}}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[b9]||this.cursor.closed}async close(){this[b9]=!0;const Z=this.cursor;try{await Z.close()}finally{this._endStream()}}stream(Z){if(this.closed)throw new d6.MongoChangeStreamError(yY);return this.streamOptions=Z,this.cursor.stream(Z)}_setIsEmitter(){if(this[mJ]==="iterator")throw new d6.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[mJ]="emitter"}_setIsIterator(){if(this[mJ]==="emitter")throw new d6.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[mJ]="iterator"}_createChangeStreamCursor(Z){const J=wQ.filterOptions(Z,n91);if(this.type===B5.CLUSTER)J.allChangesForCluster=!0;const X=[{$changeStream:J},...this.pipeline],Y=this.type===B5.CLUSTER?this.parent:this.type===B5.DATABASE?this.parent.client:this.type===B5.COLLECTION?this.parent.client:null;if(Y==null)throw new d6.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);const G=new c91.ChangeStreamCursor(Y,this.namespace,X,Z);for(let $ of a91)G.on($,(W)=>this.emit($,W));if(this.listenerCount(T8.CHANGE)>0)this._streamEvents(G);return G}_closeEmitterModeWithError(Z){this.emit(T8.ERROR,Z),this.close().catch(()=>null)}_streamEvents(Z){this._setIsEmitter();const J=this[y9]??Z.stream();this[y9]=J,J.on("data",(X)=>{try{const Y=this._processChange(X);this.emit(T8.CHANGE,Y)}catch(Y){this.emit(T8.ERROR,Y)}}),J.on("error",(X)=>this._processErrorStreamMode(X))}_endStream(){const Z=this[y9];if(Z)["data","close","end","error"].forEach((J)=>Z.removeAllListeners(J)),Z.destroy();this[y9]=void 0}_processChange(Z){if(this[b9])throw new d6.MongoAPIError(yY);if(Z==null)throw new d6.MongoRuntimeError(yY);if(Z&&!Z._id)throw new d6.MongoChangeStreamError(s91);return this.cursor.cacheResumeToken(Z._id),this.options.startAtOperationTime=void 0,Z}_processErrorStreamMode(Z){if(this[b9])return;if(d6.isResumableError(Z,this.cursor.maxWireVersion))this._endStream(),this.cursor.close().catch(()=>null),wQ.getTopology(this.parent).selectServer(this.cursor.readPreference,{},(X)=>{if(X)return this._closeEmitterModeWithError(Z);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)});else this._closeEmitterModeWithError(Z)}async _processErrorIteratorMode(Z){if(this[b9])throw new d6.MongoAPIError(yY);if(!d6.isResumableError(Z,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw Z}await this.cursor.close().catch(()=>null);const J=wQ.getTopology(this.parent);try{await J.selectServerAsync(this.cursor.readPreference,{}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),Z}}}T8.RESPONSE=c6.RESPONSE;T8.MORE=c6.MORE;T8.INIT=c6.INIT;T8.CLOSE=c6.CLOSE;T8.CHANGE=c6.CHANGE;T8.END=c6.END;T8.ERROR=c6.ERROR;T8.RESUME_TOKEN_CHANGED=c6.RESUME_TOKEN_CHANGED;Oj.ChangeStream=T8});var AQ=R((_j)=>{var kj=function(Z){if(Z.s.init)throw new a8.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")},t91=function(Z){if(Z.destroyed)return;if(!Z.s.cursor)return;if(!Z.s.file)return;const J=({error:X,doc:Y})=>{if(Z.destroyed)return;if(X){Z.destroy(X);return}if(!Y){Z.push(null),Z.s.cursor?.close().then(()=>null,(F)=>Z.destroy(F));return}if(!Z.s.file)return;const G=Z.s.file.length-Z.s.bytesRead,$=Z.s.expected++,W=Math.min(Z.s.file.chunkSize,G);if(Y.n>$)return Z.destroy(new a8.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${Y.n}, expected: ${$}`));if(Y.n<$)return Z.destroy(new a8.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${Y.n}, expected: ${$}`));let H=Buffer.isBuffer(Y.data)?Y.data:Y.data.buffer;if(H.byteLength!==W){if(G<=0)return Z.destroy(new a8.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${Y.n}, expected file length ${Z.s.file.length} bytes but already read ${Z.s.bytesRead} bytes`));return Z.destroy(new a8.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${H.byteLength}, expected: ${W}`))}if(Z.s.bytesRead+=H.byteLength,H.byteLength===0)return Z.push(null);let q=null,K=null;if(Z.s.bytesToSkip!=null)q=Z.s.bytesToSkip,Z.s.bytesToSkip=0;const Q=$===Z.s.expectedEnd-1,z=Z.s.options.end-Z.s.bytesToSkip;if(Q&&Z.s.bytesToTrim!=null)K=Z.s.file.chunkSize-Z.s.bytesToTrim;else if(Z.s.options.end&&z<Y.data.byteLength)K=z;if(q!=null||K!=null)H=H.slice(q||0,K||H.byteLength);Z.push(H);return};Z.s.cursor.next().then((X)=>J({error:null,doc:X}),(X)=>J({error:X,doc:null}))},o91=function(Z){const J={};if(Z.s.readPreference)J.readPreference=Z.s.readPreference;if(Z.s.options&&Z.s.options.sort)J.sort=Z.s.options.sort;if(Z.s.options&&Z.s.options.skip)J.skip=Z.s.options.skip;const X=({error:Y,doc:G})=>{if(Y)return Z.destroy(Y);if(!G){const H=`FileNotFound: file ${Z.s.filter._id?Z.s.filter._id.toString():Z.s.filter.filename} was not found`,q=new a8.MongoRuntimeError(H);return q.code="ENOENT",Z.destroy(q)}if(G.length<=0){Z.push(null);return}if(Z.destroyed){Z.destroy();return}try{Z.s.bytesToSkip=ZZ1(Z,G,Z.s.options)}catch(W){return Z.destroy(W)}const $={files_id:G._id};if(Z.s.options&&Z.s.options.start!=null){const W=Math.floor(Z.s.options.start/G.chunkSize);if(W>0)$.n={$gte:W}}if(Z.s.cursor=Z.s.chunks.find($).sort({n:1}),Z.s.readPreference)Z.s.cursor.withReadPreference(Z.s.readPreference);Z.s.expectedEnd=Math.ceil(G.length/G.chunkSize),Z.s.file=G;try{Z.s.bytesToTrim=JZ1(Z,G,Z.s.cursor,Z.s.options)}catch(W){return Z.destroy(W)}Z.emit(bY.FILE,G);return};Z.s.files.findOne(Z.s.filter,J).then((Y)=>X({error:null,doc:Y}),(Y)=>X({error:Y,doc:null}))},e91=function(Z,J){if(Z.s.file)return J();if(!Z.s.init)o91(Z),Z.s.init=!0;Z.once("file",()=>{J()})},ZZ1=function(Z,J,X){if(X&&X.start!=null){if(X.start>J.length)throw new a8.MongoInvalidArgumentError(`Stream start (${X.start}) must not be more than the length of the file (${J.length})`);if(X.start<0)throw new a8.MongoInvalidArgumentError(`Stream start (${X.start}) must not be negative`);if(X.end!=null&&X.end<X.start)throw new a8.MongoInvalidArgumentError(`Stream start (${X.start}) must not be greater than stream end (${X.end})`);return Z.s.bytesRead=Math.floor(X.start/J.chunkSize)*J.chunkSize,Z.s.expected=Math.floor(X.start/J.chunkSize),X.start-Z.s.bytesRead}throw new a8.MongoInvalidArgumentError("Start option must be defined")},JZ1=function(Z,J,X,Y){if(Y&&Y.end!=null){if(Y.end>J.length)throw new a8.MongoInvalidArgumentError(`Stream end (${Y.end}) must not be more than the length of the file (${J.length})`);if(Y.start==null||Y.start<0)throw new a8.MongoInvalidArgumentError(`Stream end (${Y.end}) must not be negative`);const G=Y.start!=null?Math.floor(Y.start/J.chunkSize):0;return X.limit(Math.ceil(Y.end/J.chunkSize)-G),Z.s.expectedEnd=Math.ceil(Y.end/J.chunkSize),Math.ceil(Y.end/J.chunkSize)*J.chunkSize-Y.end}throw new a8.MongoInvalidArgumentError("End option must be defined")};Object.defineProperty(_j,"__esModule",{value:!0});_j.GridFSBucketReadStream=void 0;var r91=import.meta.require("stream"),a8=a();class bY extends r91.Readable{constructor(Z,J,X,Y,G){super({emitClose:!0});this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:Z,expected:0,files:J,filter:Y,init:!1,expectedEnd:0,options:{start:0,end:0,...G},readPreference:X}}_read(){if(this.destroyed)return;e91(this,()=>t91(this))}start(Z=0){return kj(this),this.s.options.start=Z,this}end(Z=0){return kj(this),this.s.options.end=Z,this}async abort(){this.push(null),this.destroy(),await this.s.cursor?.close()}}bY.FILE="file";_j.GridFSBucketReadStream=bY});var NQ=R((bj)=>{var MQ=function(Z,J,X){if(Z.state.errored){process.nextTick(X);return}Z.state.errored=!0,process.nextTick(X,J)},yj=function(Z,J,X){return{_id:new gj.ObjectId,files_id:Z,n:J,data:X}};async function GZ1(Z){const J={files_id:1,n:1};let X;try{X=await Z.chunks.listIndexes().toArray()}catch(G){if(G instanceof M5.MongoError&&G.code===M5.MONGODB_ERROR_CODES.NamespaceNotFound)X=[];else throw G}if(!X.find((G)=>{if(Object.keys(G.key).length===2&&G.key.files_id===1&&G.key.n===1)return!0;return!1}))await Z.chunks.createIndex(J,{...Z.writeConcern,background:!0,unique:!0})}var BQ=function(Z,J){if(Z.done)return process.nextTick(J);if(Z.state.streamEnd&&Z.state.outstandingRequests===0&&!Z.state.errored){Z.done=!0;const X=WZ1(Z.id,Z.length,Z.chunkSizeBytes,Z.filename,Z.options.contentType,Z.options.aliases,Z.options.metadata);if(vY(Z,J))return;Z.files.insertOne(X,{writeConcern:Z.writeConcern}).then(()=>{Z.gridFSFile=X,J()},(Y)=>MQ(Z,Y,J));return}process.nextTick(J)};async function $Z1(Z){if(await Z.files.findOne({},{projection:{_id:1}})!=null)return;const X={filename:1,uploadDate:1};let Y;try{Y=await Z.files.listIndexes().toArray()}catch($){if($ instanceof M5.MongoError&&$.code===M5.MONGODB_ERROR_CODES.NamespaceNotFound)Y=[];else throw $}if(!Y.find(($)=>{if(Object.keys($.key).length===2&&$.key.filename===1&&$.key.uploadDate===1)return!0;return!1}))await Z.files.createIndex(X,{background:!1});await GZ1(Z)}var WZ1=function(Z,J,X,Y,G,$,W){const H={_id:Z,length:J,chunkSize:X,uploadDate:new Date,filename:Y};if(G)H.contentType=G;if($)H.aliases=$;if(W)H.metadata=W;return H},HZ1=function(Z,J,X,Y){if(vY(Z,Y))return;const G=Buffer.isBuffer(J)?J:Buffer.from(J,X);if(Z.length+=G.length,Z.pos+G.length<Z.chunkSizeBytes){G.copy(Z.bufToStore,Z.pos),Z.pos+=G.length,process.nextTick(Y);return}let $=G.length,W=Z.chunkSizeBytes-Z.pos,H=Math.min(W,G.length),q=0;while($>0){const K=G.length-$;G.copy(Z.bufToStore,Z.pos,K,K+H),Z.pos+=H,W-=H;let Q;if(W===0){if(Q=yj(Z.id,Z.n,Buffer.from(Z.bufToStore)),++Z.state.outstandingRequests,++q,vY(Z,Y))return;Z.chunks.insertOne(Q,{writeConcern:Z.writeConcern}).then(()=>{if(--Z.state.outstandingRequests,--q,!q)BQ(Z,Y)},(z)=>MQ(Z,z,Y)),W=Z.chunkSizeBytes,Z.pos=0,++Z.n}$-=H,H=Math.min(W,$)}},qZ1=function(Z,J){if(Z.pos===0)return BQ(Z,J);++Z.state.outstandingRequests;const X=Buffer.alloc(Z.pos);Z.bufToStore.copy(X,0,0,Z.pos);const Y=yj(Z.id,Z.n,X);if(vY(Z,J))return;Z.chunks.insertOne(Y,{writeConcern:Z.writeConcern}).then(()=>{--Z.state.outstandingRequests,BQ(Z,J)},(G)=>MQ(Z,G,J))},vY=function(Z,J){if(Z.state.aborted)return process.nextTick(J,new M5.MongoAPIError("Stream has been aborted")),!0;return!1};Object.defineProperty(bj,"__esModule",{value:!0});bj.GridFSBucketWriteStream=void 0;var XZ1=import.meta.require("stream"),gj=i1(),M5=a(),YZ1=M8();class fj extends XZ1.Writable{constructor(Z,J,X){super();if(this.gridFSFile=null,X=X??{},this.bucket=Z,this.chunks=Z.s._chunksCollection,this.filename=J,this.files=Z.s._filesCollection,this.options=X,this.writeConcern=YZ1.WriteConcern.fromOptions(X)||Z.s.options.writeConcern,this.done=!1,this.id=X.id?X.id:new gj.ObjectId,this.chunkSizeBytes=X.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},!this.bucket.s.calledOpenUploadStream)this.bucket.s.calledOpenUploadStream=!0,$Z1(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")},()=>null)}_construct(Z){if(this.bucket.s.checkedIndexes)return process.nextTick(Z);this.bucket.once("index",Z)}_write(Z,J,X){HZ1(this,Z,J,X)}_final(Z){if(this.state.streamEnd)return process.nextTick(Z);this.state.streamEnd=!0,qZ1(this,Z)}async abort(){if(this.state.streamEnd)throw new M5.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new M5.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})}}bj.GridFSBucketWriteStream=fj});var lj=R((dj)=>{Object.defineProperty(dj,"__esModule",{value:!0});dj.GridFSBucket=void 0;var hj=a(),KZ1=m8(),QZ1=M8(),uj=AQ(),mj=NQ(),zZ1={bucketName:"fs",chunkSizeBytes:261120};class IQ extends KZ1.TypedEventEmitter{constructor(Z,J){super();this.setMaxListeners(0);const X={...zZ1,...J,writeConcern:QZ1.WriteConcern.fromOptions(J)};this.s={db:Z,options:X,_chunksCollection:Z.collection(X.bucketName+".chunks"),_filesCollection:Z.collection(X.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(Z,J){return new mj.GridFSBucketWriteStream(this,Z,J)}openUploadStreamWithId(Z,J,X){return new mj.GridFSBucketWriteStream(this,J,{...X,id:Z})}openDownloadStream(Z,J){return new uj.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:Z},J)}async delete(Z){const{deletedCount:J}=await this.s._filesCollection.deleteOne({_id:Z});if(await this.s._chunksCollection.deleteMany({files_id:Z}),J===0)throw new hj.MongoRuntimeError(`File not found for id ${Z}`)}find(Z={},J={}){return this.s._filesCollection.find(Z,J)}openDownloadStreamByName(Z,J){let X={uploadDate:-1},Y=void 0;if(J&&J.revision!=null)if(J.revision>=0)X={uploadDate:1},Y=J.revision;else Y=-J.revision-1;return new uj.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:Z},{...J,sort:X,skip:Y})}async rename(Z,J){const X={_id:Z},Y={$set:{filename:J}},{matchedCount:G}=await this.s._filesCollection.updateOne(X,Y);if(G===0)throw new hj.MongoRuntimeError(`File with id ${Z} not found`)}async drop(){await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}}IQ.INDEX="index";dj.GridFSBucket=IQ});var nj=R((pj)=>{Object.defineProperty(pj,"__esModule",{value:!0});pj.ClientEncryption=void 0;var Q4=i1(),FZ1=x6(),P7=Z1(),UZ1=YK(),N5=q5(),LZ1=WK(),hY=HK();class uY{static getMongoCrypt(){const Z=FZ1.getMongoDBClientEncryption();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,J){if(this._client=Z,this._proxyOptions=J.proxyOptions??{},this._tlsOptions=J.tlsOptions??{},this._kmsProviders=J.kmsProviders||{},J.keyVaultNamespace==null)throw new N5.MongoCryptInvalidArgumentError("Missing required option `keyVaultNamespace`");const X={...J,cryptoCallbacks:UZ1,kmsProviders:!Buffer.isBuffer(this._kmsProviders)?Q4.serialize(this._kmsProviders):this._kmsProviders};this._keyVaultNamespace=J.keyVaultNamespace,this._keyVaultClient=J.keyVaultClient||Z;const Y=uY.getMongoCrypt();this._mongoCrypt=new Y(X)}async createDataKey(Z,J={}){if(J.keyAltNames&&!Array.isArray(J.keyAltNames))throw new N5.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but was of type ${typeof J.keyAltNames}.`);let X=void 0;if(J.keyAltNames&&J.keyAltNames.length>0)X=J.keyAltNames.map((z,F)=>{if(typeof z!=="string")throw new N5.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but item at index ${F} was of type ${typeof z}`);return Q4.serialize({keyAltName:z})});let Y=void 0;if(J.keyMaterial)Y=Q4.serialize({keyMaterial:J.keyMaterial});const G=Q4.serialize({provider:Z,...J.masterKey}),$=this._mongoCrypt.makeDataKeyContext(G,{keyAltNames:X,keyMaterial:Y}),H=await new hY.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,$),{db:q,collection:K}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),{insertedId:Q}=await this._keyVaultClient.db(q).collection(K).insertOne(H,{writeConcern:{w:"majority"}});return Q}async rewrapManyDataKey(Z,J){let X=void 0;if(J){const z=Object.assign({provider:J.provider},J.masterKey);X=Q4.serialize(z)}const Y=Q4.serialize(Z),G=this._mongoCrypt.makeRewrapManyDataKeyContext(Y,X),$=new hY.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:W}=await $.execute(this,G);if(W.length===0)return{};const{db:H,collection:q}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),K=W.map((z)=>({updateOne:{filter:{_id:z._id},update:{$set:{masterKey:z.masterKey,keyMaterial:z.keyMaterial},$currentDate:{updateDate:!0}}}}));return{bulkWriteResult:await this._keyVaultClient.db(H).collection(q).bulkWrite(K,{writeConcern:{w:"majority"}})}}async deleteKey(Z){const{db:J,collection:X}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(J).collection(X).deleteOne({_id:Z},{writeConcern:{w:"majority"}})}getKeys(){const{db:Z,collection:J}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Z).collection(J).find({},{readConcern:{level:"majority"}})}async getKey(Z){const{db:J,collection:X}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(J).collection(X).findOne({_id:Z},{readConcern:{level:"majority"}})}async getKeyByAltName(Z){const{db:J,collection:X}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(J).collection(X).findOne({keyAltNames:Z},{readConcern:{level:"majority"}})}async addKeyAltName(Z,J){const{db:X,collection:Y}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(X).collection(Y).findOneAndUpdate({_id:Z},{$addToSet:{keyAltNames:J}},{writeConcern:{w:"majority"},returnDocument:"before"})}async removeKeyAltName(Z,J){const{db:X,collection:Y}=P7.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),G=[{$set:{keyAltNames:{$cond:[{$eq:["$keyAltNames",[J]]},"$$REMOVE",{$filter:{input:"$keyAltNames",cond:{$ne:["$$this",J]}}}]}}}];return await this._keyVaultClient.db(X).collection(Y).findOneAndUpdate({_id:Z},G,{writeConcern:{w:"majority"},returnDocument:"before"})}async createEncryptedCollection(Z,J,X){const{provider:Y,masterKey:G,createCollectionOptions:{encryptedFields:{...$},...W}}=X;if(Array.isArray($.fields)){const H=$.fields.map(async(Q)=>Q==null||typeof Q!=="object"||Q.keyId!=null?Q:{...Q,keyId:await this.createDataKey(Y,{masterKey:G})}),q=await Promise.allSettled(H);$.fields=q.map((Q,z)=>Q.status==="fulfilled"?Q.value:$.fields[z]);const K=q.find((Q)=>Q.status==="rejected");if(K!=null)throw new N5.MongoCryptCreateDataKeyError($,{cause:K.reason})}try{return{collection:await Z.createCollection(J,{...W,encryptedFields:$}),encryptedFields:$}}catch(H){throw new N5.MongoCryptCreateEncryptedCollectionError($,{cause:H})}}async encrypt(Z,J){return this._encrypt(Z,!1,J)}async encryptExpression(Z,J){return this._encrypt(Z,!0,J)}async decrypt(Z){const J=Q4.serialize({v:Z}),X=this._mongoCrypt.makeExplicitDecryptionContext(J),Y=new hY.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:G}=await Y.execute(this,X);return G}async askForKMSCredentials(){return LZ1.refreshKMSCredentials(this._kmsProviders)}static get libmongocryptVersion(){return uY.getMongoCrypt().libmongocryptVersion}async _encrypt(Z,J,X){const{algorithm:Y,keyId:G,keyAltName:$,contentionFactor:W,queryType:H,rangeOptions:q}=X,K={expressionMode:J,algorithm:Y};if(G)K.keyId=G.buffer;if($){if(G)throw new N5.MongoCryptInvalidArgumentError('"options" cannot contain both "keyId" and "keyAltName"');if(typeof $!=="string")throw new N5.MongoCryptInvalidArgumentError(`"options.keyAltName" must be of type string, but was of type ${typeof $}`);K.keyAltName=Q4.serialize({keyAltName:$})}if(typeof W==="number"||typeof W==="bigint")K.contentionFactor=W;if(typeof H==="string")K.queryType=H;if(typeof q==="object")K.rangeOptions=Q4.serialize(q);const Q=Q4.serialize({v:Z}),z=new hY.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),F=this._mongoCrypt.makeExplicitEncryptionContext(Q,K);return(await z.execute(this,F)).v}}pj.ClientEncryption=uY});var mY=R((x)=>{Object.defineProperty(x,"__esModule",{value:!0});x.MongoUnexpectedServerResponseError=x.MongoTransactionError=x.MongoTopologyClosedError=x.MongoTailableCursorError=x.MongoSystemError=x.MongoServerSelectionError=x.MongoServerError=x.MongoServerClosedError=x.MongoRuntimeError=x.MongoParseError=x.MongoNotConnectedError=x.MongoNetworkTimeoutError=x.MongoNetworkError=x.MongoMissingDependencyError=x.MongoMissingCredentialsError=x.MongoKerberosError=x.MongoInvalidArgumentError=x.MongoGridFSStreamError=x.MongoGridFSChunkError=x.MongoExpiredSessionError=x.MongoError=x.MongoDriverError=x.MongoDecompressionError=x.MongoCursorInUseError=x.MongoCursorExhaustedError=x.MongoCompatibilityError=x.MongoChangeStreamError=x.MongoBatchReExecutionError=x.MongoAzureError=x.MongoAWSError=x.MongoAPIError=x.ChangeStreamCursor=x.ClientEncryption=x.MongoBulkWriteError=x.UUID=x.Timestamp=x.ObjectId=x.MinKey=x.MaxKey=x.Long=x.Int32=x.Double=x.Decimal128=x.DBRef=x.Code=x.BSONType=x.BSONSymbol=x.BSONRegExp=x.Binary=x.BSON=void 0;x.ConnectionPoolReadyEvent=x.ConnectionPoolMonitoringEvent=x.ConnectionPoolCreatedEvent=x.ConnectionPoolClosedEvent=x.ConnectionPoolClearedEvent=x.ConnectionCreatedEvent=x.ConnectionClosedEvent=x.ConnectionCheckOutStartedEvent=x.ConnectionCheckOutFailedEvent=x.ConnectionCheckedOutEvent=x.ConnectionCheckedInEvent=x.CommandSucceededEvent=x.CommandStartedEvent=x.CommandFailedEvent=x.WriteConcern=x.ReadPreference=x.ReadConcern=x.TopologyType=x.ServerType=x.ReadPreferenceMode=x.ReadConcernLevel=x.ProfilingLevel=x.ReturnDocument=x.ServerApiVersion=x.ExplainVerbosity=x.MongoErrorLabel=x.CURSOR_FLAGS=x.Compressor=x.AuthMechanism=x.GSSAPICanonicalizationValue=x.AutoEncryptionLoggerLevel=x.BatchType=x.UnorderedBulkOperation=x.OrderedBulkOperation=x.MongoClient=x.ListIndexesCursor=x.ListCollectionsCursor=x.GridFSBucketWriteStream=x.GridFSBucketReadStream=x.GridFSBucket=x.FindCursor=x.Db=x.Collection=x.ClientSession=x.ChangeStream=x.CancellationToken=x.AggregationCursor=x.Admin=x.AbstractCursor=x.MongoWriteConcernError=void 0;x.MongoCryptKMSRequestNetworkTimeoutError=x.MongoCryptInvalidArgumentError=x.MongoCryptError=x.MongoCryptCreateEncryptedCollectionError=x.MongoCryptCreateDataKeyError=x.MongoCryptAzureKMSRequestError=x.SrvPollingEvent=x.TopologyOpeningEvent=x.TopologyDescriptionChangedEvent=x.TopologyClosedEvent=x.ServerOpeningEvent=x.ServerHeartbeatSucceededEvent=x.ServerHeartbeatStartedEvent=x.ServerHeartbeatFailedEvent=x.ServerDescriptionChangedEvent=x.ServerClosedEvent=x.ConnectionReadyEvent=void 0;var VZ1=aW();Object.defineProperty(x,"Admin",{enumerable:!0,get:function(){return VZ1.Admin}});var RZ1=VH();Object.defineProperty(x,"OrderedBulkOperation",{enumerable:!0,get:function(){return RZ1.OrderedBulkOperation}});var wZ1=RH();Object.defineProperty(x,"UnorderedBulkOperation",{enumerable:!0,get:function(){return wZ1.UnorderedBulkOperation}});var AZ1=Q9();Object.defineProperty(x,"ChangeStream",{enumerable:!0,get:function(){return AZ1.ChangeStream}});var BZ1=X5();Object.defineProperty(x,"Collection",{enumerable:!0,get:function(){return BZ1.Collection}});var MZ1=C4();Object.defineProperty(x,"AbstractCursor",{enumerable:!0,get:function(){return MZ1.AbstractCursor}});var NZ1=JJ();Object.defineProperty(x,"AggregationCursor",{enumerable:!0,get:function(){return NZ1.AggregationCursor}});var IZ1=pH();Object.defineProperty(x,"FindCursor",{enumerable:!0,get:function(){return IZ1.FindCursor}});var DZ1=wq();Object.defineProperty(x,"ListCollectionsCursor",{enumerable:!0,get:function(){return DZ1.ListCollectionsCursor}});var CZ1=Zq();Object.defineProperty(x,"ListIndexesCursor",{enumerable:!0,get:function(){return CZ1.ListIndexesCursor}});var PZ1=_X();Object.defineProperty(x,"Db",{enumerable:!0,get:function(){return PZ1.Db}});var EZ1=lj();Object.defineProperty(x,"GridFSBucket",{enumerable:!0,get:function(){return EZ1.GridFSBucket}});var TZ1=AQ();Object.defineProperty(x,"GridFSBucketReadStream",{enumerable:!0,get:function(){return TZ1.GridFSBucketReadStream}});var jZ1=NQ();Object.defineProperty(x,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return jZ1.GridFSBucketWriteStream}});var OZ1=Q5();Object.defineProperty(x,"MongoClient",{enumerable:!0,get:function(){return OZ1.MongoClient}});var SZ1=m8();Object.defineProperty(x,"CancellationToken",{enumerable:!0,get:function(){return SZ1.CancellationToken}});var kZ1=tZ();Object.defineProperty(x,"ClientSession",{enumerable:!0,get:function(){return kZ1.ClientSession}});var _Z1=i1();Object.defineProperty(x,"BSON",{enumerable:!0,get:function(){return _Z1.BSON}});var Q8=i1();Object.defineProperty(x,"Binary",{enumerable:!0,get:function(){return Q8.Binary}});Object.defineProperty(x,"BSONRegExp",{enumerable:!0,get:function(){return Q8.BSONRegExp}});Object.defineProperty(x,"BSONSymbol",{enumerable:!0,get:function(){return Q8.BSONSymbol}});Object.defineProperty(x,"BSONType",{enumerable:!0,get:function(){return Q8.BSONType}});Object.defineProperty(x,"Code",{enumerable:!0,get:function(){return Q8.Code}});Object.defineProperty(x,"DBRef",{enumerable:!0,get:function(){return Q8.DBRef}});Object.defineProperty(x,"Decimal128",{enumerable:!0,get:function(){return Q8.Decimal128}});Object.defineProperty(x,"Double",{enumerable:!0,get:function(){return Q8.Double}});Object.defineProperty(x,"Int32",{enumerable:!0,get:function(){return Q8.Int32}});Object.defineProperty(x,"Long",{enumerable:!0,get:function(){return Q8.Long}});Object.defineProperty(x,"MaxKey",{enumerable:!0,get:function(){return Q8.MaxKey}});Object.defineProperty(x,"MinKey",{enumerable:!0,get:function(){return Q8.MinKey}});Object.defineProperty(x,"ObjectId",{enumerable:!0,get:function(){return Q8.ObjectId}});Object.defineProperty(x,"Timestamp",{enumerable:!0,get:function(){return Q8.Timestamp}});Object.defineProperty(x,"UUID",{enumerable:!0,get:function(){return Q8.UUID}});var xZ1=iZ();Object.defineProperty(x,"MongoBulkWriteError",{enumerable:!0,get:function(){return xZ1.MongoBulkWriteError}});var gZ1=nj();Object.defineProperty(x,"ClientEncryption",{enumerable:!0,get:function(){return gZ1.ClientEncryption}});var fZ1=Lq();Object.defineProperty(x,"ChangeStreamCursor",{enumerable:!0,get:function(){return fZ1.ChangeStreamCursor}});var j1=a();Object.defineProperty(x,"MongoAPIError",{enumerable:!0,get:function(){return j1.MongoAPIError}});Object.defineProperty(x,"MongoAWSError",{enumerable:!0,get:function(){return j1.MongoAWSError}});Object.defineProperty(x,"MongoAzureError",{enumerable:!0,get:function(){return j1.MongoAzureError}});Object.defineProperty(x,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return j1.MongoBatchReExecutionError}});Object.defineProperty(x,"MongoChangeStreamError",{enumerable:!0,get:function(){return j1.MongoChangeStreamError}});Object.defineProperty(x,"MongoCompatibilityError",{enumerable:!0,get:function(){return j1.MongoCompatibilityError}});Object.defineProperty(x,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return j1.MongoCursorExhaustedError}});Object.defineProperty(x,"MongoCursorInUseError",{enumerable:!0,get:function(){return j1.MongoCursorInUseError}});Object.defineProperty(x,"MongoDecompressionError",{enumerable:!0,get:function(){return j1.MongoDecompressionError}});Object.defineProperty(x,"MongoDriverError",{enumerable:!0,get:function(){return j1.MongoDriverError}});Object.defineProperty(x,"MongoError",{enumerable:!0,get:function(){return j1.MongoError}});Object.defineProperty(x,"MongoExpiredSessionError",{enumerable:!0,get:function(){return j1.MongoExpiredSessionError}});Object.defineProperty(x,"MongoGridFSChunkError",{enumerable:!0,get:function(){return j1.MongoGridFSChunkError}});Object.defineProperty(x,"MongoGridFSStreamError",{enumerable:!0,get:function(){return j1.MongoGridFSStreamError}});Object.defineProperty(x,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return j1.MongoInvalidArgumentError}});Object.defineProperty(x,"MongoKerberosError",{enumerable:!0,get:function(){return j1.MongoKerberosError}});Object.defineProperty(x,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return j1.MongoMissingCredentialsError}});Object.defineProperty(x,"MongoMissingDependencyError",{enumerable:!0,get:function(){return j1.MongoMissingDependencyError}});Object.defineProperty(x,"MongoNetworkError",{enumerable:!0,get:function(){return j1.MongoNetworkError}});Object.defineProperty(x,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return j1.MongoNetworkTimeoutError}});Object.defineProperty(x,"MongoNotConnectedError",{enumerable:!0,get:function(){return j1.MongoNotConnectedError}});Object.defineProperty(x,"MongoParseError",{enumerable:!0,get:function(){return j1.MongoParseError}});Object.defineProperty(x,"MongoRuntimeError",{enumerable:!0,get:function(){return j1.MongoRuntimeError}});Object.defineProperty(x,"MongoServerClosedError",{enumerable:!0,get:function(){return j1.MongoServerClosedError}});Object.defineProperty(x,"MongoServerError",{enumerable:!0,get:function(){return j1.MongoServerError}});Object.defineProperty(x,"MongoServerSelectionError",{enumerable:!0,get:function(){return j1.MongoServerSelectionError}});Object.defineProperty(x,"MongoSystemError",{enumerable:!0,get:function(){return j1.MongoSystemError}});Object.defineProperty(x,"MongoTailableCursorError",{enumerable:!0,get:function(){return j1.MongoTailableCursorError}});Object.defineProperty(x,"MongoTopologyClosedError",{enumerable:!0,get:function(){return j1.MongoTopologyClosedError}});Object.defineProperty(x,"MongoTransactionError",{enumerable:!0,get:function(){return j1.MongoTransactionError}});Object.defineProperty(x,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return j1.MongoUnexpectedServerResponseError}});Object.defineProperty(x,"MongoWriteConcernError",{enumerable:!0,get:function(){return j1.MongoWriteConcernError}});var yZ1=iZ();Object.defineProperty(x,"BatchType",{enumerable:!0,get:function(){return yZ1.BatchType}});var bZ1=KK();Object.defineProperty(x,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return bZ1.AutoEncryptionLoggerLevel}});var vZ1=vX();Object.defineProperty(x,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return vZ1.GSSAPICanonicalizationValue}});var hZ1=J4();Object.defineProperty(x,"AuthMechanism",{enumerable:!0,get:function(){return hZ1.AuthMechanism}});var uZ1=JY();Object.defineProperty(x,"Compressor",{enumerable:!0,get:function(){return uZ1.Compressor}});var mZ1=C4();Object.defineProperty(x,"CURSOR_FLAGS",{enumerable:!0,get:function(){return mZ1.CURSOR_FLAGS}});var dZ1=a();Object.defineProperty(x,"MongoErrorLabel",{enumerable:!0,get:function(){return dZ1.MongoErrorLabel}});var cZ1=dW();Object.defineProperty(x,"ExplainVerbosity",{enumerable:!0,get:function(){return cZ1.ExplainVerbosity}});var lZ1=Q5();Object.defineProperty(x,"ServerApiVersion",{enumerable:!0,get:function(){return lZ1.ServerApiVersion}});var pZ1=$q();Object.defineProperty(x,"ReturnDocument",{enumerable:!0,get:function(){return pZ1.ReturnDocument}});var iZ1=Aq();Object.defineProperty(x,"ProfilingLevel",{enumerable:!0,get:function(){return iZ1.ProfilingLevel}});var nZ1=G6();Object.defineProperty(x,"ReadConcernLevel",{enumerable:!0,get:function(){return nZ1.ReadConcernLevel}});var aZ1=N0();Object.defineProperty(x,"ReadPreferenceMode",{enumerable:!0,get:function(){return aZ1.ReadPreferenceMode}});var aj=Y6();Object.defineProperty(x,"ServerType",{enumerable:!0,get:function(){return aj.ServerType}});Object.defineProperty(x,"TopologyType",{enumerable:!0,get:function(){return aj.TopologyType}});var sZ1=G6();Object.defineProperty(x,"ReadConcern",{enumerable:!0,get:function(){return sZ1.ReadConcern}});var rZ1=N0();Object.defineProperty(x,"ReadPreference",{enumerable:!0,get:function(){return rZ1.ReadPreference}});var tZ1=M8();Object.defineProperty(x,"WriteConcern",{enumerable:!0,get:function(){return tZ1.WriteConcern}});var DQ=jK();Object.defineProperty(x,"CommandFailedEvent",{enumerable:!0,get:function(){return DQ.CommandFailedEvent}});Object.defineProperty(x,"CommandStartedEvent",{enumerable:!0,get:function(){return DQ.CommandStartedEvent}});Object.defineProperty(x,"CommandSucceededEvent",{enumerable:!0,get:function(){return DQ.CommandSucceededEvent}});var w6=oK();Object.defineProperty(x,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return w6.ConnectionCheckedInEvent}});Object.defineProperty(x,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return w6.ConnectionCheckedOutEvent}});Object.defineProperty(x,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return w6.ConnectionCheckOutFailedEvent}});Object.defineProperty(x,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return w6.ConnectionCheckOutStartedEvent}});Object.defineProperty(x,"ConnectionClosedEvent",{enumerable:!0,get:function(){return w6.ConnectionClosedEvent}});Object.defineProperty(x,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return w6.ConnectionCreatedEvent}});Object.defineProperty(x,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return w6.ConnectionPoolClearedEvent}});Object.defineProperty(x,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return w6.ConnectionPoolClosedEvent}});Object.defineProperty(x,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return w6.ConnectionPoolCreatedEvent}});Object.defineProperty(x,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return w6.ConnectionPoolMonitoringEvent}});Object.defineProperty(x,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return w6.ConnectionPoolReadyEvent}});Object.defineProperty(x,"ConnectionReadyEvent",{enumerable:!0,get:function(){return w6.ConnectionReadyEvent}});var f4=QY();Object.defineProperty(x,"ServerClosedEvent",{enumerable:!0,get:function(){return f4.ServerClosedEvent}});Object.defineProperty(x,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return f4.ServerDescriptionChangedEvent}});Object.defineProperty(x,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return f4.ServerHeartbeatFailedEvent}});Object.defineProperty(x,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return f4.ServerHeartbeatStartedEvent}});Object.defineProperty(x,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return f4.ServerHeartbeatSucceededEvent}});Object.defineProperty(x,"ServerOpeningEvent",{enumerable:!0,get:function(){return f4.ServerOpeningEvent}});Object.defineProperty(x,"TopologyClosedEvent",{enumerable:!0,get:function(){return f4.TopologyClosedEvent}});Object.defineProperty(x,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return f4.TopologyDescriptionChangedEvent}});Object.defineProperty(x,"TopologyOpeningEvent",{enumerable:!0,get:function(){return f4.TopologyOpeningEvent}});var oZ1=QQ();Object.defineProperty(x,"SrvPollingEvent",{enumerable:!0,get:function(){return oZ1.SrvPollingEvent}});var v9=q5();Object.defineProperty(x,"MongoCryptAzureKMSRequestError",{enumerable:!0,get:function(){return v9.MongoCryptAzureKMSRequestError}});Object.defineProperty(x,"MongoCryptCreateDataKeyError",{enumerable:!0,get:function(){return v9.MongoCryptCreateDataKeyError}});Object.defineProperty(x,"MongoCryptCreateEncryptedCollectionError",{enumerable:!0,get:function(){return v9.MongoCryptCreateEncryptedCollectionError}});Object.defineProperty(x,"MongoCryptError",{enumerable:!0,get:function(){return v9.MongoCryptError}});Object.defineProperty(x,"MongoCryptInvalidArgumentError",{enumerable:!0,get:function(){return v9.MongoCryptInvalidArgumentError}});Object.defineProperty(x,"MongoCryptKMSRequestNetworkTimeoutError",{enumerable:!0,get:function(){return v9.MongoCryptKMSRequestNetworkTimeoutError}})});var j8=R((bA1,sj)=>{sj.exports=function Z(J){if(J==null)return;if(typeof J.constructor!=="function")return;return J.constructor.name}});var z4=R((XJ1)=>{/*!
 * ignore
 */XJ1.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}});var oj=R((hA1,tj)=>{var l6=function(Z,J,X){this.collection=null,this.Promise=X.Promise||Promise,this.modelName=X.modelName,delete X.modelName,this._closed=!1,dY.apply(this,arguments)},HJ1=function(Z){l6.prototype[Z]=function(){const J=this._getCollection(),X=Array.from(arguments),Y=this,G=Y&&Y.conn&&Y.conn.base&&Y.conn.base.options&&Y.conn.base.options.debug,$=Y&&Y.conn&&Y.conn.options&&Y.conn.options.debug,W=$==null?G:$,H=arguments[arguments.length-1],q=new GJ1;if(this.conn.$wasForceClosed){const z=new CQ("Connection was force closed");if(X.length>0&&typeof X[X.length-1]==="function"){X[X.length-1](z);return}else throw z}let K=X,Q=null;if(this._shouldBufferCommands()&&this.buffer){this.conn.emit("buffer",{_id:q,modelName:Y.modelName,collectionName:Y.name,method:Z,args:X});let z,F=X,U=null,L=null;if(dJ[Z]&&typeof H==="function")this.addQueue(()=>{H.call(this,null,this[Z].apply(this,F.slice(0,F.length-1)))},[]);else if(dJ[Z])U=new Promise((w,B)=>{z=function M(A,I){if(L!=null)clearTimeout(L);if(A!=null)return B(A);w(I)},F=X.concat([z]),this.addQueue(Z,F)});else if(typeof H==="function")z=function w(){if(L!=null)clearTimeout(L);return H.apply(this,arguments)},F=X.slice(0,X.length-1).concat([z]);else U=new Promise((w,B)=>{z=function M(A,I){if(L!=null)clearTimeout(L);if(A!=null)return B(A);w(I)},F=X.concat([z]),this.addQueue(Z,F)});const V=this._getBufferTimeoutMS();if(L=setTimeout(()=>{if(this.removeQueue(Z,F)){const B="Operation `"+this.name+"."+Z+"()` buffering timed out after "+V+"ms",M=new CQ(B);this.conn.emit("buffer-end",{_id:q,modelName:Y.modelName,collectionName:Y.name,method:Z,error:M}),z(M)}},V),!dJ[Z]&&typeof H==="function"){this.addQueue(Z,F);return}return U}else if(!dJ[Z]&&typeof H==="function")Q=function z(F,U){if(F!=null)Y.conn.emit("operation-end",{_id:q,modelName:Y.modelName,collectionName:Y.name,method:Z,error:F});else Y.conn.emit("operation-end",{_id:q,modelName:Y.modelName,collectionName:Y.name,method:Z,result:U});return H.apply(this,arguments)},K=X.slice(0,X.length-1).concat([Q]);if(W)if(typeof W==="function"){let z=null;if(typeof X[X.length-1]=="function")z=X.slice(0,X.length-1);else z=X;W.apply(Y,[Y.name,Z].concat(z))}else if(W instanceof WJ1.Writable)this.$printToStream(Y.name,Z,X,W);else{const z=W.color==null?!0:W.color,F=W.shell==null?!1:W.shell;this.$print(Y.name,Z,X,z,F)}this.conn.emit("operation-start",{_id:q,modelName:Y.modelName,collectionName:this.name,method:Z,params:K});try{if(J==null){const F="Cannot call `"+this.name+"."+Z+"()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.";throw new CQ(F)}if(dJ[Z]&&typeof H==="function"){const F=J[Z].apply(J,K.slice(0,K.length-1));return H.call(this,null,F)}const z=J[Z].apply(J,K);if(z!=null&&typeof z.then==="function")return z.then((F)=>{return typeof H==="function"&&H(null,F),F},(F)=>{if(typeof H==="function"){H(F);return}throw F});return z}catch(z){if(typeof H==="function")return H(z);else throw this.conn.emit("operation-end",{_id:q,modelName:Y.modelName,collectionName:this.name,method:Z,error:z}),z}}},h9=function(Z){const J={inspect:function(){return Z}};if(EQ.inspect.custom)J[EQ.inspect.custom]=J.inspect;return J},qJ1=function(Z){return TQ(Z,!0)},KJ1=function(Z,J){Z[J]=h9('ObjectId("'+Z[J].toHexString()+'")')},QJ1=function(Z,J,X){if(X)Z[J]=h9('ISODate("'+Z[J].toUTCString()+'")');else Z[J]=h9('new Date("'+Z[J].toUTCString()+'")')},TQ=function(Z,J,X,Y){if(Z&&typeof Z.toBSON==="function")Z=Z.toBSON();if(Z==null)return Z;let $=W0()(Z,$J1);const W=rj($);if(W==="Binary")$="BinData("+$.sub_type+', "'+$.toString("base64")+'")';else if(W==="ObjectId")$=h9('ObjectId("'+$.toHexString()+'")');else if(W==="Date")$=h9('new Date("'+$.toUTCString()+'")');else if(W==="Object"){const H=Object.keys($),q=H.length;let K;for(let Q=0;Q<q;++Q)if(K=H[Q],$[K]){let z;if(typeof $[K].toBSON==="function")try{$[K]=$[K].toBSON()}catch(U){z=U}const F=rj($[K]);if(F==="Binary")$[K]="BinData("+$[K].sub_type+', "'+$[K].buffer.toString("base64")+'")';else if(F==="Object")$[K]=TQ($[K],!0);else if(F==="ObjectId")KJ1($,K);else if(F==="Date")QJ1($,K,Y);else if(F==="ClientSession")$[K]=h9('ClientSession("'+($[K]&&$[K].id&&$[K].id.id&&$[K].id.id.buffer||"").toString("hex")+'")');else if(Array.isArray($[K]))$[K]=$[K].map(qJ1);else if(z!=null)throw z}}if(J)return $;return EQ.inspect($,!1,10,X).replace(/\n/g,"").replace(/\s{2,}/g," ")};/*!
 * Module dependencies.
 */var dY=XR(),CQ=r1(),PQ=mY().Collection,GJ1=B4(),rj=j8(),$J1=z4().internalToObjectOptions,WJ1=import.meta.require("stream"),EQ=import.meta.require("util");/*!
 * Inherit from abstract Collection.
 */Object.setPrototypeOf(l6.prototype,dY.prototype);l6.prototype.onOpen=function(){return this.collection=this.conn.db.collection(this.name),dY.prototype.onOpen.call(this),this.collection};l6.prototype.onClose=function(Z){dY.prototype.onClose.call(this,Z)};l6.prototype._getCollection=function Z(){if(this.collection)return this.collection;if(this.conn.db!=null)return this.collection=this.conn.db.collection(this.name),this.collection;return null};/*!
 * ignore
 */var dJ={watch:!0,find:!0,aggregate:!0};for(let Z of Object.getOwnPropertyNames(PQ.prototype)){if(Object.getOwnPropertyDescriptor(PQ.prototype,Z).get!==void 0)continue;if(typeof PQ.prototype[Z]!=="function")continue;HJ1(Z)}l6.prototype.$print=function(Z,J,X,Y,G){const $=Y?"\x1B[0;36mMongoose:\x1B[0m ":"Mongoose: ",W=[Z,J].join("."),H=[];for(let K=X.length-1;K>=0;--K)if(this.$format(X[K])||H.length)H.unshift(this.$format(X[K],Y,G));const q="("+H.join(", ")+")";console.info($+W+q)};l6.prototype.$printToStream=function(Z,J,X,Y){const G=[Z,J].join("."),$=[];for(let H=X.length-1;H>=0;--H)if(this.$format(X[H])||$.length)$.unshift(this.$format(X[H]));const W="("+$.join(", ")+")";Y.write(G+W,"utf8")};l6.prototype.$format=function(Z,J,X){const Y=typeof Z;if(Y==="function"||Y==="undefined")return"";return TQ(Z,!1,J,X)};l6.prototype.getIndexes=l6.prototype.indexInformation;/*!
 * Module exports.
 */tj.exports=l6});var jQ=R((uA1,JO)=>{/*!
 * Module dependencies.
 */var zJ1=import.meta.require("events").EventEmitter;/*!
 * ignore
 */var ej=["close","change","end","error","resumeTokenChanged"];/*!
 * ignore
 */class ZO extends zJ1{constructor(Z,J,X){super();if(this.driverChangeStream=null,this.closed=!1,this.bindedEvents=!1,this.pipeline=J,this.options=X,X&&X.hydrate&&!X.model)throw new Error("Cannot create change stream with `hydrate: true` unless calling `Model.watch()`");Z((Y,G)=>{if(Y!=null){this.emit("error",Y);return}this.driverChangeStream=G,this.emit("ready")})}_bindEvents(){if(this.bindedEvents)return;if(this.bindedEvents=!0,this.driverChangeStream==null){this.once("ready",()=>{this.driverChangeStream.on("close",()=>{this.closed=!0}),ej.forEach((Z)=>{this.driverChangeStream.on(Z,(J)=>{if(Z==="error"&&this.closed)return;if(J!=null&&J.fullDocument!=null&&this.options&&this.options.hydrate)J.fullDocument=this.options.model.hydrate(J.fullDocument);this.emit(Z,J)})})});return}this.driverChangeStream.on("close",()=>{this.closed=!0}),ej.forEach((Z)=>{this.driverChangeStream.on(Z,(J)=>{if(Z==="error"&&this.closed)return;if(J!=null&&J.fullDocument!=null&&this.options&&this.options.hydrate)J.fullDocument=this.options.model.hydrate(J.fullDocument);this.emit(Z,J)})})}hasNext(Z){return this.driverChangeStream.hasNext(Z)}next(Z){if(this.options&&this.options.hydrate){if(Z!=null){const X=Z;Z=(Y,G)=>{if(Y!=null)return X(Y);if(G.fullDocument!=null)G.fullDocument=this.options.model.hydrate(G.fullDocument);return X(null,G)}}let J=this.driverChangeStream.next(Z);if(J&&typeof J.then==="function")J=J.then((X)=>{if(X.fullDocument!=null)X.fullDocument=this.options.model.hydrate(X.fullDocument);return X});return J}return this.driverChangeStream.next(Z)}addListener(Z,J){return this._bindEvents(),super.addListener(Z,J)}on(Z,J){return this._bindEvents(),super.on(Z,J)}once(Z,J){return this._bindEvents(),super.once(Z,J)}_queue(Z){this.once("ready",()=>Z())}close(){if(this.closed=!0,this.driverChangeStream)this.driverChangeStream.close()}}/*!
 * ignore
 */JO.exports=ZO});var u9=R((mA1,GO)=>{var g1=function(){this._pres=new Map,this._posts=new Map},XO=function(Z,J,X,Y,G,$,W){if($.useErrorHandlers)return Z.execPost(X,Y,G,{error:J},function(H){return typeof W==="function"&&W(H)});else return typeof W==="function"&&W(J)},cY=function(Z,J,X,Y){let G;try{G=Z.apply(J,X)}catch($){return Y($)}if(lY(G))G.then(()=>Y(),($)=>Y($))},lY=function(Z){return typeof Z==="object"&&Z!==null&&typeof Z.then==="function"},cJ=function(Z){let J=!1;const X=this;return function(){if(J)return;return J=!0,lJ(()=>Z.apply(X,arguments))}},YO=function(Z,J){if(Z.errorHandler)return!0;return Z.fn.length===J+2};g1.skipWrappedFunction=function Z(){if(!(this instanceof g1.skipWrappedFunction))return new g1.skipWrappedFunction(...arguments);this.args=[...arguments]};g1.overwriteResult=function Z(){if(!(this instanceof g1.overwriteResult))return new g1.overwriteResult(...arguments);this.args=[...arguments]};g1.prototype.execPre=function(Z,J,X,Y){if(arguments.length===3)Y=X,X=[];const G=this._pres.get(Z)||[],$=G.length,W=G.numAsync||0;let H=0,q=W,K=!1;const Q=X;let z=null;if(!$)return lJ(function(){Y(null)});function F(){if(H>=$)return;const L=G[H];if(L.isAsync){const V=[cJ(U),cJ(function(w){if(w){if(K)return;if(w instanceof g1.skipWrappedFunction)z=w;else return K=!0,Y(w)}if(--q===0&&H>=$)return Y(z)})];cY(L.fn,J,V,V[0])}else if(L.fn.length>0){const V=[cJ(U)],w=arguments.length>=2?arguments:[null].concat(Q);for(let B=1;B<w.length;++B){if(B===w.length-1&&typeof w[B]==="function")continue;V.push(w[B])}cY(L.fn,J,V,V[0])}else{let V=null;try{V=L.fn.call(J)}catch(w){if(w!=null)return Y(w)}if(lY(V))V.then(()=>U(),(w)=>U(w));else{if(++H>=$)if(q>0)return;else return lJ(function(){Y(z)});F()}}}F.apply(null,[null].concat(X));function U(L){if(L){if(K)return;if(L instanceof g1.skipWrappedFunction)z=L;else return K=!0,Y(L)}if(++H>=$)if(q>0)return;else return Y(z);F.apply(J,arguments)}};g1.prototype.execPreSync=function(Z,J,X){const Y=this._pres.get(Z)||[],G=Y.length;for(let $=0;$<G;++$)Y[$].fn.apply(J,X||[])};g1.prototype.execPost=function(Z,J,X,Y,G){if(arguments.length<5)G=Y,Y=null;const $=this._posts.get(Z)||[],W=$.length;let H=0,q=null;if(Y&&Y.error)q=Y.error;if(!W)return lJ(function(){G.apply(null,[q].concat(X))});function K(){const Q=$[H].fn;let z=0;const F=X.length,U=[];for(let L=0;L<F;++L)if(z+=X[L]&&X[L]._kareemIgnore?0:1,!X[L]||!X[L]._kareemIgnore)U.push(X[L]);if(q)if(YO($[H],z)){const L=cJ(function(V){if(V){if(V instanceof g1.overwriteResult){if(X=V.args,++H>=W)return G.call(null,q);return K()}q=V}if(++H>=W)return G.call(null,q);K()});cY(Q,J,[q].concat(U).concat([L]),L)}else{if(++H>=W)return G.call(null,q);K()}else{const L=cJ(function(V){if(V){if(V instanceof g1.overwriteResult){if(X=V.args,++H>=W)return G.apply(null,[null].concat(X));return K()}return q=V,K()}if(++H>=W)return G.apply(null,[null].concat(X));K()});if(YO($[H],z)){if(++H>=W)return G.apply(null,[null].concat(X));return K()}if(Q.length===z+1)cY(Q,J,U.concat([L]),L);else{let V,w;try{w=Q.apply(J,U)}catch(B){V=B,q=B}if(lY(w))return w.then((B)=>{L(B instanceof g1.overwriteResult?B:null)},(B)=>L(B));if(w instanceof g1.overwriteResult)X=w.args;if(++H>=W)return G.apply(null,[V].concat(X));K()}}}K()};g1.prototype.execPostSync=function(Z,J,X){const Y=this._posts.get(Z)||[],G=Y.length;for(let $=0;$<G;++$){const W=Y[$].fn.apply(J,X||[]);if(W instanceof g1.overwriteResult)X=W.args}return X};g1.prototype.createWrapperSync=function(Z,J){const X=this;return function Y(){X.execPreSync(Z,this,arguments);const G=J.apply(this,arguments);return X.execPostSync(Z,this,[G])[0]}};g1.prototype.wrap=function(Z,J,X,Y,G){const $=Y.length>0?Y[Y.length-1]:null,W=Array.from(Y);typeof $==="function"&&W.pop();const H=this;G=G||{};const q=G.checkForPromise;this.execPre(Z,X,Y,function(K){if(K&&!(K instanceof g1.skipWrappedFunction)){const U=G.numCallbackParams||0,L=G.contextParameter?[X]:[];for(let V=L.length;V<U;++V)L.push(null);return XO(H,K,Z,X,L,G,$)}const Q=J.length;let z;if(K instanceof g1.skipWrappedFunction)return z=K.args[0],F(null,...K.args);else try{z=J.apply(X,W.concat(F))}catch(U){return F(U)}if(q){if(lY(z))return z.then((U)=>F(null,U),(U)=>F(U));if(Q<W.length+1)return F(null,z)}function F(){const U=Array.from(arguments);if(U.shift(),G.nullResultByDefault&&U.length===0)U.push(null);if(arguments[0])return XO(H,arguments[0],Z,X,U,G,$);else H.execPost(Z,X,U,function(){if($===null)return;arguments[0]?$(arguments[0]):$.apply(X,arguments)})}})};g1.prototype.filter=function(Z){const J=this.clone(),X=Array.from(J._pres.keys());for(let G of X){const $=this._pres.get(G).map((W)=>Object.assign({},W,{name:G})).filter(Z);if($.length===0){J._pres.delete(G);continue}$.numAsync=$.filter((W)=>W.isAsync).length,J._pres.set(G,$)}const Y=Array.from(J._posts.keys());for(let G of Y){const $=this._posts.get(G).map((W)=>Object.assign({},W,{name:G})).filter(Z);if($.length===0){J._posts.delete(G);continue}J._posts.set(G,$)}return J};g1.prototype.hasHooks=function(Z){return this._pres.has(Z)||this._posts.has(Z)};g1.prototype.createWrapper=function(Z,J,X,Y){const G=this;if(!this.hasHooks(Z))return function(){lJ(()=>J.apply(this,arguments))};return function(){const $=X||this;G.wrap(Z,J,$,Array.from(arguments),Y)}};g1.prototype.pre=function(Z,J,X,Y,G){let $={};if(typeof J==="object"&&J!==null)$=J,J=$.isAsync;else if(typeof arguments[1]!=="boolean")X=J,J=!1;const W=this._pres.get(Z)||[];if(this._pres.set(Z,W),J)W.numAsync=W.numAsync||0,++W.numAsync;if(typeof X!=="function")throw new Error('pre() requires a function, got "'+typeof X+'"');if(G)W.unshift(Object.assign({},$,{fn:X,isAsync:J}));else W.push(Object.assign({},$,{fn:X,isAsync:J}));return this};g1.prototype.post=function(Z,J,X,Y){const G=this._posts.get(Z)||[];if(typeof J==="function")Y=!!X,X=J,J={};if(typeof X!=="function")throw new Error('post() requires a function, got "'+typeof X+'"');if(Y)G.unshift(Object.assign({},J,{fn:X}));else G.push(Object.assign({},J,{fn:X}));return this._posts.set(Z,G),this};g1.prototype.clone=function(){const Z=new g1;for(let J of this._pres.keys()){const X=this._pres.get(J).slice();X.numAsync=this._pres.get(J).numAsync,Z._pres.set(J,X)}for(let J of this._posts.keys())Z._posts.set(J,this._posts.get(J).slice());return Z};g1.prototype.merge=function(Z,J){J=arguments.length===1?!0:J;const X=J?this.clone():this;for(let Y of Z._pres.keys()){const G=X._pres.get(Y)||[],$=Z._pres.get(Y).filter((H)=>G.map((q)=>q.fn).indexOf(H.fn)===-1),W=G.concat($);W.numAsync=G.numAsync||0,W.numAsync+=$.filter((H)=>H.isAsync).length,X._pres.set(Y,W)}for(let Y of Z._posts.keys()){const G=X._posts.get(Y)||[],$=Z._posts.get(Y).filter((W)=>G.indexOf(W)===-1);X._posts.set(Y,G.concat($))}return X};var lJ=typeof process==="object"&&process!==null&&process.nextTick||function Z(J){setTimeout(J,0)};GO.exports=g1});var HO=R(($O,WO)=>{var Z8=WO.exports=$O={};Z8.DocumentNotFoundError=null;Z8.general={};Z8.general.default="Validator failed for path `{PATH}` with value `{VALUE}`";Z8.general.required="Path `{PATH}` is required.";Z8.Number={};Z8.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).";Z8.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).";Z8.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";Z8.Date={};Z8.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).";Z8.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).";Z8.String={};Z8.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";Z8.String.match="Path `{PATH}` is invalid ({VALUE}).";Z8.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).";Z8.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."});var pY=R((dA1,KO)=>{/*!
 * Module dependencies.
 */var qO=h1(),FJ1=import.meta.require("util");class OQ extends qO{constructor(Z,J,X,Y){let G;const $=qO.messages;if($.DocumentNotFoundError!=null)G=typeof $.DocumentNotFoundError==="function"?$.DocumentNotFoundError(Z,J):$.DocumentNotFoundError;else G='No document found for query "'+FJ1.inspect(Z)+'" on model "'+J+'"';super(G);this.result=Y,this.numAffected=X,this.filter=Z,this.query=Z}}Object.defineProperty(OQ.prototype,"name",{value:"DocumentNotFoundError"});/*!
 * exports
 */KO.exports=OQ});var z8=R((cA1,FO)=>{var kQ=function(Z){let J=LJ1.inspect(Z);if(J=J.replace(/^'|'$/g,'"'),!J.startsWith('"'))J='"'+J+'"';return J},QO=function(Z){if(Z==null)return""+Z;const J=typeof Z;if(J!=="object")return J;if(typeof Z.constructor!=="function")return J;return Z.constructor.name},zO=function(Z){const J=Z&&Z._castErrorMessage||null;if(typeof J==="string"||typeof J==="function")return J},SQ=function(Z,J,X,Y,G,$,W){if(typeof G==="string"){const H=kQ(X);let q=G.replace("{KIND}",J).replace("{VALUE}",H).replace("{PATH}",Y);if(Z!=null)q=q.replace("{MODEL}",Z.modelName);return q}else if(typeof G==="function")return G(X,Y,Z,J);else{const H=kQ(X),q=$?" (type "+$+")":"";let K="Cast to "+J+" failed for value "+H+q+' at path "'+Y+'"';if(Z!=null)K+=' for model "'+Z.modelName+'"';if(W!=null&&typeof W.constructor==="function"&&W.constructor.name!=="AssertionError"&&W.constructor.name!=="Error")K+=' because of "'+W.constructor.name+'"';return K}};/*!
 * Module dependencies.
 */var UJ1=r1(),LJ1=import.meta.require("util");class _Q extends UJ1{constructor(Z,J,X,Y,G){if(arguments.length>0){const $=QO(J),W=zO(G),H=SQ(null,Z,J,X,W,$,Y);super(H);this.init(Z,J,X,Y,G)}else super(SQ())}toJSON(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}init(Z,J,X,Y,G){/*!
   * ignore
   */this.stringValue=kQ(J),this.messageFormat=zO(G),this.kind=Z,this.value=J,this.path=X,this.reason=Y,this.valueType=QO(J)}copy(Z){this.messageFormat=Z.messageFormat,this.stringValue=Z.stringValue,this.kind=Z.kind,this.value=Z.value,this.path=Z.path,this.reason=Z.reason,this.message=Z.message,this.valueType=Z.valueType}setModel(Z){/*!
   * ignore
   */this.model=Z,this.message=SQ(Z,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}Object.defineProperty(_Q.prototype,"name",{value:"CastError"});/*!
 * ignore
 *//*!
 * exports
 */FO.exports=_Q});var xQ=R((lA1,UO)=>{/*!
 * ignore
 */UO.exports=function Z(J){const X=Object.keys(J.errors||{}),Y=X.length,G=[];let $;for(let W=0;W<Y;++W){if($=X[W],J===J.errors[$])continue;G.push($+": "+J.errors[$].message)}return G.join(", ")}});var D5=R((pA1,RO)=>{/*!
 * Module requirements
 */var VJ1=r1(),RJ1=j8(),LO=import.meta.require("util"),VO=xQ();class I5 extends VJ1{constructor(Z){let J;if(RJ1(Z)==="model")J=Z.constructor.modelName+" validation failed";else J="Validation failed";super(J);if(this.errors={},this._message=J,Z)Z.$errors=this.errors}toString(){return this.name+": "+VO(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,J){if(J instanceof I5){const{errors:X}=J;for(let Y of Object.keys(X))this.addError(`${Z}.${Y}`,X[Y]);return}this.errors[Z]=J,this.message=this._message+": "+VO(this)}}if(LO.inspect.custom)I5.prototype[LO.inspect.custom]=I5.prototype.inspect;Object.defineProperty(I5.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(I5.prototype,"name",{value:"ValidationError"});/*!
 * Module exports
 */RO.exports=I5});var gQ=R((iA1,BO)=>{var AO=function(Z,J,X){if(typeof Z==="function")return Z(J,X);const Y=Object.keys(J);for(let G of Y){if(G==="message")continue;Z=Z.replace("{"+G.toUpperCase()+"}",J[G])}return Z};/*!
 * Module dependencies.
 */var wO=h1();class pJ extends wO{constructor(Z,J){let X=Z.message;if(!X)X=wO.messages.general.default;const Y=AO(X,Z,J);super(Y);Z=Object.assign({},Z,{message:Y}),this.properties=Z,this.kind=Z.type,this.path=Z.path,this.value=Z.value,this.reason=Z.reason}toString(){return this.message}toJSON(){return Object.assign({name:this.name,message:this.message},this)}}Object.defineProperty(pJ.prototype,"name",{value:"ValidatorError"});Object.defineProperty(pJ.prototype,"properties",{enumerable:!1,writable:!0,value:null});pJ.prototype.formatMessage=AO;/*!
 * exports
 */BO.exports=pJ});var yQ=R((nA1,MO)=>{/*!
 * Module dependencies.
 */var wJ1=h1();class fQ extends wJ1{constructor(Z,J,X){const Y=X.join(", ");super('No matching document found for id "'+Z._id+'" version '+J+' modifiedPaths "'+Y+'"');this.version=J,this.modifiedPaths=X}}Object.defineProperty(fQ.prototype,"name",{value:"VersionError"});/*!
 * exports
 */MO.exports=fQ});var vQ=R((aA1,NO)=>{/*!
 * Module dependencies.
 */var AJ1=h1();class bQ extends AJ1{constructor(Z){super("Can\'t save() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(bQ.prototype,"name",{value:"ParallelSaveError"});/*!
 * exports
 */NO.exports=bQ});var uQ=R((sA1,IO)=>{/*!
 * Module dependencies.
 */var BJ1=h1();class hQ extends BJ1{constructor(Z){super("Cannot overwrite `"+Z+"` model once compiled.")}}Object.defineProperty(hQ.prototype,"name",{value:"OverwriteModelError"});/*!
 * exports
 */IO.exports=hQ});var CO=R((rA1,DO)=>{/*!
 * Module dependencies.
 */var MJ1=h1();class mQ extends MJ1{constructor(Z){const J='Schema hasn\'t been registered for model "'+Z+'".\nUse mongoose.model(name, schema)';super(J)}}Object.defineProperty(mQ.prototype,"name",{value:"MissingSchemaError"});/*!
 * exports
 */DO.exports=mQ});var EO=R((tA1,PO)=>{var NJ1=j8();PO.exports=function Z(J){if(NJ1(J)!=="TopologyDescription")return!1;const X=Array.from(J.servers.values());return X.length>0&&X.every((Y)=>Y.type==="Unknown")}});var jO=R((oA1,TO)=>{var IJ1=j8();TO.exports=function Z(J){if(IJ1(J)!=="TopologyDescription")return!1;if(J.servers.size===0)return!1;for(let X of J.servers.values())if(X.host.endsWith(".mongodb.net")===!1||X.port!==27017)return!1;return!0}});var SO=R((eA1,OO)=>{var DJ1=j8(),CJ1="Client network socket disconnected before secure TLS connection was established";OO.exports=function Z(J){if(DJ1(J)!=="TopologyDescription")return!1;const X=Array.from(J.servers.values());return X.length>0&&X.every((Y)=>Y.error&&Y.error.message.indexOf(CJ1)!==-1)}});var cQ=R((ZB1,kO)=>{/*!
 * Module dependencies.
 */var PJ1=r1(),EJ1=EO(),TJ1=jO(),jJ1=SO();/*!
 * ignore
 */var OJ1="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you\'re trying to access the database from an IP that isn\'t whitelisted. Make sure your current IP address is on your Atlas cluster\'s IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/",SJ1="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html";class dQ extends PJ1{assimilateError(Z){const J=Z.reason;if(TJ1(J)&&EJ1(J)&&Z.message.indexOf("bad auth")===-1&&Z.message.indexOf("Authentication failed")===-1)this.message=OJ1;else if(jJ1(J))this.message=SJ1;else this.message=Z.message;for(let Y in Z)if(Y!=="name")this[Y]=Z[Y];return this}}Object.defineProperty(dQ.prototype,"name",{value:"MongooseServerSelectionError"});kO.exports=dQ});var pQ=R((JB1,_O)=>{/*!
 * Module dependencies.
 */var kJ1=h1();class lQ extends kJ1{constructor(Z){const J="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+Z.join("\n  ")+"\nUse Model.updateOne() to update these arrays instead.";super(J)}}Object.defineProperty(lQ.prototype,"name",{value:"DivergentArrayError"});/*!
 * exports
 */_O.exports=lQ});var E7=R((XB1,xO)=>{/*!
 * Module dependencies.
 */var _J1=h1();class iQ extends _J1{constructor(Z,J,X){J=J||"Field `"+Z+"` is not in schema and strict mode is set to throw.";super(J);this.isImmutableError=!!X,this.path=Z}}Object.defineProperty(iQ.prototype,"name",{value:"StrictModeError"});xO.exports=iQ});var aQ=R((YB1,gO)=>{/*!
 * Module dependencies.
 */var xJ1=h1();class nQ extends xJ1{constructor(Z,J){J=J||"Cannot populate path `"+Z+"` because it is not in your schema. Set the `strictPopulate` option to false to override.";super(J);this.path=Z}}Object.defineProperty(nQ.prototype,"name",{value:"StrictPopulateError"});gO.exports=nQ});var h1=R((fO,yO)=>{var J8=r1();/*!
 * Module exports.
 */yO.exports=fO=J8;J8.messages=HO();J8.Messages=J8.messages;J8.DocumentNotFoundError=pY();J8.CastError=z8();J8.ValidationError=D5();J8.ValidatorError=gQ();J8.VersionError=yQ();J8.ParallelSaveError=vQ();J8.OverwriteModelError=uQ();J8.MissingSchemaError=CO();J8.MongooseServerSelectionError=cQ();J8.DivergentArrayError=pQ();J8.StrictModeError=E7();J8.StrictPopulateError=aQ()});var A6=R((GB1,bO)=>{bO.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})});var s8=R(($B1,vO)=>{var gJ1=W0();class X8{constructor(Z){if(Z==null)return this;Object.assign(this,gJ1(Z))}}var O8=A6();Object.defineProperty(X8.prototype,"type",O8);Object.defineProperty(X8.prototype,"validate",O8);Object.defineProperty(X8.prototype,"cast",O8);Object.defineProperty(X8.prototype,"required",O8);Object.defineProperty(X8.prototype,"default",O8);Object.defineProperty(X8.prototype,"ref",O8);Object.defineProperty(X8.prototype,"refPath",O8);Object.defineProperty(X8.prototype,"select",O8);Object.defineProperty(X8.prototype,"index",O8);Object.defineProperty(X8.prototype,"unique",O8);Object.defineProperty(X8.prototype,"immutable",O8);Object.defineProperty(X8.prototype,"sparse",O8);Object.defineProperty(X8.prototype,"text",O8);Object.defineProperty(X8.prototype,"transform",O8);vO.exports=X8});var iY=R((WB1,m9)=>{var fJ1=z8();m9.exports=function Z(J,X){if(m9.exports.convertToTrue.has(J))return!0;if(m9.exports.convertToFalse.has(J))return!1;if(J==null)return J;throw new fJ1("boolean",J,X)};m9.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]);m9.exports.convertToFalse=new Set([!1,"false",0,"0","no"])});var nY=R((HB1,hO)=>{var yJ1=iY();/*!
 * ignore
 */hO.exports=function(Z){const J=this!=null?this.path:null;return yJ1(Z,J)}});var sQ=R((qB1,uO)=>{/*!
 * ignore
 */uO.exports=function(Z){if(Array.isArray(Z)){if(!Z.every((J)=>typeof J==="number"||typeof J==="string"))throw new Error("$type array values must be strings or numbers");return Z}if(typeof Z!=="number"&&typeof Z!=="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return Z}});var dO=R((KB1,mO)=>{var vJ1=function(Z,J){return function X(Y,G,$,W){if(this==null||this.$__==null)return Y;if(this.isNew)return Y;if(W&&W.overwriteImmutable)return Y;if(!(typeof J==="function"?J.call(this,this):J))return Y;const q=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(Z):this.$__getValue(Z);if(this.$__.strictMode==="throw"&&Y!==q)throw new bJ1(Z,"Path `"+Z+"` is immutable and strict mode is set to throw.",!0);return q}},bJ1=E7();/*!
 * ignore
 */mO.exports=function(Z){if(Z.$immutable)Z.$immutableSetter=vJ1(Z.path,Z.options.immutable),Z.set(Z.$immutableSetter);else if(Z.$immutableSetter)Z.setters=Z.setters.filter((J)=>J!==Z.$immutableSetter),delete Z.$immutableSetter}});var lO=R((QB1,cO)=>{cO.exports=function Z(J){return typeof J==="function"&&J.constructor&&J.constructor.name==="AsyncFunction"}});var iO=R((zB1,pO)=>{pO.exports=function Z(J){const X=Object.keys(J);let Y=!0;for(let G=0,$=X.length;G<$;++G)if(typeof J[X[G]]==="object"&&J[X[G]]!==null){Y=!1;break}return Y}});var aO=R((FB1,nO)=>{var mJ1=function(Z){if(Z=String(Z),Z.length>100)return;var J=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!J)return;var X=parseFloat(J[1]),Y=(J[2]||"ms").toLowerCase();switch(Y){case"years":case"year":case"yrs":case"yr":case"y":return X*uJ1;case"weeks":case"week":case"w":return X*hJ1;case"days":case"day":case"d":return X*C5;case"hours":case"hour":case"hrs":case"hr":case"h":return X*l9;case"minutes":case"minute":case"mins":case"min":case"m":return X*c9;case"seconds":case"second":case"secs":case"sec":case"s":return X*d9;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}},dJ1=function(Z){var J=Math.abs(Z);if(J>=C5)return Math.round(Z/C5)+"d";if(J>=l9)return Math.round(Z/l9)+"h";if(J>=c9)return Math.round(Z/c9)+"m";if(J>=d9)return Math.round(Z/d9)+"s";return Z+"ms"},cJ1=function(Z){var J=Math.abs(Z);if(J>=C5)return aY(Z,J,C5,"day");if(J>=l9)return aY(Z,J,l9,"hour");if(J>=c9)return aY(Z,J,c9,"minute");if(J>=d9)return aY(Z,J,d9,"second");return Z+" ms"},aY=function(Z,J,X,Y){var G=J>=X*1.5;return Math.round(Z/X)+" "+Y+(G?"s":"")},d9=1000,c9=d9*60,l9=c9*60,C5=l9*24,hJ1=C5*7,uJ1=C5*365.25;nO.exports=function(Z,J){J=J||{};var X=typeof Z;if(X==="string"&&Z.length>0)return mJ1(Z);else if(X==="number"&&isFinite(Z))return J.long?cJ1(Z):dJ1(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var rO=R((UB1,sO)=>{sO.exports=function Z(J){const X=[];let Y="",G="DEFAULT";for(let $=0;$<J.length;++$){if(G==="IN_SQUARE_BRACKETS"&&!/\d/.test(J[$])&&J[$]!=="]")G="DEFAULT",Y=X[X.length-1]+"["+Y,X.splice(X.length-1,1);if(J[$]==="["){if(G!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")X.push(Y),Y="";G="IN_SQUARE_BRACKETS"}else if(J[$]==="]")if(G==="IN_SQUARE_BRACKETS")G="IMMEDIATELY_AFTER_SQUARE_BRACKETS",X.push(Y),Y="";else G="DEFAULT",Y+=J[$];else if(J[$]==="."){if(G!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")X.push(Y),Y="";G="DEFAULT"}else Y+=J[$]}if(G!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")X.push(Y);return X}});var JS=R((lJ1)=>{var eO=function(Z,J,X,Y,G,$){for(var W,H=0;H<Z.length&&H<J.length;++H)if(W=Z[H],Array.isArray(W)&&Array.isArray(J[H]))eO(W,J[H],X,Y,G,$);else if(W)if(Y)Y(W,X,$(J[H]));else{if(W[G])W=W[G];W[X]=$(J[H])}},ZS=function(Z){return Z},iJ=rO(),oO=["__proto__","constructor","prototype"];lJ1.get=function(Z,J,X,Y){var G;if(typeof X=="function")if(X.length<2)Y=X,X=void 0;else G=X,X=void 0;Y||(Y=ZS);var $=typeof Z=="string"?iJ(Z):Z;if(!Array.isArray($))throw new TypeError("Invalid `path`. Must be either string or array");var W=J,H;for(var q=0;q<$.length;++q){if(H=$[q],typeof $[q]!=="string"&&typeof $[q]!=="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+typeof $[q]);if(Array.isArray(W)&&!/^\d+$/.test(H)){var K=$.slice(q);return[].concat(W).map(function(z){return z?lJ1.get(K,z,X||G,Y):Y(void 0)})}if(G)W=G(W,H);else{var Q=X&&W[X]?W[X]:W;W=Q instanceof Map?Q.get(H):Q[H]}if(!W)return Y(W)}return Y(W)};lJ1.has=function(Z,J){var X=typeof Z==="string"?iJ(Z):Z;if(!Array.isArray(X))throw new TypeError("Invalid `path`. Must be either string or array");var Y=X.length,G=J;for(var $=0;$<Y;++$){if(typeof X[$]!=="string"&&typeof X[$]!=="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+typeof X[$]);if(G==null||typeof G!=="object"||!(X[$]in G))return!1;G=G[X[$]]}return!0};lJ1.unset=function(Z,J){var X=typeof Z==="string"?iJ(Z):Z;if(!Array.isArray(X))throw new TypeError("Invalid `path`. Must be either string or array");var Y=X.length,G=J;for(var $=0;$<Y;++$){if(G==null||typeof G!=="object"||!(X[$]in G))return!1;if(typeof X[$]!=="string"&&typeof X[$]!=="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+typeof X[$]);if(oO.indexOf(X[$])!==-1)return!1;if($===Y-1)return delete G[X[$]],!0;G=G instanceof Map?G.get(X[$]):G[X[$]]}return!0};lJ1.set=function(Z,J,X,Y,G,$){var W;if(typeof Y=="function")if(Y.length<2)G=Y,Y=void 0;else W=Y,Y=void 0;G||(G=ZS);var H=typeof Z=="string"?iJ(Z):Z;if(!Array.isArray(H))throw new TypeError("Invalid `path`. Must be either string or array");if(X==null)return;for(var q=0;q<H.length;++q){if(typeof H[q]!=="string"&&typeof H[q]!=="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+typeof H[q]);if(oO.indexOf(H[q])!==-1)return}var K=$||/\$/.test(Z)&&$!==!1,Q=X,z;for(var q=0,F=H.length-1;q<F;++q){if(z=H[q],z=="$")if(q==F-1)break;else continue;if(Array.isArray(Q)&&!/^\d+$/.test(z)){var U=H.slice(q);if(!K&&Array.isArray(J))for(var L=0;L<Q.length&&L<J.length;++L)lJ1.set(U,J[L],Q[L],Y||W,G,K);else for(var L=0;L<Q.length;++L)lJ1.set(U,J,Q[L],Y||W,G,K);return}if(W)Q=W(Q,z);else{var V=Y&&Q[Y]?Q[Y]:Q;Q=V instanceof Map?V.get(z):V[z]}if(!Q)return}if(z=H[F],Y&&Q[Y])Q=Q[Y];if(Array.isArray(Q)&&!/^\d+$/.test(z))if(!K&&Array.isArray(J))eO(Q,J,z,W,Y,G);else for(var L=0;L<Q.length;++L){var w=Q[L];if(w)if(W)W(w,z,G(J));else{if(w[Y])w=w[Y];w[z]=G(J)}}else if(W)W(Q,z,G(J));else if(Q instanceof Map)Q.set(z,G(J));else Q[z]=G(J)};/*!
 * Split a string path into components delimited by '.' or
 * '[\d+]'
 *
 * #### Example:
 *     stringToParts('foo[0].bar.1'); // ['foo', '0', 'bar', '1']
 */lJ1.stringToParts=iJ;/*!
 * Recursively set nested arrays
 *//*!
 * Returns the value passed to it.
 */});var p6=R((XS,YS)=>{YS.exports=XS=JS()});var WS=R((VB1,$S)=>{var aJ1=W0();class GS{constructor(Z){if(this._docs={},this._childDocs=[],Z==null)return;if(Z=aJ1(Z),Object.assign(this,Z),typeof Z.subPopulate==="object")this.populate=Z.subPopulate;if(Z.perDocumentLimit!=null&&Z.limit!=null)throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+Z.path+"`.")}}$S.exports=GS});var HS=R((sJ1)=>{sJ1.isMongooseDocumentArray=function(Z){return Array.isArray(Z)&&Z.isMongooseDocumentArray}});var sY=R((wB1,qS)=>{var tJ1=h8(),p9=Symbol("mongoose#emitted");qS.exports=function Z(J,X,Y,G){if(typeof J==="function")try{return X(function($){if($!=null){if(Y!=null&&Y.listeners!=null&&Y.listeners("error").length>0&&!$[p9])$[p9]=!0,Y.emit("error",$);try{J($)}catch(W){return tJ1(()=>{throw W})}return}J.apply(this,arguments)})}catch($){if(Y!=null&&Y.listeners!=null&&Y.listeners("error").length>0&&!$[p9])$[p9]=!0,Y.emit("error",$);return J($)}return G=G||global.Promise,new G(($,W)=>{X(function(H,q){if(H!=null){if(Y!=null&&Y.listeners!=null&&Y.listeners("error").length>0&&!H[p9])H[p9]=!0,Y.emit("error",H);return W(H)}if(arguments.length>2)return $(Array.prototype.slice.call(arguments,1));$(q)})})}});var rY=R((AB1,KS)=>{KS.exports=function Z(J,X,Y){const G=Object.keys(X.tree),$={};for(let W of G){if(Y&&(J.paths[W]||J.nested[W]||J.singleNestedPaths[W]))continue;$[W]=X.tree[W]}J.options._isMerging=!0,J.add($,null),delete J.options._isMerging,J.callQueue=J.callQueue.concat(X.callQueue),J.method(X.methods),J.static(X.statics);for(let[W,H]of Object.entries(X._userProvidedOptions))if(!(W in J._userProvidedOptions))J.set(W,H);for(let W in X.query)J.query[W]=X.query[W];for(let W in X.virtuals)J.virtuals[W]=X.virtuals[W].clone();J._indexes=J._indexes.concat(X._indexes||[]),J.s.hooks.merge(X.s.hooks,!1)}});var FS=R((QS,zS)=>{/*!
 * Module dependencies.
 */var BB1=X1(),i6=zS.exports=QS=function Z(){};i6.ctor=function(){const Z=[...arguments],J=function(){i6.apply(this,arguments),this.paths={},this.states={}};return J.prototype=new i6,J.prototype.stateNames=Z,Z.forEach(function(X){J.prototype[X]=function(Y){this._changeState(Y,X)}}),J};i6.prototype._changeState=function Z(J,X){const Y=this.paths[J];if(Y===X)return;const G=this.states[Y];if(G)delete G[J];this.paths[J]=X,this.states[X]=this.states[X]||{},this.states[X][J]=!0};/*!
 * ignore
 */i6.prototype.clear=function Z(J){if(this.states[J]==null)return;const X=Object.keys(this.states[J]);let Y=X.length,G;while(Y--)G=X[Y],delete this.states[J][G],delete this.paths[G]};/*!
 * ignore
 */i6.prototype.clearPath=function Z(J){const X=this.paths[J];if(!X)return;delete this.paths[J],delete this.states[X][J]};i6.prototype.getStatePaths=function Z(J){if(this.states[J]!=null)return this.states[J];return{}};i6.prototype.some=function Z(){const J=this,X=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(X,function(Y){if(J.states[Y]==null)return!1;return Object.keys(J.states[Y]).length})};i6.prototype._iter=function Z(J){return function(){let X=[...arguments];const Y=X.pop();if(!X.length)X=this.stateNames;const G=this;return X.reduce(function(W,H){if(G.states[H]==null)return W;return W.concat(Object.keys(G.states[H]))},[])[J](function(W,H,q){return Y(W,H,q)})}};i6.prototype.forEach=function Z(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)};i6.prototype.map=function Z(){return this.map=this._iter("map"),this.map.apply(this,arguments)}});var VS=R((US,LS)=>{var q0=function(){this.activePaths=new eJ1};/*!
 * Dependencies
 */var oJ1=FS(),eJ1=oJ1.ctor("require","modify","init","default","ignore");LS.exports=US=q0;q0.prototype.strictMode=!0;q0.prototype.fullPath=void 0;q0.prototype.selected=void 0;q0.prototype.shardval=void 0;q0.prototype.saveError=void 0;q0.prototype.validationError=void 0;q0.prototype.adhocPaths=void 0;q0.prototype.removing=void 0;q0.prototype.inserting=void 0;q0.prototype.saving=void 0;q0.prototype.version=void 0;q0.prototype._id=void 0;q0.prototype.ownerDocument=void 0;q0.prototype.populate=void 0;q0.prototype.populated=void 0;q0.prototype.primitiveAtomics=void 0;q0.prototype.wasPopulated=!1;q0.prototype.scope=void 0;q0.prototype.session=null;q0.prototype.pathsToScopes=null;q0.prototype.cachedRequired=null});var P5=R((Z31)=>{Z31.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed");Z31.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")});var E5=R((NB1,RS)=>{var n6=function(Z,J){if(J&&J.default){const X=J.default;if(Array.isArray(X)&&X.length===0)J.default=Array;else if(!J.shared&&G31(X)&&Object.keys(X).length===0)J.default=function(){return{}}}tY.call(this,Z,J,"Mixed"),this[Y31.schemaMixedSymbol]=!0};/*!
 * Module dependencies.
 */var tY=S0(),Y31=P5(),G31=e4(),$31=X1();n6.schemaName="Mixed";n6.defaultOptions={};/*!
 * Inherits from SchemaType.
 */n6.prototype=Object.create(tY.prototype);n6.prototype.constructor=n6;n6.get=tY.get;n6.set=tY.set;n6.setters=[];n6.prototype.cast=function(Z){if(Z instanceof Error)return $31.errorToPOJO(Z);return Z};n6.prototype.castForQuery=function(Z,J){return J};/*!
 * Module exports.
 */RS.exports=n6});var oQ=R((IB1,wS)=>{/*!
 * Module dependencies.
 */var W31=h1();class tQ extends W31{constructor(Z,J){const X=Array.isArray(J)?"array":"primitive value";super("Tried to set nested object field `"+Z+`\` to ${X} \``+J+"`");this.path=Z}}Object.defineProperty(tQ.prototype,"name",{value:"ObjectExpectedError"});wS.exports=tQ});var Zz=R((DB1,AS)=>{/*!
 * Module dependencies.
 */var H31=h1();class eQ extends H31{constructor(Z,J,X){super('Parameter "'+J+'" to '+X+'() must be an object, got "'+Z.toString()+'" (type '+typeof Z+")")}}Object.defineProperty(eQ.prototype,"name",{value:"ObjectParameterError"});AS.exports=eQ});var MS=R((CB1,BS)=>{/*!
 * Module dependencies.
 */var q31=r1();class Jz extends q31{constructor(Z){super("Can\'t validate() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(Jz.prototype,"name",{value:"ParallelValidateError"});/*!
 * exports
 */BS.exports=Jz});var Xz=R((PB1,NS)=>{NS.exports=function Z(J){const X={},Y=Object.keys(J);for(let G of Y){if(G.indexOf(".")===-1){X[G]=1;continue}const $=G.split(".");let W=$[0];for(let H=0;H<$.length;++H)if(X[W]=1,H+1<$.length)W=W+"."+$[H+1]}return X}});var oY=R((EB1,IS)=>{var Yz=function(Z,J){if(Z.$__.activePaths.default(J),Z.$isSubdocument&&Z.$isSingleNested&&Z.$parent()!=null)Z.$parent().$__.activePaths.default(Z.$__pathRelativeToParent(J))};IS.exports=function Z(J,X,Y,G,$,W){const H=Object.keys(J.$__schema.paths),q=H.length;for(let K=0;K<q;++K){let Q,z="";const F=H[K];if(F==="_id"&&J.$__.skipId)continue;const U=J.$__schema.paths[F],L=U.splitPath(),V=L.length;let w=!1,B=J._doc;for(let M=0;M<V;++M){if(B==null)break;const A=L[M];if(z+=(!z.length?"":".")+A,Y===!0){if(z in X)break}else if(Y===!1&&X&&!w){const I=U.$isSingleNested||U.$isMongooseDocumentArray;if(z in X||M===V-1&&I&&G!=null&&G[z])w=!0;else if(G!=null&&!G[z])break}if(M===V-1){if(B[A]!==void 0)break;if($!=null){if(typeof U.defaultValue==="function"){if(!U.defaultValue.$runBeforeSetters&&$)break;if(U.defaultValue.$runBeforeSetters&&!$)break}else if(!$)continue}if(W&&W[z])break;if(X&&Y!==null){if(Y===!0){if(F in X)continue;try{Q=U.getDefault(J,!1)}catch(I){J.invalidate(F,I);break}if(typeof Q!=="undefined")B[A]=Q,Yz(J,F)}else if(w){try{Q=U.getDefault(J,!1)}catch(I){J.invalidate(F,I);break}if(typeof Q!=="undefined")B[A]=Q,Yz(J,F)}}else{try{Q=U.getDefault(J,!1)}catch(I){J.invalidate(F,I);break}if(typeof Q!=="undefined")B[A]=Q,Yz(J,F)}}else B=B[A]}}};/*!
 * ignore
 */});var Gz=R((TB1,DS)=>{/*!
 * ignore
 */DS.exports=function Z(J,X,Y){Y=Y||{};const G=Y.skipDocArrays;let $=0;if(!J)return $;for(let W of Object.keys(J.$__.activePaths.getStatePaths("modify"))){if(G){const H=J.$__schema.path(W);if(H&&H.$isMongooseDocumentArray)continue}if(W.startsWith(X+".")){if(J.$__.activePaths.clearPath(W),++$,J.$isSubdocument){const H=J.ownerDocument(),q=J.$__fullPath(W);H.$__.activePaths.clearPath(q)}}}return $}});var ZG=R((w31)=>{var PS=function(Z,J,X,Y){i9=i9||S8();const G=Y.typeKey;for(let $ of Object.keys(Z)){const W=Z[$],q=CS(W)&&Object.keys(W).length>0&&(!W[G]||G==="type"&&CS(W.type)&&W.type.type)?W:null;ES({prop:$,subprops:q,prototype:J,prefix:X,options:Y})}},ES=function({prop:Z,subprops:J,prototype:X,prefix:Y,options:G}){i9=i9||S8();const $=(Y?Y+".":"")+Z;Y=Y||"";const W=Y?Object.freeze({}):V31;if(J)Object.defineProperty(X,Z,{enumerable:!0,configurable:!0,get:function(){const H=this;if(!this.$__.getters)this.$__.getters={};if(!this.$__.getters[$]){const q=Object.create(i9.prototype,R31(this));if(!Y)q.$__[eY]=this;q.$__.nestedPath=$,Object.defineProperty(q,"schema",{enumerable:!1,configurable:!0,writable:!1,value:X.schema}),Object.defineProperty(q,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:X.schema}),Object.defineProperty(q,Q31,{enumerable:!1,configurable:!0,writable:!1,value:X.schema}),Object.defineProperty(q,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return K31(H.get($,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(q,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return H.get($,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(q,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return H.get($,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(q,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(q,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get($,null,L31)||{}).length===0}}),Object.defineProperty(q,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),PS(J,q,$,G),this.$__.getters[$]=q}return this.$__.getters[$]},set:function(H){if(H!=null&&H.$__isNested)H=H.$__get();else if(H instanceof i9&&!H.$__isNested)H=H.$toObject(z31);(this.$__[eY]||this).$set($,H)}});else Object.defineProperty(X,Z,{enumerable:!0,configurable:!0,get:function(){return this[U31].call(this.$__[eY]||this,$,null,W)},set:function(H){this.$set.call(this.$__[eY]||this,$,H)}})},R31=function(Z){const J={};return Object.getOwnPropertyNames(Z).forEach(function(X){if(["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(X)===-1)return;J[X]=Object.getOwnPropertyDescriptor(Z,X),J[X].enumerable=!1}),J},K31=W0(),Q31=t().documentSchemaSymbol,z31=z4().internalToObjectOptions,F31=X1(),i9,U31=t().getSymbol,eY=t().scopeSymbol,CS=F31.isPOJO;/*!
 * exports
 */w31.compile=PS;w31.defineKey=ES;var L31=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),V31=Object.freeze({noDottedPath:!0})});var n9=R((D31)=>{var OS=function(Z,J,X,Y){let G;if(Z&&jS(Z)&&!Buffer.isBuffer(Z))G=Object.keys(Z.toObject({transform:!1,virtuals:!1})||{});else G=Object.keys(Z||{});const $=G.length,W={};J=J?J+".":"";for(let H=0;H<$;++H){const q=G[H],K=Z[q];W[J+q]=K;const Q=Y&&Y.path&&Y.path(J+q),z=Y&&Y.nested&&Y.nested[J+q];if(Q&&Q.instance==="Mixed")continue;if(kS(K)){if(X&&X.skipArrays&&Array.isArray(K))continue;const F=OS(K,J+q,X,Y);for(let U in F)W[U]=F[U];if(Array.isArray(K))W[J+q]=K}if(z){const F=Object.keys(Y.paths);for(let U of F)if(U.startsWith(J+q+".")&&!W.hasOwnProperty(U))W[U]=void 0}}return W},SS=function(Z,J,X,Y=null){if(Z==null||typeof Z!=="object")return;if(Y==null)Y={raw:{update:Z,path:J},trace:new WeakSet};if(Y.trace.has(Z))throw new N31(`a circular reference in the update value, updateValue:
${I31.inspect(Y.raw.update,{showHidden:!1,depth:1})}
updatePath: '${Y.raw.path}'`);Y.trace.add(Z);const G=Object.keys(Z||{}),$=G.length;X=X||{},J=J?J+".":"";for(let W=0;W<$;++W){const H=G[W];let q=Z[H];const K=J+H;if(X[K]=!0,!Buffer.isBuffer(q)&&jS(q))q=q.toObject({transform:!1,virtuals:!1});if(kS(q))SS(q,J+H,X,Y)}return Y.trace.delete(Z),X},kS=function(Z){return Z&&typeof Z==="object"&&!(Z instanceof Date)&&!TS(Z,"ObjectId")&&(!Array.isArray(Z)||Z.length!==0)&&!(Z instanceof Buffer)&&!TS(Z,"Decimal128")&&!(Z instanceof M31)};/*!
 * Module dependencies.
 */var M31=X6().Binary,TS=B8(),jS=OZ(),N31=h1(),I31=import.meta.require("util");D31.flatten=OS;D31.modifiedPaths=SS;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var Z0=R((SB1,_S)=>{var $z=function(Z,J){if(Z==null)return Z;if(Z instanceof Map)return Z.get(J);return Z[J]};_S.exports=function Z(J,X,Y){let G,$=!1;if(typeof X==="string"){if(X.indexOf(".")===-1){const q=$z(J,X);if(q==null)return Y;return q}G=X.split(".")}else if($=!0,G=X,G.length===1){const q=$z(J,G[0]);if(q==null)return Y;return q}let W=X,H=J;for(let q of G){if(H==null)return Y;if(!$&&H[W]!=null)return H[W];if(H=$z(H,q),!$)W=W.substr(q.length+1)}return H==null?Y:H}});var Wz=R((kB1,gS)=>{var xS=B8();gS.exports=function Z(J,X){if(typeof J==="string"&&typeof X==="string")return J===X;if(typeof J==="number"&&typeof X==="number")return J===X;if(xS(J,"ObjectId")&&xS(X,"ObjectId"))return J.toString()===X.toString();return!1}});var JG=R((_B1,fS)=>{var E31=Wz();fS.exports=function Z(J,X){if(J==null||J.discriminators==null)return null;for(let Y of Object.keys(J.discriminators)){const G=J.discriminators[Y];if(G.discriminatorMapping==null)continue;if(E31(G.discriminatorMapping.value,X))return G}return null}});var bS=R((xB1,yS)=>{var T31=Z0(),j31=JG();yS.exports=function Z(J,X,Y){Y=Y||{};const G=Y.typeOnly,$=Array.isArray(X)?X:X.indexOf(".")===-1?[X]:X.split(".");let W=null,H="adhocOrUndefined";const q=j31(J.schema,J.get(J.schema.options.discriminatorKey))||J.schema;for(let K=0;K<$.length;++K){const Q=$.slice(0,K+1).join(".");if(W=q.path(Q),W==null){H="adhocOrUndefined";continue}if(W.instance==="Mixed")return G?"real":W;if(H=q.pathType(Q),(W.$isSingleNested||W.$isMongooseDocumentArrayElement)&&W.schema.discriminators!=null){const z=W.schema.discriminators,F=J.get(Q+"."+T31(W,"schema.options.discriminatorKey"));if(F==null||z[F]==null)continue;const U=$.slice(K+1).join(".");return Z(J.get(Q),U,Y)}}return G?H:W}});var hS=R((gB1,vS)=>{var O31=Z0();vS.exports=function Z(J,X,Y){const G=Y!=null?Object.keys(O31(J.tree,Y,{})):Object.keys(J.tree),$=new Set(Object.keys(X));let W;if($.size>1){W=new Set;for(let H of G)if($.has(H))W.add(H);for(let H of $)if(!W.has(H))W.add(H);W=Array.from(W)}else W=Array.from($);return W}});var mS=R((fB1,uS)=>{uS.exports=function Z(J,X){if(X.length===1)return;let Y=X[0],G=void 0;for(let $=0;$<X.length-1;++$){const W=J.path(Y);if(W&&W.schema)G=W.schema.options.strict,J=W.schema,Y=W.$isMongooseDocumentArray&&!isNaN(X[$+1])?"":X[$+1];else Y+=Y.length?"."+X[$+1]:X[$+1]}return G}});var XG=R((yB1,dS)=>{var S31=X1(),k31=new Set(["__index","__parentArray","_doc"]);dS.exports=function Z(J,X){if(S31.isPOJO(J)&&J.$__!=null&&J._doc!=null){if(X){const Y={};for(let G of Object.keys(J)){if(typeof G==="symbol")continue;if(G[0]==="$")continue;if(k31.has(G))continue;Y[G]=J[G]}return{...J._doc,...Y}}return J._doc}return J}});var a9=R((bB1,cS)=>{/*!
 * ignore
 */cS.exports=function Z(J){if(J==null)return!0;if(typeof J==="object")return!("$meta"in J)&&!("$slice"in J);return!0}});var s9=R((vB1,lS)=>{var _31=a9();/*!
 * ignore
 */lS.exports=function Z(J){if(J==null)return null;const X=Object.keys(J);let Y=X.length,G=null;if(Y===1&&X[0]==="_id")G=!J._id;else while(Y--){const $=X[Y];if($!=="_id"&&_31(J[$])){G=J[$]!=null&&typeof J[$]==="object"?Z(J[$]):!J[$];break}}return G}});var Hz=R((hB1,pS)=>{var x31=X1();pS.exports=function Z(J,X){if(J._id==null||X==null||X.length===0)return;const Y=String(J._id);for(let G of X){if(G.isVirtual)continue;const W=G.path.split(".");for(let H=0;H<W.length-1;++H){const q=W.slice(0,H+1).join("."),K=W.slice(H+1).join("."),Q=J.get(q);if(Q==null)continue;if(x31.isMongooseDocumentArray(Q)){for(let z=0;z<Q.length;++z)if(Q[z])Q[z].populated(K,G._docs[Y]==null?void 0:G._docs[Y][z],G);break}}}}});var qz=R((uB1,nS)=>{var iS=function(Z){const J=Object.keys(Z);let X=J.length,Y,G,$;while(X--){if(G=J[X],$=Z[G],g31($))Z[G]=iS($);if(Z[G]===void 0){delete Z[G];continue}Y=!0}return Y?Z:void 0},{isPOJO:g31}=X1();nS.exports=iS});var sS=R((mB1,aS)=>{aS.exports=function Z(J,X,Y,G,$){const W=Object.keys(J).reduce((q,K)=>q||K.startsWith(X+"."),!1),H=X+"."+Y.options.discriminatorKey;if(!W&&$.length===1&&$[0]===H)G.splice(G.indexOf(H),1)}});var a6=R((dB1,rS)=>{var f31=Wz();rS.exports=function Z(J,X){if(J==null)return null;for(let Y of Object.keys(J)){const G=J[Y];if(G.schema&&G.schema.discriminatorMapping&&f31(G.schema.discriminatorMapping.value,X))return G}return null}});var YG=R((cB1,tS)=>{/*!
 * ignore
 */tS.exports=function Z(J,X){const Y=X.split(".");let G="",$,W,H;for(let q=0;q<Y.length;++q)if(G+=G.length?".":""+Y[q],J[G]){W=Object.keys(J),H=W.length;for($=0;$<H;++$)if(W[q].indexOf(G+".")===0&&W[q].indexOf(X)!==0)continue;return!0}return!1}});var r9=R((m31)=>{var eS=function(Z){return function(J){if(J.options||(J.options={}),Z!=null&&Array.isArray(Z.virtuals))Z=Object.assign({},Z),Z.virtuals=Z.virtuals.filter((X)=>typeof X==="string"&&X.startsWith(J.path+".")).map((X)=>X.slice(J.path.length+1));J.options.lean=Z}};/*!
 * Module dependencies
 */var y31=sS(),oS=Z0(),b31=a6(),v31=a9(),h31=W0(),u31=YG();m31.preparePopulationOptions=function Z(J,X){const Y=J.options.populate,G=Object.keys(Y).reduce(($,W)=>$.concat([Y[W]]),[]);if(X.lean!=null)G.filter(($)=>($&&$.options&&$.options.lean)==null).forEach(eS(X.lean));return G.forEach(($)=>{$._localModel=J.model}),G};m31.preparePopulationOptionsMQ=function Z(J,X){const Y=J._mongooseOptions.populate,G=Object.keys(Y).reduce((H,q)=>H.concat([Y[q]]),[]);if(X.lean!=null)G.filter((H)=>(H&&H.options&&H.options.lean)==null).forEach(eS(X.lean));const $=J&&J.options&&J.options.session||null;if($!=null)G.forEach((H)=>{if(H.options==null){H.options={session:$};return}if(!("session"in H.options))H.options.session=$});const W=J._fieldsForExec();return G.forEach((H)=>{H._queryProjection=W}),G.forEach((H)=>{H._localModel=J.model}),G};m31.createModel=function Z(J,X,Y,G,$){J.hooks.execPreSync("createModel",X);const W=J.schema?J.schema.discriminatorMapping:null,H=W&&W.isRoot?W.key:null,q=X[H];if(H&&q&&J.discriminators){const Q=J.discriminators[q]||b31(J.discriminators,q);if(Q){const z=h31(G);return m31.applyPaths(z,Q.schema),new Q(void 0,z,!0)}}const K={skipId:!0,isNew:!1,willInit:!0};if($!=null&&"defaults"in $)K.defaults=$.defaults;return new J(void 0,Y,K)};/*!
 * ignore
 */m31.createModelAndInit=function Z(J,X,Y,G,$,W,H){const q=W?{populated:W}:void 0,K=m31.createModel(J,X,Y,G,$);try{K.$init(X,q,H)}catch(Q){H(Q,K)}};/*!
 * ignore
 */m31.applyPaths=function Z(J,X){let Y,G;const $=new Set;if(J){G=Object.keys(J);const z=[];for(let F=0;F<G.length;++F){const U=G[F];if(G[F][0]!=="-")continue;if(delete J[U],U==="-_id")J._id=0;else z.push(U.slice(1))}G=Object.keys(J);for(let F=0;F<G.length;++F){if(G[F][0]==="+")continue;const U=J[G[F]];if(!v31(U))continue;if(G[F]==="_id"&&G.length>1)continue;Y=!U;break}for(let F of z){const U=X.path(F);if(!U||!U.selected||Y!==!1)J[F]=0,Y=!0;else if(U&&U.selected&&Y===!1)$.add(F)}}const W=[],H=[],q=[];switch(K(X),Y){case!0:for(let z of H)J[z]=0;break;case!1:if(X&&X.paths._id&&X.paths._id.options&&X.paths._id.options.select===!1)J._id=0;for(let z of W){if($.has(z))continue;if(u31(J,z))continue;J[z]=J[z]||1}break;case void 0:if(J==null)break;for(let z of Object.keys(J||{}))if(z.startsWith("+"))delete J[z];for(let z of H){if(J[z]!=null)continue;J[z]=0}break}function K(z,F){if(F||(F=""),q.indexOf(z)!==-1)return[];q.push(z);const U=[];return z.eachPath(function(L,V){if(F)L=F+"."+L;if(V.$isSchemaMap||L.endsWith(".$*")){const B="+"+L,M=J&&B in J;if(V.options&&V.options.select===!1&&!M)H.push(L);return}let w=Q(L,V);if(w==null&&!Array.isArray(V)&&V.$isMongooseArray&&!V.$isMongooseDocumentArray)w=Q(L,V.caster);if(w!=null)U.push(w);if(V.schema){const B=K(V.schema,L);if(Y===!1)y31(J,L,V.schema,W,B)}}),q.pop(),U}function Q(z,F){if(J==null)return;if(typeof F.selected!=="boolean")return;if(F.selected===!1&&J[z])return;if(!Y&&F.selected&&z===X.options.discriminatorKey&&J[z]!=null&&!J[z]){delete J[z];return}if(Y===!1&&F.selected&&J[z]!=null&&!J[z]){delete J[z];return}const U="+"+z;if(J&&U in J){if(delete J[U],Y===!1&&G.length>1&&!~G.indexOf(z))J[z]=1;return}const V=z.split(".");let w="";for(let B=0;B<V.length;++B)if(w+=w.length?"."+V[B]:V[B],H.indexOf(w)!==-1)return;if(!Y&&(F&&F.options&&F.options.$skipDiscriminatorCheck||!1)){let B="";for(let M=0;M<V.length;++M){B+=(B.length===0?"":".")+V[M];const A=oS(J,B,!1)||oS(J,B+".$",!1);if(A&&typeof A!=="object")return}}return(F.selected?W:H).push(z),z}}});var Xk=R((pB1,Jk)=>{var i31=function(Z){return!!Z&&(typeof Z==="object"||typeof Z==="function")&&typeof Z.then==="function"};Jk.exports=i31});var GG=R((iB1,Yk)=>{var n31=/\./g;Yk.exports=function Z(J){if(J.indexOf(".")===-1)return[J];const X=J.split(n31),Y=X.length,G=new Array(Y);let $="";for(let W=0;W<Y;++W)$+=$.length!==0?"."+X[W]:X[W],G[W]=$;return G}});var $k=R((nB1,Gk)=>{Gk.exports=function Z(J,X,Y){let G=X[0],$=Y,W=J;for(let H=0;H<X.length-1;++H){const q=$.path(G);if(q&&q.schema){let K=W.get(G);if($=q.schema,G=X[H+1],Array.isArray(K)&&!isNaN(G))K=K[G],G="";if(K==null)break;W=K}else G+=G.length?"."+X[H+1]:X[H+1]}return W}});var $G=R((aB1,Hk)=>{var d1=function(Z,J,X,Y,G){if(typeof Y==="object"&&Y!=null&&G==null)G=Y,Y=void 0;if(X!=null){const $={isNew:X.isNew};if("defaults"in X.$__)$.defaults=X.$__.defaults;G=Object.assign($,G)}if(G!=null&&G.path!=null)this.$basePath=G.path;T7.call(this,Z,J,Y,G),delete this.$__.priorDoc},t31=function(Z){let J=Z.ownerDocument();function X(){J.$removeListener("save",X),J.$removeListener("deleteOne",X),Z.emit("deleteOne",Z),Z.constructor.emit("deleteOne",Z),J=Z=null}J.$on("save",X),J.$on("deleteOne",X)},T7=S8(),a31=h8(),s31=z4().internalToObjectOptions,Wk=import.meta.require("util"),r31=X1();Hk.exports=d1;d1.prototype=Object.create(T7.prototype);Object.defineProperty(d1.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0});Object.defineProperty(d1.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0});/*!
 * ignore
 */d1.prototype.toBSON=function(){return this.toObject(s31)};d1.prototype.save=async function Z(J){if(J=J||{},!J.suppressWarning)r31.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you\'re sure this behavior is right for your app.");return new Promise((X,Y)=>{this.$__save((G)=>{if(G!=null)return Y(G);X(this)})})};d1.prototype.$__fullPath=function(Z){if(!this.$__.fullPath)this.ownerDocument();return Z?this.$__.fullPath+"."+Z:this.$__.fullPath};d1.prototype.$__pathRelativeToParent=function(Z){if(Z==null)return this.$basePath;return[this.$basePath,Z].join(".")};d1.prototype.$__save=function(Z){return a31(()=>Z(null,this))};/*!
 * ignore
 */d1.prototype.$isValid=function(Z){const J=this.$parent(),X=this.$__pathRelativeToParent(Z);if(J!=null&&X!=null)return J.$isValid(X);return T7.prototype.$isValid.call(this,Z)};/*!
 * ignore
 */d1.prototype.markModified=function(Z){T7.prototype.markModified.call(this,Z);const J=this.$parent(),X=this.$__pathRelativeToParent(Z);if(J==null||X==null)return;const Y=this.$__pathRelativeToParent().replace(/\.$/,"");if(J.isDirectModified(Y)||this.isNew)return;this.$__parent.markModified(X,this)};/*!
 * ignore
 */d1.prototype.isModified=function(Z,J){const X=this.$parent();if(X!=null){if(Array.isArray(Z)||typeof Z==="string")Z=Array.isArray(Z)?Z:Z.split(" "),Z=Z.map((Y)=>this.$__pathRelativeToParent(Y)).filter((Y)=>Y!=null);else if(!Z)Z=this.$__pathRelativeToParent();return X.$isModified(Z,J)}return T7.prototype.isModified.call(this,Z,J)};d1.prototype.$markValid=function(Z){T7.prototype.$markValid.call(this,Z);const J=this.$parent(),X=this.$__pathRelativeToParent(Z);if(J!=null&&X!=null)J.$markValid(X)};/*!
 * ignore
 */d1.prototype.invalidate=function(Z,J,X){T7.prototype.invalidate.call(this,Z,J,X);const Y=this.$parent(),G=this.$__pathRelativeToParent(Z);if(Y!=null&&G!=null)Y.invalidate(G,J,X);else if(J.kind==="cast"||J.name==="CastError"||G==null)throw J;return this.ownerDocument().$__.validationError};/*!
 * ignore
 */d1.prototype.$ignore=function(Z){T7.prototype.$ignore.call(this,Z);const J=this.$parent(),X=this.$__pathRelativeToParent(Z);if(J!=null&&X!=null)J.$ignore(X)};d1.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;let Z=this;const J=[],X=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;J.unshift(Z.$__pathRelativeToParent(void 0,!0));const Y=Z.$parent();if(Y==null)break;if(Z=Y,X.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");X.add(Z)}return this.$__.fullPath=J.join("."),this.$__.ownerDocument=Z,this.$__.ownerDocument};/*!
 * ignore
 */d1.prototype.$__fullPathWithIndexes=function(){let Z=this;const J=[],X=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;J.unshift(Z.$__pathRelativeToParent(void 0,!1));const Y=Z.$parent();if(Y==null)break;if(Z=Y,X.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");X.add(Z)}return J.join(".")};d1.prototype.parent=function(){return this.$__parent};d1.prototype.$parent=d1.prototype.parent;d1.prototype.$__deleteOne=function(Z){if(Z==null)return;return Z(null,this)};d1.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)};d1.prototype.deleteOne=function(Z,J){if(typeof Z==="function")J=Z,Z=null;if(t31(this),!Z||!Z.noop)this.$__removeFromParent();return this.$__deleteOne(J)};/*!
 * ignore
 */d1.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')};d1.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})};if(Wk.inspect.custom)d1.prototype[Wk.inspect.custom]=d1.prototype.inspect});var t9=R((sB1,Qk)=>{var k8=function(Z,J,X,Y,G){if(o31.isMongooseDocumentArray(J))this.__parentArray=J,this[nJ]=J.$parent();else this.__parentArray=void 0,this[nJ]=void 0;this.$setIndex(G),this.$__parent=this[nJ];let $;if(typeof X==="object"&&X!=null)$={isNew:!0,...X},X=void 0;else $={isNew:!0};Kk.call(this,Z,Y,this[nJ],X,$)};/*!
 * Module dependencies.
 */var qk=import.meta.require("events").EventEmitter,Kk=$G(),o31=X1(),nJ=t().documentArrayParent;/*!
 * Inherit from Subdocument
 */k8.prototype=Object.create(Kk.prototype);k8.prototype.constructor=k8;Object.defineProperty(k8.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1});Object.defineProperty(k8.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0});for(let Z in qk.prototype)k8[Z]=qk.prototype[Z];/*!
 * ignore
 */k8.prototype.$setIndex=function(Z){if(this.__index=Z,this.$__!=null&&this.$__.validationError!=null){const J=Object.keys(this.$__.validationError.errors);for(let X of J)this.invalidate(X,this.$__.validationError.errors[X])}};/*!
 * ignore
 */k8.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')};/*!
 * ignore
 */k8.prototype.$__removeFromParent=function(){const Z=this._doc._id;if(!Z)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:Z})};k8.prototype.$__fullPath=function(Z,J){if(this.__index==null)return null;if(!this.$__.fullPath)this.ownerDocument();if(J)return Z?this.$__.fullPath+"."+Z:this.$__.fullPath;return Z?this.$__.fullPath+"."+this.__index+"."+Z:this.$__.fullPath+"."+this.__index};k8.prototype.$__pathRelativeToParent=function(Z,J){if(this.__index==null)return null;if(J)return Z==null?this.__parentArray.$path():this.__parentArray.$path()+"."+Z;if(Z==null)return this.__parentArray.$path()+"."+this.__index;return this.__parentArray.$path()+"."+this.__index+"."+Z};k8.prototype.$parent=function(){return this[nJ]};k8.prototype.parentArray=function(){return this.__parentArray};/*!
 * Module exports.
 */Qk.exports=k8});var qG=R((rB1,wk)=>{var JX1=function(Z,J){if(!J)return!1;for(let X of Z){if(X==null)return!1;const Y=X.constructor;if(!(X instanceof Fz)||Y.modelName!==J&&Y.baseModelName!==J)return!1}return!0},Rk=function(Z,J,X){if(typeof J==="string"){if(J.indexOf(".")===-1)return;J=Lk.stringToParts(J)}if(X=X||0,X>=J.length)return;if(Z==null||typeof Z!=="object")return;if(Rk(Z[J[0]],J,X+1),Z[J[0]]!=null&&typeof Z[J[0]]==="object"&&Object.keys(Z[J[0]]).length===0)delete Z[J[0]]},WG=function(Z,J){const X=Z==null?null:Z[F4]&&Z[F4].caster&&Z[F4].caster.options&&Z[F4].caster.options.ref||null;if(Z.length===0&&J.length!==0){if(JX1(J,X))Z[j7].$populated(Z[O7],[],{[Vk]:J[0].constructor})}},Fz=S8(),Kz=t9(),Qz=r1(),zk=Gz(),e31=W0(),Fk=z4().internalToObjectOptions,Lk=p6(),_8=X1(),zz=B8(),y4=t().arrayAtomicsSymbol,j7=t().arrayParentSymbol,O7=t().arrayPathSymbol,F4=t().arraySchemaSymbol,Vk=t().populateModelSymbol,ZX1=Symbol("mongoose#Array#sliced"),Uk=Array.prototype.push;/*!
 * ignore
 */var HG={$__getAtomics(){const Z=[],J=Object.keys(this[y4]||{});let X=J.length;const Y=Object.assign({},Fk,{_isNested:!0});if(X===0)return Z[0]=["$set",this.toObject(Y)],Z;while(X--){const G=J[X];let $=this[y4][G];if(_8.isMongooseObject($))$=$.toObject(Y);else if(Array.isArray($))$=this.toObject.call($,Y);else if($!=null&&Array.isArray($.$each))$.$each=this.toObject.call($.$each,Y);else if($!=null&&typeof $.valueOf==="function")$=$.valueOf();if(G==="$addToSet")$={$each:$};Z.push([G,$])}return Z},$atomics(){/*!
   * ignore
   */return this[y4]},$parent(){/*!
   * ignore
   */return this[j7]},$path(){/*!
   * ignore
   */return this[O7]},$shift(){this._registerAtomic("$pop",-1),this._markModified();const Z=this.__array;if(Z._shifted)return;return Z._shifted=!0,[].shift.call(Z)},$pop(){if(this._registerAtomic("$pop",1),this._markModified(),this._popped)return;return this._popped=!0,[].pop.call(this)},$schema(){/*!
   * ignore
   */return this[F4]},_cast(Z){let J=!1,X;const Y=this[j7];if(Y)J=Y.$populated(this[O7],!0);if(J&&Z!==null&&Z!==void 0){if(X=J.options[Vk],X==null)throw new Qz("No populated model found for path `"+this[O7]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");if(Buffer.isBuffer(Z)||zz(Z,"ObjectId")||!_8.isObject(Z))Z={_id:Z};if(!(Z.schema&&Z.schema.discriminatorMapping&&Z.schema.discriminatorMapping.key!==void 0))Z=new X(Z);return this[F4].caster.applySetters(Z,Y,!0)}return this[F4].caster.applySetters(Z,Y,!1)},_mapCast(Z,J){return this._cast(Z,this.length+J)},_markModified(Z){const J=this[j7];let X;if(J){if(X=this[O7],arguments.length)X=X+"."+Z;if(X!=null&&X.endsWith(".$"))return this;J.markModified(X,arguments.length!==0?Z:J)}return this},_registerAtomic(Z,J){if(this[ZX1])return;if(Z==="$set")return this[y4]={$set:J},zk(this[j7],this[O7]),this._markModified(),this;const X=this[y4];if(Z==="$pop"&&!("$pop"in X)){const G=this;this[j7].once("save",function(){G._popped=G._shifted=null})}if(X.$set||Object.keys(X).length&&!(Z in X))return this[y4]={$set:this},this;let Y;if(Z==="$pullAll"||Z==="$addToSet")X[Z]||(X[Z]=[]),X[Z]=X[Z].concat(J);else if(Z==="$pullDocs"){const G=X.$pull||(X.$pull={});if(J[0]instanceof Kz)Y=G.$or||(G.$or=[]),Array.prototype.push.apply(Y,J.map(($)=>{return $.toObject({transform:(W,H)=>{if($==null||$.$__==null)return H;return Object.keys($.$__.activePaths.getStatePaths("default")).forEach((q)=>{Lk.unset(q,H),Rk(H,q)}),H},virtuals:!1})}));else Y=G._id||(G._id={$in:[]}),Y.$in=Y.$in.concat(J)}else if(Z==="$push")if(X.$push=X.$push||{$each:[]},J!=null&&_8.hasUserDefinedProperty(J,"$each"))X.$push=J;else if(J.length===1)X.$push.$each.push(J[0]);else if(J.length<1e4)X.$push.$each.push(...J);else for(let G of J)X.$push.$each.push(G);else X[Z]=J;return this},addToSet(){WG(this,arguments);const Z=[].map.call(arguments,this._mapCast,this),J=[];let X="";if(Z[0]instanceof Kz)X="doc";else if(Z[0]instanceof Date)X="date";else if(zz(Z[0],"ObjectId"))X="ObjectId";const Y=_8.isMongooseArray(Z)?Z.__array:Z,G=_8.isMongooseArray(this)?this.__array:this;return Y.forEach(function($){let W;const H=+$;switch(X){case"doc":W=this.some(function(q){return q.equals($)});break;case"date":W=this.some(function(q){return+q===H});break;case"ObjectId":W=this.find((q)=>q.toString()===$.toString());break;default:W=~this.indexOf($);break}if(!W)this._markModified(),G.push($),this._registerAtomic("$addToSet",$),[].push.call(J,$)},this),J},hasAtomics(){if(!_8.isPOJO(this[y4]))return 0;return Object.keys(this[y4]).length},includes(Z,J){return this.indexOf(Z,J)!==-1},indexOf(Z,J){if(zz(Z,"ObjectId"))Z=Z.toString();J=J==null?0:J;const X=this.length;for(let Y=J;Y<X;++Y)if(Z==this[Y])return Y;return-1},inspect(){return JSON.stringify(this)},nonAtomicPush(){const Z=[].map.call(arguments,this._mapCast,this);this._markModified();const J=[].push.apply(this,Z);return this._registerAtomic("$set",this),J},pop(){this._markModified();const Z=[].pop.call(this);return this._registerAtomic("$set",this),Z},pull(){const Z=[].map.call(arguments,(G,$)=>this._cast(G,$,{defaults:!1}),this),J=this[j7].get(this[O7]);let X=J.length,Y;this._markModified();while(X--)if(Y=J[X],Y instanceof Fz){if(Z.some(function($){return Y.equals($)}))[].splice.call(J,X,1)}else if(~J.indexOf.call(Z,Y))[].splice.call(J,X,1);if(Z[0]instanceof Kz)this._registerAtomic("$pullDocs",Z.map(function(G){const $=G.$__getValue("_id");if($===void 0||G.$isDefault("_id"))return G;return $}));else this._registerAtomic("$pullAll",Z);if(zk(this[j7],this[O7])>0)this._registerAtomic("$set",this);return this},push(){let Z=arguments,J=Z;const X=Z[0]!=null&&_8.hasUserDefinedProperty(Z[0],"$each"),Y=_8.isMongooseArray(this)?this.__array:this;if(X)J=Z[0],Z=Z[0].$each;if(this[F4]==null)return Uk.apply(this,Z);WG(this,Z),Z=[].map.call(Z,this._mapCast,this);let G;const $=this[y4];if(this._markModified(),X){if(J.$each=Z,($.$push&&$.$push.$each&&$.$push.$each.length||0)!==0&&$.$push.$position!=J.$position)throw new Qz("Cannot call `Array#push()` multiple times with different `$position`");if(J.$position!=null)[].splice.apply(Y,[J.$position,0].concat(Z)),G=this.length;else G=[].push.apply(Y,Z)}else{if(($.$push&&$.$push.$each&&$.$push.$each.length||0)!==0&&$.$push.$position!=null)throw new Qz("Cannot call `Array#push()` multiple times with different `$position`");J=Z,G=Uk.apply(Y,Z)}return this._registerAtomic("$push",J),G},remove(){return this.pull.apply(this,arguments)},set(Z,J,X){const Y=this.__array;if(X)return Y[Z]=J,this;const G=HG._cast.call(this,J,Z);return HG._markModified.call(this,Z),Y[Z]=G,this},shift(){const Z=_8.isMongooseArray(this)?this.__array:this;this._markModified();const J=[].shift.call(Z);return this._registerAtomic("$set",this),J},sort(){const Z=_8.isMongooseArray(this)?this.__array:this,J=[].sort.apply(Z,arguments);return this._registerAtomic("$set",this),J},splice(){let Z;const J=_8.isMongooseArray(this)?this.__array:this;if(this._markModified(),WG(this,Array.prototype.slice.call(arguments,2)),arguments.length){let X;if(this[F4]==null)X=arguments;else{X=[];for(let Y=0;Y<arguments.length;++Y)X[Y]=Y<2?arguments[Y]:this._cast(arguments[Y],arguments[0]+(Y-2))}Z=[].splice.apply(J,X),this._registerAtomic("$set",this)}return Z},toBSON(){/*!
   * ignore
   */return this.toObject(Fk)},toObject(Z){const J=_8.isMongooseArray(this)?this.__array:this;if(Z&&Z.depopulate)return Z=e31(Z),Z._isNested=!0,[].concat(J).map(function(X){return X instanceof Fz?X.toObject(Z):X});return[].concat(J)},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift(){WG(this,arguments);let Z;if(this[F4]==null)Z=arguments;else Z=[].map.call(arguments,this._cast,this);const J=_8.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(J,Z),this._registerAtomic("$set",this),this.length}};/*!
 * ignore
 *//*!
 * Minimize _just_ empty objects along the path chain specified
 * by `parts`, ignoring all other paths. Useful in cases where
 * you want to minimize after unsetting a path.
 *
 * #### Example:
 *
 *     const obj = { foo: { bar: { baz: {} } }, a: {} };
 *     _minimizePath(obj, 'foo.bar.baz');
 *     obj; // { a: {} }
 *//*!
 * ignore
 */var XX1=["filter","flat","flatMap","map","slice"];for(let Z of XX1){if(Array.prototype[Z]==null)continue;HG[Z]=function(){const J=_8.isMongooseArray(this)?this.__array:this,X=[].concat(J);return X[Z].apply(X,arguments)}}wk.exports=HG});var Lz=R((Ik,Dk)=>{var WX1=function(Z,J,X,Y){let G;if(Array.isArray(Z)){const H=Z.length;if(H===0)G=new Array;else if(H===1)G=new Array(1),G[0]=Z[0];else if(H<1e4)G=new Array,Mk.apply(G,Z);else{G=new Array;for(let q=0;q<H;++q)Mk.call(G,Z[q])}}else G=[];const $={[KG]:{},[GX1]:void 0,[$X1]:J,[Bk]:Y,[Ak]:void 0,isMongooseArray:!0,isMongooseArrayProxy:!0,__array:G};if(Z&&Z[KG]!=null)$[KG]=Z[KG];if(X!=null&&X instanceof YX1)$[Ak]=X,$[Bk]=Y||X.schema.path(J);const W=new Proxy(G,{get:function(H,q){if($.hasOwnProperty(q))return $[q];if(Uz.hasOwnProperty(q))return Uz[q];if(typeof q==="string"&&Nk.test(q)&&Y?.$embeddedSchemaType!=null)return Y.$embeddedSchemaType.applyGetters(G[q],X);return G[q]},set:function(H,q,K){if(typeof q==="string"&&Nk.test(q))Uz.set.call(W,q,K,!1);else if($.hasOwnProperty(q))$[q]=K;else G[q]=K;return!0}});return W};/*!
 * Module dependencies.
 */var YX1=S8(),Uz=qG(),KG=t().arrayAtomicsSymbol,GX1=t().arrayAtomicsBackupSymbol,Ak=t().arrayParentSymbol,$X1=t().arrayPathSymbol,Bk=t().arraySchemaSymbol,Mk=Array.prototype.push,Nk=/^\d+$/;/*!
 * Module exports.
 */Dk.exports=Ik=WX1});var Rz=R((tB1,Pk)=>{var Ck=B8(),Vz=B4();Pk.exports=function Z(J){if(J==null)return J;if(Ck(J,"ObjectId"))return J;if(J._id){if(Ck(J._id,"ObjectId"))return J._id;if(J._id.toString instanceof Function)return new Vz(J._id.toString())}if(J.toString instanceof Function)return new Vz(J.toString());return new Vz(J)}});var Ok=R((oB1,jk)=>{var FG=function(Z){const J=Z[UG];if(!J||J.$__.populated==null)return;const X=Object.keys(J.$__.populated).filter((Y)=>Y.startsWith(Z[Bz]+"."));for(let Y of X){const G=Y.slice((Z[Bz]+".").length);if(!Array.isArray(J.$__.populated[Y].value))continue;J.$__.populated[Y].value=Z.map(($)=>$.$populated(G))}},QG=qG(),HX1=S8(),qX1=Rz(),Ek=a6(),KX1=z4().internalToObjectOptions,zG=X1(),wz=B8(),UG=t().arrayParentSymbol,Bz=t().arrayPathSymbol,Az=t().arraySchemaSymbol,Tk=t().documentArrayParent,Mz={toBSON(){/*!
   * ignore
   */return this.toObject(KX1)},getArrayParent(){/*!
   * ignore
   */return this[UG]},_cast(Z,J,X){if(this[Az]==null)return Z;let Y=this[Az].casterConstructor;if((Y.$isMongooseDocumentArray?zG.isMongooseDocumentArray(Z):Z instanceof Y)||Z&&Z.constructor&&Z.constructor.baseCasterConstructor===Y){if(!(Z[Tk]&&Z.__parentArray))Z[Tk]=this[UG],Z.__parentArray=this;return Z.$setIndex(J),Z}if(Z===void 0||Z===null)return null;if(Buffer.isBuffer(Z)||wz(Z,"ObjectId")||!zG.isObject(Z))Z={_id:Z};if(Z&&Y.discriminators&&Y.schema&&Y.schema.options&&Y.schema.options.discriminatorKey)if(typeof Z[Y.schema.options.discriminatorKey]==="string"&&Y.discriminators[Z[Y.schema.options.discriminatorKey]])Y=Y.discriminators[Z[Y.schema.options.discriminatorKey]];else{const W=Ek(Y.discriminators,Z[Y.schema.options.discriminatorKey]);if(W)Y=W}if(Y.$isMongooseDocumentArray)return Y.cast(Z,this,void 0,void 0,J);const $=new Y(Z,this,X,void 0,J);return $.isNew=!0,$},id(Z){let J,X,Y;try{J=qX1(Z).toString()}catch(G){J=null}for(let G of this){if(!G)continue;if(Y=G.get("_id"),Y===null||typeof Y==="undefined")continue;else if(Y instanceof HX1){if(X||(X=String(Z)),X==Y._id)return G}else if(!wz(Z,"ObjectId")&&!wz(Y,"ObjectId")){if(Z==Y||zG.deepEqual(Z,Y))return G}else if(J==Y)return G}return null},toObject(Z){return[].concat(this.map(function(J){if(J==null)return null;if(typeof J.toObject!=="function")return J;return J.toObject(Z)}))},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},push(){const Z=QG.push.apply(this,arguments);return FG(this),Z},pull(){const Z=QG.pull.apply(this,arguments);return FG(this),Z},shift(){const Z=QG.shift.apply(this,arguments);return FG(this),Z},splice(){const Z=QG.splice.apply(this,arguments);return FG(this),Z},inspect(){return this.toObject()},create(Z){let J=this[Az].casterConstructor;if(Z&&J.discriminators&&J.schema&&J.schema.options&&J.schema.options.discriminatorKey)if(typeof Z[J.schema.options.discriminatorKey]==="string"&&J.discriminators[Z[J.schema.options.discriminatorKey]])J=J.discriminators[Z[J.schema.options.discriminatorKey]];else{const X=Ek(J.discriminators,Z[J.schema.options.discriminatorKey]);if(X)J=X}return new J(Z,this)},notify(Z){/*!
   * ignore
   */const J=this;return function X(Y,G){G=G||J;let $=G.length;while($--){if(G[$]==null)continue;switch(Z){case"save":Y=J[$];break;default:break}if(zG.isMongooseArray(G[$]))X(Y,G[$]);else if(G[$])G[$].emit(Z,Y)}}},set(Z,J,X){const Y=this.__array;if(X)return Y[Z]=J,this;const G=Mz._cast.call(this,J,Z);return Mz._markModified.call(this,Z),Y[Z]=G,this},_markModified(Z,J){const X=this[UG];let Y;if(X){if(Y=this[Bz],arguments.length)if(J!=null){const G=Z.__index;Y=Y+"."+G+"."+J}else Y=Y+"."+Z;if(Y!=null&&Y.endsWith(".$"))return this;X.markModified(Y,arguments.length!==0?Z:X)}return this}};jk.exports=Mz});var j5=R((eB1,kk)=>{var LX1=function(Z,J,X){const Y=[],G={[Iz]:{},[zX1]:void 0,[Cz]:J,[T5]:void 0,[Dz]:void 0};if(Array.isArray(Z)){if(Z[Cz]===J&&Z[Dz]===X)G[Iz]=Object.assign({},Z[Iz]);Z.forEach((W)=>{FX1.call(Y,W)})}if(G[Cz]=J,G.__array=Y,X&&X instanceof QX1){G[Dz]=X,G[T5]=X.$__schema.path(J);while(G[T5]!=null&&G[T5].$isMongooseArray&&!G[T5].$isMongooseDocumentArray)G[T5]=G[T5].casterConstructor}const $=new Proxy(Y,{get:function(W,H){if(H==="isMongooseArray"||H==="isMongooseArrayProxy"||H==="isMongooseDocumentArray"||H==="isMongooseDocumentArrayProxy")return!0;if(G.hasOwnProperty(H))return G[H];if(Nz.hasOwnProperty(H))return Nz[H];if(Sk.hasOwnProperty(H))return Sk[H];return Y[H]},set:function(W,H,q){if(typeof H==="string"&&UX1.test(H))Nz.set.call($,H,q,!1);else if(G.hasOwnProperty(H))G[H]=q;else Y[H]=q;return!0}});return $};/*!
 * Module dependencies.
 */var Sk=qG(),Nz=Ok(),QX1=S8(),Iz=t().arrayAtomicsSymbol,zX1=t().arrayAtomicsBackupSymbol,Dz=t().arrayParentSymbol,Cz=t().arrayPathSymbol,T5=t().arraySchemaSymbol,FX1=Array.prototype.push,UX1=/^\d+$/;/*!
 * Module exports.
 */kk.exports=LX1});var S8=R((sk,rk)=>{var f=function(Z,J,X,Y){if(typeof X==="object"&&X!=null)Y=X,X=Y.skipId;if(Y=Object.assign({},Y),this.$__schema==null){const K=U1.isObject(J)&&!J.instanceOfSchema?new AX1(J):J;this.$__setSchema(K),J=X,X=Y,Y=arguments[4]||{}}if(this.$__=new VX1,Y.isNew!=null&&Y.isNew!==!0)this.$isNew=Y.isNew;if(Y.priorDoc!=null)this.$__.priorDoc=Y.priorDoc;if(X)this.$__.skipId=X;if(Z!=null&&typeof Z!=="object")throw new wX1(Z,"obj","Document");let G=!0;if(Y.defaults!==void 0)this.$__.defaults=Y.defaults,G=Y.defaults;const $=this.$__schema;if(typeof J==="boolean"||J==="throw"){if(J!==!0)this.$__.strictMode=J;J=void 0}else if($.options.strict!==!0)this.$__.strictMode=$.options.strict;const W=$.requiredPaths(!0);for(let K of W)this.$__.activePaths.require(K);let H=null;if(U1.isPOJO(J)&&Object.keys(J).length>0)H=PX1(J),this.$__.selected=J,this.$__.exclude=H;const q=H===!1&&J?uk(J):null;if(this._doc==null){if(this.$__buildDoc(Z,J,X,H,q,!1),G)Oz(this,J,H,q,!0,null)}if(Z){if(this.$__original_set)this.$__original_set(Z,void 0,!0,Y);else this.$set(Z,void 0,!0,Y);if(Z instanceof f)this.$isNew=Z.$isNew}if(Y.willInit&&G){if(Y.skipDefaults)this.$__.skipDefaults=Y.skipDefaults}else if(G)Oz(this,J,H,q,!1,Y.skipDefaults);if(!this.$__.strictMode&&Z){const K=this;Object.keys(this._doc).forEach(function(z){if(!(z in $.tree)&&!(z in $.methods)&&!(z in $.virtuals)&&!z.startsWith("$"))MX1({prop:z,subprops:null,prototype:K})})}iX1(this)},hX1=function(Z,J,X){if(Z==null)return;const Y=Object.keys(X.$__schema.paths),G=Y.length,$=J.indexOf(".")===-1?[J]:J.split(".");for(let W=0;W<G;++W){let H="";const q=Y[W];if(!q.startsWith(J+"."))continue;const K=X.$__schema.paths[q],Q=K.splitPath().slice($.length),z=Q.length;if(K.defaultValue===void 0)continue;let F=Z;for(let U=0;U<z;++U){if(F==null)break;const L=Q[U];if(U===z-1){if(F[L]!==void 0)break;try{const V=K.getDefault(X,!1);if(V!==void 0)F[L]=V}catch(V){X.invalidate(J+"."+H,V);break}break}H+=(!H.length?"":".")+L,F[L]=F[L]||{},F=F[L]}}},pk=function(Z,J,X,Y,G){if(G=G||"",J.$__!=null)J=J._doc;const $=Object.keys(J),W=$.length;let H,q,K,Q=0;const z=Z.$__.strictMode,F=Z.$__schema;while(Q<W)U(Q++);function U(L){if(K=$[L],K==="__proto__"||K==="constructor")return;if(q=G+K,H=F.path(q),F.$isRootDiscriminator&&!Z.$__isSelected(q))return;if(!H&&U1.isPOJO(J[K])){if(!X[K]){if(X[K]={},!z&&!(K in F.tree)&&!(K in F.methods)&&!(K in F.virtuals))Z[K]=X[K]}pk(Z,J[K],X[K],Y,q+".")}else if(!H){if(X[K]=J[K],!z&&!G)Z[K]=J[K]}else{if(X.hasOwnProperty(K)&&J[K]!==void 0)delete X[K];if(J[K]===null)X[K]=H._castNullish(null);else if(J[K]!==void 0){const V=J[K].$__==null?null:J[K].$__.wasPopulated;if(H&&!V)try{if(Y&&Y.setters)X[K]=H.applySetters(J[K],Z,!1);else X[K]=H.cast(J[K],Z,!0)}catch(w){Z.invalidate(w.path,new hk({path:w.path,message:w.message,type:"cast",value:w.value,reason:w}))}else X[K]=J[K]}if(!Z.$isModified(q))Z.$__.activePaths.init(q)}}},uX1=function(Z,J){if(!Array.isArray(Z))return!1;if(Z.length===0)return!1;for(let X of Z){if(!(X instanceof f))return!1;if(X.constructor.modelName==null)return!1;if(X.constructor.modelName!=J&&X.constructor.baseModelName!=J)return!1}return!0},ik=function(Z){if(Z==null)return!0;if(typeof Z!=="object"||Array.isArray(Z))return!1;for(let J of Object.keys(Z))if(!ik(Z[J]))return!1;return!0},mX1=function(Z){const J=Object.keys(Z.$__.activePaths.getStatePaths("require"));let X=0;const Y=J.length;for(X=0;X<Y;++X){const G=J[X],$=Z.$__schema.path(G);if($!=null&&typeof $.originalRequiredValue==="function"){Z.$__.cachedRequired=Z.$__.cachedRequired||{};try{Z.$__.cachedRequired[G]=$.originalRequiredValue.call(Z,Z)}catch(W){Z.invalidate(G,W)}}}},nk=function(Z,J,X){const Y={};mX1(Z);let G=new Set(Object.keys(Z.$__.activePaths.getStatePaths("require")).filter(function(Q){if(!Z.$__isSelected(Q)&&!Z.$isModified(Q))return!1;if(Z.$__.cachedRequired!=null&&Q in Z.$__.cachedRequired)return Z.$__.cachedRequired[Q];return!0}));Object.keys(Z.$__.activePaths.getStatePaths("init")).forEach($),Object.keys(Z.$__.activePaths.getStatePaths("modify")).forEach($),Object.keys(Z.$__.activePaths.getStatePaths("default")).forEach($);function $(Q){G.add(Q)}const W=Z.$getAllSubdocs(),H=Z.modifiedPaths();for(let Q of W)if(Q.$basePath){const z=Q.$isSingleNested?Q.$__pathRelativeToParent():Q.$__fullPathWithIndexes();for(let F of Q.modifiedPaths())G.delete(z+"."+F);if(Z.$isModified(z,H)&&!Z.isDirectModified(z)&&!Z.$isDefault(z)){if(G.add(z),Z.$__.pathsToScopes==null)Z.$__.pathsToScopes={};if(Z.$__.pathsToScopes[z]=Q.$isDocumentArrayElement?Q.__parentArray:Q.$parent(),Y[z]={skipSchemaValidators:!0},Q.$isDocumentArrayElement&&Q.__index!=null)Y[z].index=Q.__index}}for(let Q of G){const z=Z.$__schema.path(Q);if(!z)continue;if(z.$isMongooseDocumentArray){for(let F of G)if(F==null||F.startsWith(z.path+"."))G.delete(F)}if(!z.caster&&z.validators.length===0&&!z.$parentSchemaDocArray)G.delete(Q);else if(z.$isMongooseArray&&!z.$isMongooseDocumentArray&&!z.$embeddedSchemaType.$isMongooseArray&&z.validators.length===0&&z.$embeddedSchemaType.validators.length===0)G.delete(Q)}for(let Q of G)if(Z.$__schema.singleNestedPaths.hasOwnProperty(Q)){G.delete(Q);continue}if(Array.isArray(J))G=dX1(G,J);else if(Array.isArray(X))G=cX1(G,X);for(let Q of G){const z=Z.$__schema.path(Q);if(!z)continue;if(!z.$isMongooseArray||!Array.isArray(z)&&z.$isMongooseDocumentArray&&!(z&&z.schemaOptions&&z.schemaOptions.required))continue;if(z.$isMongooseArray&&!z.$isMongooseDocumentArray&&!z.$embeddedSchemaType.$isMongooseArray&&z.$embeddedSchemaType.validators.length===0)continue;const F=Z.$__getValue(Q);q(F,G,Q)}function q(Q,z,F){if(Q!=null){const U=Q.length;for(let L=0;L<U;++L)if(Array.isArray(Q[L]))q(Q[L],z,F+"."+L);else z.add(F+"."+L)}}const K={skipArrays:!0};for(let Q of G)if(Z.$__schema.nested[Q]){let z=Z.$__getValue(Q);if(kX1(z))z=z.toObject({transform:!1});const F=NX1(z,Q,K,Z.$__schema);Object.keys(F).forEach($)}for(let Q of G){const z=Z.$__schema.path(Q);if(!z)continue;if(z.$parentSchemaDocArray&&typeof z.$parentSchemaDocArray.path==="string")G.add(z.$parentSchemaDocArray.path);if(!z.$isSchemaMap)continue;const F=Z.$__getValue(Q);if(F==null)continue;for(let U of F.keys())G.add(Q+"."+U)}return G=Array.from(G),[G,Y]},dX1=function(Z,J){const X=new Set(J),Y=new Map([]);for(let $ of J){if($.indexOf(".")===-1)continue;const W=$.split(".");let H=W[0];for(let q=1;q<W.length;++q)Y.set(H,$),H=H+"."+W[q]}const G=new Set;for(let $ of Z)if(X.has($))G.add($);else if(Y.has($))G.add(Y.get($));return G},cX1=function(Z,J){return J=new Set(J),Z=Array.from(Z).filter((X)=>!J.has(X)),new Set(Z)},lX1=function(Z,J){if(!Z.$__.validationError)return;const X=Object.keys(Z.$__.validationError.errors);for(let Y of X)if(Y.startsWith(J+"."))delete Z.$__.validationError.errors[Y];if(Object.keys(Z.$__.validationError.errors).length===0)Z.$__.validationError=null},pX1=function(Z,J,X){const Y=J.schema;if(Y==null)return;for(let G of Object.keys(Y.paths)){const $=Y.paths[G];if($.$immutableSetter==null)continue;const W=X==null?void 0:X.$__getValue(G);$.$immutableSetter.call(Z,W)}},iX1=function(Z){const J=Z.$__schema&&Z.$__schema.callQueue;if(!J.length)return;for(let X of J)if(X[0]!=="pre"&&X[0]!=="post"&&X[0]!=="on")Z[X[0]].apply(Z,X[1])},ak=function(Z,J,X,Y){const G=Z.$__schema,$=Object.keys(G.virtuals);let W=$.length;const H=W;let q,K,Q=Z._doc,z;const F=typeof(Y&&Y.aliases)==="boolean"?Y.aliases:!0;let U=null;if(Array.isArray(X.virtuals))U=new Set(X.virtuals);else if(X.virtuals&&X.virtuals.pathsToSkip){U=new Set($);for(let L=0;L<X.virtuals.pathsToSkip.length;L++)if(U.has(X.virtuals.pathsToSkip[L]))U.delete(X.virtuals.pathsToSkip[L])}if(!Q)return J;X=X||{};for(W=0;W<H;++W){if(q=$[W],U!=null&&!U.has(q))continue;if(!F&&G.aliases.hasOwnProperty(q))continue;if(K=q,X.path!=null){if(!q.startsWith(X.path+"."))continue;K=q.substring(X.path.length+1)}const L=K.split(".");if(z=s6(Z.get(q),X),z===void 0)continue;const V=L.length;Q=J;for(let w=0;w<V-1;++w)Q[L[w]]=Q[L[w]]||{},Q=Q[L[w]];Q[L[V-1]]=z}return J},nX1=function(Z,J,X){const Y=Z.$__schema,G=Object.keys(Y.paths);let $=G.length,W,H=Z._doc,q;if(!H)return J;while($--){W=G[$];const K=W.split("."),Q=K.length,z=Q-1;let F=J,U;if(H=Z._doc,!Z.$__isSelected(W))continue;for(let L=0;L<Q;++L){if(U=K[L],q=H[U],L===z){const V=Z.$get(W);if(F[U]=s6(V,X),Array.isArray(F[U])&&Y.paths[W].$embeddedSchemaType)for(let w=0;w<F[U].length;++w)F[U][w]=Y.paths[W].$embeddedSchemaType.applyGetters(F[U][w],Z)}else if(q==null){if(U in H)F[U]=q;break}else F=F[U]||(F[U]={});H=q}}return J},aX1=function(Z,J){const X=Z.$__schema,Y=Object.keys(X.paths||{});if(!Z._doc)return J;for(let $ of Y){const W=X.paths[$];if(typeof W.options.transform==="function"){const H=Z.$get($);if(H===void 0)continue;const q=W.options.transform.call(Z,H);vk($,q),U1.setValue($,q,J)}else if(W.$embeddedSchemaType!=null&&typeof W.$embeddedSchemaType.options.transform==="function"){const H=Z.$get($);if(H===void 0)continue;const q=[].concat(H),K=W.$embeddedSchemaType.options.transform;for(let Q=0;Q<q.length;++Q){const z=K.call(Z,q[Q]);q[Q]=z,vk($,z)}J[$]=q}}return J},vk=function(Z,J){if(SX1(J))throw new Error("`transform` function must be synchronous, but the transform on path `"+Z+"` returned a promise.")},sX1=function(Z,J){const X=Z.$__schema,Y=Object.keys(X.paths||{});if(!Z._doc)return J;let $=Z.$__.selected;if($===void 0)$={},OX1.applyPaths($,X);if($==null||Object.keys($).length===0)return J;for(let W of Y)if($[W]!=null&&!$[W])delete J[W];return J};/*!
 * Module dependencies.
 */var Tz=import.meta.require("events").EventEmitter,VX1=VS(),x8=h1(),_k=E5(),RX1=oQ(),wX1=Zz(),xk=MS(),AX1=e9(),jz=E7(),wG=D5(),hk=gQ(),uk=Xz(),Oz=oY(),Pz=Gz(),s6=W0(),BX1=ZG().compile,MX1=ZG().defineKey,NX1=n9().flatten,IX1=Z0(),Ez=bS(),gk=hS(),DX1=mS(),CX1=XG(),fk=h8(),mk=a9(),PX1=s9(),Sz=import.meta.require("util").inspect,dk=z4().internalToObjectOptions,EX1=Hz(),TX1=qz(),jX1=p6(),OX1=r9(),U1=X1(),SX1=Xk(),VG=U1.deepEqual,kX1=U1.isMongooseObject,o9=t().arrayAtomicsBackupSymbol,B6=t().arrayAtomicsSymbol,_X1=t().documentArrayParent,xX1=t().documentIsModified,ck=t().documentModifiedPaths,kz=t().documentSchemaSymbol,gX1=t().getSymbol,yk=t().populateModelSymbol,fX1=t().scopeSymbol,yX1=P5().schemaMixedSymbol,lk=GG(),bX1=$k(),LG=t().sessionNewDocuments,RG,bk,O5,vX1=U1.specialProperties;f.prototype.$isMongooseDocumentPrototype=!0;Object.defineProperty(f.prototype,"isNew",{get:function(){return this.$isNew},set:function(Z){this.$isNew=Z}});Object.defineProperty(f.prototype,"errors",{get:function(){return this.$errors},set:function(Z){this.$errors=Z}});/*!
 * ignore
 */f.prototype.$isNew=!0;/*!
 * Document exposes the NodeJS event emitter API, so you can use
 * `on`, `once`, etc.
 */U1.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(Z){f.prototype[Z]=function(){if(!this.$__.emitter){if(Z==="emit")return;this.$__.emitter=new Tz,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[Z].apply(this.$__.emitter,arguments)},f.prototype[`\$${Z}`]=f.prototype[Z]});f.prototype.constructor=f;for(let Z in Tz.prototype)f[Z]=Tz.prototype[Z];f.prototype.$__schema;f.prototype.schema;Object.defineProperty(f.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){if(this.$__.locals==null)this.$__.locals={};return this.$__.locals},set:function(Z){this.$__.locals=Z}});f.prototype.isNew;Object.defineProperty(f.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0});f.prototype.id;f.prototype.$errors;Object.defineProperty(f.prototype,"$op",{get:function(){return this.$__.op||null},set:function(Z){this.$__.op=Z}});/*!
 * ignore
 */f.prototype.$__buildDoc=function(Z,J,X,Y,G){const $={},W=Object.keys(this.$__schema.paths).filter((K)=>!K.includes("$*")),H=W.length;let q=0;for(;q<H;++q){const K=W[q];if(K==="_id"){if(X)continue;if(Z&&"_id"in Z)continue}const Q=this.$__schema.paths[K].splitPath(),z=Q.length,F=z-1;let U="",L=$,V=!1;for(let w=0;w<z;++w){const B=Q[w];if(!U.length)U=B;else U+="."+B;if(Y===!0){if(U in J)break}else if(Y===!1&&J&&!V){if(U in J)V=!0;else if(!G[U])break}if(w<F)L=L[B]||(L[B]={})}}this._doc=$};/*!
 * Converts to POJO when you use the document for querying
 */f.prototype.toBSON=function(){return this.toObject(dk)};f.prototype.init=function(Z,J,X){if(typeof J==="function")X=J,J=null;if(this.$__init(Z,J),X)X(null,this);return this};f.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)};f.prototype.$__init=function(Z,J){if(this.$isNew=!1,J=J||{},Z._id!=null&&J.populated&&J.populated.length){const Y=String(Z._id);for(let G of J.populated){if(G.isVirtual)this.$populated(G.path,U1.getValue(G.path,Z),G);else this.$populated(G.path,G._docs[Y],G);if(G._childDocs==null)continue;for(let $ of G._childDocs){if($==null||$.$__==null)continue;$.$__.parent=this}G._childDocs=[]}}pk(this,Z,this._doc,J),EX1(this,J.populated),this.$emit("init",this),this.constructor.emit("init",this);const X=this.$__.exclude===!1&&this.$__.selected?uk(this.$__.selected):null;return Oz(this,this.$__.selected,this.$__.exclude,X,!1,this.$__.skipDefaults),this};f.prototype.updateOne=function Z(J,X,Y){const G=this.constructor.updateOne({_id:this._id},J,X),$=this;if(G.pre(function W(H){$.constructor._middleware.execPre("updateOne",$,[$],H)}),G.post(function W(H){$.constructor._middleware.execPost("updateOne",$,[$],{},H)}),this.$session()!=null){if(!("session"in G.options))G.options.session=this.$session()}if(Y!=null)return G.exec(Y);return G};f.prototype.replaceOne=function Z(){const J=[...arguments];return J.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,J)};f.prototype.$session=function Z(J){if(arguments.length===0){if(this.$__.session!=null&&this.$__.session.hasEnded)return this.$__.session=null,null;return this.$__.session}if(J!=null&&J.hasEnded)throw new x8("Cannot set a document\'s session to a session that has ended. Make sure you haven\'t called `endSession()` on the session you are passing to `$session()`.");if(J==null&&this.$__.session==null)return;if(this.$__.session=J,!this.$isSubdocument){const X=this.$getAllSubdocs();for(let Y of X)Y.$session(J)}return J};f.prototype.$timestamps=function Z(J){if(arguments.length===0){if(this.$__.timestamps!=null)return this.$__.timestamps;if(this.$__schema)return this.$__schema.options.timestamps;return}const X=this.$timestamps();if(J!==X)this.$__.timestamps=J;return this};f.prototype.overwrite=function Z(J){const X=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(J))));for(let Y of X){if(Y==="_id")continue;if(this.$__schema.options.versionKey&&Y===this.$__schema.options.versionKey)continue;if(this.$__schema.options.discriminatorKey&&Y===this.$__schema.options.discriminatorKey)continue;this.$set(Y,J[Y])}return this};f.prototype.$set=function Z(J,X,Y,G){if(U1.isPOJO(Y))G=Y,Y=void 0;const $=G&&G.merge,W=Y&&Y!==!0,H=Y===!0;let q,K,Q=0,z,F,U;const L=G&&"strict"in G;let V=L?G.strict:this.$__.strictMode;if(W)q=this.$__.adhocPaths||(this.$__.adhocPaths={}),q[J]=this.$__schema.interpretAsType(J,Y,this.$__schema.options);if(J==null)[J,X]=[X,J];else if(typeof J!=="string"){if(J instanceof f)if(J.$__isNested)J=J.toObject();else J=J._doc;if(J==null)[J,X]=[X,J];U=X?X+".":"",K=gk(this.$__schema,J);const E=K.length,p=G&&G._skipMinimizeTopLevel||!1;if(E===0&&p){if(delete G._skipMinimizeTopLevel,X)this.$set(X,{});return this}G=Object.assign({},G,{_skipMinimizeTopLevel:!1});for(let T=0;T<E;++T){F=K[T];const O=U?U+F:F;z=this.$__schema.pathType(O);const i=J[F];if(Y===!0&&!U&&i!=null&&z==="nested"&&this._doc[F]!=null)delete this._doc[F];if(U1.isNonBuiltinObject(i)&&z==="nested"){this.$set(O,i,H,Object.assign({},G,{_skipMarkModified:!0})),hX1(this.$get(O),O,this);continue}else if(V){if(H&&i===void 0&&this.$get(O)!==void 0)continue;if(z==="adhocOrUndefined")z=Ez(this,O,{typeOnly:!0});if(z==="real"||z==="virtual")this.$set(O,i,H,G);else if(z==="nested"&&i instanceof f)this.$set(O,i.toObject({transform:!1}),H,G);else if(V==="throw")if(z==="nested")throw new RX1(F,i);else throw new jz(F)}else if(i!==void 0)this.$set(O,i,H,G)}const u={},g=Object.keys(this.$__schema.tree);for(let T=0,O=g.length;T<O;++T)(F=g[T])&&this._doc.hasOwnProperty(F)&&(u[F]=void 0);return this._doc=Object.assign(u,this._doc),this}let w=this.$__schema.pathType(J),B=null;if(w==="adhocOrUndefined")B=J.indexOf(".")===-1?[J]:J.split("."),w=Ez(this,B,{typeOnly:!0});if(w==="adhocOrUndefined"&&!L){if(B==null)B=J.indexOf(".")===-1?[J]:J.split(".");const E=DX1(this.$__schema,B);if(E!==void 0)V=E}X=CX1(X);const M=(()=>{if(this.$__.priorDoc!=null)return this.$__.priorDoc.$__getValue(J);if(H)return;return this.$__getValue(J)})();if(w==="nested"&&X){if(typeof X==="object"&&X!=null){if(X.$__!=null)X=X.toObject(dk);if(X==null)return this.invalidate(J,new x8.CastError("Object",X,J)),this;const E=this.$isModified(J),p=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(J);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(J)){const g=this.$__getValue(J);this.$__.savedState[J]=g;const T=Object.keys(g||{});for(let O of T)this.$__.savedState[J+"."+O]=g[O]}if(!$)this.$__setValue(J,null),Pz(this,J);else return this.$set(X,J,H);const u=gk(this.$__schema,X,J);this.$__setValue(J,{});for(let g of u)this.$set(J+"."+g,X[g],H,{...G,_skipMarkModified:!0});if(M!=null&&(!E||p)&&U1.deepEqual(p?this.$__.savedState[J]:M,X))this.unmarkModified(J);else this.markModified(J);return this}return this.invalidate(J,new x8.CastError("Object",X,J)),this}let A;if(B==null)B=J.indexOf(".")===-1?[J]:J.split(".");if(typeof this.$__schema.aliases[B[0]]==="string")B[0]=this.$__schema.aliases[B[0]];if(w==="adhocOrUndefined"&&V){let E;for(Q=0;Q<B.length;++Q){const p=B.slice(0,Q+1).join(".");if(Q+1<B.length&&this.$__schema.pathType(p)==="virtual")return jX1.set(J,X,this),this;if(A=this.$__schema.path(p),A==null)continue;if(A instanceof _k){E=!0;break}else if(A.$isSchemaMap&&A.$__schemaType instanceof _k&&Q<B.length-1){E=!0,A=A.$__schemaType;break}}if(A==null)A=Ez(this,J);if(!E&&!A){if(V==="throw")throw new jz(J);return this}}else if(w==="virtual")return A=this.$__schema.virtualpath(J),A.applySetters(X,this),this;else A=this.$__path(J);let I=this._doc,m="";for(Q=0;Q<B.length-1;++Q)if(I=I[B[Q]],m+=(m.length!==0?".":"")+B[Q],!I){if(this.$set(m,{}),!this.$__isSelected(m))this.unmarkModified(m);I=this.$__getValue(m)}let k;if(B.length<=1)k=J;else{const E=B.length;for(Q=0;Q<E;++Q){const p=B.slice(0,Q+1).join(".");if(this.$get(p,null,{getters:!1})===null){k=p;break}}if(!k)k=J}if(!A){if(this.$__set(k,J,G,H,B,A,X,M),w==="nested"&&X==null)Pz(this,J);return this}if(A.$isSingleNested||A.$isMongooseArray)lX1(this,J);if(X!=null&&$&&A.$isSingleNested){if(X instanceof f)X=X.toObject({virtuals:!1,transform:!1});const E=Object.keys(X);for(let p of E)this.$set(J+"."+p,X[p],H,G);return this}let j=!0;try{const E=(()=>{if(A.options==null)return!1;if(!(X instanceof f))return!1;const T=X.constructor,O=A.options.ref;if(O!=null&&(O===T.modelName||O===T.baseModelName))return!0;const i=A.options.refPath;if(i==null)return!1;const M1=X.get(i);return M1===T.modelName||M1===T.baseModelName})();let p=!1;if(E&&X instanceof f&&(!X.$__.wasPopulated||U1.deepEqual(X.$__.wasPopulated.value,X._id))){const T=A&&A.$isSingleNested?A.cast(X,this):X._id;this.$populated(J,T,{[yk]:X.constructor}),X.$__.wasPopulated={value:T},p=!0}let u;const g=this.$__schema.options.typeKey;if(A.options&&Array.isArray(A.options[g])&&A.options[g].length&&A.options[g][0].ref&&uX1(X,A.options[g][0].ref)){u={[yk]:X[0].constructor},this.$populated(J,X.map(function(T){return T._id}),u);for(let T of X)T.$__.wasPopulated={value:T._id};p=!0}if(!E||!A.$isSingleNested||!X.$__){let T=this;if(this.$__schema.singleNestedPaths[J]!=null&&B.length>1)T=bX1(this,B,this.schema);if(G!=null&&G.overwriteImmutable)X=A.applySetters(X,T,!1,M,{overwriteImmutable:!0});else X=A.applySetters(X,T,!1,M)}if(Array.isArray(X)&&!Array.isArray(A)&&A.$isMongooseDocumentArray&&X.length!==0&&X[0]!=null&&X[0].$__!=null&&X[0].$__.populated!=null){const T=Object.keys(X[0].$__.populated);for(let O of T)this.$populated(J+"."+O,X.map((i)=>i.$populated(O)),X[0].$__.populated[O].options);p=!0}if(!p&&this.$__.populated){if(Array.isArray(X)&&this.$__.populated[J]){for(let T=0;T<X.length;++T)if(X[T]instanceof f)X.set(T,X[T]._id,!0)}delete this.$__.populated[J]}if(X!=null&&A.$isSingleNested)pX1(X,A,M);this.$markValid(J)}catch(E){if(E instanceof x8.StrictModeError&&E.isImmutableError)this.invalidate(J,E);else if(E instanceof x8.CastError){if(this.invalidate(E.path,E),E.$originalErrorPath)this.invalidate(J,new x8.CastError(A.instance,X,J,E.$originalErrorPath))}else this.invalidate(J,new x8.CastError(A.instance,X,J,E));j=!1}if(j){let E=null,p=null;if(!H){const T=this.$isSubdocument?this.ownerDocument():this;E=T.$__.savedState,p=this.$isSubdocument?this.$__.fullPath+"."+J:J,T.$__saveInitialState(p)}this.$__set(k,J,G,H,B,A,X,M);const u=!!this.$__.session?.transaction,g=this.$__.session&&this.$__.session[LG]&&this.$__.session[LG].has(this)&&this.$__.session[LG].get(this).modifiedPaths&&!this.$__.session[LG].get(this).modifiedPaths.has(p);if(E!=null&&E.hasOwnProperty(p)&&(!u||g)&&U1.deepEqual(X,E[p]))this.unmarkModified(J)}if(A.$isSingleNested&&(this.isDirectModified(J)||X==null))Pz(this,J);return this};/*!
 * ignore
 */f.prototype.set=f.prototype.$set;f.prototype.$__shouldModify=function(Z,J,X,Y,G,$,W,H){if(X&&X._skipMarkModified)return!1;if(this.$isNew)return!0;if(J in this.$__.activePaths.getStatePaths("modify"))return!0;if(W===void 0&&!this.$__isSelected(J))return!0;if(W===void 0&&J in this.$__.activePaths.getStatePaths("default"))return!1;if(this.$populated(J)&&W instanceof f&&VG(W._id,H))return!1;if(!VG(W,H!==void 0?H:U1.getValue(J,this)))return!0;if(!Y&&W!==null&&W!==void 0&&J in this.$__.activePaths.getStatePaths("default")&&VG(W,$.getDefault(this,Y)))return!0;return!1};f.prototype.$__set=function(Z,J,X,Y,G,$,W,H){if(O5=O5||t9(),this.$__shouldModify(Z,J,X,Y,G,$,W,H)){if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[J]){if(delete this.$__.primitiveAtomics[J],Object.keys(this.$__.primitiveAtomics).length===0)delete this.$__.primitiveAtomics}if(this.markModified(Z),bk||(bk=Lz()),W&&U1.isMongooseArray(W)){if(W._registerAtomic("$set",W),U1.isMongooseDocumentArray(W))W.forEach(function(U){U&&U.__parentArray&&(U.__parentArray=W)})}}else if(Array.isArray(W)&&Array.isArray(H)&&U1.isMongooseArray(W)&&U1.isMongooseArray(H)){if(W[B6]=H[B6],W[o9]=H[o9],U1.isMongooseDocumentArray(W))W.forEach((U)=>{if(U!=null)U.$isNew=!1})}let K=this._doc,Q=0;const z=G.length;let F="";for(;Q<z;Q++){const L=Q+1===z;if(F+=F?"."+G[Q]:G[Q],vX1.has(G[Q]))return;if(L)if(K instanceof Map)K.set(G[Q],W);else if(K.$isSingleNested)if(!(G[Q]in K))K[G[Q]]=W,K._doc[G[Q]]=W;else K._doc[G[Q]]=W;else K[G[Q]]=W;else{const V=K instanceof Map;let w=V?K.get(G[Q]):K[G[Q]];if(U1.isPOJO(w))K=w;else if(w&&w instanceof O5)K=w;else if(w&&!Array.isArray(w)&&w.$isSingleNested)K=w;else if(w&&Array.isArray(w))K=w;else if(w==null){if(w={},V)K.set(G[Q],w);else K[G[Q]]=w;K=w}else K=w}}};f.prototype.$__getValue=function(Z){return U1.getValue(Z,this._doc)};f.prototype.$inc=function Z(J,X){if(X==null)X=1;if(Array.isArray(J))return J.forEach((q)=>this.$inc(q,X)),this;const Y=this.$__path(J);if(Y==null){if(this.$__.strictMode==="throw")throw new jz(J);else if(this.$__.strictMode===!0)return this}else if(Y.instance!=="Number")return this.invalidate(J,new x8.CastError(Y.instance,X,J)),this;const G=this.$__getValue(J)||0;let $=!1,W=null,H=X;try{X=Y.cast(X),W=Y.applySetters(G+X,this),H=W-G,$=!0}catch(q){this.invalidate(J,new x8.CastError("number",X,J,q))}if($){if(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[J]==null)this.$__.primitiveAtomics[J]={$inc:H};else this.$__.primitiveAtomics[J].$inc+=H;this.markModified(J),this.$__setValue(J,W)}return this};f.prototype.$__setValue=function(Z,J){return U1.setValue(Z,J,this._doc),this};f.prototype.get=function(Z,J,X){let Y;if(X==null)X={};if(J)Y=this.$__schema.interpretAsType(Z,J,this.$__schema.options);const G=X.noDottedPath;let $=G?this.$__schema.paths[Z]:this.$__path(Z);if($==null){if($=this.$__schema.virtualpath(Z),$!=null)return $.applyGetters(void 0,this)}if(G){let K=this._doc[Z];if(Y)K=Y.cast(K);if($!=null&&X.getters!==!1)return $.applyGetters(K,this);return K}if($!=null&&$.instance==="Mixed"){const K=this.$__schema.virtualpath(Z);if(K!=null)$=K}const W=Z.indexOf(".")!==-1;let H=this._doc;const q=W?Z.split("."):[Z];if(typeof this.$__schema.aliases[q[0]]==="string")q[0]=this.$__schema.aliases[q[0]];for(let K=0,Q=q.length;K<Q;K++){if(H&&H._doc)H=H._doc;if(H==null)H=void 0;else if(H instanceof Map)H=H.get(q[K],{getters:!1});else if(K===Q-1)H=U1.getValue(q[K],H);else H=H[q[K]]}if(Y)H=Y.cast(H);if($!=null&&X.getters!==!1)H=$.applyGetters(H,this);else if(this.$__schema.nested[Z]&&X.virtuals)return ak(this,s6(H)||{},{path:Z});return H};/*!
 * ignore
 */f.prototype[gX1]=f.prototype.get;f.prototype.$get=f.prototype.get;f.prototype.$__path=function(Z){const J=this.$__.adhocPaths,X=J&&J.hasOwnProperty(Z)?J[Z]:null;if(X)return X;return this.$__schema.path(Z)};f.prototype.markModified=function(Z,J){if(this.$__saveInitialState(Z),this.$__.activePaths.modify(Z),J!=null&&!this.$isSubdocument)this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[Z]=J};/*!
 * ignore
 */f.prototype.$__saveInitialState=function Z(J){const X=this.$__.savedState,Y=J;if(X!=null){const G=Y.indexOf("."),$=G===-1?Y:Y.slice(0,G);if(!X.hasOwnProperty($))X[$]=s6(this.$__getValue($))}};f.prototype.unmarkModified=function(Z){if(this.$__.activePaths.init(Z),this.$__.pathsToScopes!=null)delete this.$__.pathsToScopes[Z]};f.prototype.$ignore=function(Z){this.$__.activePaths.ignore(Z)};f.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))};f.prototype.$isEmpty=function(Z){const J={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){const X=this.$get(Z);if(X==null)return!0;if(typeof X!=="object")return!1;if(U1.isPOJO(X))return ik(X);return Object.keys(X.toObject(J)).length===0}return Object.keys(this.toObject(J)).length===0};/*!
 * ignore
 */f.prototype.modifiedPaths=function(Z){Z=Z||{};const J=Object.keys(this.$__.activePaths.getStatePaths("modify")),X=new Set;let Y=0,G=0;const $=J.length;for(Y=0;Y<$;++Y){const W=J[Y],H=lk(W),q=H.length;for(G=0;G<q;++G)X.add(H[G]);if(!Z.includeChildren)continue;let K=0,Q=this.$get(W);if(typeof Q==="object"&&Q!==null){if(Q._doc)Q=Q._doc;const z=Q.length;if(Array.isArray(Q))for(K=0;K<z;++K){const F=W+"."+K;if(!X.has(F)){if(X.add(F),Q[K]!=null&&Q[K].$__){const U=Q[K].modifiedPaths();let L=0;const V=U.length;for(L=0;L<V;++L)X.add(F+"."+U[L])}}}else{const F=Object.keys(Q);let U=0;const L=F.length;for(U=0;U<L;++U)X.add(W+"."+F[U])}}}return Array.from(X)};f.prototype[ck]=f.prototype.modifiedPaths;f.prototype.isModified=function(Z,J){if(Z){const X=this.$__.activePaths.states.modify;if(X==null)return!1;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let W of Z)if(X[W]!=null)return!0;const Y=J||this[ck](),G=Z.some(function(W){return!!~Y.indexOf(W)}),$=Object.keys(X);return G||Z.some(function(W){return $.some(function(H){return H===W||W.startsWith(H+".")})})}return this.$__.activePaths.some("modify")};f.prototype.$isModified=f.prototype.isModified;f.prototype[xX1]=f.prototype.isModified;f.prototype.$isDefault=function(Z){if(Z==null)return this.$__.activePaths.some("default");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(Z);let J=Z;if(!Array.isArray(J))J=J.split(" ");return J.some((X)=>this.$__.activePaths.getStatePaths("default").hasOwnProperty(X))};f.prototype.$isDeleted=function(Z){if(arguments.length===0)return!!this.$__.isDeleted;return this.$__.isDeleted=!!Z,this};f.prototype.isDirectModified=function(Z){if(Z==null)return this.$__.activePaths.some("modify");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("modify").hasOwnProperty(Z);let J=Z;if(!Array.isArray(J))J=J.split(" ");return J.some((X)=>this.$__.activePaths.getStatePaths("modify").hasOwnProperty(X))};f.prototype.isInit=function(Z){if(Z==null)return this.$__.activePaths.some("init");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(Z);let J=Z;if(!Array.isArray(J))J=J.split(" ");return J.some((X)=>this.$__.activePaths.getStatePaths("init").hasOwnProperty(X))};f.prototype.isSelected=function Z(J){if(this.$__.selected==null)return!0;if(!J)return!1;if(J==="_id")return this.$__.selected._id!==0;if(J.indexOf(" ")!==-1)J=J.split(" ");if(Array.isArray(J))return J.some(($)=>this.$__isSelected($));const X=Object.keys(this.$__.selected);let Y=null;if(X.length===1&&X[0]==="_id")return this.$__.selected._id===0;for(let $ of X){if($==="_id")continue;if(!mk(this.$__.selected[$]))continue;Y=!!this.$__.selected[$];break}if(Y===null)return!0;if(J in this.$__.selected)return Y;const G=J+".";for(let $ of X){if($==="_id")continue;if($.startsWith(G))return Y||$!==G;if(G.startsWith($+"."))return Y}return!Y};f.prototype.$__isSelected=f.prototype.isSelected;f.prototype.isDirectSelected=function Z(J){if(this.$__.selected==null)return!0;if(J==="_id")return this.$__.selected._id!==0;if(J.indexOf(" ")!==-1)J=J.split(" ");if(Array.isArray(J))return J.some((G)=>this.isDirectSelected(G));const X=Object.keys(this.$__.selected);let Y=null;if(X.length===1&&X[0]==="_id")return this.$__.selected._id===0;for(let G of X){if(G==="_id")continue;if(!mk(this.$__.selected[G]))continue;Y=!!this.$__.selected[G];break}if(Y===null)return!0;if(this.$__.selected.hasOwnProperty(J))return Y;return!Y};f.prototype.validate=async function Z(J,X){if(typeof J==="function"||typeof X==="function"||typeof arguments[2]==="function")throw new x8("Document.prototype.validate() no longer accepts a callback");let Y;if(this.$op="validate",this.$isSubdocument!=null);else if(this.$__.validating)Y=new xk(this,{parentStack:X&&X.parentStack,conflictStack:this.$__.validating.stack});else this.$__.validating=new xk(this,{parentStack:X&&X.parentStack});if(arguments.length===1){if(typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))X=arguments[0],J=null}if(X&&typeof X.pathsToSkip==="string"){const G=X.pathsToSkip.indexOf(" ")===-1;X.pathsToSkip=G?[X.pathsToSkip]:X.pathsToSkip.split(" ")}if(Y!=null)throw Y;return new Promise((G,$)=>{this.$__validate(J,X,(W)=>{if(this.$op=null,this.$__.validating=null,W!=null)return $(W);G()})})};f.prototype.$validate=f.prototype.validate;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */f.prototype.$__validate=function(Z,J,X){if(typeof Z==="function")X=Z,J=null,Z=null;else if(typeof J==="function")X=J,J=null;const Y=J&&typeof J==="object"&&"validateModifiedOnly"in J,G=J&&J.pathsToSkip||null;let $;if(Y)$=!!J.validateModifiedOnly;else $=this.$__schema.options.validateModifiedOnly;const W=this,H=()=>{let V=this.$__.validationError;if(this.$__.validationError=null,this.$__.validating=null,$&&V!=null){const w=Object.keys(V.errors);for(let B of w)if(!this.$isModified(B))delete V.errors[B];if(Object.keys(V.errors).length===0)V=void 0}if(this.$__.cachedRequired={},this.$emit("validate",W),this.constructor.emit("validate",W),V){for(let w in V.errors)if(!this[_X1]&&V.errors[w]instanceof x8.CastError)this.invalidate(w,V.errors[w]);return V}},q=nk(this,Z,G),K=$?q[0].filter((V)=>this.$isModified(V)):q[0],Q=q[1];if(typeof Z==="string")Z=Z.split(" ");if(K.length===0)return fk(function(){const V=H();if(V)return W.$__schema.s.hooks.execPost("validate:error",W,[W],{error:V},function(w){X(w)});X(null,W)});const z={};let F=0;for(let V of K)U(V);function U(V){if(V==null||z[V])return;z[V]=!0,F++,fk(function(){const w=W.$__schema.path(V);if(!w)return--F||L();if(!W.$isValid(V)){--F||L();return}if(w[yX1]!=null&&V!==w.path)return--F||L();let B=W.$__getValue(V),M;if(M=W.$populated(V))B=M;else if(B!=null&&B.$__!=null&&B.$__.wasPopulated)B=B._id;const A=W.$__.pathsToScopes!=null&&V in W.$__.pathsToScopes?W.$__.pathsToScopes[V]:W,I={...Q[V],path:V,validateModifiedOnly:$};w.doValidate(B,function(m){if(m){if((w.$isSingleNested||w.$isArraySubdocument||w.$isMongooseDocumentArray)&&m instanceof wG)return--F||L();W.invalidate(V,m,void 0,!0)}--F||L()},A,I)})}function L(){const V=H();if(V)return W.$__schema.s.hooks.execPost("validate:error",W,[W],{error:V},function(w){X(w)});X(null,W)}};/*!
 * ignore
 *//*!
 * ignore
 */f.prototype.validateSync=function(Z,J){const X=this;if(arguments.length===1&&typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))J=arguments[0],Z=null;const Y=J&&typeof J==="object"&&"validateModifiedOnly"in J;let G;if(Y)G=!!J.validateModifiedOnly;else G=this.$__schema.options.validateModifiedOnly;let $=J&&J.pathsToSkip;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");else if(typeof $==="string"&&$.indexOf(" ")!==-1)$=$.split(" ");const W=nk(this,Z,$),H=G?W[0].filter((z)=>this.$isModified(z)):W[0],q=W[1],K={};for(let z=0,F=H.length;z<F;++z){const U=H[z];if(K[U])continue;K[U]=!0;const L=X.$__schema.path(U);if(!L)continue;if(!X.$isValid(U))continue;const V=X.$__getValue(U),w=L.doValidateSync(V,X,{skipSchemaValidators:q[U],path:U,validateModifiedOnly:G});if(w){if((L.$isSingleNested||L.$isArraySubdocument||L.$isMongooseDocumentArray)&&w instanceof wG)continue;X.invalidate(U,w,void 0,!0)}}const Q=X.$__.validationError;if(X.$__.validationError=void 0,X.$emit("validate",X),X.constructor.emit("validate",X),Q){for(let z in Q.errors)if(Q.errors[z]instanceof x8.CastError)X.invalidate(z,Q.errors[z])}return Q};f.prototype.invalidate=function(Z,J,X,Y){if(!this.$__.validationError)this.$__.validationError=new wG(this);if(this.$__.validationError.errors[Z])return;if(!J||typeof J==="string")J=new hk({path:Z,message:J,type:Y||"user defined",value:X});if(this.$__.validationError===J)return this.$__.validationError;return this.$__.validationError.addError(Z,J),this.$__.validationError};f.prototype.$markValid=function(Z){if(!this.$__.validationError||!this.$__.validationError.errors[Z])return;if(delete this.$__.validationError.errors[Z],Object.keys(this.$__.validationError.errors).length===0)this.$__.validationError=null};/*!
 * ignore
 *//*!
 * ignore
 */f.prototype.$isValid=function(Z){if(this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0)return!0;if(Z==null)return!1;if(Z.indexOf(" ")!==-1)Z=Z.split(" ");if(Array.isArray(Z))return Z.some((J)=>this.$__.validationError.errors[J]==null);return this.$__.validationError.errors[Z]==null};f.prototype.$__reset=function Z(){let J=this;const X=this.$parent()===this?this.$getAllSubdocs():[],Y=new Set;for(let $ of X){const W=$.$__fullPathWithIndexes();if($.$__reset(),this.isModified(W)||G(W))if($.$isDocumentArrayElement)Y.add($.parentArray());else{const H=$.$parent();if(H===this)this.$__.activePaths.clearPath($.$basePath);else if(H!=null&&H.$isSubdocument)H.$__reset()}}for(let $ of Y)this.$__.activePaths.clearPath($.$path()),$[o9]=$[B6],$[B6]={};function G($){$=$.indexOf(".")===-1?[$]:$.split(".");let W="";for(let H=0;H<$.length;++H)if(W+=(W.length?".":"")+$[H],J.$__.activePaths[W]==="init")return!0;return!1}return this.$__dirty().forEach(function($){const W=$.value;if(W&&W[B6])W[o9]=W[B6],W[B6]={}}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,J=this,this.$__schema.requiredPaths().forEach(function($){J.$__.activePaths.require($)}),this};/*!
 * ignore
 */f.prototype.$__undoReset=function Z(){if(this.$__.backup==null||this.$__.backup.activePaths==null)return;this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;for(let J of this.$__dirty()){const X=J.value;if(X&&X[B6]&&X[o9])X[B6]=X[o9]}for(let J of this.$getAllSubdocs())J.$__undoReset()};f.prototype.$__dirty=function(){const Z=this;let J=this.$__.activePaths.map("modify",function(G){return{path:G,value:Z.$__getValue(G),schema:Z.$__path(G)}});J=J.concat(this.$__.activePaths.map("default",function(G){if(G==="_id"||Z.$__getValue(G)==null)return;return{path:G,value:Z.$__getValue(G),schema:Z.$__path(G)}}));const X=new Map(J.filter((G)=>G!=null).map((G)=>[G.path,G.value])),Y=[];return J.forEach(function(G){if(!G)return;let $=null;const W=lk(G.path);for(let H=0;H<W.length-1;H++)if(X.has(W[H])){$=X.get(W[H]);break}if($==null)Y.push(G);else if($!=null&&$[B6]!=null&&$.hasAtomics())$[B6]={},$[B6].$set=$}),Y};f.prototype.$__setSchema=function(Z){BX1(Z.tree,this,void 0,Z.options);for(let J of Object.keys(Z.virtuals))Z.virtuals[J]._applyDefaultGetters();if(Z.path("schema")==null)this.schema=Z;this.$__schema=Z,this[kz]=Z};f.prototype.$__getArrayPathsToValidate=function(){return RG||(RG=j5()),this.$__.activePaths.map("init","modify",function(Z){return this.$__getValue(Z)}.bind(this)).filter(function(Z){return Z&&Array.isArray(Z)&&U1.isMongooseDocumentArray(Z)&&Z.length}).reduce(function(Z,J){return Z.concat(J)},[]).filter(function(Z){return Z})};f.prototype.$getAllSubdocs=function(){RG||(RG=j5()),O5=O5||t9();function Z(X,Y,G){let $=X,W=!1;if(G)if(X instanceof f&&X[kz].paths[G])$=X._doc[G];else if(X instanceof f&&X[kz].nested[G])$=X._doc[G],W=!0;else $=X[G];if($ instanceof O5)Y.push($);else if($ instanceof Map)Y=Array.from($.keys()).reduce(function(H,q){return Z($.get(q),H,null)},Y);else if($&&!Array.isArray($)&&$.$isSingleNested)Y=Object.keys($._doc).reduce(function(H,q){return Z($,H,q)},Y),Y.push($);else if($&&U1.isMongooseDocumentArray($))$.forEach(function H(q){if(!q||!q._doc)return;if(Y=Object.keys(q._doc).reduce(function(K,Q){return Z(q._doc,K,Q)},Y),q instanceof O5)Y.push(q)});else if(W&&$!=null)for(let H of Object.keys($))Z($,Y,H);return Y}const J=[];for(let X of Object.keys(this._doc))Z(this,J,X);return J};/*!
 * Runs queued functions
 *//*!
 * ignore
 */f.prototype.$__handleReject=function Z(J){if(this.$listeners("error").length)this.$emit("error",J);else if(this.constructor.listeners&&this.constructor.listeners("error").length)this.constructor.emit("error",J)};f.prototype.$toObject=function(Z,J){let X={transform:!0,flattenDecimals:!0};const Y=J?"toJSON":"toObject",G=this.constructor&&this.constructor.base&&this.constructor.base.options&&IX1(this.constructor.base.options,Y)||{},$=this.$__schema&&this.$__schema.options||{};X=U1.options(X,s6(G)),X=U1.options(X,s6($[Y]||{})),Z=U1.isPOJO(Z)?{...Z}:{},Z._calledWithOptions=Z._calledWithOptions||{...Z};let W;if(Z._calledWithOptions.minimize!=null)W=Z.minimize;else if(X.minimize!=null)W=X.minimize;else W=$.minimize;let H;if(Z._calledWithOptions.flattenMaps!=null)H=Z.flattenMaps;else if(X.flattenMaps!=null)H=X.flattenMaps;else H=$.flattenMaps;let q;if(Z._calledWithOptions.flattenObjectIds!=null)q=Z.flattenObjectIds;else if(X.flattenObjectIds!=null)q=X.flattenObjectIds;else q=$.flattenObjectIds;const K=Object.assign({},Z,{_isNested:!0,json:J,minimize:W,flattenMaps:H,flattenObjectIds:q,_seen:Z&&Z._seen||new Map});if(U1.hasUserDefinedProperty(Z,"getters"))K.getters=Z.getters;if(U1.hasUserDefinedProperty(Z,"virtuals"))K.virtuals=Z.virtuals;if((Z.depopulate||(Z._parentOptions&&Z._parentOptions.depopulate||!1))&&Z._isNested&&this.$__.wasPopulated)return s6(this.$__.wasPopulated.value||this._id,K);Z=U1.options(X,Z),Z._isNested=!0,Z.json=J,Z.minimize=W,K._parentOptions=Z,K._skipSingleNestedGetters=!1;const z=Object.assign({},K);z._skipSingleNestedGetters=!0;const F=Z.transform;let U=s6(this._doc,K)||{};if(Z.getters){if(nX1(this,U,z),Z.minimize)U=TX1(U)||{}}if(Z.virtuals||Z.getters&&Z.virtuals!==!1)ak(this,U,z,Z);if(Z.versionKey===!1&&this.$__schema.options.versionKey)delete U[this.$__schema.options.versionKey];let L=Z.transform;if(L)aX1(this,U);if(Z.useProjection)sX1(this,U);if(L===!0||$.toObject&&L){const V=Z.json?$.toJSON:$.toObject;if(V)L=typeof Z.transform==="function"?Z.transform:V.transform}else Z.transform=F;if(typeof L==="function"){const V=L(this,U,Z);if(typeof V!=="undefined")U=V}return U};f.prototype.toObject=function(Z){return this.$toObject(Z)};/*!
 * Applies virtuals properties to `json`.
 *//*!
 * ignore
 */f.prototype.toJSON=function(Z){return this.$toObject(Z,!0)};/*!
 * ignore
 */f.prototype.ownerDocument=function(){return this};f.prototype.parent=function(){if(this.$isSubdocument||this.$__.wasPopulated)return this.$__.parent;return this};f.prototype.$parent=f.prototype.parent;f.prototype.inspect=function(Z){const J=U1.isPOJO(Z);let X;if(J)X=Z,X.minimize=!1;const Y=this.toObject(X);if(Y==null)return"MongooseDocument { "+Y+" }";return Y};if(Sz.custom)f.prototype[Sz.custom]=f.prototype.inspect;f.prototype.toString=function(){const Z=this.inspect();if(typeof Z==="string")return Z;return Sz(Z)};f.prototype.equals=function(Z){if(!Z)return!1;const J=this.$__getValue("_id"),X=Z.$__!=null?Z.$__getValue("_id"):Z;if(!J&&!X)return VG(this,Z);return J&&J.equals?J.equals(X):J===X};f.prototype.populate=async function Z(){const J={},X=[...arguments];if(typeof X[X.length-1]==="function")throw new x8("Document.prototype.populate() no longer accepts a callback");if(X.length!==0){const $=U1.populate.apply(null,X);for(let W of $)J[W.path]=W}const Y=U1.object.vals(J);let G=this.constructor;if(this.$__isNested){G=this.$__[fX1].constructor;const $=this.$__.nestedPath;Y.forEach(function(W){W.path=$+"."+W.path})}if(this.$session()!=null){const $=this.$session();Y.forEach((W)=>{if(W.options==null){W.options={session:$};return}if(!("session"in W.options))W.options.session=$})}return Y.forEach(($)=>{$._localModel=G}),G.populate(this,Y)};f.prototype.$getPopulatedDocs=function Z(){let J=[];if(this.$__.populated!=null)J=J.concat(Object.keys(this.$__.populated));let X=[];for(let Y of J){const G=this.$get(Y);if(Array.isArray(G))X=X.concat(G);else if(G instanceof f)X.push(G)}return X};f.prototype.populated=function(Z,J,X){if(J==null||J===!0){if(!this.$__.populated)return;if(typeof Z!=="string")return;const G=Z.endsWith(".$*")?Z.replace(/\.\$\*$/,""):Z,$=this.$__.populated[G];if($)return J===!0?$:$.value;return}this.$__.populated||(this.$__.populated={}),this.$__.populated[Z]={value:J,options:X};const Y=Z.split(".");for(let G=0;G<Y.length-1;++G){const $=Y.slice(0,G+1).join("."),W=this.$get($);if(W!=null&&W.$__!=null&&this.$populated($)){const H=Y.slice(G+1).join(".");W.$populated(H,J,X);break}}return J};f.prototype.$populated=f.prototype.populated;f.prototype.$assertPopulated=function Z(J,X){if(Array.isArray(J))return J.forEach((Y)=>this.$assertPopulated(Y,X)),this;if(arguments.length>1)this.$set(X);if(!this.$populated(J))throw new x8(`Expected path "${J}" to be populated`);return this};f.prototype.depopulate=function(Z){if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");let J;const X=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],Y=this.$__&&this.$__.populated||{};if(arguments.length===0){for(let $ of X)delete this.$$populatedVirtuals[$],delete this._doc[$],delete Y[$];const G=Object.keys(Y);for(let $ of G){if(J=this.$populated($),!J)continue;delete Y[$],U1.setValue($,J,this._doc)}return this}for(let G of Z)if(J=this.$populated(G),delete Y[G],X.indexOf(G)!==-1)delete this.$$populatedVirtuals[G],delete this._doc[G];else if(J)U1.setValue(G,J,this._doc);return this};f.prototype.$__fullPath=function(Z){return Z||""};f.prototype.getChanges=function(){const Z=this.$__delta();return Z?Z[1]:{}};f.prototype.$clone=function(){const J=new this.constructor;if(J.$isNew=this.$isNew,this._doc)J._doc=s6(this._doc);if(this.$__){const Y=new this.$__.constructor;for(let G of Object.getOwnPropertyNames(this.$__)){if(G==="activePaths")continue;Y[G]=s6(this.$__[G])}Object.assign(Y.activePaths,s6({...this.$__.activePaths})),J.$__=Y}return J};/*!
 * Module exports.
 */f.ValidationError=wG;rk.exports=sk=f});var X1=R((KY1)=>{var GY1=function(Z){if(Array.isArray(Z.populate)){const Y=[];Z.populate.forEach(function(G){if(gz.test(G.path)){const $=Object.assign({},G);$.path.split(fz).forEach(function(H){$.path=H,Y.push(KY1.populate($)[0])})}else Y.push(KY1.populate(G)[0])}),Z.populate=KY1.populate(Y)}else if(Z.populate!=null&&typeof Z.populate==="object")Z.populate=KY1.populate(Z.populate);const J=[],X=gz.test(Z.path)?Z.path.split(fz):[Z.path];if(Z.options!=null)Z.options=xz(Z.options);for(let Y of X)J.push(new Y_(Object.assign({},Z,{path:Y})));return J},WY1=function(Z,J){let X=Z?._doc||Z;if(X!=null&&X.isMongooseArrayProxy)X=X.__array;return X instanceof Map?X.get(J,$Y1):X[J]};/*!
 * Module dependencies.
 */var rX1=X6().UUID,tX1=aO(),X_=p6(),oX1=B4(),Y_=WS(),xz=W0(),eX1=h8(),ZY1=e4(),G_=i3(),$_=HS(),S7=B8(),JY1=UW(),aJ=OZ(),XY1=sY(),YY1=rY(),sJ=n7(),{trustedSymbol:JZ}=a5(),_z;KY1.specialProperties=sJ;KY1.isMongooseArray=G_.isMongooseArray;KY1.isMongooseDocumentArray=$_.isMongooseDocumentArray;KY1.registerMongooseArray=G_.registerMongooseArray;KY1.registerMongooseDocumentArray=$_.registerMongooseDocumentArray;var gz=/\s/,fz=/\s+/;KY1.toCollectionName=function(Z,J){if(Z==="system.profile")return Z;if(Z==="system.indexes")return Z;if(typeof J==="function")return J(Z);return Z};KY1.deepEqual=function Z(J,X){if(J===X)return!0;if(typeof J!=="object"||typeof X!=="object")return J===X;if(J instanceof Date&&X instanceof Date)return J.getTime()===X.getTime();if(S7(J,"ObjectId")&&S7(X,"ObjectId")||S7(J,"Decimal128")&&S7(X,"Decimal128"))return J.toString()===X.toString();if(J instanceof RegExp&&X instanceof RegExp)return J.source===X.source&&J.ignoreCase===X.ignoreCase&&J.multiline===X.multiline&&J.global===X.global&&J.dotAll===X.dotAll&&J.unicode===X.unicode&&J.sticky===X.sticky&&J.hasIndices===X.hasIndices;if(J==null||X==null)return!1;if(J.prototype!==X.prototype)return!1;if(J instanceof Map||X instanceof Map){if(!(J instanceof Map)||!(X instanceof Map))return!1;return Z(Array.from(J.keys()),Array.from(X.keys()))&&Z(Array.from(J.values()),Array.from(X.values()))}if(J instanceof Number&&X instanceof Number)return J.valueOf()===X.valueOf();if(Buffer.isBuffer(J))return KY1.buffer.areEqual(J,X);if(Array.isArray(J)||Array.isArray(X)){if(!Array.isArray(J)||!Array.isArray(X))return!1;const W=J.length;if(W!==X.length)return!1;for(let H=0;H<W;++H)if(!Z(J[H],X[H]))return!1;return!0}if(J.$__!=null)J=J._doc;else if(aJ(J))J=J.toObject();if(X.$__!=null)X=X._doc;else if(aJ(X))X=X.toObject();const Y=Object.keys(J),G=Object.keys(X),$=Y.length;if($!==G.length)return!1;for(let W=$-1;W>=0;W--)if(Y[W]!==G[W])return!1;for(let W of Y)if(!Z(J[W],X[W]))return!1;return!0};KY1.last=function(Z){if(Z.length>0)return Z[Z.length-1];return};/*!
 * ignore
 */KY1.promiseOrCallback=XY1;/*!
 * ignore
 */KY1.cloneArrays=function Z(J){if(!Array.isArray(J))return J;return J.map((X)=>KY1.cloneArrays(X))};/*!
 * ignore
 */KY1.omit=function Z(J,X){if(X==null)return Object.assign({},J);if(!Array.isArray(X))X=[X];const Y=Object.assign({},J);for(let G of X)delete Y[G];return Y};KY1.options=function(Z,J){const X=Object.keys(Z);let Y=X.length,G;J=J||{};while(Y--)if(G=X[Y],!(G in J))J[G]=Z[G];return J};KY1.merge=function Z(J,X,Y,G){Y=Y||{};const $=Object.keys(X);let W=0;const H=$.length;let q;if(X[JZ])J[JZ]=X[JZ];G=G||"";const K=Y.omitNested||{};while(W<H){if(q=$[W++],Y.omit&&Y.omit[q])continue;if(K[G])continue;if(sJ.has(q))continue;if(J[q]==null)J[q]=X[q];else if(KY1.isObject(X[q])){if(!KY1.isObject(J[q]))J[q]={};if(X[q]!=null){if(Y.isDiscriminatorSchemaMerge&&(X[q].$isSingleNested&&J[q].$isMongooseDocumentArray)||X[q].$isMongooseDocumentArray&&J[q].$isSingleNested)continue;else if(X[q].instanceOfSchema){if(J[q].instanceOfSchema)YY1(J[q],X[q].clone(),Y.isDiscriminatorSchemaMerge);else J[q]=X[q].clone();continue}else if(S7(X[q],"ObjectId")){J[q]=new oX1(X[q]);continue}}Z(J[q],X[q],Y,G?G+"."+q:q)}else if(Y.overwrite)J[q]=X[q]}};KY1.toObject=function Z(J){_z||(_z=S8());let X;if(J==null)return J;if(J instanceof _z)return J.toObject();if(Array.isArray(J)){X=[];for(let Y of J)X.push(Z(Y));return X}if(KY1.isPOJO(J)){if(X={},J[JZ])X[JZ]=J[JZ];for(let Y of Object.keys(J)){if(sJ.has(Y))continue;X[Y]=Z(J[Y])}return X}return J};KY1.isObject=ZY1;KY1.isPOJO=LW();KY1.isNonBuiltinObject=function Z(J){return typeof J==="object"&&!KY1.isNativeObject(J)&&!KY1.isMongooseType(J)&&!(J instanceof rX1)&&J!=null};KY1.isNativeObject=function(Z){return Array.isArray(Z)||Z instanceof Date||Z instanceof Boolean||Z instanceof Number||Z instanceof String};KY1.isEmptyObject=function(Z){return Z!=null&&typeof Z==="object"&&Object.keys(Z).length===0};KY1.hasKey=function Z(J,X){const Y=Object.keys(J);for(let G of Y){if(G===X)return!0;if(KY1.isPOJO(J[G])&&KY1.hasKey(J[G],X))return!0}return!1};KY1.tick=function Z(J){if(typeof J!=="function")return;return function(){try{J.apply(this,arguments)}catch(X){eX1(function(){throw X})}}};KY1.isMongooseType=function(Z){return S7(Z,"ObjectId")||S7(Z,"Decimal128")||Z instanceof Buffer};KY1.isMongooseObject=aJ;KY1.expires=function Z(J){if(!(J&&J.constructor.name==="Object"))return;if(!("expires"in J))return;J.expireAfterSeconds=typeof J.expires!=="string"?J.expires:Math.round(tX1(J.expires)/1000),delete J.expires};KY1.populate=function Z(J,X,Y,G,$,W,H,q){let K=null;if(arguments.length===1){if(J instanceof Y_)return J._docs=[],J._childDocs=[],[J];if(Array.isArray(J))return Q(J).map((F)=>KY1.populate(F)[0]);if(KY1.isObject(J))K=Object.assign({},J);else K={path:J}}else if(typeof Y==="object")K={path:J,select:X,match:Y,options:G};else K={path:J,select:X,model:Y,match:G,options:$,populate:W,justOne:H,count:q};if(typeof K.path!=="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+typeof J+"`");return GY1(K);function Q(z){const F=[];return z.forEach(function(U){if(gz.test(U.path))U.path.split(fz).forEach(function(V){const w=Object.assign({},U);w.path=V,F.push(w)});else F.push(U)}),F}};KY1.getValue=function(Z,J,X){return X_.get(Z,J,WY1,X)};/*!
 * ignore
 */var $Y1=Object.freeze({getters:!1});KY1.setValue=function(Z,J,X,Y,G){X_.set(Z,J,X,"_doc",Y,G)};KY1.object={};KY1.object.vals=function Z(J){const X=Object.keys(J);let Y=X.length;const G=[];while(Y--)G.push(J[X[Y]]);return G};KY1.object.shallowCopy=KY1.options;var HY1=Object.prototype.hasOwnProperty;KY1.object.hasOwnProperty=function(Z,J){return HY1.call(Z,J)};KY1.isNullOrUndefined=function(Z){return Z===null||Z===void 0};/*!
 * ignore
 */KY1.array={};KY1.array.flatten=function Z(J,X,Y){return Y||(Y=[]),J.forEach(function(G){if(Array.isArray(G))Z(G,X,Y);else if(!X||X(G))Y.push(G)}),Y};/*!
 * ignore
 */var qY1=Object.prototype.hasOwnProperty;KY1.hasUserDefinedProperty=function(Z,J){if(Z==null)return!1;if(Array.isArray(J)){for(let X of J)if(KY1.hasUserDefinedProperty(Z,X))return!0;return!1}if(qY1.call(Z,J))return!0;if(typeof Z==="object"&&J in Z){const X=Z[J];return X!==Object.prototype[J]&&X!==Array.prototype[J]}return!1};/*!
 * ignore
 */var tk=Math.pow(2,32)-1;KY1.isArrayIndex=function(Z){if(typeof Z==="number")return Z>=0&&Z<=tk;if(typeof Z==="string"){if(!/^\d+$/.test(Z))return!1;return Z=+Z,Z>=0&&Z<=tk}return!1};KY1.array.unique=function(Z){const J=new Set,X=new Set,Y=[];for(let G of Z)if(typeof G==="number"||typeof G==="string"||G==null){if(J.has(G))continue;Y.push(G),J.add(G)}else if(S7(G,"ObjectId")){if(X.has(G.toString()))continue;Y.push(G),X.add(G.toString())}else Y.push(G);return Y};KY1.buffer={};KY1.buffer.areEqual=function(Z,J){if(!Buffer.isBuffer(Z))return!1;if(!Buffer.isBuffer(J))return!1;if(Z.length!==J.length)return!1;for(let X=0,Y=Z.length;X<Y;++X)if(Z[X]!==J[X])return!1;return!0};KY1.getFunctionName=JY1;KY1.decorate=function(Z,J){for(let X in J){if(sJ.has(X))continue;Z[X]=J[X]}};KY1.mergeClone=function(Z,J){if(aJ(J))J=J.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});const X=Object.keys(J),Y=X.length;let G=0,$;while(G<Y){if($=X[G++],sJ.has($))continue;if(typeof Z[$]==="undefined")Z[$]=xz(J[$],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{let W=J[$];if(W!=null&&W.valueOf&&!(W instanceof Date))W=W.valueOf();if(KY1.isObject(W)){let H=W;if(aJ(W)&&!W.isMongooseBuffer)H=H.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});if(W.isMongooseBuffer)H=Buffer.from(H);KY1.mergeClone(Z[$],H)}else Z[$]=xz(W,{flattenDecimals:!1})}}};KY1.each=function(Z,J){for(let X of Z)J(X)};KY1.renameObjKey=function(Z,J,X){return Object.keys(Z).reduce((G,$)=>{if($===J)G[X]=Z[J];else G[$]=Z[$];return G},{})};/*!
 * ignore
 */KY1.getOption=function(Z){const J=Array.prototype.slice.call(arguments,1);for(let X of J){if(X==null)continue;if(X[Z]!=null)return X[Z]}return null};/*!
 * ignore
 */KY1.noop=function(){};KY1.errorToPOJO=function Z(J){if(!(J instanceof Error))throw new Error("`error` must be `instanceof Error`.");const Y={};for(let G of Object.getOwnPropertyNames(J))Y[G]=J[G];return Y};/*!
 * ignore
 */KY1.warn=function Z(J){return process.emitWarning(J,{code:"MONGOOSE"})};KY1.injectTimestampsOption=function Z(J,X){if(X==null)return;J.timestamps=X}});var S0=R((NG,R_)=>{var L1=function(Z,J,X){this[pY1]=!0,this.path=Z,this.instance=X,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),J=J||{};const Y=this.constructor.defaultOptions||{},G=Object.keys(Y);for(let H of G)if(Y.hasOwnProperty(H)&&!Object.prototype.hasOwnProperty.call(J,H))J[H]=Y[H];if(J.select==null)delete J.select;const $=this.OptionsConstructor||U_;if(this.options=new $(J),this._index=null,S5.hasUserDefinedProperty(this.options,"immutable"))this.$immutable=this.options.immutable,bz(this);const W=Object.keys(this.options);for(let H of W){if(H==="cast"){if(Array.isArray(this.options[H]))this.castFunction.apply(this,this.options[H]);else this.castFunction(this.options[H]);continue}if(S5.hasUserDefinedProperty(this.options,H)&&typeof this[H]==="function"){if(H==="index"&&this._index){if(J.index===!1){const Q=this._index;if(typeof Q==="object"&&Q!=null){if(Q.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(Q.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}const q=J[H];if(H==="default"){this.default(q);continue}const K=Array.isArray(q)?q:[q];this[H].apply(this,K)}}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})},Q_=function(Z,J){if(Z!==void 0&&!Z){const Y=new(J.ErrorConstructor||hz)(J);return Y[L_]=!0,Y}},z_=function(Z,J){return this.castForQuery(null,Z,J)},sY1=function(Z,J){const X=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,J)];return Z.map(function(Y){return X.castForQuery(null,Y,J)})},F_=function(Z,J){const X=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,J)];return Z.map(function(Y){if(Array.isArray(Y)&&Y.length===0)return Y;return X.castForQuery(null,Y,J)})};/*!
 * Module dependencies.
 */var rJ=h1(),U_=s8(),dY1=nY(),cY1=sQ(),MG=W0(),bz=dO(),lY1=lO(),vz=iO(),K_=h8(),pY1=t().schemaTypeSymbol,S5=X1(),L_=t().validatorErrorSymbol,iY1=t().documentIsModified,nY1=t().populateModelSymbol,V_=rJ.CastError,hz=rJ.ValidatorError,aY1={_skipMarkModified:!0};L1.prototype.OptionsConstructor=U_;L1.prototype.path;L1.prototype.validators;L1.prototype.isRequired;L1.prototype.splitPath=function(){if(this._presplitPath!=null)return this._presplitPath;if(this.path==null)return;return this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath};L1.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=(X)=>X;return this._cast=J,this._cast};L1.prototype.castFunction=function Z(J,X){if(arguments.length===0)return this._castFunction;if(J===!1)J=this.constructor._defaultCaster||((Y)=>Y);if(typeof J==="string")return this._castErrorMessage=J,this._castFunction;if(J!=null)this._castFunction=J;if(X!=null)this._castErrorMessage=X;return this._castFunction};L1.prototype.cast=function Z(){throw new Error("Base SchemaType class does not implement a `cast()` function")};L1.set=function Z(J,X){if(!this.hasOwnProperty("defaultOptions"))this.defaultOptions=Object.assign({},this.defaultOptions);this.defaultOptions[J]=X};L1.get=function(Z){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(Z)};L1.prototype.default=function(Z){if(arguments.length===1){if(Z===void 0){this.defaultValue=void 0;return}if(Z!=null&&Z.instanceOfSchema)throw new rJ("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=Z,this.defaultValue}else if(arguments.length>1)this.defaultValue=[...arguments];return this.defaultValue};L1.prototype.index=function(Z){return this._index=Z,S5.expires(this._index),this};L1.prototype.unique=function(Z){if(this._index===!1){if(!Z)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||this._index===!0)this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.unique=Z,this};L1.prototype.text=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index===null||this._index===void 0||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.text=Z,this};L1.prototype.sparse=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.sparse=Z,this};L1.prototype.immutable=function(Z){return this.$immutable=Z,bz(this),this};L1.prototype.transform=function(Z){return this.options.transform=Z,this};L1.prototype.set=function(Z){if(typeof Z!=="function")throw new TypeError("A setter must be a function.");return this.setters.push(Z),this};L1.prototype.get=function(Z){if(typeof Z!=="function")throw new TypeError("A getter must be a function.");return this.getters.push(Z),this};L1.prototype.validate=function(Z,J,X){if(typeof Z==="function"||Z&&S5.getFunctionName(Z.constructor)==="RegExp"){let W;if(typeof J==="function")W={validator:Z,message:J},W.type=X||"user defined";else if(J instanceof Object&&!X){if(W=vz(J)?Object.assign({},J):MG(J),!W.message)W.message=W.msg;W.validator=Z,W.type=W.type||"user defined"}else{if(J==null)J=rJ.messages.general.default;if(!X)X="user defined";W={message:J,type:X,validator:Z}}return this.validators.push(W),this}let Y,G,$;for(Y=0,G=arguments.length;Y<G;Y++){if($=arguments[Y],!S5.isPOJO($)){const W="Invalid validator. Received ("+typeof $+") "+$+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(W)}this.validate($.validator,$)}return this};L1.prototype.required=function(Z,J){let X={};if(arguments.length>0&&Z==null)return this.validators=this.validators.filter(function($){return $.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(typeof Z==="object")X=Z,J=X.message||J,Z=Z.isRequired;if(Z===!1)return this.validators=this.validators.filter(function($){return $.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;const Y=this;if(this.isRequired=!0,this.requiredValidator=function($){const W=this&&this.$__&&this.$__.cachedRequired;if(W!=null&&!this.$__isSelected(Y.path)&&!this[iY1](Y.path))return!0;if(W!=null&&Y.path in W){const H=W[Y.path]?Y.checkRequired($,this):!0;return delete W[Y.path],H}else if(typeof Z==="function")return Z.apply(this)?Y.checkRequired($,this):!0;return Y.checkRequired($,this)},this.originalRequiredValue=Z,typeof Z==="string")J=Z,Z=void 0;const G=J||rJ.messages.general.required;return this.validators.unshift(Object.assign({},X,{validator:this.requiredValidator,message:G,type:"required"})),this};L1.prototype.ref=function(Z){return this.options.ref=Z,this};L1.prototype.getDefault=function(Z,J,X){let Y;if(typeof this.defaultValue==="function")if(this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid")Y=this.defaultValue.call(Z);else Y=this.defaultValue.call(Z,Z);else Y=this.defaultValue;if(Y!==null&&Y!==void 0){if(typeof Y==="object"&&(!this.options||!this.options.shared))Y=MG(Y);if(X&&X.skipCast)return this._applySetters(Y,Z);const G=this.applySetters(Y,Z,J,void 0,aY1);if(G&&!Array.isArray(G)&&G.$isSingleNested)G.$__parent=Z;return G}return Y};L1.prototype._applySetters=function(Z,J,X,Y,G){let $=Z;if(X)return $;const W=this.setters;for(let H=W.length-1;H>=0;H--)$=W[H].call(J,$,Y,this,G);return $};/*!
 * ignore
 */L1.prototype._castNullish=function Z(J){return J};L1.prototype.applySetters=function(Z,J,X,Y,G){let $=this._applySetters(Z,J,X,Y,G);if($==null)return this._castNullish($);return $=this.cast($,J,X,Y,G),$};L1.prototype.applyGetters=function(Z,J){let X=Z;const Y=this.getters,G=Y.length;if(G===0)return X;for(let $=0;$<G;++$)X=Y[$].call(J,X,this);return X};L1.prototype.select=function Z(J){return this.selected=!!J,this};L1.prototype.doValidate=function(Z,J,X,Y){let G=!1;const $=this.path,W=this.validators.filter((K)=>typeof K==="object"&&K!==null);let H=W.length;if(!H)return J(null);for(let K=0,Q=W.length;K<Q;++K){if(G)break;const z=W[K],F=z.validator;let U;const L=vz(z)?Object.assign({},z):MG(z);if(L.path=Y&&Y.path?Y.path:$,L.fullPath=this.$fullPath,L.value=Z,F instanceof RegExp){q(F.test(Z),L,X);continue}if(typeof F!=="function")continue;if(Z===void 0&&F!==this.requiredValidator){q(!0,L,X);continue}try{if(L.propsParameter)U=F.call(X,Z,L);else U=F.call(X,Z)}catch(V){if(U=!1,L.reason=V,V.message)L.message=V.message}if(U!=null&&typeof U.then==="function")U.then(function(V){q(V,L,X)},function(V){L.reason=V,L.message=V.message,U=!1,q(U,L,X)});else q(U,L,X)}function q(K,Q,z){if(G)return;if(K===void 0||K){if(--H<=0)K_(function(){J(null)})}else G=new(Q.ErrorConstructor||hz)(Q,z),G[L_]=!0,K_(function(){J(G)})}};L1.prototype.doValidateSync=function(Z,J,X){const Y=this.path;if(!this.validators.length)return null;let $=this.validators;if(Z===void 0)if(this.validators.length!==0&&this.validators[0].type==="required")$=[this.validators[0]];else return null;let W=null,H=0;const q=$.length;for(H=0;H<q;++H){const K=$[H];if(K===null||typeof K!=="object")continue;const Q=K.validator,z=vz(K)?Object.assign({},K):MG(K);z.path=X&&X.path?X.path:Y,z.fullPath=this.$fullPath,z.value=Z;let F=!1;if(lY1(Q))continue;if(Q instanceof RegExp){W=Q_(Q.test(Z),z);continue}if(typeof Q!=="function")continue;try{if(z.propsParameter)F=Q.call(J,Z,z);else F=Q.call(J,Z)}catch(U){F=!1,z.reason=U}if(F!=null&&typeof F.then==="function")continue;if(W=Q_(F,z),W)break}return W};L1._isRef=function(Z,J,X,Y){let G=Y&&Z.options&&(Z.options.ref||Z.options.refPath);if(!G&&X&&X.$__!=null){const $=X.$__fullPath(Z.path,!0),W=X.ownerDocument();G=$!=null&&W.$populated($)||X.$populated(Z.path)}if(G){if(J==null)return!0;if(!Buffer.isBuffer(J)&&J._bsontype!=="Binary"&&S5.isObject(J))return!0;return Y}return!1};/*!
 * ignore
 */L1.prototype._castRef=function Z(J,X,Y){if(J==null)return J;if(J.$__!=null)return J.$__.wasPopulated=J.$__.wasPopulated||!0,J;if(Buffer.isBuffer(J)||!S5.isObject(J)){if(Y)return J;throw new V_(this.instance,J,this.path,null,this)}const G=X.$__fullPath(this.path,!0),W=X.ownerDocument().$populated(G,!0);let H=J;if(!X.$__.populated||!X.$__.populated[G]||!X.$__.populated[G].options||!X.$__.populated[G].options.options||!X.$__.populated[G].options.options.lean)H=new W.options[nY1](J),H.$__.wasPopulated=!0;return H};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */L1.prototype.$conditionalHandlers={$all:sY1,$eq:z_,$in:F_,$ne:z_,$nin:F_,$exists:dY1,$type:cY1};L1.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=this.$conditionalHandlers[Z],!Y)throw new Error("Can\'t use "+Z);return Y.call(this,J,X)}return this.applySetters(J,X)};L1.checkRequired=function(Z){if(arguments.length!==0)this._checkRequired=Z;return this._checkRequired};L1.prototype.checkRequired=function(Z){return Z!=null};L1.prototype.clone=function(){const Z=Object.assign({},this.options),J=new this.constructor(this.path,Z,this.instance);if(J.validators=this.validators.slice(),this.requiredValidator!==void 0)J.requiredValidator=this.requiredValidator;if(this.defaultValue!==void 0)J.defaultValue=this.defaultValue;if(this.$immutable!==void 0&&this.options.immutable===void 0)J.$immutable=this.$immutable,bz(J);if(this._index!==void 0)J._index=this._index;if(this.selected!==void 0)J.selected=this.selected;if(this.isRequired!==void 0)J.isRequired=this.isRequired;if(this.originalRequiredValue!==void 0)J.originalRequiredValue=this.originalRequiredValue;return J.getters=this.getters.slice(),J.setters=this.setters.slice(),J};/*!
 * Module exports.
 */R_.exports=NG=L1;NG.CastError=V_;NG.ValidatorError=hz});var A_=R((JM1,w_)=>{var r6=A6();class r8{constructor(Z){if(Object.assign(this,Z),Z!=null&&Z.options!=null)this.options=Object.assign({},Z.options)}}Object.defineProperty(r8.prototype,"ref",r6);Object.defineProperty(r8.prototype,"refPath",r6);Object.defineProperty(r8.prototype,"localField",r6);Object.defineProperty(r8.prototype,"foreignField",r6);Object.defineProperty(r8.prototype,"justOne",r6);Object.defineProperty(r8.prototype,"count",r6);Object.defineProperty(r8.prototype,"match",r6);Object.defineProperty(r8.prototype,"options",r6);Object.defineProperty(r8.prototype,"skip",r6);Object.defineProperty(r8.prototype,"limit",r6);Object.defineProperty(r8.prototype,"perDocumentLimit",r6);w_.exports=r8});var uz=R((XM1,B_)=>{var k7=function(Z,J){this.path=J,this.getters=[],this.setters=[],this.options=Object.assign({},Z)},rY1=X1();k7.prototype._applyDefaultGetters=function(){if(this.getters.length>0||this.setters.length>0)return;const J="$"+this.path;this.getters.push(function(){return this.$locals[J]}),this.setters.push(function(X){this.$locals[J]=X})};/*!
 * ignore
 */k7.prototype.clone=function(){const Z=new k7(this.options,this.path);return Z.getters=[].concat(this.getters),Z.setters=[].concat(this.setters),Z};k7.prototype.get=function(Z){return this.getters.push(Z),this};k7.prototype.set=function(Z){return this.setters.push(Z),this};k7.prototype.applyGetters=function(Z,J){if(rY1.hasUserDefinedProperty(this.options,["ref","refPath"])&&J.$$populatedVirtuals&&J.$$populatedVirtuals.hasOwnProperty(this.path))Z=J.$$populatedVirtuals[this.path];let X=Z;for(let Y of this.getters)X=Y.call(J,X,this,J);return X};k7.prototype.applySetters=function(Z,J){let X=Z;for(let Y of this.setters)X=Y.call(J,X,this,J);return X};/*!
 * exports
 */B_.exports=k7});var mz=R((YM1,M_)=>{M_.exports=function Z(J){const X={_id:{auto:!0}};X._id[J.options.typeKey]="ObjectId",J.add(X)}});var dz=R((GM1,N_)=>{N_.exports=function Z(J,X){const Y=J.discriminatorMapping&&J.discriminatorMapping.value;if(Y&&!("sparse"in X)){const G=J.options.discriminatorKey;X.partialFilterExpression=X.partialFilterExpression||{},X.partialFilterExpression[G]=Y}return X}});var D_=R(($M1,I_)=>{var cz=Z0(),tY1=e4(),oY1=dz();I_.exports=function Z(J){let X=[];const Y=new WeakMap,G=J.constructor.indexTypes,$=new Map;return W(J),X;function W(q,K,Q){if(Y.has(q))return;Y.set(q,!0),K=K||"";const z=Object.keys(q.paths);for(let F of z){const U=q.paths[F];if(Q!=null&&Q.paths[F])continue;if(U.$isMongooseDocumentArray||U.$isSingleNested){if(cz(U,"options.excludeIndexes")!==!0&&cz(U,"schemaOptions.excludeIndexes")!==!0&&cz(U,"schema.options.excludeIndexes")!==!0)W(U.schema,K+F+".");if(U.schema.discriminators!=null){const V=U.schema.discriminators,w=Object.keys(V);for(let B of w)W(V[B],K+F+".",U.schema)}if(U.$isMongooseDocumentArray)continue}const L=U._index||U.caster&&U.caster._index;if(L!==!1&&L!==null&&L!==void 0){const V={},w=tY1(L),B=w?L:{},M=typeof L==="string"?L:w?L.type:!1;if(M&&G.indexOf(M)!==-1)V[K+F]=M;else if(B.text)V[K+F]="text",delete B.text;else{let I=!1;if(L==="descending"||L==="desc")I=!0;else if(L==="ascending"||L==="asc")I=!1;else I=Number(L)===-1;V[K+F]=I?-1:1}if(delete B.type,!("background"in B))B.background=!0;if(q.options.autoIndex!=null)B._autoIndex=q.options.autoIndex;const A=B&&B.name;if(typeof A==="string")if($.has(A))Object.assign($.get(A),V);else X.push([V,B]),$.set(A,V);else X.push([V,B]),$.set(A,V)}}if(Y.delete(q),K)H(q,K);else q._indexes.forEach(function(F){const U=F[1];if(!("background"in U))U.background=!0;oY1(q,U)}),X=X.concat(q._indexes)}function H(q,K){const Q=q._indexes,z=Q.length;for(let F=0;F<z;++F){const U=Q[F][0],L=Q[F][1],V=Object.keys(U),w=V.length,B={};for(let A=0;A<w;++A){const I=V[A];B[K+I]=U[I]}const M=Object.assign({},L);if(L!=null&&L.partialFilterExpression!=null){M.partialFilterExpression={};const A=L.partialFilterExpression;for(let I of Object.keys(A))M.partialFilterExpression[K+I]=A[I]}X.push([B,M])}}}});var lz=R((WM1,C_)=>{C_.exports=function Z(J){switch(J){case"p":J="primary";break;case"pp":J="primaryPreferred";break;case"s":J="secondary";break;case"sp":J="secondaryPreferred";break;case"n":J="nearest";break}return J}});var E_=R((HM1,P_)=>{var eY1=function(){if(this._id!=null)return String(this._id);return null};/*!
 * ignore
 */P_.exports=function Z(J){if(!(!J.paths.id&&J.paths._id&&J.options.id))return J;if(J.aliases&&J.aliases.id)return J;return J.virtual("id").get(eY1),J}});var tJ=R((qM1,T_)=>{T_.exports=function Z(J){return J.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}});var pz=R((KM1,j_)=>{var ZG1=function(Z,J){if(Z==null)return null;if(typeof Z==="boolean")return J;if(typeof Z[J]==="boolean")return Z[J]?J:null;if(!(J in Z))return J;return Z[J]};j_.exports=ZG1;/*!
 * ignore
 */});var nz=R((QM1,O_)=>{var k5=function(Z,J,X){if(J==null)return;if(Object.keys(J).some((H)=>H[0]==="$")){if(J.$push)W(J.$push);if(J.$addToSet)W(J.$addToSet);if(J.$set!=null){const H=Object.keys(J.$set);for(let q of H)iz(X,q,J.$set,Z)}if(J.$setOnInsert!=null){const H=Object.keys(J.$setOnInsert);for(let q of H)iz(X,q,J.$setOnInsert,Z)}}const $=Object.keys(J).filter((H)=>H[0]!=="$");for(let H of $)iz(X,H,J,Z);function W(H){for(let q of Object.keys(H)){const K=X.path(q.replace(/\.\$\./i,".").replace(/.\$$/,""));if(H[q]&&K&&K.$isMongooseDocumentArray&&K.schema.options.timestamps){const Q=K.schema.options.timestamps,z=b4(Q,"createdAt"),F=b4(Q,"updatedAt");if(H[q].$each)H[q].$each.forEach(function(U){if(F!=null)U[F]=Z;if(z!=null)U[z]=Z;k5(Z,U,K.schema)});else{if(F!=null)H[q][F]=Z;if(z!=null)H[q][z]=Z;k5(Z,H[q],K.schema)}}}}},XG1=function(Z,J,X){const Y=J.schema.options.timestamps,G=Z.length;if(!Y){for(let H=0;H<G;++H)k5(X,Z[H],J.schema);return}const $=b4(Y,"createdAt"),W=b4(Y,"updatedAt");for(let H=0;H<G;++H){if(W!=null)Z[H][W]=X;if($!=null)Z[H][$]=X;k5(X,Z[H],J.schema)}},YG1=function(Z,J,X){const Y=J.schema.options.timestamps;if(!Y){k5(X,Z,J.schema);return}const G=b4(Y,"createdAt"),$=b4(Y,"updatedAt");if($!=null)Z[$]=X;if(G!=null)Z[G]=X;k5(X,Z,J.schema)},iz=function(Z,J,X,Y){const G=JG1(J),$=Z.path(G);if(!$)return;const W=[],H=G.split(".");for(let q=H.length-1;q>0;--q){const K=Z.path(H.slice(0,q).join("."));if(K!=null&&(K.$isMongooseDocumentArray||K.$isSingleNested))W.push({parentPath:J.split(".").slice(0,q).join("."),parentSchemaType:K})}if(Array.isArray(X[J])&&$.$isMongooseDocumentArray)XG1(X[J],$,Y);else if(X[J]&&$.$isSingleNested)YG1(X[J],$,Y);else if(W.length>0)for(let q of W){const{parentPath:K,parentSchemaType:Q}=q,z=Q.schema.options.timestamps,F=b4(z,"updatedAt");if(!z||F==null)continue;if(Q.$isSingleNested)X[K+"."+F]=Y;else if(Q.$isMongooseDocumentArray){let U=J.substring(K.length+1);if(/^\d+$/.test(U)){X[K+"."+U][F]=Y;continue}const L=U.indexOf(".");U=L!==-1?U.substring(0,L):U,X[K+"."+U+"."+F]=Y}}else if($.schema!=null&&$.schema!=Z&&X[J]){const q=$.schema.options.timestamps,K=b4(q,"createdAt"),Q=b4(q,"updatedAt");if(!q)return;if(Q!=null)X[J][Q]=Y;if(K!=null)X[J][K]=Y}},JG1=tJ(),b4=pz();O_.exports=k5;/*!
 * ignore
 */});var az=R((zM1,S_)=>{var $G1=function(Z,J,X,Y,G,$){const W=Y;let H=W;const q=GG1(G,"timestamps",!0);if(!q||W==null)return Y;const K=q!=null&&q.createdAt===!1,Q=q!=null&&q.updatedAt===!1;if($){if(Y&&Y.$set)Y=Y.$set,W.$set={},H=W.$set;if(!Q&&X&&!Y[X])H[X]=Z;if(!K&&J&&!Y[J])H[J]=Z;return W}if(Y=Y||{},Array.isArray(W)){if(X==null)return W;return W.push({$set:{[X]:Z}}),W}if(W.$set=W.$set||{},!Q&&X&&(!Y.$currentDate||!Y.$currentDate[X])){let z=!1;if(X.indexOf(".")!==-1){const F=X.split(".");for(let U=1;U<F.length;++U){const L=F.slice(-U).join("."),V=F.slice(0,-U).join(".");if(Y[V]!=null){Y[V][L]=Z,z=!0;break}else if(Y.$set&&Y.$set[V]){Y.$set[V][L]=Z,z=!0;break}}}if(!z)W.$set[X]=Z;if(W.hasOwnProperty(X))delete W[X]}if(!K&&J){if(Y[J])delete Y[J];if(Y.$set&&Y.$set[J])delete Y.$set[J];let z=!1;if(J.indexOf(".")!==-1){const F=J.split(".");for(let U=1;U<F.length;++U){const L=F.slice(-U).join("."),V=F.slice(0,-U).join(".");if(Y[V]!=null){Y[V][L]=Z,z=!0;break}else if(Y.$set&&Y.$set[V]){Y.$set[V][L]=Z,z=!0;break}}}if(!z)W.$setOnInsert=W.$setOnInsert||{},W.$setOnInsert[J]=Z}if(Object.keys(W.$set).length===0)delete W.$set;return W};/*!
 * ignore
 */var GG1=Z0();S_.exports=$G1;/*!
 * ignore
 */});var __=R((FM1,k_)=>{k_.exports=function Z(J,X,Y,G,$){const W=X!=null&&X.updatedAt===!1,H=X!=null&&X.createdAt===!1,q=Y!=null?Y():J.ownerDocument().constructor.base.now();if(!H&&(J.isNew||J.$isSubdocument)&&G&&!J.$__getValue(G)&&J.$__isSelected(G))J.$set(G,q,void 0,{overwriteImmutable:!0});if(!W&&$&&(J.isNew||J.$isModified())){let K=q;if(J.isNew&&G!=null)K=J.$__getValue(G);J.$set($,K)}}});var y_=R((UM1,f_)=>{var WG1=nz(),HG1=az(),qG1=Z0(),x_=pz(),KG1=__(),QG1=P5(),g_=new Set(["replaceOne","findOneAndReplace"]);f_.exports=function Z(J,X){const Y=J.childSchemas.find(G);function G(z){return!!z.schema.options.timestamps}if(!X&&!Y)return;const $=x_(X,"createdAt"),W=x_(X,"updatedAt"),H=X!=null&&X.hasOwnProperty("currentTime")?X.currentTime:null,q={};if(J.$timestamps={createdAt:$,updatedAt:W},$&&!J.paths[$]){const z=J.base!=null?J.base.get("timestamps.createdAt.immutable"):null,F=z!=null?z:!0;q[$]={[J.options.typeKey||"type"]:Date,immutable:F}}if(W&&!J.paths[W])q[W]=Date;J.add(q),J.pre("save",function z(F){const U=qG1(this,"$__.saveOptions.timestamps");if(U===!1)return F();KG1(this,U,H,$,W),F()}),J.methods.initializeTimestamps=function(){const z=H!=null?H():this.constructor.base.now();if($&&!this.get($))this.$set($,z);if(W&&!this.get(W))this.$set(W,z);if(this.$isSubdocument)return this;const F=this.$getAllSubdocs();for(let U of F)if(U.initializeTimestamps)U.initializeTimestamps();return this},Q[QG1.builtInMiddleware]=!0;const K={query:!0,model:!1};J.pre("findOneAndReplace",K,Q),J.pre("findOneAndUpdate",K,Q),J.pre("replaceOne",K,Q),J.pre("update",K,Q),J.pre("updateOne",K,Q),J.pre("updateMany",K,Q);function Q(z){const F=H!=null?H():this.model.base.now();if(g_.has(this.op)&&this.getUpdate()==null)this.setUpdate({});HG1(F,$,W,this.getUpdate(),this._mongooseOptions,g_.has(this.op)),WG1(F,this.getUpdate(),this.model.schema),z()}}});var v_=R((LM1,b_)=>{var UG1=function(Z,J){if(typeof Z==="string")return;if(typeof Z==="function")return;throw new zG1('Invalid ref at path "'+J+'". Got '+FG1.inspect(Z,{depth:0}))},zG1=r1(),FG1=import.meta.require("util");b_.exports=UG1});var sz=R((VM1,h_)=>{h_.exports=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"])});var IG=R((RM1,m_)=>{var u_=function(Z,J){const X=J.schema.s.hooks.filter((Y)=>{const G=VG1(Y);if(Y.name==="validate")return!!G.query;if(Y.name==="deleteOne"||Y.name==="updateOne")return!!G.query||Object.keys(G).length===0;if(Y.query!=null||Y.document!=null)return!!Y.query;return!0});Z.prototype._queryMiddleware=X},VG1=function(Z){const J={};if(Z.hasOwnProperty("query"))J.query=Z.query;if(Z.hasOwnProperty("document"))J.document=Z.document;return J};/*!
 * ignore
 */m_.exports=u_;var LG1=sz();/*!
 * ignore
 */u_.middlewareFunctions=LG1.concat(["validate"])});var DG=R((wM1,d_)=>{var oJ=function(Z,J,X){X=X||{};const Y={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},G=X.decorateDoc?Z:Z.prototype;Z.$appliedHooks=!0;for(let K of Object.keys(J.paths)){const Q=J.paths[K];let z=null;if(Q.$isSingleNested)z=Q.caster;else if(Q.$isMongooseDocumentArray)z=Q.Constructor;else continue;if(z.$appliedHooks)continue;if(oJ(z,Q.schema,{...X,isChildSchema:!0}),z.discriminators!=null){const F=Object.keys(z.discriminators);for(let U of F)oJ(z.discriminators[U],z.discriminators[U].schema,X)}}const $=J.s.hooks.filter((K)=>{if(K.name==="updateOne"||K.name==="deleteOne")return!!K.document;if(K.name==="remove"||K.name==="init")return K.document==null||!!K.document;if(K.query!=null||K.document!=null)return K.document!==!1;return!0}).filter((K)=>{if(J.methods[K.name])return!K.fn[RG1.builtInMiddleware];return!0});Z._middleware=$,G.$__originalValidate=G.$__originalValidate||G.$__validate;const W=X&&X.isChildSchema?["save","validate","deleteOne"]:["save","validate"];for(let K of W){const Q=K==="validate"?"$__originalValidate":`\$__${K}`,z=$.createWrapper(K,G[Q],null,Y);G[`\$__${K}`]=z}G.$__init=$.createWrapperSync("init",G.$__init,null,Y);const H=Object.keys(J.methods),q=Object.assign({},Y,{checkForPromise:!0});for(let K of H){if(AG1.has(K))continue;if(!$.hasHooks(K))continue;const Q=G[K];G[K]=function(){const z=Array.prototype.slice.call(arguments),F=z.slice(-1).pop(),U=typeof F==="function"?z.slice(0,z.length-1):z;return wG1(F,(L)=>{return this[`\$__${K}`].apply(this,U.concat([L]))},Z.events)},G[`\$__${K}`]=$.createWrapper(K,Q,null,q)}},RG1=P5(),wG1=sY();/*!
 * ignore
 */d_.exports=oJ;/*!
 * ignore
 */oJ.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];/*!
 * ignore
 */var AG1=new Set(oJ.middlewareFunctions.flatMap((Z)=>[Z,`\$__${Z}`]))});var eJ=R((AM1,p_)=>{var g8=function(Z,J,X){let Y=Z;if(Z==null)Y=0;let G,$,W;if(Array.isArray(J))$=J[0],W=J[1];else G=J;let H;if(typeof Y==="number"||Y instanceof Number)H=Buffer.alloc(Y);else H=Buffer.from(Y,G,X);return c_.decorate(H,g8.mixin),H.isMongooseBuffer=!0,H[g8.pathSymbol]=$,H[l_]=W,H._subtype=0,H};/*!
 * Module dependencies.
 */var rz=X6().Binary,c_=X1(),BG1=Symbol.for("mongoose#Buffer#_path"),l_=Symbol.for("mongoose#Buffer#_parent");g8.pathSymbol=BG1;/*!
 * Inherit from Buffer.
 */g8.mixin={_subtype:void 0,_markModified:function(){const Z=this[l_];if(Z)Z.markModified(this[g8.pathSymbol]);return this},write:function(){const Z=Buffer.prototype.write.apply(this,arguments);if(Z>0)this._markModified();return Z},copy:function(Z){const J=Buffer.prototype.copy.apply(this,arguments);if(Z&&Z.isMongooseBuffer)Z._markModified();return J}};/*!
 * Compile other Buffer methods marking this buffer as modified.
 */c_.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(Z){if(!Buffer.prototype[Z])return;g8.mixin[Z]=function(){const J=Buffer.prototype[Z].apply(this,arguments);return this._markModified(),J}});g8.mixin.toObject=function(Z){const J=typeof Z==="number"?Z:this._subtype||0;return new rz(Buffer.from(this),J)};g8.mixin.$toObject=g8.mixin.toObject;g8.mixin.toBSON=function(){return new rz(this,this._subtype||0)};g8.mixin.equals=function(Z){if(!Buffer.isBuffer(Z))return!1;if(this.length!==Z.length)return!1;for(let J=0;J<this.length;++J)if(this[J]!==Z[J])return!1;return!0};g8.mixin.subtype=function(Z){if(typeof Z!=="number")throw new TypeError("Invalid subtype. Expected a number");if(this._subtype!==Z)this._markModified();this._subtype=Z};/*!
 * Module exports.
 */g8.Binary=rz;p_.exports=g8});var CG=R((BM1,r_)=>{var s_=function(Z){const J=typeof Z;if(J!=="string")throw new TypeError(`Mongoose maps only support string keys, got ${J}`);if(Z.startsWith("$"))throw new Error(`Mongoose maps do not support keys that start with "\$", got "${Z}"`);if(Z.includes("."))throw new Error(`Mongoose maps do not support keys that contain ".", got "${Z}"`);if(PG1.has(Z))throw new Error(`Mongoose maps do not support reserved key name "${Z}"`)},MG1=E5(),NG1=r1(),i_=W0(),IG1=X1().deepEqual,DG1=j8(),CG1=XG(),n_=import.meta.require("util"),PG1=n7(),tz=B8(),a_=t().populateModelSymbol;/*!
 * ignore
 */class U4 extends Map{constructor(Z,J,X,Y){if(DG1(Z)==="Object")Z=Object.keys(Z).reduce((G,$)=>G.concat([[$,Z[$]]]),[]);super(Z);this.$__parent=X!=null&&X.$__!=null?X:null,this.$__path=J,this.$__schemaType=Y==null?new MG1(J):Y,this.$__runDeferred()}$init(Z,J){if(s_(Z),super.set(Z,J),J!=null&&J.$isSingleNested)J.$basePath=this.$__path+"."+Z}$__set(Z,J){super.set(Z,J)}get(Z,J){if(tz(Z,"ObjectId"))Z=Z.toString();if(J=J||{},J.getters===!1)return super.get(Z);return this.$__schemaType.applyGetters(super.get(Z),this.$__parent)}set(Z,J){if(tz(Z,"ObjectId"))Z=Z.toString();if(s_(Z),J=CG1(J),this.$__schemaType==null){this.$__deferred=this.$__deferred||[],this.$__deferred.push({key:Z,value:J});return}let X;const Y=this.$__parent,G=Y!=null&&Y.$__&&Y.$__.populated?Y.$populated(W.call(this),!0)||Y.$populated(this.$__path,!0):null,$=this.get(Z);if(G!=null){if(this.$__schemaType.$isSingleNested)throw new NG1("Cannot manually populate single nested subdoc underneath Map "+`at path "${this.$__path}". Try using an array instead of a Map.`);if(Array.isArray(J)&&this.$__schemaType.$isMongooseArray)J=J.map((H)=>{if(H.$__==null)H=new G.options[a_](H);return H.$__.wasPopulated={value:H._id},H});else{if(J.$__==null)J=new G.options[a_](J);J.$__.wasPopulated={value:J._id}}}else try{const H=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:W.call(this)}:null;J=this.$__schemaType.applySetters(J,this.$__parent,!1,this.get(Z),H)}catch(H){if(this.$__parent!=null&&this.$__parent.$__!=null){this.$__parent.invalidate(W.call(this),H);return}throw H}if(super.set(Z,J),Y!=null&&Y.$__!=null&&!IG1(J,$))Y.markModified(W.call(this));function W(){if(X)return X;return X=this.$__path+"."+Z,X}}clear(){super.clear();const Z=this.$__parent;if(Z!=null)Z.markModified(this.$__path)}delete(Z){if(tz(Z,"ObjectId"))Z=Z.toString();return this.set(Z,void 0),super.delete(Z)}toBSON(){return new Map(this)}toObject(Z){if(Z&&Z.flattenMaps){const J={},X=this.keys();for(let Y of X)J[Y]=i_(this.get(Y),Z);return J}return new Map(this)}$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)}toJSON(Z){if(typeof(Z&&Z.flattenMaps)==="boolean"?Z.flattenMaps:!0){const J={},X=this.keys();for(let Y of X)J[Y]=i_(this.get(Y),Z);return J}return new Map(this)}inspect(){return new Map(this)}$__runDeferred(){if(!this.$__deferred)return;for(let Z of this.$__deferred)this.set(Z.key,Z.value);this.$__deferred=null}}if(n_.inspect.custom)Object.defineProperty(U4.prototype,n_.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:U4.prototype.inspect});Object.defineProperty(U4.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(U4.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(U4.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(U4.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(U4.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0});Object.defineProperty(U4.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0});r_.exports=U4});var o_=R((MM1,t_)=>{t_.exports=X6().UUID});var XZ=R((EG1)=>{/*!
 * Module exports.
 */EG1.Array=Lz();EG1.Buffer=eJ();EG1.Document=EG1.Embedded=t9();EG1.DocumentArray=j5();EG1.Decimal128=p3();EG1.ObjectId=B4();EG1.Map=CG();EG1.Subdocument=$G();EG1.UUID=o_()});var Zx=R((DM1,e_)=>{var yG1=s8();class Z3 extends yG1{}var oz=A6();Object.defineProperty(Z3.prototype,"enum",oz);Object.defineProperty(Z3.prototype,"of",oz);Object.defineProperty(Z3.prototype,"castNonArrays",oz);/*!
 * ignore
 */e_.exports=Z3});var Xx=R((CM1,Jx)=>{var ez=function(Z){if(!Array.isArray(Z))return{min:0,max:0,containsNonArrayItem:!0};if(Z.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(Z.length===1&&!Array.isArray(Z[0]))return{min:1,max:1,containsNonArrayItem:!1};const J=ez(Z[0]);for(let X=1;X<Z.length;++X){const Y=ez(Z[X]);if(Y.min<J.min)J.min=Y.min;if(Y.max>J.max)J.max=Y.max;J.containsNonArrayItem=J.containsNonArrayItem||Y.containsNonArrayItem}return J.min=J.min+1,J.max=J.max+1,J};Jx.exports=ez});var J3=R((PM1,Gx)=>{var Yx=import.meta.require("assert");Gx.exports=function Z(J){if(J==null)return J;if(J==="")return null;if(typeof J==="string"||typeof J==="boolean")J=Number(J);if(Yx.ok(!isNaN(J)),J instanceof Number)return J.valueOf();if(typeof J==="number")return J;if(!Array.isArray(J)&&typeof J.valueOf==="function")return Number(J.valueOf());if(J.toString&&!Array.isArray(J)&&J.toString()==Number(J))return Number(J);Yx.ok(!1)}});var Hx=R((EM1,Wx)=>{var M6=function(Z,J,X){if(X3(Z)||Z===null)return Z;if(Z.$cond!=null)if(Array.isArray(Z.$cond))Z.$cond=Z.$cond.map((G)=>M6(G,J,X));else Z.$cond.if=M6(Z.$cond.if,J,X),Z.$cond.then=M6(Z.$cond.then,J,X),Z.$cond.else=M6(Z.$cond.else,J,X);else if(Z.$ifNull!=null)Z.$ifNull.map((G)=>M6(G,J,X));else if(Z.$switch!=null)Z.branches.map((G)=>M6(G,J,X)),Z.default=M6(Z.default,J,X);const Y=Object.keys(Z);for(let G of Y)if(bG1.has(G))Z[G]=Z[G].map(($)=>M6($,J,X));else if(vG1.has(G))Z[G]=nG1(Z[G],J,X);else if(hG1.has(G))Z[G]=iG1(Z[G],J,X);else if(uG1.has(G))Z[G]=ZF(Z[G],J,X);else if(cG1.has(G))Z[G]=M6(Z[G],J,X);if(Z.$in)Z.$in=pG1(Z.$in,J,X);if(Z.$size)Z.$size=ZF(Z.$size,J,X);if(Z.$round){const G=Z.$round;if(!Array.isArray(G)||G.length<1||G.length>2)throw new YZ("Array",G,"$round");Z.$round=G.map(($)=>ZF($,J,X))}return lG1(Z),Z},lG1=function(Z){const J=Object.keys(Z);for(let X=0,Y=J.length;X<Y;++X)Z[J[X]]===void 0&&delete Z[J[X]]},ZF=function(Z){if(!EG(Z))return Z;try{return PG(Z)}catch(J){throw new YZ("Number",Z)}},pG1=function(Z,J,X){const Y=Z[1];if(!X3(Y))return Z;const G=Z[0],$=J.path(Y.slice(1));if($===null){if(X===!1)return Z;else if(X==="throw")throw new $x("$in");return}if(!$.$isMongooseArray)throw new Error("Path must be an array for $in");return[$.$isMongooseDocumentArray?$.$embeddedSchemaType.cast(G):$.caster.cast(G),Y]},iG1=function(Z){if(!Array.isArray(Z)){if(!EG(Z))return Z;try{return PG(Z)}catch(J){throw new YZ("Number",Z)}}return Z.map((J)=>{if(!EG(J))return J;try{return PG(J)}catch(X){throw new YZ("Number",J)}})},nG1=function(Z,J,X){if(!Array.isArray(Z)||Z.length!==2)throw new Error("Comparison operator must be an array of length 2");Z[0]=M6(Z[0],J,X);const Y=Z[0];if(EG(Z[1])){let G=null,$=null,W=null;if(X3(Y))G=Y.slice(1),$=J.path(G);else if(typeof Y==="object"&&Y!=null){for(let q of Object.keys(Y))if(dG1.has(q)&&X3(Y[q]))G=Y[q].slice(1)+"."+q,W=PG;else if(mG1.has(q)&&X3(Y[q])){if(G=Y[q].slice(1)+"."+q,$=J.path(Y[q].slice(1)),$!=null){if($.$isMongooseDocumentArray)$=$.$embeddedSchemaType;else if($.$isMongooseArray)$=$.caster}}}const H=typeof Z[1]==="object"&&Z[1]!=null&&Z[1].$literal!=null;if($!=null)if(H)Z[1]={$literal:$.cast(Z[1].$literal)};else Z[1]=$.cast(Z[1]);else if(W!=null)if(H)try{Z[1]={$literal:W(Z[1].$literal)}}catch(q){throw new YZ(W.name.replace(/^cast/,""),Z[1],G+".$literal")}else try{Z[1]=W(Z[1])}catch(q){throw new YZ(W.name.replace(/^cast/,""),Z[1],G)}else if(G!=null&&X===!0)return;else if(G!=null&&X==="throw")throw new $x(G)}else Z[1]=M6(Z[1]);return Z},X3=function(Z){return typeof Z==="string"&&Z[0]==="$"},EG=function(Z){if(typeof Z==="string"&&Z[0]==="$")return!1;if(typeof Z==="object"&&Z!==null&&Object.keys(Z).find((J)=>J[0]==="$"))return Z.$literal!=null;return!0},YZ=z8(),$x=E7(),PG=J3(),bG1=new Set(["$and","$or"]),vG1=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),hG1=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),uG1=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),mG1=new Set(["$arrayElemAt","$first","$last"]),dG1=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),cG1=new Set(["$not"]);Wx.exports=function Z(J,X,Y){if(typeof J!=="object"||J===null)throw new Error("`$expr` must be an object");return M6(J,X,Y)}});var JF=R((TM1,qx)=>{var aG1=z8();qx.exports=function Z(J,X){if(J==null)return J;if(J._id&&typeof J._id==="string")return J._id;if(J.toString&&J.toString!==Object.prototype.toString&&!Array.isArray(J))return J.toString();throw new aG1("string",J,X)}});var Fx=R((jM1,zx)=>{var sG1=z8(),Kx=iY(),Qx=JF();zx.exports=function(Z,J){if(Z==null||typeof Z!=="object")throw new sG1("$text",Z,J);if(Z.$search!=null)Z.$search=Qx(Z.$search,J+".$search");if(Z.$language!=null)Z.$language=Qx(Z.$language,J+".$language");if(Z.$caseSensitive!=null)Z.$caseSensitive=Kx(Z.$caseSensitive,J+".$castSensitive");if(Z.$diacriticSensitive!=null)Z.$diacriticSensitive=Kx(Z.$diacriticSensitive,J+".$diacriticSensitive");return Z}});var TG=R((OM1,Ux)=>{var rG1=new Set(["$ref","$id","$db"]);Ux.exports=function Z(J){return J[0]==="$"&&!rG1.has(J)}});var GZ=R((SM1,Ax)=>{var $F=function(Z,J,X){if(Array.isArray(Z))Z.forEach(function(Y,G){if(Array.isArray(Y)||GF(Y))return $F(Y,J,X);Z[G]=J.castForQuery(null,Y,X)});else{const Y=Object.keys(Z);let G=Y.length;while(G--){const $=Y[G],W=Z[$];if(Array.isArray(W)||GF(W))$F(W,J,X),Z[$]=W;else Z[$]=J.castForQuery({val:W,context:X})}}},Y$1=function(Z,J,X,Y){if("strictQuery"in Z)return Z.strictQuery;if("strictQuery"in J)return J.strictQuery;const G=Y&&Y.mongooseCollection&&Y.mongooseCollection.conn&&Y.mongooseCollection.conn.base&&Y.mongooseCollection.conn.base.options;if(G){if("strictQuery"in G)return G.strictQuery}return X.strictQuery};/*!
 * Module dependencies.
 */var Lx=z8(),XF=E7(),tG1=Y3(),oG1=Hx(),eG1=Fx(),Z$1=Z0(),Vx=JG(),Rx=TG(),J$1=import.meta.require("util"),GF=e4(),YF=OZ(),wx=X1(),X$1=["Polygon","MultiPolygon"];Ax.exports=function Z(J,X,Y,G){if(Array.isArray(X))throw new Error("Query filter must be an object, got an array ",J$1.inspect(X));if(X==null)return X;if(J!=null&&J.discriminators!=null&&X[J.options.discriminatorKey]!=null)J=Vx(J,X[J.options.discriminatorKey])||J;const $=Object.keys(X);let W=$.length,H,q,K,Q,z,F,U;Y=Y||{};while(W--)if(z=$[W],U=X[z],z==="$or"||z==="$nor"||z==="$and"){if(!Array.isArray(U))throw new Lx("Array",U,z);for(let L=0;L<U.length;++L){if(U[L]==null||typeof U[L]!=="object")throw new Lx("Object",U[L],z+"."+L);const V=U[L][J.options.discriminatorKey];if(V==null)U[L]=Z(J,U[L],Y,G);else{const w=Vx(G.schema,V);U[L]=Z(w?w:J,U[L],Y,G)}}}else if(z==="$where"){if(F=typeof U,F!=="string"&&F!=="function")throw new Error("Must have a string or function for $where");if(F==="function")X[z]=U.toString();continue}else if(z==="$expr"){U=oG1(U,J);continue}else if(z==="$elemMatch")U=Z(J,U,Y,G);else if(z==="$text")U=eG1(U,z);else{if(!J)continue;if(K=J.path(z),!K){const L=z.split(".");let V=L.length;while(V--){const w=L.slice(0,V).join("."),B=L.slice(V).join("."),M=J.path(w),A=M&&M.schema&&M.schema.options&&M.schema.options.discriminatorKey;if(M!=null&&(M.schema&&M.schema.discriminators)!=null&&A!=null&&B!==A){const I=Z$1(X,w+"."+A),m=M.schema.discriminators;if(typeof I==="string"&&m[I]!=null)K=m[I].path(B);else if(I!=null&&Object.keys(I).length===1&&Array.isArray(I.$in)&&I.$in.length===1&&typeof I.$in[0]==="string"&&m[I.$in[0]]!=null)K=m[I.$in[0]].path(B)}}}if(!K){const L=z.split(".");let V=L.length,w,B,M;while(V--)if(w=L.slice(0,V).join("."),K=J.path(w),K)break;if(K){if(K.caster&&K.caster.schema){M={},B=L.slice(V).join("."),M[B]=U;const m=Z(K.caster.schema,M,Y,G)[B];if(m===void 0)delete X[z];else X[z]=m}else X[z]=U;continue}if(GF(U)){let m="";if(U.$near)m="$near";else if(U.$nearSphere)m="$nearSphere";else if(U.$within)m="$within";else if(U.$geoIntersects)m="$geoIntersects";else if(U.$geoWithin)m="$geoWithin";if(m){const k=new tG1.Number("__QueryCasting__");let j=U[m];if(U.$maxDistance!=null)U.$maxDistance=k.castForQuery(null,U.$maxDistance,G);if(U.$minDistance!=null)U.$minDistance=k.castForQuery(null,U.$minDistance,G);if(m==="$within"){const E=j.$center||j.$centerSphere||j.$box||j.$polygon;if(!E)throw new Error("Bad $within parameter: "+JSON.stringify(U));j=E}else if(m==="$near"&&typeof j.type==="string"&&Array.isArray(j.coordinates))j=j.coordinates;else if((m==="$near"||m==="$nearSphere"||m==="$geoIntersects")&&j.$geometry&&typeof j.$geometry.type==="string"&&Array.isArray(j.$geometry.coordinates)){if(j.$maxDistance!=null)j.$maxDistance=k.castForQuery(null,j.$maxDistance,G);if(j.$minDistance!=null)j.$minDistance=k.castForQuery(null,j.$minDistance,G);if(YF(j.$geometry))j.$geometry=j.$geometry.toObject({transform:!1,virtuals:!1});j=j.$geometry.coordinates}else if(m==="$geoWithin"){if(j.$geometry){if(YF(j.$geometry))j.$geometry=j.$geometry.toObject({virtuals:!1});const E=j.$geometry.type;if(X$1.indexOf(E)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+E+'", must be "Polygon" or "MultiPolygon"');j=j.$geometry.coordinates}else if(j=j.$box||j.$polygon||j.$center||j.$centerSphere,YF(j))j=j.toObject({virtuals:!1})}$F(j,k,G);continue}}if(J.nested[z])continue;const A="strict"in Y?Y.strict:J.options.strict,I=Y$1(Y,J._userProvidedOptions,J.options,G);if(Y.upsert&&A){if(A==="throw")throw new XF(z);throw new XF(z,'Path "'+z+'" is not in schema, strict mode is `true`, and upsert is `true`.')}if(I==="throw")throw new XF(z,'Path "'+z+'" is not in schema and strictQuery is \'throw\'.');else if(I)delete X[z]}else if(U==null)continue;else if(wx.isPOJO(U))if(q=Object.keys(U).some(Rx),!q)X[z]=K.castForQuery(null,U,G);else{const L=Object.keys(U);let V,w=L.length;while(w--)if(V=L[w],Q=U[V],V==="$elemMatch"){if(Q&&K!=null&&K.schema!=null)Z(K.schema,Q,Y,G);else if(Q&&K!=null&&K.$isMongooseArray)if(wx.isPOJO(Q)&&Q.$not!=null)Z(J,Q,Y,G);else U[V]=K.castForQuery(V,Q,G)}else if(V==="$not"){if(Q&&K){if(H=Object.keys(Q),H.length&&Rx(H[0]))for(let B in Q)Q[B]=K.castForQuery(B,Q[B],G);else U[V]=K.castForQuery(V,Q,G);continue}}else U[V]=K.castForQuery(V,Q,G)}else if(Array.isArray(U)&&["Buffer","Array"].indexOf(K.instance)===-1){const L=[],V=U;for(let w of V)L.push(K.castForQuery(null,w,G));X[z]={$in:L}}else X[z]=K.castForQuery(null,U,G)}return X}});var Mx=R((kM1,Bx)=>{var G$1=s8();class $Z extends G$1{}var jG=A6();Object.defineProperty($Z.prototype,"min",jG);Object.defineProperty($Z.prototype,"max",jG);Object.defineProperty($Z.prototype,"enum",jG);Object.defineProperty($Z.prototype,"populate",jG);/*!
 * ignore
 */Bx.exports=$Z});var OG=R((_M1,Ix)=>{var W$1=function(Z){const J=this;if(Array.isArray(Z))return Z.map(function(X){return Nx(J.path,X)});else if(Buffer.isBuffer(Z))return Z;return Nx(J.path,Z)},Nx=function(Z,J){const X=Number(J);if(isNaN(X))throw new $$1("number",J,Z);return X};/*!
 * Module requirements.
 */var $$1=z8();/*!
 * ignore
 *//*!
 * ignore
 */Ix.exports=W$1});var WF=R((xM1,Cx)=>{var J0=function(Z,J){v4.call(this,Z,J,"Number")},kG=function(Z){return this.cast(Z)},K$1=function(Z){const J=this;if(!Array.isArray(Z))return[this.cast(Z)];return Z.map(function(X){return J.cast(X)})};/*!
 * Module requirements.
 */var _G=h1(),H$1=Mx(),v4=S0(),q$1=J3(),SG=OG(),xG=X1(),Dx=v4.CastError;J0.get=v4.get;J0.set=v4.set;J0.setters=[];/*!
 * ignore
 */J0._cast=q$1;J0.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */J0._defaultCaster=(Z)=>{if(typeof Z!=="number")throw new Error;return Z};J0.schemaName="Number";J0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */J0.prototype=Object.create(v4.prototype);J0.prototype.constructor=J0;J0.prototype.OptionsConstructor=H$1;/*!
 * ignore
 */J0._checkRequired=(Z)=>typeof Z==="number"||Z instanceof Number;J0.checkRequired=v4.checkRequired;J0.prototype.checkRequired=function Z(J,X){if(typeof J==="object"&&v4._isRef(this,J,X,!0))return J!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():J0.checkRequired())(J)};J0.prototype.min=function(Z,J){if(this.minValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.minValidator},this);if(Z!==null&&Z!==void 0){let X=J||_G.messages.Number.min;X=X.replace(/{MIN}/,Z),this.validators.push({validator:this.minValidator=function(Y){return Y==null||Y>=Z},message:X,type:"min",min:Z})}return this};J0.prototype.max=function(Z,J){if(this.maxValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.maxValidator},this);if(Z!==null&&Z!==void 0){let X=J||_G.messages.Number.max;X=X.replace(/{MAX}/,Z),this.validators.push({validator:this.maxValidator=function(Y){return Y==null||Y<=Z},message:X,type:"max",max:Z})}return this};J0.prototype.enum=function(Z,J){if(this.enumValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.enumValidator},this);if(!Array.isArray(Z)){if(xG.isPOJO(Z)&&Z.values!=null)J=Z.message,Z=Z.values;else if(typeof Z==="number")Z=Array.prototype.slice.call(arguments),J=null;if(xG.isPOJO(Z))Z=Object.values(Z);J=J||_G.messages.Number.enum}return J=J==null?_G.messages.Number.enum:J,this.enumValidator=(X)=>X==null||Z.indexOf(X)!==-1,this.validators.push({validator:this.enumValidator,message:J,type:"enum",enumValues:Z}),this};J0.prototype.cast=function(Z,J,X){if(typeof Z!=="number"&&v4._isRef(this,Z,J,X)){if(Z==null||xG.isNonBuiltinObject(Z))return this._castRef(Z,J,X)}const Y=Z&&typeof Z._id!=="undefined"?Z._id:Z;let G;if(typeof this._castFunction==="function")G=this._castFunction;else if(typeof this.constructor.cast==="function")G=this.constructor.cast();else G=J0.cast();try{return G(Y)}catch($){throw new Dx("Number",Y,this.path,$,this)}};/*!
 * ignore
 */J0.prototype.$conditionalHandlers=xG.options(v4.prototype.$conditionalHandlers,{$bitsAllClear:SG,$bitsAnyClear:SG,$bitsAllSet:SG,$bitsAnySet:SG,$gt:kG,$gte:kG,$lt:kG,$lte:kG,$mod:K$1});J0.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=this.$conditionalHandlers[Z],!Y)throw new Dx("number",J,this.path,null,this);return Y.call(this,J,X)}return J=this.applySetters(J,X),J};/*!
 * Module exports.
 */Cx.exports=J0});var G3=R((z$1)=>{var Px=function(Z){return Q$1.cast()(Z)},Ex=function(Z,J){Z.forEach(function(X,Y){if(Array.isArray(X))Ex(X,J);else Z[Y]=Px.call(J,X)})};/*!
 * Module requirements.
 */var Q$1=WF();/*!
 * ignore
 */z$1.castToNumber=Px;z$1.castArraysOfNumbers=Ex;/*!
 * ignore
 */});var KF=R((w$1)=>{var L$1=function(Z){const J=gG();if(Array.isArray(Z))return Tx(Z,this),Z;if(qF(this,Z),Z&&Z.$geometry)return HF(Z,this);if(!Array.isArray(Z))throw new TypeError("$near must be either an array or an object with a $geometry property");return J.prototype.castForQuery.call(this,null,Z)},HF=function(Z,J){switch(Z.$geometry.type){case"Polygon":case"LineString":case"Point":Tx(Z.$geometry.coordinates,J);break;default:break}return qF(J,Z),Z},V$1=function(Z){if(qF(this,Z),Z.$box||Z.$polygon){const J=Z.$box?"$box":"$polygon";Z[J].forEach((X)=>{if(!Array.isArray(X)){const Y="Invalid $within $box argument. Expected an array, received "+X;throw new TypeError(Y)}X.forEach((Y,G)=>{X[G]=$3.call(this,Y)})})}else if(Z.$center||Z.$centerSphere){const J=Z.$center?"$center":"$centerSphere";Z[J].forEach((X,Y)=>{if(Array.isArray(X))X.forEach((G,$)=>{X[$]=$3.call(this,G)});else Z[J][Y]=$3.call(this,X)})}else if(Z.$geometry)HF(Z,this);return Z},R$1=function(Z){if(!Z.$geometry)return;return HF(Z,this),Z},qF=function(Z,J){if(J.$maxDistance)J.$maxDistance=$3.call(Z,J.$maxDistance);if(J.$minDistance)J.$minDistance=$3.call(Z,J.$minDistance)};/*!
 * Module requirements.
 */var Tx=G3().castArraysOfNumbers,$3=G3().castToNumber;/*!
 * ignore
 */w$1.cast$geoIntersects=R$1;w$1.cast$near=L$1;w$1.cast$within=V$1});var gG=R((yM1,Ox)=>{var k1=function(Z,J,X,Y){fG||(fG=XZ().Embedded);let G="type";if(Y&&Y.typeKey)G=Y.typeKey;if(this.schemaOptions=Y,J){let H={};if(_5.isPOJO(J))if(J[G])H=E$1(J),delete H[G],J=J[G];else J=bG;if(X!=null&&X.ref!=null&&H.ref==null)H.ref=X.ref;if(J===Object)J=bG;const q=typeof J==="string"?J:_5.getFunctionName(J),K=Y3(),Q=K.hasOwnProperty(q)?K[q]:J;if(this.casterConstructor=Q,this.casterConstructor instanceof k1)this.casterConstructor[jx]=!0;if(typeof Q==="function"&&!Q.$isArraySubdocument&&!Q.$isSchemaMap){const z=this.caster instanceof fG?null:Z;this.caster=new Q(z,H)}else if(this.caster=Q,!(this.caster instanceof fG))this.caster.path=Z;this.$embeddedSchemaType=this.caster}this.$isMongooseArray=!0,N6.call(this,Z,X,"Array");let $,W;if(this.defaultValue!=null)$=this.defaultValue,W=typeof $==="function";if(!("defaultValue"in this)||this.defaultValue!==void 0){const H=function(){return W?$.call(this):$!=null?[].concat($):[]};H.$runBeforeSetters=!W,this.default(H)}},k$1=function(Z,J){if(!Array.isArray(Z))Z=[Z];return Z=Z.map((X)=>{if(!_5.isObject(X))return X;if(X.$elemMatch!=null)return{$elemMatch:H3(this.casterConstructor.schema,X.$elemMatch,null,this&&this.$$context)};const Y={};return Y[this.path]=X,H3(this.casterConstructor.schema,Y,null,this&&this.$$context)[this.path]},this),this.castForQuery(null,Z,J)},_$1=function(Z,J){const X=Object.keys(Z),Y=X.length;for(let H=0;H<Y;++H){const q=X[H],K=Z[q];if(T$1(q)&&K!=null)Z[q]=this.castForQuery(q,K,J)}const G=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,$=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if(G!=null&&Z[G]!=null&&$[Z[G]]!=null)return H3($[Z[G]],Z,null,this&&this.$$context);const W=this.casterConstructor.schema??J.schema;return H3(W,Z,null,this&&this.$$context)},zF=function(Z){return function J(X){if(!Array.isArray(X))throw new TypeError("conditional "+Z+" requires an array");const Y=[];for(let G of X)Y.push(H3(this.casterConstructor.schema,G,null,this&&this.$$context));return Y}};/*!
 * Module dependencies.
 */var N$1=nY(),I$1=sQ(),D$1=r1(),C$1=Zx(),N6=S0(),yG=N6.CastError,bG=E5(),P$1=Xx(),H3=GZ(),E$1=W0(),T$1=TG(),vG=import.meta.require("util"),_5=X1(),j$1=G3().castToNumber,QF=KF(),O$1=a6(),W3,fG,jx=Symbol("mongoose#isNestedArray"),S$1=Object.freeze({});k1.schemaName="Array";k1.options={castNonArrays:!0};/*!
 * ignore
 */k1.defaultOptions={};k1.set=N6.set;k1.setters=[];k1.get=N6.get;/*!
 * Inherits from SchemaType.
 */k1.prototype=Object.create(N6.prototype);k1.prototype.constructor=k1;k1.prototype.OptionsConstructor=C$1;/*!
 * ignore
 */k1._checkRequired=N6.prototype.checkRequired;k1.checkRequired=N6.checkRequired;k1.prototype.checkRequired=function Z(J,X){if(typeof J==="object"&&N6._isRef(this,J,X,!0))return!!J;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():k1.checkRequired())(J)};k1.prototype.enum=function(){let Z=this;while(!0){const X=Z&&Z.caster&&Z.caster.instance;if(X==="Array"){Z=Z.caster;continue}if(X!=="String"&&X!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+X);break}let J=arguments;if(!Array.isArray(arguments)&&_5.isObject(arguments))J=_5.object.vals(J);return Z.caster.enum.apply(Z.caster,J),this};k1.prototype.applyGetters=function(Z,J){if(J!=null&&J.$__!=null&&J.$populated(this.path))return Z;return N6.prototype.applyGetters.call(this,Z,J)};k1.prototype._applySetters=function(Z,J,X,Y){if(this.casterConstructor.$isMongooseArray&&k1.options.castNonArrays&&!this[jx]){let G=0,$=this;while($!=null&&$.$isMongooseArray&&!$.$isMongooseDocumentArray)++G,$=$.casterConstructor;if(Z!=null&&Z.length!==0){const W=P$1(Z);if(W.min===W.max&&W.max<G&&W.containsNonArrayItem)for(let H=W.max;H<G;++H)Z=[Z]}}return N6.prototype._applySetters.call(this,Z,J,X,Y)};k1.prototype.cast=function(Z,J,X,Y,G){W3||(W3=XZ().Array);let $,W;if(Array.isArray(Z)){if(!Z.length&&J){const U=J.schema.indexedPaths(),L=this.path;for($=0,W=U.length;$<W;++$){const w=U[$][0][L];if(w==="2dsphere"||w==="2d")return}const V=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(V!=null){for($=0,W=U.length;$<W;++$)if(U[$][0][V]==="2dsphere")return}}G=G||S$1;let K=_5.isMongooseArray(Z)?Z.__array:Z,Q=G.path||this.path;if(G.arrayPathIndex!=null)Q+="."+G.arrayPathIndex;if(Z=W3(K,Q,J,this),K=Z.__array,X&&J!=null&&J.$__!=null&&J.$populated(this.path))return Z;const z=this.caster,F=z.$isMongooseArray;if(z&&this.casterConstructor!==bG)try{const U=K.length;for($=0;$<U;$++){const L={};if(F){if(G.arrayPath!=null)L.arrayPathIndex=$;else if(z._arrayParentPath!=null)L.arrayPathIndex=$}K[$]=z.applySetters(K[$],J,X,void 0,L)}}catch(U){throw new yG("["+U.kind+"]",vG.inspect(Z),this.path+"."+$,U,this)}return Z}const H=this.options.castNonArrays!=null?this.options.castNonArrays:k1.options.castNonArrays;if(X||H){if(!!J&&!!X)J.markModified(this.path);return this.cast([Z],J,X)}throw new yG("Array",vG.inspect(Z),this.path,null,this)};/*!
 * ignore
 */k1.prototype._castForPopulate=function Z(J,X){if(W3||(W3=XZ().Array),Array.isArray(J)){let Y;const G=J.__array?J.__array:J,$=G.length,W=this.caster;if(W&&this.casterConstructor!==bG)try{for(Y=0;Y<$;Y++){const H={};if(W.$isMongooseArray&&W._arrayParentPath!=null)H.arrayPathIndex=Y;G[Y]=W.cast(G[Y],X,!1,void 0,H)}}catch(H){throw new yG("["+H.kind+"]",vG.inspect(J),this.path+"."+Y,H,this)}return J}throw new yG("Array",vG.inspect(J),this.path,null,this)};k1.prototype.$toObject=k1.prototype.toObject;/*!
 * ignore
 */k1.prototype.discriminator=function(...Z){let J=this;while(J.$isMongooseArray&&!J.$isMongooseDocumentArray)if(J=J.casterConstructor,J==null||typeof J==="function")throw new D$1("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return J.discriminator(...Z)};/*!
 * ignore
 */k1.prototype.clone=function(){const Z=Object.assign({},this.options),J=new this.constructor(this.path,this.caster,Z,this.schemaOptions);if(J.validators=this.validators.slice(),this.requiredValidator!==void 0)J.requiredValidator=this.requiredValidator;return J};k1.prototype._castForQuery=function(Z,J){let X=this.casterConstructor;if(Z&&X.discriminators&&X.schema&&X.schema.options&&X.schema.options.discriminatorKey)if(typeof Z[X.schema.options.discriminatorKey]==="string"&&X.discriminators[Z[X.schema.options.discriminatorKey]])X=X.discriminators[Z[X.schema.options.discriminatorKey]];else{const q=O$1(X.discriminators,Z[X.schema.options.discriminatorKey]);if(q)X=q}const Y=this.casterConstructor.prototype,G=Y&&Y.castForQuery,$=Y&&Y.cast,W=X.castForQuery,H=this.caster;if(Array.isArray(Z))this.setters.reverse().forEach((q)=>{Z=q.call(this,Z,this)}),Z=Z.map(function(q){if(_5.isObject(q)&&q.$elemMatch)return q;if(G)return q=G.call(H,null,q,J),q;else if($)return q=$.call(H,q),q;else if(W)return q=W.call(H,null,q,J),q;if(q!=null)return q=new X(q),q;return q});else if(G)Z=G.call(H,null,Z,J);else if($)Z=$.call(H,Z);else if(W)Z=W.call(H,null,Z,J);else if(Z!=null)Z=new X(Z);return Z};k1.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=this.$conditionalHandlers[Z],!Y)throw new Error("Can\'t use "+Z+" with Array.");return Y.call(this,J,X)}else return this._castForQuery(J,X)};var s1=k1.prototype.$conditionalHandlers={};s1.$all=k$1;s1.$options=String;s1.$elemMatch=_$1;s1.$geoIntersects=QF.cast$geoIntersects;s1.$or=zF("$or");s1.$and=zF("$and");s1.$nor=zF("$nor");s1.$near=s1.$nearSphere=QF.cast$near;s1.$within=s1.$geoWithin=QF.cast$within;s1.$size=s1.$minDistance=s1.$maxDistance=j$1;s1.$exists=N$1;s1.$type=I$1;s1.$eq=s1.$gt=s1.$gte=s1.$lt=s1.$lte=s1.$not=s1.$regex=s1.$ne=k1.prototype._castForQuery;s1.$nin=N6.prototype.$conditionalHandlers.$nin;s1.$in=N6.prototype.$conditionalHandlers.$in;/*!
 * Module exports.
 */Ox.exports=k1});var kx=R((bM1,Sx)=>{var x$1=import.meta.require("assert"),{Long:g$1}=X6();Sx.exports=function Z(J){if(J==null)return J;if(J==="")return null;if(typeof J==="bigint")return J;if(J instanceof g$1)return J.toBigInt();if(typeof J==="string"||typeof J==="number")return BigInt(J);x$1.ok(!1)}});var xx=R((vM1,_x)=>{var F0=function(Z,J){WZ.call(this,Z,J,"BigInt")},hG=function(Z,J){return this.castForQuery(null,Z,J)};/*!
 * Module dependencies.
 */var f$1=z8(),WZ=S0(),y$1=kx(),b$1=X1();F0.schemaName="BigInt";F0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */F0.prototype=Object.create(WZ.prototype);F0.prototype.constructor=F0;/*!
 * ignore
 */F0._cast=y$1;F0.set=WZ.set;F0.setters=[];F0.get=WZ.get;F0.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */F0._checkRequired=(Z)=>Z!=null;F0.checkRequired=WZ.checkRequired;F0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};F0.prototype.cast=function(Z){let J;if(typeof this._castFunction==="function")J=this._castFunction;else if(typeof this.constructor.cast==="function")J=this.constructor.cast();else J=F0.cast();try{return J(Z)}catch(X){throw new f$1("BigInt",Z,this.path,X,this)}};/*!
 * ignore
 */F0.$conditionalHandlers=b$1.options(WZ.prototype.$conditionalHandlers,{$gt:hG,$gte:hG,$lt:hG,$lte:hG});/*!
 * ignore
 */F0.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=F0.$conditionalHandlers[Z],Y)return Y.call(this,J);return this.applySetters(null,J,X)}return this.applySetters(J,X)};F0.prototype._castNullish=function Z(J){if(typeof J==="undefined")return J;if((typeof this.constructor.cast==="function"?this.constructor.cast():F0.cast())==null)return J;return J};/*!
 * Module exports.
 */_x.exports=F0});var fx=R((hM1,gx)=>{var X0=function(Z,J){HZ.call(this,Z,J,"Boolean")};/*!
 * Module dependencies.
 */var v$1=z8(),HZ=S0(),q3=iY(),h$1=X1();X0.schemaName="Boolean";X0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */X0.prototype=Object.create(HZ.prototype);X0.prototype.constructor=X0;/*!
 * ignore
 */X0._cast=q3;X0.set=HZ.set;X0.setters=[];X0.get=HZ.get;X0.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */X0._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="boolean")throw new Error;return Z};/*!
 * ignore
 */X0._checkRequired=(Z)=>Z===!0||Z===!1;X0.checkRequired=HZ.checkRequired;X0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};Object.defineProperty(X0,"convertToTrue",{get:()=>q3.convertToTrue,set:(Z)=>{q3.convertToTrue=Z}});Object.defineProperty(X0,"convertToFalse",{get:()=>q3.convertToFalse,set:(Z)=>{q3.convertToFalse=Z}});X0.prototype.cast=function(Z){let J;if(typeof this._castFunction==="function")J=this._castFunction;else if(typeof this.constructor.cast==="function")J=this.constructor.cast();else J=X0.cast();try{return J(Z)}catch(X){throw new v$1("Boolean",Z,this.path,X,this)}};X0.$conditionalHandlers=h$1.options(HZ.prototype.$conditionalHandlers,{});X0.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=X0.$conditionalHandlers[Z],Y)return Y.call(this,J);return this.applySetters(null,J,X)}return this.applySetters(J,X)};X0.prototype._castNullish=function Z(J){if(typeof J==="undefined")return J;const X=typeof this.constructor.cast==="function"?this.constructor.cast():X0.cast();if(X==null)return J;if(X.convertToFalse instanceof Set&&X.convertToFalse.has(J))return!1;if(X.convertToTrue instanceof Set&&X.convertToTrue.has(J))return!0;return J};/*!
 * Module exports.
 */gx.exports=X0});var bx=R((uM1,yx)=>{var u$1=s8();class FF extends u$1{}var m$1=A6();Object.defineProperty(FF.prototype,"subtype",m$1);/*!
 * ignore
 */yx.exports=FF});var mx=R((mM1,ux)=>{var l0=function(Z,J){h4.call(this,Z,J,"Buffer")},mG=function(Z,J){return this.castForQuery(null,Z,J)};/*!
 * Module dependencies.
 */var qZ=eJ(),d$1=bx(),h4=S0(),uG=OG(),hx=X1(),vx=qZ.Binary,UF=h4.CastError;l0.schemaName="Buffer";l0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */l0.prototype=Object.create(h4.prototype);l0.prototype.constructor=l0;l0.prototype.OptionsConstructor=d$1;/*!
 * ignore
 */l0._checkRequired=(Z)=>!!(Z&&Z.length);l0.set=h4.set;l0.setters=[];l0.get=h4.get;l0.checkRequired=h4.checkRequired;l0.prototype.checkRequired=function(Z,J){if(h4._isRef(this,Z,J,!0))return!!Z;return this.constructor._checkRequired(Z)};l0.prototype.cast=function(Z,J,X){let Y;if(h4._isRef(this,Z,J,X)){if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new qZ(Z,[this.path,J]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof vx){if(Y=new qZ(Z.value(!0),[this.path,J]),typeof Z.sub_type!=="number")throw new UF("Buffer",Z,this.path,null,this);return Y._subtype=Z.sub_type,Y}if(Z==null||hx.isNonBuiltinObject(Z))return this._castRef(Z,J,X)}if(Z&&Z._id)Z=Z._id;if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new qZ(Z,[this.path,J]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof vx){if(Y=new qZ(Z.value(!0),[this.path,J]),typeof Z.sub_type!=="number")throw new UF("Buffer",Z,this.path,null,this);return Y._subtype=Z.sub_type,Y}if(Z===null)return Z;const G=typeof Z;if(G==="string"||G==="number"||Array.isArray(Z)||G==="object"&&Z.type==="Buffer"&&Array.isArray(Z.data)){if(G==="number")Z=[Z];if(Y=new qZ(Z,[this.path,J]),this.options.subtype!=null)Y._subtype=this.options.subtype;return Y}throw new UF("Buffer",Z,this.path,null,this)};l0.prototype.subtype=function(Z){return this.options.subtype=Z,this};/*!
 * ignore
 */l0.prototype.$conditionalHandlers=hx.options(h4.prototype.$conditionalHandlers,{$bitsAllClear:uG,$bitsAnyClear:uG,$bitsAllSet:uG,$bitsAnySet:uG,$gt:mG,$gte:mG,$lt:mG,$lte:mG});l0.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=this.$conditionalHandlers[Z],!Y)throw new Error("Can\'t use "+Z+" with Buffer.");return Y.call(this,J)}const G=this.applySetters(J,X);return G?G.toObject({transform:!1,virtuals:!1}):G};/*!
 * Module exports.
 */ux.exports=l0});var cx=R((dM1,dx)=>{var c$1=s8();class K3 extends c$1{}var LF=A6();Object.defineProperty(K3.prototype,"min",LF);Object.defineProperty(K3.prototype,"max",LF);Object.defineProperty(K3.prototype,"expires",LF);/*!
 * ignore
 */dx.exports=K3});var px=R((cM1,lx)=>{var VF=import.meta.require("assert");lx.exports=function Z(J){if(J==null||J==="")return null;if(J instanceof Date)return VF.ok(!isNaN(J.valueOf())),J;let X;if(VF.ok(typeof J!=="boolean"),J instanceof Number||typeof J==="number")X=new Date(J);else if(typeof J==="string"&&!isNaN(Number(J))&&(Number(J)>=275761||Number(J)<-271820))X=new Date(Number(J));else if(typeof J.valueOf==="function")X=new Date(J.valueOf());else X=new Date(J);if(!isNaN(X.valueOf()))return X;VF.ok(!1)}});var sx=R((lM1,ax)=>{var Y0=function(Z,J){_7.call(this,Z,J,"Date")},dG=function(Z){return this.cast(Z)};/*!
 * Module requirements.
 */var ix=h1(),l$1=cx(),_7=S0(),p$1=px(),i$1=j8(),nx=X1(),n$1=_7.CastError;Y0.schemaName="Date";Y0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */Y0.prototype=Object.create(_7.prototype);Y0.prototype.constructor=Y0;Y0.prototype.OptionsConstructor=l$1;/*!
 * ignore
 */Y0._cast=p$1;Y0.set=_7.set;Y0.setters=[];Y0.get=_7.get;Y0.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */Y0._defaultCaster=(Z)=>{if(Z!=null&&!(Z instanceof Date))throw new Error;return Z};Y0.prototype.expires=function(Z){if(i$1(this._index)!=="Object")this._index={};return this._index.expires=Z,nx.expires(this._index),this};/*!
 * ignore
 */Y0._checkRequired=(Z)=>Z instanceof Date;Y0.checkRequired=_7.checkRequired;Y0.prototype.checkRequired=function(Z,J){if(typeof Z==="object"&&_7._isRef(this,Z,J,!0))return Z!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():Y0.checkRequired())(Z)};Y0.prototype.min=function(Z,J){if(this.minValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.minValidator},this);if(Z){let X=J||ix.messages.Date.min;if(typeof X==="string")X=X.replace(/{MIN}/,Z===Date.now?"Date.now()":Z.toString());const Y=this;this.validators.push({validator:this.minValidator=function(G){let $=Z;if(typeof Z==="function"&&Z!==Date.now)$=$.call(this);const W=$===Date.now?$():Y.cast($);return G===null||G.valueOf()>=W.valueOf()},message:X,type:"min",min:Z})}return this};Y0.prototype.max=function(Z,J){if(this.maxValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.maxValidator},this);if(Z){let X=J||ix.messages.Date.max;if(typeof X==="string")X=X.replace(/{MAX}/,Z===Date.now?"Date.now()":Z.toString());const Y=this;this.validators.push({validator:this.maxValidator=function(G){let $=Z;if(typeof $==="function"&&$!==Date.now)$=$.call(this);const W=$===Date.now?$():Y.cast($);return G===null||G.valueOf()<=W.valueOf()},message:X,type:"max",max:Z})}return this};Y0.prototype.cast=function(Z){let J;if(typeof this._castFunction==="function")J=this._castFunction;else if(typeof this.constructor.cast==="function")J=this.constructor.cast();else J=Y0.cast();try{return J(Z)}catch(X){throw new n$1("date",Z,this.path,X,this)}};Y0.prototype.$conditionalHandlers=nx.options(_7.prototype.$conditionalHandlers,{$gt:dG,$gte:dG,$lt:dG,$lte:dG});Y0.prototype.castForQuery=function(Z,J,X){if(Z==null)return this.applySetters(J,X);const Y=this.$conditionalHandlers[Z];if(!Y)throw new Error("Can\'t use "+Z+" with Date.");return Y.call(this,J)};/*!
 * Module exports.
 */ax.exports=Y0});var tx=R((pM1,rx)=>{var x5=p3(),a$1=import.meta.require("assert");rx.exports=function Z(J){if(J==null)return J;if(typeof J==="object"&&typeof J.$numberDecimal==="string")return x5.fromString(J.$numberDecimal);if(J instanceof x5)return J;if(typeof J==="string")return x5.fromString(J);if(typeof Buffer==="function"&&Buffer.isBuffer(J))return new x5(J);if(typeof Uint8Array==="function"&&J instanceof Uint8Array)return new x5(J);if(typeof J==="number")return x5.fromString(String(J));if(typeof J.valueOf==="function"&&typeof J.valueOf()==="string")return x5.fromString(J.valueOf());a$1.ok(!1)}});var ex=R((iM1,ox)=>{var C0=function(Z,J){u4.call(this,Z,J,"Decimal128")},cG=function(Z){return this.cast(Z)};/*!
 * Module dependencies.
 */var u4=S0(),s$1=u4.CastError,r$1=tx(),t$1=X1(),RF=B8();C0.schemaName="Decimal128";C0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */C0.prototype=Object.create(u4.prototype);C0.prototype.constructor=C0;/*!
 * ignore
 */C0._cast=r$1;C0.set=u4.set;C0.setters=[];C0.get=u4.get;C0.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */C0._defaultCaster=(Z)=>{if(Z!=null&&!RF(Z,"Decimal128"))throw new Error;return Z};/*!
 * ignore
 */C0._checkRequired=(Z)=>RF(Z,"Decimal128");C0.checkRequired=u4.checkRequired;C0.prototype.checkRequired=function Z(J,X){if(u4._isRef(this,J,X,!0))return!!J;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():C0.checkRequired())(J)};C0.prototype.cast=function(Z,J,X){if(u4._isRef(this,Z,J,X)){if(RF(Z,"Decimal128"))return Z;return this._castRef(Z,J,X)}let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=C0.cast();try{return Y(Z)}catch(G){throw new s$1("Decimal128",Z,this.path,G,this)}};/*!
 * ignore
 */C0.prototype.$conditionalHandlers=t$1.options(u4.prototype.$conditionalHandlers,{$gt:cG,$gte:cG,$lt:cG,$lte:cG});/*!
 * Module exports.
 */ox.exports=C0});var Jg=R((nM1,Zg)=>{var o$1=s8();class wF extends o$1{}var e$1=A6();Object.defineProperty(wF.prototype,"_id",e$1);Zg.exports=wF});var AF=R((aM1,Xg)=>{Xg.exports=function Z(J,X,Y){if(J.length===0)return Y();let G=J.length,$=null;for(let W of J)X(W,function(H){if($!=null)return;if(H!=null)return $=H,Y($);if(--G<=0)return Y()})}});var $g=R((sM1,Gg)=>{var Yg=AF();/*!
 * ignore
 */Gg.exports=function Z(J){J.s.hooks.pre("save",!1,function Y(G){if(this.$isSubdocument){G();return}const $=this,W=this.$getAllSubdocs();if(!W.length){G();return}Yg(W,function(H,q){H.$__schema.s.hooks.execPre("save",H,function(K){q(K)})},function(H){if(H)return $.$__schema.s.hooks.execPost("save:error",$,[$],{error:H},function(q){G(q)});G()})},null,!0),J.s.hooks.post("save",function Y(G,$){if(this.$isSubdocument){$();return}const W=this,H=this.$getAllSubdocs();if(!H.length){$();return}Yg(H,function(q,K){q.$__schema.s.hooks.execPost("save",q,[q],function(Q){K(Q)})},function(q){if(q)return W.$__schema.s.hooks.execPost("save:error",W,[W],{error:q},function(K){$(K)});$()})},null,!0)}});var qg=R((rM1,MF)=>{var Hg=function(){let Z,J;if(this.$__.shardval){Z=Object.keys(this.$__.shardval),J=Z.length,this.$where=this.$where||{};for(let X=0;X<J;++X)this.$where[Z[X]]=this.$__.shardval[Z[X]]}},BF=function(){const Z=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(!Wg.isPOJO(Z))return;const J=this.$__.shardval={},X=Object.keys(Z),Y=X.length;let G;for(let $=0;$<Y;++$)if(G=this.$__getValue(X[$]),G==null)J[X[$]]=G;else if(Wg.isMongooseObject(G))J[X[$]]=G.toObject({depopulate:!0,_isNested:!0});else if(G instanceof Date||G[ZW1])J[X[$]]=G;else if(typeof G.valueOf==="function")J[X[$]]=G.valueOf();else J[X[$]]=G},ZW1=t().objectIdSymbol,Wg=X1();/*!
 * ignore
 */MF.exports=function Z(J){J.post("init",function X(){return BF.call(this),this}),J.pre("save",function X(Y){Hg.call(this),Y()}),J.pre("remove",function X(Y){Hg.call(this),Y()}),J.post("save",function X(){BF.call(this)})};/*!
 * ignore
 *//*!
 * ignore
 */MF.exports.storeShard=BF;/*!
 * ignore
 */});var Fg=R((tM1,zg)=>{var Kg=function(Z,J){const X=new Map;J=J||new Map;const Y=Object.keys(Z.$__.activePaths.init).concat(Object.keys(Z.$__.activePaths.modify));for(let $ of Y){const W=Z.$__getValue($);if(W!=null&&Array.isArray(W)&&JW1.isMongooseDocumentArray(W)&&W.length&&W[KZ]!=null&&Object.keys(W[KZ]).length!==0){const H=J.get($)||{};X.set($,Qg(H,W[KZ]))}}const G=Z.$__dirty();for(let $ of G){const{path:W,value:H}=$;if(H!=null&&H[KZ]!=null&&Object.keys(H[KZ]).length!==0){const q=J.get(W)||{};X.set(W,Qg(q,H[KZ]))}}return X},Qg=function(Z,J){if(Z=Z||{},J.$pullAll!=null)Z.$pullAll=(Z.$pullAll||[]).concat(J.$pullAll);if(J.$push!=null)Z.$push=Z.$push||{},Z.$push.$each=(Z.$push.$each||[]).concat(J.$push.$each);if(J.$addToSet!=null)Z.$addToSet=(Z.$addToSet||[]).concat(J.$addToSet);if(J.$set!=null)Z.$set=Object.assign(Z.$set||{},J.$set);return Z},KZ=t().arrayAtomicsSymbol,lG=t().sessionNewDocuments,JW1=X1();zg.exports=function Z(J){J.pre("save",function X(){const Y=this.$session();if(Y==null)return;if(Y.transaction==null||Y[lG]==null)return;if(!Y[lG].has(this)){const G={};if(this.isNew)G.isNew=!0;if(this.$__schema.options.versionKey)G.versionKey=this.get(this.$__schema.options.versionKey);G.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),G.atomics=Kg(this),Y[lG].set(this,G)}else{const G=Y[lG].get(this);for(let $ of Object.keys(this.$__.activePaths.getStatePaths("modify")))G.modifiedPaths.add($);G.atomics=Kg(this,G.atomics)}})}});var Lg=R((oM1,Ug)=>{/*!
 * ignore
 */Ug.exports=function Z(J){J.pre("save",!1,function Y(G,$){const W=this;if(this.$isSubdocument)return G();const H=$&&typeof $==="object"&&"validateBeforeSave"in $;let q;if(H)q=!!$.validateBeforeSave;else q=this.$__schema.options.validateBeforeSave;if(q){const Q=$&&typeof $==="object"&&"validateModifiedOnly"in $?{validateModifiedOnly:$.validateModifiedOnly}:null;this.$validate(Q).then(()=>{this.$op="save",G()},(z)=>{W.$__schema.s.hooks.execPost("save:error",W,[W],{error:z},function(F){W.$op="save",G(F)})})}else G()},null,!0)}});var NF=R((XW1)=>{XW1.saveSubdocs=$g();XW1.sharding=qg();XW1.trackTransaction=Fg();XW1.validateBeforeSave=Lg()});var wg=R((ZN1,Rg)=>{var Vg=NF();Rg.exports=function Z(J){for(let X of Object.values(Vg))X(J,{deduplicate:!0});J.plugins=Object.values(Vg).map((X)=>({fn:X,opts:{deduplicate:!0}})).concat(J.plugins)}});var Mg=R((JN1,Bg)=>{var HW1=rY(),qW1=n7(),KW1=B8(),QW1=B4(),Ag=e4();Bg.exports=function Z(J,X,Y,G){const $=Object.keys(X);let W=0;const H=$.length;let q;if(Y=Y||"",G=G||new WeakSet,G.has(X))return;G.add(X);while(W<H){if(q=$[W++],!Y){if(q==="discriminators"||q==="base"||q==="_applyDiscriminators"||q==="_userProvidedOptions"||q==="options"||q==="tree")continue}if(Y==="tree"&&X!=null&&X.instanceOfSchema)continue;if(qW1.has(q))continue;if(J[q]==null)J[q]=X[q];else if(Ag(X[q])){if(!Ag(J[q]))J[q]={};if(X[q]!=null){if(X[q].$isSingleNested&&J[q].$isMongooseDocumentArray||X[q].$isMongooseDocumentArray&&J[q].$isSingleNested||X[q].$isMongooseDocumentArrayElement&&J[q].$isMongooseDocumentArrayElement)continue;else if(X[q].instanceOfSchema){if(J[q].instanceOfSchema)HW1(J[q],X[q].clone(),!0);else J[q]=X[q].clone();continue}else if(KW1(X[q],"ObjectId")){J[q]=new QW1(X[q]);continue}}Z(J[q],X[q],Y?Y+"."+q:q,G)}}if(X!=null&&X.instanceOfSchema)J.tree=Object.assign({},X.tree,J.tree)}});var pG=R((XN1,Dg)=>{var Ng=E5(),zW1=wg(),FW1=W0(),UW1=ZG().defineKey,LW1=Z0(),IF=X1(),VW1=Mg(),Ig={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};/*!
 * ignore
 */Dg.exports=function Z(J,X,Y,G,$,W){if(!(Y&&Y.instanceOfSchema))throw new Error("You must pass a valid discriminator Schema");if(W=W==null?!0:W,J.schema.discriminatorMapping&&!J.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+X+'" can only be a discriminator of the root model');if($){const z=LW1(J.base,"options.applyPluginsToDiscriminators",!1)||!W;J.base._applyPlugins(Y,{skipTopLevel:!z})}else if(!W)zW1(Y);const H=J.schema.options.discriminatorKey,q=J.schema.path(H);if(q!=null){if(!IF.hasUserDefinedProperty(q.options,"select"))q.options.select=!0;q.options.$skipDiscriminatorCheck=!0}else{const z={};z[H]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},z[H][J.schema.options.typeKey]=String,J.schema.add(z),UW1({prop:H,prototype:J.prototype,options:J.schema.options})}if(Y.path(H)&&Y.path(H).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+X+'" cannot have field with name "'+H+'"');let K=X;if(typeof G==="string"&&G.length||G!=null)K=G;function Q(z,F){if(z._baseSchema=F,F.paths._id&&F.paths._id.options&&!F.paths._id.options.auto)z.remove("_id");const U=Object.keys(F.paths),L=[];for(let k of U){if(z.nested[k]){L.push(k);continue}if(k.indexOf(".")===-1)continue;const j=k.split(".").slice(0,-1);let E="";for(let p of j)if(E+=(E.length?".":"")+p,z.paths[E]instanceof Ng||z.singleNestedPaths[E]instanceof Ng)L.push(k)}VW1(z,F);for(let k of L)delete z.paths[k];z.childSchemas.forEach((k)=>{k.model.prototype.$__setSchema(k.schema)});const V={};if(V[H]={default:K,select:!0,set:function(k){if(k===K||Array.isArray(K)&&IF.deepEqual(k,K))return K;throw new Error('Can\'t set discriminator key "'+H+'"')},$skipDiscriminatorCheck:!0},V[H][z.options.typeKey]=q?q.options[z.options.typeKey]:String,z.add(V),z.discriminatorMapping={key:H,value:K,isRoot:!1},F.options.collection)z.options.collection=F.options.collection;const w=z.options.toJSON,B=z.options.toObject,M=z.options._id,A=z.options.id,I=Object.keys(z.options);z.options.discriminatorKey=F.options.discriminatorKey;const m=z._userProvidedOptions;for(let k of I)if(!Ig[k]){if(k in m&&!IF.deepEqual(z.options[k],F.options[k]))throw new Error("Can\'t customize discriminator option "+k+" (can only modify "+Object.keys(Ig).join(", ")+")")}z.options=FW1(F.options);for(let k of Object.keys(m))z.options[k]=m[k];if(w)z.options.toJSON=w;if(B)z.options.toObject=B;if(typeof M!=="undefined")z.options._id=M;if(z.options.id=A,W)z.s.hooks=J.schema.s.hooks.merge(z.s.hooks);if($)z.plugins=Array.prototype.slice.call(F.plugins);z.callQueue=F.callQueue.concat(z.callQueue),delete z._requiredpaths}if(Q(Y,J.schema),!J.discriminators)J.discriminators={};if(!J.schema.discriminatorMapping)J.schema.discriminatorMapping={key:H,value:null,isRoot:!0};if(!J.schema.discriminators)J.schema.discriminators={};if(J.schema.discriminators[X]=Y,J.discriminators[X]&&!Y.options.overwriteModels)throw new Error('Discriminator with name "'+X+'" already exists');return Y}});var iG=R((YN1,Cg)=>{var RW1=a6();Cg.exports=function Z(J,X,Y){const G=J.schema.options.discriminatorKey;let $=X!=null&&X[G];if($==null)$=Y;if(J.discriminators&&$!=null)if(J.discriminators[$])J=J.discriminators[$];else{const W=RW1(J.discriminators,$);if(W)J=W}return J}});var DF=R((GN1,Pg)=>{var wW1=mz();Pg.exports=function Z(J,X){if(X==null||X._id==null)return J;if(J=J.clone(),!X._id)J.remove("_id"),J.options._id=!1;else if(!J.paths._id)wW1(J),J.options._id=!0;return J}});var PF=R(($N1,Eg)=>{/*!
 * Module dependencies.
 */var AW1=h1();class CF extends AW1{constructor(Z,J){const X=`Cannot create use schema for property "${Z}" because the schema has the ${J} option enabled.`;super(X)}}Object.defineProperty(CF.prototype,"name",{value:"InvalidSchemaOptionError"});/*!
 * exports
 */Eg.exports=CF});var OF=R((WN1,Sg)=>{var c1=function(Z,J,X){if(Z.options.timeseries)throw new jW1(J,"timeseries");const Y=c1.defaultOptions&&c1.defaultOptions._id;if(Y!=null)X=X||{},X._id=Y;if(Z=CW1(Z,X),this.caster=Og(Z),this.caster.path=J,this.caster.prototype.$basePath=J,this.schema=Z,this.$isSingleNested=!0,this.base=Z.base,QZ.call(this,J,X,"Embedded"),Z._applyDiscriminators!=null&&!X?._skipApplyDiscriminators)for(let G of Z._applyDiscriminators.keys())this.discriminator(G,Z._applyDiscriminators.get(G))},Og=function(Z,J){nG||(nG=$G());const X=function G($,W,H){if(this.$__parent=H,nG.apply(this,arguments),H==null)return;this.$session(H.$session())};Z._preCompile();const Y=J!=null?J.prototype:nG.prototype;X.prototype=Object.create(Y),X.prototype.$__setSchema(Z),X.prototype.constructor=X,X.base=Z.base,X.schema=Z,X.$isSingleNested=!0,X.events=new EF,X.prototype.toBSON=function(){return this.toObject(PW1)};for(let G in Z.methods)X.prototype[G]=Z.methods[G];for(let G in Z.statics)X[G]=Z.statics[G];for(let G in EF.prototype)X[G]=EF.prototype[G];return X};/*!
 * Module dependencies.
 */var Tg=z8(),EF=import.meta.require("events").EventEmitter,BW1=oQ(),MW1=Jg(),QZ=S0(),NW1=oY(),IW1=nY(),jg=G3().castToNumber,DW1=pG(),TF=KF(),jF=iG(),CW1=DF(),PW1=z4().internalToObjectOptions,EW1=s9(),TW1=X1(),jW1=PF(),nG;Sg.exports=c1;/*!
 * ignore
 */c1.prototype=Object.create(QZ.prototype);c1.prototype.constructor=c1;c1.prototype.OptionsConstructor=MW1;/*!
 * ignore
 */c1.prototype.$conditionalHandlers.$geoWithin=function Z(J,X){return{$geometry:this.castForQuery(null,J.$geometry,X)}};/*!
 * ignore
 */c1.prototype.$conditionalHandlers.$near=c1.prototype.$conditionalHandlers.$nearSphere=TF.cast$near;c1.prototype.$conditionalHandlers.$within=c1.prototype.$conditionalHandlers.$geoWithin=TF.cast$within;c1.prototype.$conditionalHandlers.$geoIntersects=TF.cast$geoIntersects;c1.prototype.$conditionalHandlers.$minDistance=jg;c1.prototype.$conditionalHandlers.$maxDistance=jg;c1.prototype.$conditionalHandlers.$exists=IW1;c1.prototype.cast=function(Z,J,X,Y,G){if(Z&&Z.$isSingleNested&&Z.parent===J)return Z;if(Z!=null&&(typeof Z!=="object"||Array.isArray(Z)))throw new BW1(this.path,Z);const $=this.schema.path(this.schema.options.discriminatorKey),W=$==null?null:$.getDefault(J),H=jF(this.caster,Z,W);let q;const K=J&&J.$__&&J.$__.selected,Q=this.path,z=K==null?null:Object.keys(K).reduce((F,U)=>{if(U.startsWith(Q+"."))F=F||{},F[U.substring(Q.length+1)]=K[U];return F},null);if(X){q=new H(void 0,z,J,!1,{defaults:!1}),delete q.$__.defaults,q.$init(Z);const F=EW1(z);NW1(q,z,F)}else{if(G=Object.assign({},G,{priorDoc:Y}),Object.keys(Z).length===0)return new H({},z,J,void 0,G);return new H(Z,z,J,void 0,G)}return q};c1.prototype.castForQuery=function(Z,J,X,Y){let G;if(Z!=null){if(G=this.$conditionalHandlers[Z],!G)throw new Error("Can\'t use "+Z);return G.call(this,J)}if(J==null)return J;const $=jF(this.caster,J);if(J instanceof $)return J;if(this.options.runSetters)J=this._applySetters(J,X);const W=Y!=null&&Y.strict!=null?Y.strict:void 0;try{J=new $(J,W)}catch(H){if(!(H instanceof Tg))throw new Tg("Embedded",J,this.path,H,this);throw H}return J};c1.prototype.doValidate=function(Z,J,X,Y){const G=jF(this.caster,Z);if(Z&&!(Z instanceof G))Z=new G(Z,null,X!=null&&X.$__!=null?X:null);if(Y&&Y.skipSchemaValidators){if(!Z)return J(null);return Z.validate().then(()=>J(null),($)=>J($))}QZ.prototype.doValidate.call(this,Z,function($){if($)return J($);if(!Z)return J(null);Z.validate().then(()=>J(null),(W)=>J(W))},X,Y)};c1.prototype.doValidateSync=function(Z,J,X){if(!X||!X.skipSchemaValidators){const Y=QZ.prototype.doValidateSync.call(this,Z,J);if(Y)return Y}if(!Z)return;return Z.validateSync()};c1.prototype.discriminator=function(Z,J,X){X=X||{};const Y=TW1.isPOJO(X)?X.value:X,G=typeof X.clone==="boolean"?X.clone:!0;if(J.instanceOfSchema&&G)J=J.clone();return J=DW1(this.caster,Z,J,Y),this.caster.discriminators[Z]=Og(J,this.caster),this.caster.discriminators[Z]};/*!
 * ignore
 */c1.defaultOptions={};c1.set=QZ.set;c1.setters=[];c1.get=QZ.get;/*!
 * ignore
 */c1.prototype.toJSON=function Z(){return{path:this.path,options:this.options}};/*!
 * ignore
 */c1.prototype.clone=function(){const Z=new this.constructor(this.schema,this.path,{...this.options,_skipApplyDiscriminators:!0});if(Z.validators=this.validators.slice(),this.requiredValidator!==void 0)Z.requiredValidator=this.requiredValidator;return Z.caster.discriminators=Object.assign({},this.caster.discriminators),Z}});var _g=R((HN1,kg)=>{var m4=function(Z,J){if(this.$parentSchemaType=J&&J.$parentSchemaType,!this.$parentSchemaType)throw new OW1("Cannot create DocumentArrayElement schematype without a parent");delete J.$parentSchemaType,SF.call(this,Z,J,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0};/*!
 * Module dependencies.
 */var OW1=r1(),SF=S0(),SW1=OF(),kW1=iG();m4.schemaName="DocumentArrayElement";m4.defaultOptions={};/*!
 * Inherits from SchemaType.
 */m4.prototype=Object.create(SF.prototype);m4.prototype.constructor=m4;m4.prototype.cast=function(...Z){return this.$parentSchemaType.cast(...Z)[0]};m4.prototype.doValidate=function(Z,J,X,Y){const G=kW1(this.caster,Z);if(Z&&!(Z instanceof G))Z=new G(Z,X,null,null,Y&&Y.index!=null?Y.index:null);return SW1.prototype.doValidate.call(this,Z,J,X,Y)};m4.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;const Z=SF.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,Z.caster=this.caster,Z.schema=this.schema,Z};/*!
 * Module exports.
 */kg.exports=m4});var fg=R((qN1,gg)=>{var _W1=s8();class aG extends _W1{}var xg=A6();Object.defineProperty(aG.prototype,"excludeIndexes",xg);Object.defineProperty(aG.prototype,"_id",xg);/*!
 * ignore
 */gg.exports=aG});var cg=R((KN1,dg)=>{var U0=function(Z,J,X,Y){if(J.options&&J.options.timeseries)throw new bW1(Z,"timeseries");const G=U0.defaultOptions&&U0.defaultOptions._id;if(G!=null)Y=Y||{},Y._id=G;if(Y!=null&&Y._id!=null)J=bg(J,Y);else if(X!=null&&X._id!=null)J=bg(J,X);const $=mg(J,X);$.prototype.$basePath=Z,ug.call(this,Z,$,X),this.schema=J,this.schemaOptions=Y||{},this.$isMongooseDocumentArray=!0,this.Constructor=$,$.base=J.base;const W=this.defaultValue;if(!("defaultValue"in this)||W!==void 0)this.default(function(){let q=W.call(this);if(q!=null&&!Array.isArray(q))q=[q];return q});const H=this;if(this.$embeddedSchemaType=new xW1(Z+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:H}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema,J._applyDiscriminators!=null&&!X?._skipApplyDiscriminators)for(let q of J._applyDiscriminators.keys())this.discriminator(q,J._applyDiscriminators.get(q))},mg=function(Z,J,X){g5||(g5=t9());function Y(){if(g5.apply(this,arguments),this.__parentArray==null||this.__parentArray.getArrayParent()==null)return;this.$session(this.__parentArray.getArrayParent().$session())}Z._preCompile();const G=X!=null?X.prototype:g5.prototype;Y.prototype=Object.create(G),Y.prototype.$__setSchema(Z),Y.schema=Z,Y.prototype.constructor=Y,Y.$isArraySubdocument=!0,Y.events=new kF,Y.base=Z.base;for(let $ in Z.methods)Y.prototype[$]=Z.methods[$];for(let $ in Z.statics)Y[$]=Z.statics[$];for(let $ in kF.prototype)Y[$]=kF.prototype[$];return Y.options=J,Y},uW1=function(Z,J,X){if(!(X&&J))return;const Y=Z.path+".",G=Object.keys(J);let $=G.length;const W={};let H,q,K;while($--)if(q=G[$],q.startsWith(Y)){if(K=q.substring(Y.length),K==="$")continue;if(K.startsWith("$."))K=K.substring(2);H||(H=!0),W[K]=J[q]}return H&&W||void 0};/*!
 * Module dependencies.
 */var yg=z8(),xW1=_g(),kF=import.meta.require("events").EventEmitter,ug=gG(),gW1=fg(),Q3=S0(),fW1=pG(),bg=DF(),yW1=XG(),zZ=X1(),sG=iG(),bW1=PF(),vg=t().arrayAtomicsSymbol,_F=t().arrayPathSymbol,vW1=t().documentArrayParent,d4,g5;U0.schemaName="DocumentArray";U0.options={castNonArrays:!0};/*!
 * Inherits from SchemaArray.
 */U0.prototype=Object.create(ug.prototype);U0.prototype.constructor=U0;U0.prototype.OptionsConstructor=gW1;/*!
 * ignore
 */U0.prototype.discriminator=function(Z,J,X){if(typeof Z==="function")Z=zZ.getFunctionName(Z);X=X||{};const Y=zZ.isPOJO(X)?X.value:X,G=typeof X.clone==="boolean"?X.clone:!0;if(J.instanceOfSchema&&G)J=J.clone();J=fW1(this.casterConstructor,Z,J,Y);const $=mg(J,null,this.casterConstructor);$.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty($,"name",{value:Z})}catch(W){}return this.casterConstructor.discriminators[Z]=$,this.casterConstructor.discriminators[Z]};U0.prototype.doValidate=function(Z,J,X,Y){d4||(d4=j5());const G=this;try{Q3.prototype.doValidate.call(this,Z,$,X)}catch(W){return J(W)}function $(W){if(W)return J(W);let H=Z&&Z.length,q;if(!H)return J();if(Y&&Y.updateValidator)return J();if(!zZ.isMongooseDocumentArray(Z))Z=new d4(Z,G.path,X);function K(Q){if(Q!=null)q=Q;--H||J(q)}for(let Q=0,z=H;Q<z;++Q){let F=Z[Q];if(F==null){--H||J(q);continue}if(!(F instanceof g5)){const U=sG(G.casterConstructor,Z[Q]);F=Z[Q]=new U(F,Z,void 0,void 0,Q)}if(Y!=null&&Y.validateModifiedOnly&&!F.$isModified()){--H||J(q);continue}F.$__validate(K)}}};U0.prototype.doValidateSync=function(Z,J,X){const Y=Q3.prototype.doValidateSync.call(this,Z,J);if(Y!=null)return Y;const G=Z&&Z.length;let $=null;if(!G)return;for(let W=0,H=G;W<H;++W){let q=Z[W];if(!q)continue;if(!(q instanceof g5)){const Q=sG(this.casterConstructor,Z[W]);q=Z[W]=new Q(q,Z,void 0,void 0,W)}if(X!=null&&X.validateModifiedOnly&&!q.$isModified())continue;const K=q.validateSync();if(K&&$==null)$=K}return $};/*!
 * ignore
 */U0.prototype.getDefault=function(Z,J,X){let Y=typeof this.defaultValue==="function"?this.defaultValue.call(Z):this.defaultValue;if(Y==null)return Y;if(X&&X.skipCast)return Y;if(d4||(d4=j5()),!Array.isArray(Y))Y=[Y];Y=new d4(Y,this.path,Z);for(let G=0;G<Y.length;++G){const W=new(sG(this.casterConstructor,Y[G]))({},Y,void 0,void 0,G);W.$init(Y[G]),W.isNew=!0,Object.assign(W.$__.activePaths.default,W.$__.activePaths.init),W.$__.activePaths.init={},Y[G]=W}return Y};var hW1=Object.freeze({transform:!1,virtuals:!1}),hg=Object.freeze({skipId:!1,willInit:!0});U0.prototype.cast=function(Z,J,X,Y,G){if(d4||(d4=j5()),Z!=null&&Z[_F]!=null&&Z===Y)return Z;let $,W;G=G||{};const H=G.path||this.path;if(!Array.isArray(Z)){if(!X&&!U0.options.castNonArrays)throw new yg("DocumentArray",Z,this.path,null,this);if(!!J&&X)J.markModified(H);return this.cast([Z],J,X,Y,G)}if(!G.skipDocumentArrayCast||zZ.isMongooseDocumentArray(Z))Z=new d4(Z,H,J);if(Y!=null)Z[vg]=Y[vg]||{};if(G.arrayPathIndex!=null)Z[_F]=H+"."+G.arrayPathIndex;const q=zZ.isMongooseDocumentArray(Z)?Z.__array:Z,K=q.length;for(let Q=0;Q<K;++Q){if(!q[Q])continue;const z=sG(this.casterConstructor,q[Q]);if(q[Q].$__!=null&&!(q[Q]instanceof z)){const F=yW1(q[Q],!0);if(q[Q]!==F)q[Q]=F;else q[Q]=q[Q].toObject({transform:!1,virtuals:q[Q].schema===z.schema})}if(q[Q]instanceof g5){if(q[Q][vW1]!==J)if(X){const F=new z(null,Z,hg,$,Q);q[Q]=F.$init(q[Q])}else{const F=new z(q[Q],Z,void 0,void 0,Q);q[Q]=F}if(q[Q].__index==null)q[Q].$setIndex(Q)}else if(q[Q]!=null)if(X){if(J)$||($=uW1(this,J.$__.selected,X));else $=!0;W=new z(null,Z,hg,$,Q),q[Q]=W.$init(q[Q])}else{if(Y&&typeof Y.id==="function")W=Y.id(q[Q]._id);if(Y&&W&&zZ.deepEqual(W.toObject(hW1),q[Q]))W.set(q[Q]),q[Q]=W;else try{W=new z(q[Q],Z,void 0,void 0,Q),q[Q]=W}catch(F){throw new yg("embedded",q[Q],Z[_F],F,this)}}}return Z};/*!
 * ignore
 */U0.prototype.clone=function(){const Z=Object.assign({},this.options),J=new this.constructor(this.path,this.schema,{...Z,_skipApplyDiscriminators:!0},this.schemaOptions);if(J.validators=this.validators.slice(),this.requiredValidator!==void 0)J.requiredValidator=this.requiredValidator;return J.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),J};/*!
 * ignore
 */U0.prototype.applyGetters=function(Z,J){return Q3.prototype.applyGetters.call(this,Z,J)};/*!
 * ignore
 */U0.defaultOptions={};U0.set=Q3.set;U0.setters=[];U0.get=Q3.get;/*!
 * Module exports.
 */dg.exports=U0});var pg=R((QN1,lg)=>{var mW1=s8();class xF extends mW1{}var dW1=A6();Object.defineProperty(xF.prototype,"of",dW1);lg.exports=xF});var ag=R((zN1,ng)=>{/*!
 * ignore
 */var gF=CG(),cW1=pg(),ig=S0();/*!
 * ignore
 */class z3 extends ig{constructor(Z,J){super(Z,J,"Map");this.$isSchemaMap=!0}set(Z,J){return ig.set(Z,J)}cast(Z,J,X){if(Z instanceof gF)return Z;const Y=this.path;if(X){const G=new gF({},Y,J,this.$__schemaType);if(Z instanceof global.Map)for(let $ of Z.keys()){let W=Z.get($);if(W==null)W=G.$__schemaType._castNullish(W);else W=G.$__schemaType.cast(W,J,!0,null,{path:Y+"."+$});G.$init($,W)}else for(let $ of Object.keys(Z)){let W=Z[$];if(W==null)W=G.$__schemaType._castNullish(W);else W=G.$__schemaType.cast(W,J,!0,null,{path:Y+"."+$});G.$init($,W)}return G}return new gF(Z,Y,J,this.$__schemaType)}clone(){const Z=super.clone();if(this.$__schemaType!=null)Z.$__schemaType=this.$__schemaType.clone();return Z}}z3.schemaName="Map";z3.prototype.OptionsConstructor=cW1;z3.defaultOptions={};ng.exports=z3});var tg=R((FN1,rg)=>{var lW1=s8();class rG extends lW1{}var sg=A6();Object.defineProperty(rG.prototype,"auto",sg);Object.defineProperty(rG.prototype,"populate",sg);/*!
 * ignore
 */rg.exports=rG});var Zf=R((UN1,eg)=>{var L0=function(Z,J){const X=typeof Z==="string"&&Z.length===24&&/^[a-f0-9]+$/i.test(Z),Y=J&&J.suppressWarning;if((X||typeof Z==="undefined")&&!Y)vF.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you\'re trying to create a hex char path in your schema.");c4.call(this,Z,J,"ObjectId")},tG=function(Z){return this.cast(Z)},og=function(){return new yF},sW1=function(Z){if(fF||(fF=S8()),this instanceof fF){if(Z===void 0)return new yF}return Z};/*!
 * Module dependencies.
 */var pW1=tg(),c4=S0(),iW1=Rz(),nW1=j8(),yF=B4(),bF=B8(),vF=X1(),aW1=c4.CastError,fF;L0.schemaName="ObjectId";L0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */L0.prototype=Object.create(c4.prototype);L0.prototype.constructor=L0;L0.prototype.OptionsConstructor=pW1;L0.get=c4.get;L0.set=c4.set;L0.setters=[];L0.prototype.auto=function(Z){if(Z)this.default(og),this.set(sW1);return this};/*!
 * ignore
 */L0._checkRequired=(Z)=>bF(Z,"ObjectId");/*!
 * ignore
 */L0._cast=iW1;L0.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */L0._defaultCaster=(Z)=>{if(!bF(Z,"ObjectId"))throw new Error(Z+" is not an instance of ObjectId");return Z};L0.checkRequired=c4.checkRequired;L0.prototype.checkRequired=function Z(J,X){if(c4._isRef(this,J,X,!0))return!!J;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():L0.checkRequired())(J)};L0.prototype.cast=function(Z,J,X){if(!bF(Z,"ObjectId")&&c4._isRef(this,Z,J,X)){if((nW1(Z)||"").toLowerCase()==="objectid")return new yF(Z.toHexString());if(Z==null||vF.isNonBuiltinObject(Z))return this._castRef(Z,J,X)}let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=L0.cast();try{return Y(Z)}catch(G){throw new aW1("ObjectId",Z,this.path,G,this)}};/*!
 * ignore
 */L0.prototype.$conditionalHandlers=vF.options(c4.prototype.$conditionalHandlers,{$gt:tG,$gte:tG,$lt:tG,$lte:tG});/*!
 * ignore
 */og.$runBeforeSetters=!0;/*!
 * Module exports.
 */eg.exports=L0});var Xf=R((LN1,Jf)=>{var rW1=s8();class I6 extends rW1{}var L4=A6();Object.defineProperty(I6.prototype,"enum",L4);Object.defineProperty(I6.prototype,"match",L4);Object.defineProperty(I6.prototype,"lowercase",L4);Object.defineProperty(I6.prototype,"trim",L4);Object.defineProperty(I6.prototype,"uppercase",L4);Object.defineProperty(I6.prototype,"minLength",L4);Object.defineProperty(I6.prototype,"minlength",L4);Object.defineProperty(I6.prototype,"maxLength",L4);Object.defineProperty(I6.prototype,"maxlength",L4);Object.defineProperty(I6.prototype,"populate",L4);/*!
 * ignore
 */Jf.exports=I6});var $f=R((VN1,Gf)=>{var O1=function(Z,J){this.enumValues=[],this.regExp=null,l4.call(this,Z,J,"String")},F3=function(Z,J){return this.castForQuery(null,Z,J)},JH1=function(Z,J){const X=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,J)];return Z.map(function(Y){return X.castForQuery(null,Y,J)})},Yf=function(Z){if(Z==null)return this._castNullish(Z);return this.cast(Z,this)};/*!
 * Module dependencies.
 */var l4=S0(),U3=h1(),tW1=Xf(),oW1=JF(),hF=X1(),eW1=B8(),ZH1=l4.CastError;O1.schemaName="String";O1.defaultOptions={};/*!
 * Inherits from SchemaType.
 */O1.prototype=Object.create(l4.prototype);O1.prototype.constructor=O1;Object.defineProperty(O1.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:tW1});/*!
 * ignore
 */O1._cast=oW1;O1.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */O1._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="string")throw new Error;return Z};O1.get=l4.get;O1.set=l4.set;O1.setters=[];/*!
 * ignore
 */O1._checkRequired=(Z)=>(Z instanceof String||typeof Z==="string")&&Z.length;O1.checkRequired=l4.checkRequired;O1.prototype.enum=function(){if(this.enumValidator)this.validators=this.validators.filter(function(Y){return Y.validator!==this.enumValidator},this),this.enumValidator=!1;if(arguments[0]===void 0||arguments[0]===!1)return this;let Z,J;if(hF.isObject(arguments[0]))if(Array.isArray(arguments[0].values))Z=arguments[0].values,J=arguments[0].message;else Z=hF.object.vals(arguments[0]),J=U3.messages.String.enum;else Z=arguments,J=U3.messages.String.enum;for(let Y of Z)if(Y!==void 0)this.enumValues.push(this.cast(Y));const X=this.enumValues;return this.enumValidator=function(Y){return Y==null||~X.indexOf(Y)},this.validators.push({validator:this.enumValidator,message:J,type:"enum",enumValues:X}),this};O1.prototype.lowercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((J)=>{if(typeof J!=="string")J=this.cast(J);if(J)return J.toLowerCase();return J})};O1.prototype.uppercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((J)=>{if(typeof J!=="string")J=this.cast(J);if(J)return J.toUpperCase();return J})};O1.prototype.trim=function(Z){if(arguments.length>0&&!Z)return this;return this.set((J)=>{if(typeof J!=="string")J=this.cast(J);if(J)return J.trim();return J})};O1.prototype.minlength=function(Z,J){if(this.minlengthValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.minlengthValidator},this);if(Z!==null&&Z!==void 0){let X=J||U3.messages.String.minlength;X=X.replace(/{MINLENGTH}/,Z),this.validators.push({validator:this.minlengthValidator=function(Y){return Y===null||Y.length>=Z},message:X,type:"minlength",minlength:Z})}return this};O1.prototype.minLength=O1.prototype.minlength;O1.prototype.maxlength=function(Z,J){if(this.maxlengthValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.maxlengthValidator},this);if(Z!==null&&Z!==void 0){let X=J||U3.messages.String.maxlength;X=X.replace(/{MAXLENGTH}/,Z),this.validators.push({validator:this.maxlengthValidator=function(Y){return Y===null||Y.length<=Z},message:X,type:"maxlength",maxlength:Z})}return this};O1.prototype.maxLength=O1.prototype.maxlength;O1.prototype.match=function Z(J,X){const Y=X||U3.messages.String.match,G=function($){if(!J)return!1;return J.lastIndex=0,$!=null&&$!==""?J.test($):!0};return this.validators.push({validator:G,message:Y,type:"regexp",regexp:J}),this};O1.prototype.checkRequired=function Z(J,X){if(typeof J==="object"&&l4._isRef(this,J,X,!0))return J!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():O1.checkRequired())(J)};O1.prototype.cast=function(Z,J,X){if(typeof Z!=="string"&&l4._isRef(this,Z,J,X))return this._castRef(Z,J,X);let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=O1.cast();try{return Y(Z)}catch(G){throw new ZH1("string",Z,this.path,null,this)}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */var XH1=hF.options(l4.prototype.$conditionalHandlers,{$all:JH1,$gt:F3,$gte:F3,$lt:F3,$lte:F3,$options:Yf,$regex:function Z(J){if(Object.prototype.toString.call(J)==="[object RegExp]")return J;return Yf.call(this,J)},$not:F3});Object.defineProperty(O1.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(XH1)});O1.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=this.$conditionalHandlers[Z],!Y)throw new Error("Can\'t use "+Z+" with String.");return Y.call(this,J,X)}if(Object.prototype.toString.call(J)==="[object RegExp]"||eW1(J,"BSONRegExp"))return J;return this.applySetters(J,X)};/*!
 * Module exports.
 */Gf.exports=O1});var Qf=R((RN1,Kf)=>{var GH1=function(Z){return Z!=null&&Buffer.from(Z,"hex")},$H1=function(Z){return Z!=null&&Z.toString("hex")},Wf=function(Z){if(typeof Z!=="string")Z="";const J=Z.replace(/[{}-]/g,""),X=GH1(J),Y=new cF(X);return Y._subtype=4,Y},qf=function(Z){let J;if(typeof Z!=="string"&&Z!=null)return J=$H1(Z),J.substring(0,8)+"-"+J.substring(8,12)+"-"+J.substring(12,16)+"-"+J.substring(16,20)+"-"+J.substring(20,32);return Z},V0=function(Z,J){x7.call(this,Z,J,"UUID"),this.getters.push(function(X){if(X!=null&&X.$__!=null)return X;return qf(X)})},L3=function(Z){return this.cast(Z)},uF=function(Z){return Z.map((J)=>{return this.cast(J)})};/*!
 * Module dependencies.
 */var cF=eJ(),x7=S0(),mF=x7.CastError,Hf=X1(),oG=OG(),dF=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,YH1=cF.Binary;V0.schemaName="UUID";V0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */V0.prototype=Object.create(x7.prototype);V0.prototype.constructor=V0;/*!
 * ignore
 */V0._cast=function(Z){if(Z==null)return Z;function J(X){const Y=new cF(X);return Y._subtype=4,Y}if(typeof Z==="string")if(dF.test(Z))return Wf(Z);else throw new mF(V0.schemaName,Z,this.path);if(Buffer.isBuffer(Z))return J(Z);if(Z instanceof YH1)return J(Z.value(!0));if(Z.toString&&Z.toString!==Object.prototype.toString){if(dF.test(Z.toString()))return Wf(Z.toString())}throw new mF(V0.schemaName,Z,this.path)};V0.get=x7.get;V0.set=x7.set;V0.setters=[];V0.cast=function Z(J){if(arguments.length===0)return this._cast;if(J===!1)J=this._defaultCaster;return this._cast=J,this._cast};/*!
 * ignore
 */V0._checkRequired=(Z)=>Z!=null;V0.checkRequired=x7.checkRequired;V0.prototype.checkRequired=function Z(J){if(Buffer.isBuffer(J))J=qf(J);return J!=null&&dF.test(J)};V0.prototype.cast=function(Z,J,X){if(Hf.isNonBuiltinObject(Z)&&x7._isRef(this,Z,J,X))return this._castRef(Z,J,X);let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=V0.cast();try{return Y(Z)}catch(G){throw new mF(V0.schemaName,Z,this.path,G,this)}};/*!
 * ignore
 *//*!
 * ignore
 */V0.prototype.$conditionalHandlers=Hf.options(x7.prototype.$conditionalHandlers,{$bitsAllClear:oG,$bitsAnyClear:oG,$bitsAllSet:oG,$bitsAnySet:oG,$all:uF,$gt:L3,$gte:L3,$in:uF,$lt:L3,$lte:L3,$ne:L3,$nin:uF});V0.prototype.castForQuery=function(Z,J,X){let Y;if(Z!=null){if(Y=this.$conditionalHandlers[Z],!Y)throw new Error("Can\'t use "+Z+" with UUID.");return Y.call(this,J,X)}else return this.cast(J)};/*!
 * Module exports.
 */Kf.exports=V0});var Y3=R((WH1)=>{/*!
 * Module exports.
 */WH1.Array=gG();WH1.BigInt=xx();WH1.Boolean=fx();WH1.Buffer=mx();WH1.Date=sx();WH1.Decimal128=WH1.Decimal=ex();WH1.DocumentArray=cg();WH1.Map=ag();WH1.Mixed=E5();WH1.Number=WF();WH1.ObjectId=Zf();WH1.String=$f();WH1.Subdocument=OF();WH1.UUID=Qf();WH1.Oid=WH1.ObjectId;WH1.Object=WH1.Mixed;WH1.Bool=WH1.Boolean;WH1.ObjectID=WH1.ObjectId});var e9=R((rF,Df)=>{var r=function(Z,J){if(!(this instanceof r))return new r(Z,J);if(this.obj=Z,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods=J&&J.methods||{},this.methodOptions={},this.statics=J&&J.statics||{},this.tree={},this.query=J&&J.query||{},this.childSchemas=[],this.plugins=[],this.$id=++Af,this.mapPaths=[],this.s={hooks:new DH1},this.options=this.defaultOptions(J),Array.isArray(Z))for(let G of Z)this.add(G);else if(Z)this.add(Z);if(J&&J.virtuals){const G=J.virtuals,$=Object.keys(G);for(let W of $){const H=G[W].options?G[W].options:void 0,q=this.virtual(W,H);if(G[W].get)q.get(G[W].get);if(G[W].set)q.set(G[W].set)}}const X=Z&&Z._id&&l1.isObject(Z._id);if(!this.paths._id&&this.options._id&&!X)Vf(this);this.setupTimestamp(this.options.timestamps)},Bf=function(Z,J){for(let X of Object.keys(J)){let Y=null;if(J[X]!=null)Y=J[X];else{const $=Rf(Z.paths[X],"options");if($==null)continue;Y=$.alias}if(!Y)continue;const G=Z.paths[X].path;if(Array.isArray(Y)){for(let $ of Y){if(typeof $!=="string")throw new Error("Invalid value for alias option on "+G+", got "+$);Z.aliases[$]=G,Z.virtual($).get(function(W){return function(){if(typeof this.get==="function")return this.get(W);return this[W]}}(G)).set(function(W){return function(H){return this.$set(W,H)}}(G))}continue}if(typeof Y!=="string")throw new Error("Invalid value for alias option on "+G+", got "+Y);Z.aliases[Y]=G,Z.virtual(Y).get(function($){return function(){if(typeof this.get==="function")return this.get($);return this[$]}}(G)).set(function($){return function(W){return this.$set($,W)}}(G))}},fH1=function(Z){const J=[];for(let X of Object.keys(Z.paths)){const Y=Z.paths[X];if(Y.$isMongooseDocumentArray||Y.$isSingleNested)J.push({schema:Y.schema,model:Y.caster})}return J},yH1=function(Z,J,X){if(Z.paths.hasOwnProperty(J))return Z.paths[J];if(Z.subpaths.hasOwnProperty(X))return Z.subpaths[X];if(Z.singleNestedPaths.hasOwnProperty(X)&&typeof Z.singleNestedPaths[X]==="object")return Z.singleNestedPaths[X];return null},Mf=function(Z){if(!/\.\d+/.test(Z))return Z;return Z.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$")},Nf=function(Z,J){if(Z.mapPaths.length===0)return null;for(let X of Z.mapPaths){const Y=X.path;if(new RegExp("^"+Y.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(J))return Z.paths[Y]}return null},bH1=function(Z,J,X,Y,G){const $=X+".$*";let W={type:{}};if(l1.hasUserDefinedProperty(Y,"of")){if(l1.isPOJO(Y.of)&&Object.keys(Y.of).length>0&&!l1.hasUserDefinedProperty(Y.of,Z.options.typeKey))W={[Z.options.typeKey]:new r(Y.of)};else if(l1.isPOJO(Y.of))W=Object.assign({},Y.of);else W={[Z.options.typeKey]:Y.of};if(W[Z.options.typeKey]&&W[Z.options.typeKey].instanceOfSchema)W[Z.options.typeKey].eachPath((K,Q)=>{if(Q.options.select===!0||Q.options.select===!1)throw new f5('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+X+"."+K+'"')});if(l1.hasUserDefinedProperty(Y,"ref"))W.ref=Y.ref}J.$__schemaType=Z.interpretAsType($,W,G)},If=function(Z,J,X){const Y=J.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(Y.length<2)return Z.paths.hasOwnProperty(Y[0])?Z.paths[Y[0]]:"adhocOrUndefined";let G=Z.path(Y[0]),$=!1;if(!G)return"adhocOrUndefined";const W=Y.length-1;for(let H=1;H<Y.length;++H){$=!1;const q=Y[H];if(H===W&&G&&!/\D/.test(q)){if(G.$isMongooseDocumentArray)G=G.$embeddedSchemaType;else if(G instanceof g7.Array)G=G.caster;else G=void 0;break}if(!/\D/.test(q)){if(G instanceof g7.Array&&H!==W)G=G.caster;continue}if(!(G&&G.schema)){G=void 0;break}$=G.schema.pathType(q)==="nested",G=G.schema.path(q)}if(Z.subpaths[X]=G,G)return"real";if($)return"nested";return"adhocOrUndefined"},vH1=function(Z,J,X){return If(Z,J,X),Z.subpaths[X]},aF=function(Z,J){for(let{schema:X}of Z.childSchemas){if(!X.$implicitlyCreated)continue;Object.assign(X.options,J),aF(X,J)}},iF=function(Z,J){const X=J.split("."),Y=X.pop();let G=Z.tree;for(let $ of X)G=G[$];delete G[Y]},sF=function(Z){return Z.startsWith("$[")&&Z.endsWith("]")};/*!
 * Module dependencies.
 */var IH1=import.meta.require("events").EventEmitter,DH1=u9(),f5=r1(),Uf=S0(),Lf=s8(),CH1=A_(),nF=uz(),Vf=mz(),F8=W0(),Rf=Z0(),PH1=j8(),EH1=D_(),Z$=lz(),TH1=E_(),jH1=rY(),eG=p6(),OH1=y_(),l1=X1(),SH1=v_(),kH1=import.meta.require("util"),g7,_H1=IG().middlewareFunctions,xH1=DG().middlewareFunctions,wf=_H1.concat(xH1).reduce((Z,J)=>Z.add(J),new Set),pF=l1.isPOJO,Af=0,gH1=/^\d+$/;/*!
 * Inherit from EventEmitter.
 */r.prototype=Object.create(IH1.prototype);r.prototype.constructor=r;r.prototype.instanceOfSchema=!0;/*!
 * ignore
 */Object.defineProperty(r.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0});Object.defineProperty(r.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(r.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0});r.prototype.obj;r.prototype.paths;r.prototype.tree;r.prototype.clone=function(){const Z=this._clone();return Z.on("init",(J)=>this.emit("init",J)),Z};/*!
 * ignore
 */r.prototype._clone=function Z(J){J=J||(this.base==null?r:this.base.Schema);const X=new J({},this._userProvidedOptions);X.base=this.base,X.obj=this.obj,X.options=F8(this.options),X.callQueue=this.callQueue.map(function(Y){return Y}),X.methods=F8(this.methods),X.methodOptions=F8(this.methodOptions),X.statics=F8(this.statics),X.query=F8(this.query),X.plugins=Array.prototype.slice.call(this.plugins),X._indexes=F8(this._indexes),X.s.hooks=this.s.hooks.clone(),X.tree=F8(this.tree),X.paths=Object.fromEntries(Object.entries(this.paths).map(([Y,G])=>[Y,G.clone()])),X.nested=F8(this.nested),X.subpaths=F8(this.subpaths);for(let Y of Object.values(X.paths))if(Y.$isSingleNested){const G=Y.path;for(let $ of Object.keys(Y.schema.paths))X.singleNestedPaths[G+"."+$]=Y.schema.paths[$];for(let $ of Object.keys(Y.schema.singleNestedPaths))X.singleNestedPaths[G+"."+$]=Y.schema.singleNestedPaths[$];for(let $ of Object.keys(Y.schema.subpaths))X.singleNestedPaths[G+"."+$]=Y.schema.subpaths[$];for(let $ of Object.keys(Y.schema.nested))X.singleNestedPaths[G+"."+$]="nested"}if(X.childSchemas=fH1(X),X.virtuals=F8(this.virtuals),X.$globalPluginsApplied=this.$globalPluginsApplied,X.$isRootDiscriminator=this.$isRootDiscriminator,X.$implicitlyCreated=this.$implicitlyCreated,X.$id=++Af,X.$originalSchemaId=this.$id,X.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null)X.discriminatorMapping=Object.assign({},this.discriminatorMapping);if(this.discriminators!=null)X.discriminators=Object.assign({},this.discriminators);if(this._applyDiscriminators!=null)X._applyDiscriminators=new Map(this._applyDiscriminators);return X.aliases=Object.assign({},this.aliases),X};r.prototype.pick=function(Z,J){const X=new r({},J||this.options);if(!Array.isArray(Z))throw new f5('Schema#pick() only accepts an array argument, got "'+typeof Z+'"');for(let Y of Z)if(this.nested[Y])X.add({[Y]:Rf(this.tree,Y)});else{const G=this.path(Y);if(G==null)throw new f5("Path `"+Y+"` is not in the schema");X.add({[Y]:G})}return X};r.prototype.omit=function(Z,J){const X=new r(this,J||this.options);if(!Array.isArray(Z))throw new f5('Schema#omit() only accepts an array argument, got "'+typeof Z+'"');X.remove(Z);for(let Y in X.singleNestedPaths)if(Z.includes(Y))delete X.singleNestedPaths[Y];return X};r.prototype.defaultOptions=function(Z){this._userProvidedOptions=Z==null?{}:F8(Z);const J=this.base&&this.base.options||{},X="strict"in J?J.strict:!0,Y="strictQuery"in J?J.strictQuery:!1,G="id"in J?J.id:!0;if(Z=l1.options({strict:X,strictQuery:Y,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:G,typeKey:"type"},F8(Z)),Z.versionKey&&typeof Z.versionKey!=="string")throw new f5("`versionKey` must be falsy or string, got `"+typeof Z.versionKey+"`");if(typeof Z.read==="string")Z.read=Z$(Z.read);else if(Array.isArray(Z.read)&&typeof Z.read[0]==="string")Z.read={mode:Z$(Z.read[0]),tags:Z.read[1]};if(Z.optimisticConcurrency&&!Z.versionKey)throw new f5("Must set `versionKey` if using `optimisticConcurrency`");return Z};r.prototype.discriminator=function(Z,J){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(Z,J),this};r.prototype.add=function Z(J,X){if(J instanceof r||J!=null&&J.instanceOfSchema)return jH1(this,J),this;if(J._id===!1&&X==null)this.options._id=!1;if(X=X||"",X==="__proto__."||X==="constructor."||X==="prototype.")return this;const Y=Object.keys(J),G=this.options.typeKey;for(let W of Y){if(l1.specialProperties.has(W))continue;const H=X+W,q=J[W];if(q==null)throw new TypeError("Invalid value for schema path `"+H+'`, got value "'+q+'"');if(W==="_id"&&q===!1)continue;let K=!1;if(typeof q==="string"){const Q=this.base!=null?this.base.Schema.Types:r.Types,z=q.charAt(0).toUpperCase()+q.substring(1);K=Q[z]!=null}if(W!=="_id"&&(typeof q!=="object"&&typeof q!=="function"&&!K||q==null))throw new TypeError(`Invalid schema configuration: \`${q}\` is not `+`a valid type at path \`${W}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(q instanceof nF||(q.constructor&&q.constructor.name||null)==="VirtualType"){this.virtual(q);continue}if(Array.isArray(q)&&q.length===1&&q[0]==null)throw new TypeError("Invalid value for schema Array path `"+H+'`, got value "'+q[0]+'"');if(!(pF(q)||q instanceof Lf)){if(X)this.nested[X.substring(0,X.length-1)]=!0;if(this.path(X+W,q),q[0]!=null&&!q[0].instanceOfSchema&&l1.isPOJO(q[0].discriminators)){const Q=this.path(X+W);for(let z in q[0].discriminators)Q.discriminator(z,q[0].discriminators[z])}}else if(Object.keys(q).length<1){if(X)this.nested[X.substring(0,X.length-1)]=!0;this.path(H,q)}else if(!q[G]||G==="type"&&pF(q.type)&&q.type.type)this.nested[H]=!0,this.add(q,H+".");else{const Q=q[G];if(pF(Q)&&Object.keys(Q).length>0){if(X)this.nested[X.substring(0,X.length-1)]=!0;const z={};if(this._userProvidedOptions.typeKey)z.typeKey=this._userProvidedOptions.typeKey;if(this._userProvidedOptions.strict!=null)z.strict=this._userProvidedOptions.strict;if(this._userProvidedOptions.toObject!=null)z.toObject=l1.omit(this._userProvidedOptions.toObject,["transform"]);if(this._userProvidedOptions.toJSON!=null)z.toJSON=l1.omit(this._userProvidedOptions.toJSON,["transform"]);const F=new r(Q,z);F.$implicitlyCreated=!0;const U=Object.assign({},q,{[G]:F});this.path(X+W,U)}else{if(X)this.nested[X.substring(0,X.length-1)]=!0;if(this.path(X+W,q),q!=null&&!q.instanceOfSchema&&l1.isPOJO(q.discriminators)){const z=this.path(X+W);for(let F in q.discriminators)z.discriminator(F,q.discriminators[F])}}}}const $=Object.fromEntries(Object.entries(J).map(([W])=>[X+W,null]));return Bf(this,$),this};r.prototype.alias=function J(Z,J){return Bf(this,{[Z]:J}),this};r.prototype.removeIndex=function Z(J){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(typeof J!=="object"&&typeof J!=="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(typeof J==="object"){for(let X=this._indexes.length-1;X>=0;--X)if(kH1.isDeepStrictEqual(this._indexes[X][0],J))this._indexes.splice(X,1)}else for(let X=this._indexes.length-1;X>=0;--X)if(this._indexes[X][1]!=null&&this._indexes[X][1].name===J)this._indexes.splice(X,1);return this};r.prototype.clearIndexes=function Z(){return this._indexes.length=0,this};r.reserved=Object.create(null);r.prototype.reserved=r.reserved;var p0=r.reserved;p0.prototype=p0.emit=p0.listeners=p0.removeListener=p0.collection=p0.errors=p0.get=p0.init=p0.isModified=p0.isNew=p0.populated=p0.remove=p0.save=p0.toObject=p0.validate=1;p0.collection=1;r.prototype.path=function(Z,J){if(J===void 0){const q=Mf(Z);let K=yH1(this,Z,q);if(K!=null)return K;const Q=Nf(this,Z);if(Q!=null)return Q;if(K=this.hasMixedParent(q),K!=null)return K;return/\.\d+\.?.*$/.test(Z)?vH1(this,Z,q):void 0}const X=Z.split(".")[0];if(p0[X]&&!this.options.suppressReservedKeysWarning){const q=`\`${X}\` is a reserved schema pathname and may break some functionality. `+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";l1.warn(q)}if(typeof J==="object"&&l1.hasUserDefinedProperty(J,"ref"))SH1(J.ref,Z);const Y=Z.split(/\./),G=Y.pop();let $=this.tree,W="";for(let q of Y){if(l1.specialProperties.has(q))throw new Error("Cannot set special property `"+q+"` on a schema");if(W=W+=(W.length>0?".":"")+q,!$[q])this.nested[W]=!0,$[q]={};if(typeof $[q]!=="object"){const K="Cannot set nested path `"+Z+"`. Parent path `"+W+"` already set to type "+$[q].name+".";throw new Error(K)}$=$[q]}$[G]=F8(J),this.paths[Z]=this.interpretAsType(Z,J,this.options);const H=this.paths[Z];if(H.$isSchemaMap){const q=Z+".$*";this.paths[q]=H.$__schemaType,this.mapPaths.push(this.paths[q])}if(H.$isSingleNested){for(let q of Object.keys(H.schema.paths))this.singleNestedPaths[Z+"."+q]=H.schema.paths[q];for(let q of Object.keys(H.schema.singleNestedPaths))this.singleNestedPaths[Z+"."+q]=H.schema.singleNestedPaths[q];for(let q of Object.keys(H.schema.subpaths))this.singleNestedPaths[Z+"."+q]=H.schema.subpaths[q];for(let q of Object.keys(H.schema.nested))this.singleNestedPaths[Z+"."+q]="nested";Object.defineProperty(H.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),H.caster.base=this.base,this.childSchemas.push({schema:H.schema,model:H.caster})}else if(H.$isMongooseDocumentArray)Object.defineProperty(H.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),H.casterConstructor.base=this.base,this.childSchemas.push({schema:H.schema,model:H.casterConstructor});if(H.$isMongooseArray&&H.caster instanceof Uf){let q=Z,K=H;const Q=[];while(K.$isMongooseArray){if(q=q+".$",K.$isMongooseDocumentArray)K.$embeddedSchemaType._arrayPath=q,K.$embeddedSchemaType._arrayParentPath=Z,K=K.$embeddedSchemaType.clone();else K.caster._arrayPath=q,K.caster._arrayParentPath=Z,K=K.caster.clone();K.path=q,Q.push(K)}for(let z of Q)this.subpaths[z.path]=z}if(H.$isMongooseDocumentArray){for(let q of Object.keys(H.schema.paths)){const K=H.schema.paths[q];if(this.subpaths[Z+"."+q]=K,typeof K==="object"&&K!=null&&K.$parentSchemaDocArray==null)K.$parentSchemaDocArray=H}for(let q of Object.keys(H.schema.subpaths)){const K=H.schema.subpaths[q];if(this.subpaths[Z+"."+q]=K,typeof K==="object"&&K!=null&&K.$parentSchemaDocArray==null)K.$parentSchemaDocArray=H}for(let q of Object.keys(H.schema.singleNestedPaths)){const K=H.schema.singleNestedPaths[q];if(this.subpaths[Z+"."+q]=K,typeof K==="object"&&K!=null&&K.$parentSchemaDocArray==null)K.$parentSchemaDocArray=H}}return this};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */Object.defineProperty(r.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null});r.prototype.interpretAsType=function(Z,J,X){if(J instanceof Uf){if(J.path===Z)return J;const q=J.clone();return q.path=Z,q}const Y=this.base!=null?this.base.Schema.Types:r.Types,G=this.base!=null?this.base.Types:XZ();if(!l1.isPOJO(J)&&!(J instanceof Lf)){if(l1.getFunctionName(J.constructor)!=="Object"){const K=J;J={},J[X.typeKey]=K}}let $=J[X.typeKey]&&(J[X.typeKey]instanceof Function||X.typeKey!=="type"||!J.type.type)?J[X.typeKey]:{},W;if(l1.isPOJO($)||$==="mixed")return new Y.Mixed(Z,J);if(Array.isArray($)||$===Array||$==="array"||$===Y.Array){let q=$===Array||$==="array"?J.cast||J.of:$[0];if(q&&q.instanceOfSchema){if(!(q instanceof r))if(this.options._isMerging)q=new r(q);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new Y.DocumentArray(Z,q,J)}if(q&&q[X.typeKey]&&q[X.typeKey].instanceOfSchema){if(!(q[X.typeKey]instanceof r))if(this.options._isMerging)q[X.typeKey]=new r(q[X.typeKey]);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new Y.DocumentArray(Z,q[X.typeKey],J,q)}if(Array.isArray(q))return new Y.Array(Z,this.interpretAsType(Z,q,X),J);const K=q!=null&&q[X.typeKey]&&(X.typeKey!=="type"||!q.type.type)?q[X.typeKey]:q;if(typeof q==="string")q=Y[q.charAt(0).toUpperCase()+q.substring(1)];else if(l1.isPOJO(K))if(Object.keys(K).length){const Q={minimize:X.minimize};if(X.typeKey)Q.typeKey=X.typeKey;if(X.hasOwnProperty("strict"))Q.strict=X.strict;if(X.hasOwnProperty("strictQuery"))Q.strictQuery=X.strictQuery;if(X.hasOwnProperty("toObject"))Q.toObject=l1.omit(X.toObject,["transform"]);if(X.hasOwnProperty("toJSON"))Q.toJSON=l1.omit(X.toJSON,["transform"]);if(this._userProvidedOptions.hasOwnProperty("_id"))Q._id=this._userProvidedOptions._id;else if(r.Types.DocumentArray.defaultOptions._id!=null)Q._id=r.Types.DocumentArray.defaultOptions._id;const z=new r(K,Q);return z.$implicitlyCreated=!0,new Y.DocumentArray(Z,z,J)}else return new Y.Array(Z,Y.Mixed,J);if(q){if($=q[X.typeKey]&&(X.typeKey!=="type"||!q.type.type)?q[X.typeKey]:q,Array.isArray($))return new Y.Array(Z,this.interpretAsType(Z,$,X),J);if(W=typeof $==="string"?$:$.schemaName||l1.getFunctionName($),W==="ClockDate")W="Date";if(W===void 0)throw new TypeError("Invalid schema configuration: "+`Could not determine the embedded type for array \`${Z}\`. `+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!Y.hasOwnProperty(W))throw new TypeError("Invalid schema configuration: "+`\`${W}\` is not a valid type within the array \`${Z}\`.`+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new Y.Array(Z,q||Y.Mixed,J,X)}if($&&$.instanceOfSchema)return new Y.Subdocument($,Z,J);if(Buffer.isBuffer($))W="Buffer";else if(typeof $==="function"||typeof $==="object")W=$.schemaName||l1.getFunctionName($);else if($===G.ObjectId)W="ObjectId";else if($===G.Decimal128)W="Decimal128";else W=$==null?""+$:$.toString();if(W)W=W.charAt(0).toUpperCase()+W.substring(1);if(W==="ObjectID")W="ObjectId";if(W==="ClockDate")W="Date";if(W===void 0)throw new TypeError(`Invalid schema configuration: \`${Z}\` schematype definition is `+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(Y[W]==null)throw new TypeError(`Invalid schema configuration: \`${W}\` is not `+`a valid type at path \`${Z}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");const H=new Y[W](Z,J);if(H.$isSchemaMap)bH1(this,H,Z,J,X);return H};/*!
 * ignore
 */r.prototype.eachPath=function(Z){const J=Object.keys(this.paths),X=J.length;for(let Y=0;Y<X;++Y)Z(J[Y],this.paths[J[Y]]);return this};r.prototype.requiredPaths=function Z(J){if(this._requiredpaths&&!J)return this._requiredpaths;const X=Object.keys(this.paths);let Y=X.length;const G=[];while(Y--){const $=X[Y];if(this.paths[$].isRequired)G.push($)}return this._requiredpaths=G,this._requiredpaths};r.prototype.indexedPaths=function Z(){if(this._indexedpaths)return this._indexedpaths;return this._indexedpaths=this.indexes(),this._indexedpaths};r.prototype.pathType=function(Z){if(this.paths.hasOwnProperty(Z))return"real";if(this.virtuals.hasOwnProperty(Z))return"virtual";if(this.nested.hasOwnProperty(Z))return"nested";const J=Mf(Z);if(this.subpaths.hasOwnProperty(J)||this.subpaths.hasOwnProperty(Z))return"real";const X=this.singleNestedPaths.hasOwnProperty(J)||this.singleNestedPaths.hasOwnProperty(Z);if(X)return X==="nested"?"nested":"real";if(Nf(this,Z)!=null)return"real";if(/\.\d+\.|\.\d+$/.test(Z))return If(this,Z,J);return"adhocOrUndefined"};r.prototype.hasMixedParent=function(Z){const J=Z.split(/\./g);Z="";for(let X=0;X<J.length;++X)if(Z=X>0?Z+"."+J[X]:J[X],this.paths.hasOwnProperty(Z)&&this.paths[Z]instanceof g7.Mixed)return this.paths[Z];return null};r.prototype.setupTimestamp=function(Z){return OH1(this,Z)};/*!
 * ignore
 */r.prototype.queue=function(Z,J){return this.callQueue.push([Z,J]),this};r.prototype.pre=function(Z){if(Z instanceof RegExp){const J=Array.prototype.slice.call(arguments,1);for(let X of wf)if(Z.test(X))this.pre.apply(this,[X].concat(J));return this}if(Array.isArray(Z)){const J=Array.prototype.slice.call(arguments,1);for(let X of Z)this.pre.apply(this,[X].concat(J));return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this};r.prototype.post=function(Z){if(Z instanceof RegExp){const J=Array.prototype.slice.call(arguments,1);for(let X of wf)if(Z.test(X))this.post.apply(this,[X].concat(J));return this}if(Array.isArray(Z)){const J=Array.prototype.slice.call(arguments,1);for(let X of Z)this.post.apply(this,[X].concat(J));return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this};r.prototype.plugin=function(Z,J){if(typeof Z!=="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+typeof Z+'"');if(J&&J.deduplicate){for(let X of this.plugins)if(X.fn===Z)return this}return this.plugins.push({fn:Z,opts:J}),Z(this,J),this};r.prototype.method=function(Z,J,X){if(typeof Z!=="string")for(let Y in Z)this.methods[Y]=Z[Y],this.methodOptions[Y]=F8(X);else this.methods[Z]=J,this.methodOptions[Z]=F8(X);return this};r.prototype.static=function(Z,J){if(typeof Z!=="string")for(let X in Z)this.statics[X]=Z[X];else this.statics[Z]=J;return this};r.prototype.index=function(Z,J){if(Z||(Z={}),J||(J={}),J.expires)l1.expires(J);for(let X in Z)if(this.aliases[X])Z=l1.renameObjKey(Z,X,this.aliases[X]);for(let X of Object.keys(Z))if(Z[X]==="ascending"||Z[X]==="asc")Z[X]=1;else if(Z[X]==="descending"||Z[X]==="desc")Z[X]=-1;return this._indexes.push([Z,J]),this};r.prototype.set=function(Z,J,X){if(arguments.length===1)return this.options[Z];switch(Z){case"read":if(typeof J==="string")this.options[Z]={mode:Z$(J),tags:X};else if(Array.isArray(J)&&typeof J[0]==="string")this.options[Z]={mode:Z$(J[0]),tags:J[1]};else this.options[Z]=J;this._userProvidedOptions[Z]=this.options[Z];break;case"timestamps":this.setupTimestamp(J),this.options[Z]=J,this._userProvidedOptions[Z]=this.options[Z];break;case"_id":if(this.options[Z]=J,this._userProvidedOptions[Z]=this.options[Z],J&&!this.paths._id)Vf(this);else if(!J&&this.paths._id!=null&&this.paths._id.auto)this.remove("_id");break;default:this.options[Z]=J,this._userProvidedOptions[Z]=this.options[Z];break}if(Z==="strict")aF(this,{strict:J});if(Z==="strictQuery")aF(this,{strictQuery:J});return this};/*!
 * Recursively set options on implicitly created schemas
 */r.prototype.get=function(Z){return this.options[Z]};var hH1="2d 2dsphere hashed text".split(" ");Object.defineProperty(r,"indexTypes",{get:function(){return hH1},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}});r.prototype.indexes=function(){return EH1(this)};r.prototype.virtual=function(Z,J){if(Z instanceof nF||PH1(Z)==="VirtualType")return this.virtual(Z.path,Z.options);if(J=new CH1(J),l1.hasUserDefinedProperty(J,["ref","refPath"])){if(J.localField==null)throw new Error("Reference virtuals require `localField` option");if(J.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function H(q){if(eG.has(Z,q)){const K=eG.get(Z,q);if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(J.justOne||J.count)this.$$populatedVirtuals[Z]=Array.isArray(K)?K[0]:K;else this.$$populatedVirtuals[Z]=Array.isArray(K)?K:K==null?[]:[K];eG.unset(Z,q)}});const G=this.virtual(Z);if(G.options=J,G.set(function(H){if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(J.justOne||J.count){if(this.$$populatedVirtuals[Z]=Array.isArray(H)?H[0]:H,typeof this.$$populatedVirtuals[Z]!=="object")this.$$populatedVirtuals[Z]=J.count?H:null}else this.$$populatedVirtuals[Z]=Array.isArray(H)?H:H==null?[]:[H],this.$$populatedVirtuals[Z]=this.$$populatedVirtuals[Z].filter(function(q){return q&&typeof q==="object"})}),typeof J.get==="function")G.get(J.get);const $=Z.split(".");let W=$[0];for(let H=0;H<$.length-1;++H){if(this.paths[W]==null)continue;if(this.paths[W].$isMongooseDocumentArray||this.paths[W].$isSingleNested){const q=$.slice(H+1).join(".");this.paths[W].schema.virtual(q,J);break}W+="."+$[H+1]}return G}const X=this.virtuals,Y=Z.split(".");if(this.pathType(Z)==="real")throw new Error('Virtual path "'+Z+'" conflicts with a real path in the schema');return X[Z]=Y.reduce(function(G,$,W){return G[$]||(G[$]=W===Y.length-1?new nF(J,Z):{}),G[$]},this.tree),X[Z]};r.prototype.virtualpath=function(Z){return this.virtuals.hasOwnProperty(Z)?this.virtuals[Z]:null};r.prototype.remove=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z))Z.forEach(function(J){if(this.path(J)==null&&!this.nested[J])return;if(this.nested[J]){const X=Object.keys(this.paths).concat(Object.keys(this.nested));for(let Y of X)if(Y.startsWith(J+"."))delete this.paths[Y],delete this.nested[Y],iF(this,Y);delete this.nested[J],iF(this,J);return}delete this.paths[J],iF(this,J)},this);return this};/*!
 * ignore
 */r.prototype.removeVirtual=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z)){for(let J of Z)if(this.virtuals[J]==null)throw new f5(`Attempting to remove virtual "${J}" that does not exist.`);for(let J of Z)if(delete this.paths[J],delete this.virtuals[J],J.indexOf(".")!==-1)eG.unset(J,this.tree);else delete this.tree[J]}return this};r.prototype.loadClass=function(Z,J){if(Z===Object.prototype||Z===Function.prototype||Z.prototype.hasOwnProperty("$isMongooseModelPrototype")||Z.prototype.hasOwnProperty("$isMongooseDocumentPrototype"))return this;if(this.loadClass(Object.getPrototypeOf(Z),J),!J)Object.getOwnPropertyNames(Z).forEach(function(X){if(X.match(/^(length|name|prototype|constructor|__proto__)$/))return;const Y=Object.getOwnPropertyDescriptor(Z,X);if(Y.hasOwnProperty("value"))this.static(X,Y.value)},this);return Object.getOwnPropertyNames(Z.prototype).forEach(function(X){if(X.match(/^(constructor)$/))return;const Y=Object.getOwnPropertyDescriptor(Z.prototype,X);if(!J){if(typeof Y.value==="function")this.method(X,Y.value)}if(typeof Y.get==="function"){if(this.virtuals[X])this.virtuals[X].getters=[];this.virtual(X).get(Y.get)}if(typeof Y.set==="function"){if(this.virtuals[X])this.virtuals[X].setters=[];this.virtual(X).set(Y.set)}},this),this};/*!
 * ignore
 */r.prototype._getSchema=function(Z){const J=this,X=J.path(Z),Y=[];if(X)return X.$fullPath=Z,X;function G(W,H){let q=W.length+1,K,Q;while(q--)if(Q=W.slice(0,q).join("."),K=H.path(Q),K){if(Y.push(Q),K.caster){if(K.caster instanceof g7.Mixed)return K.caster.$fullPath=Y.join("."),K.caster;if(q!==W.length){if(K.schema){let z;if(W[q]==="$"||sF(W[q])){if(q+1===W.length)return K.$embeddedSchemaType;if(z=G(W.slice(q+1),K.schema),z)z.$parentSchemaDocArray=z.$parentSchemaDocArray||(K.schema.$isSingleNested?null:K);return z}if(z=G(W.slice(q),K.schema),z)z.$parentSchemaDocArray=z.$parentSchemaDocArray||(K.schema.$isSingleNested?null:K);return z}}}else if(K.$isSchemaMap){if(q>=W.length)return K;if(q+1>=W.length)return K.$__schemaType;if(K.$__schemaType instanceof g7.Mixed)return K.$__schemaType;if(K.$__schemaType.schema!=null)return G(W.slice(q+1),K.$__schemaType.schema)}return K.$fullPath=Y.join("."),K}}const $=Z.split(".");for(let W=0;W<$.length;++W){if($[W]==="$"||sF($[W]))$[W]="0";if(gH1.test($[W]))$[W]="$"}return G($,J)};/*!
 * ignore
 */r.prototype._getPathType=function(Z){const J=this;if(J.path(Z))return"real";function Y(G,$){let W=G.length+1,H,q;while(W--)if(q=G.slice(0,W).join("."),H=$.path(q),H){if(H.caster){if(H.caster instanceof g7.Mixed)return{schema:H,pathType:"mixed"};if(W!==G.length&&H.schema){if(G[W]==="$"||sF(G[W])){if(W===G.length-1)return{schema:H,pathType:"nested"};return Y(G.slice(W+1),H.schema)}return Y(G.slice(W),H.schema)}return{schema:H,pathType:H.$isSingleNested?"nested":"array"}}return{schema:H,pathType:"real"}}else if(W===G.length&&$.nested[q])return{schema:$,pathType:"nested"};return{schema:H||$,pathType:"undefined"}}return Y(Z.split("."),J)};/*!
 * ignore
 */r.prototype._preCompile=function Z(){TH1(this)};/*!
 * Module exports.
 */Df.exports=rF=r;r.Types=g7=Y3();/*!
 * ignore
 */rF.ObjectId=g7.ObjectId});var Pf=R((BN1,Cf)=>{/*!
 * Module dependencies.
 */var uH1=r1();class tF extends uH1{constructor(Z,J){super(Z);this.errors=J}}Object.defineProperty(tF.prototype,"name",{value:"SyncIndexesError"});Cf.exports=tF});var oF=R((MN1,Ef)=>{Ef.exports=function Z(J,X,Y,G){if(J[G])return;if(J[G]=!0,!Y||!Y.skipTopLevel){let q=null;for(let K of X){const Q=K[1]==null?null:K[1].tags;if(!Array.isArray(Q)){J.plugin(K[0],K[1]);continue}if(q=q||new Set(J.options.pluginTags||[]),!Q.find((z)=>q.has(z)))continue;J.plugin(K[0],K[1])}}if(Y=Object.assign({},Y),delete Y.skipTopLevel,Y.applyPluginsToChildSchemas!==!1)for(let q of Object.keys(J.paths)){const K=J.paths[q];if(K.schema!=null)Z(K.schema,X,Y,G),K.caster.prototype.$__setSchema(K.schema)}const $=J.discriminators;if($==null)return;const W=Y.applyPluginsToDiscriminators,H=Object.keys($);for(let q of H){const K=$[q];Z(K,X,{skipTopLevel:!W},G)}}});var jf=R((NN1,Tf)=>{var mH1=r1();class eF extends mH1{constructor(Z,J){super(Z);this.errors=J}}Object.defineProperty(eF.prototype,"name",{value:"CreateCollectionsError"});Tf.exports=eF});var _f=R((IN1,kf)=>{var Y1=function(Z){if(this.base=Z,this.collections={},this.models={},this.config={},this.replica=!1,this.options=null,this.otherDbs=[],this.relatedDbs={},this.states=o1,this._readyState=o1.disconnected,this._closeCalled=!1,this._hasOpened=!1,this.plugins=[],typeof Z==="undefined"||!Z.connections.length)this.id=0;else this.id=Z.nextConnectionId;this._queue=[]};async function Zq1(Z,J){try{return await Z(J)}catch(X){throw Jq1(J),X}}var Jq1=function(Z){for(let J of Z[V3].keys()){const X=Z[V3].get(J);if(X.hasOwnProperty("isNew"))J.$isNew=X.isNew;if(X.hasOwnProperty("versionKey"))J.set(J.schema.options.versionKey,X.versionKey);if(X.modifiedPaths.length>0&&J.$__.activePaths.states.modify==null)J.$__.activePaths.states.modify={};for(let Y of X.modifiedPaths){const G=J.$__.activePaths.paths[Y];if(G!=null)delete J.$__.activePaths[G][Y];J.$__.activePaths.paths[Y]="modify",J.$__.activePaths.states.modify[Y]=!0}for(let Y of X.atomics.keys()){const G=J.$__getValue(Y);if(G==null)continue;G[oH1]=X.atomics.get(Y)}}},Xq1=function(Z,J,X){if(typeof J==="function"&&X==null)throw new f8("Connection.prototype.openUri() no longer accepts a callback");else if(typeof X==="function")throw new f8("Connection.prototype.openUri() no longer accepts a callback")},Sf=function(Z){if(Z?.name==="MongoServerSelectionError"){const J=Z;Z=new pH1,Z.assimilateError(J)}return Z};/*!
 * Module dependencies.
 */var dH1=jQ(),cH1=import.meta.require("events").EventEmitter,lH1=e9(),o1=s5(),f8=h1(),pH1=cQ(),iH1=Pf(),nH1=oF(),aH1=W0(),sH1=g3(),rH1=Z0(),Of=h8(),ZU=X1(),tH1=jf(),oH1=t().arrayAtomicsSymbol,V3=t().sessionNewDocuments,eH1=["MONGODB-X509"];/*!
 * Inherit from EventEmitter
 */Object.setPrototypeOf(Y1.prototype,cH1.prototype);Object.defineProperty(Y1.prototype,"readyState",{get:function(){return this._readyState},set:function(Z){if(!(Z in o1))throw new Error("Invalid connection state: "+Z);if(this._readyState!==Z){this._readyState=Z;for(let J of this.otherDbs)J.readyState=Z;if(o1.connected===Z)this._hasOpened=!0;this.emit(o1[Z])}}});Y1.prototype.get=function(Z){if(this.config.hasOwnProperty(Z))return this.config[Z];return rH1(this.options,Z)};Y1.prototype.set=function(Z,J){if(this.config.hasOwnProperty(Z))return this.config[Z]=J,J;return this.options=this.options||{},this.options[Z]=J,J};Y1.prototype.collections;Y1.prototype.name;Y1.prototype.models;Y1.prototype.id;Object.defineProperty(Y1.prototype,"plugins",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(Y1.prototype,"host",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Y1.prototype,"port",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Y1.prototype,"user",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Y1.prototype,"pass",{configurable:!0,enumerable:!0,writable:!0});Y1.prototype.db;Y1.prototype.client;Y1.prototype.config;Y1.prototype.createCollection=async function Z(J,X){if(typeof X==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new f8("Connection.prototype.createCollection() no longer accepts a callback");if((this.readyState===o1.connecting||this.readyState===o1.disconnected)&&this._shouldBufferCommands())await new Promise((Y)=>{this._queue.push({fn:Y})});return this.db.createCollection(J,X)};Y1.prototype.createCollections=async function Z(J={}){const X={},Y={},{continueOnError:G}=J;delete J.continueOnError;for(let $ of Object.values(this.models))try{X[$.modelName]=await $.createCollection({})}catch(W){if(!G){Y[$.modelName]=W;break}else X[$.modelName]=W}if(!G&&Object.keys(Y).length){const $=Object.entries(Y).map(([H,q])=>`${H}: ${q.message}`).join(", ");throw new tH1($,Y)}return X};Y1.prototype.startSession=async function Z(J){if(arguments.length>=2&&typeof arguments[1]==="function")throw new f8("Connection.prototype.startSession() no longer accepts a callback");if((this.readyState===o1.connecting||this.readyState===o1.disconnected)&&this._shouldBufferCommands())await new Promise((Y)=>{this._queue.push({fn:Y})});return this.client.startSession(J)};Y1.prototype.transaction=function Z(J,X){return this.startSession().then((Y)=>{return Y[V3]=new Map,Y.withTransaction(()=>Zq1(J,Y),X).then((G)=>{return delete Y[V3],G}).catch((G)=>{throw delete Y[V3],G}).finally(()=>{Y.endSession().catch(()=>{})})})};/*!
 * Reset document state in between transaction retries re: gh-13698
 *//*!
 * If transaction was aborted, we need to reset newly inserted documents' `isNew`.
 */Y1.prototype.dropCollection=async function Z(J){if(arguments.length>=2&&typeof arguments[1]==="function")throw new f8("Connection.prototype.dropCollection() no longer accepts a callback");if((this.readyState===o1.connecting||this.readyState===o1.disconnected)&&this._shouldBufferCommands())await new Promise((X)=>{this._queue.push({fn:X})});return this.db.dropCollection(J)};Y1.prototype.dropDatabase=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new f8("Connection.prototype.dropDatabase() no longer accepts a callback");if((this.readyState===o1.connecting||this.readyState===o1.disconnected)&&this._shouldBufferCommands())await new Promise((J)=>{this._queue.push({fn:J})});for(let J of Object.values(this.models))delete J.$init;return this.db.dropDatabase()};/*!
 * ignore
 */Y1.prototype._shouldBufferCommands=function Z(){if(this.config.bufferCommands!=null)return this.config.bufferCommands;if(this.base.get("bufferCommands")!=null)return this.base.get("bufferCommands");return!0};Y1.prototype.error=function(Z,J){if(J)return J(Z),null;if(this.listeners("error").length>0)this.emit("error",Z);return Promise.reject(Z)};Y1.prototype.onOpen=function(){this.readyState=o1.connected;for(let Z of this._queue)Z.fn.apply(Z.ctx,Z.args);this._queue=[];for(let Z in this.collections)if(ZU.object.hasOwnProperty(this.collections,Z))this.collections[Z].onOpen();this.emit("open")};Y1.prototype.openUri=async function Z(J,X){if(this.readyState===o1.connecting||this.readyState===o1.connected){if(this._connectionString===J)return this}this._closeCalled=!1;let Y=!1;if(X&&"_fireAndForget"in X)Y=X._fireAndForget,delete X._fireAndForget;try{Xq1.apply(arguments)}catch(G){if(Y)throw G;throw this.$initialConnection=Promise.reject(G),G}this.$initialConnection=this.createClient(J,X).then(()=>this).catch((G)=>{if(this.readyState=o1.disconnected,this.listeners("error").length>0)Of(()=>this.emit("error",G));throw G});for(let G of Object.values(this.models))G.init().catch(function $(){});if(Y)return this;try{await this.$initialConnection}catch(G){throw Sf(G)}return this};/*!
 * ignore
 *//*!
 * ignore
 */Y1.prototype.destroy=async function Z(J){if(typeof J==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new f8("Connection.prototype.destroy() no longer accepts a callback");if(J!=null&&typeof J==="object")this.$wasForceClosed=!!J.force;else this.$wasForceClosed=!!J;return this._close(J,!0)};Y1.prototype.close=async function Z(J){if(typeof J==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new f8("Connection.prototype.close() no longer accepts a callback");if(J!=null&&typeof J==="object")this.$wasForceClosed=!!J.force;else this.$wasForceClosed=!!J;for(let X of Object.values(this.models))delete X.$init;return this._close(J,!1)};Y1.prototype._close=async function Z(J,X){const Y=this,G=this._closeCalled;if(this._closeCalled=!0,this._destroyCalled=X,this.client!=null)this.client._closeCalled=!0,this.client._destroyCalled=X;const $=this;switch(this.readyState){case o1.disconnected:if(X&&this.base.connections.indexOf($)!==-1)this.base.connections.splice(this.base.connections.indexOf($),1);if(!G)await this.doClose(J),this.onClose(J);break;case o1.connected:if(this.readyState=o1.disconnecting,await this.doClose(J),X&&Y.base.connections.indexOf($)!==-1)this.base.connections.splice(this.base.connections.indexOf($),1);this.onClose(J);break;case o1.connecting:return new Promise((W,H)=>{const q=()=>{if(this.removeListener("open",q),this.removeListener("error",q),X)this.destroy(J).then(W,H);else this.close(J).then(W,H)};this.once("open",q),this.once("error",q)});case o1.disconnecting:return new Promise((W)=>{this.once("close",()=>{if(X&&this.base.connections.indexOf($)!==-1)this.base.connections.splice(this.base.connections.indexOf($),1);W()})})}return this};Y1.prototype.doClose=function(){throw new Error("Connection#doClose unimplemented by driver")};Y1.prototype.onClose=function(Z){this.readyState=o1.disconnected;for(let J in this.collections)if(ZU.object.hasOwnProperty(this.collections,J))this.collections[J].onClose(Z);this.emit("close",Z);for(let J of this.otherDbs)this._destroyCalled?J.destroy({force:Z,skipCloseClient:!0}):J.close({force:Z,skipCloseClient:!0})};Y1.prototype.collection=function(Z,J){const X={autoIndex:this.config.autoIndex!=null?this.config.autoIndex:this.base.options.autoIndex,autoCreate:this.config.autoCreate!=null?this.config.autoCreate:this.base.options.autoCreate};J=Object.assign({},X,J?aH1(J):{}),J.$wasForceClosed=this.$wasForceClosed;const Y=this.base&&this.base.__driver&&this.base.__driver.Collection||sH1.get().Collection;if(!(Z in this.collections))this.collections[Z]=new Y(Z,this,J);return this.collections[Z]};Y1.prototype.plugin=function(Z,J){return this.plugins.push([Z,J]),this};Y1.prototype.model=function(Z,J,X,Y){if(!(this instanceof Y1))throw new f8("`connection.model()` should not be run with `new`. If you are doing `new db.model(foo)(bar)`, use `db.model(foo)(bar)` instead");let G;if(typeof Z==="function")G=Z,Z=G.name;if(typeof J==="string")X=J,J=!1;if(ZU.isObject(J)){if(!J.instanceOfSchema)J=new lH1(J);else if(!(J instanceof this.base.Schema))J=J._clone(this.base.Schema)}if(J&&!J.instanceOfSchema)throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");const $={cache:!1,overwriteModels:this.base.options.overwriteModels},W=Object.assign($,Y,{connection:this});if(this.models[Z]&&!X&&W.overwriteModels!==!0){if(J&&J.instanceOfSchema&&J!==this.models[Z].schema)throw new f8.OverwriteModelError(Z);return this.models[Z]}let H;if(J&&J.instanceOfSchema){if(nH1(J,this.plugins,null,"$connectionPluginsApplied"),H=this.base._model(G||Z,J,X,W),!this.models[Z])this.models[Z]=H;return H.init().catch(function q(){}),H}if(this.models[Z]&&X)return H=this.models[Z],J=H.prototype.schema,H.__subclass(this,J,X);if(arguments.length===1){if(H=this.models[Z],!H)throw new f8.MissingSchemaError(Z);return H}if(!H)throw new f8.MissingSchemaError(Z);if(this===H.prototype.db&&(!X||X===H.collection.name)){if(!this.models[Z])this.models[Z]=H;return H}return this.models[Z]=H.__subclass(this,J,X),this.models[Z]};Y1.prototype.deleteModel=function(Z){if(typeof Z==="string"){const J=this.model(Z);if(J==null)return this;const X=J.collection.name;delete this.models[Z],delete this.collections[X],this.emit("deleteModel",J)}else if(Z instanceof RegExp){const J=Z,X=this.modelNames();for(let Y of X)if(J.test(Y))this.deleteModel(Y)}else throw new Error('First parameter to `deleteModel()` must be a string or regexp, got "'+Z+'"');return this};Y1.prototype.watch=function(Z,J){return new dH1((G)=>{Of(()=>{if(this.readyState===o1.connecting)this.once("open",function(){const $=this.db.watch(Z,J);G(null,$)});else{const $=this.db.watch(Z,J);G(null,$)}})},Z,J)};Y1.prototype.asPromise=async function Z(){try{return await this.$initialConnection,this}catch(J){throw Sf(J)}};Y1.prototype.modelNames=function(){return Object.keys(this.models)};Y1.prototype.shouldAuthenticate=function(){return this.user!=null&&(this.pass!=null||this.authMechanismDoesNotRequirePassword())};Y1.prototype.authMechanismDoesNotRequirePassword=function(){if(this.options&&this.options.auth)return eH1.indexOf(this.options.auth.authMechanism)>=0;return!0};Y1.prototype.optionsProvideAuthenticationData=function(Z){return Z&&Z.user&&(Z.pass||this.authMechanismDoesNotRequirePassword())};Y1.prototype.getClient=function Z(){return this.client};Y1.prototype.setClient=function Z(){throw new f8("Connection#setClient not implemented by driver")};/*!
 * Called internally by `openUri()` to create a MongoClient instance.
 */Y1.prototype.createClient=function Z(){throw new f8("Connection#createClient not implemented by driver")};Y1.prototype.syncIndexes=async function Z(J={}){const X={},Y={},{continueOnError:G}=J;delete J.continueOnError;for(let $ of Object.values(this.models))try{X[$.modelName]=await $.syncIndexes(J)}catch(W){if(!G){Y[$.modelName]=W;break}else X[$.modelName]=W}if(!G&&Object.keys(Y).length){const $=Object.entries(Y).map(([H,q])=>`${H}: ${q.message}`).join(", ");throw new iH1($,Y)}return X};/*!
 * Module exports.
 */Y1.STATES=o1;kf.exports=Y1});var JU=R((DN1,Yq1)=>{Yq1.exports={name:"mongoose",description:"Mongoose MongoDB ODM",version:"8.0.2",author:"Guillermo Rauch <guillermo@learnboost.com>",keywords:["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],license:"MIT",dependencies:{bson:"^6.2.0",kareem:"2.5.1",mongodb:"6.2.0",mpath:"0.9.0",mquery:"5.0.0",ms:"2.1.3",sift:"16.0.1"},devDependencies:{"@babel/core":"7.23.2","@babel/preset-env":"7.22.20","@typescript-eslint/eslint-plugin":"^6.2.1","@typescript-eslint/parser":"^6.2.1",acquit:"1.3.0","acquit-ignore":"0.2.1","acquit-require":"0.1.1","assert-browserify":"2.0.0",axios:"1.1.3","babel-loader":"8.2.5",benchmark:"2.1.4","broken-link-checker":"^0.7.8",buffer:"^5.6.0",cheerio:"1.0.0-rc.12","crypto-browserify":"3.12.0",dotenv:"16.3.1",dox:"1.0.0",eslint:"8.52.0","eslint-plugin-markdown":"^3.0.1","eslint-plugin-mocha-no-only":"1.1.1",express:"^4.18.1","fs-extra":"~11.1.1","highlight.js":"11.8.0","lodash.isequal":"4.5.0","lodash.isequalwith":"4.4.0","markdownlint-cli2":"^0.10.0",marked:"4.3.0",mkdirp:"^3.0.1",mocha:"10.2.0",moment:"2.x","mongodb-memory-server":"8.15.1",ncp:"^2.0.0",nyc:"15.1.0",pug:"3.0.2",q:"1.5.1",sinon:"17.0.1","stream-browserify":"3.0.0",tsd:"0.29.0",typescript:"5.2.2",uuid:"9.0.1",webpack:"5.89.0"},directories:{lib:"./lib/mongoose"},scripts:{"docs:clean":"npm run docs:clean:stable","docs:clean:stable":"rimraf index.html && rimraf -rf ./docs/*.html  && rimraf -rf ./docs/api && rimraf -rf ./docs/tutorials/*.html && rimraf -rf ./docs/typescript/*.html && rimraf -rf ./docs/*.html && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:5x":"rimraf index.html && rimraf -rf ./docs/5.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:6x":"rimraf index.html && rimraf -rf ./docs/6.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:copy:tmp":"mkdirp ./tmp/docs/css && mkdirp ./tmp/docs/js && mkdirp ./tmp/docs/images && mkdirp ./tmp/docs/tutorials && mkdirp ./tmp/docs/typescript && mkdirp ./tmp/docs/api && ncp ./docs/css ./tmp/docs/css --filter=.css$ && ncp ./docs/js ./tmp/docs/js --filter=.js$ && ncp ./docs/images ./tmp/docs/images && ncp ./docs/tutorials ./tmp/docs/tutorials && ncp ./docs/typescript ./tmp/docs/typescript && ncp ./docs/api ./tmp/docs/api && cp index.html ./tmp && cp docs/*.html ./tmp/docs/","docs:copy:tmp:5x":"rimraf ./docs/5.x && ncp ./tmp ./docs/5.x","docs:move:6x:tmp":"mv ./docs/6.x ./tmp","docs:copy:tmp:6x":"rimraf ./docs/6.x && ncp ./tmp ./docs/6.x","docs:checkout:gh-pages":"git checkout gh-pages","docs:checkout:5x":"git checkout 5.x","docs:checkout:6x":"git checkout 6.x","docs:generate":"node ./scripts/website.js","docs:generate:search":"node ./scripts/generateSearch.js","docs:generate:sponsorData":"node ./scripts/loadSponsorData.js","docs:merge:stable":"git merge master","docs:merge:5x":"git merge 5.x","docs:merge:6x":"git merge 6.x","docs:test":"npm run docs:generate && npm run docs:generate:search","docs:view":"node ./scripts/static.js","docs:prepare:publish:stable":"npm run docs:checkout:gh-pages && npm run docs:merge:stable && npm run docs:generate && npm run docs:generate:search","docs:prepare:publish:5x":"npm run docs:checkout:5x && npm run docs:merge:5x && npm run docs:clean:stable && npm run docs:generate && npm run docs:copy:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:5x","docs:prepare:publish:6x":"npm run docs:checkout:6x && npm run docs:merge:6x && npm run docs:clean:stable && env DOCS_DEPLOY=true npm run docs:generate && npm run docs:move:6x:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:6x","docs:prepare:publish:7x":"env DOCS_DEPLOY=true npm run docs:generate && npm run docs:checkout:gh-pages && rimraf ./docs/7.x && mv ./tmp ./docs/7.x","docs:check-links":"blc http://127.0.0.1:8089 -ro",lint:"eslint .","lint-js":"eslint . --ext .js --ext .cjs","lint-ts":"eslint . --ext .ts","lint-md":"markdownlint-cli2 \"**/*.md\"","build-browser":"(rm ./dist/* || true) && node ./scripts/build-browser.js",prepublishOnly:"npm run build-browser",release:"git pull && git push origin master --tags && npm publish","release-5x":"git pull origin 5.x && git push origin 5.x && git push origin 5.x --tags && npm publish --tag 5x","release-6x":"git pull origin 6.x && git push origin 6.x && git push origin 6.x --tags && npm publish --tag 6x",mongo:"node ./tools/repl.js","publish-7x":"npm publish --tag 7x",test:"mocha --exit ./test/*.test.js","test-deno":"deno run --allow-env --allow-read --allow-net --allow-run --allow-sys --allow-write ./test/deno.js","test-rs":"START_REPLICA_SET=1 mocha --timeout 30000 --exit ./test/*.test.js","test-tsd":"node ./test/types/check-types-filename && tsd",tdd:"mocha ./test/*.test.js --inspect --watch --recursive --watch-files ./**/*.{js,ts}","test-coverage":"nyc --reporter=html --reporter=text npm test","ts-benchmark":"cd ./benchmarks/typescript/simple && npm install && npm run benchmark | node ../../../scripts/tsc-diagnostics-check"},main:"./index.js",types:"./types/index.d.ts",engines:{node:">=16.20.1"},bugs:{url:"https://github.com/Automattic/mongoose/issues/new"},repository:{type:"git",url:"git://github.com/Automattic/mongoose.git"},homepage:"https://mongoosejs.com",browser:"./dist/browser.umd.js",config:{mongodbMemoryServer:{disablePostinstall:!0}},funding:{type:"opencollective",url:"https://opencollective.com/mongoose"},tsd:{directory:"test/types",compilerOptions:{esModuleInterop:!1,strict:!0,allowSyntheticDefaultImports:!0,strictPropertyInitialization:!1,noImplicitAny:!1,strictNullChecks:!0,module:"commonjs",target:"ES2017"}}}});var gf=R((CN1,xf)=>{var Wq1=function(Z,J){const X=J?J:{},Y=X.readPreference?X.readPreference:Qq1(Z),G=Gq1(X);return Y&&Y!=="primary"&&Y!=="primaryPreferred"?Hq1(Y,G):G},Hq1=function(Z,J){if(qq1(J)&&Kq1(Z))Fq1();else return zq1(J)},qq1=function(Z){const J=Z.config&&Z.config.autoIndex,{autoCreate:X,autoIndex:Y}=Z;return!!(J||X||Y)},Kq1=function(Z){return Z==="secondary"||Z==="secondaryPreferred"},Qq1=function(Z){const X=/(?:&|\?)readPreference=(\w+)(?:&|$)/.exec(Z);return X?X[1]:null},zq1=function(Z){return Z.config={autoIndex:!1},Z.autoCreate=!1,Z.autoIndex=!1,Z},Fq1=function(){throw new $q1('MongoDB prohibits index creation on connections that read from non-primary replicas.  Connections that set "readPreference" to "secondary" or "secondaryPreferred" may not opt-in to the following connection options: autoCreate, autoIndex')},Gq1=W0(),$q1=h1();xf.exports=Wq1});var ff=R((Uq1)=>{Uq1.setTimeout=setTimeout});var uf=R((EN1,hf)=>{var f7=function(){yf.apply(this,arguments),this._listening=!1},XU=function(Z,J,X,Y){const G=Y!=null?J.db(Y):J.db();Z.db=G,Z.client=J,Z.host=J&&J.s&&J.s.options&&J.s.options.hosts&&J.s.options.hosts[0]&&J.s.options.hosts[0].host||void 0,Z.port=J&&J.s&&J.s.options&&J.s.options.hosts&&J.s.options.hosts[0]&&J.s.options.hosts[0].port||void 0,Z.name=Y!=null?Y:G.databaseName,Z._closeCalled=J._closeCalled;const $=()=>{if(Z.readyState!==y8.connected)Z.readyState=y8.connected,Z.emit("reconnect"),Z.emit("reconnected"),Z.onOpen()},W=J&&J.topology&&J.topology.description&&J.topology.description.type||"";if(W==="Single")J.on("serverDescriptionChanged",(H)=>{if(H.newDescription.type==="Unknown")Z.readyState=y8.disconnected;else $()});else if(W.startsWith("ReplicaSet"))J.on("topologyDescriptionChanged",(H)=>{const q=H.newDescription;if(Z.readyState===y8.connected&&q.type!=="ReplicaSetWithPrimary")Z.readyState=y8.disconnected;else if(Z.readyState===y8.disconnected&&q.type==="ReplicaSetWithPrimary")$()});Z.onOpen();for(let H in Z.collections)if(vf.object.hasOwnProperty(Z.collections,H))Z.collections[H].onOpen()};/*!
 * Module dependencies.
 */var yf=_f(),y5=h1(),y8=s5(),bf=mY(),Vq1=JU(),Rq1=gf(),wq1=ff().setTimeout,vf=X1();f7.STATES=y8;/*!
 * Inherits from Connection.
 */Object.setPrototypeOf(f7.prototype,yf.prototype);f7.prototype.useDb=function(Z,J){if(J=J||{},J.useCache&&this.relatedDbs[Z])return this.relatedDbs[Z];const X=new this.constructor;X.name=Z,X.base=this.base,X.collections={},X.models={},X.replica=this.replica,X.config=Object.assign({},this.config,X.config),X.name=this.name,X.options=this.options,X._readyState=this._readyState,X._closeCalled=this._closeCalled,X._hasOpened=this._hasOpened,X._listening=!1,X._parent=this,X.host=this.host,X.port=this.port,X.user=this.user,X.pass=this.pass;const Y=this;if(X.client=Y.client,this.db&&this._readyState===y8.connected)G();else this.once("connected",G);function G(){X.client=Y.client;const $={};if(J.hasOwnProperty("noListener"))$.noListener=J.noListener;X.db=Y.client.db(Z,$),X.onOpen()}if(X.name=Z,J.noListener!==!0)this.otherDbs.push(X);if(X.otherDbs.push(this),J&&J.useCache)this.relatedDbs[X.name]=X,X.relatedDbs=this.relatedDbs;return X};f7.prototype.removeDb=function Z(J){const X=this.otherDbs.filter((Y)=>Y.name===J);if(!X.length)throw new y5(`No connections to database "${J}" found`);for(let Y of X)Y._closeCalled=!0,Y._destroyCalled=!0,Y._readyState=y8.disconnected,Y.$wasForceClosed=!0;delete this.relatedDbs[J],this.otherDbs=this.otherDbs.filter((Y)=>Y.name!==J)};f7.prototype.doClose=async function Z(J){if(this.client==null)return this;let X=!1;if(J!=null&&typeof J==="object")X=J.skipCloseClient,J=J.force;if(X)return this;return await this.client.close(J),await new Promise((Y)=>wq1(Y,1)),this};/*!
 * ignore
 */f7.prototype.createClient=async function Z(J,X){if(typeof J!=="string")throw new y5("The `uri` parameter to `openUri()` must be a "+`string, got "${typeof J}". Make sure the first parameter to `+"`mongoose.connect()` or `mongoose.createConnection()` is a string.");if(this._destroyCalled)throw new y5("Connection has been closed and destroyed, and cannot be used for re-opening the connection. Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.");if(this.readyState===y8.connecting||this.readyState===y8.connected){if(this._connectionString!==J)throw new y5("Can\'t call `openUri()` on an active connection with different connection strings. Make sure you aren\'t calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections")}if(X=Rq1(J,X),X){const $=X.config&&X.config.autoIndex!=null?X.config.autoIndex:X.autoIndex;if($!=null)this.config.autoIndex=$!==!1,delete X.config,delete X.autoIndex;if("autoCreate"in X)this.config.autoCreate=!!X.autoCreate,delete X.autoCreate;if("sanitizeFilter"in X)this.config.sanitizeFilter=X.sanitizeFilter,delete X.sanitizeFilter;if(X.user||X.pass)X.auth=X.auth||{},X.auth.username=X.user,X.auth.password=X.pass,this.user=X.user,this.pass=X.pass;if(delete X.user,delete X.pass,X.bufferCommands!=null)this.config.bufferCommands=X.bufferCommands,delete X.bufferCommands}else X={};this._connectionOptions=X;const Y=X.dbName;if(Y!=null)this.$dbName=Y;if(delete X.dbName,!vf.hasUserDefinedProperty(X,"driverInfo"))X.driverInfo={name:"Mongoose",version:Vq1.version};this.readyState=y8.connecting,this._connectionString=J;let G;try{G=new bf.MongoClient(J,X)}catch($){throw this.readyState=y8.disconnected,$}this.client=G,G.setMaxListeners(0),await G.connect(),XU(this,G,X,Y);for(let $ of this.otherDbs)XU($,G,{},$.name);return this};/*!
 * ignore
 */f7.prototype.setClient=function Z(J){if(!(J instanceof bf.MongoClient))throw new y5("Must call `setClient()` with an instance of MongoClient");if(this.readyState!==y8.disconnected)throw new y5("Cannot call `setClient()` on a connection that is already connected.");if(J.topology==null)throw new y5("Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.");this._connectionString=J.s.url,XU(this,J,{},J.s.options.dbName);for(let X of Object.values(this.models))X.init().catch(function Y(){});return this};/*!
 * ignore
 *//*!
 * Module exports.
 */hf.exports=f7});var mf=R((Aq1)=>{/*!
 * Module exports.
 */Aq1.Collection=oj();Aq1.Connection=uf()});var cf=R((jN1,df)=>{/*!
 * Valid mongoose options
 */var Nq1=Object.freeze(["allowDiskUse","applyPluginsToChildSchemas","applyPluginsToDiscriminators","autoCreate","autoIndex","bufferCommands","bufferTimeoutMS","cloneSchemas","debug","id","timestamps.createdAt.immutable","maxTimeMS","objectIdGetter","overwriteModels","returnOriginal","runValidators","sanitizeFilter","sanitizeProjection","selectPopulatedPaths","setDefaultsOnInsert","strict","strictPopulate","strictQuery","toJSON","toObject","translateAliases"]);df.exports=Nq1});var pf=R((ON1,lf)=>{/*!
 * Module dependencies.
 */var Iq1=h1();class YU extends Iq1{constructor(Z){let J=Z.map((X)=>X.message).join(", ");if(J.length>50)J=J.slice(0,50)+"...";super(`eachAsync() finished with ${Z.length} errors: ${J}`);this.errors=Z}}Object.defineProperty(YU.prototype,"name",{value:"EachAsyncMultiError"});/*!
 * exports
 */lf.exports=YU});var $U=R((SN1,af)=>{var Cq1=function(){const Z=[];let J=null,X=0;return function G($){if(J===null&&Z.length===0)return J=X++,$(Y);Z.push($)};function Y(){if(Z.length!==0)J=X++,Z.shift()(Y);else J=null}},nf=function(Z){if(Z.length===0)return null;return new Dq1(Z)};/*!
 * Module dependencies.
 */var Dq1=pf(),GU=h8();af.exports=async function Z(J,X,Y){const G=Y.parallel||1,$=Y.batchSize,W=Y.signal,H=Y.continueOnError,q=[],K=Cq1();let Q=!1;return new Promise((U,L)=>{if(W!=null){if(W.aborted)return U(null);W.addEventListener("abort",()=>{return Q=!0,U(null)},{once:!0})}if($!=null){if(typeof $!=="number")throw new TypeError("batchSize must be a number");else if(!Number.isInteger($))throw new TypeError("batchSize must be an integer");else if($<1)throw new TypeError("batchSize must be at least 1")}z((V,w)=>{if(V!=null)return L(V);U(w)})});function z(U){let L=0,V=0,w=null;for(let M=0;M<G;++M)K(B());function B(){let M=[],A=!1;return I;function I(m){if(A||Q)return m();else if(w)return m();J(function(k,j){if(w!=null)return m();if(k!=null)if(k.name==="MongoCursorExhaustedError")j=null;else if(H)q.push(k);else return w=k,U(k),m();if(j==null){if(A=!0,L<=0){const u=H?nf(q):w;U(u)}else if($&&M.length)F(M,V++,p);return m()}if(++L,GU(()=>m()),$)M.push(j);if($&&M.length!==$){GU(()=>K(I));return}const E=$?M:j;function p(u){if($)L-=M.length,M=[];else--L;if(u!=null)if(H)q.push(u);else return w=u,U(u);if((A||Q)&&L<=0){const g=H?nf(q):w;return U(g)}GU(()=>K(I))}F(E,V++,p)})}}}function F(U,L,V){let w;try{w=X(U,L)}catch(B){return V(B)}if(w&&typeof w.then==="function")w.then(function(){V(null)},function(B){V(B||new Error("`eachAsync()` promise rejected without error"))});else V(null)}}});var Yy=R((kN1,Xy)=>{var b8=function(Z){of.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.skipped=!1,this.query=Z;const J=Z.model;this._mongooseOptions={},this._transforms=[],this.model=J,this.options={},J.hooks.execPre("find",Z,(X)=>{if(X!=null){if(X instanceof Eq1.skipWrappedFunction){const Y=X.args[0];if(Y!=null&&(!Array.isArray(Y)||Y.length)){const G=new HU('Cannot `skipMiddlewareFunction()` with a value when using `.find().cursor()`, value must be nullish or empty array, got "'+Zy.inspect(Y)+'".');this._markError(G),this.listeners("error").length>0&&this.emit("error",G);return}this.skipped=!0,this.emit("cursor",null);return}this._markError(X),this.listeners("error").length>0&&this.emit("error",X);return}if(Object.assign(this.options,Z._optionsForExec()),this._transforms=this._transforms.concat(Z._transforms.slice()),this.options.transform)this._transforms.push(this.options.transform);if(this.options.batchSize)this.options._populateBatchSize=Math.min(this.options.batchSize,5000);if(J.collection._shouldBufferCommands()&&J.collection.buffer)J.collection.queue.push([()=>sf(Z,this)]);else sf(Z,this)})},sf=function(Z,J){try{const X=Z.model.collection.find(Z._conditions,J.options);J.cursor=X,J.emit("cursor",X)}catch(X){J._markError(X),J.listeners("error").length>0&&J.emit("error",J._error)}},rf=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},X$=function(Z,J){let X=J;if(Z._transforms.length)X=function(Y,G){if(Y||G===null&&!Z._mongooseOptions.transformNull)return J(Y,G);J(Y,Z._transforms.reduce(function($,W){return W.call(Z,$)},G))};if(Z._error)return WU(function(){X(Z._error)});if(Z.skipped)return WU(()=>X(null,null));if(Z.cursor){if(Z.query._mongooseOptions.populate&&!Z._pop)Z._pop=ef.preparePopulationOptionsMQ(Z.query,Z.query._mongooseOptions),Z._pop.__noPromise=!0;if(Z.query._mongooseOptions.populate&&Z.options._populateBatchSize>1)if(Z._batchDocs&&Z._batchDocs.length)return J$(Z,Z._batchDocs.shift(),Z._pop,X);else if(Z._batchExhausted)return X(null,null);else{Z._batchDocs=[],Z.cursor.next().then((Y)=>{FZ.call({ctx:Z,callback:X},null,Y)},(Y)=>{FZ.call({ctx:Z,callback:X},Y)});return}else return Z.cursor.next().then((Y)=>{if(!Y){X(null,null);return}if(!Z.query._mongooseOptions.populate)return J$(Z,Y,null,X);Z.query.model.populate(Y,Z._pop).then((G)=>{J$(Z,G,Z._pop,X)},(G)=>{X(G)})},(Y)=>{X(Y)})}else Z.once("error",J),Z.once("cursor",function(Y){if(Z.removeListener("error",J),Y==null){if(Z.skipped)return J(null,null);return}X$(Z,J)})},FZ=function(Z,J){if(Z)return this.callback(Z);if(!J)return this.ctx._batchExhausted=!0,tf.call(this);if(this.ctx._batchDocs.push(J),this.ctx._batchDocs.length<this.ctx.options._populateBatchSize){if(this.ctx._batchDocs.length>0&&this.ctx._batchDocs.length%1000===0)return WU(()=>this.ctx.cursor.next().then((X)=>{FZ.call(this,null,X)},(X)=>{FZ.call(this,X)}));this.ctx.cursor.next().then((X)=>{FZ.call(this,null,X)},(X)=>{FZ.call(this,X)})}else tf.call(this)},tf=function(){if(!this.ctx._batchDocs.length)return this.callback(null,null);this.ctx.query.model.populate(this.ctx._batchDocs,this.ctx._pop).then(()=>{J$(this.ctx,this.ctx._batchDocs.shift(),this.ctx._pop,this.callback)},(Z)=>{this.callback(Z)})},J$=function(Z,J,X,Y){if(Z.query._mongooseOptions.lean)return Z.model.hooks.execPost("find",Z.query,[[J]],(q)=>{if(q!=null)return Y(q);Y(null,J)});const{model:G,_fields:$,_userProvidedFields:W,options:H}=Z.query;ef.createModelAndInit(G,J,$,W,H,X,(q,K)=>{if(q!=null)return Y(q);Z.model.hooks.execPost("find",Z.query,[[K]],(Q)=>{if(Q!=null)return Y(Q);Y(null,K)})})},Jy=function(Z,J){if(Z.cursor)return J();Z.once("cursor",function(X){if(X==null)return;J()})};/*!
 * Module dependencies.
 */var HU=r1(),of=import.meta.require("stream").Readable,Pq1=$U(),ef=r9(),Eq1=u9(),WU=h8(),Zy=import.meta.require("util");Zy.inherits(b8,of);/*!
 * ignore
 */b8.prototype._read=function(){X$(this,(Z,J)=>{if(Z)return this.emit("error",Z);if(!J){this.push(null),this.cursor.close(function(X){if(X)return this.emit("error",X)});return}this.push(J)})};Object.defineProperty(b8.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});b8.prototype._markError=function(Z){return this._error=Z,this};b8.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new HU("QueryCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close(),this.emit("close")}catch(J){throw this.listeners("error").length>0&&this.emit("error",J),J}};b8.prototype.rewind=function(){return Jy(this,()=>{this.cursor.rewind()}),this};b8.prototype.next=async function Z(){if(arguments[0]==="function")throw new HU("QueryCursor.prototype.next() no longer accepts a callback");return new Promise((J,X)=>{X$(this,function(Y,G){if(Y)return X(Y);J(G)})})};b8.prototype.eachAsync=function(Z,J,X){if(typeof J==="function")X=J,J={};return J=J||{},Pq1((Y)=>X$(this,Y),Z,J,X)};b8.prototype.options;b8.prototype.addCursorFlag=function(Z,J){return Jy(this,()=>{this.cursor.addCursorFlag(Z,J)}),this};/*!
 * ignore
 */b8.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */b8.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(rf)===-1)this.map(rf);return this};if(Symbol.asyncIterator!=null)b8.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */Xy.exports=b8});var KU=R((_N1,$y)=>{var Tq1=function(Z,J){Gy(Z,J,"maxTimeMS")},jq1=function(Z,J){Gy(Z,J,"allowDiskUse")},Gy=function(Z,J,X){if(qU.hasUserDefinedProperty(Z,X))return;if(qU.hasUserDefinedProperty(J.db.options,X))Z[X]=J.db.options[X];else if(qU.hasUserDefinedProperty(J.base.options,X))Z[X]=J.base.options[X]},qU=X1();$y.exports={applyGlobalMaxTimeMS:Tq1,applyGlobalDiskUse:jq1}});var QU=R((xN1,Wy)=>{var Oq1=Z0();Wy.exports=function Z(J,X){if(X.writeConcern!=null)return;const Y=Oq1(J,"options.writeConcern",{});if(Object.keys(Y).length!=0){if(X.writeConcern={},!("w"in X)&&Y.w!=null)X.writeConcern.w=Y.w;if(!("j"in X)&&Y.j!=null)X.writeConcern.j=Y.j;if(!("wtimeout"in X)&&Y.wtimeout!=null)X.writeConcern.wtimeout=Y.wtimeout}else{if(!("w"in X)&&Y.w!=null)X.w=Y.w;if(!("j"in X)&&Y.j!=null)X.j=Y.j;if(!("wtimeout"in X)&&Y.wtimeout!=null)X.wtimeout=Y.wtimeout}}});var Ky=R((gN1,qy)=>{var Hy=TG();qy.exports=function Z(J,X,Y){const G=J;if(!Object.keys(Y).some(Hy))return X.castForQuery(null,Y,G);const W=Object.keys(Y);let H=W.length;while(H--){const q=W[H],K=Y[q];if(q==="$not"){if(K&&X&&!X.caster){const Q=Object.keys(K);if(Q.length&&Hy(Q[0]))for(let z of Object.keys(K))K[z]=X.castForQuery(z,K[z],G);else Y[q]=X.castForQuery(q,K,G);continue}}else Y[q]=X.castForQuery(q,K,G)}return Y}});var zy=R((fN1,Qy)=>{var Sq1=/^\d+$/;Qy.exports=function Z(J,X){let Y=J.path(X);if(Y!=null)return Y;const G=X.split(".");let $="",W=!1;for(let H of G){if(W&&Sq1.test(H))continue;if($=$.length===0?H:$+"."+H,Y=J.path($),Y!=null&&Y.schema){if(J=Y.schema,$="",!W&&Y.$isMongooseDocumentArray)W=!0}}return Y}});var zU=R((yN1,Uy)=>{var Fy=n9().modifiedPaths;Uy.exports=function Z(J){const X=Object.keys(J),Y={},G={};for(let $ of X){if($.startsWith("$")){Fy(J[$],"",Y);continue}G[$]=J[$]}return Fy(G,"",Y),Y}});var FU=R((bN1,Ly)=>{var kq1=zU();Ly.exports=function Z(J){if(J==null)return{};const X=kq1(J);return Object.keys(X).reduce((Y,G)=>{const $=G.match(/\$\[[^\]]+\]/g);if($==null)return Y;for(let W of $){const H=G.indexOf(W);if(H!==G.lastIndexOf(W))throw new Error(`Path '${G}' contains the same array filter multiple times`);Y[W.substring(2,W.length-1)]=G.substring(0,H-1).replace(/\$\[[^\]]+\]/g,"0")}return Y},{})}});var By=R((vN1,Ay)=>{var wy=function(Z,J,X,Y,G){if(!Array.isArray(Z))return;for(let $ of Z){if($==null)throw new Error(`Got null array filter in ${Z}`);const W=Object.keys($).filter((U)=>$[U]!=null);if(W.length===0)continue;const H=W[0];if(H==="$and"||H==="$or"){for(let U of W)wy($[U],J,X,Y,G);continue}const q=H.indexOf("."),K=q===-1?H:H.substring(0,q);if(Y[K]==null)continue;const Q=Vy(Y[K]),z=Ry(J,Q);let F=z!=null?z.schema:null;if(F!=null&&F.discriminators!=null&&$[K+"."+F.options.discriminatorKey])F=F.discriminators[$[K+"."+F.options.discriminatorKey]]||F;for(let U of W){if(Y[U]===null)continue;if(Object.keys(Y).length===0)continue;const L=U.indexOf(".");let V=L===-1?null:U.substring(L),w;if(V==null||F==null)w=z;else V=Vy(V),w=Ry(F,V);if(w==null){if(!X)return;const B=V==null?Q+".0":Q+".0"+V;throw new Error(`Could not find path "${B}" in schema`)}if(typeof $[U]==="object")$[U]=_q1(G,w,$[U]);else $[U]=w.castForQuery(null,$[U])}}},_q1=Ky(),Vy=tJ(),Ry=zy(),xq1=FU();Ay.exports=function Z(J){const X=J.options.arrayFilters,Y=J.getUpdate(),G=J.schema,$=xq1(Y);let W=G.options.strict;if(J._mongooseOptions.strict!=null)W=J._mongooseOptions.strict;if(J.model&&J.model.base.options.strictQuery!=null)W=J.model.base.options.strictQuery;if(G._userProvidedOptions.strictQuery!=null)W=G._userProvidedOptions.strictQuery;if(J._mongooseOptions.strictQuery!=null)W=J._mongooseOptions.strictQuery;wy(X,G,W,$,J)}});var Iy=R((hN1,Ny)=>{var gq1=tJ(),My=Z0(),fq1=a6(),yq1=FU();Ny.exports=function Z(J,X,Y,G,$){const W=G.split(".");let H=null,q="adhocOrUndefined";Y=Y||{},X=X||{};const K=$!=null&&Array.isArray($.arrayFilters)?$.arrayFilters:[],Q=yq1(X);for(let z=0;z<W.length;++z){const F=gq1(W.slice(0,z+1).join("."));if(H=J.path(F),H==null)continue;if(q=J.pathType(F),(H.$isSingleNested||H.$isMongooseDocumentArrayElement)&&H.schema.discriminators!=null){const U=My(H,"schema.options.discriminatorKey"),L=F+"."+U,V=L.replace(/\.\d+\./,".");let w=null;if(L in Y)w=Y[L];if(V in Y)w=Y[V];const B=F.replace(/\.\d+$/,"");if(H.$isMongooseDocumentArrayElement&&My(Y[B],"$elemMatch."+U)!=null)w=Y[B].$elemMatch[U];if(L in X)w=X[L];for(let m of Object.keys(Q)){const k=Q[m]+"."+U,j=m+"."+U;if(k===V){const E=K.find((p)=>p.hasOwnProperty(j));if(E!=null)w=E[j]}}if(w==null)continue;const M=fq1(H.caster.discriminators,w),A=M&&M.schema;if(A==null)continue;const I=W.slice(z+1).join(".");if(H=A.path(I),H!=null){q=A._getPathType(I);break}}}return{type:q,schematype:H}}});var Cy=R((uN1,Dy)=>{var bq1=E7();Dy.exports=function Z(J,X,Y,G,$,W){if(J==null||!J.options||!J.options.immutable)return!1;let H=J.options.immutable;if(typeof H==="function")H=H.call(W,W);if(!H)return!1;if(X===!1)return!1;if(X==="throw")throw new bq1(null,`Field ${$} is immutable and strict = 'throw'`);return delete Y[G],!0}});var Ty=R((mN1,Ey)=>{var Py=function(Z,J,X,Y,G){const $=Z.path(X);if($==null)return;let W=vq1($,"options.immutable",null);if(W==null)return;if(typeof W==="function")W=W.call(G,G);if(!W)return;Y.$setOnInsert=Y.$setOnInsert||{},Y.$setOnInsert[X]=J[X],delete J[X]},vq1=Z0();Ey.exports=function Z(J,X,Y){if(X==null)return;const G=Object.keys(X);for(let $ of G){const W=$.startsWith("$");if($==="$set"){const H=Object.keys(X[$]);for(let q of H)Py(J,X[$],q,X,Y)}else if(!W)Py(J,X,$,X,Y)}}});var LU=R((dN1,jy)=>{var UU=n7();jy.exports=function Z(J,X,Y){if(X.indexOf(".")===-1){if(UU.has(X))return;J[X]=Y;return}const G=X.split("."),$=G.pop();let W=J;for(let H of G){if(UU.has(H))continue;if(W[H]==null)W[H]={};W=W[H]}if(!UU.has($))W[$]=Y}});var MU=R((cN1,yy)=>{var lq1=function(Z,J){if(Z==="$unset"){if(typeof J!=="string"&&(!Array.isArray(J)||J.find((X)=>typeof X!=="string")))throw new R3("Invalid $unset in pipeline, must be  a string or an array of strings");return J}if(Z==="$project"){if(J==null||typeof J!=="object")throw new R3("Invalid $project in pipeline, must be an object");return J}if(Z==="$addFields"||Z==="$set"){if(J==null||typeof J!=="object")throw new R3("Invalid "+Z+" in pipeline, must be an object");return J}else if(Z==="$replaceRoot"||Z==="$replaceWith"){if(J==null||typeof J!=="object")throw new R3("Invalid "+Z+" in pipeline, must be an object");return J}throw new R3('Invalid update pipeline operator: "'+Z+'"')},fy=function(Z,J,X,Y,G,$,W){const H=Y.strict,q=W?W+".":"",K=Object.keys(J);let Q=K.length,z=!1,F,U,L,V=null;const w=H!=null?H:Z.options.strict;while(Q--){if(U=K[Q],L=J[U],X==="$pull"){if(F=Z._getSchema(q+U),F!=null&&F.schema!=null){J[U]=uq1(F.schema,J[U],Y,G),z=!0;continue}}const B=q?q+U:U;if(Z.discriminatorMapping!=null&&B===Z.options.discriminatorKey&&Z.discriminatorMapping.value!==J[U]&&!Y.overwriteDiscriminatorKey){if(w==="throw"){const M=new Error('Can\'t modify discriminator key "'+B+'" on discriminator model');V=UZ(M,G,B,V);continue}else if(w){delete J[U];continue}}if(mq1(L)==="Object"){if(F=Z._getSchema(q+U),F==null){const M=Sy(Z,J,$,q+U,Y);if(M.schematype!=null)F=M.schematype}if(X!=="$setOnInsert"&&ky(F,H,J,U,q+U,G))continue;if(F&&F.caster&&X in AU)if("$each"in L){z=!0;try{J[U]={$each:w3(F,L.$each,X,U,G,q+U)}}catch(M){V=UZ(M,G,U,V)}if(L.$slice!=null)J[U].$slice=L.$slice|0;if(L.$sort)J[U].$sort=L.$sort;if(L.$position!=null)J[U].$position=RU(L.$position)}else{if(F!=null&&F.$isSingleNested){const M=H==null?F.schema.options.strict:H;try{J[U]=F.castForQuery(null,L,G,{strict:M})}catch(A){V=UZ(A,G,U,V)}}else try{J[U]=w3(F,L,X,U,G,q+U)}catch(M){V=UZ(M,G,U,V)}if(J[U]===void 0){delete J[U];continue}z=!0}else if(X==="$currentDate"||X in AU&&F){try{J[U]=w3(F,L,X,U,G,q+U)}catch(M){V=UZ(M,G,U,V)}if(J[U]===void 0){delete J[U];continue}z=!0}else{const M=q+U,A=Z._getPathType(M);let I=H;if(A&&A.schema&&I==null)I=A.schema.options.strict;if(A.pathType==="undefined"){if(I==="throw")throw new Oy(M);else if(I){delete J[U];continue}}z|=fy(Z,L,X,Y,G,$,q+U)||BU.isObject(L)&&Object.keys(L).length===0}}else{const M=U==="$each"||U==="$or"||U==="$and"||U==="$in"?W:q+U;if(F=Z._getSchema(M),X!=="$setOnInsert"&&ky(F,H,J,U,q+U,G))continue;let A=Z._getPathType(M);if(F==null){const k=Sy(Z,J,$,M,Y);if(k.schematype!=null)F=k.schematype,A=k.type}let I=H;if(A&&A.schema&&H==null)I=A.schema.options.strict;if(I&&!F&&!/real|nested/.test(A.pathType))if(I==="throw"&&Z.virtuals[M]==null)throw new Oy(q+U);else delete J[U];else{if(X==="$rename"){z=!0;continue}try{if(q.length===0||U.indexOf(".")===-1)J[U]=w3(F,L,X,U,G,q+U);else if(I!==!1||F!=null)cq1(J,U,w3(F,L,X,U,G,q+U)),delete J[U]}catch(k){V=UZ(k,G,U,V)}if(Array.isArray(J[U])&&(X==="$addToSet"||X==="$push")&&U!=="$each"){if(F&&F.caster&&!F.caster.$isMongooseArray&&!F.caster[gy])J[U]={$each:J[U]}}if(J[U]===void 0){delete J[U];continue}z=!0}}}if(V!=null)throw V;return z},UZ=function(Z,J,X,Y){if(typeof J!=="object"||!J.options.multipleCastError)throw Z;return Y=Y||new hq1,Y.addError(X,Z),Y},w3=function(Z,J,X,Y,G,$){if(!Z){if(X in _y)try{return RU(J)}catch(H){throw new VU("number",J,$)}return J}if(Z.caster&&X in AU&&(BU.isObject(J)||Array.isArray(J))&&!xy[X]){let H=0,q=Z;while(q.$isMongooseArray)++H,q=q.caster;let K=0,Q=J;while(Array.isArray(Q))++K,Q=Q[0];const z=H-K;while(K<H)J=[J],++K;let F=Z.applySetters(Array.isArray(J)?J:[J],G);for(let U=0;U<z;++U)F=F[0];return F}if(X in pq1)return J;if(X in _y){if(J==null)throw new VU("number",J,Z.path);if(X==="$inc")return Z.castForQuery(null,J,G);try{return RU(J)}catch(H){throw new VU("number",J,Z.path)}}if(X==="$currentDate"){if(typeof J==="object")return{$type:J.$type};return Boolean(J)}if(wU.has(Y))return Z.castForQuery(Y,J,G);if(xy[X]){const H=J!=null&&Z.$isMongooseArray&&Z.$fullPath!=null&&!Z.$fullPath.match(/\d+$/),q=Z[gy]!=null;if(H||q)return Z.applySetters(J,G);return Z.castForQuery(null,J,G)}return Z.castForQuery(null,J,G)},VU=z8(),R3=r1(),Oy=E7(),hq1=D5(),RU=J3(),uq1=GZ(),mq1=j8(),Sy=Iy(),ky=Cy(),dq1=Ty(),gy=P5().schemaMixedSymbol,cq1=LU(),BU=X1(),wU=new Set(["$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$bit"]);yy.exports=function Z(J,X,Y,G,$){if(X==null)return;if(Y=Y||{},Array.isArray(X)){const z=X.length;for(let F=0;F<z;++F){const U=Object.keys(X[F]);for(let L of U)X[F][L]=lq1(L,X[F][L])}return X}if(Y.upsert)dq1(J,X,G);const W=Object.keys(X);let H=W.length;const q={};let K,Q=!1;$=$||{};while(H--){const z=W[H];if(!wU.has(z)){if(!q.$set)if(X.$set)q.$set=X.$set;else q.$set={};if(q.$set[z]=X[z],W.splice(H,1),!~W.indexOf("$set"))W.push("$set")}else if(z==="$set"){if(!q.$set)q[z]=X[z]}else q[z]=X[z]}H=W.length;while(H--){const z=W[H];if(K=q[z],Q=Q||z.startsWith("$"),K&&typeof K==="object"&&!Buffer.isBuffer(K)&&wU.has(z))fy(J,K,z,Y,G,$);else{const F="Invalid atomic update value for "+z+". Expected an object, received "+typeof K;throw new Error(F)}if(z.startsWith("$")&&BU.isEmptyObject(K))delete q[z]}if(Object.keys(q).length===0&&Y.upsert&&Object.keys($).length>0)return{$setOnInsert:{...$}};return q};/*!
 * ignore
 *//*!
 * ignore
 */var _y={$pop:1,$inc:1},pq1={$unset:1},AU={$push:1,$addToSet:1,$set:1,$setOnInsert:1};/*!
 * ignore
 */var xy={$set:1,$setOnInsert:1}});var vy=R((lN1,by)=>{async function nq1(Z,J,X,Y,G){return Promise.all(J.map(($)=>new Promise((W,H)=>{const q=$;if($=iq1.createModel(Z,$,X,Y),G.session!=null)$.$session(G.session);$.$init(q,G,(K)=>{if(K!=null)return H(K);W($)})})))}var iq1=r9();by.exports=nq1});var Y$=R((pN1,hy)=>{var aq1=a9();/*!
 * ignore
 */hy.exports=function Z(J){if(J==null)return!1;const X=Object.keys(J),Y=X.length;if(Y===0)return!1;for(let G=0;G<Y;++G){const $=X[G];if($.startsWith("+"))continue;if(aq1(J[$])&&!!J[$])if(J[$]!=null&&typeof J[$]==="object")return Z(J[$]);else return!!J[$]}return!1}});var my=R((iN1,uy)=>{uy.exports=function Z(J,X){return J===X||X.startsWith(J+".")}});var py=R((oq1)=>{var tq1=function(Z){if(arguments.length>1)throw new Error("Adding properties is not supported");function J(){}return J.prototype=Z,new J};/*!
 * Module dependencies.
 */var NU=["__proto__","constructor","prototype"],G$=oq1.clone=function Z(J,X){if(J===void 0||J===null)return J;if(Array.isArray(J))return oq1.cloneArray(J,X);if(J.constructor){if(/ObjectI[dD]$/.test(J.constructor.name))return typeof J.clone=="function"?J.clone():new J.constructor(J.id);if(J.constructor.name==="ReadPreference")return new J.constructor(J.mode,Z(J.tags,X));if(J._bsontype=="Binary"&&J.buffer&&J.value)return typeof J.clone=="function"?J.clone():new J.constructor(J.value(!0),J.sub_type);if(J.constructor.name==="Date"||J.constructor.name==="Function")return new J.constructor(+J);if(J.constructor.name==="RegExp")return new RegExp(J);if(J.constructor.name==="Buffer")return Buffer.from(J)}if(rq1(J))return oq1.cloneObject(J,X);if(J.valueOf)return J.valueOf()};/*!
 * ignore
 */oq1.cloneObject=function Z(J,X){const Y=X&&X.minimize,G={},$=Object.keys(J),W=$.length;let H=!1,q,K="",Q=0;for(Q=0;Q<W;++Q){if(K=$[Q],NU.indexOf(K)!==-1)continue;if(q=G$(J[K],X),!Y||typeof q!=="undefined")H||(H=!0),G[K]=q}return Y?H&&G:G};oq1.cloneArray=function Z(J,X){const Y=[],G=J.length;let $=0;for(;$<G;$++)Y.push(G$(J[$],X));return Y};oq1.merge=function Z(J,X){const Y=Object.keys(X);for(let G of Y){if(NU.indexOf(G)!==-1)continue;if(typeof J[G]==="undefined")J[G]=X[G];else if(oq1.isObject(X[G]))Z(J[G],X[G]);else J[G]=X[G]}};oq1.mergeClone=function Z(J,X){const Y=Object.keys(X);for(let G of Y){if(NU.indexOf(G)!==-1)continue;if(typeof J[G]==="undefined")J[G]=G$(X[G]);else if(oq1.isObject(X[G]))Z(J[G],X[G]);else J[G]=G$(X[G])}};oq1.readPref=function Z(J){switch(J){case"p":J="primary";break;case"pp":J="primaryPreferred";break;case"s":J="secondary";break;case"sp":J="secondaryPreferred";break;case"n":J="nearest";break}return J};oq1.readConcern=function Z(J){if(typeof J==="string"){switch(J){case"l":J="local";break;case"a":J="available";break;case"m":J="majority";break;case"lz":J="linearizable";break;case"s":J="snapshot";break}J={level:J}}return J};var sq1=Object.prototype.toString;oq1.toString=function(Z){return sq1.call(Z)};var rq1=oq1.isObject=function(Z){return oq1.toString(Z)=="[object Object]"};oq1.keys=Object.keys;oq1.create=typeof Object.create=="function"?Object.create:tq1;oq1.inherits=function(Z,J){Z.prototype=oq1.create(J.prototype),Z.prototype.constructor=Z};oq1.isArgumentsObject=function(Z){return Object.prototype.toString.call(Z)==="[object Arguments]"}});var ny=R((sN1,iy)=>{var QK1=function(Z){if(Z=String(Z),Z.length>100)return;var J=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!J)return;var X=parseFloat(J[1]),Y=(J[2]||"ms").toLowerCase();switch(Y){case"years":case"year":case"yrs":case"yr":case"y":return X*KK1;case"weeks":case"week":case"w":return X*qK1;case"days":case"day":case"d":return X*b5;case"hours":case"hour":case"hrs":case"hr":case"h":return X*RZ;case"minutes":case"minute":case"mins":case"min":case"m":return X*VZ;case"seconds":case"second":case"secs":case"sec":case"s":return X*LZ;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}},zK1=function(Z){var J=Math.abs(Z);if(J>=b5)return Math.round(Z/b5)+"d";if(J>=RZ)return Math.round(Z/RZ)+"h";if(J>=VZ)return Math.round(Z/VZ)+"m";if(J>=LZ)return Math.round(Z/LZ)+"s";return Z+"ms"},FK1=function(Z){var J=Math.abs(Z);if(J>=b5)return $$(Z,J,b5,"day");if(J>=RZ)return $$(Z,J,RZ,"hour");if(J>=VZ)return $$(Z,J,VZ,"minute");if(J>=LZ)return $$(Z,J,LZ,"second");return Z+" ms"},$$=function(Z,J,X,Y){var G=J>=X*1.5;return Math.round(Z/X)+" "+Y+(G?"s":"")},LZ=1000,VZ=LZ*60,RZ=VZ*60,b5=RZ*24,qK1=b5*7,KK1=b5*365.25;iy.exports=function(Z,J){J=J||{};var X=typeof Z;if(X==="string"&&Z.length>0)return QK1(Z);else if(X==="number"&&isFinite(Z))return J.long?FK1(Z):zK1(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var IU=R((rN1,ay)=>{var UK1=function(Z){X.debug=X,X.default=X,X.coerce=q,X.disable=$,X.enable=G,X.enabled=W,X.humanize=ny(),X.destroy=K,Object.keys(Z).forEach((Q)=>{X[Q]=Z[Q]}),X.names=[],X.skips=[],X.formatters={};function J(Q){let z=0;for(let F=0;F<Q.length;F++)z=(z<<5)-z+Q.charCodeAt(F),z|=0;return X.colors[Math.abs(z)%X.colors.length]}X.selectColor=J;function X(Q){let z,F=null,U,L;function V(...w){if(!V.enabled)return;const B=V,M=Number(new Date),A=M-(z||M);if(B.diff=A,B.prev=z,B.curr=M,z=M,w[0]=X.coerce(w[0]),typeof w[0]!=="string")w.unshift("%O");let I=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(k,j)=>{if(k==="%%")return"%";I++;const E=X.formatters[j];if(typeof E==="function"){const p=w[I];k=E.call(B,p),w.splice(I,1),I--}return k}),X.formatArgs.call(B,w),(B.log||X.log).apply(B,w)}if(V.namespace=Q,V.useColors=X.useColors(),V.color=X.selectColor(Q),V.extend=Y,V.destroy=X.destroy,Object.defineProperty(V,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(F!==null)return F;if(U!==X.namespaces)U=X.namespaces,L=X.enabled(Q);return L},set:(w)=>{F=w}}),typeof X.init==="function")X.init(V);return V}function Y(Q,z){const F=X(this.namespace+(typeof z==="undefined"?":":z)+Q);return F.log=this.log,F}function G(Q){X.save(Q),X.namespaces=Q,X.names=[],X.skips=[];let z;const F=(typeof Q==="string"?Q:"").split(/[\s,]+/),U=F.length;for(z=0;z<U;z++){if(!F[z])continue;if(Q=F[z].replace(/\*/g,".*?"),Q[0]==="-")X.skips.push(new RegExp("^"+Q.slice(1)+"$"));else X.names.push(new RegExp("^"+Q+"$"))}}function $(){const Q=[...X.names.map(H),...X.skips.map(H).map((z)=>"-"+z)].join(",");return X.enable(""),Q}function W(Q){if(Q[Q.length-1]==="*")return!0;let z,F;for(z=0,F=X.skips.length;z<F;z++)if(X.skips[z].test(Q))return!1;for(z=0,F=X.names.length;z<F;z++)if(X.names[z].test(Q))return!0;return!1}function H(Q){return Q.toString().substring(2,Q.toString().length-2).replace(/\.\*\?$/,"*")}function q(Q){if(Q instanceof Error)return Q.stack||Q.message;return Q}function K(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X};ay.exports=UK1});var ry=R((sy,H$)=>{var LK1=function(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},VK1=function(Z){if(Z[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Z[0]+(this.useColors?"%c ":" ")+"+"+sy.humanize(this.diff),!this.useColors)return;const J="color: "+this.color;Z.splice(1,0,J,"color: inherit");let X=0,Y=0;Z[0].replace(/%[a-zA-Z%]/g,(G)=>{if(G==="%%")return;if(X++,G==="%c")Y=X}),Z.splice(Y,0,J)},RK1=function(Z){try{if(Z)sy.storage.setItem("debug",Z);else sy.storage.removeItem("debug")}catch(J){}},wK1=function(){let Z;try{Z=sy.storage.getItem("debug")}catch(J){}if(!Z&&typeof process!=="undefined"&&"env"in process)Z=process.env.DEBUG;return Z},AK1=function(){try{return localStorage}catch(Z){}};sy.formatArgs=VK1;sy.save=RK1;sy.load=wK1;sy.useColors=LK1;sy.storage=AK1();sy.destroy=(()=>{let Z=!1;return()=>{if(!Z)Z=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();sy.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];sy.log=console.debug||console.log||(()=>{});H$.exports=IU()(sy);var{formatters:BK1}=H$.exports;BK1.j=function(Z){try{return JSON.stringify(Z)}catch(J){return"[UnexpectedJSONParseError]: "+J.message}}});var oy=R((oN1,ty)=>{ty.exports=(Z,J=process.argv)=>{const X=Z.startsWith("-")?"":Z.length===1?"-":"--",Y=J.indexOf(X+Z),G=J.indexOf("--");return Y!==-1&&(G===-1||Y<G)}});var Jb=R((eN1,Zb)=>{var DU=function(Z){if(Z===0)return!1;return{level:Z,hasBasic:!0,has256:Z>=2,has16m:Z>=3}},CU=function(Z,J){if(y7===0)return 0;if(D6("color=16m")||D6("color=full")||D6("color=truecolor"))return 3;if(D6("color=256"))return 2;if(Z&&!J&&y7===void 0)return 0;const X=y7||0;if(k0.TERM==="dumb")return X;if(process.platform==="win32"){const Y=TK1.release().split(".");if(Number(Y[0])>=10&&Number(Y[2])>=10586)return Number(Y[2])>=14931?3:2;return 1}if("CI"in k0){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((Y)=>(Y in k0))||k0.CI_NAME==="codeship")return 1;return X}if("TEAMCITY_VERSION"in k0)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(k0.TEAMCITY_VERSION)?1:0;if(k0.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in k0){const Y=parseInt((k0.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(k0.TERM_PROGRAM){case"iTerm.app":return Y>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(k0.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(k0.TERM))return 1;if("COLORTERM"in k0)return 1;return X},jK1=function(Z){const J=CU(Z,Z&&Z.isTTY);return DU(J)},TK1=import.meta.require("os"),ey=import.meta.require("tty"),D6=oy(),{env:k0}=process,y7;if(D6("no-color")||D6("no-colors")||D6("color=false")||D6("color=never"))y7=0;else if(D6("color")||D6("colors")||D6("color=true")||D6("color=always"))y7=1;if("FORCE_COLOR"in k0)if(k0.FORCE_COLOR==="true")y7=1;else if(k0.FORCE_COLOR==="false")y7=0;else y7=k0.FORCE_COLOR.length===0?1:Math.min(parseInt(k0.FORCE_COLOR,10),3);Zb.exports={supportsColor:jK1,stdout:DU(CU(!0,ey.isatty(1))),stderr:DU(CU(!0,ey.isatty(2)))}});var $b=R((Yb,K$)=>{var SK1=function(){return"colors"in Yb.inspectOpts?Boolean(Yb.inspectOpts.colors):OK1.isatty(process.stderr.fd)},kK1=function(Z){const{namespace:J,useColors:X}=this;if(X){const Y=this.color,G="\x1B[3"+(Y<8?Y:"8;5;"+Y),$=`  ${G};1m${J} \x1B[0m`;Z[0]=$+Z[0].split("\n").join("\n"+$),Z.push(G+"m+"+Yb.humanize(this.diff)+"\x1B[0m")}else Z[0]=_K1()+J+" "+Z[0]},_K1=function(){if(Yb.inspectOpts.hideDate)return"";return(new Date()).toISOString()+" "},xK1=function(...Z){return process.stderr.write(q$.format(...Z)+"\n")},gK1=function(Z){if(Z)process.env.DEBUG=Z;else delete process.env.DEBUG},fK1=function(){return process.env.DEBUG},yK1=function(Z){Z.inspectOpts={};const J=Object.keys(Yb.inspectOpts);for(let X=0;X<J.length;X++)Z.inspectOpts[J[X]]=Yb.inspectOpts[J[X]]},OK1=import.meta.require("tty"),q$=import.meta.require("util");Yb.init=yK1;Yb.log=xK1;Yb.formatArgs=kK1;Yb.save=gK1;Yb.load=fK1;Yb.useColors=SK1;Yb.destroy=q$.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Yb.colors=[6,2,3,4,5,1];try{const Z=Jb();if(Z&&(Z.stderr||Z).level>=2)Yb.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(Z){}Yb.inspectOpts=Object.keys(process.env).filter((Z)=>{return/^debug_/i.test(Z)}).reduce((Z,J)=>{const X=J.substring(6).toLowerCase().replace(/_([a-z])/g,(G,$)=>{return $.toUpperCase()});let Y=process.env[J];if(/^(yes|on|true|enabled)$/i.test(Y))Y=!0;else if(/^(no|off|false|disabled)$/i.test(Y))Y=!1;else if(Y==="null")Y=null;else Y=Number(Y);return Z[X]=Y,Z},{});K$.exports=IU()(Yb);var{formatters:Xb}=K$.exports;Xb.o=function(Z){return this.inspectOpts.colors=this.useColors,q$.inspect(Z,this.inspectOpts).split("\n").map((J)=>J.trim()).join(" ")};Xb.O=function(Z){return this.inspectOpts.colors=this.useColors,q$.inspect(Z,this.inspectOpts)}});var Wb=R((JI1,PU)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)PU.exports=ry();else PU.exports=$b()});var qb=R((Hb)=>{var K0=Hb;K0.distinct=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const J=Object.keys(K0.distinct);let X;return J.every(function(Y){if(Z.options[Y])return X=Y,!1;return!0}),X};K0.distinct.select=K0.distinct.slice=K0.distinct.sort=K0.distinct.limit=K0.distinct.skip=K0.distinct.batchSize=K0.distinct.hint=K0.distinct.tailable=!0;K0.findOneAndUpdate=K0.findOneAndRemove=function(Z){const J=Object.keys(K0.findOneAndUpdate);let X;return J.every(function(Y){if(Z.options[Y])return X=Y,!1;return!0}),X};K0.findOneAndUpdate.limit=K0.findOneAndUpdate.skip=K0.findOneAndUpdate.batchSize=K0.findOneAndUpdate.tailable=!0;K0.count=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const J=Object.keys(K0.count);let X;return J.every(function(Y){if(Z.options[Y])return X=Y,!1;return!0}),X};K0.count.slice=K0.count.batchSize=K0.count.tailable=!0});var TU=R((lK1,Kb)=>{lK1.isNode=typeof process!="undefined"&&typeof Kb=="object"&&typeof global=="object"&&typeof Buffer=="function"&&process.argv;lK1.isMongo=!lK1.isNode&&typeof printjson=="function"&&typeof ObjectId=="function"&&typeof rs=="function"&&typeof sh=="function";lK1.isBrowser=!lK1.isNode&&!lK1.isMongo&&typeof window!="undefined";lK1.type=lK1.isNode?"node":lK1.isMongo?"mongo":lK1.isBrowser?"browser":"unknown"});var A3=R((zb,Fb)=>{var OU=function(){},iK1=function(Z){return function(){throw new Error("collection."+Z+" not implemented")}},jU=["find","findOne","updateMany","updateOne","replaceOne","count","distinct","findOneAndDelete","findOneAndUpdate","aggregate","findCursor","deleteOne","deleteMany"];for(let Z=0,J=jU.length;Z<J;++Z){const X=jU[Z];OU.prototype[X]=iK1(X)}Fb.exports=zb=OU;OU.methods=jU});var Rb=R((Lb,Vb)=>{var nK1=A3();class Ub extends nK1{constructor(Z){super();this.collection=Z,this.collectionName=Z.collectionName}async find(Z,J){return this.collection.find(Z,J).toArray()}async findOne(Z,J){return this.collection.findOne(Z,J)}async count(Z,J){return this.collection.count(Z,J)}async distinct(Z,J,X){return this.collection.distinct(Z,J,X)}async updateMany(Z,J,X){return this.collection.updateMany(Z,J,X)}async updateOne(Z,J,X){return this.collection.updateOne(Z,J,X)}async replaceOne(Z,J,X){return this.collection.replaceOne(Z,J,X)}async deleteOne(Z,J){return this.collection.deleteOne(Z,J)}async deleteMany(Z,J){return this.collection.deleteMany(Z,J)}async findOneAndDelete(Z,J){return this.collection.findOneAndDelete(Z,J)}async findOneAndUpdate(Z,J,X){return this.collection.findOneAndUpdate(Z,J,X)}findCursor(Z,J){return this.collection.find(Z,J)}}Vb.exports=Lb=Ub});var Ab=R((YI1,wb)=>{var SU=TU();if(SU.type=="unknown")throw new Error("Unknown environment");wb.exports=SU.isNode?Rb():SU.isMongo?A3():A3()});var gU=R((Mb,Nb)=>{var y=function(Z,J){if(!(this instanceof y))return new y(Z,J);const X=this.constructor.prototype;if(this.op=X.op||void 0,this.options=Object.assign({},X.options),this._conditions=X._conditions?T1.clone(X._conditions):{},this._fields=X._fields?T1.clone(X._fields):void 0,this._updateDoc=X._updateDoc?T1.clone(X._updateDoc):void 0,this._path=X._path||void 0,this._distinctDoc=X._distinctDoc||void 0,this._collection=X._collection||void 0,this._traceFunction=X._traceFunction||void 0,J)this.setOptions(J);if(Z)this.find(Z)},Bb=function(Z,J,X){if(Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let Y;if(X&&X.$meta){Y=Z.sort||(Z.sort={}),Y[J]={$meta:X.$meta};return}Y=Z.sort||(Z.sort={});let G=String(X||1).toLowerCase();if(G=kU[G],!G)throw new TypeError("Invalid sort value: { "+J+": "+X+" }");Y[J]=G},rK1=function(Z,J,X){if(Z.sort=Z.sort||[],!Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let Y=String(X||1).toLowerCase();if(Y=kU[Y],!Y)throw new TypeError("Invalid sort value: [ "+J+", "+X+" ]");Z.sort.push([J,Y])},tK1=function(Z,J){if(Z.sort=Z.sort||new Map,!(Z.sort instanceof Map))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object or map consistently");J.forEach(function(X,Y){let G=String(X||1).toLowerCase();if(G=kU[G],!G)throw new TypeError("Invalid sort value: < "+Y+": "+X+" >");Z.sort.set(Y,G)})},_U=function(Z,J,X,Y,G){if(Z.op=J,y.canMerge(X))Z.merge(X);if(Y)Z._mergeUpdate(Y);if(T1.isObject(G))Z.setOptions(G);return Z};async function xU(Z,J){const X=Z._optionsForExec(),Y=Z._conditions,G=Z._updateForExec();return p4("update",Z._collection.collectionName,Y,G,X),Z._collection[J](Y,G,X)}var aK1=import.meta.require("assert"),sK1=import.meta.require("util"),T1=py(),p4=Wb()("mquery"),v5="$geoWithin";Object.defineProperty(y,"use$geoWithin",{get:function(){return v5=="$geoWithin"},set:function(Z){if(Z===!0)v5="$geoWithin";else v5="$within"}});y.prototype.toConstructor=function Z(){function J(Y,G){if(!(this instanceof J))return new J(Y,G);y.call(this,Y,G)}T1.inherits(J,y);const X=J.prototype;return X.options={},X.setOptions(this.options),X.op=this.op,X._conditions=T1.clone(this._conditions),X._fields=T1.clone(this._fields),X._updateDoc=T1.clone(this._updateDoc),X._path=this._path,X._distinctDoc=this._distinctDoc,X._collection=this._collection,X._traceFunction=this._traceFunction,J};y.prototype.setOptions=function(Z){if(!(Z&&T1.isObject(Z)))return this;const J=T1.keys(Z);let X;for(let Y=0;Y<J.length;++Y)if(X=J[Y],typeof this[X]=="function"){const G=Array.isArray(Z[X])?Z[X]:[Z[X]];this[X].apply(this,G)}else this.options[X]=Z[X];return this};y.prototype.collection=function Z(J){return this._collection=new y.Collection(J),this};y.prototype.collation=function(Z){return this.options.collation=Z,this};y.prototype.$where=function(Z){return this._conditions.$where=Z,this};y.prototype.where=function(){if(!arguments.length)return this;if(!this.op)this.op="find";const Z=typeof arguments[0];if(Z=="string"){if(this._path=arguments[0],arguments.length===2)this._conditions[this._path]=arguments[1];return this}if(Z=="object"&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")};y.prototype.equals=function Z(J){this._ensurePath("equals");const X=this._path;return this._conditions[X]=J,this};y.prototype.eq=function Z(J){this._ensurePath("eq");const X=this._path;return this._conditions[X]=J,this};y.prototype.or=function Z(J){const X=this._conditions.$or||(this._conditions.$or=[]);if(!Array.isArray(J))J=[J];return X.push.apply(X,J),this};y.prototype.nor=function Z(J){const X=this._conditions.$nor||(this._conditions.$nor=[]);if(!Array.isArray(J))J=[J];return X.push.apply(X,J),this};y.prototype.and=function Z(J){const X=this._conditions.$and||(this._conditions.$and=[]);if(!Array.isArray(J))J=[J];return X.push.apply(X,J),this};/*!
 * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance
 *
 *     Thing.where('type').nin(array)
 */"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(Z){y.prototype[Z]=function(){let J,X;if(arguments.length===1)this._ensurePath(Z),X=arguments[0],J=this._path;else X=arguments[1],J=arguments[0];const Y=this._conditions[J]===null||typeof this._conditions[J]==="object"?this._conditions[J]:this._conditions[J]={};return Y["$"+Z]=X,this}});y.prototype.mod=function(){let Z,J;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],J=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],J=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],J=arguments[0];else Z=arguments[1],J=arguments[0];const X=this._conditions[J]||(this._conditions[J]={});return X.$mod=Z,this};y.prototype.exists=function(){let Z,J;if(arguments.length===0)this._ensurePath("exists"),Z=this._path,J=!0;else if(arguments.length===1)if(typeof arguments[0]==="boolean")this._ensurePath("exists"),Z=this._path,J=arguments[0];else Z=arguments[0],J=!0;else if(arguments.length===2)Z=arguments[0],J=arguments[1];const X=this._conditions[Z]||(this._conditions[Z]={});return X.$exists=J,this};y.prototype.elemMatch=function(){if(arguments[0]==null)throw new TypeError("Invalid argument");let Z,J,X;if(typeof arguments[0]==="function")this._ensurePath("elemMatch"),J=this._path,Z=arguments[0];else if(T1.isObject(arguments[0]))this._ensurePath("elemMatch"),J=this._path,X=arguments[0];else if(typeof arguments[1]==="function")J=arguments[0],Z=arguments[1];else if(arguments[1]&&T1.isObject(arguments[1]))J=arguments[0],X=arguments[1];else throw new TypeError("Invalid argument");if(Z)X=new y,Z(X),X=X._conditions;const Y=this._conditions[J]||(this._conditions[J]={});return Y.$elemMatch=X,this};y.prototype.within=function Z(){if(this._ensurePath("within"),this._geoComparison=v5,arguments.length===0)return this;if(arguments.length===2)return this.box.apply(this,arguments);else if(2<arguments.length)return this.polygon.apply(this,arguments);const J=arguments[0];if(!J)throw new TypeError("Invalid argument");if(J.center)return this.circle(J);if(J.box)return this.box.apply(this,J.box);if(J.polygon)return this.polygon.apply(this,J.polygon);if(J.type&&J.coordinates)return this.geometry(J);throw new TypeError("Invalid argument")};y.prototype.box=function(){let Z,J;if(arguments.length===3)Z=arguments[0],J=[arguments[1],arguments[2]];else if(arguments.length===2)this._ensurePath("box"),Z=this._path,J=[arguments[0],arguments[1]];else throw new TypeError("Invalid argument");const X=this._conditions[Z]||(this._conditions[Z]={});return X[this._geoComparison||v5]={$box:J},this};y.prototype.polygon=function(){let Z,J;if(typeof arguments[0]=="string")Z=Array.from(arguments),J=Z.shift();else this._ensurePath("polygon"),J=this._path,Z=Array.from(arguments);const X=this._conditions[J]||(this._conditions[J]={});return X[this._geoComparison||v5]={$polygon:Z},this};y.prototype.circle=function(){let Z,J;if(arguments.length===1)this._ensurePath("circle"),Z=this._path,J=arguments[0];else if(arguments.length===2)Z=arguments[0],J=arguments[1];else throw new TypeError("Invalid argument");if(!(("radius"in J)&&J.center))throw new Error("center and radius are required");const X=this._conditions[Z]||(this._conditions[Z]={}),Y=J.spherical?"$centerSphere":"$center",G=this._geoComparison||v5;if(X[G]={},X[G][Y]=[J.center,J.radius],"unique"in J)X[G].$uniqueDocs=!!J.unique;return this};y.prototype.near=function Z(){let J,X;if(this._geoComparison="$near",arguments.length===0)return this;else if(arguments.length===1)this._ensurePath("near"),J=this._path,X=arguments[0];else if(arguments.length===2)J=arguments[0],X=arguments[1];else throw new TypeError("Invalid argument");if(!X.center)throw new Error("center is required");const Y=this._conditions[J]||(this._conditions[J]={}),G=X.spherical?"$nearSphere":"$near";if(Array.isArray(X.center)){Y[G]=X.center;const $="maxDistance"in X?X.maxDistance:null;if($!=null)Y.$maxDistance=$;if(X.minDistance!=null)Y.$minDistance=X.minDistance}else{if(X.center.type!="Point"||!Array.isArray(X.center.coordinates))throw new Error(sK1.format("Invalid GeoJSON specified for %s",G));if(Y[G]={$geometry:X.center},"maxDistance"in X)Y[G].$maxDistance=X.maxDistance;if("minDistance"in X)Y[G].$minDistance=X.minDistance}return this};y.prototype.intersects=function Z(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",arguments.length===0)return this;const J=arguments[0];if(J!=null&&J.type&&J.coordinates)return this.geometry(J);throw new TypeError("Invalid argument")};y.prototype.geometry=function Z(){if(!(this._geoComparison=="$within"||this._geoComparison=="$geoWithin"||this._geoComparison=="$near"||this._geoComparison=="$geoIntersects"))throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");let J,X;if(arguments.length===1)this._ensurePath("geometry"),X=this._path,J=arguments[0];else throw new TypeError("Invalid argument");if(!(J.type&&Array.isArray(J.coordinates)))throw new TypeError("Invalid argument");const Y=this._conditions[X]||(this._conditions[X]={});return Y[this._geoComparison]={$geometry:J},this};y.prototype.select=function Z(){let J=arguments[0];if(!J)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const X=this._fields||(this._fields={}),Y=typeof J;let G,$;if((Y=="string"||T1.isArgumentsObject(J))&&typeof J.length=="number"||Array.isArray(J)){if(Y=="string")J=J.split(/\s+/);for(G=0,$=J.length;G<$;++G){let W=J[G];if(!W)continue;const H=W[0]=="-"?0:1;if(H===0)W=W.substring(1);X[W]=H}return this}if(T1.isObject(J)){const W=T1.keys(J);for(G=0;G<W.length;++G)X[W[G]]=J[W[G]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")};y.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,J;if(arguments.length===1){const Y=arguments[0];if(typeof Y==="object"&&!Array.isArray(Y)){const G=Object.keys(Y),$=G.length;for(let W=0;W<$;++W)this.slice(G[W],Y[G[W]]);return this}this._ensurePath("slice"),Z=this._path,J=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,J=[arguments[0],arguments[1]];else Z=arguments[0],J=arguments[1];else if(arguments.length===3)Z=arguments[0],J=[arguments[1],arguments[2]];const X=this._fields||(this._fields={});return X[Z]={$slice:J},this};y.prototype.sort=function(Z){if(!Z)return this;let J,X,Y;this._validate("sort");const G=typeof Z;if(Array.isArray(Z)){X=Z.length;for(J=0;J<Z.length;++J){if(!Array.isArray(Z[J]))throw new Error("Invalid sort() argument, must be array of arrays");rK1(this.options,Z[J][0],Z[J][1])}return this}if(arguments.length===1&&G=="string"){Z=Z.split(/\s+/),X=Z.length;for(J=0;J<X;++J){if(Y=Z[J],!Y)continue;const $=Y[0]=="-"?-1:1;if($===-1)Y=Y.substring(1);Bb(this.options,Y,$)}return this}if(T1.isObject(Z)){const $=T1.keys(Z);for(J=0;J<$.length;++J)Y=$[J],Bb(this.options,Y,Z[Y]);return this}if(typeof Map!=="undefined"&&Z instanceof Map)return tK1(this.options,Z),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};/*!
 * @ignore
 */var kU={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};/*!
 * limit, skip, batchSize, comment
 *
 * Sets these associated options.
 *
 *     query.comment('feed query');
 */["limit","skip","batchSize","comment"].forEach(function(Z){y.prototype[Z]=function(J){return this._validate(Z),this.options[Z]=J,this}});y.prototype.maxTime=y.prototype.maxTimeMS=function(Z){return this._validate("maxTime"),this.options.maxTimeMS=Z,this};y.prototype.hint=function(){if(arguments.length===0)return this;this._validate("hint");const Z=arguments[0];if(T1.isObject(Z)){const J=this.options.hint||(this.options.hint={});for(let X in Z)J[X]=Z[X];return this}if(typeof Z==="string")return this.options.hint=Z,this;throw new TypeError("Invalid hint. "+Z)};y.prototype.j=function Z(J){return this.options.j=J,this};y.prototype.slaveOk=function(Z){return this.options.slaveOk=arguments.length?!!Z:!0,this};y.prototype.read=y.prototype.setReadPreference=function(Z){if(arguments.length>1&&!y.prototype.read.deprecationWarningIssued)console.error("Deprecation warning: \'tags\' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),y.prototype.read.deprecationWarningIssued=!0;return this.options.readPreference=T1.readPref(Z),this};y.prototype.readConcern=y.prototype.r=function(Z){return this.options.readConcern=T1.readConcern(Z),this};y.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=arguments.length?!!arguments[0]:!0,this};y.prototype.writeConcern=y.prototype.w=function Z(J){if(typeof J==="object"){if(typeof J.j!=="undefined")this.options.j=J.j;if(typeof J.w!=="undefined")this.options.w=J.w;if(typeof J.wtimeout!=="undefined")this.options.wtimeout=J.wtimeout}else this.options.w=J==="m"?"majority":J;return this};y.prototype.wtimeout=y.prototype.wTimeout=function Z(J){return this.options.wtimeout=J,this};y.prototype.merge=function(Z){if(!Z)return this;if(!y.canMerge(Z))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");if(Z instanceof y){if(Z._conditions)T1.merge(this._conditions,Z._conditions);if(Z._fields)this._fields||(this._fields={}),T1.merge(this._fields,Z._fields);if(Z.options)this.options||(this.options={}),T1.merge(this.options,Z.options);if(Z._updateDoc)this._updateDoc||(this._updateDoc={}),T1.mergeClone(this._updateDoc,Z._updateDoc);if(Z._distinctDoc)this._distinctDoc=Z._distinctDoc;return this}return T1.merge(this._conditions,Z),this};y.prototype.find=function(Z){if(this.op="find",y.canMerge(Z))this.merge(Z);return this};y.prototype._find=async function Z(){const J=this._conditions,X=this._optionsForExec();if(this.$useProjection)X.projection=this._fieldsForExec();else X.fields=this._fieldsForExec();return p4("_find",this._collection.collectionName,J,X),this._collection.find(J,X)};y.prototype.cursor=function Z(J){if(this.op){if(this.op!=="find")throw new TypeError(".cursor only support .find method")}else this.find(J);const X=this._conditions,Y=this._optionsForExec();if(this.$useProjection)Y.projection=this._fieldsForExec();else Y.fields=this._fieldsForExec();return p4("findCursor",this._collection.collectionName,X,Y),this._collection.findCursor(X,Y)};y.prototype.findOne=function(Z){if(this.op="findOne",y.canMerge(Z))this.merge(Z);return this};y.prototype._findOne=async function Z(){const J=this._conditions,X=this._optionsForExec();if(this.$useProjection)X.projection=this._fieldsForExec();else X.fields=this._fieldsForExec();return p4("findOne",this._collection.collectionName,J,X),this._collection.findOne(J,X)};y.prototype.count=function(Z){if(this.op="count",this._validate(),y.canMerge(Z))this.merge(Z);return this};y.prototype._count=async function Z(){const J=this._conditions,X=this._optionsForExec();return p4("count",this._collection.collectionName,J,X),this._collection.count(J,X)};y.prototype.distinct=function(Z,J){if(this.op="distinct",this._validate(),!J&&typeof Z==="string")J=Z,Z=void 0;if(typeof J=="string")this._distinctDoc=J;if(y.canMerge(Z))this.merge(Z);return this};y.prototype._distinct=async function Z(){if(!this._distinctDoc)throw new Error("No value for `distinct` has been declared");const J=this._conditions,X=this._optionsForExec();return p4("distinct",this._collection.collectionName,J,X),this._collection.distinct(this._distinctDoc,J,X)};y.prototype.updateMany=function Z(J,X,Y){if(arguments.length===1)X=J,J=Y=void 0;return _U(this,"updateMany",J,X,Y)};y.prototype._updateMany=async function(){return xU(this,"updateMany")};y.prototype.updateOne=function Z(J,X,Y){if(arguments.length===1)X=J,J=Y=void 0;return _U(this,"updateOne",J,X,Y)};y.prototype._updateOne=async function(){return xU(this,"updateOne")};y.prototype.replaceOne=function Z(J,X,Y){if(arguments.length===1)X=J,J=Y=void 0;return this.setOptions({overwrite:!0}),_U(this,"replaceOne",J,X,Y)};y.prototype._replaceOne=async function(){return xU(this,"replaceOne")};/*!
 * Internal helper for updateMany, updateOne
 */y.prototype.deleteOne=function(Z){if(this.op="deleteOne",y.canMerge(Z))this.merge(Z);return this};y.prototype._deleteOne=async function(){const Z=this._optionsForExec();delete Z.justOne;const J=this._conditions;return p4("deleteOne",this._collection.collectionName,J,Z),this._collection.deleteOne(J,Z)};y.prototype.deleteMany=function(Z){if(this.op="deleteMany",y.canMerge(Z))this.merge(Z);return this};y.prototype._deleteMany=async function(){const Z=this._optionsForExec();delete Z.justOne;const J=this._conditions;return p4("deleteOne",this._collection.collectionName,J,Z),this._collection.deleteMany(J,Z)};y.prototype.findOneAndUpdate=function(Z,J,X){if(this.op="findOneAndUpdate",this._validate(),arguments.length===1)J=Z,Z=X=void 0;if(y.canMerge(Z))this.merge(Z);if(J)this._mergeUpdate(J);return X&&this.setOptions(X),this};y.prototype._findOneAndUpdate=async function(){const Z=this._conditions,J=this._updateForExec(),X=this._optionsForExec();return this._collection.findOneAndUpdate(Z,J,X)};y.prototype.findOneAndRemove=y.prototype.findOneAndDelete=function(Z,J){if(this.op="findOneAndRemove",this._validate(),y.canMerge(Z))this.merge(Z);return J&&this.setOptions(J),this};y.prototype._findOneAndRemove=async function(){const Z=this._optionsForExec(),J=this._conditions;return this._collection.findOneAndDelete(J,Z)};y.prototype.setTraceFunction=function(Z){return this._traceFunction=Z,this};y.prototype.exec=async function Z(J){if(typeof J==="string")this.op=J;aK1.ok(this.op,"Missing query type: (find, etc)");const X="_"+this.op;if(typeof this[X]!=="function")throw new TypeError(`this[${X}] is not a function`);return this[X]()};y.prototype.then=async function(Z,J){return this.exec().then(Z,J)};y.prototype.cursor=function(){if(this.op!="find")throw new Error("cursor() is only available for find");const Z=this._conditions,J=this._optionsForExec();if(this.$useProjection)J.projection=this._fieldsForExec();else J.fields=this._fieldsForExec();return p4("cursor",this._collection.collectionName,Z,J),this._collection.findCursor(Z,J)};y.prototype.selected=function Z(){return!!(this._fields&&Object.keys(this._fields).length>0)};y.prototype.selectedInclusively=function Z(){if(!this._fields)return!1;const J=Object.keys(this._fields);if(J.length===0)return!1;for(let X=0;X<J.length;++X){const Y=J[X];if(this._fields[Y]===0)return!1;if(this._fields[Y]&&typeof this._fields[Y]==="object"&&this._fields[Y].$meta)return!1}return!0};y.prototype.selectedExclusively=function Z(){if(!this._fields)return!1;const J=Object.keys(this._fields);if(J.length===0)return!1;for(let X=0;X<J.length;++X){const Y=J[X];if(this._fields[Y]===0)return!0}return!1};y.prototype._mergeUpdate=function(Z){if(!this._updateDoc)this._updateDoc={};if(Z instanceof y){if(Z._updateDoc)T1.mergeClone(this._updateDoc,Z._updateDoc)}else T1.mergeClone(this._updateDoc,Z)};y.prototype._optionsForExec=function(){return T1.clone(this.options)};y.prototype._fieldsForExec=function(){return T1.clone(this._fields)};y.prototype._updateForExec=function(){const Z=T1.clone(this._updateDoc),J=T1.keys(Z),X={};for(let Y of J){if(this.options.overwrite){X[Y]=Z[Y];continue}if(Y[0]!=="$"){if(!X.$set)if(Z.$set)X.$set=Z.$set;else X.$set={};if(X.$set[Y]=Z[Y],!~J.indexOf("$set"))J.push("$set")}else if(Y==="$set"){if(!X.$set)X[Y]=Z[Y]}else X[Y]=Z[Y]}return this._compiledUpdate=X,X};y.prototype._ensurePath=function(Z){if(!this._path){const J=Z+"() must be used after where() when called with these arguments";throw new Error(J)}};/*!
 * Permissions
 */y.permissions=qb();y._isPermitted=function(Z,J){const X=y.permissions[J];if(!X)return!0;return X[Z]!==!0};y.prototype._validate=function(Z){let J,X;if(Z===void 0){if(X=y.permissions[this.op],typeof X!="function")return!0;J=X(this)}else if(!y._isPermitted(Z,this.op))J=Z;if(J)throw new Error(J+" cannot be used with "+this.op)};y.canMerge=function(Z){return Z instanceof y||T1.isObject(Z)};y.setGlobalTraceFunction=function(Z){y.traceFunction=Z};/*!
 * Exports.
 */y.utils=T1;y.env=TU();y.Collection=Ab();y.BaseCollection=A3();Nb.exports=Mb=y});var fU=R((GI1,Ib)=>{Ib.exports=function Z(J,X){if(typeof J==="string")J=J.split(/\s+/);if(!Array.isArray(J)&&Object.prototype.toString.call(J)!=="[object Arguments]")return J;const G=J.length,$={};for(let W=0;W<G;++W){let H=J[W];if(!H)continue;const q=H[0]=="-"?0:1;if(!X&&q===0)H=H.substring(1);$[H]=q}return $}});var Pb=R(($I1,Cb)=>{var Db=function(Z,J){const X=Object.keys(Z)[0];if(X==="$and"||X==="$or"){if(!Array.isArray(Z[X]))return!1;return Z[X].find(($)=>Db($,J))!=null}const Y=X.indexOf("."),G=Y===-1?X:X.slice(0,Y);return J.find(($)=>$.includes("$["+G+"]"))!=null};Cb.exports=function Z(J,X){const Y=Object.keys(J).map((G)=>Object.keys(J[G])).reduce((G,$)=>G.concat($),[]);return X.filter((G)=>{return Db(G,Y)})}});var yU=R((WI1,Eb)=>{/*!
 * ignore
 */Eb.exports=function Z(J){if(typeof J!=="object"||J===null)return!1;const X=Object.keys(J),Y=X.length;for(let G=0;G<Y;++G)if(X[G][0]==="$")return!0;return!1}});var bU=R((HI1,Tb)=>{var oK1=yU(),{trustedSymbol:eK1}=a5();Tb.exports=function Z(J){if(J==null||typeof J!=="object")return J;if(Array.isArray(J)){for(let Y of J)Z(Y);return J}const X=Object.keys(J);for(let Y of X){const G=J[Y];if(G!=null&&G[eK1])continue;if(Y==="$and"||Y==="$or"){Z(G);continue}if(oK1(G)){const $=Object.keys(G);if($.length===1&&$[0]==="$eq")continue;J[Y]={$eq:J[Y]}}}return J}});var Ob=R((qI1,jb)=>{jb.exports=function Z(J){if(J==null)return;const X=Object.keys(J);for(let Y=0;Y<X.length;++Y)if(typeof J[X[Y]]==="string")J[X[Y]]=1}});var _b=R((KI1,kb)=>{var Sb=function(Z,J){const X=J.split("."),Y=X.length;let G=X[0];for(let $=1;$<Y;++$){if(Z[G]!=null||Z[G+".$"]!=null)return!0;G+="."+X[$]}return Z[G]!=null||Z[G+".$"]!=null},ZQ1=s9(),JQ1=Y$();/*!
 * ignore
 */kb.exports=function Z(J,X,Y){if(Y==null)return;const G=Object.keys(Y);if(X=X||{},JQ1(J))for(let $ of G){if(!Sb(X,$))J[$]=1;else if(X[$]===0)delete J[$];const W=Y[$]?.refPath;if(typeof W==="string"){if(!Sb(X,W))J[W]=1;else if(X[W]===0)delete J[W]}}else if(ZQ1(J))for(let $ of G){if(X[$]==null)delete J[$];const W=Y[$]?.refPath;if(typeof W==="string"&&X[W]==null)delete J[W]}};/*!
 * ignore
 */});var vU=R((QI1,gb)=>{var YQ1=function(Z,J){if(Z[J])return!0;const X=J.split(".");let Y=X[0];for(let $=1;$<X.length;++$){if(Z[Y])return!0;Y+="."+X[$]}const G=Object.keys(Z);if(G.length){const $=J+".";for(let W of G)if(W.slice(0,J.length+1)===$)return!0}return!1},xb=n9().modifiedPaths,XQ1=Z0();gb.exports=function(Z,J,X,Y){Y=Y||{};const G=Y.setDefaultsOnInsert!=null?Y.setDefaultsOnInsert:J.base.options.setDefaultsOnInsert;if(!Y.upsert||G===!1)return X;const $=Object.keys(X||{}),W={},H={},q=$.length,K={};let Q=!1;for(let U=0;U<q;++U)if($[U].startsWith("$"))xb(X[$[U]],"",K),Q=!0;if(!Q)xb(X,"",K);const z=Object.keys(Z),F=z.length;for(let U=0;U<F;++U){const L=z[U],V=Z[L];if(V&&typeof V==="object"){const w=Object.keys(V),B=w.length;let M=!1;for(let A=0;A<B;++A)if(w[A].startsWith("$")){M=!0;break}if(M)continue}W[L]=!0,K[L]=!0}if(Y&&Y.overwrite&&!Q)return X;return J.eachPath(function(U,L){if(L.path==="_id"&&L.options.auto)return;const V=L.getDefault(null,!0);if(YQ1(K,U))return;if(typeof V==="undefined")return;if(L.splitPath().includes("$*"))return;if(X=X||{},X.$setOnInsert=X.$setOnInsert||{},XQ1(X,U)==null)X.$setOnInsert[U]=V;H[U]=V}),X}});var hb=R((zI1,vb)=>{/*!
 * Module dependencies.
 */var fb=D5(),GQ1=tJ(),yb=n9().flatten,bb=n9().modifiedPaths;vb.exports=function(Z,J,X,Y,G){const $=Object.keys(X||{});let W={},H={};const q={},K={},Q=$.length;let z=!1;const F={};let U,L,V;for(V=0;V<Q;++V)if($[V].startsWith("$")){if(z=!0,$[V]==="$push"||$[V]==="$addToSet"){const O=Object.keys(X[$[V]]);for(let i=0;i<O.length;++i)if(U=X[$[V]][O[i]],U&&U.$each)K[O[i]]=(K[O[i]]||[]).concat(U.$each);else K[O[i]]=(K[O[i]]||[]).concat([U]);continue}bb(X[$[V]],"",F);const u=yb(X[$[V]],null,null,J),g=Object.keys(u),T=g.length;for(let O=0;O<T;++O){const i=GQ1(g[O]);if(L=$[V],i.includes("$"))continue;if(L==="$set"||L==="$setOnInsert"||L==="$pull"||L==="$pullAll")H[i]=u[g[O]],q[i]=L==="$pull"||L==="$pullAll";else if(L==="$unset")H[i]=void 0;W[i]=!0}}if(!z)bb(X,"",F),H=yb(X,null,null,J),W=Object.keys(H);const w=Object.keys(H),B=w.length,M=[],A=[],I=[],m=Z;function k(u,g){const T=J._getSchema(w[u]);if(T==null)return;if(T.instance==="Mixed"&&T.path!==w[u])return;if(g&&Array.isArray(g.$in))g.$in.forEach((O,i)=>{M.push(function(M1){T.doValidate(O,function(P0){if(P0)P0.path=w[i]+".$in."+i,A.push(P0);M1(null)},m,{updateValidator:!0})})});else{if(q[w[u]]&&T.$isMongooseArray)return;if(T.$isMongooseDocumentArrayElement&&g!=null&&g.$__!=null)I.push(w[u]),M.push(function(O){T.doValidate(g,function(i){if(i)if(i.errors)for(let M1 of Object.keys(i.errors)){const P0=i.errors[M1];P0.path=w[u]+"."+M1,A.push(P0)}else i.path=w[u],A.push(i);return O(null)},m,{updateValidator:!0})});else M.push(function(O){for(let i of I)if(w[u].startsWith(i+"."))return O(null);T.doValidate(g,function(i){if(T.schema!=null&&T.schema.options.storeSubdocValidationError===!1&&i instanceof fb)return O(null);if(i)i.path=w[u],A.push(i);O(null)},m,{updateValidator:!0})})}}for(V=0;V<B;++V)k(V,H[w[V]]);const j=Object.keys(K);for(let u of j){let g=J._getSchema(u);if(g&&g.$isMongooseDocumentArray)M.push(function(T){g.doValidate(K[u],p(u,A,T),Y&&Y.context==="query"?Z:null)});else{g=J._getSchema(u+".0");for(let T of K[u])M.push(function(O){g.doValidate(T,p(u,A,O),Y&&Y.context==="query"?Z:null,{updateValidator:!0})})}}if(G!=null){let u=M.length;if(u===0)return E(G);for(let g of M)g(function(){if(--u<=0)E(G)});return}return function(u){let g=M.length;if(g===0)return E(u);for(let T of M)T(function(){if(--g<=0)E(u)})};function E(u){if(A.length){const g=new fb(null);for(let T of A)g.addError(T.path,T);return u(g)}u(null)}function p(u,g,T){return function(O){if(O)O.path=u,g.push(O);T(null)}}}});var V$=R((FI1,Zv)=>{var v=function(Z,J,X,Y){if(!this._mongooseOptions)this._mongooseOptions={};J=J||{},this._transforms=[],this._hooks=new mU,this._executionStack=null;const G=Object.keys(J);for(let W of G)this._mongooseOptions[W]=J[W];if(Y)this.mongooseCollection=Y;if(X)this.model=X,this.schema=X.schema;if(this.model&&this.model._mapreduce)this.lean();if(t8.call(this,null,J),Y)this.collection(Y);if(Z)this.find(Z);this.options=this.options||{},this.$useProjection=!0;const $=this&&this.schema&&this.schema.options&&this.schema.options.collation||null;if($!=null)this.options.collation=$},ab=function(Z){try{KQ1(Z)}catch(J){Z.error(J)}},uU=function(Z,J){if(Z===1||Z==="asc"||Z==="ascending")return 1;if(Z===-1||Z==="desc"||Z==="descending")return-1;if(Z?.$meta!=null)return{$meta:Z.$meta};throw new TypeError("Invalid sort value: { "+J+": "+Z+" }")},lb=function(Z,J,X,Y,G,$,W,H){if(Y.includeResultMetadata&&J==null)return q(null),null;U$.createModelAndInit(Z,J,G,$,Y,W,q);function q(K,Q){if(K)return hU(()=>H(K));if(Y.includeResultMetadata){if(J&&Q){if(Y.session!=null)Q.$session(Y.session);X.value=Q}else X.value=null;return hU(()=>H(null,X))}if(Y.session!=null)Q.$session(Y.session);hU(()=>H(null,Q))}},D3=function(Z){if(!Z||!Z.model||!Z.model.schema)return;const J=Z.model.schema;if(J&&J.discriminatorMapping&&!J.discriminatorMapping.isRoot)Z._conditions[J.discriminatorMapping.key]=J.discriminatorMapping.value},sb=function(Z){if("new"in Z)Z.returnDocument=Z.new?"after":"before",delete Z.new;if("returnOriginal"in Z)Z.returnDocument=Z.returnOriginal?"before":"after",delete Z.returnOriginal;if(typeof Z.returnDocument==="string")Z.returnOriginal=Z.returnDocument==="before"},cU=function(Z,J,X){const Y=Z._optionsForExec(Z.model);if(J in Y)return Y[J];if(J in Z.model.base.options)return Z.model.base.options[J];return X},dU=function(Z,J,X,Y,G,$){if(G.lean&&typeof G.lean.transform==="function"){G.lean.transform(J);for(let W=0;W<Z.childSchemas.length;W++){const H=X?X+"."+Z.childSchemas[W].model.path:Z.childSchemas[W].model.path,q=Z.childSchemas[W].schema,K=ib.get(H,J);if(K==null)continue;if(Array.isArray(K))for(let Q=0;Q<K.length;Q++)G.lean.transform(K[Q]);else G.lean.transform(K);dU(q,K,H,Y,G)}if($)return $(null,J);else return}if(G.includeResultMetadata)return $(null,Y);return $(null,J)},rb=function(Z,J,X,Y){if(Y.lean&&typeof Y.lean.transform==="function"){for(let G of J)Y.lean.transform(G);for(let G=0;G<Z.childSchemas.length;G++){const $=X?X+"."+Z.childSchemas[G].model.path:Z.childSchemas[G].model.path,W=Z.childSchemas[G].schema;let H=ib.get($,J);if(H==null)continue;H=H.flat();for(let q=0;q<H.length;q++)Y.lean.transform(H[q]);rb(W,H,$,Y)}}return J};async function lU(Z){if(this._castConditions(),ab(this),this.error()!=null)throw this.error();const J=this._conditions,X=this._optionsForExec(this.model);this._applyTranslateAliases(X),this._update=L8(this._update,X);const Y=Z==="replaceOne";if(Y)this._update=new this.model(this._update,null,!0);else{if(this._update=this._castUpdate(this._update),this._update==null||Object.keys(this._update).length===0)return{acknowledged:!1};const $=Object.assign({},X,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});this._update=nb(this._conditions,this.model.schema,this._update,$)}if(Array.isArray(X.arrayFilters))X.arrayFilters=RQ1(this._update,X.arrayFilters);if(cU(this,"runValidators",!1))await this.validate(this._update,X,Y);if(this._update.toBSON)this._update=this._update.toBSON();return this.mongooseCollection[Z](J,this._update,X)}var pU=function(Z,J,X,Y,G,$){if(Z.op=J,Z._validateOp(),Y=Y||{},G!=null){if("strict"in G)Z._mongooseOptions.strict=G.strict}if(!(X instanceof v)&&X!=null&&X.toString()!=="[object Object]")Z.error(new b7(X,"filter",J));else Z.merge(X);if($0.isObject(G))Z.setOptions(G);if(Z._mergeUpdate(Y),$)return Z.exec($),Z;return Z},AZ=function(Z,J){if(typeof Z==="function")Z=Z.call(J);if(Z==null)Z=new $Q1(J.getQuery(),J.model.modelName);return Z},CQ1=function(Z){return new Promise((J,X)=>{Z._hooks.execPost("exec",Z,[],{},(Y)=>{if(Y)return X(Y);J()})})},tb=function(Z,J,X,Y){if(Z._queryMiddleware==null){if(X!=null)throw X;return J}return new Promise((G,$)=>{const W=X?{error:X}:{};Z._queryMiddleware.execPost(Y||Z.op,Z,[J],W,(H,q)=>{if(H)return $(H);G(q)})})},PQ1=function(Z){return new Promise((J,X)=>{Z._hooks.execPre("exec",Z,[],(Y)=>{if(Y!=null)return X(Y);J()})})},ob=function(Z,J){if(Z._queryMiddleware==null)return;return new Promise((X,Y)=>{Z._queryMiddleware.execPre(J||Z.op,Z,[],(G)=>{if(G!=null)return Y(G);X()})})},L$=function(Z,J){return function(X,Y){if(X!=null)return J(X);for(let G of Z._transforms)try{Y=G(Y)}catch($){return J($)}return J(null,Y)}},eb=function(Z,J,X){for(let Y of J){if(Z.push(X+Y.path),!Array.isArray(Y.populate))continue;eb(Z,Y.populate,X+Y.path+".")}};/*!
 * Module dependencies.
 */var M3=z8(),$Q1=pY(),mU=u9(),U8=r1(),b7=Zz(),ub=Yy(),mb=D5(),{applyGlobalMaxTimeMS:N3,applyGlobalDiskUse:I3}=KU(),WQ1=lz(),HQ1=QU(),qQ1=GZ(),KQ1=By(),F$=J3(),QQ1=MU(),L8=W0(),db=vy(),pb=a6(),U$=r9(),hU=h8(),zQ1=z4().internalToObjectOptions,FQ1=s9(),UQ1=Y$(),LQ1=YG(),cb=my(),ib=p6(),t8=gU(),VQ1=fU(),RQ1=Pb(),wQ1=bU(),AQ1=Ob(),BQ1=_b(),nb=vU(),z$=n7(),MQ1=hb(),B3=import.meta.require("util"),$0=X1(),NQ1=sz(),IQ1=new Set(["allowDiskUse","batchSize","collation","comment","explain","hint","j","lean","limit","maxTimeMS","populate","projection","read","select","skip","slice","sort","tailable","w","writeConcern","wtimeout"]);/*!
 * inherit mquery
 */v.prototype=new t8;v.prototype.constructor=v;v.base=t8.prototype;/*!
 * Overwrite mquery's `_distinct`, because Mongoose uses that name
 * to store the field to apply distinct on.
 */Object.defineProperty(v.prototype,"_distinct",{configurable:!0,writable:!0,enumerable:!0,value:void 0});v.use$geoWithin=t8.use$geoWithin;v.prototype.toConstructor=function Z(){const J=this.model,X=this.mongooseCollection,Y=function(W,H){if(!(this instanceof Y))return new Y(W,H);this._mongooseOptions=L8(G._mongooseOptions),v.call(this,W,H||null,J,X)};B3.inherits(Y,J.Query);const G=Y.prototype;G.options={};const $=Object.assign({},this.options);if($.sort!=null)G.sort($.sort),delete $.sort;return G.setOptions($),G.op=this.op,G._validateOp(),G._conditions=L8(this._conditions),G._fields=L8(this._fields),G._update=L8(this._update,{flattenDecimals:!1}),G._path=this._path,G._distinct=this._distinct,G._collection=this._collection,G._mongooseOptions=this._mongooseOptions,Y};v.prototype.clone=function(){const Z=this.model,J=this.mongooseCollection,X=new this.model.Query({},{},Z,J),Y=Object.assign({},this.options);if(Y.sort!=null)X.sort(Y.sort),delete Y.sort;return X.setOptions(Y),X.op=this.op,X._validateOp(),X._conditions=L8(this._conditions),X._fields=L8(this._fields),X._update=L8(this._update,{flattenDecimals:!1}),X._path=this._path,X._distinct=this._distinct,X._collection=this._collection,X._mongooseOptions=this._mongooseOptions,X};v.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,J;if(arguments.length===1){const Y=arguments[0];if(typeof Y==="object"&&!Array.isArray(Y)){const G=Object.keys(Y),$=G.length;for(let W=0;W<$;++W)this.slice(G[W],Y[G[W]]);return this}this._ensurePath("slice"),Z=this._path,J=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,J=[arguments[0],arguments[1]];else Z=arguments[0],J=arguments[1];else if(arguments.length===3)Z=arguments[0],J=[arguments[1],arguments[2]];const X={};return X[Z]={$slice:J},this.select(X),this};/*!
 * ignore
 */var DQ1=new Set(NQ1);v.prototype._validateOp=function(){if(this.op!=null&&!DQ1.has(this.op))this.error(new Error('Query has invalid `op`: "'+this.op+'"'))};v.prototype.mod=function(){let Z,J;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],J=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],J=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],J=arguments[0];else Z=arguments[1],J=arguments[0];const X=this._conditions[J]||(this._conditions[J]={});return X.$mod=Z,this};v.prototype.limit=function Z(J){if(this._validate("limit"),typeof J==="string")try{J=F$(J)}catch(X){throw new M3("Number",J,"limit")}return this.options.limit=J,this};v.prototype.skip=function Z(J){if(this._validate("skip"),typeof J==="string")try{J=F$(J)}catch(X){throw new M3("Number",J,"skip")}return this.options.skip=J,this};v.prototype.projection=function(Z){if(arguments.length===0)return this._fields;return this._fields={},this._userProvidedFields={},this.select(Z),this._fields};v.prototype.select=function Z(){let J=arguments[0];if(!J)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const X=this._fields||(this._fields={}),Y=this._userProvidedFields||(this._userProvidedFields={});let G=void 0;if(this.model!=null&&$0.hasUserDefinedProperty(this.model.db.options,"sanitizeProjection"))G=this.model.db.options.sanitizeProjection;else if(this.model!=null&&$0.hasUserDefinedProperty(this.model.base.options,"sanitizeProjection"))G=this.model.base.options.sanitizeProjection;else G=this._mongooseOptions.sanitizeProjection;function $(W){return typeof W==="string"&&G?W=1:W}if(J=VQ1(J,!0),$0.isObject(J)){if(this.selectedInclusively())Object.entries(J).forEach(([W,H])=>{if(H){if(X["-"+W]!=null)delete X["-"+W];X[W]=Y[W]=$(H)}else Object.keys(Y).forEach((q)=>{if(cb(W,q))delete X[q],delete Y[q]})});else if(this.selectedExclusively())Object.entries(J).forEach(([W,H])=>{if(!H){if(X["+"+W]!=null)delete X["+"+W];X[W]=Y[W]=$(H)}else Object.keys(Y).forEach((q)=>{if(cb(W,q))delete X[q],delete Y[q]})});else{const W=Object.keys(J);for(let H=0;H<W.length;++H){const q=J[W[H]],K=W[H];X[K]=$(q),Y[K]=$(q)}}return this}throw new TypeError("Invalid select() argument. Must be string or object.")};v.prototype.read=function Z(J,X){if(typeof J==="string")J=WQ1(J),this.options.readPreference={mode:J,tags:X};else this.options.readPreference=J;return this};v.prototype.toString=function Z(){if(this.op==="count"||this.op==="countDocuments"||this.op==="find"||this.op==="findOne"||this.op==="deleteMany"||this.op==="deleteOne"||this.op==="findOneAndDelete"||this.op==="remove")return`${this.model.modelName}.${this.op}(${B3.inspect(this._conditions)})`;if(this.op==="distinct")return`${this.model.modelName}.distinct('${this._distinct}', ${B3.inspect(this._conditions)})`;if(this.op==="findOneAndReplace"||this.op==="findOneAndUpdate"||this.op==="replaceOne"||this.op==="update"||this.op==="updateMany"||this.op==="updateOne")return`${this.model.modelName}.${this.op}(${B3.inspect(this._conditions)}, ${B3.inspect(this._update)})`;return`${this.model.modelName}.${this.op}()`};v.prototype.session=function Z(J){if(J==null)delete this.options.session;return this.options.session=J,this};v.prototype.writeConcern=function Z(J){if(J==null)return delete this.options.writeConcern,this;return this.options.writeConcern=J,this};v.prototype.w=function Z(J){if(J==null)delete this.options.w;if(this.options.writeConcern!=null)this.options.writeConcern.w=J;else this.options.w=J;return this};v.prototype.j=function Z(J){if(J==null)delete this.options.j;if(this.options.writeConcern!=null)this.options.writeConcern.j=J;else this.options.j=J;return this};v.prototype.wtimeout=function Z(J){if(J==null)delete this.options.wtimeout;if(this.options.writeConcern!=null)this.options.writeConcern.wtimeout=J;else this.options.wtimeout=J;return this};v.prototype.getOptions=function(){return this.options};v.prototype.setOptions=function(Z,J){if(J){if(this._mongooseOptions=Z&&L8(Z)||{},this.options=Z||{},"populate"in Z)this.populate(this._mongooseOptions);return this}if(Z==null)return this;if(typeof Z!=="object")throw new Error('Options must be an object, got "'+Z+'"');if(Z=Object.assign({},Z),Array.isArray(Z.populate)){const X=Z.populate;delete Z.populate;const Y=X.length;for(let G=0;G<Y;++G)this.populate(X[G])}if("setDefaultsOnInsert"in Z)this._mongooseOptions.setDefaultsOnInsert=Z.setDefaultsOnInsert,delete Z.setDefaultsOnInsert;if("overwriteDiscriminatorKey"in Z)this._mongooseOptions.overwriteDiscriminatorKey=Z.overwriteDiscriminatorKey,delete Z.overwriteDiscriminatorKey;if("sanitizeProjection"in Z){if(Z.sanitizeProjection&&!this._mongooseOptions.sanitizeProjection)AQ1(this._fields);this._mongooseOptions.sanitizeProjection=Z.sanitizeProjection,delete Z.sanitizeProjection}if("sanitizeFilter"in Z)this._mongooseOptions.sanitizeFilter=Z.sanitizeFilter,delete Z.sanitizeFilter;if("timestamps"in Z)this._mongooseOptions.timestamps=Z.timestamps,delete Z.timestamps;if("defaults"in Z)this._mongooseOptions.defaults=Z.defaults;if("translateAliases"in Z)this._mongooseOptions.translateAliases=Z.translateAliases,delete Z.translateAliases;if(Z.lean==null&&this.schema&&"lean"in this.schema.options)this._mongooseOptions.lean=this.schema.options.lean;if(typeof Z.limit==="string")try{Z.limit=F$(Z.limit)}catch(X){throw new M3("Number",Z.limit,"limit")}if(typeof Z.skip==="string")try{Z.skip=F$(Z.skip)}catch(X){throw new M3("Number",Z.skip,"skip")}for(let X of Object.keys(Z))if(IQ1.has(X)){const Y=Array.isArray(Z[X])?Z[X]:[Z[X]];this[X].apply(this,Y)}else this.options[X]=Z[X];return this};v.prototype.explain=function Z(J){if(arguments.length===0)this.options.explain=!0;else if(J===!1)delete this.options.explain;else this.options.explain=J;return this};v.prototype.allowDiskUse=function(Z){if(arguments.length===0)this.options.allowDiskUse=!0;else if(Z===!1)delete this.options.allowDiskUse;else this.options.allowDiskUse=Z;return this};v.prototype.maxTimeMS=function(Z){return this.options.maxTimeMS=Z,this};v.prototype.getFilter=function(){return this._conditions};v.prototype.getQuery=function(){return this._conditions};v.prototype.setQuery=function(Z){this._conditions=Z};v.prototype.getUpdate=function(){return this._update};v.prototype.setUpdate=function(Z){this._update=Z};v.prototype._fieldsForExec=function(){if(this._fields==null)return null;if(Object.keys(this._fields).length===0)return null;return L8(this._fields)};v.prototype._updateForExec=function(){const Z=L8(this._update,{transform:!1,depopulate:!0}),J=Object.keys(Z);let X=J.length;const Y={};while(X--){const G=J[X];if(G[0]!=="$"){if(!Y.$set)if(Z.$set)Y.$set=Z.$set;else Y.$set={};if(Y.$set[G]=Z[G],J.splice(X,1),!~J.indexOf("$set"))J.push("$set")}else if(G==="$set"){if(!Y.$set)Y[G]=Z[G]}else Y[G]=Z[G]}return Y};v.prototype._optionsForExec=function(Z){const J=L8(this.options);if(delete J.populate,Z=Z||this.model,!Z)return J;HQ1(Z.schema,J);const X=Z&&Z.schema&&Z.schema.options&&Z.schema.options.read;if(!("readPreference"in J)&&X)J.readPreference=X;if(J.upsert!==void 0)J.upsert=!!J.upsert;if(J.writeConcern){if(J.j)J.writeConcern.j=J.j,delete J.j;if(J.w)J.writeConcern.w=J.w,delete J.w;if(J.wtimeout)J.writeConcern.wtimeout=J.wtimeout,delete J.wtimeout}if(this._applyPaths(),this._fields!=null){this._fields=this._castFields(this._fields);const Y=this._fieldsForExec();if(Y!=null)J.projection=Y}return J};v.prototype.lean=function(Z){return this._mongooseOptions.lean=arguments.length?Z:!0,this};v.prototype.set=function(Z,J){if(typeof Z==="object"){const X=Object.keys(Z);for(let Y of X)this.set(Y,Z[Y]);return this}if(this._update=this._update||{},Z in this._update)delete this._update[Z];return this._update.$set=this._update.$set||{},this._update.$set[Z]=J,this};v.prototype.get=function Z(J){const X=this._update;if(X==null)return;const Y=X.$set;if(Y==null)return X[J];if($0.hasUserDefinedProperty(X,J))return X[J];if($0.hasUserDefinedProperty(Y,J))return Y[J];return};v.prototype.error=function Z(J){if(arguments.length===0)return this._error;return this._error=J,this};v.prototype._unsetCastError=function Z(){if(this._error!=null&&!(this._error instanceof M3))return;return this.error(null)};v.prototype.mongooseOptions=function(Z){if(arguments.length>0)this._mongooseOptions=Z;return this._mongooseOptions};v.prototype._castConditions=function(){let Z=void 0;if(this.model!=null&&$0.hasUserDefinedProperty(this.model.db.options,"sanitizeFilter"))Z=this.model.db.options.sanitizeFilter;else if(this.model!=null&&$0.hasUserDefinedProperty(this.model.base.options,"sanitizeFilter"))Z=this.model.base.options.sanitizeFilter;else Z=this._mongooseOptions.sanitizeFilter;if(Z)wQ1(this._conditions);try{this.cast(this.model),this._unsetCastError()}catch(J){this.error(J)}};/*!
 * ignore
 */v.prototype._find=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const J=this._mongooseOptions,X=this,Y=X._userProvidedFields||{};N3(this.options,this.model),I3(this.options,this.model);const G=Object.assign({},{session:this&&this.options&&this.options.session||null,lean:J.lean||null}),$=this._optionsForExec();this._applyTranslateAliases($);const W=this._conditions,H=$.projection,q=await this.mongooseCollection.find(W,$);if($.explain)return q.explain();let K=await q.toArray();if(K.length===0)return K;if(!J.populate){const z=X.schema.options.versionKey;if(J.lean&&J.lean.versionKey===!1&&z)K.forEach((F)=>{if(z in F)delete F[z]});return J.lean?rb(X.model.schema,K,null,G):db(X.model,K,H,Y,G)}const Q=U$.preparePopulationOptionsMQ(X,J);if(J.lean)return X.model.populate(K,Q);return K=await db(X.model,K,H,Y,G),await this.model.populate(K,Q),K};v.prototype.find=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new U8("Query.prototype.find() no longer accepts a callback");if(this.op="find",t8.canMerge(Z))this.merge(Z),D3(this);else if(Z!=null)this.error(new b7(Z,"filter","find"));return this};v.prototype.merge=function(Z){if(!Z)return this;const J={overwrite:!0};if(Z instanceof v){if(Z._conditions){if(J.omit={},this._conditions&&this._conditions.$and&&Z._conditions.$and)J.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z._conditions.$and);if(this._conditions&&this._conditions.$or&&Z._conditions.$or)J.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z._conditions.$or);$0.merge(this._conditions,Z._conditions,J)}if(Z._fields)this._fields||(this._fields={}),$0.merge(this._fields,Z._fields,J);if(Z.options)this.options||(this.options={}),$0.merge(this.options,Z.options,J);if(Z._update)this._update||(this._update={}),$0.mergeClone(this._update,Z._update);if(Z._distinct)this._distinct=Z._distinct;return $0.merge(this._mongooseOptions,Z._mongooseOptions),this}else if(this.model!=null&&Z instanceof this.model.base.Types.ObjectId)return $0.merge(this._conditions,{_id:Z},J),this;else if(Z&&Z.$__)Z=Z.toObject(zQ1);if(J.omit={},this._conditions&&this._conditions.$and&&Z.$and)J.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z.$and);if(this._conditions&&this._conditions.$or&&Z.$or)J.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z.$or);return $0.merge(this._conditions,Z,J),this};v.prototype.collation=function(Z){if(this.options==null)this.options={};return this.options.collation=Z,this};v.prototype._completeOne=function(Z,J,X){if(!Z&&!this.options.includeResultMetadata)return X(null,null);const Y=this.model,G=L8(this._fields),$=this._userProvidedFields||{},W=this._mongooseOptions,H=this.options;if(!H.lean&&W.lean)H.lean=W.lean;if(H.explain)return X(null,Z);if(!W.populate){const K=this.schema.options.versionKey;if(W.lean&&W.lean.versionKey===!1&&K){if(K in Z)delete Z[K]}return W.lean?dU(Y.schema,Z,null,J,H,X):lb(Y,Z,J,H,G,$,null,X)}const q=U$.preparePopulationOptionsMQ(this,this._mongooseOptions);if(W.lean)return Y.populate(Z,q).then((K)=>{dU(Y.schema,K,null,J,H,X)},(K)=>{X(K)});lb(Y,Z,J,H,G,$,[],(K,Q)=>{if(K!=null)return X(K);Y.populate(Q,q).then((z)=>{X(null,z)},(z)=>{X(z)})})};v.prototype._findOne=async function Z(){if(this._castConditions(),this.error())throw this.error();N3(this.options,this.model),I3(this.options,this.model);const J=this._optionsForExec();this._applyTranslateAliases(J);const X=await this.mongooseCollection.findOne(this._conditions,J);return new Promise((Y,G)=>{this._completeOne(X,null,L$(this,($,W)=>{if($)return G($);Y(W)}))})};v.prototype.findOne=function(Z,J,X){if(typeof Z==="function"||typeof J==="function"||typeof X==="function"||typeof arguments[3]==="function")throw new U8("Query.prototype.findOne() no longer accepts a callback");if(this.op="findOne",this._validateOp(),X)this.setOptions(X);if(J)this.select(J);if(t8.canMerge(Z))this.merge(Z),D3(this);else if(Z!=null)this.error(new b7(Z,"filter","findOne"));return this};v.prototype._countDocuments=async function Z(){try{this.cast(this.model)}catch(Y){this.error(Y)}if(this.error())throw this.error();N3(this.options,this.model),I3(this.options,this.model);const J=this._optionsForExec();this._applyTranslateAliases(J);const X=this._conditions;return this.mongooseCollection.countDocuments(X,J)};/*!
 * If `translateAliases` option is set, call `Model.translateAliases()`
 * on the following query properties: filter, projection, update, distinct.
 */v.prototype._applyTranslateAliases=function Z(J){let X=!1;if("translateAliases"in this._mongooseOptions)X=this._mongooseOptions.translateAliases;else if(this.model?.schema?._userProvidedOptions?.translateAliases!=null)X=this.model.schema._userProvidedOptions.translateAliases;else if(this.model?.base?.options?.translateAliases!=null)X=this.model.base.options.translateAliases;if(!X)return;if(this.model?.schema?.aliases&&Object.keys(this.model.schema.aliases).length>0){if(this.model.translateAliases(this._conditions,!0),this.model.translateAliases(J.projection,!0),this.model.translateAliases(this._update,!0),this._distinct!=null&&this.model.schema.aliases[this._distinct]!=null)this._distinct=this.model.schema.aliases[this._distinct]}};v.prototype._estimatedDocumentCount=async function Z(){if(this.error())throw this.error();const J=this._optionsForExec();return this.mongooseCollection.estimatedDocumentCount(J)};v.prototype.estimatedDocumentCount=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new U8("Query.prototype.estimatedDocumentCount() no longer accepts a callback");if(this.op="estimatedDocumentCount",this._validateOp(),typeof Z==="object"&&Z!=null)this.setOptions(Z);return this};v.prototype.countDocuments=function(Z,J){if(typeof Z==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new U8("Query.prototype.countDocuments() no longer accepts a callback");if(this.op="countDocuments",this._validateOp(),t8.canMerge(Z))this.merge(Z);if(typeof J==="object"&&J!=null)this.setOptions(J);return this};v.prototype.__distinct=async function Z(){if(this._castConditions(),this.error())throw this.error();N3(this.options,this.model),I3(this.options,this.model);const J=this._optionsForExec();return this._applyTranslateAliases(J),this.mongooseCollection.distinct(this._distinct,this._conditions,J)};v.prototype.distinct=function(Z,J){if(typeof Z==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new U8("Query.prototype.distinct() no longer accepts a callback");if(this.op="distinct",this._validateOp(),t8.canMerge(J))this.merge(J),D3(this);else if(J!=null)this.error(new b7(J,"filter","distinct"));if(Z!=null)this._distinct=Z;return this};v.prototype.sort=function(Z){if(arguments.length>1)throw new Error("sort() only takes 1 Argument");if(this.options.sort==null)this.options.sort={};const J=this.options.sort;if(typeof Z==="string"){const X=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let Y of X){const G=Y[0]=="-"?-1:1;if(G===-1)Y=Y.slice(1);if(z$.has(Y))continue;J[Y]=G}}else if(Array.isArray(Z))for(let X of Z){if(!Array.isArray(X))throw new TypeError("Invalid sort() argument, must be array of arrays");const Y=""+X[0];if(z$.has(Y))continue;J[Y]=uU(X[1],Y)}else if(typeof Z==="object"&&Z!=null&&!(Z instanceof Map))for(let X of Object.keys(Z)){if(z$.has(X))continue;J[X]=uU(Z[X],X)}else if(Z instanceof Map)for(let X of Z.keys()){if(X=""+X,z$.has(X))continue;J[X]=uU(Z.get(X),X)}else if(Z!=null)throw new TypeError("Invalid sort() argument. Must be a string, object, array, or map.");return this};/*!
 * Convert sort values
 */v.prototype.deleteOne=function Z(J,X){if(typeof J==="function"||typeof X==="function"||typeof arguments[2]==="function")throw new U8("Query.prototype.deleteOne() no longer accepts a callback");if(this.op="deleteOne",this.setOptions(X),t8.canMerge(J))this.merge(J),D3(this);else if(J!=null)this.error(new b7(J,"filter","deleteOne"));return this};v.prototype._deleteOne=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const J=this._optionsForExec();return this._applyTranslateAliases(J),this.mongooseCollection.deleteOne(this._conditions,J)};v.prototype.deleteMany=function(Z,J){if(typeof Z==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new U8("Query.prototype.deleteMany() no longer accepts a callback");if(this.setOptions(J),this.op="deleteMany",t8.canMerge(Z))this.merge(Z),D3(this);else if(Z!=null)this.error(new b7(Z,"filter","deleteMany"));return this};v.prototype._deleteMany=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const J=this._optionsForExec();return this._applyTranslateAliases(J),this.mongooseCollection.deleteMany(this._conditions,J)};v.prototype.findOneAndUpdate=function(Z,J,X){if(typeof Z==="function"||typeof J==="function"||typeof X==="function"||typeof arguments[3]==="function")throw new U8("Query.prototype.findOneAndUpdate() no longer accepts a callback");switch(this.op="findOneAndUpdate",this._validateOp(),this._validate(),arguments.length){case 2:X=void 0;break;case 1:J=Z,Z=X=void 0;break}if(t8.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new b7(Z,"filter","findOneAndUpdate"));if(J)this._mergeUpdate(J);if(X=X?L8(X):{},X.projection)this.select(X.projection),delete X.projection;if(X.fields)this.select(X.fields),delete X.fields;const Y=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(X.new==null&&X.returnDocument==null&&X.returnOriginal==null&&Y!=null)X.returnOriginal=Y;return this.setOptions(X),this};v.prototype._findOneAndUpdate=async function Z(){if(this._castConditions(),ab(this),this.error())throw this.error();if(N3(this.options,this.model),I3(this.options,this.model),"strict"in this.options)this._mongooseOptions.strict=this.options.strict;const J=this._optionsForExec(this.model);sb(J),this._applyTranslateAliases(J),this._update=this._castUpdate(this._update);const X=Object.assign({},J,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});if(this._update=nb(this._conditions,this.model.schema,this._update,X),!this._update||Object.keys(this._update).length===0)if(J.upsert){const W=L8(this._update);delete W._id,this._update={$set:W}}else return this._executionStack=null,await this._findOne();else if(this._update instanceof Error)throw this._update;else if(this._update.$set&&Object.keys(this._update.$set).length===0)delete this._update.$set;if(cU(this,"runValidators",!1))await this.validate(this._update,J,!1);if(this._update.toBSON)this._update=this._update.toBSON();let G=await this.mongooseCollection.findOneAndUpdate(this._conditions,this._update,J);for(let W of this._transforms)G=W(G);const $=!J.includeResultMetadata?G:G.value;return new Promise((W,H)=>{this._completeOne($,G,L$(this,(q,K)=>{if(q)return H(q);W(K)}))})};v.prototype.findOneAndDelete=function(Z,J){if(typeof Z==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new U8("Query.prototype.findOneAndDelete() no longer accepts a callback");if(this.op="findOneAndDelete",this._validateOp(),this._validate(),t8.canMerge(Z))this.merge(Z);return J&&this.setOptions(J),this};v.prototype._findOneAndDelete=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const J=this.options.includeResultMetadata,X=this._conditions,Y=this._optionsForExec(this.model);this._applyTranslateAliases(Y);let G=await this.mongooseCollection.findOneAndDelete(X,Y);for(let W of this._transforms)G=W(G);const $=!J?G:G.value;return new Promise((W,H)=>{this._completeOne($,G,L$(this,(q,K)=>{if(q)return H(q);W(K)}))})};v.prototype.findOneAndReplace=function(Z,J,X){if(typeof Z==="function"||typeof J==="function"||typeof X==="function"||typeof arguments[4]==="function")throw new U8("Query.prototype.findOneAndReplace() no longer accepts a callback");if(this.op="findOneAndReplace",this._validateOp(),this._validate(),t8.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new b7(Z,"filter","findOneAndReplace"));if(J!=null)this._mergeUpdate(J);X=X||{};const Y=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(X.new==null&&X.returnDocument==null&&X.returnOriginal==null&&Y!=null)X.returnOriginal=Y;return this.setOptions(X),this};v.prototype._findOneAndReplace=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();if("strict"in this.options)this._mongooseOptions.strict=this.options.strict,delete this.options.strict;const J=this._conditions,X=this._optionsForExec();this._applyTranslateAliases(X),sb(X);const Y=this.options.includeResultMetadata,G={skipId:!0};if("strict"in this._mongooseOptions)G.strict=this._mongooseOptions.strict;const $=cU(this,"runValidators",!1);try{const q=new this.model(this._update,null,G);if($)await q.validate();else if(q.$__.validationError)throw q.$__.validationError;this._update=q.toBSON()}catch(q){if(q instanceof mb)throw q;const K=new mb;throw K.errors[q.path]=q,K}let W=await this.mongooseCollection.findOneAndReplace(J,this._update,X);for(let q of this._transforms)W=q(W);const H=!Y?W:W.value;return new Promise((q,K)=>{this._completeOne(H,W,L$(this,(Q,z)=>{if(Q)return K(Q);q(z)}))})};/*!
 * ignore
 *//*!
 * ignore
 */v.prototype._mergeUpdate=function(Z){if(!this._update)this._update=Array.isArray(Z)?[]:{};if(Z==null||typeof Z==="object"&&Object.keys(Z).length===0)return;if(Z instanceof v){if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");if(Z._update)$0.mergeClone(this._update,Z._update)}else if(Array.isArray(Z)){if(!Array.isArray(this._update))throw new Error("Cannot mix array and object updates");this._update=this._update.concat(Z)}else{if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");$0.mergeClone(this._update,Z)}};/*!
 * ignore
 */v.prototype.validate=async function Z(J,X,Y){if(typeof arguments[3]==="function")throw new U8("Query.prototype.validate() no longer accepts a callback");if(await ob(this,"validate"),Y)await J.$validate();else await new Promise((G,$)=>{MQ1(this,this.model.schema,J,X,(W)=>{if(W!=null)return $(W);G()})});await tb(this,null,null,"validate")};v.prototype._updateMany=async function Z(){return lU.call(this,"updateMany")};v.prototype._updateOne=async function Z(){return lU.call(this,"updateOne")};v.prototype._replaceOne=async function Z(){return lU.call(this,"replaceOne")};v.prototype.updateMany=function(Z,J,X,Y){if(typeof X==="function")Y=X,X=null;else if(typeof J==="function")Y=J,J=Z,Z={},X=null;else if(typeof Z==="function")Y=Z,Z=void 0,J=void 0,X=void 0;else if(typeof Z==="object"&&!J&&!X&&!Y)J=Z,Z=void 0,X=void 0,Y=void 0;return pU(this,"updateMany",Z,J,X,Y)};v.prototype.updateOne=function(Z,J,X,Y){if(typeof X==="function")Y=X,X=null;else if(typeof J==="function")Y=J,J=Z,Z={},X=null;else if(typeof Z==="function")Y=Z,Z=void 0,J=void 0,X=void 0;else if(typeof Z==="object"&&!J&&!X&&!Y)J=Z,Z=void 0,X=void 0,Y=void 0;return pU(this,"updateOne",Z,J,X,Y)};v.prototype.replaceOne=function(Z,J,X,Y){if(typeof X==="function")Y=X,X=null;else if(typeof J==="function")Y=J,J=Z,Z={},X=null;else if(typeof Z==="function")Y=Z,Z=void 0,J=void 0,X=void 0;else if(typeof Z==="object"&&!J&&!X&&!Y)J=Z,Z=void 0,X=void 0,Y=void 0;return pU(this,"replaceOne",Z,J,X,Y)};v.prototype.transform=function(Z){return this._transforms.push(Z),this};v.prototype.orFail=function(Z){return this.transform((J)=>{switch(this.op){case"find":if(J.length===0)throw AZ(Z,this);break;case"findOne":if(J==null)throw AZ(Z,this);break;case"replaceOne":case"updateMany":case"updateOne":if(J&&J.matchedCount===0)throw AZ(Z,this);break;case"findOneAndDelete":case"findOneAndUpdate":case"findOneAndReplace":if(this.options.includeResultMetadata&&J!=null&&J.value==null)throw AZ(Z,this);if(!this.options.includeResultMetadata&&J==null)throw AZ(Z,this);break;case"deleteMany":case"deleteOne":if(J.deletedCount===0)throw AZ(Z,this);break;default:break}return J}),this};v.prototype.isPathSelectedInclusive=function(Z){return LQ1(this._fields,Z)};v.prototype.exec=async function Z(J){if(typeof J==="function"||arguments.length>=2&&typeof arguments[1]==="function")throw new U8("Query.prototype.exec() no longer accepts a callback");if(typeof J==="string")this.op=J;if(this.op==null)throw new U8("Query must have `op` before executing");if(this.model==null)throw new U8("Query must have an associated model before executing");if(this._validateOp(),!this.op)return;if(this.options&&this.options.sort){if(Object.keys(this.options.sort).includes(""))throw new Error('Invalid field "" passed to sort()')}let X="_"+this.op;if(this.op==="distinct")X="__distinct";if(this._executionStack!=null){let W=this.toString();if(W.length>60)W=W.slice(0,60)+"...";const H=new U8("Query was already executed: "+W);throw H.originalStack=this._executionStack.stack,H}else this._executionStack=new Error;let Y=null;try{await PQ1(this)}catch(W){if(W instanceof mU.skipWrappedFunction)Y=W;else throw W}let G,$=null;try{await ob(this),G=Y?Y.args[0]:await this[X]();for(let W of this._transforms)G=W(G)}catch(W){if(W instanceof mU.skipWrappedFunction)G=W.args[0];else $=W}return G=await tb(this,G,$),await CQ1(this),G};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */v.prototype.then=function(Z,J){return this.exec().then(Z,J)};v.prototype.catch=function(Z){return this.exec().then(null,Z)};v.prototype.finally=function(Z){return this.exec().finally(Z)};v.prototype[Symbol.toStringTag]=function Z(){return`Query { ${this.op} }`};v.prototype.pre=function(Z){return this._hooks.pre("exec",Z),this};v.prototype.post=function(Z){return this._hooks.post("exec",Z),this};v.prototype._castUpdate=function Z(J){let X=this.schema;const Y=X.options.discriminatorKey,G=X._baseSchema?X._baseSchema:X;if(this._mongooseOptions.overwriteDiscriminatorKey&&J[Y]!=null&&G.discriminators){const H=Object.values(G.discriminators).find((q)=>q.discriminatorMapping.value===J[Y]);if(H!=null)X=H}let $;if("upsert"in this.options)$=this.options.upsert;const W=this._conditions;if(X!=null&&$0.hasUserDefinedProperty(W,X.options.discriminatorKey)&&typeof W[X.options.discriminatorKey]!=="object"&&X.discriminators!=null){const H=W[X.options.discriminatorKey],q=pb(this.model.discriminators,H);X=X.discriminators[H]||q&&q.schema||X}return QQ1(X,J,{strict:this._mongooseOptions.strict,upsert:$,arrayFilters:this.options.arrayFilters,overwriteDiscriminatorKey:this._mongooseOptions.overwriteDiscriminatorKey},this,this._conditions)};v.prototype.populate=function(){if(!Array.from(arguments).some(Boolean))return this;const Z=$0.populate.apply(null,arguments);if(this.options!=null){const Y=this.options.readConcern,G=this.options.readPreference;for(let $ of Z){if(Y!=null&&($&&$.options&&$.options.readConcern)==null)$.options=$.options||{},$.options.readConcern=Y;if(G!=null&&($&&$.options&&$.options.readPreference)==null)$.options=$.options||{},$.options.readPreference=G}}const J=this._mongooseOptions;if(J.lean!=null){const Y=J.lean;for(let G of Z)if((G&&G.options&&G.options.lean)==null)G.options=G.options||{},G.options.lean=Y}if(!$0.isObject(J.populate))J.populate={};const X=J.populate;for(let Y of Z){const G=Y.path;if(X[G]&&X[G].populate&&Y.populate)Y.populate=X[G].populate.concat(Y.populate);X[Y.path]=Y}return this};v.prototype.getPopulatedPaths=function Z(){const J=this._mongooseOptions.populate||{},X=Object.keys(J);for(let Y of Object.keys(J)){const G=J[Y];if(!Array.isArray(G.populate))continue;eb(X,G.populate,Y+".")}return X};/*!
 * ignore
 */v.prototype.cast=function(Z,J){J||(J=this._conditions),Z=Z||this.model;const X=Z.schema.options.discriminatorKey;if(J!=null&&J.hasOwnProperty(X))Z=pb(Z.discriminators,J[X])||Z;const Y={upsert:this.options&&this.options.upsert};if(this.options){if("strict"in this.options)Y.strict=this.options.strict;if("strictQuery"in this.options)Y.strictQuery=this.options.strictQuery}try{return qQ1(Z.schema,J,Y,this)}catch(G){if(typeof G.setModel==="function")G.setModel(Z);throw G}};v.prototype._castFields=function Z(J){let X,Y,G,$,W,H;if(J){G=Object.keys(J),Y=[],H=G.length;while(H--)if($=G[H],J[$].$elemMatch)X||(X={}),X[$]=J[$],Y.push($)}if(X){try{W=this.cast(this.model,X)}catch(q){return q}H=Y.length;while(H--)$=Y[H],J[$]=W[$]}return J};v.prototype._applyPaths=function Z(){if(!this.model)return;this._fields=this._fields||{},U$.applyPaths(this._fields,this.model.schema);let J=!0;if("selectPopulatedPaths"in this.model.base.options)J=this.model.base.options.selectPopulatedPaths;if("selectPopulatedPaths"in this.model.schema.options)J=this.model.schema.options.selectPopulatedPaths;if(J)BQ1(this._fields,this._userProvidedFields,this._mongooseOptions.populate)};v.prototype.cursor=function Z(J){if(J)this.setOptions(J);try{this.cast(this.model)}catch(X){return new ub(this)._markError(X)}return new ub(this)};v.prototype.tailable=function(Z,J){if(Z!=null&&typeof Z.constructor==="function"&&Z.constructor.name==="Object")J=Z,Z=!0;if(Z===void 0)Z=!0;if(J&&typeof J==="object")for(let X of Object.keys(J))if(X==="awaitData"||X==="awaitdata")this.options.awaitData=!!J[X];else this.options[X]=J[X];return this.options.tailable=arguments.length?!!Z:!0,this};v.prototype.near=function(){const Z=[],J=this._mongooseOptions.nearSphere;if(arguments.length===1)if(Array.isArray(arguments[0]))Z.push({center:arguments[0],spherical:J});else if(typeof arguments[0]==="string")Z.push(arguments[0]);else if($0.isObject(arguments[0])){if(typeof arguments[0].spherical!=="boolean")arguments[0].spherical=J;Z.push(arguments[0])}else throw new TypeError("invalid argument");else if(arguments.length===2)if(typeof arguments[0]==="number"&&typeof arguments[1]==="number")Z.push({center:[arguments[0],arguments[1]],spherical:J});else if(typeof arguments[0]==="string"&&Array.isArray(arguments[1]))Z.push(arguments[0]),Z.push({center:arguments[1],spherical:J});else if(typeof arguments[0]==="string"&&$0.isObject(arguments[1])){if(Z.push(arguments[0]),typeof arguments[1].spherical!=="boolean")arguments[1].spherical=J;Z.push(arguments[1])}else throw new TypeError("invalid argument");else if(arguments.length===3)if(typeof arguments[0]==="string"&&typeof arguments[1]==="number"&&typeof arguments[2]==="number")Z.push(arguments[0]),Z.push({center:[arguments[1],arguments[2]],spherical:J});else throw new TypeError("invalid argument");else throw new TypeError("invalid argument");return v.base.near.apply(this,Z)};v.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this};if(Symbol.asyncIterator!=null)v.prototype[Symbol.asyncIterator]=function(){return this.cursor().transformNull()._transformForAsyncIterator()};v.prototype.box=function(Z,J){if(!Array.isArray(Z)&&$0.isObject(Z))J=Z.ur,Z=Z.ll;return v.base.box.call(this,Z,J)};v.prototype.center=v.base.circle;v.prototype.centerSphere=function(){if(arguments[0]!=null&&typeof arguments[0].constructor==="function"&&arguments[0].constructor.name==="Object")arguments[0].spherical=!0;if(arguments[1]!=null&&typeof arguments[1].constructor==="function"&&arguments[1].constructor.name==="Object")arguments[1].spherical=!0;v.base.circle.apply(this,arguments)};v.prototype.selectedInclusively=function Z(){return UQ1(this._fields)};v.prototype.selectedExclusively=function Z(){return FQ1(this._fields)};v.prototype.model;/*!
 * Export
 */Zv.exports=v});var Gv=R((UI1,Yv)=>{var o8=function(Z){Xv.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.agg=Z,this._transforms=[];const J=Z._model;delete Z.options.cursor.useMongooseAggCursor,this._mongooseOptions={},OQ1(J,this,Z)},OQ1=function(Z,J,X){if(!Z.collection.buffer)Z.hooks.execPre("aggregate",X,function(){J.cursor=Z.collection.aggregate(X._pipeline,X.options||{}),J.emit("cursor",J.cursor)});else Z.collection.emitter.once("queue",function(){Z.hooks.execPre("aggregate",X,function(){J.cursor=Z.collection.aggregate(X._pipeline,X.options||{}),J.emit("cursor",J.cursor)})})},Jv=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},SQ1=function(Z,J){if(Z.cursor)return J();Z.once("cursor",function(){J()})},R$=function(Z,J){let X=J;if(Z._transforms.length)X=function(Y,G){if(Y||G===null&&!Z._mongooseOptions.transformNull)return J(Y,G);J(Y,Z._transforms.reduce(function($,W){return W($)},G))};if(Z._error)return TQ1(function(){X(Z._error)});if(Z.cursor)return Z.cursor.next().then((Y)=>{if(!Y)return X(null,null);X(null,Y)},(Y)=>X(Y));else Z.once("cursor",function(){R$(Z,J)})};/*!
 * Module dependencies.
 */var iU=r1(),Xv=import.meta.require("stream").Readable,EQ1=$U(),TQ1=h8(),jQ1=import.meta.require("util");jQ1.inherits(o8,Xv);/*!
 * ignore
 */o8.prototype._read=function(){const Z=this;R$(this,function(J,X){if(J)return Z.emit("error",J);if(!X){Z.push(null),Z.cursor.close(function(Y){if(Y)return Z.emit("error",Y)});return}Z.push(X)})};if(Symbol.asyncIterator!=null){const Z="Mongoose does not support using async iterators with an existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation";o8.prototype[Symbol.asyncIterator]=function(){throw new iU(Z)}}Object.defineProperty(o8.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});o8.prototype._markError=function(Z){return this._error=Z,this};o8.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new iU("AggregationCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close()}catch(J){throw this.listeners("error").length>0&&this.emit("error",J),J}this.emit("close")};o8.prototype.next=async function Z(){if(typeof arguments[0]==="function")throw new iU("AggregationCursor.prototype.next() no longer accepts a callback");return new Promise((J,X)=>{R$(this,(Y,G)=>{if(Y!=null)return X(Y);J(G)})})};o8.prototype.eachAsync=function(Z,J,X){const Y=this;if(typeof J==="function")X=J,J={};return J=J||{},EQ1(function(G){return R$(Y,G)},Z,J,X)};if(Symbol.asyncIterator!=null)o8.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 */o8.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(Jv)===-1)this.map(Jv);return this};/*!
 * ignore
 */o8.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */o8.prototype.addCursorFlag=function(Z,J){const X=this;return SQ1(this,function(){X.cursor.addCursorFlag(Z,J)}),this};/*!
 * ignore
 */Yv.exports=o8});var nU=R((LI1,$v)=>{$v.exports=function Z(J,X,Y){const G=X&&X.discriminatorMapping;if(Y=Y||"",G&&!G.isRoot){const $=J,W=(Y.length>0?Y+".":Y)+G.key,H=G.value;if($[0]!=null&&$[0].$match&&($[0].$match[W]===void 0||$[0].$match[W]===H))$[0].$match[W]=H;else if($[0]!=null&&$[0].$geoNear)$[0].$geoNear.query=$[0].$geoNear.query||{},$[0].$geoNear.query[W]=H;else if($[0]!=null&&$[0].$search)if($[1]&&$[1].$match!=null)$[1].$match[W]=$[1].$match[W]||H;else{const q={};q[W]=H,$.splice(1,0,{$match:q})}else{const q={};q[W]=H,$.unshift({$match:q})}}}});var Hv=R((VI1,Wv)=>{var kQ1=function(Z){if(Z==null||Z.$accumulator==null)return;for(let J of["init","accumulate","merge","finalize"])if(typeof Z.$accumulator[J]==="function")Z.$accumulator[J]=String(Z.$accumulator[J])};Wv.exports=function Z(J){if(!Array.isArray(J))return;for(let X of J){if(X==null)continue;const Y=X.$group||X.$bucket||X.$bucketAuto;if(Y!=null)for(let $ of Object.keys(Y))kQ1(Y[$]);const G=Object.keys(X)[0];if(G&&typeof X[G]==="object"){const $=X[G];for(let W of Object.keys($))if($[W]!=null&&$[W].$function!=null&&typeof $[W].$function.body==="function")$[W].$function.body=$[W].$function.body.toString()}if(X.$facet!=null)for(let $ of Object.keys(X.$facet))Z(X.$facet[$])}}});var rU=R((RI1,Fv)=>{var A1=function(Z,J){if(this._pipeline=[],this._model=J,this.options={},arguments.length===1&&Array.isArray(Z))this.append.apply(this,Z)},hQ1=function(Z){if(typeof Z!=="object"||Z===null)return!1;const J=Object.keys(Z);return J.length===1&&J[0][0]==="$"};/*!
 * Module dependencies
 */var Qv=Gv(),aU=r1(),zv=V$(),{applyGlobalMaxTimeMS:_Q1,applyGlobalDiskUse:xQ1}=KU(),gQ1=W0(),fQ1=j8(),sU=nU(),yQ1=Hv(),qv=X1(),bQ1=zv.prototype.read,vQ1=zv.prototype.readConcern,Kv=new Set(["$$DESCEND","$$PRUNE","$$KEEP"]);A1.prototype.options;A1.prototype.model=function(Z){if(arguments.length===0)return this._model;if(this._model=Z,Z.schema!=null){if(this.options.readPreference==null&&Z.schema.options.read!=null)this.options.readPreference=Z.schema.options.read;if(this.options.collation==null&&Z.schema.options.collation!=null)this.options.collation=Z.schema.options.collation}return Z};A1.prototype.append=function(){const Z=arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:[...arguments];if(!Z.every(hQ1))throw new Error("Arguments must be aggregate pipeline operators");return this._pipeline=this._pipeline.concat(Z),this};A1.prototype.addFields=function(Z){if(typeof Z!=="object"||Z===null||Array.isArray(Z))throw new Error("Invalid addFields() argument. Must be an object");return this.append({$addFields:Object.assign({},Z)})};A1.prototype.project=function(Z){const J={};if(typeof Z==="object"&&!Array.isArray(Z))Object.keys(Z).forEach(function(X){J[X]=Z[X]});else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(X){if(!X)return;const Y=X[0]==="-"?0:1;if(Y===0)X=X.substring(1);J[X]=Y});else throw new Error("Invalid project() argument. Must be string or object");return this.append({$project:J})};A1.prototype.near=function(Z){const J={};return J.$geoNear=Z,this.append(J)};/*!
 * define methods
 */"group match skip limit out densify fill".split(" ").forEach(function(Z){A1.prototype[Z]=function(J){const X={};return X["$"+Z]=J,this.append(X)}});A1.prototype.unwind=function(){const Z=[...arguments],J=[];for(let X of Z)if(X&&typeof X==="object")J.push({$unwind:X});else if(typeof X==="string")J.push({$unwind:X[0]==="$"?X:"$"+X});else throw new Error('Invalid arg "'+X+'" to unwind(), must be string or object');return this.append.apply(this,J)};A1.prototype.replaceRoot=function(Z){let J;if(typeof Z==="string")J=Z.startsWith("$")?Z:"$"+Z;else J=Z;return this.append({$replaceRoot:{newRoot:J}})};A1.prototype.count=function(Z){return this.append({$count:Z})};A1.prototype.sortByCount=function(Z){if(Z&&typeof Z==="object")return this.append({$sortByCount:Z});else if(typeof Z==="string")return this.append({$sortByCount:Z[0]==="$"?Z:"$"+Z});else throw new TypeError('Invalid arg "'+Z+'" to sortByCount(), must be string or object')};A1.prototype.lookup=function(Z){return this.append({$lookup:Z})};A1.prototype.graphLookup=function(Z){const J={};if(Z){if(!qv.isObject(Z))throw new TypeError("Invalid graphLookup() argument. Must be an object.");qv.mergeClone(J,Z);const X=J.startWith;if(X&&typeof X==="string")J.startWith=J.startWith.startsWith("$")?J.startWith:"$"+J.startWith}return this.append({$graphLookup:J})};A1.prototype.sample=function(Z){return this.append({$sample:{size:Z}})};A1.prototype.sort=function(Z){const J={};if(fQ1(Z)==="Object"){const X=["desc","descending",-1];Object.keys(Z).forEach(function(Y){if(Z[Y]instanceof Object&&Z[Y].$meta){J[Y]=Z[Y];return}J[Y]=X.indexOf(Z[Y])===-1?1:-1})}else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(X){if(!X)return;const Y=X[0]==="-"?-1:1;if(Y===-1)X=X.substring(1);J[X]=Y});else throw new TypeError("Invalid sort() argument. Must be a string or object.");return this.append({$sort:J})};A1.prototype.unionWith=function(Z){return this.append({$unionWith:Z})};A1.prototype.read=function(Z,J){return bQ1.call(this,Z,J),this};A1.prototype.readConcern=function(Z){return vQ1.call(this,Z),this};A1.prototype.redact=function(Z,J,X){if(arguments.length===3){if(typeof J==="string"&&!Kv.has(J)||typeof X==="string"&&!Kv.has(X))throw new Error("If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP");Z={$cond:{if:Z,then:J,else:X}}}else if(arguments.length!==1)throw new TypeError("Invalid arguments");return this.append({$redact:Z})};A1.prototype.explain=async function Z(J){if(typeof J==="function"||typeof arguments[1]==="function")throw new aU("Aggregate.prototype.explain() no longer accepts a callback");const X=this._model;if(!this._pipeline.length)throw new Error("Aggregate has empty pipeline");sU(this._pipeline,this._model.schema),await new Promise((W,H)=>{X.hooks.execPre("aggregate",this,(q)=>{if(q){const K={error:q};return X.hooks.execPost("aggregate",this,[null],K,(Q)=>{H(Q)})}else W()})});const Y=X.collection.aggregate(this._pipeline,this.options);if(J==null)J=!0;let G=null;try{G=await Y.explain(J)}catch(W){await new Promise((H,q)=>{const K={error:W};X.hooks.execPost("aggregate",this,[null],K,(Q)=>{if(Q)return q(Q);return H()})})}const $={error:null};return await new Promise((W,H)=>{X.hooks.execPost("aggregate",this,[G],$,(q)=>{if(q)return H(q);return W()})}),G};A1.prototype.allowDiskUse=function(Z){return this.options.allowDiskUse=Z,this};A1.prototype.hint=function(Z){return this.options.hint=Z,this};A1.prototype.session=function(Z){if(Z==null)delete this.options.session;else this.options.session=Z;return this};A1.prototype.option=function(Z){for(let J in Z)this.options[J]=Z[J];return this};A1.prototype.cursor=function(Z){return this.options.cursor=Z||{},new Qv(this)};A1.prototype.collation=function(Z){return this.options.collation=Z,this};A1.prototype.facet=function(Z){return this.append({$facet:Z})};A1.prototype.search=function(Z){return this.append({$search:Z})};A1.prototype.pipeline=function(){return this._pipeline};A1.prototype.exec=async function Z(){if(!this._model)throw new Error("Aggregate not bound to any Model");if(typeof arguments[0]==="function")throw new aU("Aggregate.prototype.exec() no longer accepts a callback");const J=this._model,X=this._model.collection;if(_Q1(this.options,J),xQ1(this.options,J),this.options&&this.options.cursor)return new Qv(this);if(sU(this._pipeline,this._model.schema),yQ1(this._pipeline),await new Promise((W,H)=>{J.hooks.execPre("aggregate",this,(q)=>{if(q){const K={error:q};return J.hooks.execPost("aggregate",this,[null],K,(Q)=>{H(Q)})}else W()})}),!this._pipeline.length)throw new aU("Aggregate has empty pipeline");const Y=gQ1(this.options||{});let G;try{G=await(await X.aggregate(this._pipeline,Y)).toArray()}catch(W){await new Promise((H,q)=>{const K={error:W};J.hooks.execPost("aggregate",this,[null],K,(Q)=>{if(Q)return q(Q);H()})})}const $={error:null};return await new Promise((W,H)=>{J.hooks.execPost("aggregate",this,[G],$,(q)=>{if(q)return H(q);return W()})}),G};A1.prototype.then=function(Z,J){return this.exec().then(Z,J)};A1.prototype.catch=function(Z){return this.exec().then(null,Z)};A1.prototype.finally=function(Z){return this.exec().finally(Z)};if(Symbol.asyncIterator!=null)A1.prototype[Symbol.asyncIterator]=function(){return this.cursor({useMongooseAggCursor:!0}).transformNull()._transformForAsyncIterator()};/*!
 * Helpers
 */A1._prepareDiscriminatorPipeline=sU;/*!
 * Exports
 */Fv.exports=A1});var Vv=R((wI1,Lv)=>{var uQ1=W0();class Uv{constructor(Z){if(Z==null)return;Object.assign(this,uQ1(Z))}}Lv.exports=Uv});var wv=R((AI1,Rv)=>{Rv.exports=function Z(J,X){const Y=Object.keys(X.paths),G=Y.length;for(let $=0;$<G;++$){let W="";const H=Y[$],q=X.paths[H],K=q.splitPath(),Q=K.length;let z=J;for(let F=0;F<Q;++F){if(z==null)break;const U=K[F];if(W+=(!W.length?"":".")+U,F===Q-1){if(typeof z[U]!=="undefined"){if(q.$isSingleNested)Z(z[U],q.caster.schema);else if(q.$isMongooseDocumentArray&&Array.isArray(z[U]))z[U].forEach((V)=>Z(V,q.schema));break}const L=q.getDefault(J,!1,{skipCast:!0});if(typeof L!=="undefined"){if(z[U]=L,q.$isSingleNested)Z(L,q.caster.schema);else if(q.$isMongooseDocumentArray&&Array.isArray(L))L.forEach((V)=>Z(V,q.schema))}}else{if(z[U]==null)z[U]={};z=z[U]}}}}});var Bv=R((BI1,Av)=>{var mQ1=Z0(),dQ1=X1();Av.exports=function Z(J,X){const Y=tU();function G($,W){Object.defineProperty(J.prototype,$,{get:function(){const H={};for(let q in W.methods[$])H[q]=W.methods[$][q].bind(this);return H},configurable:!0})}for(let $ of Object.keys(X.methods)){const W=X.methods[$];if(X.tree.hasOwnProperty($))throw new Error('You have a method and a property in your schema both named "'+$+'"');if(typeof W==="function"&&Y.prototype[$]===W){delete X.methods[$];continue}if(X.reserved[$]&&!mQ1(X,`methodOptions.${$}.suppressWarning`,!1))dQ1.warn(`mongoose: the method name "${$}" is used by mongoose `+"internally, overwriting it may cause bugs. If you\'re sure you know what you\'re doing, you can suppress this error by using "+`\`schema.method('${$}', fn, { suppressWarning: true })\`.`);if(typeof W==="function")J.prototype[$]=W;else G($,X)}J.$appliedMethods=!0;for(let $ of Object.keys(X.paths)){const W=X.paths[$];if(W.$isSingleNested&&!W.caster.$appliedMethods)Z(W.caster,W.schema);if(W.$isMongooseDocumentArray&&!W.Constructor.$appliedMethods)Z(W.Constructor,W.schema)}}});var Iv=R((MI1,Nv)=>{var oU=function(Z,J,X,Y,G){if(Z==null||typeof Z!=="object")return Z;const $={...Z};Y=G?Y||{}:J;for(let W of Object.keys($)){const H=G?G+"."+W:W;if(J.hasOwnProperty(H)||Y.hasOwnProperty(W))if(w$(J[H])||w$(Y[W]))$[W]=oU($[W],J,X,Y[W],H);else delete $[W];else if(X[H])$[W]=oU($[W],J,X,Y[W],H)}return $},eU=function(Z,J,X,Y,G){if(Z==null||typeof Z!=="object")return Z;const $={...Z};Y=G?Y||{}:J;for(let W of Object.keys($)){const H=G?G+"."+W:W;if(J.hasOwnProperty(H)||Y.hasOwnProperty(W)){if(w$(J[H])||w$(Y[W]))$[W]=eU($[W],J,X,Y[W],H);continue}else if(X[H])$[W]=eU($[W],J,X,Y[W],H);else delete $[W]}return $},Mv=Xz(),cQ1=s9(),lQ1=Y$(),w$=X1().isPOJO;Nv.exports=function Z(J,X,Y){if(X==null)return J;if(J==null)return J;let G=null;if(lQ1(X))G=!1;else if(cQ1(X))G=!0;if(G==null)return J;else if(G)return Y=Y||Mv(X),oU(J,X,Y);else return Y=Y||Mv(X),eU(J,X,Y)}});var Cv=R((NI1,Dv)=>{Dv.exports=function Z(J){let X=!1;for(let Y of Object.keys(J))if(J[Y]==="text")X=!0;return X}});var Ev=R((II1,Pv)=>{var pQ1=Cv();Pv.exports=function Z(J,X,Y){if(pQ1(J))return;if(Y.hasOwnProperty("collation")&&!X.hasOwnProperty("collation"))X.collation=Y.collation}});var jv=R((DI1,Tv)=>{var iQ1=IG().middlewareFunctions,nQ1=sY();Tv.exports=function Z(J,X,Y){const G={useErrorHandlers:!0,numCallbackParams:1};X=X.filter(($)=>{if(iQ1.indexOf($.name)!==-1)return!!$.model;return $.model!==!1}),J.$__insertMany=X.createWrapper("insertMany",J.$__insertMany,J,G);for(let $ of Object.keys(Y))if(X.hasHooks($)){const W=J[$];J[$]=function(){const H=arguments.length,q=H>0?arguments[H-1]:null,K=typeof q==="function"?q:null,Q=Array.prototype.slice.call(arguments,0,K==null?H:H-1);return nQ1(K,(z)=>{X.execPre($,J,Q,function(F){if(F!=null)return z(F);let U=0;const L=W.apply(J,Q.concat(V));if(L!=null&&typeof L.then==="function")L.then((w)=>V(null,w),(w)=>V(w));function V(w,B){if(U++>0)return;if(w!=null)return z(w);X.execPost($,J,[B],function(M){if(M!=null)return z(M);z(null,B)})}})},J.events)}}}});var Sv=R((CI1,Ov)=>{Ov.exports=function Z(J,X){for(let Y in X.statics)J[Y]=X.statics[Y]}});var A$=R((PI1,kv)=>{kv.exports=function Z(J){if(!(this instanceof Z))return new Z(J);return this.val=J,this}});var C3=R((EI1,_v)=>{/*!
 * ignore
 */_v.exports=new WeakMap});var yv=R((TI1,fv)=>{var gv=function(Z,J,X,Y,G){const $=[],W=Y.isVirtual&&Y.justOne&&Z.length>1?!1:Y.sort&&Z.length>1,H=Y.$nullIfNotFound;let q,K,Q;if(rQ1.isMongooseArray(Z))Z=Z.__array;let z=0;const F=Z.length;if(W&&G&&Y[B$]===void 0){Y[B$]=!1;for(let U in X)if(Array.isArray(X[U])){Y[B$]=!0;break}}for(z=0;z<F;++z){if(Q=Z[z],Array.isArray(Q)){gv(Q,J,X,Y,!0),$.push(Q);continue}if(Q===null&&W===!1){$.push(Q);continue}if(K=String(Q),q=J[K],Y.clone&&q!=null)if(Y.lean){const U=xv.get(q);q=aQ1(q),xv.set(q,U)}else q=q.constructor.hydrate(q._doc);if(G)if(q)if(W){const U=X[K];if(Y[B$])$.push(q);else $[U]=q}else $.push(q);else if(Q!=null&&Q[sQ1]!=null)$.push(Q);else $.push(Y.retainNullValues||H?null:Q);else $[z]=q||null}if(Z.length=0,$.length)$.forEach(function(U,L){Z[L]=U})},aQ1=W0(),xv=C3(),sQ1=t().modelSymbol,rQ1=X1();fv.exports=gv;var B$=Symbol("mongoose#assignRawDocsToIdStructure#hasArray")});var JL=R((jI1,bv)=>{var ZL=function(Z,J){if(Z.virtuals[J])return{virtual:Z.virtuals[J],path:void 0};const X=J.split(".");let Y="",G="";for(let $=0;$<X.length;++$){if(Y+=(Y.length>0?".":"")+X[$],Z.virtuals[Y]){if($===X.length-1)return{virtual:Z.virtuals[Y],path:G};continue}if(Z.nested[Y])continue;if(Z.paths[Y]&&Z.paths[Y].schema){Z=Z.paths[Y].schema;const W=X.slice($+1).join(".");if(Z.virtuals[W]){if($===X.length-2)return{virtual:Z.virtuals[W],nestedSchemaPath:[G,Y].filter((H)=>!!H).join(".")};continue}if($+1<X.length&&Z.discriminators)for(let H of Object.keys(Z.discriminators)){const q=ZL(Z.discriminators[H],W);if(q!=null){const K=[G,Y,q.nestedSchemaPath].filter((Q)=>!!Q).join(".");return{virtual:q.virtual,nestedSchemaPath:K}}}G+=(G.length>0?".":"")+Y,Y="";continue}if(Z.discriminators)for(let W of Object.keys(Z.discriminators)){const H=ZL(Z.discriminators[W],J);if(H)return H}return null}};bv.exports=ZL;/*!
 * ignore
 */});var M$=R((OI1,vv)=>{vv.exports=function Z(J,X,Y){if(J==null)return J;if(J._doc!=null)J=J._doc;if(arguments.length>=3){if(typeof J!=="object")return;if(Y===void 0)return;if(J instanceof Map)J.set(X,Y);else J[X]=Y;return Y}if(X==="$*")return J instanceof Map?Array.from(J.values()):Object.keys(J).map((G)=>J[G]);if(J instanceof Map)return J.get(X);return J[X]}});var uv=R((N$,hv)=>{(function(Z,J){typeof N$==="object"&&typeof hv!=="undefined"?J(N$):typeof define==="function"&&define.amd?define(["exports"],J):(Z=Z||self,J(Z.sift={}))})(N$,function(Z){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var J=function(N,D){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,S){P.__proto__=S}||function(P,S){for(var n in S)if(Object.prototype.hasOwnProperty.call(S,n))P[n]=S[n]},J(N,D)};function X(N,D){if(typeof D!=="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");J(N,D);function P(){this.constructor=N}N.prototype=D===null?Object.create(D):(P.prototype=D.prototype,new P)}var Y=function(N){var D="[object "+N+"]";return function(P){return G(P)===D}},G=function(N){return Object.prototype.toString.call(N)},$=function(N){if(N instanceof Date)return N.getTime();else if(W(N))return N.map($);else if(N&&typeof N.toJSON==="function")return N.toJSON();return N},W=Y("Array"),H=Y("Object"),q=Y("Function"),K=function(N){return N&&(N.constructor===Object||N.constructor===Array||N.constructor.toString()==="function Object() { [native code] }"||N.constructor.toString()==="function Array() { [native code] }")&&!N.toJSON},Q=function(N,D){if(N==null&&N==D)return!0;if(N===D)return!0;if(Object.prototype.toString.call(N)!==Object.prototype.toString.call(D))return!1;if(W(N)){if(N.length!==D.length)return!1;for(var P=0,S=N.length;P<S;P++)if(!Q(N[P],D[P]))return!1;return!0}else if(H(N)){if(Object.keys(N).length!==Object.keys(D).length)return!1;for(var n in N)if(!Q(N[n],D[n]))return!1;return!0}return!1},z=function(N,D,P,S,n,e){var W1=D[S];if(W(N)&&isNaN(Number(W1))){for(var V1=0,w8=N.length;V1<w8;V1++)if(!z(N[V1],D,P,S,V1,N))return!1}if(S===D.length||N==null)return P(N,n,e,S===0);return z(N[W1],D,P,S+1,W1,N)},F=function(){function N(D,P,S,n){this.params=D,this.owneryQuery=P,this.options=S,this.name=n,this.init()}return N.prototype.init=function(){},N.prototype.reset=function(){this.done=!1,this.keep=!1},N}(),U=function(N){X(D,N);function D(P,S,n,e){var W1=N.call(this,P,S,n)||this;return W1.children=e,W1}return D.prototype.reset=function(){this.keep=!1,this.done=!1;for(var P=0,S=this.children.length;P<S;P++)this.children[P].reset()},D.prototype.childrenNext=function(P,S,n,e){var W1=!0,V1=!0;for(var w8=0,E6=this.children.length;w8<E6;w8++){var A8=this.children[w8];if(!A8.done)A8.next(P,S,n,e);if(!A8.keep)V1=!1;if(A8.done){if(!A8.keep)break}else W1=!1}this.done=W1,this.keep=V1},D}(F),L=function(N){X(D,N);function D(P,S,n,e,W1){var V1=N.call(this,P,S,n,e)||this;return V1.name=W1,V1}return D}(U),V=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.next=function(P,S,n,e){this.childrenNext(P,S,n,e)},D}(U),w=function(N){X(D,N);function D(P,S,n,e,W1){var V1=N.call(this,S,n,e,W1)||this;return V1.keyPath=P,V1.propop=!0,V1._nextNestedValue=function(w8,E6,A8,tu){return V1.childrenNext(w8,E6,A8,tu),!V1.done},V1}return D.prototype.next=function(P,S,n){z(P,this.keyPath,this._nextNestedValue,0,S,n)},D}(U),B=function(N,D){if(N instanceof Function)return N;if(N instanceof RegExp)return function(S){var n=typeof S==="string"&&N.test(S);return N.lastIndex=0,n};var P=$(N);return function(S){return D(P,$(S))}},M=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.init=function(){this._test=B(this.params,this.options.compare)},D.prototype.next=function(P,S,n){if(!Array.isArray(n)||n.hasOwnProperty(S)){if(this._test(P,S,n))this.done=!0,this.keep=!0}},D}(F),A=function(N,D,P){return new M(N,D,P)},I=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.next=function(){this.done=!0,this.keep=!1},D}(F),m=function(N){return function(D,P,S,n){if(D==null)return new I(D,P,S,n);return N(D,P,S,n)}},k=function(N){return m(function(D,P,S,n){var e=typeof $(D),W1=N(D);return new M(function(V1){return typeof $(V1)===e&&W1(V1)},P,S,n)})},j=function(N,D,P,S){var n=S.operations[N];if(!n)E(N);return n(D,P,S,N)},E=function(N){throw new Error("Unsupported operation: "+N)},p=function(N,D){for(var P in N)if(D.operations.hasOwnProperty(P)||P.charAt(0)==="$")return!0;return!1},u=function(N,D,P,S,n){if(p(D,n)){var e=T(D,P,n),W1=e[0],V1=e[1];if(V1.length)throw new Error("Property queries must contain only operations, or exact objects.");return new w(N,D,S,n,W1)}return new w(N,D,S,n,[new M(D,S,n)])},g=function(N,D,P){if(D===void 0)D=null;var S=P===void 0?{}:P,n=S.compare,e=S.operations,W1={compare:n||Q,operations:Object.assign({},e||{})},V1=T(N,null,W1),w8=V1[0],E6=V1[1],A8=[];if(w8.length)A8.push(new w([],N,D,W1,w8));if(A8.push.apply(A8,E6),A8.length===1)return A8[0];return new V(N,D,W1,A8)},T=function(N,D,P){var S=[],n=[];if(!K(N))return S.push(new M(N,N,P)),[S,n];for(var e in N)if(P.operations.hasOwnProperty(e)){var W1=j(e,N[e],N,P);if(W1){if(!W1.propop&&D&&!P.operations[D])throw new Error("Malformed query. "+e+" cannot be matched against property.")}if(W1!=null)S.push(W1)}else if(e.charAt(0)==="$")E(e);else n.push(u(e.split("."),N[e],e,N,P));return[S,n]},O=function(N){return function(D,P,S){return N.reset(),N.next(D,P,S),N.keep}},i=function(N,D){if(D===void 0)D={};return O(g(N,null,D))},M1=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.init=function(){this._test=B(this.params,this.options.compare)},D.prototype.reset=function(){N.prototype.reset.call(this),this.keep=!0},D.prototype.next=function(P){if(this._test(P))this.done=!0,this.keep=!1},D}(F),P0=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.init=function(){if(!this.params||typeof this.params!=="object")throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=g(this.params,this.owneryQuery,this.options)},D.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},D.prototype.next=function(P){if(W(P)){for(var S=0,n=P.length;S<n;S++){this._queryOperation.reset();var e=P[S];this._queryOperation.next(e,S,P,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},D}(F),p1=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.init=function(){this._queryOperation=g(this.params,this.owneryQuery,this.options)},D.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},D.prototype.next=function(P,S,n,e){this._queryOperation.next(P,S,n,e),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},D}(F),B0=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.init=function(){},D.prototype.next=function(P){if(W(P)&&P.length===this.params)this.done=!0,this.keep=!0},D}(F),R8=function(N){if(N.length===0)throw new Error("$and/$or/$nor must be a nonempty array")},n0=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!1,P}return D.prototype.init=function(){var P=this;R8(this.params),this._ops=this.params.map(function(S){return g(S,null,P.options)})},D.prototype.reset=function(){this.done=!1,this.keep=!1;for(var P=0,S=this._ops.length;P<S;P++)this._ops[P].reset()},D.prototype.next=function(P,S,n){var e=!1,W1=!1;for(var V1=0,w8=this._ops.length;V1<w8;V1++){var E6=this._ops[V1];if(E6.next(P,S,n),E6.keep){e=!0,W1=E6.keep;break}}this.keep=W1,this.done=e},D}(F),n4=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!1,P}return D.prototype.next=function(P,S,n){N.prototype.next.call(this,P,S,n),this.keep=!this.keep},D}(n0),PL=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.init=function(){var P=this;this._testers=this.params.map(function(S){if(p(S,P.options))throw new Error("cannot nest $ under "+P.name.toLowerCase());return B(S,P.options.compare)})},D.prototype.next=function(P,S,n){var e=!1,W1=!1;for(var V1=0,w8=this._testers.length;V1<w8;V1++){var E6=this._testers[V1];if(E6(P)){e=!0,W1=!0;break}}this.keep=W1,this.done=e},D}(F),pu=function(N){X(D,N);function D(P,S,n,e){var W1=N.call(this,P,S,n,e)||this;return W1.propop=!0,W1._in=new PL(P,S,n,e),W1}return D.prototype.next=function(P,S,n,e){if(this._in.next(P,S,n),W(n)&&!e){if(this._in.keep)this.keep=!1,this.done=!0;else if(S==n.length-1)this.keep=!0,this.done=!0}else this.keep=!this._in.keep,this.done=!0},D.prototype.reset=function(){N.prototype.reset.call(this),this._in.reset()},D}(F),iu=function(N){X(D,N);function D(){var P=N!==null&&N.apply(this,arguments)||this;return P.propop=!0,P}return D.prototype.next=function(P,S,n){if(n.hasOwnProperty(S)===this.params)this.done=!0,this.keep=!0},D}(F),nu=function(N){X(D,N);function D(P,S,n,e){var W1=N.call(this,P,S,n,P.map(function(V1){return g(V1,S,n)}),e)||this;return W1.propop=!1,R8(P),W1}return D.prototype.next=function(P,S,n,e){this.childrenNext(P,S,n,e)},D}(L),au=function(N){X(D,N);function D(P,S,n,e){var W1=N.call(this,P,S,n,P.map(function(V1){return g(V1,S,n)}),e)||this;return W1.propop=!0,W1}return D.prototype.next=function(P,S,n,e){this.childrenNext(P,S,n,e)},D}(L),EL=function(N,D,P){return new M(N,D,P)},TL=function(N,D,P,S){return new M1(N,D,P,S)},jL=function(N,D,P,S){return new n0(N,D,P,S)},OL=function(N,D,P,S){return new n4(N,D,P,S)},SL=function(N,D,P,S){return new P0(N,D,P,S)},kL=function(N,D,P,S){return new pu(N,D,P,S)},_L=function(N,D,P,S){return new PL(N,D,P,S)},xL=k(function(N){return function(D){return D<N}}),gL=k(function(N){return function(D){return D<=N}}),fL=k(function(N){return function(D){return D>N}}),yL=k(function(N){return function(D){return D>=N}}),bL=function(N,D,P){var S=N[0],n=N[1];return new M(function(e){return $(e)%S===n},D,P)},vL=function(N,D,P,S){return new iu(N,D,P,S)},hL=function(N,D,P){return new M(new RegExp(N,D.$options),D,P)},uL=function(N,D,P,S){return new p1(N,D,P,S)},mL={number:function(N){return typeof N==="number"},string:function(N){return typeof N==="string"},bool:function(N){return typeof N==="boolean"},array:function(N){return Array.isArray(N)},null:function(N){return N===null},timestamp:function(N){return N instanceof Date}},dL=function(N,D,P){return new M(function(S){if(typeof N==="string"){if(!mL[N])throw new Error("Type alias does not exist");return mL[N](S)}return S!=null?S instanceof N||S.constructor===N:!1},D,P)},cL=function(N,D,P,S){return new nu(N,D,P,S)},lL=function(N,D,P,S){return new au(N,D,P,S)},pL=function(N,D,P){return new B0(N,D,P,"$size")},iL=function(){return null},nL=function(N,D,P){var S;if(q(N))S=N;else if(!process.env.CSP_ENABLED)S=new Function("obj","return "+N);else throw new Error("In CSP mode, sift does not support strings in \"$where\" condition");return new M(function(n){return S.bind(n)(n)},D,P)},su=Object.freeze({__proto__:null,$Size:B0,$eq:EL,$ne:TL,$or:jL,$nor:OL,$elemMatch:SL,$nin:kL,$in:_L,$lt:xL,$lte:gL,$gt:fL,$gte:yL,$mod:bL,$exists:vL,$regex:hL,$not:uL,$type:dL,$and:cL,$all:lL,$size:pL,$options:iL,$where:nL}),aL=function(N,D,P){var S=P===void 0?{}:P,n=S.compare,e=S.operations;return g(N,D,{compare:n,operations:Object.assign({},su,e||{})})},ru=function(N,D){if(D===void 0)D={};var P=aL(N,null,D);return O(P)};Z.$Size=B0,Z.$all=lL,Z.$and=cL,Z.$elemMatch=SL,Z.$eq=EL,Z.$exists=vL,Z.$gt=fL,Z.$gte=yL,Z.$in=_L,Z.$lt=xL,Z.$lte=gL,Z.$mod=bL,Z.$ne=TL,Z.$nin=kL,Z.$nor=OL,Z.$not=uL,Z.$options=iL,Z.$or=jL,Z.$regex=hL,Z.$size=pL,Z.$type=dL,Z.$where=nL,Z.EqualsOperation=M,Z.createDefaultQueryOperation=aL,Z.createEqualsOperation=A,Z.createOperationTester=O,Z.createQueryOperation=g,Z.createQueryTester=i,Z.default=ru,Object.defineProperty(Z,"__esModule",{value:!0})})});var dv=R((SI1,XL)=>{var mv=uv();XL.exports=mv.default;Object.assign(XL.exports,mv)});var av=R((kI1,nv)=>{var Yz1=function(Z){if(Array.isArray(Z)){if(Z.some((J)=>Array.isArray(J)||J===null))return Z.map((J)=>{if(J==null)return 0;if(Array.isArray(J))return J.filter((X)=>X!=null).length;return 1});return Z.filter((J)=>J!=null).length}return Z==null?0:1},D$=function(Z,J,X,Y){const G=typeof X.transform==="function",$=G?X.transform:Gz1;if(Array.isArray(Z)){const W=[],H=Z.length;for(let Q=0;Q<H;++Q){let z=Z[Q];const F=Array.isArray(Y)?Y[Q]:Y;if(!GL(z)&&(!X.retainNullValues||z!=null)&&!G)continue;else if(!X.retainNullValues&&z==null)continue;else if(G)z=$(GL(z)?z:null,F);if(pv(z,J),W.push(z),J.originalLimit&&W.length>=J.originalLimit)break}const q=W.length;while(Z.length>q)Array.prototype.pop.apply(Z,[]);let K=0;if(C$.isMongooseArray(Z))for(K=0;K<q;++K)Z.set(K,W[K],!0);else for(K=0;K<q;++K)Z[K]=W[K];return Z}if(GL(Z)||C$.isPOJO(Z))return pv(Z,J),$(Z,Y);if(Z instanceof Map)return Z;if(X.justOne===!1)return[];return Z==null?$(Z,Y):$(null,Y)},pv=function(Z,J){if(Z!=null&&J.excludeId)if(typeof Z.$__setValue==="function")delete Z._doc._id;else delete Z._id},GL=function(Z){if(Z==null)return!1;return Array.isArray(Z)||Z.$isMongooseMap||Z.$__!=null||iv.has(Z)},Gz1=function(Z){return Z},tQ1=CG(),oQ1=A$(),eQ1=yv(),I$=Z0(),Zz1=JL(),iv=C3(),cv=M$(),Jz1=Hz(),YL=p6(),lv=dv().default,C$=X1(),{populateModelSymbol:Xz1}=t();nv.exports=function Z(J){const X=Object.assign({},I$(J,"allOptions.options.options"),I$(J,"allOptions.options")),Y=Object.assign({},J.options,X,{justOne:J.justOne,isVirtual:J.isVirtual});Y.$nullIfNotFound=J.isVirtual;const G=J.populatedModel,$=[].concat(J.rawIds);J.allIds=[].concat(J.allIds),eQ1(J.rawIds,J.rawDocs,J.rawOrder,Y);const{docs:W,rawIds:H,options:q}=J,K=J.count&&J.isVirtual;let Q;function z(F){if(K)return F;if(F instanceof oQ1)return F.val;if(F===void 0)return F;const U=J.allIds[Q];if(J.path.endsWith(".$*"))return D$(F,q,Y,U);if(J.justOne===!0&&Array.isArray(F)){const L=[];for(let V of F){const w=iv.get(V);if(w==null||w===G)L.push(V)}while(F.length>L.length)Array.prototype.pop.apply(F,[]);for(let V=0;V<L.length;++V)F[V]=L[V];return D$(F[0],q,Y,U)}else if(J.justOne===!1&&!Array.isArray(F))return D$([F],q,Y,U);return D$(F,q,Y,U)}for(Q=0;Q<W.length;++Q){const F=J.path.endsWith(".$*")?J.path.slice(0,-3):J.path,U=YL.get(F,W[Q],cv);if(U==null&&!Zz1(J.originalModel.schema,F))continue;let L;if(K)L=Yz1(H[Q]);else if(Array.isArray(J.match))L=Array.isArray(H[Q])?H[Q].filter(lv(J.match[Q])):[H[Q]].filter(lv(J.match[Q]))[0];else L=H[Q];const V=J.originalModel.schema,w=I$(W[Q],"$__",null)!=null;let B=w?U instanceof Map:C$.isPOJO(U);if(B=B&&I$(V._getSchema(F),"$isSchemaMap"),!J.isVirtual&&B){const I=U instanceof Map?Array.from(U.keys()):Object.keys(U);L=L.reduce((m,k,j)=>{return m.set(I[j],k),m},new Map)}if(w&&Array.isArray(L)){for(let I of L)if(I!=null&&I.$__!=null)I.$__.parent=W[Q]}else if(w&&L!=null&&L.$__!=null)L.$__.parent=W[Q];if(J.isVirtual&&w){if(W[Q].$populated(F,J.justOne?$[0]:$,J.allOptions),Array.isArray(L))L=L.map((I)=>I==null?void 0:I);YL.set(F,L,W[Q],void 0,z,!1);continue}const M=F.split(".");let A=W[Q];for(let I=0;I<M.length-1;++I){if(Array.isArray(A)&&!C$.isArrayIndex(M[I]))break;if(M[I]==="$*")break;if(A[M[I]]==null){const m=M.slice(0,I+1).join("."),k=V._getSchema(m);if(L==null&&k!=null&&k.$isMongooseArray)break;A[M[I]]={}}if(A=A[M[I]],typeof A!=="object")break}if(W[Q].$__){if(J.allOptions.options[Xz1]=J.allOptions.model,W[Q].$populated(F,J.unpopulatedValues[Q],J.allOptions.options),L!=null&&L.$__!=null)L.$__.wasPopulated={value:J.unpopulatedValues[Q]};if(L instanceof Map&&!L.$isMongooseMap)L=new tQ1(L,F,W[Q],W[Q].schema.path(F).$__schemaType)}if(YL.set(F,L,W[Q],cv,z,!1),W[Q].$__)Jz1(W[Q],[J.allOptions.options])}}});var $L=R((_I1,sv)=>{var $z1=zU();sv.exports=function Z(J,X,Y){if(!Y||!(X&&X.upsert))return;if(!$z1(J)[Y])if(X.overwrite)J[Y]=0;else{if(!J.$setOnInsert)J.$setOnInsert={};J.$setOnInsert[Y]=0}}});var Xh=R((xI1,Jh)=>{var E3=function(Z,J){if(Z==null)return;if(Z.discriminatorMapping&&!Z.discriminatorMapping.isRoot)J[Z.discriminatorMapping.key]=Z.discriminatorMapping.value},BZ=function(Z,J){const X=Z.schema.options.discriminatorKey;if(J!=null&&J.hasOwnProperty(X))Z=Hz1(Z.discriminators,J[X])||Z;return Z},Wz1=r1(),Hz1=a6(),rv=nz(),tv=az(),P3=GZ(),ov=MU(),ev=$L(),{inspect:qz1}=import.meta.require("util"),Zh=vU();Jh.exports=function Z(J,X,Y){const G=J.base.now(),$=J.base.options.setDefaultsOnInsert;if(X.insertOne)return(W)=>{const H=BZ(J,X.insertOne.document),q=new H(X.insertOne.document);if(H.schema.options.timestamps&&Y.timestamps!==!1)q.initializeTimestamps();if(Y.session!=null)q.$session(Y.session);const K=H?.schema?.options?.versionKey;if(K&&q[K]==null)q[K]=0;if(X.insertOne.document=q,Y.skipValidation||X.insertOne.skipValidation){W(null);return}X.insertOne.document.$validate().then(()=>{W(null)},(Q)=>{W(Q,null)})};else if(X.updateOne)return(W)=>{try{if(!X.updateOne.filter)throw new Error("Must provide a filter object.");if(!X.updateOne.update)throw new Error("Must provide an update object.");const H=BZ(J,X.updateOne.filter),q=H.schema,K=Y.strict!=null?Y.strict:H.schema.options.strict;if(E3(q,X.updateOne.filter),H.schema.$timestamps!=null&&X.updateOne.timestamps!==!1){const z=H.schema.$timestamps.createdAt,F=H.schema.$timestamps.updatedAt;tv(G,z,F,X.updateOne.update,{})}if(X.updateOne.timestamps!==!1)rv(G,X.updateOne.update,H.schema);if((X.updateOne.setDefaultsOnInsert==null?$:X.updateOne.setDefaultsOnInsert)!==!1)Zh(X.updateOne.filter,H.schema,X.updateOne.update,{setDefaultsOnInsert:!0,upsert:X.updateOne.upsert});ev(X.updateOne.update,X.updateOne,H.schema.options.versionKey),X.updateOne.filter=P3(H.schema,X.updateOne.filter,{strict:K,upsert:X.updateOne.upsert}),X.updateOne.update=ov(H.schema,X.updateOne.update,{strict:K,upsert:X.updateOne.upsert},H,X.updateOne.filter)}catch(H){return W(H,null)}W(null)};else if(X.updateMany)return(W)=>{try{if(!X.updateMany.filter)throw new Error("Must provide a filter object.");if(!X.updateMany.update)throw new Error("Must provide an update object.");const H=BZ(J,X.updateMany.filter),q=H.schema,K=Y.strict!=null?Y.strict:H.schema.options.strict;if((X.updateMany.setDefaultsOnInsert==null?$:X.updateMany.setDefaultsOnInsert)!==!1)Zh(X.updateMany.filter,H.schema,X.updateMany.update,{setDefaultsOnInsert:!0,upsert:X.updateMany.upsert});if(H.schema.$timestamps!=null&&X.updateMany.timestamps!==!1){const z=H.schema.$timestamps.createdAt,F=H.schema.$timestamps.updatedAt;tv(G,z,F,X.updateMany.update,{})}if(X.updateMany.timestamps!==!1)rv(G,X.updateMany.update,H.schema);E3(q,X.updateMany.filter),ev(X.updateMany.update,X.updateMany,H.schema.options.versionKey),X.updateMany.filter=P3(H.schema,X.updateMany.filter,{strict:K,upsert:X.updateMany.upsert}),X.updateMany.update=ov(H.schema,X.updateMany.update,{strict:K,upsert:X.updateMany.upsert},H,X.updateMany.filter)}catch(H){return W(H,null)}W(null)};else if(X.replaceOne)return(W)=>{const H=BZ(J,X.replaceOne.filter),q=H.schema,K=Y.strict!=null?Y.strict:H.schema.options.strict;E3(q,X.replaceOne.filter);try{X.replaceOne.filter=P3(H.schema,X.replaceOne.filter,{strict:K,upsert:X.replaceOne.upsert})}catch(F){return W(F,null)}const Q=new H(X.replaceOne.replacement,K,!0);if(H.schema.options.timestamps)Q.initializeTimestamps();if(Y.session!=null)Q.$session(Y.session);const z=H?.schema?.options?.versionKey;if(z&&Q[z]==null)Q[z]=0;if(X.replaceOne.replacement=Q,Y.skipValidation||X.replaceOne.skipValidation){X.replaceOne.replacement=X.replaceOne.replacement.toBSON(),W(null);return}X.replaceOne.replacement.$validate().then(()=>{X.replaceOne.replacement=X.replaceOne.replacement.toBSON(),W(null)},(F)=>{W(F,null)})};else if(X.deleteOne)return(W)=>{const H=BZ(J,X.deleteOne.filter),q=H.schema;E3(q,X.deleteOne.filter);try{X.deleteOne.filter=P3(H.schema,X.deleteOne.filter)}catch(K){return W(K,null)}W(null)};else if(X.deleteMany)return(W)=>{const H=BZ(J,X.deleteMany.filter),q=H.schema;E3(q,X.deleteMany.filter);try{X.deleteMany.filter=P3(H.schema,X.deleteMany.filter)}catch(K){return W(K,null)}W(null)};else return(W)=>{const H=new Wz1(`Invalid op passed to \`bulkWrite()\`: ${qz1(X)}`);W(H,null)}}});var Wh=R((gI1,$h)=>{var Gh=function(Z,J,X){if(Z=Z.filter((Y)=>!(Y instanceof Kz1)),!X)return Z;return Z.filter((Y)=>{try{return J.cast(Y),!0}catch(G){return!1}})},zz1=function(Z){if(Array.isArray(Z)){if(Z.length>1)return{$or:[].concat(Z.map((J)=>Object.assign({},J)))};return Object.assign({},Z[0])}return Object.assign({},Z)},Kz1=A$(),Qz1=GG(),{trusted:P$}=a5(),Yh=yU();$h.exports=function Z(J,X,Y,G,$){const W=zz1(X);if(Y.size===1){const H=Array.from(Y)[0],q=G.schema.path(H);if(H!=="_id"||!W._id)J=Gh(J,q,$),W[H]=P$({$in:J});else if(H==="_id"&&W._id){const Q=Yh(W[H])?W[H]:{$eq:W[H]};W[H]={...P$({$in:J}),...Q}}const K=Qz1(H);for(let Q=0;Q<K.length-1;++Q){const z=K[Q];if(W[z]!=null&&W[z].$elemMatch!=null){W[z].$elemMatch[H.slice(z.length+1)]=P$({$in:J}),delete W[H];break}}}else{const H=[];if(Array.isArray(W.$or))W.$and=[{$or:W.$or},{$or:H}],delete W.$or;else W.$or=H;for(let q of Y)if(q!=="_id"||!W._id){const K=G.schema.path(q);J=Gh(J,K,$),H.push({[q]:{$in:J}})}else if(q==="_id"&&W._id){const K=Yh(W[q])?W[q]:{$eq:W[q]};W[q]={...P$({$in:J}),...K}}}return W}});var qh=R((fI1,Hh)=>{var Fz1=function(){return{result:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},insertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,upsertedCount:0,upsertedIds:{},insertedIds:{},n:0}};Hh.exports=Fz1});var Qh=R((yI1,Kh)=>{Kh.exports=function Z(J){if(J==null)return null;return Object.keys(J)[0]}});var Lh=R((bI1,Uh)=>{/*!
 * ignore
 */var zh=E5(),Uz1=Z0(),Lz1=a6(),Fh=C3(),MZ=p6(),Vz1=t().populateModelSymbol;Uh.exports=function Z(J,X,Y,G){const $=X.path(G),W=Y;if($)return $;const H=X.discriminatorMapping&&X.discriminatorMapping.key;if(H&&J!=null){if(Y!=null&&Y[H]!=null){const Q=Lz1(J.discriminators,Y[H]);X=Q?Q.schema:X}else if(J.discriminators!=null)return Object.keys(J.discriminators).reduce((Q,z)=>{const F=J.discriminators[z];return Q.concat(Z(F,F.schema,null,G))},[])}function q(Q,z,F,U){let L=Q.length+1,V,w;while(L--){if(w=Q.slice(0,L).join("."),V=z.path(w),V==null)continue;if(V.caster){if(V.caster instanceof zh)return V.caster;let A=null;if(V.schema!=null&&V.schema.discriminators!=null){const I=V.schema.discriminators,m=w+"."+V.schema.options.discriminatorKey,k=F?MZ.get(m,F)||[]:[];A=Object.keys(I).reduce(function(j,E){const p=I[E].discriminatorMapping.value;if(Y==null||k.indexOf(E)!==-1||k.indexOf(p)!==-1)j.push(I[E]);return j},[])}if(L!==Q.length&&V.schema){let I;if(Q[L]==="$"){if(L+1===Q.length)return V;if(I=q(Q.slice(L+1),z,F?MZ.get(w,F):null,U.concat(Q.slice(0,L))),I)I.$parentSchemaDocArray=I.$parentSchemaDocArray||(V.schema.$isSingleNested?null:V);return I}if(A!=null&&A.length>0){I=[];for(let m of A){const k=q(Q.slice(L),m,F?MZ.get(w,F):null,U.concat(Q.slice(0,L)));if(k!=null){if(k.$parentSchemaDocArray=k.$parentSchemaDocArray||(V.schema.$isSingleNested?null:V),k.$parentSchemaDocArray)I.$parentSchemaDocArray=k.$parentSchemaDocArray;I.push(k)}}return I}else{if(I=q(Q.slice(L),V.schema,F?MZ.get(w,F):null,U.concat(Q.slice(0,L))),I)I.$parentSchemaDocArray=I.$parentSchemaDocArray||(V.schema.$isSingleNested?null:V);return I}}else if(L!==Q.length&&V.$isMongooseArray&&V.casterConstructor.$isMongooseArray){let I=V;while(I.$isMongooseArray&&!I.$isMongooseDocumentArray)I=I.casterConstructor;const m=q(Q.slice(L),I.schema,null,U.concat(Q.slice(0,L)));if(m!=null)return m;if(I.schema.discriminators){const k=[];for(let j of Object.keys(I.schema.discriminators)){const E=I.schema.discriminators[j]||I.schema,p=q(Q.slice(L),E,null,U.concat(Q.slice(0,L)));if(p!=null)k.push(p)}if(k.length>0)return k}}}else if(V.$isSchemaMap&&V.$__schemaType instanceof zh)return V.$__schemaType;const B=U.concat([w]).join(".");if(W!=null&&W.$__&&W.$populated(B)&&L<Q.length){const A=Y.$__.populated[B].options[Vz1];if(A!=null)return q(Q.slice(L),A.schema,F?MZ.get(w,F):null,U.concat(Q.slice(0,L)))}const M=Uz1(W,w);if(M!=null){const A=Array.isArray(M)&&M.length>0?Fh.get(M[0]):Fh.get(M),I=A!=null?A.schema:null;if(I!=null){const m=q(Q.slice(L),I,F?MZ.get(w,F):null,U.concat(Q.slice(0,L)));if(m!=null)return m.$parentSchemaDocArray=m.$parentSchemaDocArray||(I.$isSingleNested?null:I),m}}return V}}const K=G.split(".");for(let Q=0;Q<K.length;++Q)if(K[Q]==="$")K[Q]="0";return q(K,X,Y,[])}});var WL=R((vI1,Vh)=>{var Rz1=a9();Vh.exports=function Z(J,X){if(J==null)return!1;if(X==="_id")return J._id===0;const Y=Object.keys(J);let G=null;for(let $ of Y)if(Rz1(J[$])){G=J[X]===1?"inclusive":"exclusive";break}if(G==="inclusive")return J[X]!==1;if(G==="exclusive")return J[X]===0;return!1}});var Nh=R((hI1,Mh)=>{var wz1=r1(),Az1=WL(),Rh=M$(),wh=p6(),Bz1=import.meta.require("util"),Ah=X1(),Bh=/(\.\d+$|\.\d+\.)/g;Mh.exports=function Z(J,X,Y,G,$){if(J==null)return[];if(typeof J==="string"&&$!=null&&Az1($,J))throw new wz1("refPath `"+J+"` must not be excluded in projection, got "+Bz1.inspect($));if(Bh.test(Y)){const q=Y.split(Bh);if(q[q.length-1]==="")throw new Error("Can\'t populate individual element in an array");let K="",Q=J;for(let U=0;U<q.length;U+=2){const L=q[U];if(Q.startsWith(L+"."))K+=Q.substring(0,L.length)+q[U+1],Q=Q.substring(L.length+1);else if(U===q.length-1){K+=Q,Q="";break}else throw new Error("Could not normalize ref path, chunk "+L+" not in populated path")}const z=wh.get(K,X,Rh);let F=Array.isArray(z)?z:[z];return F=Ah.array.flatten(F),F}const W=wh.get(J,X,Rh);let H;if(G!=null&&G.virtuals.hasOwnProperty(J))H=[G.virtuals[J].applyGetters(void 0,X)];else H=Array.isArray(W)?W:[W];return H=Ah.array.flatten(H),H}});var Th=R((uI1,Eh)=>{var Ez1=function(Z,J,X,Y){const G=[],$={},W=Y.virtual;for(let H of J){let q=null;const K={};let Q;const z=Y.nestedSchemaPath?Y.nestedSchemaPath+".":"";if(typeof X.localField==="string")Q=X.localField;else if(typeof W.options.localField==="function")Q=z+W.options.localField.call(H,H);else if(Array.isArray(W.options.localField))Q=W.options.localField.map((M)=>z+M);else Q=z+W.options.localField;if(K.count=W.options.count,W.options.skip!=null&&!X.hasOwnProperty("skip"))X.skip=W.options.skip;if(W.options.limit!=null&&!X.hasOwnProperty("limit"))X.limit=W.options.limit;if(W.options.perDocumentLimit!=null&&!X.hasOwnProperty("perDocumentLimit"))X.perDocumentLimit=W.options.perDocumentLimit;let F=W.options.foreignField;if(!Q||!F)return new Dh(`Cannot populate virtual \`${X.path}\` on model \`${Z.modelName}\`, because options \`localField\` and / or \`foreignField\` are missing`);if(typeof Q==="function")Q=Q.call(H,H);if(typeof F==="function")F=F.call(H,H);K.isRefPath=!1;let U=null;if("justOne"in X&&X.justOne!==void 0)U=X.justOne;if(W.options.refPath)q=T3(W.options.refPath,H,X.path),U=!!W.options.justOne,K.isRefPath=!0;else if(W.options.ref){let M;if(typeof W.options.ref==="function"&&!W.options.ref[E$])M=W.options.ref.call(H,H);else M=W.options.ref;if(U=!!W.options.justOne,Array.isArray(M))q=M;else q=[M]}K.isVirtual=!0,K.virtual=W,K.justOne=U;const L=C6(K,"virtual.options.match",null)||C6(K,"virtual.options.options.match",null);let V=C6(X,"match",null)||L,w=typeof V==="function";if(w)V=V.call(H,H,K.virtual);if(Array.isArray(Q)&&Array.isArray(F)&&Q.length===F.length){V=Object.assign({},V);for(let M=1;M<Q.length;++M)V[F[M]]=Ph(h5.get(Q[M],H,j3),Z.schema),w=!0;Q=Q[0],F=F[0]}K.localField=Q,K.foreignField=F,K.match=V,K.hasMatchFunction=w;const B=Ch(H,Q,Z,X,W);try{QL(Z,G,$,q,X,K,B,H)}catch(M){return M}}return G},QL=function(Z,J,X,Y,G,$,W,H,q,K){const Q=G.connection!=null?G.connection:Z.db;if(K=K===void 0?W:K,Array.isArray(K))K=V8.cloneArrays(K);if(Y==null)return;let z=Y.length;while(z--){const F=Y[z];if(F==null)continue;let U;if(G.model&&G.model[E$])U=G.model;else if(F[E$])U=F;else try{U=zL(Q,F)}catch(M){if(W!==void 0)throw M;U=null}let L=W;const V=Array.isArray(W)?V8.array.flatten(W):[],w=$.modelNamesInOrder?$.modelNamesInOrder:Y;if($.isRefPath&&Array.isArray(W)&&V.length===w.length)L=V.filter((M,A)=>w[A]===F);const B=G.perDocumentLimit==null?C6(G,"options.perDocumentLimit",null):G.perDocumentLimit;if(!X[F]||B!=null){const M={model:U};if($.isVirtual&&C6($.virtual,"options.options"))M.options=Nz1($.virtual.options.options);else if(q!=null)M.options=Object.assign({},q);V8.merge(M,G),G[HL]=U,M[HL]=U,X[F]={model:U,options:M,match:$.hasMatchFunction?[$.match]:$.match,docs:[H],ids:[L],allIds:[W],unpopulatedValues:[K],localField:new Set([$.localField]),foreignField:new Set([$.foreignField]),justOne:$.justOne,isVirtual:$.isVirtual,virtual:$.virtual,count:$.count,[HL]:U},J.push(X[F])}else if(X[F].localField.add($.localField),X[F].foreignField.add($.foreignField),X[F].docs.push(H),X[F].ids.push(L),X[F].allIds.push(W),X[F].unpopulatedValues.push(K),$.hasMatchFunction)X[F].match.push($.match)}},zL=function(Z,J){if(Z.models[J]==null&&Z._parent!=null)return zL(Z._parent,J);return Z.model(J)},qL=function(Z,J){if(typeof Z==="function"&&!Z[E$])return Z.call(J,J);return Z},Ch=function(Z,J,X,Y,G,$){const W=X.schema._getPathType(J),H=W==="real"?X.schema.path(J):W.schema,q=H&&H.getters?H.getters:[];J=H!=null&&H.instance==="Embedded"?J+"._id":J;const K=C6(Y,"options",{}),Q="getters"in K?K.getters:C6(G,"options.getters",!1);if(q.length!==0&&Q){const z=Z.$__!=null?Z:X.hydrate(Z),F=V8.getValue(J,Z);if(Array.isArray(F)){const U=V8.getValue(J.split(".").slice(0,-1),z);return F.map((L,V)=>H.applyGetters(L,U[V]))}else return H.applyGetters(F,z)}else return Ph(h5.get(J,Z,j3),$)},Ph=function(Z,J){if(Z!=null&&Z.$__!=null)return Z._id;if(Z!=null&&Z._id!=null&&(J==null||!J.$isSchemaMap))return Z._id;if(Array.isArray(Z)){const X=Z.__array!=null?Z.__array:Z;for(let Y=0;Y<X.length;++Y)if(X[Y]!=null&&X[Y].$__!=null)X[Y]=X[Y]._id;if(V8.isMongooseArray(Z)&&Z.$schema())return Z.$schema()._castForPopulate(Z,Z.$parent());return[].concat(Z)}if(Dz1(Z)==="Object"&&(J==null||J[KL]==null)){const X=[];for(let Y of Object.keys(Z))X.push(Z[Y]);return X}if(Z instanceof Map)return Array.from(Z.values());return Z},Tz1=function(Z,J,X,Y,G,$){if(!X.isRefPath||G==null)return;const W=G.split(".");let H="",q=void 0;for(let K=0;K<W.length;++K){const Q=W[K];H=H+(H.length===0?"":".")+Q;const z=J.path(H);if(z!=null&&z.$isMongooseArray&&z.caster.discriminators!=null&&Object.keys(z.caster.discriminators).length!==0){const F=V8.getValue(H,Z),U=Y.path.substring(H.length+1),L=z.caster.schema.options.discriminatorKey;q=[];for(let V of F){const w=V8.getValue(L,V),B=z.caster.discriminators[w],M=B&&B.schema;if(M==null)continue;const A=M.path(U);if(A==null||A.options.refPath==null){const m=V8.getValue(X.localField.substring(H.length+1),V);$.forEach((k,j)=>{if(k===m)$[j]=Mz1(k)});continue}const I=V8.getValue(W.slice(K+1).join("."),V);q.push(I)}}}return q},Dh=h1(),Mz1=A$(),Nz1=W0(),C6=Z0(),Iz1=a6(),Dz1=j8(),Ih=Lh(),Cz1=JL(),j3=M$(),h5=p6(),T3=Nh(),V8=X1(),E$=t().modelSymbol,HL=t().populateModelSymbol,KL=P5().schemaMixedSymbol,Pz1=aQ();Eh.exports=function Z(J,X,Y){let G;const $=X.length,W=[],H=Y.model&&Y.model.modelName||Y.model;let q,K,Q;const z={},F=J.schema;if(Y._localModel!=null&&Y._localModel.schema.nested[Y.path])return[];const U=Cz1(J.schema,Y.path);if((U==null?null:U.virtual)!=null)return Ez1(J,X,Y,U);let V=Ih(J,F,null,Y.path);if(V=Array.isArray(V)?V:[V].filter((M)=>M!=null),!(Y.strictPopulate===!1||Y.options?.strictPopulate===!1)&&V.length===0&&Y._localModel!=null)return new Pz1(Y._fullPath||Y.path);for(let M=0;M<$;M++){G=X[M];let A=null;const I=G!=null&&G.$__!=null?G.$__schema:F;if(q=Ih(J,I,G,Y.path),q!=null&&q.$isMongooseDocumentArray&&q.options.ref==null&&q.options.refPath==null)continue;if(q&&q.$parentSchemaDocArray&&C6(Y,"options.sort")!=null)return new Dh("Cannot populate with `sort` on path "+Y.path+" because it is a subproperty of a document array");Q=null;let k=!1,j=null,E=null,p=null;if(q!=null&&q.instance==="Embedded"){if(q.options.ref){const p1={localField:Y.path+"._id",foreignField:"_id",justOne:!0},B0=B(G,q,H,J),R8=h5.get(Y.path,G),n0=h5.get("_id",R8);QL(J,W,z,B0.modelNames,Y,p1,n0,G,E,R8)}continue}if(Array.isArray(q)){const p1=q;for(let B0 of p1){let R8,n0;try{n0=B(G,B0,H,J),R8=n0.modelNames,k=k||n0.isRefPath,j=j||n0.refPath,A=n0.justOne}catch(n4){return n4}if(k&&!n0.isRefPath)continue;if(!R8)continue;Q=Q||[];for(let n4 of R8)if(Q.indexOf(n4)===-1)Q.push(n4)}}else{try{const p1=B(G,q,H,J);if(Q=p1.modelNames,k=p1.isRefPath,j=j||p1.refPath,A=p1.justOne,E=C6(q,"options.populate",null),k)p=Q,Q=Array.from(new Set(Q))}catch(p1){return p1}if(!Q)continue}const u={},g=Y.path,T="_id";if("justOne"in Y&&Y.justOne!==void 0)A=Y.justOne;else if(q&&!q[KL]){if(Y.path.endsWith("."+q.path)||Y.path===q.path)A=Array.isArray(q)?q.every((p1)=>!p1.$isMongooseArray):!q.$isMongooseArray}if(!Q)continue;u.isVirtual=!1,u.justOne=A,u.localField=g,u.foreignField=T;const O=Ch(G,g,J,Y,null,q),i=String(V8.getValue(T,G));Y._docs[i]=Array.isArray(O)?O.slice():O;let M1=C6(Y,"match",null);const P0=typeof M1==="function";if(P0)M1=M1.call(G,G);if(u.match=M1,u.hasMatchFunction=P0,u.isRefPath=k,u.modelNamesInOrder=p,k)Q=Tz1(G,F,u,Y,j,O)||Q;try{QL(J,W,z,Q,Y,u,O,G,E)}catch(p1){return p1}}return W;function B(M,A,I,m){let k,j=!1,E=null;const p=A;if(A&&A.instance==="Array")A=A.caster;if(A&&A.$isSchemaMap)A=A.$__schemaType;const u=A&&A.options&&A.options.ref;if(K=A&&A.options&&A.options.refPath,A!=null&&A[KL]&&!u&&!K&&!I)return{modelNames:null};if(I)k=[I];else if(K!=null){if(typeof K==="function"){const g=Y.path.slice(0,Y.path.length-A.path.length-1),T=h5.get(g,M,j3),O=Array.isArray(T)?V8.array.flatten(T):T?[T]:[];k=new Set;for(let i of O)K=K.call(i,i,Y.path),T3(K,M,Y.path,F,Y._queryProjection).forEach((M1)=>k.add(M1));k=Array.from(k)}else k=T3(K,M,Y.path,F,Y._queryProjection);j=!0}else{let g,T,O,i,M1=m;const P0=m.schema.options.discriminatorKey;if(!A&&P0&&(i=V8.getValue(P0,M))){const p1=Iz1(m.discriminators,i)||m;if(p1!=null)M1=p1;else try{M1=zL(m.db,i)}catch(B0){return B0}if(O=M1.schema._getSchema(Y.path),O&&O.caster)O=O.caster}else O=A;if(p&&p.path.endsWith(".$*"))E=!p.$isMongooseArray&&!p._arrayPath;else if(O!=null)E=!O.$isMongooseArray&&!O._arrayPath;if((g=C6(O,"options.ref"))!=null)if(O!=null&&typeof g==="function"&&Y.path.endsWith("."+O.path)){k=new Set;const p1=Y.path.slice(0,Y.path.length-O.path.length-1),B0=h5.get(p1,M,j3),R8=Array.isArray(B0)?V8.array.flatten(B0):B0?[B0]:[];for(let n0 of R8)k.add(qL(g,n0));if(R8.length===0)k=[qL(g,M)];else k=Array.from(k)}else g=qL(g,M),k=[g];else if((O=C6(A,"options.refPath"))!=null)if(j=!0,typeof T==="function"){const p1=Y.path.slice(0,Y.path.length-O.path.length-1),B0=h5.get(p1,M,j3),R8=Array.isArray(B0)?V8.array.flatten(B0):B0?[B0]:[];k=new Set;for(let n0 of R8)T=T.call(n0,n0,Y.path),T3(T,M,Y.path,F,Y._queryProjection).forEach((n4)=>k.add(n4));k=Array.from(k)}else k=T3(T,M,Y.path,F,Y._queryProjection)}if(!k)if(Y._localModel==null)k=[m.modelName];else return{modelNames:k,justOne:E,isRefPath:j,refPath:K};if(!Array.isArray(k))k=[k];return{modelNames:k,justOne:E,isRefPath:j,refPath:K}}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var Oh=R((mI1,jh)=>{var jz1=Z0();jh.exports=function Z(J){if(Array.isArray(J)){const Y=Object.keys(J[0]);return Y.length===1&&Y[0]==="_id"&&J[0]._id!=="hashed"}if(typeof J!=="object")return!1;const X=jz1(J,"key",{});return Object.keys(X).length===1&&X.hasOwnProperty("_id")}});var _h=R((dI1,kh)=>{var T$=Z0(),Sh=X1();kh.exports=function Z(J,X,Y){if(Y.textIndexVersion!=null){delete Y.key._fts,delete Y.key._ftsx;const H={...Y.weights,...Y.key};if(Object.keys(H).length!==Object.keys(J).length)return!1;for(let q of Object.keys(H)){if(!(q in J))return!1;const K=H[q];if(K!==T$(X,"weights."+q)&&!(K===1&&T$(X,"weights."+q)==null))return!1}if(X.default_language!==Y.default_language)return Y.default_language==="english"&&X.default_language==null;return!0}const G=["unique","partialFilterExpression","sparse","expireAfterSeconds","collation"];for(let H of G){if(!(H in X)&&!(H in Y))continue;if(H==="collation"){if(X[H]==null||Y[H]==null)return X[H]==null&&Y[H]==null;const q=Object.keys(X.collation),K=X.collation,Q=Y.collation;for(let z of q)if(T$(K,z)!==T$(Q,z))return!1}else if(!Sh.deepEqual(X[H],Y[H]))return!1}const $=Object.keys(J),W=Object.keys(Y.key);if($.length!==W.length)return!1;for(let H=0;H<$.length;++H){if($[H]!==W[H])return!1;if(!Sh.deepEqual(J[$[H]],Y.key[W[H]]))return!1}return!0}});var yh=R((cI1,fh)=>{var Oz1=function(Z,J){return gh({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:J,indexesType:"schema"})},Sz1=function(Z,J){return gh({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:J,indexesType:"db"})},gh=function({baseModelName:Z,discriminatorMapping:J,indexes:X,indexesType:Y}){const G=J&&J.key,$=J&&J.value;if(!G)return X;if(Boolean(Z))return X.filter((H)=>{const q=xh(H,Y);return q&&q[G]===$});return X.filter((H)=>{const q=xh(H,Y);return!q||!q[G]})},xh=function(Z,J){if(J==="schema"){const X=Z[1];return X&&X.partialFilterExpression}return Z.partialFilterExpression};fh.exports={getRelatedSchemaIndexes:Oz1,getRelatedDBIndexes:Sz1}});var vh=R((lI1,bh)=>{var kz1=function(Z,J,X){let Y=0,G=0,$=null;if(J<=0)throw new Error("Limit must be positive");if(Z.length===0)return X(null,[]);for(let K=0;K<Z.length&&K<J;++K)W();function W(){Z[G+Y](q(G+Y)),++Y}const H=[];function q(K){return(Q,z)=>{if(--Y,++G,$!=null)return;if(Q!=null)return $=Q,X($);if(H[K]=z,G===Z.length)return X(null,H);else if(G+Y<Z.length)W()}}};bh.exports=kz1;/*!
 * ignore
 */});var uh=R((pI1,hh)=>{hh.exports=function Z(J,X,Y){if(X==null)return;for(let G=0;G<X.length;++G)if(Array.isArray(X[G]))Z(J,X[G],Y+"."+G);else J.push(Y+"."+G)}});var ph=R((iI1,lh)=>{var mh=Z0(),dh=p6(),ch=fU();/*!
 * ignore
 */lh.exports=function Z(J,X,Y){const G=ch(mh(X,"select",null),!0)||ch(mh(X,"options.select",null),!0);if(G==null)return;for(let $ of J){if(!G.hasOwnProperty("-"+$))continue;for(let W of Y)if(W.$__!=null)dh.unset($,W._doc);else dh.unset($,W)}}});var nh=R((nI1,ih)=>{/*!
 * Module dependencies.
 */var _z1=h1();class FL extends _z1{constructor(Z,J,X,Y){let G=Z.map(($)=>$.message).join(", ");if(G.length>200)G=G.slice(0,200)+"...";super(`${Y} failed with ${Z.length} Mongoose validation errors: ${G}`);this.validationErrors=Z,this.results=J,this.rawResult=X,this.operation=Y}}Object.defineProperty(FL.prototype,"name",{value:"MongooseBulkWriteError"});/*!
 * exports
 */ih.exports=FL});var tU=R((Uu,Lu)=>{var l=function(Z,J,X){if(J instanceof LL)throw new TypeError("2nd argument to `Model` must be a POJO or string, **not** a schema. Make sure you\'re calling `mongoose.model()`, not `mongoose.Model()`.");u5.call(this,Z,J,X)},Fu=function(Z,J){if(Z.$where==null)return;for(let X of Object.keys(Z.$where))J[X]=Z.$where[X]},FF1=function(Z,J){const X=Z.$__schema.options.versionKey;if(!X)return null;const Y=Z.$__getValue(X)||0;return new Xu(Z,Y,J)},UF1=function(Z,J){const X=Z.$__schema.options.skipVersioning;if(!X)return!1;return J=J.replace(/\.\d+\./,"."),X[J]},v7=function(Z,J,X,Y,G,$){if($||($="$set"),!X[$])X[$]={};if(X[$][Y.path]=G,Z.$__schema.options.versionKey===!1)return;if(UF1(Z,Y.path))return;if(NZ===(NZ&Z.$__.version))return;if(Z.$__schema.options.optimisticConcurrency)return;switch($){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}if($==="$push"||$==="$addToSet"||$==="$pullAll"||$==="$pull")if(/\.\d+\.|\.\d+$/.test(Y.path))S$.call(Z);else Z.$__.version=2;else if(/^\$p/.test($))S$.call(Z);else if(Array.isArray(G))S$.call(Z);else if(/\.\d+\.|\.\d+$/.test(Y.path))Z.$__.version=1},LF1=function(Z,J,X,Y,G){if(X.$set&&X.$set[Y.path])return;if(typeof G.$__getAtomics==="function"){G.$__getAtomics().forEach(function(z){const F=z[0],U=z[1];v7(Z,J,X,Y,U,F)});return}const $=G[BL],W=Object.keys($);let H=W.length,q,K;if(H===0){if(_1.isMongooseObject(G))G=G.toObject({depopulate:1,_isNested:!0});else if(G.valueOf)G=G.valueOf();return v7(Z,J,X,Y,G)}function Q(z){return _1.isMongooseObject(z)?z.toObject({depopulate:1,_isNested:!0}):z}while(H--){if(K=W[H],q=$[K],_1.isMongooseObject(q))q=q.toObject({depopulate:!0,transform:!1,_isNested:!0});else if(Array.isArray(q))q=q.map(Q);else if(q.valueOf)q=q.valueOf();if(K==="$addToSet")q={$each:q};v7(Z,J,X,Y,q,K)}},VF1=function(Z,J,X){const Y=Z.$populated(J,!0);if(!Y&&Z.$__.selected){const $=J.split(".")[0];if(Z.$__.selected[$+".$"])return $}if(!(Y&&_1.isMongooseArray(X)))return;if(Y.options.match||Y.options.options&&_1.object.hasOwnProperty(Y.options.options,"limit")||Y.options.options&&Y.options.options.skip||Y.options.select&&(Y.options.select._id===0||/\s?-_id\s?/.test(Y.options.select))){const $=X[BL];if(Object.keys($).length===0||$.$set||$.$pop)return J}},S$=function(){return this.$__.version=NZ,this},B1=function(Z,J){if(Z==null||Z===global)throw new Q1("`Model."+J+"()` cannot run without a model as `this`. Make sure you are calling `MyModel."+J+"()` where `MyModel` is a Mongoose model.");else if(Z[zu]==null)throw new Q1("`Model."+J+"()` cannot run without a model as `this`. Make sure you are not calling `new Model."+J+"()`")},RF1=function(Z,J,X,Y){const G=[];for(let[$,W]of J){let H=!1;const q=AL(Z,V4(W));for(let K of X){if(wL(K))continue;if(qu($,q,K)&&!Y.includes(K.name)){H=!0;break}}if(!H)G.push($)}return G},wF1=function(Z,J,X){const Y=[];for(let G of X){let $=!1;if(wL(G))continue;for(let[W,H]of J){const q=AL(Z,V4(H));if(Gu(W,q,Z.options),qu(W,q,G)){$=!0;break}}if(!$)Y.push(G.name)}return Y};async function Zu(Z,J){if(Z.length===0)return[];return await Promise.all(Z.map((X)=>J.dropIndex(X))),Z}var AF1=function(Z,J,X){const Y=Z.schema.indexes();let G;J=J||{};const $=function(z){if(z&&!Z.$caught)Z.emit("error",z);Z.emit("index",z||G),X&&X(z||G)};for(let z of Y)if(wL(z))_1.warn('mongoose: Cannot specify a custom index on `_id` for model name "'+Z.modelName+'", MongoDB does not allow overwriting the default `_id` index. See https://bit.ly/mongodb-id-index');if(!Y.length){k3(function(){$()});return}const W=function(z,F,U,L){Z.emit("index-single-done",z,F,U,L)},H=function(z,F){Z.emit("index-single-start",z,F)},q=Z.schema._baseSchema,K=q?q.indexes():[];k3(function(){if(J._automatic&&!Z.collection.collection)Z.collection.addQueue(Q,[]);else Q()});function Q(){if(J._automatic){if(Z.schema.options.autoIndex===!1||Z.schema.options.autoIndex==null&&Z.db.config.autoIndex===!1)return $()}const z=Y.shift();if(!z)return $();if(J._automatic&&z[1]._autoIndex===!1)return Q();if(K.find((L)=>_1.deepEqual(L,z)))return Q();const F=V4(z[0]),U=V4(z[1]);if(delete U._autoIndex,AL(Z.schema,U),Wu(Z.schema,U),Gu(F,U,Z.schema.options),H(F,J),"background"in J)U.background=J.background;if("toCreate"in J){if(J.toCreate.length===0)return $()}Z.collection.createIndex(F,U).then((L)=>{W(null,F,U,L),Q()},(L)=>{if(!G)G=L;if(!Z.$caught)Z.emit("error",L);W(L,F,U),Q()})}},IZ=function(Z,J){Z.$isNew=J,Z.$emit("isNew",J),Z.constructor.emit("isNew",J);const X=Z.$getAllSubdocs();for(let Y of X)Y.$isNew=J,Y.$emit("isNew",J)},BF1=function(Z){return new Promise((J,X)=>{Z.schema.s.hooks.execPre("save",Z,(Y)=>{if(Y){X(Y);return}J()})})},MF1=function(Z){return new Promise((J,X)=>{if(Z.$isNew)IZ(Z,!1);Z.$__reset(),Z.schema.s.hooks.execPost("save",Z,[Z],{},(Y)=>{if(Y){X(Y);return}J()})})},NL=function(Z,J,X,Y,G){const $=new Z.Query({},{},Z,Z.collection);if(X instanceof u5)X=X.toObject();else X=V4(X);G=typeof G==="function"?G:V4(G);const W=Z&&Z.schema&&Z.schema.options&&Z.schema.options.versionKey||null;return Hu(Y,G,W),$[J](X,Y,G)},NF1=function(Z,J,X,Y,G){let $=X.length;if(X.length===0)return G(null,J);for(let H of X)CF1(Z,J,H,W);function W(H){if(H)return G(H,null);if(--$)return;G(null,J)}},CF1=function(Z,J,X,Y){const G=X;if(X.strictPopulate==null){if(X._localModel!=null&&X._localModel.schema._userProvidedOptions.strictPopulate!=null)G.strictPopulate=X._localModel.schema._userProvidedOptions.strictPopulate;else if(X._localModel!=null&&Z.base.options.strictPopulate!=null)G.strictPopulate=Z.base.options.strictPopulate;else if(Z.base.options.strictPopulate!=null)G.strictPopulate=Z.base.options.strictPopulate}if(!Array.isArray(J))J=[J];if(J.length===0||J.every(_1.isNullOrUndefined))return Y();const $=ZF1(Z,J,G);if($ instanceof Q1)return k3(function(){Y($)});const W=$.length;let H=[];function q(L){return L!==void 0}let K=W,Q=!1;const z=[];for(let L=0;L<W;++L){const V=$[L];let w=V.options.select,B=_1.array.flatten(V.ids,q);B=_1.array.unique(B);const M={};if(M.sort=V&&V.options&&V.options.options&&V.options.options.sort||void 0,M.excludeId=IF1.test(w)||w&&w._id===0,V.options&&V.options.options&&V.options.options.lean&&V.options.options.lean.transform)V.options.options._leanTransform=V.options.options.lean.transform,V.options.options.lean=!0;if(B.length===0||B.every(_1.isNullOrUndefined)){--K,Ju(Z,[],V,M);continue}if(Q=!0,typeof G.foreignField==="string")V.foreignField.clear(),V.foreignField.add(G.foreignField);const A=sz1(B,V.match,V.foreignField,V.model,V.options.skipInvalidIds);if(M.excludeId)if(typeof w==="string")w=w.replace(DF1," ");else w=_1.object.shallowCopy(w),delete w._id;if(V.options.options&&V.options.options.limit!=null)M.originalLimit=V.options.options.limit;else if(V.options.limit!=null)M.originalLimit=V.options.limit;z.push([V,A,w,M,F])}if(!Q){if($.length!==0)return Y();if(G.populate!=null){const L=_1.populate(G.populate).map((V)=>Object.assign({},V,{path:G.path+"."+V.path}));Z.populate(J,L).then((V)=>{Y(null,V)},(V)=>{Y(V)});return}return Y()}for(let L of z)PF1.apply(null,L);function F(L,V){if(L!=null)return Y(L,null);if(H=H.concat(V),--K===0)U()}function U(){for(let L of z){const V=L[0],w=L[3];for(let B of H)V.options._childDocs.push(B);try{Ju(Z,H,V,w)}catch(B){return Y(B)}}for(let L of z)qF1(L[0].foreignField,L[0].options,H);for(let L of z){const V=L[0];if(V.options&&V.options.options&&V.options.options._leanTransform)for(let w of H)V.options.options._leanTransform(w)}Y()}},PF1=function(Z,J,X,Y,G){let $=V4(Z.options.populate);const W=Object.assign({skip:Z.options.skip,limit:Z.options.limit,perDocumentLimit:Z.options.perDocumentLimit},Z.options.options);if(Z.count)delete W.skip;if(W.perDocumentLimit!=null)W.limit=W.perDocumentLimit,delete W.perDocumentLimit;else if(W.limit!=null)W.limit=W.limit*Z.ids.length;const H=Z.model.find(J,X,W);for(let q of Z.foreignField)if(q!=="_id"&&H.selectedInclusively()&&!YF1(H._fields,q))H.select(q);if(Z.count)for(let q of Z.foreignField)H.select(q);if($){if(Z.model.baseModelName!=null)if(Array.isArray($))$.forEach((K)=>{K.strictPopulate=!1});else if(typeof $==="string")$={path:$,strictPopulate:!1};else $.strictPopulate=!1;const q=Z.options._fullPath||Z.options.path;if(Array.isArray($))for(let K of $)K._fullPath=q+"."+K.path;else if(typeof $==="object")$._fullPath=q+"."+$.path;H.populate($)}H.exec().then((q)=>{for(let K of q)GF1.set(K,Z.model);G(null,q)},(q)=>{G(q)})},Ju=function(Z,J,X,Y){const{options:G,isVirtual:$,justOne:W}=X;let H;const q=G&&G.options&&G.options.lean||!1,K=J.length,Q={},z={};let F,U;const L=V4(X.allIds);for(let V=0;V<K;V++){if(U=J[V],U==null)continue;for(let w of X.foreignField){if(H=_1.getValue(w,U),Array.isArray(H)){H=_1.array.unique(_1.array.flatten(H));for(let B of H){if(B instanceof u5)B=B._id;if(F=String(B),z[F])if(Array.isArray(z[F]))z[F].push(U),Q[F].push(V);else z[F]=[z[F],U],Q[F]=[Q[F],V];else if($&&!W)z[F]=[U],Q[F]=[V];else z[F]=U,Q[F]=V}}else{if(H instanceof u5)H=H._id;if(F=String(H),z[F]){if(Array.isArray(z[F]))z[F].push(U),Q[F].push(V);else if($||z[F].constructor!==U.constructor||String(z[F]._id)!==String(U._id))z[F]=[z[F],U],Q[F]=[Q[F],V]}else z[F]=U,Q[F]=V}if(!q)U.$__.wasPopulated=U.$__.wasPopulated||!0}}nz1({originalModel:Z,rawIds:X.isVirtual?L:X.allIds,allIds:L,unpopulatedValues:X.unpopulatedValues,foreignField:X.foreignField,rawDocs:z,rawOrder:Q,docs:X.docs,path:G.path,options:Y,justOne:X.justOne,isVirtual:X.isVirtual,allOptions:X,populatedModel:X.model,lean:q,virtual:X.virtual,count:X.count,match:X.match})},EF1=function(Z,J){for(let X in J)Z.Query.prototype[X]=J[X]};/*!
 * Module dependencies.
 */var xz1=rU(),gz1=jQ(),u5=S8(),fz1=pY(),yz1=pQ(),UL=import.meta.require("events").EventEmitter,bz1=u9(),vz1=eJ(),Q1=h1(),hz1=uQ(),j$=V$(),uz1=Vv(),LL=e9(),VL=D5(),Xu=yQ(),ah=vQ(),mz1=oY(),dz1=wv(),cz1=IG(),lz1=DG(),Yu=Bv(),pz1=Iv(),Gu=Ev(),iz1=jv(),$u=Sv(),Wu=QU(),nz1=av(),az1=Xh(),V4=W0(),sz1=Wh(),Hu=$L(),rh=qh(),rz1=JG(),tz1=pG(),oz1=Qh(),RL=AF(),S3=Z0(),ez1=j8(),O$=a6(),ZF1=Th(),k3=h8(),k$=z4().internalToObjectOptions,wL=Oh(),qu=_h(),{getRelatedDBIndexes:JF1,getRelatedSchemaIndexes:XF1}=yh(),th=WL(),AL=dz(),YF1=YG(),GF1=C3(),$F1=vh(),WF1=GG(),HF1=nU(),Ku=uh(),qF1=ph(),KF1=LU(),oh=s5(),eh=import.meta.require("util"),_1=X1(),Qu=nh(),QF1=qz(),NZ=1|2,BL=t().arrayAtomicsSymbol,_$=Symbol("mongoose#Model#collection"),ML=Symbol("mongoose#Model#db"),zu=t().modelSymbol,O3=Symbol("mongoose#Model#subclassed"),zF1=Object.assign({},k$,{bson:!0,flattenObjectIds:!1});Object.setPrototypeOf(l.prototype,u5.prototype);l.prototype.$isMongooseModelPrototype=!0;l.prototype.db;l.prototype.collection;l.prototype.$__collection;l.prototype.modelName;l.prototype.$where;l.prototype.baseModelName;l.events;l._middleware;/*!
 * ignore
 *//*!
 * ignore
 */l.prototype.$__handleSave=function(Z,J){const X={};if(Wu(this.$__schema,Z),typeof Z.writeConcern!=="undefined"){if(X.writeConcern={},"w"in Z.writeConcern)X.writeConcern.w=Z.writeConcern.w;if("j"in Z.writeConcern)X.writeConcern.j=Z.writeConcern.j;if("wtimeout"in Z.writeConcern)X.writeConcern.wtimeout=Z.writeConcern.wtimeout}else{if("w"in Z)X.w=Z.w;if("j"in Z)X.j=Z.j;if("wtimeout"in Z)X.wtimeout=Z.wtimeout}if("checkKeys"in Z)X.checkKeys=Z.checkKeys;const Y=this.$session();if(!X.hasOwnProperty("session")&&Y!=null)X.session=Y;if(this.$isNew){const W=this.toObject(zF1);if((W||{})._id===void 0){k3(function(){J(new Q1("document must have an _id before saving"))});return}this.$__version(!0,W),this[_$].insertOne(W,X).then((H)=>J(null,H),(H)=>{IZ(this,!0),J(H,null)}),this.$__reset(),IZ(this,!1),this.$__.inserting=!0;return}this.$__.inserting=!1;const G=this.$__delta();if(G){if(G instanceof Q1){J(G);return}const W=this.$__where(G[0]);if(W instanceof Q1){J(W);return}Fu(this,W);const H=G[1];if(this.$__schema.options.minimize){if(QF1(H),Object.keys(H).length===0){$.call(this);return}}this[_$].updateOne(W,H,X).then((q)=>{q.$where=W,J(null,q)},(q)=>{this.$__undoReset(),J(q)})}else{$.call(this);return}this.$__.modifiedPaths=this.modifiedPaths(),this.$__reset(),IZ(this,!1);function $(){const W=Object.assign({},Z,X),H=this.$__where(),q=this.$__schema.options.optimisticConcurrency;if(q&&!Array.isArray(q)){const K=this.$__schema.options.versionKey,Q=this.$__getValue(K);if(Q!=null)H[K]=Q}this.constructor.collection.findOne(H,W).then((K)=>{J(null,{$where:H,matchedCount:!K?0:1})}).catch(J)}};/*!
 * ignore
 */l.prototype.$__save=function(Z,J){this.$__handleSave(Z,(X,Y)=>{if(X)return this.$__schema.s.hooks.execPost("save:error",this,[this],{error:X},(H)=>{J(H,this)});let G=0;if((Z!=null?Z.writeConcern!=null?Z.writeConcern.w:Z.w:0)!==0){if(Y!=null)if(Array.isArray(Y))G=Y.length;else if(Y.matchedCount!=null)G=Y.matchedCount;else G=Y;if(this.$__.version&&!this.$__.inserting){const H=(2&this.$__.version)===2;this.$__.version=void 0;const q=this.$__schema.options.versionKey,K=this.$__getValue(q)||0;if(G<=0){this.$__undoReset();const Q=this.$__.$versionError||new Xu(this,K,this.$__.modifiedPaths);return J(Q)}if(H)this.$__setValue(q,K+1)}if(Y!=null&&G<=0)return this.$__undoReset(),X=new fz1(Y.$where,this.constructor.modelName,G,Y),this.$__schema.s.hooks.execPost("save:error",this,[this],{error:X},(q)=>{J(q,this)})}this.$__.saving=void 0,this.$__.savedState={},this.$emit("save",this,G),this.constructor.emit("save",this,G),J(null,this)})};/*!
 * ignore
 */l.prototype.save=async function Z(J){if(typeof J==="function"||typeof arguments[1]==="function")throw new Q1("Model.prototype.save() no longer accepts a callback");let X;if(this.$op="save",this.$__.saving)X=new ah(this);else this.$__.saving=new ah(this);if(J=new uz1(J),J.hasOwnProperty("session"))this.$session(J.session);if(this.$__.timestamps!=null)J.timestamps=this.$__.timestamps;if(this.$__.$versionError=FF1(this,this.modifiedPaths()),X)throw this.$__handleReject(X),X;return this.$__.saveOptions=J,await new Promise((Y,G)=>{this.$__save(J,($)=>{if(this.$__.saving=null,this.$__.saveOptions=null,this.$__.$versionError=null,this.$op=null,$!=null)return this.$__handleReject($),G($);Y()})}),this};l.prototype.$save=l.prototype.save;l.prototype.$__delta=function(){const Z=this.$__dirty(),J=this.$__schema.options.optimisticConcurrency;if(J)if(Array.isArray(J)){const H=new Set(J);if(this.modifiedPaths().find((K)=>H.has(K)))this.$__.version=Z.length?NZ:1}else this.$__.version=Z.length?NZ:1;if(!Z.length&&NZ!==this.$__.version)return;const X={},Y={},G=Z.length,$=[];let W=0;if(X._id=this._doc._id,(X&&X._id&&X._id.$__||null)!=null)X._id=X._id.toObject({transform:!1,depopulate:!0});for(;W<G;++W){const H=Z[W];let q=H.value;const K=VF1(this,H.path,q);if(K){$.push(K);continue}if(!this.$populated(H.path,!0)&&this.$__.selected){const z=H.path.split("."),F=z[0];if(this.$__.selected[F]&&this.$__.selected[F].$elemMatch)if(z.length>1&&z[1]==0&&typeof X[F]==="undefined")X[F]=this.$__.selected[F],z[1]="$",H.path=z.join(".");else{$.push(H.path);continue}}if(this.$isDefault(H.path)&&this.$__.selected){if(H.path.indexOf(".")===-1&&th(this.$__.selected,H.path))continue;if(WF1(H.path).find((F)=>th(this.$__.isSelected,F)))continue}if($.length)continue;if(q===void 0)v7(this,X,Y,H,1,"$unset");else if(q===null)v7(this,X,Y,H,null);else if(_1.isMongooseArray(q)&&q.$path()&&q[BL])LF1(this,X,Y,H,q);else if(q[vz1.pathSymbol]&&Buffer.isBuffer(q))q=q.toObject(),v7(this,X,Y,H,q);else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[H.path]!=null){const z=this.$__.primitiveAtomics[H.path],F=oz1(z);v7(this,X,Y,H,z[F],F)}else q=V4(q,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}),v7(this,X,Y,H,q)}if($.length)return new yz1($);if(this.$__.version)this.$__version(X,Y);if(Object.keys(Y).length===0)return[X,null];return[X,Y]};l.prototype.$__version=function(Z,J){const X=this.$__schema.options.versionKey;if(Z===!0){if(X)KF1(J,X,0),this.$__setValue(X,0);return}if(X===!1)return;if(!this.$__isSelected(X))return;if((1&this.$__.version)===1){const Y=this.$__getValue(X);if(Y!=null)Z[X]=Y}if((2&this.$__.version)===2)if(S3(J.$set,X,null)!=null)++J.$set[X];else J.$inc=J.$inc||{},J.$inc[X]=1};/*!
 * ignore
 */l.prototype.increment=S$;l.prototype.$__where=function Z(J){if(J||(J={}),!J._id)J._id=this._doc._id;if(this._doc._id===void 0)return new Q1("No _id found on document!");return J};l.prototype.deleteOne=function Z(J){if(typeof J==="function"||typeof arguments[1]==="function")throw new Q1("Model.prototype.deleteOne() no longer accepts a callback");if(!J)J={};if(J.hasOwnProperty("session"))this.$session(J.session);const X=this,Y=this.$__where();if(Y instanceof Error)throw Y;const G=X.constructor.deleteOne(Y,J);if(this.$session()!=null){if(!("session"in G.options))G.options.session=this.$session()}return G.pre(function $(W){X.constructor._middleware.execPre("deleteOne",X,[X],W)}),G.pre(function $(W){RL(X.$getAllSubdocs(),(H,q)=>{H.constructor._middleware.execPre("deleteOne",H,[H],q)},W)}),G.pre(function $(W){if(X.$__.isDeleted)return W(bz1.skipWrappedFunction());return W()}),G.post(function $(W){RL(X.$getAllSubdocs(),(H,q)=>{H.constructor._middleware.execPost("deleteOne",H,[H],{},q)},W)}),G.post(function $(W){X.constructor._middleware.execPost("deleteOne",X,[X],{},W)}),G};l.prototype.$model=function Z(J){if(arguments.length===0)return this.constructor;return this[ML].model(J)};l.prototype.model=l.prototype.$model;l.exists=function Z(J,X){if(B1(this,"exists"),typeof arguments[2]==="function")throw new Q1("Model.exists() no longer accepts a callback");return this.findOne(J).select({_id:1}).lean().setOptions(X)};l.discriminator=function(Z,J,X){let Y;if(typeof Z==="function"){if(Y=Z,Z=_1.getFunctionName(Y),!(Y.prototype instanceof l))throw new Q1("The provided class "+Z+" must extend Model")}X=X||{};const G=_1.isPOJO(X)?X.value:X,$=typeof X.clone==="boolean"?X.clone:!0,W=typeof X.mergePlugins==="boolean"?X.mergePlugins:!0;if(B1(this,"discriminator"),_1.isObject(J)&&!J.instanceOfSchema)J=new LL(J);if(J instanceof LL&&$)J=J.clone();if(J=tz1(this,Z,J,G,W,X.mergeHooks),this.db.models[Z]&&!J.options.overwriteModels)throw new hz1(Z);J.$isRootDiscriminator=!0,J.$globalPluginsApplied=!0,Y=this.db.model(Y||Z,J,this.$__collection.name),this.discriminators[Z]=Y;const H=this.discriminators[Z];if(Object.setPrototypeOf(H.prototype,this.prototype),Object.defineProperty(H,"baseModelName",{value:this.modelName,configurable:!0,writable:!1}),Yu(H,J),$u(H,J),this[O3]!=null)for(let q of this[O3])q.discriminators=q.discriminators||{},q.discriminators[Z]=Y.__subclass(Y.db,J,q.collection.name);return H};/*!
 * Give the constructor the ability to emit events.
 */for(let Z in UL.prototype)l[Z]=UL.prototype[Z];l.init=function Z(){if(B1(this,"init"),typeof arguments[0]==="function")throw new Q1("Model.init() no longer accepts a callback");if(this.schema.emit("init",this),this.$init!=null)return this.$init;const J=this.db,X=async()=>{if(!_1.getOption("autoIndex",this.schema.options,J.config,J.base.options))return;return await this.ensureIndexes({_automatic:!0})},Y=async()=>{if((J.readyState===oh.connecting||J.readyState===oh.disconnected)&&J._shouldBufferCommands())await new Promise((H)=>{J._queue.push({fn:H})});if(!_1.getOption("autoCreate",this.schema.options,J.config,J.base.options))return;return await this.createCollection()};this.$init=Y().then(()=>X());const G=this.$init.catch,$=this;return this.$init.catch=function(){return $.$caught=!0,G.apply($.$init,arguments)},this.$init};l.createCollection=async function Z(J){if(B1(this,"createCollection"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new Q1("Model.createCollection() no longer accepts a callback");const X=this&&this.schema&&this.schema.options&&this.schema.options.collectionOptions;if(X!=null)J=Object.assign({},X,J);const Y=this&&this.schema&&this.schema.options&&this.schema.options.collation;if(Y!=null)J=Object.assign({collation:Y},J);const G=this&&this.schema&&this.schema.options&&this.schema.options.capped;if(G!=null){if(typeof G==="number")J=Object.assign({capped:!0,size:G},J);else if(typeof G==="object")J=Object.assign({capped:!0},G,J)}const $=this&&this.schema&&this.schema.options&&this.schema.options.timeseries;if($!=null){if(J=Object.assign({timeseries:$},J),J.expireAfterSeconds!=null);else if(J.expires!=null)_1.expires(J);else if(this.schema.options.expireAfterSeconds!=null)J.expireAfterSeconds=this.schema.options.expireAfterSeconds;else if(this.schema.options.expires!=null)J.expires=this.schema.options.expires,_1.expires(J)}const W=this&&this.schema&&this.schema.options&&this.schema.options.clusteredIndex;if(W!=null)J=Object.assign({clusteredIndex:{...W,unique:!0}},J);try{await this.db.createCollection(this.$__collection.collectionName,J)}catch(H){if(H!=null&&(H.name!=="MongoServerError"||H.code!==48))throw H}return this.$__collection};l.syncIndexes=async function Z(J){if(B1(this,"syncIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new Q1("Model.syncIndexes() no longer accepts a callback");const X=this;try{await X.createCollection()}catch($){if($!=null&&($.name!=="MongoServerError"||$.code!==48))throw $}const Y=await X.diffIndexes(),G=await X.cleanIndexes({...J,toDrop:Y.toDrop});return await X.createIndexes({...J,toCreate:Y.toCreate}),G};l.diffIndexes=async function Z(){if(typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new Q1("Model.syncIndexes() no longer accepts a callback");const J=this;let X=await J.listIndexes().catch((H)=>{if(H.codeName=="NamespaceNotFound")return;throw H});if(X===void 0)X=[];X=JF1(J,X);const Y=J.schema,G=XF1(J,Y.indexes()),$=wF1(Y,G,X),W=RF1(Y,G,X,$);return{toDrop:$,toCreate:W}};l.cleanIndexes=async function Z(J){if(B1(this,"cleanIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new Q1("Model.cleanIndexes() no longer accepts a callback");const X=this,Y=X.$__collection;if(Array.isArray(J&&J.toDrop))return await Zu(J.toDrop,Y);const G=await X.diffIndexes();return await Zu(G.toDrop,Y)};l.listIndexes=async function Z(){if(B1(this,"listIndexes"),typeof arguments[0]==="function")throw new Q1("Model.listIndexes() no longer accepts a callback");if(this.$__collection.buffer)await new Promise((J)=>{this.$__collection.addQueue(J)});return this.$__collection.listIndexes().toArray()};l.ensureIndexes=async function Z(J){if(B1(this,"ensureIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new Q1("Model.ensureIndexes() no longer accepts a callback");await new Promise((X,Y)=>{AF1(this,J,(G)=>{if(G!=null)return Y(G);X()})})};l.createIndexes=async function Z(J){if(B1(this,"createIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new Q1("Model.createIndexes() no longer accepts a callback");return this.ensureIndexes(J)};/*!
 * ignore
 */l.schema;l.db;l.collection;l.$__collection;l.base;l.discriminators;l.translateAliases=function Z(J,X){B1(this,"translateAliases");const Y=(G,$)=>{let W;const H=[],q=G.split(".");let K=this.schema;for(let z in q){const F=q[z];if(K&&K.aliases[F]){if(W=K.aliases[F],X&&W in J)throw new Q1(`Provided object has both field "${F}" and its alias "${W}"`);H.push(W)}else W=F,H.push(F);if(K&&K.paths[W])K=K.paths[W].schema;else K=null}const Q=H.join(".");if(J instanceof Map)J.set(Q,$);else J[Q]=$;if(Q!==G)if(J instanceof Map)J.delete(G);else delete J[G];return J};if(typeof J==="object"){if(J instanceof Map)for(let G of new Map(J))J=Y(G[0],G[1]);else for(let G of Object.keys(J))if(J=Y(G,J[G]),G[0]==="$")if(Array.isArray(J[G]))for(let $ in J[G])J[G][$]=this.translateAliases(J[G][$]);else this.translateAliases(J[G]);return J}else return J};l.deleteOne=function Z(J,X){if(B1(this,"deleteOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new Q1("Model.prototype.deleteOne() no longer accepts a callback");const Y=new this.Query({},{},this,this.$__collection);return Y.setOptions(X),Y.deleteOne(J)};l.deleteMany=function Z(J,X){if(B1(this,"deleteMany"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new Q1("Model.deleteMany() no longer accepts a callback");const Y=new this.Query({},{},this,this.$__collection);return Y.setOptions(X),Y.deleteMany(J)};l.find=function Z(J,X,Y){if(B1(this,"find"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new Q1("Model.find() no longer accepts a callback");const G=new this.Query({},{},this,this.$__collection);return G.select(X),G.setOptions(Y),G.find(J)};l.findById=function Z(J,X,Y){if(B1(this,"findById"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new Q1("Model.findById() no longer accepts a callback");if(typeof J==="undefined")J=null;return this.findOne({_id:J},X,Y)};l.findOne=function Z(J,X,Y){if(B1(this,"findOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new Q1("Model.findOne() no longer accepts a callback");const G=new this.Query({},{},this,this.$__collection);return G.select(X),G.setOptions(Y),G.findOne(J)};l.estimatedDocumentCount=function Z(J){return B1(this,"estimatedDocumentCount"),new this.Query({},{},this,this.$__collection).estimatedDocumentCount(J)};l.countDocuments=function Z(J,X){if(B1(this,"countDocuments"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new Q1("Model.countDocuments() no longer accepts a callback");const Y=new this.Query({},{},this,this.$__collection);if(X!=null)Y.setOptions(X);return Y.countDocuments(J)};l.distinct=function Z(J,X){if(B1(this,"distinct"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new Q1("Model.distinct() no longer accepts a callback");return new this.Query({},{},this,this.$__collection).distinct(J,X)};l.where=function Z(J,X){B1(this,"where");const Y=new this.Query({},{},this,this.$__collection).find({});return Y.where.apply(Y,arguments)};l.$where=function Z(){B1(this,"$where");const J=new this.Query({},{},this,this.$__collection).find({});return J.$where.apply(J,arguments)};l.findOneAndUpdate=function(Z,J,X){if(B1(this,"findOneAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new Q1("Model.findOneAndUpdate() no longer accepts a callback");if(arguments.length===1)J=Z,Z=null,X=null;let Y;if(X)Y=X.fields||X.projection;J=V4(J,{depopulate:!0,_isNested:!0}),Hu(J,X,this.schema.options.versionKey);const G=new this.Query({},{},this,this.$__collection);return G.select(Y),G.findOneAndUpdate(Z,J,X)};l.findByIdAndUpdate=function(Z,J,X){if(B1(this,"findByIdAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new Q1("Model.findByIdAndUpdate() no longer accepts a callback");if(Z instanceof u5)Z=Z._id;return this.findOneAndUpdate.call(this,{_id:Z},J,X)};l.findOneAndDelete=function(Z,J){if(B1(this,"findOneAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new Q1("Model.findOneAndDelete() no longer accepts a callback");let X;if(J)X=J.select,J.select=void 0;const Y=new this.Query({},{},this,this.$__collection);return Y.select(X),Y.findOneAndDelete(Z,J)};l.findByIdAndDelete=function(Z,J){if(B1(this,"findByIdAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new Q1("Model.findByIdAndDelete() no longer accepts a callback");return this.findOneAndDelete({_id:Z},J)};l.findOneAndReplace=function(Z,J,X){if(B1(this,"findOneAndReplace"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new Q1("Model.findOneAndReplace() no longer accepts a callback");let Y;if(X)Y=X.select,X.select=void 0;const G=new this.Query({},{},this,this.$__collection);return G.select(Y),G.findOneAndReplace(Z,J,X)};l.create=async function Z(J,X){if(typeof X==="function"||typeof arguments[2]==="function")throw new Q1("Model.create() no longer accepts a callback");B1(this,"create");let Y;const G=this.schema.options.discriminatorKey;if(Array.isArray(J))Y=J,X=X!=null&&typeof X==="object"?X:{};else{const H=arguments[arguments.length-1];if(X={},typeof H==="function"||typeof X==="function"||typeof arguments[2]==="function")throw new Q1("Model.create() no longer accepts a callback");else if(Y=[...arguments],Y.length>1&&!H)Y.pop();if(Y.length===2&&Y[0]!=null&&Y[1]!=null&&Y[0].session==null&&H&&ez1(H.session)==="ClientSession"&&!this.schema.path("session"))_1.warn("WARNING: to pass a `session` to `Model.create()` in Mongoose, you **must** pass an array as the first argument. See: https://mongoosejs.com/docs/api/model.html#Model.create()")}if(Y.length===0)return Array.isArray(J)?[]:null;let $=[];const W=typeof X.aggregateErrors==="boolean"?!X.aggregateErrors:!0;if(delete X.aggregateErrors,X.ordered){for(let H=0;H<Y.length;H++)try{const q=Y[H],K=this.discriminators&&q[G]!=null?this.discriminators[q[G]]||O$(this.discriminators,q[G]):this;if(K==null)throw new Q1(`Discriminator "${q[G]}" not `+`found for model "${this.modelName}"`);let Q=q;if(!(Q instanceof K))Q=new K(Q);await Q.$save(X),$.push(Q)}catch(q){if(!W)$.push(q);else throw q}return $}else if(!W)$=await Promise.allSettled(Y.map(async(H)=>{const q=this.discriminators&&H[G]!=null?this.discriminators[H[G]]||O$(this.discriminators,H[G]):this;if(q==null)throw new Q1(`Discriminator "${H[G]}" not `+`found for model "${this.modelName}"`);let K=H;if(!(K instanceof q))K=new q(K);return await K.$save(X),K})),$=$.map((H)=>H.status==="fulfilled"?H.value:H.reason);else{let H=null;if($=await Promise.all(Y.map(async(q)=>{const K=this.discriminators&&q[G]!=null?this.discriminators[q[G]]||O$(this.discriminators,q[G]):this;if(K==null)throw new Q1(`Discriminator "${q[G]}" not `+`found for model "${this.modelName}"`);try{let Q=q;if(!(Q instanceof K))Q=new K(Q);return await Q.$save(X),Q}catch(Q){if(!H)H=Q}})),H)throw H}if(!Array.isArray(J)&&Y.length===1)return $[0];return $};l.watch=function(Z,J){B1(this,"watch");const X=(Y)=>{if(Z=Z||[],HF1(Z,this.schema,"fullDocument"),this.$__collection.buffer)this.$__collection.addQueue(()=>{if(this.closed)return;const G=this.$__collection.watch(Z,J);Y(null,G)});else{const G=this.$__collection.watch(Z,J);Y(null,G)}};return J=J||{},J.model=this,new gz1(X,Z,J)};l.startSession=function(){return B1(this,"startSession"),this.db.startSession.apply(this.db,arguments)};l.insertMany=async function Z(J,X){if(B1(this,"insertMany"),typeof X==="function"||typeof arguments[2]==="function")throw new Q1("Model.insertMany() no longer accepts a callback");return new Promise((Y,G)=>{this.$__insertMany(J,X,($,W)=>{if($!=null)return G($);Y(W)})})};l.$__insertMany=function(Z,J,X){const Y=this;if(typeof J==="function")X=J,J=null;X=X||_1.noop,J=J||{};const G=J.limit||1000,$=!!J.rawResult,W=typeof J.ordered==="boolean"?J.ordered:!0,H=typeof J.throwOnValidationError==="boolean"?J.throwOnValidationError:!1,q=!!J.lean;if(!Array.isArray(Z))Z=[Z];const K=[],Q=new Map,z=W?null:new Array(Z.length),F=Z.map((U,L)=>(V)=>{if(!(U instanceof Y))try{U=new Y(U)}catch(w){return V(w)}if(J.session!=null)U.$session(J.session);if(q)return k3(()=>V(null,U));U.$validate().then(()=>{V(null,U)},(w)=>{if(W===!1)return K.push(w),Q.set(w,L),z[L]=w,V(null,null);V(w)})});$F1(F,G,function(U,L){if(U){X(U,null);return}const V=new Map,w=new Map;for(let A=0;A<L.length;++A)V.set(L[A],A);const B=L.filter(function(A){return A!=null});for(let A=0;A<B.length;++A)w.set(A,V.get(B[A]));if(K.length>0)K.sort((A,I)=>{return Q.get(A)-Q.get(I)});if(B.length===0){if($)return X(null,{acknowledged:!0,insertedCount:0,insertedIds:{},mongoose:{validationErrors:K}});X(null,[]);return}const M=B.map(function(A){if(A.$__schema.options.versionKey)A[A.$__schema.options.versionKey]=0;if((!J||J.timestamps!==!1)&&A.initializeTimestamps&&(!A.$__||A.$__.timestamps!==!1))return A.initializeTimestamps().toObject(k$);return A.toObject(k$)});Y.$__collection.insertMany(M,J).then((A)=>{for(let I of B)I.$__reset(),IZ(I,!1);if(W===!1&&H&&K.length>0){for(let I=0;I<z.length;++I)if(z[I]===void 0)z[I]=L[I];return X(new Qu(K,z,A,"insertMany"))}if($){if(W===!1){for(let I=0;I<z.length;++I)if(z[I]===void 0)z[I]=L[I];A.mongoose={validationErrors:K,results:z}}return X(null,A)}if(J.populate!=null)return Y.populate(B,J.populate).then((I)=>{X(null,I)},(I)=>{if(I!=null)I.insertedDocs=B;throw I});X(null,B)},(A)=>{if(A.writeErrors==null&&(A.result&&A.result.result&&A.result.result.writeErrors)!=null)A.writeErrors=A.result.result.writeErrors;const I=A&&A.writeErrors,m=new Set((A&&A.writeErrors||[]).map((j)=>j.index));if(A.writeErrors!=null)for(let j=0;j<A.writeErrors.length;++j){const E=w.get(A.writeErrors[j].index);if(A.writeErrors[j]={...A.writeErrors[j],index:E},!W)z[E]=A.writeErrors[j]}if(!W){for(let j=0;j<z.length;++j)if(z[j]===void 0)z[j]=L[j];A.results=z}let k=-1;if(A.insertedDocs=B.filter((j,E)=>{const p=!I||m.has(E);if(W){if(k>-1)return E<k;if(p)k=E}return!p}).map(function j(E){return E.$__reset(),IZ(E,!1),E}),$&&W===!1)A.mongoose={validationErrors:K,results:z};X(A,null)})})};/*!
 * ignore
 */l.bulkWrite=async function Z(J,X){if(B1(this,"bulkWrite"),typeof X==="function"||typeof arguments[2]==="function")throw new Q1("Model.bulkWrite() no longer accepts a callback");X=X||{};const Y=X.ordered==null?!0:X.ordered,G=J.map(($)=>az1(this,$,X));return new Promise(($,W)=>{if(Y){RL(G,(F,U)=>F(U),(F)=>{if(F)return W(F);if(J.length===0)return $(rh());try{this.$__collection.bulkWrite(J,X,(U,L)=>{if(U)return W(U);$(L)})}catch(U){return W(U)}});return}let H=G.length,q=[],K=[];const Q=[];if(H===0)z.call(this);else for(let F=0;F<G.length;++F)G[F]((U)=>{if(U==null)q.push(F);else K.push({index:F,error:U}),Q[F]=U;if(--H<=0)z.call(this)});K=K.sort((F,U)=>F.index-U.index).map((F)=>F.error);function z(){const F=q;if(q=q.sort().map((U)=>J[U]),q.length===0)return $(rh());this.$__collection.bulkWrite(q,X,(U,L)=>{if(U){if(K.length>0)U.mongoose=U.mongoose||{},U.mongoose.validationErrors=K;return W(U)}for(let V=0;V<F.length;++V)Q[F[V]]=null;if(K.length>0)if(X.throwOnValidationError)return W(new Qu(K,Q,L,"bulkWrite"));else L.mongoose=L.mongoose||{},L.mongoose.validationErrors=K,L.mongoose.results=Q;$(L)})}})};l.bulkSave=async function Z(J,X){if(X=X||{},X.timestamps!=null)for(let W of J)W.$__.saveOptions=W.$__.saveOptions||{},W.$__.saveOptions.timestamps=X.timestamps;else for(let W of J)if(W.$__.timestamps!=null)W.$__.saveOptions=W.$__.saveOptions||{},W.$__.saveOptions.timestamps=W.$__.timestamps;await Promise.all(J.map(BF1));const Y=this.buildBulkWriteOperations(J,{skipValidation:!0,timestamps:X.timestamps}),{bulkWriteResult:G,bulkWriteError:$}=await this.bulkWrite(Y,X).then((W)=>({bulkWriteResult:W,bulkWriteError:null}),(W)=>({bulkWriteResult:null,bulkWriteError:W}));if(await Promise.all(J.map(async(W)=>{if(($&&$.writeErrors.find((q)=>{return(q.err.op._id||q.err.op.q._id).toString()===W._id.toString()}))==null)await MF1(W)})),$&&$.writeErrors&&$.writeErrors.length)throw $;return G};l.applyDefaults=function Z(J){if(J.$__!=null){mz1(J,J.$__.fields,J.$__.exclude);for(let X of J.$getAllSubdocs())Z(X,X.$__.fields,X.$__.exclude);return J}return dz1(J,this.schema),J};l.castObject=function Z(J,X){X=X||{};const Y={},G=this.schema,$=Object.keys(G.paths);for(let H of $){const q=G.path(H);if(!q||!q.$isMongooseArray)continue;const K=S3(J,H);Ku($,K,H)}let W=null;for(let H of $){const q=G.path(H);if(q==null)continue;let K=S3(J,H,void 0);if(K==null)continue;const Q=H.indexOf(".")===-1?[H]:H.split(".");let z=Y;for(let F=0;F<Q.length-1;++F){if(z[Q[F]]==null)z[Q[F]]=isNaN(Q[F+1])?{}:[];z=z[Q[F]]}if(q.$isMongooseDocumentArray)continue;if(q.$isSingleNested||q.$isMongooseDocumentArrayElement){try{K=l.castObject.call(q.caster,K)}catch(F){if(!X.ignoreCastErrors)W=W||new VL,W.addError(H,F);continue}z[Q[Q.length-1]]=K;continue}try{K=q.cast(K),z[Q[Q.length-1]]=K}catch(F){if(!X.ignoreCastErrors)W=W||new VL,W.addError(H,F);continue}}if(W!=null)throw W;return Y};l.buildBulkWriteOperations=function Z(J,X){if(!Array.isArray(J))throw new Error(`bulkSave expects an array of documents to be passed, received \`${J}\` instead`);$();const Y=this.schema.options.discriminatorKey;return J.reduce((W,H,q)=>{if(!X.skipValidation){if(!(H instanceof u5))throw new Error(`documents.${q} was not a mongoose document, documents must be an array of mongoose documents (instanceof mongoose.Document).`);const F=H.validateSync();if(F)throw F}if(H.isNew){const F={insertOne:{document:H}};return _1.injectTimestampsOption(F.insertOne,X.timestamps),W.push(F),W}const Q=H.$__delta();if(Q!=null&&!_1.isEmptyObject(Q[0])){const F=H.$__where(Q[0]),U=Q[1];if(Fu(H,F),H[Y]!=null&&!(Y in F))F[Y]=H[Y];H.$__version(F,Q);const L={updateOne:{filter:F,update:U}};return _1.injectTimestampsOption(L.updateOne,X.timestamps),W.push(L),W}return W},[]);function $(){if(X=X||{},X.skipValidation==null)X.skipValidation=!1}};l.hydrate=function(Z,J,X){if(B1(this,"hydrate"),J!=null){if(Z!=null&&Z.$__!=null)Z=Z.toObject(k$);Z=pz1(Z,J)}const Y=r9().createModel(this,Z,J);return Y.$init(Z,X),Y};l.updateMany=function Z(J,X,Y){return B1(this,"updateMany"),NL(this,"updateMany",J,X,Y)};l.updateOne=function Z(J,X,Y){return B1(this,"updateOne"),NL(this,"updateOne",J,X,Y)};l.replaceOne=function Z(J,X,Y){B1(this,"replaceOne");const G=this&&this.schema&&this.schema.options&&this.schema.options.versionKey||null;if(G&&!X[G])X[G]=0;return NL(this,"replaceOne",J,X,Y)};l.aggregate=function Z(J,X){if(B1(this,"aggregate"),typeof X==="function"||typeof arguments[2]==="function")throw new Q1("Model.aggregate() no longer accepts a callback");const Y=new xz1(J||[]);if(Y.model(this),X!=null)Y.option(X);if(typeof callback==="undefined")return Y;return Y};l.validate=async function Z(J,X,Y){if(arguments.length<3||arguments.length===3&&typeof arguments[2]==="function")Y=J;if(typeof Y==="function"||typeof arguments[3]==="function")throw new Q1("Model.validate() no longer accepts a callback");let G=this.schema;const $=G.options.discriminatorKey;if(G.discriminators!=null&&J!=null&&J[$]!=null)G=rz1(G,J[$])||G;let W=Object.keys(G.paths);if(X!=null){const K=typeof X==="string"?new Set(X.split(" ")):Array.isArray(X)?new Set(X):new Set(W);W=W.filter((Q)=>{if(X.pathsToSkip){if(Array.isArray(X.pathsToSkip)){if(X.pathsToSkip.find((U)=>U==Q))return!1}else if(typeof X.pathsToSkip=="string"){if(X.pathsToSkip.includes(Q))return!1}}const z=Q.split(".");let F=z[0];for(let U of z){if(K.has(F))return!0;F+="."+U}return K.has(Q)})}for(let K of W){const Q=G.path(K);if(!Q||!Q.$isMongooseArray||Q.$isMongooseDocumentArray)continue;const z=S3(J,K);Ku(W,z,K)}let H=null;W=new Set(W);try{J=this.castObject(J)}catch(K){H=K;for(let Q of Object.keys(H.errors||{}))W.delete(Q)}let q=W.size;return new Promise((K,Q)=>{for(let F of W){const U=G.path(F);if(U==null){z();continue}const L=F.indexOf(".")===-1?[F]:F.split(".");let V=J;for(let B=0;B<L.length-1;++B)V=V[L[B]];const w=S3(J,F,void 0);U.doValidate(w,(B)=>{if(B)H=H||new VL,H.addError(F,B);z()},Y,{path:F})}function z(){if(--q<=0)if(H)Q(H);else K(J)}})};l.populate=async function Z(J,X){if(B1(this,"populate"),typeof X==="function"||typeof arguments[2]==="function")throw new Q1("Model.populate() no longer accepts a callback");const Y=this;X=_1.populate(X);const G={};return new Promise(($,W)=>{NF1(Y,J,X,G,(H,q)=>{if(H)return W(H);$(q)})})};/*!
 * Populates `docs`
 */var IF1=/\s?-_id\s?/,DF1=/\s?-_id\s?/g;/*!
 * ignore
 *//*!
 * ignore
 */l.compile=function Z(J,X,Y,G,$){if(X.options.versionKey!==!1&&!X.paths[X.options.versionKey]){const z={};z[X.options.versionKey]=Number,X.add(z)}let H;if(typeof J==="function"&&J.prototype instanceof l)H=J,J=H.name,X.loadClass(H,!1),H.prototype.$isMongooseModelPrototype=!0;else H=function z(F,U,L){if(z.hooks.execPreSync("createModel",F),!(this instanceof z))return new z(F,U,L);const V=z.schema.options.discriminatorKey;if(z.discriminators==null||F==null||F[V]==null){l.call(this,F,U,L);return}const w=z.discriminators[F[V]]||O$(z.discriminators,F[V]);if(w!=null)return new w(F,U,L);l.call(this,F,U,L)};if(H.hooks=X.s.hooks.clone(),H.base=$,H.modelName=J,!(H.prototype instanceof l))Object.setPrototypeOf(H,l),Object.setPrototypeOf(H.prototype,l.prototype);H.model=function z(F){return this.db.model(F)},H.db=G,H.prototype.db=G,H.prototype[ML]=G,H.discriminators=H.prototype.discriminators=void 0,H[zu]=!0,H.events=new UL,X._preCompile();const K={schemaUserProvidedOptions:X._userProvidedOptions||{},capped:X.options.capped,Promise:H.base.Promise,modelName:J};if(X.options.autoCreate!==void 0)K.autoCreate=X.options.autoCreate;const Q=G.collection(Y,K);return H.prototype.collection=Q,H.prototype.$collection=Q,H.prototype[_$]=Q,H.prototype.$__setSchema(X),Yu(H,X),$u(H,X),lz1(H,X),iz1(H,X.s.hooks,X.statics),H.schema=H.prototype.$__schema,H.collection=Q,H.$__collection=Q,H.Query=function(){j$.apply(this,arguments)},Object.setPrototypeOf(H.Query.prototype,j$.prototype),H.Query.base=j$.base,H.Query.prototype.constructor=j$,cz1(H.Query,H),EF1(H,X.query),H};l.__subclass=function Z(J,X,Y){const G=this,$=function Q(z,F,U){if(!(this instanceof Q))return new Q(z,F,U);G.call(this,z,F,U)};if(Object.setPrototypeOf($,G),Object.setPrototypeOf($.prototype,G.prototype),$.db=J,$.prototype.db=J,$.prototype[ML]=J,G[O3]=G[O3]||[],G[O3].push($),G.discriminators!=null){$.discriminators={};for(let Q of Object.keys(G.discriminators))$.discriminators[Q]=G.discriminators[Q].__subclass(G.db,G.discriminators[Q].schema,Y)}const W=X&&typeof X!=="string"?X:G.prototype.$__schema,H=W.options||{},q=W._userProvidedOptions||{};if(!Y)Y=G.prototype.$__schema.get("collection")||_1.toCollectionName(G.modelName,this.base.pluralize());const K={schemaUserProvidedOptions:q,capped:W&&H.capped};return $.prototype.collection=J.collection(Y,K),$.prototype.$collection=$.prototype.collection,$.prototype[_$]=$.prototype.collection,$.collection=$.prototype.collection,$.$__collection=$.collection,$.init().catch(()=>{}),$};l.inspect=function(){return`Model { ${this.modelName} }`};if(eh.inspect.custom)l[eh.inspect.custom]=l.inspect;/*!
 * Module exports.
 */Lu.exports=Uu=l});var Ru=R((_3,Vu)=>{var OF1=function(Z){let J;if(Z=Z.toLowerCase(),!~jF1.indexOf(Z)){if(J=TF1.filter(function(X){return Z.match(X[0])}),J[0])return Z.replace(J[0][0],J[0][1])}return Z};Vu.exports=OF1;_3.pluralization=[[/human$/gi,"humans"],[/(m)an$/gi,"$1en"],[/(pe)rson$/gi,"$1ople"],[/(child)$/gi,"$1ren"],[/^(ox)$/gi,"$1en"],[/(ax|test)is$/gi,"$1es"],[/(octop|vir)us$/gi,"$1i"],[/(alias|status)$/gi,"$1es"],[/(bu)s$/gi,"$1ses"],[/(buffal|tomat|potat)o$/gi,"$1oes"],[/([ti])um$/gi,"$1a"],[/sis$/gi,"ses"],[/(?:([^f])fe|([lr])f)$/gi,"$1$2ves"],[/(hive)$/gi,"$1s"],[/([^aeiouy]|qu)y$/gi,"$1ies"],[/(x|ch|ss|sh)$/gi,"$1es"],[/(matr|vert|ind)ix|ex$/gi,"$1ices"],[/([m|l])ouse$/gi,"$1ice"],[/(kn|w|l)ife$/gi,"$1ives"],[/(quiz)$/gi,"$1zes"],[/^goose$/i,"geese"],[/s$/gi,"s"],[/([^a-z])$/,"$1"],[/$/gi,"s"]];var TF1=_3.pluralization;_3.uncountables=["advice","energy","excretion","digestion","cooperation","health","justice","labour","machinery","equipment","information","pollution","sewage","paper","money","species","series","rain","rice","fish","sheep","moose","deer","news","expertise","status","media"];var jF1=_3.uncountables});var Iu=R((aI1,Nu)=>{/*!
 * Module requirements
 */var Bu=r1(),wu=import.meta.require("util"),Au=xQ();class h7 extends Bu{constructor(){super("");this.errors={}}toString(){return Au(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,J){if(J instanceof h7){const{errors:X}=J;for(let Y of Object.keys(X))this.addError(Y,X[Y]);return}this.errors[Z]=J,this.message=Au(this)}}if(wu.inspect.custom)h7.prototype[wu.inspect.custom]=h7.prototype.inspect;Object.defineProperty(h7.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(h7.prototype,"name",{value:"SetOptionError"});class Mu extends Bu{constructor(Z){super(`"${Z}" is not a valid option to set`)}}h7.SetOptionInnerError=Mu;/*!
 * Module exports
 */Nu.exports=h7});var Cu=R(()=>{var Du=X1();if(typeof jest!=="undefined"&&!process.env.SUPPRESS_JEST_WARNINGS){if(typeof window!=="undefined")Du.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s default jsdom test environment. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.");if(setTimeout.clock!=null&&typeof setTimeout.clock.Date==="function")Du.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s mock timers enabled. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.")}});var Su=R((ju,Ou)=>{var P6=function(Z,J,X,Y,G){if(!(this instanceof P6))return new P6(Z,J,X,Y,G);if(gF1(J)&&!J.instanceOfSchema)J=new SF1(J);if(J=this.schema||J,!this.schema&&J.options._id){if(Z=Z||{},Z._id===void 0)Z._id=new kF1}if(!J)throw new Tu.MissingSchemaError;this.$__setSchema(J),Pu.call(this,Z,X,Y,G),xF1(this,J,{decorateDoc:!0});for(let $ in J.methods)this[$]=J.methods[$];for(let $ in J.statics)this[$]=J.statics[$]};/*!
 * Module dependencies.
 */var Pu=S8(),Eu=import.meta.require("events").EventEmitter,Tu=h1(),SF1=e9(),kF1=B4(),_F1=Tu.ValidationError,xF1=DG(),gF1=e4();/*!
 * Inherit from the NodeJS document
 */P6.prototype=Object.create(Pu.prototype);P6.prototype.constructor=P6;/*!
 * ignore
 */P6.events=new Eu;/*!
 * Browser doc exposes the event emitter API
 */P6.$emitter=new Eu;["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(Z){P6[Z]=function(){return P6.$emitter[Z].apply(P6.$emitter,arguments)}});/*!
 * Module exports.
 */P6.ValidationError=_F1;Ou.exports=ju=P6});var _u=R((tI1,IL)=>{/*!
 * Module dependencies.
 */var fF1=S8(),yF1=Su(),ku=!1;IL.exports=function Z(){if(ku)return yF1;return fF1};/*!
 * ignore
 */IL.exports.setBrowser=function(Z){ku=Z}});var uu=R((vu,hu)=>{var s=function(Z){this.connections=[],this.nextConnectionId=0,this.models={},this.events=new vF1,this.__driver=yu.get(),this.options=Object.assign({pluralization:!0,autoIndex:!0,autoCreate:!0},Z);const J=CL.getOption("createInitialConnection",this.options);if(J==null||J){const X=this.createConnection();X.models=this.models}if(this.options.pluralization)this._pluralize=pF1;if(!Z||!Z[bu]){const X=this;this.Schema=function(){return this.base=X,i4.apply(this,arguments)},this.Schema.prototype=Object.create(i4.prototype),Object.assign(this.Schema,i4),this.Schema.base=this,this.Schema.Types=Object.assign({},i4.Types)}else for(let X of["Schema","model"])this[X]=s.prototype[X];this.Schema.prototype.base=this,Object.defineProperty(this,"plugins",{configurable:!1,enumerable:!0,writable:!1,value:Object.values(lF1).map((X)=>[X,{deduplicate:!0}])})};/*!
 * Module dependencies.
 */var bF1=S8(),vF1=import.meta.require("events").EventEmitter,gu=u9(),i4=e9(),hF1=S0(),x3=Y3(),uF1=uz(),DL=s5(),xu=cf(),mF1=XZ(),dF1=V$(),fu=tU(),cF1=oF(),lF1=NF(),yu=g3(),pF1=Ru(),CL=X1(),iF1=JU(),nF1=GZ(),aF1=rU(),sF1=a5().trusted,rF1=bU(),tF1=B8(),g$=r1(),x$=Iu(),bu=Symbol.for("mongoose:default");Cu();var oF1=/^[0-9A-Fa-f]{24}$/;s.prototype.cast=nF1;s.prototype.STATES=DL;s.prototype.ConnectionStates=DL;s.prototype.driver=yu;s.prototype.setDriver=function Z(J){const X=this instanceof s?this:i0;if(X.__driver===J)return X;if(X.connections&&X.connections.find(($)=>$.readyState!==DL.disconnected))throw new g$("Cannot modify Mongoose driver if a connection is already open. Call `mongoose.disconnect()` before modifying the driver");X.__driver=J;const G=J.Connection;return X.connections=[new G(X)],X.connections[0].models=X.models,X};s.prototype.set=function(Z,J){const X=this instanceof s?this:i0;if(arguments.length===1&&typeof Z!=="object"){if(xu.indexOf(Z)===-1){const $=new x$;throw $.addError(Z,new x$.SetOptionInnerError(Z)),$}return X.options[Z]}let Y={};if(arguments.length===2)Y={[Z]:J};if(arguments.length===1&&typeof Z==="object")Y=Z;let G=void 0;for(let[$,W]of Object.entries(Y)){if(xu.indexOf($)===-1){if(!G)G=new x$;G.addError($,new x$.SetOptionInnerError($));continue}if(X.options[$]=W,$==="objectIdGetter")if(W)Object.defineProperty(i0.Types.ObjectId.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});else delete i0.Types.ObjectId.prototype._id}if(G)throw G;return X};s.prototype.get=s.prototype.set;s.prototype.createConnection=function(Z,J){const X=this instanceof s?this:i0,G=new X.__driver.Connection(X);if(X.connections.push(G),X.nextConnectionId++,X.events.emit("createConnection",G),arguments.length>0)G.openUri(Z,{...J,_fireAndForget:!0});return G};s.prototype.connect=async function Z(J,X){if(typeof X==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new g$("Mongoose.prototype.connect() no longer accepts a callback");const Y=this instanceof s?this:i0;return Y.connection.openUri(J,X).then(()=>Y)};s.prototype.disconnect=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new g$("Mongoose.prototype.disconnect() no longer accepts a callback");const J=this instanceof s?this:i0;if(J.connections.length<=0)return;await Promise.all(J.connections.map((Y)=>Y.close()))};s.prototype.startSession=function(){const Z=this instanceof s?this:i0;return Z.connection.startSession.apply(Z.connection,arguments)};s.prototype.pluralize=function(Z){const J=this instanceof s?this:i0;if(arguments.length>0)J._pluralize=Z;return J._pluralize};s.prototype.model=function(Z,J,X,Y){const G=this instanceof s?this:i0;if(typeof J==="string")X=J,J=!1;if(arguments.length===1){const q=G.models[Z];if(!q)throw new g$.MissingSchemaError(Z);return q}if(CL.isObject(J)&&!(J instanceof i4))J=new i4(J);if(J&&!(J instanceof i4))throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");Y=Y||{};const $=J;if(J){if(G.get("cloneSchemas"))J=J.clone();G._applyPlugins(J)}const W=G.options.hasOwnProperty("overwriteModels")?G.options.overwriteModels:Y.overwriteModels;if(G.models.hasOwnProperty(Z)&&Y.cache!==!1&&W!==!0){if($&&$.instanceOfSchema&&$!==G.models[Z].schema)throw new G.Error.OverwriteModelError(Z);if(X&&X!==G.models[Z].collection.name){const q=G.models[Z];return J=q.prototype.schema,q.__subclass(G.connection,J,X)}return G.models[Z]}if(J==null)throw new G.Error.MissingSchemaError(Z);const H=G._model(Z,J,X,Y);return G.connection.models[Z]=H,G.models[Z]=H,H};/*!
 * ignore
 */s.prototype._model=function(Z,J,X,Y){const G=this instanceof s?this:i0;let $;if(typeof Z==="function"){if($=Z,Z=$.name,!($.prototype instanceof fu))throw new G.Error("The provided class "+Z+" must extend Model")}if(J){if(G.get("cloneSchemas"))J=J.clone();G._applyPlugins(J)}if(J==null||!("pluralization"in J.options))J.options.pluralization=G.options.pluralization;if(!X)X=J.get("collection")||CL.toCollectionName(Z,G.pluralize());const W=Y.connection||G.connection;if($=G.Model.compile($||Z,J,X,W,G),$.init().catch(function H(){}),W.emit("model",$),J._applyDiscriminators!=null)for(let H of J._applyDiscriminators.keys())$.discriminator(H,J._applyDiscriminators.get(H));return $};s.prototype.deleteModel=function(Z){const J=this instanceof s?this:i0;return J.connection.deleteModel(Z),delete J.models[Z],J};s.prototype.modelNames=function(){const Z=this instanceof s?this:i0;return Object.keys(Z.models)};s.prototype._applyPlugins=function(Z,J){const X=this instanceof s?this:i0;J=J||{},J.applyPluginsToDiscriminators=X.options&&X.options.applyPluginsToDiscriminators||!1,J.applyPluginsToChildSchemas=typeof(X.options&&X.options.applyPluginsToChildSchemas)==="boolean"?X.options.applyPluginsToChildSchemas:!0,cF1(Z,X.plugins,J,"$globalPluginsApplied")};s.prototype.plugin=function(Z,J){const X=this instanceof s?this:i0;return X.plugins.push([Z,J]),X};s.prototype.__defineGetter__("connection",function(){return this.connections[0]});s.prototype.__defineSetter__("connection",function(Z){if(Z instanceof this.__driver.Connection)this.connections[0]=Z,this.models=Z.models});s.prototype.connections;s.prototype.nextConnectionId;s.prototype.Aggregate=aF1;Object.defineProperty(s.prototype,"Collection",{get:function(){return this.__driver.Collection},set:function(Z){this.__driver.Collection=Z}});Object.defineProperty(s.prototype,"Connection",{get:function(){return this.__driver.Connection},set:function(Z){if(Z===this.__driver.Connection)return;this.__driver.Connection=Z}});s.prototype.version=iF1.version;s.prototype.Mongoose=s;s.prototype.Schema=i4;s.prototype.SchemaType=hF1;s.prototype.SchemaTypes=i4.Types;s.prototype.VirtualType=uF1;s.prototype.Types=mF1;s.prototype.Query=dF1;s.prototype.Model=fu;s.prototype.Document=bF1;s.prototype.DocumentProvider=_u();s.prototype.ObjectId=x3.ObjectId;s.prototype.isValidObjectId=function(Z){return(this instanceof s?this:i0).Types.ObjectId.isValid(Z)};s.prototype.isObjectIdOrHexString=function(Z){return tF1(Z,"ObjectId")||typeof Z==="string"&&oF1.test(Z)};s.prototype.syncIndexes=function(Z){return(this instanceof s?this:i0).connection.syncIndexes(Z)};s.prototype.Decimal128=x3.Decimal128;s.prototype.Mixed=x3.Mixed;s.prototype.Date=x3.Date;s.prototype.Number=x3.Number;s.prototype.Error=h1();s.prototype.MongooseError=r1();s.prototype.now=function Z(){return new Date};s.prototype.CastError=z8();s.prototype.SchemaTypeOptions=s8();s.prototype.mquery=gU();s.prototype.sanitizeFilter=rF1;s.prototype.trusted=sF1;s.prototype.skipMiddlewareFunction=gu.skipWrappedFunction;s.prototype.overwriteMiddlewareResult=gu.overwriteResult;var i0=hu.exports=vu=new s({[bu]:!0})});var cu=R((oI1,du)=>{/*!
 * Module dependencies.
 */g3().set(mf());var mu=uu();mu.Mongoose.prototype.mongo=mY();du.exports=mu});var lu=R((eI1,G1)=>{var $1=cu();G1.exports=$1;G1.exports.default=$1;G1.exports.mongoose=$1;G1.exports.cast=$1.cast;G1.exports.STATES=$1.STATES;G1.exports.setDriver=$1.setDriver;G1.exports.set=$1.set;G1.exports.get=$1.get;G1.exports.createConnection=$1.createConnection;G1.exports.connect=$1.connect;G1.exports.disconnect=$1.disconnect;G1.exports.startSession=$1.startSession;G1.exports.pluralize=$1.pluralize;G1.exports.model=$1.model;G1.exports.deleteModel=$1.deleteModel;G1.exports.modelNames=$1.modelNames;G1.exports.plugin=$1.plugin;G1.exports.connections=$1.connections;G1.exports.version=$1.version;G1.exports.Mongoose=$1.Mongoose;G1.exports.Schema=$1.Schema;G1.exports.SchemaType=$1.SchemaType;G1.exports.SchemaTypes=$1.SchemaTypes;G1.exports.VirtualType=$1.VirtualType;G1.exports.Types=$1.Types;G1.exports.Query=$1.Query;G1.exports.Model=$1.Model;G1.exports.Document=$1.Document;G1.exports.ObjectId=$1.ObjectId;G1.exports.isValidObjectId=$1.isValidObjectId;G1.exports.isObjectIdOrHexString=$1.isObjectIdOrHexString;G1.exports.syncIndexes=$1.syncIndexes;G1.exports.Decimal128=$1.Decimal128;G1.exports.Mixed=$1.Mixed;G1.exports.Date=$1.Date;G1.exports.Number=$1.Number;G1.exports.Error=$1.Error;G1.exports.MongooseError=$1.MongooseError;G1.exports.now=$1.now;G1.exports.CastError=$1.CastError;G1.exports.SchemaTypeOptions=$1.SchemaTypeOptions;G1.exports.mongo=$1.mongo;G1.exports.mquery=$1.mquery;G1.exports.sanitizeFilter=$1.sanitizeFilter;G1.exports.trusted=$1.trusted;G1.exports.skipMiddlewareFunction=$1.skipMiddlewareFunction;G1.exports.overwriteMiddlewareResult=$1.overwriteMiddlewareResult});var f$=Xm(lu(),1),eF1=new f$.Schema({username:{type:String,required:!0,unique:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},fullName:{type:String},bio:{type:String},profilePicture:{type:String},createdAt:{type:Date,default:Date.now,required:!0},updatedAt:{type:Date,default:Date.now,required:!0},roles:{type:[String],default:[]},isActive:{type:Boolean,default:!0},socialProfiles:[{platform:{type:String},profileUrl:{type:String}}],address:{street:{type:String},city:{type:String},state:{type:String},country:{type:String},zipCode:{type:String}}}),JD1=f$.default.model("User",eF1);export{JD1 as UserModel};

//# debugId=1ACB272AC7778B8A64756e2164756e21
