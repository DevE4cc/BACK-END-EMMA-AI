// @bun
var o01=Object.create;var{defineProperty:ez,getPrototypeOf:e01,getOwnPropertyNames:Z81}=Object;var Y81=Object.prototype.hasOwnProperty;var ZF=(Z,Y,J)=>{J=Z!=null?o01(e01(Z)):{};const X=Y||!Z||!Z.__esModule?ez(J,"default",{value:Z,enumerable:!0}):J;for(let $ of Z81(Z))if(!Y81.call(X,$))ez(X,$,{get:()=>Z[$],enumerable:!0});return X};var R=(Z,Y)=>()=>(Y||Z((Y={exports:{}}).exports,Y),Y.exports);var S=(Z)=>{return import.meta.require(Z)};var yW=(Z,Y)=>{for(var J in Y)ez(Z,J,{get:Y[J],enumerable:!0,configurable:!0,set:(X)=>Y[J]=()=>X})};var VD=R((bc1,qD)=>{var H71=function(Z){if(Z=String(Z),Z.length>100)return;var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!Y)return;var J=parseFloat(Y[1]),X=(Y[2]||"ms").toLowerCase();switch(X){case"years":case"year":case"yrs":case"yr":case"y":return J*K71;case"weeks":case"week":case"w":return J*Q71;case"days":case"day":case"d":return J*bZ;case"hours":case"hour":case"hrs":case"hr":case"h":return J*NY;case"minutes":case"minute":case"mins":case"min":case"m":return J*AY;case"seconds":case"second":case"secs":case"sec":case"s":return J*BY;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}},z71=function(Z){var Y=Math.abs(Z);if(Y>=bZ)return Math.round(Z/bZ)+"d";if(Y>=NY)return Math.round(Z/NY)+"h";if(Y>=AY)return Math.round(Z/AY)+"m";if(Y>=BY)return Math.round(Z/BY)+"s";return Z+"ms"},F71=function(Z){var Y=Math.abs(Z);if(Y>=bZ)return HG(Z,Y,bZ,"day");if(Y>=NY)return HG(Z,Y,NY,"hour");if(Y>=AY)return HG(Z,Y,AY,"minute");if(Y>=BY)return HG(Z,Y,BY,"second");return Z+" ms"},HG=function(Z,Y,J,X){var $=Y>=J*1.5;return Math.round(Z/J)+" "+X+($?"s":"")},BY=1000,AY=BY*60,NY=AY*60,bZ=NY*24,Q71=bZ*7,K71=bZ*365.25;qD.exports=function(Z,Y){Y=Y||{};var J=typeof Z;if(J==="string"&&Z.length>0)return H71(Z);else if(J==="number"&&isFinite(Z))return Y.long?F71(Z):z71(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var oF=R((vc1,LD)=>{var U71=function(Z){J.debug=J,J.default=J,J.coerce=K,J.disable=W,J.enable=$,J.enabled=G,J.humanize=VD(),J.destroy=H,Object.keys(Z).forEach((z)=>{J[z]=Z[z]}),J.names=[],J.skips=[],J.formatters={};function Y(z){let F=0;for(let U=0;U<z.length;U++)F=(F<<5)-F+z.charCodeAt(U),F|=0;return J.colors[Math.abs(F)%J.colors.length]}J.selectColor=Y;function J(z){let F,U=null,q,V;function L(...w){if(!L.enabled)return;const B=L,A=Number(new Date),M=A-(F||A);if(B.diff=M,B.prev=F,B.curr=A,F=A,w[0]=J.coerce(w[0]),typeof w[0]!=="string")w.unshift("%O");let I=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(j,E)=>{if(j==="%%")return"%";I++;const D=J.formatters[E];if(typeof D==="function"){const l=w[I];j=D.call(B,l),w.splice(I,1),I--}return j}),J.formatArgs.call(B,w),(B.log||J.log).apply(B,w)}if(L.namespace=z,L.useColors=J.useColors(),L.color=J.selectColor(z),L.extend=X,L.destroy=J.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(U!==null)return U;if(q!==J.namespaces)q=J.namespaces,V=J.enabled(z);return V},set:(w)=>{U=w}}),typeof J.init==="function")J.init(L);return L}function X(z,F){const U=J(this.namespace+(typeof F==="undefined"?":":F)+z);return U.log=this.log,U}function $(z){J.save(z),J.namespaces=z,J.names=[],J.skips=[];let F;const U=(typeof z==="string"?z:"").split(/[\s,]+/),q=U.length;for(F=0;F<q;F++){if(!U[F])continue;if(z=U[F].replace(/\*/g,".*?"),z[0]==="-")J.skips.push(new RegExp("^"+z.slice(1)+"$"));else J.names.push(new RegExp("^"+z+"$"))}}function W(){const z=[...J.names.map(Q),...J.skips.map(Q).map((F)=>"-"+F)].join(",");return J.enable(""),z}function G(z){if(z[z.length-1]==="*")return!0;let F,U;for(F=0,U=J.skips.length;F<U;F++)if(J.skips[F].test(z))return!1;for(F=0,U=J.names.length;F<U;F++)if(J.names[F].test(z))return!0;return!1}function Q(z){return z.toString().substring(2,z.toString().length-2).replace(/\.\*\?$/,"*")}function K(z){if(z instanceof Error)return z.stack||z.message;return z}function H(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return J.enable(J.load()),J};LD.exports=U71});var wD=R((RD,FG)=>{var q71=function(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},V71=function(Z){if(Z[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Z[0]+(this.useColors?"%c ":" ")+"+"+RD.humanize(this.diff),!this.useColors)return;const Y="color: "+this.color;Z.splice(1,0,Y,"color: inherit");let J=0,X=0;Z[0].replace(/%[a-zA-Z%]/g,($)=>{if($==="%%")return;if(J++,$==="%c")X=J}),Z.splice(X,0,Y)},L71=function(Z){try{if(Z)RD.storage.setItem("debug",Z);else RD.storage.removeItem("debug")}catch(Y){}},R71=function(){let Z;try{Z=RD.storage.getItem("debug")}catch(Y){}if(!Z&&typeof process!=="undefined"&&"env"in process)Z=process.env.DEBUG;return Z},w71=function(){try{return localStorage}catch(Z){}};RD.formatArgs=V71;RD.save=L71;RD.load=R71;RD.useColors=q71;RD.storage=w71();RD.destroy=(()=>{let Z=!1;return()=>{if(!Z)Z=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();RD.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];RD.log=console.debug||console.log||(()=>{});FG.exports=oF()(RD);var{formatters:M71}=FG.exports;M71.j=function(Z){try{return JSON.stringify(Z)}catch(Y){return"[UnexpectedJSONParseError]: "+Y.message}}});var BD=R((mc1,MD)=>{MD.exports=(Z,Y=process.argv)=>{const J=Z.startsWith("-")?"":Z.length===1?"-":"--",X=Y.indexOf(J+Z),$=Y.indexOf("--");return X!==-1&&($===-1||X<$)}});var ID=R((uc1,ND)=>{var eF=function(Z){if(Z===0)return!1;return{level:Z,hasBasic:!0,has256:Z>=2,has16m:Z>=3}},ZU=function(Z,Y){if(A5===0)return 0;if(d6("color=16m")||d6("color=full")||d6("color=truecolor"))return 3;if(d6("color=256"))return 2;if(Z&&!Y&&A5===void 0)return 0;const J=A5||0;if(a0.TERM==="dumb")return J;if(process.platform==="win32"){const X=C71.release().split(".");if(Number(X[0])>=10&&Number(X[2])>=10586)return Number(X[2])>=14931?3:2;return 1}if("CI"in a0){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((X)=>(X in a0))||a0.CI_NAME==="codeship")return 1;return J}if("TEAMCITY_VERSION"in a0)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a0.TEAMCITY_VERSION)?1:0;if(a0.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in a0){const X=parseInt((a0.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a0.TERM_PROGRAM){case"iTerm.app":return X>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(a0.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a0.TERM))return 1;if("COLORTERM"in a0)return 1;return J},E71=function(Z){const Y=ZU(Z,Z&&Z.isTTY);return eF(Y)},C71=import.meta.require("os"),AD=import.meta.require("tty"),d6=BD(),{env:a0}=process,A5;if(d6("no-color")||d6("no-colors")||d6("color=false")||d6("color=never"))A5=0;else if(d6("color")||d6("colors")||d6("color=true")||d6("color=always"))A5=1;if("FORCE_COLOR"in a0)if(a0.FORCE_COLOR==="true")A5=1;else if(a0.FORCE_COLOR==="false")A5=0;else A5=a0.FORCE_COLOR.length===0?1:Math.min(parseInt(a0.FORCE_COLOR,10),3);ND.exports={supportsColor:E71,stdout:eF(ZU(!0,AD.isatty(1))),stderr:eF(ZU(!0,AD.isatty(2)))}});var CD=R((PD,qG)=>{var O71=function(){return"colors"in PD.inspectOpts?Boolean(PD.inspectOpts.colors):j71.isatty(process.stderr.fd)},S71=function(Z){const{namespace:Y,useColors:J}=this;if(J){const X=this.color,$="\x1B[3"+(X<8?X:"8;5;"+X),W=`  ${$};1m${Y} \x1B[0m`;Z[0]=W+Z[0].split("\n").join("\n"+W),Z.push($+"m+"+PD.humanize(this.diff)+"\x1B[0m")}else Z[0]=k71()+Y+" "+Z[0]},k71=function(){if(PD.inspectOpts.hideDate)return"";return(new Date()).toISOString()+" "},_71=function(...Z){return process.stderr.write(UG.format(...Z)+"\n")},x71=function(Z){if(Z)process.env.DEBUG=Z;else delete process.env.DEBUG},f71=function(){return process.env.DEBUG},y71=function(Z){Z.inspectOpts={};const Y=Object.keys(PD.inspectOpts);for(let J=0;J<Y.length;J++)Z.inspectOpts[Y[J]]=PD.inspectOpts[Y[J]]},j71=import.meta.require("tty"),UG=import.meta.require("util");PD.init=y71;PD.log=_71;PD.formatArgs=S71;PD.save=x71;PD.load=f71;PD.useColors=O71;PD.destroy=UG.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");PD.colors=[6,2,3,4,5,1];try{const Z=ID();if(Z&&(Z.stderr||Z).level>=2)PD.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(Z){}PD.inspectOpts=Object.keys(process.env).filter((Z)=>{return/^debug_/i.test(Z)}).reduce((Z,Y)=>{const J=Y.substring(6).toLowerCase().replace(/_([a-z])/g,($,W)=>{return W.toUpperCase()});let X=process.env[Y];if(/^(yes|on|true|enabled)$/i.test(X))X=!0;else if(/^(no|off|false|disabled)$/i.test(X))X=!1;else if(X==="null")X=null;else X=Number(X);return Z[J]=X,Z},{});qG.exports=oF()(PD);var{formatters:DD}=qG.exports;DD.o=function(Z){return this.inspectOpts.colors=this.useColors,UG.inspect(Z,this.inspectOpts).split("\n").map((Y)=>Y.trim()).join(" ")};DD.O=function(Z){return this.inspectOpts.colors=this.useColors,UG.inspect(Z,this.inspectOpts)}});var dX=R((cc1,YU)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)YU.exports=wD();else YU.exports=CD()});var jD=R((ED)=>{var c71=function(Z){return function(Y,J){return new Promise((X,$)=>{Z.call(this,Y,J,(W,G)=>{if(W)$(W);else X(G)})})}};Object.defineProperty(ED,"__esModule",{value:!0});ED.default=c71});var kD=R((XU,SD)=>{var a71=function(Z){return Boolean(Z)&&typeof Z.addRequest==="function"},JU=function(){const{stack:Z}=new Error;if(typeof Z!=="string")return!1;return Z.split("\n").some((Y)=>Y.indexOf("(https.js:")!==-1||Y.indexOf("node:https:")!==-1)},VG=function(Z,Y){return new VG.Agent(Z,Y)},OD=XU&&XU.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}},l71=import.meta.require("events"),i71=OD(dX()),n71=OD(jD()),cX=i71.default("agent-base");(function(Z){class Y extends l71.EventEmitter{constructor(J,X){super();let $=X;if(typeof J==="function")this.callback=J;else if(J)$=J;if(this.timeout=null,$&&typeof $.timeout==="number")this.timeout=$.timeout;this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){if(typeof this.explicitDefaultPort==="number")return this.explicitDefaultPort;return JU()?443:80}set defaultPort(J){this.explicitDefaultPort=J}get protocol(){if(typeof this.explicitProtocol==="string")return this.explicitProtocol;return JU()?"https:":"http:"}set protocol(J){this.explicitProtocol=J}callback(J,X,$){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(J,X){const $=Object.assign({},X);if(typeof $.secureEndpoint!=="boolean")$.secureEndpoint=JU();if($.host==null)$.host="localhost";if($.port==null)$.port=$.secureEndpoint?443:80;if($.protocol==null)$.protocol=$.secureEndpoint?"https:":"http:";if($.host&&$.path)delete $.path;delete $.agent,delete $.hostname,delete $._defaultAgent,delete $.defaultPort,delete $.createConnection,J._last=!0,J.shouldKeepAlive=!1;let W=!1,G=null;const Q=$.timeout||this.timeout,K=(U)=>{if(J._hadError)return;J.emit("error",U),J._hadError=!0},H=()=>{G=null,W=!0;const U=new Error(`A "socket" was not created for HTTP request before ${Q}ms`);U.code="ETIMEOUT",K(U)},z=(U)=>{if(W)return;if(G!==null)clearTimeout(G),G=null;K(U)},F=(U)=>{if(W)return;if(G!=null)clearTimeout(G),G=null;if(a71(U)){cX("Callback returned another Agent instance %o",U.constructor.name),U.addRequest(J,$);return}if(U){U.once("free",()=>{this.freeSocket(U,$)}),J.onSocket(U);return}const q=new Error(`no Duplex stream was returned to agent-base for \`${J.method} ${J.path}\``);K(q)};if(typeof this.callback!=="function"){K(new Error("`callback` is not defined"));return}if(!this.promisifiedCallback)if(this.callback.length>=3)cX("Converting legacy callback function to promise"),this.promisifiedCallback=n71.default(this.callback);else this.promisifiedCallback=this.callback;if(typeof Q==="number"&&Q>0)G=setTimeout(H,Q);if("port"in $&&typeof $.port!=="number")$.port=Number($.port);try{cX("Resolving socket for %o request: %o",$.protocol,`${J.method} ${J.path}`),Promise.resolve(this.promisifiedCallback(J,$)).then(F,z)}catch(U){Promise.reject(U).catch(z)}}freeSocket(J,X){cX("Freeing socket %o %o",J.constructor.name,X),J.destroy()}destroy(){cX("Destroying agent %o",this.constructor.name)}}Z.Agent=Y,Z.prototype=Z.Agent.prototype})(VG||(VG={}));SD.exports=VG});var _D=R((lX)=>{var t71=function(Z){return new Promise((Y,J)=>{let X=0;const $=[];function W(){const F=Z.read();if(F)z(F);else Z.once("readable",W)}function G(){Z.removeListener("end",K),Z.removeListener("error",H),Z.removeListener("close",Q),Z.removeListener("readable",W)}function Q(F){pX("onclose had error %o",F)}function K(){pX("onend")}function H(F){G(),pX("onerror %o",F),J(F)}function z(F){$.push(F),X+=F.length;const U=Buffer.concat($,X);if(U.indexOf("\r\n\r\n")===-1){pX("have not received end of HTTP headers yet..."),W();return}const V=U.toString("ascii",0,U.indexOf("\r\n")),L=+V.split(" ")[1];pX("got proxy server response: %o",V),Y({statusCode:L,buffered:U})}Z.on("error",H),Z.on("close",Q),Z.on("end",K),W()})},s71=lX&&lX.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(lX,"__esModule",{value:!0});var r71=s71(dX()),pX=r71.default("https-proxy-agent:parse-proxy-response");lX.default=t71});var gD=R((vZ)=>{var $41=function(Z){Z.resume()},W41=function(Z,Y){return Boolean(!Y&&Z===80||Y&&Z===443)},G41=function(Z){return typeof Z==="string"?/^https:?$/i.test(Z):!1},Q41=function(Z,...Y){const J={};let X;for(X in Z)if(!Y.includes(X))J[X]=Z[X];return J},o71=vZ&&vZ.__awaiter||function(Z,Y,J,X){function $(W){return W instanceof J?W:new J(function(G){G(W)})}return new(J||(J=Promise))(function(W,G){function Q(z){try{H(X.next(z))}catch(F){G(F)}}function K(z){try{H(X.throw(z))}catch(F){G(F)}}function H(z){z.done?W(z.value):$(z.value).then(Q,K)}H((X=X.apply(Z,Y||[])).next())})},DY=vZ&&vZ.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(vZ,"__esModule",{value:!0});var xD=DY(import.meta.require("net")),fD=DY(import.meta.require("tls")),e71=DY(import.meta.require("url")),Z41=DY(import.meta.require("assert")),Y41=DY(dX()),J41=kD(),X41=DY(_D()),iX=Y41.default("https-proxy-agent:agent");class yD extends J41.Agent{constructor(Z){let Y;if(typeof Z==="string")Y=e71.default.parse(Z);else Y=Z;if(!Y)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");iX("creating new HttpsProxyAgent instance: %o",Y);super(Y);const J=Object.assign({},Y);if(this.secureProxy=Y.secureProxy||G41(J.protocol),J.host=J.hostname||J.host,typeof J.port==="string")J.port=parseInt(J.port,10);if(!J.port&&J.host)J.port=this.secureProxy?443:80;if(this.secureProxy&&!("ALPNProtocols"in J))J.ALPNProtocols=["http 1.1"];if(J.host&&J.path)delete J.path,delete J.pathname;this.proxy=J}callback(Z,Y){return o71(this,void 0,void 0,function*(){const{proxy:J,secureProxy:X}=this;let $;if(X)iX("Creating `tls.Socket`: %o",J),$=fD.default.connect(J);else iX("Creating `net.Socket`: %o",J),$=xD.default.connect(J);const W=Object.assign({},J.headers);let Q=`CONNECT ${`${Y.host}:${Y.port}`} HTTP/1.1\r\n`;if(J.auth)W["Proxy-Authorization"]=`Basic ${Buffer.from(J.auth).toString("base64")}`;let{host:K,port:H,secureEndpoint:z}=Y;if(!W41(H,z))K+=`:${H}`;W.Host=K,W.Connection="close";for(let L of Object.keys(W))Q+=`${L}: ${W[L]}\r\n`;const F=X41.default($);$.write(`${Q}\r\n`);const{statusCode:U,buffered:q}=yield F;if(U===200){if(Z.once("socket",$41),Y.secureEndpoint){iX("Upgrading socket connection to TLS");const L=Y.servername||Y.host;return fD.default.connect(Object.assign(Object.assign({},Q41(Y,"host","hostname","path","port")),{socket:$,servername:L}))}return $}$.destroy();const V=new xD.default.Socket({writable:!1});return V.readable=!0,Z.once("socket",(L)=>{iX("replaying proxy buffer for failed request"),Z41.default(L.listenerCount("data")>0),L.push(q),L.push(null)}),V})}}vZ.default=yD});var vD=R((GU,bD)=>{var WU=function(Z){return new $U.default(Z)},K41=GU&&GU.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}},$U=K41(gD());(function(Z){Z.HttpsProxyAgent=$U.default,Z.prototype=$U.default.prototype})(WU||(WU={}));bD.exports=WU});var MG=R((V51,wU)=>{/*!
 * ignore
 */var RP=null;V51.get=function(){return RP};V51.set=function(Z){RP=Z}});var i6=R((UZ1)=>{var mU=function(Z){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(Z))},cZ=function(Z){return Object.prototype.toString.call(Z)==="[object Uint8Array]"},TY=function(Z){return Object.prototype.toString.call(Z)==="[object RegExp]"},uU=function(Z){return Object.prototype.toString.call(Z)==="[object Map]"},CY=function(Z){return Object.prototype.toString.call(Z)==="[object Date]"},N6=function(Z,Y){return JSON.stringify(Z,(J,X)=>{if(typeof X==="bigint")return{$numberLong:`${X}`};else if(uU(X))return Object.fromEntries(X);return X})},w51=function(Z){if(Z!=null&&typeof Z==="object"&&"stylize"in Z&&typeof Z.stylize==="function")return Z.stylize},N51=function(Z){return E5.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},D51=function(){const{navigator:Z}=globalThis;return typeof Z==="object"&&Z.product==="ReactNative"},P51=function(Z){if(Z<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${Z}`);return OY.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},nP=function(Z){return Z!=null&&typeof Z==="object"&&"$id"in Z&&Z.$id!=null&&"$ref"in Z&&typeof Z.$ref==="string"&&(!("$db"in Z)||("$db"in Z)&&typeof Z.$db==="string")},EP=function(Z){return!isNaN(parseInt(Z,10))},h51=function(Z){const Y=T.fromNumber(1e9);let J=T.fromNumber(0);if(!Z.parts[0]&&!Z.parts[1]&&!Z.parts[2]&&!Z.parts[3])return{quotient:Z,rem:J};for(let X=0;X<=3;X++)J=J.shiftLeft(32),J=J.add(new T(Z.parts[X],0)),Z.parts[X]=J.div(Y).low,J=J.modulo(Y);return{quotient:Z,rem:J}},m51=function(Z,Y){if(!Z&&!Y)return{high:T.fromNumber(0),low:T.fromNumber(0)};const J=Z.shiftRightUnsigned(32),X=new T(Z.getLowBits(),0),$=Y.shiftRightUnsigned(32),W=new T(Y.getLowBits(),0);let G=J.multiply($),Q=J.multiply(W);const K=X.multiply($);let H=X.multiply(W);return G=G.add(Q.shiftRightUnsigned(32)),Q=new T(Q.getLowBits(),0).add(K).add(H.shiftRightUnsigned(32)),G=G.add(Q.shiftRightUnsigned(32)),H=Q.shiftLeft(32).add(new T(H.getLowBits(),0)),{high:G,low:H}},u51=function(Z,Y){const J=Z.high>>>0,X=Y.high>>>0;if(J<X)return!0;else if(J===X){const $=Z.low>>>0,W=Y.low>>>0;if($<W)return!0}return!1},A7=function(Z,Y){throw new c(`"${Z}" is not a valid Decimal128 string - ${Y}`)},AG=function(Z,Y,J){let X=5;if(Array.isArray(Z))for(let $=0;$<Z.length;$++)X+=jP($.toString(),Z[$],Y,!0,J);else{if(typeof Z?.toBSON==="function")Z=Z.toBSON();for(let $ of Object.keys(Z))X+=jP($,Z[$],Y,!1,J)}return X},jP=function(Z,Y,J=!1,X=!1,$=!1){if(typeof Y?.toBSON==="function")Y=Y.toBSON();switch(typeof Y){case"string":return 1+y.utf8ByteLength(Z)+1+4+y.utf8ByteLength(Y)+1;case"number":if(Math.floor(Y)===Y&&Y>=fP&&Y<=xP)if(Y>=jG&&Y<=EG)return(Z!=null?y.utf8ByteLength(Z)+1:0)+5;else return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;else return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;case"undefined":if(X||!$)return(Z!=null?y.utf8ByteLength(Z)+1:0)+1;return 0;case"boolean":return(Z!=null?y.utf8ByteLength(Z)+1:0)+2;case"object":if(Y!=null&&typeof Y._bsontype==="string"&&Y[Symbol.for("@@mdb.bson.version")]!==pZ)throw new O5;else if(Y==null||Y._bsontype==="MinKey"||Y._bsontype==="MaxKey")return(Z!=null?y.utf8ByteLength(Z)+1:0)+1;else if(Y._bsontype==="ObjectId")return(Z!=null?y.utf8ByteLength(Z)+1:0)+13;else if(Y instanceof Date||CY(Y))return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;else if(ArrayBuffer.isView(Y)||Y instanceof ArrayBuffer||mU(Y))return(Z!=null?y.utf8ByteLength(Z)+1:0)+6+Y.byteLength;else if(Y._bsontype==="Long"||Y._bsontype==="Double"||Y._bsontype==="Timestamp")return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;else if(Y._bsontype==="Decimal128")return(Z!=null?y.utf8ByteLength(Z)+1:0)+17;else if(Y._bsontype==="Code")if(Y.scope!=null&&Object.keys(Y.scope).length>0)return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+4+4+y.utf8ByteLength(Y.code.toString())+1+AG(Y.scope,J,$);else return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+4+y.utf8ByteLength(Y.code.toString())+1;else if(Y._bsontype==="Binary"){const W=Y;if(W.sub_type===x1.SUBTYPE_BYTE_ARRAY)return(Z!=null?y.utf8ByteLength(Z)+1:0)+(W.position+1+4+1+4);else return(Z!=null?y.utf8ByteLength(Z)+1:0)+(W.position+1+4+1)}else if(Y._bsontype==="Symbol")return(Z!=null?y.utf8ByteLength(Z)+1:0)+y.utf8ByteLength(Y.value)+4+1+1;else if(Y._bsontype==="DBRef"){const W=Object.assign({$ref:Y.collection,$id:Y.oid},Y.fields);if(Y.db!=null)W.$db=Y.db;return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+AG(W,J,$)}else if(Y instanceof RegExp||TY(Y))return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+y.utf8ByteLength(Y.source)+1+(Y.global?1:0)+(Y.ignoreCase?1:0)+(Y.multiline?1:0)+1;else if(Y._bsontype==="BSONRegExp")return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+y.utf8ByteLength(Y.pattern)+1+y.utf8ByteLength(Y.options)+1;else return(Z!=null?y.utf8ByteLength(Z)+1:0)+AG(Y,J,$)+1;case"function":if(J)return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+4+y.utf8ByteLength(Y.toString())+1}return 0},c51=function(Z){return Z.split("").sort().join("")},sP=function(Z,Y,J){let X=0;for(let $=Y;$<J;$+=1){const W=Z[$];if(X){if((W&i51)!==e51)return!1;X-=1}else if(W&l51)if((W&n51)===r51)X=1;else if((W&a51)===t51)X=2;else if((W&s51)===o51)X=3;else return!1}return!X},rP=function(Z,Y,J){Y=Y==null?{}:Y;const X=Y&&Y.index?Y.index:0,$=Z[X]|Z[X+1]<<8|Z[X+2]<<16|Z[X+3]<<24;if($<5)throw new c(`bson size must be >= 5, is ${$}`);if(Y.allowObjectSmallerThanBufferSize&&Z.length<$)throw new c(`buffer length ${Z.length} must be >= bson size ${$}`);if(!Y.allowObjectSmallerThanBufferSize&&Z.length!==$)throw new c(`buffer length ${Z.length} must === bson size ${$}`);if($+X>Z.byteLength)throw new c(`(bson size ${$} + options.index ${X} must be <= buffer length ${Z.byteLength})`);if(Z[X+$-1]!==0)throw new c("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return NG(Z,X,Y,J)},NG=function(Z,Y,J,X=!1){const $=J.fieldsAsRaw==null?null:J.fieldsAsRaw,W=J.raw==null?!1:J.raw,G=typeof J.bsonRegExp==="boolean"?J.bsonRegExp:!1,Q=J.promoteBuffers??!1,K=J.promoteLongs??!0,H=J.promoteValues??!0,z=J.useBigInt64??!1;if(z&&!H)throw new c("Must either request bigint or Long for int64 deserialization");if(z&&!K)throw new c("Must either request bigint or Long for int64 deserialization");const F=J.validation==null?{utf8:!0}:J.validation;let U=!0,q;const V=new Set,L=F.utf8;if(typeof L==="boolean")q=L;else{U=!1;const E=Object.keys(L).map(function(D){return L[D]});if(E.length===0)throw new c("UTF-8 validation setting cannot be empty");if(typeof E[0]!=="boolean")throw new c("Invalid UTF-8 validation option, must specify boolean values");if(q=E[0],!E.every((D)=>D===q))throw new c("Invalid UTF-8 validation option - keys must be all true or all false")}if(!U)for(let E of Object.keys(L))V.add(E);const w=Y;if(Z.length<5)throw new c("corrupt bson message < 5 bytes long");const B=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(B<5||B>Z.length)throw new c("corrupt bson message");const A=X?[]:{};let M=0;const I=!1;let x=X?!1:null;const j=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);while(!I){const E=Z[Y++];if(E===0)break;let D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.byteLength)throw new c("Bad BSON Document: illegal CString");const l=X?M++:y.toUTF8(Z,Y,D);let b=!0;if(U||V.has(l))b=q;else b=!q;if(x!==!1&&l[0]==="$")x=JZ1.test(l);let _;if(Y=D+1,E===yP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");_=BG(Z,Y,Y+O-1,b),Y=Y+O}else if(E===bP){const O=y.allocate(12);O.set(Z.subarray(Y,Y+12)),_=new B0(O),Y=Y+12}else if(E===jY&&H===!1)_=new k5(Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24);else if(E===jY)_=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;else if(E===IG&&H===!1)_=new S5(j.getFloat64(Y,!0)),Y=Y+8;else if(E===IG)_=j.getFloat64(Y,!0),Y=Y+8;else if(E===hP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,k=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;_=new Date(new T(O,k).toNumber())}else if(E===vP){if(Z[Y]!==0&&Z[Y]!==1)throw new c("illegal boolean type value");_=Z[Y++]===1}else if(E===dU){const O=Y,k=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24;if(k<=0||k>Z.length-Y)throw new c("bad embedded document length in bson");if(W)_=Z.slice(Y,Y+k);else{let i=J;if(!U)i={...J,validation:{utf8:b}};_=NG(Z,O,i,!1)}Y=Y+k}else if(E===gP){const O=Y,k=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24;let i=J;const T1=Y+k;if($&&$[l])i={...J,raw:!0};if(!U)i={...i,validation:{utf8:b}};if(_=NG(Z,O,i,!0),Y=Y+k,Z[Y-1]!==0)throw new c("invalid array terminator byte");if(Y!==T1)throw new c("corrupted array bson")}else if(E===M51)_=void 0;else if(E===pU)_=null;else if(E===iU){const O=tX.fromUint8Array(Z.subarray(Y,Y+8)),k=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,i=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,T1=new T(k,i);if(z)_=O.getBigInt64(0,!0);else if(K&&H===!0)_=T1.lessThanOrEqual(ZZ1)&&T1.greaterThanOrEqual(YZ1)?T1.toNumber():T1;else _=T1}else if(E===cP){const O=y.allocate(16);O.set(Z.subarray(Y,Y+16),0),Y=Y+16,_=new M8(O)}else if(E===cU){let O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;const k=O,i=Z[Y++];if(O<0)throw new c("Negative binary type element size found");if(O>Z.byteLength)throw new c("Binary type size larger than document size");if(Z.slice!=null){if(i===x1.SUBTYPE_BYTE_ARRAY){if(O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,O<0)throw new c("Negative binary type element size found for subtype 0x02");if(O>k-4)throw new c("Binary type with subtype 0x02 contains too long binary size");if(O<k-4)throw new c("Binary type with subtype 0x02 contains too short binary size")}if(Q&&H)_=y.toLocalBufferType(Z.slice(Y,Y+O));else if(_=new x1(Z.slice(Y,Y+O),i),i===PG&&s0.isValid(_))_=_.toUUID()}else{const T1=y.allocate(O);if(i===x1.SUBTYPE_BYTE_ARRAY){if(O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,O<0)throw new c("Negative binary type element size found for subtype 0x02");if(O>k-4)throw new c("Binary type with subtype 0x02 contains too long binary size");if(O<k-4)throw new c("Binary type with subtype 0x02 contains too short binary size")}for(D=0;D<O;D++)T1[D]=Z[Y+D];if(Q&&H)_=T1;else if(_=new x1(Z.slice(Y,Y+O),i),i===PG&&s0.isValid(_))_=_.toUUID()}Y=Y+O}else if(E===DG&&G===!1){D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const O=y.toUTF8(Z,Y,D);Y=D+1,D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const k=y.toUTF8(Z,Y,D);Y=D+1;const i=new Array(k.length);for(D=0;D<k.length;D++)switch(k[D]){case"m":i[D]="m";break;case"s":i[D]="g";break;case"i":i[D]="i";break}_=new RegExp(O,i.join(""))}else if(E===DG&&G===!0){D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const O=y.toUTF8(Z,Y,D);Y=D+1,D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const k=y.toUTF8(Z,Y,D);Y=D+1,_=new l6(O,k)}else if(E===mP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");const k=BG(Z,Y,Y+O-1,b);_=H?k:new nZ(k),Y=Y+O}else if(E===dP){const O=Z[Y++]+Z[Y++]*(1<<8)+Z[Y++]*(1<<16)+Z[Y++]*(1<<24),k=Z[Y++]+Z[Y++]*(1<<8)+Z[Y++]*(1<<16)+Z[Y++]*(1<<24);_=new p6({i:O,t:k})}else if(E===pP)_=new iZ;else if(E===lP)_=new lZ;else if(E===lU){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");const k=BG(Z,Y,Y+O-1,b);_=new f4(k),Y=Y+O}else if(E===uP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<13)throw new c("code_w_scope total size shorter minimum expected length");const k=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(k<=0||k>Z.length-Y||Z[Y+k-1]!==0)throw new c("bad string length in bson");const i=BG(Z,Y,Y+k-1,b);Y=Y+k;const T1=Y,g=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24,s=NG(Z,T1,J,!1);if(Y=Y+g,O<8+g+k)throw new c("code_w_scope total size is too short, truncating scope");if(O>8+g+k)throw new c("code_w_scope total size is too long, clips outer document");_=new f4(i,s)}else if(E===B51){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");if(F!=null&&F.utf8){if(!sP(Z,Y,Y+O-1))throw new c("Invalid UTF-8 string in BSON document")}const k=y.toUTF8(Z,Y,Y+O-1);Y=Y+O;const i=y.allocate(12);i.set(Z.subarray(Y,Y+12),0);const T1=new B0(i);Y=Y+12,_=new $4(k,T1)}else throw new c(`Detected unknown BSON type ${E.toString(16)} for fieldname "${l}"`);if(l==="__proto__")Object.defineProperty(A,l,{value:_,writable:!0,enumerable:!0,configurable:!0});else A[l]=_}if(B!==Y-w){if(X)throw new c("corrupt array bson");throw new c("corrupt object bson")}if(!x)return A;if(nP(A)){const E=Object.assign({},A);return delete E.$ref,delete E.$id,delete E.$db,new $4(A.$ref,A.$id,A.$db,E)}return A},BG=function(Z,Y,J,X){const $=y.toUTF8(Z,Y,J);if(X){for(let W=0;W<$.length;W++)if($.charCodeAt(W)===65533){if(!sP(Z,Y,J))throw new c("Invalid UTF-8 string in BSON document");break}}return $},AU=function(Z,Y,J,X){Z[X++]=yP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$+1,Z[X-1]=0;const W=y.encodeUTF8Into(Z,J,X+4);return Z[X+3]=W+1>>24&255,Z[X+2]=W+1>>16&255,Z[X+1]=W+1>>8&255,Z[X]=W+1&255,X=X+4+W,Z[X++]=0,X},NU=function(Z,Y,J,X){const W=!Object.is(J,-0)&&Number.isSafeInteger(J)&&J<=EG&&J>=jG?jY:IG;if(W===jY)SY.setInt32(0,J,!0);else SY.setFloat64(0,J,!0);const G=W===jY?XZ1:CG;Z[X++]=W;const Q=y.encodeUTF8Into(Z,Y,X);return X=X+Q,Z[X++]=0,Z.set(G,X),X+=G.byteLength,X},IU=function(Z,Y,J,X){Z[X++]=iU;const $=y.encodeUTF8Into(Z,Y,X);return X+=$,Z[X++]=0,SY.setBigInt64(0,J,!0),Z.set(CG,X),X+=CG.byteLength,X},rX=function(Z,Y,J,X){Z[X++]=pU;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,X},DU=function(Z,Y,J,X){Z[X++]=vP;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z[X++]=J?1:0,X},PU=function(Z,Y,J,X){Z[X++]=hP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=T.fromNumber(J.getTime()),G=W.getLowBits(),Q=W.getHighBits();return Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,Z[X++]=Q&255,Z[X++]=Q>>8&255,Z[X++]=Q>>16&255,Z[X++]=Q>>24&255,X},TU=function(Z,Y,J,X){Z[X++]=DG;const $=y.encodeUTF8Into(Z,Y,X);if(X=X+$,Z[X++]=0,J.source&&J.source.match(TG)!=null)throw new c("value "+J.source+" must not contain null bytes");if(X=X+y.encodeUTF8Into(Z,J.source,X),Z[X++]=0,J.ignoreCase)Z[X++]=105;if(J.global)Z[X++]=115;if(J.multiline)Z[X++]=109;return Z[X++]=0,X},CU=function(Z,Y,J,X){Z[X++]=DG;const $=y.encodeUTF8Into(Z,Y,X);if(X=X+$,Z[X++]=0,J.pattern.match(TG)!=null)throw new c("pattern "+J.pattern+" must not contain null bytes");X=X+y.encodeUTF8Into(Z,J.pattern,X),Z[X++]=0;const W=J.options.split("").sort().join("");return X=X+y.encodeUTF8Into(Z,W,X),Z[X++]=0,X},EU=function(Z,Y,J,X){if(J===null)Z[X++]=pU;else if(J._bsontype==="MinKey")Z[X++]=pP;else Z[X++]=lP;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,X},jU=function(Z,Y,J,X){Z[X++]=bP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.id;if(cZ(W))for(let G=0;G<12;G++)Z[X++]=W[G];else throw new c("object ["+JSON.stringify(J)+"] is not a valid ObjectId");return X},OU=function(Z,Y,J,X){Z[X++]=cU;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.length;return Z[X++]=W&255,Z[X++]=W>>8&255,Z[X++]=W>>16&255,Z[X++]=W>>24&255,Z[X++]=A51,Z.set(J,X),X=X+W,X},SU=function(Z,Y,J,X,$,W,G,Q,K){if(K.has(J))throw new c("Cannot convert circular structure to BSON");K.add(J),Z[X++]=Array.isArray(J)?gP:dU;const H=y.encodeUTF8Into(Z,Y,X);X=X+H,Z[X++]=0;const z=eX(Z,J,$,X,W+1,G,Q,K);return K.delete(J),z},kU=function(Z,Y,J,X){Z[X++]=cP;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z.set(J.bytes.subarray(0,16),X),X+16},_U=function(Z,Y,J,X){Z[X++]=J._bsontype==="Long"?iU:dP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.getLowBits(),G=J.getHighBits();return Z[X++]=W&255,Z[X++]=W>>8&255,Z[X++]=W>>16&255,Z[X++]=W>>24&255,Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,X},xU=function(Z,Y,J,X){J=J.valueOf(),Z[X++]=jY;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z[X++]=J&255,Z[X++]=J>>8&255,Z[X++]=J>>16&255,Z[X++]=J>>24&255,X},fU=function(Z,Y,J,X){Z[X++]=IG;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,SY.setFloat64(0,J.value,!0),Z.set(CG,X),X=X+8,X},yU=function(Z,Y,J,X){Z[X++]=lU;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.toString(),G=y.encodeUTF8Into(Z,W,X+4)+1;return Z[X]=G&255,Z[X+1]=G>>8&255,Z[X+2]=G>>16&255,Z[X+3]=G>>24&255,X=X+4+G-1,Z[X++]=0,X},gU=function(Z,Y,J,X,$=!1,W=0,G=!1,Q=!0,K){if(J.scope&&typeof J.scope==="object"){Z[X++]=uP;const H=y.encodeUTF8Into(Z,Y,X);X=X+H,Z[X++]=0;let z=X;const F=J.code;X=X+4;const U=y.encodeUTF8Into(Z,F,X+4)+1;Z[X]=U&255,Z[X+1]=U>>8&255,Z[X+2]=U>>16&255,Z[X+3]=U>>24&255,Z[X+4+U-1]=0,X=X+U+4;const q=eX(Z,J.scope,$,X,W+1,G,Q,K);X=q-1;const V=q-z;Z[z++]=V&255,Z[z++]=V>>8&255,Z[z++]=V>>16&255,Z[z++]=V>>24&255,Z[X++]=0}else{Z[X++]=lU;const H=y.encodeUTF8Into(Z,Y,X);X=X+H,Z[X++]=0;const z=J.code.toString(),F=y.encodeUTF8Into(Z,z,X+4)+1;Z[X]=F&255,Z[X+1]=F>>8&255,Z[X+2]=F>>16&255,Z[X+3]=F>>24&255,X=X+4+F-1,Z[X++]=0}return X},bU=function(Z,Y,J,X){Z[X++]=cU;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.buffer;let G=J.position;if(J.sub_type===x1.SUBTYPE_BYTE_ARRAY)G=G+4;if(Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,Z[X++]=J.sub_type,J.sub_type===x1.SUBTYPE_BYTE_ARRAY)G=G-4,Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255;return Z.set(W,X),X=X+J.position,X},vU=function(Z,Y,J,X){Z[X++]=mP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=y.encodeUTF8Into(Z,J.value,X+4)+1;return Z[X]=W&255,Z[X+1]=W>>8&255,Z[X+2]=W>>16&255,Z[X+3]=W>>24&255,X=X+4+W-1,Z[X++]=0,X},hU=function(Z,Y,J,X,$,W,G){Z[X++]=dU;const Q=y.encodeUTF8Into(Z,Y,X);X=X+Q,Z[X++]=0;let K=X,H={$ref:J.collection||J.namespace,$id:J.oid};if(J.db!=null)H.$db=J.db;H=Object.assign(H,J.fields);const z=eX(Z,H,!1,X,$+1,W,!0,G),F=z-K;return Z[K++]=F&255,Z[K++]=F>>8&255,Z[K++]=F>>16&255,Z[K++]=F>>24&255,z},eX=function(Z,Y,J,X,$,W,G,Q){if(Q==null){if(Y==null)return Z[0]=5,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0,5;if(Array.isArray(Y))throw new c("serialize does not support an array as the root input");if(typeof Y!=="object")throw new c("serialize does not support non-object as the root input");else if("_bsontype"in Y&&typeof Y._bsontype==="string")throw new c("BSON types cannot be serialized as a document");else if(CY(Y)||TY(Y)||cZ(Y)||mU(Y))throw new c("date, regexp, typedarray, and arraybuffer cannot be BSON documents");Q=new Set}Q.add(Y);let K=X+4;if(Array.isArray(Y))for(let z=0;z<Y.length;z++){const F=`${z}`;let U=Y[z];if(typeof U?.toBSON==="function")U=U.toBSON();if(typeof U==="string")K=AU(Z,F,U,K);else if(typeof U==="number")K=NU(Z,F,U,K);else if(typeof U==="bigint")K=IU(Z,F,U,K);else if(typeof U==="boolean")K=DU(Z,F,U,K);else if(U instanceof Date||CY(U))K=PU(Z,F,U,K);else if(U===void 0)K=rX(Z,F,U,K);else if(U===null)K=rX(Z,F,U,K);else if(cZ(U))K=OU(Z,F,U,K);else if(U instanceof RegExp||TY(U))K=TU(Z,F,U,K);else if(typeof U==="object"&&U._bsontype==null)K=SU(Z,F,U,K,J,$,W,G,Q);else if(typeof U==="object"&&U[Symbol.for("@@mdb.bson.version")]!==pZ)throw new O5;else if(U._bsontype==="ObjectId")K=jU(Z,F,U,K);else if(U._bsontype==="Decimal128")K=kU(Z,F,U,K);else if(U._bsontype==="Long"||U._bsontype==="Timestamp")K=_U(Z,F,U,K);else if(U._bsontype==="Double")K=fU(Z,F,U,K);else if(typeof U==="function"&&W)K=yU(Z,F,U,K);else if(U._bsontype==="Code")K=gU(Z,F,U,K,J,$,W,G,Q);else if(U._bsontype==="Binary")K=bU(Z,F,U,K);else if(U._bsontype==="BSONSymbol")K=vU(Z,F,U,K);else if(U._bsontype==="DBRef")K=hU(Z,F,U,K,$,W,Q);else if(U._bsontype==="BSONRegExp")K=CU(Z,F,U,K);else if(U._bsontype==="Int32")K=xU(Z,F,U,K);else if(U._bsontype==="MinKey"||U._bsontype==="MaxKey")K=EU(Z,F,U,K);else if(typeof U._bsontype!=="undefined")throw new c(`Unrecognized or invalid _bsontype: ${String(U._bsontype)}`)}else if(Y instanceof Map||uU(Y)){const z=Y.entries();let F=!1;while(!F){const U=z.next();if(F=!!U.done,F)continue;const q=U.value[0];let V=U.value[1];if(typeof V?.toBSON==="function")V=V.toBSON();const L=typeof V;if(typeof q==="string"&&!OP.has(q)){if(q.match(TG)!=null)throw new c("key "+q+" must not contain null bytes");if(J){if(q[0]==="$")throw new c("key "+q+" must not start with '$'");else if(~q.indexOf("."))throw new c("key "+q+" must not contain '.'")}}if(L==="string")K=AU(Z,q,V,K);else if(L==="number")K=NU(Z,q,V,K);else if(L==="bigint")K=IU(Z,q,V,K);else if(L==="boolean")K=DU(Z,q,V,K);else if(V instanceof Date||CY(V))K=PU(Z,q,V,K);else if(V===null||V===void 0&&G===!1)K=rX(Z,q,V,K);else if(cZ(V))K=OU(Z,q,V,K);else if(V instanceof RegExp||TY(V))K=TU(Z,q,V,K);else if(L==="object"&&V._bsontype==null)K=SU(Z,q,V,K,J,$,W,G,Q);else if(typeof V==="object"&&V[Symbol.for("@@mdb.bson.version")]!==pZ)throw new O5;else if(V._bsontype==="ObjectId")K=jU(Z,q,V,K);else if(L==="object"&&V._bsontype==="Decimal128")K=kU(Z,q,V,K);else if(V._bsontype==="Long"||V._bsontype==="Timestamp")K=_U(Z,q,V,K);else if(V._bsontype==="Double")K=fU(Z,q,V,K);else if(V._bsontype==="Code")K=gU(Z,q,V,K,J,$,W,G,Q);else if(typeof V==="function"&&W)K=yU(Z,q,V,K);else if(V._bsontype==="Binary")K=bU(Z,q,V,K);else if(V._bsontype==="BSONSymbol")K=vU(Z,q,V,K);else if(V._bsontype==="DBRef")K=hU(Z,q,V,K,$,W,Q);else if(V._bsontype==="BSONRegExp")K=CU(Z,q,V,K);else if(V._bsontype==="Int32")K=xU(Z,q,V,K);else if(V._bsontype==="MinKey"||V._bsontype==="MaxKey")K=EU(Z,q,V,K);else if(typeof V._bsontype!=="undefined")throw new c(`Unrecognized or invalid _bsontype: ${String(V._bsontype)}`)}}else{if(typeof Y?.toBSON==="function"){if(Y=Y.toBSON(),Y!=null&&typeof Y!=="object")throw new c("toBSON function did not return an object")}for(let z of Object.keys(Y)){let F=Y[z];if(typeof F?.toBSON==="function")F=F.toBSON();const U=typeof F;if(typeof z==="string"&&!OP.has(z)){if(z.match(TG)!=null)throw new c("key "+z+" must not contain null bytes");if(J){if(z[0]==="$")throw new c("key "+z+" must not start with '$'");else if(~z.indexOf("."))throw new c("key "+z+" must not contain '.'")}}if(U==="string")K=AU(Z,z,F,K);else if(U==="number")K=NU(Z,z,F,K);else if(U==="bigint")K=IU(Z,z,F,K);else if(U==="boolean")K=DU(Z,z,F,K);else if(F instanceof Date||CY(F))K=PU(Z,z,F,K);else if(F===void 0){if(G===!1)K=rX(Z,z,F,K)}else if(F===null)K=rX(Z,z,F,K);else if(cZ(F))K=OU(Z,z,F,K);else if(F instanceof RegExp||TY(F))K=TU(Z,z,F,K);else if(U==="object"&&F._bsontype==null)K=SU(Z,z,F,K,J,$,W,G,Q);else if(typeof F==="object"&&F[Symbol.for("@@mdb.bson.version")]!==pZ)throw new O5;else if(F._bsontype==="ObjectId")K=jU(Z,z,F,K);else if(U==="object"&&F._bsontype==="Decimal128")K=kU(Z,z,F,K);else if(F._bsontype==="Long"||F._bsontype==="Timestamp")K=_U(Z,z,F,K);else if(F._bsontype==="Double")K=fU(Z,z,F,K);else if(F._bsontype==="Code")K=gU(Z,z,F,K,J,$,W,G,Q);else if(typeof F==="function"&&W)K=yU(Z,z,F,K);else if(F._bsontype==="Binary")K=bU(Z,z,F,K);else if(F._bsontype==="BSONSymbol")K=vU(Z,z,F,K);else if(F._bsontype==="DBRef")K=hU(Z,z,F,K,$,W,Q);else if(F._bsontype==="BSONRegExp")K=CU(Z,z,F,K);else if(F._bsontype==="Int32")K=xU(Z,z,F,K);else if(F._bsontype==="MinKey"||F._bsontype==="MaxKey")K=EU(Z,z,F,K);else if(typeof F._bsontype!=="undefined")throw new c(`Unrecognized or invalid _bsontype: ${String(F._bsontype)}`)}}Q.delete(Y),Z[K++]=0;const H=K-X;return Z[X++]=H&255,Z[X++]=H>>8&255,Z[X++]=H>>16&255,Z[X++]=H>>24&255,K},$Z1=function(Z){return Z!=null&&typeof Z==="object"&&"_bsontype"in Z&&typeof Z._bsontype==="string"},tP=function(Z,Y={}){if(typeof Z==="number"){const X=Z<=EG&&Z>=jG,$=Z<=kP&&Z>=_P;if(Y.relaxed||Y.legacy)return Z;if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(X)return new k5(Z);if($){if(Y.useBigInt64)return BigInt(Z);return T.fromNumber(Z)}}return new S5(Z)}if(Z==null||typeof Z!=="object")return Z;if(Z.$undefined)return null;const J=Object.keys(Z).filter((X)=>X.startsWith("$")&&Z[X]!=null);for(let X=0;X<J.length;X++){const $=WZ1[J[X]];if($)return $.fromExtendedJSON(Z,Y)}if(Z.$date!=null){const X=Z.$date,$=new Date;if(Y.legacy)if(typeof X==="number")$.setTime(X);else if(typeof X==="string")$.setTime(Date.parse(X));else if(typeof X==="bigint")$.setTime(Number(X));else throw new oX(`Unrecognized type for EJSON date: ${typeof X}`);else if(typeof X==="string")$.setTime(Date.parse(X));else if(T.isLong(X))$.setTime(X.toNumber());else if(typeof X==="number"&&Y.relaxed)$.setTime(X);else if(typeof X==="bigint")$.setTime(Number(X));else throw new oX(`Unrecognized type for EJSON date: ${typeof X}`);return $}if(Z.$code!=null){const X=Object.assign({},Z);if(Z.$scope)X.$scope=tP(Z.$scope);return f4.fromExtendedJSON(Z)}if(nP(Z)||Z.$dbPointer){const X=Z.$ref?Z:Z.$dbPointer;if(X instanceof $4)return X;const $=Object.keys(X).filter((G)=>G.startsWith("$"));let W=!0;if($.forEach((G)=>{if(["$ref","$id","$db"].indexOf(G)===-1)W=!1}),W)return $4.fromExtendedJSON(X)}return Z},GZ1=function(Z,Y){return Z.map((J,X)=>{Y.seenObjects.push({propertyName:`index ${X}`,obj:null});try{return x4(J,Y)}finally{Y.seenObjects.pop()}})},SP=function(Z){const Y=Z.toISOString();return Z.getUTCMilliseconds()!==0?Y:Y.slice(0,-5)+"Z"},x4=function(Z,Y){if(Z instanceof Map||uU(Z)){const J=Object.create(null);for(let[X,$]of Z){if(typeof X!=="string")throw new c("Can only serialize maps with string keys");J[X]=$}return x4(J,Y)}if((typeof Z==="object"||typeof Z==="function")&&Z!==null){const J=Y.seenObjects.findIndex((X)=>X.obj===Z);if(J!==-1){const X=Y.seenObjects.map((z)=>z.propertyName),$=X.slice(0,J).map((z)=>`${z} -> `).join(""),W=X[J],G=" -> "+X.slice(J+1,X.length-1).map((z)=>`${z} -> `).join(""),Q=X[X.length-1],K=" ".repeat($.length+W.length/2),H="-".repeat(G.length+(W.length+Q.length)/2-1);throw new c("Converting circular structure to EJSON:\n"+`    ${$}${W}${G}${Q}\n`+`    ${K}\\${H}/`)}Y.seenObjects[Y.seenObjects.length-1].obj=Z}if(Array.isArray(Z))return GZ1(Z,Y);if(Z===void 0)return null;if(Z instanceof Date||CY(Z)){const J=Z.getTime(),X=J>-1&&J<253402318800000;if(Y.legacy)return Y.relaxed&&X?{$date:Z.getTime()}:{$date:SP(Z)};return Y.relaxed&&X?{$date:SP(Z)}:{$date:{$numberLong:Z.getTime().toString()}}}if(typeof Z==="number"&&(!Y.relaxed||!isFinite(Z))){if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(Z>=jG&&Z<=EG)return{$numberInt:Z.toString()};if(Z>=_P&&Z<=kP)return{$numberLong:Z.toString()}}return{$numberDouble:Object.is(Z,-0)?"-0.0":Z.toString()}}if(typeof Z==="bigint"){if(!Y.relaxed)return{$numberLong:BigInt.asIntN(64,Z).toString()};return Number(BigInt.asIntN(64,Z))}if(Z instanceof RegExp||TY(Z)){let J=Z.flags;if(J===void 0){const $=Z.toString().match(/[gimuy]*$/);if($)J=$[0]}return new l6(Z.source,J).toExtendedJSON(Y)}if(Z!=null&&typeof Z==="object")return KZ1(Z,Y);return Z},KZ1=function(Z,Y){if(Z==null||typeof Z!=="object")throw new c("not an object instance");const J=Z._bsontype;if(typeof J==="undefined"){const X={};for(let $ of Object.keys(Z)){Y.seenObjects.push({propertyName:$,obj:null});try{const W=x4(Z[$],Y);if($==="__proto__")Object.defineProperty(X,$,{value:W,writable:!0,enumerable:!0,configurable:!0});else X[$]=W}finally{Y.seenObjects.pop()}}return X}else if(Z!=null&&typeof Z==="object"&&typeof Z._bsontype==="string"&&Z[Symbol.for("@@mdb.bson.version")]!==pZ)throw new O5;else if($Z1(Z)){let X=Z;if(typeof X.toExtendedJSON!=="function"){const $=QZ1[Z._bsontype];if(!$)throw new c("Unrecognized or invalid _bsontype: "+Z._bsontype);X=$(X)}if(J==="Code"&&X.scope)X=new f4(X.code,x4(X.scope,Y));else if(J==="DBRef"&&X.oid)X=new $4(x4(X.collection,Y),x4(X.oid,Y),x4(X.db,Y),x4(X.fields,Y));return X.toExtendedJSON(Y)}else throw new c("_bsontype must be a string, but was: "+typeof J)},oP=function(Z,Y){const J={useBigInt64:Y?.useBigInt64??!1,relaxed:Y?.relaxed??!0,legacy:Y?.legacy??!1};return JSON.parse(Z,(X,$)=>{if(X.indexOf("\0")!==-1)throw new c(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(X)}`);return tP($,J)})},eP=function(Z,Y,J,X){if(J!=null&&typeof J==="object")X=J,J=0;if(Y!=null&&typeof Y==="object"&&!Array.isArray(Y))X=Y,Y=void 0,J=0;const $=Object.assign({relaxed:!0,legacy:!1},X,{seenObjects:[{propertyName:"(root)",obj:null}]}),W=x4(Z,$);return JSON.stringify(W,Y,J)},HZ1=function(Z,Y){return Y=Y||{},JSON.parse(eP(Z,Y))},zZ1=function(Z,Y){return Y=Y||{},oP(JSON.stringify(Z),Y)},YT=function(Z){if(j5.length<Z)j5=y.allocate(Z)},JT=function(Z,Y={}){const J=typeof Y.checkKeys==="boolean"?Y.checkKeys:!1,X=typeof Y.serializeFunctions==="boolean"?Y.serializeFunctions:!1,$=typeof Y.ignoreUndefined==="boolean"?Y.ignoreUndefined:!0,W=typeof Y.minInternalBufferSize==="number"?Y.minInternalBufferSize:ZT;if(j5.length<W)j5=y.allocate(W);const G=eX(j5,Z,J,0,0,X,$,null),Q=y.allocate(G);return Q.set(j5.subarray(0,G),0),Q},XT=function(Z,Y,J={}){const X=typeof J.checkKeys==="boolean"?J.checkKeys:!1,$=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,W=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!0,G=typeof J.index==="number"?J.index:0,Q=eX(j5,Z,X,0,0,$,W,null);return Y.set(j5.subarray(0,Q),G),G+Q-1},$T=function(Z,Y={}){return rP(y.toLocalBufferType(Z),Y)},WT=function(Z,Y={}){Y=Y||{};const J=typeof Y.serializeFunctions==="boolean"?Y.serializeFunctions:!1,X=typeof Y.ignoreUndefined==="boolean"?Y.ignoreUndefined:!0;return AG(Z,J,X)},GT=function(Z,Y,J,X,$,W){const G=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},W),Q=y.toLocalBufferType(Z);let K=Y;for(let H=0;H<J;H++){const z=Q[K]|Q[K+1]<<8|Q[K+2]<<16|Q[K+3]<<24;G.index=K,X[$+H]=rP(Q,G),K=K+z}return K},pZ=6,EG=2147483647,jG=-2147483648,kP=Math.pow(2,63)-1,_P=-Math.pow(2,63),xP=Math.pow(2,53),fP=-Math.pow(2,53),IG=1,yP=2,dU=3,gP=4,cU=5,M51=6,bP=7,vP=8,hP=9,pU=10,DG=11,B51=12,lU=13,mP=14,uP=15,jY=16,dP=17,iU=18,cP=19,pP=255,lP=127,A51=0,PG=4,iP=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class c extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(Z){super(Z)}static isBSONError(Z){return Z!=null&&typeof Z==="object"&&"bsonError"in Z&&Z.bsonError===!0&&"name"in Z&&"message"in Z&&"stack"in Z}}class O5 extends c{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${pZ}.x.x`)}}class oX extends c{get name(){return"BSONRuntimeError"}constructor(Z){super(Z)}}var I51=(()=>{try{return import.meta.require("crypto").randomBytes}catch{return N51}})(),E5={toLocalBufferType(Z){if(Buffer.isBuffer(Z))return Z;if(ArrayBuffer.isView(Z))return Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength);const Y=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(Y==="ArrayBuffer"||Y==="SharedArrayBuffer"||Y==="[object ArrayBuffer]"||Y==="[object SharedArrayBuffer]")return Buffer.from(Z);throw new c(`Cannot create Buffer from ${String(Z)}`)},allocate(Z){return Buffer.alloc(Z)},equals(Z,Y){return E5.toLocalBufferType(Z).equals(Y)},fromNumberArray(Z){return Buffer.from(Z)},fromBase64(Z){return Buffer.from(Z,"base64")},toBase64(Z){return E5.toLocalBufferType(Z).toString("base64")},fromISO88591(Z){return Buffer.from(Z,"binary")},toISO88591(Z){return E5.toLocalBufferType(Z).toString("binary")},fromHex(Z){return Buffer.from(Z,"hex")},toHex(Z){return E5.toLocalBufferType(Z).toString("hex")},fromUTF8(Z){return Buffer.from(Z,"utf8")},toUTF8(Z,Y,J){return E5.toLocalBufferType(Z).toString("utf8",Y,J)},utf8ByteLength(Z){return Buffer.byteLength(Z,"utf8")},encodeUTF8Into(Z,Y,J){return E5.toLocalBufferType(Z).write(Y,J,void 0,"utf8")},randomBytes:I51},T51=(()=>{const{crypto:Z}=globalThis;if(Z!=null&&typeof Z.getRandomValues==="function")return(Y)=>{return Z.getRandomValues(OY.allocate(Y))};else{if(D51()){const{console:Y}=globalThis;Y?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return P51}})(),wP=/(\d|[a-f])/i,OY={toLocalBufferType(Z){const Y=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(Y==="Uint8Array")return Z;if(ArrayBuffer.isView(Z))return new Uint8Array(Z.buffer.slice(Z.byteOffset,Z.byteOffset+Z.byteLength));if(Y==="ArrayBuffer"||Y==="SharedArrayBuffer"||Y==="[object ArrayBuffer]"||Y==="[object SharedArrayBuffer]")return new Uint8Array(Z);throw new c(`Cannot make a Uint8Array from ${String(Z)}`)},allocate(Z){if(typeof Z!=="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(Z)}`);return new Uint8Array(Z)},equals(Z,Y){if(Z.byteLength!==Y.byteLength)return!1;for(let J=0;J<Z.byteLength;J++)if(Z[J]!==Y[J])return!1;return!0},fromNumberArray(Z){return Uint8Array.from(Z)},fromBase64(Z){return Uint8Array.from(atob(Z),(Y)=>Y.charCodeAt(0))},toBase64(Z){return btoa(OY.toISO88591(Z))},fromISO88591(Z){return Uint8Array.from(Z,(Y)=>Y.charCodeAt(0)&255)},toISO88591(Z){return Array.from(Uint16Array.from(Z),(Y)=>String.fromCharCode(Y)).join("")},fromHex(Z){const Y=Z.length%2===0?Z:Z.slice(0,Z.length-1),J=[];for(let X=0;X<Y.length;X+=2){const $=Y[X],W=Y[X+1];if(!wP.test($))break;if(!wP.test(W))break;const G=Number.parseInt(`${$}${W}`,16);J.push(G)}return Uint8Array.from(J)},toHex(Z){return Array.from(Z,(Y)=>Y.toString(16).padStart(2,"0")).join("")},fromUTF8(Z){return(new TextEncoder()).encode(Z)},toUTF8(Z,Y,J){return new TextDecoder("utf8",{fatal:!1}).decode(Z.slice(Y,J))},utf8ByteLength(Z){return OY.fromUTF8(Z).byteLength},encodeUTF8Into(Z,Y,J){const X=OY.fromUTF8(Y);return Z.set(X,J),X.byteLength},randomBytes:T51},C51=typeof Buffer==="function"&&Buffer.prototype?._isBuffer!==!0,y=C51?E5:OY;class tX extends DataView{static fromUint8Array(Z){return new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}}class k8{get[Symbol.for("@@mdb.bson.version")](){return pZ}[Symbol.for("nodejs.util.inspect.custom")](Z,Y,J){return this.inspect(Z,Y,J)}}class x1 extends k8{get _bsontype(){return"Binary"}constructor(Z,Y){super();if(Z!=null&&typeof Z==="string"&&!ArrayBuffer.isView(Z)&&!mU(Z)&&!Array.isArray(Z))throw new c("Binary can only be constructed from Uint8Array or number[]");if(this.sub_type=Y??x1.BSON_BINARY_SUBTYPE_DEFAULT,Z==null)this.buffer=y.allocate(x1.BUFFER_SIZE),this.position=0;else this.buffer=Array.isArray(Z)?y.fromNumberArray(Z):y.toLocalBufferType(Z),this.position=this.buffer.byteLength}put(Z){if(typeof Z==="string"&&Z.length!==1)throw new c("only accepts single character String");else if(typeof Z!=="number"&&Z.length!==1)throw new c("only accepts single character Uint8Array or Array");let Y;if(typeof Z==="string")Y=Z.charCodeAt(0);else if(typeof Z==="number")Y=Z;else Y=Z[0];if(Y<0||Y>255)throw new c("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=Y;else{const J=y.allocate(x1.BUFFER_SIZE+this.buffer.length);J.set(this.buffer,0),this.buffer=J,this.buffer[this.position++]=Y}}write(Z,Y){if(Y=typeof Y==="number"?Y:this.position,this.buffer.byteLength<Y+Z.length){const J=y.allocate(this.buffer.byteLength+Z.length);J.set(this.buffer,0),this.buffer=J}if(ArrayBuffer.isView(Z))this.buffer.set(y.toLocalBufferType(Z),Y),this.position=Y+Z.byteLength>this.position?Y+Z.length:this.position;else if(typeof Z==="string")throw new c("input cannot be string")}read(Z,Y){return Y=Y&&Y>0?Y:this.position,this.buffer.slice(Z,Z+Y)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return y.toBase64(this.buffer)}toString(Z){if(Z==="hex")return y.toHex(this.buffer);if(Z==="base64")return y.toBase64(this.buffer);if(Z==="utf8"||Z==="utf-8")return y.toUTF8(this.buffer,0,this.buffer.byteLength);return y.toUTF8(this.buffer,0,this.buffer.byteLength)}toExtendedJSON(Z){Z=Z||{};const Y=y.toBase64(this.buffer),J=Number(this.sub_type).toString(16);if(Z.legacy)return{$binary:Y,$type:J.length===1?"0"+J:J};return{$binary:{base64:Y,subType:J.length===1?"0"+J:J}}}toUUID(){if(this.sub_type===x1.SUBTYPE_UUID)return new s0(this.buffer.slice(0,this.position));throw new c(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${x1.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(Z,Y){return new x1(y.fromHex(Z),Y)}static createFromBase64(Z,Y){return new x1(y.fromBase64(Z),Y)}static fromExtendedJSON(Z,Y){Y=Y||{};let J,X;if("$binary"in Z){if(Y.legacy&&typeof Z.$binary==="string"&&"$type"in Z)X=Z.$type?parseInt(Z.$type,16):0,J=y.fromBase64(Z.$binary);else if(typeof Z.$binary!=="string")X=Z.$binary.subType?parseInt(Z.$binary.subType,16):0,J=y.fromBase64(Z.$binary.base64)}else if("$uuid"in Z)X=4,J=s0.bytesFromString(Z.$uuid);if(!J)throw new c(`Unexpected Binary Extended JSON format ${JSON.stringify(Z)}`);return X===PG?new s0(J):new x1(J,X)}inspect(Z,Y,J){J??=N6;const X=y.toBase64(this.buffer.subarray(0,this.position)),$=J(X,Y),W=J(this.sub_type,Y);return`Binary.createFromBase64(${$}, ${W})`}}x1.BSON_BINARY_SUBTYPE_DEFAULT=0;x1.BUFFER_SIZE=256;x1.SUBTYPE_DEFAULT=0;x1.SUBTYPE_FUNCTION=1;x1.SUBTYPE_BYTE_ARRAY=2;x1.SUBTYPE_UUID_OLD=3;x1.SUBTYPE_UUID=4;x1.SUBTYPE_MD5=5;x1.SUBTYPE_ENCRYPTED=6;x1.SUBTYPE_COLUMN=7;x1.SUBTYPE_USER_DEFINED=128;var MU=16,E51=/^[0-9A-F]{32}$/i,j51=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class s0 extends x1{constructor(Z){let Y;if(Z==null)Y=s0.generate();else if(Z instanceof s0)Y=y.toLocalBufferType(new Uint8Array(Z.buffer));else if(ArrayBuffer.isView(Z)&&Z.byteLength===MU)Y=y.toLocalBufferType(Z);else if(typeof Z==="string")Y=s0.bytesFromString(Z);else throw new c("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(Y,PG)}get id(){return this.buffer}set id(Z){this.buffer=Z}toHexString(Z=!0){if(Z)return[y.toHex(this.buffer.subarray(0,4)),y.toHex(this.buffer.subarray(4,6)),y.toHex(this.buffer.subarray(6,8)),y.toHex(this.buffer.subarray(8,10)),y.toHex(this.buffer.subarray(10,16))].join("-");return y.toHex(this.buffer)}toString(Z){if(Z==="hex")return y.toHex(this.id);if(Z==="base64")return y.toBase64(this.id);return this.toHexString()}toJSON(){return this.toHexString()}equals(Z){if(!Z)return!1;if(Z instanceof s0)return y.equals(Z.id,this.id);try{return y.equals(new s0(Z).id,this.id)}catch{return!1}}toBinary(){return new x1(this.id,x1.SUBTYPE_UUID)}static generate(){const Z=y.randomBytes(MU);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z}static isValid(Z){if(!Z)return!1;if(typeof Z==="string")return s0.isValidUUIDString(Z);if(cZ(Z))return Z.byteLength===MU;return Z._bsontype==="Binary"&&Z.sub_type===this.SUBTYPE_UUID&&Z.buffer.byteLength===16}static createFromHexString(Z){const Y=s0.bytesFromString(Z);return new s0(Y)}static createFromBase64(Z){return new s0(y.fromBase64(Z))}static bytesFromString(Z){if(!s0.isValidUUIDString(Z))throw new c("UUID string representation must be 32 hex digits or canonical hyphenated representation");return y.fromHex(Z.replace(/-/g,""))}static isValidUUIDString(Z){return E51.test(Z)||j51.test(Z)}inspect(Z,Y,J){return J??=N6,`new UUID(${J(this.toHexString(),Y)})`}}class f4 extends k8{get _bsontype(){return"Code"}constructor(Z,Y){super();this.code=Z.toString(),this.scope=Y??null}toJSON(){if(this.scope!=null)return{code:this.code,scope:this.scope};return{code:this.code}}toExtendedJSON(){if(this.scope)return{$code:this.code,$scope:this.scope};return{$code:this.code}}static fromExtendedJSON(Z){return new f4(Z.$code,Z.$scope)}inspect(Z,Y,J){J??=N6;let X=J(this.code,Y);const $=X.includes("\n");if(this.scope!=null)X+=`,${$?"\n":" "}${J(this.scope,Y)}`;const W=$&&this.scope===null;return`new Code(${$?"\n":""}${X}${W?"\n":""})`}}class $4 extends k8{get _bsontype(){return"DBRef"}constructor(Z,Y,J,X){super();const $=Z.split(".");if($.length===2)J=$.shift(),Z=$.shift();this.collection=Z,this.oid=Y,this.db=J,this.fields=X||{}}get namespace(){return this.collection}set namespace(Z){this.collection=Z}toJSON(){const Z=Object.assign({$ref:this.collection,$id:this.oid},this.fields);if(this.db!=null)Z.$db=this.db;return Z}toExtendedJSON(Z){Z=Z||{};let Y={$ref:this.collection,$id:this.oid};if(Z.legacy)return Y;if(this.db)Y.$db=this.db;return Y=Object.assign(Y,this.fields),Y}static fromExtendedJSON(Z){const Y=Object.assign({},Z);return delete Y.$ref,delete Y.$id,delete Y.$db,new $4(Z.$ref,Z.$id,Z.$db,Y)}inspect(Z,Y,J){J??=N6;const X=[J(this.namespace,Y),J(this.oid,Y),...this.db?[J(this.db,Y)]:[],...Object.keys(this.fields).length>0?[J(this.fields,Y)]:[]];return X[1]=J===N6?`new ObjectId(${X[1]})`:X[1],`new DBRef(${X.join(", ")})`}}var c6=void 0;try{c6=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var MP=1<<16,O51=1<<24,EY=MP*MP,aP=EY*EY,BP=aP/2,AP={},NP={},S51=20,k51=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class T extends k8{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(Z=0,Y,J){super();if(typeof Z==="bigint")Object.assign(this,T.fromBigInt(Z,!!Y));else if(typeof Z==="string")Object.assign(this,T.fromString(Z,!!Y));else this.low=Z|0,this.high=Y|0,this.unsigned=!!J}static fromBits(Z,Y,J){return new T(Z,Y,J)}static fromInt(Z,Y){let J,X,$;if(Y){if(Z>>>=0,$=0<=Z&&Z<256){if(X=NP[Z],X)return X}if(J=T.fromBits(Z,(Z|0)<0?-1:0,!0),$)NP[Z]=J;return J}else{if(Z|=0,$=-128<=Z&&Z<128){if(X=AP[Z],X)return X}if(J=T.fromBits(Z,Z<0?-1:0,!1),$)AP[Z]=J;return J}}static fromNumber(Z,Y){if(isNaN(Z))return Y?T.UZERO:T.ZERO;if(Y){if(Z<0)return T.UZERO;if(Z>=aP)return T.MAX_UNSIGNED_VALUE}else{if(Z<=-BP)return T.MIN_VALUE;if(Z+1>=BP)return T.MAX_VALUE}if(Z<0)return T.fromNumber(-Z,Y).neg();return T.fromBits(Z%EY|0,Z/EY|0,Y)}static fromBigInt(Z,Y){return T.fromString(Z.toString(),Y)}static fromString(Z,Y,J){if(Z.length===0)throw new c("empty string");if(Z==="NaN"||Z==="Infinity"||Z==="+Infinity"||Z==="-Infinity")return T.ZERO;if(typeof Y==="number")J=Y,Y=!1;else Y=!!Y;if(J=J||10,J<2||36<J)throw new c("radix");let X;if((X=Z.indexOf("-"))>0)throw new c("interior hyphen");else if(X===0)return T.fromString(Z.substring(1),Y,J).neg();const $=T.fromNumber(Math.pow(J,8));let W=T.ZERO;for(let G=0;G<Z.length;G+=8){const Q=Math.min(8,Z.length-G),K=parseInt(Z.substring(G,G+Q),J);if(Q<8){const H=T.fromNumber(Math.pow(J,Q));W=W.mul(H).add(T.fromNumber(K))}else W=W.mul($),W=W.add(T.fromNumber(K))}return W.unsigned=Y,W}static fromBytes(Z,Y,J){return J?T.fromBytesLE(Z,Y):T.fromBytesBE(Z,Y)}static fromBytesLE(Z,Y){return new T(Z[0]|Z[1]<<8|Z[2]<<16|Z[3]<<24,Z[4]|Z[5]<<8|Z[6]<<16|Z[7]<<24,Y)}static fromBytesBE(Z,Y){return new T(Z[4]<<24|Z[5]<<16|Z[6]<<8|Z[7],Z[0]<<24|Z[1]<<16|Z[2]<<8|Z[3],Y)}static isLong(Z){return Z!=null&&typeof Z==="object"&&"__isLong__"in Z&&Z.__isLong__===!0}static fromValue(Z,Y){if(typeof Z==="number")return T.fromNumber(Z,Y);if(typeof Z==="string")return T.fromString(Z,Y);return T.fromBits(Z.low,Z.high,typeof Y==="boolean"?Y:Z.unsigned)}add(Z){if(!T.isLong(Z))Z=T.fromValue(Z);const Y=this.high>>>16,J=this.high&65535,X=this.low>>>16,$=this.low&65535,W=Z.high>>>16,G=Z.high&65535,Q=Z.low>>>16,K=Z.low&65535;let H=0,z=0,F=0,U=0;return U+=$+K,F+=U>>>16,U&=65535,F+=X+Q,z+=F>>>16,F&=65535,z+=J+G,H+=z>>>16,z&=65535,H+=Y+W,H&=65535,T.fromBits(F<<16|U,H<<16|z,this.unsigned)}and(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return T.fromBits(this.low&Z.low,this.high&Z.high,this.unsigned)}compare(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(this.eq(Z))return 0;const Y=this.isNegative(),J=Z.isNegative();if(Y&&!J)return-1;if(!Y&&J)return 1;if(!this.unsigned)return this.sub(Z).isNegative()?-1:1;return Z.high>>>0>this.high>>>0||Z.high===this.high&&Z.low>>>0>this.low>>>0?-1:1}comp(Z){return this.compare(Z)}divide(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(Z.isZero())throw new c("division by zero");if(c6){if(!this.unsigned&&this.high===-2147483648&&Z.low===-1&&Z.high===-1)return this;const $=(this.unsigned?c6.div_u:c6.div_s)(this.low,this.high,Z.low,Z.high);return T.fromBits($,c6.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?T.UZERO:T.ZERO;let Y,J,X;if(!this.unsigned){if(this.eq(T.MIN_VALUE))if(Z.eq(T.ONE)||Z.eq(T.NEG_ONE))return T.MIN_VALUE;else if(Z.eq(T.MIN_VALUE))return T.ONE;else if(Y=this.shr(1).div(Z).shl(1),Y.eq(T.ZERO))return Z.isNegative()?T.ONE:T.NEG_ONE;else return J=this.sub(Z.mul(Y)),X=Y.add(J.div(Z)),X;else if(Z.eq(T.MIN_VALUE))return this.unsigned?T.UZERO:T.ZERO;if(this.isNegative()){if(Z.isNegative())return this.neg().div(Z.neg());return this.neg().div(Z).neg()}else if(Z.isNegative())return this.div(Z.neg()).neg();X=T.ZERO}else{if(!Z.unsigned)Z=Z.toUnsigned();if(Z.gt(this))return T.UZERO;if(Z.gt(this.shru(1)))return T.UONE;X=T.UZERO}J=this;while(J.gte(Z)){Y=Math.max(1,Math.floor(J.toNumber()/Z.toNumber()));const $=Math.ceil(Math.log(Y)/Math.LN2),W=$<=48?1:Math.pow(2,$-48);let G=T.fromNumber(Y),Q=G.mul(Z);while(Q.isNegative()||Q.gt(J))Y-=W,G=T.fromNumber(Y,this.unsigned),Q=G.mul(Z);if(G.isZero())G=T.ONE;X=X.add(G),J=J.sub(Q)}return X}div(Z){return this.divide(Z)}equals(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(this.unsigned!==Z.unsigned&&this.high>>>31===1&&Z.high>>>31===1)return!1;return this.high===Z.high&&this.low===Z.low}eq(Z){return this.equals(Z)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(T.MIN_VALUE)?64:this.neg().getNumBitsAbs();const Z=this.high!==0?this.high:this.low;let Y;for(Y=31;Y>0;Y--)if((Z&1<<Y)!==0)break;return this.high!==0?Y+33:Y+1}greaterThan(Z){return this.comp(Z)>0}gt(Z){return this.greaterThan(Z)}greaterThanOrEqual(Z){return this.comp(Z)>=0}gte(Z){return this.greaterThanOrEqual(Z)}ge(Z){return this.greaterThanOrEqual(Z)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(Z){return this.comp(Z)<0}lt(Z){return this.lessThan(Z)}lessThanOrEqual(Z){return this.comp(Z)<=0}lte(Z){return this.lessThanOrEqual(Z)}modulo(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(c6){const Y=(this.unsigned?c6.rem_u:c6.rem_s)(this.low,this.high,Z.low,Z.high);return T.fromBits(Y,c6.get_high(),this.unsigned)}return this.sub(this.div(Z).mul(Z))}mod(Z){return this.modulo(Z)}rem(Z){return this.modulo(Z)}multiply(Z){if(this.isZero())return T.ZERO;if(!T.isLong(Z))Z=T.fromValue(Z);if(c6){const q=c6.mul(this.low,this.high,Z.low,Z.high);return T.fromBits(q,c6.get_high(),this.unsigned)}if(Z.isZero())return T.ZERO;if(this.eq(T.MIN_VALUE))return Z.isOdd()?T.MIN_VALUE:T.ZERO;if(Z.eq(T.MIN_VALUE))return this.isOdd()?T.MIN_VALUE:T.ZERO;if(this.isNegative())if(Z.isNegative())return this.neg().mul(Z.neg());else return this.neg().mul(Z).neg();else if(Z.isNegative())return this.mul(Z.neg()).neg();if(this.lt(T.TWO_PWR_24)&&Z.lt(T.TWO_PWR_24))return T.fromNumber(this.toNumber()*Z.toNumber(),this.unsigned);const Y=this.high>>>16,J=this.high&65535,X=this.low>>>16,$=this.low&65535,W=Z.high>>>16,G=Z.high&65535,Q=Z.low>>>16,K=Z.low&65535;let H=0,z=0,F=0,U=0;return U+=$*K,F+=U>>>16,U&=65535,F+=X*K,z+=F>>>16,F&=65535,F+=$*Q,z+=F>>>16,F&=65535,z+=J*K,H+=z>>>16,z&=65535,z+=X*Q,H+=z>>>16,z&=65535,z+=$*G,H+=z>>>16,z&=65535,H+=Y*K+J*Q+X*G+$*W,H&=65535,T.fromBits(F<<16|U,H<<16|z,this.unsigned)}mul(Z){return this.multiply(Z)}negate(){if(!this.unsigned&&this.eq(T.MIN_VALUE))return T.MIN_VALUE;return this.not().add(T.ONE)}neg(){return this.negate()}not(){return T.fromBits(~this.low,~this.high,this.unsigned)}notEquals(Z){return!this.equals(Z)}neq(Z){return this.notEquals(Z)}ne(Z){return this.notEquals(Z)}or(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return T.fromBits(this.low|Z.low,this.high|Z.high,this.unsigned)}shiftLeft(Z){if(T.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return T.fromBits(this.low<<Z,this.high<<Z|this.low>>>32-Z,this.unsigned);else return T.fromBits(0,this.low<<Z-32,this.unsigned)}shl(Z){return this.shiftLeft(Z)}shiftRight(Z){if(T.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return T.fromBits(this.low>>>Z|this.high<<32-Z,this.high>>Z,this.unsigned);else return T.fromBits(this.high>>Z-32,this.high>=0?0:-1,this.unsigned)}shr(Z){return this.shiftRight(Z)}shiftRightUnsigned(Z){if(T.isLong(Z))Z=Z.toInt();if(Z&=63,Z===0)return this;else{const Y=this.high;if(Z<32){const J=this.low;return T.fromBits(J>>>Z|Y<<32-Z,Y>>>Z,this.unsigned)}else if(Z===32)return T.fromBits(Y,0,this.unsigned);else return T.fromBits(Y>>>Z-32,0,this.unsigned)}}shr_u(Z){return this.shiftRightUnsigned(Z)}shru(Z){return this.shiftRightUnsigned(Z)}subtract(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return this.add(Z.neg())}sub(Z){return this.subtract(Z)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){if(this.unsigned)return(this.high>>>0)*EY+(this.low>>>0);return this.high*EY+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(Z){return Z?this.toBytesLE():this.toBytesBE()}toBytesLE(){const Z=this.high,Y=this.low;return[Y&255,Y>>>8&255,Y>>>16&255,Y>>>24,Z&255,Z>>>8&255,Z>>>16&255,Z>>>24]}toBytesBE(){const Z=this.high,Y=this.low;return[Z>>>24,Z>>>16&255,Z>>>8&255,Z&255,Y>>>24,Y>>>16&255,Y>>>8&255,Y&255]}toSigned(){if(!this.unsigned)return this;return T.fromBits(this.low,this.high,!1)}toString(Z){if(Z=Z||10,Z<2||36<Z)throw new c("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(T.MIN_VALUE)){const $=T.fromNumber(Z),W=this.div($),G=W.mul($).sub(this);return W.toString(Z)+G.toInt().toString(Z)}else return"-"+this.neg().toString(Z);const Y=T.fromNumber(Math.pow(Z,6),this.unsigned);let J=this,X="";while(!0){const $=J.div(Y);let G=(J.sub($.mul(Y)).toInt()>>>0).toString(Z);if(J=$,J.isZero())return G+X;else{while(G.length<6)G="0"+G;X=""+G+X}}}toUnsigned(){if(this.unsigned)return this;return T.fromBits(this.low,this.high,!0)}xor(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return T.fromBits(this.low^Z.low,this.high^Z.high,this.unsigned)}eqz(){return this.isZero()}le(Z){return this.lessThanOrEqual(Z)}toExtendedJSON(Z){if(Z&&Z.relaxed)return this.toNumber();return{$numberLong:this.toString()}}static fromExtendedJSON(Z,Y){const{useBigInt64:J=!1,relaxed:X=!0}={...Y};if(Z.$numberLong.length>S51)throw new c("$numberLong string is too long");if(!k51.test(Z.$numberLong))throw new c(`\$numberLong string "${Z.$numberLong}" is in an invalid format`);if(J){const W=BigInt(Z.$numberLong);return BigInt.asIntN(64,W)}const $=T.fromString(Z.$numberLong);if(X)return $.toNumber();return $}inspect(Z,Y,J){J??=N6;const X=J(this.toString(),Y),$=this.unsigned?`, ${J(this.unsigned,Y)}`:"";return`new Long(${X}${$})`}}T.TWO_PWR_24=T.fromInt(O51);T.MAX_UNSIGNED_VALUE=T.fromBits(4294967295|0,4294967295|0,!0);T.ZERO=T.fromInt(0);T.UZERO=T.fromInt(0,!0);T.ONE=T.fromInt(1);T.UONE=T.fromInt(1,!0);T.NEG_ONE=T.fromInt(-1);T.MAX_VALUE=T.fromBits(4294967295|0,2147483647|0,!1);T.MIN_VALUE=T.fromBits(0,2147483648|0,!1);var _51=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,x51=/^(\+|-)?(Infinity|inf)$/i,f51=/^(\+|-)?NaN$/i,PY=6111,sX=-6176,IP=6176,DP=34,BU=y.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),PP=y.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),TP=y.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),y51=/^([-+])?(\d+)?$/,g51=31,CP=16383,b51=30,v51=31;class M8 extends k8{get _bsontype(){return"Decimal128"}constructor(Z){super();if(typeof Z==="string")this.bytes=M8.fromString(Z).bytes;else if(cZ(Z)){if(Z.byteLength!==16)throw new c("Decimal128 must take a Buffer of 16 bytes");this.bytes=Z}else throw new c("Decimal128 must take a Buffer or string")}static fromString(Z){return M8._fromString(Z,{allowRounding:!1})}static fromStringWithRounding(Z){return M8._fromString(Z,{allowRounding:!0})}static _fromString(Z,Y){let J=!1,X=!1,$=!1,W=!1,G=0,Q=0,K=0,H=0,z=0;const F=[0];let U=0,q=0,V=0,L=0,w=new T(0,0),B=new T(0,0),A=0,M=0;if(Z.length>=7000)throw new c(""+Z+" not a valid Decimal128 string");const I=Z.match(_51),x=Z.match(x51),j=Z.match(f51);if(!I&&!x&&!j||Z.length===0)throw new c(""+Z+" not a valid Decimal128 string");if(I){const b=I[2],_=I[4],O=I[5],k=I[6];if(_&&k===void 0)A7(Z,"missing exponent power");if(_&&b===void 0)A7(Z,"missing exponent base");if(_===void 0&&(O||k))A7(Z,"missing e before exponent")}if(Z[M]==="+"||Z[M]==="-")X=!0,J=Z[M++]==="-";if(!EP(Z[M])&&Z[M]!=="."){if(Z[M]==="i"||Z[M]==="I")return new M8(J?PP:TP);else if(Z[M]==="N")return new M8(BU)}while(EP(Z[M])||Z[M]==="."){if(Z[M]==="."){if($)A7(Z,"contains multiple periods");$=!0,M=M+1;continue}if(U<DP){if(Z[M]!=="0"||W){if(!W)z=Q;W=!0,F[q++]=parseInt(Z[M],10),U=U+1}}if(W)K=K+1;if($)H=H+1;Q=Q+1,M=M+1}if($&&!Q)throw new c(""+Z+" not a valid Decimal128 string");if(Z[M]==="e"||Z[M]==="E"){const b=Z.substr(++M).match(y51);if(!b||!b[2])return new M8(BU);L=parseInt(b[0],10),M=M+b[0].length}if(Z[M])return new M8(BU);if(!U)F[0]=0,K=1,U=1,G=0;else if(V=U-1,G=K,G!==1)while(Z[z+G-1+Number(X)+Number($)]==="0")G=G-1;if(L<=H&&H>L+(1<<14))L=sX;else L=L-H;while(L>PY){if(V=V+1,V>=DP){if(G===0){L=PY;break}A7(Z,"overflow")}L=L-1}if(Y.allowRounding){while(L<sX||U<K){if(V===0&&G<U){L=sX,G=0;break}if(U<K)K=K-1;else V=V-1;if(L<PY)L=L+1;else{if(F.join("").match(/^0+$/)){L=PY;break}A7(Z,"overflow")}}if(V+1<G){let b=Q;if($)z=z+1,b=b+1;if(X)z=z+1,b=b+1;const _=parseInt(Z[z+V+1],10);let O=0;if(_>=5){if(O=1,_===5){O=F[V]%2===1?1:0;for(let k=z+V+2;k<b;k++)if(parseInt(Z[k],10)){O=1;break}}}if(O){let k=V;for(;k>=0;k--)if(++F[k]>9){if(F[k]=0,k===0)if(L<PY)L=L+1,F[k]=1;else return new M8(J?PP:TP)}else break}}}else{while(L<sX||U<K){if(V===0){if(G===0){L=sX;break}A7(Z,"exponent underflow")}if(U<K){if(Z[K-1+Number(X)+Number($)]!=="0"&&G!==0)A7(Z,"inexact rounding");K=K-1}else{if(F[V]!==0)A7(Z,"inexact rounding");V=V-1}if(L<PY)L=L+1;else A7(Z,"overflow")}if(V+1<G){if($)z=z+1;if(X)z=z+1;if(parseInt(Z[z+V+1],10)!==0)A7(Z,"inexact rounding")}}if(w=T.fromNumber(0),B=T.fromNumber(0),G===0)w=T.fromNumber(0),B=T.fromNumber(0);else if(V<17){let b=0;B=T.fromNumber(F[b++]),w=new T(0,0);for(;b<=V;b++)B=B.multiply(T.fromNumber(10)),B=B.add(T.fromNumber(F[b]))}else{let b=0;w=T.fromNumber(F[b++]);for(;b<=V-17;b++)w=w.multiply(T.fromNumber(10)),w=w.add(T.fromNumber(F[b]));B=T.fromNumber(F[b++]);for(;b<=V;b++)B=B.multiply(T.fromNumber(10)),B=B.add(T.fromNumber(F[b]))}const E=m51(w,T.fromString("100000000000000000"));if(E.low=E.low.add(B),u51(E.low,B))E.high=E.high.add(T.fromNumber(1));A=L+IP;const D={low:T.fromNumber(0),high:T.fromNumber(0)};if(E.high.shiftRightUnsigned(49).and(T.fromNumber(1)).equals(T.fromNumber(1)))D.high=D.high.or(T.fromNumber(3).shiftLeft(61)),D.high=D.high.or(T.fromNumber(A).and(T.fromNumber(16383).shiftLeft(47))),D.high=D.high.or(E.high.and(T.fromNumber(140737488355327)));else D.high=D.high.or(T.fromNumber(A&16383).shiftLeft(49)),D.high=D.high.or(E.high.and(T.fromNumber(562949953421311)));if(D.low=E.low,J)D.high=D.high.or(T.fromString("9223372036854775808"));const l=y.allocate(16);return M=0,l[M++]=D.low.low&255,l[M++]=D.low.low>>8&255,l[M++]=D.low.low>>16&255,l[M++]=D.low.low>>24&255,l[M++]=D.low.high&255,l[M++]=D.low.high>>8&255,l[M++]=D.low.high>>16&255,l[M++]=D.low.high>>24&255,l[M++]=D.high.low&255,l[M++]=D.high.low>>8&255,l[M++]=D.high.low>>16&255,l[M++]=D.high.low>>24&255,l[M++]=D.high.high&255,l[M++]=D.high.high>>8&255,l[M++]=D.high.high>>16&255,l[M++]=D.high.high>>24&255,new M8(l)}toString(){let Z,Y=0;const J=new Array(36);for(let M=0;M<J.length;M++)J[M]=0;let X=0,$=!1,W,G={parts:[0,0,0,0]},Q,K;const H=[];X=0;const z=this.bytes,F=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24,U=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24,q=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24,V=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24;if(X=0,{low:new T(F,U),high:new T(q,V)}.high.lessThan(T.ZERO))H.push("-");const w=V>>26&g51;if(w>>3===3)if(w===b51)return H.join("")+"Infinity";else if(w===v51)return"NaN";else Z=V>>15&CP,W=8+(V>>14&1);else W=V>>14&7,Z=V>>17&CP;const B=Z-IP;if(G.parts[0]=(V&16383)+((W&15)<<14),G.parts[1]=q,G.parts[2]=U,G.parts[3]=F,G.parts[0]===0&&G.parts[1]===0&&G.parts[2]===0&&G.parts[3]===0)$=!0;else for(K=3;K>=0;K--){let M=0;const I=h51(G);if(G=I.quotient,M=I.rem.low,!M)continue;for(Q=8;Q>=0;Q--)J[K*9+Q]=M%10,M=Math.floor(M/10)}if($)Y=1,J[X]=0;else{Y=36;while(!J[X])Y=Y-1,X=X+1}const A=Y-1+B;if(A>=34||A<=-7||B>0){if(Y>34){if(H.push("0"),B>0)H.push(`E+${B}`);else if(B<0)H.push(`E${B}`);return H.join("")}if(H.push(`${J[X++]}`),Y=Y-1,Y)H.push(".");for(let M=0;M<Y;M++)H.push(`${J[X++]}`);if(H.push("E"),A>0)H.push(`+${A}`);else H.push(`${A}`)}else if(B>=0)for(let M=0;M<Y;M++)H.push(`${J[X++]}`);else{let M=Y+B;if(M>0)for(let I=0;I<M;I++)H.push(`${J[X++]}`);else H.push("0");H.push(".");while(M++<0)H.push("0");for(let I=0;I<Y-Math.max(M-1,0);I++)H.push(`${J[X++]}`)}return H.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(Z){return M8.fromString(Z.$numberDecimal)}inspect(Z,Y,J){return J??=N6,`new Decimal128(${J(this.toString(),Y)})`}}class S5 extends k8{get _bsontype(){return"Double"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z}valueOf(){return this.value}toJSON(){return this.value}toString(Z){return this.value.toString(Z)}toExtendedJSON(Z){if(Z&&(Z.legacy||Z.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-0.0"};return{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(Z,Y){const J=parseFloat(Z.$numberDouble);return Y&&Y.relaxed?J:new S5(J)}inspect(Z,Y,J){return J??=N6,`new Double(${J(this.value,Y)})`}}class k5 extends k8{get _bsontype(){return"Int32"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z|0}valueOf(){return this.value}toString(Z){return this.value.toString(Z)}toJSON(){return this.value}toExtendedJSON(Z){if(Z&&(Z.relaxed||Z.legacy))return this.value;return{$numberInt:this.value.toString()}}static fromExtendedJSON(Z,Y){return Y&&Y.relaxed?parseInt(Z.$numberInt,10):new k5(Z.$numberInt)}inspect(Z,Y,J){return J??=N6,`new Int32(${J(this.value,Y)})`}}class lZ extends k8{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new lZ}inspect(){return"new MaxKey()"}}class iZ extends k8{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new iZ}inspect(){return"new MinKey()"}}var d51=new RegExp("^[0-9a-fA-F]{24}$"),dZ=null,_4=Symbol("id");class B0 extends k8{get _bsontype(){return"ObjectId"}constructor(Z){super();let Y;if(typeof Z==="object"&&Z&&"id"in Z){if(typeof Z.id!=="string"&&!ArrayBuffer.isView(Z.id))throw new c("Argument passed in must have an id that is of type string or Buffer");if("toHexString"in Z&&typeof Z.toHexString==="function")Y=y.fromHex(Z.toHexString());else Y=Z.id}else Y=Z;if(Y==null||typeof Y==="number")this[_4]=B0.generate(typeof Y==="number"?Y:void 0);else if(ArrayBuffer.isView(Y)&&Y.byteLength===12)this[_4]=y.toLocalBufferType(Y);else if(typeof Y==="string")if(Y.length===24&&d51.test(Y))this[_4]=y.fromHex(Y);else throw new c("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new c("Argument passed in does not match the accepted types");if(B0.cacheHexString)this.__id=y.toHex(this.id)}get id(){return this[_4]}set id(Z){if(this[_4]=Z,B0.cacheHexString)this.__id=y.toHex(Z)}toHexString(){if(B0.cacheHexString&&this.__id)return this.__id;const Z=y.toHex(this.id);if(B0.cacheHexString&&!this.__id)this.__id=Z;return Z}static getInc(){return B0.index=(B0.index+1)%16777215}static generate(Z){if(typeof Z!=="number")Z=Math.floor(Date.now()/1000);const Y=B0.getInc(),J=y.allocate(12);if(tX.fromUint8Array(J).setUint32(0,Z,!1),dZ===null)dZ=y.randomBytes(5);return J[4]=dZ[0],J[5]=dZ[1],J[6]=dZ[2],J[7]=dZ[3],J[8]=dZ[4],J[11]=Y&255,J[10]=Y>>8&255,J[9]=Y>>16&255,J}toString(Z){if(Z==="base64")return y.toBase64(this.id);if(Z==="hex")return this.toHexString();return this.toHexString()}toJSON(){return this.toHexString()}static is(Z){return Z!=null&&typeof Z==="object"&&"_bsontype"in Z&&Z._bsontype==="ObjectId"}equals(Z){if(Z===void 0||Z===null)return!1;if(B0.is(Z))return this[_4][11]===Z[_4][11]&&y.equals(this[_4],Z[_4]);if(typeof Z==="string")return Z.toLowerCase()===this.toHexString();if(typeof Z==="object"&&typeof Z.toHexString==="function"){const Y=Z.toHexString(),J=this.toHexString();return typeof Y==="string"&&Y.toLowerCase()===J}return!1}getTimestamp(){const Z=new Date,Y=tX.fromUint8Array(this.id).getUint32(0,!1);return Z.setTime(Math.floor(Y)*1000),Z}static createPk(){return new B0}static createFromTime(Z){const Y=y.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return tX.fromUint8Array(Y).setUint32(0,Z,!1),new B0(Y)}static createFromHexString(Z){if(Z?.length!==24)throw new c("hex string must be 24 characters");return new B0(y.fromHex(Z))}static createFromBase64(Z){if(Z?.length!==16)throw new c("base64 string must be 16 characters");return new B0(y.fromBase64(Z))}static isValid(Z){if(Z==null)return!1;try{return new B0(Z),!0}catch{return!1}}toExtendedJSON(){if(this.toHexString)return{$oid:this.toHexString()};return{$oid:this.toString("hex")}}static fromExtendedJSON(Z){return new B0(Z.$oid)}inspect(Z,Y,J){return J??=N6,`new ObjectId(${J(this.toHexString(),Y)})`}}B0.index=Math.floor(Math.random()*16777215);class l6 extends k8{get _bsontype(){return"BSONRegExp"}constructor(Z,Y){super();if(this.pattern=Z,this.options=c51(Y??""),this.pattern.indexOf("\0")!==-1)throw new c(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new c(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let J=0;J<this.options.length;J++)if(!(this.options[J]==="i"||this.options[J]==="m"||this.options[J]==="x"||this.options[J]==="l"||this.options[J]==="s"||this.options[J]==="u"))throw new c(`The regular expression option [${this.options[J]}] is not supported`)}static parseOptions(Z){return Z?Z.split("").sort().join(""):""}toExtendedJSON(Z){if(Z=Z||{},Z.legacy)return{$regex:this.pattern,$options:this.options};return{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(Z){if("$regex"in Z)if(typeof Z.$regex!=="string"){if(Z.$regex._bsontype==="BSONRegExp")return Z}else return new l6(Z.$regex,l6.parseOptions(Z.$options));if("$regularExpression"in Z)return new l6(Z.$regularExpression.pattern,l6.parseOptions(Z.$regularExpression.options));throw new c(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(Z)}`)}inspect(Z,Y,J){const X=w51(Y)??((G)=>G);J??=N6;const $=X(J(this.pattern),"regexp"),W=X(J(this.options),"regexp");return`new BSONRegExp(${$}, ${W})`}}class nZ extends k8{get _bsontype(){return"BSONSymbol"}constructor(Z){super();this.value=Z}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(Z){return new nZ(Z.$symbol)}inspect(Z,Y,J){return J??=N6,`new BSONSymbol(${J(this.value,Y)})`}}var p51=T;class p6 extends p51{get _bsontype(){return"Timestamp"}constructor(Z){if(Z==null)super(0,0,!0);else if(typeof Z==="bigint")super(Z,!0);else if(T.isLong(Z))super(Z.low,Z.high,!0);else if(typeof Z==="object"&&"t"in Z&&"i"in Z){if(typeof Z.t!=="number"&&(typeof Z.t!=="object"||Z.t._bsontype!=="Int32"))throw new c("Timestamp constructed from { t, i } must provide t as a number");if(typeof Z.i!=="number"&&(typeof Z.i!=="object"||Z.i._bsontype!=="Int32"))throw new c("Timestamp constructed from { t, i } must provide i as a number");const Y=Number(Z.t),J=Number(Z.i);if(Y<0||Number.isNaN(Y))throw new c("Timestamp constructed from { t, i } must provide a positive t");if(J<0||Number.isNaN(J))throw new c("Timestamp constructed from { t, i } must provide a positive i");if(Y>4294967295)throw new c("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(J>4294967295)throw new c("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(J,Y,!0)}else throw new c("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(Z){return new p6(T.fromInt(Z,!0))}static fromNumber(Z){return new p6(T.fromNumber(Z,!0))}static fromBits(Z,Y){return new p6({i:Z,t:Y})}static fromString(Z,Y){return new p6(T.fromString(Z,!0,Y))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(Z){const Y=T.isLong(Z.$timestamp.i)?Z.$timestamp.i.getLowBitsUnsigned():Z.$timestamp.i,J=T.isLong(Z.$timestamp.t)?Z.$timestamp.t.getLowBitsUnsigned():Z.$timestamp.t;return new p6({t:J,i:Y})}inspect(Z,Y,J){J??=N6;const X=J(this.high>>>0,Y),$=J(this.low>>>0,Y);return`new Timestamp({ t: ${X}, i: ${$} })`}}p6.MAX_VALUE=T.MAX_UNSIGNED_VALUE;var l51=128,i51=192,n51=224,a51=240,s51=248,r51=192,t51=224,o51=240,e51=128,ZZ1=T.fromNumber(xP),YZ1=T.fromNumber(fP),JZ1=/^\$ref$|^\$id$|^\$db$/,TG=/\x00/,OP=new Set(["$db","$ref","$id","$clusterTime"]),SY=new DataView(new ArrayBuffer(8),0,8),XZ1=new Uint8Array(SY.buffer,0,4),CG=new Uint8Array(SY.buffer,0,8),WZ1={$oid:B0,$binary:x1,$uuid:x1,$symbol:nZ,$numberInt:k5,$numberDecimal:M8,$numberDouble:S5,$numberLong:T,$minKey:iZ,$maxKey:lZ,$regex:l6,$regularExpression:l6,$timestamp:p6},QZ1={Binary:(Z)=>new x1(Z.value(),Z.sub_type),Code:(Z)=>new f4(Z.code,Z.scope),DBRef:(Z)=>new $4(Z.collection||Z.namespace,Z.oid,Z.db,Z.fields),Decimal128:(Z)=>new M8(Z.bytes),Double:(Z)=>new S5(Z.value),Int32:(Z)=>new k5(Z.value),Long:(Z)=>T.fromBits(Z.low!=null?Z.low:Z.low_,Z.low!=null?Z.high:Z.high_,Z.low!=null?Z.unsigned:Z.unsigned_),MaxKey:()=>new lZ,MinKey:()=>new iZ,ObjectId:(Z)=>new B0(Z),BSONRegExp:(Z)=>new l6(Z.pattern,Z.options),BSONSymbol:(Z)=>new nZ(Z.value),Timestamp:(Z)=>p6.fromBits(Z.low,Z.high)},aZ=Object.create(null);aZ.parse=oP;aZ.stringify=eP;aZ.serialize=HZ1;aZ.deserialize=zZ1;Object.freeze(aZ);var ZT=17825792,j5=y.allocate(ZT),FZ1=Object.freeze({__proto__:null,BSONError:c,BSONRegExp:l6,BSONRuntimeError:oX,BSONSymbol:nZ,BSONType:iP,BSONValue:k8,BSONVersionError:O5,Binary:x1,Code:f4,DBRef:$4,Decimal128:M8,Double:S5,EJSON:aZ,Int32:k5,Long:T,MaxKey:lZ,MinKey:iZ,ObjectId:B0,Timestamp:p6,UUID:s0,calculateObjectSize:WT,deserialize:$T,deserializeStream:GT,serialize:JT,serializeWithBufferAndIndex:XT,setInternalBufferSize:YT});UZ1.BSON=FZ1;UZ1.BSONError=c;UZ1.BSONRegExp=l6;UZ1.BSONRuntimeError=oX;UZ1.BSONSymbol=nZ;UZ1.BSONType=iP;UZ1.BSONValue=k8;UZ1.BSONVersionError=O5;UZ1.Binary=x1;UZ1.Code=f4;UZ1.DBRef=$4;UZ1.Decimal128=M8;UZ1.Double=S5;UZ1.EJSON=aZ;UZ1.Int32=k5;UZ1.Long=T;UZ1.MaxKey=lZ;UZ1.MinKey=iZ;UZ1.ObjectId=B0;UZ1.Timestamp=p6;UZ1.UUID=s0;UZ1.calculateObjectSize=WT;UZ1.deserialize=$T;UZ1.deserializeStream=GT;UZ1.serialize=JT;UZ1.serializeWithBufferAndIndex=XT;UZ1.setInternalBufferSize=YT});var OG=R((Ki1,QT)=>{QT.exports=i6().Decimal128});var $1=R((mZ1)=>{mZ1.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup");mZ1.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics");mZ1.arrayParentSymbol=Symbol("mongoose#Array#_parent");mZ1.arrayPathSymbol=Symbol("mongoose#Array#_path");mZ1.arraySchemaSymbol=Symbol("mongoose#Array#_schema");mZ1.documentArrayParent=Symbol("mongoose#documentArrayParent");mZ1.documentIsSelected=Symbol("mongoose#Document#isSelected");mZ1.documentIsModified=Symbol("mongoose#Document#isModified");mZ1.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths");mZ1.documentSchemaSymbol=Symbol("mongoose#Document#schema");mZ1.getSymbol=Symbol("mongoose#Document#get");mZ1.modelSymbol=Symbol("mongoose#Model");mZ1.objectIdSymbol=Symbol("mongoose#ObjectId");mZ1.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model");mZ1.schemaTypeSymbol=Symbol("mongoose#schemaType");mZ1.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments");mZ1.scopeSymbol=Symbol("mongoose#Document#scope");mZ1.validatorErrorSymbol=Symbol("mongoose#validatorError")});var y4=R((zi1,KT)=>{var Z3=i6().ObjectId,W91=$1().objectIdSymbol;Object.defineProperty(Z3.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});/*!
 * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
 */if(!Z3.prototype.hasOwnProperty("valueOf"))Z3.prototype.valueOf=function Z(){return this.toString()};Z3.prototype[W91]=!0;KT.exports=Z3});var sZ=R((Fi1,HT)=>{HT.exports=new Set(["__proto__","constructor","prototype"])});var SG=R((G91)=>{G91.isMongooseArray=function(Z){return Array.isArray(Z)&&Z.isMongooseArray}});var Y3=R((qi1,zT)=>{var K91=SG().isMongooseArray;zT.exports=function(Z){return Z!=null&&(K91(Z)||Z.$__!=null||Z.isMongooseBuffer||Z.$isMongooseMap)}});var nU=R((Vi1,FT)=>{var H91=/^function\s*([^\s(]+)/;FT.exports=function(Z){return Z.name||(Z.toString().trim().match(H91)||[])[1]}});var o8=R((Li1,UT)=>{var z91=function(Z,Y){return typeof Z==="object"&&Z!==null&&Z._bsontype===Y};UT.exports=z91});var _5=R((Ri1,qT)=>{qT.exports=function(Z){return Buffer.isBuffer(Z)||Object.prototype.toString.call(Z)==="[object Object]"}});var aU=R((wi1,VT)=>{VT.exports=function Z(Y){if(Y==null||typeof Y!=="object")return!1;const J=Object.getPrototypeOf(Y);return!J||J.constructor.name==="Object"}});var kY=R((F91)=>{var LT=Symbol("mongoose#trustedSymbol");F91.trustedSymbol=LT;F91.trusted=function Z(Y){if(Y==null||typeof Y!=="object")return Y;return Y[LT]=!0,Y}});var N0=R((Bi1,wT)=>{var tU=function(Z,Y,J){if(Z==null)return Z;if(Array.isArray(Z))return D91(B91(Z)?Z.__array:Z,Y);if(w91(Z)){if(Y&&Y._skipSingleNestedGetters&&Z.$isSingleNested)Y=Object.assign({},Y,{getters:!1});const $=Z.$isSingleNested;if(N91(Z)&&Z.$__!=null&&Z._doc!=null)return Z._doc;let W;if(Y&&Y.json&&typeof Z.toJSON==="function")W=Z.toJSON(Y);else W=Z.toObject(Y);if(Y&&Y.minimize&&$&&Object.keys(W).length===0)return;return W}const X=Z.constructor;if(X)switch(M91(X)){case"Object":return rU(Z,Y,J);case"Date":return new X(+Z);case"RegExp":return P91(Z);default:break}if(RT(Z,"ObjectId")){if(Y&&Y.flattenObjectIds)return Z.toJSON();return new L91(Z.id)}if(RT(Z,"Decimal128")){if(Y&&Y.flattenDecimals)return Z.toJSON();return V91.fromString(Z.toString())}if(!X&&A91(Z))return rU(Z,Y,J);if(typeof Z==="object"&&Z[I91.schemaTypeSymbol])return Z.clone();if(Y&&Y.bson&&typeof Z.toBSON==="function")return Z;if(typeof Z.valueOf==="function")return Z.valueOf();return rU(Z,Y,J)},rU=function(Z,Y,J){const X=Y&&Y.minimize,$=Y&&Y.omitUndefined,W=Y&&Y._seen,G={};let Q;if(W&&W.has(Z))return W.get(Z);else if(W)W.set(Z,G);if(sU in Z)G[sU]=Z[sU];let K=0,H="";const z=Object.keys(Z),F=z.length;for(K=0;K<F;++K){if(R91.has(H=z[K]))continue;const U=tU(Z[H],Y,!1);if((X===!1||$)&&typeof U==="undefined")delete G[H];else if(X!==!0||typeof U!=="undefined")Q||(Q=!0),G[H]=U}return X&&!J?Q&&G:G},D91=function(Z,Y){let J=0;const X=Z.length,$=new Array(X);for(J=0;J<X;++J)$[J]=tU(Z[J],Y,!0);return $},P91=function(Z){const Y=new RegExp(Z.source,Z.flags);if(Y.lastIndex!==Z.lastIndex)Y.lastIndex=Z.lastIndex;return Y},V91=OG(),L91=y4(),R91=sZ(),w91=Y3(),M91=nU(),RT=o8(),B91=SG().isMongooseArray,A91=_5(),N91=aU(),I91=$1(),sU=kY().trustedSymbol;wT.exports=tU;/*!
 * ignore
 */});var _Y=R((MT,BT)=>{/*!
 * Connection states
 */var W4=BT.exports=MT=Object.create(null);W4[0]="disconnected";W4[1]="connected";W4[2]="connecting";W4[3]="disconnecting";W4[99]="uninitialized";W4["disconnected"]=0;W4["connected"]=1;W4["connecting"]=2;W4["disconnecting"]=3;W4["uninitialized"]=99});var I6=R((Ai1,AT)=>{/*!
 * Centralize this so we can more easily work around issues with people
 * stubbing out `process.nextTick()` in tests using sinon:
 * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
 * See gh-6074
 */var T91=typeof process!=="undefined"&&typeof process.nextTick==="function"?process.nextTick.bind(process):(Z)=>setTimeout(Z,0);AT.exports=function Z(Y){return T91(Y)}});var DT=R((Ni1,IT)=>{var s1=function(Z,Y,J){if(J===void 0)J={};if(this.opts=J,this.name=Z,this.collectionName=Z,this.conn=Y,this.queue=[],this.buffer=!0,this.emitter=new C91,E91.connected===this.conn.readyState)this.onOpen()};/*!
 * Module dependencies.
 */var C91=import.meta.require("events").EventEmitter,E91=_Y(),NT=I6();s1.prototype.name;s1.prototype.collectionName;s1.prototype.conn;s1.prototype.onOpen=function(){this.buffer=!1,NT(()=>this.doQueue())};s1.prototype.onClose=function(){};s1.prototype.addQueue=function(Z,Y){return this.queue.push([Z,Y]),this};s1.prototype.removeQueue=function(Z,Y){const J=this.queue.findIndex((X)=>X[0]===Z&&X[1]===Y);if(J===-1)return!1;return this.queue.splice(J,1),!0};s1.prototype.doQueue=function(){for(let Y of this.queue)if(typeof Y[0]==="function")Y[0].apply(this,Y[1]);else this[Y[0]].apply(this,Y[1]);this.queue=[];const Z=this;return NT(function(){Z.emitter.emit("queue")}),this};s1.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")};s1.prototype.createIndex=function(){throw new Error("Collection#createIndex unimplemented by driver")};s1.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")};s1.prototype.findOneAndUpdate=function(){throw new Error("Collection#findOneAndUpdate unimplemented by driver")};s1.prototype.findOneAndDelete=function(){throw new Error("Collection#findOneAndDelete unimplemented by driver")};s1.prototype.findOneAndReplace=function(){throw new Error("Collection#findOneAndReplace unimplemented by driver")};s1.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")};s1.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")};s1.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")};s1.prototype.insertOne=function(){throw new Error("Collection#insertOne unimplemented by driver")};s1.prototype.insertMany=function(){throw new Error("Collection#insertMany unimplemented by driver")};s1.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")};s1.prototype.updateOne=function(){throw new Error("Collection#updateOne unimplemented by driver")};s1.prototype.updateMany=function(){throw new Error("Collection#updateMany unimplemented by driver")};s1.prototype.deleteOne=function(){throw new Error("Collection#deleteOne unimplemented by driver")};s1.prototype.deleteMany=function(){throw new Error("Collection#deleteMany unimplemented by driver")};s1.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")};s1.prototype.watch=function(){throw new Error("Collection#watch unimplemented by driver")};/*!
 * ignore
 */s1.prototype._shouldBufferCommands=function Z(){const Y=this.opts;if(Y.bufferCommands!=null)return Y.bufferCommands;if(Y&&Y.schemaUserProvidedOptions!=null&&Y.schemaUserProvidedOptions.bufferCommands!=null)return Y.schemaUserProvidedOptions.bufferCommands;return this.conn._shouldBufferCommands()};/*!
 * ignore
 */s1.prototype._getBufferTimeoutMS=function Z(){const Y=this.conn,J=this.opts;if(J.bufferTimeoutMS!=null)return J.bufferTimeoutMS;if(J&&J.schemaUserProvidedOptions!=null&&J.schemaUserProvidedOptions.bufferTimeoutMS!=null)return J.schemaUserProvidedOptions.bufferTimeoutMS;if(Y.config.bufferTimeoutMS!=null)return Y.config.bufferTimeoutMS;if(Y.base!=null&&Y.base.get("bufferTimeoutMS")!=null)return Y.base.get("bufferTimeoutMS");return 1e4};/*!
 * Module exports.
 */IT.exports=s1});var z0=R((Ii1,PT)=>{/*!
 * ignore
 */class oU extends Error{}Object.defineProperty(oU.prototype,"name",{value:"MongooseError"});PT.exports=oU});var G0=R((j0)=>{var j91=function(Z){const{fieldsAsRaw:Y,useBigInt64:J,promoteValues:X,promoteBuffers:$,promoteLongs:W,serializeFunctions:G,ignoreUndefined:Q,bsonRegExp:K,raw:H,enableUtf8Validation:z}=Z;return{fieldsAsRaw:Y,useBigInt64:J,promoteValues:X,promoteBuffers:$,promoteLongs:W,serializeFunctions:G,ignoreUndefined:Q,bsonRegExp:K,raw:H,enableUtf8Validation:z}},O91=function(Z,Y){const J=Y?.bsonOptions;return{raw:Z?.raw??J?.raw??!1,useBigInt64:Z?.useBigInt64??J?.useBigInt64??!1,promoteLongs:Z?.promoteLongs??J?.promoteLongs??!0,promoteValues:Z?.promoteValues??J?.promoteValues??!0,promoteBuffers:Z?.promoteBuffers??J?.promoteBuffers??!1,ignoreUndefined:Z?.ignoreUndefined??J?.ignoreUndefined??!1,bsonRegExp:Z?.bsonRegExp??J?.bsonRegExp??!1,serializeFunctions:Z?.serializeFunctions??J?.serializeFunctions??!1,fieldsAsRaw:Z?.fieldsAsRaw??J?.fieldsAsRaw??{},enableUtf8Validation:Z?.enableUtf8Validation??J?.enableUtf8Validation??!0}};Object.defineProperty(j0,"__esModule",{value:!0});j0.resolveBSONOptions=j0.pluckBSONSerializeOptions=j0.UUID=j0.Timestamp=j0.serialize=j0.ObjectId=j0.MinKey=j0.MaxKey=j0.Long=j0.Int32=j0.Double=j0.deserialize=j0.Decimal128=j0.DBRef=j0.Code=j0.calculateObjectSize=j0.BSONType=j0.BSONSymbol=j0.BSONRegExp=j0.BSON=j0.Binary=void 0;var u0=i6();Object.defineProperty(j0,"Binary",{enumerable:!0,get:function(){return u0.Binary}});Object.defineProperty(j0,"BSON",{enumerable:!0,get:function(){return u0.BSON}});Object.defineProperty(j0,"BSONRegExp",{enumerable:!0,get:function(){return u0.BSONRegExp}});Object.defineProperty(j0,"BSONSymbol",{enumerable:!0,get:function(){return u0.BSONSymbol}});Object.defineProperty(j0,"BSONType",{enumerable:!0,get:function(){return u0.BSONType}});Object.defineProperty(j0,"calculateObjectSize",{enumerable:!0,get:function(){return u0.calculateObjectSize}});Object.defineProperty(j0,"Code",{enumerable:!0,get:function(){return u0.Code}});Object.defineProperty(j0,"DBRef",{enumerable:!0,get:function(){return u0.DBRef}});Object.defineProperty(j0,"Decimal128",{enumerable:!0,get:function(){return u0.Decimal128}});Object.defineProperty(j0,"deserialize",{enumerable:!0,get:function(){return u0.deserialize}});Object.defineProperty(j0,"Double",{enumerable:!0,get:function(){return u0.Double}});Object.defineProperty(j0,"Int32",{enumerable:!0,get:function(){return u0.Int32}});Object.defineProperty(j0,"Long",{enumerable:!0,get:function(){return u0.Long}});Object.defineProperty(j0,"MaxKey",{enumerable:!0,get:function(){return u0.MaxKey}});Object.defineProperty(j0,"MinKey",{enumerable:!0,get:function(){return u0.MinKey}});Object.defineProperty(j0,"ObjectId",{enumerable:!0,get:function(){return u0.ObjectId}});Object.defineProperty(j0,"serialize",{enumerable:!0,get:function(){return u0.serialize}});Object.defineProperty(j0,"Timestamp",{enumerable:!0,get:function(){return u0.Timestamp}});Object.defineProperty(j0,"UUID",{enumerable:!0,get:function(){return u0.UUID}});j0.pluckBSONSerializeOptions=j91;j0.resolveBSONOptions=O91});var o=R((eT)=>{var k91=function(Z){return"errors"in Z&&Array.isArray(Z.errors)},_91=function(Z){return Z[pT]===!0},x91=function(Z){const Y=Object.assign({},Z);if(Y.ok===0)Y.ok=1,delete Y.errmsg,delete Y.code,delete Y.codeName;return Y},f91=function(Z,Y){if(Z instanceof rZ)return!0;if(Z instanceof G4){if((Y>=9||Z.hasErrorLabel(eT.MongoErrorLabel.RetryableWriteError))&&!Z.hasErrorLabel(eT.MongoErrorLabel.HandshakeError))return!1}if(Z instanceof Jq)return CT.has(Z.result?.code??Z.code??0);if(Z instanceof G4&&typeof Z.code==="number")return CT.has(Z.code);if(eT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(eT.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},y91=function(Z){return Z.hasErrorLabel(eT.MongoErrorLabel.RetryableWriteError)},g91=function(Z){if(typeof Z.code==="number"?tT.has(Z.code):!1)return!0;if(Z instanceof rZ)return!0;if(eT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(eT.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},oT=function(Z){if(typeof Z.code==="number")return b91.has(Z.code);return eT.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(Z.message)||eT.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message)},m91=function(Z){if(typeof Z.code==="number")return v91.has(Z.code);if(oT(Z))return!1;return eT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message)},u91=function(Z){return!!(typeof Z.code==="number"&&h91.has(Z.code))},d91=function(Z){if(Z instanceof Zq||Z==null)return!0;return oT(Z)||m91(Z)},c91=function(Z){return!!(Z instanceof rZ&&Z.message.match(/timed out/))},p91=function(Z,Y){if(Z==null||!(Z instanceof G4))return!1;if(Z instanceof rZ)return!0;if(Y!=null&&Y>=9){if(Z.code===eT.MONGODB_ERROR_CODES.CursorNotFound)return!0;return Z.hasErrorLabel(eT.MongoErrorLabel.ResumableChangeStreamError)}if(typeof Z.code==="number")return eT.GET_MORE_RESUMABLE_CODES.has(Z.code);return!1};Object.defineProperty(eT,"__esModule",{value:!0});eT.isResumableError=eT.isNetworkTimeoutError=eT.isSDAMUnrecoverableError=eT.isNodeShuttingDownError=eT.isRetryableReadError=eT.isRetryableWriteError=eT.needsRetryableWriteLabel=eT.MongoWriteConcernError=eT.MongoServerSelectionError=eT.MongoSystemError=eT.MongoMissingDependencyError=eT.MongoMissingCredentialsError=eT.MongoCompatibilityError=eT.MongoInvalidArgumentError=eT.MongoParseError=eT.MongoNetworkTimeoutError=eT.MongoNetworkError=eT.isNetworkErrorBeforeHandshake=eT.MongoTopologyClosedError=eT.MongoCursorExhaustedError=eT.MongoServerClosedError=eT.MongoCursorInUseError=eT.MongoUnexpectedServerResponseError=eT.MongoGridFSChunkError=eT.MongoGridFSStreamError=eT.MongoTailableCursorError=eT.MongoChangeStreamError=eT.MongoAzureError=eT.MongoAWSError=eT.MongoKerberosError=eT.MongoExpiredSessionError=eT.MongoTransactionError=eT.MongoNotConnectedError=eT.MongoDecompressionError=eT.MongoBatchReExecutionError=eT.MongoRuntimeError=eT.MongoAPIError=eT.MongoDriverError=eT.MongoServerError=eT.MongoError=eT.MongoErrorLabel=eT.GET_MORE_RESUMABLE_CODES=eT.MONGODB_ERROR_CODES=eT.NODE_IS_RECOVERING_ERROR_MESSAGE=eT.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=eT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;var J3=Symbol("errorLabels");eT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i");eT.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i");eT.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i");eT.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391});eT.GET_MORE_RESUMABLE_CODES=new Set([eT.MONGODB_ERROR_CODES.HostUnreachable,eT.MONGODB_ERROR_CODES.HostNotFound,eT.MONGODB_ERROR_CODES.NetworkTimeout,eT.MONGODB_ERROR_CODES.ShutdownInProgress,eT.MONGODB_ERROR_CODES.PrimarySteppedDown,eT.MONGODB_ERROR_CODES.ExceededTimeLimit,eT.MONGODB_ERROR_CODES.SocketException,eT.MONGODB_ERROR_CODES.NotWritablePrimary,eT.MONGODB_ERROR_CODES.InterruptedAtShutdown,eT.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,eT.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,eT.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,eT.MONGODB_ERROR_CODES.StaleShardVersion,eT.MONGODB_ERROR_CODES.StaleEpoch,eT.MONGODB_ERROR_CODES.StaleConfig,eT.MONGODB_ERROR_CODES.RetryChangeStream,eT.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,eT.MONGODB_ERROR_CODES.CursorNotFound]);eT.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});class G4 extends Error{constructor(Z,Y){super(Z,Y);this[J3]=new Set}static buildErrorMessage(Z){if(typeof Z==="string")return Z;if(k91(Z)&&Z.message.length===0)return Z.errors.length===0?"AggregateError has an empty errors array. Please check the `cause` property for more information.":Z.errors.map(({message:Y})=>Y).join(", ");return Z.message}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(Z){return this[J3].has(Z)}addErrorLabel(Z){this[J3].add(Z)}get errorLabels(){return Array.from(this[J3])}}eT.MongoError=G4;class eU extends G4{constructor(Z){super(Z.message||Z.errmsg||Z.$err||"n/a");if(Z.errorLabels)this[J3]=new Set(Z.errorLabels);for(let Y in Z)if(Y!=="errorLabels"&&Y!=="errmsg"&&Y!=="message")this[Y]=Z[Y]}get name(){return"MongoServerError"}}eT.MongoServerError=eU;class $3 extends G4{constructor(Z,Y){super(Z,Y)}get name(){return"MongoDriverError"}}eT.MongoDriverError=$3;class _8 extends $3{constructor(Z,Y){super(Z,Y)}get name(){return"MongoAPIError"}}eT.MongoAPIError=_8;class Q4 extends $3{constructor(Z,Y){super(Z,Y)}get name(){return"MongoRuntimeError"}}eT.MongoRuntimeError=Q4;class ET extends _8{constructor(Z="This batch has already been executed, create new batch to execute"){super(Z)}get name(){return"MongoBatchReExecutionError"}}eT.MongoBatchReExecutionError=ET;class jT extends Q4{constructor(Z){super(Z)}get name(){return"MongoDecompressionError"}}eT.MongoDecompressionError=jT;class OT extends _8{constructor(Z){super(Z)}get name(){return"MongoNotConnectedError"}}eT.MongoNotConnectedError=OT;class ST extends _8{constructor(Z){super(Z)}get name(){return"MongoTransactionError"}}eT.MongoTransactionError=ST;class kT extends _8{constructor(Z="Cannot use a session that has ended"){super(Z)}get name(){return"MongoExpiredSessionError"}}eT.MongoExpiredSessionError=kT;class _T extends Q4{constructor(Z){super(Z)}get name(){return"MongoKerberosError"}}eT.MongoKerberosError=_T;class xT extends Q4{constructor(Z){super(Z)}get name(){return"MongoAWSError"}}eT.MongoAWSError=xT;class fT extends Q4{constructor(Z){super(Z)}get name(){return"MongoAzureError"}}eT.MongoAzureError=fT;class yT extends Q4{constructor(Z){super(Z)}get name(){return"MongoChangeStreamError"}}eT.MongoChangeStreamError=yT;class gT extends _8{constructor(Z="Tailable cursor does not support this operation"){super(Z)}get name(){return"MongoTailableCursorError"}}eT.MongoTailableCursorError=gT;class bT extends Q4{constructor(Z){super(Z)}get name(){return"MongoGridFSStreamError"}}eT.MongoGridFSStreamError=bT;class vT extends Q4{constructor(Z){super(Z)}get name(){return"MongoGridFSChunkError"}}eT.MongoGridFSChunkError=vT;class hT extends Q4{constructor(Z){super(Z)}get name(){return"MongoUnexpectedServerResponseError"}}eT.MongoUnexpectedServerResponseError=hT;class mT extends _8{constructor(Z="Cursor is already initialized"){super(Z)}get name(){return"MongoCursorInUseError"}}eT.MongoCursorInUseError=mT;class uT extends _8{constructor(Z="Server is closed"){super(Z)}get name(){return"MongoServerClosedError"}}eT.MongoServerClosedError=uT;class dT extends _8{constructor(Z){super(Z||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}}eT.MongoCursorExhaustedError=dT;class cT extends _8{constructor(Z="Topology is closed"){super(Z)}get name(){return"MongoTopologyClosedError"}}eT.MongoTopologyClosedError=cT;var pT=Symbol("beforeHandshake");eT.isNetworkErrorBeforeHandshake=_91;class rZ extends G4{constructor(Z,Y){super(Z,{cause:Y?.cause});if(Y&&typeof Y.beforeHandshake==="boolean")this[pT]=Y.beforeHandshake}get name(){return"MongoNetworkError"}}eT.MongoNetworkError=rZ;class lT extends rZ{constructor(Z,Y){super(Z,Y)}get name(){return"MongoNetworkTimeoutError"}}eT.MongoNetworkTimeoutError=lT;class Zq extends $3{constructor(Z){super(Z)}get name(){return"MongoParseError"}}eT.MongoParseError=Zq;class iT extends _8{constructor(Z){super(Z)}get name(){return"MongoInvalidArgumentError"}}eT.MongoInvalidArgumentError=iT;class nT extends _8{constructor(Z){super(Z)}get name(){return"MongoCompatibilityError"}}eT.MongoCompatibilityError=nT;class aT extends _8{constructor(Z){super(Z)}get name(){return"MongoMissingCredentialsError"}}eT.MongoMissingCredentialsError=aT;class sT extends _8{constructor(Z,Y={}){super(Z,Y)}get name(){return"MongoMissingDependencyError"}}eT.MongoMissingDependencyError=sT;class Yq extends G4{constructor(Z,Y){if(Y&&Y.error)super(G4.buildErrorMessage(Y.error.message||Y.error),{cause:Y.error});else super(Z);if(Y)this.reason=Y;this.code=Y.error?.code}get name(){return"MongoSystemError"}}eT.MongoSystemError=Yq;class rT extends Yq{constructor(Z,Y){super(Z,Y)}get name(){return"MongoServerSelectionError"}}eT.MongoServerSelectionError=rT;class Jq extends eU{constructor(Z,Y){if(Y&&Array.isArray(Y.errorLabels))Z.errorLabels=Y.errorLabels;super(Z);if(this.errInfo=Z.errInfo,Y!=null)this.result=x91(Y)}get name(){return"MongoWriteConcernError"}}eT.MongoWriteConcernError=Jq;var tT=new Set([eT.MONGODB_ERROR_CODES.HostUnreachable,eT.MONGODB_ERROR_CODES.HostNotFound,eT.MONGODB_ERROR_CODES.NetworkTimeout,eT.MONGODB_ERROR_CODES.ShutdownInProgress,eT.MONGODB_ERROR_CODES.PrimarySteppedDown,eT.MONGODB_ERROR_CODES.SocketException,eT.MONGODB_ERROR_CODES.NotWritablePrimary,eT.MONGODB_ERROR_CODES.InterruptedAtShutdown,eT.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,eT.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,eT.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),CT=new Set([...tT,eT.MONGODB_ERROR_CODES.ExceededTimeLimit]);eT.needsRetryableWriteLabel=f91;eT.isRetryableWriteError=y91;eT.isRetryableReadError=g91;var b91=new Set([eT.MONGODB_ERROR_CODES.ShutdownInProgress,eT.MONGODB_ERROR_CODES.PrimarySteppedDown,eT.MONGODB_ERROR_CODES.InterruptedAtShutdown,eT.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,eT.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),v91=new Set([eT.MONGODB_ERROR_CODES.NotWritablePrimary,eT.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,eT.MONGODB_ERROR_CODES.LegacyNotPrimary]),h91=new Set([eT.MONGODB_ERROR_CODES.InterruptedAtShutdown,eT.MONGODB_ERROR_CODES.ShutdownInProgress]);eT.isNodeShuttingDownError=u91;eT.isSDAMUnrecoverableError=d91;eT.isNetworkTimeoutError=c91;eT.isResumableError=p91});var d0=R((XC)=>{Object.defineProperty(XC,"__esModule",{value:!0});XC.ReadPreference=XC.ReadPreferenceMode=void 0;var tZ=o();XC.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});class E1{constructor(Z,Y,J){if(!E1.isValid(Z))throw new tZ.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(Z)}`);if(J==null&&typeof Y==="object"&&!Array.isArray(Y))J=Y,Y=void 0;else if(Y&&!Array.isArray(Y))throw new tZ.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=Z,this.tags=Y,this.hedge=J?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,J=J??{},J.maxStalenessSeconds!=null){if(J.maxStalenessSeconds<=0)throw new tZ.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=J.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===E1.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new tZ.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new tZ.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new tZ.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(Z){return new E1(Z)}static fromOptions(Z){if(!Z)return;const Y=Z.readPreference??Z.session?.transaction.options.readPreference,J=Z.readPreferenceTags;if(Y==null)return;if(typeof Y==="string")return new E1(Y,J,{maxStalenessSeconds:Z.maxStalenessSeconds,hedge:Z.hedge});else if(!(Y instanceof E1)&&typeof Y==="object"){const X=Y.mode||Y.preference;if(X&&typeof X==="string")return new E1(X,Y.tags??J,{maxStalenessSeconds:Y.maxStalenessSeconds,hedge:Z.hedge})}if(J)Y.tags=J;return Y}static translate(Z){if(Z.readPreference==null)return Z;const Y=Z.readPreference;if(typeof Y==="string")Z.readPreference=new E1(Y);else if(Y&&!(Y instanceof E1)&&typeof Y==="object"){const J=Y.mode||Y.preference;if(J&&typeof J==="string")Z.readPreference=new E1(J,Y.tags,{maxStalenessSeconds:Y.maxStalenessSeconds})}else if(!(Y instanceof E1))throw new tZ.MongoInvalidArgumentError(`Invalid read preference: ${Y}`);return Z}static isValid(Z){return(new Set([E1.PRIMARY,E1.PRIMARY_PREFERRED,E1.SECONDARY,E1.SECONDARY_PREFERRED,E1.NEAREST,null])).has(Z)}isValid(Z){return E1.isValid(typeof Z==="string"?Z:this.mode)}secondaryOk(){return(new Set([E1.PRIMARY_PREFERRED,E1.SECONDARY,E1.SECONDARY_PREFERRED,E1.NEAREST])).has(this.mode)}equals(Z){return Z.mode===this.mode}toJSON(){const Z={mode:this.mode};if(Array.isArray(this.tags))Z.tags=this.tags;if(this.maxStalenessSeconds)Z.maxStalenessSeconds=this.maxStalenessSeconds;if(this.hedge)Z.hedge=this.hedge;return Z}}E1.PRIMARY=XC.ReadPreferenceMode.primary;E1.PRIMARY_PREFERRED=XC.ReadPreferenceMode.primaryPreferred;E1.SECONDARY=XC.ReadPreferenceMode.secondary;E1.SECONDARY_PREFERRED=XC.ReadPreferenceMode.secondaryPreferred;E1.NEAREST=XC.ReadPreferenceMode.nearest;E1.primary=new E1(XC.ReadPreferenceMode.primary);E1.primaryPreferred=new E1(XC.ReadPreferenceMode.primaryPreferred);E1.secondary=new E1(XC.ReadPreferenceMode.secondary);E1.secondaryPreferred=new E1(XC.ReadPreferenceMode.secondaryPreferred);E1.nearest=new E1(XC.ReadPreferenceMode.nearest);XC.ReadPreference=E1});var n6=R((WC)=>{var kY1=function(Z){Z.forEach(SY1.clearTimeout),Z.clear()},_Y1=function(Z,Y){if(Z.clusterTime==null)Z.clusterTime=Y;else if(Y.clusterTime.greaterThan(Z.clusterTime.clusterTime))Z.clusterTime=Y};Object.defineProperty(WC,"__esModule",{value:!0});WC._advanceClusterTime=WC.drainTimerQueue=WC.ServerType=WC.TopologyType=WC.STATE_CONNECTED=WC.STATE_CONNECTING=WC.STATE_CLOSED=WC.STATE_CLOSING=void 0;var SY1=import.meta.require("timers");WC.STATE_CLOSING="closing";WC.STATE_CLOSED="closed";WC.STATE_CONNECTING="connecting";WC.STATE_CONNECTED="connected";WC.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});WC.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});WC.drainTimerQueue=kY1;WC._advanceClusterTime=_Y1});var G3=R((KC)=>{var uY1=function(){return(Z,Y)=>Xq(Z,Y.filter((J)=>J.isWritable))},dY1=function(Z){return(Y,J)=>{if(!Z)return[];return J.filter((X)=>{return X.address===Z.address&&X.type!==D6.ServerType.Unknown})}},cY1=function(Z,Y){if(!Y||!Z||Z&&Z<KC.MIN_SECONDARY_WRITE_WIRE_VERSION)return $q(W3.ReadPreference.primary);return $q(Y)},pY1=function(Z,Y,J){if(Z.maxStalenessSeconds==null||Z.maxStalenessSeconds<0)return J;const X=Z.maxStalenessSeconds,$=(Y.heartbeatFrequencyMS+mY1)/1000;if(X<$)throw new fG.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${$} seconds`);if(X<QC)throw new fG.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${QC} seconds`);if(Y.type===D6.TopologyType.ReplicaSetWithPrimary){const W=Array.from(Y.servers.values()).filter(xG)[0];return J.reduce((G,Q)=>{const H=(Q.lastUpdateTime-Q.lastWriteDate-(W.lastUpdateTime-W.lastWriteDate)+Y.heartbeatFrequencyMS)/1000,z=Z.maxStalenessSeconds??0;if(H<=z)G.push(Q);return G},[])}if(Y.type===D6.TopologyType.ReplicaSetNoPrimary){if(J.length===0)return J;const W=J.reduce((G,Q)=>Q.lastWriteDate>G.lastWriteDate?Q:G);return J.reduce((G,Q)=>{const H=(W.lastWriteDate-Q.lastWriteDate+Y.heartbeatFrequencyMS)/1000,z=Z.maxStalenessSeconds??0;if(H<=z)G.push(Q);return G},[])}return J},lY1=function(Z,Y){const J=Object.keys(Z),X=Object.keys(Y);for(let $=0;$<J.length;++$){const W=J[$];if(X.indexOf(W)===-1||Y[W]!==Z[W])return!1}return!0},iY1=function(Z,Y){if(Z.tags==null||Array.isArray(Z.tags)&&Z.tags.length===0)return Y;for(let J=0;J<Z.tags.length;++J){const X=Z.tags[J],$=Y.reduce((W,G)=>{if(lY1(X,G.tags))W.push(G);return W},[]);if($.length)return $}return[]},Xq=function(Z,Y){const J=Y.reduce(($,W)=>$===-1?W.roundTripTime:Math.min(W.roundTripTime,$),-1),X=J+Z.localThresholdMS;return Y.reduce(($,W)=>{if(W.roundTripTime<=X&&W.roundTripTime>=J)$.push(W);return $},[])},xG=function(Z){return Z.type===D6.ServerType.RSPrimary},nY1=function(Z){return Z.type===D6.ServerType.RSSecondary},aY1=function(Z){return Z.type===D6.ServerType.RSSecondary||Z.type===D6.ServerType.RSPrimary},sY1=function(Z){return Z.type!==D6.ServerType.Unknown},rY1=function(Z){return Z.type===D6.ServerType.LoadBalancer},$q=function(Z){if(!Z.isValid())throw new fG.MongoInvalidArgumentError("Invalid read preference specified");return(Y,J)=>{const X=Y.commonWireVersion;if(X&&Z.minWireVersion&&Z.minWireVersion>X)throw new fG.MongoCompatibilityError(`Minimum wire version '${Z.minWireVersion}' required, but found '${X}'`);if(Y.type===D6.TopologyType.LoadBalanced)return J.filter(rY1);if(Y.type===D6.TopologyType.Unknown)return[];if(Y.type===D6.TopologyType.Single||Y.type===D6.TopologyType.Sharded)return Xq(Y,J.filter(sY1));const $=Z.mode;if($===W3.ReadPreference.PRIMARY)return J.filter(xG);if($===W3.ReadPreference.PRIMARY_PREFERRED){const Q=J.filter(xG);if(Q.length)return Q}const W=$===W3.ReadPreference.NEAREST?aY1:nY1,G=Xq(Y,iY1(Z,pY1(Z,Y,J.filter(W))));if($===W3.ReadPreference.SECONDARY_PREFERRED&&G.length===0)return J.filter(xG);return G}};Object.defineProperty(KC,"__esModule",{value:!0});KC.readPreferenceServerSelector=KC.secondaryWritableServerSelector=KC.sameServerSelector=KC.writableServerSelector=KC.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;var fG=o(),W3=d0(),D6=n6(),mY1=1e4,QC=90;KC.MIN_SECONDARY_WRITE_WIRE_VERSION=13;KC.writableServerSelector=uY1;KC.sameServerSelector=dY1;KC.secondaryWritableServerSelector=cY1;KC.readPreferenceServerSelector=$q});var oZ=R((FC)=>{Object.defineProperty(FC,"__esModule",{value:!0});FC.OP_MSG=FC.OP_COMPRESSED=FC.OP_DELETE=FC.OP_QUERY=FC.OP_INSERT=FC.OP_UPDATE=FC.OP_REPLY=FC.MIN_SUPPORTED_QE_SERVER_VERSION=FC.MIN_SUPPORTED_QE_WIRE_VERSION=FC.MAX_SUPPORTED_WIRE_VERSION=FC.MIN_SUPPORTED_WIRE_VERSION=FC.MAX_SUPPORTED_SERVER_VERSION=FC.MIN_SUPPORTED_SERVER_VERSION=void 0;FC.MIN_SUPPORTED_SERVER_VERSION="3.6";FC.MAX_SUPPORTED_SERVER_VERSION="7.0";FC.MIN_SUPPORTED_WIRE_VERSION=6;FC.MAX_SUPPORTED_WIRE_VERSION=21;FC.MIN_SUPPORTED_QE_WIRE_VERSION=21;FC.MIN_SUPPORTED_QE_SERVER_VERSION="7.0";FC.OP_REPLY=1;FC.OP_UPDATE=2001;FC.OP_INSERT=2002;FC.OP_QUERY=2004;FC.OP_DELETE=2006;FC.OP_COMPRESSED=2012;FC.OP_MSG=2013});var r0=R((qC)=>{Object.defineProperty(qC,"__esModule",{value:!0});qC.TOPOLOGY_EVENTS=qC.CMAP_EVENTS=qC.HEARTBEAT_EVENTS=qC.RESUME_TOKEN_CHANGED=qC.END=qC.CHANGE=qC.INIT=qC.MORE=qC.RESPONSE=qC.SERVER_HEARTBEAT_FAILED=qC.SERVER_HEARTBEAT_SUCCEEDED=qC.SERVER_HEARTBEAT_STARTED=qC.COMMAND_FAILED=qC.COMMAND_SUCCEEDED=qC.COMMAND_STARTED=qC.CLUSTER_TIME_RECEIVED=qC.CONNECTION_CHECKED_IN=qC.CONNECTION_CHECKED_OUT=qC.CONNECTION_CHECK_OUT_FAILED=qC.CONNECTION_CHECK_OUT_STARTED=qC.CONNECTION_CLOSED=qC.CONNECTION_READY=qC.CONNECTION_CREATED=qC.CONNECTION_POOL_READY=qC.CONNECTION_POOL_CLEARED=qC.CONNECTION_POOL_CLOSED=qC.CONNECTION_POOL_CREATED=qC.TOPOLOGY_DESCRIPTION_CHANGED=qC.TOPOLOGY_CLOSED=qC.TOPOLOGY_OPENING=qC.SERVER_DESCRIPTION_CHANGED=qC.SERVER_CLOSED=qC.SERVER_OPENING=qC.DESCRIPTION_RECEIVED=qC.UNPINNED=qC.PINNED=qC.MESSAGE=qC.ENDED=qC.CLOSED=qC.CONNECT=qC.OPEN=qC.CLOSE=qC.TIMEOUT=qC.ERROR=qC.SYSTEM_JS_COLLECTION=qC.SYSTEM_COMMAND_COLLECTION=qC.SYSTEM_USER_COLLECTION=qC.SYSTEM_PROFILE_COLLECTION=qC.SYSTEM_INDEX_COLLECTION=qC.SYSTEM_NAMESPACE_COLLECTION=void 0;qC.LEGACY_HELLO_COMMAND_CAMEL_CASE=qC.LEGACY_HELLO_COMMAND=qC.MONGO_CLIENT_EVENTS=qC.LOCAL_SERVER_EVENTS=qC.SERVER_RELAY_EVENTS=qC.APM_EVENTS=void 0;qC.SYSTEM_NAMESPACE_COLLECTION="system.namespaces";qC.SYSTEM_INDEX_COLLECTION="system.indexes";qC.SYSTEM_PROFILE_COLLECTION="system.profile";qC.SYSTEM_USER_COLLECTION="system.users";qC.SYSTEM_COMMAND_COLLECTION="$cmd";qC.SYSTEM_JS_COLLECTION="system.js";qC.ERROR="error";qC.TIMEOUT="timeout";qC.CLOSE="close";qC.OPEN="open";qC.CONNECT="connect";qC.CLOSED="closed";qC.ENDED="ended";qC.MESSAGE="message";qC.PINNED="pinned";qC.UNPINNED="unpinned";qC.DESCRIPTION_RECEIVED="descriptionReceived";qC.SERVER_OPENING="serverOpening";qC.SERVER_CLOSED="serverClosed";qC.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged";qC.TOPOLOGY_OPENING="topologyOpening";qC.TOPOLOGY_CLOSED="topologyClosed";qC.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged";qC.CONNECTION_POOL_CREATED="connectionPoolCreated";qC.CONNECTION_POOL_CLOSED="connectionPoolClosed";qC.CONNECTION_POOL_CLEARED="connectionPoolCleared";qC.CONNECTION_POOL_READY="connectionPoolReady";qC.CONNECTION_CREATED="connectionCreated";qC.CONNECTION_READY="connectionReady";qC.CONNECTION_CLOSED="connectionClosed";qC.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted";qC.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed";qC.CONNECTION_CHECKED_OUT="connectionCheckedOut";qC.CONNECTION_CHECKED_IN="connectionCheckedIn";qC.CLUSTER_TIME_RECEIVED="clusterTimeReceived";qC.COMMAND_STARTED="commandStarted";qC.COMMAND_SUCCEEDED="commandSucceeded";qC.COMMAND_FAILED="commandFailed";qC.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted";qC.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded";qC.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed";qC.RESPONSE="response";qC.MORE="more";qC.INIT="init";qC.CHANGE="change";qC.END="end";qC.RESUME_TOKEN_CHANGED="resumeTokenChanged";qC.HEARTBEAT_EVENTS=Object.freeze([qC.SERVER_HEARTBEAT_STARTED,qC.SERVER_HEARTBEAT_SUCCEEDED,qC.SERVER_HEARTBEAT_FAILED]);qC.CMAP_EVENTS=Object.freeze([qC.CONNECTION_POOL_CREATED,qC.CONNECTION_POOL_READY,qC.CONNECTION_POOL_CLEARED,qC.CONNECTION_POOL_CLOSED,qC.CONNECTION_CREATED,qC.CONNECTION_READY,qC.CONNECTION_CLOSED,qC.CONNECTION_CHECK_OUT_STARTED,qC.CONNECTION_CHECK_OUT_FAILED,qC.CONNECTION_CHECKED_OUT,qC.CONNECTION_CHECKED_IN]);qC.TOPOLOGY_EVENTS=Object.freeze([qC.SERVER_OPENING,qC.SERVER_CLOSED,qC.SERVER_DESCRIPTION_CHANGED,qC.TOPOLOGY_OPENING,qC.TOPOLOGY_CLOSED,qC.TOPOLOGY_DESCRIPTION_CHANGED,qC.ERROR,qC.TIMEOUT,qC.CLOSE]);qC.APM_EVENTS=Object.freeze([qC.COMMAND_STARTED,qC.COMMAND_SUCCEEDED,qC.COMMAND_FAILED]);qC.SERVER_RELAY_EVENTS=Object.freeze([qC.SERVER_HEARTBEAT_STARTED,qC.SERVER_HEARTBEAT_SUCCEEDED,qC.SERVER_HEARTBEAT_FAILED,qC.COMMAND_STARTED,qC.COMMAND_SUCCEEDED,qC.COMMAND_FAILED,...qC.CMAP_EVENTS]);qC.LOCAL_SERVER_EVENTS=Object.freeze([qC.CONNECT,qC.DESCRIPTION_RECEIVED,qC.CLOSED,qC.ENDED]);qC.MONGO_CLIENT_EVENTS=Object.freeze([...qC.CMAP_EVENTS,...qC.APM_EVENTS,...qC.TOPOLOGY_EVENTS,...qC.HEARTBEAT_EVENTS]);qC.LEGACY_HELLO_COMMAND="ismaster";qC.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"});var a6=R((uC)=>{Object.defineProperty(uC,"__esModule",{value:!0});uC.ReadConcern=uC.ReadConcernLevel=void 0;uC.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});class fY{constructor(Z){this.level=uC.ReadConcernLevel[Z]??Z}static fromOptions(Z){if(Z==null)return;if(Z.readConcern){const{readConcern:Y}=Z;if(Y instanceof fY)return Y;else if(typeof Y==="string")return new fY(Y);else if("level"in Y&&Y.level)return new fY(Y.level)}if(Z.level)return new fY(Z.level);return}static get MAJORITY(){return uC.ReadConcernLevel.majority}static get AVAILABLE(){return uC.ReadConcernLevel.available}static get LINEARIZABLE(){return uC.ReadConcernLevel.linearizable}static get SNAPSHOT(){return uC.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}}uC.ReadConcern=fY});var e8=R((cC)=>{Object.defineProperty(cC,"__esModule",{value:!0});cC.WriteConcern=cC.WRITE_CONCERN_KEYS=void 0;cC.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];class Q3{constructor(Z,Y,J,X){if(Z!=null)if(!Number.isNaN(Number(Z)))this.w=Number(Z);else this.w=Z;if(Y!=null)this.wtimeoutMS=this.wtimeout=Y;if(J!=null)this.journal=this.j=J;if(X!=null)this.journal=this.j=X?!0:!1}static apply(Z,Y){const J={};if(Y.w!=null)J.w=Y.w;if(Y.wtimeoutMS!=null)J.wtimeout=Y.wtimeoutMS;if(Y.journal!=null)J.j=Y.j;return Z.writeConcern=J,Z}static fromOptions(Z,Y){if(Z==null)return;Y=Y??{};let J;if(typeof Z==="string"||typeof Z==="number")J={w:Z};else if(Z instanceof Q3)J=Z;else J=Z.writeConcern;const X=Y instanceof Q3?Y:Y.writeConcern,{w:$=void 0,wtimeout:W=void 0,j:G=void 0,fsync:Q=void 0,journal:K=void 0,wtimeoutMS:H=void 0}={...X,...J};if($!=null||W!=null||H!=null||G!=null||K!=null||Q!=null)return new Q3($,W??H,G??K,Q);return}}cC.WriteConcern=Q3});var Q1=R((XE)=>{var pJ1=function(Z,Y){for(let J of Y)if(Z===J||J.startsWith("*.")&&Z?.endsWith(J.substring(2,J.length))||J.startsWith("*/")&&Z?.endsWith(J.substring(2,J.length)))return!0;return!1},lJ1=function(Z){let Y=void 0;if(typeof Z==="string")Y=Z;else if(Array.isArray(Z))Y={},Z.forEach((J)=>{Y[J]=1});else if(Z!=null&&typeof Z==="object"){Y={};for(let J in Z)Y[J]=Z[J]}return Y},qq=function(Z){return iJ1(Z)==="[object Object]"},nJ1=function(Z,Y){return{...Z,...Y}},aJ1=function(Z,Y){const J={};for(let X in Z)if(Y.includes(X))J[X]=Z[X];return J},sJ1=function(Z,Y){if(Y&&Y.s.options?.retryWrites)Z.retryWrites=!0;return Z},rJ1=function(Z){return!!Z&&typeof Z.then==="function"},tJ1=function(Z,Y,J){const X=aC(Y).capabilities;if(J.collation&&typeof J.collation==="object")if(X&&X.commandsTakeCollation)Z.collation=J.collation;else throw new I7.MongoCompatibilityError("Current topology does not support collation")},oJ1=function(Z,Y,J){if(J&&J.session&&J.session.inTransaction())return;const X=Object.assign({},Z.readConcern||{});if(Y.s.readConcern)Object.assign(X,Y.s.readConcern);if(Object.keys(X).length>0)Object.assign(Z,{readConcern:X})},eJ1=function(Z,Y){if(Z.explain)return Z;return{explain:Z,verbosity:Y.verbosity}},aC=function(Z){if("topology"in Z&&Z.topology)return Z.topology;else if("client"in Z&&Z.client.topology)return Z.client.topology;throw new I7.MongoNotConnectedError("MongoClient must be connected to perform this operation")},ZX1=function(Z){return z3.fromString(Z)};function*YX1(Z=0){let Y=Z;while(!0){const J=Y;Y+=1,yield J}}var JX1=function(Z,Y){const J=Z();if(Y==null)return J;J.then((X)=>Y(void 0,X),(X)=>Y(X));return},XX1=function(){const Z=fJ1.randomBytes(16);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z},$X1=function(Z){if(Z){if(Z.loadBalanced)return vJ1.MAX_SUPPORTED_WIRE_VERSION;if(Z.hello)return Z.hello.maxWireVersion;if("lastHello"in Z&&typeof Z.lastHello==="function"){const Y=Z.lastHello();if(Y)return Y.maxWireVersion}if(Z.description&&"maxWireVersion"in Z.description&&Z.description.maxWireVersion!=null)return Z.description.maxWireVersion}return 0},WX1=function(Z,Y,J){Z=Z||[];let X=0,$=0;for(X=0;X<Z.length;++X)$++,Y(Z[X],W);if($===0){J();return}function W(G){if($--,G){J(G);return}if(X===Z.length&&$<=0)J()}},GX1=function(Z,Y){if(!Array.isArray(Z)||!Array.isArray(Y))return!1;return Z.length===Y.length&&Z.every((J,X)=>J===Y[X])},QX1=function(Z,Y){if(Z===Y)return!0;if(!Z||!Y)return Z===Y;if(Z==null&&Y!=null||Z!=null&&Y==null)return!1;if(Z.constructor.name!==Y.constructor.name)return!1;if(Z.message!==Y.message)return!1;return!0},KX1=function(Z){return function Y(J,X){const $=Z[J.s.state];if($&&$.indexOf(X)<0)throw new I7.MongoRuntimeError(`illegal state transition from [${J.s.state}] => [${X}], allowed: [${$}]`);J.emit("stateChanged",J.s.state,X),J.s.state=X}},sC=function(){const Z=process.hrtime();return Math.floor(Z[0]*1000+Z[1]/1e6)},HX1=function(Z){if(typeof Z!=="number")throw new I7.MongoInvalidArgumentError("Numeric value required to calculate duration");const Y=sC()-Z;return Y<0?0:Y},rC=function(Z){if(Array.isArray(Z)){for(let J of Z)if(rC(J))return!0;return!1}const Y=Object.keys(Z);return Y.length>0&&Y[0][0]==="$"},zX1=function(Z,Y){const J=Object.assign({},Y,nC.resolveBSONOptions(Y,Z));if(!Y?.session?.inTransaction()){const W=mJ1.ReadConcern.fromOptions(Y)??Z?.readConcern;if(W)J.readConcern=W;const G=cJ1.WriteConcern.fromOptions(Y)??Z?.writeConcern;if(G)J.writeConcern=G}const $=uJ1.ReadPreference.fromOptions(Y)??Z?.readPreference;if($)J.readPreference=$;return J},tC=function(Z,Y){Z=Array.isArray(Z)?new Set(Z):Z,Y=Array.isArray(Y)?new Set(Y):Y;for(let J of Y)if(!Z.has(J))return!1;return!0},FX1=function(Z){return Z[hJ1.LEGACY_HELLO_COMMAND]||Z.hello?!0:!1},UX1=function(Z,Y){const J=new Set(Z);for(let X of Y)J.delete(X);return J},oC=function(Z,Y=void 0){if(!qq(Z))return!1;const J=Z.constructor;if(J&&J.prototype){if(!qq(J.prototype))return!1;if(!qX1(J.prototype,"isPrototypeOf"))return!1}if(Y){const X=Object.keys(Z);return tC(X,Y)}return!0},Vq=function(Z){if(Z==null)return Z;else if(Array.isArray(Z))return Z.map((J)=>Vq(J));else if(oC(Z)){const J={};for(let X in Z)J[X]=Vq(Z[X]);return J}const Y=Z.constructor;if(Y)switch(Y.name.toLowerCase()){case"date":return new Y(Number(Z));case"map":return new Map(Z);case"set":return new Set(Z);case"buffer":return Buffer.from(Z)}return Z},ZE=function(Z){return process.emitWarning(Z,{code:XE.MONGODB_WARNING_CODE})},VX1=function(Z){if(!iC.has(Z))return iC.add(Z),ZE(Z)},LX1=function(Z){return Object.values(Z).join(", ")},RX1=function(Z){if(!Z)return!1;if(Z.loadBalanced)return!0;if(Z.description.logicalSessionTimeoutMinutes!=null){if(Z.description.type!==dJ1.ServerType.Standalone)return!0}return!1},wX1=function(Z,Y=0){const J=Array.from(Z);if(Y>J.length)throw new I7.MongoRuntimeError("Limit must be less than the number of items");let X=J.length;const $=Y%J.length===0?1:J.length-Y;while(X>$){const W=Math.floor(Math.random()*X);X-=1;const G=J[X];J[X]=J[W],J[W]=G}return Y%J.length===0?J:J.slice($)},MX1=function(Z){if(Z.aggregate||Z.count||Z.distinct||Z.find||Z.geoNear)return!0;return!1},BX1=function(Z,Y){if(Z==null&&Y==null)return 0;if(Z==null)return-1;if(Y==null)return 1;return XE.ByteUtils.compare(Z.id,Y.id)},YE=function(Z){if(typeof Z==="number")return Math.trunc(Z);const Y=Number.parseInt(String(Z),10);return Number.isNaN(Y)?null:Y},AX1=function(Z){const Y=YE(Z);return Y!=null&&Y>=0?Y:null},NX1=function(Z,Y){const J=Z.endsWith(".")?Z.slice(0,Z.length-1):Z,X=Y.endsWith(".")?Y.slice(0,Y.length-1):Y,$=/^.*?\./,W=`.${J.replace($,"")}`,G=`.${X.replace($,"")}`;return W.endsWith(G)};async function IX1(Z,Y={}){return new Promise((J,X)=>{const $={method:"GET",timeout:1e4,json:!0,...gJ1.parse(Z),...Y},W=yJ1.request($,(G)=>{G.setEncoding("utf8");let Q="";G.on("data",(K)=>{Q+=K}),G.once("end",()=>{if(Y.json===!1){J(Q);return}try{const K=JSON.parse(Q);J(K)}catch{X(new I7.MongoRuntimeError(`Invalid JSON response: "${Q}"`))}})});W.once("timeout",()=>W.destroy(new I7.MongoNetworkTimeoutError(`Network request to ${Z} timed out after ${Y.timeout} ms`))),W.once("error",(G)=>X(G)),W.end()})}Object.defineProperty(XE,"__esModule",{value:!0});XE.TimeoutController=XE.request=XE.matchesParentDomain=XE.parseUnsignedInteger=XE.parseInteger=XE.compareObjectId=XE.commandSupportsReadConcern=XE.shuffle=XE.supportsRetryableWrites=XE.enumToString=XE.emitWarningOnce=XE.emitWarning=XE.MONGODB_WARNING_CODE=XE.DEFAULT_PK_FACTORY=XE.HostAddress=XE.BufferPool=XE.List=XE.deepCopy=XE.isRecord=XE.setDifference=XE.isHello=XE.isSuperset=XE.resolveOptions=XE.hasAtomicOperators=XE.calculateDurationInMs=XE.now=XE.makeStateMachine=XE.errorStrictEqual=XE.arrayStrictEqual=XE.eachAsync=XE.maxWireVersion=XE.uuidV4=XE.maybeCallback=XE.makeCounter=XE.MongoDBCollectionNamespace=XE.MongoDBNamespace=XE.ns=XE.getTopology=XE.decorateWithExplain=XE.decorateWithReadConcern=XE.decorateWithCollation=XE.isPromiseLike=XE.applyRetryableWrites=XE.filterOptions=XE.mergeOptions=XE.isObject=XE.normalizeHintField=XE.hostMatchesWildcards=XE.ByteUtils=void 0;var fJ1=import.meta.require("crypto"),yJ1=import.meta.require("http"),lC=import.meta.require("timers"),gJ1=import.meta.require("url"),bJ1=import.meta.require("url"),nC=G0(),vJ1=oZ(),hJ1=r0(),I7=o(),mJ1=a6(),uJ1=d0(),dJ1=n6(),cJ1=e8();XE.ByteUtils={toLocalBufferType(Z){return Buffer.isBuffer(Z)?Z:Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength)},equals(Z,Y){return XE.ByteUtils.toLocalBufferType(Z).equals(Y)},compare(Z,Y){return XE.ByteUtils.toLocalBufferType(Z).compare(Y)},toBase64(Z){return XE.ByteUtils.toLocalBufferType(Z).toString("base64")}};XE.hostMatchesWildcards=pJ1;XE.normalizeHintField=lJ1;var iJ1=(Z)=>Object.prototype.toString.call(Z);XE.isObject=qq;XE.mergeOptions=nJ1;XE.filterOptions=aJ1;XE.applyRetryableWrites=sJ1;XE.isPromiseLike=rJ1;XE.decorateWithCollation=tJ1;XE.decorateWithReadConcern=oJ1;XE.decorateWithExplain=eJ1;XE.getTopology=aC;XE.ns=ZX1;class z3{constructor(Z,Y){this.db=Z,this.collection=Y,this.collection=Y===""?void 0:Y}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(Z){return new Lq(this.db,Z)}static fromString(Z){if(typeof Z!=="string"||Z==="")throw new I7.MongoRuntimeError(`Cannot parse namespace from "${Z}"`);const[Y,...J]=Z.split("."),X=J.join(".");return new z3(Y,X===""?void 0:X)}}XE.MongoDBNamespace=z3;class Lq extends z3{constructor(Z,Y){super(Z,Y);this.collection=Y}static fromString(Z){return super.fromString(Z)}}XE.MongoDBCollectionNamespace=Lq;XE.makeCounter=YX1;XE.maybeCallback=JX1;XE.uuidV4=XX1;XE.maxWireVersion=$X1;XE.eachAsync=WX1;XE.arrayStrictEqual=GX1;XE.errorStrictEqual=QX1;XE.makeStateMachine=KX1;XE.now=sC;XE.calculateDurationInMs=HX1;XE.hasAtomicOperators=rC;XE.resolveOptions=zX1;XE.isSuperset=tC;XE.isHello=FX1;XE.setDifference=UX1;var qX1=(Z,Y)=>Object.prototype.hasOwnProperty.call(Z,Y);XE.isRecord=oC;XE.deepCopy=Vq;class Rq{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(let Z of this.nodes())yield Z.value}*nodes(){let Z=this.head.next;while(Z!==this.head){const{next:Y}=Z;yield Z,Z=Y}}push(Z){this.count+=1;const Y={next:this.head,prev:this.head.prev,value:Z};this.head.prev.next=Y,this.head.prev=Y}pushMany(Z){for(let Y of Z)this.push(Y)}unshift(Z){this.count+=1;const Y={next:this.head.next,prev:this.head,value:Z};this.head.next.prev=Y,this.head.next=Y}remove(Z){if(Z===this.head||this.length===0)return null;this.count-=1;const{prev:Y,next:J}=Z;return Y.next=J,J.prev=Y,Z.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(Z){for(let Y of this.nodes())if(Z(Y.value))this.remove(Y)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}}XE.List=Rq;class eC{constructor(){this.buffers=new Rq,this.totalByteLength=0}get length(){return this.totalByteLength}append(Z){this.buffers.push(Z),this.totalByteLength+=Z.length}getInt32(){if(this.totalByteLength<4)return null;const Z=this.buffers.first();if(Z!=null&&Z.byteLength>=4)return Z.readInt32LE(0);const Y=this.read(4),J=Y.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(Y),J}read(Z){if(typeof Z!=="number"||Z<0)throw new I7.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(Z>this.totalByteLength)return Buffer.alloc(0);const Y=Buffer.allocUnsafe(Z);for(let J=0;J<Z;){const X=this.buffers.shift();if(X==null)break;const $=Z-J,W=Math.min($,X.byteLength),G=X.subarray(0,W);if(Y.set(G,J),J+=W,this.totalByteLength-=W,W<X.byteLength)this.buffers.unshift(X.subarray(W))}return Y}}XE.BufferPool=eC;class H3{constructor(Z){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;const Y=Z.split(" ").join("%20");if(Y.endsWith(".sock")){this.socketPath=decodeURIComponent(Y);return}const J=`iLoveJS://${Y}`;let X;try{X=new bJ1.URL(J)}catch(Q){const K=new I7.MongoRuntimeError(`Unable to parse ${Y} with URL`);throw K.cause=Q,K}const{hostname:$,port:W}=X;let G=decodeURIComponent($).toLowerCase();if(G.startsWith("[")&&G.endsWith("]"))this.isIPv6=!0,G=G.substring(1,$.length-1);if(this.host=G.toLowerCase(),typeof W==="number")this.port=W;else if(typeof W==="string"&&W!=="")this.port=Number.parseInt(W,10);else this.port=27017;if(this.port===0)throw new I7.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){if(typeof this.host==="string"){if(this.isIPv6)return`[${this.host}]:${this.port}`;return`${this.host}:${this.port}`}return`${this.socketPath}`}static fromString(Z){return new H3(Z)}static fromHostPort(Z,Y){if(Z.includes(":"))Z=`[${Z}]`;return H3.fromString(`${Z}:${Y}`)}static fromSrvRecord({name:Z,port:Y}){return H3.fromHostPort(Z,Y)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};const Z=this.host??"",Y=this.port??0;return{host:Z,port:Y}}}XE.HostAddress=H3;XE.DEFAULT_PK_FACTORY={createPk(){return new nC.ObjectId}};XE.MONGODB_WARNING_CODE="MONGODB DRIVER";XE.emitWarning=ZE;var iC=new Set;XE.emitWarningOnce=VX1;XE.enumToString=LX1;XE.supportsRetryableWrites=RX1;XE.shuffle=wX1;XE.commandSupportsReadConcern=MX1;XE.compareObjectId=BX1;XE.parseInteger=YE;XE.parseUnsignedInteger=AX1;XE.matchesParentDomain=NX1;XE.request=IX1;class JE extends AbortController{constructor(Z=0,Y=Z>0?lC.setTimeout(()=>this.abort(),Z):null){super();this.timeoutId=Y}clear(){if(this.timeoutId!=null)lC.clearTimeout(this.timeoutId);this.timeoutId=null}}XE.TimeoutController=JE});var c1=R((QE)=>{var R31=function(Z,Y){if(!Array.isArray(Y)&&!(Y instanceof Set))Y=[Y];return Y=new Set(Y),Object.defineProperty(Z,"aspects",{value:Y,writable:!1}),Y};Object.defineProperty(QE,"__esModule",{value:!0});QE.defineAspects=QE.AbstractOperation=QE.Aspect=void 0;var L31=G0(),wq=d0();QE.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};var Mq=Symbol("session");class GE{constructor(Z={}){this.readPreference=this.hasAspect(QE.Aspect.WRITE_OPERATION)?wq.ReadPreference.primary:wq.ReadPreference.fromOptions(Z)??wq.ReadPreference.primary,this.bsonOptions=L31.resolveBSONOptions(Z),this[Mq]=Z.session!=null?Z.session:void 0,this.options=Z,this.bypassPinningCheck=!!Z.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(Z){const Y=this.constructor;if(Y.aspects==null)return!1;return Y.aspects.has(Z)}get session(){return this[Mq]}clearSession(){this[Mq]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}}QE.AbstractOperation=GE;QE.defineAspects=R31});var Z6=R((qE)=>{var B31=function(Z,Y,J){return Bq.maybeCallback(()=>A31(Z,Y),J)};async function A31(Z,Y){if(!(Y instanceof x5.AbstractOperation))throw new B8.MongoRuntimeError("This method requires a valid operation instance");if(Z.topology==null){if(Z.s.hasBeenClosed)throw new B8.MongoNotConnectedError("Client must be connected before running operations");Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await Z.connect()}finally{delete Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}const{topology:J}=Z;if(J==null)throw new B8.MongoRuntimeError("client.connect did not create a topology but also did not throw");let X=Y.session,$;if(X==null)$=Symbol(),X=Z.startSession({owner:$,explicit:!1});else if(X.hasEnded)throw new B8.MongoExpiredSessionError("Use of expired sessions is not permitted");else if(X.snapshotEnabled&&!J.capabilities.supportsSnapshotReads)throw new B8.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later");else if(X.client!==Z)throw new B8.MongoInvalidArgumentError("ClientSession must be from the same MongoClient");const W=Y.readPreference??zE.ReadPreference.primary,G=!!X?.inTransaction();if(G&&!W.equals(zE.ReadPreference.primary))throw new B8.MongoTransactionError(`Read preference in a transaction must be primary, not: ${W.mode}`);if(X?.isPinned&&X.transaction.isCommitted&&!Y.bypassPinningCheck)X.unpin();let Q;if(Y.hasAspect(x5.Aspect.MUST_SELECT_SAME_SERVER))Q=FE.sameServerSelector(Y.server?.description);else if(Y.trySecondaryWrite)Q=FE.secondaryWritableServerSelector(J.commonWireVersion,W);else Q=W;const K=await J.selectServerAsync(Q,{session:X});if(X==null)return Y.execute(K,void 0);if(!Y.hasAspect(x5.Aspect.RETRYABLE))try{return await Y.execute(K,X)}finally{if(X?.owner!=null&&X.owner===$)await X.endSession().catch(()=>null)}const H=J.s.options.retryReads&&!G&&Y.canRetryRead,z=J.s.options.retryWrites&&!G&&Bq.supportsRetryableWrites(K)&&Y.canRetryWrite,F=Y.hasAspect(x5.Aspect.READ_OPERATION),U=Y.hasAspect(x5.Aspect.WRITE_OPERATION),q=F&&H||U&&z;if(U&&z)Y.options.willRetryWrite=!0,X.incrementTransactionNumber();try{return await Y.execute(K,X)}catch(V){if(q&&V instanceof B8.MongoError)return await N31(Y,V,{session:X,topology:J,selector:Q});throw V}finally{if(X?.owner!=null&&X.owner===$)await X.endSession().catch(()=>null)}}async function N31(Z,Y,{session:J,topology:X,selector:$}){const W=Z.hasAspect(x5.Aspect.WRITE_OPERATION),G=Z.hasAspect(x5.Aspect.READ_OPERATION);if(W&&Y.code===M31)throw new B8.MongoServerError({message:UE,errmsg:UE,originalError:Y});if(W&&!B8.isRetryableWriteError(Y))throw Y;if(G&&!B8.isRetryableReadError(Y))throw Y;if(Y instanceof B8.MongoNetworkError&&J.isPinned&&!J.inTransaction()&&Z.hasAspect(x5.Aspect.CURSOR_CREATING))J.unpin({force:!0,forceClear:!0});const Q=await X.selectServerAsync($,{session:J});if(W&&!Bq.supportsRetryableWrites(Q))throw new B8.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await Z.execute(Q,J)}catch(K){if(K instanceof B8.MongoError&&K.hasErrorLabel(B8.MongoErrorLabel.NoWritesPerformed))throw Y;throw K}}Object.defineProperty(qE,"__esModule",{value:!0});qE.executeOperation=void 0;var B8=o(),zE=d0(),FE=G3(),Bq=Q1(),x5=c1(),M31=B8.MONGODB_ERROR_CODES.IllegalOperation,UE="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";qE.executeOperation=B31});var Iq=R((LE)=>{Object.defineProperty(LE,"__esModule",{value:!0});LE.Explain=LE.ExplainVerbosity=void 0;var I31=o();LE.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});class Nq{constructor(Z){if(typeof Z==="boolean")this.verbosity=Z?LE.ExplainVerbosity.allPlansExecution:LE.ExplainVerbosity.queryPlanner;else this.verbosity=Z}static fromOptions(Z){if(Z?.explain==null)return;const Y=Z.explain;if(typeof Y==="boolean"||typeof Y==="string")return new Nq(Y);throw new I31.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}}LE.Explain=Nq});var O0=R((BE)=>{Object.defineProperty(BE,"__esModule",{value:!0});BE.CommandOperation=void 0;var D31=o(),P31=Iq(),T31=a6(),C31=G3(),F3=Q1(),wE=e8(),yY=c1();class ME extends yY.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y??{};const J=Y?.dbName||Y?.authdb;if(J)this.ns=new F3.MongoDBNamespace(J,"$cmd");else this.ns=Z?Z.s.namespace.withCollection("$cmd"):new F3.MongoDBNamespace("admin","$cmd");if(this.readConcern=T31.ReadConcern.fromOptions(Y),this.writeConcern=wE.WriteConcern.fromOptions(Y),this.hasAspect(yY.Aspect.EXPLAINABLE))this.explain=P31.Explain.fromOptions(Y);else if(Y?.explain!=null)throw new D31.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){if(this.hasAspect(yY.Aspect.EXPLAINABLE))return this.explain==null;return!0}async executeCommand(Z,Y,J){this.server=Z;const X={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:Y},$=F3.maxWireVersion(Z),W=this.session&&this.session.inTransaction();if(this.readConcern&&F3.commandSupportsReadConcern(J)&&!W)Object.assign(J,{readConcern:this.readConcern});if(this.trySecondaryWrite&&$<C31.MIN_SECONDARY_WRITE_WIRE_VERSION)X.omitReadPreference=!0;if(this.writeConcern&&this.hasAspect(yY.Aspect.WRITE_OPERATION)&&!W)wE.WriteConcern.apply(J,this.writeConcern);if(X.collation&&typeof X.collation==="object"&&!this.hasAspect(yY.Aspect.SKIP_COLLATION))Object.assign(J,{collation:X.collation});if(typeof X.maxTimeMS==="number")J.maxTimeMS=X.maxTimeMS;if(this.hasAspect(yY.Aspect.EXPLAINABLE)&&this.explain)J=F3.decorateWithExplain(J,this.explain);return Z.commandAsync(this.ns,J,X)}}BE.CommandOperation=ME});var PE=R((IE)=>{Object.defineProperty(IE,"__esModule",{value:!0});IE.ListDatabasesOperation=void 0;var NE=Q1(),E31=O0(),Dq=c1();class Pq extends E31.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y??{},this.ns=new NE.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){const J={listDatabases:1};if(typeof this.options.nameOnly==="boolean")J.nameOnly=this.options.nameOnly;if(this.options.filter)J.filter=this.options.filter;if(typeof this.options.authorizedDatabases==="boolean")J.authorizedDatabases=this.options.authorizedDatabases;if(NE.maxWireVersion(Z)>=9&&this.options.comment!==void 0)J.comment=this.options.comment;return super.executeCommand(Z,Y,J)}}IE.ListDatabasesOperation=Pq;Dq.defineAspects(Pq,[Dq.Aspect.READ_OPERATION,Dq.Aspect.RETRYABLE])});var Cq=R((CE)=>{Object.defineProperty(CE,"__esModule",{value:!0});CE.RemoveUserOperation=void 0;var j31=O0(),TE=c1();class Tq extends j31.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J,this.username=Y}async execute(Z,Y){return await super.executeCommand(Z,Y,{dropUser:this.username}),!0}}CE.RemoveUserOperation=Tq;TE.defineAspects(Tq,[TE.Aspect.WRITE_OPERATION])});var gY=R((kE)=>{Object.defineProperty(kE,"__esModule",{value:!0});kE.RunAdminCommandOperation=kE.RunCommandOperation=void 0;var O31=Q1(),jE=c1();class OE extends jE.AbstractOperation{constructor(Z,Y,J){super(J);this.command=Y,this.options=J,this.ns=Z.s.namespace.withCollection("$cmd")}async execute(Z,Y){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:Y})}}kE.RunCommandOperation=OE;class SE extends jE.AbstractOperation{constructor(Z,Y){super(Y);this.command=Z,this.options=Y,this.ns=new O31.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:Y})}}kE.RunAdminCommandOperation=SE});var gE=R((fE)=>{Object.defineProperty(fE,"__esModule",{value:!0});fE.ValidateCollectionOperation=void 0;var Eq=o(),k31=O0();class xE extends k31.CommandOperation{constructor(Z,Y,J){const X={validate:Y},$=Object.keys(J);for(let W=0;W<$.length;W++)if(Object.prototype.hasOwnProperty.call(J,$[W])&&$[W]!=="session")X[$[W]]=J[$[W]];super(Z.s.db,J);this.options=J,this.command=X,this.collectionName=Y}async execute(Z,Y){const J=this.collectionName,X=await super.executeCommand(Z,Y,this.command);if(X.result!=null&&typeof X.result!=="string")throw new Eq.MongoUnexpectedServerResponseError("Error with validation data");if(X.result!=null&&X.result.match(/exception|corrupt/)!=null)throw new Eq.MongoUnexpectedServerResponseError(`Invalid collection ${J}`);if(X.valid!=null&&!X.valid)throw new Eq.MongoUnexpectedServerResponseError(`Invalid collection ${J}`);return X}}fE.ValidateCollectionOperation=xE});var jq=R((vE)=>{Object.defineProperty(vE,"__esModule",{value:!0});vE.Admin=void 0;var _31=G0(),yG=Z6(),x31=PE(),f31=Cq(),y31=gY(),g31=gE();class bE{constructor(Z){this.s={db:Z}}async command(Z,Y){return yG.executeOperation(this.s.db.client,new y31.RunAdminCommandOperation(Z,{..._31.resolveBSONOptions(Y),session:Y?.session,readPreference:Y?.readPreference}))}async buildInfo(Z){return this.command({buildinfo:1},Z)}async serverInfo(Z){return this.command({buildinfo:1},Z)}async serverStatus(Z){return this.command({serverStatus:1},Z)}async ping(Z){return this.command({ping:1},Z)}async removeUser(Z,Y){return yG.executeOperation(this.s.db.client,new f31.RemoveUserOperation(this.s.db,Z,{dbName:"admin",...Y}))}async validateCollection(Z,Y={}){return yG.executeOperation(this.s.db.client,new g31.ValidateCollectionOperation(this,Z,Y))}async listDatabases(Z){return yG.executeOperation(this.s.db.client,new x31.ListDatabasesOperation(this.s.db,Z))}async replSetGetStatus(Z){return this.command({replSetGetStatus:1},Z)}}vE.Admin=bE});var _q=R((mE)=>{var kq=function(Z,Y){const J={q:Z,limit:typeof Y.limit==="number"?Y.limit:0};if(Y.collation)J.collation=Y.collation;if(Y.hint)J.hint=Y.hint;return J};Object.defineProperty(mE,"__esModule",{value:!0});mE.makeDeleteStatement=mE.DeleteManyOperation=mE.DeleteOneOperation=mE.DeleteOperation=void 0;var U3=o(),b31=O0(),s6=c1();class q3 extends b31.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options=J,this.ns=Z,this.statements=Y}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.limit!=null?Z.limit>0:!0)}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={delete:this.ns.collection,deletes:this.statements,ordered:X};if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((G)=>G.hint))throw new U3.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,Y,$)}}mE.DeleteOperation=q3;class Oq extends q3{constructor(Z,Y,J){super(Z.s.namespace,[kq(Y,{...J,limit:1})],J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain)return J;if(J.code)throw new U3.MongoServerError(J);if(J.writeErrors)throw new U3.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:J.n}}}mE.DeleteOneOperation=Oq;class Sq extends q3{constructor(Z,Y,J){super(Z.s.namespace,[kq(Y,J)],J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain)return J;if(J.code)throw new U3.MongoServerError(J);if(J.writeErrors)throw new U3.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:J.n}}}mE.DeleteManyOperation=Sq;mE.makeDeleteStatement=kq;s6.defineAspects(q3,[s6.Aspect.RETRYABLE,s6.Aspect.WRITE_OPERATION]);s6.defineAspects(Oq,[s6.Aspect.RETRYABLE,s6.Aspect.WRITE_OPERATION,s6.Aspect.EXPLAINABLE,s6.Aspect.SKIP_COLLATION]);s6.defineAspects(Sq,[s6.Aspect.WRITE_OPERATION,s6.Aspect.EXPLAINABLE,s6.Aspect.SKIP_COLLATION])});var yq=R((dE)=>{Object.defineProperty(dE,"__esModule",{value:!0});dE.BulkWriteOperation=void 0;var xq=c1();class fq extends xq.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J,this.collection=Z,this.operations=Y}async execute(Z,Y){const J=this.collection,X=this.operations,$={...this.options,...this.bsonOptions,readPreference:this.readPreference},W=$.ordered===!1?J.initializeUnorderedBulkOp($):J.initializeOrderedBulkOp($);for(let Q=0;Q<X.length;Q++)W.raw(X[Q]);return await W.execute({...$,session:Y})}}dE.BulkWriteOperation=fq;xq.defineAspects(fq,[xq.Aspect.WRITE_OPERATION])});var gq=R((pE)=>{async function u31(Z,Y,J){if(J==null)J={};const X=J.full==null?!1:J.full,$=await Z.collection(Y).listIndexes(J).toArray();if(X)return $;const W={};for(let G of $)W[G.name]=Object.entries(G.key);return W}var d31=function(Z,Y,J){if((typeof J.forceServerObjectId==="boolean"?J.forceServerObjectId:Z.s.db.options?.forceServerObjectId)===!0)return Y;return Y.map(($)=>{if($._id==null)$._id=Z.s.pkFactory.createPk();return $})};Object.defineProperty(pE,"__esModule",{value:!0});pE.prepareDocs=pE.indexInformation=void 0;pE.indexInformation=u31;pE.prepareDocs=d31});var hq=R((nE)=>{Object.defineProperty(nE,"__esModule",{value:!0});nE.InsertManyOperation=nE.InsertOneOperation=nE.InsertOperation=void 0;var gG=o(),p31=e8(),l31=yq(),i31=O0(),iE=gq(),g4=c1();class bG extends i31.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options={...J,checkKeys:J.checkKeys??!1},this.ns=Z,this.documents=Y}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={insert:this.ns.collection,documents:this.documents,ordered:X};if(typeof J.bypassDocumentValidation==="boolean")$.bypassDocumentValidation=J.bypassDocumentValidation;if(J.comment!==void 0)$.comment=J.comment;return super.executeCommand(Z,Y,$)}}nE.InsertOperation=bG;class bq extends bG{constructor(Z,Y,J){super(Z.s.namespace,iE.prepareDocs(Z,[Y],J),J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(J.code)throw new gG.MongoServerError(J);if(J.writeErrors)throw new gG.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,insertedId:this.documents[0]._id}}}nE.InsertOneOperation=bq;class vq extends g4.AbstractOperation{constructor(Z,Y,J){super(J);if(!Array.isArray(Y))throw new gG.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=J,this.collection=Z,this.docs=Y}async execute(Z,Y){const J=this.collection,X={...this.options,...this.bsonOptions,readPreference:this.readPreference},$=p31.WriteConcern.fromOptions(X),W=new l31.BulkWriteOperation(J,iE.prepareDocs(J,this.docs,X).map((G)=>({insertOne:{document:G}})),X);try{const G=await W.execute(Z,Y);return{acknowledged:$?.w!==0,insertedCount:G.insertedCount,insertedIds:G.insertedIds}}catch(G){if(G&&G.message==="Operation must be an object with an operation key")throw new gG.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values");throw G}}}nE.InsertManyOperation=vq;g4.defineAspects(bG,[g4.Aspect.RETRYABLE,g4.Aspect.WRITE_OPERATION]);g4.defineAspects(bq,[g4.Aspect.RETRYABLE,g4.Aspect.WRITE_OPERATION]);g4.defineAspects(vq,[g4.Aspect.WRITE_OPERATION])});var pq=R((sE)=>{var vG=function(Z,Y,J){if(Z==null||typeof Z!=="object")throw new r6.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(Y==null||typeof Y!=="object")throw new r6.MongoInvalidArgumentError("Document must be a valid JavaScript object");const X={q:Z,u:Y};if(typeof J.upsert==="boolean")X.upsert=J.upsert;if(J.multi)X.multi=J.multi;if(J.hint)X.hint=J.hint;if(J.arrayFilters)X.arrayFilters=J.arrayFilters;if(J.collation)X.collation=J.collation;return X};Object.defineProperty(sE,"__esModule",{value:!0});sE.makeUpdateStatement=sE.ReplaceOneOperation=sE.UpdateManyOperation=sE.UpdateOneOperation=sE.UpdateOperation=void 0;var r6=o(),mq=Q1(),s31=O0(),Z8=c1();class bY extends s31.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options=J,this.ns=Z,this.statements=Y}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.multi==null||Z.multi===!1)}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={update:this.ns.collection,updates:this.statements,ordered:X};if(typeof J.bypassDocumentValidation==="boolean")$.bypassDocumentValidation=J.bypassDocumentValidation;if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((G)=>G.hint))throw new r6.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,Y,$)}}sE.UpdateOperation=bY;class uq extends bY{constructor(Z,Y,J,X){super(Z.s.namespace,[vG(Y,J,{...X,multi:!1})],X);if(!mq.hasAtomicOperators(J))throw new r6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new r6.MongoServerError(J);if(J.writeErrors)throw new r6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}sE.UpdateOneOperation=uq;class dq extends bY{constructor(Z,Y,J,X){super(Z.s.namespace,[vG(Y,J,{...X,multi:!0})],X);if(!mq.hasAtomicOperators(J))throw new r6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new r6.MongoServerError(J);if(J.writeErrors)throw new r6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}sE.UpdateManyOperation=dq;class cq extends bY{constructor(Z,Y,J,X){super(Z.s.namespace,[vG(Y,J,{...X,multi:!1})],X);if(mq.hasAtomicOperators(J))throw new r6.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new r6.MongoServerError(J);if(J.writeErrors)throw new r6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}sE.ReplaceOneOperation=cq;sE.makeUpdateStatement=vG;Z8.defineAspects(bY,[Z8.Aspect.RETRYABLE,Z8.Aspect.WRITE_OPERATION,Z8.Aspect.SKIP_COLLATION]);Z8.defineAspects(uq,[Z8.Aspect.RETRYABLE,Z8.Aspect.WRITE_OPERATION,Z8.Aspect.EXPLAINABLE,Z8.Aspect.SKIP_COLLATION]);Z8.defineAspects(dq,[Z8.Aspect.WRITE_OPERATION,Z8.Aspect.EXPLAINABLE,Z8.Aspect.SKIP_COLLATION]);Z8.defineAspects(cq,[Z8.Aspect.RETRYABLE,Z8.Aspect.WRITE_OPERATION,Z8.Aspect.SKIP_COLLATION])});var M3=R((Xj)=>{var dG=function(Z,Y,J,X){if(J)X=J;else if(X&&X.result)X=X.result;if(X==null)return;if(X.ok===0&&Y.ok===1){Y.ok=0;const W={index:0,code:X.code||0,errmsg:X.message,errInfo:X.errInfo,op:Z.operations[0]};Y.writeErrors.push(new uG(W));return}else if(X.ok===0&&Y.ok===0)return;if(Jj(Z)&&X.n)Y.nInserted=Y.nInserted+X.n;if(iq(Z)&&X.n)Y.nRemoved=Y.nRemoved+X.n;let $=0;if(Array.isArray(X.upserted)){$=X.upserted.length;for(let W=0;W<X.upserted.length;W++)Y.upserted.push({index:X.upserted[W].index+Z.originalZeroIndex,_id:X.upserted[W]._id})}else if(X.upserted)$=1,Y.upserted.push({index:Z.originalZeroIndex,_id:X.upserted});if(lq(Z)&&X.n){const W=X.nModified;if(Y.nUpserted=Y.nUpserted+$,Y.nMatched=Y.nMatched+(X.n-$),typeof W==="number")Y.nModified=Y.nModified+W;else Y.nModified=0}if(Array.isArray(X.writeErrors))for(let W=0;W<X.writeErrors.length;W++){const G={index:Z.originalIndexes[X.writeErrors[W].index],code:X.writeErrors[W].code,errmsg:X.writeErrors[W].errmsg,errInfo:X.writeErrors[W].errInfo,op:Z.operations[X.writeErrors[W].index]};Y.writeErrors.push(new uG(G))}if(X.writeConcernError)Y.writeConcernErrors.push(new w3(X.writeConcernError))},Zj=function(Z,Y,J){if(Z.s.batches.length===0)return J(void 0,new y5(Z.s.bulkResult,Z.isOrdered));const X=Z.s.batches.shift();function $(G,Q){if(G&&"message"in G&&!(G instanceof c0.MongoWriteConcernError))return J(new vY(G,new y5(Z.s.bulkResult,Z.isOrdered)));if(G instanceof c0.MongoWriteConcernError)return X$1(X,Z.s.bulkResult,Z.isOrdered,G,J);dG(X,Z.s.bulkResult,G,Q);const K=new y5(Z.s.bulkResult,Z.isOrdered);if(Z.handleWriteError(J,K))return;Zj(Z,Y,J)}const W=f5.resolveOptions(Z,{...Y,ordered:Z.isOrdered});if(W.bypassDocumentValidation!==!0)delete W.bypassDocumentValidation;if(Z.operationId)$.operationId=Z.operationId;if(Z.s.bypassDocumentValidation===!0)W.bypassDocumentValidation=!0;if(Z.s.checkKeys===!1)W.checkKeys=!1;if(W.retryWrites){if(lq(X))W.retryWrites=W.retryWrites&&!X.operations.some((G)=>G.multi);if(iq(X))W.retryWrites=W.retryWrites&&!X.operations.some((G)=>G.limit===0)}try{if(Jj(X))mG.executeOperation(Z.s.collection.client,new Y$1.InsertOperation(Z.s.namespace,X.operations,W),$);else if(lq(X))mG.executeOperation(Z.s.collection.client,new eZ.UpdateOperation(Z.s.namespace,X.operations,W),$);else if(iq(X))mG.executeOperation(Z.s.collection.client,new R3.DeleteOperation(Z.s.namespace,X.operations,W),$)}catch(G){G.ok=0,dG(X,Z.s.bulkResult,G,void 0),J()}},X$1=function(Z,Y,J,X,$){dG(Z,Y,void 0,X.result),$(new vY({message:X.result?.writeConcernError.errmsg,code:X.result?.writeConcernError.result},new y5(Y,J)))},oE=function(Z){if(typeof Z.s.options.forceServerObjectId==="boolean")return Z.s.options.forceServerObjectId;if(typeof Z.s.collection.s.db.options?.forceServerObjectId==="boolean")return Z.s.collection.s.db.options?.forceServerObjectId;return!1},Jj=function(Z){return Z.batchType===Xj.BatchType.INSERT},lq=function(Z){return Z.batchType===Xj.BatchType.UPDATE},iq=function(Z){return Z.batchType===Xj.BatchType.DELETE},L3=function(Z){let{currentOp:Y}=Z.s;if(Z.s.currentOp=void 0,!Y)Y={};return Y};Object.defineProperty(Xj,"__esModule",{value:!0});Xj.BulkOperationBase=Xj.FindOperators=Xj.MongoBulkWriteError=Xj.mergeBatchResults=Xj.WriteError=Xj.WriteConcernError=Xj.BulkWriteResult=Xj.Batch=Xj.BatchType=void 0;var Z$1=import.meta.require("util"),hG=G0(),c0=o(),R3=_q(),mG=Z6(),Y$1=hq(),J$1=c1(),eZ=pq(),f5=Q1(),tE=e8(),V3=Symbol("serverError");Xj.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});class eE{constructor(Z,Y){this.originalZeroIndex=Y,this.currentIndex=0,this.originalIndexes=[],this.batchType=Z,this.operations=[],this.size=0,this.sizeBytes=0}}Xj.Batch=eE;class y5{static generateIdMap(Z){const Y={};for(let J of Z)Y[J.index]=J._id;return Y}constructor(Z,Y){this.result=Z,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=y5.generateIdMap(this.result.upserted),this.insertedIds=y5.generateIdMap(this.getSuccessfullyInsertedIds(Z,Y)),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}getSuccessfullyInsertedIds(Z,Y){if(Z.writeErrors.length===0)return Z.insertedIds;if(Y)return Z.insertedIds.slice(0,Z.writeErrors[0].index);return Z.insertedIds.filter(({index:J})=>!Z.writeErrors.some((X)=>J===X.index))}getUpsertedIdAt(Z){return this.result.upserted[Z]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(Z){return Z<this.result.writeErrors.length?this.result.writeErrors[Z]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(this.result.writeConcernErrors.length===0)return;else if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];else{let Z="";for(let Y=0;Y<this.result.writeConcernErrors.length;Y++){const J=this.result.writeConcernErrors[Y];if(Z=Z+J.errmsg,Y===0)Z=Z+" and "}return new w3({errmsg:Z,code:c0.MONGODB_ERROR_CODES.WriteConcernFailed})}}toString(){return`BulkWriteResult(${this.result})`}isOk(){return this.result.ok===1}}Xj.BulkWriteResult=y5;class w3{constructor(Z){this[V3]=Z}get code(){return this[V3].code}get errmsg(){return this[V3].errmsg}get errInfo(){return this[V3].errInfo}toJSON(){return this[V3]}toString(){return`WriteConcernError(${this.errmsg})`}}Xj.WriteConcernError=w3;class uG{constructor(Z){this.err=Z}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}}Xj.WriteError=uG;Xj.mergeBatchResults=dG;class vY extends c0.MongoServerError{constructor(Z,Y){super(Z);if(this.writeErrors=[],Z instanceof w3)this.err=Z;else if(!(Z instanceof Error))this.message=Z.message,this.code=Z.code,this.writeErrors=Z.writeErrors??[];this.result=Y,Object.assign(this,Z)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}}Xj.MongoBulkWriteError=vY;class nq{constructor(Z){this.bulkOperation=Z}update(Z){const Y=L3(this.bulkOperation);return this.bulkOperation.addToOperationsList(Xj.BatchType.UPDATE,eZ.makeUpdateStatement(Y.selector,Z,{...Y,multi:!0}))}updateOne(Z){if(!f5.hasAtomicOperators(Z))throw new c0.MongoInvalidArgumentError("Update document requires atomic operators");const Y=L3(this.bulkOperation);return this.bulkOperation.addToOperationsList(Xj.BatchType.UPDATE,eZ.makeUpdateStatement(Y.selector,Z,{...Y,multi:!1}))}replaceOne(Z){if(f5.hasAtomicOperators(Z))throw new c0.MongoInvalidArgumentError("Replacement document must not use atomic operators");const Y=L3(this.bulkOperation);return this.bulkOperation.addToOperationsList(Xj.BatchType.UPDATE,eZ.makeUpdateStatement(Y.selector,Z,{...Y,multi:!1}))}deleteOne(){const Z=L3(this.bulkOperation);return this.bulkOperation.addToOperationsList(Xj.BatchType.DELETE,R3.makeDeleteStatement(Z.selector,{...Z,limit:1}))}delete(){const Z=L3(this.bulkOperation);return this.bulkOperation.addToOperationsList(Xj.BatchType.DELETE,R3.makeDeleteStatement(Z.selector,{...Z,limit:0}))}upsert(){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.upsert=!0,this}collation(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.collation=Z,this}arrayFilters(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.arrayFilters=Z,this}hint(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.hint=Z,this}}Xj.FindOperators=nq;var $$1=Z$1.promisify(Zj);class Yj extends J$1.AbstractOperation{constructor(Z,Y){super(Y);this.bulkOperation=Z}execute(Z,Y){if(this.options.session==null)this.options.session=Y;return $$1(this.bulkOperation,this.options)}}class aq{constructor(Z,Y,J){this.isOrdered=J;const X=f5.getTopology(Z);Y=Y==null?{}:Y;const $=Z.s.namespace,W=!1,G=void 0,Q=X.lastHello(),K=!!(X.s.options&&X.s.options.autoEncrypter),H=Q&&Q.maxBsonObjectSize?Q.maxBsonObjectSize:16777216,z=K?2097152:H,F=Q&&Q.maxWriteBatchSize?Q.maxWriteBatchSize:1000,U=(F-1).toString(10).length+2;let q=Object.assign({},Y);q=f5.applyRetryableWrites(q,Z.s.db);const V={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};if(this.s={bulkResult:V,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:tE.WriteConcern.fromOptions(Y),maxBsonObjectSize:H,maxBatchSizeBytes:z,maxWriteBatchSize:F,maxKeySize:U,namespace:$,topology:X,options:q,bsonOptions:hG.resolveBSONOptions(Y),currentOp:G,executed:W,collection:Z,err:void 0,checkKeys:typeof Y.checkKeys==="boolean"?Y.checkKeys:!1},Y.bypassDocumentValidation===!0)this.s.bypassDocumentValidation=!0}insert(Z){if(Z._id==null&&!oE(this))Z._id=new hG.ObjectId;return this.addToOperationsList(Xj.BatchType.INSERT,Z)}find(Z){if(!Z)throw new c0.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:Z},new nq(this)}raw(Z){if(Z==null||typeof Z!=="object")throw new c0.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in Z){const Y=oE(this);if(Z.insertOne&&Z.insertOne.document==null){if(Y!==!0&&Z.insertOne._id==null)Z.insertOne._id=new hG.ObjectId;return this.addToOperationsList(Xj.BatchType.INSERT,Z.insertOne)}if(Y!==!0&&Z.insertOne.document._id==null)Z.insertOne.document._id=new hG.ObjectId;return this.addToOperationsList(Xj.BatchType.INSERT,Z.insertOne.document)}if("replaceOne"in Z||"updateOne"in Z||"updateMany"in Z){if("replaceOne"in Z){if("q"in Z.replaceOne)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=eZ.makeUpdateStatement(Z.replaceOne.filter,Z.replaceOne.replacement,{...Z.replaceOne,multi:!1});if(f5.hasAtomicOperators(Y.u))throw new c0.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(Xj.BatchType.UPDATE,Y)}if("updateOne"in Z){if("q"in Z.updateOne)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=eZ.makeUpdateStatement(Z.updateOne.filter,Z.updateOne.update,{...Z.updateOne,multi:!1});if(!f5.hasAtomicOperators(Y.u))throw new c0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Xj.BatchType.UPDATE,Y)}if("updateMany"in Z){if("q"in Z.updateMany)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=eZ.makeUpdateStatement(Z.updateMany.filter,Z.updateMany.update,{...Z.updateMany,multi:!0});if(!f5.hasAtomicOperators(Y.u))throw new c0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Xj.BatchType.UPDATE,Y)}}if("deleteOne"in Z){if("q"in Z.deleteOne)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Xj.BatchType.DELETE,R3.makeDeleteStatement(Z.deleteOne.filter,{...Z.deleteOne,limit:1}))}if("deleteMany"in Z){if("q"in Z.deleteMany)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Xj.BatchType.DELETE,R3.makeDeleteStatement(Z.deleteMany.filter,{...Z.deleteMany,limit:0}))}throw new c0.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){const Z=[...this.s.batches];if(this.isOrdered){if(this.s.currentBatch)Z.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)Z.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)Z.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)Z.push(this.s.currentRemoveBatch)}return Z}async execute(Z={}){if(this.s.executed)throw new c0.MongoBatchReExecutionError;const Y=tE.WriteConcern.fromOptions(Z);if(Y)this.s.writeConcern=Y;if(this.isOrdered){if(this.s.currentBatch)this.s.batches.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)this.s.batches.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)this.s.batches.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)this.s.batches.push(this.s.currentRemoveBatch)}if(this.s.batches.length===0)throw new c0.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;const J={...this.s.options,...Z},X=new Yj(this,J);return mG.executeOperation(this.s.collection.client,X)}handleWriteError(Z,Y){if(this.s.bulkResult.writeErrors.length>0){const X=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return Z(new vY({message:X,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},Y)),!0}const J=Y.getWriteConcernError();if(J)return Z(new vY(J,Y)),!0;return!1}}Xj.BulkOperationBase=aq;Object.defineProperty(aq.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}})});var sq=R((Qj)=>{Object.defineProperty(Qj,"__esModule",{value:!0});Qj.OrderedBulkOperation=void 0;var U$1=G0(),Wj=o(),cG=M3();class Gj extends cG.BulkOperationBase{constructor(Z,Y){super(Z,Y,!0)}addToOperationsList(Z,Y){const J=U$1.calculateObjectSize(Y,{checkKeys:!1,ignoreUndefined:!1});if(J>=this.s.maxBsonObjectSize)throw new Wj.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch==null)this.s.currentBatch=new cG.Batch(Z,this.s.currentIndex);const X=this.s.maxKeySize;if(this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+X+J>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new cG.Batch(Z,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0;if(Z===cG.BatchType.INSERT)this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:Y._id});if(Array.isArray(Y))throw new Wj.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(Y),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=X+J,this.s.currentIndex+=1,this}}Qj.OrderedBulkOperation=Gj});var rq=R((Fj)=>{Object.defineProperty(Fj,"__esModule",{value:!0});Fj.UnorderedBulkOperation=void 0;var q$1=G0(),Hj=o(),b4=M3();class zj extends b4.BulkOperationBase{constructor(Z,Y){super(Z,Y,!1)}handleWriteError(Z,Y){if(this.s.batches.length)return!1;return super.handleWriteError(Z,Y)}addToOperationsList(Z,Y){const J=q$1.calculateObjectSize(Y,{checkKeys:!1,ignoreUndefined:!1});if(J>=this.s.maxBsonObjectSize)throw new Hj.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch=void 0,Z===b4.BatchType.INSERT)this.s.currentBatch=this.s.currentInsertBatch;else if(Z===b4.BatchType.UPDATE)this.s.currentBatch=this.s.currentUpdateBatch;else if(Z===b4.BatchType.DELETE)this.s.currentBatch=this.s.currentRemoveBatch;const X=this.s.maxKeySize;if(this.s.currentBatch==null)this.s.currentBatch=new b4.Batch(Z,this.s.currentIndex);if(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+X+J>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new b4.Batch(Z,this.s.currentIndex);if(Array.isArray(Y))throw new Hj.MongoInvalidArgumentError("Operation passed in cannot be an Array");if(this.s.currentBatch.operations.push(Y),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,Z===b4.BatchType.INSERT)this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:Y._id});else if(Z===b4.BatchType.UPDATE)this.s.currentUpdateBatch=this.s.currentBatch;else if(Z===b4.BatchType.DELETE)this.s.currentRemoveBatch=this.s.currentBatch;return this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=X+J,this}}Fj.UnorderedBulkOperation=zj});var pG=R((Vj)=>{Object.defineProperty(Vj,"__esModule",{value:!0});Vj.AggregateOperation=Vj.DB_AGGREGATE_COLLECTION=void 0;var qj=o(),V$1=Q1(),L$1=e8(),R$1=O0(),B3=c1();Vj.DB_AGGREGATE_COLLECTION=1;var w$1=8;class tq extends R$1.CommandOperation{constructor(Z,Y,J){super(void 0,{...J,dbName:Z.db});if(this.options={...J},this.target=Z.collection||Vj.DB_AGGREGATE_COLLECTION,this.pipeline=Y,this.hasWriteStage=!1,typeof J?.out==="string")this.pipeline=this.pipeline.concat({$out:J.out}),this.hasWriteStage=!0;else if(Y.length>0){const X=Y[Y.length-1];if(X.$out||X.$merge)this.hasWriteStage=!0}if(this.hasWriteStage)this.trySecondaryWrite=!0;else delete this.options.writeConcern;if(this.explain&&this.writeConcern)throw new qj.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(J?.cursor!=null&&typeof J.cursor!=="object")throw new qj.MongoInvalidArgumentError("Cursor options must be an object")}get canRetryRead(){return!this.hasWriteStage}addToPipeline(Z){this.pipeline.push(Z)}async execute(Z,Y){const J=this.options,X=V$1.maxWireVersion(Z),$={aggregate:this.target,pipeline:this.pipeline};if(this.hasWriteStage&&X<w$1)this.readConcern=void 0;if(this.hasWriteStage&&this.writeConcern)L$1.WriteConcern.apply($,this.writeConcern);if(J.bypassDocumentValidation===!0)$.bypassDocumentValidation=J.bypassDocumentValidation;if(typeof J.allowDiskUse==="boolean")$.allowDiskUse=J.allowDiskUse;if(J.hint)$.hint=J.hint;if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if($.cursor=J.cursor||{},J.batchSize&&!this.hasWriteStage)$.cursor.batchSize=J.batchSize;return super.executeCommand(Z,Y,$)}}Vj.AggregateOperation=tq;B3.defineAspects(tq,[B3.Aspect.READ_OPERATION,B3.Aspect.RETRYABLE,B3.Aspect.EXPLAINABLE,B3.Aspect.CURSOR_CREATING])});var P6=R((Mj)=>{Object.defineProperty(Mj,"__esModule",{value:!0});Mj.CancellationToken=Mj.TypedEventEmitter=void 0;var M$1=import.meta.require("events");class oq extends M$1.EventEmitter{emitAndLog(Z,...Y){if(this.emit(Z,...Y),this.component)this.mongoLogger?.debug(this.component,Y[0])}}Mj.TypedEventEmitter=oq;class wj extends oq{}Mj.CancellationToken=wj});var YV=R((Aj)=>{Object.defineProperty(Aj,"__esModule",{value:!0});Aj.GetMoreOperation=void 0;var eq=o(),A$1=Q1(),lG=c1();class ZV extends lG.AbstractOperation{constructor(Z,Y,J,X){super(X);this.options=X,this.ns=Z,this.cursorId=Y,this.server=J}async execute(Z,Y){if(Z!==this.server)throw new eq.MongoRuntimeError("Getmore must run on the same server operation began on");if(this.cursorId==null||this.cursorId.isZero())throw new eq.MongoRuntimeError("Unable to iterate cursor with no id");const J=this.ns.collection;if(J==null)throw new eq.MongoRuntimeError("A collection name must be determined before getMore");const X={getMore:this.cursorId,collection:J};if(typeof this.options.batchSize==="number")X.batchSize=Math.abs(this.options.batchSize);if(typeof this.options.maxAwaitTimeMS==="number")X.maxTimeMS=this.options.maxAwaitTimeMS;if(this.options.comment!==void 0&&A$1.maxWireVersion(Z)>=9)X.comment=this.options.comment;const $={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};return Z.commandAsync(this.ns,X,$)}}Aj.GetMoreOperation=ZV;lG.defineAspects(ZV,[lG.Aspect.READ_OPERATION,lG.Aspect.MUST_SELECT_SAME_SERVER])});var Tj=R((Dj)=>{Object.defineProperty(Dj,"__esModule",{value:!0});Dj.KillCursorsOperation=void 0;var Ij=o(),JV=c1();class XV extends JV.AbstractOperation{constructor(Z,Y,J,X){super(X);this.ns=Y,this.cursorId=Z,this.server=J}async execute(Z,Y){if(Z!==this.server)throw new Ij.MongoRuntimeError("Killcursor must run on the same server operation began on");const J=this.ns.collection;if(J==null)throw new Ij.MongoRuntimeError("A collection name must be determined before killCursors");const X={killCursors:J,cursors:[this.cursorId]};try{await Z.commandAsync(this.ns,X,{session:Y})}catch{}}}Dj.KillCursorsOperation=XV;JV.defineAspects(XV,[JV.Aspect.MUST_SELECT_SAME_SERVER])});var $V=R((Cj)=>{Object.defineProperty(Cj,"__esModule",{value:!0});Cj.ConnectionPoolMetrics=void 0;class v4{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(Z){if(Z===v4.TXN)this.txnConnections+=1;else if(Z===v4.CURSOR)this.cursorConnections+=1;else this.otherConnections+=1}markUnpinned(Z){if(Z===v4.TXN)this.txnConnections-=1;else if(Z===v4.CURSOR)this.cursorConnections-=1;else this.otherConnections-=1}info(Z){return"Timed out while checking out a connection from connection pool: "+`maxPoolSize: ${Z}, `+`connections in use by cursors: ${this.cursorConnections}, `+`connections in use by transactions: ${this.txnConnections}, `+`connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}}v4.TXN="txn";v4.CURSOR="cursor";v4.OTHER="other";Cj.ConnectionPoolMetrics=v4});var A3=R((kj)=>{var Oj=function(Z,Y){if(Y?.loadBalanced)return y0.ServerType.LoadBalancer;if(!Z||!Z.ok)return y0.ServerType.Unknown;if(Z.isreplicaset)return y0.ServerType.RSGhost;if(Z.msg&&Z.msg==="isdbgrid")return y0.ServerType.Mongos;if(Z.setName)if(Z.hidden)return y0.ServerType.RSOther;else if(Z.isWritablePrimary)return y0.ServerType.RSPrimary;else if(Z.secondary)return y0.ServerType.RSSecondary;else if(Z.arbiterOnly)return y0.ServerType.RSArbiter;else return y0.ServerType.RSOther;return y0.ServerType.Standalone},P$1=function(Z,Y){const J=Object.keys(Z),X=Object.keys(Y);return J.length===X.length&&J.every(($)=>Y[$]===Z[$])},Sj=function(Z,Y){if(Z==null||Y==null)return-1;if(!Z.processId.equals(Y.processId))return-1;const J=iG.Long.isLong(Z.counter)?Z.counter:iG.Long.fromNumber(Z.counter),X=iG.Long.isLong(Y.counter)?Y.counter:iG.Long.fromNumber(Y.counter);return J.compare(X)};Object.defineProperty(kj,"__esModule",{value:!0});kj.compareTopologyVersion=kj.parseServerType=kj.ServerDescription=void 0;var iG=G0(),N$1=o(),hY=Q1(),y0=n6(),I$1=new Set([y0.ServerType.RSPrimary,y0.ServerType.Standalone,y0.ServerType.Mongos,y0.ServerType.LoadBalancer]),D$1=new Set([y0.ServerType.RSPrimary,y0.ServerType.RSSecondary,y0.ServerType.Mongos,y0.ServerType.Standalone,y0.ServerType.LoadBalancer]);class jj{constructor(Z,Y,J={}){if(Z==null||Z==="")throw new N$1.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof Z==="string"?hY.HostAddress.fromString(Z).toString():Z.toString(),this.type=Oj(Y,J),this.hosts=Y?.hosts?.map((X)=>X.toLowerCase())??[],this.passives=Y?.passives?.map((X)=>X.toLowerCase())??[],this.arbiters=Y?.arbiters?.map((X)=>X.toLowerCase())??[],this.tags=Y?.tags??{},this.minWireVersion=Y?.minWireVersion??0,this.maxWireVersion=Y?.maxWireVersion??0,this.roundTripTime=J?.roundTripTime??-1,this.lastUpdateTime=hY.now(),this.lastWriteDate=Y?.lastWrite?.lastWriteDate??0,this.error=J.error??null,this.topologyVersion=this.error?.topologyVersion??Y?.topologyVersion??null,this.setName=Y?.setName??null,this.setVersion=Y?.setVersion??null,this.electionId=Y?.electionId??null,this.logicalSessionTimeoutMinutes=Y?.logicalSessionTimeoutMinutes??null,this.primary=Y?.primary??null,this.me=Y?.me?.toLowerCase()??null,this.$clusterTime=Y?.$clusterTime??null}get hostAddress(){return hY.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===y0.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return D$1.has(this.type)}get isWritable(){return I$1.has(this.type)}get host(){const Z=`:${this.port}`.length;return this.address.slice(0,-Z)}get port(){const Z=this.address.split(":").pop();return Z?Number.parseInt(Z,10):27017}equals(Z){const Y=this.topologyVersion===Z?.topologyVersion||Sj(this.topologyVersion,Z?.topologyVersion)===0,J=this.electionId!=null&&Z?.electionId!=null?hY.compareObjectId(this.electionId,Z.electionId)===0:this.electionId===Z?.electionId;return Z!=null&&hY.errorStrictEqual(this.error,Z.error)&&this.type===Z.type&&this.minWireVersion===Z.minWireVersion&&hY.arrayStrictEqual(this.hosts,Z.hosts)&&P$1(this.tags,Z.tags)&&this.setName===Z.setName&&this.setVersion===Z.setVersion&&J&&this.primary===Z.primary&&this.logicalSessionTimeoutMinutes===Z.logicalSessionTimeoutMinutes&&Y}}kj.ServerDescription=jj;kj.parseServerType=Oj;kj.compareTopologyVersion=Sj});var GV=R((vj)=>{var k$1=function(Z){switch(Z){case O1.ServerType.Standalone:return O1.TopologyType.Single;case O1.ServerType.Mongos:return O1.TopologyType.Sharded;case O1.ServerType.RSPrimary:return O1.TopologyType.ReplicaSetWithPrimary;case O1.ServerType.RSOther:case O1.ServerType.RSSecondary:return O1.TopologyType.ReplicaSetNoPrimary;default:return O1.TopologyType.Unknown}},bj=function(Z,Y,J=null,X=null,$=null){if(J=J||Y.setName,J!==Y.setName)return Z.delete(Y.address),[Z9(Z),J,X,$];if(Y.maxWireVersion>=17){const Q=WV.compareObjectId($,Y.electionId),K=Q===0,H=Q===-1,z=(X??-1)<=(Y.setVersion??-1);if(H||K&&z)$=Y.electionId,X=Y.setVersion;else return Z.set(Y.address,new g5.ServerDescription(Y.address)),[Z9(Z),J,X,$]}else{const Q=Y.electionId?Y.electionId:null;if(Y.setVersion&&Q){if(X&&$){if(X>Y.setVersion||WV.compareObjectId($,Q)>0)return Z.set(Y.address,new g5.ServerDescription(Y.address)),[Z9(Z),J,X,$]}$=Y.electionId}if(Y.setVersion!=null&&(X==null||Y.setVersion>X))X=Y.setVersion}for(let[Q,K]of Z)if(K.type===O1.ServerType.RSPrimary&&K.address!==Y.address){Z.set(Q,new g5.ServerDescription(K.address));break}Y.allHosts.forEach((Q)=>{if(!Z.has(Q))Z.set(Q,new g5.ServerDescription(Q))});const W=Array.from(Z.keys()),G=Y.allHosts;return W.filter((Q)=>G.indexOf(Q)===-1).forEach((Q)=>{Z.delete(Q)}),[Z9(Z),J,X,$]},_$1=function(Z,Y,J=null){if(J==null)throw new E$1.MongoRuntimeError('Argument "setName" is required if connected to a replica set');if(J!==Y.setName||Y.me&&Y.address!==Y.me)Z.delete(Y.address);return Z9(Z)},x$1=function(Z,Y,J=null){const X=O1.TopologyType.ReplicaSetNoPrimary;if(J=J??Y.setName,J!==Y.setName)return Z.delete(Y.address),[X,J];if(Y.allHosts.forEach(($)=>{if(!Z.has($))Z.set($,new g5.ServerDescription($))}),Y.me&&Y.address!==Y.me)Z.delete(Y.address);return[X,J]},Z9=function(Z){for(let Y of Z.values())if(Y.type===O1.ServerType.RSPrimary)return O1.TopologyType.ReplicaSetWithPrimary;return O1.TopologyType.ReplicaSetNoPrimary};Object.defineProperty(vj,"__esModule",{value:!0});vj.TopologyDescription=void 0;var nG=oZ(),E$1=o(),WV=Q1(),O1=n6(),g5=A3(),j$1=nG.MIN_SUPPORTED_SERVER_VERSION,O$1=nG.MAX_SUPPORTED_SERVER_VERSION,xj=nG.MIN_SUPPORTED_WIRE_VERSION,fj=nG.MAX_SUPPORTED_WIRE_VERSION,S$1=new Set([O1.ServerType.Mongos,O1.ServerType.Unknown]),yj=new Set([O1.ServerType.Mongos,O1.ServerType.Standalone]),gj=new Set([O1.ServerType.RSSecondary,O1.ServerType.RSArbiter,O1.ServerType.RSOther]);class N3{constructor(Z,Y=null,J=null,X=null,$=null,W=null,G=null){G=G??{},this.type=Z??O1.TopologyType.Unknown,this.servers=Y??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=G.heartbeatFrequencyMS??0,this.localThresholdMS=G.localThresholdMS??15,this.setName=J??null,this.maxElectionId=$??null,this.maxSetVersion=X??null,this.commonWireVersion=W??0;for(let Q of this.servers.values()){if(Q.type===O1.ServerType.Unknown||Q.type===O1.ServerType.LoadBalancer)continue;if(Q.minWireVersion>fj)this.compatible=!1,this.compatibilityError=`Server at ${Q.address} requires wire version ${Q.minWireVersion}, but this version of the driver only supports up to ${fj} (MongoDB ${O$1})`;if(Q.maxWireVersion<xj){this.compatible=!1,this.compatibilityError=`Server at ${Q.address} reports wire version ${Q.maxWireVersion}, but this version of the driver requires at least ${xj} (MongoDB ${j$1}).`;break}}this.logicalSessionTimeoutMinutes=null;for(let[,Q]of this.servers)if(Q.isReadable){if(Q.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=Q.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,Q.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(Z,Y=0){const J=Z.hostnames(),X=new Set(this.servers.keys()),$=new Set(J),W=new Set;for(let Q of X)if($.delete(Q),!J.has(Q))W.add(Q);if($.size===0&&W.size===0)return this;const G=new Map(this.servers);for(let Q of W)G.delete(Q);if($.size>0){if(Y===0)for(let Q of $)G.set(Q,new g5.ServerDescription(Q));else if(G.size<Y){const Q=WV.shuffle($,Y-G.size);for(let K of Q)G.set(K,new g5.ServerDescription(K))}}return new N3(this.type,G,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(Z){const Y=Z.address;let{type:J,setName:X,maxSetVersion:$,maxElectionId:W,commonWireVersion:G}=this;const Q=Z.type,K=new Map(this.servers);if(Z.maxWireVersion!==0)if(G==null)G=Z.maxWireVersion;else G=Math.min(G,Z.maxWireVersion);if(typeof Z.setName==="string"&&typeof X==="string"&&Z.setName!==X)if(J===O1.TopologyType.Single)Z=new g5.ServerDescription(Y);else K.delete(Y);if(K.set(Y,Z),J===O1.TopologyType.Single)return new N3(O1.TopologyType.Single,K,X,$,W,G,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(J===O1.TopologyType.Unknown)if(Q===O1.ServerType.Standalone&&this.servers.size!==1)K.delete(Y);else J=k$1(Q);if(J===O1.TopologyType.Sharded){if(!S$1.has(Q))K.delete(Y)}if(J===O1.TopologyType.ReplicaSetNoPrimary){if(yj.has(Q))K.delete(Y);if(Q===O1.ServerType.RSPrimary){const H=bj(K,Z,X,$,W);J=H[0],X=H[1],$=H[2],W=H[3]}else if(gj.has(Q)){const H=x$1(K,Z,X);J=H[0],X=H[1]}}if(J===O1.TopologyType.ReplicaSetWithPrimary)if(yj.has(Q))K.delete(Y),J=Z9(K);else if(Q===O1.ServerType.RSPrimary){const H=bj(K,Z,X,$,W);J=H[0],X=H[1],$=H[2],W=H[3]}else if(gj.has(Q))J=_$1(K,Z,X);else J=Z9(K);return new N3(J,K,X,$,W,G,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){const Z=Array.from(this.servers.values()).filter((Y)=>Y.error);if(Z.length>0)return Z[0].error;return null}get hasKnownServers(){return Array.from(this.servers.values()).some((Z)=>Z.type!==O1.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some((Z)=>Z.isDataBearing)}hasServer(Z){return this.servers.has(Z)}}vj.TopologyDescription=N3});var KV=R((uj)=>{var g$1=function(Z){let Y=Z?.readPreference??QV.ReadPreference.primary;if(Z?.readPreference)Y=Z.readPreference;if(typeof Y==="string")Y=QV.ReadPreference.fromString(Y);if(!(Y instanceof QV.ReadPreference))throw new f$1.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return Y},b$1=function(Z){if(Z==null)return!1;if(Z.description&&Z.description.type===mj.ServerType.Mongos)return!0;if(Z.description&&Z.description instanceof y$1.TopologyDescription)return Array.from(Z.description.servers.values()).some((J)=>J.type===mj.ServerType.Mongos);return!1};Object.defineProperty(uj,"__esModule",{value:!0});uj.isSharded=uj.getReadPreference=void 0;var f$1=o(),QV=d0(),mj=n6(),y$1=GV();uj.getReadPreference=g$1;uj.isSharded=b$1});var HV=R((lj)=>{var l$1=function(Z){return!!(Z.commitTransaction||Z.abortTransaction)};Object.defineProperty(lj,"__esModule",{value:!0});lj.isTransactionCommand=lj.Transaction=lj.TxnState=void 0;var cj=o(),h$1=a6(),m$1=d0(),u$1=e8();lj.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});var d$1={[lj.TxnState.NO_TRANSACTION]:[lj.TxnState.NO_TRANSACTION,lj.TxnState.STARTING_TRANSACTION],[lj.TxnState.STARTING_TRANSACTION]:[lj.TxnState.TRANSACTION_IN_PROGRESS,lj.TxnState.TRANSACTION_COMMITTED,lj.TxnState.TRANSACTION_COMMITTED_EMPTY,lj.TxnState.TRANSACTION_ABORTED],[lj.TxnState.TRANSACTION_IN_PROGRESS]:[lj.TxnState.TRANSACTION_IN_PROGRESS,lj.TxnState.TRANSACTION_COMMITTED,lj.TxnState.TRANSACTION_ABORTED],[lj.TxnState.TRANSACTION_COMMITTED]:[lj.TxnState.TRANSACTION_COMMITTED,lj.TxnState.TRANSACTION_COMMITTED_EMPTY,lj.TxnState.STARTING_TRANSACTION,lj.TxnState.NO_TRANSACTION],[lj.TxnState.TRANSACTION_ABORTED]:[lj.TxnState.STARTING_TRANSACTION,lj.TxnState.NO_TRANSACTION],[lj.TxnState.TRANSACTION_COMMITTED_EMPTY]:[lj.TxnState.TRANSACTION_COMMITTED_EMPTY,lj.TxnState.NO_TRANSACTION]},c$1=new Set([lj.TxnState.STARTING_TRANSACTION,lj.TxnState.TRANSACTION_IN_PROGRESS]),p$1=new Set([lj.TxnState.TRANSACTION_COMMITTED,lj.TxnState.TRANSACTION_COMMITTED_EMPTY,lj.TxnState.TRANSACTION_ABORTED]);class pj{constructor(Z){Z=Z??{},this.state=lj.TxnState.NO_TRANSACTION,this.options={};const Y=u$1.WriteConcern.fromOptions(Z);if(Y){if(Y.w===0)throw new cj.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=Y}if(Z.readConcern)this.options.readConcern=h$1.ReadConcern.fromOptions(Z);if(Z.readPreference)this.options.readPreference=m$1.ReadPreference.fromOptions(Z);if(Z.maxCommitTimeMS)this.options.maxTimeMS=Z.maxCommitTimeMS;this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===lj.TxnState.STARTING_TRANSACTION}get isActive(){return c$1.has(this.state)}get isCommitted(){return p$1.has(this.state)}transition(Z){const Y=d$1[this.state];if(Y&&Y.includes(Z)){if(this.state=Z,this.state===lj.TxnState.NO_TRANSACTION||this.state===lj.TxnState.STARTING_TRANSACTION||this.state===lj.TxnState.TRANSACTION_ABORTED)this.unpinServer();return}throw new cj.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${Z}]`)}pinServer(Z){if(this.isActive)this._pinnedServer=Z}unpinServer(){this._pinnedServer=void 0}}lj.Transaction=pj;lj.isTransactionCommand=l$1});var D3=R((JO)=>{var ZO=function(Z,Y){return D7.calculateDurationInMs(Z)<Y},ZW1=function(Z){const Y=Z instanceof w1.MongoServerError&&Z.codeName&&e$1.has(Z.codeName);return eG(Z)||!Y&&Z.code!==w1.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&Z.code!==w1.MONGODB_ERROR_CODES.UnknownReplWriteConcern},oG=function(Z,Y){const J=Z[uY],X=Y?.error;if(Z.inTransaction()&&X&&X instanceof w1.MongoError&&X.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError))return;const $=Z.client.topology;if(J&&$!=null){const G=Array.from($.s.servers.values())[0];if(Y?.error==null||Y?.force){if(G.pool.checkIn(J),J.emit(oj.UNPINNED,Z.transaction.state!==F0.TxnState.NO_TRANSACTION?sG.ConnectionPoolMetrics.TXN:sG.ConnectionPoolMetrics.CURSOR),Y?.forceClear)G.pool.clear({serviceId:J.serviceId})}Z[uY]=void 0}},eG=function(Z){if(Z==null||!(Z instanceof w1.MongoServerError))return!1;return Z.code===w1.MONGODB_ERROR_CODES.MaxTimeMSExpired||Z.writeConcernError&&Z.writeConcernError.code===w1.MONGODB_ERROR_CODES.MaxTimeMSExpired},YO=function(Z,Y,J,X,$){return Z.commitTransaction().then(()=>X,(W)=>{if(W instanceof w1.MongoError&&ZO(Y,ej)&&!eG(W)){if(W.hasErrorLabel(w1.MongoErrorLabel.UnknownTransactionCommitResult))return YO(Z,Y,J,X,$);if(W.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError))return UV(Z,Y,J,$)}throw W})},JW1=function(Z){return YW1.has(Z.transaction.state)},UV=function(Z,Y,J,X={}){Z.startTransaction(X);let $;try{$=J(Z)}catch(W){$=Promise.reject(W)}if(!D7.isPromiseLike($))return Z.abortTransaction().catch(()=>null),Promise.reject(new w1.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise"));return $.then((W)=>{if(JW1(Z))return W;return YO(Z,Y,J,W,X)},(W)=>{function G(Q){if(Q instanceof w1.MongoError&&Q.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError)&&ZO(Y,ej))return UV(Z,Y,J,X);if(eG(Q))Q.addErrorLabel(w1.MongoErrorLabel.UnknownTransactionCommitResult);throw Q}if(Z.inTransaction())return Z.abortTransaction().then(()=>G(W));return G(W)})},XW1=function(Z,Y,J){const X=Z.transaction.state;if(X===F0.TxnState.NO_TRANSACTION){J(new w1.MongoTransactionError("No transaction started"));return}if(Y==="commitTransaction"){if(X===F0.TxnState.STARTING_TRANSACTION||X===F0.TxnState.TRANSACTION_COMMITTED_EMPTY){Z.transaction.transition(F0.TxnState.TRANSACTION_COMMITTED_EMPTY),J();return}if(X===F0.TxnState.TRANSACTION_ABORTED){J(new w1.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(X===F0.TxnState.STARTING_TRANSACTION){Z.transaction.transition(F0.TxnState.TRANSACTION_ABORTED),J();return}if(X===F0.TxnState.TRANSACTION_ABORTED){J(new w1.MongoTransactionError("Cannot call abortTransaction twice"));return}if(X===F0.TxnState.TRANSACTION_COMMITTED||X===F0.TxnState.TRANSACTION_COMMITTED_EMPTY){J(new w1.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}const $={[Y]:1};let W;if(Z.transaction.options.writeConcern)W=Object.assign({},Z.transaction.options.writeConcern);else if(Z.clientOptions&&Z.clientOptions.writeConcern)W={w:Z.clientOptions.writeConcern.w};if(X===F0.TxnState.TRANSACTION_COMMITTED)W=Object.assign({wtimeoutMS:1e4},W,{w:"majority"});if(W)t$1.WriteConcern.apply($,W);if(Y==="commitTransaction"&&Z.transaction.options.maxTimeMS)Object.assign($,{maxTimeMS:Z.transaction.options.maxTimeMS});function G(Q){if(Y!=="commitTransaction"){if(Z.transaction.transition(F0.TxnState.TRANSACTION_ABORTED),Z.loadBalanced)oG(Z,{force:!1});return J()}if(Z.transaction.transition(F0.TxnState.TRANSACTION_COMMITTED),Q instanceof w1.MongoError){if(Q.hasErrorLabel(w1.MongoErrorLabel.RetryableWriteError)||Q instanceof w1.MongoWriteConcernError||eG(Q)){if(ZW1(Q))Q.addErrorLabel(w1.MongoErrorLabel.UnknownTransactionCommitResult),Z.unpin({error:Q})}else if(Q.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError))Z.unpin({error:Q})}J(Q)}if(Z.transaction.recoveryToken)$.recoveryToken=Z.transaction.recoveryToken;nj.executeOperation(Z.client,new aj.RunAdminCommandOperation($,{session:Z,readPreference:sj.ReadPreference.primary,bypassPinningCheck:!0}),(Q)=>{if($.abortTransaction)Z.unpin();if(Q instanceof w1.MongoError&&Q.hasErrorLabel(w1.MongoErrorLabel.RetryableWriteError)){if($.commitTransaction)Z.unpin({force:!0}),$.writeConcern=Object.assign({wtimeout:1e4},$.writeConcern,{w:"majority"});return nj.executeOperation(Z.client,new aj.RunAdminCommandOperation($,{session:Z,readPreference:sj.ReadPreference.primary,bypassPinningCheck:!0}),G)}G(Q)})},$W1=function(Z,Y,J){if(Z.hasEnded)return new w1.MongoExpiredSessionError;const X=Z.serverSession;if(X==null)return new w1.MongoRuntimeError("Unable to acquire server session");if(J.writeConcern?.w===0){if(Z&&Z.explicit)return new w1.MongoAPIError("Cannot have explicit session with unacknowledged writes");return}X.lastUse=D7.now(),Y.lsid=X.id;const $=Z.inTransaction()||F0.isTransactionCommand(Y);if(!!J.willRetryWrite||$)X.txnNumber+=Z[tG],Z[tG]=0,Y.txnNumber=aG.Long.fromNumber(X.txnNumber);if(!$){if(Z.transaction.state!==F0.TxnState.NO_TRANSACTION)Z.transaction.transition(F0.TxnState.NO_TRANSACTION);if(Z.supports.causalConsistency&&Z.operationTime&&D7.commandSupportsReadConcern(Y))Y.readConcern=Y.readConcern||{},Object.assign(Y.readConcern,{afterClusterTime:Z.operationTime});else if(Z[dY]){if(Y.readConcern=Y.readConcern||{level:r$1.ReadConcernLevel.snapshot},Z[rG]!=null)Object.assign(Y.readConcern,{atClusterTime:Z[rG]})}return}if(Y.autocommit=!1,Z.transaction.state===F0.TxnState.STARTING_TRANSACTION){Z.transaction.transition(F0.TxnState.TRANSACTION_IN_PROGRESS),Y.startTransaction=!0;const G=Z.transaction.options.readConcern||Z?.clientOptions?.readConcern;if(G)Y.readConcern=G;if(Z.supports.causalConsistency&&Z.operationTime)Y.readConcern=Y.readConcern||{},Object.assign(Y.readConcern,{afterClusterTime:Z.operationTime})}return},WW1=function(Z,Y){if(Y.$clusterTime)zV._advanceClusterTime(Z,Y.$clusterTime);if(Y.operationTime&&Z&&Z.supports.causalConsistency)Z.advanceOperationTime(Y.operationTime);if(Y.recoveryToken&&Z&&Z.inTransaction())Z.transaction._recoveryToken=Y.recoveryToken;if(Z?.[dY]&&Z[rG]==null){const J=Y.cursor?.atClusterTime||Y.atClusterTime;if(J)Z[rG]=J}},tj;Object.defineProperty(JO,"__esModule",{value:!0});JO.updateSessionFromResponse=JO.applySession=JO.ServerSessionPool=JO.ServerSession=JO.maybeClearPinnedConnection=JO.ClientSession=void 0;var n$1=import.meta.require("util"),aG=G0(),sG=$V(),a$1=KV(),oj=r0(),w1=o(),s$1=P6(),nj=Z6(),aj=gY(),r$1=a6(),sj=d0(),zV=n6(),F0=HV(),D7=Q1(),t$1=e8(),o$1=8,mY=Symbol("serverSession"),rG=Symbol("snapshotTime"),dY=Symbol("snapshotEnabled"),uY=Symbol("pinnedConnection"),tG=Symbol("txnNumberIncrement");class FV extends s$1.TypedEventEmitter{constructor(Z,Y,J,X){super();if(this[tj]=!1,Z==null)throw new w1.MongoRuntimeError("ClientSession requires a MongoClient");if(Y==null||!(Y instanceof qV))throw new w1.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(J=J??{},J.snapshot===!0){if(this[dY]=!0,J.causalConsistency===!0)throw new w1.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive')}this.client=Z,this.sessionPool=Y,this.hasEnded=!1,this.clientOptions=X,this.explicit=!!J.explicit,this[mY]=this.explicit?this.sessionPool.acquire():null,this[tG]=0;const $=this.explicit&&J.snapshot!==!0;this.supports={causalConsistency:J.causalConsistency??$},this.clusterTime=J.initialClusterTime,this.operationTime=void 0,this.owner=J.owner,this.defaultTransactionOptions=Object.assign({},J.defaultTransactionOptions),this.transaction=new F0.Transaction}get id(){return this[mY]?.id}get serverSession(){let Z=this[mY];if(Z==null){if(this.explicit)throw new w1.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new w1.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");Z=this.sessionPool.acquire(),this[mY]=Z}return Z}get snapshotEnabled(){return this[dY]}get loadBalanced(){return this.client.topology?.description.type===zV.TopologyType.LoadBalanced}get pinnedConnection(){return this[uY]}pin(Z){if(this[uY])throw TypeError("Cannot pin multiple connections to the same session");this[uY]=Z,Z.emit(oj.PINNED,this.inTransaction()?sG.ConnectionPoolMetrics.TXN:sG.ConnectionPoolMetrics.CURSOR)}unpin(Z){if(this.loadBalanced)return oG(this,Z);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[uY]:this.transaction.isPinned}async endSession(Z){try{if(this.inTransaction())await this.abortTransaction();if(!this.hasEnded){const Y=this[mY];if(Y!=null)this.sessionPool.release(Y),Object.defineProperty(this,mY,{value:I3.clone(Y),writable:!1});this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{oG(this,{force:!0,...Z})}}advanceOperationTime(Z){if(this.operationTime==null){this.operationTime=Z;return}if(Z.greaterThan(this.operationTime))this.operationTime=Z}advanceClusterTime(Z){if(!Z||typeof Z!=="object")throw new w1.MongoInvalidArgumentError("input cluster time must be an object");if(!Z.clusterTime||Z.clusterTime._bsontype!=="Timestamp")throw new w1.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!Z.signature||Z.signature.hash?._bsontype!=="Binary"||typeof Z.signature.keyId!=="bigint"&&typeof Z.signature.keyId!=="number"&&Z.signature.keyId?._bsontype!=="Long")throw new w1.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');zV._advanceClusterTime(this,Z)}equals(Z){if(!(Z instanceof FV))return!1;if(this.id==null||Z.id==null)return!1;return D7.ByteUtils.equals(this.id.id.buffer,Z.id.id.buffer)}incrementTransactionNumber(){this[tG]+=1}inTransaction(){return this.transaction.isActive}startTransaction(Z){if(this[dY])throw new w1.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new w1.MongoTransactionError("Transaction already in progress");if(this.isPinned&&this.transaction.isCommitted)this.unpin();const Y=D7.maxWireVersion(this.client.topology);if(a$1.isSharded(this.client.topology)&&Y!=null&&Y<o$1)throw new w1.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new F0.Transaction({readConcern:Z?.readConcern??this.defaultTransactionOptions.readConcern??this.clientOptions?.readConcern,writeConcern:Z?.writeConcern??this.defaultTransactionOptions.writeConcern??this.clientOptions?.writeConcern,readPreference:Z?.readPreference??this.defaultTransactionOptions.readPreference??this.clientOptions?.readPreference,maxCommitTimeMS:Z?.maxCommitTimeMS??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(F0.TxnState.STARTING_TRANSACTION)}async commitTransaction(){return rj(this,"commitTransaction")}async abortTransaction(){return rj(this,"abortTransaction")}toBSON(){throw new w1.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(Z,Y){const J=D7.now();return UV(this,J,Z,Y)}}JO.ClientSession=FV;tj=dY;var ej=120000,e$1=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);JO.maybeClearPinnedConnection=oG;var YW1=new Set([F0.TxnState.NO_TRANSACTION,F0.TxnState.TRANSACTION_COMMITTED,F0.TxnState.TRANSACTION_ABORTED]),rj=n$1.promisify(XW1);class I3{constructor(){this.id={id:new aG.Binary(D7.uuidV4(),aG.Binary.SUBTYPE_UUID)},this.lastUse=D7.now(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(Z){return Math.round(D7.calculateDurationInMs(this.lastUse)%86400000%3600000/60000)>Z-1}static clone(Z){const Y=new ArrayBuffer(16),J=Buffer.from(Y);J.set(Z.id.id.buffer);const X=new aG.Binary(J,Z.id.id.sub_type);return Object.setPrototypeOf({id:{id:X},lastUse:Z.lastUse,txnNumber:Z.txnNumber,isDirty:Z.isDirty},I3.prototype)}}JO.ServerSession=I3;class qV{constructor(Z){if(Z==null)throw new w1.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=Z,this.sessions=new D7.List}acquire(){const Z=this.client.topology?.logicalSessionTimeoutMinutes??10;let Y=null;while(this.sessions.length>0){const J=this.sessions.shift();if(J!=null&&(!!this.client.topology?.loadBalanced||!J.hasTimedOut(Z))){Y=J;break}}if(Y==null)Y=new I3;return Y}release(Z){const Y=this.client.topology?.logicalSessionTimeoutMinutes??10;if(this.client.topology?.loadBalanced&&!Y)this.sessions.unshift(Z);if(!Y)return;if(this.sessions.prune((J)=>J.hasTimedOut(Y)),!Z.hasTimedOut(Y)){if(Z.isDirty)return;this.sessions.unshift(Z)}}}JO.ServerSessionPool=qV;JO.applySession=$W1;JO.updateSessionFromResponse=WW1});var m4=R((HO)=>{async function JQ(Z,{blocking:Y,transform:J}){if(Z.closed)return null;do{if(Z[A8]==null)await Z[KO]();if(Z[N8].length!==0){const $=Z[N8].shift();if($!=null&&J&&Z[C3])try{return Z[C3]($)}catch(W){throw await b5(Z,{error:W,needsToEmitClosed:!0}).catch(()=>null),W}return $}if(Z.isDead)return await b5(Z,{}),null;const X=Z[t0].batchSize||1000;try{const $=await Z.getMore(X);if($){const W=typeof $.cursor.id==="number"?P7.Long.fromNumber($.cursor.id):typeof $.cursor.id==="bigint"?P7.Long.fromBigInt($.cursor.id):$.cursor.id;Z[N8].pushMany($.cursor.nextBatch),Z[A8]=W}}catch($){throw await b5(Z,{error:$}).catch(()=>null),$}if(Z.isDead)await b5(Z,{});if(Z[N8].length===0&&Y===!1)return null}while(!Z.isDead||Z[N8].length!==0);return null}async function b5(Z,Y){const J=Z[A8],X=Z[P3],$=Z[YQ],W=Z[h4],G=Y?.error,Q=Y?.needsToEmitClosed??Z[N8].length===0;if(G){if(Z.loadBalanced&&G instanceof T6.MongoNetworkError)return K()}if(J==null||$==null||J.isZero()||X==null){if(Q)Z[Y9]=!0,Z[A8]=P7.Long.ZERO,Z.emit(lY.CLOSE);if(W){if(W.owner===Z){await W.endSession({error:G});return}if(!W.inTransaction())VV.maybeClearPinnedConnection(W,{error:G})}return}async function K(){if(W){if(W.owner===Z){try{await W.endSession({error:G})}finally{Z.emit(lY.CLOSE)}return}if(!W.inTransaction())VV.maybeClearPinnedConnection(W,{error:G})}Z.emit(lY.CLOSE);return}if(Z[T3]=!0,W.hasEnded)return K();try{await QO.executeOperation(Z[cY],new qW1.KillCursorsOperation(J,X,$,{session:W})).catch(()=>null)}finally{await K()}}var J9=function(Z){if(Z[pY])throw new T6.MongoCursorInUseError};Object.defineProperty(HO,"__esModule",{value:!0});HO.assertUninitialized=HO.AbstractCursor=HO.CURSOR_FLAGS=void 0;var GO=import.meta.require("stream"),P7=G0(),T6=o(),FW1=P6(),QO=Z6(),UW1=YV(),qW1=Tj(),$O=a6(),ZQ=d0(),VV=D3(),WO=Q1(),A8=Symbol("id"),N8=Symbol("documents"),YQ=Symbol("server"),P3=Symbol("namespace"),cY=Symbol("client"),h4=Symbol("session"),t0=Symbol("options"),C3=Symbol("transform"),pY=Symbol("initialized"),Y9=Symbol("closed"),T3=Symbol("killed"),KO=Symbol("kInit");HO.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class lY extends FW1.TypedEventEmitter{constructor(Z,Y,J={}){super();if(!Z.s.isMongoClient)throw new T6.MongoRuntimeError("Cursor must be constructed with MongoClient");this[cY]=Z,this[P3]=Y,this[A8]=null,this[N8]=new WO.List,this[pY]=!1,this[Y9]=!1,this[T3]=!1,this[t0]={readPreference:J.readPreference&&J.readPreference instanceof ZQ.ReadPreference?J.readPreference:ZQ.ReadPreference.primary,...P7.pluckBSONSerializeOptions(J)};const X=$O.ReadConcern.fromOptions(J);if(X)this[t0].readConcern=X;if(typeof J.batchSize==="number")this[t0].batchSize=J.batchSize;if(J.comment!==void 0)this[t0].comment=J.comment;if(typeof J.maxTimeMS==="number")this[t0].maxTimeMS=J.maxTimeMS;if(typeof J.maxAwaitTimeMS==="number")this[t0].maxAwaitTimeMS=J.maxAwaitTimeMS;if(J.session instanceof VV.ClientSession)this[h4]=J.session;else this[h4]=this[cY].startSession({owner:this,explicit:!1})}get id(){return this[A8]??void 0}get isDead(){return(this[A8]?.isZero()??!1)||this[Y9]||this[T3]}get client(){return this[cY]}get server(){return this[YQ]}get namespace(){return this[P3]}get readPreference(){return this[t0].readPreference}get readConcern(){return this[t0].readConcern}get session(){return this[h4]}set session(Z){this[h4]=Z}get cursorOptions(){return this[t0]}get closed(){return this[Y9]}get killed(){return this[T3]}get loadBalanced(){return!!this[cY].topology?.loadBalanced}bufferedCount(){return this[N8].length}readBufferedDocuments(Z){const Y=[],J=Math.min(Z??this[N8].length,this[N8].length);for(let X=0;X<J;X++){const $=this[N8].shift();if($!=null)Y.push($)}return Y}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0){const Z=await this.next();if(Z===null){if(!this.closed)throw await b5(this,{needsToEmitClosed:!0}).catch(()=>null),new T6.MongoAPIError("Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.");break}if(yield Z,this[A8]===P7.Long.ZERO)break}}finally{if(!this.closed)await this.close().catch(()=>null)}}stream(Z){if(Z?.transform){const Y=Z.transform;return new LV(this).pipe(new GO.Transform({objectMode:!0,highWaterMark:1,transform(X,$,W){try{const G=Y(X);W(void 0,G)}catch(G){W(G)}}}))}return new LV(this)}async hasNext(){if(this[A8]===P7.Long.ZERO)return!1;if(this[N8].length!==0)return!0;const Z=await JQ(this,{blocking:!0,transform:!1});if(Z)return this[N8].unshift(Z),!0;return!1}async next(){if(this[A8]===P7.Long.ZERO)throw new T6.MongoCursorExhaustedError;return JQ(this,{blocking:!0,transform:!0})}async tryNext(){if(this[A8]===P7.Long.ZERO)throw new T6.MongoCursorExhaustedError;return JQ(this,{blocking:!1,transform:!0})}async forEach(Z){if(typeof Z!=="function")throw new T6.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(let Y of this)if(Z(Y)===!1)break}async close(){const Z=!this[Y9];this[Y9]=!0,await b5(this,{needsToEmitClosed:Z})}async toArray(){const Z=[];for await(let Y of this)Z.push(Y);return Z}addCursorFlag(Z,Y){if(J9(this),!HO.CURSOR_FLAGS.includes(Z))throw new T6.MongoInvalidArgumentError(`Flag ${Z} is not one of ${HO.CURSOR_FLAGS}`);if(typeof Y!=="boolean")throw new T6.MongoInvalidArgumentError(`Flag ${Z} must be a boolean value`);return this[t0][Z]=Y,this}map(Z){J9(this);const Y=this[C3];if(Y)this[C3]=(J)=>{return Z(Y(J))};else this[C3]=Z;return this}withReadPreference(Z){if(J9(this),Z instanceof ZQ.ReadPreference)this[t0].readPreference=Z;else if(typeof Z==="string")this[t0].readPreference=ZQ.ReadPreference.fromString(Z);else throw new T6.MongoInvalidArgumentError(`Invalid read preference: ${Z}`);return this}withReadConcern(Z){J9(this);const Y=$O.ReadConcern.fromOptions({readConcern:Z});if(Y)this[t0].readConcern=Y;return this}maxTimeMS(Z){if(J9(this),typeof Z!=="number")throw new T6.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[t0].maxTimeMS=Z,this}batchSize(Z){if(J9(this),this[t0].tailable)throw new T6.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof Z!=="number")throw new T6.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[t0].batchSize=Z,this}rewind(){if(!this[pY])return;this[A8]=null,this[N8].clear(),this[Y9]=!1,this[T3]=!1,this[pY]=!1;const Z=this[h4];if(Z){if(Z.explicit===!1){if(!Z.hasEnded)Z.endSession().catch(()=>null);this[h4]=this.client.startSession({owner:this,explicit:!1})}}}async getMore(Z){const Y=new UW1.GetMoreOperation(this[P3],this[A8],this[YQ],{...this[t0],session:this[h4],batchSize:Z});return QO.executeOperation(this[cY],Y)}async[KO](){try{const Z=await this._initialize(this[h4]),Y=Z.response;if(this[YQ]=Z.server,Y.cursor){if(this[A8]=typeof Y.cursor.id==="number"?P7.Long.fromNumber(Y.cursor.id):typeof Y.cursor.id==="bigint"?P7.Long.fromBigInt(Y.cursor.id):Y.cursor.id,Y.cursor.ns)this[P3]=WO.ns(Y.cursor.ns);this[N8].pushMany(Y.cursor.firstBatch)}if(this[A8]==null)this[A8]=P7.Long.ZERO,this[N8].push(Z.response);this[pY]=!0}catch(Z){throw this[pY]=!0,await b5(this,{error:Z}),Z}if(this.isDead)await b5(this,void 0);return}}lY.CLOSE="close";HO.AbstractCursor=lY;HO.assertUninitialized=J9;class LV extends GO.Readable{constructor(Z){super({objectMode:!0,autoDestroy:!1,highWaterMark:1});this._readInProgress=!1,this._cursor=Z}_read(Z){if(!this._readInProgress)this._readInProgress=!0,this._readNext()}_destroy(Z,Y){this._cursor.close().then(()=>Y(Z),(J)=>Y(J))}_readNext(){JQ(this._cursor,{blocking:!0,transform:!0}).then((Z)=>{if(Z==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(Z))return this._readNext();this._readInProgress=!1}},(Z)=>{if(Z.message.match(/server is closed/))return this._cursor.close().catch(()=>null),this.push(null);if(Z.message.match(/operation was interrupted/))return this.push(null);return this.destroy(Z)})}}});var E3=R((qO)=>{Object.defineProperty(qO,"__esModule",{value:!0});qO.AggregationCursor=void 0;var FO=pG(),UO=Z6(),LW1=Q1(),t6=m4(),I8=Symbol("pipeline"),XQ=Symbol("options");class wV extends t6.AbstractCursor{constructor(Z,Y,J=[],X={}){super(Z,Y,X);this[I8]=J,this[XQ]=X}get pipeline(){return this[I8]}clone(){const Z=LW1.mergeOptions({},this[XQ]);return delete Z.session,new wV(this.client,this.namespace,this[I8],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const Y=new FO.AggregateOperation(this.namespace,this[I8],{...this[XQ],...this.cursorOptions,session:Z}),J=await UO.executeOperation(this.client,Y);return{server:Y.server,session:Z,response:J}}async explain(Z){return UO.executeOperation(this.client,new FO.AggregateOperation(this.namespace,this[I8],{...this[XQ],...this.cursorOptions,explain:Z??!0}))}group(Z){return t6.assertUninitialized(this),this[I8].push({$group:Z}),this}limit(Z){return t6.assertUninitialized(this),this[I8].push({$limit:Z}),this}match(Z){return t6.assertUninitialized(this),this[I8].push({$match:Z}),this}out(Z){return t6.assertUninitialized(this),this[I8].push({$out:Z}),this}project(Z){return t6.assertUninitialized(this),this[I8].push({$project:Z}),this}lookup(Z){return t6.assertUninitialized(this),this[I8].push({$lookup:Z}),this}redact(Z){return t6.assertUninitialized(this),this[I8].push({$redact:Z}),this}skip(Z){return t6.assertUninitialized(this),this[I8].push({$skip:Z}),this}sort(Z){return t6.assertUninitialized(this),this[I8].push({$sort:Z}),this}unwind(Z){return t6.assertUninitialized(this),this[I8].push({$unwind:Z}),this}geoNear(Z){return t6.assertUninitialized(this),this[I8].push({$geoNear:Z}),this}}qO.AggregationCursor=wV});var AV=R((LO)=>{Object.defineProperty(LO,"__esModule",{value:!0});LO.CountOperation=void 0;var RW1=O0(),MV=c1();class BV extends RW1.CommandOperation{constructor(Z,Y,J){super({s:{namespace:Z}},J);this.options=J,this.collectionName=Z.collection,this.query=Y}async execute(Z,Y){const J=this.options,X={count:this.collectionName,query:this.query};if(typeof J.limit==="number")X.limit=J.limit;if(typeof J.skip==="number")X.skip=J.skip;if(J.hint!=null)X.hint=J.hint;if(typeof J.maxTimeMS==="number")X.maxTimeMS=J.maxTimeMS;const $=await super.executeCommand(Z,Y,X);return $?$.n:0}}LO.CountOperation=BV;MV.defineAspects(BV,[MV.Aspect.READ_OPERATION,MV.Aspect.RETRYABLE])});var $Q=R((MO)=>{var iY=function(Z=1){const Y=`${Z}`.toLowerCase();if(wW1(Z))return Z;switch(Y){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new wO.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(Z)}`)}},wW1=function(Z){return typeof Z==="object"&&Z!=null&&"$meta"in Z&&typeof Z.$meta==="string"},MW1=function(Z){if(Array.isArray(Z)&&Z.length===2)try{return iY(Z[1]),!0}catch(Y){return!1}return!1},BW1=function(Z){return Array.isArray(Z)&&Array.isArray(Z[0])},AW1=function(Z){return Z instanceof Map&&Z.size>0},NW1=function(Z){return new Map([[`${Z[0]}`,iY([Z[1]])]])},IW1=function(Z){const Y=Z.map(([J,X])=>[`${J}`,iY(X)]);return new Map(Y)},DW1=function(Z){const Y=Z.map((J)=>[`${J}`,1]);return new Map(Y)},PW1=function(Z){const Y=Object.entries(Z).map(([J,X])=>[`${J}`,iY(X)]);return new Map(Y)},TW1=function(Z){const Y=Array.from(Z).map(([J,X])=>[`${J}`,iY(X)]);return new Map(Y)},CW1=function(Z,Y){if(Z==null)return;if(typeof Z==="string")return new Map([[Z,iY(Y)]]);if(typeof Z!=="object")throw new wO.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(Z)} Sort must be a valid object`);if(!Array.isArray(Z))return AW1(Z)?TW1(Z):Object.keys(Z).length?PW1(Z):void 0;if(!Z.length)return;if(BW1(Z))return IW1(Z);if(MW1(Z))return NW1(Z);return DW1(Z)};Object.defineProperty(MO,"__esModule",{value:!0});MO.formatSort=void 0;var wO=o();MO.formatSort=CW1});var DO=R((NO)=>{var kW1=function(Z,Y,J){const X={find:Z.collection,filter:Y};if(J.sort)X.sort=OW1.formatSort(J.sort);if(J.projection){let W=J.projection;if(W&&Array.isArray(W))W=W.length?W.reduce((G,Q)=>{return G[Q]=1,G},{}):{_id:1};X.projection=W}if(J.hint)X.hint=AO.normalizeHintField(J.hint);if(typeof J.skip==="number")X.skip=J.skip;if(typeof J.limit==="number")if(J.limit<0)X.limit=-J.limit,X.singleBatch=!0;else X.limit=J.limit;if(typeof J.batchSize==="number")if(J.batchSize<0){if(J.limit&&J.limit!==0&&Math.abs(J.batchSize)<Math.abs(J.limit))X.limit=-J.batchSize;X.singleBatch=!0}else X.batchSize=J.batchSize;if(typeof J.singleBatch==="boolean")X.singleBatch=J.singleBatch;if(J.comment!==void 0)X.comment=J.comment;if(typeof J.maxTimeMS==="number")X.maxTimeMS=J.maxTimeMS;const $=jW1.ReadConcern.fromOptions(J);if($)X.readConcern=$.toJSON();if(J.max)X.max=J.max;if(J.min)X.min=J.min;if(typeof J.returnKey==="boolean")X.returnKey=J.returnKey;if(typeof J.showRecordId==="boolean")X.showRecordId=J.showRecordId;if(typeof J.tailable==="boolean")X.tailable=J.tailable;if(typeof J.oplogReplay==="boolean")X.oplogReplay=J.oplogReplay;if(typeof J.timeout==="boolean")X.noCursorTimeout=!J.timeout;else if(typeof J.noCursorTimeout==="boolean")X.noCursorTimeout=J.noCursorTimeout;if(typeof J.awaitData==="boolean")X.awaitData=J.awaitData;if(typeof J.allowPartialResults==="boolean")X.allowPartialResults=J.allowPartialResults;if(J.collation)X.collation=J.collation;if(typeof J.allowDiskUse==="boolean")X.allowDiskUse=J.allowDiskUse;if(J.let)X.let=J.let;return X};Object.defineProperty(NO,"__esModule",{value:!0});NO.FindOperation=void 0;var EW1=o(),jW1=a6(),OW1=$Q(),AO=Q1(),SW1=O0(),j3=c1();class NV extends SW1.CommandOperation{constructor(Z,Y,J={},X={}){super(Z,X);if(this.options={...X},delete this.options.writeConcern,this.ns=Y,typeof J!=="object"||Array.isArray(J))throw new EW1.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=J!=null&&J._bsontype==="ObjectId"?{_id:J}:J}async execute(Z,Y){this.server=Z;const J=this.options;let X=kW1(this.ns,this.filter,J);if(this.explain)X=AO.decorateWithExplain(X,this.explain);return Z.commandAsync(this.ns,X,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:Y})}}NO.FindOperation=NV;j3.defineAspects(NV,[j3.Aspect.READ_OPERATION,j3.Aspect.RETRYABLE,j3.Aspect.EXPLAINABLE,j3.Aspect.CURSOR_CREATING])});var TV=R((CO)=>{Object.defineProperty(CO,"__esModule",{value:!0});CO.FindCursor=CO.FLAGS=void 0;var _W1=G0(),T7=o(),xW1=AV(),IV=Z6(),PO=DO(),DV=$Q(),TO=Q1(),J8=m4(),X9=Symbol("filter"),WQ=Symbol("numReturned"),f1=Symbol("builtOptions");CO.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class PV extends J8.AbstractCursor{constructor(Z,Y,J={},X={}){super(Z,Y,X);if(this[X9]=J,this[f1]=X,X.sort!=null)this[f1].sort=DV.formatSort(X.sort)}clone(){const Z=TO.mergeOptions({},this[f1]);return delete Z.session,new PV(this.client,this.namespace,this[X9],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const Y=new PO.FindOperation(void 0,this.namespace,this[X9],{...this[f1],...this.cursorOptions,session:Z}),J=await IV.executeOperation(this.client,Y);return this[WQ]=J.cursor?.firstBatch?.length,{server:Y.server,session:Z,response:J}}async getMore(Z){const Y=this[WQ];if(Y){const X=this[f1].limit;if(Z=X&&X>0&&Y+Z>X?X-Y:Z,Z<=0)return await this.close().catch(()=>null),{cursor:{id:_W1.Long.ZERO,nextBatch:[]}}}const J=await super.getMore(Z);if(J)this[WQ]=this[WQ]+J.cursor.nextBatch.length;return J}async count(Z){if(TO.emitWarningOnce("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof Z==="boolean")throw new T7.MongoInvalidArgumentError("Invalid first parameter to count");return IV.executeOperation(this.client,new xW1.CountOperation(this.namespace,this[X9],{...this[f1],...this.cursorOptions,...Z}))}async explain(Z){return IV.executeOperation(this.client,new PO.FindOperation(void 0,this.namespace,this[X9],{...this[f1],...this.cursorOptions,explain:Z??!0}))}filter(Z){return J8.assertUninitialized(this),this[X9]=Z,this}hint(Z){return J8.assertUninitialized(this),this[f1].hint=Z,this}min(Z){return J8.assertUninitialized(this),this[f1].min=Z,this}max(Z){return J8.assertUninitialized(this),this[f1].max=Z,this}returnKey(Z){return J8.assertUninitialized(this),this[f1].returnKey=Z,this}showRecordId(Z){return J8.assertUninitialized(this),this[f1].showRecordId=Z,this}addQueryModifier(Z,Y){if(J8.assertUninitialized(this),Z[0]!=="$")throw new T7.MongoInvalidArgumentError(`${Z} is not a valid query modifier`);switch(Z.substr(1)){case"comment":this[f1].comment=Y;break;case"explain":this[f1].explain=Y;break;case"hint":this[f1].hint=Y;break;case"max":this[f1].max=Y;break;case"maxTimeMS":this[f1].maxTimeMS=Y;break;case"min":this[f1].min=Y;break;case"orderby":this[f1].sort=DV.formatSort(Y);break;case"query":this[X9]=Y;break;case"returnKey":this[f1].returnKey=Y;break;case"showDiskLoc":this[f1].showRecordId=Y;break;default:throw new T7.MongoInvalidArgumentError(`Invalid query modifier: ${Z}`)}return this}comment(Z){return J8.assertUninitialized(this),this[f1].comment=Z,this}maxAwaitTimeMS(Z){if(J8.assertUninitialized(this),typeof Z!=="number")throw new T7.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[f1].maxAwaitTimeMS=Z,this}maxTimeMS(Z){if(J8.assertUninitialized(this),typeof Z!=="number")throw new T7.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[f1].maxTimeMS=Z,this}project(Z){return J8.assertUninitialized(this),this[f1].projection=Z,this}sort(Z,Y){if(J8.assertUninitialized(this),this[f1].tailable)throw new T7.MongoTailableCursorError("Tailable cursor does not support sorting");return this[f1].sort=DV.formatSort(Z,Y),this}allowDiskUse(Z=!0){if(J8.assertUninitialized(this),!this[f1].sort)throw new T7.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');if(!Z)return this[f1].allowDiskUse=!1,this;return this[f1].allowDiskUse=!0,this}collation(Z){return J8.assertUninitialized(this),this[f1].collation=Z,this}limit(Z){if(J8.assertUninitialized(this),this[f1].tailable)throw new T7.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof Z!=="number")throw new T7.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[f1].limit=Z,this}skip(Z){if(J8.assertUninitialized(this),this[f1].tailable)throw new T7.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof Z!=="number")throw new T7.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[f1].skip=Z,this}}CO.FindCursor=PV});var O3=R((kO)=>{var bW1=function(Z){return typeof Z==="number"||Z==="2d"||Z==="2dsphere"||Z==="text"||Z==="geoHaystack"},vW1=function(Z){return Array.isArray(Z)&&Z.length===2&&bW1(Z[1])},hW1=function(Z,Y){const J=new Map,X=!Array.isArray(Z)||vW1(Z)?[Z]:Z;for(let $ of X)if(typeof $==="string")J.set($,1);else if(Array.isArray($))J.set($[0],$[1]??1);else if($ instanceof Map)for(let[W,G]of $)J.set(W,G);else if(EV.isObject($))for(let[W,G]of Object.entries($))J.set(W,G);return{...Y,key:J}};Object.defineProperty(kO,"__esModule",{value:!0});kO.IndexInformationOperation=kO.IndexExistsOperation=kO.ListIndexesOperation=kO.DropIndexOperation=kO.EnsureIndexOperation=kO.CreateIndexOperation=kO.CreateIndexesOperation=kO.IndexesOperation=void 0;var CV=o(),yW1=d0(),EV=Q1(),jV=O0(),OV=gq(),x8=c1(),gW1=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);class jO extends x8.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,X=this.options;return OV.indexInformation(J.s.db,J.collectionName,{full:!0,...X,readPreference:this.readPreference,session:Y})}}kO.IndexesOperation=jO;class GQ extends jV.CommandOperation{constructor(Z,Y,J,X){super(Z,X);this.options=X??{},this.collectionName=Y,this.indexes=J.map(($)=>{const W=$.key instanceof Map?$.key:new Map(Object.entries($.key)),G=$.name!=null?$.name:Array.from(W).flat().join("_");return{...Object.fromEntries(Object.entries({...$}).filter(([K])=>gW1.has(K))),name:G,key:W}})}async execute(Z,Y){const J=this.options,X=this.indexes,$=EV.maxWireVersion(Z),W={createIndexes:this.collectionName,indexes:X};if(J.commitQuorum!=null){if($<9)throw new CV.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4");W.commitQuorum=J.commitQuorum}return this.options.collation=void 0,await super.executeCommand(Z,Y,W),X.map((Q)=>Q.name||"")}}kO.CreateIndexesOperation=GQ;class QQ extends GQ{constructor(Z,Y,J,X){super(Z,Y,[hW1(J,X)],X)}async execute(Z,Y){return(await super.execute(Z,Y))[0]}}kO.CreateIndexOperation=QQ;class SV extends QQ{constructor(Z,Y,J,X){super(Z,Y,J,X);this.readPreference=yW1.ReadPreference.primary,this.db=Z,this.collectionName=Y}async execute(Z,Y){const J=this.indexes[0].name,X=await this.db.collection(this.collectionName).listIndexes({session:Y}).toArray().catch(($)=>{if($ instanceof CV.MongoError&&$.code===CV.MONGODB_ERROR_CODES.NamespaceNotFound)return[];throw $});if(J&&X.some(($)=>$.name===J))return J;return super.execute(Z,Y)}}kO.EnsureIndexOperation=SV;class kV extends jV.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J??{},this.collection=Z,this.indexName=Y}async execute(Z,Y){const J={dropIndexes:this.collection.collectionName,index:this.indexName};return super.executeCommand(Z,Y,J)}}kO.DropIndexOperation=kV;class _V extends jV.CommandOperation{constructor(Z,Y){super(Z,Y);this.options={...Y},delete this.options.writeConcern,this.collectionNamespace=Z.s.namespace}async execute(Z,Y){const J=EV.maxWireVersion(Z),X=this.options.batchSize?{batchSize:this.options.batchSize}:{},$={listIndexes:this.collectionNamespace.collection,cursor:X};if(J>=9&&this.options.comment!==void 0)$.comment=this.options.comment;return super.executeCommand(Z,Y,$)}}kO.ListIndexesOperation=_V;class OO extends x8.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J,this.collection=Z,this.indexes=Y}async execute(Z,Y){const J=this.collection,X=this.indexes,$=await OV.indexInformation(J.s.db,J.collectionName,{...this.options,readPreference:this.readPreference,session:Y});if(!Array.isArray(X))return $[X]!=null;return X.every((W)=>$[W]!=null)}}kO.IndexExistsOperation=OO;class SO extends x8.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J??{},this.db=Z,this.name=Y}async execute(Z,Y){const J=this.db,X=this.name;return OV.indexInformation(J,X,{...this.options,readPreference:this.readPreference,session:Y})}}kO.IndexInformationOperation=SO;x8.defineAspects(_V,[x8.Aspect.READ_OPERATION,x8.Aspect.RETRYABLE,x8.Aspect.CURSOR_CREATING]);x8.defineAspects(GQ,[x8.Aspect.WRITE_OPERATION]);x8.defineAspects(QQ,[x8.Aspect.WRITE_OPERATION]);x8.defineAspects(SV,[x8.Aspect.WRITE_OPERATION]);x8.defineAspects(kV,[x8.Aspect.WRITE_OPERATION])});var fV=R((xO)=>{Object.defineProperty(xO,"__esModule",{value:!0});xO.ListIndexesCursor=void 0;var nW1=Z6(),aW1=O3(),sW1=m4();class xV extends sW1.AbstractCursor{constructor(Z,Y){super(Z.client,Z.s.namespace,Y);this.parent=Z,this.options=Y}clone(){return new xV(this.parent,{...this.options,...this.cursorOptions})}async _initialize(Z){const Y=new aW1.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:Z}),J=await nW1.executeOperation(this.parent.client,Y);return{server:Y.server,session:Z,response:J}}}xO.ListIndexesCursor=xV});var vO=R((gO)=>{Object.defineProperty(gO,"__esModule",{value:!0});gO.ListSearchIndexesCursor=void 0;var rW1=E3();class yO extends rW1.AggregationCursor{constructor({fullNamespace:Z,client:Y},J,X={}){const $=J==null?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:J}}];super(Y,Z,$,X)}}gO.ListSearchIndexesCursor=yO});var dO=R((mO)=>{Object.defineProperty(mO,"__esModule",{value:!0});mO.CountDocumentsOperation=void 0;var tW1=pG();class hO extends tW1.AggregateOperation{constructor(Z,Y,J){const X=[];if(X.push({$match:Y}),typeof J.skip==="number")X.push({$skip:J.skip});if(typeof J.limit==="number")X.push({$limit:J.limit});X.push({$group:{_id:1,n:{$sum:1}}});super(Z.s.namespace,X,J)}async execute(Z,Y){const X=await super.execute(Z,Y);if(X.cursor==null||X.cursor.firstBatch==null)return 0;const $=X.cursor.firstBatch;return $.length?$[0].n:0}}mO.CountDocumentsOperation=hO});var iO=R((pO)=>{Object.defineProperty(pO,"__esModule",{value:!0});pO.DistinctOperation=void 0;var cO=Q1(),oW1=O0(),KQ=c1();class yV extends oW1.CommandOperation{constructor(Z,Y,J,X){super(Z,X);this.options=X??{},this.collection=Z,this.key=Y,this.query=J}async execute(Z,Y){const J=this.collection,X=this.key,$=this.query,W=this.options,G={distinct:J.collectionName,key:X,query:$};if(typeof W.maxTimeMS==="number")G.maxTimeMS=W.maxTimeMS;if(typeof W.comment!=="undefined")G.comment=W.comment;cO.decorateWithReadConcern(G,J,W),cO.decorateWithCollation(G,J,W);const Q=await super.executeCommand(Z,Y,G);return this.explain?Q:Q.values}}pO.DistinctOperation=yV;KQ.defineAspects(yV,[KQ.Aspect.READ_OPERATION,KQ.Aspect.RETRYABLE,KQ.Aspect.EXPLAINABLE])});var bV=R((sO)=>{Object.defineProperty(sO,"__esModule",{value:!0});sO.DropDatabaseOperation=sO.DropCollectionOperation=void 0;var nO=o(),aO=O0(),HQ=c1();class zQ extends aO.CommandOperation{constructor(Z,Y,J={}){super(Z,J);this.db=Z,this.options=J,this.name=Y}async execute(Z,Y){const J=this.db,X=this.options,$=this.name,W=J.client.options.autoEncryption?.encryptedFieldsMap;let G=X.encryptedFields??W?.[`${J.databaseName}.${$}`];if(!G&&W)G=(await J.listCollections({name:$},{nameOnly:!1}).toArray())?.[0]?.options?.encryptedFields;if(G){const Q=G.escCollection||`enxcol_.${$}.esc`,K=G.ecocCollection||`enxcol_.${$}.ecoc`;for(let H of[Q,K]){const z=new zQ(J,H);try{await z.executeWithoutEncryptedFieldsCheck(Z,Y)}catch(F){if(!(F instanceof nO.MongoServerError)||F.code!==nO.MONGODB_ERROR_CODES.NamespaceNotFound)throw F}}}return this.executeWithoutEncryptedFieldsCheck(Z,Y)}async executeWithoutEncryptedFieldsCheck(Z,Y){return await super.executeCommand(Z,Y,{drop:this.name}),!0}}sO.DropCollectionOperation=zQ;class gV extends aO.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){return await super.executeCommand(Z,Y,{dropDatabase:1}),!0}}sO.DropDatabaseOperation=gV;HQ.defineAspects(zQ,[HQ.Aspect.WRITE_OPERATION]);HQ.defineAspects(gV,[HQ.Aspect.WRITE_OPERATION])});var eO=R((tO)=>{Object.defineProperty(tO,"__esModule",{value:!0});tO.EstimatedDocumentCountOperation=void 0;var ZG1=O0(),FQ=c1();class vV extends ZG1.CommandOperation{constructor(Z,Y={}){super(Z,Y);this.options=Y,this.collectionName=Z.collectionName}async execute(Z,Y){const J={count:this.collectionName};if(typeof this.options.maxTimeMS==="number")J.maxTimeMS=this.options.maxTimeMS;if(this.options.comment!==void 0)J.comment=this.options.comment;return(await super.executeCommand(Z,Y,J))?.n||0}}tO.EstimatedDocumentCountOperation=vV;FQ.defineAspects(vV,[FQ.Aspect.READ_OPERATION,FQ.Aspect.RETRYABLE,FQ.Aspect.CURSOR_CREATING])});var hV=R(($S)=>{var ZS=function(Z,Y){if(Z.new=Y.returnDocument===$S.ReturnDocument.AFTER,Z.upsert=Y.upsert===!0,Y.bypassDocumentValidation===!0)Z.bypassDocumentValidation=Y.bypassDocumentValidation;return Z};Object.defineProperty($S,"__esModule",{value:!0});$S.FindOneAndUpdateOperation=$S.FindOneAndReplaceOperation=$S.FindOneAndDeleteOperation=$S.ReturnDocument=void 0;var v5=o(),YG1=d0(),JG1=$Q(),qQ=Q1(),XG1=O0(),UQ=c1();$S.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});class S3 extends XG1.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J??{},this.cmdBase={remove:!1,new:!1,upsert:!1},J.includeResultMetadata??=!1;const X=JG1.formatSort(J.sort);if(X)this.cmdBase.sort=X;if(J.projection)this.cmdBase.fields=J.projection;if(J.maxTimeMS)this.cmdBase.maxTimeMS=J.maxTimeMS;if(J.writeConcern)this.cmdBase.writeConcern=J.writeConcern;if(J.let)this.cmdBase.let=J.let;if(J.comment!==void 0)this.cmdBase.comment=J.comment;this.readPreference=YG1.ReadPreference.primary,this.collection=Z,this.query=Y}async execute(Z,Y){const J=this.collection,X=this.query,$={...this.options,...this.bsonOptions},W={findAndModify:J.collectionName,query:X,...this.cmdBase};try{qQ.decorateWithCollation(W,J,$)}catch(Q){return Q}if($.hint){if(this.writeConcern?.w===0||qQ.maxWireVersion(Z)<8)throw new v5.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands");W.hint=$.hint}const G=await super.executeCommand(Z,Y,W);return $.includeResultMetadata?G:G.value??null}}class YS extends S3{constructor(Z,Y,J){if(Y==null||typeof Y!=="object")throw new v5.MongoInvalidArgumentError('Argument "filter" must be an object');super(Z,Y,J);this.cmdBase.remove=!0}}$S.FindOneAndDeleteOperation=YS;class JS extends S3{constructor(Z,Y,J,X){if(Y==null||typeof Y!=="object")throw new v5.MongoInvalidArgumentError('Argument "filter" must be an object');if(J==null||typeof J!=="object")throw new v5.MongoInvalidArgumentError('Argument "replacement" must be an object');if(qQ.hasAtomicOperators(J))throw new v5.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(Z,Y,X);this.cmdBase.update=J,ZS(this.cmdBase,X)}}$S.FindOneAndReplaceOperation=JS;class XS extends S3{constructor(Z,Y,J,X){if(Y==null||typeof Y!=="object")throw new v5.MongoInvalidArgumentError('Argument "filter" must be an object');if(J==null||typeof J!=="object")throw new v5.MongoInvalidArgumentError('Argument "update" must be an object');if(!qQ.hasAtomicOperators(J))throw new v5.MongoInvalidArgumentError("Update document requires atomic operators");super(Z,Y,X);if(this.cmdBase.update=J,ZS(this.cmdBase,X),X.arrayFilters)this.cmdBase.arrayFilters=X.arrayFilters}}$S.FindOneAndUpdateOperation=XS;UQ.defineAspects(S3,[UQ.Aspect.WRITE_OPERATION,UQ.Aspect.RETRYABLE,UQ.Aspect.EXPLAINABLE])});var zS=R((KS)=>{Object.defineProperty(KS,"__esModule",{value:!0});KS.IsCappedOperation=void 0;var GG1=o(),QG1=c1();class QS extends QG1.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,[X]=await J.s.db.listCollections({name:J.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:Y}).toArray();if(X==null||X.options==null)throw new GG1.MongoAPIError(`collection ${J.namespace} not found`);return!!X.options?.capped}}KS.IsCappedOperation=QS});var VS=R((US)=>{Object.defineProperty(US,"__esModule",{value:!0});US.OptionsOperation=void 0;var KG1=o(),HG1=c1();class FS extends HG1.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,[X]=await J.s.db.listCollections({name:J.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:Y}).toArray();if(X==null||X.options==null)throw new KG1.MongoAPIError(`collection ${J.namespace} not found`);return X.options}}US.OptionsOperation=FS});var uV=R((RS)=>{Object.defineProperty(RS,"__esModule",{value:!0});RS.RenameOperation=void 0;var zG1=$9(),FG1=Q1(),UG1=O0(),LS=c1();class mV extends UG1.CommandOperation{constructor(Z,Y,J){super(Z,J);this.collection=Z,this.newName=Y,this.options=J,this.ns=new FG1.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){const J=this.collection.namespace,X=this.collection.s.namespace.withCollection(this.newName).toString(),$=typeof this.options.dropTarget==="boolean"?this.options.dropTarget:!1,W={renameCollection:J,to:X,dropTarget:$};return await super.executeCommand(Z,Y,W),new zG1.Collection(this.collection.s.db,this.newName,this.collection.s.options)}}RS.RenameOperation=mV;LS.defineAspects(mV,[LS.Aspect.WRITE_OPERATION])});var NS=R((BS)=>{Object.defineProperty(BS,"__esModule",{value:!0});BS.CreateSearchIndexesOperation=void 0;var qG1=c1();class MS extends qG1.AbstractOperation{constructor(Z,Y){super();this.collection=Z,this.descriptions=Y}async execute(Z,Y){const J=this.collection.fullNamespace,X={createSearchIndexes:J.collection,indexes:this.descriptions};return((await Z.commandAsync(J,X,{session:Y}))?.indexesCreated??[]).map(({name:G})=>G)}}BS.CreateSearchIndexesOperation=MS});var CS=R((PS)=>{Object.defineProperty(PS,"__esModule",{value:!0});PS.DropSearchIndexOperation=void 0;var IS=o(),VG1=c1();class DS extends VG1.AbstractOperation{constructor(Z,Y){super();this.collection=Z,this.name=Y}async execute(Z,Y){const J=this.collection.fullNamespace,X={dropSearchIndex:J.collection};if(typeof this.name==="string")X.name=this.name;try{await Z.commandAsync(J,X,{session:Y})}catch($){if(!($ instanceof IS.MongoServerError&&$.code===IS.MONGODB_ERROR_CODES.NamespaceNotFound))throw $}}}PS.DropSearchIndexOperation=DS});var SS=R((jS)=>{Object.defineProperty(jS,"__esModule",{value:!0});jS.UpdateSearchIndexOperation=void 0;var LG1=c1();class ES extends LG1.AbstractOperation{constructor(Z,Y,J){super();this.collection=Z,this.name=Y,this.definition=J}async execute(Z,Y){const J=this.collection.fullNamespace,X={updateSearchIndex:J.collection,name:this.name,definition:this.definition};await Z.commandAsync(J,X,{session:Y});return}}jS.UpdateSearchIndexOperation=ES});var $9=R((yS)=>{Object.defineProperty(yS,"__esModule",{value:!0});yS.Collection=void 0;var RG1=G0(),wG1=sq(),MG1=rq(),BG1=nY(),AG1=E3(),NG1=TV(),IG1=fV(),DG1=vO(),kS=o(),PG1=yq(),TG1=AV(),CG1=dO(),_S=_q(),EG1=iO(),jG1=bV(),OG1=eO(),r1=Z6(),dV=hV(),W9=O3(),xS=hq(),SG1=zS(),kG1=VS(),_G1=uV(),xG1=NS(),fG1=CS(),yG1=SS(),cV=pq(),gG1=a6(),pV=d0(),b1=Q1(),bG1=e8();class fS{constructor(Z,Y,J){this.s={db:Z,options:J,namespace:new b1.MongoDBCollectionNamespace(Z.databaseName,Y),pkFactory:Z.options?.pkFactory??b1.DEFAULT_PK_FACTORY,readPreference:pV.ReadPreference.fromOptions(J),bsonOptions:RG1.resolveBSONOptions(J,Z),readConcern:gG1.ReadConcern.fromOptions(J),writeConcern:bG1.WriteConcern.fromOptions(J)},this.client=Z.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){if(this.s.readConcern==null)return this.s.db.readConcern;return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.s.db.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){if(this.s.writeConcern==null)return this.s.db.writeConcern;return this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(Z){this.s.collectionHint=b1.normalizeHintField(Z)}async insertOne(Z,Y){return r1.executeOperation(this.client,new xS.InsertOneOperation(this,Z,b1.resolveOptions(this,Y)))}async insertMany(Z,Y){return r1.executeOperation(this.client,new xS.InsertManyOperation(this,Z,b1.resolveOptions(this,Y??{ordered:!0})))}async bulkWrite(Z,Y){if(!Array.isArray(Z))throw new kS.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return r1.executeOperation(this.client,new PG1.BulkWriteOperation(this,Z,b1.resolveOptions(this,Y??{ordered:!0})))}async updateOne(Z,Y,J){return r1.executeOperation(this.client,new cV.UpdateOneOperation(this,Z,Y,b1.resolveOptions(this,J)))}async replaceOne(Z,Y,J){return r1.executeOperation(this.client,new cV.ReplaceOneOperation(this,Z,Y,b1.resolveOptions(this,J)))}async updateMany(Z,Y,J){return r1.executeOperation(this.client,new cV.UpdateManyOperation(this,Z,Y,b1.resolveOptions(this,J)))}async deleteOne(Z={},Y={}){return r1.executeOperation(this.client,new _S.DeleteOneOperation(this,Z,b1.resolveOptions(this,Y)))}async deleteMany(Z={},Y={}){return r1.executeOperation(this.client,new _S.DeleteManyOperation(this,Z,b1.resolveOptions(this,Y)))}async rename(Z,Y){return r1.executeOperation(this.client,new _G1.RenameOperation(this,Z,{...Y,readPreference:pV.ReadPreference.PRIMARY}))}async drop(Z){return r1.executeOperation(this.client,new jG1.DropCollectionOperation(this.s.db,this.collectionName,Z))}async findOne(Z={},Y={}){const J=this.find(Z,Y).limit(-1).batchSize(1),X=await J.next();return await J.close(),X}find(Z={},Y={}){return new NG1.FindCursor(this.client,this.s.namespace,Z,b1.resolveOptions(this,Y))}async options(Z){return r1.executeOperation(this.client,new kG1.OptionsOperation(this,b1.resolveOptions(this,Z)))}async isCapped(Z){return r1.executeOperation(this.client,new SG1.IsCappedOperation(this,b1.resolveOptions(this,Z)))}async createIndex(Z,Y){return r1.executeOperation(this.client,new W9.CreateIndexOperation(this,this.collectionName,Z,b1.resolveOptions(this,Y)))}async createIndexes(Z,Y){return r1.executeOperation(this.client,new W9.CreateIndexesOperation(this,this.collectionName,Z,b1.resolveOptions(this,{...Y,maxTimeMS:void 0})))}async dropIndex(Z,Y){return r1.executeOperation(this.client,new W9.DropIndexOperation(this,Z,{...b1.resolveOptions(this,Y),readPreference:pV.ReadPreference.primary}))}async dropIndexes(Z){try{return await r1.executeOperation(this.client,new W9.DropIndexOperation(this,"*",b1.resolveOptions(this,Z))),!0}catch{return!1}}listIndexes(Z){return new IG1.ListIndexesCursor(this,b1.resolveOptions(this,Z))}async indexExists(Z,Y){return r1.executeOperation(this.client,new W9.IndexExistsOperation(this,Z,b1.resolveOptions(this,Y)))}async indexInformation(Z){return r1.executeOperation(this.client,new W9.IndexInformationOperation(this.s.db,this.collectionName,b1.resolveOptions(this,Z)))}async estimatedDocumentCount(Z){return r1.executeOperation(this.client,new OG1.EstimatedDocumentCountOperation(this,b1.resolveOptions(this,Z)))}async countDocuments(Z={},Y={}){return r1.executeOperation(this.client,new CG1.CountDocumentsOperation(this,Z,b1.resolveOptions(this,Y)))}async distinct(Z,Y={},J={}){return r1.executeOperation(this.client,new EG1.DistinctOperation(this,Z,Y,b1.resolveOptions(this,J)))}async indexes(Z){return r1.executeOperation(this.client,new W9.IndexesOperation(this,b1.resolveOptions(this,Z)))}async findOneAndDelete(Z,Y){return r1.executeOperation(this.client,new dV.FindOneAndDeleteOperation(this,Z,b1.resolveOptions(this,Y)))}async findOneAndReplace(Z,Y,J){return r1.executeOperation(this.client,new dV.FindOneAndReplaceOperation(this,Z,Y,b1.resolveOptions(this,J)))}async findOneAndUpdate(Z,Y,J){return r1.executeOperation(this.client,new dV.FindOneAndUpdateOperation(this,Z,Y,b1.resolveOptions(this,J)))}aggregate(Z=[],Y){if(!Array.isArray(Z))throw new kS.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new AG1.AggregationCursor(this.client,this.s.namespace,Z,b1.resolveOptions(this,Y))}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new BG1.ChangeStream(this,Z,b1.resolveOptions(this,Y))}initializeUnorderedBulkOp(Z){return new MG1.UnorderedBulkOperation(this,b1.resolveOptions(this,Z))}initializeOrderedBulkOp(Z){return new wG1.OrderedBulkOperation(this,b1.resolveOptions(this,Z))}async count(Z={},Y={}){return r1.executeOperation(this.client,new TG1.CountOperation(this.fullNamespace,Z,b1.resolveOptions(this,Y)))}listSearchIndexes(Z,Y){Y=typeof Z==="object"?Z:Y==null?{}:Y;const J=Z==null?null:typeof Z==="object"?null:Z;return new DG1.ListSearchIndexesCursor(this,J,Y)}async createSearchIndex(Z){const[Y]=await this.createSearchIndexes([Z]);return Y}async createSearchIndexes(Z){return r1.executeOperation(this.client,new xG1.CreateSearchIndexesOperation(this,Z))}async dropSearchIndex(Z){return r1.executeOperation(this.client,new fG1.DropSearchIndexOperation(this,Z))}async updateSearchIndex(Z,Y){return r1.executeOperation(this.client,new yG1.UpdateSearchIndexOperation(this,Z,Y))}}yS.Collection=fS});var aV=R((vS)=>{Object.defineProperty(vS,"__esModule",{value:!0});vS.ChangeStreamCursor=void 0;var lV=nY(),bS=r0(),vG1=pG(),hG1=Z6(),iV=Q1(),mG1=m4();class nV extends mG1.AbstractCursor{constructor(Z,Y,J=[],X={}){super(Z,Y,X);if(this.pipeline=J,this.options=X,this._resumeToken=null,this.startAtOperationTime=X.startAtOperationTime,X.startAfter)this.resumeToken=X.startAfter;else if(X.resumeAfter)this.resumeToken=X.resumeAfter}set resumeToken(Z){this._resumeToken=Z,this.emit(lV.ChangeStream.RESUME_TOKEN_CHANGED,Z)}get resumeToken(){return this._resumeToken}get resumeOptions(){const Z={...this.options};for(let Y of["resumeAfter","startAfter","startAtOperationTime"])delete Z[Y];if(this.resumeToken!=null)if(this.options.startAfter&&!this.hasReceived)Z.startAfter=this.resumeToken;else Z.resumeAfter=this.resumeToken;else if(this.startAtOperationTime!=null&&iV.maxWireVersion(this.server)>=7)Z.startAtOperationTime=this.startAtOperationTime;return Z}cacheResumeToken(Z){if(this.bufferedCount()===0&&this.postBatchResumeToken)this.resumeToken=this.postBatchResumeToken;else this.resumeToken=Z;this.hasReceived=!0}_processBatch(Z){const Y=Z.cursor;if(Y.postBatchResumeToken){if(this.postBatchResumeToken=Z.cursor.postBatchResumeToken,("firstBatch"in Z.cursor?Z.cursor.firstBatch:Z.cursor.nextBatch).length===0)this.resumeToken=Y.postBatchResumeToken}}clone(){return new nV(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}async _initialize(Z){const Y=new vG1.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:Z}),J=await hG1.executeOperation(Z.client,Y),X=Y.server;if(this.maxWireVersion=iV.maxWireVersion(X),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7)this.startAtOperationTime=J.operationTime;return this._processBatch(J),this.emit(bS.INIT,J),this.emit(bS.RESPONSE),{server:X,session:Z,response:J}}async getMore(Z){const Y=await super.getMore(Z);return this.maxWireVersion=iV.maxWireVersion(this.server),this._processBatch(Y),this.emit(lV.ChangeStream.MORE,Y),this.emit(lV.ChangeStream.RESPONSE),Y}}vS.ChangeStreamCursor=nV});var dS=R((mS)=>{Object.defineProperty(mS,"__esModule",{value:!0});mS.ListCollectionsOperation=void 0;var uG1=Q1(),dG1=O0(),VQ=c1();class sV extends dG1.CommandOperation{constructor(Z,Y,J){super(Z,J);if(this.options={...J},delete this.options.writeConcern,this.db=Z,this.filter=Y,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize==="number")this.batchSize=this.options.batchSize}async execute(Z,Y){return super.executeCommand(Z,Y,this.generateCommand(uG1.maxWireVersion(Z)))}generateCommand(Z){const Y={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};if(Z>=9&&this.options.comment!==void 0)Y.comment=this.options.comment;return Y}}mS.ListCollectionsOperation=sV;VQ.defineAspects(sV,[VQ.Aspect.READ_OPERATION,VQ.Aspect.RETRYABLE,VQ.Aspect.CURSOR_CREATING])});var tV=R((cS)=>{Object.defineProperty(cS,"__esModule",{value:!0});cS.ListCollectionsCursor=void 0;var cG1=Z6(),pG1=dS(),lG1=m4();class rV extends lG1.AbstractCursor{constructor(Z,Y,J){super(Z.client,Z.s.namespace,J);this.parent=Z,this.filter=Y,this.options=J}clone(){return new rV(this.parent,this.filter,{...this.options,...this.cursorOptions})}async _initialize(Z){const Y=new pG1.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:Z}),J=await cG1.executeOperation(this.parent.client,Y);return{server:Y.server,session:Z,response:J}}}cS.ListCollectionsCursor=rV});var sS=R((nS)=>{Object.defineProperty(nS,"__esModule",{value:!0});nS.RunCommandCursor=void 0;var aY=o(),lS=Z6(),iG1=YV(),nG1=gY(),aG1=Q1(),sG1=m4();class iS extends sG1.AbstractCursor{setComment(Z){return this.getMoreOptions.comment=Z,this}setMaxTimeMS(Z){return this.getMoreOptions.maxAwaitTimeMS=Z,this}setBatchSize(Z){return this.getMoreOptions.batchSize=Z,this}clone(){throw new aY.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(Z){throw new aY.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(Z,Y){throw new aY.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(Z){throw new aY.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(Z){throw new aY.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(Z,Y,J={}){super(Z.client,aG1.ns(Z.namespace),J);this.getMoreOptions={},this.db=Z,this.command=Object.freeze({...Y})}async _initialize(Z){const Y=new nG1.RunCommandOperation(this.db,this.command,{...this.cursorOptions,session:Z,readPreference:this.cursorOptions.readPreference}),J=await lS.executeOperation(this.client,Y);if(J.cursor==null)throw new aY.MongoUnexpectedServerResponseError("Expected server to respond with cursor");return{server:Y.server,session:Z,response:J}}async getMore(Z){const Y=new iG1.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});return lS.executeOperation(this.client,Y)}}nS.RunCommandCursor=iS});var eS=R((tS)=>{Object.defineProperty(tS,"__esModule",{value:!0});tS.CollectionsOperation=void 0;var rG1=$9(),tG1=c1();class rS extends tG1.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.db=Z}async execute(Z,Y){const J=await this.db.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:Y}).toArray(),X=[];for(let{name:$}of J)if(!$.includes("$"))X.push(new rG1.Collection(this.db,$,this.db.s.options));return X}}tS.CollectionsOperation=rS});var $k=R((Jk)=>{Object.defineProperty(Jk,"__esModule",{value:!0});Jk.CreateCollectionOperation=void 0;var Zk=oZ(),oG1=$9(),eG1=o(),ZQ1=O0(),YQ1=O3(),Yk=c1(),JQ1=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),XQ1="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.";class LQ extends ZQ1.CommandOperation{constructor(Z,Y,J={}){super(Z,J);this.options=J,this.db=Z,this.name=Y}async execute(Z,Y){const J=this.db,X=this.name,$=this.options,W=$.encryptedFields??J.client.options.autoEncryption?.encryptedFieldsMap?.[`${J.databaseName}.${X}`];if(W){if(!Z.loadBalanced&&Z.description.maxWireVersion<Zk.MIN_SUPPORTED_QE_WIRE_VERSION)throw new eG1.MongoCompatibilityError(`${XQ1} The minimum server version required is ${Zk.MIN_SUPPORTED_QE_SERVER_VERSION}`);const Q=W.escCollection??`enxcol_.${X}.esc`,K=W.ecocCollection??`enxcol_.${X}.ecoc`;for(let H of[Q,K])await new LQ(J,H,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(Z,Y);if(!$.encryptedFields)this.options={...this.options,encryptedFields:W}}const G=await this.executeWithoutEncryptedFieldsCheck(Z,Y);if(W)await new YQ1.CreateIndexOperation(J,X,{__safeContent__:1},{}).execute(Z,Y);return G}async executeWithoutEncryptedFieldsCheck(Z,Y){const J=this.db,X=this.name,$=this.options,W={create:X};for(let G in $)if($[G]!=null&&typeof $[G]!=="function"&&!JQ1.has(G))W[G]=$[G];return await super.executeCommand(Z,Y,W),new oG1.Collection(J,X,$)}}Jk.CreateCollectionOperation=LQ;Yk.defineAspects(LQ,[Yk.Aspect.WRITE_OPERATION])});var Hk=R((Qk)=>{Object.defineProperty(Qk,"__esModule",{value:!0});Qk.ProfilingLevelOperation=void 0;var Wk=o(),$Q1=O0();class Gk extends $Q1.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){const J=await super.executeCommand(Z,Y,{profile:-1});if(J.ok===1){const X=J.was;if(X===0)return"off";if(X===1)return"slow_only";if(X===2)return"all";throw new Wk.MongoUnexpectedServerResponseError(`Illegal profiling level value ${X}`)}else throw new Wk.MongoUnexpectedServerResponseError("Error with profile command")}}Qk.ProfilingLevelOperation=Gk});var oV=R((Fk)=>{Object.defineProperty(Fk,"__esModule",{value:!0});Fk.SetProfilingLevelOperation=Fk.ProfilingLevel=void 0;var WQ1=o(),GQ1=Q1(),QQ1=O0(),KQ1=new Set(["off","slow_only","all"]);Fk.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});class zk extends QQ1.CommandOperation{constructor(Z,Y,J){super(Z,J);switch(this.options=J,Y){case Fk.ProfilingLevel.off:this.profile=0;break;case Fk.ProfilingLevel.slowOnly:this.profile=1;break;case Fk.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=Y}async execute(Z,Y){const J=this.level;if(!KQ1.has(J))throw new WQ1.MongoInvalidArgumentError(`Profiling level must be one of "${GQ1.enumToString(Fk.ProfilingLevel)}"`);return await super.executeCommand(Z,Y,{profile:this.profile}),J}}Fk.SetProfilingLevelOperation=zk});var Rk=R((Vk)=>{Object.defineProperty(Vk,"__esModule",{value:!0});Vk.DbStatsOperation=void 0;var HQ1=O0(),qk=c1();class eV extends HQ1.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){const J={dbStats:!0};if(this.options.scale!=null)J.scale=this.options.scale;return super.executeCommand(Z,Y,J)}}Vk.DbStatsOperation=eV;qk.defineAspects(eV,[qk.Aspect.READ_OPERATION])});var RQ=R((Ik)=>{Object.defineProperty(Ik,"__esModule",{value:!0});Ik.Db=void 0;var zQ1=jq(),wk=G0(),FQ1=nY(),UQ1=$9(),sY=r0(),qQ1=E3(),VQ1=tV(),LQ1=sS(),Mk=o(),RQ1=eS(),wQ1=$k(),Bk=bV(),o6=Z6(),Ak=O3(),MQ1=Hk(),BQ1=Cq(),AQ1=uV(),NQ1=gY(),IQ1=oV(),DQ1=Rk(),PQ1=a6(),Nk=d0(),X8=Q1(),TQ1=e8(),CQ1=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"];class h5{constructor(Z,Y,J){if(J=J??{},J=X8.filterOptions(J,CQ1),typeof Y==="string"&&Y.includes("."))throw new Mk.MongoInvalidArgumentError("Database names cannot contain the character '.'");this.s={options:J,readPreference:Nk.ReadPreference.fromOptions(J),bsonOptions:wk.resolveBSONOptions(J,Z),pkFactory:J?.pkFactory??X8.DEFAULT_PK_FACTORY,readConcern:PQ1.ReadConcern.fromOptions(J),writeConcern:TQ1.WriteConcern.fromOptions(J),namespace:new X8.MongoDBNamespace(Y)},this.client=Z}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){return this.s.readPreference?.preference!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.client.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}async createCollection(Z,Y){return o6.executeOperation(this.client,new wQ1.CreateCollectionOperation(this,Z,X8.resolveOptions(this,Y)))}async command(Z,Y){return o6.executeOperation(this.client,new NQ1.RunCommandOperation(this,Z,{...wk.resolveBSONOptions(Y),session:Y?.session,readPreference:Y?.readPreference}))}aggregate(Z=[],Y){return new qQ1.AggregationCursor(this.client,this.s.namespace,Z,X8.resolveOptions(this,Y))}admin(){return new zQ1.Admin(this)}collection(Z,Y={}){if(typeof Y==="function")throw new Mk.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new UQ1.Collection(this,Z,X8.resolveOptions(this,Y))}async stats(Z){return o6.executeOperation(this.client,new DQ1.DbStatsOperation(this,X8.resolveOptions(this,Z)))}listCollections(Z={},Y={}){return new VQ1.ListCollectionsCursor(this,Z,X8.resolveOptions(this,Y))}async renameCollection(Z,Y,J){return o6.executeOperation(this.client,new AQ1.RenameOperation(this.collection(Z),Y,{...J,new_collection:!0,readPreference:Nk.ReadPreference.primary}))}async dropCollection(Z,Y){return o6.executeOperation(this.client,new Bk.DropCollectionOperation(this,Z,X8.resolveOptions(this,Y)))}async dropDatabase(Z){return o6.executeOperation(this.client,new Bk.DropDatabaseOperation(this,X8.resolveOptions(this,Z)))}async collections(Z){return o6.executeOperation(this.client,new RQ1.CollectionsOperation(this,X8.resolveOptions(this,Z)))}async createIndex(Z,Y,J){return o6.executeOperation(this.client,new Ak.CreateIndexOperation(this,Z,Y,X8.resolveOptions(this,J)))}async removeUser(Z,Y){return o6.executeOperation(this.client,new BQ1.RemoveUserOperation(this,Z,X8.resolveOptions(this,Y)))}async setProfilingLevel(Z,Y){return o6.executeOperation(this.client,new IQ1.SetProfilingLevelOperation(this,Z,X8.resolveOptions(this,Y)))}async profilingLevel(Z){return o6.executeOperation(this.client,new MQ1.ProfilingLevelOperation(this,X8.resolveOptions(this,Z)))}async indexInformation(Z,Y){return o6.executeOperation(this.client,new Ak.IndexInformationOperation(this,Z,X8.resolveOptions(this,Y)))}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new FQ1.ChangeStream(this,Z,X8.resolveOptions(this,Y))}runCursorCommand(Z,Y){return new LQ1.RunCommandCursor(this,Z,Y)}}h5.SYSTEM_NAMESPACE_COLLECTION=sY.SYSTEM_NAMESPACE_COLLECTION;h5.SYSTEM_INDEX_COLLECTION=sY.SYSTEM_INDEX_COLLECTION;h5.SYSTEM_PROFILE_COLLECTION=sY.SYSTEM_PROFILE_COLLECTION;h5.SYSTEM_USER_COLLECTION=sY.SYSTEM_USER_COLLECTION;h5.SYSTEM_COMMAND_COLLECTION=sY.SYSTEM_COMMAND_COLLECTION;h5.SYSTEM_JS_COLLECTION=sY.SYSTEM_JS_COLLECTION;Ik.Db=h5});var Tk=R((Pk)=>{var _3=function(Z){if(Z===4)return"ipv4";if(Z===6)return"ipv6";return Z?Z.toLowerCase():"ipv4"},K1=Pk,{Buffer:wQ}=import.meta.require("buffer"),EQ1=import.meta.require("os");K1.toBuffer=function(Z,Y,J){J=~~J;let X;if(this.isV4Format(Z))X=Y||wQ.alloc(J+4),Z.split(/\./g).map(($)=>{X[J++]=parseInt($,10)&255});else if(this.isV6Format(Z)){const $=Z.split(":",8);let W;for(W=0;W<$.length;W++){const G=this.isV4Format($[W]);let Q;if(G)Q=this.toBuffer($[W]),$[W]=Q.slice(0,2).toString("hex");if(Q&&++W<8)$.splice(W,0,Q.slice(2,4).toString("hex"))}if($[0]==="")while($.length<8)$.unshift("0");else if($[$.length-1]==="")while($.length<8)$.push("0");else if($.length<8){for(W=0;W<$.length&&$[W]!=="";W++);const G=[W,1];for(W=9-$.length;W>0;W--)G.push("0");$.splice(...G)}X=Y||wQ.alloc(J+16);for(W=0;W<$.length;W++){const G=parseInt($[W],16);X[J++]=G>>8&255,X[J++]=G&255}}if(!X)throw Error(`Invalid ip address: ${Z}`);return X};K1.toString=function(Z,Y,J){Y=~~Y,J=J||Z.length-Y;let X=[];if(J===4){for(let $=0;$<J;$++)X.push(Z[Y+$]);X=X.join(".")}else if(J===16){for(let $=0;$<J;$+=2)X.push(Z.readUInt16BE(Y+$).toString(16));X=X.join(":"),X=X.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),X=X.replace(/:{3,4}/,"::")}return X};var jQ1=/^(\d{1,3}\.){3,3}\d{1,3}$/,OQ1=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;K1.isV4Format=function(Z){return jQ1.test(Z)};K1.isV6Format=function(Z){return OQ1.test(Z)};K1.fromPrefixLen=function(Z,Y){if(Z>32)Y="ipv6";else Y=_3(Y);let J=4;if(Y==="ipv6")J=16;const X=wQ.alloc(J);for(let $=0,W=X.length;$<W;++$){let G=8;if(Z<8)G=Z;Z-=G,X[$]=~(255>>G)&255}return K1.toString(X)};K1.mask=function(Z,Y){Z=K1.toBuffer(Z),Y=K1.toBuffer(Y);const J=wQ.alloc(Math.max(Z.length,Y.length));let X;if(Z.length===Y.length)for(X=0;X<Z.length;X++)J[X]=Z[X]&Y[X];else if(Y.length===4)for(X=0;X<Y.length;X++)J[X]=Z[Z.length-4+X]&Y[X];else{for(X=0;X<J.length-6;X++)J[X]=0;J[10]=255,J[11]=255;for(X=0;X<Z.length;X++)J[X+12]=Z[X]&Y[X+12];X+=12}for(;X<J.length;X++)J[X]=0;return K1.toString(J)};K1.cidr=function(Z){const Y=Z.split("/"),J=Y[0];if(Y.length!==2)throw new Error(`invalid CIDR subnet: ${J}`);const X=K1.fromPrefixLen(parseInt(Y[1],10));return K1.mask(J,X)};K1.subnet=function(Z,Y){const J=K1.toLong(K1.mask(Z,Y)),X=K1.toBuffer(Y);let $=0;for(let G=0;G<X.length;G++)if(X[G]===255)$+=8;else{let Q=X[G]&255;while(Q)Q=Q<<1&255,$++}const W=2**(32-$);return{networkAddress:K1.fromLong(J),firstAddress:W<=2?K1.fromLong(J):K1.fromLong(J+1),lastAddress:W<=2?K1.fromLong(J+W-1):K1.fromLong(J+W-2),broadcastAddress:K1.fromLong(J+W-1),subnetMask:Y,subnetMaskLength:$,numHosts:W<=2?W:W-2,length:W,contains(G){return J===K1.toLong(K1.mask(G,Y))}}};K1.cidrSubnet=function(Z){const Y=Z.split("/"),J=Y[0];if(Y.length!==2)throw new Error(`invalid CIDR subnet: ${J}`);const X=K1.fromPrefixLen(parseInt(Y[1],10));return K1.subnet(J,X)};K1.not=function(Z){const Y=K1.toBuffer(Z);for(let J=0;J<Y.length;J++)Y[J]=255^Y[J];return K1.toString(Y)};K1.or=function(Z,Y){if(Z=K1.toBuffer(Z),Y=K1.toBuffer(Y),Z.length===Y.length){for(let W=0;W<Z.length;++W)Z[W]|=Y[W];return K1.toString(Z)}let J=Z,X=Y;if(Y.length>Z.length)J=Y,X=Z;const $=J.length-X.length;for(let W=$;W<J.length;++W)J[W]|=X[W-$];return K1.toString(J)};K1.isEqual=function(Z,Y){if(Z=K1.toBuffer(Z),Y=K1.toBuffer(Y),Z.length===Y.length){for(let X=0;X<Z.length;X++)if(Z[X]!==Y[X])return!1;return!0}if(Y.length===4){const X=Y;Y=Z,Z=X}for(let X=0;X<10;X++)if(Y[X]!==0)return!1;const J=Y.readUInt16BE(10);if(J!==0&&J!==65535)return!1;for(let X=0;X<4;X++)if(Z[X]!==Y[X+12])return!1;return!0};K1.isPrivate=function(Z){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^f[cd][0-9a-f]{2}:/i.test(Z)||/^fe80:/i.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};K1.isPublic=function(Z){return!K1.isPrivate(Z)};K1.isLoopback=function(Z){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(Z)||/^fe80::1$/.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};K1.loopback=function(Z){if(Z=_3(Z),Z!=="ipv4"&&Z!=="ipv6")throw new Error("family must be ipv4 or ipv6");return Z==="ipv4"?"127.0.0.1":"fe80::1"};K1.address=function(Z,Y){const J=EQ1.networkInterfaces();if(Y=_3(Y),Z&&Z!=="private"&&Z!=="public"){const $=J[Z].filter((W)=>{return _3(W.family)===Y});if($.length===0)return;return $[0].address}const X=Object.keys(J).map(($)=>{const W=J[$].filter((G)=>{if(G.family=_3(G.family),G.family!==Y||K1.isLoopback(G.address))return!1;if(!Z)return!0;return Z==="public"?K1.isPrivate(G.address):K1.isPublic(G.address)});return W.length?W[0].address:void 0}).filter(Boolean);return!X.length?K1.loopback(Y):X[0]};K1.toLong=function(Z){let Y=0;return Z.split(".").forEach((J)=>{Y<<=8,Y+=parseInt(J)}),Y>>>0};K1.fromLong=function(Z){return`${Z>>>24}.${Z>>16&255}.${Z>>8&255}.${Z&255}`}});var Sk=R((Ok)=>{var SQ1=function(Z){if(!Ck.Buffer.isEncoding(Z))throw new Error(G9.INVALID_ENCODING)},Ek=function(Z){return typeof Z==="number"&&isFinite(Z)&&fQ1(Z)},jk=function(Z,Y){if(typeof Z==="number"){if(!Ek(Z)||Z<0)throw new Error(Y?G9.INVALID_OFFSET:G9.INVALID_LENGTH)}else throw new Error(Y?G9.INVALID_OFFSET_NON_NUMBER:G9.INVALID_LENGTH_NON_NUMBER)},kQ1=function(Z){jk(Z,!1)},_Q1=function(Z){jk(Z,!0)},xQ1=function(Z,Y){if(Z<0||Z>Y.length)throw new Error(G9.INVALID_TARGET_OFFSET)},fQ1=function(Z){return typeof Z==="number"&&isFinite(Z)&&Math.floor(Z)===Z},yQ1=function(Z){if(typeof BigInt==="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof Ck.Buffer.prototype[Z]==="undefined")throw new Error(`Platform does not support Buffer.prototype.${Z}.`)};Object.defineProperty(Ok,"__esModule",{value:!0});var Ck=import.meta.require("buffer"),G9={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};Ok.ERRORS=G9;Ok.checkEncoding=SQ1;Ok.isFiniteInteger=Ek;Ok.checkLengthValue=kQ1;Ok.checkOffsetValue=_Q1;Ok.checkTargetOffset=xQ1;Ok.bigIntAndBufferInt64Check=yQ1});var xk=R((_k)=>{Object.defineProperty(_k,"__esModule",{value:!0});var N1=Sk(),kk=4096,cQ1="utf8";class ZL{constructor(Z){if(this.length=0,this._encoding=cQ1,this._writeOffset=0,this._readOffset=0,ZL.isSmartBufferOptions(Z)){if(Z.encoding)N1.checkEncoding(Z.encoding),this._encoding=Z.encoding;if(Z.size)if(N1.isFiniteInteger(Z.size)&&Z.size>0)this._buff=Buffer.allocUnsafe(Z.size);else throw new Error(N1.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(Z.buff)if(Buffer.isBuffer(Z.buff))this._buff=Z.buff,this.length=Z.buff.length;else throw new Error(N1.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(kk)}else{if(typeof Z!=="undefined")throw new Error(N1.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(kk)}}static fromSize(Z,Y){return new this({size:Z,encoding:Y})}static fromBuffer(Z,Y){return new this({buff:Z,encoding:Y})}static fromOptions(Z){return new this(Z)}static isSmartBufferOptions(Z){const Y=Z;return Y&&(Y.encoding!==void 0||Y.size!==void 0||Y.buff!==void 0)}readInt8(Z){return this._readNumberValue(Buffer.prototype.readInt8,1,Z)}readInt16BE(Z){return this._readNumberValue(Buffer.prototype.readInt16BE,2,Z)}readInt16LE(Z){return this._readNumberValue(Buffer.prototype.readInt16LE,2,Z)}readInt32BE(Z){return this._readNumberValue(Buffer.prototype.readInt32BE,4,Z)}readInt32LE(Z){return this._readNumberValue(Buffer.prototype.readInt32LE,4,Z)}readBigInt64BE(Z){return N1.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,Z)}readBigInt64LE(Z){return N1.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,Z)}writeInt8(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt8,1,Z,Y),this}insertInt8(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt8,1,Z,Y)}writeInt16BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,Z,Y)}insertInt16BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,Z,Y)}writeInt16LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,Z,Y)}insertInt16LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,Z,Y)}writeInt32BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,Z,Y)}insertInt32BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,Z,Y)}writeInt32LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,Z,Y)}insertInt32LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,Z,Y)}writeBigInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,Y)}insertBigInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,Y)}writeBigInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,Y)}insertBigInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,Y)}readUInt8(Z){return this._readNumberValue(Buffer.prototype.readUInt8,1,Z)}readUInt16BE(Z){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,Z)}readUInt16LE(Z){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,Z)}readUInt32BE(Z){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,Z)}readUInt32LE(Z){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,Z)}readBigUInt64BE(Z){return N1.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,Z)}readBigUInt64LE(Z){return N1.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,Z)}writeUInt8(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,Z,Y)}insertUInt8(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,Z,Y)}writeUInt16BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,Z,Y)}insertUInt16BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,Z,Y)}writeUInt16LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,Z,Y)}insertUInt16LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,Z,Y)}writeUInt32BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,Z,Y)}insertUInt32BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,Z,Y)}writeUInt32LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,Z,Y)}insertUInt32LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,Z,Y)}writeBigUInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,Y)}insertBigUInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,Y)}writeBigUInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,Y)}insertBigUInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,Y)}readFloatBE(Z){return this._readNumberValue(Buffer.prototype.readFloatBE,4,Z)}readFloatLE(Z){return this._readNumberValue(Buffer.prototype.readFloatLE,4,Z)}writeFloatBE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,Z,Y)}insertFloatBE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,Z,Y)}writeFloatLE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,Z,Y)}insertFloatLE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,Z,Y)}readDoubleBE(Z){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,Z)}readDoubleLE(Z){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,Z)}writeDoubleBE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,Z,Y)}insertDoubleBE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,Z,Y)}writeDoubleLE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,Z,Y)}insertDoubleLE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,Z,Y)}readString(Z,Y){let J;if(typeof Z==="number")N1.checkLengthValue(Z),J=Math.min(Z,this.length-this._readOffset);else Y=Z,J=this.length-this._readOffset;if(typeof Y!=="undefined")N1.checkEncoding(Y);const X=this._buff.slice(this._readOffset,this._readOffset+J).toString(Y||this._encoding);return this._readOffset+=J,X}insertString(Z,Y,J){return N1.checkOffsetValue(Y),this._handleString(Z,!0,Y,J)}writeString(Z,Y,J){return this._handleString(Z,!1,Y,J)}readStringNT(Z){if(typeof Z!=="undefined")N1.checkEncoding(Z);let Y=this.length;for(let X=this._readOffset;X<this.length;X++)if(this._buff[X]===0){Y=X;break}const J=this._buff.slice(this._readOffset,Y);return this._readOffset=Y+1,J.toString(Z||this._encoding)}insertStringNT(Z,Y,J){return N1.checkOffsetValue(Y),this.insertString(Z,Y,J),this.insertUInt8(0,Y+Z.length),this}writeStringNT(Z,Y,J){return this.writeString(Z,Y,J),this.writeUInt8(0,typeof Y==="number"?Y+Z.length:this.writeOffset),this}readBuffer(Z){if(typeof Z!=="undefined")N1.checkLengthValue(Z);const Y=typeof Z==="number"?Z:this.length,J=Math.min(this.length,this._readOffset+Y),X=this._buff.slice(this._readOffset,J);return this._readOffset=J,X}insertBuffer(Z,Y){return N1.checkOffsetValue(Y),this._handleBuffer(Z,!0,Y)}writeBuffer(Z,Y){return this._handleBuffer(Z,!1,Y)}readBufferNT(){let Z=this.length;for(let J=this._readOffset;J<this.length;J++)if(this._buff[J]===0){Z=J;break}const Y=this._buff.slice(this._readOffset,Z);return this._readOffset=Z+1,Y}insertBufferNT(Z,Y){return N1.checkOffsetValue(Y),this.insertBuffer(Z,Y),this.insertUInt8(0,Y+Z.length),this}writeBufferNT(Z,Y){if(typeof Y!=="undefined")N1.checkOffsetValue(Y);return this.writeBuffer(Z,Y),this.writeUInt8(0,typeof Y==="number"?Y+Z.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(Z){N1.checkOffsetValue(Z),N1.checkTargetOffset(Z,this),this._readOffset=Z}get writeOffset(){return this._writeOffset}set writeOffset(Z){N1.checkOffsetValue(Z),N1.checkTargetOffset(Z,this),this._writeOffset=Z}get encoding(){return this._encoding}set encoding(Z){N1.checkEncoding(Z),this._encoding=Z}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(Z){const Y=typeof Z==="string"?Z:this._encoding;return N1.checkEncoding(Y),this._buff.toString(Y,0,this.length)}destroy(){return this.clear(),this}_handleString(Z,Y,J,X){let $=this._writeOffset,W=this._encoding;if(typeof J==="number")$=J;else if(typeof J==="string")N1.checkEncoding(J),W=J;if(typeof X==="string")N1.checkEncoding(X),W=X;const G=Buffer.byteLength(Z,W);if(Y)this.ensureInsertable(G,$);else this._ensureWriteable(G,$);if(this._buff.write(Z,$,G,W),Y)this._writeOffset+=G;else if(typeof J==="number")this._writeOffset=Math.max(this._writeOffset,$+G);else this._writeOffset+=G;return this}_handleBuffer(Z,Y,J){const X=typeof J==="number"?J:this._writeOffset;if(Y)this.ensureInsertable(Z.length,X);else this._ensureWriteable(Z.length,X);if(Z.copy(this._buff,X),Y)this._writeOffset+=Z.length;else if(typeof J==="number")this._writeOffset=Math.max(this._writeOffset,X+Z.length);else this._writeOffset+=Z.length;return this}ensureReadable(Z,Y){let J=this._readOffset;if(typeof Y!=="undefined")N1.checkOffsetValue(Y),J=Y;if(J<0||J+Z>this.length)throw new Error(N1.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(Z,Y){if(N1.checkOffsetValue(Y),this._ensureCapacity(this.length+Z),Y<this.length)this._buff.copy(this._buff,Y+Z,Y,this._buff.length);if(Y+Z>this.length)this.length=Y+Z;else this.length+=Z}_ensureWriteable(Z,Y){const J=typeof Y==="number"?Y:this._writeOffset;if(this._ensureCapacity(J+Z),J+Z>this.length)this.length=J+Z}_ensureCapacity(Z){const Y=this._buff.length;if(Z>Y){let J=this._buff,X=Y*3/2+1;if(X<Z)X=Z;this._buff=Buffer.allocUnsafe(X),J.copy(this._buff,0,0,Y)}}_readNumberValue(Z,Y,J){this.ensureReadable(Y,J);const X=Z.call(this._buff,typeof J==="number"?J:this._readOffset);if(typeof J==="undefined")this._readOffset+=Y;return X}_insertNumberValue(Z,Y,J,X){return N1.checkOffsetValue(X),this.ensureInsertable(Y,X),Z.call(this._buff,J,X),this._writeOffset+=Y,this}_writeNumberValue(Z,Y,J,X){if(typeof X==="number"){if(X<0)throw new Error(N1.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);N1.checkOffsetValue(X)}const $=typeof X==="number"?X:this._writeOffset;if(this._ensureWriteable(Y,$),Z.call(this._buff,J,$),typeof X==="number")this._writeOffset=Math.max(this._writeOffset,$+Y);else this._writeOffset+=Y;return this}}_k.SmartBuffer=ZL});var QL=R((fk)=>{Object.defineProperty(fk,"__esModule",{value:!0});fk.SOCKS5_NO_ACCEPTABLE_AUTH=fk.SOCKS5_CUSTOM_AUTH_END=fk.SOCKS5_CUSTOM_AUTH_START=fk.SOCKS_INCOMING_PACKET_SIZES=fk.SocksClientState=fk.Socks5Response=fk.Socks5HostType=fk.Socks5Auth=fk.Socks4Response=fk.SocksCommand=fk.ERRORS=fk.DEFAULT_TIMEOUT=void 0;var lQ1=30000;fk.DEFAULT_TIMEOUT=lQ1;var iQ1={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};fk.ERRORS=iQ1;var nQ1={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:(Z)=>Z+7,Socks4Response:8};fk.SOCKS_INCOMING_PACKET_SIZES=nQ1;var YL;(function(Z){Z[Z.connect=1]="connect",Z[Z.bind=2]="bind",Z[Z.associate=3]="associate"})(YL||(YL={}));fk.SocksCommand=YL;var JL;(function(Z){Z[Z.Granted=90]="Granted",Z[Z.Failed=91]="Failed",Z[Z.Rejected=92]="Rejected",Z[Z.RejectedIdent=93]="RejectedIdent"})(JL||(JL={}));fk.Socks4Response=JL;var XL;(function(Z){Z[Z.NoAuth=0]="NoAuth",Z[Z.GSSApi=1]="GSSApi",Z[Z.UserPass=2]="UserPass"})(XL||(XL={}));fk.Socks5Auth=XL;var aQ1=128;fk.SOCKS5_CUSTOM_AUTH_START=aQ1;var sQ1=254;fk.SOCKS5_CUSTOM_AUTH_END=sQ1;var rQ1=255;fk.SOCKS5_NO_ACCEPTABLE_AUTH=rQ1;var $L;(function(Z){Z[Z.Granted=0]="Granted",Z[Z.Failure=1]="Failure",Z[Z.NotAllowed=2]="NotAllowed",Z[Z.NetworkUnreachable=3]="NetworkUnreachable",Z[Z.HostUnreachable=4]="HostUnreachable",Z[Z.ConnectionRefused=5]="ConnectionRefused",Z[Z.TTLExpired=6]="TTLExpired",Z[Z.CommandNotSupported=7]="CommandNotSupported",Z[Z.AddressNotSupported=8]="AddressNotSupported"})($L||($L={}));fk.Socks5Response=$L;var WL;(function(Z){Z[Z.IPv4=1]="IPv4",Z[Z.Hostname=3]="Hostname",Z[Z.IPv6=4]="IPv6"})(WL||(WL={}));fk.Socks5HostType=WL;var GL;(function(Z){Z[Z.Created=0]="Created",Z[Z.Connecting=1]="Connecting",Z[Z.Connected=2]="Connected",Z[Z.SentInitialHandshake=3]="SentInitialHandshake",Z[Z.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",Z[Z.SentAuthentication=5]="SentAuthentication",Z[Z.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",Z[Z.SentFinalHandshake=7]="SentFinalHandshake",Z[Z.ReceivedFinalResponse=8]="ReceivedFinalResponse",Z[Z.BoundWaitingForConnection=9]="BoundWaitingForConnection",Z[Z.Established=10]="Established",Z[Z.Disconnected=11]="Disconnected",Z[Z.Error=99]="Error"})(GL||(GL={}));fk.SocksClientState=GL});var KL=R((bk)=>{var KK1=function(Z){for(let Y=Z.length-1;Y>0;Y--){const J=Math.floor(Math.random()*(Y+1));[Z[Y],Z[J]]=[Z[J],Z[Y]]}};Object.defineProperty(bk,"__esModule",{value:!0});bk.shuffleArray=bk.SocksClientError=void 0;class gk extends Error{constructor(Z,Y){super(Z);this.options=Y}}bk.SocksClientError=gk;bk.shuffleArray=KK1});var lk=R((ck)=>{var FK1=function(Z,Y=["connect","bind","associate"]){if(!o0.SocksCommand[Z.command])throw new f8.SocksClientError(o0.ERRORS.InvalidSocksCommand,Z);if(Y.indexOf(Z.command)===-1)throw new f8.SocksClientError(o0.ERRORS.InvalidSocksCommandForOperation,Z);if(!mk(Z.destination))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!uk(Z.proxy))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsProxy,Z);if(hk(Z.proxy,Z),Z.timeout&&!dk(Z.timeout))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsTimeout,Z);if(Z.existing_socket&&!(Z.existing_socket instanceof zK1.Duplex))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsExistingSocket,Z)},UK1=function(Z){if(Z.command!=="connect")throw new f8.SocksClientError(o0.ERRORS.InvalidSocksCommandChain,Z);if(!mk(Z.destination))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!(Z.proxies&&Array.isArray(Z.proxies)&&Z.proxies.length>=2))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsProxiesLength,Z);if(Z.proxies.forEach((Y)=>{if(!uk(Y))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsProxy,Z);hk(Y,Z)}),Z.timeout&&!dk(Z.timeout))throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsTimeout,Z)},hk=function(Z,Y){if(Z.custom_auth_method!==void 0){if(Z.custom_auth_method<o0.SOCKS5_CUSTOM_AUTH_START||Z.custom_auth_method>o0.SOCKS5_CUSTOM_AUTH_END)throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsCustomAuthRange,Y);if(Z.custom_auth_request_handler===void 0||typeof Z.custom_auth_request_handler!=="function")throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y);if(Z.custom_auth_response_size===void 0)throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y);if(Z.custom_auth_response_handler===void 0||typeof Z.custom_auth_response_handler!=="function")throw new f8.SocksClientError(o0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y)}},mk=function(Z){return Z&&typeof Z.host==="string"&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535},uk=function(Z){return Z&&(typeof Z.host==="string"||typeof Z.ipaddress==="string")&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535&&(Z.type===4||Z.type===5)},dk=function(Z){return typeof Z==="number"&&Z>0};Object.defineProperty(ck,"__esModule",{value:!0});ck.validateSocksClientChainOptions=ck.validateSocksClientOptions=void 0;var f8=KL(),o0=QL(),zK1=import.meta.require("stream");ck.validateSocksClientOptions=FK1;ck.validateSocksClientChainOptions=UK1});var sk=R((nk)=>{Object.defineProperty(nk,"__esModule",{value:!0});nk.ReceiveBuffer=void 0;class ik{constructor(Z=4096){this.buffer=Buffer.allocUnsafe(Z),this.offset=0,this.originalSize=Z}get length(){return this.offset}append(Z){if(!Buffer.isBuffer(Z))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+Z.length>=this.buffer.length){const Y=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+Z.length)),Y.copy(this.buffer)}return Z.copy(this.buffer,this.offset),this.offset+=Z.length}peek(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,Z)}get(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const Y=Buffer.allocUnsafe(Z);return this.buffer.slice(0,Z).copy(Y),this.buffer.copyWithin(0,Z,Z+this.offset-Z),this.offset-=Z,Y}}nk.ReceiveBuffer=ik});var rk=R((m5)=>{var rY=m5&&m5.__awaiter||function(Z,Y,J,X){function $(W){return W instanceof J?W:new J(function(G){G(W)})}return new(J||(J=Promise))(function(W,G){function Q(z){try{H(X.next(z))}catch(F){G(F)}}function K(z){try{H(X.throw(z))}catch(F){G(F)}}function H(z){z.done?W(z.value):$(z.value).then(Q,K)}H((X=X.apply(Z,Y||[])).next())})};Object.defineProperty(m5,"__esModule",{value:!0});m5.SocksClientError=m5.SocksClient=void 0;var VK1=import.meta.require("events"),tY=import.meta.require("net"),C6=Tk(),Y6=xk(),n=QL(),HL=lk(),LK1=sk(),zL=KL();Object.defineProperty(m5,"SocksClientError",{enumerable:!0,get:function(){return zL.SocksClientError}});class MQ extends VK1.EventEmitter{constructor(Z){super();this.options=Object.assign({},Z),HL.validateSocksClientOptions(Z),this.setState(n.SocksClientState.Created)}static createConnection(Z,Y){return new Promise((J,X)=>{try{HL.validateSocksClientOptions(Z,["connect"])}catch(W){if(typeof Y==="function")return Y(W),J(W);else return X(W)}const $=new MQ(Z);$.connect(Z.existing_socket),$.once("established",(W)=>{if($.removeAllListeners(),typeof Y==="function")Y(null,W),J(W);else J(W)}),$.once("error",(W)=>{if($.removeAllListeners(),typeof Y==="function")Y(W),J(W);else X(W)})})}static createConnectionChain(Z,Y){return new Promise((J,X)=>rY(this,void 0,void 0,function*(){try{HL.validateSocksClientChainOptions(Z)}catch($){if(typeof Y==="function")return Y($),J($);else return X($)}if(Z.randomizeChain)zL.shuffleArray(Z.proxies);try{let $;for(let W=0;W<Z.proxies.length;W++){const G=Z.proxies[W],Q=W===Z.proxies.length-1?Z.destination:{host:Z.proxies[W+1].host||Z.proxies[W+1].ipaddress,port:Z.proxies[W+1].port},K=yield MQ.createConnection({command:"connect",proxy:G,destination:Q,existing_socket:$});$=$||K.socket}if(typeof Y==="function")Y(null,{socket:$}),J({socket:$});else J({socket:$})}catch($){if(typeof Y==="function")Y($),J($);else X($)}}))}static createUDPFrame(Z){const Y=new Y6.SmartBuffer;if(Y.writeUInt16BE(0),Y.writeUInt8(Z.frameNumber||0),tY.isIPv4(Z.remoteHost.host))Y.writeUInt8(n.Socks5HostType.IPv4),Y.writeUInt32BE(C6.toLong(Z.remoteHost.host));else if(tY.isIPv6(Z.remoteHost.host))Y.writeUInt8(n.Socks5HostType.IPv6),Y.writeBuffer(C6.toBuffer(Z.remoteHost.host));else Y.writeUInt8(n.Socks5HostType.Hostname),Y.writeUInt8(Buffer.byteLength(Z.remoteHost.host)),Y.writeString(Z.remoteHost.host);return Y.writeUInt16BE(Z.remoteHost.port),Y.writeBuffer(Z.data),Y.toBuffer()}static parseUDPFrame(Z){const Y=Y6.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J=Y.readUInt8(),X=Y.readUInt8();let $;if(X===n.Socks5HostType.IPv4)$=C6.fromLong(Y.readUInt32BE());else if(X===n.Socks5HostType.IPv6)$=C6.toString(Y.readBuffer(16));else $=Y.readString(Y.readUInt8());const W=Y.readUInt16BE();return{frameNumber:J,remoteHost:{host:$,port:W},data:Y.readBuffer()}}setState(Z){if(this.state!==n.SocksClientState.Error)this.state=Z}connect(Z){this.onDataReceived=(J)=>this.onDataReceivedHandler(J),this.onClose=()=>this.onCloseHandler(),this.onError=(J)=>this.onErrorHandler(J),this.onConnect=()=>this.onConnectHandler();const Y=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||n.DEFAULT_TIMEOUT);if(Y.unref&&typeof Y.unref==="function")Y.unref();if(Z)this.socket=Z;else this.socket=new tY.Socket;if(this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(n.SocksClientState.Connecting),this.receiveBuffer=new LK1.ReceiveBuffer,Z)this.socket.emit("connect");else if(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null)this.socket.setNoDelay(!!this.options.set_tcp_nodelay);this.prependOnceListener("established",(J)=>{setImmediate(()=>{if(this.receiveBuffer.length>0){const X=this.receiveBuffer.get(this.receiveBuffer.length);J.socket.emit("data",X)}J.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){if(this.state!==n.SocksClientState.Established&&this.state!==n.SocksClientState.BoundWaitingForConnection)this.closeSocket(n.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){if(this.setState(n.SocksClientState.Connected),this.options.proxy.type===4)this.sendSocks4InitialHandshake();else this.sendSocks5InitialHandshake();this.setState(n.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(Z){this.receiveBuffer.append(Z),this.processData()}processData(){while(this.state!==n.SocksClientState.Established&&this.state!==n.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize)if(this.state===n.SocksClientState.SentInitialHandshake)if(this.options.proxy.type===4)this.handleSocks4FinalHandshakeResponse();else this.handleInitialSocks5HandshakeResponse();else if(this.state===n.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===n.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===n.SocksClientState.BoundWaitingForConnection)if(this.options.proxy.type===4)this.handleSocks4IncomingConnectionResponse();else this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(n.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(n.ERRORS.SocketClosed)}onErrorHandler(Z){this.closeSocket(Z.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(Z){if(this.state!==n.SocksClientState.Error)this.setState(n.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new zL.SocksClientError(Z,this.options))}sendSocks4InitialHandshake(){const Z=this.options.proxy.userId||"",Y=new Y6.SmartBuffer;if(Y.writeUInt8(4),Y.writeUInt8(n.SocksCommand[this.options.command]),Y.writeUInt16BE(this.options.destination.port),tY.isIPv4(this.options.destination.host))Y.writeBuffer(C6.toBuffer(this.options.destination.host)),Y.writeStringNT(Z);else Y.writeUInt8(0),Y.writeUInt8(0),Y.writeUInt8(0),Y.writeUInt8(1),Y.writeStringNT(Z),Y.writeStringNT(this.options.destination.host);this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(Y.toBuffer())}handleSocks4FinalHandshakeResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==n.Socks4Response.Granted)this.closeSocket(`${n.ERRORS.Socks4ProxyRejectedConnection} - (${n.Socks4Response[Z[1]]})`);else if(n.SocksCommand[this.options.command]===n.SocksCommand.bind){const Y=Y6.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J={port:Y.readUInt16BE(),host:C6.fromLong(Y.readUInt32BE())};if(J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress;this.setState(n.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:J,socket:this.socket})}else this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==n.Socks4Response.Granted)this.closeSocket(`${n.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${n.Socks4Response[Z[1]]})`);else{const Y=Y6.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J={port:Y.readUInt16BE(),host:C6.fromLong(Y.readUInt32BE())};this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}sendSocks5InitialHandshake(){const Z=new Y6.SmartBuffer,Y=[n.Socks5Auth.NoAuth];if(this.options.proxy.userId||this.options.proxy.password)Y.push(n.Socks5Auth.UserPass);if(this.options.proxy.custom_auth_method!==void 0)Y.push(this.options.proxy.custom_auth_method);Z.writeUInt8(5),Z.writeUInt8(Y.length);for(let J of Y)Z.writeUInt8(J);this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(Z.toBuffer()),this.setState(n.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const Z=this.receiveBuffer.get(2);if(Z[0]!==5)this.closeSocket(n.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion);else if(Z[1]===n.SOCKS5_NO_ACCEPTABLE_AUTH)this.closeSocket(n.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType);else if(Z[1]===n.Socks5Auth.NoAuth)this.socks5ChosenAuthType=n.Socks5Auth.NoAuth,this.sendSocks5CommandRequest();else if(Z[1]===n.Socks5Auth.UserPass)this.socks5ChosenAuthType=n.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication();else if(Z[1]===this.options.proxy.custom_auth_method)this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication();else this.closeSocket(n.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const Z=this.options.proxy.userId||"",Y=this.options.proxy.password||"",J=new Y6.SmartBuffer;J.writeUInt8(1),J.writeUInt8(Buffer.byteLength(Z)),J.writeString(Z),J.writeUInt8(Buffer.byteLength(Y)),J.writeString(Y),this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(J.toBuffer()),this.setState(n.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return rY(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(n.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(Z){return rY(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(Z)})}handleSocks5AuthenticationNoAuthHandshakeResponse(Z){return rY(this,void 0,void 0,function*(){return Z[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(Z){return rY(this,void 0,void 0,function*(){return Z[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return rY(this,void 0,void 0,function*(){this.setState(n.SocksClientState.ReceivedAuthenticationResponse);let Z=!1;if(this.socks5ChosenAuthType===n.Socks5Auth.NoAuth)Z=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===n.Socks5Auth.UserPass)Z=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===this.options.proxy.custom_auth_method)Z=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size));if(!Z)this.closeSocket(n.ERRORS.Socks5AuthenticationFailed);else this.sendSocks5CommandRequest()})}sendSocks5CommandRequest(){const Z=new Y6.SmartBuffer;if(Z.writeUInt8(5),Z.writeUInt8(n.SocksCommand[this.options.command]),Z.writeUInt8(0),tY.isIPv4(this.options.destination.host))Z.writeUInt8(n.Socks5HostType.IPv4),Z.writeBuffer(C6.toBuffer(this.options.destination.host));else if(tY.isIPv6(this.options.destination.host))Z.writeUInt8(n.Socks5HostType.IPv6),Z.writeBuffer(C6.toBuffer(this.options.destination.host));else Z.writeUInt8(n.Socks5HostType.Hostname),Z.writeUInt8(this.options.destination.host.length),Z.writeString(this.options.destination.host);Z.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(Z.toBuffer()),this.setState(n.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==n.Socks5Response.Granted)this.closeSocket(`${n.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${n.Socks5Response[Z[1]]}`);else{const Y=Z[3];let J,X;if(Y===n.Socks5HostType.IPv4){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}if(X=Y6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:C6.fromLong(X.readUInt32BE()),port:X.readUInt16BE()},J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress}else if(Y===n.Socks5HostType.Hostname){const $=Z[4],W=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname($);if(this.receiveBuffer.length<W){this.nextRequiredPacketBufferSize=W;return}X=Y6.SmartBuffer.fromBuffer(this.receiveBuffer.get(W).slice(5)),J={host:X.readString($),port:X.readUInt16BE()}}else if(Y===n.Socks5HostType.IPv6){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}X=Y6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:C6.toString(X.readBuffer(16)),port:X.readUInt16BE()}}if(this.setState(n.SocksClientState.ReceivedFinalResponse),n.SocksCommand[this.options.command]===n.SocksCommand.connect)this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket});else if(n.SocksCommand[this.options.command]===n.SocksCommand.bind)this.setState(n.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:J,socket:this.socket});else if(n.SocksCommand[this.options.command]===n.SocksCommand.associate)this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}handleSocks5IncomingConnectionResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==n.Socks5Response.Granted)this.closeSocket(`${n.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${n.Socks5Response[Z[1]]}`);else{const Y=Z[3];let J,X;if(Y===n.Socks5HostType.IPv4){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}if(X=Y6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:C6.fromLong(X.readUInt32BE()),port:X.readUInt16BE()},J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress}else if(Y===n.Socks5HostType.Hostname){const $=Z[4],W=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname($);if(this.receiveBuffer.length<W){this.nextRequiredPacketBufferSize=W;return}X=Y6.SmartBuffer.fromBuffer(this.receiveBuffer.get(W).slice(5)),J={host:X.readString($),port:X.readUInt16BE()}}else if(Y===n.Socks5HostType.IPv6){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}X=Y6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:C6.toString(X.readBuffer(16)),port:X.readUInt16BE()}}this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}m5.SocksClient=MQ});var tk=R((Q9)=>{var RK1=Q9&&Q9.__createBinding||(Object.create?function(Z,Y,J,X){if(X===void 0)X=J;var $=Object.getOwnPropertyDescriptor(Y,J);if(!$||("get"in $?!Y.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Y[J]}};Object.defineProperty(Z,X,$)}:function(Z,Y,J,X){if(X===void 0)X=J;Z[X]=Y[J]}),wK1=Q9&&Q9.__exportStar||function(Z,Y){for(var J in Z)if(J!=="default"&&!Object.prototype.hasOwnProperty.call(Y,J))RK1(Y,Z,J)};Object.defineProperty(Q9,"__esModule",{value:!0});wK1(rk(),Q9)});var C7=R((ok)=>{var x3=function(Z){return new Proxy(Z?{kModuleError:Z}:{},{get:(J,X)=>{if(X==="kModuleError")return Z;throw Z},set:()=>{throw Z}})},MK1=function(){try{return ok.Kerberos=(()=>{ throw new Error(`Cannot require module "kerberos"`);})(),ok.Kerberos}catch{return ok.Kerberos}},BK1=function(){try{return ok.ZStandard=(()=>{ throw new Error(`Cannot require module "@mongodb-js/zstd"`);})(),ok.ZStandard}catch{return ok.ZStandard}},AK1=function(){try{return (()=>{ throw new Error(`Cannot require module "@aws-sdk/credential-providers"`);})()}catch{return x3(new u5.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}},NK1=function(){try{return (()=>{ throw new Error(`Cannot require module "gcp-metadata"`);})()}catch{return x3(new u5.MongoMissingDependencyError("Optional module `gcp-metadata` not found. Please install it to enable getting gcp credentials via the official sdk."))}},IK1=function(){try{return (()=>{ throw new Error(`Cannot require module "snappy"`);})()}catch(Z){return{kModuleError:new u5.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:Z})}}},DK1=function(){try{return tk()}catch(Z){return{kModuleError:new u5.MongoMissingDependencyError("Optional module `socks` not found. Please install it to connections over a SOCKS5 proxy",{cause:Z})}}},PK1=function(){let Z=null;try{Z=(()=>{ throw new Error(`Cannot require module "mongodb-client-encryption"`);})()}catch(Y){return{kModuleError:new u5.MongoMissingDependencyError("Optional module `mongodb-client-encryption` not found. Please install it to use auto encryption or ClientEncryption.",{cause:Y})}}return Z};Object.defineProperty(ok,"__esModule",{value:!0});ok.getMongoDBClientEncryption=ok.aws4=ok.getSocks=ok.getSnappy=ok.getGcpMetadata=ok.getAwsCredentialProvider=ok.getZstdLibrary=ok.ZStandard=ok.getKerberos=ok.Kerberos=void 0;var u5=o();ok.Kerberos=x3(new u5.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));ok.getKerberos=MK1;ok.ZStandard=x3(new u5.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));ok.getZstdLibrary=BK1;ok.getAwsCredentialProvider=AK1;ok.getGcpMetadata=NK1;ok.getSnappy=IK1;ok.getSocks=DK1;ok.aws4=x3(new u5.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{ok.aws4=(()=>{ throw new Error(`Cannot require module "aws4"`);})()}catch{}ok.getMongoDBClientEncryption=PK1});var u4=R((X_)=>{Object.defineProperty(X_,"__esModule",{value:!0});X_.AuthProvider=X_.AuthContext=void 0;var kK1=o();class Y_{constructor(Z,Y,J){this.reauthenticating=!1,this.connection=Z,this.credentials=Y,this.options=J}}X_.AuthContext=Y_;class J_{async prepare(Z,Y){return Z}async reauth(Z){if(Z.reauthenticating)throw new kK1.MongoRuntimeError("Reauthentication already in progress.");try{Z.reauthenticating=!0,await this.auth(Z)}finally{Z.reauthenticating=!1}}}X_.AuthProvider=J_});var IQ=R((H_)=>{async function FL(Z,Y){return Z.commandAsync(fK1.ns("$external.$cmd"),Y,void 0)}async function gK1(Z){const{hostAddress:Y}=Z.options,{credentials:J}=Z;if(!Y||typeof Y.host!=="string"||!J)throw new W_.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(mK1(),"kModuleError"in f3)throw f3.kModuleError;const{initializeClient:X}=f3,{username:$,password:W}=J,G=J.mechanismProperties,Q=G.SERVICE_NAME??"mongodb",K=await K_(Y.host,G),H={};if(W!=null)Object.assign(H,{user:$,password:W});const z=G.SERVICE_HOST??K;let F=`${Q}${process.platform==="win32"?"/":"@"}${z}`;if("SERVICE_REALM"in G)F=`${F}@${G.SERVICE_REALM}`;return X(F,H)}var bK1=function(Z){return{saslStart:1,mechanism:"GSSAPI",payload:Z,autoAuthorize:1}},vK1=function(Z,Y){return{saslContinue:1,conversationId:Y,payload:Z}};async function Q_(Z,Y,J){try{return await Z.step(J)||""}catch(X){if(Y===0)throw X;return Q_(Z,Y-1,J)}}async function hK1(Z,Y,J){const X=await Z.unwrap(J);return Z.wrap(X||"",{user:Y})}async function K_(Z,Y){const J=Y.CANONICALIZE_HOST_NAME;if(!J||J===H_.GSSAPICanonicalizationValue.none)return Z;if(J===H_.GSSAPICanonicalizationValue.on||J===H_.GSSAPICanonicalizationValue.forwardAndReverse){const{address:X}=await UL.promises.lookup(Z);try{const $=await UL.promises.resolvePtr(X);return $.length>0?$[0]:Z}catch($){return qL(Z)}}else return qL(Z)}async function qL(Z){try{const Y=await UL.promises.resolveCname(Z);return Y.length>0?Y[0]:Z}catch{return Z}}var mK1=function(){if(!f3)f3=xK1.getKerberos()};Object.defineProperty(H_,"__esModule",{value:!0});H_.resolveCname=H_.performGSSAPICanonicalizeHostName=H_.GSSAPI=H_.GSSAPICanonicalizationValue=void 0;var UL=import.meta.require("dns"),xK1=C7(),W_=o(),fK1=Q1(),yK1=u4();H_.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});var f3;class G_ extends yK1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(J==null)throw new W_.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");const{username:X}=J,$=await gK1(Z),W=await $.step(""),G=await FL(Y,bK1(W)),Q=await Q_($,10,G.payload),K=await FL(Y,vK1(Q,G.conversationId)),H=await hK1($,X,K.payload);await FL(Y,{saslContinue:1,conversationId:K.conversationId,payload:H})}}H_.GSSAPI=G_;H_.performGSSAPICanonicalizeHostName=K_;H_.resolveCname=qL});var K4=R((F_)=>{Object.defineProperty(F_,"__esModule",{value:!0});F_.AUTH_MECHS_AUTH_SRC_EXTERNAL=F_.AuthMechanism=void 0;F_.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"});F_.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([F_.AuthMechanism.MONGODB_GSSAPI,F_.AuthMechanism.MONGODB_AWS,F_.AuthMechanism.MONGODB_OIDC,F_.AuthMechanism.MONGODB_X509])});var PQ=R((L_)=>{var pK1=function(Z){if(Z){if(Array.isArray(Z.saslSupportedMechs))return Z.saslSupportedMechs.includes($8.AuthMechanism.MONGODB_SCRAM_SHA256)?$8.AuthMechanism.MONGODB_SCRAM_SHA256:$8.AuthMechanism.MONGODB_SCRAM_SHA1;if(Z.maxWireVersion>=3)return $8.AuthMechanism.MONGODB_SCRAM_SHA1}return $8.AuthMechanism.MONGODB_CR};Object.defineProperty(L_,"__esModule",{value:!0});L_.MongoCredentials=L_.DEFAULT_ALLOWED_HOSTS=void 0;var e6=o(),cK1=IQ(),$8=K4(),q_=["aws","azure"],V_="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";L_.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];var lK1="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class DQ{constructor(Z){if(this.username=Z.username??"",this.password=Z.password,this.source=Z.source,!this.source&&Z.db)this.source=Z.db;if(this.mechanism=Z.mechanism||$8.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=Z.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)){if(!this.username&&process.env.AWS_ACCESS_KEY_ID)this.username=process.env.AWS_ACCESS_KEY_ID;if(!this.password&&process.env.AWS_SECRET_ACCESS_KEY)this.password=process.env.AWS_SECRET_ACCESS_KEY;if(this.mechanismProperties.AWS_SESSION_TOKEN==null&&process.env.AWS_SESSION_TOKEN!=null)this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN}}if(this.mechanism===$8.AuthMechanism.MONGODB_OIDC&&!this.mechanismProperties.ALLOWED_HOSTS)this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:L_.DEFAULT_ALLOWED_HOSTS};Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(Z){return this.mechanism===Z.mechanism&&this.username===Z.username&&this.password===Z.password&&this.source===Z.source}resolveAuthMechanism(Z){if(this.mechanism.match(/DEFAULT/i))return new DQ({username:this.username,password:this.password,source:this.source,mechanism:pK1(Z),mechanismProperties:this.mechanismProperties});return this}validate(){if((this.mechanism===$8.AuthMechanism.MONGODB_GSSAPI||this.mechanism===$8.AuthMechanism.MONGODB_CR||this.mechanism===$8.AuthMechanism.MONGODB_PLAIN||this.mechanism===$8.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===$8.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new e6.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===$8.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.PROVIDER_NAME)throw new e6.MongoInvalidArgumentError(`username and PROVIDER_NAME may not be used together for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.PROVIDER_NAME==="azure"&&!this.mechanismProperties.TOKEN_AUDIENCE)throw new e6.MongoAzureError(lK1);if(this.mechanismProperties.PROVIDER_NAME&&!q_.includes(this.mechanismProperties.PROVIDER_NAME))throw new e6.MongoInvalidArgumentError(`Currently only a PROVIDER_NAME in ${q_.join(",")} is supported for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.REFRESH_TOKEN_CALLBACK&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new e6.MongoInvalidArgumentError(`A REQUEST_TOKEN_CALLBACK must be provided when using a REFRESH_TOKEN_CALLBACK for mechanism '${this.mechanism}'`);if(!this.mechanismProperties.PROVIDER_NAME&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new e6.MongoInvalidArgumentError(`Either a PROVIDER_NAME or a REQUEST_TOKEN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){const Y=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(Y))throw new e6.MongoInvalidArgumentError(V_);for(let J of Y)if(typeof J!=="string")throw new e6.MongoInvalidArgumentError(V_)}}if($8.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)){if(this.source!=null&&this.source!=="$external")throw new e6.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`)}if(this.mechanism===$8.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new e6.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===$8.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new e6.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}const Z=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(cK1.GSSAPICanonicalizationValue).includes(Z))throw new e6.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${Z}`)}static merge(Z,Y){return new DQ({username:Y.username??Z?.username??"",password:Y.password??Z?.password??"",mechanism:Y.mechanism??Z?.mechanism??$8.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:Y.mechanismProperties??Z?.mechanismProperties??{},source:Y.source??Y.db??Z?.source??"admin"})}}L_.MongoCredentials=DQ});var CQ=R((N_)=>{var o1=function(Z,Y,J){if(J.globals)Z=J.globals[Z.name];return new Z(`${J.context?J.context:"Value"} ${Y}.`)},ZJ=function(Z,Y){if(typeof Z==="bigint")throw o1(TypeError,"is a BigInt which cannot be converted to a number",Y);if(!Y.globals)return Number(Z);return Y.globals.Number(Z)},B_=function(Z){if(Z>0&&Z%1===0.5&&(Z&1)===0||Z<0&&Z%1===-0.5&&(Z&1)===1)return g3(Math.floor(Z));return g3(Math.round(Z))},TQ=function(Z){return g3(Math.trunc(Z))},M_=function(Z){return Z<0?-1:1},iK1=function(Z,Y){const J=Z%Y;if(M_(Y)!==M_(J))return J+Y;return J},g3=function(Z){return Z===0?0:Z},YJ=function(Z,{unsigned:Y}){let J,X;if(Y)J=0,X=2**Z-1;else J=-(2**(Z-1)),X=2**(Z-1)-1;const $=2**Z,W=2**(Z-1);return(G,Q={})=>{let K=ZJ(G,Q);if(K=g3(K),Q.enforceRange){if(!Number.isFinite(K))throw o1(TypeError,"is not a finite number",Q);if(K=TQ(K),K<J||K>X)throw o1(TypeError,`is outside the accepted range of ${J} to ${X}, inclusive`,Q);return K}if(!Number.isNaN(K)&&Q.clamp)return K=Math.min(Math.max(K,J),X),K=B_(K),K;if(!Number.isFinite(K)||K===0)return 0;if(K=TQ(K),K>=J&&K<=X)return K;if(K=iK1(K,$),!Y&&K>=W)return K-$;return K}},A_=function(Z,{unsigned:Y}){const J=Number.MAX_SAFE_INTEGER,X=Y?0:Number.MIN_SAFE_INTEGER,$=Y?BigInt.asUintN:BigInt.asIntN;return(W,G={})=>{let Q=ZJ(W,G);if(Q=g3(Q),G.enforceRange){if(!Number.isFinite(Q))throw o1(TypeError,"is not a finite number",G);if(Q=TQ(Q),Q<X||Q>J)throw o1(TypeError,`is outside the accepted range of ${X} to ${J}, inclusive`,G);return Q}if(!Number.isNaN(Q)&&G.clamp)return Q=Math.min(Math.max(Q,X),J),Q=B_(Q),Q;if(!Number.isFinite(Q)||Q===0)return 0;let K=BigInt(TQ(Q));return K=$(Z,K),Number(K)}},VL=function(Z){try{return nK1.call(Z),!0}catch{return!1}},oY=function(Z){try{return aK1.call(Z),!0}catch{return!1}},eY=function(Z){try{return new Uint8Array(Z),!1}catch{return!0}};N_.any=(Z)=>{return Z};N_.undefined=()=>{return};N_.boolean=(Z)=>{return Boolean(Z)};N_.byte=YJ(8,{unsigned:!1});N_.octet=YJ(8,{unsigned:!0});N_.short=YJ(16,{unsigned:!1});N_["unsigned short"]=YJ(16,{unsigned:!0});N_.long=YJ(32,{unsigned:!1});N_["unsigned long"]=YJ(32,{unsigned:!0});N_["long long"]=A_(64,{unsigned:!1});N_["unsigned long long"]=A_(64,{unsigned:!0});N_.double=(Z,Y={})=>{const J=ZJ(Z,Y);if(!Number.isFinite(J))throw o1(TypeError,"is not a finite floating-point value",Y);return J};N_["unrestricted double"]=(Z,Y={})=>{return ZJ(Z,Y)};N_.float=(Z,Y={})=>{const J=ZJ(Z,Y);if(!Number.isFinite(J))throw o1(TypeError,"is not a finite floating-point value",Y);if(Object.is(J,-0))return J;const X=Math.fround(J);if(!Number.isFinite(X))throw o1(TypeError,"is outside the range of a single-precision floating-point value",Y);return X};N_["unrestricted float"]=(Z,Y={})=>{const J=ZJ(Z,Y);if(isNaN(J))return J;if(Object.is(J,-0))return J;return Math.fround(J)};N_.DOMString=(Z,Y={})=>{if(Y.treatNullAsEmptyString&&Z===null)return"";if(typeof Z==="symbol")throw o1(TypeError,"is a symbol, which cannot be converted to a string",Y);return(Y.globals?Y.globals.String:String)(Z)};N_.ByteString=(Z,Y={})=>{const J=N_.DOMString(Z,Y);let X;for(let $=0;(X=J.codePointAt($))!==void 0;++$)if(X>255)throw o1(TypeError,"is not a valid ByteString",Y);return J};N_.USVString=(Z,Y={})=>{const J=N_.DOMString(Z,Y),X=J.length,$=[];for(let W=0;W<X;++W){const G=J.charCodeAt(W);if(G<55296||G>57343)$.push(String.fromCodePoint(G));else if(56320<=G&&G<=57343)$.push(String.fromCodePoint(65533));else if(W===X-1)$.push(String.fromCodePoint(65533));else{const Q=J.charCodeAt(W+1);if(56320<=Q&&Q<=57343){const K=G&1023,H=Q&1023;$.push(String.fromCodePoint((2<<15)+(2<<9)*K+H)),++W}else $.push(String.fromCodePoint(65533))}}return $.join("")};N_.object=(Z,Y={})=>{if(Z===null||typeof Z!=="object"&&typeof Z!=="function")throw o1(TypeError,"is not an object",Y);return Z};var nK1=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,aK1=typeof SharedArrayBuffer==="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;N_.ArrayBuffer=(Z,Y={})=>{if(!VL(Z)){if(Y.allowShared&&!oY(Z))throw o1(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",Y);throw o1(TypeError,"is not an ArrayBuffer",Y)}if(eY(Z))throw o1(TypeError,"is a detached ArrayBuffer",Y);return Z};var sK1=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;N_.DataView=(Z,Y={})=>{try{sK1.call(Z)}catch(J){throw o1(TypeError,"is not a DataView",Y)}if(!Y.allowShared&&oY(Z.buffer))throw o1(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",Y);if(eY(Z.buffer))throw o1(TypeError,"is backed by a detached ArrayBuffer",Y);return Z};var rK1=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((Z)=>{const{name:Y}=Z,J=/^[AEIOU]/u.test(Y)?"an":"a";N_[Y]=(X,$={})=>{if(!ArrayBuffer.isView(X)||rK1.call(X)!==Y)throw o1(TypeError,`is not ${J} ${Y} object`,$);if(!$.allowShared&&oY(X.buffer))throw o1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",$);if(eY(X.buffer))throw o1(TypeError,"is a view on a detached ArrayBuffer",$);return X}});N_.ArrayBufferView=(Z,Y={})=>{if(!ArrayBuffer.isView(Z))throw o1(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",Y);if(!Y.allowShared&&oY(Z.buffer))throw o1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",Y);if(eY(Z.buffer))throw o1(TypeError,"is a view on a detached ArrayBuffer",Y);return Z};N_.BufferSource=(Z,Y={})=>{if(ArrayBuffer.isView(Z)){if(!Y.allowShared&&oY(Z.buffer))throw o1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",Y);if(eY(Z.buffer))throw o1(TypeError,"is a view on a detached ArrayBuffer",Y);return Z}if(!Y.allowShared&&!VL(Z))throw o1(TypeError,"is not an ArrayBuffer or a view on one",Y);if(Y.allowShared&&!oY(Z)&&!VL(Z))throw o1(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",Y);if(eY(Z))throw o1(TypeError,"is a detached ArrayBuffer",Y);return Z};N_.DOMTimeStamp=N_["unsigned long long"]});var jQ=R((O_,S_)=>{var BH1=function(Z){return typeof Z==="object"&&Z!==null||typeof Z==="function"},AH1=function(Z,Y){for(let J of Reflect.ownKeys(Y)){const X=Reflect.getOwnPropertyDescriptor(Y,J);if(X&&!Reflect.defineProperty(Z,J,X))throw new TypeError(`Cannot redefine property: ${String(J)}`)}},NH1=function(Z,Y){const J=C_(Z);return Object.defineProperties(Object.create(J["%Object.prototype%"]),Object.getOwnPropertyDescriptors(Y))},C_=function(Z){if(D_(Z,EQ))return Z[EQ];const Y=Object.create(null);Y["%Object.prototype%"]=Z.Object.prototype,Y["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new Z.Array()[Symbol.iterator]()));try{Y["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(Z.eval("(async function* () {})").prototype))}catch{Y["%AsyncIteratorPrototype%"]=IH1}return Z[EQ]=Y,Y},DH1=function(Z,Y,J){if(!Z[JJ])Z[JJ]=Object.create(null);if(Y in Z[JJ])return Z[JJ][Y];return Z[JJ][Y]=J(),Z[JJ][Y]},E_=function(Z){return Z?Z[P_]:null},j_=function(Z){return Z?Z[T_]:null},PH1=function(Z){const Y=E_(Z);return Y?Y:Z},TH1=function(Z){const Y=j_(Z);return Y?Y:Z},EH1=function(Z){if(typeof Z!=="string")return!1;const Y=Z>>>0;if(Y===4294967295)return!1;const J=`${Y}`;if(Z!==J)return!1;return!0},OH1=function(Z){try{return jH1.call(Z),!0}catch(Y){return!1}},SH1=function([Z,Y],J){let X;switch(J){case"key":X=Z;break;case"value":X=Y;break;case"key+value":X=[Z,Y];break}return{value:X,done:!1}},D_=Function.prototype.call.bind(Object.prototype.hasOwnProperty),P_=Symbol("wrapper"),T_=Symbol("impl"),JJ=Symbol("SameObject caches"),EQ=Symbol.for("[webidl2js] constructor registry"),IH1=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),CH1=Symbol("internal"),jH1=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,kH1=Symbol("supports property index"),_H1=Symbol("supported property indices"),xH1=Symbol("supports property name"),fH1=Symbol("supported property names"),yH1=Symbol("indexed property get"),gH1=Symbol("indexed property set new"),bH1=Symbol("indexed property set existing"),vH1=Symbol("named property get"),hH1=Symbol("named property set new"),mH1=Symbol("named property set existing"),uH1=Symbol("named property delete"),dH1=Symbol("async iterator get the next iteration result"),cH1=Symbol("async iterator return steps"),pH1=Symbol("async iterator initialization steps"),lH1=Symbol("async iterator end of iteration");S_.exports=O_={isObject:BH1,hasOwn:D_,define:AH1,newObjectInRealm:NH1,wrapperSymbol:P_,implSymbol:T_,getSameObject:DH1,ctorRegistrySymbol:EQ,initCtorRegistry:C_,wrapperForImpl:E_,implForWrapper:j_,tryWrapperForImpl:PH1,tryImplForWrapper:TH1,iterInternalSymbol:CH1,isArrayBuffer:OH1,isArrayIndexPropName:EH1,supportsPropertyIndex:kH1,supportedPropertyIndices:_H1,supportsPropertyName:xH1,supportedPropertyNames:fH1,indexedGet:yH1,indexedSetNew:gH1,indexedSetExisting:bH1,namedGet:vH1,namedSetNew:hH1,namedSetExisting:mH1,namedDelete:uH1,asyncIteratorNext:dH1,asyncIteratorReturn:cH1,asyncIteratorInit:pH1,asyncIteratorEOI:lH1,iteratorResult:SH1}});var __=R((wa1,k_)=>{var iH1=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,nH1=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,aH1=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,sH1=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,rH1=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,tH1=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,oH1=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11FD5}-\u{11FF1}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,eH1=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,Zz1=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,Yz1=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,Jz1=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1123E}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,Xz1=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;k_.exports={combiningMarks:iH1,combiningClassVirama:nH1,validZWNJ:aH1,bidiDomain:sH1,bidiS1LTR:rH1,bidiS1RTL:tH1,bidiS2:oH1,bidiS3:eH1,bidiS4EN:Zz1,bidiS4AN:Yz1,bidiS5:Jz1,bidiS6:Xz1}});var x_=R((Ma1,$z1)=>{$z1.exports=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," \u0308"],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," \u0304"],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," \u0301"],[181,1,"\u03BC"],[182,2],[183,2],[184,5," \u0327"],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"1\u20444"],[189,1,"1\u20442"],[190,1,"3\u20444"],[191,2],[192,1,"\xE0"],[193,1,"\xE1"],[194,1,"\xE2"],[195,1,"\xE3"],[196,1,"\xE4"],[197,1,"\xE5"],[198,1,"\xE6"],[199,1,"\xE7"],[200,1,"\xE8"],[201,1,"\xE9"],[202,1,"\xEA"],[203,1,"\xEB"],[204,1,"\xEC"],[205,1,"\xED"],[206,1,"\xEE"],[207,1,"\xEF"],[208,1,"\xF0"],[209,1,"\xF1"],[210,1,"\xF2"],[211,1,"\xF3"],[212,1,"\xF4"],[213,1,"\xF5"],[214,1,"\xF6"],[215,2],[216,1,"\xF8"],[217,1,"\xF9"],[218,1,"\xFA"],[219,1,"\xFB"],[220,1,"\xFC"],[221,1,"\xFD"],[222,1,"\xFE"],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,"\u0101"],[257,2],[258,1,"\u0103"],[259,2],[260,1,"\u0105"],[261,2],[262,1,"\u0107"],[263,2],[264,1,"\u0109"],[265,2],[266,1,"\u010B"],[267,2],[268,1,"\u010D"],[269,2],[270,1,"\u010F"],[271,2],[272,1,"\u0111"],[273,2],[274,1,"\u0113"],[275,2],[276,1,"\u0115"],[277,2],[278,1,"\u0117"],[279,2],[280,1,"\u0119"],[281,2],[282,1,"\u011B"],[283,2],[284,1,"\u011D"],[285,2],[286,1,"\u011F"],[287,2],[288,1,"\u0121"],[289,2],[290,1,"\u0123"],[291,2],[292,1,"\u0125"],[293,2],[294,1,"\u0127"],[295,2],[296,1,"\u0129"],[297,2],[298,1,"\u012B"],[299,2],[300,1,"\u012D"],[301,2],[302,1,"\u012F"],[303,2],[304,1,"i\u0307"],[305,2],[[306,307],1,"ij"],[308,1,"\u0135"],[309,2],[310,1,"\u0137"],[[311,312],2],[313,1,"\u013A"],[314,2],[315,1,"\u013C"],[316,2],[317,1,"\u013E"],[318,2],[[319,320],1,"l\xB7"],[321,1,"\u0142"],[322,2],[323,1,"\u0144"],[324,2],[325,1,"\u0146"],[326,2],[327,1,"\u0148"],[328,2],[329,1,"\u02BCn"],[330,1,"\u014B"],[331,2],[332,1,"\u014D"],[333,2],[334,1,"\u014F"],[335,2],[336,1,"\u0151"],[337,2],[338,1,"\u0153"],[339,2],[340,1,"\u0155"],[341,2],[342,1,"\u0157"],[343,2],[344,1,"\u0159"],[345,2],[346,1,"\u015B"],[347,2],[348,1,"\u015D"],[349,2],[350,1,"\u015F"],[351,2],[352,1,"\u0161"],[353,2],[354,1,"\u0163"],[355,2],[356,1,"\u0165"],[357,2],[358,1,"\u0167"],[359,2],[360,1,"\u0169"],[361,2],[362,1,"\u016B"],[363,2],[364,1,"\u016D"],[365,2],[366,1,"\u016F"],[367,2],[368,1,"\u0171"],[369,2],[370,1,"\u0173"],[371,2],[372,1,"\u0175"],[373,2],[374,1,"\u0177"],[375,2],[376,1,"\xFF"],[377,1,"\u017A"],[378,2],[379,1,"\u017C"],[380,2],[381,1,"\u017E"],[382,2],[383,1,"s"],[384,2],[385,1,"\u0253"],[386,1,"\u0183"],[387,2],[388,1,"\u0185"],[389,2],[390,1,"\u0254"],[391,1,"\u0188"],[392,2],[393,1,"\u0256"],[394,1,"\u0257"],[395,1,"\u018C"],[[396,397],2],[398,1,"\u01DD"],[399,1,"\u0259"],[400,1,"\u025B"],[401,1,"\u0192"],[402,2],[403,1,"\u0260"],[404,1,"\u0263"],[405,2],[406,1,"\u0269"],[407,1,"\u0268"],[408,1,"\u0199"],[[409,411],2],[412,1,"\u026F"],[413,1,"\u0272"],[414,2],[415,1,"\u0275"],[416,1,"\u01A1"],[417,2],[418,1,"\u01A3"],[419,2],[420,1,"\u01A5"],[421,2],[422,1,"\u0280"],[423,1,"\u01A8"],[424,2],[425,1,"\u0283"],[[426,427],2],[428,1,"\u01AD"],[429,2],[430,1,"\u0288"],[431,1,"\u01B0"],[432,2],[433,1,"\u028A"],[434,1,"\u028B"],[435,1,"\u01B4"],[436,2],[437,1,"\u01B6"],[438,2],[439,1,"\u0292"],[440,1,"\u01B9"],[[441,443],2],[444,1,"\u01BD"],[[445,451],2],[[452,454],1,"d\u017E"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,"\u01CE"],[462,2],[463,1,"\u01D0"],[464,2],[465,1,"\u01D2"],[466,2],[467,1,"\u01D4"],[468,2],[469,1,"\u01D6"],[470,2],[471,1,"\u01D8"],[472,2],[473,1,"\u01DA"],[474,2],[475,1,"\u01DC"],[[476,477],2],[478,1,"\u01DF"],[479,2],[480,1,"\u01E1"],[481,2],[482,1,"\u01E3"],[483,2],[484,1,"\u01E5"],[485,2],[486,1,"\u01E7"],[487,2],[488,1,"\u01E9"],[489,2],[490,1,"\u01EB"],[491,2],[492,1,"\u01ED"],[493,2],[494,1,"\u01EF"],[[495,496],2],[[497,499],1,"dz"],[500,1,"\u01F5"],[501,2],[502,1,"\u0195"],[503,1,"\u01BF"],[504,1,"\u01F9"],[505,2],[506,1,"\u01FB"],[507,2],[508,1,"\u01FD"],[509,2],[510,1,"\u01FF"],[511,2],[512,1,"\u0201"],[513,2],[514,1,"\u0203"],[515,2],[516,1,"\u0205"],[517,2],[518,1,"\u0207"],[519,2],[520,1,"\u0209"],[521,2],[522,1,"\u020B"],[523,2],[524,1,"\u020D"],[525,2],[526,1,"\u020F"],[527,2],[528,1,"\u0211"],[529,2],[530,1,"\u0213"],[531,2],[532,1,"\u0215"],[533,2],[534,1,"\u0217"],[535,2],[536,1,"\u0219"],[537,2],[538,1,"\u021B"],[539,2],[540,1,"\u021D"],[541,2],[542,1,"\u021F"],[543,2],[544,1,"\u019E"],[545,2],[546,1,"\u0223"],[547,2],[548,1,"\u0225"],[549,2],[550,1,"\u0227"],[551,2],[552,1,"\u0229"],[553,2],[554,1,"\u022B"],[555,2],[556,1,"\u022D"],[557,2],[558,1,"\u022F"],[559,2],[560,1,"\u0231"],[561,2],[562,1,"\u0233"],[563,2],[[564,566],2],[[567,569],2],[570,1,"\u2C65"],[571,1,"\u023C"],[572,2],[573,1,"\u019A"],[574,1,"\u2C66"],[[575,576],2],[577,1,"\u0242"],[578,2],[579,1,"\u0180"],[580,1,"\u0289"],[581,1,"\u028C"],[582,1,"\u0247"],[583,2],[584,1,"\u0249"],[585,2],[586,1,"\u024B"],[587,2],[588,1,"\u024D"],[589,2],[590,1,"\u024F"],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,"\u0266"],[690,1,"j"],[691,1,"r"],[692,1,"\u0279"],[693,1,"\u027B"],[694,1,"\u0281"],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," \u0306"],[729,5," \u0307"],[730,5," \u030A"],[731,5," \u0328"],[732,5," \u0303"],[733,5," \u030B"],[734,2],[735,2],[736,1,"\u0263"],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,"\u0295"],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,"\u0300"],[833,1,"\u0301"],[834,2],[835,1,"\u0313"],[836,1,"\u0308\u0301"],[837,1,"\u03B9"],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,"\u0371"],[881,2],[882,1,"\u0373"],[883,2],[884,1,"\u02B9"],[885,2],[886,1,"\u0377"],[887,2],[[888,889],3],[890,5," \u03B9"],[[891,893],2],[894,5,";"],[895,1,"\u03F3"],[[896,899],3],[900,5," \u0301"],[901,5," \u0308\u0301"],[902,1,"\u03AC"],[903,1,"\xB7"],[904,1,"\u03AD"],[905,1,"\u03AE"],[906,1,"\u03AF"],[907,3],[908,1,"\u03CC"],[909,3],[910,1,"\u03CD"],[911,1,"\u03CE"],[912,2],[913,1,"\u03B1"],[914,1,"\u03B2"],[915,1,"\u03B3"],[916,1,"\u03B4"],[917,1,"\u03B5"],[918,1,"\u03B6"],[919,1,"\u03B7"],[920,1,"\u03B8"],[921,1,"\u03B9"],[922,1,"\u03BA"],[923,1,"\u03BB"],[924,1,"\u03BC"],[925,1,"\u03BD"],[926,1,"\u03BE"],[927,1,"\u03BF"],[928,1,"\u03C0"],[929,1,"\u03C1"],[930,3],[931,1,"\u03C3"],[932,1,"\u03C4"],[933,1,"\u03C5"],[934,1,"\u03C6"],[935,1,"\u03C7"],[936,1,"\u03C8"],[937,1,"\u03C9"],[938,1,"\u03CA"],[939,1,"\u03CB"],[[940,961],2],[962,6,"\u03C3"],[[963,974],2],[975,1,"\u03D7"],[976,1,"\u03B2"],[977,1,"\u03B8"],[978,1,"\u03C5"],[979,1,"\u03CD"],[980,1,"\u03CB"],[981,1,"\u03C6"],[982,1,"\u03C0"],[983,2],[984,1,"\u03D9"],[985,2],[986,1,"\u03DB"],[987,2],[988,1,"\u03DD"],[989,2],[990,1,"\u03DF"],[991,2],[992,1,"\u03E1"],[993,2],[994,1,"\u03E3"],[995,2],[996,1,"\u03E5"],[997,2],[998,1,"\u03E7"],[999,2],[1000,1,"\u03E9"],[1001,2],[1002,1,"\u03EB"],[1003,2],[1004,1,"\u03ED"],[1005,2],[1006,1,"\u03EF"],[1007,2],[1008,1,"\u03BA"],[1009,1,"\u03C1"],[1010,1,"\u03C3"],[1011,2],[1012,1,"\u03B8"],[1013,1,"\u03B5"],[1014,2],[1015,1,"\u03F8"],[1016,2],[1017,1,"\u03C3"],[1018,1,"\u03FB"],[1019,2],[1020,2],[1021,1,"\u037B"],[1022,1,"\u037C"],[1023,1,"\u037D"],[1024,1,"\u0450"],[1025,1,"\u0451"],[1026,1,"\u0452"],[1027,1,"\u0453"],[1028,1,"\u0454"],[1029,1,"\u0455"],[1030,1,"\u0456"],[1031,1,"\u0457"],[1032,1,"\u0458"],[1033,1,"\u0459"],[1034,1,"\u045A"],[1035,1,"\u045B"],[1036,1,"\u045C"],[1037,1,"\u045D"],[1038,1,"\u045E"],[1039,1,"\u045F"],[1040,1,"\u0430"],[1041,1,"\u0431"],[1042,1,"\u0432"],[1043,1,"\u0433"],[1044,1,"\u0434"],[1045,1,"\u0435"],[1046,1,"\u0436"],[1047,1,"\u0437"],[1048,1,"\u0438"],[1049,1,"\u0439"],[1050,1,"\u043A"],[1051,1,"\u043B"],[1052,1,"\u043C"],[1053,1,"\u043D"],[1054,1,"\u043E"],[1055,1,"\u043F"],[1056,1,"\u0440"],[1057,1,"\u0441"],[1058,1,"\u0442"],[1059,1,"\u0443"],[1060,1,"\u0444"],[1061,1,"\u0445"],[1062,1,"\u0446"],[1063,1,"\u0447"],[1064,1,"\u0448"],[1065,1,"\u0449"],[1066,1,"\u044A"],[1067,1,"\u044B"],[1068,1,"\u044C"],[1069,1,"\u044D"],[1070,1,"\u044E"],[1071,1,"\u044F"],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,"\u0461"],[1121,2],[1122,1,"\u0463"],[1123,2],[1124,1,"\u0465"],[1125,2],[1126,1,"\u0467"],[1127,2],[1128,1,"\u0469"],[1129,2],[1130,1,"\u046B"],[1131,2],[1132,1,"\u046D"],[1133,2],[1134,1,"\u046F"],[1135,2],[1136,1,"\u0471"],[1137,2],[1138,1,"\u0473"],[1139,2],[1140,1,"\u0475"],[1141,2],[1142,1,"\u0477"],[1143,2],[1144,1,"\u0479"],[1145,2],[1146,1,"\u047B"],[1147,2],[1148,1,"\u047D"],[1149,2],[1150,1,"\u047F"],[1151,2],[1152,1,"\u0481"],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,"\u048B"],[1163,2],[1164,1,"\u048D"],[1165,2],[1166,1,"\u048F"],[1167,2],[1168,1,"\u0491"],[1169,2],[1170,1,"\u0493"],[1171,2],[1172,1,"\u0495"],[1173,2],[1174,1,"\u0497"],[1175,2],[1176,1,"\u0499"],[1177,2],[1178,1,"\u049B"],[1179,2],[1180,1,"\u049D"],[1181,2],[1182,1,"\u049F"],[1183,2],[1184,1,"\u04A1"],[1185,2],[1186,1,"\u04A3"],[1187,2],[1188,1,"\u04A5"],[1189,2],[1190,1,"\u04A7"],[1191,2],[1192,1,"\u04A9"],[1193,2],[1194,1,"\u04AB"],[1195,2],[1196,1,"\u04AD"],[1197,2],[1198,1,"\u04AF"],[1199,2],[1200,1,"\u04B1"],[1201,2],[1202,1,"\u04B3"],[1203,2],[1204,1,"\u04B5"],[1205,2],[1206,1,"\u04B7"],[1207,2],[1208,1,"\u04B9"],[1209,2],[1210,1,"\u04BB"],[1211,2],[1212,1,"\u04BD"],[1213,2],[1214,1,"\u04BF"],[1215,2],[1216,3],[1217,1,"\u04C2"],[1218,2],[1219,1,"\u04C4"],[1220,2],[1221,1,"\u04C6"],[1222,2],[1223,1,"\u04C8"],[1224,2],[1225,1,"\u04CA"],[1226,2],[1227,1,"\u04CC"],[1228,2],[1229,1,"\u04CE"],[1230,2],[1231,2],[1232,1,"\u04D1"],[1233,2],[1234,1,"\u04D3"],[1235,2],[1236,1,"\u04D5"],[1237,2],[1238,1,"\u04D7"],[1239,2],[1240,1,"\u04D9"],[1241,2],[1242,1,"\u04DB"],[1243,2],[1244,1,"\u04DD"],[1245,2],[1246,1,"\u04DF"],[1247,2],[1248,1,"\u04E1"],[1249,2],[1250,1,"\u04E3"],[1251,2],[1252,1,"\u04E5"],[1253,2],[1254,1,"\u04E7"],[1255,2],[1256,1,"\u04E9"],[1257,2],[1258,1,"\u04EB"],[1259,2],[1260,1,"\u04ED"],[1261,2],[1262,1,"\u04EF"],[1263,2],[1264,1,"\u04F1"],[1265,2],[1266,1,"\u04F3"],[1267,2],[1268,1,"\u04F5"],[1269,2],[1270,1,"\u04F7"],[1271,2],[1272,1,"\u04F9"],[1273,2],[1274,1,"\u04FB"],[1275,2],[1276,1,"\u04FD"],[1277,2],[1278,1,"\u04FF"],[1279,2],[1280,1,"\u0501"],[1281,2],[1282,1,"\u0503"],[1283,2],[1284,1,"\u0505"],[1285,2],[1286,1,"\u0507"],[1287,2],[1288,1,"\u0509"],[1289,2],[1290,1,"\u050B"],[1291,2],[1292,1,"\u050D"],[1293,2],[1294,1,"\u050F"],[1295,2],[1296,1,"\u0511"],[1297,2],[1298,1,"\u0513"],[1299,2],[1300,1,"\u0515"],[1301,2],[1302,1,"\u0517"],[1303,2],[1304,1,"\u0519"],[1305,2],[1306,1,"\u051B"],[1307,2],[1308,1,"\u051D"],[1309,2],[1310,1,"\u051F"],[1311,2],[1312,1,"\u0521"],[1313,2],[1314,1,"\u0523"],[1315,2],[1316,1,"\u0525"],[1317,2],[1318,1,"\u0527"],[1319,2],[1320,1,"\u0529"],[1321,2],[1322,1,"\u052B"],[1323,2],[1324,1,"\u052D"],[1325,2],[1326,1,"\u052F"],[1327,2],[1328,3],[1329,1,"\u0561"],[1330,1,"\u0562"],[1331,1,"\u0563"],[1332,1,"\u0564"],[1333,1,"\u0565"],[1334,1,"\u0566"],[1335,1,"\u0567"],[1336,1,"\u0568"],[1337,1,"\u0569"],[1338,1,"\u056A"],[1339,1,"\u056B"],[1340,1,"\u056C"],[1341,1,"\u056D"],[1342,1,"\u056E"],[1343,1,"\u056F"],[1344,1,"\u0570"],[1345,1,"\u0571"],[1346,1,"\u0572"],[1347,1,"\u0573"],[1348,1,"\u0574"],[1349,1,"\u0575"],[1350,1,"\u0576"],[1351,1,"\u0577"],[1352,1,"\u0578"],[1353,1,"\u0579"],[1354,1,"\u057A"],[1355,1,"\u057B"],[1356,1,"\u057C"],[1357,1,"\u057D"],[1358,1,"\u057E"],[1359,1,"\u057F"],[1360,1,"\u0580"],[1361,1,"\u0581"],[1362,1,"\u0582"],[1363,1,"\u0583"],[1364,1,"\u0584"],[1365,1,"\u0585"],[1366,1,"\u0586"],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,"\u0565\u0582"],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,"\u0627\u0674"],[1654,1,"\u0648\u0674"],[1655,1,"\u06C7\u0674"],[1656,1,"\u064A\u0674"],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,"\u0915\u093C"],[2393,1,"\u0916\u093C"],[2394,1,"\u0917\u093C"],[2395,1,"\u091C\u093C"],[2396,1,"\u0921\u093C"],[2397,1,"\u0922\u093C"],[2398,1,"\u092B\u093C"],[2399,1,"\u092F\u093C"],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,"\u09A1\u09BC"],[2525,1,"\u09A2\u09BC"],[2526,3],[2527,1,"\u09AF\u09BC"],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,"\u0A32\u0A3C"],[2612,3],[2613,2],[2614,1,"\u0A38\u0A3C"],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,"\u0A16\u0A3C"],[2650,1,"\u0A17\u0A3C"],[2651,1,"\u0A1C\u0A3C"],[2652,2],[2653,3],[2654,1,"\u0A2B\u0A3C"],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,"\u0B21\u0B3C"],[2909,1,"\u0B22\u0B3C"],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[[3315,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,"\u0E4D\u0E32"],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,"\u0ECD\u0EB2"],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[[3790,3791],3],[[3792,3801],2],[[3802,3803],3],[3804,1,"\u0EAB\u0E99"],[3805,1,"\u0EAB\u0EA1"],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,"\u0F0B"],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,"\u0F42\u0FB7"],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,"\u0F4C\u0FB7"],[[3918,3921],2],[3922,1,"\u0F51\u0FB7"],[[3923,3926],2],[3927,1,"\u0F56\u0FB7"],[[3928,3931],2],[3932,1,"\u0F5B\u0FB7"],[[3933,3944],2],[3945,1,"\u0F40\u0FB5"],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,"\u0F71\u0F72"],[3956,2],[3957,1,"\u0F71\u0F74"],[3958,1,"\u0FB2\u0F80"],[3959,1,"\u0FB2\u0F71\u0F80"],[3960,1,"\u0FB3\u0F80"],[3961,1,"\u0FB3\u0F71\u0F80"],[[3962,3968],2],[3969,1,"\u0F71\u0F80"],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,"\u0F92\u0FB7"],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,"\u0F9C\u0FB7"],[[3998,4001],2],[4002,1,"\u0FA1\u0FB7"],[[4003,4006],2],[4007,1,"\u0FA6\u0FB7"],[[4008,4011],2],[4012,1,"\u0FAB\u0FB7"],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,"\u0F90\u0FB5"],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,"\u2D27"],[[4296,4300],3],[4301,1,"\u2D2D"],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,"\u10DC"],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,"\u13F0"],[5113,1,"\u13F1"],[5114,1,"\u13F2"],[5115,1,"\u13F3"],[5116,1,"\u13F4"],[5117,1,"\u13F5"],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6000],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,"\u0432"],[7297,1,"\u0434"],[7298,1,"\u043E"],[7299,1,"\u0441"],[[7300,7301],1,"\u0442"],[7302,1,"\u044A"],[7303,1,"\u0463"],[7304,1,"\uA64B"],[[7305,7311],3],[7312,1,"\u10D0"],[7313,1,"\u10D1"],[7314,1,"\u10D2"],[7315,1,"\u10D3"],[7316,1,"\u10D4"],[7317,1,"\u10D5"],[7318,1,"\u10D6"],[7319,1,"\u10D7"],[7320,1,"\u10D8"],[7321,1,"\u10D9"],[7322,1,"\u10DA"],[7323,1,"\u10DB"],[7324,1,"\u10DC"],[7325,1,"\u10DD"],[7326,1,"\u10DE"],[7327,1,"\u10DF"],[7328,1,"\u10E0"],[7329,1,"\u10E1"],[7330,1,"\u10E2"],[7331,1,"\u10E3"],[7332,1,"\u10E4"],[7333,1,"\u10E5"],[7334,1,"\u10E6"],[7335,1,"\u10E7"],[7336,1,"\u10E8"],[7337,1,"\u10E9"],[7338,1,"\u10EA"],[7339,1,"\u10EB"],[7340,1,"\u10EC"],[7341,1,"\u10ED"],[7342,1,"\u10EE"],[7343,1,"\u10EF"],[7344,1,"\u10F0"],[7345,1,"\u10F1"],[7346,1,"\u10F2"],[7347,1,"\u10F3"],[7348,1,"\u10F4"],[7349,1,"\u10F5"],[7350,1,"\u10F6"],[7351,1,"\u10F7"],[7352,1,"\u10F8"],[7353,1,"\u10F9"],[7354,1,"\u10FA"],[[7355,7356],3],[7357,1,"\u10FD"],[7358,1,"\u10FE"],[7359,1,"\u10FF"],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,"\xE6"],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,"\u01DD"],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,"\u0223"],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,"\u0250"],[7493,1,"\u0251"],[7494,1,"\u1D02"],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,"\u0259"],[7499,1,"\u025B"],[7500,1,"\u025C"],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,"\u014B"],[7506,1,"o"],[7507,1,"\u0254"],[7508,1,"\u1D16"],[7509,1,"\u1D17"],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,"\u1D1D"],[7514,1,"\u026F"],[7515,1,"v"],[7516,1,"\u1D25"],[7517,1,"\u03B2"],[7518,1,"\u03B3"],[7519,1,"\u03B4"],[7520,1,"\u03C6"],[7521,1,"\u03C7"],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,"\u03B2"],[7527,1,"\u03B3"],[7528,1,"\u03C1"],[7529,1,"\u03C6"],[7530,1,"\u03C7"],[7531,2],[[7532,7543],2],[7544,1,"\u043D"],[[7545,7578],2],[7579,1,"\u0252"],[7580,1,"c"],[7581,1,"\u0255"],[7582,1,"\xF0"],[7583,1,"\u025C"],[7584,1,"f"],[7585,1,"\u025F"],[7586,1,"\u0261"],[7587,1,"\u0265"],[7588,1,"\u0268"],[7589,1,"\u0269"],[7590,1,"\u026A"],[7591,1,"\u1D7B"],[7592,1,"\u029D"],[7593,1,"\u026D"],[7594,1,"\u1D85"],[7595,1,"\u029F"],[7596,1,"\u0271"],[7597,1,"\u0270"],[7598,1,"\u0272"],[7599,1,"\u0273"],[7600,1,"\u0274"],[7601,1,"\u0275"],[7602,1,"\u0278"],[7603,1,"\u0282"],[7604,1,"\u0283"],[7605,1,"\u01AB"],[7606,1,"\u0289"],[7607,1,"\u028A"],[7608,1,"\u1D1C"],[7609,1,"\u028B"],[7610,1,"\u028C"],[7611,1,"z"],[7612,1,"\u0290"],[7613,1,"\u0291"],[7614,1,"\u0292"],[7615,1,"\u03B8"],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,"\u1E01"],[7681,2],[7682,1,"\u1E03"],[7683,2],[7684,1,"\u1E05"],[7685,2],[7686,1,"\u1E07"],[7687,2],[7688,1,"\u1E09"],[7689,2],[7690,1,"\u1E0B"],[7691,2],[7692,1,"\u1E0D"],[7693,2],[7694,1,"\u1E0F"],[7695,2],[7696,1,"\u1E11"],[7697,2],[7698,1,"\u1E13"],[7699,2],[7700,1,"\u1E15"],[7701,2],[7702,1,"\u1E17"],[7703,2],[7704,1,"\u1E19"],[7705,2],[7706,1,"\u1E1B"],[7707,2],[7708,1,"\u1E1D"],[7709,2],[7710,1,"\u1E1F"],[7711,2],[7712,1,"\u1E21"],[7713,2],[7714,1,"\u1E23"],[7715,2],[7716,1,"\u1E25"],[7717,2],[7718,1,"\u1E27"],[7719,2],[7720,1,"\u1E29"],[7721,2],[7722,1,"\u1E2B"],[7723,2],[7724,1,"\u1E2D"],[7725,2],[7726,1,"\u1E2F"],[7727,2],[7728,1,"\u1E31"],[7729,2],[7730,1,"\u1E33"],[7731,2],[7732,1,"\u1E35"],[7733,2],[7734,1,"\u1E37"],[7735,2],[7736,1,"\u1E39"],[7737,2],[7738,1,"\u1E3B"],[7739,2],[7740,1,"\u1E3D"],[7741,2],[7742,1,"\u1E3F"],[7743,2],[7744,1,"\u1E41"],[7745,2],[7746,1,"\u1E43"],[7747,2],[7748,1,"\u1E45"],[7749,2],[7750,1,"\u1E47"],[7751,2],[7752,1,"\u1E49"],[7753,2],[7754,1,"\u1E4B"],[7755,2],[7756,1,"\u1E4D"],[7757,2],[7758,1,"\u1E4F"],[7759,2],[7760,1,"\u1E51"],[7761,2],[7762,1,"\u1E53"],[7763,2],[7764,1,"\u1E55"],[7765,2],[7766,1,"\u1E57"],[7767,2],[7768,1,"\u1E59"],[7769,2],[7770,1,"\u1E5B"],[7771,2],[7772,1,"\u1E5D"],[7773,2],[7774,1,"\u1E5F"],[7775,2],[7776,1,"\u1E61"],[7777,2],[7778,1,"\u1E63"],[7779,2],[7780,1,"\u1E65"],[7781,2],[7782,1,"\u1E67"],[7783,2],[7784,1,"\u1E69"],[7785,2],[7786,1,"\u1E6B"],[7787,2],[7788,1,"\u1E6D"],[7789,2],[7790,1,"\u1E6F"],[7791,2],[7792,1,"\u1E71"],[7793,2],[7794,1,"\u1E73"],[7795,2],[7796,1,"\u1E75"],[7797,2],[7798,1,"\u1E77"],[7799,2],[7800,1,"\u1E79"],[7801,2],[7802,1,"\u1E7B"],[7803,2],[7804,1,"\u1E7D"],[7805,2],[7806,1,"\u1E7F"],[7807,2],[7808,1,"\u1E81"],[7809,2],[7810,1,"\u1E83"],[7811,2],[7812,1,"\u1E85"],[7813,2],[7814,1,"\u1E87"],[7815,2],[7816,1,"\u1E89"],[7817,2],[7818,1,"\u1E8B"],[7819,2],[7820,1,"\u1E8D"],[7821,2],[7822,1,"\u1E8F"],[7823,2],[7824,1,"\u1E91"],[7825,2],[7826,1,"\u1E93"],[7827,2],[7828,1,"\u1E95"],[[7829,7833],2],[7834,1,"a\u02BE"],[7835,1,"\u1E61"],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,"\u1EA1"],[7841,2],[7842,1,"\u1EA3"],[7843,2],[7844,1,"\u1EA5"],[7845,2],[7846,1,"\u1EA7"],[7847,2],[7848,1,"\u1EA9"],[7849,2],[7850,1,"\u1EAB"],[7851,2],[7852,1,"\u1EAD"],[7853,2],[7854,1,"\u1EAF"],[7855,2],[7856,1,"\u1EB1"],[7857,2],[7858,1,"\u1EB3"],[7859,2],[7860,1,"\u1EB5"],[7861,2],[7862,1,"\u1EB7"],[7863,2],[7864,1,"\u1EB9"],[7865,2],[7866,1,"\u1EBB"],[7867,2],[7868,1,"\u1EBD"],[7869,2],[7870,1,"\u1EBF"],[7871,2],[7872,1,"\u1EC1"],[7873,2],[7874,1,"\u1EC3"],[7875,2],[7876,1,"\u1EC5"],[7877,2],[7878,1,"\u1EC7"],[7879,2],[7880,1,"\u1EC9"],[7881,2],[7882,1,"\u1ECB"],[7883,2],[7884,1,"\u1ECD"],[7885,2],[7886,1,"\u1ECF"],[7887,2],[7888,1,"\u1ED1"],[7889,2],[7890,1,"\u1ED3"],[7891,2],[7892,1,"\u1ED5"],[7893,2],[7894,1,"\u1ED7"],[7895,2],[7896,1,"\u1ED9"],[7897,2],[7898,1,"\u1EDB"],[7899,2],[7900,1,"\u1EDD"],[7901,2],[7902,1,"\u1EDF"],[7903,2],[7904,1,"\u1EE1"],[7905,2],[7906,1,"\u1EE3"],[7907,2],[7908,1,"\u1EE5"],[7909,2],[7910,1,"\u1EE7"],[7911,2],[7912,1,"\u1EE9"],[7913,2],[7914,1,"\u1EEB"],[7915,2],[7916,1,"\u1EED"],[7917,2],[7918,1,"\u1EEF"],[7919,2],[7920,1,"\u1EF1"],[7921,2],[7922,1,"\u1EF3"],[7923,2],[7924,1,"\u1EF5"],[7925,2],[7926,1,"\u1EF7"],[7927,2],[7928,1,"\u1EF9"],[7929,2],[7930,1,"\u1EFB"],[7931,2],[7932,1,"\u1EFD"],[7933,2],[7934,1,"\u1EFF"],[7935,2],[[7936,7943],2],[7944,1,"\u1F00"],[7945,1,"\u1F01"],[7946,1,"\u1F02"],[7947,1,"\u1F03"],[7948,1,"\u1F04"],[7949,1,"\u1F05"],[7950,1,"\u1F06"],[7951,1,"\u1F07"],[[7952,7957],2],[[7958,7959],3],[7960,1,"\u1F10"],[7961,1,"\u1F11"],[7962,1,"\u1F12"],[7963,1,"\u1F13"],[7964,1,"\u1F14"],[7965,1,"\u1F15"],[[7966,7967],3],[[7968,7975],2],[7976,1,"\u1F20"],[7977,1,"\u1F21"],[7978,1,"\u1F22"],[7979,1,"\u1F23"],[7980,1,"\u1F24"],[7981,1,"\u1F25"],[7982,1,"\u1F26"],[7983,1,"\u1F27"],[[7984,7991],2],[7992,1,"\u1F30"],[7993,1,"\u1F31"],[7994,1,"\u1F32"],[7995,1,"\u1F33"],[7996,1,"\u1F34"],[7997,1,"\u1F35"],[7998,1,"\u1F36"],[7999,1,"\u1F37"],[[8000,8005],2],[[8006,8007],3],[8008,1,"\u1F40"],[8009,1,"\u1F41"],[8010,1,"\u1F42"],[8011,1,"\u1F43"],[8012,1,"\u1F44"],[8013,1,"\u1F45"],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,"\u1F51"],[8026,3],[8027,1,"\u1F53"],[8028,3],[8029,1,"\u1F55"],[8030,3],[8031,1,"\u1F57"],[[8032,8039],2],[8040,1,"\u1F60"],[8041,1,"\u1F61"],[8042,1,"\u1F62"],[8043,1,"\u1F63"],[8044,1,"\u1F64"],[8045,1,"\u1F65"],[8046,1,"\u1F66"],[8047,1,"\u1F67"],[8048,2],[8049,1,"\u03AC"],[8050,2],[8051,1,"\u03AD"],[8052,2],[8053,1,"\u03AE"],[8054,2],[8055,1,"\u03AF"],[8056,2],[8057,1,"\u03CC"],[8058,2],[8059,1,"\u03CD"],[8060,2],[8061,1,"\u03CE"],[[8062,8063],3],[8064,1,"\u1F00\u03B9"],[8065,1,"\u1F01\u03B9"],[8066,1,"\u1F02\u03B9"],[8067,1,"\u1F03\u03B9"],[8068,1,"\u1F04\u03B9"],[8069,1,"\u1F05\u03B9"],[8070,1,"\u1F06\u03B9"],[8071,1,"\u1F07\u03B9"],[8072,1,"\u1F00\u03B9"],[8073,1,"\u1F01\u03B9"],[8074,1,"\u1F02\u03B9"],[8075,1,"\u1F03\u03B9"],[8076,1,"\u1F04\u03B9"],[8077,1,"\u1F05\u03B9"],[8078,1,"\u1F06\u03B9"],[8079,1,"\u1F07\u03B9"],[8080,1,"\u1F20\u03B9"],[8081,1,"\u1F21\u03B9"],[8082,1,"\u1F22\u03B9"],[8083,1,"\u1F23\u03B9"],[8084,1,"\u1F24\u03B9"],[8085,1,"\u1F25\u03B9"],[8086,1,"\u1F26\u03B9"],[8087,1,"\u1F27\u03B9"],[8088,1,"\u1F20\u03B9"],[8089,1,"\u1F21\u03B9"],[8090,1,"\u1F22\u03B9"],[8091,1,"\u1F23\u03B9"],[8092,1,"\u1F24\u03B9"],[8093,1,"\u1F25\u03B9"],[8094,1,"\u1F26\u03B9"],[8095,1,"\u1F27\u03B9"],[8096,1,"\u1F60\u03B9"],[8097,1,"\u1F61\u03B9"],[8098,1,"\u1F62\u03B9"],[8099,1,"\u1F63\u03B9"],[8100,1,"\u1F64\u03B9"],[8101,1,"\u1F65\u03B9"],[8102,1,"\u1F66\u03B9"],[8103,1,"\u1F67\u03B9"],[8104,1,"\u1F60\u03B9"],[8105,1,"\u1F61\u03B9"],[8106,1,"\u1F62\u03B9"],[8107,1,"\u1F63\u03B9"],[8108,1,"\u1F64\u03B9"],[8109,1,"\u1F65\u03B9"],[8110,1,"\u1F66\u03B9"],[8111,1,"\u1F67\u03B9"],[[8112,8113],2],[8114,1,"\u1F70\u03B9"],[8115,1,"\u03B1\u03B9"],[8116,1,"\u03AC\u03B9"],[8117,3],[8118,2],[8119,1,"\u1FB6\u03B9"],[8120,1,"\u1FB0"],[8121,1,"\u1FB1"],[8122,1,"\u1F70"],[8123,1,"\u03AC"],[8124,1,"\u03B1\u03B9"],[8125,5," \u0313"],[8126,1,"\u03B9"],[8127,5," \u0313"],[8128,5," \u0342"],[8129,5," \u0308\u0342"],[8130,1,"\u1F74\u03B9"],[8131,1,"\u03B7\u03B9"],[8132,1,"\u03AE\u03B9"],[8133,3],[8134,2],[8135,1,"\u1FC6\u03B9"],[8136,1,"\u1F72"],[8137,1,"\u03AD"],[8138,1,"\u1F74"],[8139,1,"\u03AE"],[8140,1,"\u03B7\u03B9"],[8141,5," \u0313\u0300"],[8142,5," \u0313\u0301"],[8143,5," \u0313\u0342"],[[8144,8146],2],[8147,1,"\u0390"],[[8148,8149],3],[[8150,8151],2],[8152,1,"\u1FD0"],[8153,1,"\u1FD1"],[8154,1,"\u1F76"],[8155,1,"\u03AF"],[8156,3],[8157,5," \u0314\u0300"],[8158,5," \u0314\u0301"],[8159,5," \u0314\u0342"],[[8160,8162],2],[8163,1,"\u03B0"],[[8164,8167],2],[8168,1,"\u1FE0"],[8169,1,"\u1FE1"],[8170,1,"\u1F7A"],[8171,1,"\u03CD"],[8172,1,"\u1FE5"],[8173,5," \u0308\u0300"],[8174,5," \u0308\u0301"],[8175,5,"`"],[[8176,8177],3],[8178,1,"\u1F7C\u03B9"],[8179,1,"\u03C9\u03B9"],[8180,1,"\u03CE\u03B9"],[8181,3],[8182,2],[8183,1,"\u1FF6\u03B9"],[8184,1,"\u1F78"],[8185,1,"\u03CC"],[8186,1,"\u1F7C"],[8187,1,"\u03CE"],[8188,1,"\u03C9\u03B9"],[8189,5," \u0301"],[8190,5," \u0314"],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,"\u2010"],[[8210,8214],2],[8215,5," \u0333"],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,"\u2032\u2032"],[8244,1,"\u2032\u2032\u2032"],[8245,2],[8246,1,"\u2035\u2035"],[8247,1,"\u2035\u2035\u2035"],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," \u0305"],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,"\u2032\u2032\u2032\u2032"],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,"\u2212"],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,"\u2212"],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,"\u0259"],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"\xB0c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,"\u025B"],[8456,2],[8457,1,"\xB0f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,"\u0127"],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,"\u03C9"],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,"\xE5"],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,"\u05D0"],[8502,1,"\u05D1"],[8503,1,"\u05D2"],[8504,1,"\u05D3"],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,"\u03C0"],[[8509,8510],1,"\u03B3"],[8511,1,"\u03C0"],[8512,1,"\u2211"],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"1\u20447"],[8529,1,"1\u20449"],[8530,1,"1\u204410"],[8531,1,"1\u20443"],[8532,1,"2\u20443"],[8533,1,"1\u20445"],[8534,1,"2\u20445"],[8535,1,"3\u20445"],[8536,1,"4\u20445"],[8537,1,"1\u20446"],[8538,1,"5\u20446"],[8539,1,"1\u20448"],[8540,1,"3\u20448"],[8541,1,"5\u20448"],[8542,1,"7\u20448"],[8543,1,"1\u2044"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"0\u20443"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,"\u222B\u222B"],[8749,1,"\u222B\u222B\u222B"],[8750,2],[8751,1,"\u222E\u222E"],[8752,1,"\u222E\u222E\u222E"],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9000],2],[9001,1,"\u3008"],[9002,1,"\u3009"],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,"\u222B\u222B\u222B\u222B"],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,"\u2ADD\u0338"],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,"\u2C30"],[11265,1,"\u2C31"],[11266,1,"\u2C32"],[11267,1,"\u2C33"],[11268,1,"\u2C34"],[11269,1,"\u2C35"],[11270,1,"\u2C36"],[11271,1,"\u2C37"],[11272,1,"\u2C38"],[11273,1,"\u2C39"],[11274,1,"\u2C3A"],[11275,1,"\u2C3B"],[11276,1,"\u2C3C"],[11277,1,"\u2C3D"],[11278,1,"\u2C3E"],[11279,1,"\u2C3F"],[11280,1,"\u2C40"],[11281,1,"\u2C41"],[11282,1,"\u2C42"],[11283,1,"\u2C43"],[11284,1,"\u2C44"],[11285,1,"\u2C45"],[11286,1,"\u2C46"],[11287,1,"\u2C47"],[11288,1,"\u2C48"],[11289,1,"\u2C49"],[11290,1,"\u2C4A"],[11291,1,"\u2C4B"],[11292,1,"\u2C4C"],[11293,1,"\u2C4D"],[11294,1,"\u2C4E"],[11295,1,"\u2C4F"],[11296,1,"\u2C50"],[11297,1,"\u2C51"],[11298,1,"\u2C52"],[11299,1,"\u2C53"],[11300,1,"\u2C54"],[11301,1,"\u2C55"],[11302,1,"\u2C56"],[11303,1,"\u2C57"],[11304,1,"\u2C58"],[11305,1,"\u2C59"],[11306,1,"\u2C5A"],[11307,1,"\u2C5B"],[11308,1,"\u2C5C"],[11309,1,"\u2C5D"],[11310,1,"\u2C5E"],[11311,1,"\u2C5F"],[[11312,11358],2],[11359,2],[11360,1,"\u2C61"],[11361,2],[11362,1,"\u026B"],[11363,1,"\u1D7D"],[11364,1,"\u027D"],[[11365,11366],2],[11367,1,"\u2C68"],[11368,2],[11369,1,"\u2C6A"],[11370,2],[11371,1,"\u2C6C"],[11372,2],[11373,1,"\u0251"],[11374,1,"\u0271"],[11375,1,"\u0250"],[11376,1,"\u0252"],[11377,2],[11378,1,"\u2C73"],[11379,2],[11380,2],[11381,1,"\u2C76"],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,"\u023F"],[11391,1,"\u0240"],[11392,1,"\u2C81"],[11393,2],[11394,1,"\u2C83"],[11395,2],[11396,1,"\u2C85"],[11397,2],[11398,1,"\u2C87"],[11399,2],[11400,1,"\u2C89"],[11401,2],[11402,1,"\u2C8B"],[11403,2],[11404,1,"\u2C8D"],[11405,2],[11406,1,"\u2C8F"],[11407,2],[11408,1,"\u2C91"],[11409,2],[11410,1,"\u2C93"],[11411,2],[11412,1,"\u2C95"],[11413,2],[11414,1,"\u2C97"],[11415,2],[11416,1,"\u2C99"],[11417,2],[11418,1,"\u2C9B"],[11419,2],[11420,1,"\u2C9D"],[11421,2],[11422,1,"\u2C9F"],[11423,2],[11424,1,"\u2CA1"],[11425,2],[11426,1,"\u2CA3"],[11427,2],[11428,1,"\u2CA5"],[11429,2],[11430,1,"\u2CA7"],[11431,2],[11432,1,"\u2CA9"],[11433,2],[11434,1,"\u2CAB"],[11435,2],[11436,1,"\u2CAD"],[11437,2],[11438,1,"\u2CAF"],[11439,2],[11440,1,"\u2CB1"],[11441,2],[11442,1,"\u2CB3"],[11443,2],[11444,1,"\u2CB5"],[11445,2],[11446,1,"\u2CB7"],[11447,2],[11448,1,"\u2CB9"],[11449,2],[11450,1,"\u2CBB"],[11451,2],[11452,1,"\u2CBD"],[11453,2],[11454,1,"\u2CBF"],[11455,2],[11456,1,"\u2CC1"],[11457,2],[11458,1,"\u2CC3"],[11459,2],[11460,1,"\u2CC5"],[11461,2],[11462,1,"\u2CC7"],[11463,2],[11464,1,"\u2CC9"],[11465,2],[11466,1,"\u2CCB"],[11467,2],[11468,1,"\u2CCD"],[11469,2],[11470,1,"\u2CCF"],[11471,2],[11472,1,"\u2CD1"],[11473,2],[11474,1,"\u2CD3"],[11475,2],[11476,1,"\u2CD5"],[11477,2],[11478,1,"\u2CD7"],[11479,2],[11480,1,"\u2CD9"],[11481,2],[11482,1,"\u2CDB"],[11483,2],[11484,1,"\u2CDD"],[11485,2],[11486,1,"\u2CDF"],[11487,2],[11488,1,"\u2CE1"],[11489,2],[11490,1,"\u2CE3"],[[11491,11492],2],[[11493,11498],2],[11499,1,"\u2CEC"],[11500,2],[11501,1,"\u2CEE"],[[11502,11505],2],[11506,1,"\u2CF3"],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,"\u2D61"],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,"\u6BCD"],[[11936,12018],2],[12019,1,"\u9F9F"],[[12020,12031],3],[12032,1,"\u4E00"],[12033,1,"\u4E28"],[12034,1,"\u4E36"],[12035,1,"\u4E3F"],[12036,1,"\u4E59"],[12037,1,"\u4E85"],[12038,1,"\u4E8C"],[12039,1,"\u4EA0"],[12040,1,"\u4EBA"],[12041,1,"\u513F"],[12042,1,"\u5165"],[12043,1,"\u516B"],[12044,1,"\u5182"],[12045,1,"\u5196"],[12046,1,"\u51AB"],[12047,1,"\u51E0"],[12048,1,"\u51F5"],[12049,1,"\u5200"],[12050,1,"\u529B"],[12051,1,"\u52F9"],[12052,1,"\u5315"],[12053,1,"\u531A"],[12054,1,"\u5338"],[12055,1,"\u5341"],[12056,1,"\u535C"],[12057,1,"\u5369"],[12058,1,"\u5382"],[12059,1,"\u53B6"],[12060,1,"\u53C8"],[12061,1,"\u53E3"],[12062,1,"\u56D7"],[12063,1,"\u571F"],[12064,1,"\u58EB"],[12065,1,"\u5902"],[12066,1,"\u590A"],[12067,1,"\u5915"],[12068,1,"\u5927"],[12069,1,"\u5973"],[12070,1,"\u5B50"],[12071,1,"\u5B80"],[12072,1,"\u5BF8"],[12073,1,"\u5C0F"],[12074,1,"\u5C22"],[12075,1,"\u5C38"],[12076,1,"\u5C6E"],[12077,1,"\u5C71"],[12078,1,"\u5DDB"],[12079,1,"\u5DE5"],[12080,1,"\u5DF1"],[12081,1,"\u5DFE"],[12082,1,"\u5E72"],[12083,1,"\u5E7A"],[12084,1,"\u5E7F"],[12085,1,"\u5EF4"],[12086,1,"\u5EFE"],[12087,1,"\u5F0B"],[12088,1,"\u5F13"],[12089,1,"\u5F50"],[12090,1,"\u5F61"],[12091,1,"\u5F73"],[12092,1,"\u5FC3"],[12093,1,"\u6208"],[12094,1,"\u6236"],[12095,1,"\u624B"],[12096,1,"\u652F"],[12097,1,"\u6534"],[12098,1,"\u6587"],[12099,1,"\u6597"],[12100,1,"\u65A4"],[12101,1,"\u65B9"],[12102,1,"\u65E0"],[12103,1,"\u65E5"],[12104,1,"\u66F0"],[12105,1,"\u6708"],[12106,1,"\u6728"],[12107,1,"\u6B20"],[12108,1,"\u6B62"],[12109,1,"\u6B79"],[12110,1,"\u6BB3"],[12111,1,"\u6BCB"],[12112,1,"\u6BD4"],[12113,1,"\u6BDB"],[12114,1,"\u6C0F"],[12115,1,"\u6C14"],[12116,1,"\u6C34"],[12117,1,"\u706B"],[12118,1,"\u722A"],[12119,1,"\u7236"],[12120,1,"\u723B"],[12121,1,"\u723F"],[12122,1,"\u7247"],[12123,1,"\u7259"],[12124,1,"\u725B"],[12125,1,"\u72AC"],[12126,1,"\u7384"],[12127,1,"\u7389"],[12128,1,"\u74DC"],[12129,1,"\u74E6"],[12130,1,"\u7518"],[12131,1,"\u751F"],[12132,1,"\u7528"],[12133,1,"\u7530"],[12134,1,"\u758B"],[12135,1,"\u7592"],[12136,1,"\u7676"],[12137,1,"\u767D"],[12138,1,"\u76AE"],[12139,1,"\u76BF"],[12140,1,"\u76EE"],[12141,1,"\u77DB"],[12142,1,"\u77E2"],[12143,1,"\u77F3"],[12144,1,"\u793A"],[12145,1,"\u79B8"],[12146,1,"\u79BE"],[12147,1,"\u7A74"],[12148,1,"\u7ACB"],[12149,1,"\u7AF9"],[12150,1,"\u7C73"],[12151,1,"\u7CF8"],[12152,1,"\u7F36"],[12153,1,"\u7F51"],[12154,1,"\u7F8A"],[12155,1,"\u7FBD"],[12156,1,"\u8001"],[12157,1,"\u800C"],[12158,1,"\u8012"],[12159,1,"\u8033"],[12160,1,"\u807F"],[12161,1,"\u8089"],[12162,1,"\u81E3"],[12163,1,"\u81EA"],[12164,1,"\u81F3"],[12165,1,"\u81FC"],[12166,1,"\u820C"],[12167,1,"\u821B"],[12168,1,"\u821F"],[12169,1,"\u826E"],[12170,1,"\u8272"],[12171,1,"\u8278"],[12172,1,"\u864D"],[12173,1,"\u866B"],[12174,1,"\u8840"],[12175,1,"\u884C"],[12176,1,"\u8863"],[12177,1,"\u897E"],[12178,1,"\u898B"],[12179,1,"\u89D2"],[12180,1,"\u8A00"],[12181,1,"\u8C37"],[12182,1,"\u8C46"],[12183,1,"\u8C55"],[12184,1,"\u8C78"],[12185,1,"\u8C9D"],[12186,1,"\u8D64"],[12187,1,"\u8D70"],[12188,1,"\u8DB3"],[12189,1,"\u8EAB"],[12190,1,"\u8ECA"],[12191,1,"\u8F9B"],[12192,1,"\u8FB0"],[12193,1,"\u8FB5"],[12194,1,"\u9091"],[12195,1,"\u9149"],[12196,1,"\u91C6"],[12197,1,"\u91CC"],[12198,1,"\u91D1"],[12199,1,"\u9577"],[12200,1,"\u9580"],[12201,1,"\u961C"],[12202,1,"\u96B6"],[12203,1,"\u96B9"],[12204,1,"\u96E8"],[12205,1,"\u9751"],[12206,1,"\u975E"],[12207,1,"\u9762"],[12208,1,"\u9769"],[12209,1,"\u97CB"],[12210,1,"\u97ED"],[12211,1,"\u97F3"],[12212,1,"\u9801"],[12213,1,"\u98A8"],[12214,1,"\u98DB"],[12215,1,"\u98DF"],[12216,1,"\u9996"],[12217,1,"\u9999"],[12218,1,"\u99AC"],[12219,1,"\u9AA8"],[12220,1,"\u9AD8"],[12221,1,"\u9ADF"],[12222,1,"\u9B25"],[12223,1,"\u9B2F"],[12224,1,"\u9B32"],[12225,1,"\u9B3C"],[12226,1,"\u9B5A"],[12227,1,"\u9CE5"],[12228,1,"\u9E75"],[12229,1,"\u9E7F"],[12230,1,"\u9EA5"],[12231,1,"\u9EBB"],[12232,1,"\u9EC3"],[12233,1,"\u9ECD"],[12234,1,"\u9ED1"],[12235,1,"\u9EF9"],[12236,1,"\u9EFD"],[12237,1,"\u9F0E"],[12238,1,"\u9F13"],[12239,1,"\u9F20"],[12240,1,"\u9F3B"],[12241,1,"\u9F4A"],[12242,1,"\u9F52"],[12243,1,"\u9F8D"],[12244,1,"\u9F9C"],[12245,1,"\u9FA0"],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,"\u3012"],[12343,2],[12344,1,"\u5341"],[12345,1,"\u5344"],[12346,1,"\u5345"],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," \u3099"],[12444,5," \u309A"],[[12445,12446],2],[12447,1,"\u3088\u308A"],[12448,2],[[12449,12542],2],[12543,1,"\u30B3\u30C8"],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,"\u1100"],[12594,1,"\u1101"],[12595,1,"\u11AA"],[12596,1,"\u1102"],[12597,1,"\u11AC"],[12598,1,"\u11AD"],[12599,1,"\u1103"],[12600,1,"\u1104"],[12601,1,"\u1105"],[12602,1,"\u11B0"],[12603,1,"\u11B1"],[12604,1,"\u11B2"],[12605,1,"\u11B3"],[12606,1,"\u11B4"],[12607,1,"\u11B5"],[12608,1,"\u111A"],[12609,1,"\u1106"],[12610,1,"\u1107"],[12611,1,"\u1108"],[12612,1,"\u1121"],[12613,1,"\u1109"],[12614,1,"\u110A"],[12615,1,"\u110B"],[12616,1,"\u110C"],[12617,1,"\u110D"],[12618,1,"\u110E"],[12619,1,"\u110F"],[12620,1,"\u1110"],[12621,1,"\u1111"],[12622,1,"\u1112"],[12623,1,"\u1161"],[12624,1,"\u1162"],[12625,1,"\u1163"],[12626,1,"\u1164"],[12627,1,"\u1165"],[12628,1,"\u1166"],[12629,1,"\u1167"],[12630,1,"\u1168"],[12631,1,"\u1169"],[12632,1,"\u116A"],[12633,1,"\u116B"],[12634,1,"\u116C"],[12635,1,"\u116D"],[12636,1,"\u116E"],[12637,1,"\u116F"],[12638,1,"\u1170"],[12639,1,"\u1171"],[12640,1,"\u1172"],[12641,1,"\u1173"],[12642,1,"\u1174"],[12643,1,"\u1175"],[12644,3],[12645,1,"\u1114"],[12646,1,"\u1115"],[12647,1,"\u11C7"],[12648,1,"\u11C8"],[12649,1,"\u11CC"],[12650,1,"\u11CE"],[12651,1,"\u11D3"],[12652,1,"\u11D7"],[12653,1,"\u11D9"],[12654,1,"\u111C"],[12655,1,"\u11DD"],[12656,1,"\u11DF"],[12657,1,"\u111D"],[12658,1,"\u111E"],[12659,1,"\u1120"],[12660,1,"\u1122"],[12661,1,"\u1123"],[12662,1,"\u1127"],[12663,1,"\u1129"],[12664,1,"\u112B"],[12665,1,"\u112C"],[12666,1,"\u112D"],[12667,1,"\u112E"],[12668,1,"\u112F"],[12669,1,"\u1132"],[12670,1,"\u1136"],[12671,1,"\u1140"],[12672,1,"\u1147"],[12673,1,"\u114C"],[12674,1,"\u11F1"],[12675,1,"\u11F2"],[12676,1,"\u1157"],[12677,1,"\u1158"],[12678,1,"\u1159"],[12679,1,"\u1184"],[12680,1,"\u1185"],[12681,1,"\u1188"],[12682,1,"\u1191"],[12683,1,"\u1192"],[12684,1,"\u1194"],[12685,1,"\u119E"],[12686,1,"\u11A1"],[12687,3],[[12688,12689],2],[12690,1,"\u4E00"],[12691,1,"\u4E8C"],[12692,1,"\u4E09"],[12693,1,"\u56DB"],[12694,1,"\u4E0A"],[12695,1,"\u4E2D"],[12696,1,"\u4E0B"],[12697,1,"\u7532"],[12698,1,"\u4E59"],[12699,1,"\u4E19"],[12700,1,"\u4E01"],[12701,1,"\u5929"],[12702,1,"\u5730"],[12703,1,"\u4EBA"],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"(\u1100)"],[12801,5,"(\u1102)"],[12802,5,"(\u1103)"],[12803,5,"(\u1105)"],[12804,5,"(\u1106)"],[12805,5,"(\u1107)"],[12806,5,"(\u1109)"],[12807,5,"(\u110B)"],[12808,5,"(\u110C)"],[12809,5,"(\u110E)"],[12810,5,"(\u110F)"],[12811,5,"(\u1110)"],[12812,5,"(\u1111)"],[12813,5,"(\u1112)"],[12814,5,"(\uAC00)"],[12815,5,"(\uB098)"],[12816,5,"(\uB2E4)"],[12817,5,"(\uB77C)"],[12818,5,"(\uB9C8)"],[12819,5,"(\uBC14)"],[12820,5,"(\uC0AC)"],[12821,5,"(\uC544)"],[12822,5,"(\uC790)"],[12823,5,"(\uCC28)"],[12824,5,"(\uCE74)"],[12825,5,"(\uD0C0)"],[12826,5,"(\uD30C)"],[12827,5,"(\uD558)"],[12828,5,"(\uC8FC)"],[12829,5,"(\uC624\uC804)"],[12830,5,"(\uC624\uD6C4)"],[12831,3],[12832,5,"(\u4E00)"],[12833,5,"(\u4E8C)"],[12834,5,"(\u4E09)"],[12835,5,"(\u56DB)"],[12836,5,"(\u4E94)"],[12837,5,"(\u516D)"],[12838,5,"(\u4E03)"],[12839,5,"(\u516B)"],[12840,5,"(\u4E5D)"],[12841,5,"(\u5341)"],[12842,5,"(\u6708)"],[12843,5,"(\u706B)"],[12844,5,"(\u6C34)"],[12845,5,"(\u6728)"],[12846,5,"(\u91D1)"],[12847,5,"(\u571F)"],[12848,5,"(\u65E5)"],[12849,5,"(\u682A)"],[12850,5,"(\u6709)"],[12851,5,"(\u793E)"],[12852,5,"(\u540D)"],[12853,5,"(\u7279)"],[12854,5,"(\u8CA1)"],[12855,5,"(\u795D)"],[12856,5,"(\u52B4)"],[12857,5,"(\u4EE3)"],[12858,5,"(\u547C)"],[12859,5,"(\u5B66)"],[12860,5,"(\u76E3)"],[12861,5,"(\u4F01)"],[12862,5,"(\u8CC7)"],[12863,5,"(\u5354)"],[12864,5,"(\u796D)"],[12865,5,"(\u4F11)"],[12866,5,"(\u81EA)"],[12867,5,"(\u81F3)"],[12868,1,"\u554F"],[12869,1,"\u5E7C"],[12870,1,"\u6587"],[12871,1,"\u7B8F"],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,"\u1100"],[12897,1,"\u1102"],[12898,1,"\u1103"],[12899,1,"\u1105"],[12900,1,"\u1106"],[12901,1,"\u1107"],[12902,1,"\u1109"],[12903,1,"\u110B"],[12904,1,"\u110C"],[12905,1,"\u110E"],[12906,1,"\u110F"],[12907,1,"\u1110"],[12908,1,"\u1111"],[12909,1,"\u1112"],[12910,1,"\uAC00"],[12911,1,"\uB098"],[12912,1,"\uB2E4"],[12913,1,"\uB77C"],[12914,1,"\uB9C8"],[12915,1,"\uBC14"],[12916,1,"\uC0AC"],[12917,1,"\uC544"],[12918,1,"\uC790"],[12919,1,"\uCC28"],[12920,1,"\uCE74"],[12921,1,"\uD0C0"],[12922,1,"\uD30C"],[12923,1,"\uD558"],[12924,1,"\uCC38\uACE0"],[12925,1,"\uC8FC\uC758"],[12926,1,"\uC6B0"],[12927,2],[12928,1,"\u4E00"],[12929,1,"\u4E8C"],[12930,1,"\u4E09"],[12931,1,"\u56DB"],[12932,1,"\u4E94"],[12933,1,"\u516D"],[12934,1,"\u4E03"],[12935,1,"\u516B"],[12936,1,"\u4E5D"],[12937,1,"\u5341"],[12938,1,"\u6708"],[12939,1,"\u706B"],[12940,1,"\u6C34"],[12941,1,"\u6728"],[12942,1,"\u91D1"],[12943,1,"\u571F"],[12944,1,"\u65E5"],[12945,1,"\u682A"],[12946,1,"\u6709"],[12947,1,"\u793E"],[12948,1,"\u540D"],[12949,1,"\u7279"],[12950,1,"\u8CA1"],[12951,1,"\u795D"],[12952,1,"\u52B4"],[12953,1,"\u79D8"],[12954,1,"\u7537"],[12955,1,"\u5973"],[12956,1,"\u9069"],[12957,1,"\u512A"],[12958,1,"\u5370"],[12959,1,"\u6CE8"],[12960,1,"\u9805"],[12961,1,"\u4F11"],[12962,1,"\u5199"],[12963,1,"\u6B63"],[12964,1,"\u4E0A"],[12965,1,"\u4E2D"],[12966,1,"\u4E0B"],[12967,1,"\u5DE6"],[12968,1,"\u53F3"],[12969,1,"\u533B"],[12970,1,"\u5B97"],[12971,1,"\u5B66"],[12972,1,"\u76E3"],[12973,1,"\u4F01"],[12974,1,"\u8CC7"],[12975,1,"\u5354"],[12976,1,"\u591C"],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1\u6708"],[12993,1,"2\u6708"],[12994,1,"3\u6708"],[12995,1,"4\u6708"],[12996,1,"5\u6708"],[12997,1,"6\u6708"],[12998,1,"7\u6708"],[12999,1,"8\u6708"],[13000,1,"9\u6708"],[13001,1,"10\u6708"],[13002,1,"11\u6708"],[13003,1,"12\u6708"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,"\u30A2"],[13009,1,"\u30A4"],[13010,1,"\u30A6"],[13011,1,"\u30A8"],[13012,1,"\u30AA"],[13013,1,"\u30AB"],[13014,1,"\u30AD"],[13015,1,"\u30AF"],[13016,1,"\u30B1"],[13017,1,"\u30B3"],[13018,1,"\u30B5"],[13019,1,"\u30B7"],[13020,1,"\u30B9"],[13021,1,"\u30BB"],[13022,1,"\u30BD"],[13023,1,"\u30BF"],[13024,1,"\u30C1"],[13025,1,"\u30C4"],[13026,1,"\u30C6"],[13027,1,"\u30C8"],[13028,1,"\u30CA"],[13029,1,"\u30CB"],[13030,1,"\u30CC"],[13031,1,"\u30CD"],[13032,1,"\u30CE"],[13033,1,"\u30CF"],[13034,1,"\u30D2"],[13035,1,"\u30D5"],[13036,1,"\u30D8"],[13037,1,"\u30DB"],[13038,1,"\u30DE"],[13039,1,"\u30DF"],[13040,1,"\u30E0"],[13041,1,"\u30E1"],[13042,1,"\u30E2"],[13043,1,"\u30E4"],[13044,1,"\u30E6"],[13045,1,"\u30E8"],[13046,1,"\u30E9"],[13047,1,"\u30EA"],[13048,1,"\u30EB"],[13049,1,"\u30EC"],[13050,1,"\u30ED"],[13051,1,"\u30EF"],[13052,1,"\u30F0"],[13053,1,"\u30F1"],[13054,1,"\u30F2"],[13055,1,"\u4EE4\u548C"],[13056,1,"\u30A2\u30D1\u30FC\u30C8"],[13057,1,"\u30A2\u30EB\u30D5\u30A1"],[13058,1,"\u30A2\u30F3\u30DA\u30A2"],[13059,1,"\u30A2\u30FC\u30EB"],[13060,1,"\u30A4\u30CB\u30F3\u30B0"],[13061,1,"\u30A4\u30F3\u30C1"],[13062,1,"\u30A6\u30A9\u30F3"],[13063,1,"\u30A8\u30B9\u30AF\u30FC\u30C9"],[13064,1,"\u30A8\u30FC\u30AB\u30FC"],[13065,1,"\u30AA\u30F3\u30B9"],[13066,1,"\u30AA\u30FC\u30E0"],[13067,1,"\u30AB\u30A4\u30EA"],[13068,1,"\u30AB\u30E9\u30C3\u30C8"],[13069,1,"\u30AB\u30ED\u30EA\u30FC"],[13070,1,"\u30AC\u30ED\u30F3"],[13071,1,"\u30AC\u30F3\u30DE"],[13072,1,"\u30AE\u30AC"],[13073,1,"\u30AE\u30CB\u30FC"],[13074,1,"\u30AD\u30E5\u30EA\u30FC"],[13075,1,"\u30AE\u30EB\u30C0\u30FC"],[13076,1,"\u30AD\u30ED"],[13077,1,"\u30AD\u30ED\u30B0\u30E9\u30E0"],[13078,1,"\u30AD\u30ED\u30E1\u30FC\u30C8\u30EB"],[13079,1,"\u30AD\u30ED\u30EF\u30C3\u30C8"],[13080,1,"\u30B0\u30E9\u30E0"],[13081,1,"\u30B0\u30E9\u30E0\u30C8\u30F3"],[13082,1,"\u30AF\u30EB\u30BC\u30A4\u30ED"],[13083,1,"\u30AF\u30ED\u30FC\u30CD"],[13084,1,"\u30B1\u30FC\u30B9"],[13085,1,"\u30B3\u30EB\u30CA"],[13086,1,"\u30B3\u30FC\u30DD"],[13087,1,"\u30B5\u30A4\u30AF\u30EB"],[13088,1,"\u30B5\u30F3\u30C1\u30FC\u30E0"],[13089,1,"\u30B7\u30EA\u30F3\u30B0"],[13090,1,"\u30BB\u30F3\u30C1"],[13091,1,"\u30BB\u30F3\u30C8"],[13092,1,"\u30C0\u30FC\u30B9"],[13093,1,"\u30C7\u30B7"],[13094,1,"\u30C9\u30EB"],[13095,1,"\u30C8\u30F3"],[13096,1,"\u30CA\u30CE"],[13097,1,"\u30CE\u30C3\u30C8"],[13098,1,"\u30CF\u30A4\u30C4"],[13099,1,"\u30D1\u30FC\u30BB\u30F3\u30C8"],[13100,1,"\u30D1\u30FC\u30C4"],[13101,1,"\u30D0\u30FC\u30EC\u30EB"],[13102,1,"\u30D4\u30A2\u30B9\u30C8\u30EB"],[13103,1,"\u30D4\u30AF\u30EB"],[13104,1,"\u30D4\u30B3"],[13105,1,"\u30D3\u30EB"],[13106,1,"\u30D5\u30A1\u30E9\u30C3\u30C9"],[13107,1,"\u30D5\u30A3\u30FC\u30C8"],[13108,1,"\u30D6\u30C3\u30B7\u30A7\u30EB"],[13109,1,"\u30D5\u30E9\u30F3"],[13110,1,"\u30D8\u30AF\u30BF\u30FC\u30EB"],[13111,1,"\u30DA\u30BD"],[13112,1,"\u30DA\u30CB\u30D2"],[13113,1,"\u30D8\u30EB\u30C4"],[13114,1,"\u30DA\u30F3\u30B9"],[13115,1,"\u30DA\u30FC\u30B8"],[13116,1,"\u30D9\u30FC\u30BF"],[13117,1,"\u30DD\u30A4\u30F3\u30C8"],[13118,1,"\u30DC\u30EB\u30C8"],[13119,1,"\u30DB\u30F3"],[13120,1,"\u30DD\u30F3\u30C9"],[13121,1,"\u30DB\u30FC\u30EB"],[13122,1,"\u30DB\u30FC\u30F3"],[13123,1,"\u30DE\u30A4\u30AF\u30ED"],[13124,1,"\u30DE\u30A4\u30EB"],[13125,1,"\u30DE\u30C3\u30CF"],[13126,1,"\u30DE\u30EB\u30AF"],[13127,1,"\u30DE\u30F3\u30B7\u30E7\u30F3"],[13128,1,"\u30DF\u30AF\u30ED\u30F3"],[13129,1,"\u30DF\u30EA"],[13130,1,"\u30DF\u30EA\u30D0\u30FC\u30EB"],[13131,1,"\u30E1\u30AC"],[13132,1,"\u30E1\u30AC\u30C8\u30F3"],[13133,1,"\u30E1\u30FC\u30C8\u30EB"],[13134,1,"\u30E4\u30FC\u30C9"],[13135,1,"\u30E4\u30FC\u30EB"],[13136,1,"\u30E6\u30A2\u30F3"],[13137,1,"\u30EA\u30C3\u30C8\u30EB"],[13138,1,"\u30EA\u30E9"],[13139,1,"\u30EB\u30D4\u30FC"],[13140,1,"\u30EB\u30FC\u30D6\u30EB"],[13141,1,"\u30EC\u30E0"],[13142,1,"\u30EC\u30F3\u30C8\u30B2\u30F3"],[13143,1,"\u30EF\u30C3\u30C8"],[13144,1,"0\u70B9"],[13145,1,"1\u70B9"],[13146,1,"2\u70B9"],[13147,1,"3\u70B9"],[13148,1,"4\u70B9"],[13149,1,"5\u70B9"],[13150,1,"6\u70B9"],[13151,1,"7\u70B9"],[13152,1,"8\u70B9"],[13153,1,"9\u70B9"],[13154,1,"10\u70B9"],[13155,1,"11\u70B9"],[13156,1,"12\u70B9"],[13157,1,"13\u70B9"],[13158,1,"14\u70B9"],[13159,1,"15\u70B9"],[13160,1,"16\u70B9"],[13161,1,"17\u70B9"],[13162,1,"18\u70B9"],[13163,1,"19\u70B9"],[13164,1,"20\u70B9"],[13165,1,"21\u70B9"],[13166,1,"22\u70B9"],[13167,1,"23\u70B9"],[13168,1,"24\u70B9"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,"\u5E73\u6210"],[13180,1,"\u662D\u548C"],[13181,1,"\u5927\u6B63"],[13182,1,"\u660E\u6CBB"],[13183,1,"\u682A\u5F0F\u4F1A\u793E"],[13184,1,"pa"],[13185,1,"na"],[13186,1,"\u03BCa"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"\u03BCf"],[13197,1,"\u03BCg"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"\u03BCl"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"\u03BCm"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"m\u2215s"],[13224,1,"m\u2215s2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rad\u2215s"],[13231,1,"rad\u2215s2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"\u03BCs"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"\u03BCv"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"\u03BCw"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k\u03C9"],[13249,1,"m\u03C9"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"c\u2215kg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"v\u2215m"],[13279,1,"a\u2215m"],[13280,1,"1\u65E5"],[13281,1,"2\u65E5"],[13282,1,"3\u65E5"],[13283,1,"4\u65E5"],[13284,1,"5\u65E5"],[13285,1,"6\u65E5"],[13286,1,"7\u65E5"],[13287,1,"8\u65E5"],[13288,1,"9\u65E5"],[13289,1,"10\u65E5"],[13290,1,"11\u65E5"],[13291,1,"12\u65E5"],[13292,1,"13\u65E5"],[13293,1,"14\u65E5"],[13294,1,"15\u65E5"],[13295,1,"16\u65E5"],[13296,1,"17\u65E5"],[13297,1,"18\u65E5"],[13298,1,"19\u65E5"],[13299,1,"20\u65E5"],[13300,1,"21\u65E5"],[13301,1,"22\u65E5"],[13302,1,"23\u65E5"],[13303,1,"24\u65E5"],[13304,1,"25\u65E5"],[13305,1,"26\u65E5"],[13306,1,"27\u65E5"],[13307,1,"28\u65E5"],[13308,1,"29\u65E5"],[13309,1,"30\u65E5"],[13310,1,"31\u65E5"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,"\uA641"],[42561,2],[42562,1,"\uA643"],[42563,2],[42564,1,"\uA645"],[42565,2],[42566,1,"\uA647"],[42567,2],[42568,1,"\uA649"],[42569,2],[42570,1,"\uA64B"],[42571,2],[42572,1,"\uA64D"],[42573,2],[42574,1,"\uA64F"],[42575,2],[42576,1,"\uA651"],[42577,2],[42578,1,"\uA653"],[42579,2],[42580,1,"\uA655"],[42581,2],[42582,1,"\uA657"],[42583,2],[42584,1,"\uA659"],[42585,2],[42586,1,"\uA65B"],[42587,2],[42588,1,"\uA65D"],[42589,2],[42590,1,"\uA65F"],[42591,2],[42592,1,"\uA661"],[42593,2],[42594,1,"\uA663"],[42595,2],[42596,1,"\uA665"],[42597,2],[42598,1,"\uA667"],[42599,2],[42600,1,"\uA669"],[42601,2],[42602,1,"\uA66B"],[42603,2],[42604,1,"\uA66D"],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,"\uA681"],[42625,2],[42626,1,"\uA683"],[42627,2],[42628,1,"\uA685"],[42629,2],[42630,1,"\uA687"],[42631,2],[42632,1,"\uA689"],[42633,2],[42634,1,"\uA68B"],[42635,2],[42636,1,"\uA68D"],[42637,2],[42638,1,"\uA68F"],[42639,2],[42640,1,"\uA691"],[42641,2],[42642,1,"\uA693"],[42643,2],[42644,1,"\uA695"],[42645,2],[42646,1,"\uA697"],[42647,2],[42648,1,"\uA699"],[42649,2],[42650,1,"\uA69B"],[42651,2],[42652,1,"\u044A"],[42653,1,"\u044C"],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,"\uA723"],[42787,2],[42788,1,"\uA725"],[42789,2],[42790,1,"\uA727"],[42791,2],[42792,1,"\uA729"],[42793,2],[42794,1,"\uA72B"],[42795,2],[42796,1,"\uA72D"],[42797,2],[42798,1,"\uA72F"],[[42799,42801],2],[42802,1,"\uA733"],[42803,2],[42804,1,"\uA735"],[42805,2],[42806,1,"\uA737"],[42807,2],[42808,1,"\uA739"],[42809,2],[42810,1,"\uA73B"],[42811,2],[42812,1,"\uA73D"],[42813,2],[42814,1,"\uA73F"],[42815,2],[42816,1,"\uA741"],[42817,2],[42818,1,"\uA743"],[42819,2],[42820,1,"\uA745"],[42821,2],[42822,1,"\uA747"],[42823,2],[42824,1,"\uA749"],[42825,2],[42826,1,"\uA74B"],[42827,2],[42828,1,"\uA74D"],[42829,2],[42830,1,"\uA74F"],[42831,2],[42832,1,"\uA751"],[42833,2],[42834,1,"\uA753"],[42835,2],[42836,1,"\uA755"],[42837,2],[42838,1,"\uA757"],[42839,2],[42840,1,"\uA759"],[42841,2],[42842,1,"\uA75B"],[42843,2],[42844,1,"\uA75D"],[42845,2],[42846,1,"\uA75F"],[42847,2],[42848,1,"\uA761"],[42849,2],[42850,1,"\uA763"],[42851,2],[42852,1,"\uA765"],[42853,2],[42854,1,"\uA767"],[42855,2],[42856,1,"\uA769"],[42857,2],[42858,1,"\uA76B"],[42859,2],[42860,1,"\uA76D"],[42861,2],[42862,1,"\uA76F"],[42863,2],[42864,1,"\uA76F"],[[42865,42872],2],[42873,1,"\uA77A"],[42874,2],[42875,1,"\uA77C"],[42876,2],[42877,1,"\u1D79"],[42878,1,"\uA77F"],[42879,2],[42880,1,"\uA781"],[42881,2],[42882,1,"\uA783"],[42883,2],[42884,1,"\uA785"],[42885,2],[42886,1,"\uA787"],[[42887,42888],2],[[42889,42890],2],[42891,1,"\uA78C"],[42892,2],[42893,1,"\u0265"],[42894,2],[42895,2],[42896,1,"\uA791"],[42897,2],[42898,1,"\uA793"],[42899,2],[[42900,42901],2],[42902,1,"\uA797"],[42903,2],[42904,1,"\uA799"],[42905,2],[42906,1,"\uA79B"],[42907,2],[42908,1,"\uA79D"],[42909,2],[42910,1,"\uA79F"],[42911,2],[42912,1,"\uA7A1"],[42913,2],[42914,1,"\uA7A3"],[42915,2],[42916,1,"\uA7A5"],[42917,2],[42918,1,"\uA7A7"],[42919,2],[42920,1,"\uA7A9"],[42921,2],[42922,1,"\u0266"],[42923,1,"\u025C"],[42924,1,"\u0261"],[42925,1,"\u026C"],[42926,1,"\u026A"],[42927,2],[42928,1,"\u029E"],[42929,1,"\u0287"],[42930,1,"\u029D"],[42931,1,"\uAB53"],[42932,1,"\uA7B5"],[42933,2],[42934,1,"\uA7B7"],[42935,2],[42936,1,"\uA7B9"],[42937,2],[42938,1,"\uA7BB"],[42939,2],[42940,1,"\uA7BD"],[42941,2],[42942,1,"\uA7BF"],[42943,2],[42944,1,"\uA7C1"],[42945,2],[42946,1,"\uA7C3"],[42947,2],[42948,1,"\uA794"],[42949,1,"\u0282"],[42950,1,"\u1D8E"],[42951,1,"\uA7C8"],[42952,2],[42953,1,"\uA7CA"],[42954,2],[[42955,42959],3],[42960,1,"\uA7D1"],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,"\uA7D7"],[42967,2],[42968,1,"\uA7D9"],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,"\uA7F6"],[42998,2],[42999,2],[43000,1,"\u0127"],[43001,1,"\u0153"],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,"\uA727"],[43869,1,"\uAB37"],[43870,1,"\u026B"],[43871,1,"\uAB52"],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,"\u028D"],[[43882,43883],2],[[43884,43887],3],[43888,1,"\u13A0"],[43889,1,"\u13A1"],[43890,1,"\u13A2"],[43891,1,"\u13A3"],[43892,1,"\u13A4"],[43893,1,"\u13A5"],[43894,1,"\u13A6"],[43895,1,"\u13A7"],[43896,1,"\u13A8"],[43897,1,"\u13A9"],[43898,1,"\u13AA"],[43899,1,"\u13AB"],[43900,1,"\u13AC"],[43901,1,"\u13AD"],[43902,1,"\u13AE"],[43903,1,"\u13AF"],[43904,1,"\u13B0"],[43905,1,"\u13B1"],[43906,1,"\u13B2"],[43907,1,"\u13B3"],[43908,1,"\u13B4"],[43909,1,"\u13B5"],[43910,1,"\u13B6"],[43911,1,"\u13B7"],[43912,1,"\u13B8"],[43913,1,"\u13B9"],[43914,1,"\u13BA"],[43915,1,"\u13BB"],[43916,1,"\u13BC"],[43917,1,"\u13BD"],[43918,1,"\u13BE"],[43919,1,"\u13BF"],[43920,1,"\u13C0"],[43921,1,"\u13C1"],[43922,1,"\u13C2"],[43923,1,"\u13C3"],[43924,1,"\u13C4"],[43925,1,"\u13C5"],[43926,1,"\u13C6"],[43927,1,"\u13C7"],[43928,1,"\u13C8"],[43929,1,"\u13C9"],[43930,1,"\u13CA"],[43931,1,"\u13CB"],[43932,1,"\u13CC"],[43933,1,"\u13CD"],[43934,1,"\u13CE"],[43935,1,"\u13CF"],[43936,1,"\u13D0"],[43937,1,"\u13D1"],[43938,1,"\u13D2"],[43939,1,"\u13D3"],[43940,1,"\u13D4"],[43941,1,"\u13D5"],[43942,1,"\u13D6"],[43943,1,"\u13D7"],[43944,1,"\u13D8"],[43945,1,"\u13D9"],[43946,1,"\u13DA"],[43947,1,"\u13DB"],[43948,1,"\u13DC"],[43949,1,"\u13DD"],[43950,1,"\u13DE"],[43951,1,"\u13DF"],[43952,1,"\u13E0"],[43953,1,"\u13E1"],[43954,1,"\u13E2"],[43955,1,"\u13E3"],[43956,1,"\u13E4"],[43957,1,"\u13E5"],[43958,1,"\u13E6"],[43959,1,"\u13E7"],[43960,1,"\u13E8"],[43961,1,"\u13E9"],[43962,1,"\u13EA"],[43963,1,"\u13EB"],[43964,1,"\u13EC"],[43965,1,"\u13ED"],[43966,1,"\u13EE"],[43967,1,"\u13EF"],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,"\u8C48"],[63745,1,"\u66F4"],[63746,1,"\u8ECA"],[63747,1,"\u8CC8"],[63748,1,"\u6ED1"],[63749,1,"\u4E32"],[63750,1,"\u53E5"],[[63751,63752],1,"\u9F9C"],[63753,1,"\u5951"],[63754,1,"\u91D1"],[63755,1,"\u5587"],[63756,1,"\u5948"],[63757,1,"\u61F6"],[63758,1,"\u7669"],[63759,1,"\u7F85"],[63760,1,"\u863F"],[63761,1,"\u87BA"],[63762,1,"\u88F8"],[63763,1,"\u908F"],[63764,1,"\u6A02"],[63765,1,"\u6D1B"],[63766,1,"\u70D9"],[63767,1,"\u73DE"],[63768,1,"\u843D"],[63769,1,"\u916A"],[63770,1,"\u99F1"],[63771,1,"\u4E82"],[63772,1,"\u5375"],[63773,1,"\u6B04"],[63774,1,"\u721B"],[63775,1,"\u862D"],[63776,1,"\u9E1E"],[63777,1,"\u5D50"],[63778,1,"\u6FEB"],[63779,1,"\u85CD"],[63780,1,"\u8964"],[63781,1,"\u62C9"],[63782,1,"\u81D8"],[63783,1,"\u881F"],[63784,1,"\u5ECA"],[63785,1,"\u6717"],[63786,1,"\u6D6A"],[63787,1,"\u72FC"],[63788,1,"\u90CE"],[63789,1,"\u4F86"],[63790,1,"\u51B7"],[63791,1,"\u52DE"],[63792,1,"\u64C4"],[63793,1,"\u6AD3"],[63794,1,"\u7210"],[63795,1,"\u76E7"],[63796,1,"\u8001"],[63797,1,"\u8606"],[63798,1,"\u865C"],[63799,1,"\u8DEF"],[63800,1,"\u9732"],[63801,1,"\u9B6F"],[63802,1,"\u9DFA"],[63803,1,"\u788C"],[63804,1,"\u797F"],[63805,1,"\u7DA0"],[63806,1,"\u83C9"],[63807,1,"\u9304"],[63808,1,"\u9E7F"],[63809,1,"\u8AD6"],[63810,1,"\u58DF"],[63811,1,"\u5F04"],[63812,1,"\u7C60"],[63813,1,"\u807E"],[63814,1,"\u7262"],[63815,1,"\u78CA"],[63816,1,"\u8CC2"],[63817,1,"\u96F7"],[63818,1,"\u58D8"],[63819,1,"\u5C62"],[63820,1,"\u6A13"],[63821,1,"\u6DDA"],[63822,1,"\u6F0F"],[63823,1,"\u7D2F"],[63824,1,"\u7E37"],[63825,1,"\u964B"],[63826,1,"\u52D2"],[63827,1,"\u808B"],[63828,1,"\u51DC"],[63829,1,"\u51CC"],[63830,1,"\u7A1C"],[63831,1,"\u7DBE"],[63832,1,"\u83F1"],[63833,1,"\u9675"],[63834,1,"\u8B80"],[63835,1,"\u62CF"],[63836,1,"\u6A02"],[63837,1,"\u8AFE"],[63838,1,"\u4E39"],[63839,1,"\u5BE7"],[63840,1,"\u6012"],[63841,1,"\u7387"],[63842,1,"\u7570"],[63843,1,"\u5317"],[63844,1,"\u78FB"],[63845,1,"\u4FBF"],[63846,1,"\u5FA9"],[63847,1,"\u4E0D"],[63848,1,"\u6CCC"],[63849,1,"\u6578"],[63850,1,"\u7D22"],[63851,1,"\u53C3"],[63852,1,"\u585E"],[63853,1,"\u7701"],[63854,1,"\u8449"],[63855,1,"\u8AAA"],[63856,1,"\u6BBA"],[63857,1,"\u8FB0"],[63858,1,"\u6C88"],[63859,1,"\u62FE"],[63860,1,"\u82E5"],[63861,1,"\u63A0"],[63862,1,"\u7565"],[63863,1,"\u4EAE"],[63864,1,"\u5169"],[63865,1,"\u51C9"],[63866,1,"\u6881"],[63867,1,"\u7CE7"],[63868,1,"\u826F"],[63869,1,"\u8AD2"],[63870,1,"\u91CF"],[63871,1,"\u52F5"],[63872,1,"\u5442"],[63873,1,"\u5973"],[63874,1,"\u5EEC"],[63875,1,"\u65C5"],[63876,1,"\u6FFE"],[63877,1,"\u792A"],[63878,1,"\u95AD"],[63879,1,"\u9A6A"],[63880,1,"\u9E97"],[63881,1,"\u9ECE"],[63882,1,"\u529B"],[63883,1,"\u66C6"],[63884,1,"\u6B77"],[63885,1,"\u8F62"],[63886,1,"\u5E74"],[63887,1,"\u6190"],[63888,1,"\u6200"],[63889,1,"\u649A"],[63890,1,"\u6F23"],[63891,1,"\u7149"],[63892,1,"\u7489"],[63893,1,"\u79CA"],[63894,1,"\u7DF4"],[63895,1,"\u806F"],[63896,1,"\u8F26"],[63897,1,"\u84EE"],[63898,1,"\u9023"],[63899,1,"\u934A"],[63900,1,"\u5217"],[63901,1,"\u52A3"],[63902,1,"\u54BD"],[63903,1,"\u70C8"],[63904,1,"\u88C2"],[63905,1,"\u8AAA"],[63906,1,"\u5EC9"],[63907,1,"\u5FF5"],[63908,1,"\u637B"],[63909,1,"\u6BAE"],[63910,1,"\u7C3E"],[63911,1,"\u7375"],[63912,1,"\u4EE4"],[63913,1,"\u56F9"],[63914,1,"\u5BE7"],[63915,1,"\u5DBA"],[63916,1,"\u601C"],[63917,1,"\u73B2"],[63918,1,"\u7469"],[63919,1,"\u7F9A"],[63920,1,"\u8046"],[63921,1,"\u9234"],[63922,1,"\u96F6"],[63923,1,"\u9748"],[63924,1,"\u9818"],[63925,1,"\u4F8B"],[63926,1,"\u79AE"],[63927,1,"\u91B4"],[63928,1,"\u96B8"],[63929,1,"\u60E1"],[63930,1,"\u4E86"],[63931,1,"\u50DA"],[63932,1,"\u5BEE"],[63933,1,"\u5C3F"],[63934,1,"\u6599"],[63935,1,"\u6A02"],[63936,1,"\u71CE"],[63937,1,"\u7642"],[63938,1,"\u84FC"],[63939,1,"\u907C"],[63940,1,"\u9F8D"],[63941,1,"\u6688"],[63942,1,"\u962E"],[63943,1,"\u5289"],[63944,1,"\u677B"],[63945,1,"\u67F3"],[63946,1,"\u6D41"],[63947,1,"\u6E9C"],[63948,1,"\u7409"],[63949,1,"\u7559"],[63950,1,"\u786B"],[63951,1,"\u7D10"],[63952,1,"\u985E"],[63953,1,"\u516D"],[63954,1,"\u622E"],[63955,1,"\u9678"],[63956,1,"\u502B"],[63957,1,"\u5D19"],[63958,1,"\u6DEA"],[63959,1,"\u8F2A"],[63960,1,"\u5F8B"],[63961,1,"\u6144"],[63962,1,"\u6817"],[63963,1,"\u7387"],[63964,1,"\u9686"],[63965,1,"\u5229"],[63966,1,"\u540F"],[63967,1,"\u5C65"],[63968,1,"\u6613"],[63969,1,"\u674E"],[63970,1,"\u68A8"],[63971,1,"\u6CE5"],[63972,1,"\u7406"],[63973,1,"\u75E2"],[63974,1,"\u7F79"],[63975,1,"\u88CF"],[63976,1,"\u88E1"],[63977,1,"\u91CC"],[63978,1,"\u96E2"],[63979,1,"\u533F"],[63980,1,"\u6EBA"],[63981,1,"\u541D"],[63982,1,"\u71D0"],[63983,1,"\u7498"],[63984,1,"\u85FA"],[63985,1,"\u96A3"],[63986,1,"\u9C57"],[63987,1,"\u9E9F"],[63988,1,"\u6797"],[63989,1,"\u6DCB"],[63990,1,"\u81E8"],[63991,1,"\u7ACB"],[63992,1,"\u7B20"],[63993,1,"\u7C92"],[63994,1,"\u72C0"],[63995,1,"\u7099"],[63996,1,"\u8B58"],[63997,1,"\u4EC0"],[63998,1,"\u8336"],[63999,1,"\u523A"],[64000,1,"\u5207"],[64001,1,"\u5EA6"],[64002,1,"\u62D3"],[64003,1,"\u7CD6"],[64004,1,"\u5B85"],[64005,1,"\u6D1E"],[64006,1,"\u66B4"],[64007,1,"\u8F3B"],[64008,1,"\u884C"],[64009,1,"\u964D"],[64010,1,"\u898B"],[64011,1,"\u5ED3"],[64012,1,"\u5140"],[64013,1,"\u55C0"],[[64014,64015],2],[64016,1,"\u585A"],[64017,2],[64018,1,"\u6674"],[[64019,64020],2],[64021,1,"\u51DE"],[64022,1,"\u732A"],[64023,1,"\u76CA"],[64024,1,"\u793C"],[64025,1,"\u795E"],[64026,1,"\u7965"],[64027,1,"\u798F"],[64028,1,"\u9756"],[64029,1,"\u7CBE"],[64030,1,"\u7FBD"],[64031,2],[64032,1,"\u8612"],[64033,2],[64034,1,"\u8AF8"],[[64035,64036],2],[64037,1,"\u9038"],[64038,1,"\u90FD"],[[64039,64041],2],[64042,1,"\u98EF"],[64043,1,"\u98FC"],[64044,1,"\u9928"],[64045,1,"\u9DB4"],[64046,1,"\u90DE"],[64047,1,"\u96B7"],[64048,1,"\u4FAE"],[64049,1,"\u50E7"],[64050,1,"\u514D"],[64051,1,"\u52C9"],[64052,1,"\u52E4"],[64053,1,"\u5351"],[64054,1,"\u559D"],[64055,1,"\u5606"],[64056,1,"\u5668"],[64057,1,"\u5840"],[64058,1,"\u58A8"],[64059,1,"\u5C64"],[64060,1,"\u5C6E"],[64061,1,"\u6094"],[64062,1,"\u6168"],[64063,1,"\u618E"],[64064,1,"\u61F2"],[64065,1,"\u654F"],[64066,1,"\u65E2"],[64067,1,"\u6691"],[64068,1,"\u6885"],[64069,1,"\u6D77"],[64070,1,"\u6E1A"],[64071,1,"\u6F22"],[64072,1,"\u716E"],[64073,1,"\u722B"],[64074,1,"\u7422"],[64075,1,"\u7891"],[64076,1,"\u793E"],[64077,1,"\u7949"],[64078,1,"\u7948"],[64079,1,"\u7950"],[64080,1,"\u7956"],[64081,1,"\u795D"],[64082,1,"\u798D"],[64083,1,"\u798E"],[64084,1,"\u7A40"],[64085,1,"\u7A81"],[64086,1,"\u7BC0"],[64087,1,"\u7DF4"],[64088,1,"\u7E09"],[64089,1,"\u7E41"],[64090,1,"\u7F72"],[64091,1,"\u8005"],[64092,1,"\u81ED"],[[64093,64094],1,"\u8279"],[64095,1,"\u8457"],[64096,1,"\u8910"],[64097,1,"\u8996"],[64098,1,"\u8B01"],[64099,1,"\u8B39"],[64100,1,"\u8CD3"],[64101,1,"\u8D08"],[64102,1,"\u8FB6"],[64103,1,"\u9038"],[64104,1,"\u96E3"],[64105,1,"\u97FF"],[64106,1,"\u983B"],[64107,1,"\u6075"],[64108,1,"\uD850\uDEEE"],[64109,1,"\u8218"],[[64110,64111],3],[64112,1,"\u4E26"],[64113,1,"\u51B5"],[64114,1,"\u5168"],[64115,1,"\u4F80"],[64116,1,"\u5145"],[64117,1,"\u5180"],[64118,1,"\u52C7"],[64119,1,"\u52FA"],[64120,1,"\u559D"],[64121,1,"\u5555"],[64122,1,"\u5599"],[64123,1,"\u55E2"],[64124,1,"\u585A"],[64125,1,"\u58B3"],[64126,1,"\u5944"],[64127,1,"\u5954"],[64128,1,"\u5A62"],[64129,1,"\u5B28"],[64130,1,"\u5ED2"],[64131,1,"\u5ED9"],[64132,1,"\u5F69"],[64133,1,"\u5FAD"],[64134,1,"\u60D8"],[64135,1,"\u614E"],[64136,1,"\u6108"],[64137,1,"\u618E"],[64138,1,"\u6160"],[64139,1,"\u61F2"],[64140,1,"\u6234"],[64141,1,"\u63C4"],[64142,1,"\u641C"],[64143,1,"\u6452"],[64144,1,"\u6556"],[64145,1,"\u6674"],[64146,1,"\u6717"],[64147,1,"\u671B"],[64148,1,"\u6756"],[64149,1,"\u6B79"],[64150,1,"\u6BBA"],[64151,1,"\u6D41"],[64152,1,"\u6EDB"],[64153,1,"\u6ECB"],[64154,1,"\u6F22"],[64155,1,"\u701E"],[64156,1,"\u716E"],[64157,1,"\u77A7"],[64158,1,"\u7235"],[64159,1,"\u72AF"],[64160,1,"\u732A"],[64161,1,"\u7471"],[64162,1,"\u7506"],[64163,1,"\u753B"],[64164,1,"\u761D"],[64165,1,"\u761F"],[64166,1,"\u76CA"],[64167,1,"\u76DB"],[64168,1,"\u76F4"],[64169,1,"\u774A"],[64170,1,"\u7740"],[64171,1,"\u78CC"],[64172,1,"\u7AB1"],[64173,1,"\u7BC0"],[64174,1,"\u7C7B"],[64175,1,"\u7D5B"],[64176,1,"\u7DF4"],[64177,1,"\u7F3E"],[64178,1,"\u8005"],[64179,1,"\u8352"],[64180,1,"\u83EF"],[64181,1,"\u8779"],[64182,1,"\u8941"],[64183,1,"\u8986"],[64184,1,"\u8996"],[64185,1,"\u8ABF"],[64186,1,"\u8AF8"],[64187,1,"\u8ACB"],[64188,1,"\u8B01"],[64189,1,"\u8AFE"],[64190,1,"\u8AED"],[64191,1,"\u8B39"],[64192,1,"\u8B8A"],[64193,1,"\u8D08"],[64194,1,"\u8F38"],[64195,1,"\u9072"],[64196,1,"\u9199"],[64197,1,"\u9276"],[64198,1,"\u967C"],[64199,1,"\u96E3"],[64200,1,"\u9756"],[64201,1,"\u97DB"],[64202,1,"\u97FF"],[64203,1,"\u980B"],[64204,1,"\u983B"],[64205,1,"\u9B12"],[64206,1,"\u9F9C"],[64207,1,"\uD84A\uDC4A"],[64208,1,"\uD84A\uDC44"],[64209,1,"\uD84C\uDFD5"],[64210,1,"\u3B9D"],[64211,1,"\u4018"],[64212,1,"\u4039"],[64213,1,"\uD854\uDE49"],[64214,1,"\uD857\uDCD0"],[64215,1,"\uD85F\uDED3"],[64216,1,"\u9F43"],[64217,1,"\u9F8E"],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,"\u0574\u0576"],[64276,1,"\u0574\u0565"],[64277,1,"\u0574\u056B"],[64278,1,"\u057E\u0576"],[64279,1,"\u0574\u056D"],[[64280,64284],3],[64285,1,"\u05D9\u05B4"],[64286,2],[64287,1,"\u05F2\u05B7"],[64288,1,"\u05E2"],[64289,1,"\u05D0"],[64290,1,"\u05D3"],[64291,1,"\u05D4"],[64292,1,"\u05DB"],[64293,1,"\u05DC"],[64294,1,"\u05DD"],[64295,1,"\u05E8"],[64296,1,"\u05EA"],[64297,5,"+"],[64298,1,"\u05E9\u05C1"],[64299,1,"\u05E9\u05C2"],[64300,1,"\u05E9\u05BC\u05C1"],[64301,1,"\u05E9\u05BC\u05C2"],[64302,1,"\u05D0\u05B7"],[64303,1,"\u05D0\u05B8"],[64304,1,"\u05D0\u05BC"],[64305,1,"\u05D1\u05BC"],[64306,1,"\u05D2\u05BC"],[64307,1,"\u05D3\u05BC"],[64308,1,"\u05D4\u05BC"],[64309,1,"\u05D5\u05BC"],[64310,1,"\u05D6\u05BC"],[64311,3],[64312,1,"\u05D8\u05BC"],[64313,1,"\u05D9\u05BC"],[64314,1,"\u05DA\u05BC"],[64315,1,"\u05DB\u05BC"],[64316,1,"\u05DC\u05BC"],[64317,3],[64318,1,"\u05DE\u05BC"],[64319,3],[64320,1,"\u05E0\u05BC"],[64321,1,"\u05E1\u05BC"],[64322,3],[64323,1,"\u05E3\u05BC"],[64324,1,"\u05E4\u05BC"],[64325,3],[64326,1,"\u05E6\u05BC"],[64327,1,"\u05E7\u05BC"],[64328,1,"\u05E8\u05BC"],[64329,1,"\u05E9\u05BC"],[64330,1,"\u05EA\u05BC"],[64331,1,"\u05D5\u05B9"],[64332,1,"\u05D1\u05BF"],[64333,1,"\u05DB\u05BF"],[64334,1,"\u05E4\u05BF"],[64335,1,"\u05D0\u05DC"],[[64336,64337],1,"\u0671"],[[64338,64341],1,"\u067B"],[[64342,64345],1,"\u067E"],[[64346,64349],1,"\u0680"],[[64350,64353],1,"\u067A"],[[64354,64357],1,"\u067F"],[[64358,64361],1,"\u0679"],[[64362,64365],1,"\u06A4"],[[64366,64369],1,"\u06A6"],[[64370,64373],1,"\u0684"],[[64374,64377],1,"\u0683"],[[64378,64381],1,"\u0686"],[[64382,64385],1,"\u0687"],[[64386,64387],1,"\u068D"],[[64388,64389],1,"\u068C"],[[64390,64391],1,"\u068E"],[[64392,64393],1,"\u0688"],[[64394,64395],1,"\u0698"],[[64396,64397],1,"\u0691"],[[64398,64401],1,"\u06A9"],[[64402,64405],1,"\u06AF"],[[64406,64409],1,"\u06B3"],[[64410,64413],1,"\u06B1"],[[64414,64415],1,"\u06BA"],[[64416,64419],1,"\u06BB"],[[64420,64421],1,"\u06C0"],[[64422,64425],1,"\u06C1"],[[64426,64429],1,"\u06BE"],[[64430,64431],1,"\u06D2"],[[64432,64433],1,"\u06D3"],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,"\u06AD"],[[64471,64472],1,"\u06C7"],[[64473,64474],1,"\u06C6"],[[64475,64476],1,"\u06C8"],[64477,1,"\u06C7\u0674"],[[64478,64479],1,"\u06CB"],[[64480,64481],1,"\u06C5"],[[64482,64483],1,"\u06C9"],[[64484,64487],1,"\u06D0"],[[64488,64489],1,"\u0649"],[[64490,64491],1,"\u0626\u0627"],[[64492,64493],1,"\u0626\u06D5"],[[64494,64495],1,"\u0626\u0648"],[[64496,64497],1,"\u0626\u06C7"],[[64498,64499],1,"\u0626\u06C6"],[[64500,64501],1,"\u0626\u06C8"],[[64502,64504],1,"\u0626\u06D0"],[[64505,64507],1,"\u0626\u0649"],[[64508,64511],1,"\u06CC"],[64512,1,"\u0626\u062C"],[64513,1,"\u0626\u062D"],[64514,1,"\u0626\u0645"],[64515,1,"\u0626\u0649"],[64516,1,"\u0626\u064A"],[64517,1,"\u0628\u062C"],[64518,1,"\u0628\u062D"],[64519,1,"\u0628\u062E"],[64520,1,"\u0628\u0645"],[64521,1,"\u0628\u0649"],[64522,1,"\u0628\u064A"],[64523,1,"\u062A\u062C"],[64524,1,"\u062A\u062D"],[64525,1,"\u062A\u062E"],[64526,1,"\u062A\u0645"],[64527,1,"\u062A\u0649"],[64528,1,"\u062A\u064A"],[64529,1,"\u062B\u062C"],[64530,1,"\u062B\u0645"],[64531,1,"\u062B\u0649"],[64532,1,"\u062B\u064A"],[64533,1,"\u062C\u062D"],[64534,1,"\u062C\u0645"],[64535,1,"\u062D\u062C"],[64536,1,"\u062D\u0645"],[64537,1,"\u062E\u062C"],[64538,1,"\u062E\u062D"],[64539,1,"\u062E\u0645"],[64540,1,"\u0633\u062C"],[64541,1,"\u0633\u062D"],[64542,1,"\u0633\u062E"],[64543,1,"\u0633\u0645"],[64544,1,"\u0635\u062D"],[64545,1,"\u0635\u0645"],[64546,1,"\u0636\u062C"],[64547,1,"\u0636\u062D"],[64548,1,"\u0636\u062E"],[64549,1,"\u0636\u0645"],[64550,1,"\u0637\u062D"],[64551,1,"\u0637\u0645"],[64552,1,"\u0638\u0645"],[64553,1,"\u0639\u062C"],[64554,1,"\u0639\u0645"],[64555,1,"\u063A\u062C"],[64556,1,"\u063A\u0645"],[64557,1,"\u0641\u062C"],[64558,1,"\u0641\u062D"],[64559,1,"\u0641\u062E"],[64560,1,"\u0641\u0645"],[64561,1,"\u0641\u0649"],[64562,1,"\u0641\u064A"],[64563,1,"\u0642\u062D"],[64564,1,"\u0642\u0645"],[64565,1,"\u0642\u0649"],[64566,1,"\u0642\u064A"],[64567,1,"\u0643\u0627"],[64568,1,"\u0643\u062C"],[64569,1,"\u0643\u062D"],[64570,1,"\u0643\u062E"],[64571,1,"\u0643\u0644"],[64572,1,"\u0643\u0645"],[64573,1,"\u0643\u0649"],[64574,1,"\u0643\u064A"],[64575,1,"\u0644\u062C"],[64576,1,"\u0644\u062D"],[64577,1,"\u0644\u062E"],[64578,1,"\u0644\u0645"],[64579,1,"\u0644\u0649"],[64580,1,"\u0644\u064A"],[64581,1,"\u0645\u062C"],[64582,1,"\u0645\u062D"],[64583,1,"\u0645\u062E"],[64584,1,"\u0645\u0645"],[64585,1,"\u0645\u0649"],[64586,1,"\u0645\u064A"],[64587,1,"\u0646\u062C"],[64588,1,"\u0646\u062D"],[64589,1,"\u0646\u062E"],[64590,1,"\u0646\u0645"],[64591,1,"\u0646\u0649"],[64592,1,"\u0646\u064A"],[64593,1,"\u0647\u062C"],[64594,1,"\u0647\u0645"],[64595,1,"\u0647\u0649"],[64596,1,"\u0647\u064A"],[64597,1,"\u064A\u062C"],[64598,1,"\u064A\u062D"],[64599,1,"\u064A\u062E"],[64600,1,"\u064A\u0645"],[64601,1,"\u064A\u0649"],[64602,1,"\u064A\u064A"],[64603,1,"\u0630\u0670"],[64604,1,"\u0631\u0670"],[64605,1,"\u0649\u0670"],[64606,5," \u064C\u0651"],[64607,5," \u064D\u0651"],[64608,5," \u064E\u0651"],[64609,5," \u064F\u0651"],[64610,5," \u0650\u0651"],[64611,5," \u0651\u0670"],[64612,1,"\u0626\u0631"],[64613,1,"\u0626\u0632"],[64614,1,"\u0626\u0645"],[64615,1,"\u0626\u0646"],[64616,1,"\u0626\u0649"],[64617,1,"\u0626\u064A"],[64618,1,"\u0628\u0631"],[64619,1,"\u0628\u0632"],[64620,1,"\u0628\u0645"],[64621,1,"\u0628\u0646"],[64622,1,"\u0628\u0649"],[64623,1,"\u0628\u064A"],[64624,1,"\u062A\u0631"],[64625,1,"\u062A\u0632"],[64626,1,"\u062A\u0645"],[64627,1,"\u062A\u0646"],[64628,1,"\u062A\u0649"],[64629,1,"\u062A\u064A"],[64630,1,"\u062B\u0631"],[64631,1,"\u062B\u0632"],[64632,1,"\u062B\u0645"],[64633,1,"\u062B\u0646"],[64634,1,"\u062B\u0649"],[64635,1,"\u062B\u064A"],[64636,1,"\u0641\u0649"],[64637,1,"\u0641\u064A"],[64638,1,"\u0642\u0649"],[64639,1,"\u0642\u064A"],[64640,1,"\u0643\u0627"],[64641,1,"\u0643\u0644"],[64642,1,"\u0643\u0645"],[64643,1,"\u0643\u0649"],[64644,1,"\u0643\u064A"],[64645,1,"\u0644\u0645"],[64646,1,"\u0644\u0649"],[64647,1,"\u0644\u064A"],[64648,1,"\u0645\u0627"],[64649,1,"\u0645\u0645"],[64650,1,"\u0646\u0631"],[64651,1,"\u0646\u0632"],[64652,1,"\u0646\u0645"],[64653,1,"\u0646\u0646"],[64654,1,"\u0646\u0649"],[64655,1,"\u0646\u064A"],[64656,1,"\u0649\u0670"],[64657,1,"\u064A\u0631"],[64658,1,"\u064A\u0632"],[64659,1,"\u064A\u0645"],[64660,1,"\u064A\u0646"],[64661,1,"\u064A\u0649"],[64662,1,"\u064A\u064A"],[64663,1,"\u0626\u062C"],[64664,1,"\u0626\u062D"],[64665,1,"\u0626\u062E"],[64666,1,"\u0626\u0645"],[64667,1,"\u0626\u0647"],[64668,1,"\u0628\u062C"],[64669,1,"\u0628\u062D"],[64670,1,"\u0628\u062E"],[64671,1,"\u0628\u0645"],[64672,1,"\u0628\u0647"],[64673,1,"\u062A\u062C"],[64674,1,"\u062A\u062D"],[64675,1,"\u062A\u062E"],[64676,1,"\u062A\u0645"],[64677,1,"\u062A\u0647"],[64678,1,"\u062B\u0645"],[64679,1,"\u062C\u062D"],[64680,1,"\u062C\u0645"],[64681,1,"\u062D\u062C"],[64682,1,"\u062D\u0645"],[64683,1,"\u062E\u062C"],[64684,1,"\u062E\u0645"],[64685,1,"\u0633\u062C"],[64686,1,"\u0633\u062D"],[64687,1,"\u0633\u062E"],[64688,1,"\u0633\u0645"],[64689,1,"\u0635\u062D"],[64690,1,"\u0635\u062E"],[64691,1,"\u0635\u0645"],[64692,1,"\u0636\u062C"],[64693,1,"\u0636\u062D"],[64694,1,"\u0636\u062E"],[64695,1,"\u0636\u0645"],[64696,1,"\u0637\u062D"],[64697,1,"\u0638\u0645"],[64698,1,"\u0639\u062C"],[64699,1,"\u0639\u0645"],[64700,1,"\u063A\u062C"],[64701,1,"\u063A\u0645"],[64702,1,"\u0641\u062C"],[64703,1,"\u0641\u062D"],[64704,1,"\u0641\u062E"],[64705,1,"\u0641\u0645"],[64706,1,"\u0642\u062D"],[64707,1,"\u0642\u0645"],[64708,1,"\u0643\u062C"],[64709,1,"\u0643\u062D"],[64710,1,"\u0643\u062E"],[64711,1,"\u0643\u0644"],[64712,1,"\u0643\u0645"],[64713,1,"\u0644\u062C"],[64714,1,"\u0644\u062D"],[64715,1,"\u0644\u062E"],[64716,1,"\u0644\u0645"],[64717,1,"\u0644\u0647"],[64718,1,"\u0645\u062C"],[64719,1,"\u0645\u062D"],[64720,1,"\u0645\u062E"],[64721,1,"\u0645\u0645"],[64722,1,"\u0646\u062C"],[64723,1,"\u0646\u062D"],[64724,1,"\u0646\u062E"],[64725,1,"\u0646\u0645"],[64726,1,"\u0646\u0647"],[64727,1,"\u0647\u062C"],[64728,1,"\u0647\u0645"],[64729,1,"\u0647\u0670"],[64730,1,"\u064A\u062C"],[64731,1,"\u064A\u062D"],[64732,1,"\u064A\u062E"],[64733,1,"\u064A\u0645"],[64734,1,"\u064A\u0647"],[64735,1,"\u0626\u0645"],[64736,1,"\u0626\u0647"],[64737,1,"\u0628\u0645"],[64738,1,"\u0628\u0647"],[64739,1,"\u062A\u0645"],[64740,1,"\u062A\u0647"],[64741,1,"\u062B\u0645"],[64742,1,"\u062B\u0647"],[64743,1,"\u0633\u0645"],[64744,1,"\u0633\u0647"],[64745,1,"\u0634\u0645"],[64746,1,"\u0634\u0647"],[64747,1,"\u0643\u0644"],[64748,1,"\u0643\u0645"],[64749,1,"\u0644\u0645"],[64750,1,"\u0646\u0645"],[64751,1,"\u0646\u0647"],[64752,1,"\u064A\u0645"],[64753,1,"\u064A\u0647"],[64754,1,"\u0640\u064E\u0651"],[64755,1,"\u0640\u064F\u0651"],[64756,1,"\u0640\u0650\u0651"],[64757,1,"\u0637\u0649"],[64758,1,"\u0637\u064A"],[64759,1,"\u0639\u0649"],[64760,1,"\u0639\u064A"],[64761,1,"\u063A\u0649"],[64762,1,"\u063A\u064A"],[64763,1,"\u0633\u0649"],[64764,1,"\u0633\u064A"],[64765,1,"\u0634\u0649"],[64766,1,"\u0634\u064A"],[64767,1,"\u062D\u0649"],[64768,1,"\u062D\u064A"],[64769,1,"\u062C\u0649"],[64770,1,"\u062C\u064A"],[64771,1,"\u062E\u0649"],[64772,1,"\u062E\u064A"],[64773,1,"\u0635\u0649"],[64774,1,"\u0635\u064A"],[64775,1,"\u0636\u0649"],[64776,1,"\u0636\u064A"],[64777,1,"\u0634\u062C"],[64778,1,"\u0634\u062D"],[64779,1,"\u0634\u062E"],[64780,1,"\u0634\u0645"],[64781,1,"\u0634\u0631"],[64782,1,"\u0633\u0631"],[64783,1,"\u0635\u0631"],[64784,1,"\u0636\u0631"],[64785,1,"\u0637\u0649"],[64786,1,"\u0637\u064A"],[64787,1,"\u0639\u0649"],[64788,1,"\u0639\u064A"],[64789,1,"\u063A\u0649"],[64790,1,"\u063A\u064A"],[64791,1,"\u0633\u0649"],[64792,1,"\u0633\u064A"],[64793,1,"\u0634\u0649"],[64794,1,"\u0634\u064A"],[64795,1,"\u062D\u0649"],[64796,1,"\u062D\u064A"],[64797,1,"\u062C\u0649"],[64798,1,"\u062C\u064A"],[64799,1,"\u062E\u0649"],[64800,1,"\u062E\u064A"],[64801,1,"\u0635\u0649"],[64802,1,"\u0635\u064A"],[64803,1,"\u0636\u0649"],[64804,1,"\u0636\u064A"],[64805,1,"\u0634\u062C"],[64806,1,"\u0634\u062D"],[64807,1,"\u0634\u062E"],[64808,1,"\u0634\u0645"],[64809,1,"\u0634\u0631"],[64810,1,"\u0633\u0631"],[64811,1,"\u0635\u0631"],[64812,1,"\u0636\u0631"],[64813,1,"\u0634\u062C"],[64814,1,"\u0634\u062D"],[64815,1,"\u0634\u062E"],[64816,1,"\u0634\u0645"],[64817,1,"\u0633\u0647"],[64818,1,"\u0634\u0647"],[64819,1,"\u0637\u0645"],[64820,1,"\u0633\u062C"],[64821,1,"\u0633\u062D"],[64822,1,"\u0633\u062E"],[64823,1,"\u0634\u062C"],[64824,1,"\u0634\u062D"],[64825,1,"\u0634\u062E"],[64826,1,"\u0637\u0645"],[64827,1,"\u0638\u0645"],[[64828,64829],1,"\u0627\u064B"],[[64830,64831],2],[[64832,64847],2],[64848,1,"\u062A\u062C\u0645"],[[64849,64850],1,"\u062A\u062D\u062C"],[64851,1,"\u062A\u062D\u0645"],[64852,1,"\u062A\u062E\u0645"],[64853,1,"\u062A\u0645\u062C"],[64854,1,"\u062A\u0645\u062D"],[64855,1,"\u062A\u0645\u062E"],[[64856,64857],1,"\u062C\u0645\u062D"],[64858,1,"\u062D\u0645\u064A"],[64859,1,"\u062D\u0645\u0649"],[64860,1,"\u0633\u062D\u062C"],[64861,1,"\u0633\u062C\u062D"],[64862,1,"\u0633\u062C\u0649"],[[64863,64864],1,"\u0633\u0645\u062D"],[64865,1,"\u0633\u0645\u062C"],[[64866,64867],1,"\u0633\u0645\u0645"],[[64868,64869],1,"\u0635\u062D\u062D"],[64870,1,"\u0635\u0645\u0645"],[[64871,64872],1,"\u0634\u062D\u0645"],[64873,1,"\u0634\u062C\u064A"],[[64874,64875],1,"\u0634\u0645\u062E"],[[64876,64877],1,"\u0634\u0645\u0645"],[64878,1,"\u0636\u062D\u0649"],[[64879,64880],1,"\u0636\u062E\u0645"],[[64881,64882],1,"\u0637\u0645\u062D"],[64883,1,"\u0637\u0645\u0645"],[64884,1,"\u0637\u0645\u064A"],[64885,1,"\u0639\u062C\u0645"],[[64886,64887],1,"\u0639\u0645\u0645"],[64888,1,"\u0639\u0645\u0649"],[64889,1,"\u063A\u0645\u0645"],[64890,1,"\u063A\u0645\u064A"],[64891,1,"\u063A\u0645\u0649"],[[64892,64893],1,"\u0641\u062E\u0645"],[64894,1,"\u0642\u0645\u062D"],[64895,1,"\u0642\u0645\u0645"],[64896,1,"\u0644\u062D\u0645"],[64897,1,"\u0644\u062D\u064A"],[64898,1,"\u0644\u062D\u0649"],[[64899,64900],1,"\u0644\u062C\u062C"],[[64901,64902],1,"\u0644\u062E\u0645"],[[64903,64904],1,"\u0644\u0645\u062D"],[64905,1,"\u0645\u062D\u062C"],[64906,1,"\u0645\u062D\u0645"],[64907,1,"\u0645\u062D\u064A"],[64908,1,"\u0645\u062C\u062D"],[64909,1,"\u0645\u062C\u0645"],[64910,1,"\u0645\u062E\u062C"],[64911,1,"\u0645\u062E\u0645"],[[64912,64913],3],[64914,1,"\u0645\u062C\u062E"],[64915,1,"\u0647\u0645\u062C"],[64916,1,"\u0647\u0645\u0645"],[64917,1,"\u0646\u062D\u0645"],[64918,1,"\u0646\u062D\u0649"],[[64919,64920],1,"\u0646\u062C\u0645"],[64921,1,"\u0646\u062C\u0649"],[64922,1,"\u0646\u0645\u064A"],[64923,1,"\u0646\u0645\u0649"],[[64924,64925],1,"\u064A\u0645\u0645"],[64926,1,"\u0628\u062E\u064A"],[64927,1,"\u062A\u062C\u064A"],[64928,1,"\u062A\u062C\u0649"],[64929,1,"\u062A\u062E\u064A"],[64930,1,"\u062A\u062E\u0649"],[64931,1,"\u062A\u0645\u064A"],[64932,1,"\u062A\u0645\u0649"],[64933,1,"\u062C\u0645\u064A"],[64934,1,"\u062C\u062D\u0649"],[64935,1,"\u062C\u0645\u0649"],[64936,1,"\u0633\u062E\u0649"],[64937,1,"\u0635\u062D\u064A"],[64938,1,"\u0634\u062D\u064A"],[64939,1,"\u0636\u062D\u064A"],[64940,1,"\u0644\u062C\u064A"],[64941,1,"\u0644\u0645\u064A"],[64942,1,"\u064A\u062D\u064A"],[64943,1,"\u064A\u062C\u064A"],[64944,1,"\u064A\u0645\u064A"],[64945,1,"\u0645\u0645\u064A"],[64946,1,"\u0642\u0645\u064A"],[64947,1,"\u0646\u062D\u064A"],[64948,1,"\u0642\u0645\u062D"],[64949,1,"\u0644\u062D\u0645"],[64950,1,"\u0639\u0645\u064A"],[64951,1,"\u0643\u0645\u064A"],[64952,1,"\u0646\u062C\u062D"],[64953,1,"\u0645\u062E\u064A"],[64954,1,"\u0644\u062C\u0645"],[64955,1,"\u0643\u0645\u0645"],[64956,1,"\u0644\u062C\u0645"],[64957,1,"\u0646\u062C\u062D"],[64958,1,"\u062C\u062D\u064A"],[64959,1,"\u062D\u062C\u064A"],[64960,1,"\u0645\u062C\u064A"],[64961,1,"\u0641\u0645\u064A"],[64962,1,"\u0628\u062D\u064A"],[64963,1,"\u0643\u0645\u0645"],[64964,1,"\u0639\u062C\u0645"],[64965,1,"\u0635\u0645\u0645"],[64966,1,"\u0633\u062E\u064A"],[64967,1,"\u0646\u062C\u064A"],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,"\u0635\u0644\u06D2"],[65009,1,"\u0642\u0644\u06D2"],[65010,1,"\u0627\u0644\u0644\u0647"],[65011,1,"\u0627\u0643\u0628\u0631"],[65012,1,"\u0645\u062D\u0645\u062F"],[65013,1,"\u0635\u0644\u0639\u0645"],[65014,1,"\u0631\u0633\u0648\u0644"],[65015,1,"\u0639\u0644\u064A\u0647"],[65016,1,"\u0648\u0633\u0644\u0645"],[65017,1,"\u0635\u0644\u0649"],[65018,5,"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064A\u0647 \u0648\u0633\u0644\u0645"],[65019,5,"\u062C\u0644 \u062C\u0644\u0627\u0644\u0647"],[65020,1,"\u0631\u06CC\u0627\u0644"],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,"\u3001"],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,"\u3016"],[65048,1,"\u3017"],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,"\u2014"],[65074,1,"\u2013"],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,"\u3014"],[65082,1,"\u3015"],[65083,1,"\u3010"],[65084,1,"\u3011"],[65085,1,"\u300A"],[65086,1,"\u300B"],[65087,1,"\u3008"],[65088,1,"\u3009"],[65089,1,"\u300C"],[65090,1,"\u300D"],[65091,1,"\u300E"],[65092,1,"\u300F"],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," \u0305"],[[65101,65103],5,"_"],[65104,5,","],[65105,1,"\u3001"],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,"\u2014"],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,"\u3014"],[65118,1,"\u3015"],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," \u064B"],[65137,1,"\u0640\u064B"],[65138,5," \u064C"],[65139,2],[65140,5," \u064D"],[65141,3],[65142,5," \u064E"],[65143,1,"\u0640\u064E"],[65144,5," \u064F"],[65145,1,"\u0640\u064F"],[65146,5," \u0650"],[65147,1,"\u0640\u0650"],[65148,5," \u0651"],[65149,1,"\u0640\u0651"],[65150,5," \u0652"],[65151,1,"\u0640\u0652"],[65152,1,"\u0621"],[[65153,65154],1,"\u0622"],[[65155,65156],1,"\u0623"],[[65157,65158],1,"\u0624"],[[65159,65160],1,"\u0625"],[[65161,65164],1,"\u0626"],[[65165,65166],1,"\u0627"],[[65167,65170],1,"\u0628"],[[65171,65172],1,"\u0629"],[[65173,65176],1,"\u062A"],[[65177,65180],1,"\u062B"],[[65181,65184],1,"\u062C"],[[65185,65188],1,"\u062D"],[[65189,65192],1,"\u062E"],[[65193,65194],1,"\u062F"],[[65195,65196],1,"\u0630"],[[65197,65198],1,"\u0631"],[[65199,65200],1,"\u0632"],[[65201,65204],1,"\u0633"],[[65205,65208],1,"\u0634"],[[65209,65212],1,"\u0635"],[[65213,65216],1,"\u0636"],[[65217,65220],1,"\u0637"],[[65221,65224],1,"\u0638"],[[65225,65228],1,"\u0639"],[[65229,65232],1,"\u063A"],[[65233,65236],1,"\u0641"],[[65237,65240],1,"\u0642"],[[65241,65244],1,"\u0643"],[[65245,65248],1,"\u0644"],[[65249,65252],1,"\u0645"],[[65253,65256],1,"\u0646"],[[65257,65260],1,"\u0647"],[[65261,65262],1,"\u0648"],[[65263,65264],1,"\u0649"],[[65265,65268],1,"\u064A"],[[65269,65270],1,"\u0644\u0622"],[[65271,65272],1,"\u0644\u0623"],[[65273,65274],1,"\u0644\u0625"],[[65275,65276],1,"\u0644\u0627"],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,"\""],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,"\u2985"],[65376,1,"\u2986"],[65377,1,"."],[65378,1,"\u300C"],[65379,1,"\u300D"],[65380,1,"\u3001"],[65381,1,"\u30FB"],[65382,1,"\u30F2"],[65383,1,"\u30A1"],[65384,1,"\u30A3"],[65385,1,"\u30A5"],[65386,1,"\u30A7"],[65387,1,"\u30A9"],[65388,1,"\u30E3"],[65389,1,"\u30E5"],[65390,1,"\u30E7"],[65391,1,"\u30C3"],[65392,1,"\u30FC"],[65393,1,"\u30A2"],[65394,1,"\u30A4"],[65395,1,"\u30A6"],[65396,1,"\u30A8"],[65397,1,"\u30AA"],[65398,1,"\u30AB"],[65399,1,"\u30AD"],[65400,1,"\u30AF"],[65401,1,"\u30B1"],[65402,1,"\u30B3"],[65403,1,"\u30B5"],[65404,1,"\u30B7"],[65405,1,"\u30B9"],[65406,1,"\u30BB"],[65407,1,"\u30BD"],[65408,1,"\u30BF"],[65409,1,"\u30C1"],[65410,1,"\u30C4"],[65411,1,"\u30C6"],[65412,1,"\u30C8"],[65413,1,"\u30CA"],[65414,1,"\u30CB"],[65415,1,"\u30CC"],[65416,1,"\u30CD"],[65417,1,"\u30CE"],[65418,1,"\u30CF"],[65419,1,"\u30D2"],[65420,1,"\u30D5"],[65421,1,"\u30D8"],[65422,1,"\u30DB"],[65423,1,"\u30DE"],[65424,1,"\u30DF"],[65425,1,"\u30E0"],[65426,1,"\u30E1"],[65427,1,"\u30E2"],[65428,1,"\u30E4"],[65429,1,"\u30E6"],[65430,1,"\u30E8"],[65431,1,"\u30E9"],[65432,1,"\u30EA"],[65433,1,"\u30EB"],[65434,1,"\u30EC"],[65435,1,"\u30ED"],[65436,1,"\u30EF"],[65437,1,"\u30F3"],[65438,1,"\u3099"],[65439,1,"\u309A"],[65440,3],[65441,1,"\u1100"],[65442,1,"\u1101"],[65443,1,"\u11AA"],[65444,1,"\u1102"],[65445,1,"\u11AC"],[65446,1,"\u11AD"],[65447,1,"\u1103"],[65448,1,"\u1104"],[65449,1,"\u1105"],[65450,1,"\u11B0"],[65451,1,"\u11B1"],[65452,1,"\u11B2"],[65453,1,"\u11B3"],[65454,1,"\u11B4"],[65455,1,"\u11B5"],[65456,1,"\u111A"],[65457,1,"\u1106"],[65458,1,"\u1107"],[65459,1,"\u1108"],[65460,1,"\u1121"],[65461,1,"\u1109"],[65462,1,"\u110A"],[65463,1,"\u110B"],[65464,1,"\u110C"],[65465,1,"\u110D"],[65466,1,"\u110E"],[65467,1,"\u110F"],[65468,1,"\u1110"],[65469,1,"\u1111"],[65470,1,"\u1112"],[[65471,65473],3],[65474,1,"\u1161"],[65475,1,"\u1162"],[65476,1,"\u1163"],[65477,1,"\u1164"],[65478,1,"\u1165"],[65479,1,"\u1166"],[[65480,65481],3],[65482,1,"\u1167"],[65483,1,"\u1168"],[65484,1,"\u1169"],[65485,1,"\u116A"],[65486,1,"\u116B"],[65487,1,"\u116C"],[[65488,65489],3],[65490,1,"\u116D"],[65491,1,"\u116E"],[65492,1,"\u116F"],[65493,1,"\u1170"],[65494,1,"\u1171"],[65495,1,"\u1172"],[[65496,65497],3],[65498,1,"\u1173"],[65499,1,"\u1174"],[65500,1,"\u1175"],[[65501,65503],3],[65504,1,"\xA2"],[65505,1,"\xA3"],[65506,1,"\xAC"],[65507,5," \u0304"],[65508,1,"\xA6"],[65509,1,"\xA5"],[65510,1,"\u20A9"],[65511,3],[65512,1,"\u2502"],[65513,1,"\u2190"],[65514,1,"\u2191"],[65515,1,"\u2192"],[65516,1,"\u2193"],[65517,1,"\u25A0"],[65518,1,"\u25CB"],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66000,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,"\uD801\uDC28"],[66561,1,"\uD801\uDC29"],[66562,1,"\uD801\uDC2A"],[66563,1,"\uD801\uDC2B"],[66564,1,"\uD801\uDC2C"],[66565,1,"\uD801\uDC2D"],[66566,1,"\uD801\uDC2E"],[66567,1,"\uD801\uDC2F"],[66568,1,"\uD801\uDC30"],[66569,1,"\uD801\uDC31"],[66570,1,"\uD801\uDC32"],[66571,1,"\uD801\uDC33"],[66572,1,"\uD801\uDC34"],[66573,1,"\uD801\uDC35"],[66574,1,"\uD801\uDC36"],[66575,1,"\uD801\uDC37"],[66576,1,"\uD801\uDC38"],[66577,1,"\uD801\uDC39"],[66578,1,"\uD801\uDC3A"],[66579,1,"\uD801\uDC3B"],[66580,1,"\uD801\uDC3C"],[66581,1,"\uD801\uDC3D"],[66582,1,"\uD801\uDC3E"],[66583,1,"\uD801\uDC3F"],[66584,1,"\uD801\uDC40"],[66585,1,"\uD801\uDC41"],[66586,1,"\uD801\uDC42"],[66587,1,"\uD801\uDC43"],[66588,1,"\uD801\uDC44"],[66589,1,"\uD801\uDC45"],[66590,1,"\uD801\uDC46"],[66591,1,"\uD801\uDC47"],[66592,1,"\uD801\uDC48"],[66593,1,"\uD801\uDC49"],[66594,1,"\uD801\uDC4A"],[66595,1,"\uD801\uDC4B"],[66596,1,"\uD801\uDC4C"],[66597,1,"\uD801\uDC4D"],[66598,1,"\uD801\uDC4E"],[66599,1,"\uD801\uDC4F"],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,"\uD801\uDCD8"],[66737,1,"\uD801\uDCD9"],[66738,1,"\uD801\uDCDA"],[66739,1,"\uD801\uDCDB"],[66740,1,"\uD801\uDCDC"],[66741,1,"\uD801\uDCDD"],[66742,1,"\uD801\uDCDE"],[66743,1,"\uD801\uDCDF"],[66744,1,"\uD801\uDCE0"],[66745,1,"\uD801\uDCE1"],[66746,1,"\uD801\uDCE2"],[66747,1,"\uD801\uDCE3"],[66748,1,"\uD801\uDCE4"],[66749,1,"\uD801\uDCE5"],[66750,1,"\uD801\uDCE6"],[66751,1,"\uD801\uDCE7"],[66752,1,"\uD801\uDCE8"],[66753,1,"\uD801\uDCE9"],[66754,1,"\uD801\uDCEA"],[66755,1,"\uD801\uDCEB"],[66756,1,"\uD801\uDCEC"],[66757,1,"\uD801\uDCED"],[66758,1,"\uD801\uDCEE"],[66759,1,"\uD801\uDCEF"],[66760,1,"\uD801\uDCF0"],[66761,1,"\uD801\uDCF1"],[66762,1,"\uD801\uDCF2"],[66763,1,"\uD801\uDCF3"],[66764,1,"\uD801\uDCF4"],[66765,1,"\uD801\uDCF5"],[66766,1,"\uD801\uDCF6"],[66767,1,"\uD801\uDCF7"],[66768,1,"\uD801\uDCF8"],[66769,1,"\uD801\uDCF9"],[66770,1,"\uD801\uDCFA"],[66771,1,"\uD801\uDCFB"],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,"\uD801\uDD97"],[66929,1,"\uD801\uDD98"],[66930,1,"\uD801\uDD99"],[66931,1,"\uD801\uDD9A"],[66932,1,"\uD801\uDD9B"],[66933,1,"\uD801\uDD9C"],[66934,1,"\uD801\uDD9D"],[66935,1,"\uD801\uDD9E"],[66936,1,"\uD801\uDD9F"],[66937,1,"\uD801\uDDA0"],[66938,1,"\uD801\uDDA1"],[66939,3],[66940,1,"\uD801\uDDA3"],[66941,1,"\uD801\uDDA4"],[66942,1,"\uD801\uDDA5"],[66943,1,"\uD801\uDDA6"],[66944,1,"\uD801\uDDA7"],[66945,1,"\uD801\uDDA8"],[66946,1,"\uD801\uDDA9"],[66947,1,"\uD801\uDDAA"],[66948,1,"\uD801\uDDAB"],[66949,1,"\uD801\uDDAC"],[66950,1,"\uD801\uDDAD"],[66951,1,"\uD801\uDDAE"],[66952,1,"\uD801\uDDAF"],[66953,1,"\uD801\uDDB0"],[66954,1,"\uD801\uDDB1"],[66955,3],[66956,1,"\uD801\uDDB3"],[66957,1,"\uD801\uDDB4"],[66958,1,"\uD801\uDDB5"],[66959,1,"\uD801\uDDB6"],[66960,1,"\uD801\uDDB7"],[66961,1,"\uD801\uDDB8"],[66962,1,"\uD801\uDDB9"],[66963,3],[66964,1,"\uD801\uDDBB"],[66965,1,"\uD801\uDDBC"],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,"\u02D0"],[67458,1,"\u02D1"],[67459,1,"\xE6"],[67460,1,"\u0299"],[67461,1,"\u0253"],[67462,3],[67463,1,"\u02A3"],[67464,1,"\uAB66"],[67465,1,"\u02A5"],[67466,1,"\u02A4"],[67467,1,"\u0256"],[67468,1,"\u0257"],[67469,1,"\u1D91"],[67470,1,"\u0258"],[67471,1,"\u025E"],[67472,1,"\u02A9"],[67473,1,"\u0264"],[67474,1,"\u0262"],[67475,1,"\u0260"],[67476,1,"\u029B"],[67477,1,"\u0127"],[67478,1,"\u029C"],[67479,1,"\u0267"],[67480,1,"\u0284"],[67481,1,"\u02AA"],[67482,1,"\u02AB"],[67483,1,"\u026C"],[67484,1,"\uD837\uDF04"],[67485,1,"\uA78E"],[67486,1,"\u026E"],[67487,1,"\uD837\uDF05"],[67488,1,"\u028E"],[67489,1,"\uD837\uDF06"],[67490,1,"\xF8"],[67491,1,"\u0276"],[67492,1,"\u0277"],[67493,1,"q"],[67494,1,"\u027A"],[67495,1,"\uD837\uDF08"],[67496,1,"\u027D"],[67497,1,"\u027E"],[67498,1,"\u0280"],[67499,1,"\u02A8"],[67500,1,"\u02A6"],[67501,1,"\uAB67"],[67502,1,"\u02A7"],[67503,1,"\u0288"],[67504,1,"\u2C71"],[67505,3],[67506,1,"\u028F"],[67507,1,"\u02A1"],[67508,1,"\u02A2"],[67509,1,"\u0298"],[67510,1,"\u01C0"],[67511,1,"\u01C1"],[67512,1,"\u01C2"],[67513,1,"\uD837\uDF0A"],[67514,1,"\uD837\uDF1E"],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,"\uD803\uDCC0"],[68737,1,"\uD803\uDCC1"],[68738,1,"\uD803\uDCC2"],[68739,1,"\uD803\uDCC3"],[68740,1,"\uD803\uDCC4"],[68741,1,"\uD803\uDCC5"],[68742,1,"\uD803\uDCC6"],[68743,1,"\uD803\uDCC7"],[68744,1,"\uD803\uDCC8"],[68745,1,"\uD803\uDCC9"],[68746,1,"\uD803\uDCCA"],[68747,1,"\uD803\uDCCB"],[68748,1,"\uD803\uDCCC"],[68749,1,"\uD803\uDCCD"],[68750,1,"\uD803\uDCCE"],[68751,1,"\uD803\uDCCF"],[68752,1,"\uD803\uDCD0"],[68753,1,"\uD803\uDCD1"],[68754,1,"\uD803\uDCD2"],[68755,1,"\uD803\uDCD3"],[68756,1,"\uD803\uDCD4"],[68757,1,"\uD803\uDCD5"],[68758,1,"\uD803\uDCD6"],[68759,1,"\uD803\uDCD7"],[68760,1,"\uD803\uDCD8"],[68761,1,"\uD803\uDCD9"],[68762,1,"\uD803\uDCDA"],[68763,1,"\uD803\uDCDB"],[68764,1,"\uD803\uDCDC"],[68765,1,"\uD803\uDCDD"],[68766,1,"\uD803\uDCDE"],[68767,1,"\uD803\uDCDF"],[68768,1,"\uD803\uDCE0"],[68769,1,"\uD803\uDCE1"],[68770,1,"\uD803\uDCE2"],[68771,1,"\uD803\uDCE3"],[68772,1,"\uD803\uDCE4"],[68773,1,"\uD803\uDCE5"],[68774,1,"\uD803\uDCE6"],[68775,1,"\uD803\uDCE7"],[68776,1,"\uD803\uDCE8"],[68777,1,"\uD803\uDCE9"],[68778,1,"\uD803\uDCEA"],[68779,1,"\uD803\uDCEB"],[68780,1,"\uD803\uDCEC"],[68781,1,"\uD803\uDCED"],[68782,1,"\uD803\uDCEE"],[68783,1,"\uD803\uDCEF"],[68784,1,"\uD803\uDCF0"],[68785,1,"\uD803\uDCF1"],[68786,1,"\uD803\uDCF2"],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69375],3],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,"\uD806\uDCC0"],[71841,1,"\uD806\uDCC1"],[71842,1,"\uD806\uDCC2"],[71843,1,"\uD806\uDCC3"],[71844,1,"\uD806\uDCC4"],[71845,1,"\uD806\uDCC5"],[71846,1,"\uD806\uDCC6"],[71847,1,"\uD806\uDCC7"],[71848,1,"\uD806\uDCC8"],[71849,1,"\uD806\uDCC9"],[71850,1,"\uD806\uDCCA"],[71851,1,"\uD806\uDCCB"],[71852,1,"\uD806\uDCCC"],[71853,1,"\uD806\uDCCD"],[71854,1,"\uD806\uDCCE"],[71855,1,"\uD806\uDCCF"],[71856,1,"\uD806\uDCD0"],[71857,1,"\uD806\uDCD1"],[71858,1,"\uD806\uDCD2"],[71859,1,"\uD806\uDCD3"],[71860,1,"\uD806\uDCD4"],[71861,1,"\uD806\uDCD5"],[71862,1,"\uD806\uDCD6"],[71863,1,"\uD806\uDCD7"],[71864,1,"\uD806\uDCD8"],[71865,1,"\uD806\uDCD9"],[71866,1,"\uD806\uDCDA"],[71867,1,"\uD806\uDCDB"],[71868,1,"\uD806\uDCDC"],[71869,1,"\uD806\uDCDD"],[71870,1,"\uD806\uDCDE"],[71871,1,"\uD806\uDCDF"],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,3],[[78896,78904],3],[[78905,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,"\uD81B\uDE60"],[93761,1,"\uD81B\uDE61"],[93762,1,"\uD81B\uDE62"],[93763,1,"\uD81B\uDE63"],[93764,1,"\uD81B\uDE64"],[93765,1,"\uD81B\uDE65"],[93766,1,"\uD81B\uDE66"],[93767,1,"\uD81B\uDE67"],[93768,1,"\uD81B\uDE68"],[93769,1,"\uD81B\uDE69"],[93770,1,"\uD81B\uDE6A"],[93771,1,"\uD81B\uDE6B"],[93772,1,"\uD81B\uDE6C"],[93773,1,"\uD81B\uDE6D"],[93774,1,"\uD81B\uDE6E"],[93775,1,"\uD81B\uDE6F"],[93776,1,"\uD81B\uDE70"],[93777,1,"\uD81B\uDE71"],[93778,1,"\uD81B\uDE72"],[93779,1,"\uD81B\uDE73"],[93780,1,"\uD81B\uDE74"],[93781,1,"\uD81B\uDE75"],[93782,1,"\uD81B\uDE76"],[93783,1,"\uD81B\uDE77"],[93784,1,"\uD81B\uDE78"],[93785,1,"\uD81B\uDE79"],[93786,1,"\uD81B\uDE7A"],[93787,1,"\uD81B\uDE7B"],[93788,1,"\uD81B\uDE7C"],[93789,1,"\uD81B\uDE7D"],[93790,1,"\uD81B\uDE7E"],[93791,1,"\uD81B\uDE7F"],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110927],3],[[110928,110930],2],[[110931,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,"\uD834\uDD57\uD834\uDD65"],[119135,1,"\uD834\uDD58\uD834\uDD65"],[119136,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6E"],[119137,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6F"],[119138,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD70"],[119139,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD71"],[119140,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD72"],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,"\uD834\uDDB9\uD834\uDD65"],[119228,1,"\uD834\uDDBA\uD834\uDD65"],[119229,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6E"],[119230,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6E"],[119231,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6F"],[119232,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6F"],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[120000,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,"\u0131"],[120485,1,"\u0237"],[[120486,120487],3],[120488,1,"\u03B1"],[120489,1,"\u03B2"],[120490,1,"\u03B3"],[120491,1,"\u03B4"],[120492,1,"\u03B5"],[120493,1,"\u03B6"],[120494,1,"\u03B7"],[120495,1,"\u03B8"],[120496,1,"\u03B9"],[120497,1,"\u03BA"],[120498,1,"\u03BB"],[120499,1,"\u03BC"],[120500,1,"\u03BD"],[120501,1,"\u03BE"],[120502,1,"\u03BF"],[120503,1,"\u03C0"],[120504,1,"\u03C1"],[120505,1,"\u03B8"],[120506,1,"\u03C3"],[120507,1,"\u03C4"],[120508,1,"\u03C5"],[120509,1,"\u03C6"],[120510,1,"\u03C7"],[120511,1,"\u03C8"],[120512,1,"\u03C9"],[120513,1,"\u2207"],[120514,1,"\u03B1"],[120515,1,"\u03B2"],[120516,1,"\u03B3"],[120517,1,"\u03B4"],[120518,1,"\u03B5"],[120519,1,"\u03B6"],[120520,1,"\u03B7"],[120521,1,"\u03B8"],[120522,1,"\u03B9"],[120523,1,"\u03BA"],[120524,1,"\u03BB"],[120525,1,"\u03BC"],[120526,1,"\u03BD"],[120527,1,"\u03BE"],[120528,1,"\u03BF"],[120529,1,"\u03C0"],[120530,1,"\u03C1"],[[120531,120532],1,"\u03C3"],[120533,1,"\u03C4"],[120534,1,"\u03C5"],[120535,1,"\u03C6"],[120536,1,"\u03C7"],[120537,1,"\u03C8"],[120538,1,"\u03C9"],[120539,1,"\u2202"],[120540,1,"\u03B5"],[120541,1,"\u03B8"],[120542,1,"\u03BA"],[120543,1,"\u03C6"],[120544,1,"\u03C1"],[120545,1,"\u03C0"],[120546,1,"\u03B1"],[120547,1,"\u03B2"],[120548,1,"\u03B3"],[120549,1,"\u03B4"],[120550,1,"\u03B5"],[120551,1,"\u03B6"],[120552,1,"\u03B7"],[120553,1,"\u03B8"],[120554,1,"\u03B9"],[120555,1,"\u03BA"],[120556,1,"\u03BB"],[120557,1,"\u03BC"],[120558,1,"\u03BD"],[120559,1,"\u03BE"],[120560,1,"\u03BF"],[120561,1,"\u03C0"],[120562,1,"\u03C1"],[120563,1,"\u03B8"],[120564,1,"\u03C3"],[120565,1,"\u03C4"],[120566,1,"\u03C5"],[120567,1,"\u03C6"],[120568,1,"\u03C7"],[120569,1,"\u03C8"],[120570,1,"\u03C9"],[120571,1,"\u2207"],[120572,1,"\u03B1"],[120573,1,"\u03B2"],[120574,1,"\u03B3"],[120575,1,"\u03B4"],[120576,1,"\u03B5"],[120577,1,"\u03B6"],[120578,1,"\u03B7"],[120579,1,"\u03B8"],[120580,1,"\u03B9"],[120581,1,"\u03BA"],[120582,1,"\u03BB"],[120583,1,"\u03BC"],[120584,1,"\u03BD"],[120585,1,"\u03BE"],[120586,1,"\u03BF"],[120587,1,"\u03C0"],[120588,1,"\u03C1"],[[120589,120590],1,"\u03C3"],[120591,1,"\u03C4"],[120592,1,"\u03C5"],[120593,1,"\u03C6"],[120594,1,"\u03C7"],[120595,1,"\u03C8"],[120596,1,"\u03C9"],[120597,1,"\u2202"],[120598,1,"\u03B5"],[120599,1,"\u03B8"],[120600,1,"\u03BA"],[120601,1,"\u03C6"],[120602,1,"\u03C1"],[120603,1,"\u03C0"],[120604,1,"\u03B1"],[120605,1,"\u03B2"],[120606,1,"\u03B3"],[120607,1,"\u03B4"],[120608,1,"\u03B5"],[120609,1,"\u03B6"],[120610,1,"\u03B7"],[120611,1,"\u03B8"],[120612,1,"\u03B9"],[120613,1,"\u03BA"],[120614,1,"\u03BB"],[120615,1,"\u03BC"],[120616,1,"\u03BD"],[120617,1,"\u03BE"],[120618,1,"\u03BF"],[120619,1,"\u03C0"],[120620,1,"\u03C1"],[120621,1,"\u03B8"],[120622,1,"\u03C3"],[120623,1,"\u03C4"],[120624,1,"\u03C5"],[120625,1,"\u03C6"],[120626,1,"\u03C7"],[120627,1,"\u03C8"],[120628,1,"\u03C9"],[120629,1,"\u2207"],[120630,1,"\u03B1"],[120631,1,"\u03B2"],[120632,1,"\u03B3"],[120633,1,"\u03B4"],[120634,1,"\u03B5"],[120635,1,"\u03B6"],[120636,1,"\u03B7"],[120637,1,"\u03B8"],[120638,1,"\u03B9"],[120639,1,"\u03BA"],[120640,1,"\u03BB"],[120641,1,"\u03BC"],[120642,1,"\u03BD"],[120643,1,"\u03BE"],[120644,1,"\u03BF"],[120645,1,"\u03C0"],[120646,1,"\u03C1"],[[120647,120648],1,"\u03C3"],[120649,1,"\u03C4"],[120650,1,"\u03C5"],[120651,1,"\u03C6"],[120652,1,"\u03C7"],[120653,1,"\u03C8"],[120654,1,"\u03C9"],[120655,1,"\u2202"],[120656,1,"\u03B5"],[120657,1,"\u03B8"],[120658,1,"\u03BA"],[120659,1,"\u03C6"],[120660,1,"\u03C1"],[120661,1,"\u03C0"],[120662,1,"\u03B1"],[120663,1,"\u03B2"],[120664,1,"\u03B3"],[120665,1,"\u03B4"],[120666,1,"\u03B5"],[120667,1,"\u03B6"],[120668,1,"\u03B7"],[120669,1,"\u03B8"],[120670,1,"\u03B9"],[120671,1,"\u03BA"],[120672,1,"\u03BB"],[120673,1,"\u03BC"],[120674,1,"\u03BD"],[120675,1,"\u03BE"],[120676,1,"\u03BF"],[120677,1,"\u03C0"],[120678,1,"\u03C1"],[120679,1,"\u03B8"],[120680,1,"\u03C3"],[120681,1,"\u03C4"],[120682,1,"\u03C5"],[120683,1,"\u03C6"],[120684,1,"\u03C7"],[120685,1,"\u03C8"],[120686,1,"\u03C9"],[120687,1,"\u2207"],[120688,1,"\u03B1"],[120689,1,"\u03B2"],[120690,1,"\u03B3"],[120691,1,"\u03B4"],[120692,1,"\u03B5"],[120693,1,"\u03B6"],[120694,1,"\u03B7"],[120695,1,"\u03B8"],[120696,1,"\u03B9"],[120697,1,"\u03BA"],[120698,1,"\u03BB"],[120699,1,"\u03BC"],[120700,1,"\u03BD"],[120701,1,"\u03BE"],[120702,1,"\u03BF"],[120703,1,"\u03C0"],[120704,1,"\u03C1"],[[120705,120706],1,"\u03C3"],[120707,1,"\u03C4"],[120708,1,"\u03C5"],[120709,1,"\u03C6"],[120710,1,"\u03C7"],[120711,1,"\u03C8"],[120712,1,"\u03C9"],[120713,1,"\u2202"],[120714,1,"\u03B5"],[120715,1,"\u03B8"],[120716,1,"\u03BA"],[120717,1,"\u03C6"],[120718,1,"\u03C1"],[120719,1,"\u03C0"],[120720,1,"\u03B1"],[120721,1,"\u03B2"],[120722,1,"\u03B3"],[120723,1,"\u03B4"],[120724,1,"\u03B5"],[120725,1,"\u03B6"],[120726,1,"\u03B7"],[120727,1,"\u03B8"],[120728,1,"\u03B9"],[120729,1,"\u03BA"],[120730,1,"\u03BB"],[120731,1,"\u03BC"],[120732,1,"\u03BD"],[120733,1,"\u03BE"],[120734,1,"\u03BF"],[120735,1,"\u03C0"],[120736,1,"\u03C1"],[120737,1,"\u03B8"],[120738,1,"\u03C3"],[120739,1,"\u03C4"],[120740,1,"\u03C5"],[120741,1,"\u03C6"],[120742,1,"\u03C7"],[120743,1,"\u03C8"],[120744,1,"\u03C9"],[120745,1,"\u2207"],[120746,1,"\u03B1"],[120747,1,"\u03B2"],[120748,1,"\u03B3"],[120749,1,"\u03B4"],[120750,1,"\u03B5"],[120751,1,"\u03B6"],[120752,1,"\u03B7"],[120753,1,"\u03B8"],[120754,1,"\u03B9"],[120755,1,"\u03BA"],[120756,1,"\u03BB"],[120757,1,"\u03BC"],[120758,1,"\u03BD"],[120759,1,"\u03BE"],[120760,1,"\u03BF"],[120761,1,"\u03C0"],[120762,1,"\u03C1"],[[120763,120764],1,"\u03C3"],[120765,1,"\u03C4"],[120766,1,"\u03C5"],[120767,1,"\u03C6"],[120768,1,"\u03C7"],[120769,1,"\u03C8"],[120770,1,"\u03C9"],[120771,1,"\u2202"],[120772,1,"\u03B5"],[120773,1,"\u03B8"],[120774,1,"\u03BA"],[120775,1,"\u03C6"],[120776,1,"\u03C1"],[120777,1,"\u03C0"],[[120778,120779],1,"\u03DD"],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,"\uD83A\uDD22"],[125185,1,"\uD83A\uDD23"],[125186,1,"\uD83A\uDD24"],[125187,1,"\uD83A\uDD25"],[125188,1,"\uD83A\uDD26"],[125189,1,"\uD83A\uDD27"],[125190,1,"\uD83A\uDD28"],[125191,1,"\uD83A\uDD29"],[125192,1,"\uD83A\uDD2A"],[125193,1,"\uD83A\uDD2B"],[125194,1,"\uD83A\uDD2C"],[125195,1,"\uD83A\uDD2D"],[125196,1,"\uD83A\uDD2E"],[125197,1,"\uD83A\uDD2F"],[125198,1,"\uD83A\uDD30"],[125199,1,"\uD83A\uDD31"],[125200,1,"\uD83A\uDD32"],[125201,1,"\uD83A\uDD33"],[125202,1,"\uD83A\uDD34"],[125203,1,"\uD83A\uDD35"],[125204,1,"\uD83A\uDD36"],[125205,1,"\uD83A\uDD37"],[125206,1,"\uD83A\uDD38"],[125207,1,"\uD83A\uDD39"],[125208,1,"\uD83A\uDD3A"],[125209,1,"\uD83A\uDD3B"],[125210,1,"\uD83A\uDD3C"],[125211,1,"\uD83A\uDD3D"],[125212,1,"\uD83A\uDD3E"],[125213,1,"\uD83A\uDD3F"],[125214,1,"\uD83A\uDD40"],[125215,1,"\uD83A\uDD41"],[125216,1,"\uD83A\uDD42"],[125217,1,"\uD83A\uDD43"],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,"\u0627"],[126465,1,"\u0628"],[126466,1,"\u062C"],[126467,1,"\u062F"],[126468,3],[126469,1,"\u0648"],[126470,1,"\u0632"],[126471,1,"\u062D"],[126472,1,"\u0637"],[126473,1,"\u064A"],[126474,1,"\u0643"],[126475,1,"\u0644"],[126476,1,"\u0645"],[126477,1,"\u0646"],[126478,1,"\u0633"],[126479,1,"\u0639"],[126480,1,"\u0641"],[126481,1,"\u0635"],[126482,1,"\u0642"],[126483,1,"\u0631"],[126484,1,"\u0634"],[126485,1,"\u062A"],[126486,1,"\u062B"],[126487,1,"\u062E"],[126488,1,"\u0630"],[126489,1,"\u0636"],[126490,1,"\u0638"],[126491,1,"\u063A"],[126492,1,"\u066E"],[126493,1,"\u06BA"],[126494,1,"\u06A1"],[126495,1,"\u066F"],[126496,3],[126497,1,"\u0628"],[126498,1,"\u062C"],[126499,3],[126500,1,"\u0647"],[[126501,126502],3],[126503,1,"\u062D"],[126504,3],[126505,1,"\u064A"],[126506,1,"\u0643"],[126507,1,"\u0644"],[126508,1,"\u0645"],[126509,1,"\u0646"],[126510,1,"\u0633"],[126511,1,"\u0639"],[126512,1,"\u0641"],[126513,1,"\u0635"],[126514,1,"\u0642"],[126515,3],[126516,1,"\u0634"],[126517,1,"\u062A"],[126518,1,"\u062B"],[126519,1,"\u062E"],[126520,3],[126521,1,"\u0636"],[126522,3],[126523,1,"\u063A"],[[126524,126529],3],[126530,1,"\u062C"],[[126531,126534],3],[126535,1,"\u062D"],[126536,3],[126537,1,"\u064A"],[126538,3],[126539,1,"\u0644"],[126540,3],[126541,1,"\u0646"],[126542,1,"\u0633"],[126543,1,"\u0639"],[126544,3],[126545,1,"\u0635"],[126546,1,"\u0642"],[126547,3],[126548,1,"\u0634"],[[126549,126550],3],[126551,1,"\u062E"],[126552,3],[126553,1,"\u0636"],[126554,3],[126555,1,"\u063A"],[126556,3],[126557,1,"\u06BA"],[126558,3],[126559,1,"\u066F"],[126560,3],[126561,1,"\u0628"],[126562,1,"\u062C"],[126563,3],[126564,1,"\u0647"],[[126565,126566],3],[126567,1,"\u062D"],[126568,1,"\u0637"],[126569,1,"\u064A"],[126570,1,"\u0643"],[126571,3],[126572,1,"\u0645"],[126573,1,"\u0646"],[126574,1,"\u0633"],[126575,1,"\u0639"],[126576,1,"\u0641"],[126577,1,"\u0635"],[126578,1,"\u0642"],[126579,3],[126580,1,"\u0634"],[126581,1,"\u062A"],[126582,1,"\u062B"],[126583,1,"\u062E"],[126584,3],[126585,1,"\u0636"],[126586,1,"\u0638"],[126587,1,"\u063A"],[126588,1,"\u066E"],[126589,3],[126590,1,"\u06A1"],[126591,3],[126592,1,"\u0627"],[126593,1,"\u0628"],[126594,1,"\u062C"],[126595,1,"\u062F"],[126596,1,"\u0647"],[126597,1,"\u0648"],[126598,1,"\u0632"],[126599,1,"\u062D"],[126600,1,"\u0637"],[126601,1,"\u064A"],[126602,3],[126603,1,"\u0644"],[126604,1,"\u0645"],[126605,1,"\u0646"],[126606,1,"\u0633"],[126607,1,"\u0639"],[126608,1,"\u0641"],[126609,1,"\u0635"],[126610,1,"\u0642"],[126611,1,"\u0631"],[126612,1,"\u0634"],[126613,1,"\u062A"],[126614,1,"\u062B"],[126615,1,"\u062E"],[126616,1,"\u0630"],[126617,1,"\u0636"],[126618,1,"\u0638"],[126619,1,"\u063A"],[[126620,126624],3],[126625,1,"\u0628"],[126626,1,"\u062C"],[126627,1,"\u062F"],[126628,3],[126629,1,"\u0648"],[126630,1,"\u0632"],[126631,1,"\u062D"],[126632,1,"\u0637"],[126633,1,"\u064A"],[126634,3],[126635,1,"\u0644"],[126636,1,"\u0645"],[126637,1,"\u0646"],[126638,1,"\u0633"],[126639,1,"\u0639"],[126640,1,"\u0641"],[126641,1,"\u0635"],[126642,1,"\u0642"],[126643,1,"\u0631"],[126644,1,"\u0634"],[126645,1,"\u062A"],[126646,1,"\u062B"],[126647,1,"\u062E"],[126648,1,"\u0630"],[126649,1,"\u0636"],[126650,1,"\u0638"],[126651,1,"\u063A"],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"\u3014s\u3015"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,"\u307B\u304B"],[127489,1,"\u30B3\u30B3"],[127490,1,"\u30B5"],[[127491,127503],3],[127504,1,"\u624B"],[127505,1,"\u5B57"],[127506,1,"\u53CC"],[127507,1,"\u30C7"],[127508,1,"\u4E8C"],[127509,1,"\u591A"],[127510,1,"\u89E3"],[127511,1,"\u5929"],[127512,1,"\u4EA4"],[127513,1,"\u6620"],[127514,1,"\u7121"],[127515,1,"\u6599"],[127516,1,"\u524D"],[127517,1,"\u5F8C"],[127518,1,"\u518D"],[127519,1,"\u65B0"],[127520,1,"\u521D"],[127521,1,"\u7D42"],[127522,1,"\u751F"],[127523,1,"\u8CA9"],[127524,1,"\u58F0"],[127525,1,"\u5439"],[127526,1,"\u6F14"],[127527,1,"\u6295"],[127528,1,"\u6355"],[127529,1,"\u4E00"],[127530,1,"\u4E09"],[127531,1,"\u904A"],[127532,1,"\u5DE6"],[127533,1,"\u4E2D"],[127534,1,"\u53F3"],[127535,1,"\u6307"],[127536,1,"\u8D70"],[127537,1,"\u6253"],[127538,1,"\u7981"],[127539,1,"\u7A7A"],[127540,1,"\u5408"],[127541,1,"\u6E80"],[127542,1,"\u6709"],[127543,1,"\u6708"],[127544,1,"\u7533"],[127545,1,"\u5272"],[127546,1,"\u55B6"],[127547,1,"\u914D"],[[127548,127551],3],[127552,1,"\u3014\u672C\u3015"],[127553,1,"\u3014\u4E09\u3015"],[127554,1,"\u3014\u4E8C\u3015"],[127555,1,"\u3014\u5B89\u3015"],[127556,1,"\u3014\u70B9\u3015"],[127557,1,"\u3014\u6253\u3015"],[127558,1,"\u3014\u76D7\u3015"],[127559,1,"\u3014\u52DD\u3015"],[127560,1,"\u3014\u6557\u3015"],[[127561,127567],3],[127568,1,"\u5F97"],[127569,1,"\u53EF"],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128000,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128732],3],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128895],3],[[128896,128980],2],[[128981,128984],2],[[128985,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],3],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],3],[[129712,129718],2],[[129719,129722],2],[[129723,129727],3],[[129728,129730],2],[[129731,129733],2],[[129734,129743],3],[[129744,129750],2],[[129751,129753],2],[[129754,129759],3],[[129760,129767],2],[[129768,129775],3],[[129776,129782],2],[[129783,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[[177977,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,"\u4E3D"],[194561,1,"\u4E38"],[194562,1,"\u4E41"],[194563,1,"\uD840\uDD22"],[194564,1,"\u4F60"],[194565,1,"\u4FAE"],[194566,1,"\u4FBB"],[194567,1,"\u5002"],[194568,1,"\u507A"],[194569,1,"\u5099"],[194570,1,"\u50E7"],[194571,1,"\u50CF"],[194572,1,"\u349E"],[194573,1,"\uD841\uDE3A"],[194574,1,"\u514D"],[194575,1,"\u5154"],[194576,1,"\u5164"],[194577,1,"\u5177"],[194578,1,"\uD841\uDD1C"],[194579,1,"\u34B9"],[194580,1,"\u5167"],[194581,1,"\u518D"],[194582,1,"\uD841\uDD4B"],[194583,1,"\u5197"],[194584,1,"\u51A4"],[194585,1,"\u4ECC"],[194586,1,"\u51AC"],[194587,1,"\u51B5"],[194588,1,"\uD864\uDDDF"],[194589,1,"\u51F5"],[194590,1,"\u5203"],[194591,1,"\u34DF"],[194592,1,"\u523B"],[194593,1,"\u5246"],[194594,1,"\u5272"],[194595,1,"\u5277"],[194596,1,"\u3515"],[194597,1,"\u52C7"],[194598,1,"\u52C9"],[194599,1,"\u52E4"],[194600,1,"\u52FA"],[194601,1,"\u5305"],[194602,1,"\u5306"],[194603,1,"\u5317"],[194604,1,"\u5349"],[194605,1,"\u5351"],[194606,1,"\u535A"],[194607,1,"\u5373"],[194608,1,"\u537D"],[[194609,194611],1,"\u537F"],[194612,1,"\uD842\uDE2C"],[194613,1,"\u7070"],[194614,1,"\u53CA"],[194615,1,"\u53DF"],[194616,1,"\uD842\uDF63"],[194617,1,"\u53EB"],[194618,1,"\u53F1"],[194619,1,"\u5406"],[194620,1,"\u549E"],[194621,1,"\u5438"],[194622,1,"\u5448"],[194623,1,"\u5468"],[194624,1,"\u54A2"],[194625,1,"\u54F6"],[194626,1,"\u5510"],[194627,1,"\u5553"],[194628,1,"\u5563"],[[194629,194630],1,"\u5584"],[194631,1,"\u5599"],[194632,1,"\u55AB"],[194633,1,"\u55B3"],[194634,1,"\u55C2"],[194635,1,"\u5716"],[194636,1,"\u5606"],[194637,1,"\u5717"],[194638,1,"\u5651"],[194639,1,"\u5674"],[194640,1,"\u5207"],[194641,1,"\u58EE"],[194642,1,"\u57CE"],[194643,1,"\u57F4"],[194644,1,"\u580D"],[194645,1,"\u578B"],[194646,1,"\u5832"],[194647,1,"\u5831"],[194648,1,"\u58AC"],[194649,1,"\uD845\uDCE4"],[194650,1,"\u58F2"],[194651,1,"\u58F7"],[194652,1,"\u5906"],[194653,1,"\u591A"],[194654,1,"\u5922"],[194655,1,"\u5962"],[194656,1,"\uD845\uDEA8"],[194657,1,"\uD845\uDEEA"],[194658,1,"\u59EC"],[194659,1,"\u5A1B"],[194660,1,"\u5A27"],[194661,1,"\u59D8"],[194662,1,"\u5A66"],[194663,1,"\u36EE"],[194664,3],[194665,1,"\u5B08"],[[194666,194667],1,"\u5B3E"],[194668,1,"\uD846\uDDC8"],[194669,1,"\u5BC3"],[194670,1,"\u5BD8"],[194671,1,"\u5BE7"],[194672,1,"\u5BF3"],[194673,1,"\uD846\uDF18"],[194674,1,"\u5BFF"],[194675,1,"\u5C06"],[194676,3],[194677,1,"\u5C22"],[194678,1,"\u3781"],[194679,1,"\u5C60"],[194680,1,"\u5C6E"],[194681,1,"\u5CC0"],[194682,1,"\u5C8D"],[194683,1,"\uD847\uDDE4"],[194684,1,"\u5D43"],[194685,1,"\uD847\uDDE6"],[194686,1,"\u5D6E"],[194687,1,"\u5D6B"],[194688,1,"\u5D7C"],[194689,1,"\u5DE1"],[194690,1,"\u5DE2"],[194691,1,"\u382F"],[194692,1,"\u5DFD"],[194693,1,"\u5E28"],[194694,1,"\u5E3D"],[194695,1,"\u5E69"],[194696,1,"\u3862"],[194697,1,"\uD848\uDD83"],[194698,1,"\u387C"],[194699,1,"\u5EB0"],[194700,1,"\u5EB3"],[194701,1,"\u5EB6"],[194702,1,"\u5ECA"],[194703,1,"\uD868\uDF92"],[194704,1,"\u5EFE"],[[194705,194706],1,"\uD848\uDF31"],[194707,1,"\u8201"],[[194708,194709],1,"\u5F22"],[194710,1,"\u38C7"],[194711,1,"\uD84C\uDEB8"],[194712,1,"\uD858\uDDDA"],[194713,1,"\u5F62"],[194714,1,"\u5F6B"],[194715,1,"\u38E3"],[194716,1,"\u5F9A"],[194717,1,"\u5FCD"],[194718,1,"\u5FD7"],[194719,1,"\u5FF9"],[194720,1,"\u6081"],[194721,1,"\u393A"],[194722,1,"\u391C"],[194723,1,"\u6094"],[194724,1,"\uD849\uDED4"],[194725,1,"\u60C7"],[194726,1,"\u6148"],[194727,1,"\u614C"],[194728,1,"\u614E"],[194729,1,"\u614C"],[194730,1,"\u617A"],[194731,1,"\u618E"],[194732,1,"\u61B2"],[194733,1,"\u61A4"],[194734,1,"\u61AF"],[194735,1,"\u61DE"],[194736,1,"\u61F2"],[194737,1,"\u61F6"],[194738,1,"\u6210"],[194739,1,"\u621B"],[194740,1,"\u625D"],[194741,1,"\u62B1"],[194742,1,"\u62D4"],[194743,1,"\u6350"],[194744,1,"\uD84A\uDF0C"],[194745,1,"\u633D"],[194746,1,"\u62FC"],[194747,1,"\u6368"],[194748,1,"\u6383"],[194749,1,"\u63E4"],[194750,1,"\uD84A\uDFF1"],[194751,1,"\u6422"],[194752,1,"\u63C5"],[194753,1,"\u63A9"],[194754,1,"\u3A2E"],[194755,1,"\u6469"],[194756,1,"\u647E"],[194757,1,"\u649D"],[194758,1,"\u6477"],[194759,1,"\u3A6C"],[194760,1,"\u654F"],[194761,1,"\u656C"],[194762,1,"\uD84C\uDC0A"],[194763,1,"\u65E3"],[194764,1,"\u66F8"],[194765,1,"\u6649"],[194766,1,"\u3B19"],[194767,1,"\u6691"],[194768,1,"\u3B08"],[194769,1,"\u3AE4"],[194770,1,"\u5192"],[194771,1,"\u5195"],[194772,1,"\u6700"],[194773,1,"\u669C"],[194774,1,"\u80AD"],[194775,1,"\u43D9"],[194776,1,"\u6717"],[194777,1,"\u671B"],[194778,1,"\u6721"],[194779,1,"\u675E"],[194780,1,"\u6753"],[194781,1,"\uD84C\uDFC3"],[194782,1,"\u3B49"],[194783,1,"\u67FA"],[194784,1,"\u6785"],[194785,1,"\u6852"],[194786,1,"\u6885"],[194787,1,"\uD84D\uDC6D"],[194788,1,"\u688E"],[194789,1,"\u681F"],[194790,1,"\u6914"],[194791,1,"\u3B9D"],[194792,1,"\u6942"],[194793,1,"\u69A3"],[194794,1,"\u69EA"],[194795,1,"\u6AA8"],[194796,1,"\uD84D\uDEA3"],[194797,1,"\u6ADB"],[194798,1,"\u3C18"],[194799,1,"\u6B21"],[194800,1,"\uD84E\uDCA7"],[194801,1,"\u6B54"],[194802,1,"\u3C4E"],[194803,1,"\u6B72"],[194804,1,"\u6B9F"],[194805,1,"\u6BBA"],[194806,1,"\u6BBB"],[194807,1,"\uD84E\uDE8D"],[194808,1,"\uD847\uDD0B"],[194809,1,"\uD84E\uDEFA"],[194810,1,"\u6C4E"],[194811,1,"\uD84F\uDCBC"],[194812,1,"\u6CBF"],[194813,1,"\u6CCD"],[194814,1,"\u6C67"],[194815,1,"\u6D16"],[194816,1,"\u6D3E"],[194817,1,"\u6D77"],[194818,1,"\u6D41"],[194819,1,"\u6D69"],[194820,1,"\u6D78"],[194821,1,"\u6D85"],[194822,1,"\uD84F\uDD1E"],[194823,1,"\u6D34"],[194824,1,"\u6E2F"],[194825,1,"\u6E6E"],[194826,1,"\u3D33"],[194827,1,"\u6ECB"],[194828,1,"\u6EC7"],[194829,1,"\uD84F\uDED1"],[194830,1,"\u6DF9"],[194831,1,"\u6F6E"],[194832,1,"\uD84F\uDF5E"],[194833,1,"\uD84F\uDF8E"],[194834,1,"\u6FC6"],[194835,1,"\u7039"],[194836,1,"\u701E"],[194837,1,"\u701B"],[194838,1,"\u3D96"],[194839,1,"\u704A"],[194840,1,"\u707D"],[194841,1,"\u7077"],[194842,1,"\u70AD"],[194843,1,"\uD841\uDD25"],[194844,1,"\u7145"],[194845,1,"\uD850\uDE63"],[194846,1,"\u719C"],[194847,3],[194848,1,"\u7228"],[194849,1,"\u7235"],[194850,1,"\u7250"],[194851,1,"\uD851\uDE08"],[194852,1,"\u7280"],[194853,1,"\u7295"],[194854,1,"\uD851\uDF35"],[194855,1,"\uD852\uDC14"],[194856,1,"\u737A"],[194857,1,"\u738B"],[194858,1,"\u3EAC"],[194859,1,"\u73A5"],[[194860,194861],1,"\u3EB8"],[194862,1,"\u7447"],[194863,1,"\u745C"],[194864,1,"\u7471"],[194865,1,"\u7485"],[194866,1,"\u74CA"],[194867,1,"\u3F1B"],[194868,1,"\u7524"],[194869,1,"\uD853\uDC36"],[194870,1,"\u753E"],[194871,1,"\uD853\uDC92"],[194872,1,"\u7570"],[194873,1,"\uD848\uDD9F"],[194874,1,"\u7610"],[194875,1,"\uD853\uDFA1"],[194876,1,"\uD853\uDFB8"],[194877,1,"\uD854\uDC44"],[194878,1,"\u3FFC"],[194879,1,"\u4008"],[194880,1,"\u76F4"],[194881,1,"\uD854\uDCF3"],[194882,1,"\uD854\uDCF2"],[194883,1,"\uD854\uDD19"],[194884,1,"\uD854\uDD33"],[194885,1,"\u771E"],[[194886,194887],1,"\u771F"],[194888,1,"\u774A"],[194889,1,"\u4039"],[194890,1,"\u778B"],[194891,1,"\u4046"],[194892,1,"\u4096"],[194893,1,"\uD855\uDC1D"],[194894,1,"\u784E"],[194895,1,"\u788C"],[194896,1,"\u78CC"],[194897,1,"\u40E3"],[194898,1,"\uD855\uDE26"],[194899,1,"\u7956"],[194900,1,"\uD855\uDE9A"],[194901,1,"\uD855\uDEC5"],[194902,1,"\u798F"],[194903,1,"\u79EB"],[194904,1,"\u412F"],[194905,1,"\u7A40"],[194906,1,"\u7A4A"],[194907,1,"\u7A4F"],[194908,1,"\uD856\uDD7C"],[[194909,194910],1,"\uD856\uDEA7"],[194911,3],[194912,1,"\u4202"],[194913,1,"\uD856\uDFAB"],[194914,1,"\u7BC6"],[194915,1,"\u7BC9"],[194916,1,"\u4227"],[194917,1,"\uD857\uDC80"],[194918,1,"\u7CD2"],[194919,1,"\u42A0"],[194920,1,"\u7CE8"],[194921,1,"\u7CE3"],[194922,1,"\u7D00"],[194923,1,"\uD857\uDF86"],[194924,1,"\u7D63"],[194925,1,"\u4301"],[194926,1,"\u7DC7"],[194927,1,"\u7E02"],[194928,1,"\u7E45"],[194929,1,"\u4334"],[194930,1,"\uD858\uDE28"],[194931,1,"\uD858\uDE47"],[194932,1,"\u4359"],[194933,1,"\uD858\uDED9"],[194934,1,"\u7F7A"],[194935,1,"\uD858\uDF3E"],[194936,1,"\u7F95"],[194937,1,"\u7FFA"],[194938,1,"\u8005"],[194939,1,"\uD859\uDCDA"],[194940,1,"\uD859\uDD23"],[194941,1,"\u8060"],[194942,1,"\uD859\uDDA8"],[194943,1,"\u8070"],[194944,1,"\uD84C\uDF5F"],[194945,1,"\u43D5"],[194946,1,"\u80B2"],[194947,1,"\u8103"],[194948,1,"\u440B"],[194949,1,"\u813E"],[194950,1,"\u5AB5"],[194951,1,"\uD859\uDFA7"],[194952,1,"\uD859\uDFB5"],[194953,1,"\uD84C\uDF93"],[194954,1,"\uD84C\uDF9C"],[194955,1,"\u8201"],[194956,1,"\u8204"],[194957,1,"\u8F9E"],[194958,1,"\u446B"],[194959,1,"\u8291"],[194960,1,"\u828B"],[194961,1,"\u829D"],[194962,1,"\u52B3"],[194963,1,"\u82B1"],[194964,1,"\u82B3"],[194965,1,"\u82BD"],[194966,1,"\u82E6"],[194967,1,"\uD85A\uDF3C"],[194968,1,"\u82E5"],[194969,1,"\u831D"],[194970,1,"\u8363"],[194971,1,"\u83AD"],[194972,1,"\u8323"],[194973,1,"\u83BD"],[194974,1,"\u83E7"],[194975,1,"\u8457"],[194976,1,"\u8353"],[194977,1,"\u83CA"],[194978,1,"\u83CC"],[194979,1,"\u83DC"],[194980,1,"\uD85B\uDC36"],[194981,1,"\uD85B\uDD6B"],[194982,1,"\uD85B\uDCD5"],[194983,1,"\u452B"],[194984,1,"\u84F1"],[194985,1,"\u84F3"],[194986,1,"\u8516"],[194987,1,"\uD85C\uDFCA"],[194988,1,"\u8564"],[194989,1,"\uD85B\uDF2C"],[194990,1,"\u455D"],[194991,1,"\u4561"],[194992,1,"\uD85B\uDFB1"],[194993,1,"\uD85C\uDCD2"],[194994,1,"\u456B"],[194995,1,"\u8650"],[194996,1,"\u865C"],[194997,1,"\u8667"],[194998,1,"\u8669"],[194999,1,"\u86A9"],[195000,1,"\u8688"],[195001,1,"\u870E"],[195002,1,"\u86E2"],[195003,1,"\u8779"],[195004,1,"\u8728"],[195005,1,"\u876B"],[195006,1,"\u8786"],[195007,3],[195008,1,"\u87E1"],[195009,1,"\u8801"],[195010,1,"\u45F9"],[195011,1,"\u8860"],[195012,1,"\u8863"],[195013,1,"\uD85D\uDE67"],[195014,1,"\u88D7"],[195015,1,"\u88DE"],[195016,1,"\u4635"],[195017,1,"\u88FA"],[195018,1,"\u34BB"],[195019,1,"\uD85E\uDCAE"],[195020,1,"\uD85E\uDD66"],[195021,1,"\u46BE"],[195022,1,"\u46C7"],[195023,1,"\u8AA0"],[195024,1,"\u8AED"],[195025,1,"\u8B8A"],[195026,1,"\u8C55"],[195027,1,"\uD85F\uDCA8"],[195028,1,"\u8CAB"],[195029,1,"\u8CC1"],[195030,1,"\u8D1B"],[195031,1,"\u8D77"],[195032,1,"\uD85F\uDF2F"],[195033,1,"\uD842\uDC04"],[195034,1,"\u8DCB"],[195035,1,"\u8DBC"],[195036,1,"\u8DF0"],[195037,1,"\uD842\uDCDE"],[195038,1,"\u8ED4"],[195039,1,"\u8F38"],[195040,1,"\uD861\uDDD2"],[195041,1,"\uD861\uDDED"],[195042,1,"\u9094"],[195043,1,"\u90F1"],[195044,1,"\u9111"],[195045,1,"\uD861\uDF2E"],[195046,1,"\u911B"],[195047,1,"\u9238"],[195048,1,"\u92D7"],[195049,1,"\u92D8"],[195050,1,"\u927C"],[195051,1,"\u93F9"],[195052,1,"\u9415"],[195053,1,"\uD862\uDFFA"],[195054,1,"\u958B"],[195055,1,"\u4995"],[195056,1,"\u95B7"],[195057,1,"\uD863\uDD77"],[195058,1,"\u49E6"],[195059,1,"\u96C3"],[195060,1,"\u5DB2"],[195061,1,"\u9723"],[195062,1,"\uD864\uDD45"],[195063,1,"\uD864\uDE1A"],[195064,1,"\u4A6E"],[195065,1,"\u4A76"],[195066,1,"\u97E0"],[195067,1,"\uD865\uDC0A"],[195068,1,"\u4AB2"],[195069,1,"\uD865\uDC96"],[[195070,195071],1,"\u980B"],[195072,1,"\u9829"],[195073,1,"\uD865\uDDB6"],[195074,1,"\u98E2"],[195075,1,"\u4B33"],[195076,1,"\u9929"],[195077,1,"\u99A7"],[195078,1,"\u99C2"],[195079,1,"\u99FE"],[195080,1,"\u4BCE"],[195081,1,"\uD866\uDF30"],[195082,1,"\u9B12"],[195083,1,"\u9C40"],[195084,1,"\u9CFD"],[195085,1,"\u4CCE"],[195086,1,"\u4CED"],[195087,1,"\u9D67"],[195088,1,"\uD868\uDCCE"],[195089,1,"\u4CF8"],[195090,1,"\uD868\uDD05"],[195091,1,"\uD868\uDE0E"],[195092,1,"\uD868\uDE91"],[195093,1,"\u9EBB"],[195094,1,"\u4D56"],[195095,1,"\u9EF9"],[195096,1,"\u9EFE"],[195097,1,"\u9F05"],[195098,1,"\u9F0F"],[195099,1,"\u9F16"],[195100,1,"\u9F3B"],[195101,1,"\uD869\uDE00"],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918000,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]});var y_=R((Wz1,f_)=>{Wz1.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}});var m_=R((Ba1,h_)=>{var Qz1=function(Z){return/[^\x00-\x7F]/u.test(Z)},b_=function(Z,{useSTD3ASCIIRules:Y}){let J=0,X=g_.length-1;while(J<=X){const $=Math.floor((J+X)/2),W=g_[$],G=Array.isArray(W[0])?W[0][0]:W[0],Q=Array.isArray(W[0])?W[0][1]:W[0];if(G<=Z&&Q>=Z){if(Y&&(W[1]===y8.disallowed_STD3_valid||W[1]===y8.disallowed_STD3_mapped))return[y8.disallowed,...W.slice(2)];else if(W[1]===y8.disallowed_STD3_valid)return[y8.valid,...W.slice(2)];else if(W[1]===y8.disallowed_STD3_mapped)return[y8.mapped,...W.slice(2)];return W.slice(1)}else if(G>Z)X=$-1;else J=$+1}return null},Kz1=function(Z,{useSTD3ASCIIRules:Y,processingOption:J}){let X=!1,$="";for(let W of Z){const[G,Q]=b_(W.codePointAt(0),{useSTD3ASCIIRules:Y});switch(G){case y8.disallowed:X=!0,$+=W;break;case y8.ignored:break;case y8.mapped:$+=Q;break;case y8.deviation:if(J==="transitional")$+=Q;else $+=W;break;case y8.valid:$+=W;break}}return{string:$,error:X}},Hz1=function(Z,{checkHyphens:Y,checkBidi:J,checkJoiners:X,processingOption:$,useSTD3ASCIIRules:W}){if(Z.normalize("NFC")!==Z)return!1;const G=Array.from(Z);if(Y){if(G[2]==="-"&&G[3]==="-"||(Z.startsWith("-")||Z.endsWith("-")))return!1}if(Z.includes(".")||G.length>0&&Z7.combiningMarks.test(G[0]))return!1;for(let Q of G){const[K]=b_(Q.codePointAt(0),{useSTD3ASCIIRules:W});if($==="transitional"&&K!==y8.valid||$==="nontransitional"&&K!==y8.valid&&K!==y8.deviation)return!1}if(X){let Q=0;for(let[K,H]of G.entries())if(H==="\u200C"||H==="\u200D"){if(K>0){if(Z7.combiningClassVirama.test(G[K-1]))continue;if(H==="\u200C"){const z=G.indexOf("\u200C",K+1),F=z<0?G.slice(Q):G.slice(Q,z);if(Z7.validZWNJ.test(F.join(""))){Q=K+1;continue}}}return!1}}if(J){let Q;if(Z7.bidiS1LTR.test(G[0]))Q=!1;else if(Z7.bidiS1RTL.test(G[0]))Q=!0;else return!1;if(Q){if(!Z7.bidiS2.test(Z)||!Z7.bidiS3.test(Z)||Z7.bidiS4EN.test(Z)&&Z7.bidiS4AN.test(Z))return!1}else if(!Z7.bidiS5.test(Z)||!Z7.bidiS6.test(Z))return!1}return!0},zz1=function(Z){const Y=Z.map((J)=>{if(J.startsWith("xn--"))try{return RL.decode(J.substring(4))}catch(X){return""}return J}).join(".");return Z7.bidiDomain.test(Y)},v_=function(Z,Y){const{processingOption:J}=Y;let{string:X,error:$}=Kz1(Z,Y);X=X.normalize("NFC");const W=X.split("."),G=zz1(W);for(let[Q,K]of W.entries()){let H=K,z=J;if(H.startsWith("xn--")){try{H=RL.decode(H.substring(4)),W[Q]=H}catch(U){$=!0;continue}z="nontransitional"}if($)continue;if(!Hz1(H,{...Y,processingOption:z,checkBidi:Y.checkBidi&&G}))$=!0}return{string:W.join("."),error:$}},Fz1=function(Z,{checkHyphens:Y=!1,checkBidi:J=!1,checkJoiners:X=!1,useSTD3ASCIIRules:$=!1,processingOption:W="nontransitional",verifyDNSLength:G=!1}={}){if(W!=="transitional"&&W!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");const Q=v_(Z,{processingOption:W,checkHyphens:Y,checkBidi:J,checkJoiners:X,useSTD3ASCIIRules:$});let K=Q.string.split(".");if(K=K.map((H)=>{if(Qz1(H))try{return`xn--${RL.encode(H)}`}catch(z){Q.error=!0}return H}),G){const H=K.join(".").length;if(H>253||H===0)Q.error=!0;for(let z=0;z<K.length;++z)if(K[z].length>63||K[z].length===0){Q.error=!0;break}}if(Q.error)return null;return K.join(".")},Uz1=function(Z,{checkHyphens:Y=!1,checkBidi:J=!1,checkJoiners:X=!1,useSTD3ASCIIRules:$=!1,processingOption:W="nontransitional"}={}){const G=v_(Z,{processingOption:W,checkHyphens:Y,checkBidi:J,checkJoiners:X,useSTD3ASCIIRules:$});return{domain:G.string,error:G.error}},RL=import.meta.require("punycode"),Z7=__(),g_=x_(),{STATUS_MAPPING:y8}=y_();h_.exports={toASCII:Fz1,toUnicode:Uz1}});var ML=R((Aa1,d_)=>{var wL=function(Z){return Z>=48&&Z<=57},u_=function(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122},qz1=function(Z){return u_(Z)||wL(Z)},Vz1=function(Z){return wL(Z)||Z>=65&&Z<=70||Z>=97&&Z<=102};d_.exports={isASCIIDigit:wL,isASCIIAlpha:u_,isASCIIAlphanumeric:qz1,isASCIIHex:Vz1}});var OQ=R((Na1,c_)=>{var wz1=function(Z){return Lz1.encode(Z)},Mz1=function(Z){return Rz1.decode(Z)},Lz1=new TextEncoder,Rz1=new TextDecoder("utf-8",{ignoreBOM:!0});c_.exports={utf8Encode:wz1,utf8DecodeWithoutBOM:Mz1}});var SQ=R((Ia1,r_)=>{var y1=function(Z){return Z.codePointAt(0)},Bz1=function(Z){let Y=Z.toString(16).toUpperCase();if(Y.length===1)Y=`0${Y}`;return`%${Y}`},i_=function(Z){const Y=new Uint8Array(Z.byteLength);let J=0;for(let X=0;X<Z.byteLength;++X){const $=Z[X];if($!==37)Y[J++]=$;else if($===37&&(!p_(Z[X+1])||!p_(Z[X+2])))Y[J++]=$;else{const W=parseInt(String.fromCodePoint(Z[X+1],Z[X+2]),16);Y[J++]=W,X+=2}}return Y.slice(0,J)},Az1=function(Z){const Y=l_(Z);return i_(Y)},BL=function(Z){return Z<=31||Z>126},Iz1=function(Z){return BL(Z)||Nz1.has(Z)},AL=function(Z){return BL(Z)||Dz1.has(Z)},Pz1=function(Z){return AL(Z)||Z===y1("'")},n_=function(Z){return AL(Z)||Tz1.has(Z)},a_=function(Z){return n_(Z)||Cz1.has(Z)},jz1=function(Z){return a_(Z)||Ez1.has(Z)},Sz1=function(Z){return jz1(Z)||Oz1.has(Z)},s_=function(Z,Y){const J=l_(Z);let X="";for(let $ of J)if(!Y($))X+=String.fromCharCode($);else X+=Bz1($);return X},kz1=function(Z,Y){return s_(String.fromCodePoint(Z),Y)},_z1=function(Z,Y,J=!1){let X="";for(let $ of Z)if(J&&$===" ")X+="+";else X+=s_($,Y);return X},{isASCIIHex:p_}=ML(),{utf8Encode:l_}=OQ(),Nz1=new Set([y1(" "),y1("\""),y1("<"),y1(">"),y1("`")]),Dz1=new Set([y1(" "),y1("\""),y1("#"),y1("<"),y1(">")]),Tz1=new Set([y1("?"),y1("`"),y1("{"),y1("}")]),Cz1=new Set([y1("/"),y1(":"),y1(";"),y1("="),y1("@"),y1("["),y1("\\"),y1("]"),y1("^"),y1("|")]),Ez1=new Set([y1("$"),y1("%"),y1("&"),y1("+"),y1(",")]),Oz1=new Set([y1("!"),y1("'"),y1("("),y1(")"),y1("~")]);r_.exports={isC0ControlPercentEncode:BL,isFragmentPercentEncode:Iz1,isQueryPercentEncode:AL,isSpecialQueryPercentEncode:Pz1,isPathPercentEncode:n_,isUserinfoPercentEncode:a_,isURLEncodedPercentEncode:Sz1,percentDecodeString:Az1,percentDecodeBytes:i_,utf8PercentEncodeString:_z1,utf8PercentEncodeCodePoint:kz1}});var CL=R((GF1,g8)=>{var a=function(Z){return Z.codePointAt(0)},t_=function(Z){return[...Z].length},o_=function(Z,Y){const J=Z[Y];return isNaN(J)?void 0:String.fromCodePoint(J)},e_=function(Z){return Z==="."||Z.toLowerCase()==="%2e"},mz1=function(Z){return Z=Z.toLowerCase(),Z===".."||Z==="%2e."||Z===".%2e"||Z==="%2e%2e"},uz1=function(Z,Y){return G8.isASCIIAlpha(Z)&&(Y===a(":")||Y===a("|"))},Xx=function(Z){return Z.length===2&&G8.isASCIIAlpha(Z.codePointAt(0))&&(Z[1]===":"||Z[1]==="|")},dz1=function(Z){return Z.length===2&&G8.isASCIIAlpha(Z.codePointAt(0))&&Z[1]===":"},cz1=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},pz1=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},kQ=function(Z){return Jx[Z]!==void 0},W8=function(Z){return kQ(Z.scheme)},NL=function(Z){return!kQ(Z.scheme)},$x=function(Z){return Jx[Z]},Wx=function(Z){if(Z==="")return M1;let Y=10;if(Z.length>=2&&Z.charAt(0)==="0"&&Z.charAt(1).toLowerCase()==="x")Z=Z.substring(2),Y=16;else if(Z.length>=2&&Z.charAt(0)==="0")Z=Z.substring(1),Y=8;if(Z==="")return 0;let J=/[^0-7]/u;if(Y===10)J=/[^0-9]/u;if(Y===16)J=/[^0-9A-Fa-f]/u;if(J.test(Z))return M1;return parseInt(Z,Y)},lz1=function(Z){const Y=Z.split(".");if(Y[Y.length-1]===""){if(Y.length>1)Y.pop()}if(Y.length>4)return M1;const J=[];for(let W of Y){const G=Wx(W);if(G===M1)return M1;J.push(G)}for(let W=0;W<J.length-1;++W)if(J[W]>255)return M1;if(J[J.length-1]>=256**(5-J.length))return M1;let X=J.pop(),$=0;for(let W of J)X+=W*256**(3-$),++$;return X},iz1=function(Z){let Y="",J=Z;for(let X=1;X<=4;++X){if(Y=String(J%256)+Y,X!==4)Y=`.${Y}`;J=Math.floor(J/256)}return Y},nz1=function(Z){const Y=[0,0,0,0,0,0,0,0];let J=0,X=null,$=0;if(Z=Array.from(Z,(W)=>W.codePointAt(0)),Z[$]===a(":")){if(Z[$+1]!==a(":"))return M1;$+=2,++J,X=J}while($<Z.length){if(J===8)return M1;if(Z[$]===a(":")){if(X!==null)return M1;++$,++J,X=J;continue}let W=0,G=0;while(G<4&&G8.isASCIIHex(Z[$]))W=W*16+parseInt(o_(Z,$),16),++$,++G;if(Z[$]===a(".")){if(G===0)return M1;if($-=G,J>6)return M1;let Q=0;while(Z[$]!==void 0){let K=null;if(Q>0)if(Z[$]===a(".")&&Q<4)++$;else return M1;if(!G8.isASCIIDigit(Z[$]))return M1;while(G8.isASCIIDigit(Z[$])){const H=parseInt(o_(Z,$));if(K===null)K=H;else if(K===0)return M1;else K=K*10+H;if(K>255)return M1;++$}if(Y[J]=Y[J]*256+K,++Q,Q===2||Q===4)++J}if(Q!==4)return M1;break}else if(Z[$]===a(":")){if(++$,Z[$]===void 0)return M1}else if(Z[$]!==void 0)return M1;Y[J]=W,++J}if(X!==null){let W=J-X;J=7;while(J!==0&&W>0){const G=Y[X+W-1];Y[X+W-1]=Y[J],Y[J]=G,--J,--W}}else if(X===null&&J!==8)return M1;return Y},az1=function(Z){let Y="";const J=tz1(Z);let X=!1;for(let $=0;$<=7;++$){if(X&&Z[$]===0)continue;else if(X)X=!1;if(J===$){Y+=$===0?"::":":",X=!0;continue}if(Y+=Z[$].toString(16),$!==7)Y+=":"}return Y},IL=function(Z,Y=!1){if(Z[0]==="["){if(Z[Z.length-1]!=="]")return M1;return nz1(Z.substring(1,Z.length-1))}if(Y)return rz1(Z);const J=fz1(yz1(Z)),X=oz1(J);if(X===M1)return M1;if(cz1(X))return M1;if(sz1(X))return lz1(X);return X},sz1=function(Z){const Y=Z.split(".");if(Y[Y.length-1]===""){if(Y.length===1)return!1;Y.pop()}const J=Y[Y.length-1];if(Wx(J)!==M1)return!0;if(/^[0-9]+$/u.test(J))return!0;return!1},rz1=function(Z){if(pz1(Z))return M1;return xQ(Z,Yx)},tz1=function(Z){let Y=null,J=1,X=null,$=0;for(let W=0;W<Z.length;++W)if(Z[W]!==0){if($>J)Y=X,J=$;X=null,$=0}else{if(X===null)X=W;++$}if($>J)return X;return Y},PL=function(Z){if(typeof Z==="number")return iz1(Z);if(Z instanceof Array)return`[${az1(Z)}]`;return Z},oz1=function(Z,Y=!1){const J=xz1.toASCII(Z,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:Y,verifyDNSLength:Y});if(J===null||J==="")return M1;return J},ez1=function(Z){return Z.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")},ZF1=function(Z){return Z.replace(/\u0009|\u000A|\u000D/ug,"")},Gx=function(Z){const{path:Y}=Z;if(Y.length===0)return;if(Z.scheme==="file"&&Y.length===1&&JF1(Y[0]))return;Y.pop()},Qx=function(Z){return Z.username!==""||Z.password!==""},YF1=function(Z){return Z.host===null||Z.host===""||XJ(Z)||Z.scheme==="file"},XJ=function(Z){return typeof Z.path==="string"},JF1=function(Z){return/^[A-Za-z]:$/u.test(Z)},I0=function(Z,Y,J,X,$){if(this.pointer=0,this.input=Z,this.base=Y||null,this.encodingOverride=J||"utf-8",this.stateOverride=$,this.url=X,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};const G=ez1(this.input);if(G!==this.input)this.parseError=!0;this.input=G}const W=ZF1(this.input);if(W!==this.input)this.parseError=!0;this.input=W,this.state=$||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,(G)=>G.codePointAt(0));for(;this.pointer<=this.input.length;++this.pointer){const G=this.input[this.pointer],Q=isNaN(G)?void 0:String.fromCodePoint(G),K=this[`parse ${this.state}`](G,Q);if(!K)break;else if(K===M1){this.failure=!0;break}}},Kx=function(Z,Y){const J=Z.length-Y;return J>=2&&uz1(Z[Y],Z[Y+1])&&(J===2||XF1.has(Z[Y+2]))},$F1=function(Z,Y){let J=`${Z.scheme}:`;if(Z.host!==null){if(J+="//",Z.username!==""||Z.password!==""){if(J+=Z.username,Z.password!=="")J+=`:${Z.password}`;J+="@"}if(J+=PL(Z.host),Z.port!==null)J+=`:${Z.port}`}if(Z.host===null&&!XJ(Z)&&Z.path.length>1&&Z.path[0]==="")J+="/.";if(J+=TL(Z),Z.query!==null)J+=`?${Z.query}`;if(!Y&&Z.fragment!==null)J+=`#${Z.fragment}`;return J},WF1=function(Z){let Y=`${Z.scheme}://`;if(Y+=PL(Z.host),Z.port!==null)Y+=`:${Z.port}`;return Y},TL=function(Z){if(XJ(Z))return Z.path;let Y="";for(let J of Z.path)Y+=`/${J}`;return Y},xz1=m_(),G8=ML(),{utf8DecodeWithoutBOM:fz1}=OQ(),{percentDecodeString:yz1,utf8PercentEncodeCodePoint:_Q,utf8PercentEncodeString:xQ,isC0ControlPercentEncode:Yx,isFragmentPercentEncode:gz1,isQueryPercentEncode:bz1,isSpecialQueryPercentEncode:vz1,isPathPercentEncode:hz1,isUserinfoPercentEncode:DL}=SQ(),Jx={ftp:21,file:null,http:80,https:443,ws:80,wss:443},M1=Symbol("failure");I0.prototype["parse scheme start"]=function Z(Y,J){if(G8.isASCIIAlpha(Y))this.buffer+=J.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,M1;return!0};I0.prototype["parse scheme"]=function Z(Y,J){if(G8.isASCIIAlphanumeric(Y)||Y===a("+")||Y===a("-")||Y===a("."))this.buffer+=J.toLowerCase();else if(Y===a(":")){if(this.stateOverride){if(W8(this.url)&&!kQ(this.buffer))return!1;if(!W8(this.url)&&kQ(this.buffer))return!1;if((Qx(this.url)||this.url.port!==null)&&this.buffer==="file")return!1;if(this.url.scheme==="file"&&this.url.host==="")return!1}if(this.url.scheme=this.buffer,this.stateOverride){if(this.url.port===$x(this.url.scheme))this.url.port=null;return!1}if(this.buffer="",this.url.scheme==="file"){if(this.input[this.pointer+1]!==a("/")||this.input[this.pointer+2]!==a("/"))this.parseError=!0;this.state="file"}else if(W8(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme)this.state="special relative or authority";else if(W8(this.url))this.state="special authority slashes";else if(this.input[this.pointer+1]===a("/"))this.state="path or authority",++this.pointer;else this.url.path="",this.state="opaque path"}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,M1;return!0};I0.prototype["parse no scheme"]=function Z(Y){if(this.base===null||XJ(this.base)&&Y!==a("#"))return M1;else if(XJ(this.base)&&Y===a("#"))this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else if(this.base.scheme==="file")this.state="file",--this.pointer;else this.state="relative",--this.pointer;return!0};I0.prototype["parse special relative or authority"]=function Z(Y){if(Y===a("/")&&this.input[this.pointer+1]===a("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="relative",--this.pointer;return!0};I0.prototype["parse path or authority"]=function Z(Y){if(Y===a("/"))this.state="authority";else this.state="path",--this.pointer;return!0};I0.prototype["parse relative"]=function Z(Y){if(this.url.scheme=this.base.scheme,Y===a("/"))this.state="relative slash";else if(W8(this.url)&&Y===a("\\"))this.parseError=!0,this.state="relative slash";else if(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,Y===a("?"))this.url.query="",this.state="query";else if(Y===a("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(Y))this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer;return!0};I0.prototype["parse relative slash"]=function Z(Y){if(W8(this.url)&&(Y===a("/")||Y===a("\\"))){if(Y===a("\\"))this.parseError=!0;this.state="special authority ignore slashes"}else if(Y===a("/"))this.state="authority";else this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer;return!0};I0.prototype["parse special authority slashes"]=function Z(Y){if(Y===a("/")&&this.input[this.pointer+1]===a("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="special authority ignore slashes",--this.pointer;return!0};I0.prototype["parse special authority ignore slashes"]=function Z(Y){if(Y!==a("/")&&Y!==a("\\"))this.state="authority",--this.pointer;else this.parseError=!0;return!0};I0.prototype["parse authority"]=function Z(Y,J){if(Y===a("@")){if(this.parseError=!0,this.atFlag)this.buffer=`%40${this.buffer}`;this.atFlag=!0;const X=t_(this.buffer);for(let $=0;$<X;++$){const W=this.buffer.codePointAt($);if(W===a(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const G=_Q(W,DL);if(this.passwordTokenSeenFlag)this.url.password+=G;else this.url.username+=G}this.buffer=""}else if(isNaN(Y)||Y===a("/")||Y===a("?")||Y===a("#")||W8(this.url)&&Y===a("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,M1;this.pointer-=t_(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=J;return!0};I0.prototype["parse hostname"]=I0.prototype["parse host"]=function Z(Y,J){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(Y===a(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,M1;if(this.stateOverride==="hostname")return!1;const X=IL(this.buffer,NL(this.url));if(X===M1)return M1;this.url.host=X,this.buffer="",this.state="port"}else if(isNaN(Y)||Y===a("/")||Y===a("?")||Y===a("#")||W8(this.url)&&Y===a("\\")){if(--this.pointer,W8(this.url)&&this.buffer==="")return this.parseError=!0,M1;else if(this.stateOverride&&this.buffer===""&&(Qx(this.url)||this.url.port!==null))return this.parseError=!0,!1;const X=IL(this.buffer,NL(this.url));if(X===M1)return M1;if(this.url.host=X,this.buffer="",this.state="path start",this.stateOverride)return!1}else{if(Y===a("["))this.arrFlag=!0;else if(Y===a("]"))this.arrFlag=!1;this.buffer+=J}return!0};I0.prototype["parse port"]=function Z(Y,J){if(G8.isASCIIDigit(Y))this.buffer+=J;else if(isNaN(Y)||Y===a("/")||Y===a("?")||Y===a("#")||W8(this.url)&&Y===a("\\")||this.stateOverride){if(this.buffer!==""){const X=parseInt(this.buffer);if(X>65535)return this.parseError=!0,M1;this.url.port=X===$x(this.url.scheme)?null:X,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,M1;return!0};var XF1=new Set([a("/"),a("\\"),a("?"),a("#")]);I0.prototype["parse file"]=function Z(Y){if(this.url.scheme="file",this.url.host="",Y===a("/")||Y===a("\\")){if(Y===a("\\"))this.parseError=!0;this.state="file slash"}else if(this.base!==null&&this.base.scheme==="file"){if(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,Y===a("?"))this.url.query="",this.state="query";else if(Y===a("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(Y)){if(this.url.query=null,!Kx(this.input,this.pointer))Gx(this.url);else this.parseError=!0,this.url.path=[];this.state="path",--this.pointer}}else this.state="path",--this.pointer;return!0};I0.prototype["parse file slash"]=function Z(Y){if(Y===a("/")||Y===a("\\")){if(Y===a("\\"))this.parseError=!0;this.state="file host"}else{if(this.base!==null&&this.base.scheme==="file"){if(!Kx(this.input,this.pointer)&&dz1(this.base.path[0]))this.url.path.push(this.base.path[0]);this.url.host=this.base.host}this.state="path",--this.pointer}return!0};I0.prototype["parse file host"]=function Z(Y,J){if(isNaN(Y)||Y===a("/")||Y===a("\\")||Y===a("?")||Y===a("#"))if(--this.pointer,!this.stateOverride&&Xx(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let X=IL(this.buffer,NL(this.url));if(X===M1)return M1;if(X==="localhost")X="";if(this.url.host=X,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=J;return!0};I0.prototype["parse path start"]=function Z(Y){if(W8(this.url)){if(Y===a("\\"))this.parseError=!0;if(this.state="path",Y!==a("/")&&Y!==a("\\"))--this.pointer}else if(!this.stateOverride&&Y===a("?"))this.url.query="",this.state="query";else if(!this.stateOverride&&Y===a("#"))this.url.fragment="",this.state="fragment";else if(Y!==void 0){if(this.state="path",Y!==a("/"))--this.pointer}else if(this.stateOverride&&this.url.host===null)this.url.path.push("");return!0};I0.prototype["parse path"]=function Z(Y){if(isNaN(Y)||Y===a("/")||W8(this.url)&&Y===a("\\")||!this.stateOverride&&(Y===a("?")||Y===a("#"))){if(W8(this.url)&&Y===a("\\"))this.parseError=!0;if(mz1(this.buffer)){if(Gx(this.url),Y!==a("/")&&!(W8(this.url)&&Y===a("\\")))this.url.path.push("")}else if(e_(this.buffer)&&Y!==a("/")&&!(W8(this.url)&&Y===a("\\")))this.url.path.push("");else if(!e_(this.buffer)){if(this.url.scheme==="file"&&this.url.path.length===0&&Xx(this.buffer))this.buffer=`${this.buffer[0]}:`;this.url.path.push(this.buffer)}if(this.buffer="",Y===a("?"))this.url.query="",this.state="query";if(Y===a("#"))this.url.fragment="",this.state="fragment"}else{if(Y===a("%")&&(!G8.isASCIIHex(this.input[this.pointer+1])||!G8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=_Q(Y,hz1)}return!0};I0.prototype["parse opaque path"]=function Z(Y){if(Y===a("?"))this.url.query="",this.state="query";else if(Y===a("#"))this.url.fragment="",this.state="fragment";else{if(!isNaN(Y)&&Y!==a("%"))this.parseError=!0;if(Y===a("%")&&(!G8.isASCIIHex(this.input[this.pointer+1])||!G8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;if(!isNaN(Y))this.url.path+=_Q(Y,Yx)}return!0};I0.prototype["parse query"]=function Z(Y,J){if(!W8(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")this.encodingOverride="utf-8";if(!this.stateOverride&&Y===a("#")||isNaN(Y)){const X=W8(this.url)?vz1:bz1;if(this.url.query+=xQ(this.buffer,X),this.buffer="",Y===a("#"))this.url.fragment="",this.state="fragment"}else if(!isNaN(Y)){if(Y===a("%")&&(!G8.isASCIIHex(this.input[this.pointer+1])||!G8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=J}return!0};I0.prototype["parse fragment"]=function Z(Y){if(!isNaN(Y)){if(Y===a("%")&&(!G8.isASCIIHex(this.input[this.pointer+1])||!G8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.url.fragment+=_Q(Y,gz1)}return!0};GF1.serializeURL=$F1;GF1.serializePath=TL;GF1.serializeURLOrigin=function(Z){switch(Z.scheme){case"blob":try{return GF1.serializeURLOrigin(GF1.parseURL(TL(Z)))}catch(Y){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return WF1({scheme:Z.scheme,host:Z.host,port:Z.port});case"file":return"null";default:return"null"}};GF1.basicURLParse=function(Z,Y){if(Y===void 0)Y={};const J=new I0(Z,Y.baseURL,Y.encodingOverride,Y.url,Y.stateOverride);if(J.failure)return null;return J.url};GF1.setTheUsername=function(Z,Y){Z.username=xQ(Y,DL)};GF1.setThePassword=function(Z,Y){Z.password=xQ(Y,DL)};GF1.serializeHost=PL;GF1.cannotHaveAUsernamePasswordPort=YF1;GF1.hasAnOpaquePath=XJ;GF1.serializeInteger=function(Z){return String(Z)};GF1.parseURL=function(Z,Y){if(Y===void 0)Y={};return GF1.basicURLParse(Z,{baseURL:Y.baseURL,encodingOverride:Y.encodingOverride})}});var EL=R((Da1,Rx)=>{var Vx=function(Z){return Z.codePointAt(0)},wF1=function(Z){const Y=AF1(Z,Vx("&")),J=[];for(let X of Y){if(X.length===0)continue;let $,W;const G=X.indexOf(Vx("="));if(G>=0)$=X.slice(0,G),W=X.slice(G+1);else $=X,W=new Uint8Array(0);$=Lx($,43,32),W=Lx(W,43,32);const Q=zx(Fx($)),K=zx(Fx(W));J.push([Q,K])}return J},MF1=function(Z){return wF1(RF1(Z))},BF1=function(Z,Y=void 0){let J="utf-8";if(Y!==void 0)J=Y;let X="";for(let[$,W]of Z.entries()){const G=Ux(W[0],qx,!0);let Q=W[1];if(W.length>2&&W[2]!==void 0){if(W[2]==="hidden"&&G==="_charset_")Q=J;else if(W[2]==="file")Q=Q.name}if(Q=Ux(Q,qx,!0),$!==0)X+="&";X+=`${G}=${Q}`}return X},AF1=function(Z,Y){const J=[];let X=0,$=Z.indexOf(Y);while($>=0)J.push(Z.slice(X,$)),X=$+1,$=Z.indexOf(Y,X);if(X!==Z.length)J.push(Z.slice(X));return J},Lx=function(Z,Y,J){let X=Z.indexOf(Y);while(X>=0)Z[X]=J,X=Z.indexOf(Y,X+1);return Z},{utf8Encode:RF1,utf8DecodeWithoutBOM:zx}=OQ(),{percentDecodeBytes:Fx,utf8PercentEncodeString:Ux,isURLEncodedPercentEncode:qx}=SQ();Rx.exports={parseUrlencodedString:MF1,serializeUrlencoded:BF1}});var Mx=R((NF1)=>{var wx=CQ(),fQ=jQ();NF1.convert=(Z,Y,{context:J="The provided value"}={})=>{if(typeof Y!=="function")throw new Z.TypeError(J+" is not a function");function X(...$){const W=fQ.tryWrapperForImpl(this);let G;for(let Q=0;Q<$.length;Q++)$[Q]=fQ.tryWrapperForImpl($[Q]);return G=Reflect.apply(Y,W,$),G=wx.any(G,{context:J,globals:Z}),G}return X.construct=(...$)=>{for(let G=0;G<$.length;G++)$[G]=fQ.tryWrapperForImpl($[G]);let W=Reflect.construct(Y,$);return W=wx.any(W,{context:J,globals:Z}),W},X[fQ.wrapperSymbol]=Y,X.objectReference=Y,X}});var Bx=R((DF1)=>{var jL=EL();DF1.implementation=class Z{constructor(Y,J,{doNotStripQMark:X=!1}){let $=J[0];if(this._list=[],this._url=null,!X&&typeof $==="string"&&$[0]==="?")$=$.slice(1);if(Array.isArray($))for(let W of $){if(W.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([W[0],W[1]])}else if(typeof $==="object"&&Object.getPrototypeOf($)===null)for(let W of Object.keys($)){const G=$[W];this._list.push([W,G])}else this._list=jL.parseUrlencodedString($)}_updateSteps(){if(this._url!==null){let Y=jL.serializeUrlencoded(this._list);if(Y==="")Y=null;this._url._url.query=Y}}append(Y,J){this._list.push([Y,J]),this._updateSteps()}delete(Y){let J=0;while(J<this._list.length)if(this._list[J][0]===Y)this._list.splice(J,1);else J++;this._updateSteps()}get(Y){for(let J of this._list)if(J[0]===Y)return J[1];return null}getAll(Y){const J=[];for(let X of this._list)if(X[0]===Y)J.push(X[1]);return J}has(Y){for(let J of this._list)if(J[0]===Y)return!0;return!1}set(Y,J){let X=!1,$=0;while($<this._list.length)if(this._list[$][0]===Y)if(X)this._list.splice($,1);else X=!0,this._list[$][1]=J,$++;else $++;if(!X)this._list.push([Y,J]);this._updateSteps()}sort(){this._list.sort((Y,J)=>{if(Y[0]<J[0])return-1;if(Y[0]>J[0])return 1;return 0}),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return jL.serializeUrlencoded(this._list)}}});var SL=R((EF1)=>{var Ix=function(Z,Y){let J;if(Y!==void 0)J=Y.prototype;if(!Z0.isObject(J))J=Z[Nx].URLSearchParams.prototype;return Object.create(J)},Y7=CQ(),Z0=jQ(),TF1=Mx(),Ax=Z0.newObjectInRealm,g0=Z0.implSymbol,Nx=Z0.ctorRegistrySymbol;EF1.is=(Z)=>{return Z0.isObject(Z)&&Z0.hasOwn(Z,g0)&&Z[g0]instanceof d5.implementation};EF1.isImpl=(Z)=>{return Z0.isObject(Z)&&Z instanceof d5.implementation};EF1.convert=(Z,Y,{context:J="The provided value"}={})=>{if(EF1.is(Y))return Z0.implForWrapper(Y);throw new Z.TypeError(`${J} is not of type 'URLSearchParams'.`)};EF1.createDefaultIterator=(Z,Y,J)=>{const $=Z[Nx]["URLSearchParams Iterator"],W=Object.create($);return Object.defineProperty(W,Z0.iterInternalSymbol,{value:{target:Y,kind:J,index:0},configurable:!0}),W};EF1.create=(Z,Y,J)=>{const X=Ix(Z);return EF1.setup(X,Z,Y,J)};EF1.createImpl=(Z,Y,J)=>{const X=EF1.create(Z,Y,J);return Z0.implForWrapper(X)};EF1._internalSetup=(Z,Y)=>{};EF1.setup=(Z,Y,J=[],X={})=>{if(X.wrapper=Z,EF1._internalSetup(Z,Y),Object.defineProperty(Z,g0,{value:new d5.implementation(Y,J,X),configurable:!0}),Z[g0][Z0.wrapperSymbol]=Z,d5.init)d5.init(Z[g0]);return Z};EF1.new=(Z,Y)=>{const J=Ix(Z,Y);if(EF1._internalSetup(J,Z),Object.defineProperty(J,g0,{value:Object.create(d5.implementation.prototype),configurable:!0}),J[g0][Z0.wrapperSymbol]=J,d5.init)d5.init(J[g0]);return J[g0]};var CF1=new Set(["Window","Worker"]);EF1.install=(Z,Y)=>{if(!Y.some(($)=>CF1.has($)))return;const J=Z0.initCtorRegistry(Z);class X{constructor(){const $=[];{let W=arguments[0];if(W!==void 0)if(Z0.isObject(W))if(W[Symbol.iterator]!==void 0)if(!Z0.isObject(W))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else{const G=[],Q=W;for(let K of Q){if(!Z0.isObject(K))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");else{const H=[],z=K;for(let F of z)F=Y7.USVString(F,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:Z}),H.push(F);K=H}G.push(K)}W=G}else if(!Z0.isObject(W))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else{const G=Object.create(null);for(let Q of Reflect.ownKeys(W)){const K=Object.getOwnPropertyDescriptor(W,Q);if(K&&K.enumerable){let H=Q;H=Y7.USVString(H,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:Z});let z=W[Q];z=Y7.USVString(z,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:Z}),G[H]=z}}W=G}else W=Y7.USVString(W,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:Z});else W="";$.push(W)}return EF1.setup(Object.create(new.target.prototype),Z,$)}append($,W){const G=this!==null&&this!==void 0?this:Z;if(!EF1.is(G))throw new Z.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const Q=[];{let K=arguments[0];K=Y7.USVString(K,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:Z}),Q.push(K)}{let K=arguments[1];K=Y7.USVString(K,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:Z}),Q.push(K)}return Z0.tryWrapperForImpl(G[g0].append(...Q))}delete($){const W=this!==null&&this!==void 0?this:Z;if(!EF1.is(W))throw new Z.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=Y7.USVString(Q,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return Z0.tryWrapperForImpl(W[g0].delete(...G))}get($){const W=this!==null&&this!==void 0?this:Z;if(!EF1.is(W))throw new Z.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=Y7.USVString(Q,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return W[g0].get(...G)}getAll($){const W=this!==null&&this!==void 0?this:Z;if(!EF1.is(W))throw new Z.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=Y7.USVString(Q,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return Z0.tryWrapperForImpl(W[g0].getAll(...G))}has($){const W=this!==null&&this!==void 0?this:Z;if(!EF1.is(W))throw new Z.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=Y7.USVString(Q,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return W[g0].has(...G)}set($,W){const G=this!==null&&this!==void 0?this:Z;if(!EF1.is(G))throw new Z.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const Q=[];{let K=arguments[0];K=Y7.USVString(K,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:Z}),Q.push(K)}{let K=arguments[1];K=Y7.USVString(K,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:Z}),Q.push(K)}return Z0.tryWrapperForImpl(G[g0].set(...Q))}sort(){const $=this!==null&&this!==void 0?this:Z;if(!EF1.is($))throw new Z.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return Z0.tryWrapperForImpl($[g0].sort())}toString(){const $=this!==null&&this!==void 0?this:Z;if(!EF1.is($))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return $[g0].toString()}keys(){if(!EF1.is(this))throw new Z.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return EF1.createDefaultIterator(Z,this,"key")}values(){if(!EF1.is(this))throw new Z.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return EF1.createDefaultIterator(Z,this,"value")}entries(){if(!EF1.is(this))throw new Z.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return EF1.createDefaultIterator(Z,this,"key+value")}forEach($){if(!EF1.is(this))throw new Z.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");$=TF1.convert(Z,$,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});const W=arguments[1];let G=Array.from(this[g0]),Q=0;while(Q<G.length){const[K,H]=G[Q].map(Z0.tryWrapperForImpl);$.call(W,H,K,this),G=Array.from(this[g0]),Q++}}}Object.defineProperties(X.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:X.prototype.entries,configurable:!0,writable:!0}}),J["URLSearchParams"]=X,J["URLSearchParams Iterator"]=Object.create(J["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),Z0.define(J["URLSearchParams Iterator"],{next(){const $=this&&this[Z0.iterInternalSymbol];if(!$)throw new Z.TypeError("next() called on a value that is not a URLSearchParams iterator object");const{target:W,kind:G,index:Q}=$,K=Array.from(W[g0]),H=K.length;if(Q>=H)return Ax(Z,{value:void 0,done:!0});const z=K[Q];return $.index=Q+1,Ax(Z,Z0.iteratorResult(z.map(Z0.tryWrapperForImpl),G))}}),Object.defineProperty(Z,"URLSearchParams",{configurable:!0,writable:!0,value:X})};var d5=Bx()});var Cx=R((fF1)=>{var Q0=CL(),Tx=EL(),xF1=SL();fF1.implementation=class Z{constructor(Y,J){const X=J[0],$=J[1];let W=null;if($!==void 0){if(W=Q0.basicURLParse($),W===null)throw new TypeError(`Invalid base URL: ${$}`)}const G=Q0.basicURLParse(X,{baseURL:W});if(G===null)throw new TypeError(`Invalid URL: ${X}`);const Q=G.query!==null?G.query:"";this._url=G,this._query=xF1.createImpl(Y,[Q],{doNotStripQMark:!0}),this._query._url=this}get href(){return Q0.serializeURL(this._url)}set href(Y){const J=Q0.basicURLParse(Y);if(J===null)throw new TypeError(`Invalid URL: ${Y}`);this._url=J,this._query._list.splice(0);const{query:X}=J;if(X!==null)this._query._list=Tx.parseUrlencodedString(X)}get origin(){return Q0.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(Y){Q0.basicURLParse(`${Y}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(Y){if(Q0.cannotHaveAUsernamePasswordPort(this._url))return;Q0.setTheUsername(this._url,Y)}get password(){return this._url.password}set password(Y){if(Q0.cannotHaveAUsernamePasswordPort(this._url))return;Q0.setThePassword(this._url,Y)}get host(){const Y=this._url;if(Y.host===null)return"";if(Y.port===null)return Q0.serializeHost(Y.host);return`${Q0.serializeHost(Y.host)}:${Q0.serializeInteger(Y.port)}`}set host(Y){if(Q0.hasAnOpaquePath(this._url))return;Q0.basicURLParse(Y,{url:this._url,stateOverride:"host"})}get hostname(){if(this._url.host===null)return"";return Q0.serializeHost(this._url.host)}set hostname(Y){if(Q0.hasAnOpaquePath(this._url))return;Q0.basicURLParse(Y,{url:this._url,stateOverride:"hostname"})}get port(){if(this._url.port===null)return"";return Q0.serializeInteger(this._url.port)}set port(Y){if(Q0.cannotHaveAUsernamePasswordPort(this._url))return;if(Y==="")this._url.port=null;else Q0.basicURLParse(Y,{url:this._url,stateOverride:"port"})}get pathname(){return Q0.serializePath(this._url)}set pathname(Y){if(Q0.hasAnOpaquePath(this._url))return;this._url.path=[],Q0.basicURLParse(Y,{url:this._url,stateOverride:"path start"})}get search(){if(this._url.query===null||this._url.query==="")return"";return`?${this._url.query}`}set search(Y){const J=this._url;if(Y===""){J.query=null,this._query._list=[];return}const X=Y[0]==="?"?Y.substring(1):Y;J.query="",Q0.basicURLParse(X,{url:J,stateOverride:"query"}),this._query._list=Tx.parseUrlencodedString(X)}get searchParams(){return this._query}get hash(){if(this._url.fragment===null||this._url.fragment==="")return"";return`#${this._url.fragment}`}set hash(Y){if(Y===""){this._url.fragment=null;return}const J=Y[0]==="#"?Y.substring(1):Y;this._url.fragment="",Q0.basicURLParse(J,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var Sx=R((vF1)=>{var Ex=function(Z,Y){let J;if(Y!==void 0)J=Y.prototype;if(!E6.isObject(J))J=Z[gF1].URL.prototype;return Object.create(J)},J7=CQ(),E6=jQ(),v1=E6.implSymbol,gF1=E6.ctorRegistrySymbol;vF1.is=(Z)=>{return E6.isObject(Z)&&E6.hasOwn(Z,v1)&&Z[v1]instanceof c5.implementation};vF1.isImpl=(Z)=>{return E6.isObject(Z)&&Z instanceof c5.implementation};vF1.convert=(Z,Y,{context:J="The provided value"}={})=>{if(vF1.is(Y))return E6.implForWrapper(Y);throw new Z.TypeError(`${J} is not of type 'URL'.`)};vF1.create=(Z,Y,J)=>{const X=Ex(Z);return vF1.setup(X,Z,Y,J)};vF1.createImpl=(Z,Y,J)=>{const X=vF1.create(Z,Y,J);return E6.implForWrapper(X)};vF1._internalSetup=(Z,Y)=>{};vF1.setup=(Z,Y,J=[],X={})=>{if(X.wrapper=Z,vF1._internalSetup(Z,Y),Object.defineProperty(Z,v1,{value:new c5.implementation(Y,J,X),configurable:!0}),Z[v1][E6.wrapperSymbol]=Z,c5.init)c5.init(Z[v1]);return Z};vF1.new=(Z,Y)=>{const J=Ex(Z,Y);if(vF1._internalSetup(J,Z),Object.defineProperty(J,v1,{value:Object.create(c5.implementation.prototype),configurable:!0}),J[v1][E6.wrapperSymbol]=J,c5.init)c5.init(J[v1]);return J[v1]};var bF1=new Set(["Window","Worker"]);vF1.install=(Z,Y)=>{if(!Y.some(($)=>bF1.has($)))return;const J=E6.initCtorRegistry(Z);class X{constructor($){if(arguments.length<1)throw new Z.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);const W=[];{let G=arguments[0];G=J7.USVString(G,{context:"Failed to construct 'URL': parameter 1",globals:Z}),W.push(G)}{let G=arguments[1];if(G!==void 0)G=J7.USVString(G,{context:"Failed to construct 'URL': parameter 2",globals:Z});W.push(G)}return vF1.setup(Object.create(new.target.prototype),Z,W)}toJSON(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return $[v1].toJSON()}get href(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get href' called on an object that is not a valid instance of URL.");return $[v1].href}set href($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set href' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:Z}),W[v1].href=$}toString(){const $=this;if(!vF1.is($))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URL.");return $[v1].href}get origin(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get origin' called on an object that is not a valid instance of URL.");return $[v1].origin}get protocol(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return $[v1].protocol}set protocol($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set protocol' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:Z}),W[v1].protocol=$}get username(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get username' called on an object that is not a valid instance of URL.");return $[v1].username}set username($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set username' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:Z}),W[v1].username=$}get password(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get password' called on an object that is not a valid instance of URL.");return $[v1].password}set password($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set password' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:Z}),W[v1].password=$}get host(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get host' called on an object that is not a valid instance of URL.");return $[v1].host}set host($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set host' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:Z}),W[v1].host=$}get hostname(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return $[v1].hostname}set hostname($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set hostname' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:Z}),W[v1].hostname=$}get port(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get port' called on an object that is not a valid instance of URL.");return $[v1].port}set port($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set port' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:Z}),W[v1].port=$}get pathname(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return $[v1].pathname}set pathname($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set pathname' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:Z}),W[v1].pathname=$}get search(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get search' called on an object that is not a valid instance of URL.");return $[v1].search}set search($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set search' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:Z}),W[v1].search=$}get searchParams(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return E6.getSameObject(this,"searchParams",()=>{return E6.tryWrapperForImpl($[v1].searchParams)})}get hash(){const $=this!==null&&this!==void 0?this:Z;if(!vF1.is($))throw new Z.TypeError("'get hash' called on an object that is not a valid instance of URL.");return $[v1].hash}set hash($){const W=this!==null&&this!==void 0?this:Z;if(!vF1.is(W))throw new Z.TypeError("'set hash' called on an object that is not a valid instance of URL.");$=J7.USVString($,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:Z}),W[v1].hash=$}}if(Object.defineProperties(X.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),J["URL"]=X,Object.defineProperty(Z,"URL",{configurable:!0,writable:!0,value:X}),Y.includes("Window"))Object.defineProperty(Z,"webkitURL",{configurable:!0,writable:!0,value:X})};var c5=Cx()});var kx=R((iF1)=>{var pF1=Sx(),lF1=SL();iF1.URL=pF1;iF1.URLSearchParams=lF1});var xx=R((tF1)=>{var{URL:sF1,URLSearchParams:rF1}=kx(),E7=CL(),_x=SQ(),gQ={Array,Object,Promise,String,TypeError};sF1.install(gQ,["Window"]);rF1.install(gQ,["Window"]);tF1.URL=gQ.URL;tF1.URLSearchParams=gQ.URLSearchParams;tF1.parseURL=E7.parseURL;tF1.basicURLParse=E7.basicURLParse;tF1.serializeURL=E7.serializeURL;tF1.serializePath=E7.serializePath;tF1.serializeHost=E7.serializeHost;tF1.serializeInteger=E7.serializeInteger;tF1.serializeURLOrigin=E7.serializeURLOrigin;tF1.setTheUsername=E7.setTheUsername;tF1.setThePassword=E7.setThePassword;tF1.cannotHaveAUsernamePasswordPort=E7.cannotHaveAUsernamePasswordPort;tF1.hasAnOpaquePath=E7.hasAnOpaquePath;tF1.percentDecodeString=_x.percentDecodeString;tF1.percentDecodeBytes=_x.percentDecodeBytes});var yx=R((X7)=>{var RU1=function(Z,Y){var J,X;const $=Z.clone(),W=(J=Y===null||Y===void 0?void 0:Y.replacementString)!==null&&J!==void 0?J:"_credentials_",G=(X=Y===null||Y===void 0?void 0:Y.redactUsernames)!==null&&X!==void 0?X:!0;if(($.username||$.password)&&G)$.username=W,$.password="";else if($.password)$.password=W;if($.searchParams.has("authMechanismProperties")){const Q=new fx.CommaAndColonSeparatedRecord($.searchParams.get("authMechanismProperties"));if(Q.get("AWS_SESSION_TOKEN"))Q.set("AWS_SESSION_TOKEN",W),$.searchParams.set("authMechanismProperties",Q.toString())}if($.searchParams.has("tlsCertificateKeyFilePassword"))$.searchParams.set("tlsCertificateKeyFilePassword",W);if($.searchParams.has("proxyUsername")&&G)$.searchParams.set("proxyUsername",W);if($.searchParams.has("proxyPassword"))$.searchParams.set("proxyPassword",W);return $},wU1=function(Z,Y){var J,X;const $=(J=Y===null||Y===void 0?void 0:Y.replacementString)!==null&&J!==void 0?J:"<credentials>",W=(X=Y===null||Y===void 0?void 0:Y.redactUsernames)!==null&&X!==void 0?X:!0;let G;try{G=new fx.default(Z)}catch(H){}if(G)return Y={...Y,replacementString:"___credentials___"},G.redact(Y).toString().replace(/___credentials___/g,$);const Q=$,K=[(H)=>H.replace(W?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`\$1${Q}\$3`),(H)=>H.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`\$1${Q}`),(H)=>H.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`\$1${Q}`),(H)=>W?H.replace(/(proxyUsername=)([^&]+)/gi,`\$1${Q}`):H,(H)=>H.replace(/(proxyPassword=)([^&]+)/gi,`\$1${Q}`)];for(let H of K)Z=H(Z);return Z},qU1=X7&&X7.__createBinding||(Object.create?function(Z,Y,J,X){if(X===void 0)X=J;var $=Object.getOwnPropertyDescriptor(Y,J);if(!$||("get"in $?!Y.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Y[J]}};Object.defineProperty(Z,X,$)}:function(Z,Y,J,X){if(X===void 0)X=J;Z[X]=Y[J]}),VU1=X7&&X7.__setModuleDefault||(Object.create?function(Z,Y){Object.defineProperty(Z,"default",{enumerable:!0,value:Y})}:function(Z,Y){Z.default=Y}),LU1=X7&&X7.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var Y={};if(Z!=null){for(var J in Z)if(J!=="default"&&Object.prototype.hasOwnProperty.call(Z,J))qU1(Y,Z,J)}return VU1(Y,Z),Y};Object.defineProperty(X7,"__esModule",{value:!0});X7.redactConnectionString=X7.redactValidConnectionString=void 0;var fx=LU1(_L());X7.redactValidConnectionString=RU1;X7.redactConnectionString=wU1});var _L=R((fL)=>{var BU1=function(Z){return Z.startsWith("mongodb://")||Z.startsWith("mongodb+srv://")},NU1=function(Z){return class Y extends Z{append(J,X){return super.append(this._normalizeKey(J),X)}delete(J){return super.delete(this._normalizeKey(J))}get(J){return super.get(this._normalizeKey(J))}getAll(J){return super.getAll(this._normalizeKey(J))}has(J){return super.has(this._normalizeKey(J))}set(J,X){return super.set(this._normalizeKey(J),X)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(J){return xL.prototype._normalizeKey.call(this,J)}}};Object.defineProperty(fL,"__esModule",{value:!0});fL.CommaAndColonSeparatedRecord=fL.ConnectionString=fL.redactConnectionString=void 0;var MU1=xx(),gx=yx();Object.defineProperty(fL,"redactConnectionString",{enumerable:!0,get:function(){return gx.redactConnectionString}});var b3="__this_is_a_placeholder__",AU1=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;class xL extends Map{delete(Z){return super.delete(this._normalizeKey(Z))}get(Z){return super.get(this._normalizeKey(Z))}has(Z){return super.has(this._normalizeKey(Z))}set(Z,Y){return super.set(this._normalizeKey(Z),Y)}_normalizeKey(Z){Z=`${Z}`;for(let Y of this.keys())if(Y.toLowerCase()===Z.toLowerCase()){Z=Y;break}return Z}}class bx extends MU1.URL{}class H4 extends Error{get name(){return"MongoParseError"}}class v3 extends bx{constructor(Z,Y={}){var J;const{looseValidation:X}=Y;if(!X&&!BU1(Z))throw new H4('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');const $=Z.match(AU1);if(!$)throw new H4(`Invalid connection string "${Z}"`);const{protocol:W,username:G,password:Q,hosts:K,rest:H}=(J=$.groups)!==null&&J!==void 0?J:{};if(!X){if(!W||!K)throw new H4(`Protocol and host list are required in "${Z}"`);try{decodeURIComponent(G!==null&&G!==void 0?G:""),decodeURIComponent(Q!==null&&Q!==void 0?Q:"")}catch(U){throw new H4(U.message)}const F=/[:/?#[\]@]/gi;if(G===null||G===void 0?void 0:G.match(F))throw new H4(`Username contains unescaped characters ${G}`);if(!G||!Q){const U=Z.replace(`${W}://`,"");if(U.startsWith("@")||U.startsWith(":"))throw new H4("URI contained empty userinfo section")}if(Q===null||Q===void 0?void 0:Q.match(F))throw new H4("Password contains unescaped characters")}let z="";if(typeof G==="string")z+=G;if(typeof Q==="string")z+=`:${Q}`;if(z)z+="@";try{super(`${W.toLowerCase()}://${z}${b3}${H}`)}catch(F){if(X)new v3(Z,{...Y,looseValidation:!1});if(typeof F.message==="string")F.message=F.message.replace(b3,K);throw F}if(this._hosts=K.split(","),!X){if(this.isSRV&&this.hosts.length!==1)throw new H4("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some((F)=>F.includes(":")))throw new H4("mongodb+srv URI cannot have port number")}if(!this.pathname)this.pathname="/";Object.setPrototypeOf(this.searchParams,NU1(this.searchParams.constructor).prototype)}get host(){return b3}set host(Z){throw new Error("No single host for connection string")}get hostname(){return b3}set hostname(Z){throw new Error("No single host for connection string")}get port(){return""}set port(Z){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(Z){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(Z){this._hosts=Z}toString(){return super.toString().replace(b3,this.hosts.join(","))}clone(){return new v3(this.toString(),{looseValidation:!0})}redact(Z){return gx.redactValidConnectionString(this,Z)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){const{href:Z,origin:Y,protocol:J,username:X,password:$,hosts:W,pathname:G,search:Q,searchParams:K,hash:H}=this;return{href:Z,origin:Y,protocol:J,username:X,password:$,hosts:W,pathname:G,search:Q,searchParams:K,hash:H}}}fL.ConnectionString=v3;class vx extends xL{constructor(Z){super();for(let Y of(Z!==null&&Z!==void 0?Z:"").split(",")){if(!Y)continue;const J=Y.indexOf(":");if(J===-1)this.set(Y,"");else this.set(Y.slice(0,J),Y.slice(J+1))}}toString(){return[...this].map((Z)=>Z.join(":")).join(",")}}fL.CommaAndColonSeparatedRecord=vx;fL.default=v3});var mx=R((fa1,PU1)=>{PU1.exports={name:"mongodb",version:"6.2.0",description:"The official MongoDB driver for Node.js",main:"lib/index.js",files:["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],types:"mongodb.d.ts",repository:{type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},keywords:["mongodb","driver","official"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},dependencies:{"@mongodb-js/saslprep":"^1.1.0",bson:"^6.2.0","mongodb-connection-string-url":"^2.6.0"},peerDependencies:{"@aws-sdk/credential-providers":"^3.188.0","@mongodb-js/zstd":"^1.1.0","gcp-metadata":"^5.2.0",kerberos:"^2.0.1","mongodb-client-encryption":">=6.0.0 <7",snappy:"^7.2.2",socks:"^2.7.1"},peerDependenciesMeta:{"@aws-sdk/credential-providers":{optional:!0},"@mongodb-js/zstd":{optional:!0},kerberos:{optional:!0},snappy:{optional:!0},"mongodb-client-encryption":{optional:!0},"gcp-metadata":{optional:!0},socks:{optional:!0}},devDependencies:{"@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.36.4","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.1.0","@octokit/core":"^4.2.4","@types/chai":"^4.3.5","@types/chai-subset":"^1.3.3","@types/express":"^4.17.17","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.1","@types/node":"^20.5.9","@types/saslprep":"^1.0.1","@types/semver":"^7.5.0","@types/sinon":"^10.0.16","@types/sinon-chai":"^3.2.9","@types/whatwg-url":"^11.0.0","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0",chai:"^4.3.7","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.48.0","eslint-config-prettier":"^8.10.0","eslint-plugin-import":"^2.28.1","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-tsdoc":"^0.2.17","eslint-plugin-unused-imports":"^2.0.0",express:"^4.18.2","gcp-metadata":"^5.2.0","js-yaml":"^4.1.0",mocha:"^10.2.0","mocha-sinon":"^2.1.2","mongodb-client-encryption":"^6.0.0","mongodb-legacy":"^6.0.0",nyc:"^15.1.0",prettier:"^2.8.8",semver:"^7.5.4",sinon:"^15.2.0","sinon-chai":"^3.7.0",snappy:"^7.2.2",socks:"^2.7.1","source-map-support":"^0.5.21","ts-node":"^10.9.1",tsd:"^0.28.1",typescript:"^5.0.4","typescript-cached-transpile":"^0.0.6","v8-heapsnapshot":"^1.3.1",yargs:"^17.7.2"},license:"Apache-2.0",engines:{node:">=16.20.1"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},homepage:"https://github.com/mongodb/node-mongodb-native",scripts:{"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && node etc/clean_definition_files.cjs && eslint mongodb.d.ts --fix","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","build:nightly":"node ./.github/scripts/nightly.mjs","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:search-indexes":"nyc mocha --config test/mocha_mongodb.json test/manual/search-index-management.prose.test.ts","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:drivers-atlas-testing":"mocha --config test/mocha_mongodb.json test/atlas/drivers_atlas_testing.test.ts","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"nyc mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:oidc":"mocha --config test/mocha_mongodb.json test/manual/mongodb_oidc.prose.test.ts","check:oidc-azure":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_oidc_azure.prose.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"nyc mocha --config test/manual/mocharc.json test/manual/kerberos.test.ts","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.ts","check:ldap":"nyc mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},tsd:{directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}}}});var ix=R((px)=>{var TU1=function(Z){const Y=new yL(512),{appName:J=""}=Z;if(J.length>0){const z=Buffer.byteLength(J,"utf8")<=128?Z.appName:Buffer.from(J,"utf8").subarray(0,128).toString("utf8");Y.ifItFitsItSits("application",{name:z})}const{name:X="",version:$="",platform:W=""}=Z.driverInfo,G={name:X.length>0?`nodejs|${X}`:"nodejs",version:$.length>0?`${dx}|${$}`:dx};if(!Y.ifItFitsItSits("driver",G))throw new ux.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let Q=CU1();if(W.length>0)Q=`${Q}|${W}`;if(!Y.ifItFitsItSits("platform",Q))throw new ux.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");const K=(new Map()).set("name",bQ.platform).set("architecture",bQ.arch).set("version",h3.release()).set("type",h3.type());if(!Y.ifItFitsItSits("os",K))for(let z of K.keys()){if(K.delete(z),K.size===0)break;if(Y.ifItFitsItSits("os",K))break}const H=cx();if(H!=null){if(!Y.ifItFitsItSits("env",H))for(let z of H.keys()){if(H.delete(z),H.size===0)break;if(Y.ifItFitsItSits("env",H))break}}return Y.toObject()},cx=function(){const{AWS_EXECUTION_ENV:Z="",AWS_LAMBDA_RUNTIME_API:Y="",FUNCTIONS_WORKER_RUNTIME:J="",K_SERVICE:X="",FUNCTION_NAME:$="",VERCEL:W="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:G="",AWS_REGION:Q="",FUNCTION_MEMORY_MB:K="",FUNCTION_REGION:H="",FUNCTION_TIMEOUT_SEC:z="",VERCEL_REGION:F=""}=bQ.env,U=Z.startsWith("AWS_Lambda_")||Y.length>0,q=J.length>0,V=X.length>0||$.length>0,L=W.length>0,w=new Map;if(L&&!(q||V)){if(F.length>0)w.set("region",F);return w.set("name","vercel"),w}if(U&&!(q||V||L)){if(Q.length>0)w.set("region",Q);if(G.length>0&&Number.isInteger(+G))w.set("memory_mb",new $J.Int32(G));return w.set("name","aws.lambda"),w}if(q&&!(V||U||L))return w.set("name","azure.func"),w;if(V&&!(q||U||L)){if(H.length>0)w.set("region",H);if(K.length>0&&Number.isInteger(+K))w.set("memory_mb",new $J.Int32(K));if(z.length>0&&Number.isInteger(+z))w.set("timeout_sec",new $J.Int32(z));return w.set("name","gcp.func"),w}return null},CU1=function(){if("Deno"in globalThis)return`Deno v${typeof Deno?.version?.deno==="string"?Deno?.version?.deno:"0.0.0-unknown"}, ${h3.endianness()}`;if("Bun"in globalThis)return`Bun v${typeof Bun?.version==="string"?Bun?.version:"0.0.0-unknown"}, ${h3.endianness()}`;return`Node.js ${bQ.version}, ${h3.endianness()}`};Object.defineProperty(px,"__esModule",{value:!0});px.getFAASEnv=px.makeClientMetadata=px.LimitedSizeDocument=void 0;var h3=import.meta.require("os"),bQ=import.meta.require("process"),$J=G0(),ux=o(),dx=mx().version;class yL{constructor(Z){this.maxSize=Z,this.document=new Map,this.documentSize=5}ifItFitsItSits(Z,Y){const J=$J.BSON.serialize((new Map()).set(Z,Y)).byteLength-5;if(J+this.documentSize>this.maxSize)return!1;return this.documentSize+=J,this.document.set(Z,Y),!0}toObject(){return $J.BSON.deserialize($J.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}}px.LimitedSizeDocument=yL;px.makeClientMetadata=TU1;px.getFAASEnv=cx});var hQ=R((ox)=>{var rx=function(){if(K9==null){const Z=ax.getSnappy();if("kModuleError"in Z)throw Z.kModuleError;K9=Z}return K9};async function xU1(Z,Y){const J={};switch(Z.agreedCompressor){case"snappy":return K9??=rx(),K9.compress(Y);case"zstd":{if(tx(),"kModuleError"in l5)throw l5.kModuleError;return l5.compress(Y,SU1)}case"zlib":{if(Z.zlibCompressionLevel)J.level=Z.zlibCompressionLevel;return _U1(Y,J)}default:throw new sx.MongoInvalidArgumentError(`Unknown compressor ${Z.agreedCompressor} failed to compress`)}}async function fU1(Z,Y){if(Z!==ox.Compressor.snappy&&Z!==ox.Compressor.zstd&&Z!==ox.Compressor.zlib&&Z!==ox.Compressor.none)throw new sx.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${Z})`);switch(Z){case ox.Compressor.snappy:return K9??=rx(),K9.uncompress(Y,{asBuffer:!0});case ox.Compressor.zstd:{if(tx(),"kModuleError"in l5)throw l5.kModuleError;return l5.decompress(Y)}case ox.Compressor.zlib:return kU1(Y);default:return Y}}var tx=function(){if(!l5)l5=ax.getZstdLibrary()};Object.defineProperty(ox,"__esModule",{value:!0});ox.decompress=ox.compress=ox.uncompressibleCommands=ox.Compressor=void 0;var nx=import.meta.require("util"),vQ=import.meta.require("zlib"),OU1=r0(),ax=C7(),sx=o();ox.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3});ox.uncompressibleCommands=new Set([OU1.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);var SU1=3,kU1=nx.promisify(vQ.inflate.bind(vQ)),_U1=nx.promisify(vQ.deflate.bind(vQ)),l5,K9=null;ox.compress=xU1;ox.decompress=fU1});var bL=R((Zf)=>{var u3=function(Z,Y){return function(J,X,$,W){let G;try{const Q=m3[Z](Y,J,X);Q.setAutoPadding(!1),G=Q.update($);const K=Q.final();if(K.length>0)G=Buffer.concat([G,K])}catch(Q){return Q}return G.copy(W),G.length}},bU1=function(Z,Y){try{m3.randomFillSync(Z,0,Y)}catch(J){return J}return Y},vU1=function(Z,Y){let J;try{J=m3.createHash("sha256").update(Z).digest()}catch(X){return X}return J.copy(Y),J.length},gL=function(Z){return(Y,J,X)=>{let $;try{$=m3.createHmac(Z,Y).update(J).digest()}catch(W){return W}return $.copy(X),$.length}},hU1=function(Z,Y,J){let X;try{const $=m3.createSign("sha256WithRSAEncryption"),W=Buffer.from(`-----BEGIN PRIVATE KEY-----\n${Z.toString("base64")}\n-----END PRIVATE KEY-----\n`);X=$.update(Y).end().sign(W)}catch($){return $}return X.copy(J),X.length};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.hmacSha256Hook=Zf.hmacSha512Hook=Zf.aes256CtrDecryptHook=Zf.aes256CtrEncryptHook=Zf.aes256CbcDecryptHook=Zf.aes256CbcEncryptHook=Zf.signRsaSha256Hook=Zf.makeHmacHook=Zf.sha256Hook=Zf.randomHook=Zf.makeAES256Hook=void 0;var m3=import.meta.require("crypto");Zf.makeAES256Hook=u3;Zf.randomHook=bU1;Zf.sha256Hook=vU1;Zf.makeHmacHook=gL;Zf.signRsaSha256Hook=hU1;Zf.aes256CbcEncryptHook=u3("createCipheriv","aes-256-cbc");Zf.aes256CbcDecryptHook=u3("createDecipheriv","aes-256-cbc");Zf.aes256CtrEncryptHook=u3("createCipheriv","aes-256-ctr");Zf.aes256CtrDecryptHook=u3("createDecipheriv","aes-256-ctr");Zf.hmacSha512Hook=gL("sha512");Zf.hmacSha256Hook=gL("sha256")});var z9=R((Qf)=>{Object.defineProperty(Qf,"__esModule",{value:!0});Qf.MongoCryptKMSRequestNetworkTimeoutError=Qf.MongoCryptAzureKMSRequestError=Qf.MongoCryptCreateEncryptedCollectionError=Qf.MongoCryptCreateDataKeyError=Qf.MongoCryptInvalidArgumentError=Qf.MongoCryptError=void 0;var rU1=o();class H9 extends rU1.MongoError{constructor(Z,Y={}){super(Z,Y)}get name(){return"MongoCryptError"}}Qf.MongoCryptError=H9;class Jf extends H9{constructor(Z){super(Z)}get name(){return"MongoCryptInvalidArgumentError"}}Qf.MongoCryptInvalidArgumentError=Jf;class Xf extends H9{constructor(Z,{cause:Y}){super(`Unable to complete creating data keys: ${Y.message}`,{cause:Y});this.encryptedFields=Z}get name(){return"MongoCryptCreateDataKeyError"}}Qf.MongoCryptCreateDataKeyError=Xf;class $f extends H9{constructor(Z,{cause:Y}){super(`Unable to create collection: ${Y.message}`,{cause:Y});this.encryptedFields=Z}get name(){return"MongoCryptCreateEncryptedCollectionError"}}Qf.MongoCryptCreateEncryptedCollectionError=$f;class Wf extends H9{constructor(Z,Y){super(Z);this.body=Y}get name(){return"MongoCryptAzureKMSRequestError"}}Qf.MongoCryptAzureKMSRequestError=Wf;class Gf extends H9{get name(){return"MongoCryptKMSRequestNetworkTimeoutError"}}Qf.MongoCryptKMSRequestNetworkTimeoutError=Gf});var Ff=R((Hf)=>{Object.defineProperty(Hf,"__esModule",{value:!0});Hf.MongocryptdManager=void 0;var Jq1=o();class mQ{constructor(Z={}){if(this.uri=typeof Z.mongocryptdURI==="string"&&Z.mongocryptdURI.length>0?Z.mongocryptdURI:mQ.DEFAULT_MONGOCRYPTD_URI,this.bypassSpawn=!!Z.mongocryptdBypassSpawn,this.spawnPath=Z.mongocryptdSpawnPath||"",this.spawnArgs=[],Array.isArray(Z.mongocryptdSpawnArgs))this.spawnArgs=this.spawnArgs.concat(Z.mongocryptdSpawnArgs);if(this.spawnArgs.filter((Y)=>typeof Y==="string").every((Y)=>Y.indexOf("--idleShutdownTimeoutSecs")<0))this.spawnArgs.push("--idleShutdownTimeoutSecs","60")}async spawn(){const Z=this.spawnPath||"mongocryptd",{spawn:Y}=import.meta.require("child_process");this._child=Y(Z,this.spawnArgs,{stdio:"ignore",detached:!0}),this._child.on("error",()=>{}),this._child.unref()}async withRespawn(Z){try{return await Z()}catch(J){if(!(J instanceof Jq1.MongoNetworkTimeoutError&&!this.bypassSpawn))throw J}return await this.spawn(),await Z()}}mQ.DEFAULT_MONGOCRYPTD_URI="mongodb://localhost:27020";Hf.MongocryptdManager=mQ});var Vf=R((Uf)=>{async function $q1(Z){const Y=Xq1.getAwsCredentialProvider();if("kModuleError"in Y)return Z;const{fromNodeProviderChain:J}=Y,$=await J()();return{...Z,aws:$}}Object.defineProperty(Uf,"__esModule",{value:!0});Uf.loadAWSCredentials=void 0;var Xq1=C7();Uf.loadAWSCredentials=$q1});var wf=R((Lf)=>{var Qq1=function(Z,Y={}){return new Promise((J,X)=>{let $;const W=Wq1.get(Z,Y,(G)=>{G.setEncoding("utf8");let Q="";G.on("data",(K)=>Q+=K),G.on("end",()=>{vL.clearTimeout($),J({status:G.statusCode,body:Q})})}).on("error",(G)=>{vL.clearTimeout($),X(G)}).end();$=vL.setTimeout(()=>{W.destroy(new Gq1.MongoCryptKMSRequestNetworkTimeoutError("request timed out after 10 seconds"))},1e4)})};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.get=void 0;var Wq1=import.meta.require("http"),vL=import.meta.require("timers"),Gq1=z9();Lf.get=Qq1});var Df=R((Af)=>{async function zq1(Z){const{status:Y,body:J}=Z,X=(()=>{try{return JSON.parse(J)}catch{throw new F9.MongoCryptAzureKMSRequestError("Malformed JSON body in GET request.")}})();if(Y!==200)throw new F9.MongoCryptAzureKMSRequestError("Unable to complete request.",X);if(!X.access_token)throw new F9.MongoCryptAzureKMSRequestError("Malformed response body - missing field `access_token`.");if(!X.expires_in)throw new F9.MongoCryptAzureKMSRequestError("Malformed response body - missing field `expires_in`.");const $=Number(X.expires_in)*1000;if(Number.isNaN($))throw new F9.MongoCryptAzureKMSRequestError("Malformed response body - unable to parse int from `expires_in` field.");return{accessToken:X.access_token,expiresOnTimestamp:Date.now()+$}}var Mf=function(Z){const Y=new URL(Z.url?.toString()??"http://169.254.169.254/metadata/identity/oauth2/token");return Y.searchParams.append("api-version","2018-02-01"),Y.searchParams.append("resource","https://vault.azure.net"),{headers:{...Z.headers,"Content-Type":"application/json",Metadata:!0},url:Y}};async function Bf(Z={}){const{headers:Y,url:J}=Mf(Z),X=await Kq1.get(J,{headers:Y}).catch(($)=>{if($ instanceof F9.MongoCryptKMSRequestNetworkTimeoutError)throw new F9.MongoCryptAzureKMSRequestError(`[Azure KMS] ${$.message}`);throw $});return zq1(X)}async function Fq1(Z){const Y=await Af.tokenCache.getToken();return{...Z,azure:Y}}Object.defineProperty(Af,"__esModule",{value:!0});Af.loadAzureCredentials=Af.fetchAzureKMSToken=Af.prepareRequest=Af.tokenCache=Af.AzureCredentialCache=void 0;var F9=z9(),Kq1=wf(),Hq1=6000;class hL{constructor(){this.cachedToken=null}async getToken(){if(this.cachedToken==null||this.needsRefresh(this.cachedToken))this.cachedToken=await this._getToken();return{accessToken:this.cachedToken.accessToken}}needsRefresh(Z){return Z.expiresOnTimestamp-Date.now()<=Hq1}resetCache(){this.cachedToken=null}_getToken(){return Bf()}}Af.AzureCredentialCache=hL;Af.tokenCache=new hL;Af.prepareRequest=Mf;Af.fetchAzureKMSToken=Bf;Af.loadAzureCredentials=Fq1});var Cf=R((Pf)=>{async function Rq1(Z){const Y=Lq1.getGcpMetadata();if("kModuleError"in Y)return Z;const{access_token:J}=await Y.instance({property:"service-accounts/default/token"});return{...Z,gcp:{accessToken:J}}}Object.defineProperty(Pf,"__esModule",{value:!0});Pf.loadGCPCredentials=void 0;var Lq1=C7();Pf.loadGCPCredentials=Rq1});var mL=R((Ef)=>{var uQ=function(Z,Y){const J=Y[Z];if(J==null)return!1;return typeof J==="object"&&Object.keys(J).length===0};async function Aq1(Z){let Y=Z;if(uQ("aws",Z))Y=await wq1.loadAWSCredentials(Y);if(uQ("gcp",Z))Y=await Bq1.loadGCPCredentials(Y);if(uQ("azure",Z))Y=await Mq1.loadAzureCredentials(Y);return Y}Object.defineProperty(Ef,"__esModule",{value:!0});Ef.refreshKMSCredentials=Ef.isEmptyCredentials=void 0;var wq1=Vf(),Mq1=Df(),Bq1=Cf();Ef.isEmptyCredentials=uQ;Ef.refreshKMSCredentials=Aq1});var uL=R((hf)=>{var Tq1=function(){if(d3==null){const Z=Pq1.getSocks();if("kModuleError"in Z)throw Z.kModuleError;d3=Z}return d3},Sf=function(Z){if(process.env.MONGODB_CRYPT_DEBUG)console.error(Z)};Object.defineProperty(hf,"__esModule",{value:!0});hf.StateMachine=void 0;var Of=import.meta.require("fs/promises"),Iq1=import.meta.require("net"),Dq1=import.meta.require("tls"),d4=G0(),Pq1=C7(),dQ=Q1(),i5=z9(),d3=null,cQ=0,kf=1,_f=2,xf=3,ff=7,yf=4,gf=5,bf=6,Cq1=443,Eq1=new Map([[cQ,"MONGOCRYPT_CTX_ERROR"],[kf,"MONGOCRYPT_CTX_NEED_MONGO_COLLINFO"],[_f,"MONGOCRYPT_CTX_NEED_MONGO_MARKINGS"],[xf,"MONGOCRYPT_CTX_NEED_MONGO_KEYS"],[ff,"MONGOCRYPT_CTX_NEED_KMS_CREDENTIALS"],[yf,"MONGOCRYPT_CTX_NEED_KMS"],[gf,"MONGOCRYPT_CTX_READY"],[bf,"MONGOCRYPT_CTX_DONE"]]),jq1=["tlsInsecure","tlsAllowInvalidCertificates","tlsAllowInvalidHostnames","tlsDisableOCSPEndpointCheck","tlsDisableCertificateRevocationCheck"];class vf{constructor(Z,Y=d4.pluckBSONSerializeOptions(Z)){this.options=Z,this.bsonOptions=Y}async execute(Z,Y){const{_keyVaultNamespace:J,_keyVaultClient:X,_metaDataClient:$,_mongocryptdClient:W,_mongocryptdManager:G}=Z;let Q=null;while(Y.state!==bf&&Y.state!==cQ)switch(Sf(`[context#${Y.id}] ${Eq1.get(Y.state)||Y.state}`),Y.state){case kf:{const K=d4.deserialize(Y.nextMongoOperation());if(!$)throw new i5.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_COLLINFO but metadata client is undefined");const H=await this.fetchCollectionInfo($,Y.ns,K);if(H)Y.addMongoOperationResponse(H);Y.finishMongoOperation();break}case _f:{const K=Y.nextMongoOperation();if(!W)throw new i5.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_MARKINGS but mongocryptdClient is undefined");const H=G?await G.withRespawn(this.markCommand.bind(this,W,Y.ns,K)):await this.markCommand(W,Y.ns,K);Y.addMongoOperationResponse(H),Y.finishMongoOperation();break}case xf:{const K=Y.nextMongoOperation(),H=await this.fetchKeys(X,J,K);if(H.length===0)Q={v:[]};for await(let z of H)Y.addMongoOperationResponse(d4.serialize(z));Y.finishMongoOperation();break}case ff:{const K=await Z.askForKMSCredentials();Y.provideKMSProviders(d4.serialize(K));break}case yf:{const K=Array.from(this.requests(Y));await Promise.all(K),Y.finishKMSRequests();break}case gf:{const K=Y.finalize();if(Y.state===cQ){const H=Y.status.message||"Finalization error";throw new i5.MongoCryptError(H)}Q=d4.deserialize(K,this.options);break}default:throw new i5.MongoCryptError(`Unknown state: ${Y.state}`)}if(Y.state===cQ||Q==null){const K=Y.status.message;if(!K)Sf("unidentifiable error in MongoCrypt - received an error status from \`libmongocrypt\` but received no error message.");throw new i5.MongoCryptError(K??"unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message.")}return Q}kmsRequest(Z){const Y=Z.endpoint.split(":"),J=Y[1]!=null?Number.parseInt(Y[1],10):Cq1,X={host:Y[0],servername:Y[0],port:J},$=Z.message;return new Promise(async(W,G)=>{const Q=new dQ.BufferPool;let K,H;function z(){for(let V of[K,H])if(V)V.removeAllListeners(),V.destroy()}function F(){z(),G(new i5.MongoCryptError("KMS request timed out"))}function U(V){z();const L=new i5.MongoCryptError("KMS request failed",{cause:V});G(L)}if(this.options.proxyOptions&&this.options.proxyOptions.proxyHost){H=Iq1.connect({host:this.options.proxyOptions.proxyHost,port:this.options.proxyOptions.proxyPort||1080}),H.on("timeout",F),H.on("error",U);try{await import.meta.require("events").once(H,"connect"),d3??=Tq1(),X.socket=(await d3.SocksClient.createConnection({existing_socket:H,command:"connect",destination:{host:X.host,port:X.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:this.options.proxyOptions.proxyUsername,password:this.options.proxyOptions.proxyPassword}})).socket}catch(V){return U(V)}}const q=this.options.tlsOptions;if(q){const V=Z.kmsProvider,L=q[V];if(L){const w=this.validateTlsOptions(V,L);if(w)G(w);try{await this.setTlsOptions(L,X)}catch(B){return U(B)}}}K=Dq1.connect(X,()=>{K.write($)}),K.once("timeout",F),K.once("error",U),K.on("data",(V)=>{Q.append(V);while(Z.bytesNeeded>0&&Q.length){const L=Math.min(Z.bytesNeeded,Q.length);Z.addResponse(Q.read(L))}if(Z.bytesNeeded<=0)z(),W()})})}*requests(Z){for(let Y=Z.nextKMSRequest();Y!=null;Y=Z.nextKMSRequest())yield this.kmsRequest(Y)}validateTlsOptions(Z,Y){const J=Object.keys(Y);for(let X of jq1)if(J.includes(X))return new i5.MongoCryptError(`Insecure TLS options prohibited for ${Z}: ${X}`)}async setTlsOptions(Z,Y){if(Z.tlsCertificateKeyFile){const J=await Of.readFile(Z.tlsCertificateKeyFile);Y.cert=Y.key=J}if(Z.tlsCAFile)Y.ca=await Of.readFile(Z.tlsCAFile);if(Z.tlsCertificateKeyFilePassword)Y.passphrase=Z.tlsCertificateKeyFilePassword}async fetchCollectionInfo(Z,Y,J){const{db:X}=dQ.MongoDBCollectionNamespace.fromString(Y),$=await Z.db(X).listCollections(J,{promoteLongs:!1,promoteValues:!1}).toArray();return $.length>0?d4.serialize($[0]):null}async markCommand(Z,Y,J){const X={promoteLongs:!1,promoteValues:!1},{db:$}=dQ.MongoDBCollectionNamespace.fromString(Y),W=d4.deserialize(J,X),G=await Z.db($).command(W,X);return d4.serialize(G,this.bsonOptions)}fetchKeys(Z,Y,J){const{db:X,collection:$}=dQ.MongoDBCollectionNamespace.fromString(Y);return Z.db(X).collection($,{readConcern:{level:"majority"}}).find(d4.deserialize(J)).toArray()}}hf.StateMachine=vf});var cL=R((lf)=>{var pf=function(Z,Y,J=!0){if(J){if(Buffer.isBuffer(Y))Y=WJ.deserialize(Y);if(Buffer.isBuffer(Z))throw new pQ.MongoRuntimeError("Expected result of decryption to be deserialized BSON object")}if(!Z||typeof Z!=="object")return;for(let X of Object.keys(Z)){const $=Y[X];if($&&$._bsontype==="Binary"&&$.sub_type===6){if(!Z[dL])Object.defineProperty(Z,dL,{value:[],configurable:!0,enumerable:!1,writable:!1});Z[dL].push(X);continue}pf(Z[X],$,!1)}},df;Object.defineProperty(lf,"__esModule",{value:!0});lf.AutoEncrypter=lf.AutoEncryptionLoggerLevel=void 0;var WJ=G0(),Oq1=C7(),pQ=o(),Sq1=U9(),kq1=Q1(),_q1=bL(),xq1=z9(),fq1=Ff(),yq1=mL(),uf=uL();lf.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4});var cf=Symbol.for("@@mdb.decorateDecryptionResult"),dL=Symbol.for("@@mdb.decryptedKeys");class lQ{static getMongoCrypt(){const Z=Oq1.getMongoDBClientEncryption();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,Y){this[df]=!1,this._client=Z,this._bypassEncryption=Y.bypassAutoEncryption===!0,this._keyVaultNamespace=Y.keyVaultNamespace||"admin.datakeys",this._keyVaultClient=Y.keyVaultClient||Z,this._metaDataClient=Y.metadataClient||Z,this._proxyOptions=Y.proxyOptions||{},this._tlsOptions=Y.tlsOptions||{},this._kmsProviders=Y.kmsProviders||{};const J={cryptoCallbacks:_q1};if(Y.schemaMap)J.schemaMap=Buffer.isBuffer(Y.schemaMap)?Y.schemaMap:WJ.serialize(Y.schemaMap);if(Y.encryptedFieldsMap)J.encryptedFieldsMap=Buffer.isBuffer(Y.encryptedFieldsMap)?Y.encryptedFieldsMap:WJ.serialize(Y.encryptedFieldsMap);if(J.kmsProviders=!Buffer.isBuffer(this._kmsProviders)?WJ.serialize(this._kmsProviders):this._kmsProviders,Y.options?.logger)J.logger=Y.options.logger;if(Y.extraOptions&&Y.extraOptions.cryptSharedLibPath)J.cryptSharedLibPath=Y.extraOptions.cryptSharedLibPath;if(Y.bypassQueryAnalysis)J.bypassQueryAnalysis=Y.bypassQueryAnalysis;if(this._bypassMongocryptdAndCryptShared=this._bypassEncryption||!!Y.bypassQueryAnalysis,Y.extraOptions&&Y.extraOptions.cryptSharedLibSearchPaths)J.cryptSharedLibSearchPaths=Y.extraOptions.cryptSharedLibSearchPaths;else if(!this._bypassMongocryptdAndCryptShared)J.cryptSharedLibSearchPaths=["$SYSTEM"];const X=lQ.getMongoCrypt();if(this._mongocrypt=new X(J),this._contextCounter=0,Y.extraOptions&&Y.extraOptions.cryptSharedLibRequired&&!this.cryptSharedLibVersionInfo)throw new xq1.MongoCryptInvalidArgumentError("`cryptSharedLibRequired` set but no crypt_shared library loaded");if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){this._mongocryptdManager=new fq1.MongocryptdManager(Y.extraOptions);const $={serverSelectionTimeoutMS:1e4};if(Y.extraOptions==null||typeof Y.extraOptions.mongocryptdURI!=="string")$.family=4;this._mongocryptdClient=new Sq1.MongoClient(this._mongocryptdManager.uri,$)}}async init(){if(this._bypassMongocryptdAndCryptShared||this.cryptSharedLibVersionInfo)return;if(!this._mongocryptdManager)throw new pQ.MongoRuntimeError("Reached impossible state: mongocryptdManager is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdClient)throw new pQ.MongoRuntimeError("Reached impossible state: mongocryptdClient is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdManager.bypassSpawn)await this._mongocryptdManager.spawn();try{return await this._mongocryptdClient.connect()}catch(Z){const{message:Y}=Z;if(Y&&(Y.match(/timed out after/)||Y.match(/ENOTFOUND/)))throw new pQ.MongoRuntimeError("Unable to connect to `mongocryptd`, please make sure it is running or in your PATH for auto-spawn",{cause:Z});throw Z}}async teardown(Z){await this._mongocryptdClient?.close(Z)}async encrypt(Z,Y,J={}){if(this._bypassEncryption)return Y;const X=Buffer.isBuffer(Y)?Y:WJ.serialize(Y,J),$=this._mongocrypt.makeEncryptionContext(kq1.MongoDBCollectionNamespace.fromString(Z).db,X);return $.id=this._contextCounter++,$.ns=Z,$.document=Y,new uf.StateMachine({promoteValues:!1,promoteLongs:!1,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,$)}async decrypt(Z,Y={}){const J=Buffer.isBuffer(Z)?Z:WJ.serialize(Z,Y),X=this._mongocrypt.makeDecryptionContext(J);X.id=this._contextCounter++;const $=new uf.StateMachine({...Y,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),W=this[cf],G=await $.execute(this,X);if(W)pf(G,Z);return G}async askForKMSCredentials(){return yq1.refreshKMSCredentials(this._kmsProviders)}get cryptSharedLibVersionInfo(){return this._mongocrypt.cryptSharedLibVersionInfo}static get libmongocryptVersion(){return lQ.getMongoCrypt().libmongocryptVersion}}lf.AutoEncrypter=lQ;df=cf});var of=R((rf)=>{Object.defineProperty(rf,"__esModule",{value:!0});rf.Encrypter=void 0;var bq1=import.meta.require("util"),vq1=cL(),hq1=r0(),mq1=C7(),af=o(),uq1=U9(),c3=Symbol("internalClient");class sf{constructor(Z,Y,J){if(typeof J.autoEncryption!=="object")throw new af.MongoInvalidArgumentError('Option "autoEncryption" must be specified');if(this[c3]=null,this.bypassAutoEncryption=!!J.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,J.maxPoolSize===0&&J.autoEncryption.keyVaultClient==null)J.autoEncryption.keyVaultClient=Z;else if(J.autoEncryption.keyVaultClient==null)J.autoEncryption.keyVaultClient=this.getInternalClient(Z,Y,J);if(this.bypassAutoEncryption)J.autoEncryption.metadataClient=void 0;else if(J.maxPoolSize===0)J.autoEncryption.metadataClient=Z;else J.autoEncryption.metadataClient=this.getInternalClient(Z,Y,J);if(J.proxyHost)J.autoEncryption.proxyOptions={proxyHost:J.proxyHost,proxyPort:J.proxyPort,proxyUsername:J.proxyUsername,proxyPassword:J.proxyPassword};this.autoEncrypter=new vq1.AutoEncrypter(Z,J.autoEncryption)}getInternalClient(Z,Y,J){let X=this[c3];if(X==null){const $={};for(let W of[...Object.getOwnPropertyNames(J),...Object.getOwnPropertySymbols(J)]){if(["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(W))continue;Reflect.set($,W,Reflect.get(J,W))}$.minPoolSize=0,X=new uq1.MongoClient(Y,$),this[c3]=X;for(let W of hq1.MONGO_CLIENT_EVENTS)for(let G of Z.listeners(W))X.on(W,G);Z.on("newListener",(W,G)=>{X?.on(W,G)}),this.needsConnecting=!0}return X}async connectInternalClient(){const Z=this[c3];if(this.needsConnecting&&Z!=null)this.needsConnecting=!1,await Z.connect()}closeCallback(Z,Y,J){bq1.callbackify(this.close.bind(this))(Z,Y,J)}async close(Z,Y){const J=await this.autoEncrypter.teardown(!!Y).catch(($)=>$),X=this[c3];if(X!=null&&Z!==X)return X.close(Y);if(J)throw J}static checkForMongoCrypt(){if("kModuleError"in mq1.getMongoDBClientEncryption())throw new af.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project")}}rf.Encrypter=sf});var aL=R((Yy)=>{var p3=function(Z){const Y=Object.values(Yy.SeverityLevel),J=Z?.toLowerCase();if(J!=null&&Y.includes(J))return J;return null},GJ=function(Z){return{write:(Y)=>{Z.write(cq1.inspect(Y,{compact:!0,breakLength:Infinity}),"utf-8");return}}},pq1=function({MONGODB_LOG_PATH:Z},{mongodbLogPath:Y}){if(typeof Y==="string"&&/^stderr$/i.test(Y))return GJ(process.stderr);if(typeof Y==="string"&&/^stdout$/i.test(Y))return GJ(process.stdout);if(typeof Y==="object"&&typeof Y?.write==="function")return Y;if(Z&&/^stderr$/i.test(Z))return GJ(process.stderr);if(Z&&/^stdout$/i.test(Z))return GJ(process.stdout);return GJ(process.stderr)},lq1=function(Z,Y){const J=Yy.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(Z),X=Yy.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(Y);return J<X?-1:J>X?1:0},lL=function(Z,Y){const J=dq1.EJSON.stringify(Z);return Y!==0&&J.length>Y?`${J.slice(0,Y)}...`:J},iq1=function(Z){const Y=Z;return Y.toLog!==void 0&&typeof Y.toLog==="function"},pL=function(Z,Y){Z.commandName=Y.commandName,Z.requestId=Y.requestId,Z.driverConnectionId=Y?.connectionId;const{host:J,port:X}=nL.HostAddress.fromString(Y.address).toHostPort();if(Z.serverHost=J,Z.serverPort=X,Y?.serviceId)Z.serviceId=Y.serviceId.toHexString();return Z},j7=function(Z,Y){const{host:J,port:X}=nL.HostAddress.fromString(Y.address).toHostPort();return Z.serverHost=J,Z.serverPort=X,Z},nq1=function(Z,Y=Yy.DEFAULT_MAX_DOCUMENT_LENGTH){let J=Object.create(null);switch(Z.name){case X6.COMMAND_STARTED:return J=pL(J,Z),J.message="Command started",J.command=lL(Z.command,Y),J.databaseName=Z.databaseName,J;case X6.COMMAND_SUCCEEDED:return J=pL(J,Z),J.message="Command succeeded",J.durationMS=Z.duration,J.reply=lL(Z.reply,Y),J;case X6.COMMAND_FAILED:return J=pL(J,Z),J.message="Command failed",J.durationMS=Z.duration,J.failure=Z.failure,J;case X6.CONNECTION_POOL_CREATED:if(J=j7(J,Z),J.message="Connection pool created",Z.options){const{maxIdleTimeMS:X,minPoolSize:$,maxPoolSize:W,maxConnecting:G,waitQueueTimeoutMS:Q}=Z.options;J={...J,maxIdleTimeMS:X,minPoolSize:$,maxPoolSize:W,maxConnecting:G,waitQueueTimeoutMS:Q}}return J;case X6.CONNECTION_POOL_READY:return J=j7(J,Z),J.message="Connection pool ready",J;case X6.CONNECTION_POOL_CLEARED:if(J=j7(J,Z),J.message="Connection pool cleared",Z.serviceId?._bsontype==="ObjectId")J.serviceId=Z.serviceId.toHexString();return J;case X6.CONNECTION_POOL_CLOSED:return J=j7(J,Z),J.message="Connection pool closed",J;case X6.CONNECTION_CREATED:return J=j7(J,Z),J.message="Connection created",J.driverConnectionId=Z.connectionId,J;case X6.CONNECTION_READY:return J=j7(J,Z),J.message="Connection ready",J.driverConnectionId=Z.connectionId,J;case X6.CONNECTION_CLOSED:switch(J=j7(J,Z),J.message="Connection closed",J.driverConnectionId=Z.connectionId,Z.reason){case"stale":J.reason="Connection became stale because the pool was cleared";break;case"idle":J.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":if(J.reason="An error occurred while using the connection",Z.error)J.error=Z.error;break;case"poolClosed":J.reason="Connection pool was closed";break;default:J.reason=`Unknown close reason: ${Z.reason}`}return J;case X6.CONNECTION_CHECK_OUT_STARTED:return J=j7(J,Z),J.message="Connection checkout started",J;case X6.CONNECTION_CHECK_OUT_FAILED:switch(J=j7(J,Z),J.message="Connection checkout failed",Z.reason){case"poolClosed":J.reason="Connection pool was closed";break;case"timeout":J.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":if(J.reason="An error occurred while trying to establish a new connection",Z.error)J.error=Z.error;break;default:J.reason=`Unknown close reason: ${Z.reason}`}return J;case X6.CONNECTION_CHECKED_OUT:return J=j7(J,Z),J.message="Connection checked out",J.driverConnectionId=Z.connectionId,J;case X6.CONNECTION_CHECKED_IN:return J=j7(J,Z),J.message="Connection checked in",J.driverConnectionId=Z.connectionId,J;default:for(let[X,$]of Object.entries(Z))if($!=null)J[X]=$}return J};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.MongoLogger=Yy.stringifyWithMaxLen=Yy.createStdioLogger=Yy.MongoLoggableComponent=Yy.SEVERITY_LEVEL_MAP=Yy.DEFAULT_MAX_DOCUMENT_LENGTH=Yy.SeverityLevel=void 0;var dq1=i6(),cq1=import.meta.require("util"),X6=r0(),nL=Q1();Yy.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"});Yy.DEFAULT_MAX_DOCUMENT_LENGTH=1000;class ef extends Map{constructor(Z){const Y=[];for(let[J,X]of Z)Y.push([X,J]);Y.push(...Z);super(Y)}getNumericSeverityLevel(Z){return this.get(Z)}getSeverityLevelName(Z){return this.get(Z)}}Yy.SEVERITY_LEVEL_MAP=new ef([[Yy.SeverityLevel.OFF,(-Infinity)],[Yy.SeverityLevel.EMERGENCY,0],[Yy.SeverityLevel.ALERT,1],[Yy.SeverityLevel.CRITICAL,2],[Yy.SeverityLevel.ERROR,3],[Yy.SeverityLevel.WARNING,4],[Yy.SeverityLevel.NOTICE,5],[Yy.SeverityLevel.INFORMATIONAL,6],[Yy.SeverityLevel.DEBUG,7],[Yy.SeverityLevel.TRACE,8]]);Yy.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection"});Yy.createStdioLogger=GJ;Yy.stringifyWithMaxLen=lL;class Zy{constructor(Z){this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=Z.componentSeverities,this.maxDocumentLength=Z.maxDocumentLength,this.logDestination=Z.logDestination}log(Z,Y,J){if(lq1(Z,this.componentSeverities[Y])>0)return;let X={t:new Date,c:Y,s:Z};if(typeof J==="string")X.message=J;else if(typeof J==="object")if(iq1(J))X={...X,...J.toLog()};else X={...X,...nq1(J,this.maxDocumentLength)};this.logDestination.write(X)}static resolveOptions(Z,Y){const J={...Z,...Y,mongodbLogPath:pq1(Z,Y)},X=p3(J.MONGODB_LOG_ALL)??Yy.SeverityLevel.OFF;return{componentSeverities:{command:p3(J.MONGODB_LOG_COMMAND)??X,topology:p3(J.MONGODB_LOG_TOPOLOGY)??X,serverSelection:p3(J.MONGODB_LOG_SERVER_SELECTION)??X,connection:p3(J.MONGODB_LOG_CONNECTION)??X,default:X},maxDocumentLength:nL.parseUnsignedInteger(J.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1000,logDestination:J.mongodbLogPath}}}Yy.MongoLogger=Zy});var YR=R((Hy)=>{async function $V1(Z){if(typeof Z.srvHost!=="string")throw new W1.MongoAPIError('Option "srvHost" must not be empty');if(Z.srvHost.split(".").length<3)throw new W1.MongoAPIError("URI must include hostname, domain name, and tld");const Y=Z.srvHost,J=await $y.promises.resolveSrv(`_${Z.srvServiceName}._tcp.${Y}`);if(J.length===0)throw new W1.MongoAPIError("No addresses found at host");for(let{name:z}of J)if(!b8.matchesParentDomain(z,Y))throw new W1.MongoAPIError("Server record does not share hostname with parent URI");const X=J.map((z)=>b8.HostAddress.fromString(`${z.name}:${z.port??27017}`));tL(X,Z,!0);let $;try{$=await $y.promises.resolveTxt(Y)}catch(z){if(z.code!=="ENODATA"&&z.code!=="ENOTFOUND")throw z;return X}if($.length>1)throw new W1.MongoParseError("Multiple text records not allowed");const W=new oq1.URLSearchParams($[0].join(""));if([...W.keys()].some((z)=>!rL.includes(z)))throw new W1.MongoParseError(`Text record may only set any of: ${rL.join(", ")}`);if(rL.some((z)=>W.get(z)===""))throw new W1.MongoParseError("Cannot have empty URI params in DNS TXT Record");const Q=W.get("authSource")??void 0,K=W.get("replicaSet")??void 0,H=W.get("loadBalanced")??void 0;if(!Z.userSpecifiedAuthSource&&Q&&Z.credentials&&!z4.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(Z.credentials.mechanism))Z.credentials=QJ.MongoCredentials.merge(Z.credentials,{source:Q});if(!Z.userSpecifiedReplicaSet&&K)Z.replicaSet=K;if(H==="true")Z.loadBalanced=!0;if(Z.replicaSet&&Z.srvMaxHosts>0)throw new W1.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return tL(X,Z,!0),X}var WV1=function(Z){if(!Z)return;const Y=(J,X)=>{if(Z.has(J)&&Z.has(X))throw new W1.MongoAPIError(`The '${J}' option cannot be used with the '${X}' option`)};Y("tlsInsecure","tlsAllowInvalidCertificates"),Y("tlsInsecure","tlsAllowInvalidHostnames"),Y("tlsInsecure","tlsDisableCertificateRevocationCheck"),Y("tlsInsecure","tlsDisableOCSPEndpointCheck"),Y("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),Y("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),Y("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")},p4=function(Z,Y){if(typeof Y==="boolean")return Y;switch(Y){case"true":return!0;case"false":return!1;default:throw new W1.MongoParseError(`${Z} must be either "true" or "false"`)}},eL=function(Z,Y){const J=b8.parseInteger(Y);if(J!=null)return J;throw new W1.MongoParseError(`Expected ${Z} to be stringified int value, got: ${Y}`)},l3=function(Z,Y){const J=eL(Z,Y);if(J<0)throw new W1.MongoParseError(`${Z} can only be a positive int value, got: ${Y}`);return J};function*Qy(Z){if(Z==="")return;const Y=Z.split(",");for(let J of Y){const[X,$]=J.split(/:(.*)/);if($==null)throw new W1.MongoParseError("Cannot have undefined values in key value pairs");yield[X,$]}}var GV1=function(Z,Y=void 0,J={}){if(Y!=null&&!(Y instanceof iQ.MongoClient))J=Y,Y=void 0;if(J.useBigInt64&&typeof J.promoteLongs==="boolean"&&!J.promoteLongs)throw new W1.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(J.useBigInt64&&typeof J.promoteValues==="boolean"&&!J.promoteValues)throw new W1.MongoAPIError("Must request either bigint or Long for int64 deserialization");const X=new tq1.default(Z),{hosts:$,isSRV:W}=X,G=Object.create(null);for(let B of Object.getOwnPropertySymbols(J))if(Hy.FEATURE_FLAGS.has(B))G[B]=J[B];G.hosts=W?[]:$.map(b8.HostAddress.fromString);const Q=new i3;if(X.pathname!=="/"&&X.pathname!==""){const B=decodeURIComponent(X.pathname[0]==="/"?X.pathname.slice(1):X.pathname);if(B)Q.set("dbName",[B])}if(X.username!==""){const B={username:decodeURIComponent(X.username)};if(typeof X.password==="string")B.password=decodeURIComponent(X.password);Q.set("auth",[B])}for(let B of X.searchParams.keys()){const A=X.searchParams.getAll(B),M=/readPreferenceTags/i.test(B);if(!M&&A.length>1)throw new W1.MongoInvalidArgumentError(`URI option "${B}" cannot appear more than once in the connection string`);if(!M&&A.includes(""))throw new W1.MongoAPIError(`URI option "${B}" cannot be specified with no value`);if(!Q.has(B))Q.set(B,A)}const K=new i3(Object.entries(J).filter(([,B])=>B!=null));if(Q.has("serverApi"))throw new W1.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");const H=Q.get("authMechanismProperties");if(H){for(let B of H)if(/(^|,)ALLOWED_HOSTS:/.test(B))throw new W1.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.")}if(K.has("loadBalanced"))throw new W1.MongoParseError("loadBalanced is only a valid option in the URI");const z=new i3,F=new Set([...Q.keys(),...K.keys()]);for(let B of F){const A=[],M=K.get(B);if(M!=null)A.push(M);const I=Q.get(B)??[];A.push(...I),z.set(B,A)}if(z.has("tls")||z.has("ssl")){const B=(z.get("tls")||[]).concat(z.get("ssl")||[]).map(p4.bind(null,"tls/ssl"));if(new Set(B).size!==1)throw new W1.MongoParseError("All values of tls/ssl must be the same.")}WV1(z);const U=b8.setDifference(F,Array.from(Object.keys(Hy.OPTIONS)).map((B)=>B.toLowerCase()));if(U.size!==0){const B=U.size>1?"options":"option",A=U.size>1?"are":"is";throw new W1.MongoParseError(`${B} ${Array.from(U).join(", ")} ${A} not supported`)}for(let[B,A]of Object.entries(Hy.OPTIONS)){const M=z.get(B);if(!M||M.length===0){if(Hy.DEFAULT_OPTIONS.has(B))Ky(G,B,A,[Hy.DEFAULT_OPTIONS.get(B)])}else{const{deprecated:I}=A;if(I){const x=typeof I==="string"?`: ${I}`:"";b8.emitWarning(`${B} is a deprecated option${x}`)}Ky(G,B,A,M)}}if(G.credentials){const B=G.credentials.mechanism===z4.AuthMechanism.MONGODB_GSSAPI,A=G.credentials.mechanism===z4.AuthMechanism.MONGODB_X509,M=G.credentials.mechanism===z4.AuthMechanism.MONGODB_AWS,I=G.credentials.mechanism===z4.AuthMechanism.MONGODB_OIDC;if((B||A)&&z.has("authSource")&&G.credentials.source!=="$external")throw new W1.MongoParseError(`authMechanism ${G.credentials.mechanism} requires an authSource of '\$external'`);if(!(B||A||M||I)&&G.dbName&&!z.has("authSource"))G.credentials=QJ.MongoCredentials.merge(G.credentials,{source:G.dbName});if(M&&G.credentials.username&&!G.credentials.password)throw new W1.MongoMissingCredentialsError(`When using ${G.credentials.mechanism} password must be set when a username is specified`);if(G.credentials.validate(),G.credentials.password===""&&G.credentials.username===""&&G.credentials.mechanism===z4.AuthMechanism.MONGODB_DEFAULT&&Object.keys(G.credentials.mechanismProperties).length===0)delete G.credentials}if(!G.dbName)G.dbName="test";if(tL($,G,W),Y&&G.autoEncryption)Gy.Encrypter.checkForMongoCrypt(),G.encrypter=new Gy.Encrypter(Y,Z,J),G.autoEncrypter=G.encrypter.autoEncrypter;if(G.userSpecifiedAuthSource=K.has("authSource")||Q.has("authSource"),G.userSpecifiedReplicaSet=K.has("replicaSet")||Q.has("replicaSet"),W){if(G.srvHost=$[0],G.directConnection)throw new W1.MongoAPIError("SRV URI does not support directConnection");if(G.srvMaxHosts>0&&typeof G.replicaSet==="string")throw new W1.MongoParseError("Cannot use srvMaxHosts option with replicaSet");const B=!K.has("tls")&&!Q.has("tls"),A=!K.has("ssl")&&!Q.has("ssl");if(B&&A)G.tls=!0}else if(Q.has("srvMaxHosts")||K.has("srvMaxHosts")||Q.has("srvServiceName")||K.has("srvServiceName"))throw new W1.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(G.directConnection&&G.hosts.length!==1)throw new W1.MongoParseError("directConnection option requires exactly one host");if(!G.proxyHost&&(G.proxyPort||G.proxyUsername||G.proxyPassword))throw new W1.MongoParseError("Must specify proxyHost if other proxy options are passed");if(G.proxyUsername&&!G.proxyPassword||!G.proxyUsername&&G.proxyPassword)throw new W1.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map((B)=>Q.get(B)??[]).some((B)=>B.length>1))throw new W1.MongoParseError("Proxy options cannot be specified multiple times in the connection string");const V=Symbol.for("@@mdb.enableMongoLogger");G[V]=G[V]??!1;let L={},w={};if(G[V])L={MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH,...G[Symbol.for("@@mdb.internalLoggerConfig")]},w={mongodbLogPath:G.mongodbLogPath};return G.mongoLoggerOptions=ZV1.MongoLogger.resolveOptions(L,w),G.metadata=eq1.makeClientMetadata(G),G},tL=function(Z,Y,J){if(Y.loadBalanced){if(Z.length>1)throw new W1.MongoParseError(YV1);if(Y.replicaSet)throw new W1.MongoParseError(JV1);if(Y.directConnection)throw new W1.MongoParseError(XV1);if(J&&Y.srvMaxHosts>0)throw new W1.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}return},Ky=function(Z,Y,J,X){const{target:$,type:W,transform:G}=J,Q=$??Y;switch(W){case"boolean":Z[Q]=p4(Q,X[0]);break;case"int":Z[Q]=eL(Q,X[0]);break;case"uint":Z[Q]=l3(Q,X[0]);break;case"string":if(X[0]==null)break;Z[Q]=String(X[0]);break;case"record":if(!b8.isRecord(X[0]))throw new W1.MongoParseError(`${Q} must be an object`);Z[Q]=X[0];break;case"any":Z[Q]=X[0];break;default:{if(!G)throw new W1.MongoParseError("Descriptors missing a type must define a transform");const K=G({name:Q,options:Z,values:X});Z[Q]=K;break}}};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.FEATURE_FLAGS=Hy.DEFAULT_OPTIONS=Hy.OPTIONS=Hy.parseOptions=Hy.resolveSRVRecord=void 0;var $y=import.meta.require("dns"),tq1=_L(),oq1=import.meta.require("url"),QJ=PQ(),z4=K4(),eq1=ix(),Wy=hQ(),Gy=of(),W1=o(),iQ=U9(),ZV1=aL(),sL=a6(),n5=d0(),b8=Q1(),c4=e8(),rL=["authSource","replicaSet","loadBalanced"],YV1="loadBalanced option only supported with a single host in the URI",JV1="loadBalanced option not supported with a replicaSet option",XV1="loadBalanced option not supported when directConnection is provided";Hy.resolveSRVRecord=$V1;class i3 extends Map{constructor(Z=[]){super(Z.map(([Y,J])=>[Y.toLowerCase(),J]))}has(Z){return super.has(Z.toLowerCase())}get(Z){return super.get(Z.toLowerCase())}set(Z,Y){return super.set(Z.toLowerCase(),Y)}delete(Z){return super.delete(Z.toLowerCase())}}Hy.parseOptions=GV1;Hy.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:Z,options:Y,values:[J]}){if(!b8.isRecord(J,["username","password"]))throw new W1.MongoParseError(`${Z} must be an object with 'username' and 'password' properties`);return QJ.MongoCredentials.merge(Y.credentials,{username:J.username,password:J.password})}},authMechanism:{target:"credentials",transform({options:Z,values:[Y]}){const J=Object.values(z4.AuthMechanism),[X]=J.filter((G)=>G.match(RegExp(String.raw`\b${Y}\b`,"i")));if(!X)throw new W1.MongoParseError(`authMechanism one of ${J}, got ${Y}`);let $=Z.credentials?.source;if(X===z4.AuthMechanism.MONGODB_PLAIN||z4.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(X))$="$external";let W=Z.credentials?.password;if(X===z4.AuthMechanism.MONGODB_X509&&W==="")W=void 0;return QJ.MongoCredentials.merge(Z.credentials,{mechanism:X,source:$,password:W})}},authMechanismProperties:{target:"credentials",transform({options:Z,values:Y}){let J=Object.create(null);for(let X of Y)if(typeof X==="string")for(let[$,W]of Qy(X))try{J[$]=p4($,W)}catch{J[$]=W}else{if(!b8.isRecord(X))throw new W1.MongoParseError("AuthMechanismProperties must be an object");J={...X}}return QJ.MongoCredentials.merge(Z.credentials,{mechanismProperties:J})}},authSource:{target:"credentials",transform({options:Z,values:[Y]}){const J=String(Y);return QJ.MongoCredentials.merge(Z.credentials,{source:J})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[Z]}){const Y=typeof Z==="string"?{version:Z}:Z,J=Y&&Y.version;if(!J)throw new W1.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(iQ.ServerApiVersion).join('", "')}"]`);if(!Object.values(iQ.ServerApiVersion).some((X)=>X===J))throw new W1.MongoParseError(`Invalid server API version=${J}; must be in the following enum: ["${Object.values(iQ.ServerApiVersion).join('", "')}"]`);return Y}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:Z}){const Y=new Set;for(let J of Z){const X=typeof J==="string"?J.split(","):J;if(!Array.isArray(X))throw new W1.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(let $ of X)if(Object.keys(Wy.Compressor).includes(String($)))Y.add(String($));else throw new W1.MongoInvalidArgumentError(`${$} is not a valid compression mechanism. Must be one of: ${Object.keys(Wy.Compressor)}.`)}return[...Y]}},connectTimeoutMS:{default:30000,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:Z,values:[Y]}){const J=eL(Z,Y);if(J===4||J===6)return J;throw new W1.MongoParseError(`Option 'family' must be 4 or 6 got ${J}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,fsync:p4(Z,J)}});if(!X)throw new W1.MongoParseError(`Unable to make a writeConcern from fsync=${J}`);return X}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,journal:p4(Z,J)}});if(!X)throw new W1.MongoParseError(`Unable to make a writeConcern from journal=${J}`);return X}},journal:{target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,journal:p4(Z,J)}});if(!X)throw new W1.MongoParseError(`Unable to make a writeConcern from journal=${J}`);return X}},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:Z,values:[Y]}){const J=l3(Z,Y);if(J===0)throw new W1.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return J}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:Z,options:Y,values:[J]}){const X=l3(Z,J);if(Y.readPreference)return n5.ReadPreference.fromOptions({readPreference:{...Y.readPreference,maxStalenessSeconds:X}});else return new n5.ReadPreference("secondary",void 0,{maxStalenessSeconds:X})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[Z],options:Y}){return{...Y.driverInfo,name:String(Z)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:b8.DEFAULT_PK_FACTORY,transform({values:[Z]}){if(b8.isRecord(Z,["createPk"])&&typeof Z.createPk==="function")return Z;throw new W1.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${Z}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[Z],options:Y}){if(Z instanceof sL.ReadConcern||b8.isRecord(Z,["level"]))return sL.ReadConcern.fromOptions({...Y.readConcern,...Z});throw new W1.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(Z)}`)}},readConcernLevel:{target:"readConcern",transform({values:[Z],options:Y}){return sL.ReadConcern.fromOptions({...Y.readConcern,level:Z})}},readPreference:{default:n5.ReadPreference.primary,transform({values:[Z],options:Y}){if(Z instanceof n5.ReadPreference)return n5.ReadPreference.fromOptions({readPreference:{...Y.readPreference,...Z},...Z});if(b8.isRecord(Z,["mode"])){const J=n5.ReadPreference.fromOptions({readPreference:{...Y.readPreference,...Z},...Z});if(J)return J;else throw new W1.MongoParseError(`Cannot make read preference from ${JSON.stringify(Z)}`)}if(typeof Z==="string"){const J={hedge:Y.readPreference?.hedge,maxStalenessSeconds:Y.readPreference?.maxStalenessSeconds};return new n5.ReadPreference(Z,Y.readPreference?.tags,J)}throw new W1.MongoParseError(`Unknown ReadPreference value: ${Z}`)}},readPreferenceTags:{target:"readPreference",transform({values:Z,options:Y}){const J=Array.isArray(Z[0])?Z[0]:Z,X=[];for(let $ of J){const W=Object.create(null);if(typeof $==="string")for(let[G,Q]of Qy($))W[G]=Q;if(b8.isRecord($))for(let[G,Q]of Object.entries($))W[G]=Q;X.push(W)}return n5.ReadPreference.fromOptions({readPreference:Y.readPreference,readPreferenceTags:X})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverSelectionTimeoutMS:{default:30000,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:Z,values:[Y]}){return!p4(Z,Y)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:Z,values:[Y]}){return p4(Z,Y)?()=>{return}:void 0}},tlsCAFile:{type:"string"},tlsCRLFile:{type:"string"},tlsCertificateKeyFile:{type:"string"},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:Z,options:Y,values:[J]}){const X=p4(Z,J);if(X)Y.checkServerIdentity=()=>{return},Y.rejectUnauthorized=!1;else Y.checkServerIdentity=Y.tlsAllowInvalidHostnames?()=>{return}:void 0,Y.rejectUnauthorized=Y.tlsAllowInvalidCertificates?!1:!0;return X}},w:{target:"writeConcern",transform({values:[Z],options:Y}){return c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,w:Z}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[Z],options:Y}){if(b8.isRecord(Z)||Z instanceof c4.WriteConcern)return c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,...Z}});else if(Z==="majority"||typeof Z==="number")return c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,w:Z}});throw new W1.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(Z)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[Z],options:Y}){const J=c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,wtimeout:l3("wtimeout",Z)}});if(J)return J;throw new W1.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[Z],options:Y}){const J=c4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,wtimeoutMS:l3("wtimeoutMS",Z)}});if(J)return J;throw new W1.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean",deprecated:"useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},useUnifiedTopology:{type:"boolean",deprecated:"useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},mongodbLogPath:{type:"any"}};Hy.DEFAULT_OPTIONS=new i3(Object.entries(Hy.OPTIONS).filter(([,Z])=>Z.default!=null).map(([Z,Y])=>[Z,Y.default]));Hy.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger"),Symbol.for("@@mdb.internalLoggerConfig")])});var aQ=R((By)=>{Object.defineProperty(By,"__esModule",{value:!0});By.ServerHeartbeatFailedEvent=By.ServerHeartbeatSucceededEvent=By.ServerHeartbeatStartedEvent=By.TopologyClosedEvent=By.TopologyOpeningEvent=By.TopologyDescriptionChangedEvent=By.ServerClosedEvent=By.ServerOpeningEvent=By.ServerDescriptionChangedEvent=void 0;class zy{constructor(Z,Y,J,X){this.topologyId=Z,this.address=Y,this.previousDescription=J,this.newDescription=X}}By.ServerDescriptionChangedEvent=zy;class Fy{constructor(Z,Y){this.topologyId=Z,this.address=Y}}By.ServerOpeningEvent=Fy;class Uy{constructor(Z,Y){this.topologyId=Z,this.address=Y}}By.ServerClosedEvent=Uy;class qy{constructor(Z,Y,J){this.topologyId=Z,this.previousDescription=Y,this.newDescription=J}}By.TopologyDescriptionChangedEvent=qy;class Vy{constructor(Z){this.topologyId=Z}}By.TopologyOpeningEvent=Vy;class Ly{constructor(Z){this.topologyId=Z}}By.TopologyClosedEvent=Ly;class Ry{constructor(Z,Y){this.connectionId=Z,this.awaited=Y}}By.ServerHeartbeatStartedEvent=Ry;class wy{constructor(Z,Y,J,X){this.connectionId=Z,this.duration=Y,this.reply=J??{},this.awaited=X}}By.ServerHeartbeatSucceededEvent=wy;class My{constructor(Z,Y,J,X){this.connectionId=Z,this.duration=Y,this.failure=J,this.awaited=X}}By.ServerHeartbeatFailedEvent=My});var sQ=R((Cy)=>{Object.defineProperty(Cy,"__esModule",{value:!0});Cy.BinMsg=Cy.Msg=Cy.Response=Cy.Query=void 0;var a5=G0(),a3=o(),wV1=d0(),n3=oZ(),KJ=0,MV1=2,BV1=4,AV1=8,NV1=16,IV1=32,DV1=64,PV1=128,TV1=1,CV1=2,EV1=4,jV1=8;class JR{constructor(Z,Y,J){this.databaseName=Z,this.query=Y;const X=`${Z}.\$cmd`;if(typeof Z!=="string")throw new a3.MongoRuntimeError("Database name must be a string for a query");if(Y==null)throw new a3.MongoRuntimeError("A query document must be specified for query");if(X.indexOf("\0")!==-1)throw new a3.MongoRuntimeError("Namespace cannot contain a null character");this.ns=X,this.numberToSkip=J.numberToSkip||0,this.numberToReturn=J.numberToReturn||0,this.returnFieldSelector=J.returnFieldSelector||void 0,this.requestId=JR.getRequestId(),this.pre32Limit=J.pre32Limit,this.serializeFunctions=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,this.ignoreUndefined=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!1,this.maxBsonSize=J.maxBsonSize||16777216,this.checkKeys=typeof J.checkKeys==="boolean"?J.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof J.secondaryOk==="boolean"?J.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=KJ++}nextRequestId(){return KJ+1}static getRequestId(){return++KJ}toBin(){const Z=[];let Y=null,J=0;if(this.tailable)J|=MV1;if(this.secondaryOk)J|=BV1;if(this.oplogReplay)J|=AV1;if(this.noCursorTimeout)J|=NV1;if(this.awaitData)J|=IV1;if(this.exhaust)J|=DV1;if(this.partial)J|=PV1;if(this.batchSize!==this.numberToReturn)this.numberToReturn=this.batchSize;const X=Buffer.alloc(20+Buffer.byteLength(this.ns)+1+4+4);Z.push(X);const $=a5.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});if(Z.push($),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0)Y=a5.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),Z.push(Y);const W=X.length+$.length+(Y?Y.length:0);let G=4;return X[3]=W>>24&255,X[2]=W>>16&255,X[1]=W>>8&255,X[0]=W&255,X[G+3]=this.requestId>>24&255,X[G+2]=this.requestId>>16&255,X[G+1]=this.requestId>>8&255,X[G]=this.requestId&255,G=G+4,X[G+3]=0>>24&255,X[G+2]=0>>16&255,X[G+1]=0>>8&255,X[G]=0&255,G=G+4,X[G+3]=n3.OP_QUERY>>24&255,X[G+2]=n3.OP_QUERY>>16&255,X[G+1]=n3.OP_QUERY>>8&255,X[G]=n3.OP_QUERY&255,G=G+4,X[G+3]=J>>24&255,X[G+2]=J>>16&255,X[G+1]=J>>8&255,X[G]=J&255,G=G+4,G=G+X.write(this.ns,G,"utf8")+1,X[G-1]=0,X[G+3]=this.numberToSkip>>24&255,X[G+2]=this.numberToSkip>>16&255,X[G+1]=this.numberToSkip>>8&255,X[G]=this.numberToSkip&255,G=G+4,X[G+3]=this.numberToReturn>>24&255,X[G+2]=this.numberToReturn>>16&255,X[G+1]=this.numberToReturn>>8&255,X[G]=this.numberToReturn&255,G=G+4,Z}}Cy.Query=JR;class Ny{constructor(Z,Y,J,X){this.documents=new Array(0),this.parsed=!1,this.raw=Z,this.data=J,this.opts=X??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=Y.length,this.requestId=Y.requestId,this.responseTo=Y.responseTo,this.opCode=Y.opCode,this.fromCompressed=Y.fromCompressed,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{};const Y=Z.raw||!1,J=Z.documentsReturnedIn||null,X=Z.useBigInt64??this.opts.useBigInt64,$=Z.promoteLongs??this.opts.promoteLongs,W=Z.promoteValues??this.opts.promoteValues,G=Z.promoteBuffers??this.opts.promoteBuffers,Q=Z.bsonRegExp??this.opts.bsonRegExp;let K;const H={useBigInt64:X,promoteLongs:$,promoteValues:W,promoteBuffers:G,bsonRegExp:Q};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new a5.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&TV1)!==0,this.queryFailure=(this.responseFlags&CV1)!==0,this.shardConfigStale=(this.responseFlags&EV1)!==0,this.awaitCapable=(this.responseFlags&jV1)!==0;for(let z=0;z<this.numberReturned;z++){if(K=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,Y)this.documents[z]=this.data.slice(this.index,this.index+K);else this.documents[z]=a5.deserialize(this.data.slice(this.index,this.index+K),H);this.index=this.index+K}if(this.documents.length===1&&J!=null&&Y){const z={};z[J]=!0,H.fieldsAsRaw=z;const F=a5.deserialize(this.documents[0],H);this.documents=[F]}this.parsed=!0}}Cy.Response=Ny;var Iy=1,Dy=2,Py=1<<16;class XR{constructor(Z,Y,J){if(this.databaseName=Z,this.command=Y,this.options=J,Y==null)throw new a3.MongoInvalidArgumentError("Query document must be specified for query");if(this.command.$db=Z,J.readPreference&&J.readPreference.mode!==wV1.ReadPreference.PRIMARY)this.command.$readPreference=J.readPreference.toJSON();this.options=J??{},this.requestId=J.requestId?J.requestId:XR.getRequestId(),this.serializeFunctions=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,this.ignoreUndefined=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!1,this.checkKeys=typeof J.checkKeys==="boolean"?J.checkKeys:!1,this.maxBsonSize=J.maxBsonSize||16777216,this.checksumPresent=!1,this.moreToCome=J.moreToCome||!1,this.exhaustAllowed=typeof J.exhaustAllowed==="boolean"?J.exhaustAllowed:!1}toBin(){const Z=[];let Y=0;if(this.checksumPresent)Y|=Iy;if(this.moreToCome)Y|=Dy;if(this.exhaustAllowed)Y|=Py;const J=Buffer.alloc(20);Z.push(J);let X=J.length;const $=this.command;return X+=this.makeDocumentSegment(Z,$),J.writeInt32LE(X,0),J.writeInt32LE(this.requestId,4),J.writeInt32LE(0,8),J.writeInt32LE(n3.OP_MSG,12),J.writeUInt32LE(Y,16),Z}makeDocumentSegment(Z,Y){const J=Buffer.alloc(1);J[0]=0;const X=this.serializeBson(Y);return Z.push(J),Z.push(X),J.length+X.length}serializeBson(Z){return a5.serialize(Z,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return KJ=KJ+1&2147483647,KJ}}Cy.Msg=XR;class Ty{constructor(Z,Y,J,X){this.parsed=!1,this.raw=Z,this.data=J,this.opts=X??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=Y.length,this.requestId=Y.requestId,this.responseTo=Y.responseTo,this.opCode=Y.opCode,this.fromCompressed=Y.fromCompressed,this.responseFlags=J.readInt32LE(0),this.checksumPresent=(this.responseFlags&Iy)!==0,this.moreToCome=(this.responseFlags&Dy)!==0,this.exhaustAllowed=(this.responseFlags&Py)!==0,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{},this.index=4;const Y=Z.raw||!1,J=Z.documentsReturnedIn||null,X=Z.useBigInt64??this.opts.useBigInt64,$=Z.promoteLongs??this.opts.promoteLongs,W=Z.promoteValues??this.opts.promoteValues,G=Z.promoteBuffers??this.opts.promoteBuffers,Q=Z.bsonRegExp??this.opts.bsonRegExp,K=this.parseBsonSerializationOptions(Z),H={useBigInt64:X,promoteLongs:$,promoteValues:W,promoteBuffers:G,bsonRegExp:Q,validation:K};while(this.index<this.data.length){const z=this.data.readUInt8(this.index++);if(z===0){const F=this.data.readUInt32LE(this.index),U=this.data.slice(this.index,this.index+F);this.documents.push(Y?U:a5.deserialize(U,H)),this.index+=F}else if(z===1)throw new a3.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&J!=null&&Y){const z={};z[J]=!0,H.fieldsAsRaw=z;const F=a5.deserialize(this.documents[0],H);this.documents=[F]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:Z}){if(Z===!1)return{utf8:!1};return{utf8:{writeErrors:!1}}}}Cy.BinMsg=Ty});var KR=R((fy)=>{var GR=function(Z){if(Z instanceof Sy.Msg)return O7.deepCopy(Z.command);if(Z.query?.$query){let X;if(Z.ns==="admin.$cmd")X=Object.assign({},Z.query.$query);else X={find:fV1(Z)},Object.keys(jy).forEach(($)=>{if(Z.query[$]!=null)X[jy[$]]=O7.deepCopy(Z.query[$])});if(Object.keys(Oy).forEach(($)=>{const W=$;if(Z[W]!=null)X[Oy[W]]=O7.deepCopy(Z[W])}),yV1.forEach(($)=>{if(Z[$])X[$]=Z[$]}),Z.pre32Limit!=null)X.limit=Z.pre32Limit;if(Z.query.$explain)return{explain:X};return X}const Y={},J={};if(Z.query){for(let X in Z.query)Y[X]=O7.deepCopy(Z.query[X]);J.query=Y}for(let X in Z){if(X==="query")continue;J[X]=O7.deepCopy(Z[X])}return Z.query?Y:J},gV1=function(Z,Y){if(!Y)return Y;if(Z instanceof Sy.Msg)return O7.deepCopy(Y.result?Y.result:Y);if(Z.query&&Z.query.$query!=null)return{ok:1,cursor:{id:O7.deepCopy(Y.cursorId),ns:xV1(Z),firstBatch:O7.deepCopy(Y.documents)}};return O7.deepCopy(Y.result?Y.result:Y)},QR=function(Z){let Y;if("id"in Z)Y=Z.id;return{address:Z.address,serviceId:Z.serviceId,connectionId:Y}};Object.defineProperty(fy,"__esModule",{value:!0});fy.SENSITIVE_COMMANDS=fy.CommandFailedEvent=fy.CommandSucceededEvent=fy.CommandStartedEvent=void 0;var s3=r0(),O7=Q1(),Sy=sQ();class ky{constructor(Z,Y){this.name=s3.COMMAND_STARTED;const J=GR(Y),X=$R(J),{address:$,connectionId:W,serviceId:G}=QR(Z);if(fy.SENSITIVE_COMMANDS.has(X))this.commandObj={},this.commandObj[X]=!0;this.address=$,this.connectionId=W,this.serviceId=G,this.requestId=Y.requestId,this.databaseName=Y.databaseName,this.commandName=X,this.command=WR(X,J,J)}get hasServiceId(){return!!this.serviceId}}fy.CommandStartedEvent=ky;class _y{constructor(Z,Y,J,X){this.name=s3.COMMAND_SUCCEEDED;const $=GR(Y),W=$R($),{address:G,connectionId:Q,serviceId:K}=QR(Z);this.address=G,this.connectionId=Q,this.serviceId=K,this.requestId=Y.requestId,this.commandName=W,this.duration=O7.calculateDurationInMs(X),this.reply=WR(W,$,gV1(Y,J))}get hasServiceId(){return!!this.serviceId}}fy.CommandSucceededEvent=_y;class xy{constructor(Z,Y,J,X){this.name=s3.COMMAND_FAILED;const $=GR(Y),W=$R($),{address:G,connectionId:Q,serviceId:K}=QR(Z);this.address=G,this.connectionId=Q,this.serviceId=K,this.requestId=Y.requestId,this.commandName=W,this.duration=O7.calculateDurationInMs(X),this.failure=WR(W,$,J)}get hasServiceId(){return!!this.serviceId}}fy.CommandFailedEvent=xy;fy.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);var _V1=new Set(["hello",s3.LEGACY_HELLO_COMMAND,s3.LEGACY_HELLO_COMMAND_CAMEL_CASE]),$R=(Z)=>Object.keys(Z)[0],xV1=(Z)=>Z.ns,fV1=(Z)=>Z.ns.split(".")[1],WR=(Z,Y,J)=>fy.SENSITIVE_COMMANDS.has(Z)||_V1.has(Z)&&Y.speculativeAuthenticate?{}:J,jy={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},Oy={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},yV1=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"]});var hy=R((by)=>{var cV1=function(Z){const Y=Z instanceof r3.Msg?Z.command:Z.query,J=Object.keys(Y)[0];return!eQ.uncompressibleCommands.has(J)},t3=function(Z,Y){const J=Z[oQ],X=J.getInt32();if(X==null)return Y();if(X<0)return Y(new HR.MongoParseError(`Invalid message size: ${X}`));if(X>Z.maxBsonMessageSize)return Y(new HR.MongoParseError(`Invalid message size: ${X}, max allowed: ${Z.maxBsonMessageSize}`));if(X>J.length)return Y();const $=J.read(X),W={length:$.readInt32LE(0),requestId:$.readInt32LE(4),responseTo:$.readInt32LE(8),opCode:$.readInt32LE(12)},G=()=>{if(Z.isMonitoringConnection){const z=J.getInt32();if(z!=null&&z<=J.length)return!0}return!1};let Q=W.opCode===tQ.OP_MSG?r3.BinMsg:r3.Response;if(W.opCode!==tQ.OP_COMPRESSED){const z=$.subarray(s5);if(G())return t3(Z,Y);if(Z.emit("message",new Q($,W,z)),J.length>=4)return t3(Z,Y);return Y()}W.fromCompressed=!0,W.opCode=$.readInt32LE(s5),W.length=$.readInt32LE(s5+4);const K=$[s5+8],H=$.slice(s5+9);Q=W.opCode===tQ.OP_MSG?r3.BinMsg:r3.Response,eQ.decompress(K,H).then((z)=>{if(z.length!==W.length)return Y(new HR.MongoDecompressionError("Message body and message header must be the same length"));if(G())return t3(Z,Y);if(Z.emit("message",new Q($,W,z)),J.length>=4)return t3(Z,Y);return Y()},(z)=>{return Y(z)})};Object.defineProperty(by,"__esModule",{value:!0});by.MessageStream=void 0;var mV1=import.meta.require("stream"),HR=o(),uV1=Q1(),r3=sQ(),eQ=hQ(),tQ=oZ(),s5=16,yy=9,dV1=67108864,oQ=Symbol("buffer");class gy extends mV1.Duplex{constructor(Z={}){super(Z);this.isMonitoringConnection=!1,this.maxBsonMessageSize=Z.maxBsonMessageSize||dV1,this[oQ]=new uV1.BufferPool}get buffer(){return this[oQ]}_write(Z,Y,J){this[oQ].append(Z),t3(this,J)}_read(){return}writeCommand(Z,Y){const J=Y.agreedCompressor??"none";if(J==="none"||!cV1(Z)){const Q=Z.toBin();this.push(Array.isArray(Q)?Buffer.concat(Q):Q);return}const X=Buffer.concat(Z.toBin()),$=X.slice(s5),W=X.readInt32LE(12),G={agreedCompressor:J,zlibCompressionLevel:Y.zlibCompressionLevel??0};eQ.compress(G,$).then((Q)=>{const K=Buffer.alloc(s5);K.writeInt32LE(s5+yy+Q.length,0),K.writeInt32LE(Z.requestId,4),K.writeInt32LE(0,8),K.writeInt32LE(tQ.OP_COMPRESSED,12);const H=Buffer.alloc(yy);H.writeInt32LE(W,0),H.writeInt32LE($.length,4),H.writeUInt8(eQ.Compressor[J],8),this.push(Buffer.concat([K,H,Q]))},(Q)=>{Y.cb(Q)})}}by.MessageStream=gy});var cy=R((uy)=>{Object.defineProperty(uy,"__esModule",{value:!0});uy.StreamDescription=void 0;var pV1=n6(),lV1=A3(),iV1=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"];class my{constructor(Z,Y){this.address=Z,this.type=pV1.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48000000,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=Y?.logicalSessionTimeoutMinutes,this.loadBalanced=!!Y?.loadBalanced,this.compressors=Y&&Y.compressors&&Array.isArray(Y.compressors)?Y.compressors:[]}receiveResponse(Z){if(Z==null)return;this.type=lV1.parseServerType(Z);for(let Y of iV1){if(Z[Y]!=null)this[Y]=Z[Y];if("__nodejs_mock_server__"in Z)this.__nodejs_mock_server__=Z.__nodejs_mock_server__}if(Z.compression)this.compressor=this.compressors.filter((Y)=>Z.compression?.includes(Y))[0]}}uy.StreamDescription=my});var o3=R((ty)=>{var ry=function(Z){return Z.description.logicalSessionTimeoutMinutes!=null},oV1=function(Z){const Y=Z.description;if(Y==null)return!1;return r5.maxWireVersion(Z)>=6&&!Y.__nodejs_mock_server__},eV1=function(Z,Y){if(Y.proxyHost)return Y.hostAddress.toString();const{remoteAddress:J,remotePort:X}=Z;if(typeof J==="string"&&typeof X==="number")return r5.HostAddress.fromHostPort(J,X).toString();return r5.uuidV4().toString("hex")},ZL1=function(Z,Y,J,X){J=J??{};const $={requestId:Y.requestId,cb:X,session:J.session,noResponse:typeof J.noResponse==="boolean"?J.noResponse:!1,documentsReturnedIn:J.documentsReturnedIn,useBigInt64:typeof J.useBigInt64==="boolean"?J.useBigInt64:!1,promoteLongs:typeof J.promoteLongs==="boolean"?J.promoteLongs:!0,promoteValues:typeof J.promoteValues==="boolean"?J.promoteValues:!0,promoteBuffers:typeof J.promoteBuffers==="boolean"?J.promoteBuffers:!1,bsonRegExp:typeof J.bsonRegExp==="boolean"?J.bsonRegExp:!1,enableUtf8Validation:typeof J.enableUtf8Validation==="boolean"?J.enableUtf8Validation:!0,raw:typeof J.raw==="boolean"?J.raw:!1,started:0};if(Z[q4]&&Z[q4].compressor){if($.agreedCompressor=Z[q4].compressor,Z[q4].zlibCompressionLevel)$.zlibCompressionLevel=Z[q4].zlibCompressionLevel}if(typeof J.socketTimeoutMS==="number")Z[Q8].setTimeout(J.socketTimeoutMS);else if(Z.socketTimeoutMS!==0)Z[Q8].setTimeout(Z.socketTimeoutMS);if(Z.monitorCommands)Z.emit(p0.COMMAND_STARTED,new ZK.CommandStartedEvent(Z,Y)),$.started=r5.now(),$.cb=(W,G)=>{if(W&&G?.ok!==1)Z.emit(p0.COMMAND_FAILED,new ZK.CommandFailedEvent(Z,Y,W,$.started));else if(G&&(G.ok===0||G.$err))Z.emit(p0.COMMAND_FAILED,new ZK.CommandFailedEvent(Z,Y,G,$.started));else Z.emit(p0.COMMAND_SUCCEEDED,new ZK.CommandSucceededEvent(Z,Y,G,$.started));if(typeof X==="function")X(W,W instanceof U4.MongoWriteConcernError?void 0:G)};if(!$.noResponse)Z[S7].set($.requestId,$);try{Z[F4].writeCommand(Y,$)}catch(W){if(!$.noResponse){Z[S7].delete($.requestId),$.cb(W);return}}if($.noResponse)$.cb()};Object.defineProperty(ty,"__esModule",{value:!0});ty.hasSessionSupport=ty.CryptoConnection=ty.Connection=void 0;var py=import.meta.require("timers"),nV1=import.meta.require("util"),t5=r0(),U4=o(),aV1=P6(),ly=D3(),r5=Q1(),ZK=KR(),iy=sQ(),sV1=hy(),rV1=cy(),ny=KV(),Q8=Symbol("stream"),S7=Symbol("queue"),F4=Symbol("messageStream"),zR=Symbol("generation"),FR=Symbol("lastUseTime"),UR=Symbol("clusterTime"),q4=Symbol("description"),qR=Symbol("hello"),ay=Symbol("autoEncrypter"),YK=Symbol("delayedTimeoutId"),tV1="Connection internal queue contains more than 1 operation description";class p0 extends aV1.TypedEventEmitter{constructor(Z,Y){super();this.commandAsync=nV1.promisify((J,X,$,W)=>this.command(J,X,$,W)),this.id=Y.id,this.address=eV1(Z,Y),this.socketTimeoutMS=Y.socketTimeoutMS??0,this.monitorCommands=Y.monitorCommands,this.serverApi=Y.serverApi,this.closed=!1,this[qR]=null,this[UR]=null,this[q4]=new rV1.StreamDescription(this.address,Y),this[zR]=Y.generation,this[FR]=r5.now(),this[S7]=new Map,this[F4]=new sV1.MessageStream({...Y,maxBsonMessageSize:this.hello?.maxBsonMessageSize}),this[Q8]=Z,this[YK]=null,this[F4].on("message",(J)=>this.onMessage(J)),this[F4].on("error",(J)=>this.onError(J)),this[Q8].on("close",()=>this.onClose()),this[Q8].on("timeout",()=>this.onTimeout()),this[Q8].on("error",()=>{}),this[Q8].pipe(this[F4]),this[F4].pipe(this[Q8])}get description(){return this[q4]}get hello(){return this[qR]}set hello(Z){this[q4].receiveResponse(Z),this[q4]=Object.freeze(this[q4]),this[qR]=Z}set isMonitoringConnection(Z){this[F4].isMonitoringConnection=Z}get isMonitoringConnection(){return this[F4].isMonitoringConnection}get serviceId(){return this.hello?.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[zR]||0}set generation(Z){this[zR]=Z}get idleTime(){return r5.calculateDurationInMs(this[FR])}get clusterTime(){return this[UR]}get stream(){return this[Q8]}markAvailable(){this[FR]=r5.now()}onError(Z){this.cleanup(!0,Z)}onClose(){const Z=`connection ${this.id} to ${this.address} closed`;this.cleanup(!0,new U4.MongoNetworkError(Z))}onTimeout(){this[YK]=py.setTimeout(()=>{const Z=`connection ${this.id} to ${this.address} timed out`,Y=this.hello==null;this.cleanup(!0,new U4.MongoNetworkTimeoutError(Z,{beforeHandshake:Y}))},1).unref()}onMessage(Z){const Y=this[YK];if(Y!=null)py.clearTimeout(Y),this[YK]=null;const J=this[Q8].timeout??0;this[Q8].setTimeout(0),this.emit("message",Z);let X=this[S7].get(Z.responseTo);if(!X&&this.isMonitoringConnection)if(this[S7].size>1)this.cleanup(!0,new U4.MongoRuntimeError(tV1));else{const W=this[S7].entries().next();if(W.value!=null){const[G,Q]=W.value;X=Q,this[S7].delete(G)}}if(!X)return;const $=X.cb;if(this[S7].delete(Z.responseTo),"moreToCome"in Z&&Z.moreToCome)this[S7].set(Z.requestId,X),this[Q8].setTimeout(J);try{Z.parse(X)}catch(W){$(W);return}if(Z.documents[0]){const W=Z.documents[0],G=X.session;if(G)ly.updateSessionFromResponse(G,W);if(W.$clusterTime)this[UR]=W.$clusterTime,this.emit(p0.CLUSTER_TIME_RECEIVED,W.$clusterTime);if(W.writeConcernError){$(new U4.MongoWriteConcernError(W.writeConcernError,W),W);return}if(W.ok===0||W.$err||W.errmsg||W.code){$(new U4.MongoServerError(W));return}}$(void 0,Z.documents[0])}destroy(Z,Y){if(this.closed){process.nextTick(()=>Y?.());return}if(typeof Y==="function")this.once("close",()=>process.nextTick(()=>Y()));this.removeAllListeners(p0.PINNED),this.removeAllListeners(p0.UNPINNED);const J=`connection ${this.id} to ${this.address} closed`;this.cleanup(Z.force,new U4.MongoNetworkError(J))}cleanup(Z,Y){if(this.closed)return;this.closed=!0;const J=()=>{for(let X of this[S7].values())X.cb(Y);this[S7].clear(),this.emit(p0.CLOSE)};if(this[Q8].removeAllListeners(),this[F4].removeAllListeners(),this[F4].destroy(),Z){this[Q8].destroy(),J();return}if(!this[Q8].writableEnded)this[Q8].end(()=>{this[Q8].destroy(),J()});else J()}command(Z,Y,J,X){let $={...Y};const W=ny.getReadPreference(J),G=oV1(this),Q=J?.session;let K=this.clusterTime;if(this.serverApi){const{version:F,strict:U,deprecationErrors:q}=this.serverApi;if($.apiVersion=F,U!=null)$.apiStrict=U;if(q!=null)$.apiDeprecationErrors=q}if(ry(this)&&Q){if(Q.clusterTime&&K&&Q.clusterTime.clusterTime.greaterThan(K.clusterTime))K=Q.clusterTime;const F=ly.applySession(Q,$,J);if(F)return X(F)}else if(Q?.explicit)return X(new U4.MongoCompatibilityError("Current topology does not support sessions"));if(K)$.$clusterTime=K;if(ny.isSharded(this)&&!G&&W&&W.mode!=="primary")$={$query:$,$readPreference:W.toJSON()};const H=Object.assign({numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:W.secondaryOk()},J),z=G?new iy.Msg(Z.db,$,H):new iy.Query(Z.db,$,H);try{ZL1(this,z,H,X)}catch(F){X(F)}}}p0.COMMAND_STARTED=t5.COMMAND_STARTED;p0.COMMAND_SUCCEEDED=t5.COMMAND_SUCCEEDED;p0.COMMAND_FAILED=t5.COMMAND_FAILED;p0.CLUSTER_TIME_RECEIVED=t5.CLUSTER_TIME_RECEIVED;p0.CLOSE=t5.CLOSE;p0.MESSAGE=t5.MESSAGE;p0.PINNED=t5.PINNED;p0.UNPINNED=t5.UNPINNED;ty.Connection=p0;class sy extends p0{constructor(Z,Y){super(Z,Y);this[ay]=Y.autoEncrypter}command(Z,Y,J,X){const $=this[ay];if(!$)return X(new U4.MongoMissingDependencyError("No AutoEncrypter available for encryption"));const W=r5.maxWireVersion(this);if(W===0)return super.command(Z,Y,J,X);if(W<8){X(new U4.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2"));return}const G=Y.find||Y.findAndModify?Y.sort:null,Q=Y.createIndexes?Y.indexes.map((K)=>K.key):null;$.encrypt(Z.toString(),Y,J).then((K)=>{if(G!=null&&(Y.find||Y.findAndModify))K.sort=G;if(Q!=null&&Y.createIndexes)for(let[H,z]of Q.entries())K.indexes[H].key=z;super.command(Z,K,J,(H,z)=>{if(H||z==null){X(H,z);return}$.decrypt(z,J).then((F)=>X(void 0,F),(F)=>X(F))})},(K)=>{if(K)X(K,null)})}}ty.CryptoConnection=sy;ty.hasSessionSupport=ry});var $g=R((Jg)=>{Object.defineProperty(Jg,"__esModule",{value:!0});Jg.MongoCR=void 0;var ey=import.meta.require("crypto"),XL1=o(),Zg=Q1(),$L1=u4();class Yg extends $L1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new XL1.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:X,password:$,source:W}=J,{nonce:G}=await Y.commandAsync(Zg.ns(`${W}.\$cmd`),{getnonce:1},void 0),Q=ey.createHash("md5").update(`${X}:mongo:${$}`,"utf8").digest("hex"),K=ey.createHash("md5").update(`${G}${X}${Q}`,"utf8").digest("hex"),H={authenticate:1,user:X,nonce:G,key:K};await Y.commandAsync(Zg.ns(`${W}.\$cmd`),H,void 0)}}Jg.MongoCR=Yg});var Kg=R((Gg)=>{async function qL1(Z){function Y(J){if(!J.AccessKeyId||!J.SecretAccessKey||!J.Token)throw new q9.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new KL1.MongoCredentials({username:J.AccessKeyId,password:J.SecretAccessKey,source:Z.source,mechanism:HL1.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:J.Token}})}if(V9.credentialProvider??=JK.getAwsCredentialProvider(),"kModuleError"in V9.credentialProvider){if(VR.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return Y(await l4.request(`${UL1}${VR.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`));const J=await l4.request(`${RR}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),X=await l4.request(`${RR}/${Wg}`,{json:!1,headers:{"X-aws-ec2-metadata-token":J}}),$=await l4.request(`${RR}/${Wg}/${X}`,{headers:{"X-aws-ec2-metadata-token":J}});return Y($)}else{let{AWS_STS_REGIONAL_ENDPOINTS:J="",AWS_REGION:X=""}=VR.env;J=J.toLowerCase(),X=X.toLowerCase();const $=X.length!==0&&J.length!==0,W=J==="regional"||J==="legacy"&&!zL1.has(X),G=$&&W?V9.credentialProvider.fromNodeProviderChain({clientConfig:{region:X}}):V9.credentialProvider.fromNodeProviderChain();try{const Q=await G();return Y({AccessKeyId:Q.accessKeyId,SecretAccessKey:Q.secretAccessKey,Token:Q.sessionToken,Expiration:Q.expiration})}catch(Q){throw new q9.MongoAWSError(Q.message)}}}var VL1=function(Z){const Y=Z.split(".");if(Y.length===1||Y[1]==="amazonaws")return"us-east-1";return Y[1]};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.MongoDBAWS=void 0;var WL1=import.meta.require("crypto"),VR=import.meta.require("process"),GL1=import.meta.require("util"),LR=G0(),JK=C7(),q9=o(),l4=Q1(),QL1=u4(),KL1=PQ(),HL1=K4(),zL1=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),FL1=110,UL1="http://169.254.170.2",RR="http://169.254.169.254",Wg="/latest/meta-data/iam/security-credentials",wR={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1};class V9 extends QL1.AuthProvider{constructor(){super();this.randomBytesAsync=GL1.promisify(WL1.randomBytes)}async auth(Z){const{connection:Y}=Z;if(!Z.credentials)throw new q9.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in JK.aws4)throw JK.aws4.kModuleError;const{sign:J}=JK.aws4;if(l4.maxWireVersion(Y)<9)throw new q9.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");if(!Z.credentials.username)Z.credentials=await qL1(Z.credentials);const{credentials:X}=Z,$=X.username,W=X.password,G=X.mechanismProperties.AWS_SESSION_TOKEN,Q=$&&W&&G?{accessKeyId:$,secretAccessKey:W,sessionToken:G}:$&&W?{accessKeyId:$,secretAccessKey:W}:void 0,K=X.source,H=await this.randomBytesAsync(32),z={saslStart:1,mechanism:"MONGODB-AWS",payload:LR.serialize({r:H,p:FL1},wR)},F=await Y.commandAsync(l4.ns(`${K}.\$cmd`),z,void 0),U=LR.deserialize(F.payload.buffer,wR),q=U.h,V=U.s.buffer;if(V.length!==64)throw new q9.MongoRuntimeError(`Invalid server nonce length ${V.length}, expected 64`);if(!l4.ByteUtils.equals(V.subarray(0,H.byteLength),H))throw new q9.MongoRuntimeError("Server nonce does not begin with client nonce");if(q.length<1||q.length>255||q.indexOf("..")!==-1)throw new q9.MongoRuntimeError(`Server returned an invalid host: "${q}"`);const L="Action=GetCallerIdentity&Version=2011-06-15",w=J({method:"POST",host:q,region:VL1(U.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":L.length,"X-MongoDB-Server-Nonce":l4.ByteUtils.toBase64(V),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:L},Q),B={a:w.headers.Authorization,d:w.headers["X-Amz-Date"]};if(G)B.t=G;const A={saslContinue:1,conversationId:1,payload:LR.serialize(B,wR)};await Y.commandAsync(l4.ns(`${K}.\$cmd`),A,void 0)}}V9.credentialProvider=null;Gg.MongoDBAWS=V9});var BR=R((zg)=>{var MR=function(Z){return{saslStart:1,mechanism:wL1.AuthMechanism.MONGODB_OIDC,payload:LL1.BSON.serialize({jwt:Z})}};Object.defineProperty(zg,"__esModule",{value:!0});zg.commandDocument=zg.ServiceWorkflow=void 0;var LL1=i6(),RL1=Q1(),wL1=K4();class Hg{async execute(Z,Y){const J=await this.getToken(Y),X=MR(J);return Z.commandAsync(RL1.ns(Y.source),X,void 0)}async speculativeAuth(Z){const Y=await this.getToken(Z),J=MR(Y);return J.db=Z.source,{speculativeAuthenticate:J}}}zg.ServiceWorkflow=Hg;zg.commandDocument=MR});var Lg=R((qg)=>{Object.defineProperty(qg,"__esModule",{value:!0});qg.AwsServiceWorkflow=void 0;var BL1=import.meta.require("fs"),AL1=o(),NL1=BR(),IL1="AWS_WEB_IDENTITY_TOKEN_FILE must be set in the environment.";class Ug extends NL1.ServiceWorkflow{constructor(){super()}async getToken(){const Z=process.env.AWS_WEB_IDENTITY_TOKEN_FILE;if(!Z)throw new AL1.MongoAWSError(IL1);return BL1.promises.readFile(Z,"utf8")}}qg.AwsServiceWorkflow=Ug});var XK=R((Mg)=>{Object.defineProperty(Mg,"__esModule",{value:!0});Mg.Cache=Mg.ExpiringCacheEntry=void 0;var DL1=300000;class Rg{constructor(Z){this.expiration=this.expirationTime(Z)}isValid(){return this.expiration-Date.now()>DL1}expirationTime(Z){return Date.now()+Z*1000}}Mg.ExpiringCacheEntry=Rg;class wg{constructor(){this.entries=new Map}clear(){this.entries.clear()}hashedCacheKey(Z,Y,J){return JSON.stringify([Z,Y,J])}}Mg.Cache=wg});var Pg=R((Ig)=>{Object.defineProperty(Ig,"__esModule",{value:!0});Ig.AzureTokenCache=Ig.AzureTokenEntry=void 0;var Ag=XK();class AR extends Ag.ExpiringCacheEntry{constructor(Z,Y){super(Y);this.token=Z}}Ig.AzureTokenEntry=AR;class Ng extends Ag.Cache{addEntry(Z,Y){const J=new AR(Y.access_token,Y.expires_in);return this.entries.set(Z,J),J}cacheKey(Z){return Z}deleteEntry(Z){this.entries.delete(Z)}getEntry(Z){return this.entries.get(Z)}}Ig.AzureTokenCache=Ng});var Og=R((Eg)=>{async function xL1(Z){const Y=`${OL1}&resource=${Z}`;return await CL1.request(Y,{json:!0,headers:SL1})}var fL1=function(Z){if(Z==null||typeof Z!=="object")return!1;return"access_token"in Z&&"expires_in"in Z};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.AzureServiceWorkflow=void 0;var Tg=o(),CL1=Q1(),EL1=Pg(),jL1=BR(),OL1="http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01",SL1=Object.freeze({Metadata:"true",Accept:"application/json"}),kL1="Azure endpoint did not return a value with only access_token and expires_in properties",_L1="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class Cg extends jL1.ServiceWorkflow{constructor(){super(...arguments);this.cache=new EL1.AzureTokenCache}async getToken(Z){const Y=Z?.mechanismProperties.TOKEN_AUDIENCE;if(!Y)throw new Tg.MongoAzureError(_L1);let J;const X=this.cache.getEntry(Y);if(X?.isValid())J=X.token;else{this.cache.deleteEntry(Y);const $=await xL1(Y);if(!fL1($))throw new Tg.MongoAzureError(kL1);this.cache.addEntry(Y,$),J=$.access_token}return J}}Eg.AzureServiceWorkflow=Cg});var yg=R((xg)=>{var Sg=function(Z){let Y=Promise.resolve();return async(J,X)=>{return await Y,Y=Y.then(()=>Z(J,X)),Y}},vL1=function(Z,Y){let J=e3.get(Z),X=e3.get(Y??kg);if(J==null)L9++,J=L9,e3.set(Z,L9);if(X==null&&Y)L9++,X=L9,e3.set(Y,L9);return`${J}-${X}`};Object.defineProperty(xg,"__esModule",{value:!0});xg.CallbackLockCache=void 0;var yL1=o(),gL1=XK(),bL1="Auth mechanism property REQUEST_TOKEN_CALLBACK is required.",L9=0,kg=async()=>({accessToken:"test"}),e3=new WeakMap;e3.set(kg,L9);class _g extends gL1.Cache{getEntry(Z,Y){const J=Y.mechanismProperties.REQUEST_TOKEN_CALLBACK,X=Y.mechanismProperties.REFRESH_TOKEN_CALLBACK;if(!J)throw new yL1.MongoInvalidArgumentError(bL1);const $=vL1(J,X),W=this.cacheKey(Z.address,Y.username,$),G=this.entries.get(W);if(G)return G;return this.addEntry(W,$,J,X)}addEntry(Z,Y,J,X){const $={requestCallback:Sg(J),refreshCallback:X?Sg(X):void 0,callbackHash:Y};return this.entries.set(Z,$),$}cacheKey(Z,Y,J){return this.hashedCacheKey(Z,Y,J)}}xg.CallbackLockCache=_g});var mg=R((vg)=>{Object.defineProperty(vg,"__esModule",{value:!0});vg.TokenEntryCache=vg.TokenEntry=void 0;var gg=XK(),hL1=0;class NR extends gg.ExpiringCacheEntry{constructor(Z,Y,J){super(J);this.tokenResult=Z,this.serverInfo=Y}}vg.TokenEntry=NR;class bg extends gg.Cache{addEntry(Z,Y,J,X,$){const W=new NR(X,$,X.expiresInSeconds??hL1);return this.entries.set(this.cacheKey(Z,Y,J),W),W}deleteEntry(Z,Y,J){this.entries.delete(this.cacheKey(Z,Y,J))}getEntry(Z,Y,J){return this.entries.get(this.cacheKey(Z,Y,J))}deleteExpiredEntries(){for(let[Z,Y]of this.entries)if(!Y.isValid())this.entries.delete(Z)}cacheKey(Z,Y,J){return this.hashedCacheKey(Z,Y,J)}}vg.TokenEntryCache=bg});var ng=R((lg)=>{var nL1=function(Z,Y){if(Y!=null&&typeof Y==="number")return{saslContinue:1,conversationId:Y,payload:new R9.Binary(R9.BSON.serialize({jwt:Z}))};return{saslStart:1,mechanism:cg.AuthMechanism.MONGODB_OIDC,payload:new R9.Binary(R9.BSON.serialize({jwt:Z}))}},aL1=function(Z){if(Z==null||typeof Z!=="object")return!0;if(!("accessToken"in Z))return!0;return!Object.getOwnPropertyNames(Z).every((Y)=>lL1.includes(Y))},dg=function(Z){const Y={};if(Z.username)Y.n=Z.username;return{saslStart:1,autoAuthorize:1,mechanism:cg.AuthMechanism.MONGODB_OIDC,payload:new R9.Binary(R9.BSON.serialize(Y))}};Object.defineProperty(lg,"__esModule",{value:!0});lg.CallbackWorkflow=void 0;var R9=i6(),IR=o(),ug=Q1(),cg=K4(),uL1=yg(),dL1=mg(),cL1=0,pL1=300,lL1=["accessToken","expiresInSeconds","refreshToken"],iL1="User provided OIDC callbacks must return a valid object with an accessToken.";class pg{constructor(){this.cache=new dL1.TokenEntryCache,this.callbackCache=new uL1.CallbackLockCache}async speculativeAuth(Z){const Y=dg(Z);return Y.db=Z.source,{speculativeAuthenticate:Y}}async execute(Z,Y,J,X){const{requestCallback:$,refreshCallback:W,callbackHash:G}=this.callbackCache.getEntry(Z,Y),Q=this.cache.getEntry(Z.address,Y.username,G);let K;if(Q)if(Q.isValid()&&!J)K=await this.finishAuthentication(Z,Y,Q.tokenResult,X?.speculativeAuthenticate?.conversationId);else{const H=await this.fetchAccessToken(Z,Y,Q.serverInfo,J,G,$,W);try{K=await this.finishAuthentication(Z,Y,H,J?void 0:X?.speculativeAuthenticate?.conversationId)}catch(z){if(J&&z instanceof IR.MongoError&&z.code===IR.MONGODB_ERROR_CODES.Reauthenticate)this.cache.deleteEntry(Z.address,Y.username,G),K=await this.execute(Z,Y,J);else throw z}}else{const H=await this.startAuthentication(Z,Y,J,X),z=H.conversationId,F=R9.BSON.deserialize(H.payload.buffer),U=await this.fetchAccessToken(Z,Y,F,J,G,$,W);K=await this.finishAuthentication(Z,Y,U,z)}return K}async startAuthentication(Z,Y,J,X){let $;if(!J&&X?.speculativeAuthenticate)$=X.speculativeAuthenticate;else $=await Z.commandAsync(ug.ns(Y.source),dg(Y),void 0);return $}async finishAuthentication(Z,Y,J,X){return await Z.commandAsync(ug.ns(Y.source),nL1(J.accessToken,X),void 0)}async fetchAccessToken(Z,Y,J,X,$,W,G){const Q=this.cache.getEntry(Z.address,Y.username,$);let K;const H={timeoutSeconds:pL1,version:cL1};if(Q){if(Q.isValid()&&!X)return Q.tokenResult;if(G)H.refreshToken=Q.tokenResult.refreshToken,K=await G(J,H);else K=await W(J,H)}else K=await W(J,H);if(aL1(K))throw this.cache.deleteEntry(Z.address,Y.username,$),new IR.MongoMissingCredentialsError(iL1);return this.cache.deleteExpiredEntries(),this.cache.addEntry(Z.address,Y.username||"",$,K,J),K}}lg.CallbackWorkflow=pg});var Zb=R((og)=>{var ag=function(Z){const{credentials:Y}=Z;if(!Y)throw new rg.MongoMissingCredentialsError(eL1);return Y},sg=function(Z){const Y=Z.mechanismProperties.PROVIDER_NAME,J=og.OIDC_WORKFLOWS.get(Y||"callback");if(!J)throw new rg.MongoInvalidArgumentError(`Could not load workflow for provider ${Z.mechanismProperties.PROVIDER_NAME}`);return J};Object.defineProperty(og,"__esModule",{value:!0});og.MongoDBOIDC=og.OIDC_WORKFLOWS=void 0;var rg=o(),sL1=u4(),rL1=Lg(),tL1=Og(),oL1=ng(),eL1="AuthContext must provide credentials.";og.OIDC_WORKFLOWS=new Map;og.OIDC_WORKFLOWS.set("callback",new oL1.CallbackWorkflow);og.OIDC_WORKFLOWS.set("aws",new rL1.AwsServiceWorkflow);og.OIDC_WORKFLOWS.set("azure",new tL1.AzureServiceWorkflow);class tg extends sL1.AuthProvider{constructor(){super()}async auth(Z){const{connection:Y,reauthenticating:J,response:X}=Z,$=ag(Z);await sg($).execute(Y,$,J,X)}async prepare(Z,Y){const J=ag(Y),$=await sg(J).speculativeAuth(J);return{...Z,...$}}}og.MongoDBOIDC=tg});var $b=R((Jb)=>{Object.defineProperty(Jb,"__esModule",{value:!0});Jb.Plain=void 0;var ZR1=G0(),YR1=o(),JR1=Q1(),XR1=u4();class Yb extends XR1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new YR1.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:X,password:$}=J,G={saslStart:1,mechanism:"PLAIN",payload:new ZR1.Binary(Buffer.from(`\0${X}\0${$}`)),autoAuthorize:1};await Y.commandAsync(JR1.ns("$external.$cmd"),G,void 0)}}Jb.Plain=Yb});var Qb=R((Vs1,Gb)=>{var i4=function(Z,Y){if(!(this instanceof i4))return new i4(Z,Y);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=Z||1024,this.deduplicate=Y?Y.deduplicate:null,this.zeros=this.deduplicate?$K(this.deduplicate.length):null},$R1=function(Z,Y){while(Z.maxPages<Y){var J=Z.pages;Z.pages=new Array(32768),Z.pages[0]=J,Z.level++,Z.maxPages*=32768}},WR1=function(Z,Y){if(Z.length===Y)return Z;if(Z.length>Y)return Z.slice(0,Y);var J=$K(Y);return Z.copy(J),J},$K=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var Y=new Buffer(Z);return Y.fill(0),Y},GR1=function(Z){var Y=Buffer.allocUnsafe?Buffer.allocUnsafe(Z.length):new Buffer(Z.length);return Z.copy(Y),Y},Wb=function(Z,Y){this.offset=Z*Y.length,this.buffer=Y,this.updated=!1,this.deduplicate=0},QR1=function(Z,Y){Z=(Z-(Y[0]=Z&32767))/32768,Z=(Z-(Y[1]=Z&32767))/32768,Y[3]=(Z-(Y[2]=Z&32767))/32768&32767};Gb.exports=i4;i4.prototype.updated=function(Z){while(this.deduplicate&&Z.buffer[Z.deduplicate]===this.deduplicate[Z.deduplicate])if(Z.deduplicate++,Z.deduplicate===this.deduplicate.length){if(Z.deduplicate=0,Z.buffer.equals&&Z.buffer.equals(this.deduplicate))Z.buffer=this.deduplicate;break}if(Z.updated||!this.updates)return;Z.updated=!0,this.updates.push(Z)};i4.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var Z=this.updates.pop();return Z.updated=!1,Z};i4.prototype._array=function(Z,Y){if(Z>=this.maxPages){if(Y)return;$R1(this,Z)}QR1(Z,this.path);var J=this.pages;for(var X=this.level;X>0;X--){var $=this.path[X],W=J[$];if(!W){if(Y)return;W=J[$]=new Array(32768)}J=W}return J};i4.prototype.get=function(Z,Y){var J=this._array(Z,Y),X=this.path[0],$=J&&J[X];if(!$&&!Y){if($=J[X]=new Wb(Z,$K(this.pageSize)),Z>=this.length)this.length=Z+1}if($&&$.buffer===this.deduplicate&&this.deduplicate&&!Y)$.buffer=GR1($.buffer),$.deduplicate=0;return $};i4.prototype.set=function(Z,Y){var J=this._array(Z,!1),X=this.path[0];if(Z>=this.length)this.length=Z+1;if(!Y||this.zeros&&Y.equals&&Y.equals(this.zeros)){J[X]=void 0;return}if(this.deduplicate&&Y.equals&&Y.equals(this.deduplicate))Y=this.deduplicate;var $=J[X],W=WR1(Y,this.pageSize);if($)$.buffer=W;else J[X]=new Wb(Z,W)};i4.prototype.toBuffer=function(){var Z=new Array(this.length),Y=$K(this.pageSize),J=0;while(J<Z.length){var X=this._array(J,!0);for(var $=0;$<32768&&J<Z.length;$++)Z[J++]=X&&X[$]?X[$].buffer:Y}return Buffer.concat(Z)}});var Hb=R((Ls1,Kb)=>{var o5=function(Z){if(!(this instanceof o5))return new o5(Z);if(!Z)Z={};if(Buffer.isBuffer(Z))Z={buffer:Z};if(this.pageOffset=Z.pageOffset||0,this.pageSize=Z.pageSize||1024,this.pages=Z.pages||KR1(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!zR1(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!Z.trackUpdates,this._pageMask=this.pageSize-1,Z.buffer){for(var Y=0;Y<Z.buffer.length;Y+=this.pageSize)this.pages.set(Y/this.pageSize,Z.buffer.slice(Y,Y+this.pageSize));this.byteLength=Z.buffer.length,this.length=8*this.byteLength}},HR1=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var Y=new Buffer(Z);return Y.fill(0),Y},zR1=function(Z){return!(Z&Z-1)},KR1=Qb();Kb.exports=o5;o5.prototype.get=function(Z){var Y=Z&7,J=(Z-Y)/8;return!!(this.getByte(J)&128>>Y)};o5.prototype.getByte=function(Z){var Y=Z&this._pageMask,J=(Z-Y)/this.pageSize,X=this.pages.get(J,!0);return X?X.buffer[Y+this.pageOffset]:0};o5.prototype.set=function(Z,Y){var J=Z&7,X=(Z-J)/8,$=this.getByte(X);return this.setByte(X,Y?$|128>>J:$&(255^128>>J))};o5.prototype.toBuffer=function(){var Z=HR1(this.pages.length*this.pageSize);for(var Y=0;Y<this.pages.length;Y++){var J=this.pages.get(Y,!0),X=Y*this.pageSize;if(J)J.buffer.copy(Z,X,this.pageOffset,this.pageOffset+this.pageSize)}return Z};o5.prototype.setByte=function(Z,Y){var J=Z&this._pageMask,X=(Z-J)/this.pageSize,$=this.pages.get(X,!1);if(J+=this.pageOffset,$.buffer[J]===Y)return!1;if($.buffer[J]=Y,Z>=this.byteLength)this.byteLength=Z+1,this.length=this.byteLength*8;if(this._trackUpdates)this.pages.updated($);return!0}});var Fb=R((zb)=>{Object.defineProperty(zb,"__esModule",{value:!0});var FR1=import.meta.require("zlib");zb.default=FR1.gunzipSync(Buffer.from("H4sIAAAAAAACA+3dTYgcWR0A8FfTnekQ47aCkBxiZpYV8RhwYQM7bA/ksoLgSRD0IOSiePAkLrowvWSF4CkHEW856MlTQHA9RKZ1ZJODsEcVcTOyhxUEbXdXtpPp1PNVV39Uz4czEyaTVOb3G6a7XtWrr/devX49/+qekG2Go7Aa2jHGyozG+Dmrzi2mP/xb/zMhLI+WlRm2byubm2h0ivVi7BYzusVjuNkt1l9uFWsutWL8OP4rzV9KeXdsKx1HFhbSc6vIG0fKBZ14UNfLFS6FRrGRtXh98ZvphL/x4uLV/IOzaat/vlikv/TixavxR8PQitfPpKNbffXSwgtr8fV07GX+L1967urwg5W0/t0LV37y/oWFlQtX8ping7reXE3LT680r9yPKyn/3Vn64SwdVs6m/KN0yHrp9D+RvXsqpe6MSia5mH6LSog//Xq/++O74YVTjfDFWK2VIuNSemiPppphcVYeyzcudKqFMiq6cs3vVkrzlcnE0mxeZ1Jf2ZXsSvk8TmRZWYdpalydxd5bc8eUkt1wlEbtqTVLr8XQLFpKMb+dpr9SbSOt4ozTgXUq8+Ihm8cTt0shtCvT6dwao6sxPf5ydmU208/Z0yH8IZtlvZi3e5fG12yn3PLSdPvnQ7vsK9rxyKpqevzFZGVfu3YHezvbnbvit9Xdm5fGbf/MZ7PuuNrTjLJnaofH7gm0h+VKU/g/tdUocrer3cO4yOcuycGoyLrba6Ta+lrlnkZ5ntvWCrfV39wLTuNg9QvsvHb37P8BAGCP0eNTOH5szf154JmnNQIcn7b+FziyAfX4eWnn+C6Lm4M0mj31ubkViiDV4WLvs56qN54xGS3HWER5su6nQtZubl9tcY/4atbr9e5kWewew/g2a8fdy2Yaa97+pgQAAAAAAIBHtt+dYmWwaN/byI5g/9PYVfMvb4YvvDpOLJxvFgueP9VbPXh8/yCZViZxNYATaejmDQAAAACgfjJ/3QUA4JD3Px1InT+5PtQCAAAAAAAAAKD2xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP6G6+khVCgSAAAAAAAAAKidYQjLYVfNcPSyAE+dhQsnvAAq59/VHAAAAAAAAOCJmv8E/w4HiLqf3nWuWCB1pe0esg/pT3sKd+m4XjhpFpZH3/1THTcU6cfRLnrHf3ZNPZs+bf9rwPuIUPYAWb+j/Zy0EaAxAAAAAADwrPJ1IMBenu6ea99M+0W/17wCAAAAAAAAnGRLm8oA4JnQUAQAAAAAAAAAUHvi/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/jdX0ECsUCQAAAAAAAADUTiMCAAAAAAAAAHU3VAQAAAAAAAAAUH8hLNf1uwsWbhT/uWBzUEx/ei1Nxc001VqrnN2wuRjCK3G4HuNgtuJoSVj17Q9QyBQBAAAAAAAAHMKpuJ4/+Otc5L2XZi8dJlQ/LCPXhc4keJ9UI9uFre3rDfY9uoXZPQBFHL34HSWWm8sx5rH83d967IfZMRZHHG/2Qi8MFnbscXnhnzHei5NND8P2bW2OT3G8vFeebBHbz9dGEf5jDt+fK4/mTve1bnwndsNL92+mE/75xhs/yz65Ed/ZbP29SP96oxvCDxrxcjj333R262/d6X6tG66lYy/z/+rtMn83nHvv9nfOv/dw4+pvspCl4v7+1npa/nHvtbSvjSJ/mf79/VuLC7N03LiW8o/SMU8ldO+jPOul1OVQ3vVwK+TZqBLCt3/RXvveS7eaD0L8YyhrJeV/cC0WGTdD1hzlCo2H98vzK9a+963V7qRVTeaNa+ZGpWp+N62jSmOetJD8dn67fB4n8nzchG7n4+os2tcgzLWUQVg70rta8lE7nqW7IW710v7eDsV1F7e6433njYfd9j9Gl2KIveptMePVamOXQuhXO5tUk6Pv+kiPX43T7/3YevDy4MN+HLw8CHPX6OqOOwKe73z0+pnf3rvT6pX76j/SUU7/3UjqX5r7ZW7PdZU8Vq2id+29Pphdh3n1Tqp/t0aXaWVOPnsFGre+waRdpKf/TK+7fiX3bOWluVeJg77AAPNDwr37fwAA2GP0+BSOHwcn6/231ghwfPr6X+DIBtTj582d47s8LD3xMeYktt+YHXHe6XQuH9P4Nu+H3ctmGmve/qYEAAAAAACAR7bfnWJlsGgSNNoM54tPZ23EI4vYzPY1/fzq1ud/GP/01jjx8P2tYsG7DzrrB4/vHySTz5YB+n8AAAAAgJrJ/XEXAIDHEf/2yXUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGdABAAAAAAAAADqbqgIAAAAAAAAAKD2hv8DWK79UBhoBgA=","base64"))});var Vb=R((D8)=>{var HJ=function(){const Z=Ub.default.readUInt32BE(Y$);Y$+=4;const Y=Ub.default.slice(Y$,Y$+Z);return Y$+=Z,qR1.default({buffer:Y})},qb=D8&&D8.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(D8,"__esModule",{value:!0});D8.bidirectional_l=D8.bidirectional_r_al=D8.prohibited_characters=D8.non_ASCII_space_characters=D8.commonly_mapped_to_nothing=D8.unassigned_code_points=void 0;var qR1=qb(Hb()),Ub=qb(Fb()),Y$=0;D8.unassigned_code_points=HJ();D8.commonly_mapped_to_nothing=HJ();D8.non_ASCII_space_characters=HJ();D8.prohibited_characters=HJ();D8.bidirectional_r_al=HJ();D8.bidirectional_l=HJ()});var Mb=R((Ms1,wb)=>{var Rb=function(Z){const Y=[],J=Z.length;for(let X=0;X<J;X+=1){const $=Z.charCodeAt(X);if($>=55296&&$<=56319&&J>X+1){const W=Z.charCodeAt(X+1);if(W>=56320&&W<=57343){Y.push(($-55296)*1024+W-56320+65536),X+=1;continue}}Y.push($)}return Y},J$=function(Z,Y={}){if(typeof Z!=="string")throw new TypeError("Expected string.");if(Z.length===0)return"";const J=Rb(Z).map((z)=>VR1.get(z)?32:z).filter((z)=>!LR1.get(z)),X=String.fromCodePoint.apply(null,J).normalize("NFKC"),$=Rb(X);if($.some((z)=>e5.prohibited_characters.get(z)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(Y.allowUnassigned!==!0){if($.some((F)=>e5.unassigned_code_points.get(F)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5")}const G=$.some((z)=>e5.bidirectional_r_al.get(z)),Q=$.some((z)=>e5.bidirectional_l.get(z));if(G&&Q)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");const K=e5.bidirectional_r_al.get(Lb(RR1(X))),H=e5.bidirectional_r_al.get(Lb(wR1(X)));if(G&&!(K&&H))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return X},e5=Vb(),VR1=e5.non_ASCII_space_characters,LR1=e5.commonly_mapped_to_nothing,Lb=(Z)=>Z.codePointAt(0),RR1=(Z)=>Z[0],wR1=(Z)=>Z[Z.length-1];J$.saslprep=J$;J$.default=J$;wb.exports=J$});var Ob=R((Eb)=>{var Nb=function(Z){return Z.replace("=","=3D").replace(",","=2C")},Ib=function(Z,Y){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(Z,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(Y.toString("base64"),"utf8")])},Db=function(Z,Y,J){const X=Nb(Y.username);return{saslStart:1,mechanism:Z==="sha1"?Bb.AuthMechanism.MONGODB_SCRAM_SHA1:Bb.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new DR.Binary(Buffer.concat([Buffer.from("n,,","utf8"),Ib(X,J)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}};async function NR1(Z,Y){const{connection:J,credentials:X}=Y;if(!X)throw new k7.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!Y.nonce)throw new k7.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");const $=Y.nonce,W=X.source,G=Db(Z,X,$),Q=await J.commandAsync(PR.ns(`${W}.\$cmd`),G,void 0);await Pb(Z,Q,Y)}async function Pb(Z,Y,J){const{connection:X,credentials:$}=J;if(!$)throw new k7.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!J.nonce)throw new k7.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");const W=J.nonce,G=$.source,Q=Nb($.username),K=$.password,H=Z==="sha256"?MR1.saslprep(K):IR1(Q,K),z=Buffer.isBuffer(Y.payload)?new DR.Binary(Y.payload):Y.payload,F=Ab(z),U=parseInt(F.i,10);if(U&&U<4096)throw new k7.MongoRuntimeError(`Server returned an invalid iteration count ${U}`);const{s:q,r:V}=F;if(V.startsWith("nonce"))throw new k7.MongoRuntimeError(`Server returned an invalid nonce: ${V}`);const L=`c=biws,r=${V}`,w=ER1(H,Buffer.from(q,"base64"),U,Z),B=WK(Z,w,"Client Key"),A=WK(Z,w,"Server Key"),M=PR1(Z,B),I=[Ib(Q,W),z.toString("utf8"),L].join(","),x=WK(Z,M,I),j=`p=${DR1(B,x)}`,E=[L,j].join(","),D=WK(Z,A,I),l={saslContinue:1,conversationId:Y.conversationId,payload:new DR.Binary(Buffer.from(E))},b=await X.commandAsync(PR.ns(`${G}.\$cmd`),l,void 0),_=Ab(b.payload);if(!jR1(Buffer.from(_.v,"base64"),D))throw new k7.MongoRuntimeError("Server returned an invalid signature");if(b.done!==!1)return;const O={saslContinue:1,conversationId:b.conversationId,payload:Buffer.alloc(0)};await X.commandAsync(PR.ns(`${G}.\$cmd`),O,void 0)}var Ab=function(Z){const Y=Z.toString("utf8"),J={},X=Y.split(",");for(let $=0;$<X.length;$++){const W=X[$].split("=");J[W[0]]=W[1]}return J},IR1=function(Z,Y){if(typeof Z!=="string")throw new k7.MongoInvalidArgumentError("Username must be a string");if(typeof Y!=="string")throw new k7.MongoInvalidArgumentError("Password must be a string");if(Y.length===0)throw new k7.MongoInvalidArgumentError("Password cannot be empty");let J;try{J=ZZ.createHash("md5")}catch(X){if(ZZ.getFips())throw new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode");throw X}return J.update(`${Z}:mongo:${Y}`,"utf8"),J.digest("hex")},DR1=function(Z,Y){if(!Buffer.isBuffer(Z))Z=Buffer.from(Z);if(!Buffer.isBuffer(Y))Y=Buffer.from(Y);const J=Math.max(Z.length,Y.length),X=[];for(let $=0;$<J;$+=1)X.push(Z[$]^Y[$]);return Buffer.from(X).toString("base64")},PR1=function(Z,Y){return ZZ.createHash(Z).update(Y).digest()},WK=function(Z,Y,J){return ZZ.createHmac(Z,Y).update(J).digest()},TR1=function(){GK={},TR=0},ER1=function(Z,Y,J,X){const $=[Z,Y.toString("base64"),J].join("_");if(GK[$]!=null)return GK[$];const W=ZZ.pbkdf2Sync(Z,Y,J,CR1[X],X);if(TR>=200)TR1();return GK[$]=W,TR+=1,W},jR1=function(Z,Y){if(Z.length!==Y.length)return!1;if(typeof ZZ.timingSafeEqual==="function")return ZZ.timingSafeEqual(Z,Y);let J=0;for(let X=0;X<Z.length;X++)J|=Z[X]^Y[X];return J===0};Object.defineProperty(Eb,"__esModule",{value:!0});Eb.ScramSHA256=Eb.ScramSHA1=void 0;var MR1=Mb(),ZZ=import.meta.require("crypto"),BR1=import.meta.require("util"),DR=G0(),k7=o(),PR=Q1(),AR1=u4(),Bb=K4();class CR extends AR1.AuthProvider{constructor(Z){super();this.cryptoMethod=Z||"sha1",this.randomBytesAsync=BR1.promisify(ZZ.randomBytes)}async prepare(Z,Y){const J=this.cryptoMethod,X=Y.credentials;if(!X)throw new k7.MongoMissingCredentialsError("AuthContext must provide credentials.");const $=await this.randomBytesAsync(24);return Y.nonce=$,{...Z,speculativeAuthenticate:{...Db(J,X,$),db:X.source}}}async auth(Z){const{reauthenticating:Y,response:J}=Z;if(J?.speculativeAuthenticate&&!Y)return Pb(this.cryptoMethod,J.speculativeAuthenticate,Z);return NR1(this.cryptoMethod,Z)}}var GK={},TR=0,CR1={sha256:32,sha1:20};class Tb extends CR{constructor(){super("sha1")}}Eb.ScramSHA1=Tb;class Cb extends CR{constructor(){super("sha256")}}Eb.ScramSHA256=Cb});var yb=R((xb)=>{var kb=function(Z){const Y={authenticate:1,mechanism:"MONGODB-X509"};if(Z.username)Y.user=Z.username;return Y};Object.defineProperty(xb,"__esModule",{value:!0});xb.X509=void 0;var Sb=o(),SR1=Q1(),kR1=u4();class _b extends kR1.AuthProvider{async prepare(Z,Y){const{credentials:J}=Y;if(!J)throw new Sb.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...Z,speculativeAuthenticate:kb(J)}}async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new Sb.MongoMissingCredentialsError("AuthContext must provide credentials.");if(Z.response?.speculativeAuthenticate)return;await Y.commandAsync(SR1.ns("$external.$cmd"),kb(J),void 0)}}xb.X509=_b});var kR=R((cb)=>{var uR1=function(Z,Y){jR({...Z,existingSocket:void 0},(J,X)=>{if(J||!X)return Y(J);let $=Z.connectionType??bb.Connection;if(Z.autoEncrypter)$=bb.CryptoConnection;const W=new $(X,Z);cR1(W,Z).then(()=>Y(void 0,W),(G)=>{W.destroy({force:!1}),Y(G)})})},dR1=function(Z,Y){const J=Number(Z.maxWireVersion),X=Number(Z.minWireVersion),$=!Number.isNaN(J)&&J>=zJ.MIN_SUPPORTED_WIRE_VERSION,W=!Number.isNaN(X)&&X<=zJ.MAX_SUPPORTED_WIRE_VERSION;if($){if(W)return null;const Q=`Server at ${Y.hostAddress} reports minimum wire version ${JSON.stringify(Z.minWireVersion)}, but this version of the Node.js Driver requires at most ${zJ.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${zJ.MAX_SUPPORTED_SERVER_VERSION})`;return new b0.MongoCompatibilityError(Q)}const G=`Server at ${Y.hostAddress} reports maximum wire version ${JSON.stringify(Z.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${zJ.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${zJ.MIN_SUPPORTED_SERVER_VERSION})`;return new b0.MongoCompatibilityError(G)};async function cR1(Z,Y){const J=Y.credentials;if(J){if(J.mechanism!==$7.AuthMechanism.MONGODB_DEFAULT&&!cb.AUTH_PROVIDERS.get(J.mechanism))throw new b0.MongoInvalidArgumentError(`AuthMechanism '${J.mechanism}' not supported`)}const X=new fR1.AuthContext(Z,J,Y);Z.authContext=X;const $=await ub(X),W={...Y};if(typeof Y.connectTimeoutMS==="number")W.socketTimeoutMS=Y.connectTimeoutMS;const G=(new Date()).getTime(),Q=await Z.commandAsync(mb.ns("admin.$cmd"),$,W);if(!("isWritablePrimary"in Q))Q.isWritablePrimary=Q[hb.LEGACY_HELLO_COMMAND];if(Q.helloOk)Z.helloOk=!0;const K=dR1(Q,Y);if(K)throw K;if(Y.loadBalanced){if(!Q.serviceId)throw new b0.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.")}if(Z.hello=Q,Z.lastHelloMS=(new Date()).getTime()-G,!Q.arbiterOnly&&J){X.response=Q;const H=J.resolveAuthMechanism(Q),z=cb.AUTH_PROVIDERS.get(H.mechanism);if(!z)throw new b0.MongoInvalidArgumentError(`No AuthProvider for ${H.mechanism} defined.`);try{await z.auth(X)}catch(F){if(F instanceof b0.MongoError){if(F.addErrorLabel(b0.MongoErrorLabel.HandshakeError),b0.needsRetryableWriteLabel(F,Q.maxWireVersion))F.addErrorLabel(b0.MongoErrorLabel.RetryableWriteError)}throw F}}}async function ub(Z){const Y=Z.options,J=Y.compressors?Y.compressors:[],{serverApi:X}=Z.connection,$={[X?.version?"hello":hb.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:Y.metadata,compression:J};if(Y.loadBalanced===!0)$.loadBalanced=!0;const W=Z.credentials;if(W){if(W.mechanism===$7.AuthMechanism.MONGODB_DEFAULT&&W.username){$.saslSupportedMechs=`${W.source}.${W.username}`;const Q=cb.AUTH_PROVIDERS.get($7.AuthMechanism.MONGODB_SCRAM_SHA256);if(!Q)throw new b0.MongoInvalidArgumentError(`No AuthProvider for ${$7.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return Q.prepare($,Z)}const G=cb.AUTH_PROVIDERS.get(W.mechanism);if(!G)throw new b0.MongoInvalidArgumentError(`No AuthProvider for ${W.mechanism} defined.`);return G.prepare($,Z)}return $}var OR=function(Z){const Y=Z.hostAddress;if(!Y)throw new b0.MongoInvalidArgumentError('Option "hostAddress" is required');const J={};for(let X of cb.LEGAL_TCP_SOCKET_OPTIONS)if(Z[X]!=null)J[X]=Z[X];if(typeof Y.socketPath==="string")return J.path=Y.socketPath,J;else if(typeof Y.host==="string")return J.host=Y.host,J.port=Y.port,J;else throw new b0.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(Y)}`)},pR1=function(Z){const Y=OR(Z);for(let J of cb.LEGAL_TLS_SOCKET_OPTIONS)if(Z[J]!=null)Y[J]=Z[J];if(Z.existingSocket)Y.socket=Z.existingSocket;if(Y.servername==null&&Y.host&&!vb.isIP(Y.host))Y.servername=Y.host;return Y},jR=function(Z,Y){const J=Z.tls??!1,X=Z.noDelay??!0,$=Z.connectTimeoutMS??30000,W=Z.rejectUnauthorized??!0,G=Z.existingSocket;let Q;const K=function(q,V){if(q&&Q)Q.destroy();Y(q,V)};if(Z.proxyHost!=null)return nR1({...Z,connectTimeoutMS:$},K);if(J){const q=_R1.connect(pR1(Z));if(typeof q.disableRenegotiation==="function")q.disableRenegotiation();Q=q}else if(G)Q=G;else Q=vb.createConnection(OR(Z));Q.setKeepAlive(!0,300000),Q.setTimeout($),Q.setNoDelay(X);const H=J?"secureConnect":"connect";let z;function F(q){return(V)=>{if(ER.forEach((L)=>Q.removeAllListeners(L)),z&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",z);Q.removeListener(H,U),K(db(q,V))}}function U(){if(ER.forEach((q)=>Q.removeAllListeners(q)),z&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",z);if("authorizationError"in Q){if(Q.authorizationError&&W)return K(Q.authorizationError)}Q.setTimeout(0),K(void 0,Q)}if(ER.forEach((q)=>Q.once(q,F(q))),Z.cancellationToken)z=F("cancel"),Z.cancellationToken.once("cancel",z);if(G)process.nextTick(U);else Q.once(H,U)},iR1=function(){if(X$==null){const Z=xR1.getSocks();if("kModuleError"in Z)throw Z.kModuleError;X$=Z}return X$},nR1=function(Z,Y){const J=mb.HostAddress.fromHostPort(Z.proxyHost??"",Z.proxyPort??1080);jR({...Z,hostAddress:J,tls:!1,proxyHost:void 0},(X,$)=>{if(X||!$)return Y(X);const W=OR(Z);if(typeof W.host!=="string"||typeof W.port!=="number")return Y(new b0.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts"));try{X$??=iR1()}catch(G){return Y(G)}X$.SocksClient.createConnection({existing_socket:$,timeout:Z.connectTimeoutMS,command:"connect",destination:{host:W.host,port:W.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:Z.proxyUsername||void 0,password:Z.proxyPassword||void 0}}).then(({socket:G})=>{jR({...Z,existingSocket:G,proxyHost:void 0},Y)},(G)=>Y(db("error",G)))})},db=function(Z,Y){switch(Z){case"error":return new b0.MongoNetworkError(b0.MongoError.buildErrorMessage(Y),{cause:Y});case"timeout":return new b0.MongoNetworkTimeoutError("connection timed out");case"close":return new b0.MongoNetworkError("connection closed");case"cancel":return new b0.MongoNetworkError("connection establishment was cancelled");default:return new b0.MongoNetworkError("unknown network error")}};Object.defineProperty(cb,"__esModule",{value:!0});cb.LEGAL_TCP_SOCKET_OPTIONS=cb.LEGAL_TLS_SOCKET_OPTIONS=cb.prepareHandshakeDocument=cb.connect=cb.AUTH_PROVIDERS=void 0;var vb=import.meta.require("net"),_R1=import.meta.require("tls"),hb=r0(),xR1=C7(),b0=o(),mb=Q1(),fR1=u4(),yR1=IQ(),gR1=$g(),bR1=Kg(),vR1=Zb(),hR1=$b(),$7=K4(),gb=Ob(),mR1=yb(),bb=o3(),zJ=oZ();cb.AUTH_PROVIDERS=new Map([[$7.AuthMechanism.MONGODB_AWS,new bR1.MongoDBAWS],[$7.AuthMechanism.MONGODB_CR,new gR1.MongoCR],[$7.AuthMechanism.MONGODB_GSSAPI,new yR1.GSSAPI],[$7.AuthMechanism.MONGODB_OIDC,new vR1.MongoDBOIDC],[$7.AuthMechanism.MONGODB_PLAIN,new hR1.Plain],[$7.AuthMechanism.MONGODB_SCRAM_SHA1,new gb.ScramSHA1],[$7.AuthMechanism.MONGODB_SCRAM_SHA256,new gb.ScramSHA256],[$7.AuthMechanism.MONGODB_X509,new mR1.X509]]);cb.connect=uR1;cb.prepareHandshakeDocument=ub;cb.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"];cb.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];var lR1=["error","close","timeout","parseError"],ER=new Set(lR1),X$=null});var _R=R((Jv)=>{Object.defineProperty(Jv,"__esModule",{value:!0});Jv.ConnectionPoolClearedEvent=Jv.ConnectionCheckedInEvent=Jv.ConnectionCheckedOutEvent=Jv.ConnectionCheckOutFailedEvent=Jv.ConnectionCheckOutStartedEvent=Jv.ConnectionClosedEvent=Jv.ConnectionReadyEvent=Jv.ConnectionCreatedEvent=Jv.ConnectionPoolClosedEvent=Jv.ConnectionPoolReadyEvent=Jv.ConnectionPoolCreatedEvent=Jv.ConnectionPoolMonitoringEvent=void 0;var _7=r0();class O6{constructor(Z){this.time=new Date,this.address=Z.address}}Jv.ConnectionPoolMonitoringEvent=O6;class lb extends O6{constructor(Z){super(Z);this.name=_7.CONNECTION_POOL_CREATED;const{maxConnecting:Y,maxPoolSize:J,minPoolSize:X,maxIdleTimeMS:$,waitQueueTimeoutMS:W}=Z.options;this.options={maxConnecting:Y,maxPoolSize:J,minPoolSize:X,maxIdleTimeMS:$,waitQueueTimeoutMS:W}}}Jv.ConnectionPoolCreatedEvent=lb;class ib extends O6{constructor(Z){super(Z);this.name=_7.CONNECTION_POOL_READY}}Jv.ConnectionPoolReadyEvent=ib;class nb extends O6{constructor(Z){super(Z);this.name=_7.CONNECTION_POOL_CLOSED}}Jv.ConnectionPoolClosedEvent=nb;class ab extends O6{constructor(Z,Y){super(Z);this.name=_7.CONNECTION_CREATED,this.connectionId=Y.id}}Jv.ConnectionCreatedEvent=ab;class sb extends O6{constructor(Z,Y){super(Z);this.name=_7.CONNECTION_READY,this.connectionId=Y.id}}Jv.ConnectionReadyEvent=sb;class rb extends O6{constructor(Z,Y,J,X){super(Z);this.name=_7.CONNECTION_CLOSED,this.connectionId=Y.id,this.reason=J,this.serviceId=Y.serviceId,this.error=X??null}}Jv.ConnectionClosedEvent=rb;class tb extends O6{constructor(Z){super(Z);this.name=_7.CONNECTION_CHECK_OUT_STARTED}}Jv.ConnectionCheckOutStartedEvent=tb;class ob extends O6{constructor(Z,Y,J){super(Z);this.name=_7.CONNECTION_CHECK_OUT_FAILED,this.reason=Y,this.error=J}}Jv.ConnectionCheckOutFailedEvent=ob;class eb extends O6{constructor(Z,Y){super(Z);this.name=_7.CONNECTION_CHECKED_OUT,this.connectionId=Y.id}}Jv.ConnectionCheckedOutEvent=eb;class Zv extends O6{constructor(Z,Y){super(Z);this.name=_7.CONNECTION_CHECKED_IN,this.connectionId=Y.id}}Jv.ConnectionCheckedInEvent=Zv;class Yv extends O6{constructor(Z,Y={}){super(Z);this.name=_7.CONNECTION_POOL_CLEARED,this.serviceId=Y.serviceId,this.interruptInUseConnections=Y.interruptInUseConnections}}Jv.ConnectionPoolClearedEvent=Yv});var fR=R((Qv)=>{Object.defineProperty(Qv,"__esModule",{value:!0});Qv.WaitQueueTimeoutError=Qv.PoolClearedOnNetworkError=Qv.PoolClearedError=Qv.PoolClosedError=void 0;var QK=o();class $v extends QK.MongoDriverError{constructor(Z){super("Attempted to check out a connection from closed connection pool");this.address=Z.address}get name(){return"MongoPoolClosedError"}}Qv.PoolClosedError=$v;class xR extends QK.MongoNetworkError{constructor(Z,Y){const J=Y?Y:`Connection pool for ${Z.address} was cleared because another operation failed with: "${Z.serverError?.message}"`;super(J,Z.serverError?{cause:Z.serverError}:void 0);this.address=Z.address,this.addErrorLabel(QK.MongoErrorLabel.RetryableWriteError)}get name(){return"MongoPoolClearedError"}}Qv.PoolClearedError=xR;class Wv extends xR{constructor(Z){super(Z,`Connection to ${Z.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}}Qv.PoolClearedOnNetworkError=Wv;class Gv extends QK.MongoDriverError{constructor(Z,Y){super(Z);this.address=Y}get name(){return"MongoWaitQueueTimeoutError"}}Qv.WaitQueueTimeoutError=Gv});var Vv=R((Uv)=>{Object.defineProperty(Uv,"__esModule",{value:!0});Uv.ConnectionPool=Uv.PoolState=void 0;var FJ=import.meta.require("timers"),G7=r0(),x7=o(),Hv=P6(),W$=Q1(),zv=kR(),KK=o3(),K8=_R(),UJ=fR(),zw1=$V(),HK=Symbol("server"),n4=Symbol("connections"),qJ=Symbol("pending"),YZ=Symbol("checkedOut"),w9=Symbol("minPoolSizeTimer"),VJ=Symbol("generation"),Fv=Symbol("serviceGenerations"),zK=Symbol("connectionCounter"),FK=Symbol("cancellationToken"),a4=Symbol("waitQueue"),UK=Symbol("cancelled"),qK=Symbol("metrics"),VK=Symbol("processingWaitQueue"),f7=Symbol("poolState");Uv.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});class i1 extends Hv.TypedEventEmitter{constructor(Z,Y){super();if(this.options=Object.freeze({...Y,connectionType:KK.Connection,maxPoolSize:Y.maxPoolSize??100,minPoolSize:Y.minPoolSize??0,maxConnecting:Y.maxConnecting??2,maxIdleTimeMS:Y.maxIdleTimeMS??0,waitQueueTimeoutMS:Y.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:Y.minPoolSizeCheckFrequencyMS??100,autoEncrypter:Y.autoEncrypter,metadata:Y.metadata}),this.options.minPoolSize>this.options.maxPoolSize)throw new x7.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[f7]=Uv.PoolState.paused,this[HK]=Z,this[n4]=new W$.List,this[qJ]=0,this[YZ]=new Set,this[w9]=void 0,this[VJ]=0,this[Fv]=new Map,this[zK]=W$.makeCounter(1),this[FK]=new Hv.CancellationToken,this[FK].setMaxListeners(Infinity),this[a4]=new W$.List,this[qK]=new zw1.ConnectionPoolMetrics,this[VK]=!1,this.mongoLogger=this[HK].topology.client.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog(i1.CONNECTION_POOL_CREATED,new K8.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[f7]===Uv.PoolState.closed}get generation(){return this[VJ]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[n4].length}get pendingConnectionCount(){return this[qJ]}get currentCheckedOutCount(){return this[YZ].size}get waitQueueSize(){return this[a4].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[Fv]}get serverError(){return this[HK].description.error}get checkedOutConnections(){return this[YZ]}waitQueueErrorMetrics(){return this[qK].info(this.options.maxPoolSize)}ready(){if(this[f7]!==Uv.PoolState.paused)return;this[f7]=Uv.PoolState.ready,this.emitAndLog(i1.CONNECTION_POOL_READY,new K8.ConnectionPoolReadyEvent(this)),FJ.clearTimeout(this[w9]),this.ensureMinPoolSize()}checkOut(Z){this.emitAndLog(i1.CONNECTION_CHECK_OUT_STARTED,new K8.ConnectionCheckOutStartedEvent(this));const Y=this.options.waitQueueTimeoutMS,J={callback:Z,timeoutController:new W$.TimeoutController(Y)};J.timeoutController.signal.addEventListener("abort",()=>{J[UK]=!0,J.timeoutController.clear(),this.emitAndLog(i1.CONNECTION_CHECK_OUT_FAILED,new K8.ConnectionCheckOutFailedEvent(this,"timeout")),J.callback(new UJ.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))}),this[a4].push(J),process.nextTick(()=>this.processWaitQueue())}checkIn(Z){if(!this[YZ].has(Z))return;const Y=this.closed,J=this.connectionIsStale(Z),X=!!(Y||J||Z.closed);if(!X)Z.markAvailable(),this[n4].unshift(Z);if(this[YZ].delete(Z),this.emitAndLog(i1.CONNECTION_CHECKED_IN,new K8.ConnectionCheckedInEvent(this,Z)),X){const $=Z.closed?"error":Y?"poolClosed":"stale";this.destroyConnection(Z,$)}process.nextTick(()=>this.processWaitQueue())}clear(Z={}){if(this.closed)return;if(this.loadBalanced){const{serviceId:$}=Z;if(!$)throw new x7.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");const W=$.toHexString(),G=this.serviceGenerations.get(W);if(G==null)throw new x7.MongoRuntimeError("Service generations are required in load balancer mode.");else this.serviceGenerations.set(W,G+1);this.emitAndLog(i1.CONNECTION_POOL_CLEARED,new K8.ConnectionPoolClearedEvent(this,{serviceId:$}));return}const Y=Z.interruptInUseConnections??!1,J=this[VJ];this[VJ]+=1;const X=this[f7]===Uv.PoolState.paused;if(this[f7]=Uv.PoolState.paused,this.clearMinPoolSizeTimer(),!X)this.emitAndLog(i1.CONNECTION_POOL_CLEARED,new K8.ConnectionPoolClearedEvent(this,{interruptInUseConnections:Y}));if(Y)process.nextTick(()=>this.interruptInUseConnections(J));this.processWaitQueue()}interruptInUseConnections(Z){for(let Y of this[YZ])if(Y.generation<=Z)this.checkIn(Y),Y.onError(new UJ.PoolClearedOnNetworkError(this))}close(Z,Y){let J=Z;const X=Y??Z;if(typeof J==="function")J={};if(J=Object.assign({force:!1},J),this.closed)return X();if(this[FK].emit("cancel"),typeof this[zK].return==="function")this[zK].return(void 0);this[f7]=Uv.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue(),W$.eachAsync(this[n4].toArray(),($,W)=>{this.emitAndLog(i1.CONNECTION_CLOSED,new K8.ConnectionClosedEvent(this,$,"poolClosed")),$.destroy({force:!!J.force},W)},($)=>{this[n4].clear(),this.emitAndLog(i1.CONNECTION_POOL_CLOSED,new K8.ConnectionPoolClosedEvent(this)),X($)})}withConnection(Z,Y,J){if(Z){Y(void 0,Z,(X,$)=>{if(X)return this.withReauthentication(X,Z,Y,J);J(void 0,$)});return}this.checkOut((X,$)=>{Y(X,$,(W,G)=>{if(W)if($)this.withReauthentication(W,$,Y,J);else J(W);else J(void 0,G);if($)this.checkIn($)})})}withReauthentication(Z,Y,J,X){if(Z instanceof x7.MongoError&&Z.code===x7.MONGODB_ERROR_CODES.Reauthenticate)this.reauthenticate(Y,J,($,W)=>{if($)return X($);X(void 0,W)});else X(Z)}reauthenticate(Z,Y,J){const X=Z.authContext;if(!X)return J(new x7.MongoRuntimeError("No auth context found on connection."));const $=X.credentials;if(!$)return J(new x7.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate"));const W=$.resolveAuthMechanism(Z.hello||void 0),G=zv.AUTH_PROVIDERS.get(W.mechanism);if(!G)return J(new x7.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${$.mechanism}`));G.reauth(X).then(()=>{Y(void 0,Z,(Q,K)=>{if(Q)return J(Q);J(void 0,K)})},(Q)=>J(Q))}clearMinPoolSizeTimer(){const Z=this[w9];if(Z)FJ.clearTimeout(Z)}destroyConnection(Z,Y){this.emitAndLog(i1.CONNECTION_CLOSED,new K8.ConnectionClosedEvent(this,Z,Y)),process.nextTick(()=>Z.destroy({force:!1}))}connectionIsStale(Z){const Y=Z.serviceId;if(this.loadBalanced&&Y){const J=Y.toHexString(),X=this.serviceGenerations.get(J);return Z.generation!==X}return Z.generation!==this[VJ]}connectionIsIdle(Z){return!!(this.options.maxIdleTimeMS&&Z.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(Z){const Y=this.connectionIsStale(Z),J=this.connectionIsIdle(Z);if(!Y&&!J&&!Z.closed)return!1;const X=Z.closed?"error":Y?"stale":"idle";return this.destroyConnection(Z,X),!0}createConnection(Z){const Y={...this.options,id:this[zK].next().value,generation:this[VJ],cancellationToken:this[FK]};this[qJ]++,this.emitAndLog(i1.CONNECTION_CREATED,new K8.ConnectionCreatedEvent(this,{id:Y.id})),zv.connect(Y,(J,X)=>{if(J||!X){if(this[qJ]--,this.emitAndLog(i1.CONNECTION_CLOSED,new K8.ConnectionClosedEvent(this,{id:Y.id,serviceId:void 0},"error",J)),J instanceof x7.MongoNetworkError||J instanceof x7.MongoServerError)J.connectionGeneration=Y.generation;Z(J??new x7.MongoRuntimeError("Connection creation failed without error"));return}if(this[f7]!==Uv.PoolState.ready){this[qJ]--,X.destroy({force:!0}),Z(this.closed?new UJ.PoolClosedError(this):new UJ.PoolClearedError(this));return}for(let $ of[...G7.APM_EVENTS,KK.Connection.CLUSTER_TIME_RECEIVED])X.on($,(W)=>this.emit($,W));if(this.loadBalanced){X.on(KK.Connection.PINNED,(W)=>this[qK].markPinned(W)),X.on(KK.Connection.UNPINNED,(W)=>this[qK].markUnpinned(W));const $=X.serviceId;if($){let W;const G=$.toHexString();if(W=this.serviceGenerations.get(G))X.generation=W;else this.serviceGenerations.set(G,0),X.generation=0}}X.markAvailable(),this.emitAndLog(i1.CONNECTION_READY,new K8.ConnectionReadyEvent(this,X)),this[qJ]--,Z(void 0,X);return})}ensureMinPoolSize(){const Z=this.options.minPoolSize;if(this[f7]!==Uv.PoolState.ready||Z===0)return;if(this[n4].prune((Y)=>this.destroyConnectionIfPerished(Y)),this.totalConnectionCount<Z&&this.pendingConnectionCount<this.options.maxConnecting)this.createConnection((Y,J)=>{if(Y)this[HK].handleError(Y);if(!Y&&J)this[n4].push(J),process.nextTick(()=>this.processWaitQueue());if(this[f7]===Uv.PoolState.ready)FJ.clearTimeout(this[w9]),this[w9]=FJ.setTimeout(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)});else FJ.clearTimeout(this[w9]),this[w9]=FJ.setTimeout(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)}processWaitQueue(){if(this[VK])return;this[VK]=!0;while(this.waitQueueSize){const J=this[a4].first();if(!J){this[a4].shift();continue}if(J[UK]){this[a4].shift();continue}if(this[f7]!==Uv.PoolState.ready){const $=this.closed?"poolClosed":"connectionError",W=this.closed?new UJ.PoolClosedError(this):new UJ.PoolClearedError(this);this.emitAndLog(i1.CONNECTION_CHECK_OUT_FAILED,new K8.ConnectionCheckOutFailedEvent(this,$,W)),J.timeoutController.clear(),this[a4].shift(),J.callback(W);continue}if(!this.availableConnectionCount)break;const X=this[n4].shift();if(!X)break;if(!this.destroyConnectionIfPerished(X))this[YZ].add(X),this.emitAndLog(i1.CONNECTION_CHECKED_OUT,new K8.ConnectionCheckedOutEvent(this,X)),J.timeoutController.clear(),this[a4].shift(),J.callback(void 0,X)}const{maxPoolSize:Z,maxConnecting:Y}=this.options;while(this.waitQueueSize>0&&this.pendingConnectionCount<Y&&(Z===0||this.totalConnectionCount<Z)){const J=this[a4].shift();if(!J||J[UK])continue;this.createConnection((X,$)=>{if(J[UK]){if(!X&&$)this[n4].push($)}else{if(X)this.emitAndLog(i1.CONNECTION_CHECK_OUT_FAILED,new K8.ConnectionCheckOutFailedEvent(this,"connectionError",X));else if($)this[YZ].add($),this.emitAndLog(i1.CONNECTION_CHECKED_OUT,new K8.ConnectionCheckedOutEvent(this,$));J.timeoutController.clear(),J.callback(X,$)}process.nextTick(()=>this.processWaitQueue())})}this[VK]=!1}}i1.CONNECTION_POOL_CREATED=G7.CONNECTION_POOL_CREATED;i1.CONNECTION_POOL_CLOSED=G7.CONNECTION_POOL_CLOSED;i1.CONNECTION_POOL_CLEARED=G7.CONNECTION_POOL_CLEARED;i1.CONNECTION_POOL_READY=G7.CONNECTION_POOL_READY;i1.CONNECTION_CREATED=G7.CONNECTION_CREATED;i1.CONNECTION_READY=G7.CONNECTION_READY;i1.CONNECTION_CLOSED=G7.CONNECTION_CLOSED;i1.CONNECTION_CHECK_OUT_STARTED=G7.CONNECTION_CHECK_OUT_STARTED;i1.CONNECTION_CHECK_OUT_FAILED=G7.CONNECTION_CHECK_OUT_FAILED;i1.CONNECTION_CHECKED_OUT=G7.CONNECTION_CHECKED_OUT;i1.CONNECTION_CHECKED_IN=G7.CONNECTION_CHECKED_IN;Uv.ConnectionPool=i1});var Pv=R((Iv)=>{var H$=function(Z){return Z.s.state===H8.STATE_CLOSED||Z.s.state===H8.STATE_CLOSING},wv=function(Z){Z[V4]?.stop(),Z[V4]=void 0,Z[M9]?.close(),Z[M9]=void 0,Z[A9].emit("cancel"),Z[z8]?.destroy({force:!0}),Z[z8]=void 0},qw1=function(Z,Y){let J=S6.now();const X=Z[LK].description.topologyVersion,$=X!=null;Z.emit(Q$.Server.SERVER_HEARTBEAT_STARTED,new G$.ServerHeartbeatStartedEvent(Z.address,$));function W(Q){Z[z8]?.destroy({force:!0}),Z[z8]=void 0,Z.emit(Q$.Server.SERVER_HEARTBEAT_FAILED,new G$.ServerHeartbeatFailedEvent(Z.address,S6.calculateDurationInMs(J),Q,$));const K=!(Q instanceof LJ.MongoError)?new LJ.MongoError(LJ.MongoError.buildErrorMessage(Q),{cause:Q}):Q;if(K.addErrorLabel(LJ.MongoErrorLabel.ResetPool),K instanceof LJ.MongoNetworkTimeoutError)K.addErrorLabel(LJ.MongoErrorLabel.InterruptInUseConnections);Z.emit("resetServer",K),Y(Q)}const G=Z[z8];if(G&&!G.closed){const{serverApi:Q,helloOk:K}=G,H=Z.options.connectTimeoutMS,z=Z.options.heartbeatFrequencyMS,F={[Q?.version||K?"hello":yR.LEGACY_HELLO_COMMAND]:1,...$&&X?{maxAwaitTimeMS:z,topologyVersion:Vw1(X)}:{}},U=$?{socketTimeoutMS:H?H+z:0,exhaustAllowed:!0}:{socketTimeoutMS:H};if($&&Z[M9]==null)Z[M9]=new gR(Z[A9],Object.assign({heartbeatFrequencyMS:Z.options.heartbeatFrequencyMS},Z.connectOptions));G.command(S6.ns("admin.$cmd"),F,U,(q,V)=>{if(q)return W(q);if(!("isWritablePrimary"in V))V.isWritablePrimary=V[yR.LEGACY_HELLO_COMMAND];const L=Z[M9],w=$&&L?L.roundTripTime:S6.calculateDurationInMs(J),B=$&&V.topologyVersion!=null;if(Z.emit(Q$.Server.SERVER_HEARTBEAT_SUCCEEDED,new G$.ServerHeartbeatSucceededEvent(Z.address,w,V,B)),B)Z.emit(Q$.Server.SERVER_HEARTBEAT_STARTED,new G$.ServerHeartbeatStartedEvent(Z.address,!0)),J=S6.now();else Z[M9]?.close(),Z[M9]=void 0,Y(void 0,V)});return}Bv.connect(Z.connectOptions,(Q,K)=>{if(Q){Z[z8]=void 0,W(Q);return}if(K){if(K.isMonitoringConnection=!0,H$(Z)){K.destroy({force:!0});return}Z[z8]=K,Z.emit(Q$.Server.SERVER_HEARTBEAT_SUCCEEDED,new G$.ServerHeartbeatSucceededEvent(Z.address,S6.calculateDurationInMs(J),K.hello,!1)),Y(void 0,K.hello)}})},Mv=function(Z){return(Y)=>{if(Z.s.state===B9){process.nextTick(Y);return}wJ(Z,B9);function J(){if(!H$(Z))wJ(Z,RJ);Y()}qw1(Z,(X,$)=>{if(X){if(Z[LK].description.type===H8.ServerType.Unknown)return J()}if($&&$.topologyVersion)JZ.setTimeout(()=>{if(!H$(Z))Z[V4]?.wake()},0);J()})}},Vw1=function(Z){return{processId:Z.processId,counter:Lv.Long.isLong(Z.counter)?Z.counter:Lv.Long.fromNumber(Z.counter)}},Nv=function(Z,Y){const J=S6.now();Y.cancellationToken=Z[A9];const X=Y.heartbeatFrequencyMS;if(Z.closed)return;function $(G){if(Z.closed){G?.destroy({force:!0});return}if(Z[z8]==null)Z[z8]=G;Z[K$]=S6.calculateDurationInMs(J),Z[V4]=JZ.setTimeout(()=>Nv(Z,Y),X)}const W=Z[z8];if(W==null){Bv.connect(Y,(G,Q)=>{if(G){Z[z8]=void 0,Z[K$]=0;return}$(Q)});return}W.command(S6.ns("admin.$cmd"),{[yR.LEGACY_HELLO_COMMAND]:1},void 0,(G)=>{if(G){Z[z8]=void 0,Z[K$]=0;return}$()})};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.MonitorInterval=Iv.RTTPinger=Iv.Monitor=void 0;var JZ=import.meta.require("timers"),Lv=G0(),Bv=kR(),Fw1=o3(),yR=r0(),LJ=o(),Rv=P6(),S6=Q1(),H8=n6(),G$=aQ(),Q$=bR(),LK=Symbol("server"),V4=Symbol("monitorId"),z8=Symbol("connection"),A9=Symbol("cancellationToken"),M9=Symbol("rttPinger"),K$=Symbol("roundTripTime"),RJ="idle",B9="monitoring",wJ=S6.makeStateMachine({[H8.STATE_CLOSING]:[H8.STATE_CLOSING,RJ,H8.STATE_CLOSED],[H8.STATE_CLOSED]:[H8.STATE_CLOSED,B9],[RJ]:[RJ,B9,H8.STATE_CLOSING],[B9]:[B9,RJ,H8.STATE_CLOSING]}),Uw1=new Set([H8.STATE_CLOSING,H8.STATE_CLOSED,B9]);class Av extends Rv.TypedEventEmitter{get connection(){return this[z8]}constructor(Z,Y){super();this[LK]=Z,this[z8]=void 0,this[A9]=new Rv.CancellationToken,this[A9].setMaxListeners(Infinity),this[V4]=void 0,this.s={state:H8.STATE_CLOSED},this.address=Z.description.address,this.options=Object.freeze({connectTimeoutMS:Y.connectTimeoutMS??1e4,heartbeatFrequencyMS:Y.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:Y.minHeartbeatFrequencyMS??500});const J=this[A9],X=Object.assign({id:"<monitor>",generation:Z.pool.generation,connectionType:Fw1.Connection,cancellationToken:J,hostAddress:Z.description.hostAddress},Y,{raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0});if(delete X.credentials,X.autoEncrypter)delete X.autoEncrypter;this.connectOptions=Object.freeze(X)}connect(){if(this.s.state!==H8.STATE_CLOSED)return;const Z=this.options.heartbeatFrequencyMS,Y=this.options.minHeartbeatFrequencyMS;this[V4]=new RK(Mv(this),{heartbeatFrequencyMS:Z,minHeartbeatFrequencyMS:Y,immediate:!0})}requestCheck(){if(Uw1.has(this.s.state))return;this[V4]?.wake()}reset(){const Z=this[LK].description.topologyVersion;if(H$(this)||Z==null)return;wJ(this,H8.STATE_CLOSING),wv(this),wJ(this,RJ);const Y=this.options.heartbeatFrequencyMS,J=this.options.minHeartbeatFrequencyMS;this[V4]=new RK(Mv(this),{heartbeatFrequencyMS:Y,minHeartbeatFrequencyMS:J})}close(){if(H$(this))return;wJ(this,H8.STATE_CLOSING),wv(this),this.emit("close"),wJ(this,H8.STATE_CLOSED)}}Iv.Monitor=Av;class gR{constructor(Z,Y){this[z8]=void 0,this[A9]=Z,this[K$]=0,this.closed=!1;const J=Y.heartbeatFrequencyMS;this[V4]=JZ.setTimeout(()=>Nv(this,Y),J)}get roundTripTime(){return this[K$]}close(){this.closed=!0,JZ.clearTimeout(this[V4]),this[z8]?.destroy({force:!0}),this[z8]=void 0}}Iv.RTTPinger=gR;class RK{constructor(Z,Y={}){if(this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{if(this.stopped)return;if(this.timerId)JZ.clearTimeout(this.timerId);this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=S6.now(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)})},this.fn=Z,this.lastExecutionEnded=(-Infinity),this.heartbeatFrequencyMS=Y.heartbeatFrequencyMS??1000,this.minHeartbeatFrequencyMS=Y.minHeartbeatFrequencyMS??500,Y.immediate)this._executeAndReschedule();else this._reschedule(void 0)}wake(){const Y=S6.now()-this.lastExecutionEnded;if(Y<0)return this._executeAndReschedule();if(this.isExecutionInProgress)return;if(this.isExpeditedCallToFnScheduled)return;if(Y<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-Y);return}this._executeAndReschedule()}stop(){if(this.stopped=!0,this.timerId)JZ.clearTimeout(this.timerId),this.timerId=void 0;this.lastExecutionEnded=(-Infinity),this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){const Z=S6.now(),Y=Z-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:Z,timeSinceLastCall:Y}}_reschedule(Z){if(this.stopped)return;if(this.timerId)JZ.clearTimeout(this.timerId);this.timerId=JZ.setTimeout(this._executeAndReschedule,Z||this.heartbeatFrequencyMS)}}Iv.MonitorInterval=RK});var bR=R((Cv)=>{var Dw1=function(Z,Y){if(Z===-1)return Y;const J=0.2;return J*Y+(1-J)*Z},vR=function(Z,Y){if(Z.loadBalanced)return;if(Y instanceof q0.MongoNetworkError&&!(Y instanceof q0.MongoNetworkTimeoutError))Z[MJ]?.reset();Z.emit($6.DESCRIPTION_RECEIVED,new uR.ServerDescription(Z.description.hostAddress,void 0,{error:Y}))},Pw1=function(Z,Y){if(Y)return Y.inTransaction()||"aggregate"in Z||"find"in Z||"getMore"in Z||"listCollections"in Z||"listIndexes"in Z;return!1},Tw1=function(Z,Y){if(Y.serviceId)return Y.generation!==Z.serviceGenerations.get(Y.serviceId.toHexString());return Y.generation!==Z.generation},Cw1=function(Z,Y){const J=Y.topologyVersion,X=Z.description.topologyVersion;return uR.compareTopologyVersion(X,J)<0},hR=function(Z,Y){return Z&&Z.inTransaction()&&!mR.isTransactionCommand(Y)},Tv=function(Z){return Z.s.options.retryWrites!==!1},Ew1=function(Z,Y,J,X,$){const W=X?.session;return function G(Q,K){if(Q==null&&K!=null)return $(void 0,K);if(X!=null&&"noResponse"in X&&X.noResponse===!0)return $(void 0,null);if(!Q)return $(new q0.MongoUnexpectedServerResponseError("Empty response with no error"));if(!(Q instanceof q0.MongoError))return $(Q);if(Tw1(Z.pool,Y))return $(Q);if(Q instanceof q0.MongoNetworkError){if(W&&!W.hasEnded&&W.serverSession)W.serverSession.isDirty=!0;if(hR(W,J)&&!Q.hasErrorLabel(q0.MongoErrorLabel.TransientTransactionError))Q.addErrorLabel(q0.MongoErrorLabel.TransientTransactionError);if((Tv(Z.topology)||mR.isTransactionCommand(J))&&wK.supportsRetryableWrites(Z)&&!hR(W,J))Q.addErrorLabel(q0.MongoErrorLabel.RetryableWriteError)}else if((Tv(Z.topology)||mR.isTransactionCommand(J))&&q0.needsRetryableWriteLabel(Q,wK.maxWireVersion(Z))&&!hR(W,J))Q.addErrorLabel(q0.MongoErrorLabel.RetryableWriteError);if(W&&W.isPinned&&Q.hasErrorLabel(q0.MongoErrorLabel.TransientTransactionError))W.unpin({force:!0});return Z.handleError(Q,Y),$(Q)}};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.Server=void 0;var ww1=import.meta.require("util"),Mw1=o3(),Bw1=Vv(),Aw1=fR(),L4=r0(),q0=o(),Nw1=P6(),mR=HV(),wK=Q1(),Y0=n6(),Iw1=Pv(),uR=A3(),z$=wK.makeStateMachine({[Y0.STATE_CLOSED]:[Y0.STATE_CLOSED,Y0.STATE_CONNECTING],[Y0.STATE_CONNECTING]:[Y0.STATE_CONNECTING,Y0.STATE_CLOSING,Y0.STATE_CONNECTED,Y0.STATE_CLOSED],[Y0.STATE_CONNECTED]:[Y0.STATE_CONNECTED,Y0.STATE_CLOSING,Y0.STATE_CLOSED],[Y0.STATE_CLOSING]:[Y0.STATE_CLOSING,Y0.STATE_CLOSED]}),MJ=Symbol("monitor");class $6 extends Nw1.TypedEventEmitter{constructor(Z,Y,J){super();this.commandAsync=ww1.promisify((W,G,Q,K)=>this.command(W,G,Q,K)),this.serverApi=J.serverApi;const X={hostAddress:Y.hostAddress,...J};this.topology=Z,this.pool=new Bw1.ConnectionPool(this,X),this.s={description:Y,options:J,state:Y0.STATE_CLOSED,operationCount:0};for(let W of[...L4.CMAP_EVENTS,...L4.APM_EVENTS])this.pool.on(W,(G)=>this.emit(W,G));if(this.pool.on(Mw1.Connection.CLUSTER_TIME_RECEIVED,(W)=>{this.clusterTime=W}),this.loadBalanced){this[MJ]=null;return}const $=new Iw1.Monitor(this,this.s.options);this[MJ]=$;for(let W of L4.HEARTBEAT_EVENTS)$.on(W,(G)=>this.emit(W,G));$.on("resetServer",(W)=>vR(this,W)),$.on($6.SERVER_HEARTBEAT_SUCCEEDED,(W)=>{if(this.emit($6.DESCRIPTION_RECEIVED,new uR.ServerDescription(this.description.hostAddress,W.reply,{roundTripTime:Dw1(this.description.roundTripTime,W.duration)})),this.s.state===Y0.STATE_CONNECTING)z$(this,Y0.STATE_CONNECTED),this.emit($6.CONNECT,this)})}get clusterTime(){return this.topology.clusterTime}set clusterTime(Z){this.topology.clusterTime=Z}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter;return}get loadBalanced(){return this.topology.description.type===Y0.TopologyType.LoadBalanced}connect(){if(this.s.state!==Y0.STATE_CLOSED)return;if(z$(this,Y0.STATE_CONNECTING),!this.loadBalanced)this[MJ]?.connect();else z$(this,Y0.STATE_CONNECTED),this.emit($6.CONNECT,this)}destroy(Z,Y){if(typeof Z==="function")Y=Z,Z={force:!1};if(Z=Object.assign({},{force:!1},Z),this.s.state===Y0.STATE_CLOSED){if(typeof Y==="function")Y();return}if(z$(this,Y0.STATE_CLOSING),!this.loadBalanced)this[MJ]?.close();this.pool.close(Z,(J)=>{if(z$(this,Y0.STATE_CLOSED),this.emit("closed"),typeof Y==="function")Y(J)})}requestCheck(){if(!this.loadBalanced)this[MJ]?.requestCheck()}command(Z,Y,J,X){if(X==null)throw new q0.MongoInvalidArgumentError("Callback must be provided");if(Z.db==null||typeof Z==="string")throw new q0.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===Y0.STATE_CLOSING||this.s.state===Y0.STATE_CLOSED){X(new q0.MongoServerClosedError);return}const $=Object.assign({},J,{wireProtocolCommand:!1});if($.omitReadPreference)delete $.readPreference;const W=$.session,G=W?.pinnedConnection;if(this.loadBalanced&&W&&G==null&&Pw1(Y,W)){this.pool.checkOut((Q,K)=>{if(Q||K==null){if(X)return X(Q);return}W.pin(K),this.command(Z,Y,$,X)});return}this.incrementOperationCount(),this.pool.withConnection(G,(Q,K,H)=>{if(Q||!K){if(this.decrementOperationCount(),!Q)return H(new q0.MongoRuntimeError("Failed to create connection without error"));if(!(Q instanceof Aw1.PoolClearedError))this.handleError(Q);return H(Q)}K.command(Z,Y,$,Ew1(this,K,Y,$,(z,F)=>{this.decrementOperationCount(),H(z,F)}))},X)}handleError(Z,Y){if(!(Z instanceof q0.MongoError))return;if(Z.connectionGeneration&&Z.connectionGeneration<this.pool.generation)return;const X=Z instanceof q0.MongoNetworkError&&!(Z instanceof q0.MongoNetworkTimeoutError),$=q0.isNetworkErrorBeforeHandshake(Z),W=Z.hasErrorLabel(q0.MongoErrorLabel.HandshakeError);if(X||$||W){if(!this.loadBalanced)Z.addErrorLabel(q0.MongoErrorLabel.ResetPool),vR(this,Z);else if(Y)this.pool.clear({serviceId:Y.serviceId})}else if(q0.isSDAMUnrecoverableError(Z)){if(Cw1(this,Z)){const G=wK.maxWireVersion(this)<=7||q0.isNodeShuttingDownError(Z);if(this.loadBalanced&&Y&&G)this.pool.clear({serviceId:Y.serviceId});if(!this.loadBalanced){if(G)Z.addErrorLabel(q0.MongoErrorLabel.ResetPool);vR(this,Z),process.nextTick(()=>this.requestCheck())}}}}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}}$6.SERVER_HEARTBEAT_STARTED=L4.SERVER_HEARTBEAT_STARTED;$6.SERVER_HEARTBEAT_SUCCEEDED=L4.SERVER_HEARTBEAT_SUCCEEDED;$6.SERVER_HEARTBEAT_FAILED=L4.SERVER_HEARTBEAT_FAILED;$6.CONNECT=L4.CONNECT;$6.DESCRIPTION_RECEIVED=L4.DESCRIPTION_RECEIVED;$6.CLOSED=L4.CLOSED;$6.ENDED=L4.ENDED;Cv.Server=$6});var pR=R((Ov)=>{Object.defineProperty(Ov,"__esModule",{value:!0});Ov.SrvPoller=Ov.SrvPollingEvent=void 0;var jw1=import.meta.require("dns"),dR=import.meta.require("timers"),Ow1=o(),Sw1=P6(),jv=Q1();class cR{constructor(Z){this.srvRecords=Z}hostnames(){return new Set(this.srvRecords.map((Z)=>jv.HostAddress.fromSrvRecord(Z).toString()))}}Ov.SrvPollingEvent=cR;class MK extends Sw1.TypedEventEmitter{constructor(Z){super();if(!Z||!Z.srvHost)throw new Ow1.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=Z.srvHost,this.srvMaxHosts=Z.srvMaxHosts??0,this.srvServiceName=Z.srvServiceName??"mongodb",this.rescanSrvIntervalMS=60000,this.heartbeatFrequencyMS=Z.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){if(!this._timeout)this.schedule()}stop(){if(this._timeout)dR.clearTimeout(this._timeout),this.generation+=1,this._timeout=void 0}schedule(){if(this._timeout)dR.clearTimeout(this._timeout);this._timeout=dR.setTimeout(()=>{this._poll().catch(()=>null)},this.intervalMS)}success(Z){this.haMode=!1,this.schedule(),this.emit(MK.SRV_RECORD_DISCOVERY,new cR(Z))}failure(){this.haMode=!0,this.schedule()}async _poll(){const Z=this.generation;let Y;try{Y=await jw1.promises.resolveSrv(this.srvAddress)}catch(X){this.failure();return}if(Z!==this.generation)return;const J=[];for(let X of Y)if(jv.matchesParentDomain(X.name,this.srvHost))J.push(X);if(!J.length){this.failure();return}this.success(J)}}MK.SRV_RECORD_DISCOVERY="srvRecordDiscovery";Ov.SrvPoller=MK});var dv=R((mv)=>{var bv=function(Z,Y,J,X){J=J??{force:!1};for(let $ of W6.LOCAL_SERVER_EVENTS)Z.removeAllListeners($);Z.destroy(J,()=>{Y.emit(t1.SERVER_CLOSED,new XZ.ServerClosedEvent(Y.s.id,Z.description.address));for(let $ of W6.SERVER_RELAY_EVENTS)Z.removeAllListeners($);if(typeof X==="function")X()})},fw1=function(Z){if(Z?.directConnection)return A1.TopologyType.Single;if(Z?.replicaSet)return A1.TopologyType.ReplicaSetNoPrimary;if(Z?.loadBalanced)return A1.TopologyType.LoadBalanced;return A1.TopologyType.Unknown},vv=function(Z,Y){Z.emit(t1.SERVER_OPENING,new XZ.ServerOpeningEvent(Z.s.id,Y.address));const J=new xv.Server(Z,Y,Z.s.options);for(let X of W6.SERVER_RELAY_EVENTS)J.on(X,($)=>Z.emit(X,$));return J.on(xv.Server.DESCRIPTION_RECEIVED,(X)=>Z.serverUpdateHandler(X)),J.connect(),J},yv=function(Z,Y){if(Y&&Z.s.servers.has(Y.address)){const J=Z.s.servers.get(Y.address);if(J){if(J.s.description=Y,Y.error instanceof r4.MongoError&&Y.error.hasErrorLabel(r4.MongoErrorLabel.ResetPool)){const X=Y.error.hasErrorLabel(r4.MongoErrorLabel.InterruptInUseConnections);J.pool.clear({interruptInUseConnections:X})}else if(Y.error==null){const X=Z.s.description.type;if(Y.isDataBearing||Y.type!==A1.ServerType.Unknown&&X===A1.TopologyType.Single)J.pool.ready()}}}for(let J of Z.description.servers.values())if(!Z.s.servers.has(J.address)){const X=vv(Z,J);Z.s.servers.set(J.address,X)}for(let J of Z.s.servers){const X=J[0];if(Z.description.hasServer(X))continue;if(!Z.s.servers.has(X))continue;const $=Z.s.servers.get(X);if(Z.s.servers.delete(X),$)bv($,Z)}},hv=function(Z,Y){while(Z.length){const J=Z.shift();if(!J)continue;if(J.timeoutController.clear(),!J[nR])J.callback(Y)}},gv=function(Z){if(Z.s.state===A1.STATE_CLOSED){hv(Z[s4],new r4.MongoTopologyClosedError);return}const Y=Z.description.type===A1.TopologyType.Sharded,J=Array.from(Z.description.servers.values()),X=Z[s4].length;for(let $=0;$<X;++$){const W=Z[s4].shift();if(!W)continue;if(W[nR])continue;let G;try{const H=W.serverSelector;G=H?H(Z.description,J):J}catch(H){W.timeoutController.clear(),W.callback(H);continue}let Q;if(G.length===0){Z[s4].push(W);continue}else if(G.length===1)Q=Z.s.servers.get(G[0].address);else{const H=R4.shuffle(G,2),z=Z.s.servers.get(H[0].address),F=Z.s.servers.get(H[1].address);Q=z&&F&&z.s.operationCount<F.s.operationCount?z:F}if(!Q){W.callback(new r4.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",Z.description));return}const K=W.transaction;if(Y&&K&&K.isActive&&Q)K.pinServer(Q);W.timeoutController.clear(),W.callback(void 0,Q)}if(Z[s4].length>0)for(let[,$]of Z.s.servers)process.nextTick(function W(){return $.requestCheck()})},yw1=function(Z,Y){const X=Z.servers.get(Y.address)?.topologyVersion;return iR.compareTopologyVersion(X,Y.topologyVersion)>0};Object.defineProperty(mv,"__esModule",{value:!0});mv.ServerCapabilities=mv.Topology=void 0;var kv=import.meta.require("util"),_v=YR(),W6=r0(),r4=o(),_w1=P6(),F$=d0(),R4=Q1(),A1=n6(),XZ=aQ(),xv=bR(),iR=A3(),lR=G3(),BK=pR(),fv=GV(),xw1=0,U$=R4.makeStateMachine({[A1.STATE_CLOSED]:[A1.STATE_CLOSED,A1.STATE_CONNECTING],[A1.STATE_CONNECTING]:[A1.STATE_CONNECTING,A1.STATE_CLOSING,A1.STATE_CONNECTED,A1.STATE_CLOSED],[A1.STATE_CONNECTED]:[A1.STATE_CONNECTED,A1.STATE_CLOSING,A1.STATE_CLOSED],[A1.STATE_CLOSING]:[A1.STATE_CLOSING,A1.STATE_CLOSED]}),nR=Symbol("cancelled"),s4=Symbol("waitQueue");class t1 extends _w1.TypedEventEmitter{constructor(Z,Y,J){super();if(this.client=Z,this.selectServerAsync=kv.promisify((K,H,z)=>this.selectServer(K,H,z)),J=J??{hosts:[R4.HostAddress.fromString("localhost:27017")],...Object.fromEntries(_v.DEFAULT_OPTIONS.entries()),...Object.fromEntries(_v.FEATURE_FLAGS.entries())},typeof Y==="string")Y=[R4.HostAddress.fromString(Y)];else if(!Array.isArray(Y))Y=[Y];const X=[];for(let K of Y)if(typeof K==="string")X.push(R4.HostAddress.fromString(K));else if(K instanceof R4.HostAddress)X.push(K);else throw new r4.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(K)}`);const $=fw1(J),W=xw1++,G=J.srvMaxHosts==null||J.srvMaxHosts===0||J.srvMaxHosts>=X.length?X:R4.shuffle(X,J.srvMaxHosts),Q=new Map;for(let K of G)Q.set(K.toString(),new iR.ServerDescription(K));if(this[s4]=new R4.List,this.s={id:W,options:J,seedlist:X,state:A1.STATE_CLOSED,description:new fv.TopologyDescription($,Q,J.replicaSet,void 0,void 0,void 0,J),serverSelectionTimeoutMS:J.serverSelectionTimeoutMS,heartbeatFrequencyMS:J.heartbeatFrequencyMS,minHeartbeatFrequencyMS:J.minHeartbeatFrequencyMS,servers:new Map,credentials:J?.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:(K)=>this.detectShardedTopology(K),detectSrvRecords:(K)=>this.detectSrvRecords(K)},J.srvHost&&!J.loadBalanced)this.s.srvPoller=J.srvPoller??new BK.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:J.srvHost,srvMaxHosts:J.srvMaxHosts,srvServiceName:J.srvServiceName}),this.on(t1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology)}detectShardedTopology(Z){const Y=Z.previousDescription.type,J=Z.newDescription.type,X=Y!==A1.TopologyType.Sharded&&J===A1.TopologyType.Sharded,W=!!this.s.srvPoller?.listeners(BK.SrvPoller.SRV_RECORD_DISCOVERY)?.includes(this.s.detectSrvRecords);if(X&&!W)this.s.srvPoller?.on(BK.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),this.s.srvPoller?.start()}detectSrvRecords(Z){const Y=this.s.description;if(this.s.description=this.s.description.updateFromSrvPollingEvent(Z,this.s.options.srvMaxHosts),this.s.description===Y)return;yv(this),this.emit(t1.TOPOLOGY_DESCRIPTION_CHANGED,new XZ.TopologyDescriptionChangedEvent(this.s.id,Y,this.s.description))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get capabilities(){return new aR(this.lastHello())}connect(Z,Y){if(typeof Z==="function")Y=Z,Z={};if(Z=Z??{},this.s.state===A1.STATE_CONNECTED){if(typeof Y==="function")Y();return}U$(this,A1.STATE_CONNECTING),this.emit(t1.TOPOLOGY_OPENING,new XZ.TopologyOpeningEvent(this.s.id)),this.emit(t1.TOPOLOGY_DESCRIPTION_CHANGED,new XZ.TopologyDescriptionChangedEvent(this.s.id,new fv.TopologyDescription(A1.TopologyType.Unknown),this.s.description));const J=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(J.map((W)=>[W.address,vv(this,W)])),this.s.options.loadBalanced)for(let W of J){const G=new iR.ServerDescription(W.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(G)}const X=(W)=>Y?Y(W):this.emit(t1.ERROR,W),$=Z.readPreference??F$.ReadPreference.primary;this.selectServer(lR.readPreferenceServerSelector($),Z,(W,G)=>{if(W)return this.close({force:!1},()=>X(W));if(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]!==!0&&G&&this.s.credentials){G.command(R4.ns("admin.$cmd"),{ping:1},{},(K)=>{if(K)return X(K);U$(this,A1.STATE_CONNECTED),this.emit(t1.OPEN,this),this.emit(t1.CONNECT,this),Y?.(void 0,this)});return}U$(this,A1.STATE_CONNECTED),this.emit(t1.OPEN,this),this.emit(t1.CONNECT,this),Y?.(void 0,this)})}close(Z,Y){if(Z=Z??{force:!1},this.s.state===A1.STATE_CLOSED||this.s.state===A1.STATE_CLOSING)return Y?.();const J=Array.from(this.s.servers.values(),(X)=>{return kv.promisify(bv)(X,this,{force:!!Z?.force})});Promise.all(J).then(()=>{if(this.s.servers.clear(),U$(this,A1.STATE_CLOSING),hv(this[s4],new r4.MongoTopologyClosedError),A1.drainTimerQueue(this.s.connectionTimers),this.s.srvPoller)this.s.srvPoller.stop(),this.s.srvPoller.removeListener(BK.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords);this.removeListener(t1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),U$(this,A1.STATE_CLOSED),this.emit(t1.TOPOLOGY_CLOSED,new XZ.TopologyClosedEvent(this.s.id))}).finally(()=>Y?.())}selectServer(Z,Y,J){let X;if(typeof Z!=="function")if(typeof Z==="string")X=lR.readPreferenceServerSelector(F$.ReadPreference.fromString(Z));else{let K;if(Z instanceof F$.ReadPreference)K=Z;else F$.ReadPreference.translate(Y),K=Y.readPreference||F$.ReadPreference.primary;X=lR.readPreferenceServerSelector(K)}else X=Z;Y=Object.assign({},{serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS},Y);const $=this.description.type===A1.TopologyType.Sharded,W=Y.session,G=W&&W.transaction;if($&&G&&G.server){J(void 0,G.server);return}const Q={serverSelector:X,transaction:G,callback:J,timeoutController:new R4.TimeoutController(Y.serverSelectionTimeoutMS)};Q.timeoutController.signal.addEventListener("abort",()=>{Q[nR]=!0,Q.timeoutController.clear();const K=new r4.MongoServerSelectionError(`Server selection timed out after ${Y.serverSelectionTimeoutMS} ms`,this.description);Q.callback(K)}),this[s4].push(Q),gv(this)}serverUpdateHandler(Z){if(!this.s.description.hasServer(Z.address))return;if(yw1(this.s.description,Z))return;const Y=this.s.description,J=this.s.description.servers.get(Z.address);if(!J)return;const X=Z.$clusterTime;if(X)A1._advanceClusterTime(this,X);const $=J&&J.equals(Z);if(this.s.description=this.s.description.update(Z),this.s.description.compatibilityError){this.emit(t1.ERROR,new r4.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!$){const W=this.s.description.servers.get(Z.address);if(W)this.emit(t1.SERVER_DESCRIPTION_CHANGED,new XZ.ServerDescriptionChangedEvent(this.s.id,Z.address,J,W))}if(yv(this,Z),this[s4].length>0)gv(this);if(!$)this.emit(t1.TOPOLOGY_DESCRIPTION_CHANGED,new XZ.TopologyDescriptionChangedEvent(this.s.id,Y,this.s.description))}auth(Z,Y){if(typeof Z==="function")Y=Z,Z=void 0;if(typeof Y==="function")Y(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===A1.STATE_CONNECTED}isDestroyed(){return this.s.state===A1.STATE_CLOSED}lastHello(){const Z=Array.from(this.description.servers.values());if(Z.length===0)return{};return Z.filter((X)=>X.type!==A1.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(Z){this.s.clusterTime=Z}}t1.SERVER_OPENING=W6.SERVER_OPENING;t1.SERVER_CLOSED=W6.SERVER_CLOSED;t1.SERVER_DESCRIPTION_CHANGED=W6.SERVER_DESCRIPTION_CHANGED;t1.TOPOLOGY_OPENING=W6.TOPOLOGY_OPENING;t1.TOPOLOGY_CLOSED=W6.TOPOLOGY_CLOSED;t1.TOPOLOGY_DESCRIPTION_CHANGED=W6.TOPOLOGY_DESCRIPTION_CHANGED;t1.ERROR=W6.ERROR;t1.OPEN=W6.OPEN;t1.CONNECT=W6.CONNECT;t1.CLOSE=W6.CLOSE;t1.TIMEOUT=W6.TIMEOUT;mv.Topology=t1;class aR{constructor(Z){this.minWireVersion=Z.minWireVersion||0,this.maxWireVersion=Z.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}}mv.ServerCapabilities=aR});var U9=R((sv)=>{Object.defineProperty(sv,"__esModule",{value:!0});sv.MongoClient=sv.ServerApiVersion=void 0;var sR=import.meta.require("fs"),bw1=import.meta.require("util"),vw1=G0(),hw1=nY(),mw1=PQ(),uw1=K4(),cv=YR(),dw1=r0(),cw1=RQ(),pv=o(),pw1=aL(),lw1=P6(),iw1=Z6(),nw1=gY(),lv=d0(),aw1=G3(),iv=dv(),nv=D3(),rR=Q1();sv.ServerApiVersion=Object.freeze({v1:"1"});var F8=Symbol("options");class av extends lw1.TypedEventEmitter{constructor(Z,Y){super();this[F8]=cv.parseOptions(Z,this,Y),this.mongoLogger=new pw1.MongoLogger(this[F8].mongoLoggerOptions);const J=this;this.s={url:Z,bsonOptions:vw1.resolveBSONOptions(this[F8]),namespace:rR.ns("admin"),hasBeenClosed:!1,sessionPool:new nv.ServerSessionPool(this),activeSessions:new Set,get options(){return J[F8]},get readConcern(){return J[F8].readConcern},get writeConcern(){return J[F8].writeConcern},get readPreference(){return J[F8].readPreference},get isMongoClient(){return!0}}}get options(){return Object.freeze({...this[F8]})}get serverApi(){return this[F8].serverApi&&Object.freeze({...this[F8].serverApi})}get monitorCommands(){return this[F8].monitorCommands}set monitorCommands(Z){this[F8].monitorCommands=Z}get autoEncrypter(){return this[F8].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}async connect(){if(this.connectionLock)return this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){if(this.topology&&this.topology.isConnected())return this;const Z=this[F8];if(Z.tls){if(typeof Z.tlsCAFile==="string")Z.ca??=await sR.promises.readFile(Z.tlsCAFile);if(typeof Z.tlsCRLFile==="string")Z.crl??=await sR.promises.readFile(Z.tlsCRLFile);if(typeof Z.tlsCertificateKeyFile==="string"){if(!Z.key||!Z.cert){const J=await sR.promises.readFile(Z.tlsCertificateKeyFile);Z.key??=J,Z.cert??=J}}}if(typeof Z.srvHost==="string"){const J=await cv.resolveSRVRecord(Z);for(let[X,$]of J.entries())Z.hosts[X]=$}if(Z.credentials?.mechanism===uw1.AuthMechanism.MONGODB_OIDC){const J=Z.credentials?.mechanismProperties?.ALLOWED_HOSTS||mw1.DEFAULT_ALLOWED_HOSTS;if(!Z.credentials?.mechanismProperties?.PROVIDER_NAME){for(let $ of Z.hosts)if(!rR.hostMatchesWildcards($.toHostPort().host,J))throw new pv.MongoInvalidArgumentError(`Host '${$}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${J.join(",")}'`)}}this.topology=new iv.Topology(this,Z.hosts,Z),this.topology.once(iv.Topology.OPEN,()=>this.emit("open",this));for(let J of dw1.MONGO_CLIENT_EVENTS)this.topology.on(J,(...X)=>this.emit(J,...X));const Y=async()=>{try{await bw1.promisify((J)=>this.topology?.connect(Z,J))()}catch(J){throw this.topology?.close({force:!0}),J}};if(this.autoEncrypter)await this.autoEncrypter?.init(),await Y(),await Z.encrypter.connectInternalClient();else await Y();return this}async close(Z=!1){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1});const Y=Array.from(this.s.activeSessions,(Q)=>Q.endSession());if(this.s.activeSessions.clear(),await Promise.all(Y),this.topology==null)return;const J=aw1.readPreferenceServerSelector(lv.ReadPreference.primaryPreferred),X=this.topology.description,$=Array.from(X.servers.values());if(J(X,$).length!==0){const Q=Array.from(this.s.sessionPool.sessions,({id:K})=>K);if(Q.length!==0)await iw1.executeOperation(this,new nw1.RunAdminCommandOperation({endSessions:Q},{readPreference:lv.ReadPreference.primaryPreferred,noResponse:!0})).catch(()=>null)}const G=this.topology;this.topology=void 0,await new Promise((Q,K)=>{G.close({force:Z},(H)=>{if(H)return K(H);const{encrypter:z}=this[F8];if(z)return z.closeCallback(this,Z,(F)=>{if(F)return K(F);Q()});Q()})})}db(Z,Y){if(Y=Y??{},!Z)Z=this.options.dbName;const J=Object.assign({},this[F8],Y);return new cw1.Db(this,Z,J)}static async connect(Z,Y){return new this(Z,Y).connect()}startSession(Z){const Y=new nv.ClientSession(this,this.s.sessionPool,{explicit:!0,...Z},this[F8]);return this.s.activeSessions.add(Y),Y.once("ended",()=>{this.s.activeSessions.delete(Y)}),Y}async withSession(Z,Y){const J={owner:Symbol(),...typeof Z==="object"?Z:{}},X=typeof Z==="function"?Z:Y;if(X==null)throw new pv.MongoInvalidArgumentError("Missing required callback parameter");const $=this.startSession(J);try{return await X($)}finally{try{await $.endSession()}catch{}}}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new hw1.ChangeStream(this,Z,rR.resolveOptions(this,Y))}}sv.MongoClient=av});var nY=R((tv)=>{Object.defineProperty(tv,"__esModule",{value:!0});tv.ChangeStream=void 0;var rw1=$9(),g7=r0(),tw1=aV(),ow1=RQ(),y7=o(),ew1=U9(),ZM1=P6(),tR=Q1(),BJ=Symbol("cursorStream"),AJ=Symbol("closed"),q$=Symbol("mode"),YM1=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],N9={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},JM1=[g7.RESUME_TOKEN_CHANGED,g7.END,g7.CLOSE],XM1="A change stream document has been received that lacks a resume token (_id).",AK="ChangeStream is closed";class G6 extends ZM1.TypedEventEmitter{constructor(Z,Y=[],J={}){super();if(this.pipeline=Y,this.options={...J},delete this.options.writeConcern,Z instanceof rw1.Collection)this.type=N9.COLLECTION;else if(Z instanceof ow1.Db)this.type=N9.DATABASE;else if(Z instanceof ew1.MongoClient)this.type=N9.CLUSTER;else throw new y7.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");if(this.parent=Z,this.namespace=Z.s.namespace,!this.options.readPreference&&Z.readPreference)this.options.readPreference=Z.readPreference;this.cursor=this._createChangeStreamCursor(J),this[AJ]=!1,this[q$]=!1,this.on("newListener",(X)=>{if(X==="change"&&this.cursor&&this.listenerCount("change")===0)this._streamEvents(this.cursor)}),this.on("removeListener",(X)=>{if(X==="change"&&this.listenerCount("change")===0&&this.cursor)this[BJ]?.removeAllListeners("data")})}get cursorStream(){return this[BJ]}get resumeToken(){return this.cursor?.resumeToken}async hasNext(){this._setIsIterator();while(!0)try{return await this.cursor.hasNext()}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async next(){this._setIsIterator();while(!0)try{const Z=await this.cursor.next();return this._processChange(Z??null)}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async tryNext(){this._setIsIterator();while(!0)try{return await this.cursor.tryNext()??null}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[AJ]||this.cursor.closed}async close(){this[AJ]=!0;const Z=this.cursor;try{await Z.close()}finally{this._endStream()}}stream(Z){if(this.closed)throw new y7.MongoChangeStreamError(AK);return this.streamOptions=Z,this.cursor.stream(Z)}_setIsEmitter(){if(this[q$]==="iterator")throw new y7.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[q$]="emitter"}_setIsIterator(){if(this[q$]==="emitter")throw new y7.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[q$]="iterator"}_createChangeStreamCursor(Z){const Y=tR.filterOptions(Z,YM1);if(this.type===N9.CLUSTER)Y.allChangesForCluster=!0;const J=[{$changeStream:Y},...this.pipeline],X=this.type===N9.CLUSTER?this.parent:this.type===N9.DATABASE?this.parent.client:this.type===N9.COLLECTION?this.parent.client:null;if(X==null)throw new y7.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);const $=new tw1.ChangeStreamCursor(X,this.namespace,J,Z);for(let W of JM1)$.on(W,(G)=>this.emit(W,G));if(this.listenerCount(G6.CHANGE)>0)this._streamEvents($);return $}_closeEmitterModeWithError(Z){this.emit(G6.ERROR,Z),this.close().catch(()=>null)}_streamEvents(Z){this._setIsEmitter();const Y=this[BJ]??Z.stream();this[BJ]=Y,Y.on("data",(J)=>{try{const X=this._processChange(J);this.emit(G6.CHANGE,X)}catch(X){this.emit(G6.ERROR,X)}}),Y.on("error",(J)=>this._processErrorStreamMode(J))}_endStream(){const Z=this[BJ];if(Z)["data","close","end","error"].forEach((Y)=>Z.removeAllListeners(Y)),Z.destroy();this[BJ]=void 0}_processChange(Z){if(this[AJ])throw new y7.MongoAPIError(AK);if(Z==null)throw new y7.MongoRuntimeError(AK);if(Z&&!Z._id)throw new y7.MongoChangeStreamError(XM1);return this.cursor.cacheResumeToken(Z._id),this.options.startAtOperationTime=void 0,Z}_processErrorStreamMode(Z){if(this[AJ])return;if(y7.isResumableError(Z,this.cursor.maxWireVersion))this._endStream(),this.cursor.close().catch(()=>null),tR.getTopology(this.parent).selectServer(this.cursor.readPreference,{},(J)=>{if(J)return this._closeEmitterModeWithError(Z);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)});else this._closeEmitterModeWithError(Z)}async _processErrorIteratorMode(Z){if(this[AJ])throw new y7.MongoAPIError(AK);if(!y7.isResumableError(Z,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw Z}await this.cursor.close().catch(()=>null);const Y=tR.getTopology(this.parent);try{await Y.selectServerAsync(this.cursor.readPreference,{}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),Z}}}G6.RESPONSE=g7.RESPONSE;G6.MORE=g7.MORE;G6.INIT=g7.INIT;G6.CLOSE=g7.CLOSE;G6.CHANGE=g7.CHANGE;G6.END=g7.END;G6.ERROR=g7.ERROR;G6.RESUME_TOKEN_CHANGED=g7.RESUME_TOKEN_CHANGED;tv.ChangeStream=G6});var oR=R((Zh)=>{var ev=function(Z){if(Z.s.init)throw new k6.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")},WM1=function(Z){if(Z.destroyed)return;if(!Z.s.cursor)return;if(!Z.s.file)return;const Y=({error:J,doc:X})=>{if(Z.destroyed)return;if(J){Z.destroy(J);return}if(!X){Z.push(null),Z.s.cursor?.close().then(()=>null,(U)=>Z.destroy(U));return}if(!Z.s.file)return;const $=Z.s.file.length-Z.s.bytesRead,W=Z.s.expected++,G=Math.min(Z.s.file.chunkSize,$);if(X.n>W)return Z.destroy(new k6.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${X.n}, expected: ${W}`));if(X.n<W)return Z.destroy(new k6.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${X.n}, expected: ${W}`));let Q=Buffer.isBuffer(X.data)?X.data:X.data.buffer;if(Q.byteLength!==G){if($<=0)return Z.destroy(new k6.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${X.n}, expected file length ${Z.s.file.length} bytes but already read ${Z.s.bytesRead} bytes`));return Z.destroy(new k6.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${Q.byteLength}, expected: ${G}`))}if(Z.s.bytesRead+=Q.byteLength,Q.byteLength===0)return Z.push(null);let K=null,H=null;if(Z.s.bytesToSkip!=null)K=Z.s.bytesToSkip,Z.s.bytesToSkip=0;const z=W===Z.s.expectedEnd-1,F=Z.s.options.end-Z.s.bytesToSkip;if(z&&Z.s.bytesToTrim!=null)H=Z.s.file.chunkSize-Z.s.bytesToTrim;else if(Z.s.options.end&&F<X.data.byteLength)H=F;if(K!=null||H!=null)Q=Q.slice(K||0,H||Q.byteLength);Z.push(Q);return};Z.s.cursor.next().then((J)=>Y({error:null,doc:J}),(J)=>Y({error:J,doc:null}))},GM1=function(Z){const Y={};if(Z.s.readPreference)Y.readPreference=Z.s.readPreference;if(Z.s.options&&Z.s.options.sort)Y.sort=Z.s.options.sort;if(Z.s.options&&Z.s.options.skip)Y.skip=Z.s.options.skip;const J=({error:X,doc:$})=>{if(X)return Z.destroy(X);if(!$){const Q=`FileNotFound: file ${Z.s.filter._id?Z.s.filter._id.toString():Z.s.filter.filename} was not found`,K=new k6.MongoRuntimeError(Q);return K.code="ENOENT",Z.destroy(K)}if($.length<=0){Z.push(null);return}if(Z.destroyed){Z.destroy();return}try{Z.s.bytesToSkip=KM1(Z,$,Z.s.options)}catch(G){return Z.destroy(G)}const W={files_id:$._id};if(Z.s.options&&Z.s.options.start!=null){const G=Math.floor(Z.s.options.start/$.chunkSize);if(G>0)W.n={$gte:G}}if(Z.s.cursor=Z.s.chunks.find(W).sort({n:1}),Z.s.readPreference)Z.s.cursor.withReadPreference(Z.s.readPreference);Z.s.expectedEnd=Math.ceil($.length/$.chunkSize),Z.s.file=$;try{Z.s.bytesToTrim=HM1(Z,$,Z.s.cursor,Z.s.options)}catch(G){return Z.destroy(G)}Z.emit(NK.FILE,$);return};Z.s.files.findOne(Z.s.filter,Y).then((X)=>J({error:null,doc:X}),(X)=>J({error:X,doc:null}))},QM1=function(Z,Y){if(Z.s.file)return Y();if(!Z.s.init)GM1(Z),Z.s.init=!0;Z.once("file",()=>{Y()})},KM1=function(Z,Y,J){if(J&&J.start!=null){if(J.start>Y.length)throw new k6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be more than the length of the file (${Y.length})`);if(J.start<0)throw new k6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be negative`);if(J.end!=null&&J.end<J.start)throw new k6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be greater than stream end (${J.end})`);return Z.s.bytesRead=Math.floor(J.start/Y.chunkSize)*Y.chunkSize,Z.s.expected=Math.floor(J.start/Y.chunkSize),J.start-Z.s.bytesRead}throw new k6.MongoInvalidArgumentError("Start option must be defined")},HM1=function(Z,Y,J,X){if(X&&X.end!=null){if(X.end>Y.length)throw new k6.MongoInvalidArgumentError(`Stream end (${X.end}) must not be more than the length of the file (${Y.length})`);if(X.start==null||X.start<0)throw new k6.MongoInvalidArgumentError(`Stream end (${X.end}) must not be negative`);const $=X.start!=null?Math.floor(X.start/Y.chunkSize):0;return J.limit(Math.ceil(X.end/Y.chunkSize)-$),Z.s.expectedEnd=Math.ceil(X.end/Y.chunkSize),Math.ceil(X.end/Y.chunkSize)*Y.chunkSize-X.end}throw new k6.MongoInvalidArgumentError("End option must be defined")};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.GridFSBucketReadStream=void 0;var $M1=import.meta.require("stream"),k6=o();class NK extends $M1.Readable{constructor(Z,Y,J,X,$){super({emitClose:!0});this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:Z,expected:0,files:Y,filter:X,init:!1,expectedEnd:0,options:{start:0,end:0,...$},readPreference:J}}_read(){if(this.destroyed)return;QM1(this,()=>WM1(this))}start(Z=0){return ev(this),this.s.options.start=Z,this}end(Z=0){return ev(this),this.s.options.end=Z,this}async abort(){this.push(null),this.destroy(),await this.s.cursor?.close()}}NK.FILE="file";Zh.GridFSBucketReadStream=NK});var Yw=R((Wh)=>{var Zw=function(Z,Y,J){if(Z.state.errored){process.nextTick(J);return}Z.state.errored=!0,process.nextTick(J,Y)},$h=function(Z,Y,J){return{_id:new Jh.ObjectId,files_id:Z,n:Y,data:J}};async function UM1(Z){const Y={files_id:1,n:1};let J;try{J=await Z.chunks.listIndexes().toArray()}catch($){if($ instanceof I9.MongoError&&$.code===I9.MONGODB_ERROR_CODES.NamespaceNotFound)J=[];else throw $}if(!J.find(($)=>{if(Object.keys($.key).length===2&&$.key.files_id===1&&$.key.n===1)return!0;return!1}))await Z.chunks.createIndex(Y,{...Z.writeConcern,background:!0,unique:!0})}var eR=function(Z,Y){if(Z.done)return process.nextTick(Y);if(Z.state.streamEnd&&Z.state.outstandingRequests===0&&!Z.state.errored){Z.done=!0;const J=VM1(Z.id,Z.length,Z.chunkSizeBytes,Z.filename,Z.options.contentType,Z.options.aliases,Z.options.metadata);if(IK(Z,Y))return;Z.files.insertOne(J,{writeConcern:Z.writeConcern}).then(()=>{Z.gridFSFile=J,Y()},(X)=>Zw(Z,X,Y));return}process.nextTick(Y)};async function qM1(Z){if(await Z.files.findOne({},{projection:{_id:1}})!=null)return;const J={filename:1,uploadDate:1};let X;try{X=await Z.files.listIndexes().toArray()}catch(W){if(W instanceof I9.MongoError&&W.code===I9.MONGODB_ERROR_CODES.NamespaceNotFound)X=[];else throw W}if(!X.find((W)=>{if(Object.keys(W.key).length===2&&W.key.filename===1&&W.key.uploadDate===1)return!0;return!1}))await Z.files.createIndex(J,{background:!1});await UM1(Z)}var VM1=function(Z,Y,J,X,$,W,G){const Q={_id:Z,length:Y,chunkSize:J,uploadDate:new Date,filename:X};if($)Q.contentType=$;if(W)Q.aliases=W;if(G)Q.metadata=G;return Q},LM1=function(Z,Y,J,X){if(IK(Z,X))return;const $=Buffer.isBuffer(Y)?Y:Buffer.from(Y,J);if(Z.length+=$.length,Z.pos+$.length<Z.chunkSizeBytes){$.copy(Z.bufToStore,Z.pos),Z.pos+=$.length,process.nextTick(X);return}let W=$.length,G=Z.chunkSizeBytes-Z.pos,Q=Math.min(G,$.length),K=0;while(W>0){const H=$.length-W;$.copy(Z.bufToStore,Z.pos,H,H+Q),Z.pos+=Q,G-=Q;let z;if(G===0){if(z=$h(Z.id,Z.n,Buffer.from(Z.bufToStore)),++Z.state.outstandingRequests,++K,IK(Z,X))return;Z.chunks.insertOne(z,{writeConcern:Z.writeConcern}).then(()=>{if(--Z.state.outstandingRequests,--K,!K)eR(Z,X)},(F)=>Zw(Z,F,X)),G=Z.chunkSizeBytes,Z.pos=0,++Z.n}W-=Q,Q=Math.min(G,W)}},RM1=function(Z,Y){if(Z.pos===0)return eR(Z,Y);++Z.state.outstandingRequests;const J=Buffer.alloc(Z.pos);Z.bufToStore.copy(J,0,0,Z.pos);const X=$h(Z.id,Z.n,J);if(IK(Z,Y))return;Z.chunks.insertOne(X,{writeConcern:Z.writeConcern}).then(()=>{--Z.state.outstandingRequests,eR(Z,Y)},($)=>Zw(Z,$,Y))},IK=function(Z,Y){if(Z.state.aborted)return process.nextTick(Y,new I9.MongoAPIError("Stream has been aborted")),!0;return!1};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.GridFSBucketWriteStream=void 0;var zM1=import.meta.require("stream"),Jh=G0(),I9=o(),FM1=e8();class Xh extends zM1.Writable{constructor(Z,Y,J){super();if(this.gridFSFile=null,J=J??{},this.bucket=Z,this.chunks=Z.s._chunksCollection,this.filename=Y,this.files=Z.s._filesCollection,this.options=J,this.writeConcern=FM1.WriteConcern.fromOptions(J)||Z.s.options.writeConcern,this.done=!1,this.id=J.id?J.id:new Jh.ObjectId,this.chunkSizeBytes=J.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},!this.bucket.s.calledOpenUploadStream)this.bucket.s.calledOpenUploadStream=!0,qM1(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")},()=>null)}_construct(Z){if(this.bucket.s.checkedIndexes)return process.nextTick(Z);this.bucket.once("index",Z)}_write(Z,Y,J){LM1(this,Z,Y,J)}_final(Z){if(this.state.streamEnd)return process.nextTick(Z);this.state.streamEnd=!0,RM1(this,Z)}async abort(){if(this.state.streamEnd)throw new I9.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new I9.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})}}Wh.GridFSBucketWriteStream=Xh});var Uh=R((zh)=>{Object.defineProperty(zh,"__esModule",{value:!0});zh.GridFSBucket=void 0;var Qh=o(),wM1=P6(),MM1=e8(),Kh=oR(),Hh=Yw(),BM1={bucketName:"fs",chunkSizeBytes:261120};class Jw extends wM1.TypedEventEmitter{constructor(Z,Y){super();this.setMaxListeners(0);const J={...BM1,...Y,writeConcern:MM1.WriteConcern.fromOptions(Y)};this.s={db:Z,options:J,_chunksCollection:Z.collection(J.bucketName+".chunks"),_filesCollection:Z.collection(J.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(Z,Y){return new Hh.GridFSBucketWriteStream(this,Z,Y)}openUploadStreamWithId(Z,Y,J){return new Hh.GridFSBucketWriteStream(this,Y,{...J,id:Z})}openDownloadStream(Z,Y){return new Kh.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:Z},Y)}async delete(Z){const{deletedCount:Y}=await this.s._filesCollection.deleteOne({_id:Z});if(await this.s._chunksCollection.deleteMany({files_id:Z}),Y===0)throw new Qh.MongoRuntimeError(`File not found for id ${Z}`)}find(Z={},Y={}){return this.s._filesCollection.find(Z,Y)}openDownloadStreamByName(Z,Y){let J={uploadDate:-1},X=void 0;if(Y&&Y.revision!=null)if(Y.revision>=0)J={uploadDate:1},X=Y.revision;else X=-Y.revision-1;return new Kh.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:Z},{...Y,sort:J,skip:X})}async rename(Z,Y){const J={_id:Z},X={$set:{filename:Y}},{matchedCount:$}=await this.s._filesCollection.updateOne(J,X);if($===0)throw new Qh.MongoRuntimeError(`File with id ${Z} not found`)}async drop(){await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}}Jw.INDEX="index";zh.GridFSBucket=Jw});var Lh=R((qh)=>{Object.defineProperty(qh,"__esModule",{value:!0});qh.ClientEncryption=void 0;var w4=G0(),AM1=C7(),$Z=Q1(),NM1=bL(),D9=z9(),IM1=mL(),DK=uL();class PK{static getMongoCrypt(){const Z=AM1.getMongoDBClientEncryption();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,Y){if(this._client=Z,this._proxyOptions=Y.proxyOptions??{},this._tlsOptions=Y.tlsOptions??{},this._kmsProviders=Y.kmsProviders||{},Y.keyVaultNamespace==null)throw new D9.MongoCryptInvalidArgumentError("Missing required option `keyVaultNamespace`");const J={...Y,cryptoCallbacks:NM1,kmsProviders:!Buffer.isBuffer(this._kmsProviders)?w4.serialize(this._kmsProviders):this._kmsProviders};this._keyVaultNamespace=Y.keyVaultNamespace,this._keyVaultClient=Y.keyVaultClient||Z;const X=PK.getMongoCrypt();this._mongoCrypt=new X(J)}async createDataKey(Z,Y={}){if(Y.keyAltNames&&!Array.isArray(Y.keyAltNames))throw new D9.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but was of type ${typeof Y.keyAltNames}.`);let J=void 0;if(Y.keyAltNames&&Y.keyAltNames.length>0)J=Y.keyAltNames.map((F,U)=>{if(typeof F!=="string")throw new D9.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but item at index ${U} was of type ${typeof F}`);return w4.serialize({keyAltName:F})});let X=void 0;if(Y.keyMaterial)X=w4.serialize({keyMaterial:Y.keyMaterial});const $=w4.serialize({provider:Z,...Y.masterKey}),W=this._mongoCrypt.makeDataKeyContext($,{keyAltNames:J,keyMaterial:X}),Q=await new DK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,W),{db:K,collection:H}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),{insertedId:z}=await this._keyVaultClient.db(K).collection(H).insertOne(Q,{writeConcern:{w:"majority"}});return z}async rewrapManyDataKey(Z,Y){let J=void 0;if(Y){const F=Object.assign({provider:Y.provider},Y.masterKey);J=w4.serialize(F)}const X=w4.serialize(Z),$=this._mongoCrypt.makeRewrapManyDataKeyContext(X,J),W=new DK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:G}=await W.execute(this,$);if(G.length===0)return{};const{db:Q,collection:K}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),H=G.map((F)=>({updateOne:{filter:{_id:F._id},update:{$set:{masterKey:F.masterKey,keyMaterial:F.keyMaterial},$currentDate:{updateDate:!0}}}}));return{bulkWriteResult:await this._keyVaultClient.db(Q).collection(K).bulkWrite(H,{writeConcern:{w:"majority"}})}}async deleteKey(Z){const{db:Y,collection:J}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).deleteOne({_id:Z},{writeConcern:{w:"majority"}})}getKeys(){const{db:Z,collection:Y}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Z).collection(Y).find({},{readConcern:{level:"majority"}})}async getKey(Z){const{db:Y,collection:J}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).findOne({_id:Z},{readConcern:{level:"majority"}})}async getKeyByAltName(Z){const{db:Y,collection:J}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).findOne({keyAltNames:Z},{readConcern:{level:"majority"}})}async addKeyAltName(Z,Y){const{db:J,collection:X}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(J).collection(X).findOneAndUpdate({_id:Z},{$addToSet:{keyAltNames:Y}},{writeConcern:{w:"majority"},returnDocument:"before"})}async removeKeyAltName(Z,Y){const{db:J,collection:X}=$Z.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),$=[{$set:{keyAltNames:{$cond:[{$eq:["$keyAltNames",[Y]]},"$$REMOVE",{$filter:{input:"$keyAltNames",cond:{$ne:["$$this",Y]}}}]}}}];return await this._keyVaultClient.db(J).collection(X).findOneAndUpdate({_id:Z},$,{writeConcern:{w:"majority"},returnDocument:"before"})}async createEncryptedCollection(Z,Y,J){const{provider:X,masterKey:$,createCollectionOptions:{encryptedFields:{...W},...G}}=J;if(Array.isArray(W.fields)){const Q=W.fields.map(async(z)=>z==null||typeof z!=="object"||z.keyId!=null?z:{...z,keyId:await this.createDataKey(X,{masterKey:$})}),K=await Promise.allSettled(Q);W.fields=K.map((z,F)=>z.status==="fulfilled"?z.value:W.fields[F]);const H=K.find((z)=>z.status==="rejected");if(H!=null)throw new D9.MongoCryptCreateDataKeyError(W,{cause:H.reason})}try{return{collection:await Z.createCollection(Y,{...G,encryptedFields:W}),encryptedFields:W}}catch(Q){throw new D9.MongoCryptCreateEncryptedCollectionError(W,{cause:Q})}}async encrypt(Z,Y){return this._encrypt(Z,!1,Y)}async encryptExpression(Z,Y){return this._encrypt(Z,!0,Y)}async decrypt(Z){const Y=w4.serialize({v:Z}),J=this._mongoCrypt.makeExplicitDecryptionContext(Y),X=new DK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:$}=await X.execute(this,J);return $}async askForKMSCredentials(){return IM1.refreshKMSCredentials(this._kmsProviders)}static get libmongocryptVersion(){return PK.getMongoCrypt().libmongocryptVersion}async _encrypt(Z,Y,J){const{algorithm:X,keyId:$,keyAltName:W,contentionFactor:G,queryType:Q,rangeOptions:K}=J,H={expressionMode:Y,algorithm:X};if($)H.keyId=$.buffer;if(W){if($)throw new D9.MongoCryptInvalidArgumentError('"options" cannot contain both "keyId" and "keyAltName"');if(typeof W!=="string")throw new D9.MongoCryptInvalidArgumentError(`"options.keyAltName" must be of type string, but was of type ${typeof W}`);H.keyAltName=w4.serialize({keyAltName:W})}if(typeof G==="number"||typeof G==="bigint")H.contentionFactor=G;if(typeof Q==="string")H.queryType=Q;if(typeof K==="object")H.rangeOptions=w4.serialize(K);const z=w4.serialize({v:Z}),F=new DK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),U=this._mongoCrypt.makeExplicitEncryptionContext(z,H);return(await F.execute(this,U)).v}}qh.ClientEncryption=PK});var TK=R((h)=>{Object.defineProperty(h,"__esModule",{value:!0});h.MongoUnexpectedServerResponseError=h.MongoTransactionError=h.MongoTopologyClosedError=h.MongoTailableCursorError=h.MongoSystemError=h.MongoServerSelectionError=h.MongoServerError=h.MongoServerClosedError=h.MongoRuntimeError=h.MongoParseError=h.MongoNotConnectedError=h.MongoNetworkTimeoutError=h.MongoNetworkError=h.MongoMissingDependencyError=h.MongoMissingCredentialsError=h.MongoKerberosError=h.MongoInvalidArgumentError=h.MongoGridFSStreamError=h.MongoGridFSChunkError=h.MongoExpiredSessionError=h.MongoError=h.MongoDriverError=h.MongoDecompressionError=h.MongoCursorInUseError=h.MongoCursorExhaustedError=h.MongoCompatibilityError=h.MongoChangeStreamError=h.MongoBatchReExecutionError=h.MongoAzureError=h.MongoAWSError=h.MongoAPIError=h.ChangeStreamCursor=h.ClientEncryption=h.MongoBulkWriteError=h.UUID=h.Timestamp=h.ObjectId=h.MinKey=h.MaxKey=h.Long=h.Int32=h.Double=h.Decimal128=h.DBRef=h.Code=h.BSONType=h.BSONSymbol=h.BSONRegExp=h.Binary=h.BSON=void 0;h.ConnectionPoolReadyEvent=h.ConnectionPoolMonitoringEvent=h.ConnectionPoolCreatedEvent=h.ConnectionPoolClosedEvent=h.ConnectionPoolClearedEvent=h.ConnectionCreatedEvent=h.ConnectionClosedEvent=h.ConnectionCheckOutStartedEvent=h.ConnectionCheckOutFailedEvent=h.ConnectionCheckedOutEvent=h.ConnectionCheckedInEvent=h.CommandSucceededEvent=h.CommandStartedEvent=h.CommandFailedEvent=h.WriteConcern=h.ReadPreference=h.ReadConcern=h.TopologyType=h.ServerType=h.ReadPreferenceMode=h.ReadConcernLevel=h.ProfilingLevel=h.ReturnDocument=h.ServerApiVersion=h.ExplainVerbosity=h.MongoErrorLabel=h.CURSOR_FLAGS=h.Compressor=h.AuthMechanism=h.GSSAPICanonicalizationValue=h.AutoEncryptionLoggerLevel=h.BatchType=h.UnorderedBulkOperation=h.OrderedBulkOperation=h.MongoClient=h.ListIndexesCursor=h.ListCollectionsCursor=h.GridFSBucketWriteStream=h.GridFSBucketReadStream=h.GridFSBucket=h.FindCursor=h.Db=h.Collection=h.ClientSession=h.ChangeStream=h.CancellationToken=h.AggregationCursor=h.Admin=h.AbstractCursor=h.MongoWriteConcernError=void 0;h.MongoCryptKMSRequestNetworkTimeoutError=h.MongoCryptInvalidArgumentError=h.MongoCryptError=h.MongoCryptCreateEncryptedCollectionError=h.MongoCryptCreateDataKeyError=h.MongoCryptAzureKMSRequestError=h.SrvPollingEvent=h.TopologyOpeningEvent=h.TopologyDescriptionChangedEvent=h.TopologyClosedEvent=h.ServerOpeningEvent=h.ServerHeartbeatSucceededEvent=h.ServerHeartbeatStartedEvent=h.ServerHeartbeatFailedEvent=h.ServerDescriptionChangedEvent=h.ServerClosedEvent=h.ConnectionReadyEvent=void 0;var DM1=jq();Object.defineProperty(h,"Admin",{enumerable:!0,get:function(){return DM1.Admin}});var PM1=sq();Object.defineProperty(h,"OrderedBulkOperation",{enumerable:!0,get:function(){return PM1.OrderedBulkOperation}});var TM1=rq();Object.defineProperty(h,"UnorderedBulkOperation",{enumerable:!0,get:function(){return TM1.UnorderedBulkOperation}});var CM1=nY();Object.defineProperty(h,"ChangeStream",{enumerable:!0,get:function(){return CM1.ChangeStream}});var EM1=$9();Object.defineProperty(h,"Collection",{enumerable:!0,get:function(){return EM1.Collection}});var jM1=m4();Object.defineProperty(h,"AbstractCursor",{enumerable:!0,get:function(){return jM1.AbstractCursor}});var OM1=E3();Object.defineProperty(h,"AggregationCursor",{enumerable:!0,get:function(){return OM1.AggregationCursor}});var SM1=TV();Object.defineProperty(h,"FindCursor",{enumerable:!0,get:function(){return SM1.FindCursor}});var kM1=tV();Object.defineProperty(h,"ListCollectionsCursor",{enumerable:!0,get:function(){return kM1.ListCollectionsCursor}});var _M1=fV();Object.defineProperty(h,"ListIndexesCursor",{enumerable:!0,get:function(){return _M1.ListIndexesCursor}});var xM1=RQ();Object.defineProperty(h,"Db",{enumerable:!0,get:function(){return xM1.Db}});var fM1=Uh();Object.defineProperty(h,"GridFSBucket",{enumerable:!0,get:function(){return fM1.GridFSBucket}});var yM1=oR();Object.defineProperty(h,"GridFSBucketReadStream",{enumerable:!0,get:function(){return yM1.GridFSBucketReadStream}});var gM1=Yw();Object.defineProperty(h,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return gM1.GridFSBucketWriteStream}});var bM1=U9();Object.defineProperty(h,"MongoClient",{enumerable:!0,get:function(){return bM1.MongoClient}});var vM1=P6();Object.defineProperty(h,"CancellationToken",{enumerable:!0,get:function(){return vM1.CancellationToken}});var hM1=D3();Object.defineProperty(h,"ClientSession",{enumerable:!0,get:function(){return hM1.ClientSession}});var mM1=G0();Object.defineProperty(h,"BSON",{enumerable:!0,get:function(){return mM1.BSON}});var v8=G0();Object.defineProperty(h,"Binary",{enumerable:!0,get:function(){return v8.Binary}});Object.defineProperty(h,"BSONRegExp",{enumerable:!0,get:function(){return v8.BSONRegExp}});Object.defineProperty(h,"BSONSymbol",{enumerable:!0,get:function(){return v8.BSONSymbol}});Object.defineProperty(h,"BSONType",{enumerable:!0,get:function(){return v8.BSONType}});Object.defineProperty(h,"Code",{enumerable:!0,get:function(){return v8.Code}});Object.defineProperty(h,"DBRef",{enumerable:!0,get:function(){return v8.DBRef}});Object.defineProperty(h,"Decimal128",{enumerable:!0,get:function(){return v8.Decimal128}});Object.defineProperty(h,"Double",{enumerable:!0,get:function(){return v8.Double}});Object.defineProperty(h,"Int32",{enumerable:!0,get:function(){return v8.Int32}});Object.defineProperty(h,"Long",{enumerable:!0,get:function(){return v8.Long}});Object.defineProperty(h,"MaxKey",{enumerable:!0,get:function(){return v8.MaxKey}});Object.defineProperty(h,"MinKey",{enumerable:!0,get:function(){return v8.MinKey}});Object.defineProperty(h,"ObjectId",{enumerable:!0,get:function(){return v8.ObjectId}});Object.defineProperty(h,"Timestamp",{enumerable:!0,get:function(){return v8.Timestamp}});Object.defineProperty(h,"UUID",{enumerable:!0,get:function(){return v8.UUID}});var uM1=M3();Object.defineProperty(h,"MongoBulkWriteError",{enumerable:!0,get:function(){return uM1.MongoBulkWriteError}});var dM1=Lh();Object.defineProperty(h,"ClientEncryption",{enumerable:!0,get:function(){return dM1.ClientEncryption}});var cM1=aV();Object.defineProperty(h,"ChangeStreamCursor",{enumerable:!0,get:function(){return cM1.ChangeStreamCursor}});var u1=o();Object.defineProperty(h,"MongoAPIError",{enumerable:!0,get:function(){return u1.MongoAPIError}});Object.defineProperty(h,"MongoAWSError",{enumerable:!0,get:function(){return u1.MongoAWSError}});Object.defineProperty(h,"MongoAzureError",{enumerable:!0,get:function(){return u1.MongoAzureError}});Object.defineProperty(h,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return u1.MongoBatchReExecutionError}});Object.defineProperty(h,"MongoChangeStreamError",{enumerable:!0,get:function(){return u1.MongoChangeStreamError}});Object.defineProperty(h,"MongoCompatibilityError",{enumerable:!0,get:function(){return u1.MongoCompatibilityError}});Object.defineProperty(h,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return u1.MongoCursorExhaustedError}});Object.defineProperty(h,"MongoCursorInUseError",{enumerable:!0,get:function(){return u1.MongoCursorInUseError}});Object.defineProperty(h,"MongoDecompressionError",{enumerable:!0,get:function(){return u1.MongoDecompressionError}});Object.defineProperty(h,"MongoDriverError",{enumerable:!0,get:function(){return u1.MongoDriverError}});Object.defineProperty(h,"MongoError",{enumerable:!0,get:function(){return u1.MongoError}});Object.defineProperty(h,"MongoExpiredSessionError",{enumerable:!0,get:function(){return u1.MongoExpiredSessionError}});Object.defineProperty(h,"MongoGridFSChunkError",{enumerable:!0,get:function(){return u1.MongoGridFSChunkError}});Object.defineProperty(h,"MongoGridFSStreamError",{enumerable:!0,get:function(){return u1.MongoGridFSStreamError}});Object.defineProperty(h,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return u1.MongoInvalidArgumentError}});Object.defineProperty(h,"MongoKerberosError",{enumerable:!0,get:function(){return u1.MongoKerberosError}});Object.defineProperty(h,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return u1.MongoMissingCredentialsError}});Object.defineProperty(h,"MongoMissingDependencyError",{enumerable:!0,get:function(){return u1.MongoMissingDependencyError}});Object.defineProperty(h,"MongoNetworkError",{enumerable:!0,get:function(){return u1.MongoNetworkError}});Object.defineProperty(h,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return u1.MongoNetworkTimeoutError}});Object.defineProperty(h,"MongoNotConnectedError",{enumerable:!0,get:function(){return u1.MongoNotConnectedError}});Object.defineProperty(h,"MongoParseError",{enumerable:!0,get:function(){return u1.MongoParseError}});Object.defineProperty(h,"MongoRuntimeError",{enumerable:!0,get:function(){return u1.MongoRuntimeError}});Object.defineProperty(h,"MongoServerClosedError",{enumerable:!0,get:function(){return u1.MongoServerClosedError}});Object.defineProperty(h,"MongoServerError",{enumerable:!0,get:function(){return u1.MongoServerError}});Object.defineProperty(h,"MongoServerSelectionError",{enumerable:!0,get:function(){return u1.MongoServerSelectionError}});Object.defineProperty(h,"MongoSystemError",{enumerable:!0,get:function(){return u1.MongoSystemError}});Object.defineProperty(h,"MongoTailableCursorError",{enumerable:!0,get:function(){return u1.MongoTailableCursorError}});Object.defineProperty(h,"MongoTopologyClosedError",{enumerable:!0,get:function(){return u1.MongoTopologyClosedError}});Object.defineProperty(h,"MongoTransactionError",{enumerable:!0,get:function(){return u1.MongoTransactionError}});Object.defineProperty(h,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return u1.MongoUnexpectedServerResponseError}});Object.defineProperty(h,"MongoWriteConcernError",{enumerable:!0,get:function(){return u1.MongoWriteConcernError}});var pM1=M3();Object.defineProperty(h,"BatchType",{enumerable:!0,get:function(){return pM1.BatchType}});var lM1=cL();Object.defineProperty(h,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return lM1.AutoEncryptionLoggerLevel}});var iM1=IQ();Object.defineProperty(h,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return iM1.GSSAPICanonicalizationValue}});var nM1=K4();Object.defineProperty(h,"AuthMechanism",{enumerable:!0,get:function(){return nM1.AuthMechanism}});var aM1=hQ();Object.defineProperty(h,"Compressor",{enumerable:!0,get:function(){return aM1.Compressor}});var sM1=m4();Object.defineProperty(h,"CURSOR_FLAGS",{enumerable:!0,get:function(){return sM1.CURSOR_FLAGS}});var rM1=o();Object.defineProperty(h,"MongoErrorLabel",{enumerable:!0,get:function(){return rM1.MongoErrorLabel}});var tM1=Iq();Object.defineProperty(h,"ExplainVerbosity",{enumerable:!0,get:function(){return tM1.ExplainVerbosity}});var oM1=U9();Object.defineProperty(h,"ServerApiVersion",{enumerable:!0,get:function(){return oM1.ServerApiVersion}});var eM1=hV();Object.defineProperty(h,"ReturnDocument",{enumerable:!0,get:function(){return eM1.ReturnDocument}});var ZB1=oV();Object.defineProperty(h,"ProfilingLevel",{enumerable:!0,get:function(){return ZB1.ProfilingLevel}});var YB1=a6();Object.defineProperty(h,"ReadConcernLevel",{enumerable:!0,get:function(){return YB1.ReadConcernLevel}});var JB1=d0();Object.defineProperty(h,"ReadPreferenceMode",{enumerable:!0,get:function(){return JB1.ReadPreferenceMode}});var Rh=n6();Object.defineProperty(h,"ServerType",{enumerable:!0,get:function(){return Rh.ServerType}});Object.defineProperty(h,"TopologyType",{enumerable:!0,get:function(){return Rh.TopologyType}});var XB1=a6();Object.defineProperty(h,"ReadConcern",{enumerable:!0,get:function(){return XB1.ReadConcern}});var $B1=d0();Object.defineProperty(h,"ReadPreference",{enumerable:!0,get:function(){return $B1.ReadPreference}});var WB1=e8();Object.defineProperty(h,"WriteConcern",{enumerable:!0,get:function(){return WB1.WriteConcern}});var Xw=KR();Object.defineProperty(h,"CommandFailedEvent",{enumerable:!0,get:function(){return Xw.CommandFailedEvent}});Object.defineProperty(h,"CommandStartedEvent",{enumerable:!0,get:function(){return Xw.CommandStartedEvent}});Object.defineProperty(h,"CommandSucceededEvent",{enumerable:!0,get:function(){return Xw.CommandSucceededEvent}});var Q7=_R();Object.defineProperty(h,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return Q7.ConnectionCheckedInEvent}});Object.defineProperty(h,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return Q7.ConnectionCheckedOutEvent}});Object.defineProperty(h,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return Q7.ConnectionCheckOutFailedEvent}});Object.defineProperty(h,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return Q7.ConnectionCheckOutStartedEvent}});Object.defineProperty(h,"ConnectionClosedEvent",{enumerable:!0,get:function(){return Q7.ConnectionClosedEvent}});Object.defineProperty(h,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return Q7.ConnectionCreatedEvent}});Object.defineProperty(h,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return Q7.ConnectionPoolClearedEvent}});Object.defineProperty(h,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return Q7.ConnectionPoolClosedEvent}});Object.defineProperty(h,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return Q7.ConnectionPoolCreatedEvent}});Object.defineProperty(h,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return Q7.ConnectionPoolMonitoringEvent}});Object.defineProperty(h,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return Q7.ConnectionPoolReadyEvent}});Object.defineProperty(h,"ConnectionReadyEvent",{enumerable:!0,get:function(){return Q7.ConnectionReadyEvent}});var t4=aQ();Object.defineProperty(h,"ServerClosedEvent",{enumerable:!0,get:function(){return t4.ServerClosedEvent}});Object.defineProperty(h,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return t4.ServerDescriptionChangedEvent}});Object.defineProperty(h,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return t4.ServerHeartbeatFailedEvent}});Object.defineProperty(h,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return t4.ServerHeartbeatStartedEvent}});Object.defineProperty(h,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return t4.ServerHeartbeatSucceededEvent}});Object.defineProperty(h,"ServerOpeningEvent",{enumerable:!0,get:function(){return t4.ServerOpeningEvent}});Object.defineProperty(h,"TopologyClosedEvent",{enumerable:!0,get:function(){return t4.TopologyClosedEvent}});Object.defineProperty(h,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return t4.TopologyDescriptionChangedEvent}});Object.defineProperty(h,"TopologyOpeningEvent",{enumerable:!0,get:function(){return t4.TopologyOpeningEvent}});var GB1=pR();Object.defineProperty(h,"SrvPollingEvent",{enumerable:!0,get:function(){return GB1.SrvPollingEvent}});var NJ=z9();Object.defineProperty(h,"MongoCryptAzureKMSRequestError",{enumerable:!0,get:function(){return NJ.MongoCryptAzureKMSRequestError}});Object.defineProperty(h,"MongoCryptCreateDataKeyError",{enumerable:!0,get:function(){return NJ.MongoCryptCreateDataKeyError}});Object.defineProperty(h,"MongoCryptCreateEncryptedCollectionError",{enumerable:!0,get:function(){return NJ.MongoCryptCreateEncryptedCollectionError}});Object.defineProperty(h,"MongoCryptError",{enumerable:!0,get:function(){return NJ.MongoCryptError}});Object.defineProperty(h,"MongoCryptInvalidArgumentError",{enumerable:!0,get:function(){return NJ.MongoCryptInvalidArgumentError}});Object.defineProperty(h,"MongoCryptKMSRequestNetworkTimeoutError",{enumerable:!0,get:function(){return NJ.MongoCryptKMSRequestNetworkTimeoutError}})});var Q6=R((dt1,wh)=>{wh.exports=function Z(Y){if(Y==null)return;if(typeof Y.constructor!=="function")return;return Y.constructor.name}});var M4=R((zB1)=>{/*!
 * ignore
 */zB1.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}});var Ah=R((pt1,Bh)=>{var b7=function(Z,Y,J){this.collection=null,this.Promise=J.Promise||Promise,this.modelName=J.modelName,delete J.modelName,this._closed=!1,CK.apply(this,arguments)},LB1=function(Z){b7.prototype[Z]=function(){const Y=this._getCollection(),J=Array.from(arguments),X=this,$=X&&X.conn&&X.conn.base&&X.conn.base.options&&X.conn.base.options.debug,W=X&&X.conn&&X.conn.options&&X.conn.options.debug,G=W==null?$:W,Q=arguments[arguments.length-1],K=new UB1;if(this.conn.$wasForceClosed){const F=new $w("Connection was force closed");if(J.length>0&&typeof J[J.length-1]==="function"){J[J.length-1](F);return}else throw F}let H=J,z=null;if(this._shouldBufferCommands()&&this.buffer){this.conn.emit("buffer",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,args:J});let F,U=J,q=null,V=null;if(V$[Z]&&typeof Q==="function")this.addQueue(()=>{Q.call(this,null,this[Z].apply(this,U.slice(0,U.length-1)))},[]);else if(V$[Z])q=new Promise((w,B)=>{F=function A(M,I){if(V!=null)clearTimeout(V);if(M!=null)return B(M);w(I)},U=J.concat([F]),this.addQueue(Z,U)});else if(typeof Q==="function")F=function w(){if(V!=null)clearTimeout(V);return Q.apply(this,arguments)},U=J.slice(0,J.length-1).concat([F]);else q=new Promise((w,B)=>{F=function A(M,I){if(V!=null)clearTimeout(V);if(M!=null)return B(M);w(I)},U=J.concat([F]),this.addQueue(Z,U)});const L=this._getBufferTimeoutMS();if(V=setTimeout(()=>{if(this.removeQueue(Z,U)){const B="Operation `"+this.name+"."+Z+"()` buffering timed out after "+L+"ms",A=new $w(B);this.conn.emit("buffer-end",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,error:A}),F(A)}},L),!V$[Z]&&typeof Q==="function"){this.addQueue(Z,U);return}return q}else if(!V$[Z]&&typeof Q==="function")z=function F(U,q){if(U!=null)X.conn.emit("operation-end",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,error:U});else X.conn.emit("operation-end",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,result:q});return Q.apply(this,arguments)},H=J.slice(0,J.length-1).concat([z]);if(G)if(typeof G==="function"){let F=null;if(typeof J[J.length-1]=="function")F=J.slice(0,J.length-1);else F=J;G.apply(X,[X.name,Z].concat(F))}else if(G instanceof VB1.Writable)this.$printToStream(X.name,Z,J,G);else{const F=G.color==null?!0:G.color,U=G.shell==null?!1:G.shell;this.$print(X.name,Z,J,F,U)}this.conn.emit("operation-start",{_id:K,modelName:X.modelName,collectionName:this.name,method:Z,params:H});try{if(Y==null){const U="Cannot call `"+this.name+"."+Z+"()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.";throw new $w(U)}if(V$[Z]&&typeof Q==="function"){const U=Y[Z].apply(Y,H.slice(0,H.length-1));return Q.call(this,null,U)}const F=Y[Z].apply(Y,H);if(F!=null&&typeof F.then==="function")return F.then((U)=>{return typeof Q==="function"&&Q(null,U),U},(U)=>{if(typeof Q==="function"){Q(U);return}throw U});return F}catch(F){if(typeof Q==="function")return Q(F);else throw this.conn.emit("operation-end",{_id:K,modelName:X.modelName,collectionName:this.name,method:Z,error:F}),F}}},IJ=function(Z){const Y={inspect:function(){return Z}};if(Gw.inspect.custom)Y[Gw.inspect.custom]=Y.inspect;return Y},RB1=function(Z){return Qw(Z,!0)},wB1=function(Z,Y){Z[Y]=IJ('ObjectId("'+Z[Y].toHexString()+'")')},MB1=function(Z,Y,J){if(J)Z[Y]=IJ('ISODate("'+Z[Y].toUTCString()+'")');else Z[Y]=IJ('new Date("'+Z[Y].toUTCString()+'")')},Qw=function(Z,Y,J,X){if(Z&&typeof Z.toBSON==="function")Z=Z.toBSON();if(Z==null)return Z;let W=N0()(Z,qB1);const G=Mh(W);if(G==="Binary")W="BinData("+W.sub_type+', "'+W.toString("base64")+'")';else if(G==="ObjectId")W=IJ('ObjectId("'+W.toHexString()+'")');else if(G==="Date")W=IJ('new Date("'+W.toUTCString()+'")');else if(G==="Object"){const Q=Object.keys(W),K=Q.length;let H;for(let z=0;z<K;++z)if(H=Q[z],W[H]){let F;if(typeof W[H].toBSON==="function")try{W[H]=W[H].toBSON()}catch(q){F=q}const U=Mh(W[H]);if(U==="Binary")W[H]="BinData("+W[H].sub_type+', "'+W[H].buffer.toString("base64")+'")';else if(U==="Object")W[H]=Qw(W[H],!0);else if(U==="ObjectId")wB1(W,H);else if(U==="Date")MB1(W,H,X);else if(U==="ClientSession")W[H]=IJ('ClientSession("'+(W[H]&&W[H].id&&W[H].id.id&&W[H].id.id.buffer||"").toString("hex")+'")');else if(Array.isArray(W[H]))W[H]=W[H].map(RB1);else if(F!=null)throw F}}if(Y)return W;return Gw.inspect(W,!1,10,J).replace(/\n/g,"").replace(/\s{2,}/g," ")};/*!
 * Module dependencies.
 */var CK=DT(),$w=z0(),Ww=TK().Collection,UB1=y4(),Mh=Q6(),qB1=M4().internalToObjectOptions,VB1=import.meta.require("stream"),Gw=import.meta.require("util");/*!
 * Inherit from abstract Collection.
 */Object.setPrototypeOf(b7.prototype,CK.prototype);b7.prototype.onOpen=function(){return this.collection=this.conn.db.collection(this.name),CK.prototype.onOpen.call(this),this.collection};b7.prototype.onClose=function(Z){CK.prototype.onClose.call(this,Z)};b7.prototype._getCollection=function Z(){if(this.collection)return this.collection;if(this.conn.db!=null)return this.collection=this.conn.db.collection(this.name),this.collection;return null};/*!
 * ignore
 */var V$={watch:!0,find:!0,aggregate:!0};for(let Z of Object.getOwnPropertyNames(Ww.prototype)){if(Object.getOwnPropertyDescriptor(Ww.prototype,Z).get!==void 0)continue;if(typeof Ww.prototype[Z]!=="function")continue;LB1(Z)}b7.prototype.$print=function(Z,Y,J,X,$){const W=X?"\x1B[0;36mMongoose:\x1B[0m ":"Mongoose: ",G=[Z,Y].join("."),Q=[];for(let H=J.length-1;H>=0;--H)if(this.$format(J[H])||Q.length)Q.unshift(this.$format(J[H],X,$));const K="("+Q.join(", ")+")";console.info(W+G+K)};b7.prototype.$printToStream=function(Z,Y,J,X){const $=[Z,Y].join("."),W=[];for(let Q=J.length-1;Q>=0;--Q)if(this.$format(J[Q])||W.length)W.unshift(this.$format(J[Q]));const G="("+W.join(", ")+")";X.write($+G,"utf8")};b7.prototype.$format=function(Z,Y,J){const X=typeof Z;if(X==="function"||X==="undefined")return"";return Qw(Z,!1,Y,J)};b7.prototype.getIndexes=b7.prototype.indexInformation;/*!
 * Module exports.
 */Bh.exports=b7});var Kw=R((lt1,Dh)=>{/*!
 * Module dependencies.
 */var BB1=import.meta.require("events").EventEmitter;/*!
 * ignore
 */var Nh=["close","change","end","error","resumeTokenChanged"];/*!
 * ignore
 */class Ih extends BB1{constructor(Z,Y,J){super();if(this.driverChangeStream=null,this.closed=!1,this.bindedEvents=!1,this.pipeline=Y,this.options=J,J&&J.hydrate&&!J.model)throw new Error("Cannot create change stream with `hydrate: true` unless calling `Model.watch()`");Z((X,$)=>{if(X!=null){this.emit("error",X);return}this.driverChangeStream=$,this.emit("ready")})}_bindEvents(){if(this.bindedEvents)return;if(this.bindedEvents=!0,this.driverChangeStream==null){this.once("ready",()=>{this.driverChangeStream.on("close",()=>{this.closed=!0}),Nh.forEach((Z)=>{this.driverChangeStream.on(Z,(Y)=>{if(Z==="error"&&this.closed)return;if(Y!=null&&Y.fullDocument!=null&&this.options&&this.options.hydrate)Y.fullDocument=this.options.model.hydrate(Y.fullDocument);this.emit(Z,Y)})})});return}this.driverChangeStream.on("close",()=>{this.closed=!0}),Nh.forEach((Z)=>{this.driverChangeStream.on(Z,(Y)=>{if(Z==="error"&&this.closed)return;if(Y!=null&&Y.fullDocument!=null&&this.options&&this.options.hydrate)Y.fullDocument=this.options.model.hydrate(Y.fullDocument);this.emit(Z,Y)})})}hasNext(Z){return this.driverChangeStream.hasNext(Z)}next(Z){if(this.options&&this.options.hydrate){if(Z!=null){const J=Z;Z=(X,$)=>{if(X!=null)return J(X);if($.fullDocument!=null)$.fullDocument=this.options.model.hydrate($.fullDocument);return J(null,$)}}let Y=this.driverChangeStream.next(Z);if(Y&&typeof Y.then==="function")Y=Y.then((J)=>{if(J.fullDocument!=null)J.fullDocument=this.options.model.hydrate(J.fullDocument);return J});return Y}return this.driverChangeStream.next(Z)}addListener(Z,Y){return this._bindEvents(),super.addListener(Z,Y)}on(Z,Y){return this._bindEvents(),super.on(Z,Y)}once(Z,Y){return this._bindEvents(),super.once(Z,Y)}_queue(Z){this.once("ready",()=>Z())}close(){if(this.closed=!0,this.driverChangeStream)this.driverChangeStream.close()}}/*!
 * ignore
 */Dh.exports=Ih});var DJ=R((it1,Ch)=>{var n1=function(){this._pres=new Map,this._posts=new Map},Ph=function(Z,Y,J,X,$,W,G){if(W.useErrorHandlers)return Z.execPost(J,X,$,{error:Y},function(Q){return typeof G==="function"&&G(Q)});else return typeof G==="function"&&G(Y)},EK=function(Z,Y,J,X){let $;try{$=Z.apply(Y,J)}catch(W){return X(W)}if(jK($))$.then(()=>X(),(W)=>X(W))},jK=function(Z){return typeof Z==="object"&&Z!==null&&typeof Z.then==="function"},L$=function(Z){let Y=!1;const J=this;return function(){if(Y)return;return Y=!0,R$(()=>Z.apply(J,arguments))}},Th=function(Z,Y){if(Z.errorHandler)return!0;return Z.fn.length===Y+2};n1.skipWrappedFunction=function Z(){if(!(this instanceof n1.skipWrappedFunction))return new n1.skipWrappedFunction(...arguments);this.args=[...arguments]};n1.overwriteResult=function Z(){if(!(this instanceof n1.overwriteResult))return new n1.overwriteResult(...arguments);this.args=[...arguments]};n1.prototype.execPre=function(Z,Y,J,X){if(arguments.length===3)X=J,J=[];const $=this._pres.get(Z)||[],W=$.length,G=$.numAsync||0;let Q=0,K=G,H=!1;const z=J;let F=null;if(!W)return R$(function(){X(null)});function U(){if(Q>=W)return;const V=$[Q];if(V.isAsync){const L=[L$(q),L$(function(w){if(w){if(H)return;if(w instanceof n1.skipWrappedFunction)F=w;else return H=!0,X(w)}if(--K===0&&Q>=W)return X(F)})];EK(V.fn,Y,L,L[0])}else if(V.fn.length>0){const L=[L$(q)],w=arguments.length>=2?arguments:[null].concat(z);for(let B=1;B<w.length;++B){if(B===w.length-1&&typeof w[B]==="function")continue;L.push(w[B])}EK(V.fn,Y,L,L[0])}else{let L=null;try{L=V.fn.call(Y)}catch(w){if(w!=null)return X(w)}if(jK(L))L.then(()=>q(),(w)=>q(w));else{if(++Q>=W)if(K>0)return;else return R$(function(){X(F)});U()}}}U.apply(null,[null].concat(J));function q(V){if(V){if(H)return;if(V instanceof n1.skipWrappedFunction)F=V;else return H=!0,X(V)}if(++Q>=W)if(K>0)return;else return X(F);U.apply(Y,arguments)}};n1.prototype.execPreSync=function(Z,Y,J){const X=this._pres.get(Z)||[],$=X.length;for(let W=0;W<$;++W)X[W].fn.apply(Y,J||[])};n1.prototype.execPost=function(Z,Y,J,X,$){if(arguments.length<5)$=X,X=null;const W=this._posts.get(Z)||[],G=W.length;let Q=0,K=null;if(X&&X.error)K=X.error;if(!G)return R$(function(){$.apply(null,[K].concat(J))});function H(){const z=W[Q].fn;let F=0;const U=J.length,q=[];for(let V=0;V<U;++V)if(F+=J[V]&&J[V]._kareemIgnore?0:1,!J[V]||!J[V]._kareemIgnore)q.push(J[V]);if(K)if(Th(W[Q],F)){const V=L$(function(L){if(L){if(L instanceof n1.overwriteResult){if(J=L.args,++Q>=G)return $.call(null,K);return H()}K=L}if(++Q>=G)return $.call(null,K);H()});EK(z,Y,[K].concat(q).concat([V]),V)}else{if(++Q>=G)return $.call(null,K);H()}else{const V=L$(function(L){if(L){if(L instanceof n1.overwriteResult){if(J=L.args,++Q>=G)return $.apply(null,[null].concat(J));return H()}return K=L,H()}if(++Q>=G)return $.apply(null,[null].concat(J));H()});if(Th(W[Q],F)){if(++Q>=G)return $.apply(null,[null].concat(J));return H()}if(z.length===F+1)EK(z,Y,q.concat([V]),V);else{let L,w;try{w=z.apply(Y,q)}catch(B){L=B,K=B}if(jK(w))return w.then((B)=>{V(B instanceof n1.overwriteResult?B:null)},(B)=>V(B));if(w instanceof n1.overwriteResult)J=w.args;if(++Q>=G)return $.apply(null,[L].concat(J));H()}}}H()};n1.prototype.execPostSync=function(Z,Y,J){const X=this._posts.get(Z)||[],$=X.length;for(let W=0;W<$;++W){const G=X[W].fn.apply(Y,J||[]);if(G instanceof n1.overwriteResult)J=G.args}return J};n1.prototype.createWrapperSync=function(Z,Y){const J=this;return function X(){J.execPreSync(Z,this,arguments);const $=Y.apply(this,arguments);return J.execPostSync(Z,this,[$])[0]}};n1.prototype.wrap=function(Z,Y,J,X,$){const W=X.length>0?X[X.length-1]:null,G=Array.from(X);typeof W==="function"&&G.pop();const Q=this;$=$||{};const K=$.checkForPromise;this.execPre(Z,J,X,function(H){if(H&&!(H instanceof n1.skipWrappedFunction)){const q=$.numCallbackParams||0,V=$.contextParameter?[J]:[];for(let L=V.length;L<q;++L)V.push(null);return Ph(Q,H,Z,J,V,$,W)}const z=Y.length;let F;if(H instanceof n1.skipWrappedFunction)return F=H.args[0],U(null,...H.args);else try{F=Y.apply(J,G.concat(U))}catch(q){return U(q)}if(K){if(jK(F))return F.then((q)=>U(null,q),(q)=>U(q));if(z<G.length+1)return U(null,F)}function U(){const q=Array.from(arguments);if(q.shift(),$.nullResultByDefault&&q.length===0)q.push(null);if(arguments[0])return Ph(Q,arguments[0],Z,J,q,$,W);else Q.execPost(Z,J,q,function(){if(W===null)return;arguments[0]?W(arguments[0]):W.apply(J,arguments)})}})};n1.prototype.filter=function(Z){const Y=this.clone(),J=Array.from(Y._pres.keys());for(let $ of J){const W=this._pres.get($).map((G)=>Object.assign({},G,{name:$})).filter(Z);if(W.length===0){Y._pres.delete($);continue}W.numAsync=W.filter((G)=>G.isAsync).length,Y._pres.set($,W)}const X=Array.from(Y._posts.keys());for(let $ of X){const W=this._posts.get($).map((G)=>Object.assign({},G,{name:$})).filter(Z);if(W.length===0){Y._posts.delete($);continue}Y._posts.set($,W)}return Y};n1.prototype.hasHooks=function(Z){return this._pres.has(Z)||this._posts.has(Z)};n1.prototype.createWrapper=function(Z,Y,J,X){const $=this;if(!this.hasHooks(Z))return function(){R$(()=>Y.apply(this,arguments))};return function(){const W=J||this;$.wrap(Z,Y,W,Array.from(arguments),X)}};n1.prototype.pre=function(Z,Y,J,X,$){let W={};if(typeof Y==="object"&&Y!==null)W=Y,Y=W.isAsync;else if(typeof arguments[1]!=="boolean")J=Y,Y=!1;const G=this._pres.get(Z)||[];if(this._pres.set(Z,G),Y)G.numAsync=G.numAsync||0,++G.numAsync;if(typeof J!=="function")throw new Error('pre() requires a function, got "'+typeof J+'"');if($)G.unshift(Object.assign({},W,{fn:J,isAsync:Y}));else G.push(Object.assign({},W,{fn:J,isAsync:Y}));return this};n1.prototype.post=function(Z,Y,J,X){const $=this._posts.get(Z)||[];if(typeof Y==="function")X=!!J,J=Y,Y={};if(typeof J!=="function")throw new Error('post() requires a function, got "'+typeof J+'"');if(X)$.unshift(Object.assign({},Y,{fn:J}));else $.push(Object.assign({},Y,{fn:J}));return this._posts.set(Z,$),this};n1.prototype.clone=function(){const Z=new n1;for(let Y of this._pres.keys()){const J=this._pres.get(Y).slice();J.numAsync=this._pres.get(Y).numAsync,Z._pres.set(Y,J)}for(let Y of this._posts.keys())Z._posts.set(Y,this._posts.get(Y).slice());return Z};n1.prototype.merge=function(Z,Y){Y=arguments.length===1?!0:Y;const J=Y?this.clone():this;for(let X of Z._pres.keys()){const $=J._pres.get(X)||[],W=Z._pres.get(X).filter((Q)=>$.map((K)=>K.fn).indexOf(Q.fn)===-1),G=$.concat(W);G.numAsync=$.numAsync||0,G.numAsync+=W.filter((Q)=>Q.isAsync).length,J._pres.set(X,G)}for(let X of Z._posts.keys()){const $=J._posts.get(X)||[],W=Z._posts.get(X).filter((G)=>$.indexOf(G)===-1);J._posts.set(X,$.concat(W))}return J};var R$=typeof process==="object"&&process!==null&&process.nextTick||function Z(Y){setTimeout(Y,0)};Ch.exports=n1});var Oh=R((Eh,jh)=>{var P8=jh.exports=Eh={};P8.DocumentNotFoundError=null;P8.general={};P8.general.default="Validator failed for path `{PATH}` with value `{VALUE}`";P8.general.required="Path `{PATH}` is required.";P8.Number={};P8.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).";P8.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).";P8.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";P8.Date={};P8.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).";P8.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).";P8.String={};P8.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";P8.String.match="Path `{PATH}` is invalid ({VALUE}).";P8.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).";P8.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."});var OK=R((nt1,kh)=>{/*!
 * Module dependencies.
 */var Sh=e1(),AB1=import.meta.require("util");class Hw extends Sh{constructor(Z,Y,J,X){let $;const W=Sh.messages;if(W.DocumentNotFoundError!=null)$=typeof W.DocumentNotFoundError==="function"?W.DocumentNotFoundError(Z,Y):W.DocumentNotFoundError;else $='No document found for query "'+AB1.inspect(Z)+'" on model "'+Y+'"';super($);this.result=X,this.numAffected=J,this.filter=Z,this.query=Z}}Object.defineProperty(Hw.prototype,"name",{value:"DocumentNotFoundError"});/*!
 * exports
 */kh.exports=Hw});var h8=R((at1,fh)=>{var Fw=function(Z){let Y=IB1.inspect(Z);if(Y=Y.replace(/^'|'$/g,'"'),!Y.startsWith('"'))Y='"'+Y+'"';return Y},_h=function(Z){if(Z==null)return""+Z;const Y=typeof Z;if(Y!=="object")return Y;if(typeof Z.constructor!=="function")return Y;return Z.constructor.name},xh=function(Z){const Y=Z&&Z._castErrorMessage||null;if(typeof Y==="string"||typeof Y==="function")return Y},zw=function(Z,Y,J,X,$,W,G){if(typeof $==="string"){const Q=Fw(J);let K=$.replace("{KIND}",Y).replace("{VALUE}",Q).replace("{PATH}",X);if(Z!=null)K=K.replace("{MODEL}",Z.modelName);return K}else if(typeof $==="function")return $(J,X,Z,Y);else{const Q=Fw(J),K=W?" (type "+W+")":"";let H="Cast to "+Y+" failed for value "+Q+K+' at path "'+X+'"';if(Z!=null)H+=' for model "'+Z.modelName+'"';if(G!=null&&typeof G.constructor==="function"&&G.constructor.name!=="AssertionError"&&G.constructor.name!=="Error")H+=' because of "'+G.constructor.name+'"';return H}};/*!
 * Module dependencies.
 */var NB1=z0(),IB1=import.meta.require("util");class Uw extends NB1{constructor(Z,Y,J,X,$){if(arguments.length>0){const W=_h(Y),G=xh($),Q=zw(null,Z,Y,J,G,W,X);super(Q);this.init(Z,Y,J,X,$)}else super(zw())}toJSON(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}init(Z,Y,J,X,$){/*!
   * ignore
   */this.stringValue=Fw(Y),this.messageFormat=xh($),this.kind=Z,this.value=Y,this.path=J,this.reason=X,this.valueType=_h(Y)}copy(Z){this.messageFormat=Z.messageFormat,this.stringValue=Z.stringValue,this.kind=Z.kind,this.value=Z.value,this.path=Z.path,this.reason=Z.reason,this.message=Z.message,this.valueType=Z.valueType}setModel(Z){/*!
   * ignore
   */this.model=Z,this.message=zw(Z,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}Object.defineProperty(Uw.prototype,"name",{value:"CastError"});/*!
 * ignore
 *//*!
 * exports
 */fh.exports=Uw});var qw=R((st1,yh)=>{/*!
 * ignore
 */yh.exports=function Z(Y){const J=Object.keys(Y.errors||{}),X=J.length,$=[];let W;for(let G=0;G<X;++G){if(W=J[G],Y===Y.errors[W])continue;$.push(W+": "+Y.errors[W].message)}return $.join(", ")}});var T9=R((rt1,vh)=>{/*!
 * Module requirements
 */var DB1=z0(),PB1=Q6(),gh=import.meta.require("util"),bh=qw();class P9 extends DB1{constructor(Z){let Y;if(PB1(Z)==="model")Y=Z.constructor.modelName+" validation failed";else Y="Validation failed";super(Y);if(this.errors={},this._message=Y,Z)Z.$errors=this.errors}toString(){return this.name+": "+bh(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,Y){if(Y instanceof P9){const{errors:J}=Y;for(let X of Object.keys(J))this.addError(`${Z}.${X}`,J[X]);return}this.errors[Z]=Y,this.message=this._message+": "+bh(this)}}if(gh.inspect.custom)P9.prototype[gh.inspect.custom]=P9.prototype.inspect;Object.defineProperty(P9.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(P9.prototype,"name",{value:"ValidationError"});/*!
 * Module exports
 */vh.exports=P9});var Vw=R((tt1,uh)=>{var mh=function(Z,Y,J){if(typeof Z==="function")return Z(Y,J);const X=Object.keys(Y);for(let $ of X){if($==="message")continue;Z=Z.replace("{"+$.toUpperCase()+"}",Y[$])}return Z};/*!
 * Module dependencies.
 */var hh=e1();class w$ extends hh{constructor(Z,Y){let J=Z.message;if(!J)J=hh.messages.general.default;const X=mh(J,Z,Y);super(X);Z=Object.assign({},Z,{message:X}),this.properties=Z,this.kind=Z.type,this.path=Z.path,this.value=Z.value,this.reason=Z.reason}toString(){return this.message}toJSON(){return Object.assign({name:this.name,message:this.message},this)}}Object.defineProperty(w$.prototype,"name",{value:"ValidatorError"});Object.defineProperty(w$.prototype,"properties",{enumerable:!1,writable:!0,value:null});w$.prototype.formatMessage=mh;/*!
 * exports
 */uh.exports=w$});var Rw=R((ot1,dh)=>{/*!
 * Module dependencies.
 */var TB1=e1();class Lw extends TB1{constructor(Z,Y,J){const X=J.join(", ");super('No matching document found for id "'+Z._id+'" version '+Y+' modifiedPaths "'+X+'"');this.version=Y,this.modifiedPaths=J}}Object.defineProperty(Lw.prototype,"name",{value:"VersionError"});/*!
 * exports
 */dh.exports=Lw});var Mw=R((et1,ch)=>{/*!
 * Module dependencies.
 */var CB1=e1();class ww extends CB1{constructor(Z){super("Can\'t save() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(ww.prototype,"name",{value:"ParallelSaveError"});/*!
 * exports
 */ch.exports=ww});var Aw=R((Zo1,ph)=>{/*!
 * Module dependencies.
 */var EB1=e1();class Bw extends EB1{constructor(Z){super("Cannot overwrite `"+Z+"` model once compiled.")}}Object.defineProperty(Bw.prototype,"name",{value:"OverwriteModelError"});/*!
 * exports
 */ph.exports=Bw});var ih=R((Yo1,lh)=>{/*!
 * Module dependencies.
 */var jB1=e1();class Nw extends jB1{constructor(Z){const Y='Schema hasn\'t been registered for model "'+Z+'".\nUse mongoose.model(name, schema)';super(Y)}}Object.defineProperty(Nw.prototype,"name",{value:"MissingSchemaError"});/*!
 * exports
 */lh.exports=Nw});var ah=R((Jo1,nh)=>{var OB1=Q6();nh.exports=function Z(Y){if(OB1(Y)!=="TopologyDescription")return!1;const J=Array.from(Y.servers.values());return J.length>0&&J.every((X)=>X.type==="Unknown")}});var th=R((Xo1,rh)=>{var SB1=Q6();rh.exports=function Z(Y){if(SB1(Y)!=="TopologyDescription")return!1;if(Y.servers.size===0)return!1;for(let J of Y.servers.values())if(J.host.endsWith(".mongodb.net")===!1||J.port!==27017)return!1;return!0}});var eh=R(($o1,oh)=>{var kB1=Q6(),_B1="Client network socket disconnected before secure TLS connection was established";oh.exports=function Z(Y){if(kB1(Y)!=="TopologyDescription")return!1;const J=Array.from(Y.servers.values());return J.length>0&&J.every((X)=>X.error&&X.error.message.indexOf(_B1)!==-1)}});var Dw=R((Wo1,Zm)=>{/*!
 * Module dependencies.
 */var xB1=z0(),fB1=ah(),yB1=th(),gB1=eh();/*!
 * ignore
 */var bB1="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you\'re trying to access the database from an IP that isn\'t whitelisted. Make sure your current IP address is on your Atlas cluster\'s IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/",vB1="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html";class Iw extends xB1{assimilateError(Z){const Y=Z.reason;if(yB1(Y)&&fB1(Y)&&Z.message.indexOf("bad auth")===-1&&Z.message.indexOf("Authentication failed")===-1)this.message=bB1;else if(gB1(Y))this.message=vB1;else this.message=Z.message;for(let X in Z)if(X!=="name")this[X]=Z[X];return this}}Object.defineProperty(Iw.prototype,"name",{value:"MongooseServerSelectionError"});Zm.exports=Iw});var Tw=R((Go1,Ym)=>{/*!
 * Module dependencies.
 */var hB1=e1();class Pw extends hB1{constructor(Z){const Y="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+Z.join("\n  ")+"\nUse Model.updateOne() to update these arrays instead.";super(Y)}}Object.defineProperty(Pw.prototype,"name",{value:"DivergentArrayError"});/*!
 * exports
 */Ym.exports=Pw});var WZ=R((Qo1,Jm)=>{/*!
 * Module dependencies.
 */var mB1=e1();class Cw extends mB1{constructor(Z,Y,J){Y=Y||"Field `"+Z+"` is not in schema and strict mode is set to throw.";super(Y);this.isImmutableError=!!J,this.path=Z}}Object.defineProperty(Cw.prototype,"name",{value:"StrictModeError"});Jm.exports=Cw});var jw=R((Ko1,Xm)=>{/*!
 * Module dependencies.
 */var uB1=e1();class Ew extends uB1{constructor(Z,Y){Y=Y||"Cannot populate path `"+Z+"` because it is not in your schema. Set the `strictPopulate` option to false to override.";super(Y);this.path=Z}}Object.defineProperty(Ew.prototype,"name",{value:"StrictPopulateError"});Xm.exports=Ew});var e1=R(($m,Wm)=>{var T8=z0();/*!
 * Module exports.
 */Wm.exports=$m=T8;T8.messages=Oh();T8.Messages=T8.messages;T8.DocumentNotFoundError=OK();T8.CastError=h8();T8.ValidationError=T9();T8.ValidatorError=Vw();T8.VersionError=Rw();T8.ParallelSaveError=Mw();T8.OverwriteModelError=Aw();T8.MissingSchemaError=ih();T8.MongooseServerSelectionError=Dw();T8.DivergentArrayError=Tw();T8.StrictModeError=WZ();T8.StrictPopulateError=jw()});var K7=R((Ho1,Gm)=>{Gm.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})});var _6=R((zo1,Qm)=>{var dB1=N0();class C8{constructor(Z){if(Z==null)return this;Object.assign(this,dB1(Z))}}var K6=K7();Object.defineProperty(C8.prototype,"type",K6);Object.defineProperty(C8.prototype,"validate",K6);Object.defineProperty(C8.prototype,"cast",K6);Object.defineProperty(C8.prototype,"required",K6);Object.defineProperty(C8.prototype,"default",K6);Object.defineProperty(C8.prototype,"ref",K6);Object.defineProperty(C8.prototype,"refPath",K6);Object.defineProperty(C8.prototype,"select",K6);Object.defineProperty(C8.prototype,"index",K6);Object.defineProperty(C8.prototype,"unique",K6);Object.defineProperty(C8.prototype,"immutable",K6);Object.defineProperty(C8.prototype,"sparse",K6);Object.defineProperty(C8.prototype,"text",K6);Object.defineProperty(C8.prototype,"transform",K6);Qm.exports=C8});var SK=R((Fo1,PJ)=>{var cB1=h8();PJ.exports=function Z(Y,J){if(PJ.exports.convertToTrue.has(Y))return!0;if(PJ.exports.convertToFalse.has(Y))return!1;if(Y==null)return Y;throw new cB1("boolean",Y,J)};PJ.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]);PJ.exports.convertToFalse=new Set([!1,"false",0,"0","no"])});var kK=R((Uo1,Km)=>{var pB1=SK();/*!
 * ignore
 */Km.exports=function(Z){const Y=this!=null?this.path:null;return pB1(Z,Y)}});var Ow=R((qo1,Hm)=>{/*!
 * ignore
 */Hm.exports=function(Z){if(Array.isArray(Z)){if(!Z.every((Y)=>typeof Y==="number"||typeof Y==="string"))throw new Error("$type array values must be strings or numbers");return Z}if(typeof Z!=="number"&&typeof Z!=="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return Z}});var Fm=R((Vo1,zm)=>{var iB1=function(Z,Y){return function J(X,$,W,G){if(this==null||this.$__==null)return X;if(this.isNew)return X;if(G&&G.overwriteImmutable)return X;if(!(typeof Y==="function"?Y.call(this,this):Y))return X;const K=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(Z):this.$__getValue(Z);if(this.$__.strictMode==="throw"&&X!==K)throw new lB1(Z,"Path `"+Z+"` is immutable and strict mode is set to throw.",!0);return K}},lB1=WZ();/*!
 * ignore
 */zm.exports=function(Z){if(Z.$immutable)Z.$immutableSetter=iB1(Z.path,Z.options.immutable),Z.set(Z.$immutableSetter);else if(Z.$immutableSetter)Z.setters=Z.setters.filter((Y)=>Y!==Z.$immutableSetter),delete Z.$immutableSetter}});var qm=R((Lo1,Um)=>{Um.exports=function Z(Y){return typeof Y==="function"&&Y.constructor&&Y.constructor.name==="AsyncFunction"}});var Lm=R((Ro1,Vm)=>{Vm.exports=function Z(Y){const J=Object.keys(Y);let X=!0;for(let $=0,W=J.length;$<W;++$)if(typeof Y[J[$]]==="object"&&Y[J[$]]!==null){X=!1;break}return X}});var Sw=R((wo1,Rm)=>{var sB1=function(Z){if(Z=String(Z),Z.length>100)return;var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!Y)return;var J=parseFloat(Y[1]),X=(Y[2]||"ms").toLowerCase();switch(X){case"years":case"year":case"yrs":case"yr":case"y":return J*aB1;case"weeks":case"week":case"w":return J*nB1;case"days":case"day":case"d":return J*C9;case"hours":case"hour":case"hrs":case"hr":case"h":return J*EJ;case"minutes":case"minute":case"mins":case"min":case"m":return J*CJ;case"seconds":case"second":case"secs":case"sec":case"s":return J*TJ;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}},rB1=function(Z){var Y=Math.abs(Z);if(Y>=C9)return Math.round(Z/C9)+"d";if(Y>=EJ)return Math.round(Z/EJ)+"h";if(Y>=CJ)return Math.round(Z/CJ)+"m";if(Y>=TJ)return Math.round(Z/TJ)+"s";return Z+"ms"},tB1=function(Z){var Y=Math.abs(Z);if(Y>=C9)return _K(Z,Y,C9,"day");if(Y>=EJ)return _K(Z,Y,EJ,"hour");if(Y>=CJ)return _K(Z,Y,CJ,"minute");if(Y>=TJ)return _K(Z,Y,TJ,"second");return Z+" ms"},_K=function(Z,Y,J,X){var $=Y>=J*1.5;return Math.round(Z/J)+" "+X+($?"s":"")},TJ=1000,CJ=TJ*60,EJ=CJ*60,C9=EJ*24,nB1=C9*7,aB1=C9*365.25;Rm.exports=function(Z,Y){Y=Y||{};var J=typeof Z;if(J==="string"&&Z.length>0)return sB1(Z);else if(J==="number"&&isFinite(Z))return Y.long?tB1(Z):rB1(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var Mm=R((Mo1,wm)=>{wm.exports=function Z(Y){const J=[];let X="",$="DEFAULT";for(let W=0;W<Y.length;++W){if($==="IN_SQUARE_BRACKETS"&&!/\d/.test(Y[W])&&Y[W]!=="]")$="DEFAULT",X=J[J.length-1]+"["+X,J.splice(J.length-1,1);if(Y[W]==="["){if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X),X="";$="IN_SQUARE_BRACKETS"}else if(Y[W]==="]")if($==="IN_SQUARE_BRACKETS")$="IMMEDIATELY_AFTER_SQUARE_BRACKETS",J.push(X),X="";else $="DEFAULT",X+=Y[W];else if(Y[W]==="."){if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X),X="";$="DEFAULT"}else X+=Y[W]}if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X);return J}});var Dm=R((oB1)=>{var Nm=function(Z,Y,J,X,$,W){for(var G,Q=0;Q<Z.length&&Q<Y.length;++Q)if(G=Z[Q],Array.isArray(G)&&Array.isArray(Y[Q]))Nm(G,Y[Q],J,X,$,W);else if(G)if(X)X(G,J,W(Y[Q]));else{if(G[$])G=G[$];G[J]=W(Y[Q])}},Im=function(Z){return Z},M$=Mm(),Am=["__proto__","constructor","prototype"];oB1.get=function(Z,Y,J,X){var $;if(typeof J=="function")if(J.length<2)X=J,J=void 0;else $=J,J=void 0;X||(X=Im);var W=typeof Z=="string"?M$(Z):Z;if(!Array.isArray(W))throw new TypeError("Invalid `path`. Must be either string or array");var G=Y,Q;for(var K=0;K<W.length;++K){if(Q=W[K],typeof W[K]!=="string"&&typeof W[K]!=="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+typeof W[K]);if(Array.isArray(G)&&!/^\d+$/.test(Q)){var H=W.slice(K);return[].concat(G).map(function(F){return F?oB1.get(H,F,J||$,X):X(void 0)})}if($)G=$(G,Q);else{var z=J&&G[J]?G[J]:G;G=z instanceof Map?z.get(Q):z[Q]}if(!G)return X(G)}return X(G)};oB1.has=function(Z,Y){var J=typeof Z==="string"?M$(Z):Z;if(!Array.isArray(J))throw new TypeError("Invalid `path`. Must be either string or array");var X=J.length,$=Y;for(var W=0;W<X;++W){if(typeof J[W]!=="string"&&typeof J[W]!=="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+typeof J[W]);if($==null||typeof $!=="object"||!(J[W]in $))return!1;$=$[J[W]]}return!0};oB1.unset=function(Z,Y){var J=typeof Z==="string"?M$(Z):Z;if(!Array.isArray(J))throw new TypeError("Invalid `path`. Must be either string or array");var X=J.length,$=Y;for(var W=0;W<X;++W){if($==null||typeof $!=="object"||!(J[W]in $))return!1;if(typeof J[W]!=="string"&&typeof J[W]!=="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+typeof J[W]);if(Am.indexOf(J[W])!==-1)return!1;if(W===X-1)return delete $[J[W]],!0;$=$ instanceof Map?$.get(J[W]):$[J[W]]}return!0};oB1.set=function(Z,Y,J,X,$,W){var G;if(typeof X=="function")if(X.length<2)$=X,X=void 0;else G=X,X=void 0;$||($=Im);var Q=typeof Z=="string"?M$(Z):Z;if(!Array.isArray(Q))throw new TypeError("Invalid `path`. Must be either string or array");if(J==null)return;for(var K=0;K<Q.length;++K){if(typeof Q[K]!=="string"&&typeof Q[K]!=="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+typeof Q[K]);if(Am.indexOf(Q[K])!==-1)return}var H=W||/\$/.test(Z)&&W!==!1,z=J,F;for(var K=0,U=Q.length-1;K<U;++K){if(F=Q[K],F=="$")if(K==U-1)break;else continue;if(Array.isArray(z)&&!/^\d+$/.test(F)){var q=Q.slice(K);if(!H&&Array.isArray(Y))for(var V=0;V<z.length&&V<Y.length;++V)oB1.set(q,Y[V],z[V],X||G,$,H);else for(var V=0;V<z.length;++V)oB1.set(q,Y,z[V],X||G,$,H);return}if(G)z=G(z,F);else{var L=X&&z[X]?z[X]:z;z=L instanceof Map?L.get(F):L[F]}if(!z)return}if(F=Q[U],X&&z[X])z=z[X];if(Array.isArray(z)&&!/^\d+$/.test(F))if(!H&&Array.isArray(Y))Nm(z,Y,F,G,X,$);else for(var V=0;V<z.length;++V){var w=z[V];if(w)if(G)G(w,F,$(Y));else{if(w[X])w=w[X];w[F]=$(Y)}}else if(G)G(z,F,$(Y));else if(z instanceof Map)z.set(F,$(Y));else z[F]=$(Y)};/*!
 * Split a string path into components delimited by '.' or
 * '[\d+]'
 *
 * #### Example:
 *     stringToParts('foo[0].bar.1'); // ['foo', '0', 'bar', '1']
 */oB1.stringToParts=M$;/*!
 * Recursively set nested arrays
 *//*!
 * Returns the value passed to it.
 */});var v7=R((Pm,Tm)=>{Tm.exports=Pm=Dm()});var jm=R((Ao1,Em)=>{var JA1=N0();class Cm{constructor(Z){if(this._docs={},this._childDocs=[],Z==null)return;if(Z=JA1(Z),Object.assign(this,Z),typeof Z.subPopulate==="object")this.populate=Z.subPopulate;if(Z.perDocumentLimit!=null&&Z.limit!=null)throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+Z.path+"`.")}}Em.exports=Cm});var Om=R((XA1)=>{XA1.isMongooseDocumentArray=function(Z){return Array.isArray(Z)&&Z.isMongooseDocumentArray}});var xK=R((Io1,Sm)=>{var WA1=I6(),jJ=Symbol("mongoose#emitted");Sm.exports=function Z(Y,J,X,$){if(typeof Y==="function")try{return J(function(W){if(W!=null){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!W[jJ])W[jJ]=!0,X.emit("error",W);try{Y(W)}catch(G){return WA1(()=>{throw G})}return}Y.apply(this,arguments)})}catch(W){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!W[jJ])W[jJ]=!0,X.emit("error",W);return Y(W)}return $=$||global.Promise,new $((W,G)=>{J(function(Q,K){if(Q!=null){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!Q[jJ])Q[jJ]=!0,X.emit("error",Q);return G(Q)}if(arguments.length>2)return W(Array.prototype.slice.call(arguments,1));W(K)})})}});var fK=R((Do1,km)=>{km.exports=function Z(Y,J,X){const $=Object.keys(J.tree),W={};for(let G of $){if(X&&(Y.paths[G]||Y.nested[G]||Y.singleNestedPaths[G]))continue;W[G]=J.tree[G]}Y.options._isMerging=!0,Y.add(W,null),delete Y.options._isMerging,Y.callQueue=Y.callQueue.concat(J.callQueue),Y.method(J.methods),Y.static(J.statics);for(let[G,Q]of Object.entries(J._userProvidedOptions))if(!(G in Y._userProvidedOptions))Y.set(G,Q);for(let G in J.query)Y.query[G]=J.query[G];for(let G in J.virtuals)Y.virtuals[G]=J.virtuals[G].clone();Y._indexes=Y._indexes.concat(J._indexes||[]),Y.s.hooks.merge(J.s.hooks,!1)}});var fm=R((_m,xm)=>{/*!
 * Module dependencies.
 */var Po1=H1(),h7=xm.exports=_m=function Z(){};h7.ctor=function(){const Z=[...arguments],Y=function(){h7.apply(this,arguments),this.paths={},this.states={}};return Y.prototype=new h7,Y.prototype.stateNames=Z,Z.forEach(function(J){Y.prototype[J]=function(X){this._changeState(X,J)}}),Y};h7.prototype._changeState=function Z(Y,J){const X=this.paths[Y];if(X===J)return;const $=this.states[X];if($)delete $[Y];this.paths[Y]=J,this.states[J]=this.states[J]||{},this.states[J][Y]=!0};/*!
 * ignore
 */h7.prototype.clear=function Z(Y){if(this.states[Y]==null)return;const J=Object.keys(this.states[Y]);let X=J.length,$;while(X--)$=J[X],delete this.states[Y][$],delete this.paths[$]};/*!
 * ignore
 */h7.prototype.clearPath=function Z(Y){const J=this.paths[Y];if(!J)return;delete this.paths[Y],delete this.states[J][Y]};h7.prototype.getStatePaths=function Z(Y){if(this.states[Y]!=null)return this.states[Y];return{}};h7.prototype.some=function Z(){const Y=this,J=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(J,function(X){if(Y.states[X]==null)return!1;return Object.keys(Y.states[X]).length})};h7.prototype._iter=function Z(Y){return function(){let J=[...arguments];const X=J.pop();if(!J.length)J=this.stateNames;const $=this;return J.reduce(function(G,Q){if($.states[Q]==null)return G;return G.concat(Object.keys($.states[Q]))},[])[Y](function(G,Q,K){return X(G,Q,K)})}};h7.prototype.forEach=function Z(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)};h7.prototype.map=function Z(){return this.map=this._iter("map"),this.map.apply(this,arguments)}});var bm=R((ym,gm)=>{var D0=function(){this.activePaths=new QA1};/*!
 * Dependencies
 */var GA1=fm(),QA1=GA1.ctor("require","modify","init","default","ignore");gm.exports=ym=D0;D0.prototype.strictMode=!0;D0.prototype.fullPath=void 0;D0.prototype.selected=void 0;D0.prototype.shardval=void 0;D0.prototype.saveError=void 0;D0.prototype.validationError=void 0;D0.prototype.adhocPaths=void 0;D0.prototype.removing=void 0;D0.prototype.inserting=void 0;D0.prototype.saving=void 0;D0.prototype.version=void 0;D0.prototype._id=void 0;D0.prototype.ownerDocument=void 0;D0.prototype.populate=void 0;D0.prototype.populated=void 0;D0.prototype.primitiveAtomics=void 0;D0.prototype.wasPopulated=!1;D0.prototype.scope=void 0;D0.prototype.session=null;D0.prototype.pathsToScopes=null;D0.prototype.cachedRequired=null});var E9=R((KA1)=>{KA1.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed");KA1.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")});var j9=R((Co1,vm)=>{var m7=function(Z,Y){if(Y&&Y.default){const J=Y.default;if(Array.isArray(J)&&J.length===0)Y.default=Array;else if(!Y.shared&&UA1(J)&&Object.keys(J).length===0)Y.default=function(){return{}}}yK.call(this,Z,Y,"Mixed"),this[FA1.schemaMixedSymbol]=!0};/*!
 * Module dependencies.
 */var yK=e0(),FA1=E9(),UA1=_5(),qA1=H1();m7.schemaName="Mixed";m7.defaultOptions={};/*!
 * Inherits from SchemaType.
 */m7.prototype=Object.create(yK.prototype);m7.prototype.constructor=m7;m7.get=yK.get;m7.set=yK.set;m7.setters=[];m7.prototype.cast=function(Z){if(Z instanceof Error)return qA1.errorToPOJO(Z);return Z};m7.prototype.castForQuery=function(Z,Y){return Y};/*!
 * Module exports.
 */vm.exports=m7});var xw=R((Eo1,hm)=>{/*!
 * Module dependencies.
 */var VA1=e1();class _w extends VA1{constructor(Z,Y){const J=Array.isArray(Y)?"array":"primitive value";super("Tried to set nested object field `"+Z+`\` to ${J} \``+Y+"`");this.path=Z}}Object.defineProperty(_w.prototype,"name",{value:"ObjectExpectedError"});hm.exports=_w});var yw=R((jo1,mm)=>{/*!
 * Module dependencies.
 */var LA1=e1();class fw extends LA1{constructor(Z,Y,J){super('Parameter "'+Y+'" to '+J+'() must be an object, got "'+Z.toString()+'" (type '+typeof Z+")")}}Object.defineProperty(fw.prototype,"name",{value:"ObjectParameterError"});mm.exports=fw});var dm=R((Oo1,um)=>{/*!
 * Module dependencies.
 */var RA1=z0();class gw extends RA1{constructor(Z){super("Can\'t validate() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(gw.prototype,"name",{value:"ParallelValidateError"});/*!
 * exports
 */um.exports=gw});var bw=R((So1,cm)=>{cm.exports=function Z(Y){const J={},X=Object.keys(Y);for(let $ of X){if($.indexOf(".")===-1){J[$]=1;continue}const W=$.split(".");let G=W[0];for(let Q=0;Q<W.length;++Q)if(J[G]=1,Q+1<W.length)G=G+"."+W[Q+1]}return J}});var gK=R((ko1,pm)=>{var vw=function(Z,Y){if(Z.$__.activePaths.default(Y),Z.$isSubdocument&&Z.$isSingleNested&&Z.$parent()!=null)Z.$parent().$__.activePaths.default(Z.$__pathRelativeToParent(Y))};pm.exports=function Z(Y,J,X,$,W,G){const Q=Object.keys(Y.$__schema.paths),K=Q.length;for(let H=0;H<K;++H){let z,F="";const U=Q[H];if(U==="_id"&&Y.$__.skipId)continue;const q=Y.$__schema.paths[U],V=q.splitPath(),L=V.length;let w=!1,B=Y._doc;for(let A=0;A<L;++A){if(B==null)break;const M=V[A];if(F+=(!F.length?"":".")+M,X===!0){if(F in J)break}else if(X===!1&&J&&!w){const I=q.$isSingleNested||q.$isMongooseDocumentArray;if(F in J||A===L-1&&I&&$!=null&&$[F])w=!0;else if($!=null&&!$[F])break}if(A===L-1){if(B[M]!==void 0)break;if(W!=null){if(typeof q.defaultValue==="function"){if(!q.defaultValue.$runBeforeSetters&&W)break;if(q.defaultValue.$runBeforeSetters&&!W)break}else if(!W)continue}if(G&&G[F])break;if(J&&X!==null){if(X===!0){if(U in J)continue;try{z=q.getDefault(Y,!1)}catch(I){Y.invalidate(U,I);break}if(typeof z!=="undefined")B[M]=z,vw(Y,U)}else if(w){try{z=q.getDefault(Y,!1)}catch(I){Y.invalidate(U,I);break}if(typeof z!=="undefined")B[M]=z,vw(Y,U)}}else{try{z=q.getDefault(Y,!1)}catch(I){Y.invalidate(U,I);break}if(typeof z!=="undefined")B[M]=z,vw(Y,U)}}else B=B[M]}}};/*!
 * ignore
 */});var hw=R((_o1,lm)=>{/*!
 * ignore
 */lm.exports=function Z(Y,J,X){X=X||{};const $=X.skipDocArrays;let W=0;if(!Y)return W;for(let G of Object.keys(Y.$__.activePaths.getStatePaths("modify"))){if($){const Q=Y.$__schema.path(G);if(Q&&Q.$isMongooseDocumentArray)continue}if(G.startsWith(J+".")){if(Y.$__.activePaths.clearPath(G),++W,Y.$isSubdocument){const Q=Y.ownerDocument(),K=Y.$__fullPath(G);Q.$__.activePaths.clearPath(K)}}}return W}});var vK=R((TA1)=>{var nm=function(Z,Y,J,X){OJ=OJ||H6();const $=X.typeKey;for(let W of Object.keys(Z)){const G=Z[W],K=im(G)&&Object.keys(G).length>0&&(!G[$]||$==="type"&&im(G.type)&&G.type.type)?G:null;am({prop:W,subprops:K,prototype:Y,prefix:J,options:X})}},am=function({prop:Z,subprops:Y,prototype:J,prefix:X,options:$}){OJ=OJ||H6();const W=(X?X+".":"")+Z;X=X||"";const G=X?Object.freeze({}):DA1;if(Y)Object.defineProperty(J,Z,{enumerable:!0,configurable:!0,get:function(){const Q=this;if(!this.$__.getters)this.$__.getters={};if(!this.$__.getters[W]){const K=Object.create(OJ.prototype,PA1(this));if(!X)K.$__[bK]=this;K.$__.nestedPath=W,Object.defineProperty(K,"schema",{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(K,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(K,MA1,{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(K,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return wA1(Q.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(K,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Q.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(K,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Q.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(K,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(K,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(W,null,IA1)||{}).length===0}}),Object.defineProperty(K,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),nm(Y,K,W,$),this.$__.getters[W]=K}return this.$__.getters[W]},set:function(Q){if(Q!=null&&Q.$__isNested)Q=Q.$__get();else if(Q instanceof OJ&&!Q.$__isNested)Q=Q.$toObject(BA1);(this.$__[bK]||this).$set(W,Q)}});else Object.defineProperty(J,Z,{enumerable:!0,configurable:!0,get:function(){return this[NA1].call(this.$__[bK]||this,W,null,G)},set:function(Q){this.$set.call(this.$__[bK]||this,W,Q)}})},PA1=function(Z){const Y={};return Object.getOwnPropertyNames(Z).forEach(function(J){if(["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(J)===-1)return;Y[J]=Object.getOwnPropertyDescriptor(Z,J),Y[J].enumerable=!1}),Y},wA1=N0(),MA1=$1().documentSchemaSymbol,BA1=M4().internalToObjectOptions,AA1=H1(),OJ,NA1=$1().getSymbol,bK=$1().scopeSymbol,im=AA1.isPOJO;/*!
 * exports
 */TA1.compile=nm;TA1.defineKey=am;var IA1=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),DA1=Object.freeze({noDottedPath:!0})});var SJ=R((kA1)=>{var tm=function(Z,Y,J,X){let $;if(Z&&rm(Z)&&!Buffer.isBuffer(Z))$=Object.keys(Z.toObject({transform:!1,virtuals:!1})||{});else $=Object.keys(Z||{});const W=$.length,G={};Y=Y?Y+".":"";for(let Q=0;Q<W;++Q){const K=$[Q],H=Z[K];G[Y+K]=H;const z=X&&X.path&&X.path(Y+K),F=X&&X.nested&&X.nested[Y+K];if(z&&z.instance==="Mixed")continue;if(em(H)){if(J&&J.skipArrays&&Array.isArray(H))continue;const U=tm(H,Y+K,J,X);for(let q in U)G[q]=U[q];if(Array.isArray(H))G[Y+K]=H}if(F){const U=Object.keys(X.paths);for(let q of U)if(q.startsWith(Y+K+".")&&!G.hasOwnProperty(q))G[q]=void 0}}return G},om=function(Z,Y,J,X=null){if(Z==null||typeof Z!=="object")return;if(X==null)X={raw:{update:Z,path:Y},trace:new WeakSet};if(X.trace.has(Z))throw new OA1(`a circular reference in the update value, updateValue:
${SA1.inspect(X.raw.update,{showHidden:!1,depth:1})}
updatePath: '${X.raw.path}'`);X.trace.add(Z);const $=Object.keys(Z||{}),W=$.length;J=J||{},Y=Y?Y+".":"";for(let G=0;G<W;++G){const Q=$[G];let K=Z[Q];const H=Y+Q;if(J[H]=!0,!Buffer.isBuffer(K)&&rm(K))K=K.toObject({transform:!1,virtuals:!1});if(em(K))om(K,Y+Q,J,X)}return X.trace.delete(Z),J},em=function(Z){return Z&&typeof Z==="object"&&!(Z instanceof Date)&&!sm(Z,"ObjectId")&&(!Array.isArray(Z)||Z.length!==0)&&!(Z instanceof Buffer)&&!sm(Z,"Decimal128")&&!(Z instanceof jA1)};/*!
 * Module dependencies.
 */var jA1=i6().Binary,sm=o8(),rm=Y3(),OA1=e1(),SA1=import.meta.require("util");kA1.flatten=tm;kA1.modifiedPaths=om;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var V0=R((yo1,Zu)=>{var mw=function(Z,Y){if(Z==null)return Z;if(Z instanceof Map)return Z.get(Y);return Z[Y]};Zu.exports=function Z(Y,J,X){let $,W=!1;if(typeof J==="string"){if(J.indexOf(".")===-1){const K=mw(Y,J);if(K==null)return X;return K}$=J.split(".")}else if(W=!0,$=J,$.length===1){const K=mw(Y,$[0]);if(K==null)return X;return K}let G=J,Q=Y;for(let K of $){if(Q==null)return X;if(!W&&Q[G]!=null)return Q[G];if(Q=mw(Q,K),!W)G=G.substr(K.length+1)}return Q==null?X:Q}});var uw=R((go1,Ju)=>{var Yu=o8();Ju.exports=function Z(Y,J){if(typeof Y==="string"&&typeof J==="string")return Y===J;if(typeof Y==="number"&&typeof J==="number")return Y===J;if(Yu(Y,"ObjectId")&&Yu(J,"ObjectId"))return Y.toString()===J.toString();return!1}});var hK=R((bo1,Xu)=>{var fA1=uw();Xu.exports=function Z(Y,J){if(Y==null||Y.discriminators==null)return null;for(let X of Object.keys(Y.discriminators)){const $=Y.discriminators[X];if($.discriminatorMapping==null)continue;if(fA1($.discriminatorMapping.value,J))return $}return null}});var Wu=R((vo1,$u)=>{var yA1=V0(),gA1=hK();$u.exports=function Z(Y,J,X){X=X||{};const $=X.typeOnly,W=Array.isArray(J)?J:J.indexOf(".")===-1?[J]:J.split(".");let G=null,Q="adhocOrUndefined";const K=gA1(Y.schema,Y.get(Y.schema.options.discriminatorKey))||Y.schema;for(let H=0;H<W.length;++H){const z=W.slice(0,H+1).join(".");if(G=K.path(z),G==null){Q="adhocOrUndefined";continue}if(G.instance==="Mixed")return $?"real":G;if(Q=K.pathType(z),(G.$isSingleNested||G.$isMongooseDocumentArrayElement)&&G.schema.discriminators!=null){const F=G.schema.discriminators,U=Y.get(z+"."+yA1(G,"schema.options.discriminatorKey"));if(U==null||F[U]==null)continue;const q=W.slice(H+1).join(".");return Z(Y.get(z),q,X)}}return $?Q:G}});var Qu=R((ho1,Gu)=>{var bA1=V0();Gu.exports=function Z(Y,J,X){const $=X!=null?Object.keys(bA1(Y.tree,X,{})):Object.keys(Y.tree),W=new Set(Object.keys(J));let G;if(W.size>1){G=new Set;for(let Q of $)if(W.has(Q))G.add(Q);for(let Q of W)if(!G.has(Q))G.add(Q);G=Array.from(G)}else G=Array.from(W);return G}});var Hu=R((mo1,Ku)=>{Ku.exports=function Z(Y,J){if(J.length===1)return;let X=J[0],$=void 0;for(let W=0;W<J.length-1;++W){const G=Y.path(X);if(G&&G.schema)$=G.schema.options.strict,Y=G.schema,X=G.$isMongooseDocumentArray&&!isNaN(J[W+1])?"":J[W+1];else X+=X.length?"."+J[W+1]:J[W+1]}return $}});var mK=R((uo1,zu)=>{var vA1=H1(),hA1=new Set(["__index","__parentArray","_doc"]);zu.exports=function Z(Y,J){if(vA1.isPOJO(Y)&&Y.$__!=null&&Y._doc!=null){if(J){const X={};for(let $ of Object.keys(Y)){if(typeof $==="symbol")continue;if($[0]==="$")continue;if(hA1.has($))continue;X[$]=Y[$]}return{...Y._doc,...X}}return Y._doc}return Y}});var kJ=R((do1,Fu)=>{/*!
 * ignore
 */Fu.exports=function Z(Y){if(Y==null)return!0;if(typeof Y==="object")return!("$meta"in Y)&&!("$slice"in Y);return!0}});var _J=R((co1,Uu)=>{var mA1=kJ();/*!
 * ignore
 */Uu.exports=function Z(Y){if(Y==null)return null;const J=Object.keys(Y);let X=J.length,$=null;if(X===1&&J[0]==="_id")$=!Y._id;else while(X--){const W=J[X];if(W!=="_id"&&mA1(Y[W])){$=Y[W]!=null&&typeof Y[W]==="object"?Z(Y[W]):!Y[W];break}}return $}});var dw=R((po1,qu)=>{var uA1=H1();qu.exports=function Z(Y,J){if(Y._id==null||J==null||J.length===0)return;const X=String(Y._id);for(let $ of J){if($.isVirtual)continue;const G=$.path.split(".");for(let Q=0;Q<G.length-1;++Q){const K=G.slice(0,Q+1).join("."),H=G.slice(Q+1).join("."),z=Y.get(K);if(z==null)continue;if(uA1.isMongooseDocumentArray(z)){for(let F=0;F<z.length;++F)if(z[F])z[F].populated(H,$._docs[X]==null?void 0:$._docs[X][F],$);break}}}}});var cw=R((lo1,Lu)=>{var Vu=function(Z){const Y=Object.keys(Z);let J=Y.length,X,$,W;while(J--){if($=Y[J],W=Z[$],dA1(W))Z[$]=Vu(W);if(Z[$]===void 0){delete Z[$];continue}X=!0}return X?Z:void 0},{isPOJO:dA1}=H1();Lu.exports=Vu});var wu=R((io1,Ru)=>{Ru.exports=function Z(Y,J,X,$,W){const G=Object.keys(Y).reduce((K,H)=>K||H.startsWith(J+"."),!1),Q=J+"."+X.options.discriminatorKey;if(!G&&W.length===1&&W[0]===Q)$.splice($.indexOf(Q),1)}});var u7=R((no1,Mu)=>{var cA1=uw();Mu.exports=function Z(Y,J){if(Y==null)return null;for(let X of Object.keys(Y)){const $=Y[X];if($.schema&&$.schema.discriminatorMapping&&cA1($.schema.discriminatorMapping.value,J))return $}return null}});var uK=R((ao1,Bu)=>{/*!
 * ignore
 */Bu.exports=function Z(Y,J){const X=J.split(".");let $="",W,G,Q;for(let K=0;K<X.length;++K)if($+=$.length?".":""+X[K],Y[$]){G=Object.keys(Y),Q=G.length;for(W=0;W<Q;++W)if(G[K].indexOf($+".")===0&&G[K].indexOf(J)!==0)continue;return!0}return!1}});var xJ=R((sA1)=>{var Nu=function(Z){return function(Y){if(Y.options||(Y.options={}),Z!=null&&Array.isArray(Z.virtuals))Z=Object.assign({},Z),Z.virtuals=Z.virtuals.filter((J)=>typeof J==="string"&&J.startsWith(Y.path+".")).map((J)=>J.slice(Y.path.length+1));Y.options.lean=Z}};/*!
 * Module dependencies
 */var pA1=wu(),Au=V0(),lA1=u7(),iA1=kJ(),nA1=N0(),aA1=uK();sA1.preparePopulationOptions=function Z(Y,J){const X=Y.options.populate,$=Object.keys(X).reduce((W,G)=>W.concat([X[G]]),[]);if(J.lean!=null)$.filter((W)=>(W&&W.options&&W.options.lean)==null).forEach(Nu(J.lean));return $.forEach((W)=>{W._localModel=Y.model}),$};sA1.preparePopulationOptionsMQ=function Z(Y,J){const X=Y._mongooseOptions.populate,$=Object.keys(X).reduce((Q,K)=>Q.concat([X[K]]),[]);if(J.lean!=null)$.filter((Q)=>(Q&&Q.options&&Q.options.lean)==null).forEach(Nu(J.lean));const W=Y&&Y.options&&Y.options.session||null;if(W!=null)$.forEach((Q)=>{if(Q.options==null){Q.options={session:W};return}if(!("session"in Q.options))Q.options.session=W});const G=Y._fieldsForExec();return $.forEach((Q)=>{Q._queryProjection=G}),$.forEach((Q)=>{Q._localModel=Y.model}),$};sA1.createModel=function Z(Y,J,X,$,W){Y.hooks.execPreSync("createModel",J);const G=Y.schema?Y.schema.discriminatorMapping:null,Q=G&&G.isRoot?G.key:null,K=J[Q];if(Q&&K&&Y.discriminators){const z=Y.discriminators[K]||lA1(Y.discriminators,K);if(z){const F=nA1($);return sA1.applyPaths(F,z.schema),new z(void 0,F,!0)}}const H={skipId:!0,isNew:!1,willInit:!0};if(W!=null&&"defaults"in W)H.defaults=W.defaults;return new Y(void 0,X,H)};/*!
 * ignore
 */sA1.createModelAndInit=function Z(Y,J,X,$,W,G,Q){const K=G?{populated:G}:void 0,H=sA1.createModel(Y,J,X,$,W);try{H.$init(J,K,Q)}catch(z){Q(z,H)}};/*!
 * ignore
 */sA1.applyPaths=function Z(Y,J){let X,$;const W=new Set;if(Y){$=Object.keys(Y);const F=[];for(let U=0;U<$.length;++U){const q=$[U];if($[U][0]!=="-")continue;if(delete Y[q],q==="-_id")Y._id=0;else F.push(q.slice(1))}$=Object.keys(Y);for(let U=0;U<$.length;++U){if($[U][0]==="+")continue;const q=Y[$[U]];if(!iA1(q))continue;if($[U]==="_id"&&$.length>1)continue;X=!q;break}for(let U of F){const q=J.path(U);if(!q||!q.selected||X!==!1)Y[U]=0,X=!0;else if(q&&q.selected&&X===!1)W.add(U)}}const G=[],Q=[],K=[];switch(H(J),X){case!0:for(let F of Q)Y[F]=0;break;case!1:if(J&&J.paths._id&&J.paths._id.options&&J.paths._id.options.select===!1)Y._id=0;for(let F of G){if(W.has(F))continue;if(aA1(Y,F))continue;Y[F]=Y[F]||1}break;case void 0:if(Y==null)break;for(let F of Object.keys(Y||{}))if(F.startsWith("+"))delete Y[F];for(let F of Q){if(Y[F]!=null)continue;Y[F]=0}break}function H(F,U){if(U||(U=""),K.indexOf(F)!==-1)return[];K.push(F);const q=[];return F.eachPath(function(V,L){if(U)V=U+"."+V;if(L.$isSchemaMap||V.endsWith(".$*")){const B="+"+V,A=Y&&B in Y;if(L.options&&L.options.select===!1&&!A)Q.push(V);return}let w=z(V,L);if(w==null&&!Array.isArray(L)&&L.$isMongooseArray&&!L.$isMongooseDocumentArray)w=z(V,L.caster);if(w!=null)q.push(w);if(L.schema){const B=H(L.schema,V);if(X===!1)pA1(Y,V,L.schema,G,B)}}),K.pop(),q}function z(F,U){if(Y==null)return;if(typeof U.selected!=="boolean")return;if(U.selected===!1&&Y[F])return;if(!X&&U.selected&&F===J.options.discriminatorKey&&Y[F]!=null&&!Y[F]){delete Y[F];return}if(X===!1&&U.selected&&Y[F]!=null&&!Y[F]){delete Y[F];return}const q="+"+F;if(Y&&q in Y){if(delete Y[q],X===!1&&$.length>1&&!~$.indexOf(F))Y[F]=1;return}const L=F.split(".");let w="";for(let B=0;B<L.length;++B)if(w+=w.length?"."+L[B]:L[B],Q.indexOf(w)!==-1)return;if(!X&&(U&&U.options&&U.options.$skipDiscriminatorCheck||!1)){let B="";for(let A=0;A<L.length;++A){B+=(B.length===0?"":".")+L[A];const M=Au(Y,B,!1)||Au(Y,B+".$",!1);if(M&&typeof M!=="object")return}}return(U.selected?G:Q).push(F),F}}});var Pu=R((ro1,Du)=>{var ZN1=function(Z){return!!Z&&(typeof Z==="object"||typeof Z==="function")&&typeof Z.then==="function"};Du.exports=ZN1});var dK=R((to1,Tu)=>{var YN1=/\./g;Tu.exports=function Z(Y){if(Y.indexOf(".")===-1)return[Y];const J=Y.split(YN1),X=J.length,$=new Array(X);let W="";for(let G=0;G<X;++G)W+=W.length!==0?"."+J[G]:J[G],$[G]=W;return $}});var Eu=R((oo1,Cu)=>{Cu.exports=function Z(Y,J,X){let $=J[0],W=X,G=Y;for(let Q=0;Q<J.length-1;++Q){const K=W.path($);if(K&&K.schema){let H=G.get($);if(W=K.schema,$=J[Q+1],Array.isArray(H)&&!isNaN($))H=H[$],$="";if(H==null)break;G=H}else $+=$.length?"."+J[Q+1]:J[Q+1]}return G}});var cK=R((eo1,Ou)=>{var J0=function(Z,Y,J,X,$){if(typeof X==="object"&&X!=null&&$==null)$=X,X=void 0;if(J!=null){const W={isNew:J.isNew};if("defaults"in J.$__)W.defaults=J.$__.defaults;$=Object.assign(W,$)}if($!=null&&$.path!=null)this.$basePath=$.path;GZ.call(this,Z,Y,X,$),delete this.$__.priorDoc},WN1=function(Z){let Y=Z.ownerDocument();function J(){Y.$removeListener("save",J),Y.$removeListener("deleteOne",J),Z.emit("deleteOne",Z),Z.constructor.emit("deleteOne",Z),Y=Z=null}Y.$on("save",J),Y.$on("deleteOne",J)},GZ=H6(),JN1=I6(),XN1=M4().internalToObjectOptions,ju=import.meta.require("util"),$N1=H1();Ou.exports=J0;J0.prototype=Object.create(GZ.prototype);Object.defineProperty(J0.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0});Object.defineProperty(J0.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0});/*!
 * ignore
 */J0.prototype.toBSON=function(){return this.toObject(XN1)};J0.prototype.save=async function Z(Y){if(Y=Y||{},!Y.suppressWarning)$N1.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you\'re sure this behavior is right for your app.");return new Promise((J,X)=>{this.$__save(($)=>{if($!=null)return X($);J(this)})})};J0.prototype.$__fullPath=function(Z){if(!this.$__.fullPath)this.ownerDocument();return Z?this.$__.fullPath+"."+Z:this.$__.fullPath};J0.prototype.$__pathRelativeToParent=function(Z){if(Z==null)return this.$basePath;return[this.$basePath,Z].join(".")};J0.prototype.$__save=function(Z){return JN1(()=>Z(null,this))};/*!
 * ignore
 */J0.prototype.$isValid=function(Z){const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)return Y.$isValid(J);return GZ.prototype.$isValid.call(this,Z)};/*!
 * ignore
 */J0.prototype.markModified=function(Z){GZ.prototype.markModified.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y==null||J==null)return;const X=this.$__pathRelativeToParent().replace(/\.$/,"");if(Y.isDirectModified(X)||this.isNew)return;this.$__parent.markModified(J,this)};/*!
 * ignore
 */J0.prototype.isModified=function(Z,Y){const J=this.$parent();if(J!=null){if(Array.isArray(Z)||typeof Z==="string")Z=Array.isArray(Z)?Z:Z.split(" "),Z=Z.map((X)=>this.$__pathRelativeToParent(X)).filter((X)=>X!=null);else if(!Z)Z=this.$__pathRelativeToParent();return J.$isModified(Z,Y)}return GZ.prototype.isModified.call(this,Z,Y)};J0.prototype.$markValid=function(Z){GZ.prototype.$markValid.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)Y.$markValid(J)};/*!
 * ignore
 */J0.prototype.invalidate=function(Z,Y,J){GZ.prototype.invalidate.call(this,Z,Y,J);const X=this.$parent(),$=this.$__pathRelativeToParent(Z);if(X!=null&&$!=null)X.invalidate($,Y,J);else if(Y.kind==="cast"||Y.name==="CastError"||$==null)throw Y;return this.ownerDocument().$__.validationError};/*!
 * ignore
 */J0.prototype.$ignore=function(Z){GZ.prototype.$ignore.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)Y.$ignore(J)};J0.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;let Z=this;const Y=[],J=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;Y.unshift(Z.$__pathRelativeToParent(void 0,!0));const X=Z.$parent();if(X==null)break;if(Z=X,J.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");J.add(Z)}return this.$__.fullPath=Y.join("."),this.$__.ownerDocument=Z,this.$__.ownerDocument};/*!
 * ignore
 */J0.prototype.$__fullPathWithIndexes=function(){let Z=this;const Y=[],J=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;Y.unshift(Z.$__pathRelativeToParent(void 0,!1));const X=Z.$parent();if(X==null)break;if(Z=X,J.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");J.add(Z)}return Y.join(".")};J0.prototype.parent=function(){return this.$__parent};J0.prototype.$parent=J0.prototype.parent;J0.prototype.$__deleteOne=function(Z){if(Z==null)return;return Z(null,this)};J0.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)};J0.prototype.deleteOne=function(Z,Y){if(typeof Z==="function")Y=Z,Z=null;if(WN1(this),!Z||!Z.noop)this.$__removeFromParent();return this.$__deleteOne(Y)};/*!
 * ignore
 */J0.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')};J0.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})};if(ju.inspect.custom)J0.prototype[ju.inspect.custom]=J0.prototype.inspect});var fJ=R((Ze1,_u)=>{var z6=function(Z,Y,J,X,$){if(GN1.isMongooseDocumentArray(Y))this.__parentArray=Y,this[B$]=Y.$parent();else this.__parentArray=void 0,this[B$]=void 0;this.$setIndex($),this.$__parent=this[B$];let W;if(typeof J==="object"&&J!=null)W={isNew:!0,...J},J=void 0;else W={isNew:!0};ku.call(this,Z,X,this[B$],J,W)};/*!
 * Module dependencies.
 */var Su=import.meta.require("events").EventEmitter,ku=cK(),GN1=H1(),B$=$1().documentArrayParent;/*!
 * Inherit from Subdocument
 */z6.prototype=Object.create(ku.prototype);z6.prototype.constructor=z6;Object.defineProperty(z6.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1});Object.defineProperty(z6.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0});for(let Z in Su.prototype)z6[Z]=Su.prototype[Z];/*!
 * ignore
 */z6.prototype.$setIndex=function(Z){if(this.__index=Z,this.$__!=null&&this.$__.validationError!=null){const Y=Object.keys(this.$__.validationError.errors);for(let J of Y)this.invalidate(J,this.$__.validationError.errors[J])}};/*!
 * ignore
 */z6.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')};/*!
 * ignore
 */z6.prototype.$__removeFromParent=function(){const Z=this._doc._id;if(!Z)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:Z})};z6.prototype.$__fullPath=function(Z,Y){if(this.__index==null)return null;if(!this.$__.fullPath)this.ownerDocument();if(Y)return Z?this.$__.fullPath+"."+Z:this.$__.fullPath;return Z?this.$__.fullPath+"."+this.__index+"."+Z:this.$__.fullPath+"."+this.__index};z6.prototype.$__pathRelativeToParent=function(Z,Y){if(this.__index==null)return null;if(Y)return Z==null?this.__parentArray.$path():this.__parentArray.$path()+"."+Z;if(Z==null)return this.__parentArray.$path()+"."+this.__index;return this.__parentArray.$path()+"."+this.__index+"."+Z};z6.prototype.$parent=function(){return this[B$]};z6.prototype.parentArray=function(){return this.__parentArray};/*!
 * Module exports.
 */_u.exports=z6});var iK=R((Ye1,hu)=>{var HN1=function(Z,Y){if(!Y)return!1;for(let J of Z){if(J==null)return!1;const X=J.constructor;if(!(J instanceof nw)||X.modelName!==Y&&X.baseModelName!==Y)return!1}return!0},vu=function(Z,Y,J){if(typeof Y==="string"){if(Y.indexOf(".")===-1)return;Y=gu.stringToParts(Y)}if(J=J||0,J>=Y.length)return;if(Z==null||typeof Z!=="object")return;if(vu(Z[Y[0]],Y,J+1),Z[Y[0]]!=null&&typeof Z[Y[0]]==="object"&&Object.keys(Z[Y[0]]).length===0)delete Z[Y[0]]},pK=function(Z,Y){const J=Z==null?null:Z[B4]&&Z[B4].caster&&Z[B4].caster.options&&Z[B4].caster.options.ref||null;if(Z.length===0&&Y.length!==0){if(HN1(Y,J))Z[QZ].$populated(Z[KZ],[],{[bu]:Y[0].constructor})}},nw=H6(),pw=fJ(),lw=z0(),xu=hw(),QN1=N0(),fu=M4().internalToObjectOptions,gu=v7(),F6=H1(),iw=o8(),o4=$1().arrayAtomicsSymbol,QZ=$1().arrayParentSymbol,KZ=$1().arrayPathSymbol,B4=$1().arraySchemaSymbol,bu=$1().populateModelSymbol,KN1=Symbol("mongoose#Array#sliced"),yu=Array.prototype.push;/*!
 * ignore
 */var lK={$__getAtomics(){const Z=[],Y=Object.keys(this[o4]||{});let J=Y.length;const X=Object.assign({},fu,{_isNested:!0});if(J===0)return Z[0]=["$set",this.toObject(X)],Z;while(J--){const $=Y[J];let W=this[o4][$];if(F6.isMongooseObject(W))W=W.toObject(X);else if(Array.isArray(W))W=this.toObject.call(W,X);else if(W!=null&&Array.isArray(W.$each))W.$each=this.toObject.call(W.$each,X);else if(W!=null&&typeof W.valueOf==="function")W=W.valueOf();if($==="$addToSet")W={$each:W};Z.push([$,W])}return Z},$atomics(){/*!
   * ignore
   */return this[o4]},$parent(){/*!
   * ignore
   */return this[QZ]},$path(){/*!
   * ignore
   */return this[KZ]},$shift(){this._registerAtomic("$pop",-1),this._markModified();const Z=this.__array;if(Z._shifted)return;return Z._shifted=!0,[].shift.call(Z)},$pop(){if(this._registerAtomic("$pop",1),this._markModified(),this._popped)return;return this._popped=!0,[].pop.call(this)},$schema(){/*!
   * ignore
   */return this[B4]},_cast(Z){let Y=!1,J;const X=this[QZ];if(X)Y=X.$populated(this[KZ],!0);if(Y&&Z!==null&&Z!==void 0){if(J=Y.options[bu],J==null)throw new lw("No populated model found for path `"+this[KZ]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");if(Buffer.isBuffer(Z)||iw(Z,"ObjectId")||!F6.isObject(Z))Z={_id:Z};if(!(Z.schema&&Z.schema.discriminatorMapping&&Z.schema.discriminatorMapping.key!==void 0))Z=new J(Z);return this[B4].caster.applySetters(Z,X,!0)}return this[B4].caster.applySetters(Z,X,!1)},_mapCast(Z,Y){return this._cast(Z,this.length+Y)},_markModified(Z){const Y=this[QZ];let J;if(Y){if(J=this[KZ],arguments.length)J=J+"."+Z;if(J!=null&&J.endsWith(".$"))return this;Y.markModified(J,arguments.length!==0?Z:Y)}return this},_registerAtomic(Z,Y){if(this[KN1])return;if(Z==="$set")return this[o4]={$set:Y},xu(this[QZ],this[KZ]),this._markModified(),this;const J=this[o4];if(Z==="$pop"&&!("$pop"in J)){const $=this;this[QZ].once("save",function(){$._popped=$._shifted=null})}if(J.$set||Object.keys(J).length&&!(Z in J))return this[o4]={$set:this},this;let X;if(Z==="$pullAll"||Z==="$addToSet")J[Z]||(J[Z]=[]),J[Z]=J[Z].concat(Y);else if(Z==="$pullDocs"){const $=J.$pull||(J.$pull={});if(Y[0]instanceof pw)X=$.$or||($.$or=[]),Array.prototype.push.apply(X,Y.map((W)=>{return W.toObject({transform:(G,Q)=>{if(W==null||W.$__==null)return Q;return Object.keys(W.$__.activePaths.getStatePaths("default")).forEach((K)=>{gu.unset(K,Q),vu(Q,K)}),Q},virtuals:!1})}));else X=$._id||($._id={$in:[]}),X.$in=X.$in.concat(Y)}else if(Z==="$push")if(J.$push=J.$push||{$each:[]},Y!=null&&F6.hasUserDefinedProperty(Y,"$each"))J.$push=Y;else if(Y.length===1)J.$push.$each.push(Y[0]);else if(Y.length<1e4)J.$push.$each.push(...Y);else for(let $ of Y)J.$push.$each.push($);else J[Z]=Y;return this},addToSet(){pK(this,arguments);const Z=[].map.call(arguments,this._mapCast,this),Y=[];let J="";if(Z[0]instanceof pw)J="doc";else if(Z[0]instanceof Date)J="date";else if(iw(Z[0],"ObjectId"))J="ObjectId";const X=F6.isMongooseArray(Z)?Z.__array:Z,$=F6.isMongooseArray(this)?this.__array:this;return X.forEach(function(W){let G;const Q=+W;switch(J){case"doc":G=this.some(function(K){return K.equals(W)});break;case"date":G=this.some(function(K){return+K===Q});break;case"ObjectId":G=this.find((K)=>K.toString()===W.toString());break;default:G=~this.indexOf(W);break}if(!G)this._markModified(),$.push(W),this._registerAtomic("$addToSet",W),[].push.call(Y,W)},this),Y},hasAtomics(){if(!F6.isPOJO(this[o4]))return 0;return Object.keys(this[o4]).length},includes(Z,Y){return this.indexOf(Z,Y)!==-1},indexOf(Z,Y){if(iw(Z,"ObjectId"))Z=Z.toString();Y=Y==null?0:Y;const J=this.length;for(let X=Y;X<J;++X)if(Z==this[X])return X;return-1},inspect(){return JSON.stringify(this)},nonAtomicPush(){const Z=[].map.call(arguments,this._mapCast,this);this._markModified();const Y=[].push.apply(this,Z);return this._registerAtomic("$set",this),Y},pop(){this._markModified();const Z=[].pop.call(this);return this._registerAtomic("$set",this),Z},pull(){const Z=[].map.call(arguments,($,W)=>this._cast($,W,{defaults:!1}),this),Y=this[QZ].get(this[KZ]);let J=Y.length,X;this._markModified();while(J--)if(X=Y[J],X instanceof nw){if(Z.some(function(W){return X.equals(W)}))[].splice.call(Y,J,1)}else if(~Y.indexOf.call(Z,X))[].splice.call(Y,J,1);if(Z[0]instanceof pw)this._registerAtomic("$pullDocs",Z.map(function($){const W=$.$__getValue("_id");if(W===void 0||$.$isDefault("_id"))return $;return W}));else this._registerAtomic("$pullAll",Z);if(xu(this[QZ],this[KZ])>0)this._registerAtomic("$set",this);return this},push(){let Z=arguments,Y=Z;const J=Z[0]!=null&&F6.hasUserDefinedProperty(Z[0],"$each"),X=F6.isMongooseArray(this)?this.__array:this;if(J)Y=Z[0],Z=Z[0].$each;if(this[B4]==null)return yu.apply(this,Z);pK(this,Z),Z=[].map.call(Z,this._mapCast,this);let $;const W=this[o4];if(this._markModified(),J){if(Y.$each=Z,(W.$push&&W.$push.$each&&W.$push.$each.length||0)!==0&&W.$push.$position!=Y.$position)throw new lw("Cannot call `Array#push()` multiple times with different `$position`");if(Y.$position!=null)[].splice.apply(X,[Y.$position,0].concat(Z)),$=this.length;else $=[].push.apply(X,Z)}else{if((W.$push&&W.$push.$each&&W.$push.$each.length||0)!==0&&W.$push.$position!=null)throw new lw("Cannot call `Array#push()` multiple times with different `$position`");Y=Z,$=yu.apply(X,Z)}return this._registerAtomic("$push",Y),$},remove(){return this.pull.apply(this,arguments)},set(Z,Y,J){const X=this.__array;if(J)return X[Z]=Y,this;const $=lK._cast.call(this,Y,Z);return lK._markModified.call(this,Z),X[Z]=$,this},shift(){const Z=F6.isMongooseArray(this)?this.__array:this;this._markModified();const Y=[].shift.call(Z);return this._registerAtomic("$set",this),Y},sort(){const Z=F6.isMongooseArray(this)?this.__array:this,Y=[].sort.apply(Z,arguments);return this._registerAtomic("$set",this),Y},splice(){let Z;const Y=F6.isMongooseArray(this)?this.__array:this;if(this._markModified(),pK(this,Array.prototype.slice.call(arguments,2)),arguments.length){let J;if(this[B4]==null)J=arguments;else{J=[];for(let X=0;X<arguments.length;++X)J[X]=X<2?arguments[X]:this._cast(arguments[X],arguments[0]+(X-2))}Z=[].splice.apply(Y,J),this._registerAtomic("$set",this)}return Z},toBSON(){/*!
   * ignore
   */return this.toObject(fu)},toObject(Z){const Y=F6.isMongooseArray(this)?this.__array:this;if(Z&&Z.depopulate)return Z=QN1(Z),Z._isNested=!0,[].concat(Y).map(function(J){return J instanceof nw?J.toObject(Z):J});return[].concat(Y)},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift(){pK(this,arguments);let Z;if(this[B4]==null)Z=arguments;else Z=[].map.call(arguments,this._cast,this);const Y=F6.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(Y,Z),this._registerAtomic("$set",this),this.length}};/*!
 * ignore
 *//*!
 * Minimize _just_ empty objects along the path chain specified
 * by `parts`, ignoring all other paths. Useful in cases where
 * you want to minimize after unsetting a path.
 *
 * #### Example:
 *
 *     const obj = { foo: { bar: { baz: {} } }, a: {} };
 *     _minimizePath(obj, 'foo.bar.baz');
 *     obj; // { a: {} }
 *//*!
 * ignore
 */var zN1=["filter","flat","flatMap","map","slice"];for(let Z of zN1){if(Array.prototype[Z]==null)continue;lK[Z]=function(){const Y=F6.isMongooseArray(this)?this.__array:this,J=[].concat(Y);return J[Z].apply(J,arguments)}}hu.exports=lK});var sw=R((pu,lu)=>{var VN1=function(Z,Y,J,X){let $;if(Array.isArray(Z)){const Q=Z.length;if(Q===0)$=new Array;else if(Q===1)$=new Array(1),$[0]=Z[0];else if(Q<1e4)$=new Array,du.apply($,Z);else{$=new Array;for(let K=0;K<Q;++K)du.call($,Z[K])}}else $=[];const W={[nK]:{},[UN1]:void 0,[qN1]:Y,[uu]:X,[mu]:void 0,isMongooseArray:!0,isMongooseArrayProxy:!0,__array:$};if(Z&&Z[nK]!=null)W[nK]=Z[nK];if(J!=null&&J instanceof FN1)W[mu]=J,W[uu]=X||J.schema.path(Y);const G=new Proxy($,{get:function(Q,K){if(W.hasOwnProperty(K))return W[K];if(aw.hasOwnProperty(K))return aw[K];if(typeof K==="string"&&cu.test(K)&&X?.$embeddedSchemaType!=null)return X.$embeddedSchemaType.applyGetters($[K],J);return $[K]},set:function(Q,K,H){if(typeof K==="string"&&cu.test(K))aw.set.call(G,K,H,!1);else if(W.hasOwnProperty(K))W[K]=H;else $[K]=H;return!0}});return G};/*!
 * Module dependencies.
 */var FN1=H6(),aw=iK(),nK=$1().arrayAtomicsSymbol,UN1=$1().arrayAtomicsBackupSymbol,mu=$1().arrayParentSymbol,qN1=$1().arrayPathSymbol,uu=$1().arraySchemaSymbol,du=Array.prototype.push,cu=/^\d+$/;/*!
 * Module exports.
 */lu.exports=pu=VN1});var tw=R((Je1,nu)=>{var iu=o8(),rw=y4();nu.exports=function Z(Y){if(Y==null)return Y;if(iu(Y,"ObjectId"))return Y;if(Y._id){if(iu(Y._id,"ObjectId"))return Y._id;if(Y._id.toString instanceof Function)return new rw(Y._id.toString())}if(Y.toString instanceof Function)return new rw(Y.toString());return new rw(Y)}});var tu=R((Xe1,ru)=>{var rK=function(Z){const Y=Z[tK];if(!Y||Y.$__.populated==null)return;const J=Object.keys(Y.$__.populated).filter((X)=>X.startsWith(Z[ZM]+"."));for(let X of J){const $=X.slice((Z[ZM]+".").length);if(!Array.isArray(Y.$__.populated[X].value))continue;Y.$__.populated[X].value=Z.map((W)=>W.$populated($))}},aK=iK(),LN1=H6(),RN1=tw(),au=u7(),wN1=M4().internalToObjectOptions,sK=H1(),ow=o8(),tK=$1().arrayParentSymbol,ZM=$1().arrayPathSymbol,ew=$1().arraySchemaSymbol,su=$1().documentArrayParent,YM={toBSON(){/*!
   * ignore
   */return this.toObject(wN1)},getArrayParent(){/*!
   * ignore
   */return this[tK]},_cast(Z,Y,J){if(this[ew]==null)return Z;let X=this[ew].casterConstructor;if((X.$isMongooseDocumentArray?sK.isMongooseDocumentArray(Z):Z instanceof X)||Z&&Z.constructor&&Z.constructor.baseCasterConstructor===X){if(!(Z[su]&&Z.__parentArray))Z[su]=this[tK],Z.__parentArray=this;return Z.$setIndex(Y),Z}if(Z===void 0||Z===null)return null;if(Buffer.isBuffer(Z)||ow(Z,"ObjectId")||!sK.isObject(Z))Z={_id:Z};if(Z&&X.discriminators&&X.schema&&X.schema.options&&X.schema.options.discriminatorKey)if(typeof Z[X.schema.options.discriminatorKey]==="string"&&X.discriminators[Z[X.schema.options.discriminatorKey]])X=X.discriminators[Z[X.schema.options.discriminatorKey]];else{const G=au(X.discriminators,Z[X.schema.options.discriminatorKey]);if(G)X=G}if(X.$isMongooseDocumentArray)return X.cast(Z,this,void 0,void 0,Y);const W=new X(Z,this,J,void 0,Y);return W.isNew=!0,W},id(Z){let Y,J,X;try{Y=RN1(Z).toString()}catch($){Y=null}for(let $ of this){if(!$)continue;if(X=$.get("_id"),X===null||typeof X==="undefined")continue;else if(X instanceof LN1){if(J||(J=String(Z)),J==X._id)return $}else if(!ow(Z,"ObjectId")&&!ow(X,"ObjectId")){if(Z==X||sK.deepEqual(Z,X))return $}else if(Y==X)return $}return null},toObject(Z){return[].concat(this.map(function(Y){if(Y==null)return null;if(typeof Y.toObject!=="function")return Y;return Y.toObject(Z)}))},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},push(){const Z=aK.push.apply(this,arguments);return rK(this),Z},pull(){const Z=aK.pull.apply(this,arguments);return rK(this),Z},shift(){const Z=aK.shift.apply(this,arguments);return rK(this),Z},splice(){const Z=aK.splice.apply(this,arguments);return rK(this),Z},inspect(){return this.toObject()},create(Z){let Y=this[ew].casterConstructor;if(Z&&Y.discriminators&&Y.schema&&Y.schema.options&&Y.schema.options.discriminatorKey)if(typeof Z[Y.schema.options.discriminatorKey]==="string"&&Y.discriminators[Z[Y.schema.options.discriminatorKey]])Y=Y.discriminators[Z[Y.schema.options.discriminatorKey]];else{const J=au(Y.discriminators,Z[Y.schema.options.discriminatorKey]);if(J)Y=J}return new Y(Z,this)},notify(Z){/*!
   * ignore
   */const Y=this;return function J(X,$){$=$||Y;let W=$.length;while(W--){if($[W]==null)continue;switch(Z){case"save":X=Y[W];break;default:break}if(sK.isMongooseArray($[W]))J(X,$[W]);else if($[W])$[W].emit(Z,X)}}},set(Z,Y,J){const X=this.__array;if(J)return X[Z]=Y,this;const $=YM._cast.call(this,Y,Z);return YM._markModified.call(this,Z),X[Z]=$,this},_markModified(Z,Y){const J=this[tK];let X;if(J){if(X=this[ZM],arguments.length)if(Y!=null){const $=Z.__index;X=X+"."+$+"."+Y}else X=X+"."+Z;if(X!=null&&X.endsWith(".$"))return this;J.markModified(X,arguments.length!==0?Z:J)}return this}};ru.exports=YM});var S9=R(($e1,eu)=>{var IN1=function(Z,Y,J){const X=[],$={[XM]:{},[BN1]:void 0,[WM]:Y,[O9]:void 0,[$M]:void 0};if(Array.isArray(Z)){if(Z[WM]===Y&&Z[$M]===J)$[XM]=Object.assign({},Z[XM]);Z.forEach((G)=>{AN1.call(X,G)})}if($[WM]=Y,$.__array=X,J&&J instanceof MN1){$[$M]=J,$[O9]=J.$__schema.path(Y);while($[O9]!=null&&$[O9].$isMongooseArray&&!$[O9].$isMongooseDocumentArray)$[O9]=$[O9].casterConstructor}const W=new Proxy(X,{get:function(G,Q){if(Q==="isMongooseArray"||Q==="isMongooseArrayProxy"||Q==="isMongooseDocumentArray"||Q==="isMongooseDocumentArrayProxy")return!0;if($.hasOwnProperty(Q))return $[Q];if(JM.hasOwnProperty(Q))return JM[Q];if(ou.hasOwnProperty(Q))return ou[Q];return X[Q]},set:function(G,Q,K){if(typeof Q==="string"&&NN1.test(Q))JM.set.call(W,Q,K,!1);else if($.hasOwnProperty(Q))$[Q]=K;else X[Q]=K;return!0}});return W};/*!
 * Module dependencies.
 */var ou=iK(),JM=tu(),MN1=H6(),XM=$1().arrayAtomicsSymbol,BN1=$1().arrayAtomicsBackupSymbol,$M=$1().arrayParentSymbol,WM=$1().arrayPathSymbol,O9=$1().arraySchemaSymbol,AN1=Array.prototype.push,NN1=/^\d+$/;/*!
 * Module exports.
 */eu.exports=IN1});var H6=R((wd,Md)=>{var m=function(Z,Y,J,X){if(typeof J==="object"&&J!=null)X=J,J=X.skipId;if(X=Object.assign({},X),this.$__schema==null){const H=I1.isObject(Y)&&!Y.instanceOfSchema?new CN1(Y):Y;this.$__setSchema(H),Y=J,J=X,X=arguments[4]||{}}if(this.$__=new DN1,X.isNew!=null&&X.isNew!==!0)this.$isNew=X.isNew;if(X.priorDoc!=null)this.$__.priorDoc=X.priorDoc;if(J)this.$__.skipId=J;if(Z!=null&&typeof Z!=="object")throw new TN1(Z,"obj","Document");let $=!0;if(X.defaults!==void 0)this.$__.defaults=X.defaults,$=X.defaults;const W=this.$__schema;if(typeof Y==="boolean"||Y==="throw"){if(Y!==!0)this.$__.strictMode=Y;Y=void 0}else if(W.options.strict!==!0)this.$__.strictMode=W.options.strict;const G=W.requiredPaths(!0);for(let H of G)this.$__.activePaths.require(H);let Q=null;if(I1.isPOJO(Y)&&Object.keys(Y).length>0)Q=xN1(Y),this.$__.selected=Y,this.$__.exclude=Q;const K=Q===!1&&Y?Kd(Y):null;if(this._doc==null){if(this.$__buildDoc(Z,Y,J,Q,K,!1),$)zM(this,Y,Q,K,!0,null)}if(Z){if(this.$__original_set)this.$__original_set(Z,void 0,!0,X);else this.$set(Z,void 0,!0,X);if(Z instanceof m)this.$isNew=Z.$isNew}if(X.willInit&&$){if(X.skipDefaults)this.$__.skipDefaults=X.skipDefaults}else if($)zM(this,Y,Q,K,!1,X.skipDefaults);if(!this.$__.strictMode&&Z){const H=this;Object.keys(this._doc).forEach(function(F){if(!(F in W.tree)&&!(F in W.methods)&&!(F in W.virtuals)&&!F.startsWith("$"))jN1({prop:F,subprops:null,prototype:H})})}Z21(this)},nN1=function(Z,Y,J){if(Z==null)return;const X=Object.keys(J.$__schema.paths),$=X.length,W=Y.indexOf(".")===-1?[Y]:Y.split(".");for(let G=0;G<$;++G){let Q="";const K=X[G];if(!K.startsWith(Y+"."))continue;const H=J.$__schema.paths[K],z=H.splitPath().slice(W.length),F=z.length;if(H.defaultValue===void 0)continue;let U=Z;for(let q=0;q<F;++q){if(U==null)break;const V=z[q];if(q===F-1){if(U[V]!==void 0)break;try{const L=H.getDefault(J,!1);if(L!==void 0)U[V]=L}catch(L){J.invalidate(Y+"."+Q,L);break}break}Q+=(!Q.length?"":".")+V,U[V]=U[V]||{},U=U[V]}}},qd=function(Z,Y,J,X,$){if($=$||"",Y.$__!=null)Y=Y._doc;const W=Object.keys(Y),G=W.length;let Q,K,H,z=0;const F=Z.$__.strictMode,U=Z.$__schema;while(z<G)q(z++);function q(V){if(H=W[V],H==="__proto__"||H==="constructor")return;if(K=$+H,Q=U.path(K),U.$isRootDiscriminator&&!Z.$__isSelected(K))return;if(!Q&&I1.isPOJO(Y[H])){if(!J[H]){if(J[H]={},!F&&!(H in U.tree)&&!(H in U.methods)&&!(H in U.virtuals))Z[H]=J[H]}qd(Z,Y[H],J[H],X,K+".")}else if(!Q){if(J[H]=Y[H],!F&&!$)Z[H]=Y[H]}else{if(J.hasOwnProperty(H)&&Y[H]!==void 0)delete J[H];if(Y[H]===null)J[H]=Q._castNullish(null);else if(Y[H]!==void 0){const L=Y[H].$__==null?null:Y[H].$__.wasPopulated;if(Q&&!L)try{if(X&&X.setters)J[H]=Q.applySetters(Y[H],Z,!1);else J[H]=Q.cast(Y[H],Z,!0)}catch(w){Z.invalidate(w.path,new Qd({path:w.path,message:w.message,type:"cast",value:w.value,reason:w}))}else J[H]=Y[H]}if(!Z.$isModified(K))Z.$__.activePaths.init(K)}}},aN1=function(Z,Y){if(!Array.isArray(Z))return!1;if(Z.length===0)return!1;for(let J of Z){if(!(J instanceof m))return!1;if(J.constructor.modelName==null)return!1;if(J.constructor.modelName!=Y&&J.constructor.baseModelName!=Y)return!1}return!0},Vd=function(Z){if(Z==null)return!0;if(typeof Z!=="object"||Array.isArray(Z))return!1;for(let Y of Object.keys(Z))if(!Vd(Z[Y]))return!1;return!0},sN1=function(Z){const Y=Object.keys(Z.$__.activePaths.getStatePaths("require"));let J=0;const X=Y.length;for(J=0;J<X;++J){const $=Y[J],W=Z.$__schema.path($);if(W!=null&&typeof W.originalRequiredValue==="function"){Z.$__.cachedRequired=Z.$__.cachedRequired||{};try{Z.$__.cachedRequired[$]=W.originalRequiredValue.call(Z,Z)}catch(G){Z.invalidate($,G)}}}},Ld=function(Z,Y,J){const X={};sN1(Z);let $=new Set(Object.keys(Z.$__.activePaths.getStatePaths("require")).filter(function(z){if(!Z.$__isSelected(z)&&!Z.$isModified(z))return!1;if(Z.$__.cachedRequired!=null&&z in Z.$__.cachedRequired)return Z.$__.cachedRequired[z];return!0}));Object.keys(Z.$__.activePaths.getStatePaths("init")).forEach(W),Object.keys(Z.$__.activePaths.getStatePaths("modify")).forEach(W),Object.keys(Z.$__.activePaths.getStatePaths("default")).forEach(W);function W(z){$.add(z)}const G=Z.$getAllSubdocs(),Q=Z.modifiedPaths();for(let z of G)if(z.$basePath){const F=z.$isSingleNested?z.$__pathRelativeToParent():z.$__fullPathWithIndexes();for(let U of z.modifiedPaths())$.delete(F+"."+U);if(Z.$isModified(F,Q)&&!Z.isDirectModified(F)&&!Z.$isDefault(F)){if($.add(F),Z.$__.pathsToScopes==null)Z.$__.pathsToScopes={};if(Z.$__.pathsToScopes[F]=z.$isDocumentArrayElement?z.__parentArray:z.$parent(),X[F]={skipSchemaValidators:!0},z.$isDocumentArrayElement&&z.__index!=null)X[F].index=z.__index}}for(let z of $){const F=Z.$__schema.path(z);if(!F)continue;if(F.$isMongooseDocumentArray){for(let U of $)if(U==null||U.startsWith(F.path+"."))$.delete(U)}if(!F.caster&&F.validators.length===0&&!F.$parentSchemaDocArray)$.delete(z);else if(F.$isMongooseArray&&!F.$isMongooseDocumentArray&&!F.$embeddedSchemaType.$isMongooseArray&&F.validators.length===0&&F.$embeddedSchemaType.validators.length===0)$.delete(z)}for(let z of $)if(Z.$__schema.singleNestedPaths.hasOwnProperty(z)){$.delete(z);continue}if(Array.isArray(Y))$=rN1($,Y);else if(Array.isArray(J))$=tN1($,J);for(let z of $){const F=Z.$__schema.path(z);if(!F)continue;if(!F.$isMongooseArray||!Array.isArray(F)&&F.$isMongooseDocumentArray&&!(F&&F.schemaOptions&&F.schemaOptions.required))continue;if(F.$isMongooseArray&&!F.$isMongooseDocumentArray&&!F.$embeddedSchemaType.$isMongooseArray&&F.$embeddedSchemaType.validators.length===0)continue;const U=Z.$__getValue(z);K(U,$,z)}function K(z,F,U){if(z!=null){const q=z.length;for(let V=0;V<q;++V)if(Array.isArray(z[V]))K(z[V],F,U+"."+V);else F.add(U+"."+V)}}const H={skipArrays:!0};for(let z of $)if(Z.$__schema.nested[z]){let F=Z.$__getValue(z);if(hN1(F))F=F.toObject({transform:!1});const U=ON1(F,z,H,Z.$__schema);Object.keys(U).forEach(W)}for(let z of $){const F=Z.$__schema.path(z);if(!F)continue;if(F.$parentSchemaDocArray&&typeof F.$parentSchemaDocArray.path==="string")$.add(F.$parentSchemaDocArray.path);if(!F.$isSchemaMap)continue;const U=Z.$__getValue(z);if(U==null)continue;for(let q of U.keys())$.add(z+"."+q)}return $=Array.from($),[$,X]},rN1=function(Z,Y){const J=new Set(Y),X=new Map([]);for(let W of Y){if(W.indexOf(".")===-1)continue;const G=W.split(".");let Q=G[0];for(let K=1;K<G.length;++K)X.set(Q,W),Q=Q+"."+G[K]}const $=new Set;for(let W of Z)if(J.has(W))$.add(W);else if(X.has(W))$.add(X.get(W));return $},tN1=function(Z,Y){return Y=new Set(Y),Z=Array.from(Z).filter((J)=>!Y.has(J)),new Set(Z)},oN1=function(Z,Y){if(!Z.$__.validationError)return;const J=Object.keys(Z.$__.validationError.errors);for(let X of J)if(X.startsWith(Y+"."))delete Z.$__.validationError.errors[X];if(Object.keys(Z.$__.validationError.errors).length===0)Z.$__.validationError=null},eN1=function(Z,Y,J){const X=Y.schema;if(X==null)return;for(let $ of Object.keys(X.paths)){const W=X.paths[$];if(W.$immutableSetter==null)continue;const G=J==null?void 0:J.$__getValue($);W.$immutableSetter.call(Z,G)}},Z21=function(Z){const Y=Z.$__schema&&Z.$__schema.callQueue;if(!Y.length)return;for(let J of Y)if(J[0]!=="pre"&&J[0]!=="post"&&J[0]!=="on")Z[J[0]].apply(Z,J[1])},Rd=function(Z,Y,J,X){const $=Z.$__schema,W=Object.keys($.virtuals);let G=W.length;const Q=G;let K,H,z=Z._doc,F;const U=typeof(X&&X.aliases)==="boolean"?X.aliases:!0;let q=null;if(Array.isArray(J.virtuals))q=new Set(J.virtuals);else if(J.virtuals&&J.virtuals.pathsToSkip){q=new Set(W);for(let V=0;V<J.virtuals.pathsToSkip.length;V++)if(q.has(J.virtuals.pathsToSkip[V]))q.delete(J.virtuals.pathsToSkip[V])}if(!z)return Y;J=J||{};for(G=0;G<Q;++G){if(K=W[G],q!=null&&!q.has(K))continue;if(!U&&$.aliases.hasOwnProperty(K))continue;if(H=K,J.path!=null){if(!K.startsWith(J.path+"."))continue;H=K.substring(J.path.length+1)}const V=H.split(".");if(F=d7(Z.get(K),J),F===void 0)continue;const L=V.length;z=Y;for(let w=0;w<L-1;++w)z[V[w]]=z[V[w]]||{},z=z[V[w]];z[V[L-1]]=F}return Y},Y21=function(Z,Y,J){const X=Z.$__schema,$=Object.keys(X.paths);let W=$.length,G,Q=Z._doc,K;if(!Q)return Y;while(W--){G=$[W];const H=G.split("."),z=H.length,F=z-1;let U=Y,q;if(Q=Z._doc,!Z.$__isSelected(G))continue;for(let V=0;V<z;++V){if(q=H[V],K=Q[q],V===F){const L=Z.$get(G);if(U[q]=d7(L,J),Array.isArray(U[q])&&X.paths[G].$embeddedSchemaType)for(let w=0;w<U[q].length;++w)U[q][w]=X.paths[G].$embeddedSchemaType.applyGetters(U[q][w],Z)}else if(K==null){if(q in Q)U[q]=K;break}else U=U[q]||(U[q]={});Q=K}}return Y},J21=function(Z,Y){const J=Z.$__schema,X=Object.keys(J.paths||{});if(!Z._doc)return Y;for(let W of X){const G=J.paths[W];if(typeof G.options.transform==="function"){const Q=Z.$get(W);if(Q===void 0)continue;const K=G.options.transform.call(Z,Q);Gd(W,K),I1.setValue(W,K,Y)}else if(G.$embeddedSchemaType!=null&&typeof G.$embeddedSchemaType.options.transform==="function"){const Q=Z.$get(W);if(Q===void 0)continue;const K=[].concat(Q),H=G.$embeddedSchemaType.options.transform;for(let z=0;z<K.length;++z){const F=H.call(Z,K[z]);K[z]=F,Gd(W,F)}Y[W]=K}}return Y},Gd=function(Z,Y){if(vN1(Y))throw new Error("`transform` function must be synchronous, but the transform on path `"+Z+"` returned a promise.")},X21=function(Z,Y){const J=Z.$__schema,X=Object.keys(J.paths||{});if(!Z._doc)return Y;let W=Z.$__.selected;if(W===void 0)W={},bN1.applyPaths(W,J);if(W==null||Object.keys(W).length===0)return Y;for(let G of X)if(W[G]!=null&&!W[G])delete Y[G];return Y};/*!
 * Module dependencies.
 */var KM=import.meta.require("events").EventEmitter,DN1=bm(),U6=e1(),Zd=j9(),PN1=xw(),TN1=yw(),Yd=dm(),CN1=gJ(),HM=WZ(),YH=T9(),Qd=Vw(),Kd=bw(),zM=gK(),GM=hw(),d7=N0(),EN1=vK().compile,jN1=vK().defineKey,ON1=SJ().flatten,SN1=V0(),QM=Wu(),Jd=Qu(),kN1=Hu(),_N1=mK(),Xd=I6(),Hd=kJ(),xN1=_J(),FM=import.meta.require("util").inspect,zd=M4().internalToObjectOptions,fN1=dw(),yN1=cw(),gN1=v7(),bN1=xJ(),I1=H1(),vN1=Pu(),eK=I1.deepEqual,hN1=I1.isMongooseObject,yJ=$1().arrayAtomicsBackupSymbol,H7=$1().arrayAtomicsSymbol,mN1=$1().documentArrayParent,uN1=$1().documentIsModified,Fd=$1().documentModifiedPaths,UM=$1().documentSchemaSymbol,dN1=$1().getSymbol,$d=$1().populateModelSymbol,cN1=$1().scopeSymbol,pN1=E9().schemaMixedSymbol,Ud=dK(),lN1=Eu(),oK=$1().sessionNewDocuments,ZH,Wd,k9,iN1=I1.specialProperties;m.prototype.$isMongooseDocumentPrototype=!0;Object.defineProperty(m.prototype,"isNew",{get:function(){return this.$isNew},set:function(Z){this.$isNew=Z}});Object.defineProperty(m.prototype,"errors",{get:function(){return this.$errors},set:function(Z){this.$errors=Z}});/*!
 * ignore
 */m.prototype.$isNew=!0;/*!
 * Document exposes the NodeJS event emitter API, so you can use
 * `on`, `once`, etc.
 */I1.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(Z){m.prototype[Z]=function(){if(!this.$__.emitter){if(Z==="emit")return;this.$__.emitter=new KM,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[Z].apply(this.$__.emitter,arguments)},m.prototype[`\$${Z}`]=m.prototype[Z]});m.prototype.constructor=m;for(let Z in KM.prototype)m[Z]=KM.prototype[Z];m.prototype.$__schema;m.prototype.schema;Object.defineProperty(m.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){if(this.$__.locals==null)this.$__.locals={};return this.$__.locals},set:function(Z){this.$__.locals=Z}});m.prototype.isNew;Object.defineProperty(m.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0});m.prototype.id;m.prototype.$errors;Object.defineProperty(m.prototype,"$op",{get:function(){return this.$__.op||null},set:function(Z){this.$__.op=Z}});/*!
 * ignore
 */m.prototype.$__buildDoc=function(Z,Y,J,X,$){const W={},G=Object.keys(this.$__schema.paths).filter((H)=>!H.includes("$*")),Q=G.length;let K=0;for(;K<Q;++K){const H=G[K];if(H==="_id"){if(J)continue;if(Z&&"_id"in Z)continue}const z=this.$__schema.paths[H].splitPath(),F=z.length,U=F-1;let q="",V=W,L=!1;for(let w=0;w<F;++w){const B=z[w];if(!q.length)q=B;else q+="."+B;if(X===!0){if(q in Y)break}else if(X===!1&&Y&&!L){if(q in Y)L=!0;else if(!$[q])break}if(w<U)V=V[B]||(V[B]={})}}this._doc=W};/*!
 * Converts to POJO when you use the document for querying
 */m.prototype.toBSON=function(){return this.toObject(zd)};m.prototype.init=function(Z,Y,J){if(typeof Y==="function")J=Y,Y=null;if(this.$__init(Z,Y),J)J(null,this);return this};m.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)};m.prototype.$__init=function(Z,Y){if(this.$isNew=!1,Y=Y||{},Z._id!=null&&Y.populated&&Y.populated.length){const X=String(Z._id);for(let $ of Y.populated){if($.isVirtual)this.$populated($.path,I1.getValue($.path,Z),$);else this.$populated($.path,$._docs[X],$);if($._childDocs==null)continue;for(let W of $._childDocs){if(W==null||W.$__==null)continue;W.$__.parent=this}$._childDocs=[]}}qd(this,Z,this._doc,Y),fN1(this,Y.populated),this.$emit("init",this),this.constructor.emit("init",this);const J=this.$__.exclude===!1&&this.$__.selected?Kd(this.$__.selected):null;return zM(this,this.$__.selected,this.$__.exclude,J,!1,this.$__.skipDefaults),this};m.prototype.updateOne=function Z(Y,J,X){const $=this.constructor.updateOne({_id:this._id},Y,J),W=this;if($.pre(function G(Q){W.constructor._middleware.execPre("updateOne",W,[W],Q)}),$.post(function G(Q){W.constructor._middleware.execPost("updateOne",W,[W],{},Q)}),this.$session()!=null){if(!("session"in $.options))$.options.session=this.$session()}if(X!=null)return $.exec(X);return $};m.prototype.replaceOne=function Z(){const Y=[...arguments];return Y.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,Y)};m.prototype.$session=function Z(Y){if(arguments.length===0){if(this.$__.session!=null&&this.$__.session.hasEnded)return this.$__.session=null,null;return this.$__.session}if(Y!=null&&Y.hasEnded)throw new U6("Cannot set a document\'s session to a session that has ended. Make sure you haven\'t called `endSession()` on the session you are passing to `$session()`.");if(Y==null&&this.$__.session==null)return;if(this.$__.session=Y,!this.$isSubdocument){const J=this.$getAllSubdocs();for(let X of J)X.$session(Y)}return Y};m.prototype.$timestamps=function Z(Y){if(arguments.length===0){if(this.$__.timestamps!=null)return this.$__.timestamps;if(this.$__schema)return this.$__schema.options.timestamps;return}const J=this.$timestamps();if(Y!==J)this.$__.timestamps=Y;return this};m.prototype.overwrite=function Z(Y){const J=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(Y))));for(let X of J){if(X==="_id")continue;if(this.$__schema.options.versionKey&&X===this.$__schema.options.versionKey)continue;if(this.$__schema.options.discriminatorKey&&X===this.$__schema.options.discriminatorKey)continue;this.$set(X,Y[X])}return this};m.prototype.$set=function Z(Y,J,X,$){if(I1.isPOJO(X))$=X,X=void 0;const W=$&&$.merge,G=X&&X!==!0,Q=X===!0;let K,H,z=0,F,U,q;const V=$&&"strict"in $;let L=V?$.strict:this.$__.strictMode;if(G)K=this.$__.adhocPaths||(this.$__.adhocPaths={}),K[Y]=this.$__schema.interpretAsType(Y,X,this.$__schema.options);if(Y==null)[Y,J]=[J,Y];else if(typeof Y!=="string"){if(Y instanceof m)if(Y.$__isNested)Y=Y.toObject();else Y=Y._doc;if(Y==null)[Y,J]=[J,Y];q=J?J+".":"",H=Jd(this.$__schema,Y);const D=H.length,l=$&&$._skipMinimizeTopLevel||!1;if(D===0&&l){if(delete $._skipMinimizeTopLevel,J)this.$set(J,{});return this}$=Object.assign({},$,{_skipMinimizeTopLevel:!1});for(let O=0;O<D;++O){U=H[O];const k=q?q+U:U;F=this.$__schema.pathType(k);const i=Y[U];if(X===!0&&!q&&i!=null&&F==="nested"&&this._doc[U]!=null)delete this._doc[U];if(I1.isNonBuiltinObject(i)&&F==="nested"){this.$set(k,i,Q,Object.assign({},$,{_skipMarkModified:!0})),nN1(this.$get(k),k,this);continue}else if(L){if(Q&&i===void 0&&this.$get(k)!==void 0)continue;if(F==="adhocOrUndefined")F=QM(this,k,{typeOnly:!0});if(F==="real"||F==="virtual")this.$set(k,i,Q,$);else if(F==="nested"&&i instanceof m)this.$set(k,i.toObject({transform:!1}),Q,$);else if(L==="throw")if(F==="nested")throw new PN1(U,i);else throw new HM(U)}else if(i!==void 0)this.$set(k,i,Q,$)}const b={},_=Object.keys(this.$__schema.tree);for(let O=0,k=_.length;O<k;++O)(U=_[O])&&this._doc.hasOwnProperty(U)&&(b[U]=void 0);return this._doc=Object.assign(b,this._doc),this}let w=this.$__schema.pathType(Y),B=null;if(w==="adhocOrUndefined")B=Y.indexOf(".")===-1?[Y]:Y.split("."),w=QM(this,B,{typeOnly:!0});if(w==="adhocOrUndefined"&&!V){if(B==null)B=Y.indexOf(".")===-1?[Y]:Y.split(".");const D=kN1(this.$__schema,B);if(D!==void 0)L=D}J=_N1(J);const A=(()=>{if(this.$__.priorDoc!=null)return this.$__.priorDoc.$__getValue(Y);if(Q)return;return this.$__getValue(Y)})();if(w==="nested"&&J){if(typeof J==="object"&&J!=null){if(J.$__!=null)J=J.toObject(zd);if(J==null)return this.invalidate(Y,new U6.CastError("Object",J,Y)),this;const D=this.$isModified(Y),l=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(Y);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(Y)){const _=this.$__getValue(Y);this.$__.savedState[Y]=_;const O=Object.keys(_||{});for(let k of O)this.$__.savedState[Y+"."+k]=_[k]}if(!W)this.$__setValue(Y,null),GM(this,Y);else return this.$set(J,Y,Q);const b=Jd(this.$__schema,J,Y);this.$__setValue(Y,{});for(let _ of b)this.$set(Y+"."+_,J[_],Q,{...$,_skipMarkModified:!0});if(A!=null&&(!D||l)&&I1.deepEqual(l?this.$__.savedState[Y]:A,J))this.unmarkModified(Y);else this.markModified(Y);return this}return this.invalidate(Y,new U6.CastError("Object",J,Y)),this}let M;if(B==null)B=Y.indexOf(".")===-1?[Y]:Y.split(".");if(typeof this.$__schema.aliases[B[0]]==="string")B[0]=this.$__schema.aliases[B[0]];if(w==="adhocOrUndefined"&&L){let D;for(z=0;z<B.length;++z){const l=B.slice(0,z+1).join(".");if(z+1<B.length&&this.$__schema.pathType(l)==="virtual")return gN1.set(Y,J,this),this;if(M=this.$__schema.path(l),M==null)continue;if(M instanceof Zd){D=!0;break}else if(M.$isSchemaMap&&M.$__schemaType instanceof Zd&&z<B.length-1){D=!0,M=M.$__schemaType;break}}if(M==null)M=QM(this,Y);if(!D&&!M){if(L==="throw")throw new HM(Y);return this}}else if(w==="virtual")return M=this.$__schema.virtualpath(Y),M.applySetters(J,this),this;else M=this.$__path(Y);let I=this._doc,x="";for(z=0;z<B.length-1;++z)if(I=I[B[z]],x+=(x.length!==0?".":"")+B[z],!I){if(this.$set(x,{}),!this.$__isSelected(x))this.unmarkModified(x);I=this.$__getValue(x)}let j;if(B.length<=1)j=Y;else{const D=B.length;for(z=0;z<D;++z){const l=B.slice(0,z+1).join(".");if(this.$get(l,null,{getters:!1})===null){j=l;break}}if(!j)j=Y}if(!M){if(this.$__set(j,Y,$,Q,B,M,J,A),w==="nested"&&J==null)GM(this,Y);return this}if(M.$isSingleNested||M.$isMongooseArray)oN1(this,Y);if(J!=null&&W&&M.$isSingleNested){if(J instanceof m)J=J.toObject({virtuals:!1,transform:!1});const D=Object.keys(J);for(let l of D)this.$set(Y+"."+l,J[l],Q,$);return this}let E=!0;try{const D=(()=>{if(M.options==null)return!1;if(!(J instanceof m))return!1;const O=J.constructor,k=M.options.ref;if(k!=null&&(k===O.modelName||k===O.baseModelName))return!0;const i=M.options.refPath;if(i==null)return!1;const T1=J.get(i);return T1===O.modelName||T1===O.baseModelName})();let l=!1;if(D&&J instanceof m&&(!J.$__.wasPopulated||I1.deepEqual(J.$__.wasPopulated.value,J._id))){const O=M&&M.$isSingleNested?M.cast(J,this):J._id;this.$populated(Y,O,{[$d]:J.constructor}),J.$__.wasPopulated={value:O},l=!0}let b;const _=this.$__schema.options.typeKey;if(M.options&&Array.isArray(M.options[_])&&M.options[_].length&&M.options[_][0].ref&&aN1(J,M.options[_][0].ref)){b={[$d]:J[0].constructor},this.$populated(Y,J.map(function(O){return O._id}),b);for(let O of J)O.$__.wasPopulated={value:O._id};l=!0}if(!D||!M.$isSingleNested||!J.$__){let O=this;if(this.$__schema.singleNestedPaths[Y]!=null&&B.length>1)O=lN1(this,B,this.schema);if($!=null&&$.overwriteImmutable)J=M.applySetters(J,O,!1,A,{overwriteImmutable:!0});else J=M.applySetters(J,O,!1,A)}if(Array.isArray(J)&&!Array.isArray(M)&&M.$isMongooseDocumentArray&&J.length!==0&&J[0]!=null&&J[0].$__!=null&&J[0].$__.populated!=null){const O=Object.keys(J[0].$__.populated);for(let k of O)this.$populated(Y+"."+k,J.map((i)=>i.$populated(k)),J[0].$__.populated[k].options);l=!0}if(!l&&this.$__.populated){if(Array.isArray(J)&&this.$__.populated[Y]){for(let O=0;O<J.length;++O)if(J[O]instanceof m)J.set(O,J[O]._id,!0)}delete this.$__.populated[Y]}if(J!=null&&M.$isSingleNested)eN1(J,M,A);this.$markValid(Y)}catch(D){if(D instanceof U6.StrictModeError&&D.isImmutableError)this.invalidate(Y,D);else if(D instanceof U6.CastError){if(this.invalidate(D.path,D),D.$originalErrorPath)this.invalidate(Y,new U6.CastError(M.instance,J,Y,D.$originalErrorPath))}else this.invalidate(Y,new U6.CastError(M.instance,J,Y,D));E=!1}if(E){let D=null,l=null;if(!Q){const O=this.$isSubdocument?this.ownerDocument():this;D=O.$__.savedState,l=this.$isSubdocument?this.$__.fullPath+"."+Y:Y,O.$__saveInitialState(l)}this.$__set(j,Y,$,Q,B,M,J,A);const b=!!this.$__.session?.transaction,_=this.$__.session&&this.$__.session[oK]&&this.$__.session[oK].has(this)&&this.$__.session[oK].get(this).modifiedPaths&&!this.$__.session[oK].get(this).modifiedPaths.has(l);if(D!=null&&D.hasOwnProperty(l)&&(!b||_)&&I1.deepEqual(J,D[l]))this.unmarkModified(Y)}if(M.$isSingleNested&&(this.isDirectModified(Y)||J==null))GM(this,Y);return this};/*!
 * ignore
 */m.prototype.set=m.prototype.$set;m.prototype.$__shouldModify=function(Z,Y,J,X,$,W,G,Q){if(J&&J._skipMarkModified)return!1;if(this.$isNew)return!0;if(Y in this.$__.activePaths.getStatePaths("modify"))return!0;if(G===void 0&&!this.$__isSelected(Y))return!0;if(G===void 0&&Y in this.$__.activePaths.getStatePaths("default"))return!1;if(this.$populated(Y)&&G instanceof m&&eK(G._id,Q))return!1;if(!eK(G,Q!==void 0?Q:I1.getValue(Y,this)))return!0;if(!X&&G!==null&&G!==void 0&&Y in this.$__.activePaths.getStatePaths("default")&&eK(G,W.getDefault(this,X)))return!0;return!1};m.prototype.$__set=function(Z,Y,J,X,$,W,G,Q){if(k9=k9||fJ(),this.$__shouldModify(Z,Y,J,X,$,W,G,Q)){if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Y]){if(delete this.$__.primitiveAtomics[Y],Object.keys(this.$__.primitiveAtomics).length===0)delete this.$__.primitiveAtomics}if(this.markModified(Z),Wd||(Wd=sw()),G&&I1.isMongooseArray(G)){if(G._registerAtomic("$set",G),I1.isMongooseDocumentArray(G))G.forEach(function(q){q&&q.__parentArray&&(q.__parentArray=G)})}}else if(Array.isArray(G)&&Array.isArray(Q)&&I1.isMongooseArray(G)&&I1.isMongooseArray(Q)){if(G[H7]=Q[H7],G[yJ]=Q[yJ],I1.isMongooseDocumentArray(G))G.forEach((q)=>{if(q!=null)q.$isNew=!1})}let H=this._doc,z=0;const F=$.length;let U="";for(;z<F;z++){const V=z+1===F;if(U+=U?"."+$[z]:$[z],iN1.has($[z]))return;if(V)if(H instanceof Map)H.set($[z],G);else if(H.$isSingleNested)if(!($[z]in H))H[$[z]]=G,H._doc[$[z]]=G;else H._doc[$[z]]=G;else H[$[z]]=G;else{const L=H instanceof Map;let w=L?H.get($[z]):H[$[z]];if(I1.isPOJO(w))H=w;else if(w&&w instanceof k9)H=w;else if(w&&!Array.isArray(w)&&w.$isSingleNested)H=w;else if(w&&Array.isArray(w))H=w;else if(w==null){if(w={},L)H.set($[z],w);else H[$[z]]=w;H=w}else H=w}}};m.prototype.$__getValue=function(Z){return I1.getValue(Z,this._doc)};m.prototype.$inc=function Z(Y,J){if(J==null)J=1;if(Array.isArray(Y))return Y.forEach((K)=>this.$inc(K,J)),this;const X=this.$__path(Y);if(X==null){if(this.$__.strictMode==="throw")throw new HM(Y);else if(this.$__.strictMode===!0)return this}else if(X.instance!=="Number")return this.invalidate(Y,new U6.CastError(X.instance,J,Y)),this;const $=this.$__getValue(Y)||0;let W=!1,G=null,Q=J;try{J=X.cast(J),G=X.applySetters($+J,this),Q=G-$,W=!0}catch(K){this.invalidate(Y,new U6.CastError("number",J,Y,K))}if(W){if(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[Y]==null)this.$__.primitiveAtomics[Y]={$inc:Q};else this.$__.primitiveAtomics[Y].$inc+=Q;this.markModified(Y),this.$__setValue(Y,G)}return this};m.prototype.$__setValue=function(Z,Y){return I1.setValue(Z,Y,this._doc),this};m.prototype.get=function(Z,Y,J){let X;if(J==null)J={};if(Y)X=this.$__schema.interpretAsType(Z,Y,this.$__schema.options);const $=J.noDottedPath;let W=$?this.$__schema.paths[Z]:this.$__path(Z);if(W==null){if(W=this.$__schema.virtualpath(Z),W!=null)return W.applyGetters(void 0,this)}if($){let H=this._doc[Z];if(X)H=X.cast(H);if(W!=null&&J.getters!==!1)return W.applyGetters(H,this);return H}if(W!=null&&W.instance==="Mixed"){const H=this.$__schema.virtualpath(Z);if(H!=null)W=H}const G=Z.indexOf(".")!==-1;let Q=this._doc;const K=G?Z.split("."):[Z];if(typeof this.$__schema.aliases[K[0]]==="string")K[0]=this.$__schema.aliases[K[0]];for(let H=0,z=K.length;H<z;H++){if(Q&&Q._doc)Q=Q._doc;if(Q==null)Q=void 0;else if(Q instanceof Map)Q=Q.get(K[H],{getters:!1});else if(H===z-1)Q=I1.getValue(K[H],Q);else Q=Q[K[H]]}if(X)Q=X.cast(Q);if(W!=null&&J.getters!==!1)Q=W.applyGetters(Q,this);else if(this.$__schema.nested[Z]&&J.virtuals)return Rd(this,d7(Q)||{},{path:Z});return Q};/*!
 * ignore
 */m.prototype[dN1]=m.prototype.get;m.prototype.$get=m.prototype.get;m.prototype.$__path=function(Z){const Y=this.$__.adhocPaths,J=Y&&Y.hasOwnProperty(Z)?Y[Z]:null;if(J)return J;return this.$__schema.path(Z)};m.prototype.markModified=function(Z,Y){if(this.$__saveInitialState(Z),this.$__.activePaths.modify(Z),Y!=null&&!this.$isSubdocument)this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[Z]=Y};/*!
 * ignore
 */m.prototype.$__saveInitialState=function Z(Y){const J=this.$__.savedState,X=Y;if(J!=null){const $=X.indexOf("."),W=$===-1?X:X.slice(0,$);if(!J.hasOwnProperty(W))J[W]=d7(this.$__getValue(W))}};m.prototype.unmarkModified=function(Z){if(this.$__.activePaths.init(Z),this.$__.pathsToScopes!=null)delete this.$__.pathsToScopes[Z]};m.prototype.$ignore=function(Z){this.$__.activePaths.ignore(Z)};m.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))};m.prototype.$isEmpty=function(Z){const Y={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){const J=this.$get(Z);if(J==null)return!0;if(typeof J!=="object")return!1;if(I1.isPOJO(J))return Vd(J);return Object.keys(J.toObject(Y)).length===0}return Object.keys(this.toObject(Y)).length===0};/*!
 * ignore
 */m.prototype.modifiedPaths=function(Z){Z=Z||{};const Y=Object.keys(this.$__.activePaths.getStatePaths("modify")),J=new Set;let X=0,$=0;const W=Y.length;for(X=0;X<W;++X){const G=Y[X],Q=Ud(G),K=Q.length;for($=0;$<K;++$)J.add(Q[$]);if(!Z.includeChildren)continue;let H=0,z=this.$get(G);if(typeof z==="object"&&z!==null){if(z._doc)z=z._doc;const F=z.length;if(Array.isArray(z))for(H=0;H<F;++H){const U=G+"."+H;if(!J.has(U)){if(J.add(U),z[H]!=null&&z[H].$__){const q=z[H].modifiedPaths();let V=0;const L=q.length;for(V=0;V<L;++V)J.add(U+"."+q[V])}}}else{const U=Object.keys(z);let q=0;const V=U.length;for(q=0;q<V;++q)J.add(G+"."+U[q])}}}return Array.from(J)};m.prototype[Fd]=m.prototype.modifiedPaths;m.prototype.isModified=function(Z,Y){if(Z){const J=this.$__.activePaths.states.modify;if(J==null)return!1;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let G of Z)if(J[G]!=null)return!0;const X=Y||this[Fd](),$=Z.some(function(G){return!!~X.indexOf(G)}),W=Object.keys(J);return $||Z.some(function(G){return W.some(function(Q){return Q===G||G.startsWith(Q+".")})})}return this.$__.activePaths.some("modify")};m.prototype.$isModified=m.prototype.isModified;m.prototype[uN1]=m.prototype.isModified;m.prototype.$isDefault=function(Z){if(Z==null)return this.$__.activePaths.some("default");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("default").hasOwnProperty(J))};m.prototype.$isDeleted=function(Z){if(arguments.length===0)return!!this.$__.isDeleted;return this.$__.isDeleted=!!Z,this};m.prototype.isDirectModified=function(Z){if(Z==null)return this.$__.activePaths.some("modify");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("modify").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("modify").hasOwnProperty(J))};m.prototype.isInit=function(Z){if(Z==null)return this.$__.activePaths.some("init");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("init").hasOwnProperty(J))};m.prototype.isSelected=function Z(Y){if(this.$__.selected==null)return!0;if(!Y)return!1;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1)Y=Y.split(" ");if(Array.isArray(Y))return Y.some((W)=>this.$__isSelected(W));const J=Object.keys(this.$__.selected);let X=null;if(J.length===1&&J[0]==="_id")return this.$__.selected._id===0;for(let W of J){if(W==="_id")continue;if(!Hd(this.$__.selected[W]))continue;X=!!this.$__.selected[W];break}if(X===null)return!0;if(Y in this.$__.selected)return X;const $=Y+".";for(let W of J){if(W==="_id")continue;if(W.startsWith($))return X||W!==$;if($.startsWith(W+"."))return X}return!X};m.prototype.$__isSelected=m.prototype.isSelected;m.prototype.isDirectSelected=function Z(Y){if(this.$__.selected==null)return!0;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1)Y=Y.split(" ");if(Array.isArray(Y))return Y.some(($)=>this.isDirectSelected($));const J=Object.keys(this.$__.selected);let X=null;if(J.length===1&&J[0]==="_id")return this.$__.selected._id===0;for(let $ of J){if($==="_id")continue;if(!Hd(this.$__.selected[$]))continue;X=!!this.$__.selected[$];break}if(X===null)return!0;if(this.$__.selected.hasOwnProperty(Y))return X;return!X};m.prototype.validate=async function Z(Y,J){if(typeof Y==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new U6("Document.prototype.validate() no longer accepts a callback");let X;if(this.$op="validate",this.$isSubdocument!=null);else if(this.$__.validating)X=new Yd(this,{parentStack:J&&J.parentStack,conflictStack:this.$__.validating.stack});else this.$__.validating=new Yd(this,{parentStack:J&&J.parentStack});if(arguments.length===1){if(typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))J=arguments[0],Y=null}if(J&&typeof J.pathsToSkip==="string"){const $=J.pathsToSkip.indexOf(" ")===-1;J.pathsToSkip=$?[J.pathsToSkip]:J.pathsToSkip.split(" ")}if(X!=null)throw X;return new Promise(($,W)=>{this.$__validate(Y,J,(G)=>{if(this.$op=null,this.$__.validating=null,G!=null)return W(G);$()})})};m.prototype.$validate=m.prototype.validate;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */m.prototype.$__validate=function(Z,Y,J){if(typeof Z==="function")J=Z,Y=null,Z=null;else if(typeof Y==="function")J=Y,Y=null;const X=Y&&typeof Y==="object"&&"validateModifiedOnly"in Y,$=Y&&Y.pathsToSkip||null;let W;if(X)W=!!Y.validateModifiedOnly;else W=this.$__schema.options.validateModifiedOnly;const G=this,Q=()=>{let L=this.$__.validationError;if(this.$__.validationError=null,this.$__.validating=null,W&&L!=null){const w=Object.keys(L.errors);for(let B of w)if(!this.$isModified(B))delete L.errors[B];if(Object.keys(L.errors).length===0)L=void 0}if(this.$__.cachedRequired={},this.$emit("validate",G),this.constructor.emit("validate",G),L){for(let w in L.errors)if(!this[mN1]&&L.errors[w]instanceof U6.CastError)this.invalidate(w,L.errors[w]);return L}},K=Ld(this,Z,$),H=W?K[0].filter((L)=>this.$isModified(L)):K[0],z=K[1];if(typeof Z==="string")Z=Z.split(" ");if(H.length===0)return Xd(function(){const L=Q();if(L)return G.$__schema.s.hooks.execPost("validate:error",G,[G],{error:L},function(w){J(w)});J(null,G)});const F={};let U=0;for(let L of H)q(L);function q(L){if(L==null||F[L])return;F[L]=!0,U++,Xd(function(){const w=G.$__schema.path(L);if(!w)return--U||V();if(!G.$isValid(L)){--U||V();return}if(w[pN1]!=null&&L!==w.path)return--U||V();let B=G.$__getValue(L),A;if(A=G.$populated(L))B=A;else if(B!=null&&B.$__!=null&&B.$__.wasPopulated)B=B._id;const M=G.$__.pathsToScopes!=null&&L in G.$__.pathsToScopes?G.$__.pathsToScopes[L]:G,I={...z[L],path:L,validateModifiedOnly:W};w.doValidate(B,function(x){if(x){if((w.$isSingleNested||w.$isArraySubdocument||w.$isMongooseDocumentArray)&&x instanceof YH)return--U||V();G.invalidate(L,x,void 0,!0)}--U||V()},M,I)})}function V(){const L=Q();if(L)return G.$__schema.s.hooks.execPost("validate:error",G,[G],{error:L},function(w){J(w)});J(null,G)}};/*!
 * ignore
 *//*!
 * ignore
 */m.prototype.validateSync=function(Z,Y){const J=this;if(arguments.length===1&&typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))Y=arguments[0],Z=null;const X=Y&&typeof Y==="object"&&"validateModifiedOnly"in Y;let $;if(X)$=!!Y.validateModifiedOnly;else $=this.$__schema.options.validateModifiedOnly;let W=Y&&Y.pathsToSkip;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");else if(typeof W==="string"&&W.indexOf(" ")!==-1)W=W.split(" ");const G=Ld(this,Z,W),Q=$?G[0].filter((F)=>this.$isModified(F)):G[0],K=G[1],H={};for(let F=0,U=Q.length;F<U;++F){const q=Q[F];if(H[q])continue;H[q]=!0;const V=J.$__schema.path(q);if(!V)continue;if(!J.$isValid(q))continue;const L=J.$__getValue(q),w=V.doValidateSync(L,J,{skipSchemaValidators:K[q],path:q,validateModifiedOnly:$});if(w){if((V.$isSingleNested||V.$isArraySubdocument||V.$isMongooseDocumentArray)&&w instanceof YH)continue;J.invalidate(q,w,void 0,!0)}}const z=J.$__.validationError;if(J.$__.validationError=void 0,J.$emit("validate",J),J.constructor.emit("validate",J),z){for(let F in z.errors)if(z.errors[F]instanceof U6.CastError)J.invalidate(F,z.errors[F])}return z};m.prototype.invalidate=function(Z,Y,J,X){if(!this.$__.validationError)this.$__.validationError=new YH(this);if(this.$__.validationError.errors[Z])return;if(!Y||typeof Y==="string")Y=new Qd({path:Z,message:Y,type:X||"user defined",value:J});if(this.$__.validationError===Y)return this.$__.validationError;return this.$__.validationError.addError(Z,Y),this.$__.validationError};m.prototype.$markValid=function(Z){if(!this.$__.validationError||!this.$__.validationError.errors[Z])return;if(delete this.$__.validationError.errors[Z],Object.keys(this.$__.validationError.errors).length===0)this.$__.validationError=null};/*!
 * ignore
 *//*!
 * ignore
 */m.prototype.$isValid=function(Z){if(this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0)return!0;if(Z==null)return!1;if(Z.indexOf(" ")!==-1)Z=Z.split(" ");if(Array.isArray(Z))return Z.some((Y)=>this.$__.validationError.errors[Y]==null);return this.$__.validationError.errors[Z]==null};m.prototype.$__reset=function Z(){let Y=this;const J=this.$parent()===this?this.$getAllSubdocs():[],X=new Set;for(let W of J){const G=W.$__fullPathWithIndexes();if(W.$__reset(),this.isModified(G)||$(G))if(W.$isDocumentArrayElement)X.add(W.parentArray());else{const Q=W.$parent();if(Q===this)this.$__.activePaths.clearPath(W.$basePath);else if(Q!=null&&Q.$isSubdocument)Q.$__reset()}}for(let W of X)this.$__.activePaths.clearPath(W.$path()),W[yJ]=W[H7],W[H7]={};function $(W){W=W.indexOf(".")===-1?[W]:W.split(".");let G="";for(let Q=0;Q<W.length;++Q)if(G+=(G.length?".":"")+W[Q],Y.$__.activePaths[G]==="init")return!0;return!1}return this.$__dirty().forEach(function(W){const G=W.value;if(G&&G[H7])G[yJ]=G[H7],G[H7]={}}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,Y=this,this.$__schema.requiredPaths().forEach(function(W){Y.$__.activePaths.require(W)}),this};/*!
 * ignore
 */m.prototype.$__undoReset=function Z(){if(this.$__.backup==null||this.$__.backup.activePaths==null)return;this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;for(let Y of this.$__dirty()){const J=Y.value;if(J&&J[H7]&&J[yJ])J[H7]=J[yJ]}for(let Y of this.$getAllSubdocs())Y.$__undoReset()};m.prototype.$__dirty=function(){const Z=this;let Y=this.$__.activePaths.map("modify",function($){return{path:$,value:Z.$__getValue($),schema:Z.$__path($)}});Y=Y.concat(this.$__.activePaths.map("default",function($){if($==="_id"||Z.$__getValue($)==null)return;return{path:$,value:Z.$__getValue($),schema:Z.$__path($)}}));const J=new Map(Y.filter(($)=>$!=null).map(($)=>[$.path,$.value])),X=[];return Y.forEach(function($){if(!$)return;let W=null;const G=Ud($.path);for(let Q=0;Q<G.length-1;Q++)if(J.has(G[Q])){W=J.get(G[Q]);break}if(W==null)X.push($);else if(W!=null&&W[H7]!=null&&W.hasAtomics())W[H7]={},W[H7].$set=W}),X};m.prototype.$__setSchema=function(Z){EN1(Z.tree,this,void 0,Z.options);for(let Y of Object.keys(Z.virtuals))Z.virtuals[Y]._applyDefaultGetters();if(Z.path("schema")==null)this.schema=Z;this.$__schema=Z,this[UM]=Z};m.prototype.$__getArrayPathsToValidate=function(){return ZH||(ZH=S9()),this.$__.activePaths.map("init","modify",function(Z){return this.$__getValue(Z)}.bind(this)).filter(function(Z){return Z&&Array.isArray(Z)&&I1.isMongooseDocumentArray(Z)&&Z.length}).reduce(function(Z,Y){return Z.concat(Y)},[]).filter(function(Z){return Z})};m.prototype.$getAllSubdocs=function(){ZH||(ZH=S9()),k9=k9||fJ();function Z(J,X,$){let W=J,G=!1;if($)if(J instanceof m&&J[UM].paths[$])W=J._doc[$];else if(J instanceof m&&J[UM].nested[$])W=J._doc[$],G=!0;else W=J[$];if(W instanceof k9)X.push(W);else if(W instanceof Map)X=Array.from(W.keys()).reduce(function(Q,K){return Z(W.get(K),Q,null)},X);else if(W&&!Array.isArray(W)&&W.$isSingleNested)X=Object.keys(W._doc).reduce(function(Q,K){return Z(W,Q,K)},X),X.push(W);else if(W&&I1.isMongooseDocumentArray(W))W.forEach(function Q(K){if(!K||!K._doc)return;if(X=Object.keys(K._doc).reduce(function(H,z){return Z(K._doc,H,z)},X),K instanceof k9)X.push(K)});else if(G&&W!=null)for(let Q of Object.keys(W))Z(W,X,Q);return X}const Y=[];for(let J of Object.keys(this._doc))Z(this,Y,J);return Y};/*!
 * Runs queued functions
 *//*!
 * ignore
 */m.prototype.$__handleReject=function Z(Y){if(this.$listeners("error").length)this.$emit("error",Y);else if(this.constructor.listeners&&this.constructor.listeners("error").length)this.constructor.emit("error",Y)};m.prototype.$toObject=function(Z,Y){let J={transform:!0,flattenDecimals:!0};const X=Y?"toJSON":"toObject",$=this.constructor&&this.constructor.base&&this.constructor.base.options&&SN1(this.constructor.base.options,X)||{},W=this.$__schema&&this.$__schema.options||{};J=I1.options(J,d7($)),J=I1.options(J,d7(W[X]||{})),Z=I1.isPOJO(Z)?{...Z}:{},Z._calledWithOptions=Z._calledWithOptions||{...Z};let G;if(Z._calledWithOptions.minimize!=null)G=Z.minimize;else if(J.minimize!=null)G=J.minimize;else G=W.minimize;let Q;if(Z._calledWithOptions.flattenMaps!=null)Q=Z.flattenMaps;else if(J.flattenMaps!=null)Q=J.flattenMaps;else Q=W.flattenMaps;let K;if(Z._calledWithOptions.flattenObjectIds!=null)K=Z.flattenObjectIds;else if(J.flattenObjectIds!=null)K=J.flattenObjectIds;else K=W.flattenObjectIds;const H=Object.assign({},Z,{_isNested:!0,json:Y,minimize:G,flattenMaps:Q,flattenObjectIds:K,_seen:Z&&Z._seen||new Map});if(I1.hasUserDefinedProperty(Z,"getters"))H.getters=Z.getters;if(I1.hasUserDefinedProperty(Z,"virtuals"))H.virtuals=Z.virtuals;if((Z.depopulate||(Z._parentOptions&&Z._parentOptions.depopulate||!1))&&Z._isNested&&this.$__.wasPopulated)return d7(this.$__.wasPopulated.value||this._id,H);Z=I1.options(J,Z),Z._isNested=!0,Z.json=Y,Z.minimize=G,H._parentOptions=Z,H._skipSingleNestedGetters=!1;const F=Object.assign({},H);F._skipSingleNestedGetters=!0;const U=Z.transform;let q=d7(this._doc,H)||{};if(Z.getters){if(Y21(this,q,F),Z.minimize)q=yN1(q)||{}}if(Z.virtuals||Z.getters&&Z.virtuals!==!1)Rd(this,q,F,Z);if(Z.versionKey===!1&&this.$__schema.options.versionKey)delete q[this.$__schema.options.versionKey];let V=Z.transform;if(V)J21(this,q);if(Z.useProjection)X21(this,q);if(V===!0||W.toObject&&V){const L=Z.json?W.toJSON:W.toObject;if(L)V=typeof Z.transform==="function"?Z.transform:L.transform}else Z.transform=U;if(typeof V==="function"){const L=V(this,q,Z);if(typeof L!=="undefined")q=L}return q};m.prototype.toObject=function(Z){return this.$toObject(Z)};/*!
 * Applies virtuals properties to `json`.
 *//*!
 * ignore
 */m.prototype.toJSON=function(Z){return this.$toObject(Z,!0)};/*!
 * ignore
 */m.prototype.ownerDocument=function(){return this};m.prototype.parent=function(){if(this.$isSubdocument||this.$__.wasPopulated)return this.$__.parent;return this};m.prototype.$parent=m.prototype.parent;m.prototype.inspect=function(Z){const Y=I1.isPOJO(Z);let J;if(Y)J=Z,J.minimize=!1;const X=this.toObject(J);if(X==null)return"MongooseDocument { "+X+" }";return X};if(FM.custom)m.prototype[FM.custom]=m.prototype.inspect;m.prototype.toString=function(){const Z=this.inspect();if(typeof Z==="string")return Z;return FM(Z)};m.prototype.equals=function(Z){if(!Z)return!1;const Y=this.$__getValue("_id"),J=Z.$__!=null?Z.$__getValue("_id"):Z;if(!Y&&!J)return eK(this,Z);return Y&&Y.equals?Y.equals(J):Y===J};m.prototype.populate=async function Z(){const Y={},J=[...arguments];if(typeof J[J.length-1]==="function")throw new U6("Document.prototype.populate() no longer accepts a callback");if(J.length!==0){const W=I1.populate.apply(null,J);for(let G of W)Y[G.path]=G}const X=I1.object.vals(Y);let $=this.constructor;if(this.$__isNested){$=this.$__[cN1].constructor;const W=this.$__.nestedPath;X.forEach(function(G){G.path=W+"."+G.path})}if(this.$session()!=null){const W=this.$session();X.forEach((G)=>{if(G.options==null){G.options={session:W};return}if(!("session"in G.options))G.options.session=W})}return X.forEach((W)=>{W._localModel=$}),$.populate(this,X)};m.prototype.$getPopulatedDocs=function Z(){let Y=[];if(this.$__.populated!=null)Y=Y.concat(Object.keys(this.$__.populated));let J=[];for(let X of Y){const $=this.$get(X);if(Array.isArray($))J=J.concat($);else if($ instanceof m)J.push($)}return J};m.prototype.populated=function(Z,Y,J){if(Y==null||Y===!0){if(!this.$__.populated)return;if(typeof Z!=="string")return;const $=Z.endsWith(".$*")?Z.replace(/\.\$\*$/,""):Z,W=this.$__.populated[$];if(W)return Y===!0?W:W.value;return}this.$__.populated||(this.$__.populated={}),this.$__.populated[Z]={value:Y,options:J};const X=Z.split(".");for(let $=0;$<X.length-1;++$){const W=X.slice(0,$+1).join("."),G=this.$get(W);if(G!=null&&G.$__!=null&&this.$populated(W)){const Q=X.slice($+1).join(".");G.$populated(Q,Y,J);break}}return Y};m.prototype.$populated=m.prototype.populated;m.prototype.$assertPopulated=function Z(Y,J){if(Array.isArray(Y))return Y.forEach((X)=>this.$assertPopulated(X,J)),this;if(arguments.length>1)this.$set(J);if(!this.$populated(Y))throw new U6(`Expected path "${Y}" to be populated`);return this};m.prototype.depopulate=function(Z){if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");let Y;const J=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],X=this.$__&&this.$__.populated||{};if(arguments.length===0){for(let W of J)delete this.$$populatedVirtuals[W],delete this._doc[W],delete X[W];const $=Object.keys(X);for(let W of $){if(Y=this.$populated(W),!Y)continue;delete X[W],I1.setValue(W,Y,this._doc)}return this}for(let $ of Z)if(Y=this.$populated($),delete X[$],J.indexOf($)!==-1)delete this.$$populatedVirtuals[$],delete this._doc[$];else if(Y)I1.setValue($,Y,this._doc);return this};m.prototype.$__fullPath=function(Z){return Z||""};m.prototype.getChanges=function(){const Z=this.$__delta();return Z?Z[1]:{}};m.prototype.$clone=function(){const Y=new this.constructor;if(Y.$isNew=this.$isNew,this._doc)Y._doc=d7(this._doc);if(this.$__){const X=new this.$__.constructor;for(let $ of Object.getOwnPropertyNames(this.$__)){if($==="activePaths")continue;X[$]=d7(this.$__[$])}Object.assign(X.activePaths,d7({...this.$__.activePaths})),Y.$__=X}return Y};/*!
 * Module exports.
 */m.ValidationError=YH;Md.exports=wd=m});var H1=R((w21)=>{var U21=function(Z){if(Array.isArray(Z.populate)){const X=[];Z.populate.forEach(function($){if(LM.test($.path)){const W=Object.assign({},$);W.path.split(RM).forEach(function(Q){W.path=Q,X.push(w21.populate(W)[0])})}else X.push(w21.populate($)[0])}),Z.populate=w21.populate(X)}else if(Z.populate!=null&&typeof Z.populate==="object")Z.populate=w21.populate(Z.populate);const Y=[],J=LM.test(Z.path)?Z.path.split(RM):[Z.path];if(Z.options!=null)Z.options=VM(Z.options);for(let X of J)Y.push(new Td(Object.assign({},Z,{path:X})));return Y},V21=function(Z,Y){let J=Z?._doc||Z;if(J!=null&&J.isMongooseArrayProxy)J=J.__array;return J instanceof Map?J.get(Y,q21):J[Y]};/*!
 * Module dependencies.
 */var $21=i6().UUID,W21=Sw(),Pd=v7(),G21=y4(),Td=jm(),VM=N0(),Q21=I6(),K21=_5(),Cd=SG(),Ed=Om(),HZ=o8(),H21=nU(),A$=Y3(),z21=xK(),F21=fK(),N$=sZ(),{trustedSymbol:vJ}=kY(),qM;w21.specialProperties=N$;w21.isMongooseArray=Cd.isMongooseArray;w21.isMongooseDocumentArray=Ed.isMongooseDocumentArray;w21.registerMongooseArray=Cd.registerMongooseArray;w21.registerMongooseDocumentArray=Ed.registerMongooseDocumentArray;var LM=/\s/,RM=/\s+/;w21.toCollectionName=function(Z,Y){if(Z==="system.profile")return Z;if(Z==="system.indexes")return Z;if(typeof Y==="function")return Y(Z);return Z};w21.deepEqual=function Z(Y,J){if(Y===J)return!0;if(typeof Y!=="object"||typeof J!=="object")return Y===J;if(Y instanceof Date&&J instanceof Date)return Y.getTime()===J.getTime();if(HZ(Y,"ObjectId")&&HZ(J,"ObjectId")||HZ(Y,"Decimal128")&&HZ(J,"Decimal128"))return Y.toString()===J.toString();if(Y instanceof RegExp&&J instanceof RegExp)return Y.source===J.source&&Y.ignoreCase===J.ignoreCase&&Y.multiline===J.multiline&&Y.global===J.global&&Y.dotAll===J.dotAll&&Y.unicode===J.unicode&&Y.sticky===J.sticky&&Y.hasIndices===J.hasIndices;if(Y==null||J==null)return!1;if(Y.prototype!==J.prototype)return!1;if(Y instanceof Map||J instanceof Map){if(!(Y instanceof Map)||!(J instanceof Map))return!1;return Z(Array.from(Y.keys()),Array.from(J.keys()))&&Z(Array.from(Y.values()),Array.from(J.values()))}if(Y instanceof Number&&J instanceof Number)return Y.valueOf()===J.valueOf();if(Buffer.isBuffer(Y))return w21.buffer.areEqual(Y,J);if(Array.isArray(Y)||Array.isArray(J)){if(!Array.isArray(Y)||!Array.isArray(J))return!1;const G=Y.length;if(G!==J.length)return!1;for(let Q=0;Q<G;++Q)if(!Z(Y[Q],J[Q]))return!1;return!0}if(Y.$__!=null)Y=Y._doc;else if(A$(Y))Y=Y.toObject();if(J.$__!=null)J=J._doc;else if(A$(J))J=J.toObject();const X=Object.keys(Y),$=Object.keys(J),W=X.length;if(W!==$.length)return!1;for(let G=W-1;G>=0;G--)if(X[G]!==$[G])return!1;for(let G of X)if(!Z(Y[G],J[G]))return!1;return!0};w21.last=function(Z){if(Z.length>0)return Z[Z.length-1];return};/*!
 * ignore
 */w21.promiseOrCallback=z21;/*!
 * ignore
 */w21.cloneArrays=function Z(Y){if(!Array.isArray(Y))return Y;return Y.map((J)=>w21.cloneArrays(J))};/*!
 * ignore
 */w21.omit=function Z(Y,J){if(J==null)return Object.assign({},Y);if(!Array.isArray(J))J=[J];const X=Object.assign({},Y);for(let $ of J)delete X[$];return X};w21.options=function(Z,Y){const J=Object.keys(Z);let X=J.length,$;Y=Y||{};while(X--)if($=J[X],!($ in Y))Y[$]=Z[$];return Y};w21.merge=function Z(Y,J,X,$){X=X||{};const W=Object.keys(J);let G=0;const Q=W.length;let K;if(J[vJ])Y[vJ]=J[vJ];$=$||"";const H=X.omitNested||{};while(G<Q){if(K=W[G++],X.omit&&X.omit[K])continue;if(H[$])continue;if(N$.has(K))continue;if(Y[K]==null)Y[K]=J[K];else if(w21.isObject(J[K])){if(!w21.isObject(Y[K]))Y[K]={};if(J[K]!=null){if(X.isDiscriminatorSchemaMerge&&(J[K].$isSingleNested&&Y[K].$isMongooseDocumentArray)||J[K].$isMongooseDocumentArray&&Y[K].$isSingleNested)continue;else if(J[K].instanceOfSchema){if(Y[K].instanceOfSchema)F21(Y[K],J[K].clone(),X.isDiscriminatorSchemaMerge);else Y[K]=J[K].clone();continue}else if(HZ(J[K],"ObjectId")){Y[K]=new G21(J[K]);continue}}Z(Y[K],J[K],X,$?$+"."+K:K)}else if(X.overwrite)Y[K]=J[K]}};w21.toObject=function Z(Y){qM||(qM=H6());let J;if(Y==null)return Y;if(Y instanceof qM)return Y.toObject();if(Array.isArray(Y)){J=[];for(let X of Y)J.push(Z(X));return J}if(w21.isPOJO(Y)){if(J={},Y[vJ])J[vJ]=Y[vJ];for(let X of Object.keys(Y)){if(N$.has(X))continue;J[X]=Z(Y[X])}return J}return Y};w21.isObject=K21;w21.isPOJO=aU();w21.isNonBuiltinObject=function Z(Y){return typeof Y==="object"&&!w21.isNativeObject(Y)&&!w21.isMongooseType(Y)&&!(Y instanceof $21)&&Y!=null};w21.isNativeObject=function(Z){return Array.isArray(Z)||Z instanceof Date||Z instanceof Boolean||Z instanceof Number||Z instanceof String};w21.isEmptyObject=function(Z){return Z!=null&&typeof Z==="object"&&Object.keys(Z).length===0};w21.hasKey=function Z(Y,J){const X=Object.keys(Y);for(let $ of X){if($===J)return!0;if(w21.isPOJO(Y[$])&&w21.hasKey(Y[$],J))return!0}return!1};w21.tick=function Z(Y){if(typeof Y!=="function")return;return function(){try{Y.apply(this,arguments)}catch(J){Q21(function(){throw J})}}};w21.isMongooseType=function(Z){return HZ(Z,"ObjectId")||HZ(Z,"Decimal128")||Z instanceof Buffer};w21.isMongooseObject=A$;w21.expires=function Z(Y){if(!(Y&&Y.constructor.name==="Object"))return;if(!("expires"in Y))return;Y.expireAfterSeconds=typeof Y.expires!=="string"?Y.expires:Math.round(W21(Y.expires)/1000),delete Y.expires};w21.populate=function Z(Y,J,X,$,W,G,Q,K){let H=null;if(arguments.length===1){if(Y instanceof Td)return Y._docs=[],Y._childDocs=[],[Y];if(Array.isArray(Y))return z(Y).map((U)=>w21.populate(U)[0]);if(w21.isObject(Y))H=Object.assign({},Y);else H={path:Y}}else if(typeof X==="object")H={path:Y,select:J,match:X,options:$};else H={path:Y,select:J,model:X,match:$,options:W,populate:G,justOne:Q,count:K};if(typeof H.path!=="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+typeof Y+"`");return U21(H);function z(F){const U=[];return F.forEach(function(q){if(LM.test(q.path))q.path.split(RM).forEach(function(L){const w=Object.assign({},q);w.path=L,U.push(w)});else U.push(q)}),U}};w21.getValue=function(Z,Y,J){return Pd.get(Z,Y,V21,J)};/*!
 * ignore
 */var q21=Object.freeze({getters:!1});w21.setValue=function(Z,Y,J,X,$){Pd.set(Z,Y,J,"_doc",X,$)};w21.object={};w21.object.vals=function Z(Y){const J=Object.keys(Y);let X=J.length;const $=[];while(X--)$.push(Y[J[X]]);return $};w21.object.shallowCopy=w21.options;var L21=Object.prototype.hasOwnProperty;w21.object.hasOwnProperty=function(Z,Y){return L21.call(Z,Y)};w21.isNullOrUndefined=function(Z){return Z===null||Z===void 0};/*!
 * ignore
 */w21.array={};w21.array.flatten=function Z(Y,J,X){return X||(X=[]),Y.forEach(function($){if(Array.isArray($))Z($,J,X);else if(!J||J($))X.push($)}),X};/*!
 * ignore
 */var R21=Object.prototype.hasOwnProperty;w21.hasUserDefinedProperty=function(Z,Y){if(Z==null)return!1;if(Array.isArray(Y)){for(let J of Y)if(w21.hasUserDefinedProperty(Z,J))return!0;return!1}if(R21.call(Z,Y))return!0;if(typeof Z==="object"&&Y in Z){const J=Z[Y];return J!==Object.prototype[Y]&&J!==Array.prototype[Y]}return!1};/*!
 * ignore
 */var Bd=Math.pow(2,32)-1;w21.isArrayIndex=function(Z){if(typeof Z==="number")return Z>=0&&Z<=Bd;if(typeof Z==="string"){if(!/^\d+$/.test(Z))return!1;return Z=+Z,Z>=0&&Z<=Bd}return!1};w21.array.unique=function(Z){const Y=new Set,J=new Set,X=[];for(let $ of Z)if(typeof $==="number"||typeof $==="string"||$==null){if(Y.has($))continue;X.push($),Y.add($)}else if(HZ($,"ObjectId")){if(J.has($.toString()))continue;X.push($),J.add($.toString())}else X.push($);return X};w21.buffer={};w21.buffer.areEqual=function(Z,Y){if(!Buffer.isBuffer(Z))return!1;if(!Buffer.isBuffer(Y))return!1;if(Z.length!==Y.length)return!1;for(let J=0,X=Z.length;J<X;++J)if(Z[J]!==Y[J])return!1;return!0};w21.getFunctionName=H21;w21.decorate=function(Z,Y){for(let J in Y){if(N$.has(J))continue;Z[J]=Y[J]}};w21.mergeClone=function(Z,Y){if(A$(Y))Y=Y.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});const J=Object.keys(Y),X=J.length;let $=0,W;while($<X){if(W=J[$++],N$.has(W))continue;if(typeof Z[W]==="undefined")Z[W]=VM(Y[W],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{let G=Y[W];if(G!=null&&G.valueOf&&!(G instanceof Date))G=G.valueOf();if(w21.isObject(G)){let Q=G;if(A$(G)&&!G.isMongooseBuffer)Q=Q.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});if(G.isMongooseBuffer)Q=Buffer.from(Q);w21.mergeClone(Z[W],Q)}else Z[W]=VM(G,{flattenDecimals:!1})}}};w21.each=function(Z,Y){for(let J of Z)Y(J)};w21.renameObjKey=function(Z,Y,J){return Object.keys(Z).reduce(($,W)=>{if(W===Y)$[J]=Z[Y];else $[W]=Z[W];return $},{})};/*!
 * ignore
 */w21.getOption=function(Z){const Y=Array.prototype.slice.call(arguments,1);for(let J of Y){if(J==null)continue;if(J[Z]!=null)return J[Z]}return null};/*!
 * ignore
 */w21.noop=function(){};w21.errorToPOJO=function Z(Y){if(!(Y instanceof Error))throw new Error("`error` must be `instanceof Error`.");const X={};for(let $ of Object.getOwnPropertyNames(Y))X[$]=Y[$];return X};/*!
 * ignore
 */w21.warn=function Z(Y){return process.emitWarning(Y,{code:"MONGOOSE"})};w21.injectTimestampsOption=function Z(Y,J){if(J==null)return;Y.timestamps=J}});var e0=R((WH,vd)=>{var D1=function(Z,Y,J){this[e21]=!0,this.path=Z,this.instance=J,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),Y=Y||{};const X=this.constructor.defaultOptions||{},$=Object.keys(X);for(let Q of $)if(X.hasOwnProperty(Q)&&!Object.prototype.hasOwnProperty.call(Y,Q))Y[Q]=X[Q];if(Y.select==null)delete Y.select;const W=this.OptionsConstructor||yd;if(this.options=new W(Y),this._index=null,_9.hasUserDefinedProperty(this.options,"immutable"))this.$immutable=this.options.immutable,MM(this);const G=Object.keys(this.options);for(let Q of G){if(Q==="cast"){if(Array.isArray(this.options[Q]))this.castFunction.apply(this,this.options[Q]);else this.castFunction(this.options[Q]);continue}if(_9.hasUserDefinedProperty(this.options,Q)&&typeof this[Q]==="function"){if(Q==="index"&&this._index){if(Y.index===!1){const z=this._index;if(typeof z==="object"&&z!=null){if(z.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(z.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}const K=Y[Q];if(Q==="default"){this.default(K);continue}const H=Array.isArray(K)?K:[K];this[Q].apply(this,H)}}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})},_d=function(Z,Y){if(Z!==void 0&&!Z){const X=new(Y.ErrorConstructor||AM)(Y);return X[gd]=!0,X}},xd=function(Z,Y){return this.castForQuery(null,Z,Y)},XI1=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){return J.castForQuery(null,X,Y)})},fd=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){if(Array.isArray(X)&&X.length===0)return X;return J.castForQuery(null,X,Y)})};/*!
 * Module dependencies.
 */var I$=e1(),yd=_6(),r21=kK(),t21=Ow(),$H=N0(),MM=Fm(),o21=qm(),BM=Lm(),kd=I6(),e21=$1().schemaTypeSymbol,_9=H1(),gd=$1().validatorErrorSymbol,ZI1=$1().documentIsModified,YI1=$1().populateModelSymbol,bd=I$.CastError,AM=I$.ValidatorError,JI1={_skipMarkModified:!0};D1.prototype.OptionsConstructor=yd;D1.prototype.path;D1.prototype.validators;D1.prototype.isRequired;D1.prototype.splitPath=function(){if(this._presplitPath!=null)return this._presplitPath;if(this.path==null)return;return this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath};D1.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=(J)=>J;return this._cast=Y,this._cast};D1.prototype.castFunction=function Z(Y,J){if(arguments.length===0)return this._castFunction;if(Y===!1)Y=this.constructor._defaultCaster||((X)=>X);if(typeof Y==="string")return this._castErrorMessage=Y,this._castFunction;if(Y!=null)this._castFunction=Y;if(J!=null)this._castErrorMessage=J;return this._castFunction};D1.prototype.cast=function Z(){throw new Error("Base SchemaType class does not implement a `cast()` function")};D1.set=function Z(Y,J){if(!this.hasOwnProperty("defaultOptions"))this.defaultOptions=Object.assign({},this.defaultOptions);this.defaultOptions[Y]=J};D1.get=function(Z){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(Z)};D1.prototype.default=function(Z){if(arguments.length===1){if(Z===void 0){this.defaultValue=void 0;return}if(Z!=null&&Z.instanceOfSchema)throw new I$("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=Z,this.defaultValue}else if(arguments.length>1)this.defaultValue=[...arguments];return this.defaultValue};D1.prototype.index=function(Z){return this._index=Z,_9.expires(this._index),this};D1.prototype.unique=function(Z){if(this._index===!1){if(!Z)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||this._index===!0)this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.unique=Z,this};D1.prototype.text=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index===null||this._index===void 0||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.text=Z,this};D1.prototype.sparse=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.sparse=Z,this};D1.prototype.immutable=function(Z){return this.$immutable=Z,MM(this),this};D1.prototype.transform=function(Z){return this.options.transform=Z,this};D1.prototype.set=function(Z){if(typeof Z!=="function")throw new TypeError("A setter must be a function.");return this.setters.push(Z),this};D1.prototype.get=function(Z){if(typeof Z!=="function")throw new TypeError("A getter must be a function.");return this.getters.push(Z),this};D1.prototype.validate=function(Z,Y,J){if(typeof Z==="function"||Z&&_9.getFunctionName(Z.constructor)==="RegExp"){let G;if(typeof Y==="function")G={validator:Z,message:Y},G.type=J||"user defined";else if(Y instanceof Object&&!J){if(G=BM(Y)?Object.assign({},Y):$H(Y),!G.message)G.message=G.msg;G.validator=Z,G.type=G.type||"user defined"}else{if(Y==null)Y=I$.messages.general.default;if(!J)J="user defined";G={message:Y,type:J,validator:Z}}return this.validators.push(G),this}let X,$,W;for(X=0,$=arguments.length;X<$;X++){if(W=arguments[X],!_9.isPOJO(W)){const G="Invalid validator. Received ("+typeof W+") "+W+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(G)}this.validate(W.validator,W)}return this};D1.prototype.required=function(Z,Y){let J={};if(arguments.length>0&&Z==null)return this.validators=this.validators.filter(function(W){return W.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(typeof Z==="object")J=Z,Y=J.message||Y,Z=Z.isRequired;if(Z===!1)return this.validators=this.validators.filter(function(W){return W.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;const X=this;if(this.isRequired=!0,this.requiredValidator=function(W){const G=this&&this.$__&&this.$__.cachedRequired;if(G!=null&&!this.$__isSelected(X.path)&&!this[ZI1](X.path))return!0;if(G!=null&&X.path in G){const Q=G[X.path]?X.checkRequired(W,this):!0;return delete G[X.path],Q}else if(typeof Z==="function")return Z.apply(this)?X.checkRequired(W,this):!0;return X.checkRequired(W,this)},this.originalRequiredValue=Z,typeof Z==="string")Y=Z,Z=void 0;const $=Y||I$.messages.general.required;return this.validators.unshift(Object.assign({},J,{validator:this.requiredValidator,message:$,type:"required"})),this};D1.prototype.ref=function(Z){return this.options.ref=Z,this};D1.prototype.getDefault=function(Z,Y,J){let X;if(typeof this.defaultValue==="function")if(this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid")X=this.defaultValue.call(Z);else X=this.defaultValue.call(Z,Z);else X=this.defaultValue;if(X!==null&&X!==void 0){if(typeof X==="object"&&(!this.options||!this.options.shared))X=$H(X);if(J&&J.skipCast)return this._applySetters(X,Z);const $=this.applySetters(X,Z,Y,void 0,JI1);if($&&!Array.isArray($)&&$.$isSingleNested)$.$__parent=Z;return $}return X};D1.prototype._applySetters=function(Z,Y,J,X,$){let W=Z;if(J)return W;const G=this.setters;for(let Q=G.length-1;Q>=0;Q--)W=G[Q].call(Y,W,X,this,$);return W};/*!
 * ignore
 */D1.prototype._castNullish=function Z(Y){return Y};D1.prototype.applySetters=function(Z,Y,J,X,$){let W=this._applySetters(Z,Y,J,X,$);if(W==null)return this._castNullish(W);return W=this.cast(W,Y,J,X,$),W};D1.prototype.applyGetters=function(Z,Y){let J=Z;const X=this.getters,$=X.length;if($===0)return J;for(let W=0;W<$;++W)J=X[W].call(Y,J,this);return J};D1.prototype.select=function Z(Y){return this.selected=!!Y,this};D1.prototype.doValidate=function(Z,Y,J,X){let $=!1;const W=this.path,G=this.validators.filter((H)=>typeof H==="object"&&H!==null);let Q=G.length;if(!Q)return Y(null);for(let H=0,z=G.length;H<z;++H){if($)break;const F=G[H],U=F.validator;let q;const V=BM(F)?Object.assign({},F):$H(F);if(V.path=X&&X.path?X.path:W,V.fullPath=this.$fullPath,V.value=Z,U instanceof RegExp){K(U.test(Z),V,J);continue}if(typeof U!=="function")continue;if(Z===void 0&&U!==this.requiredValidator){K(!0,V,J);continue}try{if(V.propsParameter)q=U.call(J,Z,V);else q=U.call(J,Z)}catch(L){if(q=!1,V.reason=L,L.message)V.message=L.message}if(q!=null&&typeof q.then==="function")q.then(function(L){K(L,V,J)},function(L){V.reason=L,V.message=L.message,q=!1,K(q,V,J)});else K(q,V,J)}function K(H,z,F){if($)return;if(H===void 0||H){if(--Q<=0)kd(function(){Y(null)})}else $=new(z.ErrorConstructor||AM)(z,F),$[gd]=!0,kd(function(){Y($)})}};D1.prototype.doValidateSync=function(Z,Y,J){const X=this.path;if(!this.validators.length)return null;let W=this.validators;if(Z===void 0)if(this.validators.length!==0&&this.validators[0].type==="required")W=[this.validators[0]];else return null;let G=null,Q=0;const K=W.length;for(Q=0;Q<K;++Q){const H=W[Q];if(H===null||typeof H!=="object")continue;const z=H.validator,F=BM(H)?Object.assign({},H):$H(H);F.path=J&&J.path?J.path:X,F.fullPath=this.$fullPath,F.value=Z;let U=!1;if(o21(z))continue;if(z instanceof RegExp){G=_d(z.test(Z),F);continue}if(typeof z!=="function")continue;try{if(F.propsParameter)U=z.call(Y,Z,F);else U=z.call(Y,Z)}catch(q){U=!1,F.reason=q}if(U!=null&&typeof U.then==="function")continue;if(G=_d(U,F),G)break}return G};D1._isRef=function(Z,Y,J,X){let $=X&&Z.options&&(Z.options.ref||Z.options.refPath);if(!$&&J&&J.$__!=null){const W=J.$__fullPath(Z.path,!0),G=J.ownerDocument();$=W!=null&&G.$populated(W)||J.$populated(Z.path)}if($){if(Y==null)return!0;if(!Buffer.isBuffer(Y)&&Y._bsontype!=="Binary"&&_9.isObject(Y))return!0;return X}return!1};/*!
 * ignore
 */D1.prototype._castRef=function Z(Y,J,X){if(Y==null)return Y;if(Y.$__!=null)return Y.$__.wasPopulated=Y.$__.wasPopulated||!0,Y;if(Buffer.isBuffer(Y)||!_9.isObject(Y)){if(X)return Y;throw new bd(this.instance,Y,this.path,null,this)}const $=J.$__fullPath(this.path,!0),G=J.ownerDocument().$populated($,!0);let Q=Y;if(!J.$__.populated||!J.$__.populated[$]||!J.$__.populated[$].options||!J.$__.populated[$].options.options||!J.$__.populated[$].options.options.lean)Q=new G.options[YI1](Y),Q.$__.wasPopulated=!0;return Q};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */D1.prototype.$conditionalHandlers={$all:XI1,$eq:xd,$in:fd,$ne:xd,$nin:fd,$exists:r21,$type:t21};D1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z);return X.call(this,Y,J)}return this.applySetters(Y,J)};D1.checkRequired=function(Z){if(arguments.length!==0)this._checkRequired=Z;return this._checkRequired};D1.prototype.checkRequired=function(Z){return Z!=null};D1.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,Z,this.instance);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;if(this.defaultValue!==void 0)Y.defaultValue=this.defaultValue;if(this.$immutable!==void 0&&this.options.immutable===void 0)Y.$immutable=this.$immutable,MM(Y);if(this._index!==void 0)Y._index=this._index;if(this.selected!==void 0)Y.selected=this.selected;if(this.isRequired!==void 0)Y.isRequired=this.isRequired;if(this.originalRequiredValue!==void 0)Y.originalRequiredValue=this.originalRequiredValue;return Y.getters=this.getters.slice(),Y.setters=this.setters.slice(),Y};/*!
 * Module exports.
 */vd.exports=WH=D1;WH.CastError=bd;WH.ValidatorError=AM});var md=R((Ge1,hd)=>{var c7=K7();class x6{constructor(Z){if(Object.assign(this,Z),Z!=null&&Z.options!=null)this.options=Object.assign({},Z.options)}}Object.defineProperty(x6.prototype,"ref",c7);Object.defineProperty(x6.prototype,"refPath",c7);Object.defineProperty(x6.prototype,"localField",c7);Object.defineProperty(x6.prototype,"foreignField",c7);Object.defineProperty(x6.prototype,"justOne",c7);Object.defineProperty(x6.prototype,"count",c7);Object.defineProperty(x6.prototype,"match",c7);Object.defineProperty(x6.prototype,"options",c7);Object.defineProperty(x6.prototype,"skip",c7);Object.defineProperty(x6.prototype,"limit",c7);Object.defineProperty(x6.prototype,"perDocumentLimit",c7);hd.exports=x6});var NM=R((Qe1,ud)=>{var zZ=function(Z,Y){this.path=Y,this.getters=[],this.setters=[],this.options=Object.assign({},Z)},$I1=H1();zZ.prototype._applyDefaultGetters=function(){if(this.getters.length>0||this.setters.length>0)return;const Y="$"+this.path;this.getters.push(function(){return this.$locals[Y]}),this.setters.push(function(J){this.$locals[Y]=J})};/*!
 * ignore
 */zZ.prototype.clone=function(){const Z=new zZ(this.options,this.path);return Z.getters=[].concat(this.getters),Z.setters=[].concat(this.setters),Z};zZ.prototype.get=function(Z){return this.getters.push(Z),this};zZ.prototype.set=function(Z){return this.setters.push(Z),this};zZ.prototype.applyGetters=function(Z,Y){if($I1.hasUserDefinedProperty(this.options,["ref","refPath"])&&Y.$$populatedVirtuals&&Y.$$populatedVirtuals.hasOwnProperty(this.path))Z=Y.$$populatedVirtuals[this.path];let J=Z;for(let X of this.getters)J=X.call(Y,J,this,Y);return J};zZ.prototype.applySetters=function(Z,Y){let J=Z;for(let X of this.setters)J=X.call(Y,J,this,Y);return J};/*!
 * exports
 */ud.exports=zZ});var IM=R((Ke1,dd)=>{dd.exports=function Z(Y){const J={_id:{auto:!0}};J._id[Y.options.typeKey]="ObjectId",Y.add(J)}});var DM=R((He1,cd)=>{cd.exports=function Z(Y,J){const X=Y.discriminatorMapping&&Y.discriminatorMapping.value;if(X&&!("sparse"in J)){const $=Y.options.discriminatorKey;J.partialFilterExpression=J.partialFilterExpression||{},J.partialFilterExpression[$]=X}return J}});var ld=R((ze1,pd)=>{var PM=V0(),WI1=_5(),GI1=DM();pd.exports=function Z(Y){let J=[];const X=new WeakMap,$=Y.constructor.indexTypes,W=new Map;return G(Y),J;function G(K,H,z){if(X.has(K))return;X.set(K,!0),H=H||"";const F=Object.keys(K.paths);for(let U of F){const q=K.paths[U];if(z!=null&&z.paths[U])continue;if(q.$isMongooseDocumentArray||q.$isSingleNested){if(PM(q,"options.excludeIndexes")!==!0&&PM(q,"schemaOptions.excludeIndexes")!==!0&&PM(q,"schema.options.excludeIndexes")!==!0)G(q.schema,H+U+".");if(q.schema.discriminators!=null){const L=q.schema.discriminators,w=Object.keys(L);for(let B of w)G(L[B],H+U+".",q.schema)}if(q.$isMongooseDocumentArray)continue}const V=q._index||q.caster&&q.caster._index;if(V!==!1&&V!==null&&V!==void 0){const L={},w=WI1(V),B=w?V:{},A=typeof V==="string"?V:w?V.type:!1;if(A&&$.indexOf(A)!==-1)L[H+U]=A;else if(B.text)L[H+U]="text",delete B.text;else{let I=!1;if(V==="descending"||V==="desc")I=!0;else if(V==="ascending"||V==="asc")I=!1;else I=Number(V)===-1;L[H+U]=I?-1:1}if(delete B.type,!("background"in B))B.background=!0;if(K.options.autoIndex!=null)B._autoIndex=K.options.autoIndex;const M=B&&B.name;if(typeof M==="string")if(W.has(M))Object.assign(W.get(M),L);else J.push([L,B]),W.set(M,L);else J.push([L,B]),W.set(M,L)}}if(X.delete(K),H)Q(K,H);else K._indexes.forEach(function(U){const q=U[1];if(!("background"in q))q.background=!0;GI1(K,q)}),J=J.concat(K._indexes)}function Q(K,H){const z=K._indexes,F=z.length;for(let U=0;U<F;++U){const q=z[U][0],V=z[U][1],L=Object.keys(q),w=L.length,B={};for(let M=0;M<w;++M){const I=L[M];B[H+I]=q[I]}const A=Object.assign({},V);if(V!=null&&V.partialFilterExpression!=null){A.partialFilterExpression={};const M=V.partialFilterExpression;for(let I of Object.keys(M))A.partialFilterExpression[H+I]=M[I]}J.push([B,A])}}}});var TM=R((Fe1,id)=>{id.exports=function Z(Y){switch(Y){case"p":Y="primary";break;case"pp":Y="primaryPreferred";break;case"s":Y="secondary";break;case"sp":Y="secondaryPreferred";break;case"n":Y="nearest";break}return Y}});var ad=R((Ue1,nd)=>{var QI1=function(){if(this._id!=null)return String(this._id);return null};/*!
 * ignore
 */nd.exports=function Z(Y){if(!(!Y.paths.id&&Y.paths._id&&Y.options.id))return Y;if(Y.aliases&&Y.aliases.id)return Y;return Y.virtual("id").get(QI1),Y}});var D$=R((qe1,sd)=>{sd.exports=function Z(Y){return Y.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}});var CM=R((Ve1,rd)=>{var KI1=function(Z,Y){if(Z==null)return null;if(typeof Z==="boolean")return Y;if(typeof Z[Y]==="boolean")return Z[Y]?Y:null;if(!(Y in Z))return Y;return Z[Y]};rd.exports=KI1;/*!
 * ignore
 */});var jM=R((Le1,td)=>{var x9=function(Z,Y,J){if(Y==null)return;if(Object.keys(Y).some((Q)=>Q[0]==="$")){if(Y.$push)G(Y.$push);if(Y.$addToSet)G(Y.$addToSet);if(Y.$set!=null){const Q=Object.keys(Y.$set);for(let K of Q)EM(J,K,Y.$set,Z)}if(Y.$setOnInsert!=null){const Q=Object.keys(Y.$setOnInsert);for(let K of Q)EM(J,K,Y.$setOnInsert,Z)}}const W=Object.keys(Y).filter((Q)=>Q[0]!=="$");for(let Q of W)EM(J,Q,Y,Z);function G(Q){for(let K of Object.keys(Q)){const H=J.path(K.replace(/\.\$\./i,".").replace(/.\$$/,""));if(Q[K]&&H&&H.$isMongooseDocumentArray&&H.schema.options.timestamps){const z=H.schema.options.timestamps,F=e4(z,"createdAt"),U=e4(z,"updatedAt");if(Q[K].$each)Q[K].$each.forEach(function(q){if(U!=null)q[U]=Z;if(F!=null)q[F]=Z;x9(Z,q,H.schema)});else{if(U!=null)Q[K][U]=Z;if(F!=null)Q[K][F]=Z;x9(Z,Q[K],H.schema)}}}}},zI1=function(Z,Y,J){const X=Y.schema.options.timestamps,$=Z.length;if(!X){for(let Q=0;Q<$;++Q)x9(J,Z[Q],Y.schema);return}const W=e4(X,"createdAt"),G=e4(X,"updatedAt");for(let Q=0;Q<$;++Q){if(G!=null)Z[Q][G]=J;if(W!=null)Z[Q][W]=J;x9(J,Z[Q],Y.schema)}},FI1=function(Z,Y,J){const X=Y.schema.options.timestamps;if(!X){x9(J,Z,Y.schema);return}const $=e4(X,"createdAt"),W=e4(X,"updatedAt");if(W!=null)Z[W]=J;if($!=null)Z[$]=J;x9(J,Z,Y.schema)},EM=function(Z,Y,J,X){const $=HI1(Y),W=Z.path($);if(!W)return;const G=[],Q=$.split(".");for(let K=Q.length-1;K>0;--K){const H=Z.path(Q.slice(0,K).join("."));if(H!=null&&(H.$isMongooseDocumentArray||H.$isSingleNested))G.push({parentPath:Y.split(".").slice(0,K).join("."),parentSchemaType:H})}if(Array.isArray(J[Y])&&W.$isMongooseDocumentArray)zI1(J[Y],W,X);else if(J[Y]&&W.$isSingleNested)FI1(J[Y],W,X);else if(G.length>0)for(let K of G){const{parentPath:H,parentSchemaType:z}=K,F=z.schema.options.timestamps,U=e4(F,"updatedAt");if(!F||U==null)continue;if(z.$isSingleNested)J[H+"."+U]=X;else if(z.$isMongooseDocumentArray){let q=Y.substring(H.length+1);if(/^\d+$/.test(q)){J[H+"."+q][U]=X;continue}const V=q.indexOf(".");q=V!==-1?q.substring(0,V):q,J[H+"."+q+"."+U]=X}}else if(W.schema!=null&&W.schema!=Z&&J[Y]){const K=W.schema.options.timestamps,H=e4(K,"createdAt"),z=e4(K,"updatedAt");if(!K)return;if(z!=null)J[Y][z]=X;if(H!=null)J[Y][H]=X}},HI1=D$(),e4=CM();td.exports=x9;/*!
 * ignore
 */});var OM=R((Re1,od)=>{var qI1=function(Z,Y,J,X,$,W){const G=X;let Q=G;const K=UI1($,"timestamps",!0);if(!K||G==null)return X;const H=K!=null&&K.createdAt===!1,z=K!=null&&K.updatedAt===!1;if(W){if(X&&X.$set)X=X.$set,G.$set={},Q=G.$set;if(!z&&J&&!X[J])Q[J]=Z;if(!H&&Y&&!X[Y])Q[Y]=Z;return G}if(X=X||{},Array.isArray(G)){if(J==null)return G;return G.push({$set:{[J]:Z}}),G}if(G.$set=G.$set||{},!z&&J&&(!X.$currentDate||!X.$currentDate[J])){let F=!1;if(J.indexOf(".")!==-1){const U=J.split(".");for(let q=1;q<U.length;++q){const V=U.slice(-q).join("."),L=U.slice(0,-q).join(".");if(X[L]!=null){X[L][V]=Z,F=!0;break}else if(X.$set&&X.$set[L]){X.$set[L][V]=Z,F=!0;break}}}if(!F)G.$set[J]=Z;if(G.hasOwnProperty(J))delete G[J]}if(!H&&Y){if(X[Y])delete X[Y];if(X.$set&&X.$set[Y])delete X.$set[Y];let F=!1;if(Y.indexOf(".")!==-1){const U=Y.split(".");for(let q=1;q<U.length;++q){const V=U.slice(-q).join("."),L=U.slice(0,-q).join(".");if(X[L]!=null){X[L][V]=Z,F=!0;break}else if(X.$set&&X.$set[L]){X.$set[L][V]=Z,F=!0;break}}}if(!F)G.$setOnInsert=G.$setOnInsert||{},G.$setOnInsert[Y]=Z}if(Object.keys(G.$set).length===0)delete G.$set;return G};/*!
 * ignore
 */var UI1=V0();od.exports=qI1;/*!
 * ignore
 */});var Zc=R((we1,ed)=>{ed.exports=function Z(Y,J,X,$,W){const G=J!=null&&J.updatedAt===!1,Q=J!=null&&J.createdAt===!1,K=X!=null?X():Y.ownerDocument().constructor.base.now();if(!Q&&(Y.isNew||Y.$isSubdocument)&&$&&!Y.$__getValue($)&&Y.$__isSelected($))Y.$set($,K,void 0,{overwriteImmutable:!0});if(!G&&W&&(Y.isNew||Y.$isModified())){let H=K;if(Y.isNew&&$!=null)H=Y.$__getValue($);Y.$set(W,H)}}});var $c=R((Me1,Xc)=>{var VI1=jM(),LI1=OM(),RI1=V0(),Yc=CM(),wI1=Zc(),MI1=E9(),Jc=new Set(["replaceOne","findOneAndReplace"]);Xc.exports=function Z(Y,J){const X=Y.childSchemas.find($);function $(F){return!!F.schema.options.timestamps}if(!J&&!X)return;const W=Yc(J,"createdAt"),G=Yc(J,"updatedAt"),Q=J!=null&&J.hasOwnProperty("currentTime")?J.currentTime:null,K={};if(Y.$timestamps={createdAt:W,updatedAt:G},W&&!Y.paths[W]){const F=Y.base!=null?Y.base.get("timestamps.createdAt.immutable"):null,U=F!=null?F:!0;K[W]={[Y.options.typeKey||"type"]:Date,immutable:U}}if(G&&!Y.paths[G])K[G]=Date;Y.add(K),Y.pre("save",function F(U){const q=RI1(this,"$__.saveOptions.timestamps");if(q===!1)return U();wI1(this,q,Q,W,G),U()}),Y.methods.initializeTimestamps=function(){const F=Q!=null?Q():this.constructor.base.now();if(W&&!this.get(W))this.$set(W,F);if(G&&!this.get(G))this.$set(G,F);if(this.$isSubdocument)return this;const U=this.$getAllSubdocs();for(let q of U)if(q.initializeTimestamps)q.initializeTimestamps();return this},z[MI1.builtInMiddleware]=!0;const H={query:!0,model:!1};Y.pre("findOneAndReplace",H,z),Y.pre("findOneAndUpdate",H,z),Y.pre("replaceOne",H,z),Y.pre("update",H,z),Y.pre("updateOne",H,z),Y.pre("updateMany",H,z);function z(F){const U=Q!=null?Q():this.model.base.now();if(Jc.has(this.op)&&this.getUpdate()==null)this.setUpdate({});LI1(U,W,G,this.getUpdate(),this._mongooseOptions,Jc.has(this.op)),VI1(U,this.getUpdate(),this.model.schema),F()}}});var Gc=R((Be1,Wc)=>{var NI1=function(Z,Y){if(typeof Z==="string")return;if(typeof Z==="function")return;throw new BI1('Invalid ref at path "'+Y+'". Got '+AI1.inspect(Z,{depth:0}))},BI1=z0(),AI1=import.meta.require("util");Wc.exports=NI1});var SM=R((Ae1,Qc)=>{Qc.exports=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"])});var GH=R((Ne1,Hc)=>{var Kc=function(Z,Y){const J=Y.schema.s.hooks.filter((X)=>{const $=DI1(X);if(X.name==="validate")return!!$.query;if(X.name==="deleteOne"||X.name==="updateOne")return!!$.query||Object.keys($).length===0;if(X.query!=null||X.document!=null)return!!X.query;return!0});Z.prototype._queryMiddleware=J},DI1=function(Z){const Y={};if(Z.hasOwnProperty("query"))Y.query=Z.query;if(Z.hasOwnProperty("document"))Y.document=Z.document;return Y};/*!
 * ignore
 */Hc.exports=Kc;var II1=SM();/*!
 * ignore
 */Kc.middlewareFunctions=II1.concat(["validate"])});var QH=R((Ie1,zc)=>{var P$=function(Z,Y,J){J=J||{};const X={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},$=J.decorateDoc?Z:Z.prototype;Z.$appliedHooks=!0;for(let H of Object.keys(Y.paths)){const z=Y.paths[H];let F=null;if(z.$isSingleNested)F=z.caster;else if(z.$isMongooseDocumentArray)F=z.Constructor;else continue;if(F.$appliedHooks)continue;if(P$(F,z.schema,{...J,isChildSchema:!0}),F.discriminators!=null){const U=Object.keys(F.discriminators);for(let q of U)P$(F.discriminators[q],F.discriminators[q].schema,J)}}const W=Y.s.hooks.filter((H)=>{if(H.name==="updateOne"||H.name==="deleteOne")return!!H.document;if(H.name==="remove"||H.name==="init")return H.document==null||!!H.document;if(H.query!=null||H.document!=null)return H.document!==!1;return!0}).filter((H)=>{if(Y.methods[H.name])return!H.fn[PI1.builtInMiddleware];return!0});Z._middleware=W,$.$__originalValidate=$.$__originalValidate||$.$__validate;const G=J&&J.isChildSchema?["save","validate","deleteOne"]:["save","validate"];for(let H of G){const z=H==="validate"?"$__originalValidate":`\$__${H}`,F=W.createWrapper(H,$[z],null,X);$[`\$__${H}`]=F}$.$__init=W.createWrapperSync("init",$.$__init,null,X);const Q=Object.keys(Y.methods),K=Object.assign({},X,{checkForPromise:!0});for(let H of Q){if(CI1.has(H))continue;if(!W.hasHooks(H))continue;const z=$[H];$[H]=function(){const F=Array.prototype.slice.call(arguments),U=F.slice(-1).pop(),q=typeof U==="function"?F.slice(0,F.length-1):F;return TI1(U,(V)=>{return this[`\$__${H}`].apply(this,q.concat([V]))},Z.events)},$[`\$__${H}`]=W.createWrapper(H,z,null,K)}},PI1=E9(),TI1=xK();/*!
 * ignore
 */zc.exports=P$;/*!
 * ignore
 */P$.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];/*!
 * ignore
 */var CI1=new Set(P$.middlewareFunctions.flatMap((Z)=>[Z,`\$__${Z}`]))});var T$=R((De1,qc)=>{var q6=function(Z,Y,J){let X=Z;if(Z==null)X=0;let $,W,G;if(Array.isArray(Y))W=Y[0],G=Y[1];else $=Y;let Q;if(typeof X==="number"||X instanceof Number)Q=Buffer.alloc(X);else Q=Buffer.from(X,$,J);return Fc.decorate(Q,q6.mixin),Q.isMongooseBuffer=!0,Q[q6.pathSymbol]=W,Q[Uc]=G,Q._subtype=0,Q};/*!
 * Module dependencies.
 */var kM=i6().Binary,Fc=H1(),EI1=Symbol.for("mongoose#Buffer#_path"),Uc=Symbol.for("mongoose#Buffer#_parent");q6.pathSymbol=EI1;/*!
 * Inherit from Buffer.
 */q6.mixin={_subtype:void 0,_markModified:function(){const Z=this[Uc];if(Z)Z.markModified(this[q6.pathSymbol]);return this},write:function(){const Z=Buffer.prototype.write.apply(this,arguments);if(Z>0)this._markModified();return Z},copy:function(Z){const Y=Buffer.prototype.copy.apply(this,arguments);if(Z&&Z.isMongooseBuffer)Z._markModified();return Y}};/*!
 * Compile other Buffer methods marking this buffer as modified.
 */Fc.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(Z){if(!Buffer.prototype[Z])return;q6.mixin[Z]=function(){const Y=Buffer.prototype[Z].apply(this,arguments);return this._markModified(),Y}});q6.mixin.toObject=function(Z){const Y=typeof Z==="number"?Z:this._subtype||0;return new kM(Buffer.from(this),Y)};q6.mixin.$toObject=q6.mixin.toObject;q6.mixin.toBSON=function(){return new kM(this,this._subtype||0)};q6.mixin.equals=function(Z){if(!Buffer.isBuffer(Z))return!1;if(this.length!==Z.length)return!1;for(let Y=0;Y<this.length;++Y)if(this[Y]!==Z[Y])return!1;return!0};q6.mixin.subtype=function(Z){if(typeof Z!=="number")throw new TypeError("Invalid subtype. Expected a number");if(this._subtype!==Z)this._markModified();this._subtype=Z};/*!
 * Module exports.
 */q6.Binary=kM;qc.exports=q6});var KH=R((Pe1,Mc)=>{var wc=function(Z){const Y=typeof Z;if(Y!=="string")throw new TypeError(`Mongoose maps only support string keys, got ${Y}`);if(Z.startsWith("$"))throw new Error(`Mongoose maps do not support keys that start with "\$", got "${Z}"`);if(Z.includes("."))throw new Error(`Mongoose maps do not support keys that contain ".", got "${Z}"`);if(xI1.has(Z))throw new Error(`Mongoose maps do not support reserved key name "${Z}"`)},jI1=j9(),OI1=z0(),Vc=N0(),SI1=H1().deepEqual,kI1=Q6(),_I1=mK(),Lc=import.meta.require("util"),xI1=sZ(),_M=o8(),Rc=$1().populateModelSymbol;/*!
 * ignore
 */class A4 extends Map{constructor(Z,Y,J,X){if(kI1(Z)==="Object")Z=Object.keys(Z).reduce(($,W)=>$.concat([[W,Z[W]]]),[]);super(Z);this.$__parent=J!=null&&J.$__!=null?J:null,this.$__path=Y,this.$__schemaType=X==null?new jI1(Y):X,this.$__runDeferred()}$init(Z,Y){if(wc(Z),super.set(Z,Y),Y!=null&&Y.$isSingleNested)Y.$basePath=this.$__path+"."+Z}$__set(Z,Y){super.set(Z,Y)}get(Z,Y){if(_M(Z,"ObjectId"))Z=Z.toString();if(Y=Y||{},Y.getters===!1)return super.get(Z);return this.$__schemaType.applyGetters(super.get(Z),this.$__parent)}set(Z,Y){if(_M(Z,"ObjectId"))Z=Z.toString();if(wc(Z),Y=_I1(Y),this.$__schemaType==null){this.$__deferred=this.$__deferred||[],this.$__deferred.push({key:Z,value:Y});return}let J;const X=this.$__parent,$=X!=null&&X.$__&&X.$__.populated?X.$populated(G.call(this),!0)||X.$populated(this.$__path,!0):null,W=this.get(Z);if($!=null){if(this.$__schemaType.$isSingleNested)throw new OI1("Cannot manually populate single nested subdoc underneath Map "+`at path "${this.$__path}". Try using an array instead of a Map.`);if(Array.isArray(Y)&&this.$__schemaType.$isMongooseArray)Y=Y.map((Q)=>{if(Q.$__==null)Q=new $.options[Rc](Q);return Q.$__.wasPopulated={value:Q._id},Q});else{if(Y.$__==null)Y=new $.options[Rc](Y);Y.$__.wasPopulated={value:Y._id}}}else try{const Q=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:G.call(this)}:null;Y=this.$__schemaType.applySetters(Y,this.$__parent,!1,this.get(Z),Q)}catch(Q){if(this.$__parent!=null&&this.$__parent.$__!=null){this.$__parent.invalidate(G.call(this),Q);return}throw Q}if(super.set(Z,Y),X!=null&&X.$__!=null&&!SI1(Y,W))X.markModified(G.call(this));function G(){if(J)return J;return J=this.$__path+"."+Z,J}}clear(){super.clear();const Z=this.$__parent;if(Z!=null)Z.markModified(this.$__path)}delete(Z){if(_M(Z,"ObjectId"))Z=Z.toString();return this.set(Z,void 0),super.delete(Z)}toBSON(){return new Map(this)}toObject(Z){if(Z&&Z.flattenMaps){const Y={},J=this.keys();for(let X of J)Y[X]=Vc(this.get(X),Z);return Y}return new Map(this)}$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)}toJSON(Z){if(typeof(Z&&Z.flattenMaps)==="boolean"?Z.flattenMaps:!0){const Y={},J=this.keys();for(let X of J)Y[X]=Vc(this.get(X),Z);return Y}return new Map(this)}inspect(){return new Map(this)}$__runDeferred(){if(!this.$__deferred)return;for(let Z of this.$__deferred)this.set(Z.key,Z.value);this.$__deferred=null}}if(Lc.inspect.custom)Object.defineProperty(A4.prototype,Lc.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:A4.prototype.inspect});Object.defineProperty(A4.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(A4.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(A4.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(A4.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(A4.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0});Object.defineProperty(A4.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0});Mc.exports=A4});var Ac=R((Te1,Bc)=>{Bc.exports=i6().UUID});var hJ=R((fI1)=>{/*!
 * Module exports.
 */fI1.Array=sw();fI1.Buffer=T$();fI1.Document=fI1.Embedded=fJ();fI1.DocumentArray=S9();fI1.Decimal128=OG();fI1.ObjectId=y4();fI1.Map=KH();fI1.Subdocument=cK();fI1.UUID=Ac()});var Ic=R((je1,Nc)=>{var pI1=_6();class C$ extends pI1{}var xM=K7();Object.defineProperty(C$.prototype,"enum",xM);Object.defineProperty(C$.prototype,"of",xM);Object.defineProperty(C$.prototype,"castNonArrays",xM);/*!
 * ignore
 */Nc.exports=C$});var Pc=R((Oe1,Dc)=>{var fM=function(Z){if(!Array.isArray(Z))return{min:0,max:0,containsNonArrayItem:!0};if(Z.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(Z.length===1&&!Array.isArray(Z[0]))return{min:1,max:1,containsNonArrayItem:!1};const Y=fM(Z[0]);for(let J=1;J<Z.length;++J){const X=fM(Z[J]);if(X.min<Y.min)Y.min=X.min;if(X.max>Y.max)Y.max=X.max;Y.containsNonArrayItem=Y.containsNonArrayItem||X.containsNonArrayItem}return Y.min=Y.min+1,Y.max=Y.max+1,Y};Dc.exports=fM});var E$=R((Se1,Cc)=>{var Tc=import.meta.require("assert");Cc.exports=function Z(Y){if(Y==null)return Y;if(Y==="")return null;if(typeof Y==="string"||typeof Y==="boolean")Y=Number(Y);if(Tc.ok(!isNaN(Y)),Y instanceof Number)return Y.valueOf();if(typeof Y==="number")return Y;if(!Array.isArray(Y)&&typeof Y.valueOf==="function")return Number(Y.valueOf());if(Y.toString&&!Array.isArray(Y)&&Y.toString()==Number(Y))return Number(Y);Tc.ok(!1)}});var Oc=R((ke1,jc)=>{var z7=function(Z,Y,J){if(j$(Z)||Z===null)return Z;if(Z.$cond!=null)if(Array.isArray(Z.$cond))Z.$cond=Z.$cond.map(($)=>z7($,Y,J));else Z.$cond.if=z7(Z.$cond.if,Y,J),Z.$cond.then=z7(Z.$cond.then,Y,J),Z.$cond.else=z7(Z.$cond.else,Y,J);else if(Z.$ifNull!=null)Z.$ifNull.map(($)=>z7($,Y,J));else if(Z.$switch!=null)Z.branches.map(($)=>z7($,Y,J)),Z.default=z7(Z.default,Y,J);const X=Object.keys(Z);for(let $ of X)if(lI1.has($))Z[$]=Z[$].map((W)=>z7(W,Y,J));else if(iI1.has($))Z[$]=YD1(Z[$],Y,J);else if(nI1.has($))Z[$]=ZD1(Z[$],Y,J);else if(aI1.has($))Z[$]=yM(Z[$],Y,J);else if(tI1.has($))Z[$]=z7(Z[$],Y,J);if(Z.$in)Z.$in=eI1(Z.$in,Y,J);if(Z.$size)Z.$size=yM(Z.$size,Y,J);if(Z.$round){const $=Z.$round;if(!Array.isArray($)||$.length<1||$.length>2)throw new mJ("Array",$,"$round");Z.$round=$.map((W)=>yM(W,Y,J))}return oI1(Z),Z},oI1=function(Z){const Y=Object.keys(Z);for(let J=0,X=Y.length;J<X;++J)Z[Y[J]]===void 0&&delete Z[Y[J]]},yM=function(Z){if(!zH(Z))return Z;try{return HH(Z)}catch(Y){throw new mJ("Number",Z)}},eI1=function(Z,Y,J){const X=Z[1];if(!j$(X))return Z;const $=Z[0],W=Y.path(X.slice(1));if(W===null){if(J===!1)return Z;else if(J==="throw")throw new Ec("$in");return}if(!W.$isMongooseArray)throw new Error("Path must be an array for $in");return[W.$isMongooseDocumentArray?W.$embeddedSchemaType.cast($):W.caster.cast($),X]},ZD1=function(Z){if(!Array.isArray(Z)){if(!zH(Z))return Z;try{return HH(Z)}catch(Y){throw new mJ("Number",Z)}}return Z.map((Y)=>{if(!zH(Y))return Y;try{return HH(Y)}catch(J){throw new mJ("Number",Y)}})},YD1=function(Z,Y,J){if(!Array.isArray(Z)||Z.length!==2)throw new Error("Comparison operator must be an array of length 2");Z[0]=z7(Z[0],Y,J);const X=Z[0];if(zH(Z[1])){let $=null,W=null,G=null;if(j$(X))$=X.slice(1),W=Y.path($);else if(typeof X==="object"&&X!=null){for(let K of Object.keys(X))if(rI1.has(K)&&j$(X[K]))$=X[K].slice(1)+"."+K,G=HH;else if(sI1.has(K)&&j$(X[K])){if($=X[K].slice(1)+"."+K,W=Y.path(X[K].slice(1)),W!=null){if(W.$isMongooseDocumentArray)W=W.$embeddedSchemaType;else if(W.$isMongooseArray)W=W.caster}}}const Q=typeof Z[1]==="object"&&Z[1]!=null&&Z[1].$literal!=null;if(W!=null)if(Q)Z[1]={$literal:W.cast(Z[1].$literal)};else Z[1]=W.cast(Z[1]);else if(G!=null)if(Q)try{Z[1]={$literal:G(Z[1].$literal)}}catch(K){throw new mJ(G.name.replace(/^cast/,""),Z[1],$+".$literal")}else try{Z[1]=G(Z[1])}catch(K){throw new mJ(G.name.replace(/^cast/,""),Z[1],$)}else if($!=null&&J===!0)return;else if($!=null&&J==="throw")throw new Ec($)}else Z[1]=z7(Z[1]);return Z},j$=function(Z){return typeof Z==="string"&&Z[0]==="$"},zH=function(Z){if(typeof Z==="string"&&Z[0]==="$")return!1;if(typeof Z==="object"&&Z!==null&&Object.keys(Z).find((Y)=>Y[0]==="$"))return Z.$literal!=null;return!0},mJ=h8(),Ec=WZ(),HH=E$(),lI1=new Set(["$and","$or"]),iI1=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),nI1=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),aI1=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),sI1=new Set(["$arrayElemAt","$first","$last"]),rI1=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),tI1=new Set(["$not"]);jc.exports=function Z(Y,J,X){if(typeof Y!=="object"||Y===null)throw new Error("`$expr` must be an object");return z7(Y,J,X)}});var gM=R((_e1,Sc)=>{var JD1=h8();Sc.exports=function Z(Y,J){if(Y==null)return Y;if(Y._id&&typeof Y._id==="string")return Y._id;if(Y.toString&&Y.toString!==Object.prototype.toString&&!Array.isArray(Y))return Y.toString();throw new JD1("string",Y,J)}});var fc=R((xe1,xc)=>{var XD1=h8(),kc=SK(),_c=gM();xc.exports=function(Z,Y){if(Z==null||typeof Z!=="object")throw new XD1("$text",Z,Y);if(Z.$search!=null)Z.$search=_c(Z.$search,Y+".$search");if(Z.$language!=null)Z.$language=_c(Z.$language,Y+".$language");if(Z.$caseSensitive!=null)Z.$caseSensitive=kc(Z.$caseSensitive,Y+".$castSensitive");if(Z.$diacriticSensitive!=null)Z.$diacriticSensitive=kc(Z.$diacriticSensitive,Y+".$diacriticSensitive");return Z}});var FH=R((fe1,yc)=>{var $D1=new Set(["$ref","$id","$db"]);yc.exports=function Z(Y){return Y[0]==="$"&&!$D1.has(Y)}});var uJ=R((ye1,mc)=>{var mM=function(Z,Y,J){if(Array.isArray(Z))Z.forEach(function(X,$){if(Array.isArray(X)||hM(X))return mM(X,Y,J);Z[$]=Y.castForQuery(null,X,J)});else{const X=Object.keys(Z);let $=X.length;while($--){const W=X[$],G=Z[W];if(Array.isArray(G)||hM(G))mM(G,Y,J),Z[W]=G;else Z[W]=Y.castForQuery({val:G,context:J})}}},FD1=function(Z,Y,J,X){if("strictQuery"in Z)return Z.strictQuery;if("strictQuery"in Y)return Y.strictQuery;const $=X&&X.mongooseCollection&&X.mongooseCollection.conn&&X.mongooseCollection.conn.base&&X.mongooseCollection.conn.base.options;if($){if("strictQuery"in $)return $.strictQuery}return J.strictQuery};/*!
 * Module dependencies.
 */var gc=h8(),bM=WZ(),WD1=O$(),GD1=Oc(),QD1=fc(),KD1=V0(),bc=hK(),vc=FH(),HD1=import.meta.require("util"),hM=_5(),vM=Y3(),hc=H1(),zD1=["Polygon","MultiPolygon"];mc.exports=function Z(Y,J,X,$){if(Array.isArray(J))throw new Error("Query filter must be an object, got an array ",HD1.inspect(J));if(J==null)return J;if(Y!=null&&Y.discriminators!=null&&J[Y.options.discriminatorKey]!=null)Y=bc(Y,J[Y.options.discriminatorKey])||Y;const W=Object.keys(J);let G=W.length,Q,K,H,z,F,U,q;X=X||{};while(G--)if(F=W[G],q=J[F],F==="$or"||F==="$nor"||F==="$and"){if(!Array.isArray(q))throw new gc("Array",q,F);for(let V=0;V<q.length;++V){if(q[V]==null||typeof q[V]!=="object")throw new gc("Object",q[V],F+"."+V);const L=q[V][Y.options.discriminatorKey];if(L==null)q[V]=Z(Y,q[V],X,$);else{const w=bc($.schema,L);q[V]=Z(w?w:Y,q[V],X,$)}}}else if(F==="$where"){if(U=typeof q,U!=="string"&&U!=="function")throw new Error("Must have a string or function for $where");if(U==="function")J[F]=q.toString();continue}else if(F==="$expr"){q=GD1(q,Y);continue}else if(F==="$elemMatch")q=Z(Y,q,X,$);else if(F==="$text")q=QD1(q,F);else{if(!Y)continue;if(H=Y.path(F),!H){const V=F.split(".");let L=V.length;while(L--){const w=V.slice(0,L).join("."),B=V.slice(L).join("."),A=Y.path(w),M=A&&A.schema&&A.schema.options&&A.schema.options.discriminatorKey;if(A!=null&&(A.schema&&A.schema.discriminators)!=null&&M!=null&&B!==M){const I=KD1(J,w+"."+M),x=A.schema.discriminators;if(typeof I==="string"&&x[I]!=null)H=x[I].path(B);else if(I!=null&&Object.keys(I).length===1&&Array.isArray(I.$in)&&I.$in.length===1&&typeof I.$in[0]==="string"&&x[I.$in[0]]!=null)H=x[I.$in[0]].path(B)}}}if(!H){const V=F.split(".");let L=V.length,w,B,A;while(L--)if(w=V.slice(0,L).join("."),H=Y.path(w),H)break;if(H){if(H.caster&&H.caster.schema){A={},B=V.slice(L).join("."),A[B]=q;const x=Z(H.caster.schema,A,X,$)[B];if(x===void 0)delete J[F];else J[F]=x}else J[F]=q;continue}if(hM(q)){let x="";if(q.$near)x="$near";else if(q.$nearSphere)x="$nearSphere";else if(q.$within)x="$within";else if(q.$geoIntersects)x="$geoIntersects";else if(q.$geoWithin)x="$geoWithin";if(x){const j=new WD1.Number("__QueryCasting__");let E=q[x];if(q.$maxDistance!=null)q.$maxDistance=j.castForQuery(null,q.$maxDistance,$);if(q.$minDistance!=null)q.$minDistance=j.castForQuery(null,q.$minDistance,$);if(x==="$within"){const D=E.$center||E.$centerSphere||E.$box||E.$polygon;if(!D)throw new Error("Bad $within parameter: "+JSON.stringify(q));E=D}else if(x==="$near"&&typeof E.type==="string"&&Array.isArray(E.coordinates))E=E.coordinates;else if((x==="$near"||x==="$nearSphere"||x==="$geoIntersects")&&E.$geometry&&typeof E.$geometry.type==="string"&&Array.isArray(E.$geometry.coordinates)){if(E.$maxDistance!=null)E.$maxDistance=j.castForQuery(null,E.$maxDistance,$);if(E.$minDistance!=null)E.$minDistance=j.castForQuery(null,E.$minDistance,$);if(vM(E.$geometry))E.$geometry=E.$geometry.toObject({transform:!1,virtuals:!1});E=E.$geometry.coordinates}else if(x==="$geoWithin"){if(E.$geometry){if(vM(E.$geometry))E.$geometry=E.$geometry.toObject({virtuals:!1});const D=E.$geometry.type;if(zD1.indexOf(D)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+D+'", must be "Polygon" or "MultiPolygon"');E=E.$geometry.coordinates}else if(E=E.$box||E.$polygon||E.$center||E.$centerSphere,vM(E))E=E.toObject({virtuals:!1})}mM(E,j,$);continue}}if(Y.nested[F])continue;const M="strict"in X?X.strict:Y.options.strict,I=FD1(X,Y._userProvidedOptions,Y.options,$);if(X.upsert&&M){if(M==="throw")throw new bM(F);throw new bM(F,'Path "'+F+'" is not in schema, strict mode is `true`, and upsert is `true`.')}if(I==="throw")throw new bM(F,'Path "'+F+'" is not in schema and strictQuery is \'throw\'.');else if(I)delete J[F]}else if(q==null)continue;else if(hc.isPOJO(q))if(K=Object.keys(q).some(vc),!K)J[F]=H.castForQuery(null,q,$);else{const V=Object.keys(q);let L,w=V.length;while(w--)if(L=V[w],z=q[L],L==="$elemMatch"){if(z&&H!=null&&H.schema!=null)Z(H.schema,z,X,$);else if(z&&H!=null&&H.$isMongooseArray)if(hc.isPOJO(z)&&z.$not!=null)Z(Y,z,X,$);else q[L]=H.castForQuery(L,z,$)}else if(L==="$not"){if(z&&H){if(Q=Object.keys(z),Q.length&&vc(Q[0]))for(let B in z)z[B]=H.castForQuery(B,z[B],$);else q[L]=H.castForQuery(L,z,$);continue}}else q[L]=H.castForQuery(L,z,$)}else if(Array.isArray(q)&&["Buffer","Array"].indexOf(H.instance)===-1){const V=[],L=q;for(let w of L)V.push(H.castForQuery(null,w,$));J[F]={$in:V}}else J[F]=H.castForQuery(null,q,$)}return J}});var dc=R((ge1,uc)=>{var UD1=_6();class dJ extends UD1{}var UH=K7();Object.defineProperty(dJ.prototype,"min",UH);Object.defineProperty(dJ.prototype,"max",UH);Object.defineProperty(dJ.prototype,"enum",UH);Object.defineProperty(dJ.prototype,"populate",UH);/*!
 * ignore
 */uc.exports=dJ});var qH=R((be1,pc)=>{var VD1=function(Z){const Y=this;if(Array.isArray(Z))return Z.map(function(J){return cc(Y.path,J)});else if(Buffer.isBuffer(Z))return Z;return cc(Y.path,Z)},cc=function(Z,Y){const J=Number(Y);if(isNaN(J))throw new qD1("number",Y,Z);return J};/*!
 * Module requirements.
 */var qD1=h8();/*!
 * ignore
 *//*!
 * ignore
 */pc.exports=VD1});var uM=R((ve1,ic)=>{var L0=function(Z,Y){Z5.call(this,Z,Y,"Number")},LH=function(Z){return this.cast(Z)},wD1=function(Z){const Y=this;if(!Array.isArray(Z))return[this.cast(Z)];return Z.map(function(J){return Y.cast(J)})};/*!
 * Module requirements.
 */var RH=e1(),LD1=dc(),Z5=e0(),RD1=E$(),VH=qH(),wH=H1(),lc=Z5.CastError;L0.get=Z5.get;L0.set=Z5.set;L0.setters=[];/*!
 * ignore
 */L0._cast=RD1;L0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */L0._defaultCaster=(Z)=>{if(typeof Z!=="number")throw new Error;return Z};L0.schemaName="Number";L0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */L0.prototype=Object.create(Z5.prototype);L0.prototype.constructor=L0;L0.prototype.OptionsConstructor=LD1;/*!
 * ignore
 */L0._checkRequired=(Z)=>typeof Z==="number"||Z instanceof Number;L0.checkRequired=Z5.checkRequired;L0.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&Z5._isRef(this,Y,J,!0))return Y!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():L0.checkRequired())(Y)};L0.prototype.min=function(Z,Y){if(this.minValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minValidator},this);if(Z!==null&&Z!==void 0){let J=Y||RH.messages.Number.min;J=J.replace(/{MIN}/,Z),this.validators.push({validator:this.minValidator=function(X){return X==null||X>=Z},message:J,type:"min",min:Z})}return this};L0.prototype.max=function(Z,Y){if(this.maxValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxValidator},this);if(Z!==null&&Z!==void 0){let J=Y||RH.messages.Number.max;J=J.replace(/{MAX}/,Z),this.validators.push({validator:this.maxValidator=function(X){return X==null||X<=Z},message:J,type:"max",max:Z})}return this};L0.prototype.enum=function(Z,Y){if(this.enumValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.enumValidator},this);if(!Array.isArray(Z)){if(wH.isPOJO(Z)&&Z.values!=null)Y=Z.message,Z=Z.values;else if(typeof Z==="number")Z=Array.prototype.slice.call(arguments),Y=null;if(wH.isPOJO(Z))Z=Object.values(Z);Y=Y||RH.messages.Number.enum}return Y=Y==null?RH.messages.Number.enum:Y,this.enumValidator=(J)=>J==null||Z.indexOf(J)!==-1,this.validators.push({validator:this.enumValidator,message:Y,type:"enum",enumValues:Z}),this};L0.prototype.cast=function(Z,Y,J){if(typeof Z!=="number"&&Z5._isRef(this,Z,Y,J)){if(Z==null||wH.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}const X=Z&&typeof Z._id!=="undefined"?Z._id:Z;let $;if(typeof this._castFunction==="function")$=this._castFunction;else if(typeof this.constructor.cast==="function")$=this.constructor.cast();else $=L0.cast();try{return $(X)}catch(W){throw new lc("Number",X,this.path,W,this)}};/*!
 * ignore
 */L0.prototype.$conditionalHandlers=wH.options(Z5.prototype.$conditionalHandlers,{$bitsAllClear:VH,$bitsAnyClear:VH,$bitsAllSet:VH,$bitsAnySet:VH,$gt:LH,$gte:LH,$lt:LH,$lte:LH,$mod:wD1});L0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new lc("number",Y,this.path,null,this);return X.call(this,Y,J)}return Y=this.applySetters(Y,J),Y};/*!
 * Module exports.
 */ic.exports=L0});var S$=R((BD1)=>{var nc=function(Z){return MD1.cast()(Z)},ac=function(Z,Y){Z.forEach(function(J,X){if(Array.isArray(J))ac(J,Y);else Z[X]=nc.call(Y,J)})};/*!
 * Module requirements.
 */var MD1=uM();/*!
 * ignore
 */BD1.castToNumber=nc;BD1.castArraysOfNumbers=ac;/*!
 * ignore
 */});var pM=R((TD1)=>{var ID1=function(Z){const Y=MH();if(Array.isArray(Z))return sc(Z,this),Z;if(cM(this,Z),Z&&Z.$geometry)return dM(Z,this);if(!Array.isArray(Z))throw new TypeError("$near must be either an array or an object with a $geometry property");return Y.prototype.castForQuery.call(this,null,Z)},dM=function(Z,Y){switch(Z.$geometry.type){case"Polygon":case"LineString":case"Point":sc(Z.$geometry.coordinates,Y);break;default:break}return cM(Y,Z),Z},DD1=function(Z){if(cM(this,Z),Z.$box||Z.$polygon){const Y=Z.$box?"$box":"$polygon";Z[Y].forEach((J)=>{if(!Array.isArray(J)){const X="Invalid $within $box argument. Expected an array, received "+J;throw new TypeError(X)}J.forEach((X,$)=>{J[$]=k$.call(this,X)})})}else if(Z.$center||Z.$centerSphere){const Y=Z.$center?"$center":"$centerSphere";Z[Y].forEach((J,X)=>{if(Array.isArray(J))J.forEach(($,W)=>{J[W]=k$.call(this,$)});else Z[Y][X]=k$.call(this,J)})}else if(Z.$geometry)dM(Z,this);return Z},PD1=function(Z){if(!Z.$geometry)return;return dM(Z,this),Z},cM=function(Z,Y){if(Y.$maxDistance)Y.$maxDistance=k$.call(Z,Y.$maxDistance);if(Y.$minDistance)Y.$minDistance=k$.call(Z,Y.$minDistance)};/*!
 * Module requirements.
 */var sc=S$().castArraysOfNumbers,k$=S$().castToNumber;/*!
 * ignore
 */TD1.cast$geoIntersects=PD1;TD1.cast$near=ID1;TD1.cast$within=DD1});var MH=R((ue1,tc)=>{var p1=function(Z,Y,J,X){BH||(BH=hJ().Embedded);let $="type";if(X&&X.typeKey)$=X.typeKey;if(this.schemaOptions=X,Y){let Q={};if(f9.isPOJO(Y))if(Y[$])Q=fD1(Y),delete Q[$],Y=Y[$];else Y=NH;if(J!=null&&J.ref!=null&&Q.ref==null)Q.ref=J.ref;if(Y===Object)Y=NH;const K=typeof Y==="string"?Y:f9.getFunctionName(Y),H=O$(),z=H.hasOwnProperty(K)?H[K]:Y;if(this.casterConstructor=z,this.casterConstructor instanceof p1)this.casterConstructor[rc]=!0;if(typeof z==="function"&&!z.$isArraySubdocument&&!z.$isSchemaMap){const F=this.caster instanceof BH?null:Z;this.caster=new z(F,Q)}else if(this.caster=z,!(this.caster instanceof BH))this.caster.path=Z;this.$embeddedSchemaType=this.caster}this.$isMongooseArray=!0,F7.call(this,Z,J,"Array");let W,G;if(this.defaultValue!=null)W=this.defaultValue,G=typeof W==="function";if(!("defaultValue"in this)||this.defaultValue!==void 0){const Q=function(){return G?W.call(this):W!=null?[].concat(W):[]};Q.$runBeforeSetters=!G,this.default(Q)}},hD1=function(Z,Y){if(!Array.isArray(Z))Z=[Z];return Z=Z.map((J)=>{if(!f9.isObject(J))return J;if(J.$elemMatch!=null)return{$elemMatch:x$(this.casterConstructor.schema,J.$elemMatch,null,this&&this.$$context)};const X={};return X[this.path]=J,x$(this.casterConstructor.schema,X,null,this&&this.$$context)[this.path]},this),this.castForQuery(null,Z,Y)},mD1=function(Z,Y){const J=Object.keys(Z),X=J.length;for(let Q=0;Q<X;++Q){const K=J[Q],H=Z[K];if(yD1(K)&&H!=null)Z[K]=this.castForQuery(K,H,Y)}const $=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,W=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if($!=null&&Z[$]!=null&&W[Z[$]]!=null)return x$(W[Z[$]],Z,null,this&&this.$$context);const G=this.casterConstructor.schema??Y.schema;return x$(G,Z,null,this&&this.$$context)},iM=function(Z){return function Y(J){if(!Array.isArray(J))throw new TypeError("conditional "+Z+" requires an array");const X=[];for(let $ of J)X.push(x$(this.casterConstructor.schema,$,null,this&&this.$$context));return X}};/*!
 * Module dependencies.
 */var OD1=kK(),SD1=Ow(),kD1=z0(),_D1=Ic(),F7=e0(),AH=F7.CastError,NH=j9(),xD1=Pc(),x$=uJ(),fD1=N0(),yD1=FH(),IH=import.meta.require("util"),f9=H1(),gD1=S$().castToNumber,lM=pM(),bD1=u7(),_$,BH,rc=Symbol("mongoose#isNestedArray"),vD1=Object.freeze({});p1.schemaName="Array";p1.options={castNonArrays:!0};/*!
 * ignore
 */p1.defaultOptions={};p1.set=F7.set;p1.setters=[];p1.get=F7.get;/*!
 * Inherits from SchemaType.
 */p1.prototype=Object.create(F7.prototype);p1.prototype.constructor=p1;p1.prototype.OptionsConstructor=_D1;/*!
 * ignore
 */p1._checkRequired=F7.prototype.checkRequired;p1.checkRequired=F7.checkRequired;p1.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&F7._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():p1.checkRequired())(Y)};p1.prototype.enum=function(){let Z=this;while(!0){const J=Z&&Z.caster&&Z.caster.instance;if(J==="Array"){Z=Z.caster;continue}if(J!=="String"&&J!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+J);break}let Y=arguments;if(!Array.isArray(arguments)&&f9.isObject(arguments))Y=f9.object.vals(Y);return Z.caster.enum.apply(Z.caster,Y),this};p1.prototype.applyGetters=function(Z,Y){if(Y!=null&&Y.$__!=null&&Y.$populated(this.path))return Z;return F7.prototype.applyGetters.call(this,Z,Y)};p1.prototype._applySetters=function(Z,Y,J,X){if(this.casterConstructor.$isMongooseArray&&p1.options.castNonArrays&&!this[rc]){let $=0,W=this;while(W!=null&&W.$isMongooseArray&&!W.$isMongooseDocumentArray)++$,W=W.casterConstructor;if(Z!=null&&Z.length!==0){const G=xD1(Z);if(G.min===G.max&&G.max<$&&G.containsNonArrayItem)for(let Q=G.max;Q<$;++Q)Z=[Z]}}return F7.prototype._applySetters.call(this,Z,Y,J,X)};p1.prototype.cast=function(Z,Y,J,X,$){_$||(_$=hJ().Array);let W,G;if(Array.isArray(Z)){if(!Z.length&&Y){const q=Y.schema.indexedPaths(),V=this.path;for(W=0,G=q.length;W<G;++W){const w=q[W][0][V];if(w==="2dsphere"||w==="2d")return}const L=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(L!=null){for(W=0,G=q.length;W<G;++W)if(q[W][0][L]==="2dsphere")return}}$=$||vD1;let H=f9.isMongooseArray(Z)?Z.__array:Z,z=$.path||this.path;if($.arrayPathIndex!=null)z+="."+$.arrayPathIndex;if(Z=_$(H,z,Y,this),H=Z.__array,J&&Y!=null&&Y.$__!=null&&Y.$populated(this.path))return Z;const F=this.caster,U=F.$isMongooseArray;if(F&&this.casterConstructor!==NH)try{const q=H.length;for(W=0;W<q;W++){const V={};if(U){if($.arrayPath!=null)V.arrayPathIndex=W;else if(F._arrayParentPath!=null)V.arrayPathIndex=W}H[W]=F.applySetters(H[W],Y,J,void 0,V)}}catch(q){throw new AH("["+q.kind+"]",IH.inspect(Z),this.path+"."+W,q,this)}return Z}const Q=this.options.castNonArrays!=null?this.options.castNonArrays:p1.options.castNonArrays;if(J||Q){if(!!Y&&!!J)Y.markModified(this.path);return this.cast([Z],Y,J)}throw new AH("Array",IH.inspect(Z),this.path,null,this)};/*!
 * ignore
 */p1.prototype._castForPopulate=function Z(Y,J){if(_$||(_$=hJ().Array),Array.isArray(Y)){let X;const $=Y.__array?Y.__array:Y,W=$.length,G=this.caster;if(G&&this.casterConstructor!==NH)try{for(X=0;X<W;X++){const Q={};if(G.$isMongooseArray&&G._arrayParentPath!=null)Q.arrayPathIndex=X;$[X]=G.cast($[X],J,!1,void 0,Q)}}catch(Q){throw new AH("["+Q.kind+"]",IH.inspect(Y),this.path+"."+X,Q,this)}return Y}throw new AH("Array",IH.inspect(Y),this.path,null,this)};p1.prototype.$toObject=p1.prototype.toObject;/*!
 * ignore
 */p1.prototype.discriminator=function(...Z){let Y=this;while(Y.$isMongooseArray&&!Y.$isMongooseDocumentArray)if(Y=Y.casterConstructor,Y==null||typeof Y==="function")throw new kD1("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return Y.discriminator(...Z)};/*!
 * ignore
 */p1.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,this.caster,Z,this.schemaOptions);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;return Y};p1.prototype._castForQuery=function(Z,Y){let J=this.casterConstructor;if(Z&&J.discriminators&&J.schema&&J.schema.options&&J.schema.options.discriminatorKey)if(typeof Z[J.schema.options.discriminatorKey]==="string"&&J.discriminators[Z[J.schema.options.discriminatorKey]])J=J.discriminators[Z[J.schema.options.discriminatorKey]];else{const K=bD1(J.discriminators,Z[J.schema.options.discriminatorKey]);if(K)J=K}const X=this.casterConstructor.prototype,$=X&&X.castForQuery,W=X&&X.cast,G=J.castForQuery,Q=this.caster;if(Array.isArray(Z))this.setters.reverse().forEach((K)=>{Z=K.call(this,Z,this)}),Z=Z.map(function(K){if(f9.isObject(K)&&K.$elemMatch)return K;if($)return K=$.call(Q,null,K,Y),K;else if(W)return K=W.call(Q,K),K;else if(G)return K=G.call(Q,null,K,Y),K;if(K!=null)return K=new J(K),K;return K});else if($)Z=$.call(Q,null,Z,Y);else if(W)Z=W.call(Q,Z);else if(G)Z=G.call(Q,null,Z,Y);else if(Z!=null)Z=new J(Z);return Z};p1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with Array.");return X.call(this,Y,J)}else return this._castForQuery(Y,J)};var H0=p1.prototype.$conditionalHandlers={};H0.$all=hD1;H0.$options=String;H0.$elemMatch=mD1;H0.$geoIntersects=lM.cast$geoIntersects;H0.$or=iM("$or");H0.$and=iM("$and");H0.$nor=iM("$nor");H0.$near=H0.$nearSphere=lM.cast$near;H0.$within=H0.$geoWithin=lM.cast$within;H0.$size=H0.$minDistance=H0.$maxDistance=gD1;H0.$exists=OD1;H0.$type=SD1;H0.$eq=H0.$gt=H0.$gte=H0.$lt=H0.$lte=H0.$not=H0.$regex=H0.$ne=p1.prototype._castForQuery;H0.$nin=F7.prototype.$conditionalHandlers.$nin;H0.$in=F7.prototype.$conditionalHandlers.$in;/*!
 * Module exports.
 */tc.exports=p1});var ec=R((de1,oc)=>{var uD1=import.meta.require("assert"),{Long:dD1}=i6();oc.exports=function Z(Y){if(Y==null)return Y;if(Y==="")return null;if(typeof Y==="bigint")return Y;if(Y instanceof dD1)return Y.toBigInt();if(typeof Y==="string"||typeof Y==="number")return BigInt(Y);uD1.ok(!1)}});var Yp=R((ce1,Zp)=>{var S0=function(Z,Y){cJ.call(this,Z,Y,"BigInt")},DH=function(Z,Y){return this.castForQuery(null,Z,Y)};/*!
 * Module dependencies.
 */var cD1=h8(),cJ=e0(),pD1=ec(),lD1=H1();S0.schemaName="BigInt";S0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */S0.prototype=Object.create(cJ.prototype);S0.prototype.constructor=S0;/*!
 * ignore
 */S0._cast=pD1;S0.set=cJ.set;S0.setters=[];S0.get=cJ.get;S0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */S0._checkRequired=(Z)=>Z!=null;S0.checkRequired=cJ.checkRequired;S0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};S0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=S0.cast();try{return Y(Z)}catch(J){throw new cD1("BigInt",Z,this.path,J,this)}};/*!
 * ignore
 */S0.$conditionalHandlers=lD1.options(cJ.prototype.$conditionalHandlers,{$gt:DH,$gte:DH,$lt:DH,$lte:DH});/*!
 * ignore
 */S0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=S0.$conditionalHandlers[Z],X)return X.call(this,Y);return this.applySetters(null,Y,J)}return this.applySetters(Y,J)};S0.prototype._castNullish=function Z(Y){if(typeof Y==="undefined")return Y;if((typeof this.constructor.cast==="function"?this.constructor.cast():S0.cast())==null)return Y;return Y};/*!
 * Module exports.
 */Zp.exports=S0});var Xp=R((pe1,Jp)=>{var R0=function(Z,Y){pJ.call(this,Z,Y,"Boolean")};/*!
 * Module dependencies.
 */var iD1=h8(),pJ=e0(),f$=SK(),nD1=H1();R0.schemaName="Boolean";R0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */R0.prototype=Object.create(pJ.prototype);R0.prototype.constructor=R0;/*!
 * ignore
 */R0._cast=f$;R0.set=pJ.set;R0.setters=[];R0.get=pJ.get;R0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */R0._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="boolean")throw new Error;return Z};/*!
 * ignore
 */R0._checkRequired=(Z)=>Z===!0||Z===!1;R0.checkRequired=pJ.checkRequired;R0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};Object.defineProperty(R0,"convertToTrue",{get:()=>f$.convertToTrue,set:(Z)=>{f$.convertToTrue=Z}});Object.defineProperty(R0,"convertToFalse",{get:()=>f$.convertToFalse,set:(Z)=>{f$.convertToFalse=Z}});R0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=R0.cast();try{return Y(Z)}catch(J){throw new iD1("Boolean",Z,this.path,J,this)}};R0.$conditionalHandlers=nD1.options(pJ.prototype.$conditionalHandlers,{});R0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=R0.$conditionalHandlers[Z],X)return X.call(this,Y);return this.applySetters(null,Y,J)}return this.applySetters(Y,J)};R0.prototype._castNullish=function Z(Y){if(typeof Y==="undefined")return Y;const J=typeof this.constructor.cast==="function"?this.constructor.cast():R0.cast();if(J==null)return Y;if(J.convertToFalse instanceof Set&&J.convertToFalse.has(Y))return!1;if(J.convertToTrue instanceof Set&&J.convertToTrue.has(Y))return!0;return Y};/*!
 * Module exports.
 */Jp.exports=R0});var Wp=R((le1,$p)=>{var aD1=_6();class nM extends aD1{}var sD1=K7();Object.defineProperty(nM.prototype,"subtype",sD1);/*!
 * ignore
 */$p.exports=nM});var Hp=R((ie1,Kp)=>{var U8=function(Z,Y){Y5.call(this,Z,Y,"Buffer")},TH=function(Z,Y){return this.castForQuery(null,Z,Y)};/*!
 * Module dependencies.
 */var lJ=T$(),rD1=Wp(),Y5=e0(),PH=qH(),Qp=H1(),Gp=lJ.Binary,aM=Y5.CastError;U8.schemaName="Buffer";U8.defaultOptions={};/*!
 * Inherits from SchemaType.
 */U8.prototype=Object.create(Y5.prototype);U8.prototype.constructor=U8;U8.prototype.OptionsConstructor=rD1;/*!
 * ignore
 */U8._checkRequired=(Z)=>!!(Z&&Z.length);U8.set=Y5.set;U8.setters=[];U8.get=Y5.get;U8.checkRequired=Y5.checkRequired;U8.prototype.checkRequired=function(Z,Y){if(Y5._isRef(this,Z,Y,!0))return!!Z;return this.constructor._checkRequired(Z)};U8.prototype.cast=function(Z,Y,J){let X;if(Y5._isRef(this,Z,Y,J)){if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new lJ(Z,[this.path,Y]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof Gp){if(X=new lJ(Z.value(!0),[this.path,Y]),typeof Z.sub_type!=="number")throw new aM("Buffer",Z,this.path,null,this);return X._subtype=Z.sub_type,X}if(Z==null||Qp.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}if(Z&&Z._id)Z=Z._id;if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new lJ(Z,[this.path,Y]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof Gp){if(X=new lJ(Z.value(!0),[this.path,Y]),typeof Z.sub_type!=="number")throw new aM("Buffer",Z,this.path,null,this);return X._subtype=Z.sub_type,X}if(Z===null)return Z;const $=typeof Z;if($==="string"||$==="number"||Array.isArray(Z)||$==="object"&&Z.type==="Buffer"&&Array.isArray(Z.data)){if($==="number")Z=[Z];if(X=new lJ(Z,[this.path,Y]),this.options.subtype!=null)X._subtype=this.options.subtype;return X}throw new aM("Buffer",Z,this.path,null,this)};U8.prototype.subtype=function(Z){return this.options.subtype=Z,this};/*!
 * ignore
 */U8.prototype.$conditionalHandlers=Qp.options(Y5.prototype.$conditionalHandlers,{$bitsAllClear:PH,$bitsAnyClear:PH,$bitsAllSet:PH,$bitsAnySet:PH,$gt:TH,$gte:TH,$lt:TH,$lte:TH});U8.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with Buffer.");return X.call(this,Y)}const $=this.applySetters(Y,J);return $?$.toObject({transform:!1,virtuals:!1}):$};/*!
 * Module exports.
 */Kp.exports=U8});var Fp=R((ne1,zp)=>{var tD1=_6();class y$ extends tD1{}var sM=K7();Object.defineProperty(y$.prototype,"min",sM);Object.defineProperty(y$.prototype,"max",sM);Object.defineProperty(y$.prototype,"expires",sM);/*!
 * ignore
 */zp.exports=y$});var qp=R((ae1,Up)=>{var rM=import.meta.require("assert");Up.exports=function Z(Y){if(Y==null||Y==="")return null;if(Y instanceof Date)return rM.ok(!isNaN(Y.valueOf())),Y;let J;if(rM.ok(typeof Y!=="boolean"),Y instanceof Number||typeof Y==="number")J=new Date(Y);else if(typeof Y==="string"&&!isNaN(Number(Y))&&(Number(Y)>=275761||Number(Y)<-271820))J=new Date(Number(Y));else if(typeof Y.valueOf==="function")J=new Date(Y.valueOf());else J=new Date(Y);if(!isNaN(J.valueOf()))return J;rM.ok(!1)}});var wp=R((se1,Rp)=>{var w0=function(Z,Y){FZ.call(this,Z,Y,"Date")},CH=function(Z){return this.cast(Z)};/*!
 * Module requirements.
 */var Vp=e1(),oD1=Fp(),FZ=e0(),eD1=qp(),ZP1=Q6(),Lp=H1(),YP1=FZ.CastError;w0.schemaName="Date";w0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */w0.prototype=Object.create(FZ.prototype);w0.prototype.constructor=w0;w0.prototype.OptionsConstructor=oD1;/*!
 * ignore
 */w0._cast=eD1;w0.set=FZ.set;w0.setters=[];w0.get=FZ.get;w0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */w0._defaultCaster=(Z)=>{if(Z!=null&&!(Z instanceof Date))throw new Error;return Z};w0.prototype.expires=function(Z){if(ZP1(this._index)!=="Object")this._index={};return this._index.expires=Z,Lp.expires(this._index),this};/*!
 * ignore
 */w0._checkRequired=(Z)=>Z instanceof Date;w0.checkRequired=FZ.checkRequired;w0.prototype.checkRequired=function(Z,Y){if(typeof Z==="object"&&FZ._isRef(this,Z,Y,!0))return Z!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():w0.checkRequired())(Z)};w0.prototype.min=function(Z,Y){if(this.minValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minValidator},this);if(Z){let J=Y||Vp.messages.Date.min;if(typeof J==="string")J=J.replace(/{MIN}/,Z===Date.now?"Date.now()":Z.toString());const X=this;this.validators.push({validator:this.minValidator=function($){let W=Z;if(typeof Z==="function"&&Z!==Date.now)W=W.call(this);const G=W===Date.now?W():X.cast(W);return $===null||$.valueOf()>=G.valueOf()},message:J,type:"min",min:Z})}return this};w0.prototype.max=function(Z,Y){if(this.maxValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxValidator},this);if(Z){let J=Y||Vp.messages.Date.max;if(typeof J==="string")J=J.replace(/{MAX}/,Z===Date.now?"Date.now()":Z.toString());const X=this;this.validators.push({validator:this.maxValidator=function($){let W=Z;if(typeof W==="function"&&W!==Date.now)W=W.call(this);const G=W===Date.now?W():X.cast(W);return $===null||$.valueOf()<=G.valueOf()},message:J,type:"max",max:Z})}return this};w0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=w0.cast();try{return Y(Z)}catch(J){throw new YP1("date",Z,this.path,J,this)}};w0.prototype.$conditionalHandlers=Lp.options(FZ.prototype.$conditionalHandlers,{$gt:CH,$gte:CH,$lt:CH,$lte:CH});w0.prototype.castForQuery=function(Z,Y,J){if(Z==null)return this.applySetters(Y,J);const X=this.$conditionalHandlers[Z];if(!X)throw new Error("Can\'t use "+Z+" with Date.");return X.call(this,Y)};/*!
 * Module exports.
 */Rp.exports=w0});var Bp=R((re1,Mp)=>{var y9=OG(),JP1=import.meta.require("assert");Mp.exports=function Z(Y){if(Y==null)return Y;if(typeof Y==="object"&&typeof Y.$numberDecimal==="string")return y9.fromString(Y.$numberDecimal);if(Y instanceof y9)return Y;if(typeof Y==="string")return y9.fromString(Y);if(typeof Buffer==="function"&&Buffer.isBuffer(Y))return new y9(Y);if(typeof Uint8Array==="function"&&Y instanceof Uint8Array)return new y9(Y);if(typeof Y==="number")return y9.fromString(String(Y));if(typeof Y.valueOf==="function"&&typeof Y.valueOf()==="string")return y9.fromString(Y.valueOf());JP1.ok(!1)}});var Np=R((te1,Ap)=>{var l0=function(Z,Y){J5.call(this,Z,Y,"Decimal128")},EH=function(Z){return this.cast(Z)};/*!
 * Module dependencies.
 */var J5=e0(),XP1=J5.CastError,$P1=Bp(),WP1=H1(),tM=o8();l0.schemaName="Decimal128";l0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */l0.prototype=Object.create(J5.prototype);l0.prototype.constructor=l0;/*!
 * ignore
 */l0._cast=$P1;l0.set=J5.set;l0.setters=[];l0.get=J5.get;l0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */l0._defaultCaster=(Z)=>{if(Z!=null&&!tM(Z,"Decimal128"))throw new Error;return Z};/*!
 * ignore
 */l0._checkRequired=(Z)=>tM(Z,"Decimal128");l0.checkRequired=J5.checkRequired;l0.prototype.checkRequired=function Z(Y,J){if(J5._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():l0.checkRequired())(Y)};l0.prototype.cast=function(Z,Y,J){if(J5._isRef(this,Z,Y,J)){if(tM(Z,"Decimal128"))return Z;return this._castRef(Z,Y,J)}let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=l0.cast();try{return X(Z)}catch($){throw new XP1("Decimal128",Z,this.path,$,this)}};/*!
 * ignore
 */l0.prototype.$conditionalHandlers=WP1.options(J5.prototype.$conditionalHandlers,{$gt:EH,$gte:EH,$lt:EH,$lte:EH});/*!
 * Module exports.
 */Ap.exports=l0});var Dp=R((oe1,Ip)=>{var GP1=_6();class oM extends GP1{}var QP1=K7();Object.defineProperty(oM.prototype,"_id",QP1);Ip.exports=oM});var eM=R((ee1,Pp)=>{Pp.exports=function Z(Y,J,X){if(Y.length===0)return X();let $=Y.length,W=null;for(let G of Y)J(G,function(Q){if(W!=null)return;if(Q!=null)return W=Q,X(W);if(--$<=0)return X()})}});var Ep=R((Z10,Cp)=>{var Tp=eM();/*!
 * ignore
 */Cp.exports=function Z(Y){Y.s.hooks.pre("save",!1,function X($){if(this.$isSubdocument){$();return}const W=this,G=this.$getAllSubdocs();if(!G.length){$();return}Tp(G,function(Q,K){Q.$__schema.s.hooks.execPre("save",Q,function(H){K(H)})},function(Q){if(Q)return W.$__schema.s.hooks.execPost("save:error",W,[W],{error:Q},function(K){$(K)});$()})},null,!0),Y.s.hooks.post("save",function X($,W){if(this.$isSubdocument){W();return}const G=this,Q=this.$getAllSubdocs();if(!Q.length){W();return}Tp(Q,function(K,H){K.$__schema.s.hooks.execPost("save",K,[K],function(z){H(z)})},function(K){if(K)return G.$__schema.s.hooks.execPost("save:error",G,[G],{error:K},function(H){W(H)});W()})},null,!0)}});var Sp=R((Y10,YB)=>{var Op=function(){let Z,Y;if(this.$__.shardval){Z=Object.keys(this.$__.shardval),Y=Z.length,this.$where=this.$where||{};for(let J=0;J<Y;++J)this.$where[Z[J]]=this.$__.shardval[Z[J]]}},ZB=function(){const Z=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(!jp.isPOJO(Z))return;const Y=this.$__.shardval={},J=Object.keys(Z),X=J.length;let $;for(let W=0;W<X;++W)if($=this.$__getValue(J[W]),$==null)Y[J[W]]=$;else if(jp.isMongooseObject($))Y[J[W]]=$.toObject({depopulate:!0,_isNested:!0});else if($ instanceof Date||$[KP1])Y[J[W]]=$;else if(typeof $.valueOf==="function")Y[J[W]]=$.valueOf();else Y[J[W]]=$},KP1=$1().objectIdSymbol,jp=H1();/*!
 * ignore
 */YB.exports=function Z(Y){Y.post("init",function J(){return ZB.call(this),this}),Y.pre("save",function J(X){Op.call(this),X()}),Y.pre("remove",function J(X){Op.call(this),X()}),Y.post("save",function J(){ZB.call(this)})};/*!
 * ignore
 *//*!
 * ignore
 */YB.exports.storeShard=ZB;/*!
 * ignore
 */});var fp=R((J10,xp)=>{var kp=function(Z,Y){const J=new Map;Y=Y||new Map;const X=Object.keys(Z.$__.activePaths.init).concat(Object.keys(Z.$__.activePaths.modify));for(let W of X){const G=Z.$__getValue(W);if(G!=null&&Array.isArray(G)&&HP1.isMongooseDocumentArray(G)&&G.length&&G[iJ]!=null&&Object.keys(G[iJ]).length!==0){const Q=Y.get(W)||{};J.set(W,_p(Q,G[iJ]))}}const $=Z.$__dirty();for(let W of $){const{path:G,value:Q}=W;if(Q!=null&&Q[iJ]!=null&&Object.keys(Q[iJ]).length!==0){const K=Y.get(G)||{};J.set(G,_p(K,Q[iJ]))}}return J},_p=function(Z,Y){if(Z=Z||{},Y.$pullAll!=null)Z.$pullAll=(Z.$pullAll||[]).concat(Y.$pullAll);if(Y.$push!=null)Z.$push=Z.$push||{},Z.$push.$each=(Z.$push.$each||[]).concat(Y.$push.$each);if(Y.$addToSet!=null)Z.$addToSet=(Z.$addToSet||[]).concat(Y.$addToSet);if(Y.$set!=null)Z.$set=Object.assign(Z.$set||{},Y.$set);return Z},iJ=$1().arrayAtomicsSymbol,jH=$1().sessionNewDocuments,HP1=H1();xp.exports=function Z(Y){Y.pre("save",function J(){const X=this.$session();if(X==null)return;if(X.transaction==null||X[jH]==null)return;if(!X[jH].has(this)){const $={};if(this.isNew)$.isNew=!0;if(this.$__schema.options.versionKey)$.versionKey=this.get(this.$__schema.options.versionKey);$.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),$.atomics=kp(this),X[jH].set(this,$)}else{const $=X[jH].get(this);for(let W of Object.keys(this.$__.activePaths.getStatePaths("modify")))$.modifiedPaths.add(W);$.atomics=kp(this,$.atomics)}})}});var gp=R((X10,yp)=>{/*!
 * ignore
 */yp.exports=function Z(Y){Y.pre("save",!1,function X($,W){const G=this;if(this.$isSubdocument)return $();const Q=W&&typeof W==="object"&&"validateBeforeSave"in W;let K;if(Q)K=!!W.validateBeforeSave;else K=this.$__schema.options.validateBeforeSave;if(K){const z=W&&typeof W==="object"&&"validateModifiedOnly"in W?{validateModifiedOnly:W.validateModifiedOnly}:null;this.$validate(z).then(()=>{this.$op="save",$()},(F)=>{G.$__schema.s.hooks.execPost("save:error",G,[G],{error:F},function(U){G.$op="save",$(U)})})}else $()},null,!0)}});var JB=R((zP1)=>{zP1.saveSubdocs=Ep();zP1.sharding=Sp();zP1.trackTransaction=fp();zP1.validateBeforeSave=gp()});var hp=R((W10,vp)=>{var bp=JB();vp.exports=function Z(Y){for(let J of Object.values(bp))J(Y,{deduplicate:!0});Y.plugins=Object.values(bp).map((J)=>({fn:J,opts:{deduplicate:!0}})).concat(Y.plugins)}});var dp=R((G10,up)=>{var LP1=fK(),RP1=sZ(),wP1=o8(),MP1=y4(),mp=_5();up.exports=function Z(Y,J,X,$){const W=Object.keys(J);let G=0;const Q=W.length;let K;if(X=X||"",$=$||new WeakSet,$.has(J))return;$.add(J);while(G<Q){if(K=W[G++],!X){if(K==="discriminators"||K==="base"||K==="_applyDiscriminators"||K==="_userProvidedOptions"||K==="options"||K==="tree")continue}if(X==="tree"&&J!=null&&J.instanceOfSchema)continue;if(RP1.has(K))continue;if(Y[K]==null)Y[K]=J[K];else if(mp(J[K])){if(!mp(Y[K]))Y[K]={};if(J[K]!=null){if(J[K].$isSingleNested&&Y[K].$isMongooseDocumentArray||J[K].$isMongooseDocumentArray&&Y[K].$isSingleNested||J[K].$isMongooseDocumentArrayElement&&Y[K].$isMongooseDocumentArrayElement)continue;else if(J[K].instanceOfSchema){if(Y[K].instanceOfSchema)LP1(Y[K],J[K].clone(),!0);else Y[K]=J[K].clone();continue}else if(wP1(J[K],"ObjectId")){Y[K]=new MP1(J[K]);continue}}Z(Y[K],J[K],X?X+"."+K:K,$)}}if(J!=null&&J.instanceOfSchema)Y.tree=Object.assign({},J.tree,Y.tree)}});var OH=R((Q10,lp)=>{var cp=j9(),BP1=hp(),AP1=N0(),NP1=vK().defineKey,IP1=V0(),XB=H1(),DP1=dp(),pp={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};/*!
 * ignore
 */lp.exports=function Z(Y,J,X,$,W,G){if(!(X&&X.instanceOfSchema))throw new Error("You must pass a valid discriminator Schema");if(G=G==null?!0:G,Y.schema.discriminatorMapping&&!Y.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+J+'" can only be a discriminator of the root model');if(W){const F=IP1(Y.base,"options.applyPluginsToDiscriminators",!1)||!G;Y.base._applyPlugins(X,{skipTopLevel:!F})}else if(!G)BP1(X);const Q=Y.schema.options.discriminatorKey,K=Y.schema.path(Q);if(K!=null){if(!XB.hasUserDefinedProperty(K.options,"select"))K.options.select=!0;K.options.$skipDiscriminatorCheck=!0}else{const F={};F[Q]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},F[Q][Y.schema.options.typeKey]=String,Y.schema.add(F),NP1({prop:Q,prototype:Y.prototype,options:Y.schema.options})}if(X.path(Q)&&X.path(Q).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+J+'" cannot have field with name "'+Q+'"');let H=J;if(typeof $==="string"&&$.length||$!=null)H=$;function z(F,U){if(F._baseSchema=U,U.paths._id&&U.paths._id.options&&!U.paths._id.options.auto)F.remove("_id");const q=Object.keys(U.paths),V=[];for(let j of q){if(F.nested[j]){V.push(j);continue}if(j.indexOf(".")===-1)continue;const E=j.split(".").slice(0,-1);let D="";for(let l of E)if(D+=(D.length?".":"")+l,F.paths[D]instanceof cp||F.singleNestedPaths[D]instanceof cp)V.push(j)}DP1(F,U);for(let j of V)delete F.paths[j];F.childSchemas.forEach((j)=>{j.model.prototype.$__setSchema(j.schema)});const L={};if(L[Q]={default:H,select:!0,set:function(j){if(j===H||Array.isArray(H)&&XB.deepEqual(j,H))return H;throw new Error('Can\'t set discriminator key "'+Q+'"')},$skipDiscriminatorCheck:!0},L[Q][F.options.typeKey]=K?K.options[F.options.typeKey]:String,F.add(L),F.discriminatorMapping={key:Q,value:H,isRoot:!1},U.options.collection)F.options.collection=U.options.collection;const w=F.options.toJSON,B=F.options.toObject,A=F.options._id,M=F.options.id,I=Object.keys(F.options);F.options.discriminatorKey=U.options.discriminatorKey;const x=F._userProvidedOptions;for(let j of I)if(!pp[j]){if(j in x&&!XB.deepEqual(F.options[j],U.options[j]))throw new Error("Can\'t customize discriminator option "+j+" (can only modify "+Object.keys(pp).join(", ")+")")}F.options=AP1(U.options);for(let j of Object.keys(x))F.options[j]=x[j];if(w)F.options.toJSON=w;if(B)F.options.toObject=B;if(typeof A!=="undefined")F.options._id=A;if(F.options.id=M,G)F.s.hooks=Y.schema.s.hooks.merge(F.s.hooks);if(W)F.plugins=Array.prototype.slice.call(U.plugins);F.callQueue=U.callQueue.concat(F.callQueue),delete F._requiredpaths}if(z(X,Y.schema),!Y.discriminators)Y.discriminators={};if(!Y.schema.discriminatorMapping)Y.schema.discriminatorMapping={key:Q,value:null,isRoot:!0};if(!Y.schema.discriminators)Y.schema.discriminators={};if(Y.schema.discriminators[J]=X,Y.discriminators[J]&&!X.options.overwriteModels)throw new Error('Discriminator with name "'+J+'" already exists');return X}});var SH=R((K10,ip)=>{var PP1=u7();ip.exports=function Z(Y,J,X){const $=Y.schema.options.discriminatorKey;let W=J!=null&&J[$];if(W==null)W=X;if(Y.discriminators&&W!=null)if(Y.discriminators[W])Y=Y.discriminators[W];else{const G=PP1(Y.discriminators,W);if(G)Y=G}return Y}});var $B=R((H10,np)=>{var TP1=IM();np.exports=function Z(Y,J){if(J==null||J._id==null)return Y;if(Y=Y.clone(),!J._id)Y.remove("_id"),Y.options._id=!1;else if(!Y.paths._id)TP1(Y),Y.options._id=!0;return Y}});var GB=R((z10,ap)=>{/*!
 * Module dependencies.
 */var CP1=e1();class WB extends CP1{constructor(Z,Y){const J=`Cannot create use schema for property "${Z}" because the schema has the ${Y} option enabled.`;super(J)}}Object.defineProperty(WB.prototype,"name",{value:"InvalidSchemaOptionError"});/*!
 * exports
 */ap.exports=WB});var zB=R((F10,op)=>{var X0=function(Z,Y,J){if(Z.options.timeseries)throw new gP1(Y,"timeseries");const X=X0.defaultOptions&&X0.defaultOptions._id;if(X!=null)J=J||{},J._id=X;if(Z=_P1(Z,J),this.caster=tp(Z),this.caster.path=Y,this.caster.prototype.$basePath=Y,this.schema=Z,this.$isSingleNested=!0,this.base=Z.base,nJ.call(this,Y,J,"Embedded"),Z._applyDiscriminators!=null&&!J?._skipApplyDiscriminators)for(let $ of Z._applyDiscriminators.keys())this.discriminator($,Z._applyDiscriminators.get($))},tp=function(Z,Y){kH||(kH=cK());const J=function $(W,G,Q){if(this.$__parent=Q,kH.apply(this,arguments),Q==null)return;this.$session(Q.$session())};Z._preCompile();const X=Y!=null?Y.prototype:kH.prototype;J.prototype=Object.create(X),J.prototype.$__setSchema(Z),J.prototype.constructor=J,J.base=Z.base,J.schema=Z,J.$isSingleNested=!0,J.events=new QB,J.prototype.toBSON=function(){return this.toObject(xP1)};for(let $ in Z.methods)J.prototype[$]=Z.methods[$];for(let $ in Z.statics)J[$]=Z.statics[$];for(let $ in QB.prototype)J[$]=QB.prototype[$];return J};/*!
 * Module dependencies.
 */var sp=h8(),QB=import.meta.require("events").EventEmitter,EP1=xw(),jP1=Dp(),nJ=e0(),OP1=gK(),SP1=kK(),rp=S$().castToNumber,kP1=OH(),KB=pM(),HB=SH(),_P1=$B(),xP1=M4().internalToObjectOptions,fP1=_J(),yP1=H1(),gP1=GB(),kH;op.exports=X0;/*!
 * ignore
 */X0.prototype=Object.create(nJ.prototype);X0.prototype.constructor=X0;X0.prototype.OptionsConstructor=jP1;/*!
 * ignore
 */X0.prototype.$conditionalHandlers.$geoWithin=function Z(Y,J){return{$geometry:this.castForQuery(null,Y.$geometry,J)}};/*!
 * ignore
 */X0.prototype.$conditionalHandlers.$near=X0.prototype.$conditionalHandlers.$nearSphere=KB.cast$near;X0.prototype.$conditionalHandlers.$within=X0.prototype.$conditionalHandlers.$geoWithin=KB.cast$within;X0.prototype.$conditionalHandlers.$geoIntersects=KB.cast$geoIntersects;X0.prototype.$conditionalHandlers.$minDistance=rp;X0.prototype.$conditionalHandlers.$maxDistance=rp;X0.prototype.$conditionalHandlers.$exists=SP1;X0.prototype.cast=function(Z,Y,J,X,$){if(Z&&Z.$isSingleNested&&Z.parent===Y)return Z;if(Z!=null&&(typeof Z!=="object"||Array.isArray(Z)))throw new EP1(this.path,Z);const W=this.schema.path(this.schema.options.discriminatorKey),G=W==null?null:W.getDefault(Y),Q=HB(this.caster,Z,G);let K;const H=Y&&Y.$__&&Y.$__.selected,z=this.path,F=H==null?null:Object.keys(H).reduce((U,q)=>{if(q.startsWith(z+"."))U=U||{},U[q.substring(z.length+1)]=H[q];return U},null);if(J){K=new Q(void 0,F,Y,!1,{defaults:!1}),delete K.$__.defaults,K.$init(Z);const U=fP1(F);OP1(K,F,U)}else{if($=Object.assign({},$,{priorDoc:X}),Object.keys(Z).length===0)return new Q({},F,Y,void 0,$);return new Q(Z,F,Y,void 0,$)}return K};X0.prototype.castForQuery=function(Z,Y,J,X){let $;if(Z!=null){if($=this.$conditionalHandlers[Z],!$)throw new Error("Can\'t use "+Z);return $.call(this,Y)}if(Y==null)return Y;const W=HB(this.caster,Y);if(Y instanceof W)return Y;if(this.options.runSetters)Y=this._applySetters(Y,J);const G=X!=null&&X.strict!=null?X.strict:void 0;try{Y=new W(Y,G)}catch(Q){if(!(Q instanceof sp))throw new sp("Embedded",Y,this.path,Q,this);throw Q}return Y};X0.prototype.doValidate=function(Z,Y,J,X){const $=HB(this.caster,Z);if(Z&&!(Z instanceof $))Z=new $(Z,null,J!=null&&J.$__!=null?J:null);if(X&&X.skipSchemaValidators){if(!Z)return Y(null);return Z.validate().then(()=>Y(null),(W)=>Y(W))}nJ.prototype.doValidate.call(this,Z,function(W){if(W)return Y(W);if(!Z)return Y(null);Z.validate().then(()=>Y(null),(G)=>Y(G))},J,X)};X0.prototype.doValidateSync=function(Z,Y,J){if(!J||!J.skipSchemaValidators){const X=nJ.prototype.doValidateSync.call(this,Z,Y);if(X)return X}if(!Z)return;return Z.validateSync()};X0.prototype.discriminator=function(Z,Y,J){J=J||{};const X=yP1.isPOJO(J)?J.value:J,$=typeof J.clone==="boolean"?J.clone:!0;if(Y.instanceOfSchema&&$)Y=Y.clone();return Y=kP1(this.caster,Z,Y,X),this.caster.discriminators[Z]=tp(Y,this.caster),this.caster.discriminators[Z]};/*!
 * ignore
 */X0.defaultOptions={};X0.set=nJ.set;X0.setters=[];X0.get=nJ.get;/*!
 * ignore
 */X0.prototype.toJSON=function Z(){return{path:this.path,options:this.options}};/*!
 * ignore
 */X0.prototype.clone=function(){const Z=new this.constructor(this.schema,this.path,{...this.options,_skipApplyDiscriminators:!0});if(Z.validators=this.validators.slice(),this.requiredValidator!==void 0)Z.requiredValidator=this.requiredValidator;return Z.caster.discriminators=Object.assign({},this.caster.discriminators),Z}});var Zl=R((U10,ep)=>{var X5=function(Z,Y){if(this.$parentSchemaType=Y&&Y.$parentSchemaType,!this.$parentSchemaType)throw new bP1("Cannot create DocumentArrayElement schematype without a parent");delete Y.$parentSchemaType,FB.call(this,Z,Y,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0};/*!
 * Module dependencies.
 */var bP1=z0(),FB=e0(),vP1=zB(),hP1=SH();X5.schemaName="DocumentArrayElement";X5.defaultOptions={};/*!
 * Inherits from SchemaType.
 */X5.prototype=Object.create(FB.prototype);X5.prototype.constructor=X5;X5.prototype.cast=function(...Z){return this.$parentSchemaType.cast(...Z)[0]};X5.prototype.doValidate=function(Z,Y,J,X){const $=hP1(this.caster,Z);if(Z&&!(Z instanceof $))Z=new $(Z,J,null,null,X&&X.index!=null?X.index:null);return vP1.prototype.doValidate.call(this,Z,Y,J,X)};X5.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;const Z=FB.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,Z.caster=this.caster,Z.schema=this.schema,Z};/*!
 * Module exports.
 */ep.exports=X5});var Xl=R((q10,Jl)=>{var mP1=_6();class _H extends mP1{}var Yl=K7();Object.defineProperty(_H.prototype,"excludeIndexes",Yl);Object.defineProperty(_H.prototype,"_id",Yl);/*!
 * ignore
 */Jl.exports=_H});var Fl=R((V10,zl)=>{var k0=function(Z,Y,J,X){if(Y.options&&Y.options.timeseries)throw new lP1(Z,"timeseries");const $=k0.defaultOptions&&k0.defaultOptions._id;if($!=null)X=X||{},X._id=$;if(X!=null&&X._id!=null)Y=Wl(Y,X);else if(J!=null&&J._id!=null)Y=Wl(Y,J);const W=Hl(Y,J);W.prototype.$basePath=Z,Kl.call(this,Z,W,J),this.schema=Y,this.schemaOptions=X||{},this.$isMongooseDocumentArray=!0,this.Constructor=W,W.base=Y.base;const G=this.defaultValue;if(!("defaultValue"in this)||G!==void 0)this.default(function(){let K=G.call(this);if(K!=null&&!Array.isArray(K))K=[K];return K});const Q=this;if(this.$embeddedSchemaType=new uP1(Z+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:Q}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema,Y._applyDiscriminators!=null&&!J?._skipApplyDiscriminators)for(let K of Y._applyDiscriminators.keys())this.discriminator(K,Y._applyDiscriminators.get(K))},Hl=function(Z,Y,J){g9||(g9=fJ());function X(){if(g9.apply(this,arguments),this.__parentArray==null||this.__parentArray.getArrayParent()==null)return;this.$session(this.__parentArray.getArrayParent().$session())}Z._preCompile();const $=J!=null?J.prototype:g9.prototype;X.prototype=Object.create($),X.prototype.$__setSchema(Z),X.schema=Z,X.prototype.constructor=X,X.$isArraySubdocument=!0,X.events=new UB,X.base=Z.base;for(let W in Z.methods)X.prototype[W]=Z.methods[W];for(let W in Z.statics)X[W]=Z.statics[W];for(let W in UB.prototype)X[W]=UB.prototype[W];return X.options=Y,X},aP1=function(Z,Y,J){if(!(J&&Y))return;const X=Z.path+".",$=Object.keys(Y);let W=$.length;const G={};let Q,K,H;while(W--)if(K=$[W],K.startsWith(X)){if(H=K.substring(X.length),H==="$")continue;if(H.startsWith("$."))H=H.substring(2);Q||(Q=!0),G[H]=Y[K]}return Q&&G||void 0};/*!
 * Module dependencies.
 */var $l=h8(),uP1=Zl(),UB=import.meta.require("events").EventEmitter,Kl=MH(),dP1=Xl(),g$=e0(),cP1=OH(),Wl=$B(),pP1=mK(),aJ=H1(),xH=SH(),lP1=GB(),Gl=$1().arrayAtomicsSymbol,qB=$1().arrayPathSymbol,iP1=$1().documentArrayParent,$5,g9;k0.schemaName="DocumentArray";k0.options={castNonArrays:!0};/*!
 * Inherits from SchemaArray.
 */k0.prototype=Object.create(Kl.prototype);k0.prototype.constructor=k0;k0.prototype.OptionsConstructor=dP1;/*!
 * ignore
 */k0.prototype.discriminator=function(Z,Y,J){if(typeof Z==="function")Z=aJ.getFunctionName(Z);J=J||{};const X=aJ.isPOJO(J)?J.value:J,$=typeof J.clone==="boolean"?J.clone:!0;if(Y.instanceOfSchema&&$)Y=Y.clone();Y=cP1(this.casterConstructor,Z,Y,X);const W=Hl(Y,null,this.casterConstructor);W.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(W,"name",{value:Z})}catch(G){}return this.casterConstructor.discriminators[Z]=W,this.casterConstructor.discriminators[Z]};k0.prototype.doValidate=function(Z,Y,J,X){$5||($5=S9());const $=this;try{g$.prototype.doValidate.call(this,Z,W,J)}catch(G){return Y(G)}function W(G){if(G)return Y(G);let Q=Z&&Z.length,K;if(!Q)return Y();if(X&&X.updateValidator)return Y();if(!aJ.isMongooseDocumentArray(Z))Z=new $5(Z,$.path,J);function H(z){if(z!=null)K=z;--Q||Y(K)}for(let z=0,F=Q;z<F;++z){let U=Z[z];if(U==null){--Q||Y(K);continue}if(!(U instanceof g9)){const q=xH($.casterConstructor,Z[z]);U=Z[z]=new q(U,Z,void 0,void 0,z)}if(X!=null&&X.validateModifiedOnly&&!U.$isModified()){--Q||Y(K);continue}U.$__validate(H)}}};k0.prototype.doValidateSync=function(Z,Y,J){const X=g$.prototype.doValidateSync.call(this,Z,Y);if(X!=null)return X;const $=Z&&Z.length;let W=null;if(!$)return;for(let G=0,Q=$;G<Q;++G){let K=Z[G];if(!K)continue;if(!(K instanceof g9)){const z=xH(this.casterConstructor,Z[G]);K=Z[G]=new z(K,Z,void 0,void 0,G)}if(J!=null&&J.validateModifiedOnly&&!K.$isModified())continue;const H=K.validateSync();if(H&&W==null)W=H}return W};/*!
 * ignore
 */k0.prototype.getDefault=function(Z,Y,J){let X=typeof this.defaultValue==="function"?this.defaultValue.call(Z):this.defaultValue;if(X==null)return X;if(J&&J.skipCast)return X;if($5||($5=S9()),!Array.isArray(X))X=[X];X=new $5(X,this.path,Z);for(let $=0;$<X.length;++$){const G=new(xH(this.casterConstructor,X[$]))({},X,void 0,void 0,$);G.$init(X[$]),G.isNew=!0,Object.assign(G.$__.activePaths.default,G.$__.activePaths.init),G.$__.activePaths.init={},X[$]=G}return X};var nP1=Object.freeze({transform:!1,virtuals:!1}),Ql=Object.freeze({skipId:!1,willInit:!0});k0.prototype.cast=function(Z,Y,J,X,$){if($5||($5=S9()),Z!=null&&Z[qB]!=null&&Z===X)return Z;let W,G;$=$||{};const Q=$.path||this.path;if(!Array.isArray(Z)){if(!J&&!k0.options.castNonArrays)throw new $l("DocumentArray",Z,this.path,null,this);if(!!Y&&J)Y.markModified(Q);return this.cast([Z],Y,J,X,$)}if(!$.skipDocumentArrayCast||aJ.isMongooseDocumentArray(Z))Z=new $5(Z,Q,Y);if(X!=null)Z[Gl]=X[Gl]||{};if($.arrayPathIndex!=null)Z[qB]=Q+"."+$.arrayPathIndex;const K=aJ.isMongooseDocumentArray(Z)?Z.__array:Z,H=K.length;for(let z=0;z<H;++z){if(!K[z])continue;const F=xH(this.casterConstructor,K[z]);if(K[z].$__!=null&&!(K[z]instanceof F)){const U=pP1(K[z],!0);if(K[z]!==U)K[z]=U;else K[z]=K[z].toObject({transform:!1,virtuals:K[z].schema===F.schema})}if(K[z]instanceof g9){if(K[z][iP1]!==Y)if(J){const U=new F(null,Z,Ql,W,z);K[z]=U.$init(K[z])}else{const U=new F(K[z],Z,void 0,void 0,z);K[z]=U}if(K[z].__index==null)K[z].$setIndex(z)}else if(K[z]!=null)if(J){if(Y)W||(W=aP1(this,Y.$__.selected,J));else W=!0;G=new F(null,Z,Ql,W,z),K[z]=G.$init(K[z])}else{if(X&&typeof X.id==="function")G=X.id(K[z]._id);if(X&&G&&aJ.deepEqual(G.toObject(nP1),K[z]))G.set(K[z]),K[z]=G;else try{G=new F(K[z],Z,void 0,void 0,z),K[z]=G}catch(U){throw new $l("embedded",K[z],Z[qB],U,this)}}}return Z};/*!
 * ignore
 */k0.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,this.schema,{...Z,_skipApplyDiscriminators:!0},this.schemaOptions);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;return Y.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),Y};/*!
 * ignore
 */k0.prototype.applyGetters=function(Z,Y){return g$.prototype.applyGetters.call(this,Z,Y)};/*!
 * ignore
 */k0.defaultOptions={};k0.set=g$.set;k0.setters=[];k0.get=g$.get;/*!
 * Module exports.
 */zl.exports=k0});var ql=R((L10,Ul)=>{var sP1=_6();class VB extends sP1{}var rP1=K7();Object.defineProperty(VB.prototype,"of",rP1);Ul.exports=VB});var Rl=R((R10,Ll)=>{/*!
 * ignore
 */var LB=KH(),tP1=ql(),Vl=e0();/*!
 * ignore
 */class b$ extends Vl{constructor(Z,Y){super(Z,Y,"Map");this.$isSchemaMap=!0}set(Z,Y){return Vl.set(Z,Y)}cast(Z,Y,J){if(Z instanceof LB)return Z;const X=this.path;if(J){const $=new LB({},X,Y,this.$__schemaType);if(Z instanceof global.Map)for(let W of Z.keys()){let G=Z.get(W);if(G==null)G=$.$__schemaType._castNullish(G);else G=$.$__schemaType.cast(G,Y,!0,null,{path:X+"."+W});$.$init(W,G)}else for(let W of Object.keys(Z)){let G=Z[W];if(G==null)G=$.$__schemaType._castNullish(G);else G=$.$__schemaType.cast(G,Y,!0,null,{path:X+"."+W});$.$init(W,G)}return $}return new LB(Z,X,Y,this.$__schemaType)}clone(){const Z=super.clone();if(this.$__schemaType!=null)Z.$__schemaType=this.$__schemaType.clone();return Z}}b$.schemaName="Map";b$.prototype.OptionsConstructor=tP1;b$.defaultOptions={};Ll.exports=b$});var Bl=R((w10,Ml)=>{var oP1=_6();class fH extends oP1{}var wl=K7();Object.defineProperty(fH.prototype,"auto",wl);Object.defineProperty(fH.prototype,"populate",wl);/*!
 * ignore
 */Ml.exports=fH});var Il=R((M10,Nl)=>{var _0=function(Z,Y){const J=typeof Z==="string"&&Z.length===24&&/^[a-f0-9]+$/i.test(Z),X=Y&&Y.suppressWarning;if((J||typeof Z==="undefined")&&!X)BB.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you\'re trying to create a hex char path in your schema.");W5.call(this,Z,Y,"ObjectId")},yH=function(Z){return this.cast(Z)},Al=function(){return new wB},XT1=function(Z){if(RB||(RB=H6()),this instanceof RB){if(Z===void 0)return new wB}return Z};/*!
 * Module dependencies.
 */var eP1=Bl(),W5=e0(),ZT1=tw(),YT1=Q6(),wB=y4(),MB=o8(),BB=H1(),JT1=W5.CastError,RB;_0.schemaName="ObjectId";_0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */_0.prototype=Object.create(W5.prototype);_0.prototype.constructor=_0;_0.prototype.OptionsConstructor=eP1;_0.get=W5.get;_0.set=W5.set;_0.setters=[];_0.prototype.auto=function(Z){if(Z)this.default(Al),this.set(XT1);return this};/*!
 * ignore
 */_0._checkRequired=(Z)=>MB(Z,"ObjectId");/*!
 * ignore
 */_0._cast=ZT1;_0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */_0._defaultCaster=(Z)=>{if(!MB(Z,"ObjectId"))throw new Error(Z+" is not an instance of ObjectId");return Z};_0.checkRequired=W5.checkRequired;_0.prototype.checkRequired=function Z(Y,J){if(W5._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():_0.checkRequired())(Y)};_0.prototype.cast=function(Z,Y,J){if(!MB(Z,"ObjectId")&&W5._isRef(this,Z,Y,J)){if((YT1(Z)||"").toLowerCase()==="objectid")return new wB(Z.toHexString());if(Z==null||BB.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=_0.cast();try{return X(Z)}catch($){throw new JT1("ObjectId",Z,this.path,$,this)}};/*!
 * ignore
 */_0.prototype.$conditionalHandlers=BB.options(W5.prototype.$conditionalHandlers,{$gt:yH,$gte:yH,$lt:yH,$lte:yH});/*!
 * ignore
 */Al.$runBeforeSetters=!0;/*!
 * Module exports.
 */Nl.exports=_0});var Pl=R((B10,Dl)=>{var $T1=_6();class U7 extends $T1{}var N4=K7();Object.defineProperty(U7.prototype,"enum",N4);Object.defineProperty(U7.prototype,"match",N4);Object.defineProperty(U7.prototype,"lowercase",N4);Object.defineProperty(U7.prototype,"trim",N4);Object.defineProperty(U7.prototype,"uppercase",N4);Object.defineProperty(U7.prototype,"minLength",N4);Object.defineProperty(U7.prototype,"minlength",N4);Object.defineProperty(U7.prototype,"maxLength",N4);Object.defineProperty(U7.prototype,"maxlength",N4);Object.defineProperty(U7.prototype,"populate",N4);/*!
 * ignore
 */Dl.exports=U7});var El=R((A10,Cl)=>{var d1=function(Z,Y){this.enumValues=[],this.regExp=null,G5.call(this,Z,Y,"String")},v$=function(Z,Y){return this.castForQuery(null,Z,Y)},HT1=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){return J.castForQuery(null,X,Y)})},Tl=function(Z){if(Z==null)return this._castNullish(Z);return this.cast(Z,this)};/*!
 * Module dependencies.
 */var G5=e0(),h$=e1(),WT1=Pl(),GT1=gM(),AB=H1(),QT1=o8(),KT1=G5.CastError;d1.schemaName="String";d1.defaultOptions={};/*!
 * Inherits from SchemaType.
 */d1.prototype=Object.create(G5.prototype);d1.prototype.constructor=d1;Object.defineProperty(d1.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:WT1});/*!
 * ignore
 */d1._cast=GT1;d1.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */d1._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="string")throw new Error;return Z};d1.get=G5.get;d1.set=G5.set;d1.setters=[];/*!
 * ignore
 */d1._checkRequired=(Z)=>(Z instanceof String||typeof Z==="string")&&Z.length;d1.checkRequired=G5.checkRequired;d1.prototype.enum=function(){if(this.enumValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.enumValidator},this),this.enumValidator=!1;if(arguments[0]===void 0||arguments[0]===!1)return this;let Z,Y;if(AB.isObject(arguments[0]))if(Array.isArray(arguments[0].values))Z=arguments[0].values,Y=arguments[0].message;else Z=AB.object.vals(arguments[0]),Y=h$.messages.String.enum;else Z=arguments,Y=h$.messages.String.enum;for(let X of Z)if(X!==void 0)this.enumValues.push(this.cast(X));const J=this.enumValues;return this.enumValidator=function(X){return X==null||~J.indexOf(X)},this.validators.push({validator:this.enumValidator,message:Y,type:"enum",enumValues:J}),this};d1.prototype.lowercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.toLowerCase();return Y})};d1.prototype.uppercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.toUpperCase();return Y})};d1.prototype.trim=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.trim();return Y})};d1.prototype.minlength=function(Z,Y){if(this.minlengthValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minlengthValidator},this);if(Z!==null&&Z!==void 0){let J=Y||h$.messages.String.minlength;J=J.replace(/{MINLENGTH}/,Z),this.validators.push({validator:this.minlengthValidator=function(X){return X===null||X.length>=Z},message:J,type:"minlength",minlength:Z})}return this};d1.prototype.minLength=d1.prototype.minlength;d1.prototype.maxlength=function(Z,Y){if(this.maxlengthValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxlengthValidator},this);if(Z!==null&&Z!==void 0){let J=Y||h$.messages.String.maxlength;J=J.replace(/{MAXLENGTH}/,Z),this.validators.push({validator:this.maxlengthValidator=function(X){return X===null||X.length<=Z},message:J,type:"maxlength",maxlength:Z})}return this};d1.prototype.maxLength=d1.prototype.maxlength;d1.prototype.match=function Z(Y,J){const X=J||h$.messages.String.match,$=function(W){if(!Y)return!1;return Y.lastIndex=0,W!=null&&W!==""?Y.test(W):!0};return this.validators.push({validator:$,message:X,type:"regexp",regexp:Y}),this};d1.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&G5._isRef(this,Y,J,!0))return Y!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():d1.checkRequired())(Y)};d1.prototype.cast=function(Z,Y,J){if(typeof Z!=="string"&&G5._isRef(this,Z,Y,J))return this._castRef(Z,Y,J);let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=d1.cast();try{return X(Z)}catch($){throw new KT1("string",Z,this.path,null,this)}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */var zT1=AB.options(G5.prototype.$conditionalHandlers,{$all:HT1,$gt:v$,$gte:v$,$lt:v$,$lte:v$,$options:Tl,$regex:function Z(Y){if(Object.prototype.toString.call(Y)==="[object RegExp]")return Y;return Tl.call(this,Y)},$not:v$});Object.defineProperty(d1.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(zT1)});d1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with String.");return X.call(this,Y,J)}if(Object.prototype.toString.call(Y)==="[object RegExp]"||QT1(Y,"BSONRegExp"))return Y;return this.applySetters(Y,J)};/*!
 * Module exports.
 */Cl.exports=d1});var _l=R((N10,kl)=>{var UT1=function(Z){return Z!=null&&Buffer.from(Z,"hex")},qT1=function(Z){return Z!=null&&Z.toString("hex")},jl=function(Z){if(typeof Z!=="string")Z="";const Y=Z.replace(/[{}-]/g,""),J=UT1(Y),X=new PB(J);return X._subtype=4,X},Sl=function(Z){let Y;if(typeof Z!=="string"&&Z!=null)return Y=qT1(Z),Y.substring(0,8)+"-"+Y.substring(8,12)+"-"+Y.substring(12,16)+"-"+Y.substring(16,20)+"-"+Y.substring(20,32);return Z},x0=function(Z,Y){UZ.call(this,Z,Y,"UUID"),this.getters.push(function(J){if(J!=null&&J.$__!=null)return J;return Sl(J)})},m$=function(Z){return this.cast(Z)},NB=function(Z){return Z.map((Y)=>{return this.cast(Y)})};/*!
 * Module dependencies.
 */var PB=T$(),UZ=e0(),IB=UZ.CastError,Ol=H1(),gH=qH(),DB=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,FT1=PB.Binary;x0.schemaName="UUID";x0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */x0.prototype=Object.create(UZ.prototype);x0.prototype.constructor=x0;/*!
 * ignore
 */x0._cast=function(Z){if(Z==null)return Z;function Y(J){const X=new PB(J);return X._subtype=4,X}if(typeof Z==="string")if(DB.test(Z))return jl(Z);else throw new IB(x0.schemaName,Z,this.path);if(Buffer.isBuffer(Z))return Y(Z);if(Z instanceof FT1)return Y(Z.value(!0));if(Z.toString&&Z.toString!==Object.prototype.toString){if(DB.test(Z.toString()))return jl(Z.toString())}throw new IB(x0.schemaName,Z,this.path)};x0.get=UZ.get;x0.set=UZ.set;x0.setters=[];x0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */x0._checkRequired=(Z)=>Z!=null;x0.checkRequired=UZ.checkRequired;x0.prototype.checkRequired=function Z(Y){if(Buffer.isBuffer(Y))Y=Sl(Y);return Y!=null&&DB.test(Y)};x0.prototype.cast=function(Z,Y,J){if(Ol.isNonBuiltinObject(Z)&&UZ._isRef(this,Z,Y,J))return this._castRef(Z,Y,J);let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=x0.cast();try{return X(Z)}catch($){throw new IB(x0.schemaName,Z,this.path,$,this)}};/*!
 * ignore
 *//*!
 * ignore
 */x0.prototype.$conditionalHandlers=Ol.options(UZ.prototype.$conditionalHandlers,{$bitsAllClear:gH,$bitsAnyClear:gH,$bitsAllSet:gH,$bitsAnySet:gH,$all:NB,$gt:m$,$gte:m$,$in:NB,$lt:m$,$lte:m$,$ne:m$,$nin:NB});x0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with UUID.");return X.call(this,Y,J)}else return this.cast(Y)};/*!
 * Module exports.
 */kl.exports=x0});var O$=R((VT1)=>{/*!
 * Module exports.
 */VT1.Array=MH();VT1.BigInt=Yp();VT1.Boolean=Xp();VT1.Buffer=Hp();VT1.Date=wp();VT1.Decimal128=VT1.Decimal=Np();VT1.DocumentArray=Fl();VT1.Map=Rl();VT1.Mixed=j9();VT1.Number=uM();VT1.ObjectId=Il();VT1.String=El();VT1.Subdocument=zB();VT1.UUID=_l();VT1.Oid=VT1.ObjectId;VT1.Object=VT1.Mixed;VT1.Bool=VT1.Boolean;VT1.ObjectID=VT1.ObjectId});var gJ=R((kB,ll)=>{var Z1=function(Z,Y){if(!(this instanceof Z1))return new Z1(Z,Y);if(this.obj=Z,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods=Y&&Y.methods||{},this.methodOptions={},this.statics=Y&&Y.statics||{},this.tree={},this.query=Y&&Y.query||{},this.childSchemas=[],this.plugins=[],this.$id=++ml,this.mapPaths=[],this.s={hooks:new kT1},this.options=this.defaultOptions(Y),Array.isArray(Z))for(let $ of Z)this.add($);else if(Z)this.add(Z);if(Y&&Y.virtuals){const $=Y.virtuals,W=Object.keys($);for(let G of W){const Q=$[G].options?$[G].options:void 0,K=this.virtual(G,Q);if($[G].get)K.get($[G].get);if($[G].set)K.set($[G].set)}}const J=Z&&Z._id&&$0.isObject(Z._id);if(!this.paths._id&&this.options._id&&!J)bl(this);this.setupTimestamp(this.options.timestamps)},ul=function(Z,Y){for(let J of Object.keys(Y)){let X=null;if(Y[J]!=null)X=Y[J];else{const W=vl(Z.paths[J],"options");if(W==null)continue;X=W.alias}if(!X)continue;const $=Z.paths[J].path;if(Array.isArray(X)){for(let W of X){if(typeof W!=="string")throw new Error("Invalid value for alias option on "+$+", got "+W);Z.aliases[W]=$,Z.virtual(W).get(function(G){return function(){if(typeof this.get==="function")return this.get(G);return this[G]}}($)).set(function(G){return function(Q){return this.$set(G,Q)}}($))}continue}if(typeof X!=="string")throw new Error("Invalid value for alias option on "+$+", got "+X);Z.aliases[X]=$,Z.virtual(X).get(function(W){return function(){if(typeof this.get==="function")return this.get(W);return this[W]}}($)).set(function(W){return function(G){return this.$set(W,G)}}($))}},cT1=function(Z){const Y=[];for(let J of Object.keys(Z.paths)){const X=Z.paths[J];if(X.$isMongooseDocumentArray||X.$isSingleNested)Y.push({schema:X.schema,model:X.caster})}return Y},pT1=function(Z,Y,J){if(Z.paths.hasOwnProperty(Y))return Z.paths[Y];if(Z.subpaths.hasOwnProperty(J))return Z.subpaths[J];if(Z.singleNestedPaths.hasOwnProperty(J)&&typeof Z.singleNestedPaths[J]==="object")return Z.singleNestedPaths[J];return null},dl=function(Z){if(!/\.\d+/.test(Z))return Z;return Z.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$")},cl=function(Z,Y){if(Z.mapPaths.length===0)return null;for(let J of Z.mapPaths){const X=J.path;if(new RegExp("^"+X.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(Y))return Z.paths[X]}return null},lT1=function(Z,Y,J,X,$){const W=J+".$*";let G={type:{}};if($0.hasUserDefinedProperty(X,"of")){if($0.isPOJO(X.of)&&Object.keys(X.of).length>0&&!$0.hasUserDefinedProperty(X.of,Z.options.typeKey))G={[Z.options.typeKey]:new Z1(X.of)};else if($0.isPOJO(X.of))G=Object.assign({},X.of);else G={[Z.options.typeKey]:X.of};if(G[Z.options.typeKey]&&G[Z.options.typeKey].instanceOfSchema)G[Z.options.typeKey].eachPath((H,z)=>{if(z.options.select===!0||z.options.select===!1)throw new b9('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+J+"."+H+'"')});if($0.hasUserDefinedProperty(X,"ref"))G.ref=X.ref}Y.$__schemaType=Z.interpretAsType(W,G,$)},pl=function(Z,Y,J){const X=Y.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(X.length<2)return Z.paths.hasOwnProperty(X[0])?Z.paths[X[0]]:"adhocOrUndefined";let $=Z.path(X[0]),W=!1;if(!$)return"adhocOrUndefined";const G=X.length-1;for(let Q=1;Q<X.length;++Q){W=!1;const K=X[Q];if(Q===G&&$&&!/\D/.test(K)){if($.$isMongooseDocumentArray)$=$.$embeddedSchemaType;else if($ instanceof qZ.Array)$=$.caster;else $=void 0;break}if(!/\D/.test(K)){if($ instanceof qZ.Array&&Q!==G)$=$.caster;continue}if(!($&&$.schema)){$=void 0;break}W=$.schema.pathType(K)==="nested",$=$.schema.path(K)}if(Z.subpaths[J]=$,$)return"real";if(W)return"nested";return"adhocOrUndefined"},iT1=function(Z,Y,J){return pl(Z,Y,J),Z.subpaths[J]},OB=function(Z,Y){for(let{schema:J}of Z.childSchemas){if(!J.$implicitlyCreated)continue;Object.assign(J.options,Y),OB(J,Y)}},EB=function(Z,Y){const J=Y.split("."),X=J.pop();let $=Z.tree;for(let W of J)$=$[W];delete $[X]},SB=function(Z){return Z.startsWith("$[")&&Z.endsWith("]")};/*!
 * Module dependencies.
 */var ST1=import.meta.require("events").EventEmitter,kT1=DJ(),b9=z0(),yl=e0(),gl=_6(),_T1=md(),jB=NM(),bl=IM(),m8=N0(),vl=V0(),xT1=Q6(),fT1=ld(),vH=TM(),yT1=ad(),gT1=fK(),bH=v7(),bT1=$c(),$0=H1(),vT1=Gc(),hT1=import.meta.require("util"),qZ,mT1=GH().middlewareFunctions,uT1=QH().middlewareFunctions,hl=mT1.concat(uT1).reduce((Z,Y)=>Z.add(Y),new Set),CB=$0.isPOJO,ml=0,dT1=/^\d+$/;/*!
 * Inherit from EventEmitter.
 */Z1.prototype=Object.create(ST1.prototype);Z1.prototype.constructor=Z1;Z1.prototype.instanceOfSchema=!0;/*!
 * ignore
 */Object.defineProperty(Z1.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0});Object.defineProperty(Z1.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(Z1.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0});Z1.prototype.obj;Z1.prototype.paths;Z1.prototype.tree;Z1.prototype.clone=function(){const Z=this._clone();return Z.on("init",(Y)=>this.emit("init",Y)),Z};/*!
 * ignore
 */Z1.prototype._clone=function Z(Y){Y=Y||(this.base==null?Z1:this.base.Schema);const J=new Y({},this._userProvidedOptions);J.base=this.base,J.obj=this.obj,J.options=m8(this.options),J.callQueue=this.callQueue.map(function(X){return X}),J.methods=m8(this.methods),J.methodOptions=m8(this.methodOptions),J.statics=m8(this.statics),J.query=m8(this.query),J.plugins=Array.prototype.slice.call(this.plugins),J._indexes=m8(this._indexes),J.s.hooks=this.s.hooks.clone(),J.tree=m8(this.tree),J.paths=Object.fromEntries(Object.entries(this.paths).map(([X,$])=>[X,$.clone()])),J.nested=m8(this.nested),J.subpaths=m8(this.subpaths);for(let X of Object.values(J.paths))if(X.$isSingleNested){const $=X.path;for(let W of Object.keys(X.schema.paths))J.singleNestedPaths[$+"."+W]=X.schema.paths[W];for(let W of Object.keys(X.schema.singleNestedPaths))J.singleNestedPaths[$+"."+W]=X.schema.singleNestedPaths[W];for(let W of Object.keys(X.schema.subpaths))J.singleNestedPaths[$+"."+W]=X.schema.subpaths[W];for(let W of Object.keys(X.schema.nested))J.singleNestedPaths[$+"."+W]="nested"}if(J.childSchemas=cT1(J),J.virtuals=m8(this.virtuals),J.$globalPluginsApplied=this.$globalPluginsApplied,J.$isRootDiscriminator=this.$isRootDiscriminator,J.$implicitlyCreated=this.$implicitlyCreated,J.$id=++ml,J.$originalSchemaId=this.$id,J.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null)J.discriminatorMapping=Object.assign({},this.discriminatorMapping);if(this.discriminators!=null)J.discriminators=Object.assign({},this.discriminators);if(this._applyDiscriminators!=null)J._applyDiscriminators=new Map(this._applyDiscriminators);return J.aliases=Object.assign({},this.aliases),J};Z1.prototype.pick=function(Z,Y){const J=new Z1({},Y||this.options);if(!Array.isArray(Z))throw new b9('Schema#pick() only accepts an array argument, got "'+typeof Z+'"');for(let X of Z)if(this.nested[X])J.add({[X]:vl(this.tree,X)});else{const $=this.path(X);if($==null)throw new b9("Path `"+X+"` is not in the schema");J.add({[X]:$})}return J};Z1.prototype.omit=function(Z,Y){const J=new Z1(this,Y||this.options);if(!Array.isArray(Z))throw new b9('Schema#omit() only accepts an array argument, got "'+typeof Z+'"');J.remove(Z);for(let X in J.singleNestedPaths)if(Z.includes(X))delete J.singleNestedPaths[X];return J};Z1.prototype.defaultOptions=function(Z){this._userProvidedOptions=Z==null?{}:m8(Z);const Y=this.base&&this.base.options||{},J="strict"in Y?Y.strict:!0,X="strictQuery"in Y?Y.strictQuery:!1,$="id"in Y?Y.id:!0;if(Z=$0.options({strict:J,strictQuery:X,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:$,typeKey:"type"},m8(Z)),Z.versionKey&&typeof Z.versionKey!=="string")throw new b9("`versionKey` must be falsy or string, got `"+typeof Z.versionKey+"`");if(typeof Z.read==="string")Z.read=vH(Z.read);else if(Array.isArray(Z.read)&&typeof Z.read[0]==="string")Z.read={mode:vH(Z.read[0]),tags:Z.read[1]};if(Z.optimisticConcurrency&&!Z.versionKey)throw new b9("Must set `versionKey` if using `optimisticConcurrency`");return Z};Z1.prototype.discriminator=function(Z,Y){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(Z,Y),this};Z1.prototype.add=function Z(Y,J){if(Y instanceof Z1||Y!=null&&Y.instanceOfSchema)return gT1(this,Y),this;if(Y._id===!1&&J==null)this.options._id=!1;if(J=J||"",J==="__proto__."||J==="constructor."||J==="prototype.")return this;const X=Object.keys(Y),$=this.options.typeKey;for(let G of X){if($0.specialProperties.has(G))continue;const Q=J+G,K=Y[G];if(K==null)throw new TypeError("Invalid value for schema path `"+Q+'`, got value "'+K+'"');if(G==="_id"&&K===!1)continue;let H=!1;if(typeof K==="string"){const z=this.base!=null?this.base.Schema.Types:Z1.Types,F=K.charAt(0).toUpperCase()+K.substring(1);H=z[F]!=null}if(G!=="_id"&&(typeof K!=="object"&&typeof K!=="function"&&!H||K==null))throw new TypeError(`Invalid schema configuration: \`${K}\` is not `+`a valid type at path \`${G}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(K instanceof jB||(K.constructor&&K.constructor.name||null)==="VirtualType"){this.virtual(K);continue}if(Array.isArray(K)&&K.length===1&&K[0]==null)throw new TypeError("Invalid value for schema Array path `"+Q+'`, got value "'+K[0]+'"');if(!(CB(K)||K instanceof gl)){if(J)this.nested[J.substring(0,J.length-1)]=!0;if(this.path(J+G,K),K[0]!=null&&!K[0].instanceOfSchema&&$0.isPOJO(K[0].discriminators)){const z=this.path(J+G);for(let F in K[0].discriminators)z.discriminator(F,K[0].discriminators[F])}}else if(Object.keys(K).length<1){if(J)this.nested[J.substring(0,J.length-1)]=!0;this.path(Q,K)}else if(!K[$]||$==="type"&&CB(K.type)&&K.type.type)this.nested[Q]=!0,this.add(K,Q+".");else{const z=K[$];if(CB(z)&&Object.keys(z).length>0){if(J)this.nested[J.substring(0,J.length-1)]=!0;const F={};if(this._userProvidedOptions.typeKey)F.typeKey=this._userProvidedOptions.typeKey;if(this._userProvidedOptions.strict!=null)F.strict=this._userProvidedOptions.strict;if(this._userProvidedOptions.toObject!=null)F.toObject=$0.omit(this._userProvidedOptions.toObject,["transform"]);if(this._userProvidedOptions.toJSON!=null)F.toJSON=$0.omit(this._userProvidedOptions.toJSON,["transform"]);const U=new Z1(z,F);U.$implicitlyCreated=!0;const q=Object.assign({},K,{[$]:U});this.path(J+G,q)}else{if(J)this.nested[J.substring(0,J.length-1)]=!0;if(this.path(J+G,K),K!=null&&!K.instanceOfSchema&&$0.isPOJO(K.discriminators)){const F=this.path(J+G);for(let U in K.discriminators)F.discriminator(U,K.discriminators[U])}}}}const W=Object.fromEntries(Object.entries(Y).map(([G])=>[J+G,null]));return ul(this,W),this};Z1.prototype.alias=function Y(Z,Y){return ul(this,{[Z]:Y}),this};Z1.prototype.removeIndex=function Z(Y){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(typeof Y!=="object"&&typeof Y!=="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(typeof Y==="object"){for(let J=this._indexes.length-1;J>=0;--J)if(hT1.isDeepStrictEqual(this._indexes[J][0],Y))this._indexes.splice(J,1)}else for(let J=this._indexes.length-1;J>=0;--J)if(this._indexes[J][1]!=null&&this._indexes[J][1].name===Y)this._indexes.splice(J,1);return this};Z1.prototype.clearIndexes=function Z(){return this._indexes.length=0,this};Z1.reserved=Object.create(null);Z1.prototype.reserved=Z1.reserved;var q8=Z1.reserved;q8.prototype=q8.emit=q8.listeners=q8.removeListener=q8.collection=q8.errors=q8.get=q8.init=q8.isModified=q8.isNew=q8.populated=q8.remove=q8.save=q8.toObject=q8.validate=1;q8.collection=1;Z1.prototype.path=function(Z,Y){if(Y===void 0){const K=dl(Z);let H=pT1(this,Z,K);if(H!=null)return H;const z=cl(this,Z);if(z!=null)return z;if(H=this.hasMixedParent(K),H!=null)return H;return/\.\d+\.?.*$/.test(Z)?iT1(this,Z,K):void 0}const J=Z.split(".")[0];if(q8[J]&&!this.options.suppressReservedKeysWarning){const K=`\`${J}\` is a reserved schema pathname and may break some functionality. `+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";$0.warn(K)}if(typeof Y==="object"&&$0.hasUserDefinedProperty(Y,"ref"))vT1(Y.ref,Z);const X=Z.split(/\./),$=X.pop();let W=this.tree,G="";for(let K of X){if($0.specialProperties.has(K))throw new Error("Cannot set special property `"+K+"` on a schema");if(G=G+=(G.length>0?".":"")+K,!W[K])this.nested[G]=!0,W[K]={};if(typeof W[K]!=="object"){const H="Cannot set nested path `"+Z+"`. Parent path `"+G+"` already set to type "+W[K].name+".";throw new Error(H)}W=W[K]}W[$]=m8(Y),this.paths[Z]=this.interpretAsType(Z,Y,this.options);const Q=this.paths[Z];if(Q.$isSchemaMap){const K=Z+".$*";this.paths[K]=Q.$__schemaType,this.mapPaths.push(this.paths[K])}if(Q.$isSingleNested){for(let K of Object.keys(Q.schema.paths))this.singleNestedPaths[Z+"."+K]=Q.schema.paths[K];for(let K of Object.keys(Q.schema.singleNestedPaths))this.singleNestedPaths[Z+"."+K]=Q.schema.singleNestedPaths[K];for(let K of Object.keys(Q.schema.subpaths))this.singleNestedPaths[Z+"."+K]=Q.schema.subpaths[K];for(let K of Object.keys(Q.schema.nested))this.singleNestedPaths[Z+"."+K]="nested";Object.defineProperty(Q.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Q.caster.base=this.base,this.childSchemas.push({schema:Q.schema,model:Q.caster})}else if(Q.$isMongooseDocumentArray)Object.defineProperty(Q.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Q.casterConstructor.base=this.base,this.childSchemas.push({schema:Q.schema,model:Q.casterConstructor});if(Q.$isMongooseArray&&Q.caster instanceof yl){let K=Z,H=Q;const z=[];while(H.$isMongooseArray){if(K=K+".$",H.$isMongooseDocumentArray)H.$embeddedSchemaType._arrayPath=K,H.$embeddedSchemaType._arrayParentPath=Z,H=H.$embeddedSchemaType.clone();else H.caster._arrayPath=K,H.caster._arrayParentPath=Z,H=H.caster.clone();H.path=K,z.push(H)}for(let F of z)this.subpaths[F.path]=F}if(Q.$isMongooseDocumentArray){for(let K of Object.keys(Q.schema.paths)){const H=Q.schema.paths[K];if(this.subpaths[Z+"."+K]=H,typeof H==="object"&&H!=null&&H.$parentSchemaDocArray==null)H.$parentSchemaDocArray=Q}for(let K of Object.keys(Q.schema.subpaths)){const H=Q.schema.subpaths[K];if(this.subpaths[Z+"."+K]=H,typeof H==="object"&&H!=null&&H.$parentSchemaDocArray==null)H.$parentSchemaDocArray=Q}for(let K of Object.keys(Q.schema.singleNestedPaths)){const H=Q.schema.singleNestedPaths[K];if(this.subpaths[Z+"."+K]=H,typeof H==="object"&&H!=null&&H.$parentSchemaDocArray==null)H.$parentSchemaDocArray=Q}}return this};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */Object.defineProperty(Z1.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null});Z1.prototype.interpretAsType=function(Z,Y,J){if(Y instanceof yl){if(Y.path===Z)return Y;const K=Y.clone();return K.path=Z,K}const X=this.base!=null?this.base.Schema.Types:Z1.Types,$=this.base!=null?this.base.Types:hJ();if(!$0.isPOJO(Y)&&!(Y instanceof gl)){if($0.getFunctionName(Y.constructor)!=="Object"){const H=Y;Y={},Y[J.typeKey]=H}}let W=Y[J.typeKey]&&(Y[J.typeKey]instanceof Function||J.typeKey!=="type"||!Y.type.type)?Y[J.typeKey]:{},G;if($0.isPOJO(W)||W==="mixed")return new X.Mixed(Z,Y);if(Array.isArray(W)||W===Array||W==="array"||W===X.Array){let K=W===Array||W==="array"?Y.cast||Y.of:W[0];if(K&&K.instanceOfSchema){if(!(K instanceof Z1))if(this.options._isMerging)K=new Z1(K);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new X.DocumentArray(Z,K,Y)}if(K&&K[J.typeKey]&&K[J.typeKey].instanceOfSchema){if(!(K[J.typeKey]instanceof Z1))if(this.options._isMerging)K[J.typeKey]=new Z1(K[J.typeKey]);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new X.DocumentArray(Z,K[J.typeKey],Y,K)}if(Array.isArray(K))return new X.Array(Z,this.interpretAsType(Z,K,J),Y);const H=K!=null&&K[J.typeKey]&&(J.typeKey!=="type"||!K.type.type)?K[J.typeKey]:K;if(typeof K==="string")K=X[K.charAt(0).toUpperCase()+K.substring(1)];else if($0.isPOJO(H))if(Object.keys(H).length){const z={minimize:J.minimize};if(J.typeKey)z.typeKey=J.typeKey;if(J.hasOwnProperty("strict"))z.strict=J.strict;if(J.hasOwnProperty("strictQuery"))z.strictQuery=J.strictQuery;if(J.hasOwnProperty("toObject"))z.toObject=$0.omit(J.toObject,["transform"]);if(J.hasOwnProperty("toJSON"))z.toJSON=$0.omit(J.toJSON,["transform"]);if(this._userProvidedOptions.hasOwnProperty("_id"))z._id=this._userProvidedOptions._id;else if(Z1.Types.DocumentArray.defaultOptions._id!=null)z._id=Z1.Types.DocumentArray.defaultOptions._id;const F=new Z1(H,z);return F.$implicitlyCreated=!0,new X.DocumentArray(Z,F,Y)}else return new X.Array(Z,X.Mixed,Y);if(K){if(W=K[J.typeKey]&&(J.typeKey!=="type"||!K.type.type)?K[J.typeKey]:K,Array.isArray(W))return new X.Array(Z,this.interpretAsType(Z,W,J),Y);if(G=typeof W==="string"?W:W.schemaName||$0.getFunctionName(W),G==="ClockDate")G="Date";if(G===void 0)throw new TypeError("Invalid schema configuration: "+`Could not determine the embedded type for array \`${Z}\`. `+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!X.hasOwnProperty(G))throw new TypeError("Invalid schema configuration: "+`\`${G}\` is not a valid type within the array \`${Z}\`.`+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new X.Array(Z,K||X.Mixed,Y,J)}if(W&&W.instanceOfSchema)return new X.Subdocument(W,Z,Y);if(Buffer.isBuffer(W))G="Buffer";else if(typeof W==="function"||typeof W==="object")G=W.schemaName||$0.getFunctionName(W);else if(W===$.ObjectId)G="ObjectId";else if(W===$.Decimal128)G="Decimal128";else G=W==null?""+W:W.toString();if(G)G=G.charAt(0).toUpperCase()+G.substring(1);if(G==="ObjectID")G="ObjectId";if(G==="ClockDate")G="Date";if(G===void 0)throw new TypeError(`Invalid schema configuration: \`${Z}\` schematype definition is `+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(X[G]==null)throw new TypeError(`Invalid schema configuration: \`${G}\` is not `+`a valid type at path \`${Z}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");const Q=new X[G](Z,Y);if(Q.$isSchemaMap)lT1(this,Q,Z,Y,J);return Q};/*!
 * ignore
 */Z1.prototype.eachPath=function(Z){const Y=Object.keys(this.paths),J=Y.length;for(let X=0;X<J;++X)Z(Y[X],this.paths[Y[X]]);return this};Z1.prototype.requiredPaths=function Z(Y){if(this._requiredpaths&&!Y)return this._requiredpaths;const J=Object.keys(this.paths);let X=J.length;const $=[];while(X--){const W=J[X];if(this.paths[W].isRequired)$.push(W)}return this._requiredpaths=$,this._requiredpaths};Z1.prototype.indexedPaths=function Z(){if(this._indexedpaths)return this._indexedpaths;return this._indexedpaths=this.indexes(),this._indexedpaths};Z1.prototype.pathType=function(Z){if(this.paths.hasOwnProperty(Z))return"real";if(this.virtuals.hasOwnProperty(Z))return"virtual";if(this.nested.hasOwnProperty(Z))return"nested";const Y=dl(Z);if(this.subpaths.hasOwnProperty(Y)||this.subpaths.hasOwnProperty(Z))return"real";const J=this.singleNestedPaths.hasOwnProperty(Y)||this.singleNestedPaths.hasOwnProperty(Z);if(J)return J==="nested"?"nested":"real";if(cl(this,Z)!=null)return"real";if(/\.\d+\.|\.\d+$/.test(Z))return pl(this,Z,Y);return"adhocOrUndefined"};Z1.prototype.hasMixedParent=function(Z){const Y=Z.split(/\./g);Z="";for(let J=0;J<Y.length;++J)if(Z=J>0?Z+"."+Y[J]:Y[J],this.paths.hasOwnProperty(Z)&&this.paths[Z]instanceof qZ.Mixed)return this.paths[Z];return null};Z1.prototype.setupTimestamp=function(Z){return bT1(this,Z)};/*!
 * ignore
 */Z1.prototype.queue=function(Z,Y){return this.callQueue.push([Z,Y]),this};Z1.prototype.pre=function(Z){if(Z instanceof RegExp){const Y=Array.prototype.slice.call(arguments,1);for(let J of hl)if(Z.test(J))this.pre.apply(this,[J].concat(Y));return this}if(Array.isArray(Z)){const Y=Array.prototype.slice.call(arguments,1);for(let J of Z)this.pre.apply(this,[J].concat(Y));return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this};Z1.prototype.post=function(Z){if(Z instanceof RegExp){const Y=Array.prototype.slice.call(arguments,1);for(let J of hl)if(Z.test(J))this.post.apply(this,[J].concat(Y));return this}if(Array.isArray(Z)){const Y=Array.prototype.slice.call(arguments,1);for(let J of Z)this.post.apply(this,[J].concat(Y));return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this};Z1.prototype.plugin=function(Z,Y){if(typeof Z!=="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+typeof Z+'"');if(Y&&Y.deduplicate){for(let J of this.plugins)if(J.fn===Z)return this}return this.plugins.push({fn:Z,opts:Y}),Z(this,Y),this};Z1.prototype.method=function(Z,Y,J){if(typeof Z!=="string")for(let X in Z)this.methods[X]=Z[X],this.methodOptions[X]=m8(J);else this.methods[Z]=Y,this.methodOptions[Z]=m8(J);return this};Z1.prototype.static=function(Z,Y){if(typeof Z!=="string")for(let J in Z)this.statics[J]=Z[J];else this.statics[Z]=Y;return this};Z1.prototype.index=function(Z,Y){if(Z||(Z={}),Y||(Y={}),Y.expires)$0.expires(Y);for(let J in Z)if(this.aliases[J])Z=$0.renameObjKey(Z,J,this.aliases[J]);for(let J of Object.keys(Z))if(Z[J]==="ascending"||Z[J]==="asc")Z[J]=1;else if(Z[J]==="descending"||Z[J]==="desc")Z[J]=-1;return this._indexes.push([Z,Y]),this};Z1.prototype.set=function(Z,Y,J){if(arguments.length===1)return this.options[Z];switch(Z){case"read":if(typeof Y==="string")this.options[Z]={mode:vH(Y),tags:J};else if(Array.isArray(Y)&&typeof Y[0]==="string")this.options[Z]={mode:vH(Y[0]),tags:Y[1]};else this.options[Z]=Y;this._userProvidedOptions[Z]=this.options[Z];break;case"timestamps":this.setupTimestamp(Y),this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z];break;case"_id":if(this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z],Y&&!this.paths._id)bl(this);else if(!Y&&this.paths._id!=null&&this.paths._id.auto)this.remove("_id");break;default:this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z];break}if(Z==="strict")OB(this,{strict:Y});if(Z==="strictQuery")OB(this,{strictQuery:Y});return this};/*!
 * Recursively set options on implicitly created schemas
 */Z1.prototype.get=function(Z){return this.options[Z]};var nT1="2d 2dsphere hashed text".split(" ");Object.defineProperty(Z1,"indexTypes",{get:function(){return nT1},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}});Z1.prototype.indexes=function(){return fT1(this)};Z1.prototype.virtual=function(Z,Y){if(Z instanceof jB||xT1(Z)==="VirtualType")return this.virtual(Z.path,Z.options);if(Y=new _T1(Y),$0.hasUserDefinedProperty(Y,["ref","refPath"])){if(Y.localField==null)throw new Error("Reference virtuals require `localField` option");if(Y.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function Q(K){if(bH.has(Z,K)){const H=bH.get(Z,K);if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(Y.justOne||Y.count)this.$$populatedVirtuals[Z]=Array.isArray(H)?H[0]:H;else this.$$populatedVirtuals[Z]=Array.isArray(H)?H:H==null?[]:[H];bH.unset(Z,K)}});const $=this.virtual(Z);if($.options=Y,$.set(function(Q){if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(Y.justOne||Y.count){if(this.$$populatedVirtuals[Z]=Array.isArray(Q)?Q[0]:Q,typeof this.$$populatedVirtuals[Z]!=="object")this.$$populatedVirtuals[Z]=Y.count?Q:null}else this.$$populatedVirtuals[Z]=Array.isArray(Q)?Q:Q==null?[]:[Q],this.$$populatedVirtuals[Z]=this.$$populatedVirtuals[Z].filter(function(K){return K&&typeof K==="object"})}),typeof Y.get==="function")$.get(Y.get);const W=Z.split(".");let G=W[0];for(let Q=0;Q<W.length-1;++Q){if(this.paths[G]==null)continue;if(this.paths[G].$isMongooseDocumentArray||this.paths[G].$isSingleNested){const K=W.slice(Q+1).join(".");this.paths[G].schema.virtual(K,Y);break}G+="."+W[Q+1]}return $}const J=this.virtuals,X=Z.split(".");if(this.pathType(Z)==="real")throw new Error('Virtual path "'+Z+'" conflicts with a real path in the schema');return J[Z]=X.reduce(function($,W,G){return $[W]||($[W]=G===X.length-1?new jB(Y,Z):{}),$[W]},this.tree),J[Z]};Z1.prototype.virtualpath=function(Z){return this.virtuals.hasOwnProperty(Z)?this.virtuals[Z]:null};Z1.prototype.remove=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z))Z.forEach(function(Y){if(this.path(Y)==null&&!this.nested[Y])return;if(this.nested[Y]){const J=Object.keys(this.paths).concat(Object.keys(this.nested));for(let X of J)if(X.startsWith(Y+"."))delete this.paths[X],delete this.nested[X],EB(this,X);delete this.nested[Y],EB(this,Y);return}delete this.paths[Y],EB(this,Y)},this);return this};/*!
 * ignore
 */Z1.prototype.removeVirtual=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z)){for(let Y of Z)if(this.virtuals[Y]==null)throw new b9(`Attempting to remove virtual "${Y}" that does not exist.`);for(let Y of Z)if(delete this.paths[Y],delete this.virtuals[Y],Y.indexOf(".")!==-1)bH.unset(Y,this.tree);else delete this.tree[Y]}return this};Z1.prototype.loadClass=function(Z,Y){if(Z===Object.prototype||Z===Function.prototype||Z.prototype.hasOwnProperty("$isMongooseModelPrototype")||Z.prototype.hasOwnProperty("$isMongooseDocumentPrototype"))return this;if(this.loadClass(Object.getPrototypeOf(Z),Y),!Y)Object.getOwnPropertyNames(Z).forEach(function(J){if(J.match(/^(length|name|prototype|constructor|__proto__)$/))return;const X=Object.getOwnPropertyDescriptor(Z,J);if(X.hasOwnProperty("value"))this.static(J,X.value)},this);return Object.getOwnPropertyNames(Z.prototype).forEach(function(J){if(J.match(/^(constructor)$/))return;const X=Object.getOwnPropertyDescriptor(Z.prototype,J);if(!Y){if(typeof X.value==="function")this.method(J,X.value)}if(typeof X.get==="function"){if(this.virtuals[J])this.virtuals[J].getters=[];this.virtual(J).get(X.get)}if(typeof X.set==="function"){if(this.virtuals[J])this.virtuals[J].setters=[];this.virtual(J).set(X.set)}},this),this};/*!
 * ignore
 */Z1.prototype._getSchema=function(Z){const Y=this,J=Y.path(Z),X=[];if(J)return J.$fullPath=Z,J;function $(G,Q){let K=G.length+1,H,z;while(K--)if(z=G.slice(0,K).join("."),H=Q.path(z),H){if(X.push(z),H.caster){if(H.caster instanceof qZ.Mixed)return H.caster.$fullPath=X.join("."),H.caster;if(K!==G.length){if(H.schema){let F;if(G[K]==="$"||SB(G[K])){if(K+1===G.length)return H.$embeddedSchemaType;if(F=$(G.slice(K+1),H.schema),F)F.$parentSchemaDocArray=F.$parentSchemaDocArray||(H.schema.$isSingleNested?null:H);return F}if(F=$(G.slice(K),H.schema),F)F.$parentSchemaDocArray=F.$parentSchemaDocArray||(H.schema.$isSingleNested?null:H);return F}}}else if(H.$isSchemaMap){if(K>=G.length)return H;if(K+1>=G.length)return H.$__schemaType;if(H.$__schemaType instanceof qZ.Mixed)return H.$__schemaType;if(H.$__schemaType.schema!=null)return $(G.slice(K+1),H.$__schemaType.schema)}return H.$fullPath=X.join("."),H}}const W=Z.split(".");for(let G=0;G<W.length;++G){if(W[G]==="$"||SB(W[G]))W[G]="0";if(dT1.test(W[G]))W[G]="$"}return $(W,Y)};/*!
 * ignore
 */Z1.prototype._getPathType=function(Z){const Y=this;if(Y.path(Z))return"real";function X($,W){let G=$.length+1,Q,K;while(G--)if(K=$.slice(0,G).join("."),Q=W.path(K),Q){if(Q.caster){if(Q.caster instanceof qZ.Mixed)return{schema:Q,pathType:"mixed"};if(G!==$.length&&Q.schema){if($[G]==="$"||SB($[G])){if(G===$.length-1)return{schema:Q,pathType:"nested"};return X($.slice(G+1),Q.schema)}return X($.slice(G),Q.schema)}return{schema:Q,pathType:Q.$isSingleNested?"nested":"array"}}return{schema:Q,pathType:"real"}}else if(G===$.length&&W.nested[K])return{schema:W,pathType:"nested"};return{schema:Q||W,pathType:"undefined"}}return X(Z.split("."),Y)};/*!
 * ignore
 */Z1.prototype._preCompile=function Z(){yT1(this)};/*!
 * Module exports.
 */ll.exports=kB=Z1;Z1.Types=qZ=O$();/*!
 * ignore
 */kB.ObjectId=qZ.ObjectId});var nl=R((P10,il)=>{/*!
 * Module dependencies.
 */var aT1=z0();class _B extends aT1{constructor(Z,Y){super(Z);this.errors=Y}}Object.defineProperty(_B.prototype,"name",{value:"SyncIndexesError"});il.exports=_B});var xB=R((T10,al)=>{al.exports=function Z(Y,J,X,$){if(Y[$])return;if(Y[$]=!0,!X||!X.skipTopLevel){let K=null;for(let H of J){const z=H[1]==null?null:H[1].tags;if(!Array.isArray(z)){Y.plugin(H[0],H[1]);continue}if(K=K||new Set(Y.options.pluginTags||[]),!z.find((F)=>K.has(F)))continue;Y.plugin(H[0],H[1])}}if(X=Object.assign({},X),delete X.skipTopLevel,X.applyPluginsToChildSchemas!==!1)for(let K of Object.keys(Y.paths)){const H=Y.paths[K];if(H.schema!=null)Z(H.schema,J,X,$),H.caster.prototype.$__setSchema(H.schema)}const W=Y.discriminators;if(W==null)return;const G=X.applyPluginsToDiscriminators,Q=Object.keys(W);for(let K of Q){const H=W[K];Z(H,J,{skipTopLevel:!G},$)}}});var rl=R((C10,sl)=>{var sT1=z0();class fB extends sT1{constructor(Z,Y){super(Z);this.errors=Y}}Object.defineProperty(fB.prototype,"name",{value:"CreateCollectionsError"});sl.exports=fB});var Zi=R((E10,el)=>{var z1=function(Z){if(this.base=Z,this.collections={},this.models={},this.config={},this.replica=!1,this.options=null,this.otherDbs=[],this.relatedDbs={},this.states=U0,this._readyState=U0.disconnected,this._closeCalled=!1,this._hasOpened=!1,this.plugins=[],typeof Z==="undefined"||!Z.connections.length)this.id=0;else this.id=Z.nextConnectionId;this._queue=[]};async function KC1(Z,Y){try{return await Z(Y)}catch(J){throw HC1(Y),J}}var HC1=function(Z){for(let Y of Z[u$].keys()){const J=Z[u$].get(Y);if(J.hasOwnProperty("isNew"))Y.$isNew=J.isNew;if(J.hasOwnProperty("versionKey"))Y.set(Y.schema.options.versionKey,J.versionKey);if(J.modifiedPaths.length>0&&Y.$__.activePaths.states.modify==null)Y.$__.activePaths.states.modify={};for(let X of J.modifiedPaths){const $=Y.$__.activePaths.paths[X];if($!=null)delete Y.$__.activePaths[$][X];Y.$__.activePaths.paths[X]="modify",Y.$__.activePaths.states.modify[X]=!0}for(let X of J.atomics.keys()){const $=Y.$__getValue(X);if($==null)continue;$[GC1]=J.atomics.get(X)}}},zC1=function(Z,Y,J){if(typeof Y==="function"&&J==null)throw new V6("Connection.prototype.openUri() no longer accepts a callback");else if(typeof J==="function")throw new V6("Connection.prototype.openUri() no longer accepts a callback")},ol=function(Z){if(Z?.name==="MongoServerSelectionError"){const Y=Z;Z=new eT1,Z.assimilateError(Y)}return Z};/*!
 * Module dependencies.
 */var rT1=Kw(),tT1=import.meta.require("events").EventEmitter,oT1=gJ(),U0=_Y(),V6=e1(),eT1=Dw(),ZC1=nl(),YC1=xB(),JC1=N0(),XC1=MG(),$C1=V0(),tl=I6(),yB=H1(),WC1=rl(),GC1=$1().arrayAtomicsSymbol,u$=$1().sessionNewDocuments,QC1=["MONGODB-X509"];/*!
 * Inherit from EventEmitter
 */Object.setPrototypeOf(z1.prototype,tT1.prototype);Object.defineProperty(z1.prototype,"readyState",{get:function(){return this._readyState},set:function(Z){if(!(Z in U0))throw new Error("Invalid connection state: "+Z);if(this._readyState!==Z){this._readyState=Z;for(let Y of this.otherDbs)Y.readyState=Z;if(U0.connected===Z)this._hasOpened=!0;this.emit(U0[Z])}}});z1.prototype.get=function(Z){if(this.config.hasOwnProperty(Z))return this.config[Z];return $C1(this.options,Z)};z1.prototype.set=function(Z,Y){if(this.config.hasOwnProperty(Z))return this.config[Z]=Y,Y;return this.options=this.options||{},this.options[Z]=Y,Y};z1.prototype.collections;z1.prototype.name;z1.prototype.models;z1.prototype.id;Object.defineProperty(z1.prototype,"plugins",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"host",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"port",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"user",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"pass",{configurable:!0,enumerable:!0,writable:!0});z1.prototype.db;z1.prototype.client;z1.prototype.config;z1.prototype.createCollection=async function Z(Y,J){if(typeof J==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new V6("Connection.prototype.createCollection() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((X)=>{this._queue.push({fn:X})});return this.db.createCollection(Y,J)};z1.prototype.createCollections=async function Z(Y={}){const J={},X={},{continueOnError:$}=Y;delete Y.continueOnError;for(let W of Object.values(this.models))try{J[W.modelName]=await W.createCollection({})}catch(G){if(!$){X[W.modelName]=G;break}else J[W.modelName]=G}if(!$&&Object.keys(X).length){const W=Object.entries(X).map(([Q,K])=>`${Q}: ${K.message}`).join(", ");throw new WC1(W,X)}return J};z1.prototype.startSession=async function Z(Y){if(arguments.length>=2&&typeof arguments[1]==="function")throw new V6("Connection.prototype.startSession() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((X)=>{this._queue.push({fn:X})});return this.client.startSession(Y)};z1.prototype.transaction=function Z(Y,J){return this.startSession().then((X)=>{return X[u$]=new Map,X.withTransaction(()=>KC1(Y,X),J).then(($)=>{return delete X[u$],$}).catch(($)=>{throw delete X[u$],$}).finally(()=>{X.endSession().catch(()=>{})})})};/*!
 * Reset document state in between transaction retries re: gh-13698
 *//*!
 * If transaction was aborted, we need to reset newly inserted documents' `isNew`.
 */z1.prototype.dropCollection=async function Z(Y){if(arguments.length>=2&&typeof arguments[1]==="function")throw new V6("Connection.prototype.dropCollection() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((J)=>{this._queue.push({fn:J})});return this.db.dropCollection(Y)};z1.prototype.dropDatabase=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new V6("Connection.prototype.dropDatabase() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((Y)=>{this._queue.push({fn:Y})});for(let Y of Object.values(this.models))delete Y.$init;return this.db.dropDatabase()};/*!
 * ignore
 */z1.prototype._shouldBufferCommands=function Z(){if(this.config.bufferCommands!=null)return this.config.bufferCommands;if(this.base.get("bufferCommands")!=null)return this.base.get("bufferCommands");return!0};z1.prototype.error=function(Z,Y){if(Y)return Y(Z),null;if(this.listeners("error").length>0)this.emit("error",Z);return Promise.reject(Z)};z1.prototype.onOpen=function(){this.readyState=U0.connected;for(let Z of this._queue)Z.fn.apply(Z.ctx,Z.args);this._queue=[];for(let Z in this.collections)if(yB.object.hasOwnProperty(this.collections,Z))this.collections[Z].onOpen();this.emit("open")};z1.prototype.openUri=async function Z(Y,J){if(this.readyState===U0.connecting||this.readyState===U0.connected){if(this._connectionString===Y)return this}this._closeCalled=!1;let X=!1;if(J&&"_fireAndForget"in J)X=J._fireAndForget,delete J._fireAndForget;try{zC1.apply(arguments)}catch($){if(X)throw $;throw this.$initialConnection=Promise.reject($),$}this.$initialConnection=this.createClient(Y,J).then(()=>this).catch(($)=>{if(this.readyState=U0.disconnected,this.listeners("error").length>0)tl(()=>this.emit("error",$));throw $});for(let $ of Object.values(this.models))$.init().catch(function W(){});if(X)return this;try{await this.$initialConnection}catch($){throw ol($)}return this};/*!
 * ignore
 *//*!
 * ignore
 */z1.prototype.destroy=async function Z(Y){if(typeof Y==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new V6("Connection.prototype.destroy() no longer accepts a callback");if(Y!=null&&typeof Y==="object")this.$wasForceClosed=!!Y.force;else this.$wasForceClosed=!!Y;return this._close(Y,!0)};z1.prototype.close=async function Z(Y){if(typeof Y==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new V6("Connection.prototype.close() no longer accepts a callback");if(Y!=null&&typeof Y==="object")this.$wasForceClosed=!!Y.force;else this.$wasForceClosed=!!Y;for(let J of Object.values(this.models))delete J.$init;return this._close(Y,!1)};z1.prototype._close=async function Z(Y,J){const X=this,$=this._closeCalled;if(this._closeCalled=!0,this._destroyCalled=J,this.client!=null)this.client._closeCalled=!0,this.client._destroyCalled=J;const W=this;switch(this.readyState){case U0.disconnected:if(J&&this.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);if(!$)await this.doClose(Y),this.onClose(Y);break;case U0.connected:if(this.readyState=U0.disconnecting,await this.doClose(Y),J&&X.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);this.onClose(Y);break;case U0.connecting:return new Promise((G,Q)=>{const K=()=>{if(this.removeListener("open",K),this.removeListener("error",K),J)this.destroy(Y).then(G,Q);else this.close(Y).then(G,Q)};this.once("open",K),this.once("error",K)});case U0.disconnecting:return new Promise((G)=>{this.once("close",()=>{if(J&&this.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);G()})})}return this};z1.prototype.doClose=function(){throw new Error("Connection#doClose unimplemented by driver")};z1.prototype.onClose=function(Z){this.readyState=U0.disconnected;for(let Y in this.collections)if(yB.object.hasOwnProperty(this.collections,Y))this.collections[Y].onClose(Z);this.emit("close",Z);for(let Y of this.otherDbs)this._destroyCalled?Y.destroy({force:Z,skipCloseClient:!0}):Y.close({force:Z,skipCloseClient:!0})};z1.prototype.collection=function(Z,Y){const J={autoIndex:this.config.autoIndex!=null?this.config.autoIndex:this.base.options.autoIndex,autoCreate:this.config.autoCreate!=null?this.config.autoCreate:this.base.options.autoCreate};Y=Object.assign({},J,Y?JC1(Y):{}),Y.$wasForceClosed=this.$wasForceClosed;const X=this.base&&this.base.__driver&&this.base.__driver.Collection||XC1.get().Collection;if(!(Z in this.collections))this.collections[Z]=new X(Z,this,Y);return this.collections[Z]};z1.prototype.plugin=function(Z,Y){return this.plugins.push([Z,Y]),this};z1.prototype.model=function(Z,Y,J,X){if(!(this instanceof z1))throw new V6("`connection.model()` should not be run with `new`. If you are doing `new db.model(foo)(bar)`, use `db.model(foo)(bar)` instead");let $;if(typeof Z==="function")$=Z,Z=$.name;if(typeof Y==="string")J=Y,Y=!1;if(yB.isObject(Y)){if(!Y.instanceOfSchema)Y=new oT1(Y);else if(!(Y instanceof this.base.Schema))Y=Y._clone(this.base.Schema)}if(Y&&!Y.instanceOfSchema)throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");const W={cache:!1,overwriteModels:this.base.options.overwriteModels},G=Object.assign(W,X,{connection:this});if(this.models[Z]&&!J&&G.overwriteModels!==!0){if(Y&&Y.instanceOfSchema&&Y!==this.models[Z].schema)throw new V6.OverwriteModelError(Z);return this.models[Z]}let Q;if(Y&&Y.instanceOfSchema){if(YC1(Y,this.plugins,null,"$connectionPluginsApplied"),Q=this.base._model($||Z,Y,J,G),!this.models[Z])this.models[Z]=Q;return Q.init().catch(function K(){}),Q}if(this.models[Z]&&J)return Q=this.models[Z],Y=Q.prototype.schema,Q.__subclass(this,Y,J);if(arguments.length===1){if(Q=this.models[Z],!Q)throw new V6.MissingSchemaError(Z);return Q}if(!Q)throw new V6.MissingSchemaError(Z);if(this===Q.prototype.db&&(!J||J===Q.collection.name)){if(!this.models[Z])this.models[Z]=Q;return Q}return this.models[Z]=Q.__subclass(this,Y,J),this.models[Z]};z1.prototype.deleteModel=function(Z){if(typeof Z==="string"){const Y=this.model(Z);if(Y==null)return this;const J=Y.collection.name;delete this.models[Z],delete this.collections[J],this.emit("deleteModel",Y)}else if(Z instanceof RegExp){const Y=Z,J=this.modelNames();for(let X of J)if(Y.test(X))this.deleteModel(X)}else throw new Error('First parameter to `deleteModel()` must be a string or regexp, got "'+Z+'"');return this};z1.prototype.watch=function(Z,Y){return new rT1(($)=>{tl(()=>{if(this.readyState===U0.connecting)this.once("open",function(){const W=this.db.watch(Z,Y);$(null,W)});else{const W=this.db.watch(Z,Y);$(null,W)}})},Z,Y)};z1.prototype.asPromise=async function Z(){try{return await this.$initialConnection,this}catch(Y){throw ol(Y)}};z1.prototype.modelNames=function(){return Object.keys(this.models)};z1.prototype.shouldAuthenticate=function(){return this.user!=null&&(this.pass!=null||this.authMechanismDoesNotRequirePassword())};z1.prototype.authMechanismDoesNotRequirePassword=function(){if(this.options&&this.options.auth)return QC1.indexOf(this.options.auth.authMechanism)>=0;return!0};z1.prototype.optionsProvideAuthenticationData=function(Z){return Z&&Z.user&&(Z.pass||this.authMechanismDoesNotRequirePassword())};z1.prototype.getClient=function Z(){return this.client};z1.prototype.setClient=function Z(){throw new V6("Connection#setClient not implemented by driver")};/*!
 * Called internally by `openUri()` to create a MongoClient instance.
 */z1.prototype.createClient=function Z(){throw new V6("Connection#createClient not implemented by driver")};z1.prototype.syncIndexes=async function Z(Y={}){const J={},X={},{continueOnError:$}=Y;delete Y.continueOnError;for(let W of Object.values(this.models))try{J[W.modelName]=await W.syncIndexes(Y)}catch(G){if(!$){X[W.modelName]=G;break}else J[W.modelName]=G}if(!$&&Object.keys(X).length){const W=Object.entries(X).map(([Q,K])=>`${Q}: ${K.message}`).join(", ");throw new ZC1(W,X)}return J};/*!
 * Module exports.
 */z1.STATES=U0;el.exports=z1});var gB=R((j10,FC1)=>{FC1.exports={name:"mongoose",description:"Mongoose MongoDB ODM",version:"8.0.2",author:"Guillermo Rauch <guillermo@learnboost.com>",keywords:["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],license:"MIT",dependencies:{bson:"^6.2.0",kareem:"2.5.1",mongodb:"6.2.0",mpath:"0.9.0",mquery:"5.0.0",ms:"2.1.3",sift:"16.0.1"},devDependencies:{"@babel/core":"7.23.2","@babel/preset-env":"7.22.20","@typescript-eslint/eslint-plugin":"^6.2.1","@typescript-eslint/parser":"^6.2.1",acquit:"1.3.0","acquit-ignore":"0.2.1","acquit-require":"0.1.1","assert-browserify":"2.0.0",axios:"1.1.3","babel-loader":"8.2.5",benchmark:"2.1.4","broken-link-checker":"^0.7.8",buffer:"^5.6.0",cheerio:"1.0.0-rc.12","crypto-browserify":"3.12.0",dotenv:"16.3.1",dox:"1.0.0",eslint:"8.52.0","eslint-plugin-markdown":"^3.0.1","eslint-plugin-mocha-no-only":"1.1.1",express:"^4.18.1","fs-extra":"~11.1.1","highlight.js":"11.8.0","lodash.isequal":"4.5.0","lodash.isequalwith":"4.4.0","markdownlint-cli2":"^0.10.0",marked:"4.3.0",mkdirp:"^3.0.1",mocha:"10.2.0",moment:"2.x","mongodb-memory-server":"8.15.1",ncp:"^2.0.0",nyc:"15.1.0",pug:"3.0.2",q:"1.5.1",sinon:"17.0.1","stream-browserify":"3.0.0",tsd:"0.29.0",typescript:"5.2.2",uuid:"9.0.1",webpack:"5.89.0"},directories:{lib:"./lib/mongoose"},scripts:{"docs:clean":"npm run docs:clean:stable","docs:clean:stable":"rimraf index.html && rimraf -rf ./docs/*.html  && rimraf -rf ./docs/api && rimraf -rf ./docs/tutorials/*.html && rimraf -rf ./docs/typescript/*.html && rimraf -rf ./docs/*.html && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:5x":"rimraf index.html && rimraf -rf ./docs/5.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:6x":"rimraf index.html && rimraf -rf ./docs/6.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:copy:tmp":"mkdirp ./tmp/docs/css && mkdirp ./tmp/docs/js && mkdirp ./tmp/docs/images && mkdirp ./tmp/docs/tutorials && mkdirp ./tmp/docs/typescript && mkdirp ./tmp/docs/api && ncp ./docs/css ./tmp/docs/css --filter=.css$ && ncp ./docs/js ./tmp/docs/js --filter=.js$ && ncp ./docs/images ./tmp/docs/images && ncp ./docs/tutorials ./tmp/docs/tutorials && ncp ./docs/typescript ./tmp/docs/typescript && ncp ./docs/api ./tmp/docs/api && cp index.html ./tmp && cp docs/*.html ./tmp/docs/","docs:copy:tmp:5x":"rimraf ./docs/5.x && ncp ./tmp ./docs/5.x","docs:move:6x:tmp":"mv ./docs/6.x ./tmp","docs:copy:tmp:6x":"rimraf ./docs/6.x && ncp ./tmp ./docs/6.x","docs:checkout:gh-pages":"git checkout gh-pages","docs:checkout:5x":"git checkout 5.x","docs:checkout:6x":"git checkout 6.x","docs:generate":"node ./scripts/website.js","docs:generate:search":"node ./scripts/generateSearch.js","docs:generate:sponsorData":"node ./scripts/loadSponsorData.js","docs:merge:stable":"git merge master","docs:merge:5x":"git merge 5.x","docs:merge:6x":"git merge 6.x","docs:test":"npm run docs:generate && npm run docs:generate:search","docs:view":"node ./scripts/static.js","docs:prepare:publish:stable":"npm run docs:checkout:gh-pages && npm run docs:merge:stable && npm run docs:generate && npm run docs:generate:search","docs:prepare:publish:5x":"npm run docs:checkout:5x && npm run docs:merge:5x && npm run docs:clean:stable && npm run docs:generate && npm run docs:copy:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:5x","docs:prepare:publish:6x":"npm run docs:checkout:6x && npm run docs:merge:6x && npm run docs:clean:stable && env DOCS_DEPLOY=true npm run docs:generate && npm run docs:move:6x:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:6x","docs:prepare:publish:7x":"env DOCS_DEPLOY=true npm run docs:generate && npm run docs:checkout:gh-pages && rimraf ./docs/7.x && mv ./tmp ./docs/7.x","docs:check-links":"blc http://127.0.0.1:8089 -ro",lint:"eslint .","lint-js":"eslint . --ext .js --ext .cjs","lint-ts":"eslint . --ext .ts","lint-md":"markdownlint-cli2 \"**/*.md\"","build-browser":"(rm ./dist/* || true) && node ./scripts/build-browser.js",prepublishOnly:"npm run build-browser",release:"git pull && git push origin master --tags && npm publish","release-5x":"git pull origin 5.x && git push origin 5.x && git push origin 5.x --tags && npm publish --tag 5x","release-6x":"git pull origin 6.x && git push origin 6.x && git push origin 6.x --tags && npm publish --tag 6x",mongo:"node ./tools/repl.js","publish-7x":"npm publish --tag 7x",test:"mocha --exit ./test/*.test.js","test-deno":"deno run --allow-env --allow-read --allow-net --allow-run --allow-sys --allow-write ./test/deno.js","test-rs":"START_REPLICA_SET=1 mocha --timeout 30000 --exit ./test/*.test.js","test-tsd":"node ./test/types/check-types-filename && tsd",tdd:"mocha ./test/*.test.js --inspect --watch --recursive --watch-files ./**/*.{js,ts}","test-coverage":"nyc --reporter=html --reporter=text npm test","ts-benchmark":"cd ./benchmarks/typescript/simple && npm install && npm run benchmark | node ../../../scripts/tsc-diagnostics-check"},main:"./index.js",types:"./types/index.d.ts",engines:{node:">=16.20.1"},bugs:{url:"https://github.com/Automattic/mongoose/issues/new"},repository:{type:"git",url:"git://github.com/Automattic/mongoose.git"},homepage:"https://mongoosejs.com",browser:"./dist/browser.umd.js",config:{mongodbMemoryServer:{disablePostinstall:!0}},funding:{type:"opencollective",url:"https://opencollective.com/mongoose"},tsd:{directory:"test/types",compilerOptions:{esModuleInterop:!1,strict:!0,allowSyntheticDefaultImports:!0,strictPropertyInitialization:!1,noImplicitAny:!1,strictNullChecks:!0,module:"commonjs",target:"ES2017"}}}});var Ji=R((O10,Yi)=>{var VC1=function(Z,Y){const J=Y?Y:{},X=J.readPreference?J.readPreference:MC1(Z),$=UC1(J);return X&&X!=="primary"&&X!=="primaryPreferred"?LC1(X,$):$},LC1=function(Z,Y){if(RC1(Y)&&wC1(Z))AC1();else return BC1(Y)},RC1=function(Z){const Y=Z.config&&Z.config.autoIndex,{autoCreate:J,autoIndex:X}=Z;return!!(Y||J||X)},wC1=function(Z){return Z==="secondary"||Z==="secondaryPreferred"},MC1=function(Z){const J=/(?:&|\?)readPreference=(\w+)(?:&|$)/.exec(Z);return J?J[1]:null},BC1=function(Z){return Z.config={autoIndex:!1},Z.autoCreate=!1,Z.autoIndex=!1,Z},AC1=function(){throw new qC1('MongoDB prohibits index creation on connections that read from non-primary replicas.  Connections that set "readPreference" to "secondary" or "secondaryPreferred" may not opt-in to the following connection options: autoCreate, autoIndex')},UC1=N0(),qC1=e1();Yi.exports=VC1});var Xi=R((NC1)=>{NC1.setTimeout=setTimeout});var Ki=R((k10,Qi)=>{var VZ=function(){$i.apply(this,arguments),this._listening=!1},bB=function(Z,Y,J,X){const $=X!=null?Y.db(X):Y.db();Z.db=$,Z.client=Y,Z.host=Y&&Y.s&&Y.s.options&&Y.s.options.hosts&&Y.s.options.hosts[0]&&Y.s.options.hosts[0].host||void 0,Z.port=Y&&Y.s&&Y.s.options&&Y.s.options.hosts&&Y.s.options.hosts[0]&&Y.s.options.hosts[0].port||void 0,Z.name=X!=null?X:$.databaseName,Z._closeCalled=Y._closeCalled;const W=()=>{if(Z.readyState!==L6.connected)Z.readyState=L6.connected,Z.emit("reconnect"),Z.emit("reconnected"),Z.onOpen()},G=Y&&Y.topology&&Y.topology.description&&Y.topology.description.type||"";if(G==="Single")Y.on("serverDescriptionChanged",(Q)=>{if(Q.newDescription.type==="Unknown")Z.readyState=L6.disconnected;else W()});else if(G.startsWith("ReplicaSet"))Y.on("topologyDescriptionChanged",(Q)=>{const K=Q.newDescription;if(Z.readyState===L6.connected&&K.type!=="ReplicaSetWithPrimary")Z.readyState=L6.disconnected;else if(Z.readyState===L6.disconnected&&K.type==="ReplicaSetWithPrimary")W()});Z.onOpen();for(let Q in Z.collections)if(Gi.object.hasOwnProperty(Z.collections,Q))Z.collections[Q].onOpen()};/*!
 * Module dependencies.
 */var $i=Zi(),v9=e1(),L6=_Y(),Wi=TK(),DC1=gB(),PC1=Ji(),TC1=Xi().setTimeout,Gi=H1();VZ.STATES=L6;/*!
 * Inherits from Connection.
 */Object.setPrototypeOf(VZ.prototype,$i.prototype);VZ.prototype.useDb=function(Z,Y){if(Y=Y||{},Y.useCache&&this.relatedDbs[Z])return this.relatedDbs[Z];const J=new this.constructor;J.name=Z,J.base=this.base,J.collections={},J.models={},J.replica=this.replica,J.config=Object.assign({},this.config,J.config),J.name=this.name,J.options=this.options,J._readyState=this._readyState,J._closeCalled=this._closeCalled,J._hasOpened=this._hasOpened,J._listening=!1,J._parent=this,J.host=this.host,J.port=this.port,J.user=this.user,J.pass=this.pass;const X=this;if(J.client=X.client,this.db&&this._readyState===L6.connected)$();else this.once("connected",$);function $(){J.client=X.client;const W={};if(Y.hasOwnProperty("noListener"))W.noListener=Y.noListener;J.db=X.client.db(Z,W),J.onOpen()}if(J.name=Z,Y.noListener!==!0)this.otherDbs.push(J);if(J.otherDbs.push(this),Y&&Y.useCache)this.relatedDbs[J.name]=J,J.relatedDbs=this.relatedDbs;return J};VZ.prototype.removeDb=function Z(Y){const J=this.otherDbs.filter((X)=>X.name===Y);if(!J.length)throw new v9(`No connections to database "${Y}" found`);for(let X of J)X._closeCalled=!0,X._destroyCalled=!0,X._readyState=L6.disconnected,X.$wasForceClosed=!0;delete this.relatedDbs[Y],this.otherDbs=this.otherDbs.filter((X)=>X.name!==Y)};VZ.prototype.doClose=async function Z(Y){if(this.client==null)return this;let J=!1;if(Y!=null&&typeof Y==="object")J=Y.skipCloseClient,Y=Y.force;if(J)return this;return await this.client.close(Y),await new Promise((X)=>TC1(X,1)),this};/*!
 * ignore
 */VZ.prototype.createClient=async function Z(Y,J){if(typeof Y!=="string")throw new v9("The `uri` parameter to `openUri()` must be a "+`string, got "${typeof Y}". Make sure the first parameter to `+"`mongoose.connect()` or `mongoose.createConnection()` is a string.");if(this._destroyCalled)throw new v9("Connection has been closed and destroyed, and cannot be used for re-opening the connection. Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.");if(this.readyState===L6.connecting||this.readyState===L6.connected){if(this._connectionString!==Y)throw new v9("Can\'t call `openUri()` on an active connection with different connection strings. Make sure you aren\'t calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections")}if(J=PC1(Y,J),J){const W=J.config&&J.config.autoIndex!=null?J.config.autoIndex:J.autoIndex;if(W!=null)this.config.autoIndex=W!==!1,delete J.config,delete J.autoIndex;if("autoCreate"in J)this.config.autoCreate=!!J.autoCreate,delete J.autoCreate;if("sanitizeFilter"in J)this.config.sanitizeFilter=J.sanitizeFilter,delete J.sanitizeFilter;if(J.user||J.pass)J.auth=J.auth||{},J.auth.username=J.user,J.auth.password=J.pass,this.user=J.user,this.pass=J.pass;if(delete J.user,delete J.pass,J.bufferCommands!=null)this.config.bufferCommands=J.bufferCommands,delete J.bufferCommands}else J={};this._connectionOptions=J;const X=J.dbName;if(X!=null)this.$dbName=X;if(delete J.dbName,!Gi.hasUserDefinedProperty(J,"driverInfo"))J.driverInfo={name:"Mongoose",version:DC1.version};this.readyState=L6.connecting,this._connectionString=Y;let $;try{$=new Wi.MongoClient(Y,J)}catch(W){throw this.readyState=L6.disconnected,W}this.client=$,$.setMaxListeners(0),await $.connect(),bB(this,$,J,X);for(let W of this.otherDbs)bB(W,$,{},W.name);return this};/*!
 * ignore
 */VZ.prototype.setClient=function Z(Y){if(!(Y instanceof Wi.MongoClient))throw new v9("Must call `setClient()` with an instance of MongoClient");if(this.readyState!==L6.disconnected)throw new v9("Cannot call `setClient()` on a connection that is already connected.");if(Y.topology==null)throw new v9("Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.");this._connectionString=Y.s.url,bB(this,Y,{},Y.s.options.dbName);for(let J of Object.values(this.models))J.init().catch(function X(){});return this};/*!
 * ignore
 *//*!
 * Module exports.
 */Qi.exports=VZ});var Hi=R((CC1)=>{/*!
 * Module exports.
 */CC1.Collection=Ah();CC1.Connection=Ki()});var Fi=R((x10,zi)=>{/*!
 * Valid mongoose options
 */var OC1=Object.freeze(["allowDiskUse","applyPluginsToChildSchemas","applyPluginsToDiscriminators","autoCreate","autoIndex","bufferCommands","bufferTimeoutMS","cloneSchemas","debug","id","timestamps.createdAt.immutable","maxTimeMS","objectIdGetter","overwriteModels","returnOriginal","runValidators","sanitizeFilter","sanitizeProjection","selectPopulatedPaths","setDefaultsOnInsert","strict","strictPopulate","strictQuery","toJSON","toObject","translateAliases"]);zi.exports=OC1});var qi=R((f10,Ui)=>{/*!
 * Module dependencies.
 */var SC1=e1();class vB extends SC1{constructor(Z){let Y=Z.map((J)=>J.message).join(", ");if(Y.length>50)Y=Y.slice(0,50)+"...";super(`eachAsync() finished with ${Z.length} errors: ${Y}`);this.errors=Z}}Object.defineProperty(vB.prototype,"name",{value:"EachAsyncMultiError"});/*!
 * exports
 */Ui.exports=vB});var mB=R((y10,Li)=>{var _C1=function(){const Z=[];let Y=null,J=0;return function $(W){if(Y===null&&Z.length===0)return Y=J++,W(X);Z.push(W)};function X(){if(Z.length!==0)Y=J++,Z.shift()(X);else Y=null}},Vi=function(Z){if(Z.length===0)return null;return new kC1(Z)};/*!
 * Module dependencies.
 */var kC1=qi(),hB=I6();Li.exports=async function Z(Y,J,X){const $=X.parallel||1,W=X.batchSize,G=X.signal,Q=X.continueOnError,K=[],H=_C1();let z=!1;return new Promise((q,V)=>{if(G!=null){if(G.aborted)return q(null);G.addEventListener("abort",()=>{return z=!0,q(null)},{once:!0})}if(W!=null){if(typeof W!=="number")throw new TypeError("batchSize must be a number");else if(!Number.isInteger(W))throw new TypeError("batchSize must be an integer");else if(W<1)throw new TypeError("batchSize must be at least 1")}F((L,w)=>{if(L!=null)return V(L);q(w)})});function F(q){let V=0,L=0,w=null;for(let A=0;A<$;++A)H(B());function B(){let A=[],M=!1;return I;function I(x){if(M||z)return x();else if(w)return x();Y(function(j,E){if(w!=null)return x();if(j!=null)if(j.name==="MongoCursorExhaustedError")E=null;else if(Q)K.push(j);else return w=j,q(j),x();if(E==null){if(M=!0,V<=0){const b=Q?Vi(K):w;q(b)}else if(W&&A.length)U(A,L++,l);return x()}if(++V,hB(()=>x()),W)A.push(E);if(W&&A.length!==W){hB(()=>H(I));return}const D=W?A:E;function l(b){if(W)V-=A.length,A=[];else--V;if(b!=null)if(Q)K.push(b);else return w=b,q(b);if((M||z)&&V<=0){const _=Q?Vi(K):w;return q(_)}hB(()=>H(I))}U(D,L++,l)})}}}function U(q,V,L){let w;try{w=J(q,V)}catch(B){return L(B)}if(w&&typeof w.then==="function")w.then(function(){L(null)},function(B){L(B||new Error("`eachAsync()` promise rejected without error"))});else L(null)}}});var Pi=R((g10,Di)=>{var R6=function(Z){Bi.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.skipped=!1,this.query=Z;const Y=Z.model;this._mongooseOptions={},this._transforms=[],this.model=Y,this.options={},Y.hooks.execPre("find",Z,(J)=>{if(J!=null){if(J instanceof fC1.skipWrappedFunction){const X=J.args[0];if(X!=null&&(!Array.isArray(X)||X.length)){const $=new dB('Cannot `skipMiddlewareFunction()` with a value when using `.find().cursor()`, value must be nullish or empty array, got "'+Ni.inspect(X)+'".');this._markError($),this.listeners("error").length>0&&this.emit("error",$);return}this.skipped=!0,this.emit("cursor",null);return}this._markError(J),this.listeners("error").length>0&&this.emit("error",J);return}if(Object.assign(this.options,Z._optionsForExec()),this._transforms=this._transforms.concat(Z._transforms.slice()),this.options.transform)this._transforms.push(this.options.transform);if(this.options.batchSize)this.options._populateBatchSize=Math.min(this.options.batchSize,5000);if(Y.collection._shouldBufferCommands()&&Y.collection.buffer)Y.collection.queue.push([()=>Ri(Z,this)]);else Ri(Z,this)})},Ri=function(Z,Y){try{const J=Z.model.collection.find(Z._conditions,Y.options);Y.cursor=J,Y.emit("cursor",J)}catch(J){Y._markError(J),Y.listeners("error").length>0&&Y.emit("error",Y._error)}},wi=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},mH=function(Z,Y){let J=Y;if(Z._transforms.length)J=function(X,$){if(X||$===null&&!Z._mongooseOptions.transformNull)return Y(X,$);Y(X,Z._transforms.reduce(function(W,G){return G.call(Z,W)},$))};if(Z._error)return uB(function(){J(Z._error)});if(Z.skipped)return uB(()=>J(null,null));if(Z.cursor){if(Z.query._mongooseOptions.populate&&!Z._pop)Z._pop=Ai.preparePopulationOptionsMQ(Z.query,Z.query._mongooseOptions),Z._pop.__noPromise=!0;if(Z.query._mongooseOptions.populate&&Z.options._populateBatchSize>1)if(Z._batchDocs&&Z._batchDocs.length)return hH(Z,Z._batchDocs.shift(),Z._pop,J);else if(Z._batchExhausted)return J(null,null);else{Z._batchDocs=[],Z.cursor.next().then((X)=>{sJ.call({ctx:Z,callback:J},null,X)},(X)=>{sJ.call({ctx:Z,callback:J},X)});return}else return Z.cursor.next().then((X)=>{if(!X){J(null,null);return}if(!Z.query._mongooseOptions.populate)return hH(Z,X,null,J);Z.query.model.populate(X,Z._pop).then(($)=>{hH(Z,$,Z._pop,J)},($)=>{J($)})},(X)=>{J(X)})}else Z.once("error",Y),Z.once("cursor",function(X){if(Z.removeListener("error",Y),X==null){if(Z.skipped)return Y(null,null);return}mH(Z,Y)})},sJ=function(Z,Y){if(Z)return this.callback(Z);if(!Y)return this.ctx._batchExhausted=!0,Mi.call(this);if(this.ctx._batchDocs.push(Y),this.ctx._batchDocs.length<this.ctx.options._populateBatchSize){if(this.ctx._batchDocs.length>0&&this.ctx._batchDocs.length%1000===0)return uB(()=>this.ctx.cursor.next().then((J)=>{sJ.call(this,null,J)},(J)=>{sJ.call(this,J)}));this.ctx.cursor.next().then((J)=>{sJ.call(this,null,J)},(J)=>{sJ.call(this,J)})}else Mi.call(this)},Mi=function(){if(!this.ctx._batchDocs.length)return this.callback(null,null);this.ctx.query.model.populate(this.ctx._batchDocs,this.ctx._pop).then(()=>{hH(this.ctx,this.ctx._batchDocs.shift(),this.ctx._pop,this.callback)},(Z)=>{this.callback(Z)})},hH=function(Z,Y,J,X){if(Z.query._mongooseOptions.lean)return Z.model.hooks.execPost("find",Z.query,[[Y]],(K)=>{if(K!=null)return X(K);X(null,Y)});const{model:$,_fields:W,_userProvidedFields:G,options:Q}=Z.query;Ai.createModelAndInit($,Y,W,G,Q,J,(K,H)=>{if(K!=null)return X(K);Z.model.hooks.execPost("find",Z.query,[[H]],(z)=>{if(z!=null)return X(z);X(null,H)})})},Ii=function(Z,Y){if(Z.cursor)return Y();Z.once("cursor",function(J){if(J==null)return;Y()})};/*!
 * Module dependencies.
 */var dB=z0(),Bi=import.meta.require("stream").Readable,xC1=mB(),Ai=xJ(),fC1=DJ(),uB=I6(),Ni=import.meta.require("util");Ni.inherits(R6,Bi);/*!
 * ignore
 */R6.prototype._read=function(){mH(this,(Z,Y)=>{if(Z)return this.emit("error",Z);if(!Y){this.push(null),this.cursor.close(function(J){if(J)return this.emit("error",J)});return}this.push(Y)})};Object.defineProperty(R6.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});R6.prototype._markError=function(Z){return this._error=Z,this};R6.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new dB("QueryCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close(),this.emit("close")}catch(Y){throw this.listeners("error").length>0&&this.emit("error",Y),Y}};R6.prototype.rewind=function(){return Ii(this,()=>{this.cursor.rewind()}),this};R6.prototype.next=async function Z(){if(arguments[0]==="function")throw new dB("QueryCursor.prototype.next() no longer accepts a callback");return new Promise((Y,J)=>{mH(this,function(X,$){if(X)return J(X);Y($)})})};R6.prototype.eachAsync=function(Z,Y,J){if(typeof Y==="function")J=Y,Y={};return Y=Y||{},xC1((X)=>mH(this,X),Z,Y,J)};R6.prototype.options;R6.prototype.addCursorFlag=function(Z,Y){return Ii(this,()=>{this.cursor.addCursorFlag(Z,Y)}),this};/*!
 * ignore
 */R6.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */R6.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(wi)===-1)this.map(wi);return this};if(Symbol.asyncIterator!=null)R6.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */Di.exports=R6});var pB=R((b10,Ci)=>{var yC1=function(Z,Y){Ti(Z,Y,"maxTimeMS")},gC1=function(Z,Y){Ti(Z,Y,"allowDiskUse")},Ti=function(Z,Y,J){if(cB.hasUserDefinedProperty(Z,J))return;if(cB.hasUserDefinedProperty(Y.db.options,J))Z[J]=Y.db.options[J];else if(cB.hasUserDefinedProperty(Y.base.options,J))Z[J]=Y.base.options[J]},cB=H1();Ci.exports={applyGlobalMaxTimeMS:yC1,applyGlobalDiskUse:gC1}});var lB=R((v10,Ei)=>{var bC1=V0();Ei.exports=function Z(Y,J){if(J.writeConcern!=null)return;const X=bC1(Y,"options.writeConcern",{});if(Object.keys(X).length!=0){if(J.writeConcern={},!("w"in J)&&X.w!=null)J.writeConcern.w=X.w;if(!("j"in J)&&X.j!=null)J.writeConcern.j=X.j;if(!("wtimeout"in J)&&X.wtimeout!=null)J.writeConcern.wtimeout=X.wtimeout}else{if(!("w"in J)&&X.w!=null)J.w=X.w;if(!("j"in J)&&X.j!=null)J.j=X.j;if(!("wtimeout"in J)&&X.wtimeout!=null)J.wtimeout=X.wtimeout}}});var Si=R((h10,Oi)=>{var ji=FH();Oi.exports=function Z(Y,J,X){const $=Y;if(!Object.keys(X).some(ji))return J.castForQuery(null,X,$);const G=Object.keys(X);let Q=G.length;while(Q--){const K=G[Q],H=X[K];if(K==="$not"){if(H&&J&&!J.caster){const z=Object.keys(H);if(z.length&&ji(z[0]))for(let F of Object.keys(H))H[F]=J.castForQuery(F,H[F],$);else X[K]=J.castForQuery(K,H,$);continue}}else X[K]=J.castForQuery(K,H,$)}return X}});var _i=R((m10,ki)=>{var vC1=/^\d+$/;ki.exports=function Z(Y,J){let X=Y.path(J);if(X!=null)return X;const $=J.split(".");let W="",G=!1;for(let Q of $){if(G&&vC1.test(Q))continue;if(W=W.length===0?Q:W+"."+Q,X=Y.path(W),X!=null&&X.schema){if(Y=X.schema,W="",!G&&X.$isMongooseDocumentArray)G=!0}}return X}});var iB=R((u10,fi)=>{var xi=SJ().modifiedPaths;fi.exports=function Z(Y){const J=Object.keys(Y),X={},$={};for(let W of J){if(W.startsWith("$")){xi(Y[W],"",X);continue}$[W]=Y[W]}return xi($,"",X),X}});var nB=R((d10,yi)=>{var hC1=iB();yi.exports=function Z(Y){if(Y==null)return{};const J=hC1(Y);return Object.keys(J).reduce((X,$)=>{const W=$.match(/\$\[[^\]]+\]/g);if(W==null)return X;for(let G of W){const Q=$.indexOf(G);if(Q!==$.lastIndexOf(G))throw new Error(`Path '${$}' contains the same array filter multiple times`);X[G.substring(2,G.length-1)]=$.substring(0,Q-1).replace(/\$\[[^\]]+\]/g,"0")}return X},{})}});var mi=R((c10,hi)=>{var vi=function(Z,Y,J,X,$){if(!Array.isArray(Z))return;for(let W of Z){if(W==null)throw new Error(`Got null array filter in ${Z}`);const G=Object.keys(W).filter((q)=>W[q]!=null);if(G.length===0)continue;const Q=G[0];if(Q==="$and"||Q==="$or"){for(let q of G)vi(W[q],Y,J,X,$);continue}const K=Q.indexOf("."),H=K===-1?Q:Q.substring(0,K);if(X[H]==null)continue;const z=gi(X[H]),F=bi(Y,z);let U=F!=null?F.schema:null;if(U!=null&&U.discriminators!=null&&W[H+"."+U.options.discriminatorKey])U=U.discriminators[W[H+"."+U.options.discriminatorKey]]||U;for(let q of G){if(X[q]===null)continue;if(Object.keys(X).length===0)continue;const V=q.indexOf(".");let L=V===-1?null:q.substring(V),w;if(L==null||U==null)w=F;else L=gi(L),w=bi(U,L);if(w==null){if(!J)return;const B=L==null?z+".0":z+".0"+L;throw new Error(`Could not find path "${B}" in schema`)}if(typeof W[q]==="object")W[q]=mC1($,w,W[q]);else W[q]=w.castForQuery(null,W[q])}}},mC1=Si(),gi=D$(),bi=_i(),uC1=nB();hi.exports=function Z(Y){const J=Y.options.arrayFilters,X=Y.getUpdate(),$=Y.schema,W=uC1(X);let G=$.options.strict;if(Y._mongooseOptions.strict!=null)G=Y._mongooseOptions.strict;if(Y.model&&Y.model.base.options.strictQuery!=null)G=Y.model.base.options.strictQuery;if($._userProvidedOptions.strictQuery!=null)G=$._userProvidedOptions.strictQuery;if(Y._mongooseOptions.strictQuery!=null)G=Y._mongooseOptions.strictQuery;vi(J,$,G,W,Y)}});var ci=R((p10,di)=>{var dC1=D$(),ui=V0(),cC1=u7(),pC1=nB();di.exports=function Z(Y,J,X,$,W){const G=$.split(".");let Q=null,K="adhocOrUndefined";X=X||{},J=J||{};const H=W!=null&&Array.isArray(W.arrayFilters)?W.arrayFilters:[],z=pC1(J);for(let F=0;F<G.length;++F){const U=dC1(G.slice(0,F+1).join("."));if(Q=Y.path(U),Q==null)continue;if(K=Y.pathType(U),(Q.$isSingleNested||Q.$isMongooseDocumentArrayElement)&&Q.schema.discriminators!=null){const q=ui(Q,"schema.options.discriminatorKey"),V=U+"."+q,L=V.replace(/\.\d+\./,".");let w=null;if(V in X)w=X[V];if(L in X)w=X[L];const B=U.replace(/\.\d+$/,"");if(Q.$isMongooseDocumentArrayElement&&ui(X[B],"$elemMatch."+q)!=null)w=X[B].$elemMatch[q];if(V in J)w=J[V];for(let x of Object.keys(z)){const j=z[x]+"."+q,E=x+"."+q;if(j===L){const D=H.find((l)=>l.hasOwnProperty(E));if(D!=null)w=D[E]}}if(w==null)continue;const A=cC1(Q.caster.discriminators,w),M=A&&A.schema;if(M==null)continue;const I=G.slice(F+1).join(".");if(Q=M.path(I),Q!=null){K=M._getPathType(I);break}}}return{type:K,schematype:Q}}});var li=R((l10,pi)=>{var lC1=WZ();pi.exports=function Z(Y,J,X,$,W,G){if(Y==null||!Y.options||!Y.options.immutable)return!1;let Q=Y.options.immutable;if(typeof Q==="function")Q=Q.call(G,G);if(!Q)return!1;if(J===!1)return!1;if(J==="throw")throw new lC1(null,`Field ${W} is immutable and strict = 'throw'`);return delete X[$],!0}});var ai=R((i10,ni)=>{var ii=function(Z,Y,J,X,$){const W=Z.path(J);if(W==null)return;let G=iC1(W,"options.immutable",null);if(G==null)return;if(typeof G==="function")G=G.call($,$);if(!G)return;X.$setOnInsert=X.$setOnInsert||{},X.$setOnInsert[J]=Y[J],delete Y[J]},iC1=V0();ni.exports=function Z(Y,J,X){if(J==null)return;const $=Object.keys(J);for(let W of $){const G=W.startsWith("$");if(W==="$set"){const Q=Object.keys(J[W]);for(let K of Q)ii(Y,J[W],K,J,X)}else if(!G)ii(Y,J,W,J,X)}}});var sB=R((n10,si)=>{var aB=sZ();si.exports=function Z(Y,J,X){if(J.indexOf(".")===-1){if(aB.has(J))return;Y[J]=X;return}const $=J.split("."),W=$.pop();let G=Y;for(let Q of $){if(aB.has(Q))continue;if(G[Q]==null)G[Q]={};G=G[Q]}if(!aB.has(W))G[W]=X}});var YA=R((a10,Xn)=>{var oC1=function(Z,Y){if(Z==="$unset"){if(typeof Y!=="string"&&(!Array.isArray(Y)||Y.find((J)=>typeof J!=="string")))throw new d$("Invalid $unset in pipeline, must be  a string or an array of strings");return Y}if(Z==="$project"){if(Y==null||typeof Y!=="object")throw new d$("Invalid $project in pipeline, must be an object");return Y}if(Z==="$addFields"||Z==="$set"){if(Y==null||typeof Y!=="object")throw new d$("Invalid "+Z+" in pipeline, must be an object");return Y}else if(Z==="$replaceRoot"||Z==="$replaceWith"){if(Y==null||typeof Y!=="object")throw new d$("Invalid "+Z+" in pipeline, must be an object");return Y}throw new d$('Invalid update pipeline operator: "'+Z+'"')},Jn=function(Z,Y,J,X,$,W,G){const Q=X.strict,K=G?G+".":"",H=Object.keys(Y);let z=H.length,F=!1,U,q,V,L=null;const w=Q!=null?Q:Z.options.strict;while(z--){if(q=H[z],V=Y[q],J==="$pull"){if(U=Z._getSchema(K+q),U!=null&&U.schema!=null){Y[q]=aC1(U.schema,Y[q],X,$),F=!0;continue}}const B=K?K+q:q;if(Z.discriminatorMapping!=null&&B===Z.options.discriminatorKey&&Z.discriminatorMapping.value!==Y[q]&&!X.overwriteDiscriminatorKey){if(w==="throw"){const A=new Error('Can\'t modify discriminator key "'+B+'" on discriminator model');L=rJ(A,$,B,L);continue}else if(w){delete Y[q];continue}}if(sC1(V)==="Object"){if(U=Z._getSchema(K+q),U==null){const A=ti(Z,Y,W,K+q,X);if(A.schematype!=null)U=A.schematype}if(J!=="$setOnInsert"&&oi(U,Q,Y,q,K+q,$))continue;if(U&&U.caster&&J in eB)if("$each"in V){F=!0;try{Y[q]={$each:c$(U,V.$each,J,q,$,K+q)}}catch(A){L=rJ(A,$,q,L)}if(V.$slice!=null)Y[q].$slice=V.$slice|0;if(V.$sort)Y[q].$sort=V.$sort;if(V.$position!=null)Y[q].$position=tB(V.$position)}else{if(U!=null&&U.$isSingleNested){const A=Q==null?U.schema.options.strict:Q;try{Y[q]=U.castForQuery(null,V,$,{strict:A})}catch(M){L=rJ(M,$,q,L)}}else try{Y[q]=c$(U,V,J,q,$,K+q)}catch(A){L=rJ(A,$,q,L)}if(Y[q]===void 0){delete Y[q];continue}F=!0}else if(J==="$currentDate"||J in eB&&U){try{Y[q]=c$(U,V,J,q,$,K+q)}catch(A){L=rJ(A,$,q,L)}if(Y[q]===void 0){delete Y[q];continue}F=!0}else{const A=K+q,M=Z._getPathType(A);let I=Q;if(M&&M.schema&&I==null)I=M.schema.options.strict;if(M.pathType==="undefined"){if(I==="throw")throw new ri(A);else if(I){delete Y[q];continue}}F|=Jn(Z,V,J,X,$,W,K+q)||ZA.isObject(V)&&Object.keys(V).length===0}}else{const A=q==="$each"||q==="$or"||q==="$and"||q==="$in"?G:K+q;if(U=Z._getSchema(A),J!=="$setOnInsert"&&oi(U,Q,Y,q,K+q,$))continue;let M=Z._getPathType(A);if(U==null){const j=ti(Z,Y,W,A,X);if(j.schematype!=null)U=j.schematype,M=j.type}let I=Q;if(M&&M.schema&&Q==null)I=M.schema.options.strict;if(I&&!U&&!/real|nested/.test(M.pathType))if(I==="throw"&&Z.virtuals[A]==null)throw new ri(K+q);else delete Y[q];else{if(J==="$rename"){F=!0;continue}try{if(K.length===0||q.indexOf(".")===-1)Y[q]=c$(U,V,J,q,$,K+q);else if(I!==!1||U!=null)tC1(Y,q,c$(U,V,J,q,$,K+q)),delete Y[q]}catch(j){L=rJ(j,$,q,L)}if(Array.isArray(Y[q])&&(J==="$addToSet"||J==="$push")&&q!=="$each"){if(U&&U.caster&&!U.caster.$isMongooseArray&&!U.caster[Yn])Y[q]={$each:Y[q]}}if(Y[q]===void 0){delete Y[q];continue}F=!0}}}if(L!=null)throw L;return F},rJ=function(Z,Y,J,X){if(typeof Y!=="object"||!Y.options.multipleCastError)throw Z;return X=X||new nC1,X.addError(J,Z),X},c$=function(Z,Y,J,X,$,W){if(!Z){if(J in ei)try{return tB(Y)}catch(Q){throw new rB("number",Y,W)}return Y}if(Z.caster&&J in eB&&(ZA.isObject(Y)||Array.isArray(Y))&&!Zn[J]){let Q=0,K=Z;while(K.$isMongooseArray)++Q,K=K.caster;let H=0,z=Y;while(Array.isArray(z))++H,z=z[0];const F=Q-H;while(H<Q)Y=[Y],++H;let U=Z.applySetters(Array.isArray(Y)?Y:[Y],$);for(let q=0;q<F;++q)U=U[0];return U}if(J in eC1)return Y;if(J in ei){if(Y==null)throw new rB("number",Y,Z.path);if(J==="$inc")return Z.castForQuery(null,Y,$);try{return tB(Y)}catch(Q){throw new rB("number",Y,Z.path)}}if(J==="$currentDate"){if(typeof Y==="object")return{$type:Y.$type};return Boolean(Y)}if(oB.has(X))return Z.castForQuery(X,Y,$);if(Zn[J]){const Q=Y!=null&&Z.$isMongooseArray&&Z.$fullPath!=null&&!Z.$fullPath.match(/\d+$/),K=Z[Yn]!=null;if(Q||K)return Z.applySetters(Y,$);return Z.castForQuery(null,Y,$)}return Z.castForQuery(null,Y,$)},rB=h8(),d$=z0(),ri=WZ(),nC1=T9(),tB=E$(),aC1=uJ(),sC1=Q6(),ti=ci(),oi=li(),rC1=ai(),Yn=E9().schemaMixedSymbol,tC1=sB(),ZA=H1(),oB=new Set(["$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$bit"]);Xn.exports=function Z(Y,J,X,$,W){if(J==null)return;if(X=X||{},Array.isArray(J)){const F=J.length;for(let U=0;U<F;++U){const q=Object.keys(J[U]);for(let V of q)J[U][V]=oC1(V,J[U][V])}return J}if(X.upsert)rC1(Y,J,$);const G=Object.keys(J);let Q=G.length;const K={};let H,z=!1;W=W||{};while(Q--){const F=G[Q];if(!oB.has(F)){if(!K.$set)if(J.$set)K.$set=J.$set;else K.$set={};if(K.$set[F]=J[F],G.splice(Q,1),!~G.indexOf("$set"))G.push("$set")}else if(F==="$set"){if(!K.$set)K[F]=J[F]}else K[F]=J[F]}Q=G.length;while(Q--){const F=G[Q];if(H=K[F],z=z||F.startsWith("$"),H&&typeof H==="object"&&!Buffer.isBuffer(H)&&oB.has(F))Jn(Y,H,F,X,$,W);else{const U="Invalid atomic update value for "+F+". Expected an object, received "+typeof H;throw new Error(U)}if(F.startsWith("$")&&ZA.isEmptyObject(H))delete K[F]}if(Object.keys(K).length===0&&X.upsert&&Object.keys(W).length>0)return{$setOnInsert:{...W}};return K};/*!
 * ignore
 *//*!
 * ignore
 */var ei={$pop:1,$inc:1},eC1={$unset:1},eB={$push:1,$addToSet:1,$set:1,$setOnInsert:1};/*!
 * ignore
 */var Zn={$set:1,$setOnInsert:1}});var Wn=R((s10,$n)=>{async function YE1(Z,Y,J,X,$){return Promise.all(Y.map((W)=>new Promise((G,Q)=>{const K=W;if(W=ZE1.createModel(Z,W,J,X),$.session!=null)W.$session($.session);W.$init(K,$,(H)=>{if(H!=null)return Q(H);G(W)})})))}var ZE1=xJ();$n.exports=YE1});var uH=R((r10,Gn)=>{var JE1=kJ();/*!
 * ignore
 */Gn.exports=function Z(Y){if(Y==null)return!1;const J=Object.keys(Y),X=J.length;if(X===0)return!1;for(let $=0;$<X;++$){const W=J[$];if(W.startsWith("+"))continue;if(JE1(Y[W])&&!!Y[W])if(Y[W]!=null&&typeof Y[W]==="object")return Z(Y[W]);else return!!Y[W]}return!1}});var Kn=R((t10,Qn)=>{Qn.exports=function Z(Y,J){return Y===J||J.startsWith(Y+".")}});var Un=R((GE1)=>{var WE1=function(Z){if(arguments.length>1)throw new Error("Adding properties is not supported");function Y(){}return Y.prototype=Z,new Y};/*!
 * Module dependencies.
 */var JA=["__proto__","constructor","prototype"],dH=GE1.clone=function Z(Y,J){if(Y===void 0||Y===null)return Y;if(Array.isArray(Y))return GE1.cloneArray(Y,J);if(Y.constructor){if(/ObjectI[dD]$/.test(Y.constructor.name))return typeof Y.clone=="function"?Y.clone():new Y.constructor(Y.id);if(Y.constructor.name==="ReadPreference")return new Y.constructor(Y.mode,Z(Y.tags,J));if(Y._bsontype=="Binary"&&Y.buffer&&Y.value)return typeof Y.clone=="function"?Y.clone():new Y.constructor(Y.value(!0),Y.sub_type);if(Y.constructor.name==="Date"||Y.constructor.name==="Function")return new Y.constructor(+Y);if(Y.constructor.name==="RegExp")return new RegExp(Y);if(Y.constructor.name==="Buffer")return Buffer.from(Y)}if($E1(Y))return GE1.cloneObject(Y,J);if(Y.valueOf)return Y.valueOf()};/*!
 * ignore
 */GE1.cloneObject=function Z(Y,J){const X=J&&J.minimize,$={},W=Object.keys(Y),G=W.length;let Q=!1,K,H="",z=0;for(z=0;z<G;++z){if(H=W[z],JA.indexOf(H)!==-1)continue;if(K=dH(Y[H],J),!X||typeof K!=="undefined")Q||(Q=!0),$[H]=K}return X?Q&&$:$};GE1.cloneArray=function Z(Y,J){const X=[],$=Y.length;let W=0;for(;W<$;W++)X.push(dH(Y[W],J));return X};GE1.merge=function Z(Y,J){const X=Object.keys(J);for(let $ of X){if(JA.indexOf($)!==-1)continue;if(typeof Y[$]==="undefined")Y[$]=J[$];else if(GE1.isObject(J[$]))Z(Y[$],J[$]);else Y[$]=J[$]}};GE1.mergeClone=function Z(Y,J){const X=Object.keys(J);for(let $ of X){if(JA.indexOf($)!==-1)continue;if(typeof Y[$]==="undefined")Y[$]=dH(J[$]);else if(GE1.isObject(J[$]))Z(Y[$],J[$]);else Y[$]=dH(J[$])}};GE1.readPref=function Z(Y){switch(Y){case"p":Y="primary";break;case"pp":Y="primaryPreferred";break;case"s":Y="secondary";break;case"sp":Y="secondaryPreferred";break;case"n":Y="nearest";break}return Y};GE1.readConcern=function Z(Y){if(typeof Y==="string"){switch(Y){case"l":Y="local";break;case"a":Y="available";break;case"m":Y="majority";break;case"lz":Y="linearizable";break;case"s":Y="snapshot";break}Y={level:Y}}return Y};var XE1=Object.prototype.toString;GE1.toString=function(Z){return XE1.call(Z)};var $E1=GE1.isObject=function(Z){return GE1.toString(Z)=="[object Object]"};GE1.keys=Object.keys;GE1.create=typeof Object.create=="function"?Object.create:WE1;GE1.inherits=function(Z,Y){Z.prototype=GE1.create(Y.prototype),Z.prototype.constructor=Z};GE1.isArgumentsObject=function(Z){return Object.prototype.toString.call(Z)==="[object Arguments]"}});var Vn=R((qn)=>{var P0=qn;P0.distinct=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const Y=Object.keys(P0.distinct);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};P0.distinct.select=P0.distinct.slice=P0.distinct.sort=P0.distinct.limit=P0.distinct.skip=P0.distinct.batchSize=P0.distinct.hint=P0.distinct.tailable=!0;P0.findOneAndUpdate=P0.findOneAndRemove=function(Z){const Y=Object.keys(P0.findOneAndUpdate);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};P0.findOneAndUpdate.limit=P0.findOneAndUpdate.skip=P0.findOneAndUpdate.batchSize=P0.findOneAndUpdate.tailable=!0;P0.count=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const Y=Object.keys(P0.count);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};P0.count.slice=P0.count.batchSize=P0.count.tailable=!0});var $A=R((RE1,Ln)=>{RE1.isNode=typeof process!="undefined"&&typeof Ln=="object"&&typeof global=="object"&&typeof Buffer=="function"&&process.argv;RE1.isMongo=!RE1.isNode&&typeof printjson=="function"&&typeof ObjectId=="function"&&typeof rs=="function"&&typeof sh=="function";RE1.isBrowser=!RE1.isNode&&!RE1.isMongo&&typeof window!="undefined";RE1.type=RE1.isNode?"node":RE1.isMongo?"mongo":RE1.isBrowser?"browser":"unknown"});var p$=R((wn,Mn)=>{var GA=function(){},ME1=function(Z){return function(){throw new Error("collection."+Z+" not implemented")}},WA=["find","findOne","updateMany","updateOne","replaceOne","count","distinct","findOneAndDelete","findOneAndUpdate","aggregate","findCursor","deleteOne","deleteMany"];for(let Z=0,Y=WA.length;Z<Y;++Z){const J=WA[Z];GA.prototype[J]=ME1(J)}Mn.exports=wn=GA;GA.methods=WA});var In=R((An,Nn)=>{var BE1=p$();class Bn extends BE1{constructor(Z){super();this.collection=Z,this.collectionName=Z.collectionName}async find(Z,Y){return this.collection.find(Z,Y).toArray()}async findOne(Z,Y){return this.collection.findOne(Z,Y)}async count(Z,Y){return this.collection.count(Z,Y)}async distinct(Z,Y,J){return this.collection.distinct(Z,Y,J)}async updateMany(Z,Y,J){return this.collection.updateMany(Z,Y,J)}async updateOne(Z,Y,J){return this.collection.updateOne(Z,Y,J)}async replaceOne(Z,Y,J){return this.collection.replaceOne(Z,Y,J)}async deleteOne(Z,Y){return this.collection.deleteOne(Z,Y)}async deleteMany(Z,Y){return this.collection.deleteMany(Z,Y)}async findOneAndDelete(Z,Y){return this.collection.findOneAndDelete(Z,Y)}async findOneAndUpdate(Z,Y,J){return this.collection.findOneAndUpdate(Z,Y,J)}findCursor(Z,Y){return this.collection.find(Z,Y)}}Nn.exports=An=Bn});var Pn=R((Y00,Dn)=>{var QA=$A();if(QA.type=="unknown")throw new Error("Unknown environment");Dn.exports=QA.isNode?In():QA.isMongo?p$():p$()});var FA=R((Cn,En)=>{var u=function(Z,Y){if(!(this instanceof u))return new u(Z,Y);const J=this.constructor.prototype;if(this.op=J.op||void 0,this.options=Object.assign({},J.options),this._conditions=J._conditions?h1.clone(J._conditions):{},this._fields=J._fields?h1.clone(J._fields):void 0,this._updateDoc=J._updateDoc?h1.clone(J._updateDoc):void 0,this._path=J._path||void 0,this._distinctDoc=J._distinctDoc||void 0,this._collection=J._collection||void 0,this._traceFunction=J._traceFunction||void 0,Y)this.setOptions(Y);if(Z)this.find(Z)},Tn=function(Z,Y,J){if(Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let X;if(J&&J.$meta){X=Z.sort||(Z.sort={}),X[Y]={$meta:J.$meta};return}X=Z.sort||(Z.sort={});let $=String(J||1).toLowerCase();if($=KA[$],!$)throw new TypeError("Invalid sort value: { "+Y+": "+J+" }");X[Y]=$},IE1=function(Z,Y,J){if(Z.sort=Z.sort||[],!Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let X=String(J||1).toLowerCase();if(X=KA[X],!X)throw new TypeError("Invalid sort value: [ "+Y+", "+J+" ]");Z.sort.push([Y,X])},DE1=function(Z,Y){if(Z.sort=Z.sort||new Map,!(Z.sort instanceof Map))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object or map consistently");Y.forEach(function(J,X){let $=String(J||1).toLowerCase();if($=KA[$],!$)throw new TypeError("Invalid sort value: < "+X+": "+J+" >");Z.sort.set(X,$)})},HA=function(Z,Y,J,X,$){if(Z.op=Y,u.canMerge(J))Z.merge(J);if(X)Z._mergeUpdate(X);if(h1.isObject($))Z.setOptions($);return Z};async function zA(Z,Y){const J=Z._optionsForExec(),X=Z._conditions,$=Z._updateForExec();return Q5("update",Z._collection.collectionName,X,$,J),Z._collection[Y](X,$,J)}var AE1=import.meta.require("assert"),NE1=import.meta.require("util"),h1=Un(),Q5=dX()("mquery"),h9="$geoWithin";Object.defineProperty(u,"use$geoWithin",{get:function(){return h9=="$geoWithin"},set:function(Z){if(Z===!0)h9="$geoWithin";else h9="$within"}});u.prototype.toConstructor=function Z(){function Y(X,$){if(!(this instanceof Y))return new Y(X,$);u.call(this,X,$)}h1.inherits(Y,u);const J=Y.prototype;return J.options={},J.setOptions(this.options),J.op=this.op,J._conditions=h1.clone(this._conditions),J._fields=h1.clone(this._fields),J._updateDoc=h1.clone(this._updateDoc),J._path=this._path,J._distinctDoc=this._distinctDoc,J._collection=this._collection,J._traceFunction=this._traceFunction,Y};u.prototype.setOptions=function(Z){if(!(Z&&h1.isObject(Z)))return this;const Y=h1.keys(Z);let J;for(let X=0;X<Y.length;++X)if(J=Y[X],typeof this[J]=="function"){const $=Array.isArray(Z[J])?Z[J]:[Z[J]];this[J].apply(this,$)}else this.options[J]=Z[J];return this};u.prototype.collection=function Z(Y){return this._collection=new u.Collection(Y),this};u.prototype.collation=function(Z){return this.options.collation=Z,this};u.prototype.$where=function(Z){return this._conditions.$where=Z,this};u.prototype.where=function(){if(!arguments.length)return this;if(!this.op)this.op="find";const Z=typeof arguments[0];if(Z=="string"){if(this._path=arguments[0],arguments.length===2)this._conditions[this._path]=arguments[1];return this}if(Z=="object"&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")};u.prototype.equals=function Z(Y){this._ensurePath("equals");const J=this._path;return this._conditions[J]=Y,this};u.prototype.eq=function Z(Y){this._ensurePath("eq");const J=this._path;return this._conditions[J]=Y,this};u.prototype.or=function Z(Y){const J=this._conditions.$or||(this._conditions.$or=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};u.prototype.nor=function Z(Y){const J=this._conditions.$nor||(this._conditions.$nor=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};u.prototype.and=function Z(Y){const J=this._conditions.$and||(this._conditions.$and=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};/*!
 * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance
 *
 *     Thing.where('type').nin(array)
 */"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(Z){u.prototype[Z]=function(){let Y,J;if(arguments.length===1)this._ensurePath(Z),J=arguments[0],Y=this._path;else J=arguments[1],Y=arguments[0];const X=this._conditions[Y]===null||typeof this._conditions[Y]==="object"?this._conditions[Y]:this._conditions[Y]={};return X["$"+Z]=J,this}});u.prototype.mod=function(){let Z,Y;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],Y=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],Y=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],Y=arguments[0];else Z=arguments[1],Y=arguments[0];const J=this._conditions[Y]||(this._conditions[Y]={});return J.$mod=Z,this};u.prototype.exists=function(){let Z,Y;if(arguments.length===0)this._ensurePath("exists"),Z=this._path,Y=!0;else if(arguments.length===1)if(typeof arguments[0]==="boolean")this._ensurePath("exists"),Z=this._path,Y=arguments[0];else Z=arguments[0],Y=!0;else if(arguments.length===2)Z=arguments[0],Y=arguments[1];const J=this._conditions[Z]||(this._conditions[Z]={});return J.$exists=Y,this};u.prototype.elemMatch=function(){if(arguments[0]==null)throw new TypeError("Invalid argument");let Z,Y,J;if(typeof arguments[0]==="function")this._ensurePath("elemMatch"),Y=this._path,Z=arguments[0];else if(h1.isObject(arguments[0]))this._ensurePath("elemMatch"),Y=this._path,J=arguments[0];else if(typeof arguments[1]==="function")Y=arguments[0],Z=arguments[1];else if(arguments[1]&&h1.isObject(arguments[1]))Y=arguments[0],J=arguments[1];else throw new TypeError("Invalid argument");if(Z)J=new u,Z(J),J=J._conditions;const X=this._conditions[Y]||(this._conditions[Y]={});return X.$elemMatch=J,this};u.prototype.within=function Z(){if(this._ensurePath("within"),this._geoComparison=h9,arguments.length===0)return this;if(arguments.length===2)return this.box.apply(this,arguments);else if(2<arguments.length)return this.polygon.apply(this,arguments);const Y=arguments[0];if(!Y)throw new TypeError("Invalid argument");if(Y.center)return this.circle(Y);if(Y.box)return this.box.apply(this,Y.box);if(Y.polygon)return this.polygon.apply(this,Y.polygon);if(Y.type&&Y.coordinates)return this.geometry(Y);throw new TypeError("Invalid argument")};u.prototype.box=function(){let Z,Y;if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];else if(arguments.length===2)this._ensurePath("box"),Z=this._path,Y=[arguments[0],arguments[1]];else throw new TypeError("Invalid argument");const J=this._conditions[Z]||(this._conditions[Z]={});return J[this._geoComparison||h9]={$box:Y},this};u.prototype.polygon=function(){let Z,Y;if(typeof arguments[0]=="string")Z=Array.from(arguments),Y=Z.shift();else this._ensurePath("polygon"),Y=this._path,Z=Array.from(arguments);const J=this._conditions[Y]||(this._conditions[Y]={});return J[this._geoComparison||h9]={$polygon:Z},this};u.prototype.circle=function(){let Z,Y;if(arguments.length===1)this._ensurePath("circle"),Z=this._path,Y=arguments[0];else if(arguments.length===2)Z=arguments[0],Y=arguments[1];else throw new TypeError("Invalid argument");if(!(("radius"in Y)&&Y.center))throw new Error("center and radius are required");const J=this._conditions[Z]||(this._conditions[Z]={}),X=Y.spherical?"$centerSphere":"$center",$=this._geoComparison||h9;if(J[$]={},J[$][X]=[Y.center,Y.radius],"unique"in Y)J[$].$uniqueDocs=!!Y.unique;return this};u.prototype.near=function Z(){let Y,J;if(this._geoComparison="$near",arguments.length===0)return this;else if(arguments.length===1)this._ensurePath("near"),Y=this._path,J=arguments[0];else if(arguments.length===2)Y=arguments[0],J=arguments[1];else throw new TypeError("Invalid argument");if(!J.center)throw new Error("center is required");const X=this._conditions[Y]||(this._conditions[Y]={}),$=J.spherical?"$nearSphere":"$near";if(Array.isArray(J.center)){X[$]=J.center;const W="maxDistance"in J?J.maxDistance:null;if(W!=null)X.$maxDistance=W;if(J.minDistance!=null)X.$minDistance=J.minDistance}else{if(J.center.type!="Point"||!Array.isArray(J.center.coordinates))throw new Error(NE1.format("Invalid GeoJSON specified for %s",$));if(X[$]={$geometry:J.center},"maxDistance"in J)X[$].$maxDistance=J.maxDistance;if("minDistance"in J)X[$].$minDistance=J.minDistance}return this};u.prototype.intersects=function Z(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",arguments.length===0)return this;const Y=arguments[0];if(Y!=null&&Y.type&&Y.coordinates)return this.geometry(Y);throw new TypeError("Invalid argument")};u.prototype.geometry=function Z(){if(!(this._geoComparison=="$within"||this._geoComparison=="$geoWithin"||this._geoComparison=="$near"||this._geoComparison=="$geoIntersects"))throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");let Y,J;if(arguments.length===1)this._ensurePath("geometry"),J=this._path,Y=arguments[0];else throw new TypeError("Invalid argument");if(!(Y.type&&Array.isArray(Y.coordinates)))throw new TypeError("Invalid argument");const X=this._conditions[J]||(this._conditions[J]={});return X[this._geoComparison]={$geometry:Y},this};u.prototype.select=function Z(){let Y=arguments[0];if(!Y)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const J=this._fields||(this._fields={}),X=typeof Y;let $,W;if((X=="string"||h1.isArgumentsObject(Y))&&typeof Y.length=="number"||Array.isArray(Y)){if(X=="string")Y=Y.split(/\s+/);for($=0,W=Y.length;$<W;++$){let G=Y[$];if(!G)continue;const Q=G[0]=="-"?0:1;if(Q===0)G=G.substring(1);J[G]=Q}return this}if(h1.isObject(Y)){const G=h1.keys(Y);for($=0;$<G.length;++$)J[G[$]]=Y[G[$]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")};u.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,Y;if(arguments.length===1){const X=arguments[0];if(typeof X==="object"&&!Array.isArray(X)){const $=Object.keys(X),W=$.length;for(let G=0;G<W;++G)this.slice($[G],X[$[G]]);return this}this._ensurePath("slice"),Z=this._path,Y=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,Y=[arguments[0],arguments[1]];else Z=arguments[0],Y=arguments[1];else if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];const J=this._fields||(this._fields={});return J[Z]={$slice:Y},this};u.prototype.sort=function(Z){if(!Z)return this;let Y,J,X;this._validate("sort");const $=typeof Z;if(Array.isArray(Z)){J=Z.length;for(Y=0;Y<Z.length;++Y){if(!Array.isArray(Z[Y]))throw new Error("Invalid sort() argument, must be array of arrays");IE1(this.options,Z[Y][0],Z[Y][1])}return this}if(arguments.length===1&&$=="string"){Z=Z.split(/\s+/),J=Z.length;for(Y=0;Y<J;++Y){if(X=Z[Y],!X)continue;const W=X[0]=="-"?-1:1;if(W===-1)X=X.substring(1);Tn(this.options,X,W)}return this}if(h1.isObject(Z)){const W=h1.keys(Z);for(Y=0;Y<W.length;++Y)X=W[Y],Tn(this.options,X,Z[X]);return this}if(typeof Map!=="undefined"&&Z instanceof Map)return DE1(this.options,Z),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};/*!
 * @ignore
 */var KA={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};/*!
 * limit, skip, batchSize, comment
 *
 * Sets these associated options.
 *
 *     query.comment('feed query');
 */["limit","skip","batchSize","comment"].forEach(function(Z){u.prototype[Z]=function(Y){return this._validate(Z),this.options[Z]=Y,this}});u.prototype.maxTime=u.prototype.maxTimeMS=function(Z){return this._validate("maxTime"),this.options.maxTimeMS=Z,this};u.prototype.hint=function(){if(arguments.length===0)return this;this._validate("hint");const Z=arguments[0];if(h1.isObject(Z)){const Y=this.options.hint||(this.options.hint={});for(let J in Z)Y[J]=Z[J];return this}if(typeof Z==="string")return this.options.hint=Z,this;throw new TypeError("Invalid hint. "+Z)};u.prototype.j=function Z(Y){return this.options.j=Y,this};u.prototype.slaveOk=function(Z){return this.options.slaveOk=arguments.length?!!Z:!0,this};u.prototype.read=u.prototype.setReadPreference=function(Z){if(arguments.length>1&&!u.prototype.read.deprecationWarningIssued)console.error("Deprecation warning: \'tags\' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),u.prototype.read.deprecationWarningIssued=!0;return this.options.readPreference=h1.readPref(Z),this};u.prototype.readConcern=u.prototype.r=function(Z){return this.options.readConcern=h1.readConcern(Z),this};u.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=arguments.length?!!arguments[0]:!0,this};u.prototype.writeConcern=u.prototype.w=function Z(Y){if(typeof Y==="object"){if(typeof Y.j!=="undefined")this.options.j=Y.j;if(typeof Y.w!=="undefined")this.options.w=Y.w;if(typeof Y.wtimeout!=="undefined")this.options.wtimeout=Y.wtimeout}else this.options.w=Y==="m"?"majority":Y;return this};u.prototype.wtimeout=u.prototype.wTimeout=function Z(Y){return this.options.wtimeout=Y,this};u.prototype.merge=function(Z){if(!Z)return this;if(!u.canMerge(Z))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");if(Z instanceof u){if(Z._conditions)h1.merge(this._conditions,Z._conditions);if(Z._fields)this._fields||(this._fields={}),h1.merge(this._fields,Z._fields);if(Z.options)this.options||(this.options={}),h1.merge(this.options,Z.options);if(Z._updateDoc)this._updateDoc||(this._updateDoc={}),h1.mergeClone(this._updateDoc,Z._updateDoc);if(Z._distinctDoc)this._distinctDoc=Z._distinctDoc;return this}return h1.merge(this._conditions,Z),this};u.prototype.find=function(Z){if(this.op="find",u.canMerge(Z))this.merge(Z);return this};u.prototype._find=async function Z(){const Y=this._conditions,J=this._optionsForExec();if(this.$useProjection)J.projection=this._fieldsForExec();else J.fields=this._fieldsForExec();return Q5("_find",this._collection.collectionName,Y,J),this._collection.find(Y,J)};u.prototype.cursor=function Z(Y){if(this.op){if(this.op!=="find")throw new TypeError(".cursor only support .find method")}else this.find(Y);const J=this._conditions,X=this._optionsForExec();if(this.$useProjection)X.projection=this._fieldsForExec();else X.fields=this._fieldsForExec();return Q5("findCursor",this._collection.collectionName,J,X),this._collection.findCursor(J,X)};u.prototype.findOne=function(Z){if(this.op="findOne",u.canMerge(Z))this.merge(Z);return this};u.prototype._findOne=async function Z(){const Y=this._conditions,J=this._optionsForExec();if(this.$useProjection)J.projection=this._fieldsForExec();else J.fields=this._fieldsForExec();return Q5("findOne",this._collection.collectionName,Y,J),this._collection.findOne(Y,J)};u.prototype.count=function(Z){if(this.op="count",this._validate(),u.canMerge(Z))this.merge(Z);return this};u.prototype._count=async function Z(){const Y=this._conditions,J=this._optionsForExec();return Q5("count",this._collection.collectionName,Y,J),this._collection.count(Y,J)};u.prototype.distinct=function(Z,Y){if(this.op="distinct",this._validate(),!Y&&typeof Z==="string")Y=Z,Z=void 0;if(typeof Y=="string")this._distinctDoc=Y;if(u.canMerge(Z))this.merge(Z);return this};u.prototype._distinct=async function Z(){if(!this._distinctDoc)throw new Error("No value for `distinct` has been declared");const Y=this._conditions,J=this._optionsForExec();return Q5("distinct",this._collection.collectionName,Y,J),this._collection.distinct(this._distinctDoc,Y,J)};u.prototype.updateMany=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return HA(this,"updateMany",Y,J,X)};u.prototype._updateMany=async function(){return zA(this,"updateMany")};u.prototype.updateOne=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return HA(this,"updateOne",Y,J,X)};u.prototype._updateOne=async function(){return zA(this,"updateOne")};u.prototype.replaceOne=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return this.setOptions({overwrite:!0}),HA(this,"replaceOne",Y,J,X)};u.prototype._replaceOne=async function(){return zA(this,"replaceOne")};/*!
 * Internal helper for updateMany, updateOne
 */u.prototype.deleteOne=function(Z){if(this.op="deleteOne",u.canMerge(Z))this.merge(Z);return this};u.prototype._deleteOne=async function(){const Z=this._optionsForExec();delete Z.justOne;const Y=this._conditions;return Q5("deleteOne",this._collection.collectionName,Y,Z),this._collection.deleteOne(Y,Z)};u.prototype.deleteMany=function(Z){if(this.op="deleteMany",u.canMerge(Z))this.merge(Z);return this};u.prototype._deleteMany=async function(){const Z=this._optionsForExec();delete Z.justOne;const Y=this._conditions;return Q5("deleteOne",this._collection.collectionName,Y,Z),this._collection.deleteMany(Y,Z)};u.prototype.findOneAndUpdate=function(Z,Y,J){if(this.op="findOneAndUpdate",this._validate(),arguments.length===1)Y=Z,Z=J=void 0;if(u.canMerge(Z))this.merge(Z);if(Y)this._mergeUpdate(Y);return J&&this.setOptions(J),this};u.prototype._findOneAndUpdate=async function(){const Z=this._conditions,Y=this._updateForExec(),J=this._optionsForExec();return this._collection.findOneAndUpdate(Z,Y,J)};u.prototype.findOneAndRemove=u.prototype.findOneAndDelete=function(Z,Y){if(this.op="findOneAndRemove",this._validate(),u.canMerge(Z))this.merge(Z);return Y&&this.setOptions(Y),this};u.prototype._findOneAndRemove=async function(){const Z=this._optionsForExec(),Y=this._conditions;return this._collection.findOneAndDelete(Y,Z)};u.prototype.setTraceFunction=function(Z){return this._traceFunction=Z,this};u.prototype.exec=async function Z(Y){if(typeof Y==="string")this.op=Y;AE1.ok(this.op,"Missing query type: (find, etc)");const J="_"+this.op;if(typeof this[J]!=="function")throw new TypeError(`this[${J}] is not a function`);return this[J]()};u.prototype.then=async function(Z,Y){return this.exec().then(Z,Y)};u.prototype.cursor=function(){if(this.op!="find")throw new Error("cursor() is only available for find");const Z=this._conditions,Y=this._optionsForExec();if(this.$useProjection)Y.projection=this._fieldsForExec();else Y.fields=this._fieldsForExec();return Q5("cursor",this._collection.collectionName,Z,Y),this._collection.findCursor(Z,Y)};u.prototype.selected=function Z(){return!!(this._fields&&Object.keys(this._fields).length>0)};u.prototype.selectedInclusively=function Z(){if(!this._fields)return!1;const Y=Object.keys(this._fields);if(Y.length===0)return!1;for(let J=0;J<Y.length;++J){const X=Y[J];if(this._fields[X]===0)return!1;if(this._fields[X]&&typeof this._fields[X]==="object"&&this._fields[X].$meta)return!1}return!0};u.prototype.selectedExclusively=function Z(){if(!this._fields)return!1;const Y=Object.keys(this._fields);if(Y.length===0)return!1;for(let J=0;J<Y.length;++J){const X=Y[J];if(this._fields[X]===0)return!0}return!1};u.prototype._mergeUpdate=function(Z){if(!this._updateDoc)this._updateDoc={};if(Z instanceof u){if(Z._updateDoc)h1.mergeClone(this._updateDoc,Z._updateDoc)}else h1.mergeClone(this._updateDoc,Z)};u.prototype._optionsForExec=function(){return h1.clone(this.options)};u.prototype._fieldsForExec=function(){return h1.clone(this._fields)};u.prototype._updateForExec=function(){const Z=h1.clone(this._updateDoc),Y=h1.keys(Z),J={};for(let X of Y){if(this.options.overwrite){J[X]=Z[X];continue}if(X[0]!=="$"){if(!J.$set)if(Z.$set)J.$set=Z.$set;else J.$set={};if(J.$set[X]=Z[X],!~Y.indexOf("$set"))Y.push("$set")}else if(X==="$set"){if(!J.$set)J[X]=Z[X]}else J[X]=Z[X]}return this._compiledUpdate=J,J};u.prototype._ensurePath=function(Z){if(!this._path){const Y=Z+"() must be used after where() when called with these arguments";throw new Error(Y)}};/*!
 * Permissions
 */u.permissions=Vn();u._isPermitted=function(Z,Y){const J=u.permissions[Y];if(!J)return!0;return J[Z]!==!0};u.prototype._validate=function(Z){let Y,J;if(Z===void 0){if(J=u.permissions[this.op],typeof J!="function")return!0;Y=J(this)}else if(!u._isPermitted(Z,this.op))Y=Z;if(Y)throw new Error(Y+" cannot be used with "+this.op)};u.canMerge=function(Z){return Z instanceof u||h1.isObject(Z)};u.setGlobalTraceFunction=function(Z){u.traceFunction=Z};/*!
 * Exports.
 */u.utils=h1;u.env=$A();u.Collection=Pn();u.BaseCollection=p$();En.exports=Cn=u});var UA=R((J00,jn)=>{jn.exports=function Z(Y,J){if(typeof Y==="string")Y=Y.split(/\s+/);if(!Array.isArray(Y)&&Object.prototype.toString.call(Y)!=="[object Arguments]")return Y;const $=Y.length,W={};for(let G=0;G<$;++G){let Q=Y[G];if(!Q)continue;const K=Q[0]=="-"?0:1;if(!J&&K===0)Q=Q.substring(1);W[Q]=K}return W}});var kn=R((X00,Sn)=>{var On=function(Z,Y){const J=Object.keys(Z)[0];if(J==="$and"||J==="$or"){if(!Array.isArray(Z[J]))return!1;return Z[J].find((W)=>On(W,Y))!=null}const X=J.indexOf("."),$=X===-1?J:J.slice(0,X);return Y.find((W)=>W.includes("$["+$+"]"))!=null};Sn.exports=function Z(Y,J){const X=Object.keys(Y).map(($)=>Object.keys(Y[$])).reduce(($,W)=>$.concat(W),[]);return J.filter(($)=>{return On($,X)})}});var qA=R(($00,_n)=>{/*!
 * ignore
 */_n.exports=function Z(Y){if(typeof Y!=="object"||Y===null)return!1;const J=Object.keys(Y),X=J.length;for(let $=0;$<X;++$)if(J[$][0]==="$")return!0;return!1}});var VA=R((W00,xn)=>{var PE1=qA(),{trustedSymbol:TE1}=kY();xn.exports=function Z(Y){if(Y==null||typeof Y!=="object")return Y;if(Array.isArray(Y)){for(let X of Y)Z(X);return Y}const J=Object.keys(Y);for(let X of J){const $=Y[X];if($!=null&&$[TE1])continue;if(X==="$and"||X==="$or"){Z($);continue}if(PE1($)){const W=Object.keys($);if(W.length===1&&W[0]==="$eq")continue;Y[X]={$eq:Y[X]}}}return Y}});var yn=R((G00,fn)=>{fn.exports=function Z(Y){if(Y==null)return;const J=Object.keys(Y);for(let X=0;X<J.length;++X)if(typeof Y[J[X]]==="string")Y[J[X]]=1}});var vn=R((Q00,bn)=>{var gn=function(Z,Y){const J=Y.split("."),X=J.length;let $=J[0];for(let W=1;W<X;++W){if(Z[$]!=null||Z[$+".$"]!=null)return!0;$+="."+J[W]}return Z[$]!=null||Z[$+".$"]!=null},CE1=_J(),EE1=uH();/*!
 * ignore
 */bn.exports=function Z(Y,J,X){if(X==null)return;const $=Object.keys(X);if(J=J||{},EE1(Y))for(let W of $){if(!gn(J,W))Y[W]=1;else if(J[W]===0)delete Y[W];const G=X[W]?.refPath;if(typeof G==="string"){if(!gn(J,G))Y[G]=1;else if(J[G]===0)delete Y[G]}}else if(CE1(Y))for(let W of $){if(J[W]==null)delete Y[W];const G=X[W]?.refPath;if(typeof G==="string"&&J[G]==null)delete Y[G]}};/*!
 * ignore
 */});var LA=R((K00,mn)=>{var OE1=function(Z,Y){if(Z[Y])return!0;const J=Y.split(".");let X=J[0];for(let W=1;W<J.length;++W){if(Z[X])return!0;X+="."+J[W]}const $=Object.keys(Z);if($.length){const W=Y+".";for(let G of $)if(G.slice(0,Y.length+1)===W)return!0}return!1},hn=SJ().modifiedPaths,jE1=V0();mn.exports=function(Z,Y,J,X){X=X||{};const $=X.setDefaultsOnInsert!=null?X.setDefaultsOnInsert:Y.base.options.setDefaultsOnInsert;if(!X.upsert||$===!1)return J;const W=Object.keys(J||{}),G={},Q={},K=W.length,H={};let z=!1;for(let q=0;q<K;++q)if(W[q].startsWith("$"))hn(J[W[q]],"",H),z=!0;if(!z)hn(J,"",H);const F=Object.keys(Z),U=F.length;for(let q=0;q<U;++q){const V=F[q],L=Z[V];if(L&&typeof L==="object"){const w=Object.keys(L),B=w.length;let A=!1;for(let M=0;M<B;++M)if(w[M].startsWith("$")){A=!0;break}if(A)continue}G[V]=!0,H[V]=!0}if(X&&X.overwrite&&!z)return J;return Y.eachPath(function(q,V){if(V.path==="_id"&&V.options.auto)return;const L=V.getDefault(null,!0);if(OE1(H,q))return;if(typeof L==="undefined")return;if(V.splitPath().includes("$*"))return;if(J=J||{},J.$setOnInsert=J.$setOnInsert||{},jE1(J,q)==null)J.$setOnInsert[q]=L;Q[q]=L}),J}});var ln=R((H00,pn)=>{/*!
 * Module dependencies.
 */var un=T9(),SE1=D$(),dn=SJ().flatten,cn=SJ().modifiedPaths;pn.exports=function(Z,Y,J,X,$){const W=Object.keys(J||{});let G={},Q={};const K={},H={},z=W.length;let F=!1;const U={};let q,V,L;for(L=0;L<z;++L)if(W[L].startsWith("$")){if(F=!0,W[L]==="$push"||W[L]==="$addToSet"){const k=Object.keys(J[W[L]]);for(let i=0;i<k.length;++i)if(q=J[W[L]][k[i]],q&&q.$each)H[k[i]]=(H[k[i]]||[]).concat(q.$each);else H[k[i]]=(H[k[i]]||[]).concat([q]);continue}cn(J[W[L]],"",U);const b=dn(J[W[L]],null,null,Y),_=Object.keys(b),O=_.length;for(let k=0;k<O;++k){const i=SE1(_[k]);if(V=W[L],i.includes("$"))continue;if(V==="$set"||V==="$setOnInsert"||V==="$pull"||V==="$pullAll")Q[i]=b[_[k]],K[i]=V==="$pull"||V==="$pullAll";else if(V==="$unset")Q[i]=void 0;G[i]=!0}}if(!F)cn(J,"",U),Q=dn(J,null,null,Y),G=Object.keys(Q);const w=Object.keys(Q),B=w.length,A=[],M=[],I=[],x=Z;function j(b,_){const O=Y._getSchema(w[b]);if(O==null)return;if(O.instance==="Mixed"&&O.path!==w[b])return;if(_&&Array.isArray(_.$in))_.$in.forEach((k,i)=>{A.push(function(T1){O.doValidate(k,function(g){if(g)g.path=w[i]+".$in."+i,M.push(g);T1(null)},x,{updateValidator:!0})})});else{if(K[w[b]]&&O.$isMongooseArray)return;if(O.$isMongooseDocumentArrayElement&&_!=null&&_.$__!=null)I.push(w[b]),A.push(function(k){O.doValidate(_,function(i){if(i)if(i.errors)for(let T1 of Object.keys(i.errors)){const g=i.errors[T1];g.path=w[b]+"."+T1,M.push(g)}else i.path=w[b],M.push(i);return k(null)},x,{updateValidator:!0})});else A.push(function(k){for(let i of I)if(w[b].startsWith(i+"."))return k(null);O.doValidate(_,function(i){if(O.schema!=null&&O.schema.options.storeSubdocValidationError===!1&&i instanceof un)return k(null);if(i)i.path=w[b],M.push(i);k(null)},x,{updateValidator:!0})})}}for(L=0;L<B;++L)j(L,Q[w[L]]);const E=Object.keys(H);for(let b of E){let _=Y._getSchema(b);if(_&&_.$isMongooseDocumentArray)A.push(function(O){_.doValidate(H[b],l(b,M,O),X&&X.context==="query"?Z:null)});else{_=Y._getSchema(b+".0");for(let O of H[b])A.push(function(k){_.doValidate(O,l(b,M,k),X&&X.context==="query"?Z:null,{updateValidator:!0})})}}if($!=null){let b=A.length;if(b===0)return D($);for(let _ of A)_(function(){if(--b<=0)D($)});return}return function(b){let _=A.length;if(_===0)return D(b);for(let O of A)O(function(){if(--_<=0)D(b)})};function D(b){if(M.length){const _=new un(null);for(let O of M)_.addError(O.path,O);return b(_)}b(null)}function l(b,_,O){return function(k){if(k)k.path=b,_.push(k);O(null)}}}});var aH=R((z00,Qa)=>{var p=function(Z,Y,J,X){if(!this._mongooseOptions)this._mongooseOptions={};Y=Y||{},this._transforms=[],this._hooks=new MA,this._executionStack=null;const $=Object.keys(Y);for(let G of $)this._mongooseOptions[G]=Y[G];if(X)this.mongooseCollection=X;if(J)this.model=J,this.schema=J.schema;if(this.model&&this.model._mapreduce)this.lean();if(f6.call(this,null,Y),X)this.collection(X);if(Z)this.find(Z);this.options=this.options||{},this.$useProjection=!0;const W=this&&this.schema&&this.schema.options&&this.schema.options.collation||null;if(W!=null)this.options.collation=W},Ya=function(Z){try{yE1(Z)}catch(Y){Z.error(Y)}},wA=function(Z,Y){if(Z===1||Z==="asc"||Z==="ascending")return 1;if(Z===-1||Z==="desc"||Z==="descending")return-1;if(Z?.$meta!=null)return{$meta:Z.$meta};throw new TypeError("Invalid sort value: { "+Y+": "+Z+" }")},tn=function(Z,Y,J,X,$,W,G,Q){if(X.includeResultMetadata&&Y==null)return K(null),null;iH.createModelAndInit(Z,Y,$,W,X,G,K);function K(H,z){if(H)return RA(()=>Q(H));if(X.includeResultMetadata){if(Y&&z){if(X.session!=null)z.$session(X.session);J.value=z}else J.value=null;return RA(()=>Q(null,J))}if(X.session!=null)z.$session(X.session);RA(()=>Q(null,z))}},s$=function(Z){if(!Z||!Z.model||!Z.model.schema)return;const Y=Z.model.schema;if(Y&&Y.discriminatorMapping&&!Y.discriminatorMapping.isRoot)Z._conditions[Y.discriminatorMapping.key]=Y.discriminatorMapping.value},Ja=function(Z){if("new"in Z)Z.returnDocument=Z.new?"after":"before",delete Z.new;if("returnOriginal"in Z)Z.returnDocument=Z.returnOriginal?"before":"after",delete Z.returnOriginal;if(typeof Z.returnDocument==="string")Z.returnOriginal=Z.returnDocument==="before"},AA=function(Z,Y,J){const X=Z._optionsForExec(Z.model);if(Y in X)return X[Y];if(Y in Z.model.base.options)return Z.model.base.options[Y];return J},BA=function(Z,Y,J,X,$,W){if($.lean&&typeof $.lean.transform==="function"){$.lean.transform(Y);for(let G=0;G<Z.childSchemas.length;G++){const Q=J?J+"."+Z.childSchemas[G].model.path:Z.childSchemas[G].model.path,K=Z.childSchemas[G].schema,H=en.get(Q,Y);if(H==null)continue;if(Array.isArray(H))for(let z=0;z<H.length;z++)$.lean.transform(H[z]);else $.lean.transform(H);BA(K,H,Q,X,$)}if(W)return W(null,Y);else return}if($.includeResultMetadata)return W(null,X);return W(null,Y)},Xa=function(Z,Y,J,X){if(X.lean&&typeof X.lean.transform==="function"){for(let $ of Y)X.lean.transform($);for(let $=0;$<Z.childSchemas.length;$++){const W=J?J+"."+Z.childSchemas[$].model.path:Z.childSchemas[$].model.path,G=Z.childSchemas[$].schema;let Q=en.get(W,Y);if(Q==null)continue;Q=Q.flat();for(let K=0;K<Q.length;K++)X.lean.transform(Q[K]);Xa(G,Q,W,X)}}return Y};async function NA(Z){if(this._castConditions(),Ya(this),this.error()!=null)throw this.error();const Y=this._conditions,J=this._optionsForExec(this.model);this._applyTranslateAliases(J),this._update=d8(this._update,J);const X=Z==="replaceOne";if(X)this._update=new this.model(this._update,null,!0);else{if(this._update=this._castUpdate(this._update),this._update==null||Object.keys(this._update).length===0)return{acknowledged:!1};const W=Object.assign({},J,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});this._update=Za(this._conditions,this.model.schema,this._update,W)}if(Array.isArray(J.arrayFilters))J.arrayFilters=dE1(this._update,J.arrayFilters);if(AA(this,"runValidators",!1))await this.validate(this._update,J,X);if(this._update.toBSON)this._update=this._update.toBSON();return this.mongooseCollection[Z](Y,this._update,J)}var IA=function(Z,Y,J,X,$,W){if(Z.op=Y,Z._validateOp(),X=X||{},$!=null){if("strict"in $)Z._mongooseOptions.strict=$.strict}if(!(J instanceof p)&&J!=null&&J.toString()!=="[object Object]")Z.error(new LZ(J,"filter",Y));else Z.merge(J);if(A0.isObject($))Z.setOptions($);if(Z._mergeUpdate(X),W)return Z.exec(W),Z;return Z},tJ=function(Z,Y){if(typeof Z==="function")Z=Z.call(Y);if(Z==null)Z=new kE1(Y.getQuery(),Y.model.modelName);return Z},rE1=function(Z){return new Promise((Y,J)=>{Z._hooks.execPost("exec",Z,[],{},(X)=>{if(X)return J(X);Y()})})},$a=function(Z,Y,J,X){if(Z._queryMiddleware==null){if(J!=null)throw J;return Y}return new Promise(($,W)=>{const G=J?{error:J}:{};Z._queryMiddleware.execPost(X||Z.op,Z,[Y],G,(Q,K)=>{if(Q)return W(Q);$(K)})})},tE1=function(Z){return new Promise((Y,J)=>{Z._hooks.execPre("exec",Z,[],(X)=>{if(X!=null)return J(X);Y()})})},Wa=function(Z,Y){if(Z._queryMiddleware==null)return;return new Promise((J,X)=>{Z._queryMiddleware.execPre(Y||Z.op,Z,[],($)=>{if($!=null)return X($);J()})})},nH=function(Z,Y){return function(J,X){if(J!=null)return Y(J);for(let $ of Z._transforms)try{X=$(X)}catch(W){return Y(W)}return Y(null,X)}},Ga=function(Z,Y,J){for(let X of Y){if(Z.push(J+X.path),!Array.isArray(X.populate))continue;Ga(Z,X.populate,J+X.path+".")}};/*!
 * Module dependencies.
 */var i$=h8(),kE1=OK(),MA=DJ(),u8=z0(),LZ=yw(),nn=Pi(),an=T9(),{applyGlobalMaxTimeMS:n$,applyGlobalDiskUse:a$}=pB(),_E1=TM(),xE1=lB(),fE1=uJ(),yE1=mi(),lH=E$(),gE1=YA(),d8=N0(),sn=Wn(),on=u7(),iH=xJ(),RA=I6(),bE1=M4().internalToObjectOptions,vE1=_J(),hE1=uH(),mE1=uK(),rn=Kn(),en=v7(),f6=FA(),uE1=UA(),dE1=kn(),cE1=VA(),pE1=yn(),lE1=vn(),Za=LA(),pH=sZ(),iE1=ln(),l$=import.meta.require("util"),A0=H1(),nE1=SM(),aE1=new Set(["allowDiskUse","batchSize","collation","comment","explain","hint","j","lean","limit","maxTimeMS","populate","projection","read","select","skip","slice","sort","tailable","w","writeConcern","wtimeout"]);/*!
 * inherit mquery
 */p.prototype=new f6;p.prototype.constructor=p;p.base=f6.prototype;/*!
 * Overwrite mquery's `_distinct`, because Mongoose uses that name
 * to store the field to apply distinct on.
 */Object.defineProperty(p.prototype,"_distinct",{configurable:!0,writable:!0,enumerable:!0,value:void 0});p.use$geoWithin=f6.use$geoWithin;p.prototype.toConstructor=function Z(){const Y=this.model,J=this.mongooseCollection,X=function(G,Q){if(!(this instanceof X))return new X(G,Q);this._mongooseOptions=d8($._mongooseOptions),p.call(this,G,Q||null,Y,J)};l$.inherits(X,Y.Query);const $=X.prototype;$.options={};const W=Object.assign({},this.options);if(W.sort!=null)$.sort(W.sort),delete W.sort;return $.setOptions(W),$.op=this.op,$._validateOp(),$._conditions=d8(this._conditions),$._fields=d8(this._fields),$._update=d8(this._update,{flattenDecimals:!1}),$._path=this._path,$._distinct=this._distinct,$._collection=this._collection,$._mongooseOptions=this._mongooseOptions,X};p.prototype.clone=function(){const Z=this.model,Y=this.mongooseCollection,J=new this.model.Query({},{},Z,Y),X=Object.assign({},this.options);if(X.sort!=null)J.sort(X.sort),delete X.sort;return J.setOptions(X),J.op=this.op,J._validateOp(),J._conditions=d8(this._conditions),J._fields=d8(this._fields),J._update=d8(this._update,{flattenDecimals:!1}),J._path=this._path,J._distinct=this._distinct,J._collection=this._collection,J._mongooseOptions=this._mongooseOptions,J};p.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,Y;if(arguments.length===1){const X=arguments[0];if(typeof X==="object"&&!Array.isArray(X)){const $=Object.keys(X),W=$.length;for(let G=0;G<W;++G)this.slice($[G],X[$[G]]);return this}this._ensurePath("slice"),Z=this._path,Y=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,Y=[arguments[0],arguments[1]];else Z=arguments[0],Y=arguments[1];else if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];const J={};return J[Z]={$slice:Y},this.select(J),this};/*!
 * ignore
 */var sE1=new Set(nE1);p.prototype._validateOp=function(){if(this.op!=null&&!sE1.has(this.op))this.error(new Error('Query has invalid `op`: "'+this.op+'"'))};p.prototype.mod=function(){let Z,Y;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],Y=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],Y=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],Y=arguments[0];else Z=arguments[1],Y=arguments[0];const J=this._conditions[Y]||(this._conditions[Y]={});return J.$mod=Z,this};p.prototype.limit=function Z(Y){if(this._validate("limit"),typeof Y==="string")try{Y=lH(Y)}catch(J){throw new i$("Number",Y,"limit")}return this.options.limit=Y,this};p.prototype.skip=function Z(Y){if(this._validate("skip"),typeof Y==="string")try{Y=lH(Y)}catch(J){throw new i$("Number",Y,"skip")}return this.options.skip=Y,this};p.prototype.projection=function(Z){if(arguments.length===0)return this._fields;return this._fields={},this._userProvidedFields={},this.select(Z),this._fields};p.prototype.select=function Z(){let Y=arguments[0];if(!Y)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const J=this._fields||(this._fields={}),X=this._userProvidedFields||(this._userProvidedFields={});let $=void 0;if(this.model!=null&&A0.hasUserDefinedProperty(this.model.db.options,"sanitizeProjection"))$=this.model.db.options.sanitizeProjection;else if(this.model!=null&&A0.hasUserDefinedProperty(this.model.base.options,"sanitizeProjection"))$=this.model.base.options.sanitizeProjection;else $=this._mongooseOptions.sanitizeProjection;function W(G){return typeof G==="string"&&$?G=1:G}if(Y=uE1(Y,!0),A0.isObject(Y)){if(this.selectedInclusively())Object.entries(Y).forEach(([G,Q])=>{if(Q){if(J["-"+G]!=null)delete J["-"+G];J[G]=X[G]=W(Q)}else Object.keys(X).forEach((K)=>{if(rn(G,K))delete J[K],delete X[K]})});else if(this.selectedExclusively())Object.entries(Y).forEach(([G,Q])=>{if(!Q){if(J["+"+G]!=null)delete J["+"+G];J[G]=X[G]=W(Q)}else Object.keys(X).forEach((K)=>{if(rn(G,K))delete J[K],delete X[K]})});else{const G=Object.keys(Y);for(let Q=0;Q<G.length;++Q){const K=Y[G[Q]],H=G[Q];J[H]=W(K),X[H]=W(K)}}return this}throw new TypeError("Invalid select() argument. Must be string or object.")};p.prototype.read=function Z(Y,J){if(typeof Y==="string")Y=_E1(Y),this.options.readPreference={mode:Y,tags:J};else this.options.readPreference=Y;return this};p.prototype.toString=function Z(){if(this.op==="count"||this.op==="countDocuments"||this.op==="find"||this.op==="findOne"||this.op==="deleteMany"||this.op==="deleteOne"||this.op==="findOneAndDelete"||this.op==="remove")return`${this.model.modelName}.${this.op}(${l$.inspect(this._conditions)})`;if(this.op==="distinct")return`${this.model.modelName}.distinct('${this._distinct}', ${l$.inspect(this._conditions)})`;if(this.op==="findOneAndReplace"||this.op==="findOneAndUpdate"||this.op==="replaceOne"||this.op==="update"||this.op==="updateMany"||this.op==="updateOne")return`${this.model.modelName}.${this.op}(${l$.inspect(this._conditions)}, ${l$.inspect(this._update)})`;return`${this.model.modelName}.${this.op}()`};p.prototype.session=function Z(Y){if(Y==null)delete this.options.session;return this.options.session=Y,this};p.prototype.writeConcern=function Z(Y){if(Y==null)return delete this.options.writeConcern,this;return this.options.writeConcern=Y,this};p.prototype.w=function Z(Y){if(Y==null)delete this.options.w;if(this.options.writeConcern!=null)this.options.writeConcern.w=Y;else this.options.w=Y;return this};p.prototype.j=function Z(Y){if(Y==null)delete this.options.j;if(this.options.writeConcern!=null)this.options.writeConcern.j=Y;else this.options.j=Y;return this};p.prototype.wtimeout=function Z(Y){if(Y==null)delete this.options.wtimeout;if(this.options.writeConcern!=null)this.options.writeConcern.wtimeout=Y;else this.options.wtimeout=Y;return this};p.prototype.getOptions=function(){return this.options};p.prototype.setOptions=function(Z,Y){if(Y){if(this._mongooseOptions=Z&&d8(Z)||{},this.options=Z||{},"populate"in Z)this.populate(this._mongooseOptions);return this}if(Z==null)return this;if(typeof Z!=="object")throw new Error('Options must be an object, got "'+Z+'"');if(Z=Object.assign({},Z),Array.isArray(Z.populate)){const J=Z.populate;delete Z.populate;const X=J.length;for(let $=0;$<X;++$)this.populate(J[$])}if("setDefaultsOnInsert"in Z)this._mongooseOptions.setDefaultsOnInsert=Z.setDefaultsOnInsert,delete Z.setDefaultsOnInsert;if("overwriteDiscriminatorKey"in Z)this._mongooseOptions.overwriteDiscriminatorKey=Z.overwriteDiscriminatorKey,delete Z.overwriteDiscriminatorKey;if("sanitizeProjection"in Z){if(Z.sanitizeProjection&&!this._mongooseOptions.sanitizeProjection)pE1(this._fields);this._mongooseOptions.sanitizeProjection=Z.sanitizeProjection,delete Z.sanitizeProjection}if("sanitizeFilter"in Z)this._mongooseOptions.sanitizeFilter=Z.sanitizeFilter,delete Z.sanitizeFilter;if("timestamps"in Z)this._mongooseOptions.timestamps=Z.timestamps,delete Z.timestamps;if("defaults"in Z)this._mongooseOptions.defaults=Z.defaults;if("translateAliases"in Z)this._mongooseOptions.translateAliases=Z.translateAliases,delete Z.translateAliases;if(Z.lean==null&&this.schema&&"lean"in this.schema.options)this._mongooseOptions.lean=this.schema.options.lean;if(typeof Z.limit==="string")try{Z.limit=lH(Z.limit)}catch(J){throw new i$("Number",Z.limit,"limit")}if(typeof Z.skip==="string")try{Z.skip=lH(Z.skip)}catch(J){throw new i$("Number",Z.skip,"skip")}for(let J of Object.keys(Z))if(aE1.has(J)){const X=Array.isArray(Z[J])?Z[J]:[Z[J]];this[J].apply(this,X)}else this.options[J]=Z[J];return this};p.prototype.explain=function Z(Y){if(arguments.length===0)this.options.explain=!0;else if(Y===!1)delete this.options.explain;else this.options.explain=Y;return this};p.prototype.allowDiskUse=function(Z){if(arguments.length===0)this.options.allowDiskUse=!0;else if(Z===!1)delete this.options.allowDiskUse;else this.options.allowDiskUse=Z;return this};p.prototype.maxTimeMS=function(Z){return this.options.maxTimeMS=Z,this};p.prototype.getFilter=function(){return this._conditions};p.prototype.getQuery=function(){return this._conditions};p.prototype.setQuery=function(Z){this._conditions=Z};p.prototype.getUpdate=function(){return this._update};p.prototype.setUpdate=function(Z){this._update=Z};p.prototype._fieldsForExec=function(){if(this._fields==null)return null;if(Object.keys(this._fields).length===0)return null;return d8(this._fields)};p.prototype._updateForExec=function(){const Z=d8(this._update,{transform:!1,depopulate:!0}),Y=Object.keys(Z);let J=Y.length;const X={};while(J--){const $=Y[J];if($[0]!=="$"){if(!X.$set)if(Z.$set)X.$set=Z.$set;else X.$set={};if(X.$set[$]=Z[$],Y.splice(J,1),!~Y.indexOf("$set"))Y.push("$set")}else if($==="$set"){if(!X.$set)X[$]=Z[$]}else X[$]=Z[$]}return X};p.prototype._optionsForExec=function(Z){const Y=d8(this.options);if(delete Y.populate,Z=Z||this.model,!Z)return Y;xE1(Z.schema,Y);const J=Z&&Z.schema&&Z.schema.options&&Z.schema.options.read;if(!("readPreference"in Y)&&J)Y.readPreference=J;if(Y.upsert!==void 0)Y.upsert=!!Y.upsert;if(Y.writeConcern){if(Y.j)Y.writeConcern.j=Y.j,delete Y.j;if(Y.w)Y.writeConcern.w=Y.w,delete Y.w;if(Y.wtimeout)Y.writeConcern.wtimeout=Y.wtimeout,delete Y.wtimeout}if(this._applyPaths(),this._fields!=null){this._fields=this._castFields(this._fields);const X=this._fieldsForExec();if(X!=null)Y.projection=X}return Y};p.prototype.lean=function(Z){return this._mongooseOptions.lean=arguments.length?Z:!0,this};p.prototype.set=function(Z,Y){if(typeof Z==="object"){const J=Object.keys(Z);for(let X of J)this.set(X,Z[X]);return this}if(this._update=this._update||{},Z in this._update)delete this._update[Z];return this._update.$set=this._update.$set||{},this._update.$set[Z]=Y,this};p.prototype.get=function Z(Y){const J=this._update;if(J==null)return;const X=J.$set;if(X==null)return J[Y];if(A0.hasUserDefinedProperty(J,Y))return J[Y];if(A0.hasUserDefinedProperty(X,Y))return X[Y];return};p.prototype.error=function Z(Y){if(arguments.length===0)return this._error;return this._error=Y,this};p.prototype._unsetCastError=function Z(){if(this._error!=null&&!(this._error instanceof i$))return;return this.error(null)};p.prototype.mongooseOptions=function(Z){if(arguments.length>0)this._mongooseOptions=Z;return this._mongooseOptions};p.prototype._castConditions=function(){let Z=void 0;if(this.model!=null&&A0.hasUserDefinedProperty(this.model.db.options,"sanitizeFilter"))Z=this.model.db.options.sanitizeFilter;else if(this.model!=null&&A0.hasUserDefinedProperty(this.model.base.options,"sanitizeFilter"))Z=this.model.base.options.sanitizeFilter;else Z=this._mongooseOptions.sanitizeFilter;if(Z)cE1(this._conditions);try{this.cast(this.model),this._unsetCastError()}catch(Y){this.error(Y)}};/*!
 * ignore
 */p.prototype._find=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._mongooseOptions,J=this,X=J._userProvidedFields||{};n$(this.options,this.model),a$(this.options,this.model);const $=Object.assign({},{session:this&&this.options&&this.options.session||null,lean:Y.lean||null}),W=this._optionsForExec();this._applyTranslateAliases(W);const G=this._conditions,Q=W.projection,K=await this.mongooseCollection.find(G,W);if(W.explain)return K.explain();let H=await K.toArray();if(H.length===0)return H;if(!Y.populate){const F=J.schema.options.versionKey;if(Y.lean&&Y.lean.versionKey===!1&&F)H.forEach((U)=>{if(F in U)delete U[F]});return Y.lean?Xa(J.model.schema,H,null,$):sn(J.model,H,Q,X,$)}const z=iH.preparePopulationOptionsMQ(J,Y);if(Y.lean)return J.model.populate(H,z);return H=await sn(J.model,H,Q,X,$),await this.model.populate(H,z),H};p.prototype.find=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new u8("Query.prototype.find() no longer accepts a callback");if(this.op="find",f6.canMerge(Z))this.merge(Z),s$(this);else if(Z!=null)this.error(new LZ(Z,"filter","find"));return this};p.prototype.merge=function(Z){if(!Z)return this;const Y={overwrite:!0};if(Z instanceof p){if(Z._conditions){if(Y.omit={},this._conditions&&this._conditions.$and&&Z._conditions.$and)Y.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z._conditions.$and);if(this._conditions&&this._conditions.$or&&Z._conditions.$or)Y.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z._conditions.$or);A0.merge(this._conditions,Z._conditions,Y)}if(Z._fields)this._fields||(this._fields={}),A0.merge(this._fields,Z._fields,Y);if(Z.options)this.options||(this.options={}),A0.merge(this.options,Z.options,Y);if(Z._update)this._update||(this._update={}),A0.mergeClone(this._update,Z._update);if(Z._distinct)this._distinct=Z._distinct;return A0.merge(this._mongooseOptions,Z._mongooseOptions),this}else if(this.model!=null&&Z instanceof this.model.base.Types.ObjectId)return A0.merge(this._conditions,{_id:Z},Y),this;else if(Z&&Z.$__)Z=Z.toObject(bE1);if(Y.omit={},this._conditions&&this._conditions.$and&&Z.$and)Y.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z.$and);if(this._conditions&&this._conditions.$or&&Z.$or)Y.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z.$or);return A0.merge(this._conditions,Z,Y),this};p.prototype.collation=function(Z){if(this.options==null)this.options={};return this.options.collation=Z,this};p.prototype._completeOne=function(Z,Y,J){if(!Z&&!this.options.includeResultMetadata)return J(null,null);const X=this.model,$=d8(this._fields),W=this._userProvidedFields||{},G=this._mongooseOptions,Q=this.options;if(!Q.lean&&G.lean)Q.lean=G.lean;if(Q.explain)return J(null,Z);if(!G.populate){const H=this.schema.options.versionKey;if(G.lean&&G.lean.versionKey===!1&&H){if(H in Z)delete Z[H]}return G.lean?BA(X.schema,Z,null,Y,Q,J):tn(X,Z,Y,Q,$,W,null,J)}const K=iH.preparePopulationOptionsMQ(this,this._mongooseOptions);if(G.lean)return X.populate(Z,K).then((H)=>{BA(X.schema,H,null,Y,Q,J)},(H)=>{J(H)});tn(X,Z,Y,Q,$,W,[],(H,z)=>{if(H!=null)return J(H);X.populate(z,K).then((F)=>{J(null,F)},(F)=>{J(F)})})};p.prototype._findOne=async function Z(){if(this._castConditions(),this.error())throw this.error();n$(this.options,this.model),a$(this.options,this.model);const Y=this._optionsForExec();this._applyTranslateAliases(Y);const J=await this.mongooseCollection.findOne(this._conditions,Y);return new Promise((X,$)=>{this._completeOne(J,null,nH(this,(W,G)=>{if(W)return $(W);X(G)}))})};p.prototype.findOne=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[3]==="function")throw new u8("Query.prototype.findOne() no longer accepts a callback");if(this.op="findOne",this._validateOp(),J)this.setOptions(J);if(Y)this.select(Y);if(f6.canMerge(Z))this.merge(Z),s$(this);else if(Z!=null)this.error(new LZ(Z,"filter","findOne"));return this};p.prototype._countDocuments=async function Z(){try{this.cast(this.model)}catch(X){this.error(X)}if(this.error())throw this.error();n$(this.options,this.model),a$(this.options,this.model);const Y=this._optionsForExec();this._applyTranslateAliases(Y);const J=this._conditions;return this.mongooseCollection.countDocuments(J,Y)};/*!
 * If `translateAliases` option is set, call `Model.translateAliases()`
 * on the following query properties: filter, projection, update, distinct.
 */p.prototype._applyTranslateAliases=function Z(Y){let J=!1;if("translateAliases"in this._mongooseOptions)J=this._mongooseOptions.translateAliases;else if(this.model?.schema?._userProvidedOptions?.translateAliases!=null)J=this.model.schema._userProvidedOptions.translateAliases;else if(this.model?.base?.options?.translateAliases!=null)J=this.model.base.options.translateAliases;if(!J)return;if(this.model?.schema?.aliases&&Object.keys(this.model.schema.aliases).length>0){if(this.model.translateAliases(this._conditions,!0),this.model.translateAliases(Y.projection,!0),this.model.translateAliases(this._update,!0),this._distinct!=null&&this.model.schema.aliases[this._distinct]!=null)this._distinct=this.model.schema.aliases[this._distinct]}};p.prototype._estimatedDocumentCount=async function Z(){if(this.error())throw this.error();const Y=this._optionsForExec();return this.mongooseCollection.estimatedDocumentCount(Y)};p.prototype.estimatedDocumentCount=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new u8("Query.prototype.estimatedDocumentCount() no longer accepts a callback");if(this.op="estimatedDocumentCount",this._validateOp(),typeof Z==="object"&&Z!=null)this.setOptions(Z);return this};p.prototype.countDocuments=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new u8("Query.prototype.countDocuments() no longer accepts a callback");if(this.op="countDocuments",this._validateOp(),f6.canMerge(Z))this.merge(Z);if(typeof Y==="object"&&Y!=null)this.setOptions(Y);return this};p.prototype.__distinct=async function Z(){if(this._castConditions(),this.error())throw this.error();n$(this.options,this.model),a$(this.options,this.model);const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.distinct(this._distinct,this._conditions,Y)};p.prototype.distinct=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new u8("Query.prototype.distinct() no longer accepts a callback");if(this.op="distinct",this._validateOp(),f6.canMerge(Y))this.merge(Y),s$(this);else if(Y!=null)this.error(new LZ(Y,"filter","distinct"));if(Z!=null)this._distinct=Z;return this};p.prototype.sort=function(Z){if(arguments.length>1)throw new Error("sort() only takes 1 Argument");if(this.options.sort==null)this.options.sort={};const Y=this.options.sort;if(typeof Z==="string"){const J=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let X of J){const $=X[0]=="-"?-1:1;if($===-1)X=X.slice(1);if(pH.has(X))continue;Y[X]=$}}else if(Array.isArray(Z))for(let J of Z){if(!Array.isArray(J))throw new TypeError("Invalid sort() argument, must be array of arrays");const X=""+J[0];if(pH.has(X))continue;Y[X]=wA(J[1],X)}else if(typeof Z==="object"&&Z!=null&&!(Z instanceof Map))for(let J of Object.keys(Z)){if(pH.has(J))continue;Y[J]=wA(Z[J],J)}else if(Z instanceof Map)for(let J of Z.keys()){if(J=""+J,pH.has(J))continue;Y[J]=wA(Z.get(J),J)}else if(Z!=null)throw new TypeError("Invalid sort() argument. Must be a string, object, array, or map.");return this};/*!
 * Convert sort values
 */p.prototype.deleteOne=function Z(Y,J){if(typeof Y==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new u8("Query.prototype.deleteOne() no longer accepts a callback");if(this.op="deleteOne",this.setOptions(J),f6.canMerge(Y))this.merge(Y),s$(this);else if(Y!=null)this.error(new LZ(Y,"filter","deleteOne"));return this};p.prototype._deleteOne=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.deleteOne(this._conditions,Y)};p.prototype.deleteMany=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new u8("Query.prototype.deleteMany() no longer accepts a callback");if(this.setOptions(Y),this.op="deleteMany",f6.canMerge(Z))this.merge(Z),s$(this);else if(Z!=null)this.error(new LZ(Z,"filter","deleteMany"));return this};p.prototype._deleteMany=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.deleteMany(this._conditions,Y)};p.prototype.findOneAndUpdate=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[3]==="function")throw new u8("Query.prototype.findOneAndUpdate() no longer accepts a callback");switch(this.op="findOneAndUpdate",this._validateOp(),this._validate(),arguments.length){case 2:J=void 0;break;case 1:Y=Z,Z=J=void 0;break}if(f6.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new LZ(Z,"filter","findOneAndUpdate"));if(Y)this._mergeUpdate(Y);if(J=J?d8(J):{},J.projection)this.select(J.projection),delete J.projection;if(J.fields)this.select(J.fields),delete J.fields;const X=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(J.new==null&&J.returnDocument==null&&J.returnOriginal==null&&X!=null)J.returnOriginal=X;return this.setOptions(J),this};p.prototype._findOneAndUpdate=async function Z(){if(this._castConditions(),Ya(this),this.error())throw this.error();if(n$(this.options,this.model),a$(this.options,this.model),"strict"in this.options)this._mongooseOptions.strict=this.options.strict;const Y=this._optionsForExec(this.model);Ja(Y),this._applyTranslateAliases(Y),this._update=this._castUpdate(this._update);const J=Object.assign({},Y,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});if(this._update=Za(this._conditions,this.model.schema,this._update,J),!this._update||Object.keys(this._update).length===0)if(Y.upsert){const G=d8(this._update);delete G._id,this._update={$set:G}}else return this._executionStack=null,await this._findOne();else if(this._update instanceof Error)throw this._update;else if(this._update.$set&&Object.keys(this._update.$set).length===0)delete this._update.$set;if(AA(this,"runValidators",!1))await this.validate(this._update,Y,!1);if(this._update.toBSON)this._update=this._update.toBSON();let $=await this.mongooseCollection.findOneAndUpdate(this._conditions,this._update,Y);for(let G of this._transforms)$=G($);const W=!Y.includeResultMetadata?$:$.value;return new Promise((G,Q)=>{this._completeOne(W,$,nH(this,(K,H)=>{if(K)return Q(K);G(H)}))})};p.prototype.findOneAndDelete=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new u8("Query.prototype.findOneAndDelete() no longer accepts a callback");if(this.op="findOneAndDelete",this._validateOp(),this._validate(),f6.canMerge(Z))this.merge(Z);return Y&&this.setOptions(Y),this};p.prototype._findOneAndDelete=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this.options.includeResultMetadata,J=this._conditions,X=this._optionsForExec(this.model);this._applyTranslateAliases(X);let $=await this.mongooseCollection.findOneAndDelete(J,X);for(let G of this._transforms)$=G($);const W=!Y?$:$.value;return new Promise((G,Q)=>{this._completeOne(W,$,nH(this,(K,H)=>{if(K)return Q(K);G(H)}))})};p.prototype.findOneAndReplace=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[4]==="function")throw new u8("Query.prototype.findOneAndReplace() no longer accepts a callback");if(this.op="findOneAndReplace",this._validateOp(),this._validate(),f6.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new LZ(Z,"filter","findOneAndReplace"));if(Y!=null)this._mergeUpdate(Y);J=J||{};const X=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(J.new==null&&J.returnDocument==null&&J.returnOriginal==null&&X!=null)J.returnOriginal=X;return this.setOptions(J),this};p.prototype._findOneAndReplace=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();if("strict"in this.options)this._mongooseOptions.strict=this.options.strict,delete this.options.strict;const Y=this._conditions,J=this._optionsForExec();this._applyTranslateAliases(J),Ja(J);const X=this.options.includeResultMetadata,$={skipId:!0};if("strict"in this._mongooseOptions)$.strict=this._mongooseOptions.strict;const W=AA(this,"runValidators",!1);try{const K=new this.model(this._update,null,$);if(W)await K.validate();else if(K.$__.validationError)throw K.$__.validationError;this._update=K.toBSON()}catch(K){if(K instanceof an)throw K;const H=new an;throw H.errors[K.path]=K,H}let G=await this.mongooseCollection.findOneAndReplace(Y,this._update,J);for(let K of this._transforms)G=K(G);const Q=!X?G:G.value;return new Promise((K,H)=>{this._completeOne(Q,G,nH(this,(z,F)=>{if(z)return H(z);K(F)}))})};/*!
 * ignore
 *//*!
 * ignore
 */p.prototype._mergeUpdate=function(Z){if(!this._update)this._update=Array.isArray(Z)?[]:{};if(Z==null||typeof Z==="object"&&Object.keys(Z).length===0)return;if(Z instanceof p){if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");if(Z._update)A0.mergeClone(this._update,Z._update)}else if(Array.isArray(Z)){if(!Array.isArray(this._update))throw new Error("Cannot mix array and object updates");this._update=this._update.concat(Z)}else{if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");A0.mergeClone(this._update,Z)}};/*!
 * ignore
 */p.prototype.validate=async function Z(Y,J,X){if(typeof arguments[3]==="function")throw new u8("Query.prototype.validate() no longer accepts a callback");if(await Wa(this,"validate"),X)await Y.$validate();else await new Promise(($,W)=>{iE1(this,this.model.schema,Y,J,(G)=>{if(G!=null)return W(G);$()})});await $a(this,null,null,"validate")};p.prototype._updateMany=async function Z(){return NA.call(this,"updateMany")};p.prototype._updateOne=async function Z(){return NA.call(this,"updateOne")};p.prototype._replaceOne=async function Z(){return NA.call(this,"replaceOne")};p.prototype.updateMany=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return IA(this,"updateMany",Z,Y,J,X)};p.prototype.updateOne=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return IA(this,"updateOne",Z,Y,J,X)};p.prototype.replaceOne=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return IA(this,"replaceOne",Z,Y,J,X)};p.prototype.transform=function(Z){return this._transforms.push(Z),this};p.prototype.orFail=function(Z){return this.transform((Y)=>{switch(this.op){case"find":if(Y.length===0)throw tJ(Z,this);break;case"findOne":if(Y==null)throw tJ(Z,this);break;case"replaceOne":case"updateMany":case"updateOne":if(Y&&Y.matchedCount===0)throw tJ(Z,this);break;case"findOneAndDelete":case"findOneAndUpdate":case"findOneAndReplace":if(this.options.includeResultMetadata&&Y!=null&&Y.value==null)throw tJ(Z,this);if(!this.options.includeResultMetadata&&Y==null)throw tJ(Z,this);break;case"deleteMany":case"deleteOne":if(Y.deletedCount===0)throw tJ(Z,this);break;default:break}return Y}),this};p.prototype.isPathSelectedInclusive=function(Z){return mE1(this._fields,Z)};p.prototype.exec=async function Z(Y){if(typeof Y==="function"||arguments.length>=2&&typeof arguments[1]==="function")throw new u8("Query.prototype.exec() no longer accepts a callback");if(typeof Y==="string")this.op=Y;if(this.op==null)throw new u8("Query must have `op` before executing");if(this.model==null)throw new u8("Query must have an associated model before executing");if(this._validateOp(),!this.op)return;if(this.options&&this.options.sort){if(Object.keys(this.options.sort).includes(""))throw new Error('Invalid field "" passed to sort()')}let J="_"+this.op;if(this.op==="distinct")J="__distinct";if(this._executionStack!=null){let G=this.toString();if(G.length>60)G=G.slice(0,60)+"...";const Q=new u8("Query was already executed: "+G);throw Q.originalStack=this._executionStack.stack,Q}else this._executionStack=new Error;let X=null;try{await tE1(this)}catch(G){if(G instanceof MA.skipWrappedFunction)X=G;else throw G}let $,W=null;try{await Wa(this),$=X?X.args[0]:await this[J]();for(let G of this._transforms)$=G($)}catch(G){if(G instanceof MA.skipWrappedFunction)$=G.args[0];else W=G}return $=await $a(this,$,W),await rE1(this),$};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */p.prototype.then=function(Z,Y){return this.exec().then(Z,Y)};p.prototype.catch=function(Z){return this.exec().then(null,Z)};p.prototype.finally=function(Z){return this.exec().finally(Z)};p.prototype[Symbol.toStringTag]=function Z(){return`Query { ${this.op} }`};p.prototype.pre=function(Z){return this._hooks.pre("exec",Z),this};p.prototype.post=function(Z){return this._hooks.post("exec",Z),this};p.prototype._castUpdate=function Z(Y){let J=this.schema;const X=J.options.discriminatorKey,$=J._baseSchema?J._baseSchema:J;if(this._mongooseOptions.overwriteDiscriminatorKey&&Y[X]!=null&&$.discriminators){const Q=Object.values($.discriminators).find((K)=>K.discriminatorMapping.value===Y[X]);if(Q!=null)J=Q}let W;if("upsert"in this.options)W=this.options.upsert;const G=this._conditions;if(J!=null&&A0.hasUserDefinedProperty(G,J.options.discriminatorKey)&&typeof G[J.options.discriminatorKey]!=="object"&&J.discriminators!=null){const Q=G[J.options.discriminatorKey],K=on(this.model.discriminators,Q);J=J.discriminators[Q]||K&&K.schema||J}return gE1(J,Y,{strict:this._mongooseOptions.strict,upsert:W,arrayFilters:this.options.arrayFilters,overwriteDiscriminatorKey:this._mongooseOptions.overwriteDiscriminatorKey},this,this._conditions)};p.prototype.populate=function(){if(!Array.from(arguments).some(Boolean))return this;const Z=A0.populate.apply(null,arguments);if(this.options!=null){const X=this.options.readConcern,$=this.options.readPreference;for(let W of Z){if(X!=null&&(W&&W.options&&W.options.readConcern)==null)W.options=W.options||{},W.options.readConcern=X;if($!=null&&(W&&W.options&&W.options.readPreference)==null)W.options=W.options||{},W.options.readPreference=$}}const Y=this._mongooseOptions;if(Y.lean!=null){const X=Y.lean;for(let $ of Z)if(($&&$.options&&$.options.lean)==null)$.options=$.options||{},$.options.lean=X}if(!A0.isObject(Y.populate))Y.populate={};const J=Y.populate;for(let X of Z){const $=X.path;if(J[$]&&J[$].populate&&X.populate)X.populate=J[$].populate.concat(X.populate);J[X.path]=X}return this};p.prototype.getPopulatedPaths=function Z(){const Y=this._mongooseOptions.populate||{},J=Object.keys(Y);for(let X of Object.keys(Y)){const $=Y[X];if(!Array.isArray($.populate))continue;Ga(J,$.populate,X+".")}return J};/*!
 * ignore
 */p.prototype.cast=function(Z,Y){Y||(Y=this._conditions),Z=Z||this.model;const J=Z.schema.options.discriminatorKey;if(Y!=null&&Y.hasOwnProperty(J))Z=on(Z.discriminators,Y[J])||Z;const X={upsert:this.options&&this.options.upsert};if(this.options){if("strict"in this.options)X.strict=this.options.strict;if("strictQuery"in this.options)X.strictQuery=this.options.strictQuery}try{return fE1(Z.schema,Y,X,this)}catch($){if(typeof $.setModel==="function")$.setModel(Z);throw $}};p.prototype._castFields=function Z(Y){let J,X,$,W,G,Q;if(Y){$=Object.keys(Y),X=[],Q=$.length;while(Q--)if(W=$[Q],Y[W].$elemMatch)J||(J={}),J[W]=Y[W],X.push(W)}if(J){try{G=this.cast(this.model,J)}catch(K){return K}Q=X.length;while(Q--)W=X[Q],Y[W]=G[W]}return Y};p.prototype._applyPaths=function Z(){if(!this.model)return;this._fields=this._fields||{},iH.applyPaths(this._fields,this.model.schema);let Y=!0;if("selectPopulatedPaths"in this.model.base.options)Y=this.model.base.options.selectPopulatedPaths;if("selectPopulatedPaths"in this.model.schema.options)Y=this.model.schema.options.selectPopulatedPaths;if(Y)lE1(this._fields,this._userProvidedFields,this._mongooseOptions.populate)};p.prototype.cursor=function Z(Y){if(Y)this.setOptions(Y);try{this.cast(this.model)}catch(J){return new nn(this)._markError(J)}return new nn(this)};p.prototype.tailable=function(Z,Y){if(Z!=null&&typeof Z.constructor==="function"&&Z.constructor.name==="Object")Y=Z,Z=!0;if(Z===void 0)Z=!0;if(Y&&typeof Y==="object")for(let J of Object.keys(Y))if(J==="awaitData"||J==="awaitdata")this.options.awaitData=!!Y[J];else this.options[J]=Y[J];return this.options.tailable=arguments.length?!!Z:!0,this};p.prototype.near=function(){const Z=[],Y=this._mongooseOptions.nearSphere;if(arguments.length===1)if(Array.isArray(arguments[0]))Z.push({center:arguments[0],spherical:Y});else if(typeof arguments[0]==="string")Z.push(arguments[0]);else if(A0.isObject(arguments[0])){if(typeof arguments[0].spherical!=="boolean")arguments[0].spherical=Y;Z.push(arguments[0])}else throw new TypeError("invalid argument");else if(arguments.length===2)if(typeof arguments[0]==="number"&&typeof arguments[1]==="number")Z.push({center:[arguments[0],arguments[1]],spherical:Y});else if(typeof arguments[0]==="string"&&Array.isArray(arguments[1]))Z.push(arguments[0]),Z.push({center:arguments[1],spherical:Y});else if(typeof arguments[0]==="string"&&A0.isObject(arguments[1])){if(Z.push(arguments[0]),typeof arguments[1].spherical!=="boolean")arguments[1].spherical=Y;Z.push(arguments[1])}else throw new TypeError("invalid argument");else if(arguments.length===3)if(typeof arguments[0]==="string"&&typeof arguments[1]==="number"&&typeof arguments[2]==="number")Z.push(arguments[0]),Z.push({center:[arguments[1],arguments[2]],spherical:Y});else throw new TypeError("invalid argument");else throw new TypeError("invalid argument");return p.base.near.apply(this,Z)};p.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this};if(Symbol.asyncIterator!=null)p.prototype[Symbol.asyncIterator]=function(){return this.cursor().transformNull()._transformForAsyncIterator()};p.prototype.box=function(Z,Y){if(!Array.isArray(Z)&&A0.isObject(Z))Y=Z.ur,Z=Z.ll;return p.base.box.call(this,Z,Y)};p.prototype.center=p.base.circle;p.prototype.centerSphere=function(){if(arguments[0]!=null&&typeof arguments[0].constructor==="function"&&arguments[0].constructor.name==="Object")arguments[0].spherical=!0;if(arguments[1]!=null&&typeof arguments[1].constructor==="function"&&arguments[1].constructor.name==="Object")arguments[1].spherical=!0;p.base.circle.apply(this,arguments)};p.prototype.selectedInclusively=function Z(){return hE1(this._fields)};p.prototype.selectedExclusively=function Z(){return vE1(this._fields)};p.prototype.model;/*!
 * Export
 */Qa.exports=p});var Fa=R((F00,za)=>{var y6=function(Z){Ha.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.agg=Z,this._transforms=[];const Y=Z._model;delete Z.options.cursor.useMongooseAggCursor,this._mongooseOptions={},Yj1(Y,this,Z)},Yj1=function(Z,Y,J){if(!Z.collection.buffer)Z.hooks.execPre("aggregate",J,function(){Y.cursor=Z.collection.aggregate(J._pipeline,J.options||{}),Y.emit("cursor",Y.cursor)});else Z.collection.emitter.once("queue",function(){Z.hooks.execPre("aggregate",J,function(){Y.cursor=Z.collection.aggregate(J._pipeline,J.options||{}),Y.emit("cursor",Y.cursor)})})},Ka=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},Jj1=function(Z,Y){if(Z.cursor)return Y();Z.once("cursor",function(){Y()})},sH=function(Z,Y){let J=Y;if(Z._transforms.length)J=function(X,$){if(X||$===null&&!Z._mongooseOptions.transformNull)return Y(X,$);Y(X,Z._transforms.reduce(function(W,G){return G(W)},$))};if(Z._error)return eE1(function(){J(Z._error)});if(Z.cursor)return Z.cursor.next().then((X)=>{if(!X)return J(null,null);J(null,X)},(X)=>J(X));else Z.once("cursor",function(){sH(Z,Y)})};/*!
 * Module dependencies.
 */var DA=z0(),Ha=import.meta.require("stream").Readable,oE1=mB(),eE1=I6(),Zj1=import.meta.require("util");Zj1.inherits(y6,Ha);/*!
 * ignore
 */y6.prototype._read=function(){const Z=this;sH(this,function(Y,J){if(Y)return Z.emit("error",Y);if(!J){Z.push(null),Z.cursor.close(function(X){if(X)return Z.emit("error",X)});return}Z.push(J)})};if(Symbol.asyncIterator!=null){const Z="Mongoose does not support using async iterators with an existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation";y6.prototype[Symbol.asyncIterator]=function(){throw new DA(Z)}}Object.defineProperty(y6.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});y6.prototype._markError=function(Z){return this._error=Z,this};y6.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new DA("AggregationCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close()}catch(Y){throw this.listeners("error").length>0&&this.emit("error",Y),Y}this.emit("close")};y6.prototype.next=async function Z(){if(typeof arguments[0]==="function")throw new DA("AggregationCursor.prototype.next() no longer accepts a callback");return new Promise((Y,J)=>{sH(this,(X,$)=>{if(X!=null)return J(X);Y($)})})};y6.prototype.eachAsync=function(Z,Y,J){const X=this;if(typeof Y==="function")J=Y,Y={};return Y=Y||{},oE1(function($){return sH(X,$)},Z,Y,J)};if(Symbol.asyncIterator!=null)y6.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 */y6.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(Ka)===-1)this.map(Ka);return this};/*!
 * ignore
 */y6.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */y6.prototype.addCursorFlag=function(Z,Y){const J=this;return Jj1(this,function(){J.cursor.addCursorFlag(Z,Y)}),this};/*!
 * ignore
 */za.exports=y6});var PA=R((U00,Ua)=>{Ua.exports=function Z(Y,J,X){const $=J&&J.discriminatorMapping;if(X=X||"",$&&!$.isRoot){const W=Y,G=(X.length>0?X+".":X)+$.key,Q=$.value;if(W[0]!=null&&W[0].$match&&(W[0].$match[G]===void 0||W[0].$match[G]===Q))W[0].$match[G]=Q;else if(W[0]!=null&&W[0].$geoNear)W[0].$geoNear.query=W[0].$geoNear.query||{},W[0].$geoNear.query[G]=Q;else if(W[0]!=null&&W[0].$search)if(W[1]&&W[1].$match!=null)W[1].$match[G]=W[1].$match[G]||Q;else{const K={};K[G]=Q,W.splice(1,0,{$match:K})}else{const K={};K[G]=Q,W.unshift({$match:K})}}}});var Va=R((q00,qa)=>{var Xj1=function(Z){if(Z==null||Z.$accumulator==null)return;for(let Y of["init","accumulate","merge","finalize"])if(typeof Z.$accumulator[Y]==="function")Z.$accumulator[Y]=String(Z.$accumulator[Y])};qa.exports=function Z(Y){if(!Array.isArray(Y))return;for(let J of Y){if(J==null)continue;const X=J.$group||J.$bucket||J.$bucketAuto;if(X!=null)for(let W of Object.keys(X))Xj1(X[W]);const $=Object.keys(J)[0];if($&&typeof J[$]==="object"){const W=J[$];for(let G of Object.keys(W))if(W[G]!=null&&W[G].$function!=null&&typeof W[G].$function.body==="function")W[G].$function.body=W[G].$function.body.toString()}if(J.$facet!=null)for(let W of Object.keys(J.$facet))Z(J.$facet[W])}}});var EA=R((V00,Ba)=>{var S1=function(Z,Y){if(this._pipeline=[],this._model=Y,this.options={},arguments.length===1&&Array.isArray(Z))this.append.apply(this,Z)},Fj1=function(Z){if(typeof Z!=="object"||Z===null)return!1;const Y=Object.keys(Z);return Y.length===1&&Y[0][0]==="$"};/*!
 * Module dependencies
 */var wa=Fa(),TA=z0(),Ma=aH(),{applyGlobalMaxTimeMS:$j1,applyGlobalDiskUse:Wj1}=pB(),Gj1=N0(),Qj1=Q6(),CA=PA(),Kj1=Va(),La=H1(),Hj1=Ma.prototype.read,zj1=Ma.prototype.readConcern,Ra=new Set(["$$DESCEND","$$PRUNE","$$KEEP"]);S1.prototype.options;S1.prototype.model=function(Z){if(arguments.length===0)return this._model;if(this._model=Z,Z.schema!=null){if(this.options.readPreference==null&&Z.schema.options.read!=null)this.options.readPreference=Z.schema.options.read;if(this.options.collation==null&&Z.schema.options.collation!=null)this.options.collation=Z.schema.options.collation}return Z};S1.prototype.append=function(){const Z=arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:[...arguments];if(!Z.every(Fj1))throw new Error("Arguments must be aggregate pipeline operators");return this._pipeline=this._pipeline.concat(Z),this};S1.prototype.addFields=function(Z){if(typeof Z!=="object"||Z===null||Array.isArray(Z))throw new Error("Invalid addFields() argument. Must be an object");return this.append({$addFields:Object.assign({},Z)})};S1.prototype.project=function(Z){const Y={};if(typeof Z==="object"&&!Array.isArray(Z))Object.keys(Z).forEach(function(J){Y[J]=Z[J]});else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(J){if(!J)return;const X=J[0]==="-"?0:1;if(X===0)J=J.substring(1);Y[J]=X});else throw new Error("Invalid project() argument. Must be string or object");return this.append({$project:Y})};S1.prototype.near=function(Z){const Y={};return Y.$geoNear=Z,this.append(Y)};/*!
 * define methods
 */"group match skip limit out densify fill".split(" ").forEach(function(Z){S1.prototype[Z]=function(Y){const J={};return J["$"+Z]=Y,this.append(J)}});S1.prototype.unwind=function(){const Z=[...arguments],Y=[];for(let J of Z)if(J&&typeof J==="object")Y.push({$unwind:J});else if(typeof J==="string")Y.push({$unwind:J[0]==="$"?J:"$"+J});else throw new Error('Invalid arg "'+J+'" to unwind(), must be string or object');return this.append.apply(this,Y)};S1.prototype.replaceRoot=function(Z){let Y;if(typeof Z==="string")Y=Z.startsWith("$")?Z:"$"+Z;else Y=Z;return this.append({$replaceRoot:{newRoot:Y}})};S1.prototype.count=function(Z){return this.append({$count:Z})};S1.prototype.sortByCount=function(Z){if(Z&&typeof Z==="object")return this.append({$sortByCount:Z});else if(typeof Z==="string")return this.append({$sortByCount:Z[0]==="$"?Z:"$"+Z});else throw new TypeError('Invalid arg "'+Z+'" to sortByCount(), must be string or object')};S1.prototype.lookup=function(Z){return this.append({$lookup:Z})};S1.prototype.graphLookup=function(Z){const Y={};if(Z){if(!La.isObject(Z))throw new TypeError("Invalid graphLookup() argument. Must be an object.");La.mergeClone(Y,Z);const J=Y.startWith;if(J&&typeof J==="string")Y.startWith=Y.startWith.startsWith("$")?Y.startWith:"$"+Y.startWith}return this.append({$graphLookup:Y})};S1.prototype.sample=function(Z){return this.append({$sample:{size:Z}})};S1.prototype.sort=function(Z){const Y={};if(Qj1(Z)==="Object"){const J=["desc","descending",-1];Object.keys(Z).forEach(function(X){if(Z[X]instanceof Object&&Z[X].$meta){Y[X]=Z[X];return}Y[X]=J.indexOf(Z[X])===-1?1:-1})}else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(J){if(!J)return;const X=J[0]==="-"?-1:1;if(X===-1)J=J.substring(1);Y[J]=X});else throw new TypeError("Invalid sort() argument. Must be a string or object.");return this.append({$sort:Y})};S1.prototype.unionWith=function(Z){return this.append({$unionWith:Z})};S1.prototype.read=function(Z,Y){return Hj1.call(this,Z,Y),this};S1.prototype.readConcern=function(Z){return zj1.call(this,Z),this};S1.prototype.redact=function(Z,Y,J){if(arguments.length===3){if(typeof Y==="string"&&!Ra.has(Y)||typeof J==="string"&&!Ra.has(J))throw new Error("If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP");Z={$cond:{if:Z,then:Y,else:J}}}else if(arguments.length!==1)throw new TypeError("Invalid arguments");return this.append({$redact:Z})};S1.prototype.explain=async function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new TA("Aggregate.prototype.explain() no longer accepts a callback");const J=this._model;if(!this._pipeline.length)throw new Error("Aggregate has empty pipeline");CA(this._pipeline,this._model.schema),await new Promise((G,Q)=>{J.hooks.execPre("aggregate",this,(K)=>{if(K){const H={error:K};return J.hooks.execPost("aggregate",this,[null],H,(z)=>{Q(z)})}else G()})});const X=J.collection.aggregate(this._pipeline,this.options);if(Y==null)Y=!0;let $=null;try{$=await X.explain(Y)}catch(G){await new Promise((Q,K)=>{const H={error:G};J.hooks.execPost("aggregate",this,[null],H,(z)=>{if(z)return K(z);return Q()})})}const W={error:null};return await new Promise((G,Q)=>{J.hooks.execPost("aggregate",this,[$],W,(K)=>{if(K)return Q(K);return G()})}),$};S1.prototype.allowDiskUse=function(Z){return this.options.allowDiskUse=Z,this};S1.prototype.hint=function(Z){return this.options.hint=Z,this};S1.prototype.session=function(Z){if(Z==null)delete this.options.session;else this.options.session=Z;return this};S1.prototype.option=function(Z){for(let Y in Z)this.options[Y]=Z[Y];return this};S1.prototype.cursor=function(Z){return this.options.cursor=Z||{},new wa(this)};S1.prototype.collation=function(Z){return this.options.collation=Z,this};S1.prototype.facet=function(Z){return this.append({$facet:Z})};S1.prototype.search=function(Z){return this.append({$search:Z})};S1.prototype.pipeline=function(){return this._pipeline};S1.prototype.exec=async function Z(){if(!this._model)throw new Error("Aggregate not bound to any Model");if(typeof arguments[0]==="function")throw new TA("Aggregate.prototype.exec() no longer accepts a callback");const Y=this._model,J=this._model.collection;if($j1(this.options,Y),Wj1(this.options,Y),this.options&&this.options.cursor)return new wa(this);if(CA(this._pipeline,this._model.schema),Kj1(this._pipeline),await new Promise((G,Q)=>{Y.hooks.execPre("aggregate",this,(K)=>{if(K){const H={error:K};return Y.hooks.execPost("aggregate",this,[null],H,(z)=>{Q(z)})}else G()})}),!this._pipeline.length)throw new TA("Aggregate has empty pipeline");const X=Gj1(this.options||{});let $;try{$=await(await J.aggregate(this._pipeline,X)).toArray()}catch(G){await new Promise((Q,K)=>{const H={error:G};Y.hooks.execPost("aggregate",this,[null],H,(z)=>{if(z)return K(z);Q()})})}const W={error:null};return await new Promise((G,Q)=>{Y.hooks.execPost("aggregate",this,[$],W,(K)=>{if(K)return Q(K);return G()})}),$};S1.prototype.then=function(Z,Y){return this.exec().then(Z,Y)};S1.prototype.catch=function(Z){return this.exec().then(null,Z)};S1.prototype.finally=function(Z){return this.exec().finally(Z)};if(Symbol.asyncIterator!=null)S1.prototype[Symbol.asyncIterator]=function(){return this.cursor({useMongooseAggCursor:!0}).transformNull()._transformForAsyncIterator()};/*!
 * Helpers
 */S1._prepareDiscriminatorPipeline=CA;/*!
 * Exports
 */Ba.exports=S1});var Ia=R((L00,Na)=>{var Uj1=N0();class Aa{constructor(Z){if(Z==null)return;Object.assign(this,Uj1(Z))}}Na.exports=Aa});var Pa=R((R00,Da)=>{Da.exports=function Z(Y,J){const X=Object.keys(J.paths),$=X.length;for(let W=0;W<$;++W){let G="";const Q=X[W],K=J.paths[Q],H=K.splitPath(),z=H.length;let F=Y;for(let U=0;U<z;++U){if(F==null)break;const q=H[U];if(G+=(!G.length?"":".")+q,U===z-1){if(typeof F[q]!=="undefined"){if(K.$isSingleNested)Z(F[q],K.caster.schema);else if(K.$isMongooseDocumentArray&&Array.isArray(F[q]))F[q].forEach((L)=>Z(L,K.schema));break}const V=K.getDefault(Y,!1,{skipCast:!0});if(typeof V!=="undefined"){if(F[q]=V,K.$isSingleNested)Z(V,K.caster.schema);else if(K.$isMongooseDocumentArray&&Array.isArray(V))V.forEach((L)=>Z(L,K.schema))}}else{if(F[q]==null)F[q]={};F=F[q]}}}}});var Ca=R((w00,Ta)=>{var qj1=V0(),Vj1=H1();Ta.exports=function Z(Y,J){const X=jA();function $(W,G){Object.defineProperty(Y.prototype,W,{get:function(){const Q={};for(let K in G.methods[W])Q[K]=G.methods[W][K].bind(this);return Q},configurable:!0})}for(let W of Object.keys(J.methods)){const G=J.methods[W];if(J.tree.hasOwnProperty(W))throw new Error('You have a method and a property in your schema both named "'+W+'"');if(typeof G==="function"&&X.prototype[W]===G){delete J.methods[W];continue}if(J.reserved[W]&&!qj1(J,`methodOptions.${W}.suppressWarning`,!1))Vj1.warn(`mongoose: the method name "${W}" is used by mongoose `+"internally, overwriting it may cause bugs. If you\'re sure you know what you\'re doing, you can suppress this error by using "+`\`schema.method('${W}', fn, { suppressWarning: true })\`.`);if(typeof G==="function")Y.prototype[W]=G;else $(W,J)}Y.$appliedMethods=!0;for(let W of Object.keys(J.paths)){const G=J.paths[W];if(G.$isSingleNested&&!G.caster.$appliedMethods)Z(G.caster,G.schema);if(G.$isMongooseDocumentArray&&!G.Constructor.$appliedMethods)Z(G.Constructor,G.schema)}}});var Oa=R((M00,ja)=>{var OA=function(Z,Y,J,X,$){if(Z==null||typeof Z!=="object")return Z;const W={...Z};X=$?X||{}:Y;for(let G of Object.keys(W)){const Q=$?$+"."+G:G;if(Y.hasOwnProperty(Q)||X.hasOwnProperty(G))if(rH(Y[Q])||rH(X[G]))W[G]=OA(W[G],Y,J,X[G],Q);else delete W[G];else if(J[Q])W[G]=OA(W[G],Y,J,X[G],Q)}return W},SA=function(Z,Y,J,X,$){if(Z==null||typeof Z!=="object")return Z;const W={...Z};X=$?X||{}:Y;for(let G of Object.keys(W)){const Q=$?$+"."+G:G;if(Y.hasOwnProperty(Q)||X.hasOwnProperty(G)){if(rH(Y[Q])||rH(X[G]))W[G]=SA(W[G],Y,J,X[G],Q);continue}else if(J[Q])W[G]=SA(W[G],Y,J,X[G],Q);else delete W[G]}return W},Ea=bw(),Lj1=_J(),Rj1=uH(),rH=H1().isPOJO;ja.exports=function Z(Y,J,X){if(J==null)return Y;if(Y==null)return Y;let $=null;if(Rj1(J))$=!1;else if(Lj1(J))$=!0;if($==null)return Y;else if($)return X=X||Ea(J),OA(Y,J,X);else return X=X||Ea(J),SA(Y,J,X)}});var ka=R((B00,Sa)=>{Sa.exports=function Z(Y){let J=!1;for(let X of Object.keys(Y))if(Y[X]==="text")J=!0;return J}});var xa=R((A00,_a)=>{var wj1=ka();_a.exports=function Z(Y,J,X){if(wj1(Y))return;if(X.hasOwnProperty("collation")&&!J.hasOwnProperty("collation"))J.collation=X.collation}});var ya=R((N00,fa)=>{var Mj1=GH().middlewareFunctions,Bj1=xK();fa.exports=function Z(Y,J,X){const $={useErrorHandlers:!0,numCallbackParams:1};J=J.filter((W)=>{if(Mj1.indexOf(W.name)!==-1)return!!W.model;return W.model!==!1}),Y.$__insertMany=J.createWrapper("insertMany",Y.$__insertMany,Y,$);for(let W of Object.keys(X))if(J.hasHooks(W)){const G=Y[W];Y[W]=function(){const Q=arguments.length,K=Q>0?arguments[Q-1]:null,H=typeof K==="function"?K:null,z=Array.prototype.slice.call(arguments,0,H==null?Q:Q-1);return Bj1(H,(F)=>{J.execPre(W,Y,z,function(U){if(U!=null)return F(U);let q=0;const V=G.apply(Y,z.concat(L));if(V!=null&&typeof V.then==="function")V.then((w)=>L(null,w),(w)=>L(w));function L(w,B){if(q++>0)return;if(w!=null)return F(w);J.execPost(W,Y,[B],function(A){if(A!=null)return F(A);F(null,B)})}})},Y.events)}}}});var ba=R((I00,ga)=>{ga.exports=function Z(Y,J){for(let X in J.statics)Y[X]=J.statics[X]}});var tH=R((D00,va)=>{va.exports=function Z(Y){if(!(this instanceof Z))return new Z(Y);return this.val=Y,this}});var r$=R((P00,ha)=>{/*!
 * ignore
 */ha.exports=new WeakMap});var ca=R((T00,da)=>{var ua=function(Z,Y,J,X,$){const W=[],G=X.isVirtual&&X.justOne&&Z.length>1?!1:X.sort&&Z.length>1,Q=X.$nullIfNotFound;let K,H,z;if(Ij1.isMongooseArray(Z))Z=Z.__array;let F=0;const U=Z.length;if(G&&$&&X[oH]===void 0){X[oH]=!1;for(let q in J)if(Array.isArray(J[q])){X[oH]=!0;break}}for(F=0;F<U;++F){if(z=Z[F],Array.isArray(z)){ua(z,Y,J,X,!0),W.push(z);continue}if(z===null&&G===!1){W.push(z);continue}if(H=String(z),K=Y[H],X.clone&&K!=null)if(X.lean){const q=ma.get(K);K=Aj1(K),ma.set(K,q)}else K=K.constructor.hydrate(K._doc);if($)if(K)if(G){const q=J[H];if(X[oH])W.push(K);else W[q]=K}else W.push(K);else if(z!=null&&z[Nj1]!=null)W.push(z);else W.push(X.retainNullValues||Q?null:z);else W[F]=K||null}if(Z.length=0,W.length)W.forEach(function(q,V){Z[V]=q})},Aj1=N0(),ma=r$(),Nj1=$1().modelSymbol,Ij1=H1();da.exports=ua;var oH=Symbol("mongoose#assignRawDocsToIdStructure#hasArray")});var _A=R((C00,pa)=>{var kA=function(Z,Y){if(Z.virtuals[Y])return{virtual:Z.virtuals[Y],path:void 0};const J=Y.split(".");let X="",$="";for(let W=0;W<J.length;++W){if(X+=(X.length>0?".":"")+J[W],Z.virtuals[X]){if(W===J.length-1)return{virtual:Z.virtuals[X],path:$};continue}if(Z.nested[X])continue;if(Z.paths[X]&&Z.paths[X].schema){Z=Z.paths[X].schema;const G=J.slice(W+1).join(".");if(Z.virtuals[G]){if(W===J.length-2)return{virtual:Z.virtuals[G],nestedSchemaPath:[$,X].filter((Q)=>!!Q).join(".")};continue}if(W+1<J.length&&Z.discriminators)for(let Q of Object.keys(Z.discriminators)){const K=kA(Z.discriminators[Q],G);if(K!=null){const H=[$,X,K.nestedSchemaPath].filter((z)=>!!z).join(".");return{virtual:K.virtual,nestedSchemaPath:H}}}$+=($.length>0?".":"")+X,X="";continue}if(Z.discriminators)for(let G of Object.keys(Z.discriminators)){const Q=kA(Z.discriminators[G],Y);if(Q)return Q}return null}};pa.exports=kA;/*!
 * ignore
 */});var eH=R((E00,la)=>{la.exports=function Z(Y,J,X){if(Y==null)return Y;if(Y._doc!=null)Y=Y._doc;if(arguments.length>=3){if(typeof Y!=="object")return;if(X===void 0)return;if(Y instanceof Map)Y.set(J,X);else Y[J]=X;return X}if(J==="$*")return Y instanceof Map?Array.from(Y.values()):Object.keys(Y).map(($)=>Y[$]);if(Y instanceof Map)return Y.get(J);return Y[J]}});var na=R((Zz,ia)=>{(function(Z,Y){typeof Zz==="object"&&typeof ia!=="undefined"?Y(Zz):typeof define==="function"&&define.amd?define(["exports"],Y):(Z=Z||self,Y(Z.sift={}))})(Zz,function(Z){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Y=function(N,P){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,f){C.__proto__=f}||function(C,f){for(var t in f)if(Object.prototype.hasOwnProperty.call(f,t))C[t]=f[t]},Y(N,P)};function J(N,P){if(typeof P!=="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");Y(N,P);function C(){this.constructor=N}N.prototype=P===null?Object.create(P):(C.prototype=P.prototype,new C)}var X=function(N){var P="[object "+N+"]";return function(C){return $(C)===P}},$=function(N){return Object.prototype.toString.call(N)},W=function(N){if(N instanceof Date)return N.getTime();else if(G(N))return N.map(W);else if(N&&typeof N.toJSON==="function")return N.toJSON();return N},G=X("Array"),Q=X("Object"),K=X("Function"),H=function(N){return N&&(N.constructor===Object||N.constructor===Array||N.constructor.toString()==="function Object() { [native code] }"||N.constructor.toString()==="function Array() { [native code] }")&&!N.toJSON},z=function(N,P){if(N==null&&N==P)return!0;if(N===P)return!0;if(Object.prototype.toString.call(N)!==Object.prototype.toString.call(P))return!1;if(G(N)){if(N.length!==P.length)return!1;for(var C=0,f=N.length;C<f;C++)if(!z(N[C],P[C]))return!1;return!0}else if(Q(N)){if(Object.keys(N).length!==Object.keys(P).length)return!1;for(var t in N)if(!z(N[t],P[t]))return!1;return!0}return!1},F=function(N,P,C,f,t,G1){var L1=P[f];if(G(N)&&isNaN(Number(L1))){for(var C1=0,n8=N.length;C1<n8;C1++)if(!F(N[C1],P,C,f,C1,N))return!1}if(f===P.length||N==null)return C(N,t,G1,f===0);return F(N[L1],P,C,f+1,L1,N)},U=function(){function N(P,C,f,t){this.params=P,this.owneryQuery=C,this.options=f,this.name=t,this.init()}return N.prototype.init=function(){},N.prototype.reset=function(){this.done=!1,this.keep=!1},N}(),q=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t)||this;return L1.children=G1,L1}return P.prototype.reset=function(){this.keep=!1,this.done=!1;for(var C=0,f=this.children.length;C<f;C++)this.children[C].reset()},P.prototype.childrenNext=function(C,f,t,G1){var L1=!0,C1=!0;for(var n8=0,w7=this.children.length;n8<w7;n8++){var a8=this.children[n8];if(!a8.done)a8.next(C,f,t,G1);if(!a8.keep)C1=!1;if(a8.done){if(!a8.keep)break}else L1=!1}this.done=L1,this.keep=C1},P}(U),V=function(N){J(P,N);function P(C,f,t,G1,L1){var C1=N.call(this,C,f,t,G1)||this;return C1.name=L1,C1}return P}(q),L=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.next=function(C,f,t,G1){this.childrenNext(C,f,t,G1)},P}(q),w=function(N){J(P,N);function P(C,f,t,G1,L1){var C1=N.call(this,f,t,G1,L1)||this;return C1.keyPath=C,C1.propop=!0,C1._nextNestedValue=function(n8,w7,a8,t01){return C1.childrenNext(n8,w7,a8,t01),!C1.done},C1}return P.prototype.next=function(C,f,t){F(C,this.keyPath,this._nextNestedValue,0,f,t)},P}(q),B=function(N,P){if(N instanceof Function)return N;if(N instanceof RegExp)return function(f){var t=typeof f==="string"&&N.test(f);return N.lastIndex=0,t};var C=W(N);return function(f){return P(C,W(f))}},A=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){this._test=B(this.params,this.options.compare)},P.prototype.next=function(C,f,t){if(!Array.isArray(t)||t.hasOwnProperty(f)){if(this._test(C,f,t))this.done=!0,this.keep=!0}},P}(U),M=function(N,P,C){return new A(N,P,C)},I=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.next=function(){this.done=!0,this.keep=!1},P}(U),x=function(N){return function(P,C,f,t){if(P==null)return new I(P,C,f,t);return N(P,C,f,t)}},j=function(N){return x(function(P,C,f,t){var G1=typeof W(P),L1=N(P);return new A(function(C1){return typeof W(C1)===G1&&L1(C1)},C,f,t)})},E=function(N,P,C,f){var t=f.operations[N];if(!t)D(N);return t(P,C,f,N)},D=function(N){throw new Error("Unsupported operation: "+N)},l=function(N,P){for(var C in N)if(P.operations.hasOwnProperty(C)||C.charAt(0)==="$")return!0;return!1},b=function(N,P,C,f,t){if(l(P,t)){var G1=O(P,C,t),L1=G1[0],C1=G1[1];if(C1.length)throw new Error("Property queries must contain only operations, or exact objects.");return new w(N,P,f,t,L1)}return new w(N,P,f,t,[new A(P,f,t)])},_=function(N,P,C){if(P===void 0)P=null;var f=C===void 0?{}:C,t=f.compare,G1=f.operations,L1={compare:t||z,operations:Object.assign({},G1||{})},C1=O(N,null,L1),n8=C1[0],w7=C1[1],a8=[];if(n8.length)a8.push(new w([],N,P,L1,n8));if(a8.push.apply(a8,w7),a8.length===1)return a8[0];return new L(N,P,L1,a8)},O=function(N,P,C){var f=[],t=[];if(!H(N))return f.push(new A(N,N,C)),[f,t];for(var G1 in N)if(C.operations.hasOwnProperty(G1)){var L1=E(G1,N[G1],N,C);if(L1){if(!L1.propop&&P&&!C.operations[P])throw new Error("Malformed query. "+G1+" cannot be matched against property.")}if(L1!=null)f.push(L1)}else if(G1.charAt(0)==="$")D(G1);else t.push(b(G1.split("."),N[G1],G1,N,C));return[f,t]},k=function(N){return function(P,C,f){return N.reset(),N.next(P,C,f),N.keep}},i=function(N,P){if(P===void 0)P={};return k(_(N,null,P))},T1=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){this._test=B(this.params,this.options.compare)},P.prototype.reset=function(){N.prototype.reset.call(this),this.keep=!0},P.prototype.next=function(C){if(this._test(C))this.done=!0,this.keep=!1},P}(U),g=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){if(!this.params||typeof this.params!=="object")throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=_(this.params,this.owneryQuery,this.options)},P.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},P.prototype.next=function(C){if(G(C)){for(var f=0,t=C.length;f<t;f++){this._queryOperation.reset();var G1=C[f];this._queryOperation.next(G1,f,C,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},P}(U),s=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){this._queryOperation=_(this.params,this.owneryQuery,this.options)},P.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},P.prototype.next=function(C,f,t,G1){this._queryOperation.next(C,f,t,G1),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},P}(U),q1=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){},P.prototype.next=function(C){if(G(C)&&C.length===this.params)this.done=!0,this.keep=!0},P}(U),a1=function(N){if(N.length===0)throw new Error("$and/$or/$nor must be a nonempty array")},Y1=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!1,C}return P.prototype.init=function(){var C=this;a1(this.params),this._ops=this.params.map(function(f){return _(f,null,C.options)})},P.prototype.reset=function(){this.done=!1,this.keep=!1;for(var C=0,f=this._ops.length;C<f;C++)this._ops[C].reset()},P.prototype.next=function(C,f,t){var G1=!1,L1=!1;for(var C1=0,n8=this._ops.length;C1<n8;C1++){var w7=this._ops[C1];if(w7.next(C,f,t),w7.keep){G1=!0,L1=w7.keep;break}}this.keep=L1,this.done=G1},P}(U),h0=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!1,C}return P.prototype.next=function(C,f,t){N.prototype.next.call(this,C,f,t),this.keep=!this.keep},P}(Y1),s7=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){var C=this;this._testers=this.params.map(function(f){if(l(f,C.options))throw new Error("cannot nest $ under "+C.name.toLowerCase());return B(f,C.options.compare)})},P.prototype.next=function(C,f,t){var G1=!1,L1=!1;for(var C1=0,n8=this._testers.length;C1<n8;C1++){var w7=this._testers[C1];if(w7(C)){G1=!0,L1=!0;break}}this.keep=L1,this.done=G1},P}(U),TZ=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t,G1)||this;return L1.propop=!0,L1._in=new s7(C,f,t,G1),L1}return P.prototype.next=function(C,f,t,G1){if(this._in.next(C,f,t),G(t)&&!G1){if(this._in.keep)this.keep=!1,this.done=!0;else if(f==t.length-1)this.keep=!0,this.done=!0}else this.keep=!this._in.keep,this.done=!0},P.prototype.reset=function(){N.prototype.reset.call(this),this._in.reset()},P}(U),ZY=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.next=function(C,f,t){if(t.hasOwnProperty(f)===this.params)this.done=!0,this.keep=!0},P}(U),SW=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t,C.map(function(C1){return _(C1,f,t)}),G1)||this;return L1.propop=!1,a1(C),L1}return P.prototype.next=function(C,f,t,G1){this.childrenNext(C,f,t,G1)},P}(V),YY=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t,C.map(function(C1){return _(C1,f,t)}),G1)||this;return L1.propop=!0,L1}return P.prototype.next=function(C,f,t,G1){this.childrenNext(C,f,t,G1)},P}(V),kW=function(N,P,C){return new A(N,P,C)},i8=function(N,P,C,f){return new T1(N,P,C,f)},VX=function(N,P,C,f){return new Y1(N,P,C,f)},_W=function(N,P,C,f){return new h0(N,P,C,f)},LX=function(N,P,C,f){return new g(N,P,C,f)},RX=function(N,P,C,f){return new TZ(N,P,C,f)},CZ=function(N,P,C,f){return new s7(N,P,C,f)},EZ=j(function(N){return function(P){return P<N}}),xW=j(function(N){return function(P){return P<=N}}),U5=j(function(N){return function(P){return P>N}}),E4=j(function(N){return function(P){return P>=N}}),JY=function(N,P,C){var f=N[0],t=N[1];return new A(function(G1){return W(G1)%f===t},P,C)},fW=function(N,P,C,f){return new ZY(N,P,C,f)},wX=function(N,P,C){return new A(new RegExp(N,P.$options),P,C)},a2=function(N,P,C,f){return new s(N,P,C,f)},s2={number:function(N){return typeof N==="number"},string:function(N){return typeof N==="string"},bool:function(N){return typeof N==="boolean"},array:function(N){return Array.isArray(N)},null:function(N){return N===null},timestamp:function(N){return N instanceof Date}},r2=function(N,P,C){return new A(function(f){if(typeof N==="string"){if(!s2[N])throw new Error("Type alias does not exist");return s2[N](f)}return f!=null?f instanceof N||f.constructor===N:!1},P,C)},t2=function(N,P,C,f){return new SW(N,P,C,f)},o2=function(N,P,C,f){return new YY(N,P,C,f)},e2=function(N,P,C){return new q1(N,P,C,"$size")},ZI=function(){return null},YI=function(N,P,C){var f;if(K(N))f=N;else if(!process.env.CSP_ENABLED)f=new Function("obj","return "+N);else throw new Error("In CSP mode, sift does not support strings in \"$where\" condition");return new A(function(t){return f.bind(t)(t)},P,C)},s01=Object.freeze({__proto__:null,$Size:q1,$eq:kW,$ne:i8,$or:VX,$nor:_W,$elemMatch:LX,$nin:RX,$in:CZ,$lt:EZ,$lte:xW,$gt:U5,$gte:E4,$mod:JY,$exists:fW,$regex:wX,$not:a2,$type:r2,$and:t2,$all:o2,$size:e2,$options:ZI,$where:YI}),JI=function(N,P,C){var f=C===void 0?{}:C,t=f.compare,G1=f.operations;return _(N,P,{compare:t,operations:Object.assign({},s01,G1||{})})},r01=function(N,P){if(P===void 0)P={};var C=JI(N,null,P);return k(C)};Z.$Size=q1,Z.$all=o2,Z.$and=t2,Z.$elemMatch=LX,Z.$eq=kW,Z.$exists=fW,Z.$gt=U5,Z.$gte=E4,Z.$in=CZ,Z.$lt=EZ,Z.$lte=xW,Z.$mod=JY,Z.$ne=i8,Z.$nin=RX,Z.$nor=_W,Z.$not=a2,Z.$options=ZI,Z.$or=VX,Z.$regex=wX,Z.$size=e2,Z.$type=r2,Z.$where=YI,Z.EqualsOperation=A,Z.createDefaultQueryOperation=JI,Z.createEqualsOperation=M,Z.createOperationTester=k,Z.createQueryOperation=_,Z.createQueryTester=i,Z.default=r01,Object.defineProperty(Z,"__esModule",{value:!0})})});var sa=R((j00,xA)=>{var aa=na();xA.exports=aa.default;Object.assign(xA.exports,aa)});var Ys=R((O00,Zs)=>{var Oj1=function(Z){if(Array.isArray(Z)){if(Z.some((Y)=>Array.isArray(Y)||Y===null))return Z.map((Y)=>{if(Y==null)return 0;if(Array.isArray(Y))return Y.filter((J)=>J!=null).length;return 1});return Z.filter((Y)=>Y!=null).length}return Z==null?0:1},Jz=function(Z,Y,J,X){const $=typeof J.transform==="function",W=$?J.transform:Sj1;if(Array.isArray(Z)){const G=[],Q=Z.length;for(let z=0;z<Q;++z){let F=Z[z];const U=Array.isArray(X)?X[z]:X;if(!yA(F)&&(!J.retainNullValues||F!=null)&&!$)continue;else if(!J.retainNullValues&&F==null)continue;else if($)F=W(yA(F)?F:null,U);if(oa(F,Y),G.push(F),Y.originalLimit&&G.length>=Y.originalLimit)break}const K=G.length;while(Z.length>K)Array.prototype.pop.apply(Z,[]);let H=0;if(Xz.isMongooseArray(Z))for(H=0;H<K;++H)Z.set(H,G[H],!0);else for(H=0;H<K;++H)Z[H]=G[H];return Z}if(yA(Z)||Xz.isPOJO(Z))return oa(Z,Y),W(Z,X);if(Z instanceof Map)return Z;if(J.justOne===!1)return[];return Z==null?W(Z,X):W(null,X)},oa=function(Z,Y){if(Z!=null&&Y.excludeId)if(typeof Z.$__setValue==="function")delete Z._doc._id;else delete Z._id},yA=function(Z){if(Z==null)return!1;return Array.isArray(Z)||Z.$isMongooseMap||Z.$__!=null||ea.has(Z)},Sj1=function(Z){return Z},Dj1=KH(),Pj1=tH(),Tj1=ca(),Yz=V0(),Cj1=_A(),ea=r$(),ra=eH(),Ej1=dw(),fA=v7(),ta=sa().default,Xz=H1(),{populateModelSymbol:jj1}=$1();Zs.exports=function Z(Y){const J=Object.assign({},Yz(Y,"allOptions.options.options"),Yz(Y,"allOptions.options")),X=Object.assign({},Y.options,J,{justOne:Y.justOne,isVirtual:Y.isVirtual});X.$nullIfNotFound=Y.isVirtual;const $=Y.populatedModel,W=[].concat(Y.rawIds);Y.allIds=[].concat(Y.allIds),Tj1(Y.rawIds,Y.rawDocs,Y.rawOrder,X);const{docs:G,rawIds:Q,options:K}=Y,H=Y.count&&Y.isVirtual;let z;function F(U){if(H)return U;if(U instanceof Pj1)return U.val;if(U===void 0)return U;const q=Y.allIds[z];if(Y.path.endsWith(".$*"))return Jz(U,K,X,q);if(Y.justOne===!0&&Array.isArray(U)){const V=[];for(let L of U){const w=ea.get(L);if(w==null||w===$)V.push(L)}while(U.length>V.length)Array.prototype.pop.apply(U,[]);for(let L=0;L<V.length;++L)U[L]=V[L];return Jz(U[0],K,X,q)}else if(Y.justOne===!1&&!Array.isArray(U))return Jz([U],K,X,q);return Jz(U,K,X,q)}for(z=0;z<G.length;++z){const U=Y.path.endsWith(".$*")?Y.path.slice(0,-3):Y.path,q=fA.get(U,G[z],ra);if(q==null&&!Cj1(Y.originalModel.schema,U))continue;let V;if(H)V=Oj1(Q[z]);else if(Array.isArray(Y.match))V=Array.isArray(Q[z])?Q[z].filter(ta(Y.match[z])):[Q[z]].filter(ta(Y.match[z]))[0];else V=Q[z];const L=Y.originalModel.schema,w=Yz(G[z],"$__",null)!=null;let B=w?q instanceof Map:Xz.isPOJO(q);if(B=B&&Yz(L._getSchema(U),"$isSchemaMap"),!Y.isVirtual&&B){const I=q instanceof Map?Array.from(q.keys()):Object.keys(q);V=V.reduce((x,j,E)=>{return x.set(I[E],j),x},new Map)}if(w&&Array.isArray(V)){for(let I of V)if(I!=null&&I.$__!=null)I.$__.parent=G[z]}else if(w&&V!=null&&V.$__!=null)V.$__.parent=G[z];if(Y.isVirtual&&w){if(G[z].$populated(U,Y.justOne?W[0]:W,Y.allOptions),Array.isArray(V))V=V.map((I)=>I==null?void 0:I);fA.set(U,V,G[z],void 0,F,!1);continue}const A=U.split(".");let M=G[z];for(let I=0;I<A.length-1;++I){if(Array.isArray(M)&&!Xz.isArrayIndex(A[I]))break;if(A[I]==="$*")break;if(M[A[I]]==null){const x=A.slice(0,I+1).join("."),j=L._getSchema(x);if(V==null&&j!=null&&j.$isMongooseArray)break;M[A[I]]={}}if(M=M[A[I]],typeof M!=="object")break}if(G[z].$__){if(Y.allOptions.options[jj1]=Y.allOptions.model,G[z].$populated(U,Y.unpopulatedValues[z],Y.allOptions.options),V!=null&&V.$__!=null)V.$__.wasPopulated={value:Y.unpopulatedValues[z]};if(V instanceof Map&&!V.$isMongooseMap)V=new Dj1(V,U,G[z],G[z].schema.path(U).$__schemaType)}if(fA.set(U,V,G[z],ra,F,!1),G[z].$__)Ej1(G[z],[Y.allOptions.options])}}});var gA=R((S00,Js)=>{var kj1=iB();Js.exports=function Z(Y,J,X){if(!X||!(J&&J.upsert))return;if(!kj1(Y)[X])if(J.overwrite)Y[X]=0;else{if(!Y.$setOnInsert)Y.$setOnInsert={};Y.$setOnInsert[X]=0}}});var Hs=R((k00,Ks)=>{var o$=function(Z,Y){if(Z==null)return;if(Z.discriminatorMapping&&!Z.discriminatorMapping.isRoot)Y[Z.discriminatorMapping.key]=Z.discriminatorMapping.value},oJ=function(Z,Y){const J=Z.schema.options.discriminatorKey;if(Y!=null&&Y.hasOwnProperty(J))Z=xj1(Z.discriminators,Y[J])||Z;return Z},_j1=z0(),xj1=u7(),Xs=jM(),$s=OM(),t$=uJ(),Ws=YA(),Gs=gA(),{inspect:fj1}=import.meta.require("util"),Qs=LA();Ks.exports=function Z(Y,J,X){const $=Y.base.now(),W=Y.base.options.setDefaultsOnInsert;if(J.insertOne)return(G)=>{const Q=oJ(Y,J.insertOne.document),K=new Q(J.insertOne.document);if(Q.schema.options.timestamps&&X.timestamps!==!1)K.initializeTimestamps();if(X.session!=null)K.$session(X.session);const H=Q?.schema?.options?.versionKey;if(H&&K[H]==null)K[H]=0;if(J.insertOne.document=K,X.skipValidation||J.insertOne.skipValidation){G(null);return}J.insertOne.document.$validate().then(()=>{G(null)},(z)=>{G(z,null)})};else if(J.updateOne)return(G)=>{try{if(!J.updateOne.filter)throw new Error("Must provide a filter object.");if(!J.updateOne.update)throw new Error("Must provide an update object.");const Q=oJ(Y,J.updateOne.filter),K=Q.schema,H=X.strict!=null?X.strict:Q.schema.options.strict;if(o$(K,J.updateOne.filter),Q.schema.$timestamps!=null&&J.updateOne.timestamps!==!1){const F=Q.schema.$timestamps.createdAt,U=Q.schema.$timestamps.updatedAt;$s($,F,U,J.updateOne.update,{})}if(J.updateOne.timestamps!==!1)Xs($,J.updateOne.update,Q.schema);if((J.updateOne.setDefaultsOnInsert==null?W:J.updateOne.setDefaultsOnInsert)!==!1)Qs(J.updateOne.filter,Q.schema,J.updateOne.update,{setDefaultsOnInsert:!0,upsert:J.updateOne.upsert});Gs(J.updateOne.update,J.updateOne,Q.schema.options.versionKey),J.updateOne.filter=t$(Q.schema,J.updateOne.filter,{strict:H,upsert:J.updateOne.upsert}),J.updateOne.update=Ws(Q.schema,J.updateOne.update,{strict:H,upsert:J.updateOne.upsert},Q,J.updateOne.filter)}catch(Q){return G(Q,null)}G(null)};else if(J.updateMany)return(G)=>{try{if(!J.updateMany.filter)throw new Error("Must provide a filter object.");if(!J.updateMany.update)throw new Error("Must provide an update object.");const Q=oJ(Y,J.updateMany.filter),K=Q.schema,H=X.strict!=null?X.strict:Q.schema.options.strict;if((J.updateMany.setDefaultsOnInsert==null?W:J.updateMany.setDefaultsOnInsert)!==!1)Qs(J.updateMany.filter,Q.schema,J.updateMany.update,{setDefaultsOnInsert:!0,upsert:J.updateMany.upsert});if(Q.schema.$timestamps!=null&&J.updateMany.timestamps!==!1){const F=Q.schema.$timestamps.createdAt,U=Q.schema.$timestamps.updatedAt;$s($,F,U,J.updateMany.update,{})}if(J.updateMany.timestamps!==!1)Xs($,J.updateMany.update,Q.schema);o$(K,J.updateMany.filter),Gs(J.updateMany.update,J.updateMany,Q.schema.options.versionKey),J.updateMany.filter=t$(Q.schema,J.updateMany.filter,{strict:H,upsert:J.updateMany.upsert}),J.updateMany.update=Ws(Q.schema,J.updateMany.update,{strict:H,upsert:J.updateMany.upsert},Q,J.updateMany.filter)}catch(Q){return G(Q,null)}G(null)};else if(J.replaceOne)return(G)=>{const Q=oJ(Y,J.replaceOne.filter),K=Q.schema,H=X.strict!=null?X.strict:Q.schema.options.strict;o$(K,J.replaceOne.filter);try{J.replaceOne.filter=t$(Q.schema,J.replaceOne.filter,{strict:H,upsert:J.replaceOne.upsert})}catch(U){return G(U,null)}const z=new Q(J.replaceOne.replacement,H,!0);if(Q.schema.options.timestamps)z.initializeTimestamps();if(X.session!=null)z.$session(X.session);const F=Q?.schema?.options?.versionKey;if(F&&z[F]==null)z[F]=0;if(J.replaceOne.replacement=z,X.skipValidation||J.replaceOne.skipValidation){J.replaceOne.replacement=J.replaceOne.replacement.toBSON(),G(null);return}J.replaceOne.replacement.$validate().then(()=>{J.replaceOne.replacement=J.replaceOne.replacement.toBSON(),G(null)},(U)=>{G(U,null)})};else if(J.deleteOne)return(G)=>{const Q=oJ(Y,J.deleteOne.filter),K=Q.schema;o$(K,J.deleteOne.filter);try{J.deleteOne.filter=t$(Q.schema,J.deleteOne.filter)}catch(H){return G(H,null)}G(null)};else if(J.deleteMany)return(G)=>{const Q=oJ(Y,J.deleteMany.filter),K=Q.schema;o$(K,J.deleteMany.filter);try{J.deleteMany.filter=t$(Q.schema,J.deleteMany.filter)}catch(H){return G(H,null)}G(null)};else return(G)=>{const Q=new _j1(`Invalid op passed to \`bulkWrite()\`: ${fj1(J)}`);G(Q,null)}}});var qs=R((_00,Us)=>{var Fs=function(Z,Y,J){if(Z=Z.filter((X)=>!(X instanceof yj1)),!J)return Z;return Z.filter((X)=>{try{return Y.cast(X),!0}catch($){return!1}})},bj1=function(Z){if(Array.isArray(Z)){if(Z.length>1)return{$or:[].concat(Z.map((Y)=>Object.assign({},Y)))};return Object.assign({},Z[0])}return Object.assign({},Z)},yj1=tH(),gj1=dK(),{trusted:$z}=kY(),zs=qA();Us.exports=function Z(Y,J,X,$,W){const G=bj1(J);if(X.size===1){const Q=Array.from(X)[0],K=$.schema.path(Q);if(Q!=="_id"||!G._id)Y=Fs(Y,K,W),G[Q]=$z({$in:Y});else if(Q==="_id"&&G._id){const z=zs(G[Q])?G[Q]:{$eq:G[Q]};G[Q]={...$z({$in:Y}),...z}}const H=gj1(Q);for(let z=0;z<H.length-1;++z){const F=H[z];if(G[F]!=null&&G[F].$elemMatch!=null){G[F].$elemMatch[Q.slice(F.length+1)]=$z({$in:Y}),delete G[Q];break}}}else{const Q=[];if(Array.isArray(G.$or))G.$and=[{$or:G.$or},{$or:Q}],delete G.$or;else G.$or=Q;for(let K of X)if(K!=="_id"||!G._id){const H=$.schema.path(K);Y=Fs(Y,H,W),Q.push({[K]:{$in:Y}})}else if(K==="_id"&&G._id){const H=zs(G[K])?G[K]:{$eq:G[K]};G[K]={...$z({$in:Y}),...H}}}return G}});var Ls=R((x00,Vs)=>{var vj1=function(){return{result:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},insertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,upsertedCount:0,upsertedIds:{},insertedIds:{},n:0}};Vs.exports=vj1});var ws=R((f00,Rs)=>{Rs.exports=function Z(Y){if(Y==null)return null;return Object.keys(Y)[0]}});var Ns=R((y00,As)=>{/*!
 * ignore
 */var Ms=j9(),hj1=V0(),mj1=u7(),Bs=r$(),eJ=v7(),uj1=$1().populateModelSymbol;As.exports=function Z(Y,J,X,$){const W=J.path($),G=X;if(W)return W;const Q=J.discriminatorMapping&&J.discriminatorMapping.key;if(Q&&Y!=null){if(X!=null&&X[Q]!=null){const z=mj1(Y.discriminators,X[Q]);J=z?z.schema:J}else if(Y.discriminators!=null)return Object.keys(Y.discriminators).reduce((z,F)=>{const U=Y.discriminators[F];return z.concat(Z(U,U.schema,null,$))},[])}function K(z,F,U,q){let V=z.length+1,L,w;while(V--){if(w=z.slice(0,V).join("."),L=F.path(w),L==null)continue;if(L.caster){if(L.caster instanceof Ms)return L.caster;let M=null;if(L.schema!=null&&L.schema.discriminators!=null){const I=L.schema.discriminators,x=w+"."+L.schema.options.discriminatorKey,j=U?eJ.get(x,U)||[]:[];M=Object.keys(I).reduce(function(E,D){const l=I[D].discriminatorMapping.value;if(X==null||j.indexOf(D)!==-1||j.indexOf(l)!==-1)E.push(I[D]);return E},[])}if(V!==z.length&&L.schema){let I;if(z[V]==="$"){if(V+1===z.length)return L;if(I=K(z.slice(V+1),F,U?eJ.get(w,U):null,q.concat(z.slice(0,V))),I)I.$parentSchemaDocArray=I.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L);return I}if(M!=null&&M.length>0){I=[];for(let x of M){const j=K(z.slice(V),x,U?eJ.get(w,U):null,q.concat(z.slice(0,V)));if(j!=null){if(j.$parentSchemaDocArray=j.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L),j.$parentSchemaDocArray)I.$parentSchemaDocArray=j.$parentSchemaDocArray;I.push(j)}}return I}else{if(I=K(z.slice(V),L.schema,U?eJ.get(w,U):null,q.concat(z.slice(0,V))),I)I.$parentSchemaDocArray=I.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L);return I}}else if(V!==z.length&&L.$isMongooseArray&&L.casterConstructor.$isMongooseArray){let I=L;while(I.$isMongooseArray&&!I.$isMongooseDocumentArray)I=I.casterConstructor;const x=K(z.slice(V),I.schema,null,q.concat(z.slice(0,V)));if(x!=null)return x;if(I.schema.discriminators){const j=[];for(let E of Object.keys(I.schema.discriminators)){const D=I.schema.discriminators[E]||I.schema,l=K(z.slice(V),D,null,q.concat(z.slice(0,V)));if(l!=null)j.push(l)}if(j.length>0)return j}}}else if(L.$isSchemaMap&&L.$__schemaType instanceof Ms)return L.$__schemaType;const B=q.concat([w]).join(".");if(G!=null&&G.$__&&G.$populated(B)&&V<z.length){const M=X.$__.populated[B].options[uj1];if(M!=null)return K(z.slice(V),M.schema,U?eJ.get(w,U):null,q.concat(z.slice(0,V)))}const A=hj1(G,w);if(A!=null){const M=Array.isArray(A)&&A.length>0?Bs.get(A[0]):Bs.get(A),I=M!=null?M.schema:null;if(I!=null){const x=K(z.slice(V),I,U?eJ.get(w,U):null,q.concat(z.slice(0,V)));if(x!=null)return x.$parentSchemaDocArray=x.$parentSchemaDocArray||(I.$isSingleNested?null:I),x}}return L}}const H=$.split(".");for(let z=0;z<H.length;++z)if(H[z]==="$")H[z]="0";return K(H,J,X,[])}});var bA=R((g00,Is)=>{var dj1=kJ();Is.exports=function Z(Y,J){if(Y==null)return!1;if(J==="_id")return Y._id===0;const X=Object.keys(Y);let $=null;for(let W of X)if(dj1(Y[W])){$=Y[J]===1?"inclusive":"exclusive";break}if($==="inclusive")return Y[J]!==1;if($==="exclusive")return Y[J]===0;return!1}});var js=R((b00,Es)=>{var cj1=z0(),pj1=bA(),Ds=eH(),Ps=v7(),lj1=import.meta.require("util"),Ts=H1(),Cs=/(\.\d+$|\.\d+\.)/g;Es.exports=function Z(Y,J,X,$,W){if(Y==null)return[];if(typeof Y==="string"&&W!=null&&pj1(W,Y))throw new cj1("refPath `"+Y+"` must not be excluded in projection, got "+lj1.inspect(W));if(Cs.test(X)){const K=X.split(Cs);if(K[K.length-1]==="")throw new Error("Can\'t populate individual element in an array");let H="",z=Y;for(let q=0;q<K.length;q+=2){const V=K[q];if(z.startsWith(V+"."))H+=z.substring(0,V.length)+K[q+1],z=z.substring(V.length+1);else if(q===K.length-1){H+=z,z="";break}else throw new Error("Could not normalize ref path, chunk "+V+" not in populated path")}const F=Ps.get(H,J,Ds);let U=Array.isArray(F)?F:[F];return U=Ts.array.flatten(U),U}const G=Ps.get(Y,J,Ds);let Q;if($!=null&&$.virtuals.hasOwnProperty(Y))Q=[$.virtuals[Y].applyGetters(void 0,J)];else Q=Array.isArray(G)?G:[G];return Q=Ts.array.flatten(Q),Q}});var fs=R((v00,xs)=>{var oj1=function(Z,Y,J,X){const $=[],W={},G=X.virtual;for(let Q of Y){let K=null;const H={};let z;const F=X.nestedSchemaPath?X.nestedSchemaPath+".":"";if(typeof J.localField==="string")z=J.localField;else if(typeof G.options.localField==="function")z=F+G.options.localField.call(Q,Q);else if(Array.isArray(G.options.localField))z=G.options.localField.map((A)=>F+A);else z=F+G.options.localField;if(H.count=G.options.count,G.options.skip!=null&&!J.hasOwnProperty("skip"))J.skip=G.options.skip;if(G.options.limit!=null&&!J.hasOwnProperty("limit"))J.limit=G.options.limit;if(G.options.perDocumentLimit!=null&&!J.hasOwnProperty("perDocumentLimit"))J.perDocumentLimit=G.options.perDocumentLimit;let U=G.options.foreignField;if(!z||!U)return new Ss(`Cannot populate virtual \`${J.path}\` on model \`${Z.modelName}\`, because options \`localField\` and / or \`foreignField\` are missing`);if(typeof z==="function")z=z.call(Q,Q);if(typeof U==="function")U=U.call(Q,Q);H.isRefPath=!1;let q=null;if("justOne"in J&&J.justOne!==void 0)q=J.justOne;if(G.options.refPath)K=e$(G.options.refPath,Q,J.path),q=!!G.options.justOne,H.isRefPath=!0;else if(G.options.ref){let A;if(typeof G.options.ref==="function"&&!G.options.ref[Wz])A=G.options.ref.call(Q,Q);else A=G.options.ref;if(q=!!G.options.justOne,Array.isArray(A))K=A;else K=[A]}H.isVirtual=!0,H.virtual=G,H.justOne=q;const V=q7(H,"virtual.options.match",null)||q7(H,"virtual.options.options.match",null);let L=q7(J,"match",null)||V,w=typeof L==="function";if(w)L=L.call(Q,Q,H.virtual);if(Array.isArray(z)&&Array.isArray(U)&&z.length===U.length){L=Object.assign({},L);for(let A=1;A<z.length;++A)L[U[A]]=_s(m9.get(z[A],Q,ZW),Z.schema),w=!0;z=z[0],U=U[0]}H.localField=z,H.foreignField=U,H.match=L,H.hasMatchFunction=w;const B=ks(Q,z,Z,J,G);try{uA(Z,$,W,K,J,H,B,Q)}catch(A){return A}}return $},uA=function(Z,Y,J,X,$,W,G,Q,K,H){const z=$.connection!=null?$.connection:Z.db;if(H=H===void 0?G:H,Array.isArray(H))H=c8.cloneArrays(H);if(X==null)return;let F=X.length;while(F--){const U=X[F];if(U==null)continue;let q;if($.model&&$.model[Wz])q=$.model;else if(U[Wz])q=U;else try{q=dA(z,U)}catch(A){if(G!==void 0)throw A;q=null}let V=G;const L=Array.isArray(G)?c8.array.flatten(G):[],w=W.modelNamesInOrder?W.modelNamesInOrder:X;if(W.isRefPath&&Array.isArray(G)&&L.length===w.length)V=L.filter((A,M)=>w[M]===U);const B=$.perDocumentLimit==null?q7($,"options.perDocumentLimit",null):$.perDocumentLimit;if(!J[U]||B!=null){const A={model:q};if(W.isVirtual&&q7(W.virtual,"options.options"))A.options=nj1(W.virtual.options.options);else if(K!=null)A.options=Object.assign({},K);c8.merge(A,$),$[vA]=q,A[vA]=q,J[U]={model:q,options:A,match:W.hasMatchFunction?[W.match]:W.match,docs:[Q],ids:[V],allIds:[G],unpopulatedValues:[H],localField:new Set([W.localField]),foreignField:new Set([W.foreignField]),justOne:W.justOne,isVirtual:W.isVirtual,virtual:W.virtual,count:W.count,[vA]:q},Y.push(J[U])}else if(J[U].localField.add(W.localField),J[U].foreignField.add(W.foreignField),J[U].docs.push(Q),J[U].ids.push(V),J[U].allIds.push(G),J[U].unpopulatedValues.push(H),W.hasMatchFunction)J[U].match.push(W.match)}},dA=function(Z,Y){if(Z.models[Y]==null&&Z._parent!=null)return dA(Z._parent,Y);return Z.model(Y)},hA=function(Z,Y){if(typeof Z==="function"&&!Z[Wz])return Z.call(Y,Y);return Z},ks=function(Z,Y,J,X,$,W){const G=J.schema._getPathType(Y),Q=G==="real"?J.schema.path(Y):G.schema,K=Q&&Q.getters?Q.getters:[];Y=Q!=null&&Q.instance==="Embedded"?Y+"._id":Y;const H=q7(X,"options",{}),z="getters"in H?H.getters:q7($,"options.getters",!1);if(K.length!==0&&z){const F=Z.$__!=null?Z:J.hydrate(Z),U=c8.getValue(Y,Z);if(Array.isArray(U)){const q=c8.getValue(Y.split(".").slice(0,-1),F);return U.map((V,L)=>Q.applyGetters(V,q[L]))}else return Q.applyGetters(U,F)}else return _s(m9.get(Y,Z,ZW),W)},_s=function(Z,Y){if(Z!=null&&Z.$__!=null)return Z._id;if(Z!=null&&Z._id!=null&&(Y==null||!Y.$isSchemaMap))return Z._id;if(Array.isArray(Z)){const J=Z.__array!=null?Z.__array:Z;for(let X=0;X<J.length;++X)if(J[X]!=null&&J[X].$__!=null)J[X]=J[X]._id;if(c8.isMongooseArray(Z)&&Z.$schema())return Z.$schema()._castForPopulate(Z,Z.$parent());return[].concat(Z)}if(sj1(Z)==="Object"&&(Y==null||Y[mA]==null)){const J=[];for(let X of Object.keys(Z))J.push(Z[X]);return J}if(Z instanceof Map)return Array.from(Z.values());return Z},ej1=function(Z,Y,J,X,$,W){if(!J.isRefPath||$==null)return;const G=$.split(".");let Q="",K=void 0;for(let H=0;H<G.length;++H){const z=G[H];Q=Q+(Q.length===0?"":".")+z;const F=Y.path(Q);if(F!=null&&F.$isMongooseArray&&F.caster.discriminators!=null&&Object.keys(F.caster.discriminators).length!==0){const U=c8.getValue(Q,Z),q=X.path.substring(Q.length+1),V=F.caster.schema.options.discriminatorKey;K=[];for(let L of U){const w=c8.getValue(V,L),B=F.caster.discriminators[w],A=B&&B.schema;if(A==null)continue;const M=A.path(q);if(M==null||M.options.refPath==null){const x=c8.getValue(J.localField.substring(Q.length+1),L);W.forEach((j,E)=>{if(j===x)W[E]=ij1(j)});continue}const I=c8.getValue(G.slice(H+1).join("."),L);K.push(I)}}}return K},Ss=e1(),ij1=tH(),nj1=N0(),q7=V0(),aj1=u7(),sj1=Q6(),Os=Ns(),rj1=_A(),ZW=eH(),m9=v7(),e$=js(),c8=H1(),Wz=$1().modelSymbol,vA=$1().populateModelSymbol,mA=E9().schemaMixedSymbol,tj1=jw();xs.exports=function Z(Y,J,X){let $;const W=J.length,G=[],Q=X.model&&X.model.modelName||X.model;let K,H,z;const F={},U=Y.schema;if(X._localModel!=null&&X._localModel.schema.nested[X.path])return[];const q=rj1(Y.schema,X.path);if((q==null?null:q.virtual)!=null)return oj1(Y,J,X,q);let L=Os(Y,U,null,X.path);if(L=Array.isArray(L)?L:[L].filter((A)=>A!=null),!(X.strictPopulate===!1||X.options?.strictPopulate===!1)&&L.length===0&&X._localModel!=null)return new tj1(X._fullPath||X.path);for(let A=0;A<W;A++){$=J[A];let M=null;const I=$!=null&&$.$__!=null?$.$__schema:U;if(K=Os(Y,I,$,X.path),K!=null&&K.$isMongooseDocumentArray&&K.options.ref==null&&K.options.refPath==null)continue;if(K&&K.$parentSchemaDocArray&&q7(X,"options.sort")!=null)return new Ss("Cannot populate with `sort` on path "+X.path+" because it is a subproperty of a document array");z=null;let j=!1,E=null,D=null,l=null;if(K!=null&&K.instance==="Embedded"){if(K.options.ref){const s={localField:X.path+"._id",foreignField:"_id",justOne:!0},q1=B($,K,Q,Y),a1=m9.get(X.path,$),Y1=m9.get("_id",a1);uA(Y,G,F,q1.modelNames,X,s,Y1,$,D,a1)}continue}if(Array.isArray(K)){const s=K;for(let q1 of s){let a1,Y1;try{Y1=B($,q1,Q,Y),a1=Y1.modelNames,j=j||Y1.isRefPath,E=E||Y1.refPath,M=Y1.justOne}catch(h0){return h0}if(j&&!Y1.isRefPath)continue;if(!a1)continue;z=z||[];for(let h0 of a1)if(z.indexOf(h0)===-1)z.push(h0)}}else{try{const s=B($,K,Q,Y);if(z=s.modelNames,j=s.isRefPath,E=E||s.refPath,M=s.justOne,D=q7(K,"options.populate",null),j)l=z,z=Array.from(new Set(z))}catch(s){return s}if(!z)continue}const b={},_=X.path,O="_id";if("justOne"in X&&X.justOne!==void 0)M=X.justOne;else if(K&&!K[mA]){if(X.path.endsWith("."+K.path)||X.path===K.path)M=Array.isArray(K)?K.every((s)=>!s.$isMongooseArray):!K.$isMongooseArray}if(!z)continue;b.isVirtual=!1,b.justOne=M,b.localField=_,b.foreignField=O;const k=ks($,_,Y,X,null,K),i=String(c8.getValue(O,$));X._docs[i]=Array.isArray(k)?k.slice():k;let T1=q7(X,"match",null);const g=typeof T1==="function";if(g)T1=T1.call($,$);if(b.match=T1,b.hasMatchFunction=g,b.isRefPath=j,b.modelNamesInOrder=l,j)z=ej1($,U,b,X,E,k)||z;try{uA(Y,G,F,z,X,b,k,$,D)}catch(s){return s}}return G;function B(A,M,I,x){let j,E=!1,D=null;const l=M;if(M&&M.instance==="Array")M=M.caster;if(M&&M.$isSchemaMap)M=M.$__schemaType;const b=M&&M.options&&M.options.ref;if(H=M&&M.options&&M.options.refPath,M!=null&&M[mA]&&!b&&!H&&!I)return{modelNames:null};if(I)j=[I];else if(H!=null){if(typeof H==="function"){const _=X.path.slice(0,X.path.length-M.path.length-1),O=m9.get(_,A,ZW),k=Array.isArray(O)?c8.array.flatten(O):O?[O]:[];j=new Set;for(let i of k)H=H.call(i,i,X.path),e$(H,A,X.path,U,X._queryProjection).forEach((T1)=>j.add(T1));j=Array.from(j)}else j=e$(H,A,X.path,U,X._queryProjection);E=!0}else{let _,O,k,i,T1=x;const g=x.schema.options.discriminatorKey;if(!M&&g&&(i=c8.getValue(g,A))){const s=aj1(x.discriminators,i)||x;if(s!=null)T1=s;else try{T1=dA(x.db,i)}catch(q1){return q1}if(k=T1.schema._getSchema(X.path),k&&k.caster)k=k.caster}else k=M;if(l&&l.path.endsWith(".$*"))D=!l.$isMongooseArray&&!l._arrayPath;else if(k!=null)D=!k.$isMongooseArray&&!k._arrayPath;if((_=q7(k,"options.ref"))!=null)if(k!=null&&typeof _==="function"&&X.path.endsWith("."+k.path)){j=new Set;const s=X.path.slice(0,X.path.length-k.path.length-1),q1=m9.get(s,A,ZW),a1=Array.isArray(q1)?c8.array.flatten(q1):q1?[q1]:[];for(let Y1 of a1)j.add(hA(_,Y1));if(a1.length===0)j=[hA(_,A)];else j=Array.from(j)}else _=hA(_,A),j=[_];else if((k=q7(M,"options.refPath"))!=null)if(E=!0,typeof O==="function"){const s=X.path.slice(0,X.path.length-k.path.length-1),q1=m9.get(s,A,ZW),a1=Array.isArray(q1)?c8.array.flatten(q1):q1?[q1]:[];j=new Set;for(let Y1 of a1)O=O.call(Y1,Y1,X.path),e$(O,A,X.path,U,X._queryProjection).forEach((h0)=>j.add(h0));j=Array.from(j)}else j=e$(O,A,X.path,U,X._queryProjection)}if(!j)if(X._localModel==null)j=[x.modelName];else return{modelNames:j,justOne:D,isRefPath:E,refPath:H};if(!Array.isArray(j))j=[j];return{modelNames:j,justOne:D,isRefPath:E,refPath:H}}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var gs=R((h00,ys)=>{var ZO1=V0();ys.exports=function Z(Y){if(Array.isArray(Y)){const X=Object.keys(Y[0]);return X.length===1&&X[0]==="_id"&&Y[0]._id!=="hashed"}if(typeof Y!=="object")return!1;const J=ZO1(Y,"key",{});return Object.keys(J).length===1&&J.hasOwnProperty("_id")}});var hs=R((m00,vs)=>{var Gz=V0(),bs=H1();vs.exports=function Z(Y,J,X){if(X.textIndexVersion!=null){delete X.key._fts,delete X.key._ftsx;const Q={...X.weights,...X.key};if(Object.keys(Q).length!==Object.keys(Y).length)return!1;for(let K of Object.keys(Q)){if(!(K in Y))return!1;const H=Q[K];if(H!==Gz(J,"weights."+K)&&!(H===1&&Gz(J,"weights."+K)==null))return!1}if(J.default_language!==X.default_language)return X.default_language==="english"&&J.default_language==null;return!0}const $=["unique","partialFilterExpression","sparse","expireAfterSeconds","collation"];for(let Q of $){if(!(Q in J)&&!(Q in X))continue;if(Q==="collation"){if(J[Q]==null||X[Q]==null)return J[Q]==null&&X[Q]==null;const K=Object.keys(J.collation),H=J.collation,z=X.collation;for(let F of K)if(Gz(H,F)!==Gz(z,F))return!1}else if(!bs.deepEqual(J[Q],X[Q]))return!1}const W=Object.keys(Y),G=Object.keys(X.key);if(W.length!==G.length)return!1;for(let Q=0;Q<W.length;++Q){if(W[Q]!==G[Q])return!1;if(!bs.deepEqual(Y[W[Q]],X.key[G[Q]]))return!1}return!0}});var cs=R((u00,ds)=>{var YO1=function(Z,Y){return us({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:Y,indexesType:"schema"})},JO1=function(Z,Y){return us({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:Y,indexesType:"db"})},us=function({baseModelName:Z,discriminatorMapping:Y,indexes:J,indexesType:X}){const $=Y&&Y.key,W=Y&&Y.value;if(!$)return J;if(Boolean(Z))return J.filter((Q)=>{const K=ms(Q,X);return K&&K[$]===W});return J.filter((Q)=>{const K=ms(Q,X);return!K||!K[$]})},ms=function(Z,Y){if(Y==="schema"){const J=Z[1];return J&&J.partialFilterExpression}return Z.partialFilterExpression};ds.exports={getRelatedSchemaIndexes:YO1,getRelatedDBIndexes:JO1}});var ls=R((d00,ps)=>{var XO1=function(Z,Y,J){let X=0,$=0,W=null;if(Y<=0)throw new Error("Limit must be positive");if(Z.length===0)return J(null,[]);for(let H=0;H<Z.length&&H<Y;++H)G();function G(){Z[$+X](K($+X)),++X}const Q=[];function K(H){return(z,F)=>{if(--X,++$,W!=null)return;if(z!=null)return W=z,J(W);if(Q[H]=F,$===Z.length)return J(null,Q);else if($+X<Z.length)G()}}};ps.exports=XO1;/*!
 * ignore
 */});var ns=R((c00,is)=>{is.exports=function Z(Y,J,X){if(J==null)return;for(let $=0;$<J.length;++$)if(Array.isArray(J[$]))Z(Y,J[$],X+"."+$);else Y.push(X+"."+$)}});var es=R((p00,os)=>{var as=V0(),ss=v7(),ts=UA();/*!
 * ignore
 */os.exports=function Z(Y,J,X){const $=ts(as(J,"select",null),!0)||ts(as(J,"options.select",null),!0);if($==null)return;for(let W of Y){if(!$.hasOwnProperty("-"+W))continue;for(let G of X)if(G.$__!=null)ss.unset(W,G._doc);else ss.unset(W,G)}}});var Yr=R((l00,Zr)=>{/*!
 * Module dependencies.
 */var $O1=e1();class cA extends $O1{constructor(Z,Y,J,X){let $=Z.map((W)=>W.message).join(", ");if($.length>200)$=$.slice(0,200)+"...";super(`${X} failed with ${Z.length} Mongoose validation errors: ${$}`);this.validationErrors=Z,this.results=Y,this.rawResult=J,this.operation=X}}Object.defineProperty(cA.prototype,"name",{value:"MongooseBulkWriteError"});/*!
 * exports
 */Zr.exports=cA});var jA=R((Ar,Nr)=>{var r=function(Z,Y,J){if(Y instanceof lA)throw new TypeError("2nd argument to `Model` must be a POJO or string, **not** a schema. Make sure you\'re calling `mongoose.model()`, not `mongoose.Model()`.");u9.call(this,Z,Y,J)},Br=function(Z,Y){if(Z.$where==null)return;for(let J of Object.keys(Z.$where))Y[J]=Z.$where[J]},vO1=function(Z,Y){const J=Z.$__schema.options.versionKey;if(!J)return null;const X=Z.$__getValue(J)||0;return new Hr(Z,X,Y)},hO1=function(Z,Y){const J=Z.$__schema.options.skipVersioning;if(!J)return!1;return Y=Y.replace(/\.\d+\./,"."),J[Y]},RZ=function(Z,Y,J,X,$,W){if(W||(W="$set"),!J[W])J[W]={};if(J[W][X.path]=$,Z.$__schema.options.versionKey===!1)return;if(hO1(Z,X.path))return;if(ZX===(ZX&Z.$__.version))return;if(Z.$__schema.options.optimisticConcurrency)return;switch(W){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}if(W==="$push"||W==="$addToSet"||W==="$pullAll"||W==="$pull")if(/\.\d+\.|\.\d+$/.test(X.path))Hz.call(Z);else Z.$__.version=2;else if(/^\$p/.test(W))Hz.call(Z);else if(Array.isArray($))Hz.call(Z);else if(/\.\d+\.|\.\d+$/.test(X.path))Z.$__.version=1},mO1=function(Z,Y,J,X,$){if(J.$set&&J.$set[X.path])return;if(typeof $.$__getAtomics==="function"){$.$__getAtomics().forEach(function(F){const U=F[0],q=F[1];RZ(Z,Y,J,X,q,U)});return}const W=$[rA],G=Object.keys(W);let Q=G.length,K,H;if(Q===0){if(l1.isMongooseObject($))$=$.toObject({depopulate:1,_isNested:!0});else if($.valueOf)$=$.valueOf();return RZ(Z,Y,J,X,$)}function z(F){return l1.isMongooseObject(F)?F.toObject({depopulate:1,_isNested:!0}):F}while(Q--){if(H=G[Q],K=W[H],l1.isMongooseObject(K))K=K.toObject({depopulate:!0,transform:!1,_isNested:!0});else if(Array.isArray(K))K=K.map(z);else if(K.valueOf)K=K.valueOf();if(H==="$addToSet")K={$each:K};RZ(Z,Y,J,X,K,H)}},uO1=function(Z,Y,J){const X=Z.$populated(Y,!0);if(!X&&Z.$__.selected){const W=Y.split(".")[0];if(Z.$__.selected[W+".$"])return W}if(!(X&&l1.isMongooseArray(J)))return;if(X.options.match||X.options.options&&l1.object.hasOwnProperty(X.options.options,"limit")||X.options.options&&X.options.options.skip||X.options.select&&(X.options.select._id===0||/\s?-_id\s?/.test(X.options.select))){const W=J[rA];if(Object.keys(W).length===0||W.$set||W.$pop)return Y}},Hz=function(){return this.$__.version=ZX,this},k1=function(Z,Y){if(Z==null||Z===global)throw new B1("`Model."+Y+"()` cannot run without a model as `this`. Make sure you are calling `MyModel."+Y+"()` where `MyModel` is a Mongoose model.");else if(Z[Mr]==null)throw new B1("`Model."+Y+"()` cannot run without a model as `this`. Make sure you are not calling `new Model."+Y+"()`")},dO1=function(Z,Y,J,X){const $=[];for(let[W,G]of Y){let Q=!1;const K=sA(Z,I4(G));for(let H of J){if(aA(H))continue;if(Lr(W,K,H)&&!X.includes(H.name)){Q=!0;break}}if(!Q)$.push(W)}return $},cO1=function(Z,Y,J){const X=[];for(let $ of J){let W=!1;if(aA($))continue;for(let[G,Q]of Y){const K=sA(Z,I4(Q));if(Fr(G,K,Z.options),Lr(G,K,$)){W=!0;break}}if(!W)X.push($.name)}return X};async function Qr(Z,Y){if(Z.length===0)return[];return await Promise.all(Z.map((J)=>Y.dropIndex(J))),Z}var pO1=function(Z,Y,J){const X=Z.schema.indexes();let $;Y=Y||{};const W=function(F){if(F&&!Z.$caught)Z.emit("error",F);Z.emit("index",F||$),J&&J(F||$)};for(let F of X)if(aA(F))l1.warn('mongoose: Cannot specify a custom index on `_id` for model name "'+Z.modelName+'", MongoDB does not allow overwriting the default `_id` index. See https://bit.ly/mongodb-id-index');if(!X.length){XW(function(){W()});return}const G=function(F,U,q,V){Z.emit("index-single-done",F,U,q,V)},Q=function(F,U){Z.emit("index-single-start",F,U)},K=Z.schema._baseSchema,H=K?K.indexes():[];XW(function(){if(Y._automatic&&!Z.collection.collection)Z.collection.addQueue(z,[]);else z()});function z(){if(Y._automatic){if(Z.schema.options.autoIndex===!1||Z.schema.options.autoIndex==null&&Z.db.config.autoIndex===!1)return W()}const F=X.shift();if(!F)return W();if(Y._automatic&&F[1]._autoIndex===!1)return z();if(H.find((V)=>l1.deepEqual(V,F)))return z();const U=I4(F[0]),q=I4(F[1]);if(delete q._autoIndex,sA(Z.schema,q),qr(Z.schema,q),Fr(U,q,Z.schema.options),Q(U,Y),"background"in Y)q.background=Y.background;if("toCreate"in Y){if(Y.toCreate.length===0)return W()}Z.collection.createIndex(U,q).then((V)=>{G(null,U,q,V),z()},(V)=>{if(!$)$=V;if(!Z.$caught)Z.emit("error",V);G(V,U,q),z()})}},YX=function(Z,Y){Z.$isNew=Y,Z.$emit("isNew",Y),Z.constructor.emit("isNew",Y);const J=Z.$getAllSubdocs();for(let X of J)X.$isNew=Y,X.$emit("isNew",Y)},lO1=function(Z){return new Promise((Y,J)=>{Z.schema.s.hooks.execPre("save",Z,(X)=>{if(X){J(X);return}Y()})})},iO1=function(Z){return new Promise((Y,J)=>{if(Z.$isNew)YX(Z,!1);Z.$__reset(),Z.schema.s.hooks.execPost("save",Z,[Z],{},(X)=>{if(X){J(X);return}Y()})})},oA=function(Z,Y,J,X,$){const W=new Z.Query({},{},Z,Z.collection);if(J instanceof u9)J=J.toObject();else J=I4(J);$=typeof $==="function"?$:I4($);const G=Z&&Z.schema&&Z.schema.options&&Z.schema.options.versionKey||null;return Vr(X,$,G),W[Y](J,X,$)},nO1=function(Z,Y,J,X,$){let W=J.length;if(J.length===0)return $(null,Y);for(let Q of J)rO1(Z,Y,Q,G);function G(Q){if(Q)return $(Q,null);if(--W)return;$(null,Y)}},rO1=function(Z,Y,J,X){const $=J;if(J.strictPopulate==null){if(J._localModel!=null&&J._localModel.schema._userProvidedOptions.strictPopulate!=null)$.strictPopulate=J._localModel.schema._userProvidedOptions.strictPopulate;else if(J._localModel!=null&&Z.base.options.strictPopulate!=null)$.strictPopulate=Z.base.options.strictPopulate;else if(Z.base.options.strictPopulate!=null)$.strictPopulate=Z.base.options.strictPopulate}if(!Array.isArray(Y))Y=[Y];if(Y.length===0||Y.every(l1.isNullOrUndefined))return X();const W=CO1(Z,Y,$);if(W instanceof B1)return XW(function(){X(W)});const G=W.length;let Q=[];function K(V){return V!==void 0}let H=G,z=!1;const F=[];for(let V=0;V<G;++V){const L=W[V];let w=L.options.select,B=l1.array.flatten(L.ids,K);B=l1.array.unique(B);const A={};if(A.sort=L&&L.options&&L.options.options&&L.options.options.sort||void 0,A.excludeId=aO1.test(w)||w&&w._id===0,L.options&&L.options.options&&L.options.options.lean&&L.options.options.lean.transform)L.options.options._leanTransform=L.options.options.lean.transform,L.options.options.lean=!0;if(B.length===0||B.every(l1.isNullOrUndefined)){--H,Kr(Z,[],L,A);continue}if(z=!0,typeof $.foreignField==="string")L.foreignField.clear(),L.foreignField.add($.foreignField);const M=NO1(B,L.match,L.foreignField,L.model,L.options.skipInvalidIds);if(A.excludeId)if(typeof w==="string")w=w.replace(sO1," ");else w=l1.object.shallowCopy(w),delete w._id;if(L.options.options&&L.options.options.limit!=null)A.originalLimit=L.options.options.limit;else if(L.options.limit!=null)A.originalLimit=L.options.limit;F.push([L,M,w,A,U])}if(!z){if(W.length!==0)return X();if($.populate!=null){const V=l1.populate($.populate).map((L)=>Object.assign({},L,{path:$.path+"."+L.path}));Z.populate(Y,V).then((L)=>{X(null,L)},(L)=>{X(L)});return}return X()}for(let V of F)tO1.apply(null,V);function U(V,L){if(V!=null)return X(V,null);if(Q=Q.concat(L),--H===0)q()}function q(){for(let V of F){const L=V[0],w=V[3];for(let B of Q)L.options._childDocs.push(B);try{Kr(Z,Q,L,w)}catch(B){return X(B)}}for(let V of F)fO1(V[0].foreignField,V[0].options,Q);for(let V of F){const L=V[0];if(L.options&&L.options.options&&L.options.options._leanTransform)for(let w of Q)L.options.options._leanTransform(w)}X()}},tO1=function(Z,Y,J,X,$){let W=I4(Z.options.populate);const G=Object.assign({skip:Z.options.skip,limit:Z.options.limit,perDocumentLimit:Z.options.perDocumentLimit},Z.options.options);if(Z.count)delete G.skip;if(G.perDocumentLimit!=null)G.limit=G.perDocumentLimit,delete G.perDocumentLimit;else if(G.limit!=null)G.limit=G.limit*Z.ids.length;const Q=Z.model.find(Y,J,G);for(let K of Z.foreignField)if(K!=="_id"&&Q.selectedInclusively()&&!OO1(Q._fields,K))Q.select(K);if(Z.count)for(let K of Z.foreignField)Q.select(K);if(W){if(Z.model.baseModelName!=null)if(Array.isArray(W))W.forEach((H)=>{H.strictPopulate=!1});else if(typeof W==="string")W={path:W,strictPopulate:!1};else W.strictPopulate=!1;const K=Z.options._fullPath||Z.options.path;if(Array.isArray(W))for(let H of W)H._fullPath=K+"."+H.path;else if(typeof W==="object")W._fullPath=K+"."+W.path;Q.populate(W)}Q.exec().then((K)=>{for(let H of K)SO1.set(H,Z.model);$(null,K)},(K)=>{$(K)})},Kr=function(Z,Y,J,X){const{options:$,isVirtual:W,justOne:G}=J;let Q;const K=$&&$.options&&$.options.lean||!1,H=Y.length,z={},F={};let U,q;const V=I4(J.allIds);for(let L=0;L<H;L++){if(q=Y[L],q==null)continue;for(let w of J.foreignField){if(Q=l1.getValue(w,q),Array.isArray(Q)){Q=l1.array.unique(l1.array.flatten(Q));for(let B of Q){if(B instanceof u9)B=B._id;if(U=String(B),F[U])if(Array.isArray(F[U]))F[U].push(q),z[U].push(L);else F[U]=[F[U],q],z[U]=[z[U],L];else if(W&&!G)F[U]=[q],z[U]=[L];else F[U]=q,z[U]=L}}else{if(Q instanceof u9)Q=Q._id;if(U=String(Q),F[U]){if(Array.isArray(F[U]))F[U].push(q),z[U].push(L);else if(W||F[U].constructor!==q.constructor||String(F[U]._id)!==String(q._id))F[U]=[F[U],q],z[U]=[z[U],L]}else F[U]=q,z[U]=L}if(!K)q.$__.wasPopulated=q.$__.wasPopulated||!0}}BO1({originalModel:Z,rawIds:J.isVirtual?V:J.allIds,allIds:V,unpopulatedValues:J.unpopulatedValues,foreignField:J.foreignField,rawDocs:F,rawOrder:z,docs:J.docs,path:$.path,options:X,justOne:J.justOne,isVirtual:J.isVirtual,allOptions:J,populatedModel:J.model,lean:K,virtual:J.virtual,count:J.count,match:J.match})},oO1=function(Z,Y){for(let J in Y)Z.Query.prototype[J]=Y[J]};/*!
 * Module dependencies.
 */var WO1=EA(),GO1=Kw(),u9=H6(),QO1=OK(),KO1=Tw(),pA=import.meta.require("events").EventEmitter,HO1=DJ(),zO1=T$(),B1=e1(),FO1=Aw(),Qz=aH(),UO1=Ia(),lA=gJ(),iA=T9(),Hr=Rw(),Jr=Mw(),qO1=gK(),VO1=Pa(),LO1=GH(),RO1=QH(),zr=Ca(),wO1=Oa(),Fr=xa(),MO1=ya(),Ur=ba(),qr=lB(),BO1=Ys(),AO1=Hs(),I4=N0(),NO1=qs(),Vr=gA(),Xr=Ls(),IO1=hK(),DO1=OH(),PO1=ws(),nA=eM(),JW=V0(),TO1=Q6(),Kz=u7(),CO1=fs(),XW=I6(),zz=M4().internalToObjectOptions,aA=gs(),Lr=hs(),{getRelatedDBIndexes:EO1,getRelatedSchemaIndexes:jO1}=cs(),$r=bA(),sA=DM(),OO1=uK(),SO1=r$(),kO1=ls(),_O1=dK(),xO1=PA(),Rr=ns(),fO1=es(),yO1=sB(),Wr=_Y(),Gr=import.meta.require("util"),l1=H1(),wr=Yr(),gO1=cw(),ZX=1|2,rA=$1().arrayAtomicsSymbol,Fz=Symbol("mongoose#Model#collection"),tA=Symbol("mongoose#Model#db"),Mr=$1().modelSymbol,YW=Symbol("mongoose#Model#subclassed"),bO1=Object.assign({},zz,{bson:!0,flattenObjectIds:!1});Object.setPrototypeOf(r.prototype,u9.prototype);r.prototype.$isMongooseModelPrototype=!0;r.prototype.db;r.prototype.collection;r.prototype.$__collection;r.prototype.modelName;r.prototype.$where;r.prototype.baseModelName;r.events;r._middleware;/*!
 * ignore
 *//*!
 * ignore
 */r.prototype.$__handleSave=function(Z,Y){const J={};if(qr(this.$__schema,Z),typeof Z.writeConcern!=="undefined"){if(J.writeConcern={},"w"in Z.writeConcern)J.writeConcern.w=Z.writeConcern.w;if("j"in Z.writeConcern)J.writeConcern.j=Z.writeConcern.j;if("wtimeout"in Z.writeConcern)J.writeConcern.wtimeout=Z.writeConcern.wtimeout}else{if("w"in Z)J.w=Z.w;if("j"in Z)J.j=Z.j;if("wtimeout"in Z)J.wtimeout=Z.wtimeout}if("checkKeys"in Z)J.checkKeys=Z.checkKeys;const X=this.$session();if(!J.hasOwnProperty("session")&&X!=null)J.session=X;if(this.$isNew){const G=this.toObject(bO1);if((G||{})._id===void 0){XW(function(){Y(new B1("document must have an _id before saving"))});return}this.$__version(!0,G),this[Fz].insertOne(G,J).then((Q)=>Y(null,Q),(Q)=>{YX(this,!0),Y(Q,null)}),this.$__reset(),YX(this,!1),this.$__.inserting=!0;return}this.$__.inserting=!1;const $=this.$__delta();if($){if($ instanceof B1){Y($);return}const G=this.$__where($[0]);if(G instanceof B1){Y(G);return}Br(this,G);const Q=$[1];if(this.$__schema.options.minimize){if(gO1(Q),Object.keys(Q).length===0){W.call(this);return}}this[Fz].updateOne(G,Q,J).then((K)=>{K.$where=G,Y(null,K)},(K)=>{this.$__undoReset(),Y(K)})}else{W.call(this);return}this.$__.modifiedPaths=this.modifiedPaths(),this.$__reset(),YX(this,!1);function W(){const G=Object.assign({},Z,J),Q=this.$__where(),K=this.$__schema.options.optimisticConcurrency;if(K&&!Array.isArray(K)){const H=this.$__schema.options.versionKey,z=this.$__getValue(H);if(z!=null)Q[H]=z}this.constructor.collection.findOne(Q,G).then((H)=>{Y(null,{$where:Q,matchedCount:!H?0:1})}).catch(Y)}};/*!
 * ignore
 */r.prototype.$__save=function(Z,Y){this.$__handleSave(Z,(J,X)=>{if(J)return this.$__schema.s.hooks.execPost("save:error",this,[this],{error:J},(Q)=>{Y(Q,this)});let $=0;if((Z!=null?Z.writeConcern!=null?Z.writeConcern.w:Z.w:0)!==0){if(X!=null)if(Array.isArray(X))$=X.length;else if(X.matchedCount!=null)$=X.matchedCount;else $=X;if(this.$__.version&&!this.$__.inserting){const Q=(2&this.$__.version)===2;this.$__.version=void 0;const K=this.$__schema.options.versionKey,H=this.$__getValue(K)||0;if($<=0){this.$__undoReset();const z=this.$__.$versionError||new Hr(this,H,this.$__.modifiedPaths);return Y(z)}if(Q)this.$__setValue(K,H+1)}if(X!=null&&$<=0)return this.$__undoReset(),J=new QO1(X.$where,this.constructor.modelName,$,X),this.$__schema.s.hooks.execPost("save:error",this,[this],{error:J},(K)=>{Y(K,this)})}this.$__.saving=void 0,this.$__.savedState={},this.$emit("save",this,$),this.constructor.emit("save",this,$),Y(null,this)})};/*!
 * ignore
 */r.prototype.save=async function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new B1("Model.prototype.save() no longer accepts a callback");let J;if(this.$op="save",this.$__.saving)J=new Jr(this);else this.$__.saving=new Jr(this);if(Y=new UO1(Y),Y.hasOwnProperty("session"))this.$session(Y.session);if(this.$__.timestamps!=null)Y.timestamps=this.$__.timestamps;if(this.$__.$versionError=vO1(this,this.modifiedPaths()),J)throw this.$__handleReject(J),J;return this.$__.saveOptions=Y,await new Promise((X,$)=>{this.$__save(Y,(W)=>{if(this.$__.saving=null,this.$__.saveOptions=null,this.$__.$versionError=null,this.$op=null,W!=null)return this.$__handleReject(W),$(W);X()})}),this};r.prototype.$save=r.prototype.save;r.prototype.$__delta=function(){const Z=this.$__dirty(),Y=this.$__schema.options.optimisticConcurrency;if(Y)if(Array.isArray(Y)){const Q=new Set(Y);if(this.modifiedPaths().find((H)=>Q.has(H)))this.$__.version=Z.length?ZX:1}else this.$__.version=Z.length?ZX:1;if(!Z.length&&ZX!==this.$__.version)return;const J={},X={},$=Z.length,W=[];let G=0;if(J._id=this._doc._id,(J&&J._id&&J._id.$__||null)!=null)J._id=J._id.toObject({transform:!1,depopulate:!0});for(;G<$;++G){const Q=Z[G];let K=Q.value;const H=uO1(this,Q.path,K);if(H){W.push(H);continue}if(!this.$populated(Q.path,!0)&&this.$__.selected){const F=Q.path.split("."),U=F[0];if(this.$__.selected[U]&&this.$__.selected[U].$elemMatch)if(F.length>1&&F[1]==0&&typeof J[U]==="undefined")J[U]=this.$__.selected[U],F[1]="$",Q.path=F.join(".");else{W.push(Q.path);continue}}if(this.$isDefault(Q.path)&&this.$__.selected){if(Q.path.indexOf(".")===-1&&$r(this.$__.selected,Q.path))continue;if(_O1(Q.path).find((U)=>$r(this.$__.isSelected,U)))continue}if(W.length)continue;if(K===void 0)RZ(this,J,X,Q,1,"$unset");else if(K===null)RZ(this,J,X,Q,null);else if(l1.isMongooseArray(K)&&K.$path()&&K[rA])mO1(this,J,X,Q,K);else if(K[zO1.pathSymbol]&&Buffer.isBuffer(K))K=K.toObject(),RZ(this,J,X,Q,K);else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Q.path]!=null){const F=this.$__.primitiveAtomics[Q.path],U=PO1(F);RZ(this,J,X,Q,F[U],U)}else K=I4(K,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}),RZ(this,J,X,Q,K)}if(W.length)return new KO1(W);if(this.$__.version)this.$__version(J,X);if(Object.keys(X).length===0)return[J,null];return[J,X]};r.prototype.$__version=function(Z,Y){const J=this.$__schema.options.versionKey;if(Z===!0){if(J)yO1(Y,J,0),this.$__setValue(J,0);return}if(J===!1)return;if(!this.$__isSelected(J))return;if((1&this.$__.version)===1){const X=this.$__getValue(J);if(X!=null)Z[J]=X}if((2&this.$__.version)===2)if(JW(Y.$set,J,null)!=null)++Y.$set[J];else Y.$inc=Y.$inc||{},Y.$inc[J]=1};/*!
 * ignore
 */r.prototype.increment=Hz;r.prototype.$__where=function Z(Y){if(Y||(Y={}),!Y._id)Y._id=this._doc._id;if(this._doc._id===void 0)return new B1("No _id found on document!");return Y};r.prototype.deleteOne=function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new B1("Model.prototype.deleteOne() no longer accepts a callback");if(!Y)Y={};if(Y.hasOwnProperty("session"))this.$session(Y.session);const J=this,X=this.$__where();if(X instanceof Error)throw X;const $=J.constructor.deleteOne(X,Y);if(this.$session()!=null){if(!("session"in $.options))$.options.session=this.$session()}return $.pre(function W(G){J.constructor._middleware.execPre("deleteOne",J,[J],G)}),$.pre(function W(G){nA(J.$getAllSubdocs(),(Q,K)=>{Q.constructor._middleware.execPre("deleteOne",Q,[Q],K)},G)}),$.pre(function W(G){if(J.$__.isDeleted)return G(HO1.skipWrappedFunction());return G()}),$.post(function W(G){nA(J.$getAllSubdocs(),(Q,K)=>{Q.constructor._middleware.execPost("deleteOne",Q,[Q],{},K)},G)}),$.post(function W(G){J.constructor._middleware.execPost("deleteOne",J,[J],{},G)}),$};r.prototype.$model=function Z(Y){if(arguments.length===0)return this.constructor;return this[tA].model(Y)};r.prototype.model=r.prototype.$model;r.exists=function Z(Y,J){if(k1(this,"exists"),typeof arguments[2]==="function")throw new B1("Model.exists() no longer accepts a callback");return this.findOne(Y).select({_id:1}).lean().setOptions(J)};r.discriminator=function(Z,Y,J){let X;if(typeof Z==="function"){if(X=Z,Z=l1.getFunctionName(X),!(X.prototype instanceof r))throw new B1("The provided class "+Z+" must extend Model")}J=J||{};const $=l1.isPOJO(J)?J.value:J,W=typeof J.clone==="boolean"?J.clone:!0,G=typeof J.mergePlugins==="boolean"?J.mergePlugins:!0;if(k1(this,"discriminator"),l1.isObject(Y)&&!Y.instanceOfSchema)Y=new lA(Y);if(Y instanceof lA&&W)Y=Y.clone();if(Y=DO1(this,Z,Y,$,G,J.mergeHooks),this.db.models[Z]&&!Y.options.overwriteModels)throw new FO1(Z);Y.$isRootDiscriminator=!0,Y.$globalPluginsApplied=!0,X=this.db.model(X||Z,Y,this.$__collection.name),this.discriminators[Z]=X;const Q=this.discriminators[Z];if(Object.setPrototypeOf(Q.prototype,this.prototype),Object.defineProperty(Q,"baseModelName",{value:this.modelName,configurable:!0,writable:!1}),zr(Q,Y),Ur(Q,Y),this[YW]!=null)for(let K of this[YW])K.discriminators=K.discriminators||{},K.discriminators[Z]=X.__subclass(X.db,Y,K.collection.name);return Q};/*!
 * Give the constructor the ability to emit events.
 */for(let Z in pA.prototype)r[Z]=pA.prototype[Z];r.init=function Z(){if(k1(this,"init"),typeof arguments[0]==="function")throw new B1("Model.init() no longer accepts a callback");if(this.schema.emit("init",this),this.$init!=null)return this.$init;const Y=this.db,J=async()=>{if(!l1.getOption("autoIndex",this.schema.options,Y.config,Y.base.options))return;return await this.ensureIndexes({_automatic:!0})},X=async()=>{if((Y.readyState===Wr.connecting||Y.readyState===Wr.disconnected)&&Y._shouldBufferCommands())await new Promise((Q)=>{Y._queue.push({fn:Q})});if(!l1.getOption("autoCreate",this.schema.options,Y.config,Y.base.options))return;return await this.createCollection()};this.$init=X().then(()=>J());const $=this.$init.catch,W=this;return this.$init.catch=function(){return W.$caught=!0,$.apply(W.$init,arguments)},this.$init};r.createCollection=async function Z(Y){if(k1(this,"createCollection"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.createCollection() no longer accepts a callback");const J=this&&this.schema&&this.schema.options&&this.schema.options.collectionOptions;if(J!=null)Y=Object.assign({},J,Y);const X=this&&this.schema&&this.schema.options&&this.schema.options.collation;if(X!=null)Y=Object.assign({collation:X},Y);const $=this&&this.schema&&this.schema.options&&this.schema.options.capped;if($!=null){if(typeof $==="number")Y=Object.assign({capped:!0,size:$},Y);else if(typeof $==="object")Y=Object.assign({capped:!0},$,Y)}const W=this&&this.schema&&this.schema.options&&this.schema.options.timeseries;if(W!=null){if(Y=Object.assign({timeseries:W},Y),Y.expireAfterSeconds!=null);else if(Y.expires!=null)l1.expires(Y);else if(this.schema.options.expireAfterSeconds!=null)Y.expireAfterSeconds=this.schema.options.expireAfterSeconds;else if(this.schema.options.expires!=null)Y.expires=this.schema.options.expires,l1.expires(Y)}const G=this&&this.schema&&this.schema.options&&this.schema.options.clusteredIndex;if(G!=null)Y=Object.assign({clusteredIndex:{...G,unique:!0}},Y);try{await this.db.createCollection(this.$__collection.collectionName,Y)}catch(Q){if(Q!=null&&(Q.name!=="MongoServerError"||Q.code!==48))throw Q}return this.$__collection};r.syncIndexes=async function Z(Y){if(k1(this,"syncIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.syncIndexes() no longer accepts a callback");const J=this;try{await J.createCollection()}catch(W){if(W!=null&&(W.name!=="MongoServerError"||W.code!==48))throw W}const X=await J.diffIndexes(),$=await J.cleanIndexes({...Y,toDrop:X.toDrop});return await J.createIndexes({...Y,toCreate:X.toCreate}),$};r.diffIndexes=async function Z(){if(typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.syncIndexes() no longer accepts a callback");const Y=this;let J=await Y.listIndexes().catch((Q)=>{if(Q.codeName=="NamespaceNotFound")return;throw Q});if(J===void 0)J=[];J=EO1(Y,J);const X=Y.schema,$=jO1(Y,X.indexes()),W=cO1(X,$,J),G=dO1(X,$,J,W);return{toDrop:W,toCreate:G}};r.cleanIndexes=async function Z(Y){if(k1(this,"cleanIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.cleanIndexes() no longer accepts a callback");const J=this,X=J.$__collection;if(Array.isArray(Y&&Y.toDrop))return await Qr(Y.toDrop,X);const $=await J.diffIndexes();return await Qr($.toDrop,X)};r.listIndexes=async function Z(){if(k1(this,"listIndexes"),typeof arguments[0]==="function")throw new B1("Model.listIndexes() no longer accepts a callback");if(this.$__collection.buffer)await new Promise((Y)=>{this.$__collection.addQueue(Y)});return this.$__collection.listIndexes().toArray()};r.ensureIndexes=async function Z(Y){if(k1(this,"ensureIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.ensureIndexes() no longer accepts a callback");await new Promise((J,X)=>{pO1(this,Y,($)=>{if($!=null)return X($);J()})})};r.createIndexes=async function Z(Y){if(k1(this,"createIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.createIndexes() no longer accepts a callback");return this.ensureIndexes(Y)};/*!
 * ignore
 */r.schema;r.db;r.collection;r.$__collection;r.base;r.discriminators;r.translateAliases=function Z(Y,J){k1(this,"translateAliases");const X=($,W)=>{let G;const Q=[],K=$.split(".");let H=this.schema;for(let F in K){const U=K[F];if(H&&H.aliases[U]){if(G=H.aliases[U],J&&G in Y)throw new B1(`Provided object has both field "${U}" and its alias "${G}"`);Q.push(G)}else G=U,Q.push(U);if(H&&H.paths[G])H=H.paths[G].schema;else H=null}const z=Q.join(".");if(Y instanceof Map)Y.set(z,W);else Y[z]=W;if(z!==$)if(Y instanceof Map)Y.delete($);else delete Y[$];return Y};if(typeof Y==="object"){if(Y instanceof Map)for(let $ of new Map(Y))Y=X($[0],$[1]);else for(let $ of Object.keys(Y))if(Y=X($,Y[$]),$[0]==="$")if(Array.isArray(Y[$]))for(let W in Y[$])Y[$][W]=this.translateAliases(Y[$][W]);else this.translateAliases(Y[$]);return Y}else return Y};r.deleteOne=function Z(Y,J){if(k1(this,"deleteOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.prototype.deleteOne() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);return X.setOptions(J),X.deleteOne(Y)};r.deleteMany=function Z(Y,J){if(k1(this,"deleteMany"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.deleteMany() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);return X.setOptions(J),X.deleteMany(Y)};r.find=function Z(Y,J,X){if(k1(this,"find"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.find() no longer accepts a callback");const $=new this.Query({},{},this,this.$__collection);return $.select(J),$.setOptions(X),$.find(Y)};r.findById=function Z(Y,J,X){if(k1(this,"findById"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findById() no longer accepts a callback");if(typeof Y==="undefined")Y=null;return this.findOne({_id:Y},J,X)};r.findOne=function Z(Y,J,X){if(k1(this,"findOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findOne() no longer accepts a callback");const $=new this.Query({},{},this,this.$__collection);return $.select(J),$.setOptions(X),$.findOne(Y)};r.estimatedDocumentCount=function Z(Y){return k1(this,"estimatedDocumentCount"),new this.Query({},{},this,this.$__collection).estimatedDocumentCount(Y)};r.countDocuments=function Z(Y,J){if(k1(this,"countDocuments"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.countDocuments() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);if(J!=null)X.setOptions(J);return X.countDocuments(Y)};r.distinct=function Z(Y,J){if(k1(this,"distinct"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.distinct() no longer accepts a callback");return new this.Query({},{},this,this.$__collection).distinct(Y,J)};r.where=function Z(Y,J){k1(this,"where");const X=new this.Query({},{},this,this.$__collection).find({});return X.where.apply(X,arguments)};r.$where=function Z(){k1(this,"$where");const Y=new this.Query({},{},this,this.$__collection).find({});return Y.$where.apply(Y,arguments)};r.findOneAndUpdate=function(Z,Y,J){if(k1(this,"findOneAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.findOneAndUpdate() no longer accepts a callback");if(arguments.length===1)Y=Z,Z=null,J=null;let X;if(J)X=J.fields||J.projection;Y=I4(Y,{depopulate:!0,_isNested:!0}),Vr(Y,J,this.schema.options.versionKey);const $=new this.Query({},{},this,this.$__collection);return $.select(X),$.findOneAndUpdate(Z,Y,J)};r.findByIdAndUpdate=function(Z,Y,J){if(k1(this,"findByIdAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.findByIdAndUpdate() no longer accepts a callback");if(Z instanceof u9)Z=Z._id;return this.findOneAndUpdate.call(this,{_id:Z},Y,J)};r.findOneAndDelete=function(Z,Y){if(k1(this,"findOneAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findOneAndDelete() no longer accepts a callback");let J;if(Y)J=Y.select,Y.select=void 0;const X=new this.Query({},{},this,this.$__collection);return X.select(J),X.findOneAndDelete(Z,Y)};r.findByIdAndDelete=function(Z,Y){if(k1(this,"findByIdAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findByIdAndDelete() no longer accepts a callback");return this.findOneAndDelete({_id:Z},Y)};r.findOneAndReplace=function(Z,Y,J){if(k1(this,"findOneAndReplace"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.findOneAndReplace() no longer accepts a callback");let X;if(J)X=J.select,J.select=void 0;const $=new this.Query({},{},this,this.$__collection);return $.select(X),$.findOneAndReplace(Z,Y,J)};r.create=async function Z(Y,J){if(typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.create() no longer accepts a callback");k1(this,"create");let X;const $=this.schema.options.discriminatorKey;if(Array.isArray(Y))X=Y,J=J!=null&&typeof J==="object"?J:{};else{const Q=arguments[arguments.length-1];if(J={},typeof Q==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.create() no longer accepts a callback");else if(X=[...arguments],X.length>1&&!Q)X.pop();if(X.length===2&&X[0]!=null&&X[1]!=null&&X[0].session==null&&Q&&TO1(Q.session)==="ClientSession"&&!this.schema.path("session"))l1.warn("WARNING: to pass a `session` to `Model.create()` in Mongoose, you **must** pass an array as the first argument. See: https://mongoosejs.com/docs/api/model.html#Model.create()")}if(X.length===0)return Array.isArray(Y)?[]:null;let W=[];const G=typeof J.aggregateErrors==="boolean"?!J.aggregateErrors:!0;if(delete J.aggregateErrors,J.ordered){for(let Q=0;Q<X.length;Q++)try{const K=X[Q],H=this.discriminators&&K[$]!=null?this.discriminators[K[$]]||Kz(this.discriminators,K[$]):this;if(H==null)throw new B1(`Discriminator "${K[$]}" not `+`found for model "${this.modelName}"`);let z=K;if(!(z instanceof H))z=new H(z);await z.$save(J),W.push(z)}catch(K){if(!G)W.push(K);else throw K}return W}else if(!G)W=await Promise.allSettled(X.map(async(Q)=>{const K=this.discriminators&&Q[$]!=null?this.discriminators[Q[$]]||Kz(this.discriminators,Q[$]):this;if(K==null)throw new B1(`Discriminator "${Q[$]}" not `+`found for model "${this.modelName}"`);let H=Q;if(!(H instanceof K))H=new K(H);return await H.$save(J),H})),W=W.map((Q)=>Q.status==="fulfilled"?Q.value:Q.reason);else{let Q=null;if(W=await Promise.all(X.map(async(K)=>{const H=this.discriminators&&K[$]!=null?this.discriminators[K[$]]||Kz(this.discriminators,K[$]):this;if(H==null)throw new B1(`Discriminator "${K[$]}" not `+`found for model "${this.modelName}"`);try{let z=K;if(!(z instanceof H))z=new H(z);return await z.$save(J),z}catch(z){if(!Q)Q=z}})),Q)throw Q}if(!Array.isArray(Y)&&X.length===1)return W[0];return W};r.watch=function(Z,Y){k1(this,"watch");const J=(X)=>{if(Z=Z||[],xO1(Z,this.schema,"fullDocument"),this.$__collection.buffer)this.$__collection.addQueue(()=>{if(this.closed)return;const $=this.$__collection.watch(Z,Y);X(null,$)});else{const $=this.$__collection.watch(Z,Y);X(null,$)}};return Y=Y||{},Y.model=this,new GO1(J,Z,Y)};r.startSession=function(){return k1(this,"startSession"),this.db.startSession.apply(this.db,arguments)};r.insertMany=async function Z(Y,J){if(k1(this,"insertMany"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.insertMany() no longer accepts a callback");return new Promise((X,$)=>{this.$__insertMany(Y,J,(W,G)=>{if(W!=null)return $(W);X(G)})})};r.$__insertMany=function(Z,Y,J){const X=this;if(typeof Y==="function")J=Y,Y=null;J=J||l1.noop,Y=Y||{};const $=Y.limit||1000,W=!!Y.rawResult,G=typeof Y.ordered==="boolean"?Y.ordered:!0,Q=typeof Y.throwOnValidationError==="boolean"?Y.throwOnValidationError:!1,K=!!Y.lean;if(!Array.isArray(Z))Z=[Z];const H=[],z=new Map,F=G?null:new Array(Z.length),U=Z.map((q,V)=>(L)=>{if(!(q instanceof X))try{q=new X(q)}catch(w){return L(w)}if(Y.session!=null)q.$session(Y.session);if(K)return XW(()=>L(null,q));q.$validate().then(()=>{L(null,q)},(w)=>{if(G===!1)return H.push(w),z.set(w,V),F[V]=w,L(null,null);L(w)})});kO1(U,$,function(q,V){if(q){J(q,null);return}const L=new Map,w=new Map;for(let M=0;M<V.length;++M)L.set(V[M],M);const B=V.filter(function(M){return M!=null});for(let M=0;M<B.length;++M)w.set(M,L.get(B[M]));if(H.length>0)H.sort((M,I)=>{return z.get(M)-z.get(I)});if(B.length===0){if(W)return J(null,{acknowledged:!0,insertedCount:0,insertedIds:{},mongoose:{validationErrors:H}});J(null,[]);return}const A=B.map(function(M){if(M.$__schema.options.versionKey)M[M.$__schema.options.versionKey]=0;if((!Y||Y.timestamps!==!1)&&M.initializeTimestamps&&(!M.$__||M.$__.timestamps!==!1))return M.initializeTimestamps().toObject(zz);return M.toObject(zz)});X.$__collection.insertMany(A,Y).then((M)=>{for(let I of B)I.$__reset(),YX(I,!1);if(G===!1&&Q&&H.length>0){for(let I=0;I<F.length;++I)if(F[I]===void 0)F[I]=V[I];return J(new wr(H,F,M,"insertMany"))}if(W){if(G===!1){for(let I=0;I<F.length;++I)if(F[I]===void 0)F[I]=V[I];M.mongoose={validationErrors:H,results:F}}return J(null,M)}if(Y.populate!=null)return X.populate(B,Y.populate).then((I)=>{J(null,I)},(I)=>{if(I!=null)I.insertedDocs=B;throw I});J(null,B)},(M)=>{if(M.writeErrors==null&&(M.result&&M.result.result&&M.result.result.writeErrors)!=null)M.writeErrors=M.result.result.writeErrors;const I=M&&M.writeErrors,x=new Set((M&&M.writeErrors||[]).map((E)=>E.index));if(M.writeErrors!=null)for(let E=0;E<M.writeErrors.length;++E){const D=w.get(M.writeErrors[E].index);if(M.writeErrors[E]={...M.writeErrors[E],index:D},!G)F[D]=M.writeErrors[E]}if(!G){for(let E=0;E<F.length;++E)if(F[E]===void 0)F[E]=V[E];M.results=F}let j=-1;if(M.insertedDocs=B.filter((E,D)=>{const l=!I||x.has(D);if(G){if(j>-1)return D<j;if(l)j=D}return!l}).map(function E(D){return D.$__reset(),YX(D,!1),D}),W&&G===!1)M.mongoose={validationErrors:H,results:F};J(M,null)})})};/*!
 * ignore
 */r.bulkWrite=async function Z(Y,J){if(k1(this,"bulkWrite"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.bulkWrite() no longer accepts a callback");J=J||{};const X=J.ordered==null?!0:J.ordered,$=Y.map((W)=>AO1(this,W,J));return new Promise((W,G)=>{if(X){nA($,(U,q)=>U(q),(U)=>{if(U)return G(U);if(Y.length===0)return W(Xr());try{this.$__collection.bulkWrite(Y,J,(q,V)=>{if(q)return G(q);W(V)})}catch(q){return G(q)}});return}let Q=$.length,K=[],H=[];const z=[];if(Q===0)F.call(this);else for(let U=0;U<$.length;++U)$[U]((q)=>{if(q==null)K.push(U);else H.push({index:U,error:q}),z[U]=q;if(--Q<=0)F.call(this)});H=H.sort((U,q)=>U.index-q.index).map((U)=>U.error);function F(){const U=K;if(K=K.sort().map((q)=>Y[q]),K.length===0)return W(Xr());this.$__collection.bulkWrite(K,J,(q,V)=>{if(q){if(H.length>0)q.mongoose=q.mongoose||{},q.mongoose.validationErrors=H;return G(q)}for(let L=0;L<U.length;++L)z[U[L]]=null;if(H.length>0)if(J.throwOnValidationError)return G(new wr(H,z,V,"bulkWrite"));else V.mongoose=V.mongoose||{},V.mongoose.validationErrors=H,V.mongoose.results=z;W(V)})}})};r.bulkSave=async function Z(Y,J){if(J=J||{},J.timestamps!=null)for(let G of Y)G.$__.saveOptions=G.$__.saveOptions||{},G.$__.saveOptions.timestamps=J.timestamps;else for(let G of Y)if(G.$__.timestamps!=null)G.$__.saveOptions=G.$__.saveOptions||{},G.$__.saveOptions.timestamps=G.$__.timestamps;await Promise.all(Y.map(lO1));const X=this.buildBulkWriteOperations(Y,{skipValidation:!0,timestamps:J.timestamps}),{bulkWriteResult:$,bulkWriteError:W}=await this.bulkWrite(X,J).then((G)=>({bulkWriteResult:G,bulkWriteError:null}),(G)=>({bulkWriteResult:null,bulkWriteError:G}));if(await Promise.all(Y.map(async(G)=>{if((W&&W.writeErrors.find((K)=>{return(K.err.op._id||K.err.op.q._id).toString()===G._id.toString()}))==null)await iO1(G)})),W&&W.writeErrors&&W.writeErrors.length)throw W;return $};r.applyDefaults=function Z(Y){if(Y.$__!=null){qO1(Y,Y.$__.fields,Y.$__.exclude);for(let J of Y.$getAllSubdocs())Z(J,J.$__.fields,J.$__.exclude);return Y}return VO1(Y,this.schema),Y};r.castObject=function Z(Y,J){J=J||{};const X={},$=this.schema,W=Object.keys($.paths);for(let Q of W){const K=$.path(Q);if(!K||!K.$isMongooseArray)continue;const H=JW(Y,Q);Rr(W,H,Q)}let G=null;for(let Q of W){const K=$.path(Q);if(K==null)continue;let H=JW(Y,Q,void 0);if(H==null)continue;const z=Q.indexOf(".")===-1?[Q]:Q.split(".");let F=X;for(let U=0;U<z.length-1;++U){if(F[z[U]]==null)F[z[U]]=isNaN(z[U+1])?{}:[];F=F[z[U]]}if(K.$isMongooseDocumentArray)continue;if(K.$isSingleNested||K.$isMongooseDocumentArrayElement){try{H=r.castObject.call(K.caster,H)}catch(U){if(!J.ignoreCastErrors)G=G||new iA,G.addError(Q,U);continue}F[z[z.length-1]]=H;continue}try{H=K.cast(H),F[z[z.length-1]]=H}catch(U){if(!J.ignoreCastErrors)G=G||new iA,G.addError(Q,U);continue}}if(G!=null)throw G;return X};r.buildBulkWriteOperations=function Z(Y,J){if(!Array.isArray(Y))throw new Error(`bulkSave expects an array of documents to be passed, received \`${Y}\` instead`);W();const X=this.schema.options.discriminatorKey;return Y.reduce((G,Q,K)=>{if(!J.skipValidation){if(!(Q instanceof u9))throw new Error(`documents.${K} was not a mongoose document, documents must be an array of mongoose documents (instanceof mongoose.Document).`);const U=Q.validateSync();if(U)throw U}if(Q.isNew){const U={insertOne:{document:Q}};return l1.injectTimestampsOption(U.insertOne,J.timestamps),G.push(U),G}const z=Q.$__delta();if(z!=null&&!l1.isEmptyObject(z[0])){const U=Q.$__where(z[0]),q=z[1];if(Br(Q,U),Q[X]!=null&&!(X in U))U[X]=Q[X];Q.$__version(U,z);const V={updateOne:{filter:U,update:q}};return l1.injectTimestampsOption(V.updateOne,J.timestamps),G.push(V),G}return G},[]);function W(){if(J=J||{},J.skipValidation==null)J.skipValidation=!1}};r.hydrate=function(Z,Y,J){if(k1(this,"hydrate"),Y!=null){if(Z!=null&&Z.$__!=null)Z=Z.toObject(zz);Z=wO1(Z,Y)}const X=xJ().createModel(this,Z,Y);return X.$init(Z,J),X};r.updateMany=function Z(Y,J,X){return k1(this,"updateMany"),oA(this,"updateMany",Y,J,X)};r.updateOne=function Z(Y,J,X){return k1(this,"updateOne"),oA(this,"updateOne",Y,J,X)};r.replaceOne=function Z(Y,J,X){k1(this,"replaceOne");const $=this&&this.schema&&this.schema.options&&this.schema.options.versionKey||null;if($&&!J[$])J[$]=0;return oA(this,"replaceOne",Y,J,X)};r.aggregate=function Z(Y,J){if(k1(this,"aggregate"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.aggregate() no longer accepts a callback");const X=new WO1(Y||[]);if(X.model(this),J!=null)X.option(J);if(typeof callback==="undefined")return X;return X};r.validate=async function Z(Y,J,X){if(arguments.length<3||arguments.length===3&&typeof arguments[2]==="function")X=Y;if(typeof X==="function"||typeof arguments[3]==="function")throw new B1("Model.validate() no longer accepts a callback");let $=this.schema;const W=$.options.discriminatorKey;if($.discriminators!=null&&Y!=null&&Y[W]!=null)$=IO1($,Y[W])||$;let G=Object.keys($.paths);if(J!=null){const H=typeof J==="string"?new Set(J.split(" ")):Array.isArray(J)?new Set(J):new Set(G);G=G.filter((z)=>{if(J.pathsToSkip){if(Array.isArray(J.pathsToSkip)){if(J.pathsToSkip.find((q)=>q==z))return!1}else if(typeof J.pathsToSkip=="string"){if(J.pathsToSkip.includes(z))return!1}}const F=z.split(".");let U=F[0];for(let q of F){if(H.has(U))return!0;U+="."+q}return H.has(z)})}for(let H of G){const z=$.path(H);if(!z||!z.$isMongooseArray||z.$isMongooseDocumentArray)continue;const F=JW(Y,H);Rr(G,F,H)}let Q=null;G=new Set(G);try{Y=this.castObject(Y)}catch(H){Q=H;for(let z of Object.keys(Q.errors||{}))G.delete(z)}let K=G.size;return new Promise((H,z)=>{for(let U of G){const q=$.path(U);if(q==null){F();continue}const V=U.indexOf(".")===-1?[U]:U.split(".");let L=Y;for(let B=0;B<V.length-1;++B)L=L[V[B]];const w=JW(Y,U,void 0);q.doValidate(w,(B)=>{if(B)Q=Q||new iA,Q.addError(U,B);F()},X,{path:U})}function F(){if(--K<=0)if(Q)z(Q);else H(Y)}})};r.populate=async function Z(Y,J){if(k1(this,"populate"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.populate() no longer accepts a callback");const X=this;J=l1.populate(J);const $={};return new Promise((W,G)=>{nO1(X,Y,J,$,(Q,K)=>{if(Q)return G(Q);W(K)})})};/*!
 * Populates `docs`
 */var aO1=/\s?-_id\s?/,sO1=/\s?-_id\s?/g;/*!
 * ignore
 *//*!
 * ignore
 */r.compile=function Z(Y,J,X,$,W){if(J.options.versionKey!==!1&&!J.paths[J.options.versionKey]){const F={};F[J.options.versionKey]=Number,J.add(F)}let Q;if(typeof Y==="function"&&Y.prototype instanceof r)Q=Y,Y=Q.name,J.loadClass(Q,!1),Q.prototype.$isMongooseModelPrototype=!0;else Q=function F(U,q,V){if(F.hooks.execPreSync("createModel",U),!(this instanceof F))return new F(U,q,V);const L=F.schema.options.discriminatorKey;if(F.discriminators==null||U==null||U[L]==null){r.call(this,U,q,V);return}const w=F.discriminators[U[L]]||Kz(F.discriminators,U[L]);if(w!=null)return new w(U,q,V);r.call(this,U,q,V)};if(Q.hooks=J.s.hooks.clone(),Q.base=W,Q.modelName=Y,!(Q.prototype instanceof r))Object.setPrototypeOf(Q,r),Object.setPrototypeOf(Q.prototype,r.prototype);Q.model=function F(U){return this.db.model(U)},Q.db=$,Q.prototype.db=$,Q.prototype[tA]=$,Q.discriminators=Q.prototype.discriminators=void 0,Q[Mr]=!0,Q.events=new pA,J._preCompile();const H={schemaUserProvidedOptions:J._userProvidedOptions||{},capped:J.options.capped,Promise:Q.base.Promise,modelName:Y};if(J.options.autoCreate!==void 0)H.autoCreate=J.options.autoCreate;const z=$.collection(X,H);return Q.prototype.collection=z,Q.prototype.$collection=z,Q.prototype[Fz]=z,Q.prototype.$__setSchema(J),zr(Q,J),Ur(Q,J),RO1(Q,J),MO1(Q,J.s.hooks,J.statics),Q.schema=Q.prototype.$__schema,Q.collection=z,Q.$__collection=z,Q.Query=function(){Qz.apply(this,arguments)},Object.setPrototypeOf(Q.Query.prototype,Qz.prototype),Q.Query.base=Qz.base,Q.Query.prototype.constructor=Qz,LO1(Q.Query,Q),oO1(Q,J.query),Q};r.__subclass=function Z(Y,J,X){const $=this,W=function z(F,U,q){if(!(this instanceof z))return new z(F,U,q);$.call(this,F,U,q)};if(Object.setPrototypeOf(W,$),Object.setPrototypeOf(W.prototype,$.prototype),W.db=Y,W.prototype.db=Y,W.prototype[tA]=Y,$[YW]=$[YW]||[],$[YW].push(W),$.discriminators!=null){W.discriminators={};for(let z of Object.keys($.discriminators))W.discriminators[z]=$.discriminators[z].__subclass($.db,$.discriminators[z].schema,X)}const G=J&&typeof J!=="string"?J:$.prototype.$__schema,Q=G.options||{},K=G._userProvidedOptions||{};if(!X)X=$.prototype.$__schema.get("collection")||l1.toCollectionName($.modelName,this.base.pluralize());const H={schemaUserProvidedOptions:K,capped:G&&Q.capped};return W.prototype.collection=Y.collection(X,H),W.prototype.$collection=W.prototype.collection,W.prototype[Fz]=W.prototype.collection,W.collection=W.prototype.collection,W.$__collection=W.collection,W.init().catch(()=>{}),W};r.inspect=function(){return`Model { ${this.modelName} }`};if(Gr.inspect.custom)r[Gr.inspect.custom]=r.inspect;/*!
 * Module exports.
 */Nr.exports=Ar=r});var Dr=R(($W,Ir)=>{var YS1=function(Z){let Y;if(Z=Z.toLowerCase(),!~ZS1.indexOf(Z)){if(Y=eO1.filter(function(J){return Z.match(J[0])}),Y[0])return Z.replace(Y[0][0],Y[0][1])}return Z};Ir.exports=YS1;$W.pluralization=[[/human$/gi,"humans"],[/(m)an$/gi,"$1en"],[/(pe)rson$/gi,"$1ople"],[/(child)$/gi,"$1ren"],[/^(ox)$/gi,"$1en"],[/(ax|test)is$/gi,"$1es"],[/(octop|vir)us$/gi,"$1i"],[/(alias|status)$/gi,"$1es"],[/(bu)s$/gi,"$1ses"],[/(buffal|tomat|potat)o$/gi,"$1oes"],[/([ti])um$/gi,"$1a"],[/sis$/gi,"ses"],[/(?:([^f])fe|([lr])f)$/gi,"$1$2ves"],[/(hive)$/gi,"$1s"],[/([^aeiouy]|qu)y$/gi,"$1ies"],[/(x|ch|ss|sh)$/gi,"$1es"],[/(matr|vert|ind)ix|ex$/gi,"$1ices"],[/([m|l])ouse$/gi,"$1ice"],[/(kn|w|l)ife$/gi,"$1ives"],[/(quiz)$/gi,"$1zes"],[/^goose$/i,"geese"],[/s$/gi,"s"],[/([^a-z])$/,"$1"],[/$/gi,"s"]];var eO1=$W.pluralization;$W.uncountables=["advice","energy","excretion","digestion","cooperation","health","justice","labour","machinery","equipment","information","pollution","sewage","paper","money","species","series","rain","rice","fish","sheep","moose","deer","news","expertise","status","media"];var ZS1=$W.uncountables});var Or=R((i00,jr)=>{/*!
 * Module requirements
 */var Cr=z0(),Pr=import.meta.require("util"),Tr=qw();class wZ extends Cr{constructor(){super("");this.errors={}}toString(){return Tr(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,Y){if(Y instanceof wZ){const{errors:J}=Y;for(let X of Object.keys(J))this.addError(X,J[X]);return}this.errors[Z]=Y,this.message=Tr(this)}}if(Pr.inspect.custom)wZ.prototype[Pr.inspect.custom]=wZ.prototype.inspect;Object.defineProperty(wZ.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(wZ.prototype,"name",{value:"SetOptionError"});class Er extends Cr{constructor(Z){super(`"${Z}" is not a valid option to set`)}}wZ.SetOptionInnerError=Er;/*!
 * Module exports
 */jr.exports=wZ});var kr=R(()=>{var Sr=H1();if(typeof jest!=="undefined"&&!process.env.SUPPRESS_JEST_WARNINGS){if(typeof window!=="undefined")Sr.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s default jsdom test environment. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.");if(setTimeout.clock!=null&&typeof setTimeout.clock.Date==="function")Sr.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s mock timers enabled. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.")}});var br=R((yr,gr)=>{var V7=function(Z,Y,J,X,$){if(!(this instanceof V7))return new V7(Z,Y,J,X,$);if(GS1(Y)&&!Y.instanceOfSchema)Y=new JS1(Y);if(Y=this.schema||Y,!this.schema&&Y.options._id){if(Z=Z||{},Z._id===void 0)Z._id=new XS1}if(!Y)throw new fr.MissingSchemaError;this.$__setSchema(Y),_r.call(this,Z,J,X,$),WS1(this,Y,{decorateDoc:!0});for(let W in Y.methods)this[W]=Y.methods[W];for(let W in Y.statics)this[W]=Y.statics[W]};/*!
 * Module dependencies.
 */var _r=H6(),xr=import.meta.require("events").EventEmitter,fr=e1(),JS1=gJ(),XS1=y4(),$S1=fr.ValidationError,WS1=QH(),GS1=_5();/*!
 * Inherit from the NodeJS document
 */V7.prototype=Object.create(_r.prototype);V7.prototype.constructor=V7;/*!
 * ignore
 */V7.events=new xr;/*!
 * Browser doc exposes the event emitter API
 */V7.$emitter=new xr;["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(Z){V7[Z]=function(){return V7.$emitter[Z].apply(V7.$emitter,arguments)}});/*!
 * Module exports.
 */V7.ValidationError=$S1;gr.exports=yr=V7});var hr=R((s00,eA)=>{/*!
 * Module dependencies.
 */var QS1=H6(),KS1=br(),vr=!1;eA.exports=function Z(){if(vr)return KS1;return QS1};/*!
 * ignore
 */eA.exports.setBrowser=function(Z){vr=Z}});var nr=R((lr,ir)=>{var e=function(Z){this.connections=[],this.nextConnectionId=0,this.models={},this.events=new zS1,this.__driver=cr.get(),this.options=Object.assign({pluralization:!0,autoIndex:!0,autoCreate:!0},Z);const Y=YN.getOption("createInitialConnection",this.options);if(Y==null||Y){const J=this.createConnection();J.models=this.models}if(this.options.pluralization)this._pluralize=wS1;if(!Z||!Z[pr]){const J=this;this.Schema=function(){return this.base=J,K5.apply(this,arguments)},this.Schema.prototype=Object.create(K5.prototype),Object.assign(this.Schema,K5),this.Schema.base=this,this.Schema.Types=Object.assign({},K5.Types)}else for(let J of["Schema","model"])this[J]=e.prototype[J];this.Schema.prototype.base=this,Object.defineProperty(this,"plugins",{configurable:!1,enumerable:!0,writable:!1,value:Object.values(RS1).map((J)=>[J,{deduplicate:!0}])})};/*!
 * Module dependencies.
 */var HS1=H6(),zS1=import.meta.require("events").EventEmitter,ur=DJ(),K5=gJ(),FS1=e0(),WW=O$(),US1=NM(),ZN=_Y(),mr=Fi(),qS1=hJ(),VS1=aH(),dr=jA(),LS1=xB(),RS1=JB(),cr=MG(),wS1=Dr(),YN=H1(),MS1=gB(),BS1=uJ(),AS1=EA(),NS1=kY().trusted,IS1=VA(),DS1=o8(),qz=z0(),Uz=Or(),pr=Symbol.for("mongoose:default");kr();var PS1=/^[0-9A-Fa-f]{24}$/;e.prototype.cast=BS1;e.prototype.STATES=ZN;e.prototype.ConnectionStates=ZN;e.prototype.driver=cr;e.prototype.setDriver=function Z(Y){const J=this instanceof e?this:V8;if(J.__driver===Y)return J;if(J.connections&&J.connections.find((W)=>W.readyState!==ZN.disconnected))throw new qz("Cannot modify Mongoose driver if a connection is already open. Call `mongoose.disconnect()` before modifying the driver");J.__driver=Y;const $=Y.Connection;return J.connections=[new $(J)],J.connections[0].models=J.models,J};e.prototype.set=function(Z,Y){const J=this instanceof e?this:V8;if(arguments.length===1&&typeof Z!=="object"){if(mr.indexOf(Z)===-1){const W=new Uz;throw W.addError(Z,new Uz.SetOptionInnerError(Z)),W}return J.options[Z]}let X={};if(arguments.length===2)X={[Z]:Y};if(arguments.length===1&&typeof Z==="object")X=Z;let $=void 0;for(let[W,G]of Object.entries(X)){if(mr.indexOf(W)===-1){if(!$)$=new Uz;$.addError(W,new Uz.SetOptionInnerError(W));continue}if(J.options[W]=G,W==="objectIdGetter")if(G)Object.defineProperty(V8.Types.ObjectId.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});else delete V8.Types.ObjectId.prototype._id}if($)throw $;return J};e.prototype.get=e.prototype.set;e.prototype.createConnection=function(Z,Y){const J=this instanceof e?this:V8,$=new J.__driver.Connection(J);if(J.connections.push($),J.nextConnectionId++,J.events.emit("createConnection",$),arguments.length>0)$.openUri(Z,{...Y,_fireAndForget:!0});return $};e.prototype.connect=async function Z(Y,J){if(typeof J==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new qz("Mongoose.prototype.connect() no longer accepts a callback");const X=this instanceof e?this:V8;return X.connection.openUri(Y,J).then(()=>X)};e.prototype.disconnect=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new qz("Mongoose.prototype.disconnect() no longer accepts a callback");const Y=this instanceof e?this:V8;if(Y.connections.length<=0)return;await Promise.all(Y.connections.map((X)=>X.close()))};e.prototype.startSession=function(){const Z=this instanceof e?this:V8;return Z.connection.startSession.apply(Z.connection,arguments)};e.prototype.pluralize=function(Z){const Y=this instanceof e?this:V8;if(arguments.length>0)Y._pluralize=Z;return Y._pluralize};e.prototype.model=function(Z,Y,J,X){const $=this instanceof e?this:V8;if(typeof Y==="string")J=Y,Y=!1;if(arguments.length===1){const K=$.models[Z];if(!K)throw new qz.MissingSchemaError(Z);return K}if(YN.isObject(Y)&&!(Y instanceof K5))Y=new K5(Y);if(Y&&!(Y instanceof K5))throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");X=X||{};const W=Y;if(Y){if($.get("cloneSchemas"))Y=Y.clone();$._applyPlugins(Y)}const G=$.options.hasOwnProperty("overwriteModels")?$.options.overwriteModels:X.overwriteModels;if($.models.hasOwnProperty(Z)&&X.cache!==!1&&G!==!0){if(W&&W.instanceOfSchema&&W!==$.models[Z].schema)throw new $.Error.OverwriteModelError(Z);if(J&&J!==$.models[Z].collection.name){const K=$.models[Z];return Y=K.prototype.schema,K.__subclass($.connection,Y,J)}return $.models[Z]}if(Y==null)throw new $.Error.MissingSchemaError(Z);const Q=$._model(Z,Y,J,X);return $.connection.models[Z]=Q,$.models[Z]=Q,Q};/*!
 * ignore
 */e.prototype._model=function(Z,Y,J,X){const $=this instanceof e?this:V8;let W;if(typeof Z==="function"){if(W=Z,Z=W.name,!(W.prototype instanceof dr))throw new $.Error("The provided class "+Z+" must extend Model")}if(Y){if($.get("cloneSchemas"))Y=Y.clone();$._applyPlugins(Y)}if(Y==null||!("pluralization"in Y.options))Y.options.pluralization=$.options.pluralization;if(!J)J=Y.get("collection")||YN.toCollectionName(Z,$.pluralize());const G=X.connection||$.connection;if(W=$.Model.compile(W||Z,Y,J,G,$),W.init().catch(function Q(){}),G.emit("model",W),Y._applyDiscriminators!=null)for(let Q of Y._applyDiscriminators.keys())W.discriminator(Q,Y._applyDiscriminators.get(Q));return W};e.prototype.deleteModel=function(Z){const Y=this instanceof e?this:V8;return Y.connection.deleteModel(Z),delete Y.models[Z],Y};e.prototype.modelNames=function(){const Z=this instanceof e?this:V8;return Object.keys(Z.models)};e.prototype._applyPlugins=function(Z,Y){const J=this instanceof e?this:V8;Y=Y||{},Y.applyPluginsToDiscriminators=J.options&&J.options.applyPluginsToDiscriminators||!1,Y.applyPluginsToChildSchemas=typeof(J.options&&J.options.applyPluginsToChildSchemas)==="boolean"?J.options.applyPluginsToChildSchemas:!0,LS1(Z,J.plugins,Y,"$globalPluginsApplied")};e.prototype.plugin=function(Z,Y){const J=this instanceof e?this:V8;return J.plugins.push([Z,Y]),J};e.prototype.__defineGetter__("connection",function(){return this.connections[0]});e.prototype.__defineSetter__("connection",function(Z){if(Z instanceof this.__driver.Connection)this.connections[0]=Z,this.models=Z.models});e.prototype.connections;e.prototype.nextConnectionId;e.prototype.Aggregate=AS1;Object.defineProperty(e.prototype,"Collection",{get:function(){return this.__driver.Collection},set:function(Z){this.__driver.Collection=Z}});Object.defineProperty(e.prototype,"Connection",{get:function(){return this.__driver.Connection},set:function(Z){if(Z===this.__driver.Connection)return;this.__driver.Connection=Z}});e.prototype.version=MS1.version;e.prototype.Mongoose=e;e.prototype.Schema=K5;e.prototype.SchemaType=FS1;e.prototype.SchemaTypes=K5.Types;e.prototype.VirtualType=US1;e.prototype.Types=qS1;e.prototype.Query=VS1;e.prototype.Model=dr;e.prototype.Document=HS1;e.prototype.DocumentProvider=hr();e.prototype.ObjectId=WW.ObjectId;e.prototype.isValidObjectId=function(Z){return(this instanceof e?this:V8).Types.ObjectId.isValid(Z)};e.prototype.isObjectIdOrHexString=function(Z){return DS1(Z,"ObjectId")||typeof Z==="string"&&PS1.test(Z)};e.prototype.syncIndexes=function(Z){return(this instanceof e?this:V8).connection.syncIndexes(Z)};e.prototype.Decimal128=WW.Decimal128;e.prototype.Mixed=WW.Mixed;e.prototype.Date=WW.Date;e.prototype.Number=WW.Number;e.prototype.Error=e1();e.prototype.MongooseError=z0();e.prototype.now=function Z(){return new Date};e.prototype.CastError=h8();e.prototype.SchemaTypeOptions=_6();e.prototype.mquery=FA();e.prototype.sanitizeFilter=IS1;e.prototype.trusted=NS1;e.prototype.skipMiddlewareFunction=ur.skipWrappedFunction;e.prototype.overwriteMiddlewareResult=ur.overwriteResult;var V8=ir.exports=lr=new e({[pr]:!0})});var rr=R((r00,sr)=>{/*!
 * Module dependencies.
 */MG().set(Hi());var ar=nr();ar.Mongoose.prototype.mongo=TK();sr.exports=ar});var tr=R((t00,F1)=>{var U1=rr();F1.exports=U1;F1.exports.default=U1;F1.exports.mongoose=U1;F1.exports.cast=U1.cast;F1.exports.STATES=U1.STATES;F1.exports.setDriver=U1.setDriver;F1.exports.set=U1.set;F1.exports.get=U1.get;F1.exports.createConnection=U1.createConnection;F1.exports.connect=U1.connect;F1.exports.disconnect=U1.disconnect;F1.exports.startSession=U1.startSession;F1.exports.pluralize=U1.pluralize;F1.exports.model=U1.model;F1.exports.deleteModel=U1.deleteModel;F1.exports.modelNames=U1.modelNames;F1.exports.plugin=U1.plugin;F1.exports.connections=U1.connections;F1.exports.version=U1.version;F1.exports.Mongoose=U1.Mongoose;F1.exports.Schema=U1.Schema;F1.exports.SchemaType=U1.SchemaType;F1.exports.SchemaTypes=U1.SchemaTypes;F1.exports.VirtualType=U1.VirtualType;F1.exports.Types=U1.Types;F1.exports.Query=U1.Query;F1.exports.Model=U1.Model;F1.exports.Document=U1.Document;F1.exports.ObjectId=U1.ObjectId;F1.exports.isValidObjectId=U1.isValidObjectId;F1.exports.isObjectIdOrHexString=U1.isObjectIdOrHexString;F1.exports.syncIndexes=U1.syncIndexes;F1.exports.Decimal128=U1.Decimal128;F1.exports.Mixed=U1.Mixed;F1.exports.Date=U1.Date;F1.exports.Number=U1.Number;F1.exports.Error=U1.Error;F1.exports.MongooseError=U1.MongooseError;F1.exports.now=U1.now;F1.exports.CastError=U1.CastError;F1.exports.SchemaTypeOptions=U1.SchemaTypeOptions;F1.exports.mongo=U1.mongo;F1.exports.mquery=U1.mquery;F1.exports.sanitizeFilter=U1.sanitizeFilter;F1.exports.trusted=U1.trusted;F1.exports.skipMiddlewareFunction=U1.skipMiddlewareFunction;F1.exports.overwriteMiddlewareResult=U1.overwriteMiddlewareResult});var w6=R((o00,or)=>{class JN extends Error{constructor(Z){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${Z.toString().split("\n")[0]}\n`);Error.captureStackTrace(this,JN)}}or.exports=(Z)=>{if(Z.length>2)throw new JN(Z);function Y(X={}){this.options=X}Y.prototype.transform=Z;function J(X){return new Y(X)}return J.Format=Y,J}});var Jt=R((e00,Yt)=>{var Zt={};Yt.exports=Zt;var er={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(er).forEach(function(Z){var Y=er[Z],J=Zt[Z]=[];J.open="\x1B["+Y[0]+"m",J.close="\x1B["+Y[1]+"m"})});var $t=R((Z80,Xt)=>{Xt.exports=function(Z,Y){Y=Y||process.argv||[];var J=Y.indexOf("--"),X=/^-{1,2}/.test(Z)?"":"--",$=Y.indexOf(X+Z);return $!==-1&&(J===-1?!0:$<J)}});var Gt=R((Y80,Wt)=>{var CS1=function(Z){if(Z===0)return!1;return{level:Z,hasBasic:!0,has256:Z>=2,has16m:Z>=3}},ES1=function(Z){if(JX===!1)return 0;if(p7("color=16m")||p7("color=full")||p7("color=truecolor"))return 3;if(p7("color=256"))return 2;if(Z&&!Z.isTTY&&JX!==!0)return 0;var Y=JX?1:0;if(process.platform==="win32"){var J=TS1.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(J[0])>=10&&Number(J[2])>=10586)return Number(J[2])>=14931?3:2;return 1}if("CI"in p8){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function($){return $ in p8})||p8.CI_NAME==="codeship")return 1;return Y}if("TEAMCITY_VERSION"in p8)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(p8.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in p8){var X=parseInt((p8.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(p8.TERM_PROGRAM){case"iTerm.app":return X>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(p8.TERM))return 2;if(/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(p8.TERM))return 1;if("COLORTERM"in p8)return 1;if(p8.TERM==="dumb")return Y;return Y},XN=function(Z){var Y=ES1(Z);return CS1(Y)},TS1=import.meta.require("os"),p7=$t(),p8=process.env,JX=void 0;if(p7("no-color")||p7("no-colors")||p7("color=false"))JX=!1;else if(p7("color")||p7("colors")||p7("color=true")||p7("color=always"))JX=!0;if("FORCE_COLOR"in p8)JX=p8.FORCE_COLOR.length===0||parseInt(p8.FORCE_COLOR,10)!==0;Wt.exports={supportsColor:XN,stdout:XN(process.stdout),stderr:XN(process.stderr)}});var Kt=R((J80,Qt)=>{Qt.exports=function Z(Y,J){var X="";Y=Y||"Run the trap, drop the bass",Y=Y.split("");var $={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return Y.forEach(function(W){W=W.toLowerCase();var G=$[W]||[" "],Q=Math.floor(Math.random()*G.length);if(typeof $[W]!=="undefined")X+=$[W][Q];else X+=W}),X}});var zt=R((X80,Ht)=>{Ht.exports=function Z(Y,J){Y=Y||"   he is here   ";var X={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},$=[].concat(X.up,X.down,X.mid);function W(K){var H=Math.floor(Math.random()*K);return H}function G(K){var H=!1;return $.filter(function(z){H=z===K}),H}function Q(K,H){var z="",F,U;H=H||{},H.up=typeof H.up!=="undefined"?H.up:!0,H.mid=typeof H.mid!=="undefined"?H.mid:!0,H.down=typeof H.down!=="undefined"?H.down:!0,H.size=typeof H.size!=="undefined"?H.size:"maxi",K=K.split("");for(U in K){if(G(U))continue;switch(z=z+K[U],F={up:0,down:0,mid:0},H.size){case"mini":F.up=W(8),F.mid=W(2),F.down=W(8);break;case"maxi":F.up=W(16)+3,F.mid=W(4)+1,F.down=W(64)+3;break;default:F.up=W(8)+1,F.mid=W(6)/2,F.down=W(8)+1;break}var q=["up","mid","down"];for(var V in q){var L=q[V];for(var w=0;w<=F[L];w++)if(H[L])z=z+X[L][W(X[L].length)]}}return z}return Q(Y,J)}});var Ut=R(($80,Ft)=>{Ft.exports=function(Z){return function(Y,J,X){if(Y===" ")return Y;switch(J%3){case 0:return Z.red(Y);case 1:return Z.white(Y);case 2:return Z.blue(Y)}}}});var Vt=R((W80,qt)=>{qt.exports=function(Z){return function(Y,J,X){return J%2===0?Y:Z.inverse(Y)}}});var Rt=R((G80,Lt)=>{Lt.exports=function(Z){var Y=["red","yellow","green","blue","magenta"];return function(J,X,$){if(J===" ")return J;else return Z[Y[X++%Y.length]](J)}}});var Mt=R((Q80,wt)=>{wt.exports=function(Z){var Y=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(J,X,$){return J===" "?J:Z[Y[Math.round(Math.random()*(Y.length-2))]](J)}}});var Pt=R((H80,Dt)=>{var Nt=function(Z){var Y=function J(){return xS1.apply(J,arguments)};return Y._styles=Z,Y.__proto__=_S1,Y},xS1=function(){var Z=Array.prototype.slice.call(arguments),Y=Z.map(function(G){if(G!=null&&G.constructor===String)return G;else return jS1.inspect(G)}).join(" ");if(!j1.enabled||!Y)return Y;var J=Y.indexOf("\n")!=-1,X=this._styles,$=X.length;while($--){var W=d9[X[$]];if(Y=W.open+Y.replace(W.closeRe,W.open)+W.close,J)Y=Y.replace(OS1,function(G){return W.close+G+W.open})}return Y},fS1=function(){var Z={};return Object.keys(It).forEach(function(Y){Z[Y]={get:function(){return Nt([Y])}}}),Z},j1={};Dt.exports=j1;j1.themes={};var jS1=import.meta.require("util"),d9=j1.styles=Jt(),At=Object.defineProperties,OS1=new RegExp(/[\r\n]+/g);j1.supportsColor=Gt().supportsColor;if(typeof j1.enabled==="undefined")j1.enabled=j1.supportsColor()!==!1;j1.enable=function(){j1.enabled=!0};j1.disable=function(){j1.enabled=!1};j1.stripColors=j1.strip=function(Z){return(""+Z).replace(/\x1B\[\d+m/g,"")};var K80=j1.stylize=function Z(Y,J){if(!j1.enabled)return Y+"";var X=d9[J];if(!X&&J in j1)return j1[J](Y);return X.open+Y+X.close},SS1=/[|\\{}()[\]^$+*?.]/g,kS1=function(Z){if(typeof Z!=="string")throw new TypeError("Expected a string");return Z.replace(SS1,"\\$&")},It=function(){var Z={};return d9.grey=d9.gray,Object.keys(d9).forEach(function(Y){d9[Y].closeRe=new RegExp(kS1(d9[Y].close),"g"),Z[Y]={get:function(){return Nt(this._styles.concat(Y))}}}),Z}(),_S1=At(function Z(){},It);j1.setTheme=function(Z){if(typeof Z==="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller\'s) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + \'/../themes/generic-logging.js\'); The new syntax looks like colors.setTheme(require(__dirname + \'/../themes/generic-logging.js\'));");return}for(var Y in Z)(function(J){j1[J]=function(X){if(typeof Z[J]==="object"){var $=X;for(var W in Z[J])$=j1[Z[J][W]]($);return $}return j1[Z[J]](X)}})(Y)};var yS1=function Z(Y,J){var X=J.split("");return X=X.map(Y),X.join("")};j1.trap=Kt();j1.zalgo=zt();j1.maps={};j1.maps.america=Ut()(j1);j1.maps.zebra=Vt()(j1);j1.maps.rainbow=Rt()(j1);j1.maps.random=Mt()(j1);for(Bt in j1.maps)(function(Z){j1[Z]=function(Y){return yS1(j1.maps[Z],Y)}})(Bt);var Bt;At(j1,fS1())});var $N=R((z80,Tt)=>{var gS1=Pt();Tt.exports=gS1});var Ct=R((bS1)=>{bS1.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};bS1.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var Et=R((mS1)=>{mS1.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};mS1.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var jt=R((cS1)=>{cS1.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};cS1.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var Ot=R((Vz)=>{Object.defineProperty(Vz,"cli",{value:Ct()});Object.defineProperty(Vz,"npm",{value:Et()});Object.defineProperty(Vz,"syslog",{value:jt()})});var v0=R((GW)=>{Object.defineProperty(GW,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(GW,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(GW,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(GW,"configs",{value:Ot()})});var Rz=R((R80,Lz)=>{var QN=$N(),{LEVEL:WN,MESSAGE:GN}=v0();QN.enabled=!0;var St=/\s+/;class l7{constructor(Z={}){if(Z.colors)this.addColors(Z.colors);this.options=Z}static addColors(Z){const Y=Object.keys(Z).reduce((J,X)=>{return J[X]=St.test(Z[X])?Z[X].split(St):Z[X],J},{});return l7.allColors=Object.assign({},l7.allColors||{},Y),l7.allColors}addColors(Z){return l7.addColors(Z)}colorize(Z,Y,J){if(typeof J==="undefined")J=Y;if(!Array.isArray(l7.allColors[Z]))return QN[l7.allColors[Z]](J);for(let X=0,$=l7.allColors[Z].length;X<$;X++)J=QN[l7.allColors[Z][X]](J);return J}transform(Z,Y){if(Y.all&&typeof Z[GN]==="string")Z[GN]=this.colorize(Z[WN],Z.level,Z[GN]);if(Y.level||Y.all||!Y.message)Z.level=this.colorize(Z[WN],Z.level);if(Y.all||Y.message)Z.message=this.colorize(Z[WN],Z.level,Z.message);return Z}}Lz.exports=(Z)=>new l7(Z);Lz.exports.Colorizer=Lz.exports.Format=l7});var _t=R((w80,kt)=>{var{Colorizer:iS1}=Rz();kt.exports=(Z)=>{return iS1.addColors(Z.colors||Z),Z}});var ft=R((M80,xt)=>{var nS1=w6();xt.exports=nS1((Z)=>{return Z.message=`\t${Z.message}`,Z})});var bt=R((B80,gt)=>{var aS1=w6(),{LEVEL:yt,MESSAGE:KN}=v0();gt.exports=aS1((Z,{stack:Y,cause:J})=>{if(Z instanceof Error){const $=Object.assign({},Z,{level:Z.level,[yt]:Z[yt]||Z.level,message:Z.message,[KN]:Z[KN]||Z.message});if(Y)$.stack=Z.stack;if(J)$.cause=Z.cause;return $}if(!(Z.message instanceof Error))return Z;const X=Z.message;if(Object.assign(Z,X),Z.message=X.message,Z[KN]=X.message,Y)Z.stack=X.stack;if(J)Z.cause=X.cause;return Z})});var zN=R((A80,wz)=>{var{configs:sS1,LEVEL:vt,MESSAGE:HN}=v0();class XX{constructor(Z={levels:sS1.npm.levels}){this.paddings=XX.paddingForLevels(Z.levels,Z.filler),this.options=Z}static getLongestLevel(Z){const Y=Object.keys(Z).map((J)=>J.length);return Math.max(...Y)}static paddingForLevel(Z,Y,J){const X=J+1-Z.length,$=Math.floor(X/Y.length);return`${Y}${Y.repeat($)}`.slice(0,X)}static paddingForLevels(Z,Y=" "){const J=XX.getLongestLevel(Z);return Object.keys(Z).reduce((X,$)=>{return X[$]=XX.paddingForLevel($,Y,J),X},{})}transform(Z,Y){if(Z.message=`${this.paddings[Z[vt]]}${Z.message}`,Z[HN])Z[HN]=`${this.paddings[Z[vt]]}${Z[HN]}`;return Z}}wz.exports=(Z)=>new XX(Z);wz.exports.Padder=wz.exports.Format=XX});var ht=R((N80,UN)=>{var{Colorizer:rS1}=Rz(),{Padder:tS1}=zN(),{configs:oS1,MESSAGE:eS1}=v0();class FN{constructor(Z={}){if(!Z.levels)Z.levels=oS1.cli.levels;this.colorizer=new rS1(Z),this.padder=new tS1(Z),this.options=Z}transform(Z,Y){return this.colorizer.transform(this.padder.transform(Z,Y),Y),Z[eS1]=`${Z.level}:${Z.message}`,Z}}UN.exports=(Z)=>new FN(Z);UN.exports.Format=FN});var ut=R((I80,qN)=>{var mt=function(Z){if(!Z.every(Yk1))return;return(Y)=>{let J=Y;for(let X=0;X<Z.length;X++)if(J=Z[X].transform(J,Z[X].options),!J)return!1;return J}},Yk1=function(Z){if(typeof Z.transform!=="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0},Zk1=w6();qN.exports=(...Z)=>{const Y=Zk1(mt(Z)),J=Y();return J.Format=Y.Format,J};qN.exports.cascade=mt});var QW=R((D80,lt)=>{var MZ=function(Z){if(Z.length<5000&&!Jk1.test(Z))return`"${Z}"`;return JSON.stringify(Z)},VN=function(Z){if(Z.length>200)return Z.sort();for(let Y=1;Y<Z.length;Y++){const J=Z[Y];let X=Y;while(X!==0&&Z[X-1]>J)Z[X]=Z[X-1],X--;Z[X]=J}return Z},LN=function(Z){return Xk1.call(Z)!==void 0&&Z.length!==0},dt=function(Z,Y,J){if(Z.length<J)J=Z.length;const X=Y===","?"":" ";let $=`"0":${X}${Z[0]}`;for(let W=1;W<J;W++)$+=`${Y}"${W}":${X}${Z[W]}`;return $},$k1=function(Z){if(Mz.call(Z,"circularValue")){const Y=Z.circularValue;if(typeof Y==="string")return`"${Y}"`;if(Y==null)return Y;if(Y===Error||Y===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'},ct=function(Z,Y){let J;if(Mz.call(Z,Y)){if(J=Z[Y],typeof J!=="boolean")throw new TypeError(`The "${Y}" argument must be of type boolean`)}return J===void 0?!0:J},pt=function(Z,Y){let J;if(Mz.call(Z,Y)){if(J=Z[Y],typeof J!=="number")throw new TypeError(`The "${Y}" argument must be of type number`);if(!Number.isInteger(J))throw new TypeError(`The "${Y}" argument must be an integer`);if(J<1)throw new RangeError(`The "${Y}" argument must be >= 1`)}return J===void 0?Infinity:J},c9=function(Z){if(Z===1)return"1 item";return`${Z} items`},Wk1=function(Z){const Y=new Set;for(let J of Z)if(typeof J==="string"||typeof J==="number")Y.add(String(J));return Y},Gk1=function(Z){if(Mz.call(Z,"strict")){const Y=Z.strict;if(typeof Y!=="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(Y)return(J)=>{let X=`Object can not safely be stringified. Received type ${typeof J}`;if(typeof J!=="function")X+=` (${J.toString()})`;throw new Error(X)}}},RN=function(Z){Z={...Z};const Y=Gk1(Z);if(Y){if(Z.bigint===void 0)Z.bigint=!1;if(!("circularValue"in Z))Z.circularValue=Error}const J=$k1(Z),X=ct(Z,"bigint"),$=ct(Z,"deterministic"),W=pt(Z,"maximumDepth"),G=pt(Z,"maximumBreadth");function Q(U,q,V,L,w,B){let A=q[U];if(typeof A==="object"&&A!==null&&typeof A.toJSON==="function")A=A.toJSON(U);switch(A=L.call(q,U,A),typeof A){case"string":return MZ(A);case"object":{if(A===null)return"null";if(V.indexOf(A)!==-1)return J;let M="",I=",";const x=B;if(Array.isArray(A)){if(A.length===0)return"[]";if(W<V.length+1)return'"[Array]"';if(V.push(A),w!=="")B+=w,M+=`\n${B}`,I=`,\n${B}`;const _=Math.min(A.length,G);let O=0;for(;O<_-1;O++){const i=Q(String(O),A,V,L,w,B);M+=i!==void 0?i:"null",M+=I}const k=Q(String(O),A,V,L,w,B);if(M+=k!==void 0?k:"null",A.length-1>G){const i=A.length-G-1;M+=`${I}"... ${c9(i)} not stringified"`}if(w!=="")M+=`\n${x}`;return V.pop(),`[${M}]`}let j=Object.keys(A);const E=j.length;if(E===0)return"{}";if(W<V.length+1)return'"[Object]"';let D="",l="";if(w!=="")B+=w,I=`,\n${B}`,D=" ";const b=Math.min(E,G);if($&&!LN(A))j=VN(j);V.push(A);for(let _=0;_<b;_++){const O=j[_],k=Q(O,A,V,L,w,B);if(k!==void 0)M+=`${l}${MZ(O)}:${D}${k}`,l=I}if(E>G){const _=E-G;M+=`${l}"...":${D}"${c9(_)} not stringified"`,l=I}if(w!==""&&l.length>1)M=`\n${B}${M}\n${x}`;return V.pop(),`{${M}}`}case"number":return isFinite(A)?String(A):Y?Y(A):"null";case"boolean":return A===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(A);default:return Y?Y(A):void 0}}function K(U,q,V,L,w,B){if(typeof q==="object"&&q!==null&&typeof q.toJSON==="function")q=q.toJSON(U);switch(typeof q){case"string":return MZ(q);case"object":{if(q===null)return"null";if(V.indexOf(q)!==-1)return J;const A=B;let M="",I=",";if(Array.isArray(q)){if(q.length===0)return"[]";if(W<V.length+1)return'"[Array]"';if(V.push(q),w!=="")B+=w,M+=`\n${B}`,I=`,\n${B}`;const E=Math.min(q.length,G);let D=0;for(;D<E-1;D++){const b=K(String(D),q[D],V,L,w,B);M+=b!==void 0?b:"null",M+=I}const l=K(String(D),q[D],V,L,w,B);if(M+=l!==void 0?l:"null",q.length-1>G){const b=q.length-G-1;M+=`${I}"... ${c9(b)} not stringified"`}if(w!=="")M+=`\n${A}`;return V.pop(),`[${M}]`}V.push(q);let x="";if(w!=="")B+=w,I=`,\n${B}`,x=" ";let j="";for(let E of L){const D=K(E,q[E],V,L,w,B);if(D!==void 0)M+=`${j}${MZ(E)}:${x}${D}`,j=I}if(w!==""&&j.length>1)M=`\n${B}${M}\n${A}`;return V.pop(),`{${M}}`}case"number":return isFinite(q)?String(q):Y?Y(q):"null";case"boolean":return q===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(q);default:return Y?Y(q):void 0}}function H(U,q,V,L,w){switch(typeof q){case"string":return MZ(q);case"object":{if(q===null)return"null";if(typeof q.toJSON==="function"){if(q=q.toJSON(U),typeof q!=="object")return H(U,q,V,L,w);if(q===null)return"null"}if(V.indexOf(q)!==-1)return J;const B=w;if(Array.isArray(q)){if(q.length===0)return"[]";if(W<V.length+1)return'"[Array]"';V.push(q),w+=L;let D=`\n${w}`;const l=`,\n${w}`,b=Math.min(q.length,G);let _=0;for(;_<b-1;_++){const k=H(String(_),q[_],V,L,w);D+=k!==void 0?k:"null",D+=l}const O=H(String(_),q[_],V,L,w);if(D+=O!==void 0?O:"null",q.length-1>G){const k=q.length-G-1;D+=`${l}"... ${c9(k)} not stringified"`}return D+=`\n${B}`,V.pop(),`[${D}]`}let A=Object.keys(q);const M=A.length;if(M===0)return"{}";if(W<V.length+1)return'"[Object]"';w+=L;const I=`,\n${w}`;let x="",j="",E=Math.min(M,G);if(LN(q))x+=dt(q,I,G),A=A.slice(q.length),E-=q.length,j=I;if($)A=VN(A);V.push(q);for(let D=0;D<E;D++){const l=A[D],b=H(l,q[l],V,L,w);if(b!==void 0)x+=`${j}${MZ(l)}: ${b}`,j=I}if(M>G){const D=M-G;x+=`${j}"...": "${c9(D)} not stringified"`,j=I}if(j!=="")x=`\n${w}${x}\n${B}`;return V.pop(),`{${x}}`}case"number":return isFinite(q)?String(q):Y?Y(q):"null";case"boolean":return q===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(q);default:return Y?Y(q):void 0}}function z(U,q,V){switch(typeof q){case"string":return MZ(q);case"object":{if(q===null)return"null";if(typeof q.toJSON==="function"){if(q=q.toJSON(U),typeof q!=="object")return z(U,q,V);if(q===null)return"null"}if(V.indexOf(q)!==-1)return J;let L="";if(Array.isArray(q)){if(q.length===0)return"[]";if(W<V.length+1)return'"[Array]"';V.push(q);const I=Math.min(q.length,G);let x=0;for(;x<I-1;x++){const E=z(String(x),q[x],V);L+=E!==void 0?E:"null",L+=","}const j=z(String(x),q[x],V);if(L+=j!==void 0?j:"null",q.length-1>G){const E=q.length-G-1;L+=`,"... ${c9(E)} not stringified"`}return V.pop(),`[${L}]`}let w=Object.keys(q);const B=w.length;if(B===0)return"{}";if(W<V.length+1)return'"[Object]"';let A="",M=Math.min(B,G);if(LN(q))L+=dt(q,",",G),w=w.slice(q.length),M-=q.length,A=",";if($)w=VN(w);V.push(q);for(let I=0;I<M;I++){const x=w[I],j=z(x,q[x],V);if(j!==void 0)L+=`${A}${MZ(x)}:${j}`,A=","}if(B>G){const I=B-G;L+=`${A}"...":"${c9(I)} not stringified"`}return V.pop(),`{${L}}`}case"number":return isFinite(q)?String(q):Y?Y(q):"null";case"boolean":return q===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(q);default:return Y?Y(q):void 0}}function F(U,q,V){if(arguments.length>1){let L="";if(typeof V==="number")L=" ".repeat(Math.min(V,10));else if(typeof V==="string")L=V.slice(0,10);if(q!=null){if(typeof q==="function")return Q("",{"":U},[],q,L,"");if(Array.isArray(q))return K("",U,[],Wk1(q),L,"")}if(L.length!==0)return H("",U,[],L,"")}return z("",U,[])}return F},{hasOwnProperty:Mz}=Object.prototype,p9=RN();p9.configure=RN;p9.stringify=p9;p9.default=p9;D80.stringify=p9;D80.configure=RN;lt.exports=p9;var Jk1=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,Xk1=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get});var wN=R((P80,it)=>{var Uk1=function(Z,Y){if(typeof Y==="bigint")return Y.toString();return Y},Hk1=w6(),{MESSAGE:zk1}=v0(),Fk1=QW();it.exports=Hk1((Z,Y)=>{const J=Fk1.configure(Y);return Z[zk1]=J(Z,Y.replacer||Uk1,Y.space),Z})});var at=R((T80,nt)=>{var qk1=w6();nt.exports=qk1((Z,Y)=>{if(Y.message)return Z.message=`[${Y.label}] ${Z.message}`,Z;return Z.label=Y.label,Z})});var rt=R((C80,st)=>{var Vk1=w6(),{MESSAGE:Lk1}=v0(),Rk1=QW();st.exports=Vk1((Z)=>{const Y={};if(Z.message)Y["@message"]=Z.message,delete Z.message;if(Z.timestamp)Y["@timestamp"]=Z.timestamp,delete Z.timestamp;return Y["@fields"]=Z,Z[Lk1]=Rk1(Y),Z})});var ot=R((E80,tt)=>{var Mk1=function(Z,Y,J){const X=Y.reduce((W,G)=>{return W[G]=Z[G],delete Z[G],W},{}),$=Object.keys(Z).reduce((W,G)=>{return W[G]=Z[G],delete Z[G],W},{});return Object.assign(Z,X,{[J]:$}),Z},Bk1=function(Z,Y,J){return Z[J]=Y.reduce((X,$)=>{return X[$]=Z[$],delete Z[$],X},{}),Z},wk1=w6();tt.exports=wk1((Z,Y={})=>{let J="metadata";if(Y.key)J=Y.key;let X=[];if(!Y.fillExcept&&!Y.fillWith)X.push("level"),X.push("message");if(Y.fillExcept)X=Y.fillExcept;if(X.length>0)return Mk1(Z,X,J);if(Y.fillWith)return Bk1(Z,Y.fillWith,J);return Z})});var Zo=R((KW,et)=>{var Ak1=w6(),Nk1=Sw();et.exports=Ak1((Z)=>{const Y=+new Date;return KW.diff=Y-(KW.prevTime||Y),KW.prevTime=Y,Z.ms=`+${Nk1(KW.diff)}`,Z})});var Xo=R((j80,Jo)=>{var Ik1=import.meta.require("util").inspect,Dk1=w6(),{LEVEL:Pk1,MESSAGE:Yo,SPLAT:Tk1}=v0();Jo.exports=Dk1((Z,Y={})=>{const J=Object.assign({},Z);return delete J[Pk1],delete J[Yo],delete J[Tk1],Z[Yo]=Ik1(J,!1,Y.depth||null,Y.colorize),Z})});var $o=R((O80,Bz)=>{var{MESSAGE:Ck1}=v0();class MN{constructor(Z){this.template=Z}transform(Z){return Z[Ck1]=this.template(Z),Z}}Bz.exports=(Z)=>new MN(Z);Bz.exports.Printf=Bz.exports.Format=MN});var Qo=R((S80,Go)=>{var Ek1=w6(),{MESSAGE:Wo}=v0(),jk1=QW();Go.exports=Ek1((Z)=>{const Y=jk1(Object.assign({},Z,{level:void 0,message:void 0,splat:void 0})),J=Z.padding&&Z.padding[Z.level]||"";if(Y!=="{}")Z[Wo]=`${Z.level}:${J} ${Z.message} ${Y}`;else Z[Wo]=`${Z.level}:${J} ${Z.message}`;return Z})});var Fo=R((k80,zo)=>{var Ok1=import.meta.require("util"),{SPLAT:Ko}=v0(),Sk1=/%[scdjifoO%]/g,kk1=/%%/g;class Ho{constructor(Z){this.options=Z}_splat(Z,Y){const J=Z.message,X=Z[Ko]||Z.splat||[],$=J.match(kk1),W=$&&$.length||0,Q=Y.length-W-X.length,K=Q<0?X.splice(Q,-1*Q):[],H=K.length;if(H)for(let z=0;z<H;z++)Object.assign(Z,K[z]);return Z.message=Ok1.format(J,...X),Z}transform(Z){const Y=Z.message,J=Z[Ko]||Z.splat;if(!J||!J.length)return Z;const X=Y&&Y.match&&Y.match(Sk1);if(!X&&(J||J.length)){const $=J.length>1?J.splice(0):J,W=$.length;if(W)for(let G=0;G<W;G++)Object.assign(Z,$[G]);return Z}if(X)return this._splat(Z,X);return Z}}zo.exports=(Z)=>new Ho(Z)});var qo=R((Az,Uo)=>{(function(Z,Y){typeof Az==="object"&&typeof Uo!=="undefined"?Y(Az):typeof define==="function"&&define.amd?define(["exports"],Y):Y(Z.fecha={})})(Az,function(Z){var Y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,J="\\d\\d?",X="\\d\\d",$="\\d{3}",W="\\d{4}",G="[^\\s]+",Q=/\[([^]*?)\]/gm;function K(g,s){var q1=[];for(var a1=0,Y1=g.length;a1<Y1;a1++)q1.push(g[a1].substr(0,s));return q1}var H=function(g){return function(s,q1){var a1=q1[g].map(function(h0){return h0.toLowerCase()}),Y1=a1.indexOf(s.toLowerCase());if(Y1>-1)return Y1;return null}};function z(g){var s=[];for(var q1=1;q1<arguments.length;q1++)s[q1-1]=arguments[q1];for(var a1=0,Y1=s;a1<Y1.length;a1++){var h0=Y1[a1];for(var s7 in h0)g[s7]=h0[s7]}return g}var F=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],U=["January","February","March","April","May","June","July","August","September","October","November","December"],q=K(U,3),V=K(F,3),L={dayNamesShort:V,dayNames:F,monthNamesShort:q,monthNames:U,amPm:["am","pm"],DoFn:function(g){return g+["th","st","nd","rd"][g%10>3?0:(g-g%10!==10?1:0)*g%10]}},w=z({},L),B=function(g){return w=z(w,g)},A=function(g){return g.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},M=function(g,s){if(s===void 0)s=2;g=String(g);while(g.length<s)g="0"+g;return g},I={D:function(g){return String(g.getDate())},DD:function(g){return M(g.getDate())},Do:function(g,s){return s.DoFn(g.getDate())},d:function(g){return String(g.getDay())},dd:function(g){return M(g.getDay())},ddd:function(g,s){return s.dayNamesShort[g.getDay()]},dddd:function(g,s){return s.dayNames[g.getDay()]},M:function(g){return String(g.getMonth()+1)},MM:function(g){return M(g.getMonth()+1)},MMM:function(g,s){return s.monthNamesShort[g.getMonth()]},MMMM:function(g,s){return s.monthNames[g.getMonth()]},YY:function(g){return M(String(g.getFullYear()),4).substr(2)},YYYY:function(g){return M(g.getFullYear(),4)},h:function(g){return String(g.getHours()%12||12)},hh:function(g){return M(g.getHours()%12||12)},H:function(g){return String(g.getHours())},HH:function(g){return M(g.getHours())},m:function(g){return String(g.getMinutes())},mm:function(g){return M(g.getMinutes())},s:function(g){return String(g.getSeconds())},ss:function(g){return M(g.getSeconds())},S:function(g){return String(Math.round(g.getMilliseconds()/100))},SS:function(g){return M(Math.round(g.getMilliseconds()/10),2)},SSS:function(g){return M(g.getMilliseconds(),3)},a:function(g,s){return g.getHours()<12?s.amPm[0]:s.amPm[1]},A:function(g,s){return g.getHours()<12?s.amPm[0].toUpperCase():s.amPm[1].toUpperCase()},ZZ:function(g){var s=g.getTimezoneOffset();return(s>0?"-":"+")+M(Math.floor(Math.abs(s)/60)*100+Math.abs(s)%60,4)},Z:function(g){var s=g.getTimezoneOffset();return(s>0?"-":"+")+M(Math.floor(Math.abs(s)/60),2)+":"+M(Math.abs(s)%60,2)}},x=function(g){return+g-1},j=[null,J],E=[null,G],D=["isPm",G,function(g,s){var q1=g.toLowerCase();if(q1===s.amPm[0])return 0;else if(q1===s.amPm[1])return 1;return null}],l=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(g){var s=(g+"").match(/([+-]|\d\d)/gi);if(s){var q1=+s[1]*60+parseInt(s[2],10);return s[0]==="+"?q1:-q1}return 0}],b={D:["day",J],DD:["day",X],Do:["day",J+G,function(g){return parseInt(g,10)}],M:["month",J,x],MM:["month",X,x],YY:["year",X,function(g){var s=new Date,q1=+(""+s.getFullYear()).substr(0,2);return+(""+(+g>68?q1-1:q1)+g)}],h:["hour",J,void 0,"isPm"],hh:["hour",X,void 0,"isPm"],H:["hour",J],HH:["hour",X],m:["minute",J],mm:["minute",X],s:["second",J],ss:["second",X],YYYY:["year",W],S:["millisecond","\\d",function(g){return+g*100}],SS:["millisecond",X,function(g){return+g*10}],SSS:["millisecond",$],d:j,dd:j,ddd:E,dddd:E,MMM:["month",G,H("monthNamesShort")],MMMM:["month",G,H("monthNames")],a:D,A:D,ZZ:l,Z:l},_={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},O=function(g){return z(_,g)},k=function(g,s,q1){if(s===void 0)s=_.default;if(q1===void 0)q1={};if(typeof g==="number")g=new Date(g);if(Object.prototype.toString.call(g)!=="[object Date]"||isNaN(g.getTime()))throw new Error("Invalid Date pass to format");s=_[s]||s;var a1=[];s=s.replace(Q,function(h0,s7){return a1.push(s7),"@@@"});var Y1=z(z({},w),q1);return s=s.replace(Y,function(h0){return I[h0](g,Y1)}),s.replace(/@@@/g,function(){return a1.shift()})};function i(g,s,q1){if(q1===void 0)q1={};if(typeof s!=="string")throw new Error("Invalid format in fecha parse");if(s=_[s]||s,g.length>1000)return null;var a1=new Date,Y1={year:a1.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},h0=[],s7=[],TZ=s.replace(Q,function(U5,E4){return s7.push(A(E4)),"@@@"}),ZY={},SW={};TZ=A(TZ).replace(Y,function(U5){var E4=b[U5],JY=E4[0],fW=E4[1],wX=E4[3];if(ZY[JY])throw new Error("Invalid format. "+JY+" specified twice in format");if(ZY[JY]=!0,wX)SW[wX]=!0;return h0.push(E4),"("+fW+")"}),Object.keys(SW).forEach(function(U5){if(!ZY[U5])throw new Error("Invalid format. "+U5+" is required in specified format")}),TZ=TZ.replace(/@@@/g,function(){return s7.shift()});var YY=g.match(new RegExp(TZ,"i"));if(!YY)return null;var kW=z(z({},w),q1);for(var i8=1;i8<YY.length;i8++){var VX=h0[i8-1],_W=VX[0],LX=VX[2],RX=LX?LX(YY[i8],kW):+YY[i8];if(RX==null)return null;Y1[_W]=RX}if(Y1.isPm===1&&Y1.hour!=null&&+Y1.hour!==12)Y1.hour=+Y1.hour+12;else if(Y1.isPm===0&&+Y1.hour===12)Y1.hour=0;var CZ;if(Y1.timezoneOffset==null){CZ=new Date(Y1.year,Y1.month,Y1.day,Y1.hour,Y1.minute,Y1.second,Y1.millisecond);var EZ=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]];for(var i8=0,xW=EZ.length;i8<xW;i8++)if(ZY[EZ[i8][0]]&&Y1[EZ[i8][0]]!==CZ[EZ[i8][1]]())return null}else if(CZ=new Date(Date.UTC(Y1.year,Y1.month,Y1.day,Y1.hour,Y1.minute-Y1.timezoneOffset,Y1.second,Y1.millisecond)),Y1.month>11||Y1.month<0||Y1.day>31||Y1.day<1||Y1.hour>23||Y1.hour<0||Y1.minute>59||Y1.minute<0||Y1.second>59||Y1.second<0)return null;return CZ}var T1={format:k,parse:i,defaultI18n:L,setGlobalDateI18n:B,setGlobalDateMasks:O};Z.assign=z,Z.default=T1,Z.format=k,Z.parse=i,Z.defaultI18n=L,Z.setGlobalDateI18n=B,Z.setGlobalDateMasks=O,Object.defineProperty(Z,"__esModule",{value:!0})})});var Lo=R((_80,Vo)=>{var _k1=qo(),xk1=w6();Vo.exports=xk1((Z,Y={})=>{if(Y.format)Z.timestamp=typeof Y.format==="function"?Y.format():_k1.format(new Date,Y.format);if(!Z.timestamp)Z.timestamp=(new Date()).toISOString();if(Y.alias)Z[Y.alias]=Z.timestamp;return Z})});var wo=R((x80,Ro)=>{var BN=$N(),fk1=w6(),{MESSAGE:AN}=v0();Ro.exports=fk1((Z,Y)=>{if(Y.level!==!1)Z.level=BN.strip(Z.level);if(Y.message!==!1)Z.message=BN.strip(String(Z.message));if(Y.raw!==!1&&Z[AN])Z[AN]=BN.strip(String(Z[AN]));return Z})});var NN=R((gk1)=>{var L8=function(Z,Y){Object.defineProperty(yk1,Z,{get(){return Y()},configurable:!0})},yk1=gk1.format=w6();gk1.levels=_t();L8("align",function(){return ft()});L8("errors",function(){return bt()});L8("cli",function(){return ht()});L8("combine",function(){return ut()});L8("colorize",function(){return Rz()});L8("json",function(){return wN()});L8("label",function(){return at()});L8("logstash",function(){return rt()});L8("metadata",function(){return ot()});L8("ms",function(){return Zo()});L8("padLevels",function(){return zN()});L8("prettyPrint",function(){return Xo()});L8("printf",function(){return $o()});L8("simple",function(){return Qo()});L8("splat",function(){return Fo()});L8("timestamp",function(){return Lo()});L8("uncolorize",function(){return wo()})});var DN=R((vk1)=>{var{format:Mo}=import.meta.require("util");vk1.warn={deprecated(Z){return()=>{throw new Error(Mo("{ %s } was removed in winston@3.0.0.",Z))}},useFormat(Z){return()=>{throw new Error([Mo("{ %s } was removed in winston@3.0.0.",Z),"Use a custom winston.format = winston.format(function) instead."].join("\n"))}},forFunctions(Z,Y,J){J.forEach((X)=>{Z[X]=vk1.warn[Y](X)})},forProperties(Z,Y,J){J.forEach((X)=>{const $=vk1.warn[Y](X);Object.defineProperty(Z,X,{get:$,set:$})})}}});var Bo=R((b80,hk1)=>{hk1.exports={name:"winston",description:"A logger for just about everything.",version:"3.11.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.4.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.5.0"},devDependencies:{"@babel/cli":"^7.17.0","@babel/core":"^7.17.2","@babel/preset-env":"^7.16.7","@dabh/eslint-config-populist":"^5.0.0","@types/node":"^20.3.1","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.9.0",hock:"^1.4.1",mocha:"8.1.3",nyc:"^15.1.0",rimraf:"^5.0.5",split2:"^4.1.0","std-mocks":"^1.0.1",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var Io=R((PN,No)=>{var Ao=function(Z,Y){for(var J in Z)Y[J]=Z[J]},l9=function(Z,Y,J){return D4(Z,Y,J)};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Nz=import.meta.require("buffer"),D4=Nz.Buffer;if(D4.from&&D4.alloc&&D4.allocUnsafe&&D4.allocUnsafeSlow)No.exports=Nz;else Ao(Nz,PN),PN.Buffer=l9;l9.prototype=Object.create(D4.prototype);Ao(D4,l9);l9.from=function(Z,Y,J){if(typeof Z==="number")throw new TypeError("Argument must not be a number");return D4(Z,Y,J)};l9.alloc=function(Z,Y,J){if(typeof Z!=="number")throw new TypeError("Argument must be a number");var X=D4(Z);if(Y!==void 0)if(typeof J==="string")X.fill(Y,J);else X.fill(Y);else X.fill(0);return X};l9.allocUnsafe=function(Z){if(typeof Z!=="number")throw new TypeError("Argument must be a number");return D4(Z)};l9.allocUnsafeSlow=function(Z){if(typeof Z!=="number")throw new TypeError("Argument must be a number");return Nz.SlowBuffer(Z)}});var EN=R((ek1)=>{var mk1=function(Z){if(!Z)return"utf8";var Y;while(!0)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(Y)return;Z=(""+Z).toLowerCase(),Y=!0}},uk1=function(Z){var Y=mk1(Z);if(typeof Y!=="string"&&(CN.isEncoding===Do||!Do(Z)))throw new Error("Unknown encoding: "+Z);return Y||Z},HW=function(Z){this.encoding=uk1(Z);var Y;switch(this.encoding){case"utf16le":this.text=nk1,this.end=ak1,Y=4;break;case"utf8":this.fillLast=pk1,Y=4;break;case"base64":this.text=sk1,this.end=rk1,Y=3;break;default:this.write=tk1,this.end=ok1;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=CN.allocUnsafe(Y)},TN=function(Z){if(Z<=127)return 0;else if(Z>>5===6)return 2;else if(Z>>4===14)return 3;else if(Z>>3===30)return 4;return Z>>6===2?-1:-2},dk1=function(Z,Y,J){var X=Y.length-1;if(X<J)return 0;var $=TN(Y[X]);if($>=0){if($>0)Z.lastNeed=$-1;return $}if(--X<J||$===-2)return 0;if($=TN(Y[X]),$>=0){if($>0)Z.lastNeed=$-2;return $}if(--X<J||$===-2)return 0;if($=TN(Y[X]),$>=0){if($>0)if($===2)$=0;else Z.lastNeed=$-3;return $}return 0},ck1=function(Z,Y,J){if((Y[0]&192)!==128)return Z.lastNeed=0,"\uFFFD";if(Z.lastNeed>1&&Y.length>1){if((Y[1]&192)!==128)return Z.lastNeed=1,"\uFFFD";if(Z.lastNeed>2&&Y.length>2){if((Y[2]&192)!==128)return Z.lastNeed=2,"\uFFFD"}}},pk1=function(Z){var Y=this.lastTotal-this.lastNeed,J=ck1(this,Z,Y);if(J!==void 0)return J;if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,Y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,Y,0,Z.length),this.lastNeed-=Z.length},lk1=function(Z,Y){var J=dk1(this,Z,Y);if(!this.lastNeed)return Z.toString("utf8",Y);this.lastTotal=J;var X=Z.length-(J-this.lastNeed);return Z.copy(this.lastChar,0,X),Z.toString("utf8",Y,X)},ik1=function(Z){var Y=Z&&Z.length?this.write(Z):"";if(this.lastNeed)return Y+"\uFFFD";return Y},nk1=function(Z,Y){if((Z.length-Y)%2===0){var J=Z.toString("utf16le",Y);if(J){var X=J.charCodeAt(J.length-1);if(X>=55296&&X<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",Y,Z.length-1)},ak1=function(Z){var Y=Z&&Z.length?this.write(Z):"";if(this.lastNeed){var J=this.lastTotal-this.lastNeed;return Y+this.lastChar.toString("utf16le",0,J)}return Y},sk1=function(Z,Y){var J=(Z.length-Y)%3;if(J===0)return Z.toString("base64",Y);if(this.lastNeed=3-J,this.lastTotal=3,J===1)this.lastChar[0]=Z[Z.length-1];else this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1];return Z.toString("base64",Y,Z.length-J)},rk1=function(Z){var Y=Z&&Z.length?this.write(Z):"";if(this.lastNeed)return Y+this.lastChar.toString("base64",0,3-this.lastNeed);return Y},tk1=function(Z){return Z.toString(this.encoding)},ok1=function(Z){return Z&&Z.length?this.write(Z):""},CN=Io().Buffer,Do=CN.isEncoding||function(Z){switch(Z=""+Z,Z&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};ek1.StringDecoder=HW;HW.prototype.write=function(Z){if(Z.length===0)return"";var Y,J;if(this.lastNeed){if(Y=this.fillLast(Z),Y===void 0)return"";J=this.lastNeed,this.lastNeed=0}else J=0;if(J<Z.length)return Y?Y+this.text(Z,J):this.text(Z,J);return Y||""};HW.prototype.end=ik1;HW.prototype.text=lk1;HW.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length}});var Oo=R((h80,jo)=>{var Po=function(Z,Y){var J=Object.keys(Z);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(Z);Y&&(X=X.filter(function($){return Object.getOwnPropertyDescriptor(Z,$).enumerable})),J.push.apply(J,X)}return J},To=function(Z){for(var Y=1;Y<arguments.length;Y++){var J=arguments[Y]!=null?arguments[Y]:{};Y%2?Po(Object(J),!0).forEach(function(X){Y_1(Z,X,J[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(J)):Po(Object(J)).forEach(function(X){Object.defineProperty(Z,X,Object.getOwnPropertyDescriptor(J,X))})}return Z},Y_1=function(Z,Y,J){if(Y=Eo(Y),Y in Z)Object.defineProperty(Z,Y,{value:J,enumerable:!0,configurable:!0,writable:!0});else Z[Y]=J;return Z},J_1=function(Z,Y){if(!(Z instanceof Y))throw new TypeError("Cannot call a class as a function")},Co=function(Z,Y){for(var J=0;J<Y.length;J++){var X=Y[J];if(X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X)X.writable=!0;Object.defineProperty(Z,Eo(X.key),X)}},X_1=function(Z,Y,J){if(Y)Co(Z.prototype,Y);if(J)Co(Z,J);return Object.defineProperty(Z,"prototype",{writable:!1}),Z},Eo=function(Z){var Y=$_1(Z,"string");return typeof Y==="symbol"?Y:String(Y)},$_1=function(Z,Y){if(typeof Z!=="object"||Z===null)return Z;var J=Z[Symbol.toPrimitive];if(J!==void 0){var X=J.call(Z,Y||"default");if(typeof X!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(Z)},K_1=function(Z,Y,J){Iz.prototype.copy.call(Z,Y,J)},W_1=import.meta.require("buffer"),Iz=W_1.Buffer,G_1=import.meta.require("util"),jN=G_1.inspect,Q_1=jN&&jN.custom||"inspect";jo.exports=function(){function Z(){J_1(this,Z),this.head=null,this.tail=null,this.length=0}return X_1(Z,[{key:"push",value:function Y(J){var X={data:J,next:null};if(this.length>0)this.tail.next=X;else this.head=X;this.tail=X,++this.length}},{key:"unshift",value:function Y(J){var X={data:J,next:this.head};if(this.length===0)this.tail=X;this.head=X,++this.length}},{key:"shift",value:function Y(){if(this.length===0)return;var J=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,J}},{key:"clear",value:function Y(){this.head=this.tail=null,this.length=0}},{key:"join",value:function Y(J){if(this.length===0)return"";var X=this.head,$=""+X.data;while(X=X.next)$+=J+X.data;return $}},{key:"concat",value:function Y(J){if(this.length===0)return Iz.alloc(0);var X=Iz.allocUnsafe(J>>>0),$=this.head,W=0;while($)K_1($.data,X,W),W+=$.data.length,$=$.next;return X}},{key:"consume",value:function Y(J,X){var $;if(J<this.head.data.length)$=this.head.data.slice(0,J),this.head.data=this.head.data.slice(J);else if(J===this.head.data.length)$=this.shift();else $=X?this._getString(J):this._getBuffer(J);return $}},{key:"first",value:function Y(){return this.head.data}},{key:"_getString",value:function Y(J){var X=this.head,$=1,W=X.data;J-=W.length;while(X=X.next){var G=X.data,Q=J>G.length?G.length:J;if(Q===G.length)W+=G;else W+=G.slice(0,J);if(J-=Q,J===0){if(Q===G.length)if(++$,X.next)this.head=X.next;else this.head=this.tail=null;else this.head=X,X.data=G.slice(Q);break}++$}return this.length-=$,W}},{key:"_getBuffer",value:function Y(J){var X=Iz.allocUnsafe(J),$=this.head,W=1;$.data.copy(X),J-=$.data.length;while($=$.next){var G=$.data,Q=J>G.length?G.length:J;if(G.copy(X,X.length-J,0,Q),J-=Q,J===0){if(Q===G.length)if(++W,$.next)this.head=$.next;else this.head=this.tail=null;else this.head=$,$.data=G.slice(Q);break}++W}return this.length-=W,X}},{key:Q_1,value:function Y(J,X){return jN(this,To(To({},X),{},{depth:0,customInspect:!1}))}}]),Z}()});var SN=R((m80,ko)=>{var H_1=function(Z,Y){var J=this,X=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;if(X||$){if(Y)Y(Z);else if(Z){if(!this._writableState)process.nextTick(ON,this,Z);else if(!this._writableState.errorEmitted)this._writableState.errorEmitted=!0,process.nextTick(ON,this,Z)}return this}if(this._readableState)this._readableState.destroyed=!0;if(this._writableState)this._writableState.destroyed=!0;return this._destroy(Z||null,function(W){if(!Y&&W)if(!J._writableState)process.nextTick(So,J,W);else if(!J._writableState.errorEmitted)J._writableState.errorEmitted=!0,process.nextTick(So,J,W);else process.nextTick(Dz,J);else if(Y)process.nextTick(Dz,J),Y(W);else process.nextTick(Dz,J)}),this},So=function(Z,Y){ON(Z,Y),Dz(Z)},Dz=function(Z){if(Z._writableState&&!Z._writableState.emitClose)return;if(Z._readableState&&!Z._readableState.emitClose)return;Z.emit("close")},z_1=function(){if(this._readableState)this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1;if(this._writableState)this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1},ON=function(Z,Y){Z.emit("error",Y)},F_1=function(Z,Y){var{_readableState:J,_writableState:X}=Z;if(J&&J.autoDestroy||X&&X.autoDestroy)Z.destroy(Y);else Z.emit("error",Y)};ko.exports={destroy:H_1,undestroy:z_1,errorOrDestroy:F_1}});var BZ=R((L_1,fo)=>{var L7=function(Z,Y,J){if(!J)J=Error;function X(W,G,Q){if(typeof Y==="string")return Y;else return Y(W,G,Q)}class $ extends J{constructor(W,G,Q){super(X(W,G,Q))}}$.prototype.name=J.name,$.prototype.code=Z,xo[Z]=$},_o=function(Z,Y){if(Array.isArray(Z)){const J=Z.length;if(Z=Z.map((X)=>String(X)),J>2)return`one of ${Y} ${Z.slice(0,J-1).join(", ")}, or `+Z[J-1];else if(J===2)return`one of ${Y} ${Z[0]} or ${Z[1]}`;else return`of ${Y} ${Z[0]}`}else return`of ${Y} ${String(Z)}`},U_1=function(Z,Y,J){return Z.substr(!J||J<0?0:+J,Y.length)===Y},q_1=function(Z,Y,J){if(J===void 0||J>Z.length)J=Z.length;return Z.substring(J-Y.length,J)===Y},V_1=function(Z,Y,J){if(typeof J!=="number")J=0;if(J+Y.length>Z.length)return!1;else return Z.indexOf(Y,J)!==-1},xo={};L7("ERR_INVALID_OPT_VALUE",function(Z,Y){return'The value "'+Y+'" is invalid for option "'+Z+'"'},TypeError);L7("ERR_INVALID_ARG_TYPE",function(Z,Y,J){let X;if(typeof Y==="string"&&U_1(Y,"not "))X="must not be",Y=Y.replace(/^not /,"");else X="must be";let $;if(q_1(Z," argument"))$=`The ${Z} ${X} ${_o(Y,"type")}`;else{const W=V_1(Z,".")?"property":"argument";$=`The "${Z}" ${W} ${X} ${_o(Y,"type")}`}return $+=`. Received type ${typeof J}`,$},TypeError);L7("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");L7("ERR_METHOD_NOT_IMPLEMENTED",function(Z){return"The "+Z+" method is not implemented"});L7("ERR_STREAM_PREMATURE_CLOSE","Premature close");L7("ERR_STREAM_DESTROYED",function(Z){return"Cannot call "+Z+" after a stream was destroyed"});L7("ERR_MULTIPLE_CALLBACK","Callback called multiple times");L7("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");L7("ERR_STREAM_WRITE_AFTER_END","write after end");L7("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);L7("ERR_UNKNOWN_ENCODING",function(Z){return"Unknown encoding: "+Z},TypeError);L7("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");L_1.codes=xo});var kN=R((u80,yo)=>{var M_1=function(Z,Y,J){return Z.highWaterMark!=null?Z.highWaterMark:Y?Z[J]:null},B_1=function(Z,Y,J,X){var $=M_1(Y,X,J);if($!=null){if(!(isFinite($)&&Math.floor($)===$)||$<0){var W=X?J:"highWaterMark";throw new w_1(W,$)}return Math.floor($)}return Z.objectMode?16:16384},w_1=BZ().codes.ERR_INVALID_OPT_VALUE;yo.exports={getHighWaterMark:B_1}});var go=R((d80,_N)=>{if(typeof Object.create==="function")_N.exports=function Z(Y,J){if(J)Y.super_=J,Y.prototype=Object.create(J.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}})};else _N.exports=function Z(Y,J){if(J){Y.super_=J;var X=function(){};X.prototype=J.prototype,Y.prototype=new X,Y.prototype.constructor=Y}}});var $X=R((c80,fN)=>{try{if(xN=import.meta.require("util"),typeof xN.inherits!=="function")throw"";fN.exports=xN.inherits}catch(Z){fN.exports=go()}var xN});var Pz=R((p80,ho)=>{var A_1=function(Z){var Y=!1;return function(){if(Y)return;Y=!0;for(var J=arguments.length,X=new Array(J),$=0;$<J;$++)X[$]=arguments[$];Z.apply(this,X)}},N_1=function(){},I_1=function(Z){return Z.setHeader&&typeof Z.abort==="function"},vo=function(Z,Y,J){if(typeof Y==="function")return vo(Z,null,Y);if(!Y)Y={};J=A_1(J||N_1);var X=Y.readable||Y.readable!==!1&&Z.readable,$=Y.writable||Y.writable!==!1&&Z.writable,W=function q(){if(!Z.writable)Q()},G=Z._writableState&&Z._writableState.finished,Q=function q(){if($=!1,G=!0,!X)J.call(Z)},K=Z._readableState&&Z._readableState.endEmitted,H=function q(){if(X=!1,K=!0,!$)J.call(Z)},z=function q(V){J.call(Z,V)},F=function q(){var V;if(X&&!K){if(!Z._readableState||!Z._readableState.ended)V=new bo;return J.call(Z,V)}if($&&!G){if(!Z._writableState||!Z._writableState.ended)V=new bo;return J.call(Z,V)}},U=function q(){Z.req.on("finish",Q)};if(I_1(Z))if(Z.on("complete",Q),Z.on("abort",F),Z.req)U();else Z.on("request",U);else if($&&!Z._writableState)Z.on("end",W),Z.on("close",W);if(Z.on("end",H),Z.on("finish",Q),Y.error!==!1)Z.on("error",z);return Z.on("close",F),function(){if(Z.removeListener("complete",Q),Z.removeListener("abort",F),Z.removeListener("request",U),Z.req)Z.req.removeListener("finish",Q);Z.removeListener("end",W),Z.removeListener("close",W),Z.removeListener("finish",Q),Z.removeListener("end",H),Z.removeListener("error",z),Z.removeListener("close",F)}},bo=BZ().codes.ERR_STREAM_PREMATURE_CLOSE;ho.exports=vo});var uo=R((l80,mo)=>{var AZ=function(Z,Y,J){if(Y=D_1(Y),Y in Z)Object.defineProperty(Z,Y,{value:J,enumerable:!0,configurable:!0,writable:!0});else Z[Y]=J;return Z},D_1=function(Z){var Y=P_1(Z,"string");return typeof Y==="symbol"?Y:String(Y)},P_1=function(Z,Y){if(typeof Z!=="object"||Z===null)return Z;var J=Z[Symbol.toPrimitive];if(J!==void 0){var X=J.call(Z,Y||"default");if(typeof X!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(Z)},IZ=function(Z,Y){return{value:Z,done:Y}},C_1=function(Z){var Y=Z[NZ];if(Y!==null){var J=Z[a9].read();if(J!==null)Z[n9]=null,Z[NZ]=null,Z[i9]=null,Y(IZ(J,!1))}},E_1=function(Z){process.nextTick(C_1,Z)},j_1=function(Z,Y){return function(J,X){Z.then(function(){if(Y[Cz]){J(IZ(void 0,!0));return}Y[yN](J,X)},X)}},Tz,T_1=Pz(),NZ=Symbol("lastResolve"),i9=Symbol("lastReject"),zW=Symbol("error"),Cz=Symbol("ended"),n9=Symbol("lastPromise"),yN=Symbol("handlePromise"),a9=Symbol("stream"),O_1=Object.getPrototypeOf(function(){}),S_1=Object.setPrototypeOf((Tz={get stream(){return this[a9]},next:function Z(){var Y=this,J=this[zW];if(J!==null)return Promise.reject(J);if(this[Cz])return Promise.resolve(IZ(void 0,!0));if(this[a9].destroyed)return new Promise(function(G,Q){process.nextTick(function(){if(Y[zW])Q(Y[zW]);else G(IZ(void 0,!0))})});var X=this[n9],$;if(X)$=new Promise(j_1(X,this));else{var W=this[a9].read();if(W!==null)return Promise.resolve(IZ(W,!1));$=new Promise(this[yN])}return this[n9]=$,$}},AZ(Tz,Symbol.asyncIterator,function(){return this}),AZ(Tz,"return",function Z(){var Y=this;return new Promise(function(J,X){Y[a9].destroy(null,function($){if($){X($);return}J(IZ(void 0,!0))})})}),Tz),O_1),k_1=function Z(Y){var J,X=Object.create(S_1,(J={},AZ(J,a9,{value:Y,writable:!0}),AZ(J,NZ,{value:null,writable:!0}),AZ(J,i9,{value:null,writable:!0}),AZ(J,zW,{value:null,writable:!0}),AZ(J,Cz,{value:Y._readableState.endEmitted,writable:!0}),AZ(J,yN,{value:function $(W,G){var Q=X[a9].read();if(Q)X[n9]=null,X[NZ]=null,X[i9]=null,W(IZ(Q,!1));else X[NZ]=W,X[i9]=G},writable:!0}),J));return X[n9]=null,T_1(Y,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=X[i9];if(W!==null)X[n9]=null,X[NZ]=null,X[i9]=null,W($);X[zW]=$;return}var G=X[NZ];if(G!==null)X[n9]=null,X[NZ]=null,X[i9]=null,G(IZ(void 0,!0));X[Cz]=!0}),Y.on("readable",E_1.bind(null,X)),X};mo.exports=k_1});var io=R((i80,lo)=>{var co=function(Z,Y,J,X,$,W,G){try{var Q=Z[W](G),K=Q.value}catch(H){J(H);return}if(Q.done)Y(K);else Promise.resolve(K).then(X,$)},__1=function(Z){return function(){var Y=this,J=arguments;return new Promise(function(X,$){var W=Z.apply(Y,J);function G(K){co(W,X,$,G,Q,"next",K)}function Q(K){co(W,X,$,G,Q,"throw",K)}G(void 0)})}},po=function(Z,Y){var J=Object.keys(Z);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(Z);Y&&(X=X.filter(function($){return Object.getOwnPropertyDescriptor(Z,$).enumerable})),J.push.apply(J,X)}return J},x_1=function(Z){for(var Y=1;Y<arguments.length;Y++){var J=arguments[Y]!=null?arguments[Y]:{};Y%2?po(Object(J),!0).forEach(function(X){f_1(Z,X,J[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(J)):po(Object(J)).forEach(function(X){Object.defineProperty(Z,X,Object.getOwnPropertyDescriptor(J,X))})}return Z},f_1=function(Z,Y,J){if(Y=y_1(Y),Y in Z)Object.defineProperty(Z,Y,{value:J,enumerable:!0,configurable:!0,writable:!0});else Z[Y]=J;return Z},y_1=function(Z){var Y=g_1(Z,"string");return typeof Y==="symbol"?Y:String(Y)},g_1=function(Z,Y){if(typeof Z!=="object"||Z===null)return Z;var J=Z[Symbol.toPrimitive];if(J!==void 0){var X=J.call(Z,Y||"default");if(typeof X!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(Z)},v_1=function(Z,Y,J){var X;if(Y&&typeof Y.next==="function")X=Y;else if(Y&&Y[Symbol.asyncIterator])X=Y[Symbol.asyncIterator]();else if(Y&&Y[Symbol.iterator])X=Y[Symbol.iterator]();else throw new b_1("iterable",["Iterable"],Y);var $=new Z(x_1({objectMode:!0},J)),W=!1;$._read=function(){if(!W)W=!0,G()};function G(){return Q.apply(this,arguments)}function Q(){return Q=__1(function*(){try{var K=yield X.next(),H=K.value,z=K.done;if(z)$.push(null);else if($.push(yield H))G();else W=!1}catch(F){$.destroy(F)}}),Q.apply(this,arguments)}return $},b_1=BZ().codes.ERR_INVALID_ARG_TYPE;lo.exports=v_1});var lN=R((a80,Je)=>{var m_1=function(Z){return Ez.from(Z)},u_1=function(Z){return Ez.isBuffer(Z)||Z instanceof h_1},s_1=function(Z,Y,J){if(typeof Z.prependListener==="function")return Z.prependListener(Y,J);if(!Z._events||!Z._events[Y])Z.on(Y,J);else if(Array.isArray(Z._events[Y]))Z._events[Y].unshift(J);else Z._events[Y]=[J,Z._events[Y]]},ro=function(Z,Y,J){if(WX=WX||s9(),Z=Z||{},typeof J!=="boolean")J=Y instanceof WX;if(this.objectMode=!!Z.objectMode,J)this.objectMode=this.objectMode||!!Z.readableObjectMode;if(this.highWaterMark=p_1(this,Z,"readableHighWaterMark",J),this.buffer=new d_1,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding){if(!GX)GX=EN().StringDecoder;this.decoder=new GX(Z.encoding),this.encoding=Z.encoding}},m1=function(Z){if(WX=WX||s9(),!(this instanceof m1))return new m1(Z);var Y=this instanceof WX;if(this._readableState=new ro(Z,this,Y),this.readable=!0,Z){if(typeof Z.read==="function")this._read=Z.read;if(typeof Z.destroy==="function")this._destroy=Z.destroy}UW.call(this)},to=function(Z,Y,J,X,$){P1("readableAddChunk",Y);var W=Z._readableState;if(Y===null)W.reading=!1,o_1(Z,W);else{var G;if(!$)G=r_1(W,Y);if(G)FW(Z,G);else if(W.objectMode||Y&&Y.length>0){if(typeof Y!=="string"&&!W.objectMode&&Object.getPrototypeOf(Y)!==Ez.prototype)Y=m_1(Y);if(X)if(W.endEmitted)FW(Z,new a_1);else mN(Z,W,Y,!0);else if(W.ended)FW(Z,new i_1);else if(W.destroyed)return!1;else if(W.reading=!1,W.decoder&&!J)if(Y=W.decoder.write(Y),W.objectMode||Y.length!==0)mN(Z,W,Y,!1);else dN(Z,W);else mN(Z,W,Y,!1)}else if(!X)W.reading=!1,dN(Z,W)}return!W.ended&&(W.length<W.highWaterMark||W.length===0)},mN=function(Z,Y,J,X){if(Y.flowing&&Y.length===0&&!Y.sync)Y.awaitDrain=0,Z.emit("data",J);else{if(Y.length+=Y.objectMode?1:J.length,X)Y.buffer.unshift(J);else Y.buffer.push(J);if(Y.needReadable)Oz(Z)}dN(Z,Y)},r_1=function(Z,Y){var J;if(!u_1(Y)&&typeof Y!=="string"&&Y!==void 0&&!Z.objectMode)J=new l_1("chunk",["string","Buffer","Uint8Array"],Y);return J},t_1=function(Z){if(Z>=no)Z=no;else Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++;return Z},ao=function(Z,Y){if(Z<=0||Y.length===0&&Y.ended)return 0;if(Y.objectMode)return 1;if(Z!==Z)if(Y.flowing&&Y.length)return Y.buffer.head.data.length;else return Y.length;if(Z>Y.highWaterMark)Y.highWaterMark=t_1(Z);if(Z<=Y.length)return Z;if(!Y.ended)return Y.needReadable=!0,0;return Y.length},o_1=function(Z,Y){if(P1("onEofChunk"),Y.ended)return;if(Y.decoder){var J=Y.decoder.end();if(J&&J.length)Y.buffer.push(J),Y.length+=Y.objectMode?1:J.length}if(Y.ended=!0,Y.sync)Oz(Z);else if(Y.needReadable=!1,!Y.emittedReadable)Y.emittedReadable=!0,oo(Z)},Oz=function(Z){var Y=Z._readableState;if(P1("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,!Y.emittedReadable)P1("emitReadable",Y.flowing),Y.emittedReadable=!0,process.nextTick(oo,Z)},oo=function(Z){var Y=Z._readableState;if(P1("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended))Z.emit("readable"),Y.emittedReadable=!1;Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,pN(Z)},dN=function(Z,Y){if(!Y.readingMore)Y.readingMore=!0,process.nextTick(e_1,Z,Y)},e_1=function(Z,Y){while(!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0)){var J=Y.length;if(P1("maybeReadMore read 0"),Z.read(0),J===Y.length)break}Y.readingMore=!1},Zx1=function(Z){return function Y(){var J=Z._readableState;if(P1("pipeOnDrain",J.awaitDrain),J.awaitDrain)J.awaitDrain--;if(J.awaitDrain===0&&so(Z,"data"))J.flowing=!0,pN(Z)}},eo=function(Z){var Y=Z._readableState;if(Y.readableListening=Z.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused)Y.flowing=!0;else if(Z.listenerCount("data")>0)Z.resume()},Yx1=function(Z){P1("readable nexttick read 0"),Z.read(0)},Jx1=function(Z,Y){if(!Y.resumeScheduled)Y.resumeScheduled=!0,process.nextTick(Xx1,Z,Y)},Xx1=function(Z,Y){if(P1("resume",Y.reading),!Y.reading)Z.read(0);if(Y.resumeScheduled=!1,Z.emit("resume"),pN(Z),Y.flowing&&!Y.reading)Z.read(0)},pN=function(Z){var Y=Z._readableState;P1("flow",Y.flowing);while(Y.flowing&&Z.read()!==null);},Ze=function(Z,Y){if(Y.length===0)return null;var J;if(Y.objectMode)J=Y.buffer.shift();else if(!Z||Z>=Y.length){if(Y.decoder)J=Y.buffer.join("");else if(Y.buffer.length===1)J=Y.buffer.first();else J=Y.buffer.concat(Y.length);Y.buffer.clear()}else J=Y.buffer.consume(Z,Y.decoder);return J},uN=function(Z){var Y=Z._readableState;if(P1("endReadable",Y.endEmitted),!Y.endEmitted)Y.ended=!0,process.nextTick($x1,Y,Z)},$x1=function(Z,Y){if(P1("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0){if(Z.endEmitted=!0,Y.readable=!1,Y.emit("end"),Z.autoDestroy){var J=Y._writableState;if(!J||J.autoDestroy&&J.finished)Y.destroy()}}},Ye=function(Z,Y){for(var J=0,X=Z.length;J<X;J++)if(Z[J]===Y)return J;return-1};Je.exports=m1;var WX;m1.ReadableState=ro;var n80=import.meta.require("events").EventEmitter,so=function Z(Y,J){return Y.listeners(J).length},UW=import.meta.require("stream"),Ez=import.meta.require("buffer").Buffer,h_1=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){},gN=import.meta.require("util"),P1;if(gN&&gN.debuglog)P1=gN.debuglog("stream");else P1=function Z(){};var d_1=Oo(),cN=SN(),c_1=kN(),p_1=c_1.getHighWaterMark,jz=BZ().codes,l_1=jz.ERR_INVALID_ARG_TYPE,i_1=jz.ERR_STREAM_PUSH_AFTER_EOF,n_1=jz.ERR_METHOD_NOT_IMPLEMENTED,a_1=jz.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,GX,bN,vN;$X()(m1,UW);var FW=cN.errorOrDestroy,hN=["error","close","destroy","pause","resume"];Object.defineProperty(m1.prototype,"destroyed",{enumerable:!1,get:function Z(){if(this._readableState===void 0)return!1;return this._readableState.destroyed},set:function Z(Y){if(!this._readableState)return;this._readableState.destroyed=Y}});m1.prototype.destroy=cN.destroy;m1.prototype._undestroy=cN.undestroy;m1.prototype._destroy=function(Z,Y){Y(Z)};m1.prototype.push=function(Z,Y){var J=this._readableState,X;if(!J.objectMode){if(typeof Z==="string"){if(Y=Y||J.defaultEncoding,Y!==J.encoding)Z=Ez.from(Z,Y),Y="";X=!0}}else X=!0;return to(this,Z,Y,!1,X)};m1.prototype.unshift=function(Z){return to(this,Z,null,!0,!1)};m1.prototype.isPaused=function(){return this._readableState.flowing===!1};m1.prototype.setEncoding=function(Z){if(!GX)GX=EN().StringDecoder;var Y=new GX(Z);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;var J=this._readableState.buffer.head,X="";while(J!==null)X+=Y.write(J.data),J=J.next;if(this._readableState.buffer.clear(),X!=="")this._readableState.buffer.push(X);return this._readableState.length=X.length,this};var no=1073741824;m1.prototype.read=function(Z){P1("read",Z),Z=parseInt(Z,10);var Y=this._readableState,J=Z;if(Z!==0)Y.emittedReadable=!1;if(Z===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended)){if(P1("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended)uN(this);else Oz(this);return null}if(Z=ao(Z,Y),Z===0&&Y.ended){if(Y.length===0)uN(this);return null}var X=Y.needReadable;if(P1("need readable",X),Y.length===0||Y.length-Z<Y.highWaterMark)X=!0,P1("length less than watermark",X);if(Y.ended||Y.reading)X=!1,P1("reading or ended",X);else if(X){if(P1("do read"),Y.reading=!0,Y.sync=!0,Y.length===0)Y.needReadable=!0;if(this._read(Y.highWaterMark),Y.sync=!1,!Y.reading)Z=ao(J,Y)}var $;if(Z>0)$=Ze(Z,Y);else $=null;if($===null)Y.needReadable=Y.length<=Y.highWaterMark,Z=0;else Y.length-=Z,Y.awaitDrain=0;if(Y.length===0){if(!Y.ended)Y.needReadable=!0;if(J!==Z&&Y.ended)uN(this)}if($!==null)this.emit("data",$);return $};m1.prototype._read=function(Z){FW(this,new n_1("_read()"))};m1.prototype.pipe=function(Z,Y){var J=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=Z;break;case 1:X.pipes=[X.pipes,Z];break;default:X.pipes.push(Z);break}X.pipesCount+=1,P1("pipe count=%d opts=%j",X.pipesCount,Y);var $=(!Y||Y.end!==!1)&&Z!==process.stdout&&Z!==process.stderr,W=$?Q:L;if(X.endEmitted)process.nextTick(W);else J.once("end",W);Z.on("unpipe",G);function G(w,B){if(P1("onunpipe"),w===J){if(B&&B.hasUnpiped===!1)B.hasUnpiped=!0,z()}}function Q(){P1("onend"),Z.end()}var K=Zx1(J);Z.on("drain",K);var H=!1;function z(){if(P1("cleanup"),Z.removeListener("close",q),Z.removeListener("finish",V),Z.removeListener("drain",K),Z.removeListener("error",U),Z.removeListener("unpipe",G),J.removeListener("end",Q),J.removeListener("end",L),J.removeListener("data",F),H=!0,X.awaitDrain&&(!Z._writableState||Z._writableState.needDrain))K()}J.on("data",F);function F(w){P1("ondata");var B=Z.write(w);if(P1("dest.write",B),B===!1){if((X.pipesCount===1&&X.pipes===Z||X.pipesCount>1&&Ye(X.pipes,Z)!==-1)&&!H)P1("false write response, pause",X.awaitDrain),X.awaitDrain++;J.pause()}}function U(w){if(P1("onerror",w),L(),Z.removeListener("error",U),so(Z,"error")===0)FW(Z,w)}s_1(Z,"error",U);function q(){Z.removeListener("finish",V),L()}Z.once("close",q);function V(){P1("onfinish"),Z.removeListener("close",q),L()}Z.once("finish",V);function L(){P1("unpipe"),J.unpipe(Z)}if(Z.emit("pipe",J),!X.flowing)P1("pipe resume"),J.resume();return Z};m1.prototype.unpipe=function(Z){var Y=this._readableState,J={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1){if(Z&&Z!==Y.pipes)return this;if(!Z)Z=Y.pipes;if(Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,Z)Z.emit("unpipe",this,J);return this}if(!Z){var{pipes:X,pipesCount:$}=Y;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var W=0;W<$;W++)X[W].emit("unpipe",this,{hasUnpiped:!1});return this}var G=Ye(Y.pipes,Z);if(G===-1)return this;if(Y.pipes.splice(G,1),Y.pipesCount-=1,Y.pipesCount===1)Y.pipes=Y.pipes[0];return Z.emit("unpipe",this,J),this};m1.prototype.on=function(Z,Y){var J=UW.prototype.on.call(this,Z,Y),X=this._readableState;if(Z==="data"){if(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1)this.resume()}else if(Z==="readable"){if(!X.endEmitted&&!X.readableListening){if(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,P1("on readable",X.length,X.reading),X.length)Oz(this);else if(!X.reading)process.nextTick(Yx1,this)}}return J};m1.prototype.addListener=m1.prototype.on;m1.prototype.removeListener=function(Z,Y){var J=UW.prototype.removeListener.call(this,Z,Y);if(Z==="readable")process.nextTick(eo,this);return J};m1.prototype.removeAllListeners=function(Z){var Y=UW.prototype.removeAllListeners.apply(this,arguments);if(Z==="readable"||Z===void 0)process.nextTick(eo,this);return Y};m1.prototype.resume=function(){var Z=this._readableState;if(!Z.flowing)P1("resume"),Z.flowing=!Z.readableListening,Jx1(this,Z);return Z.paused=!1,this};m1.prototype.pause=function(){if(P1("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)P1("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState.paused=!0,this};m1.prototype.wrap=function(Z){var Y=this,J=this._readableState,X=!1;Z.on("end",function(){if(P1("wrapped end"),J.decoder&&!J.ended){var G=J.decoder.end();if(G&&G.length)Y.push(G)}Y.push(null)}),Z.on("data",function(G){if(P1("wrapped data"),J.decoder)G=J.decoder.write(G);if(J.objectMode&&(G===null||G===void 0))return;else if(!J.objectMode&&(!G||!G.length))return;var Q=Y.push(G);if(!Q)X=!0,Z.pause()});for(var $ in Z)if(this[$]===void 0&&typeof Z[$]==="function")this[$]=function G(Q){return function K(){return Z[Q].apply(Z,arguments)}}($);for(var W=0;W<hN.length;W++)Z.on(hN[W],this.emit.bind(this,hN[W]));return this._read=function(G){if(P1("wrapped _read",G),X)X=!1,Z.resume()},this};if(typeof Symbol==="function")m1.prototype[Symbol.asyncIterator]=function(){if(bN===void 0)bN=uo();return bN(this)};Object.defineProperty(m1.prototype,"readableHighWaterMark",{enumerable:!1,get:function Z(){return this._readableState.highWaterMark}});Object.defineProperty(m1.prototype,"readableBuffer",{enumerable:!1,get:function Z(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(m1.prototype,"readableFlowing",{enumerable:!1,get:function Z(){return this._readableState.flowing},set:function Z(Y){if(this._readableState)this._readableState.flowing=Y}});m1._fromList=Ze;Object.defineProperty(m1.prototype,"readableLength",{enumerable:!1,get:function Z(){return this._readableState.length}});if(typeof Symbol==="function")m1.from=function(Z,Y){if(vN===void 0)vN=io();return vN(m1,Z,Y)}});var s9=R((s80,$e)=>{var P4=function(Z){if(!(this instanceof P4))return new P4(Z);if(Xe.call(this,Z),nN.call(this,Z),this.allowHalfOpen=!0,Z){if(Z.readable===!1)this.readable=!1;if(Z.writable===!1)this.writable=!1;if(Z.allowHalfOpen===!1)this.allowHalfOpen=!1,this.once("end",Gx1)}},Gx1=function(){if(this._writableState.ended)return;process.nextTick(Qx1,this)},Qx1=function(Z){Z.end()},Wx1=Object.keys||function(Z){var Y=[];for(var J in Z)Y.push(J);return Y};$e.exports=P4;var Xe=lN(),nN=_z();$X()(P4,Xe);{iN=Wx1(nN.prototype);for(Sz=0;Sz<iN.length;Sz++)if(kz=iN[Sz],!P4.prototype[kz])P4.prototype[kz]=nN.prototype[kz]}var iN,kz,Sz;Object.defineProperty(P4.prototype,"writableHighWaterMark",{enumerable:!1,get:function Z(){return this._writableState.highWaterMark}});Object.defineProperty(P4.prototype,"writableBuffer",{enumerable:!1,get:function Z(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(P4.prototype,"writableLength",{enumerable:!1,get:function Z(){return this._writableState.length}});Object.defineProperty(P4.prototype,"destroyed",{enumerable:!1,get:function Z(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set:function Z(Y){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=Y,this._writableState.destroyed=Y}})});var Ge=R((r80,We)=>{We.exports=import.meta.require("util").deprecate});var _z=R((t80,Ue)=>{var Ke=function(Z){var Y=this;this.next=null,this.entry=null,this.finish=function(){fx1(Y,Z)}},zx1=function(Z){return fz.from(Z)},Fx1=function(Z){return fz.isBuffer(Z)||Z instanceof Hx1},Ix1=function(){},VW=function(Z,Y,J){if(QX=QX||s9(),Z=Z||{},typeof J!=="boolean")J=Y instanceof QX;if(this.objectMode=!!Z.objectMode,J)this.objectMode=this.objectMode||!!Z.writableObjectMode;this.highWaterMark=qx1(this,Z,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=Z.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){Ox1(Y,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ke(this)},T0=function(Z){QX=QX||s9();var Y=this instanceof QX;if(!Y&&!xz.call(T0,this))return new T0(Z);if(this._writableState=new VW(Z,this,Y),this.writable=!0,Z){if(typeof Z.write==="function")this._write=Z.write;if(typeof Z.writev==="function")this._writev=Z.writev;if(typeof Z.destroy==="function")this._destroy=Z.destroy;if(typeof Z.final==="function")this._final=Z.final}He.call(this)},Dx1=function(Z,Y){var J=new Ax1;KX(Z,J),process.nextTick(Y,J)},Px1=function(Z,Y,J,X){var $;if(J===null)$=new Bx1;else if(typeof J!=="string"&&!Y.objectMode)$=new Vx1("chunk",["string","Buffer"],J);if($)return KX(Z,$),process.nextTick(X,$),!1;return!0},Tx1=function(Z,Y,J){if(!Z.objectMode&&Z.decodeStrings!==!1&&typeof Y==="string")Y=fz.from(Y,J);return Y},Cx1=function(Z,Y,J,X,$,W){if(!J){var G=Tx1(Y,X,$);if(X!==G)J=!0,$="buffer",X=G}var Q=Y.objectMode?1:X.length;Y.length+=Q;var K=Y.length<Y.highWaterMark;if(!K)Y.needDrain=!0;if(Y.writing||Y.corked){var H=Y.lastBufferedRequest;if(Y.lastBufferedRequest={chunk:X,encoding:$,isBuf:J,callback:W,next:null},H)H.next=Y.lastBufferedRequest;else Y.bufferedRequest=Y.lastBufferedRequest;Y.bufferedRequestCount+=1}else aN(Z,Y,!1,Q,X,$,W);return K},aN=function(Z,Y,J,X,$,W,G){if(Y.writelen=X,Y.writecb=G,Y.writing=!0,Y.sync=!0,Y.destroyed)Y.onwrite(new Mx1("write"));else if(J)Z._writev($,Y.onwrite);else Z._write($,W,Y.onwrite);Y.sync=!1},Ex1=function(Z,Y,J,X,$){if(--Y.pendingcb,J)process.nextTick($,X),process.nextTick(qW,Z,Y),Z._writableState.errorEmitted=!0,KX(Z,X);else $(X),Z._writableState.errorEmitted=!0,KX(Z,X),qW(Z,Y)},jx1=function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0},Ox1=function(Z,Y){var J=Z._writableState,X=J.sync,$=J.writecb;if(typeof $!=="function")throw new Rx1;if(jx1(J),Y)Ex1(Z,J,X,Y,$);else{var W=Fe(J)||Z.destroyed;if(!W&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest)ze(Z,J);if(X)process.nextTick(Qe,Z,J,W,$);else Qe(Z,J,W,$)}},Qe=function(Z,Y,J,X){if(!J)Sx1(Z,Y);Y.pendingcb--,X(),qW(Z,Y)},Sx1=function(Z,Y){if(Y.length===0&&Y.needDrain)Y.needDrain=!1,Z.emit("drain")},ze=function(Z,Y){Y.bufferProcessing=!0;var J=Y.bufferedRequest;if(Z._writev&&J&&J.next){var X=Y.bufferedRequestCount,$=new Array(X),W=Y.corkedRequestsFree;W.entry=J;var G=0,Q=!0;while(J){if($[G]=J,!J.isBuf)Q=!1;J=J.next,G+=1}if($.allBuffers=Q,aN(Z,Y,!0,Y.length,$,"",W.finish),Y.pendingcb++,Y.lastBufferedRequest=null,W.next)Y.corkedRequestsFree=W.next,W.next=null;else Y.corkedRequestsFree=new Ke(Y);Y.bufferedRequestCount=0}else{while(J){var{chunk:K,encoding:H,callback:z}=J,F=Y.objectMode?1:K.length;if(aN(Z,Y,!1,F,K,H,z),J=J.next,Y.bufferedRequestCount--,Y.writing)break}if(J===null)Y.lastBufferedRequest=null}Y.bufferedRequest=J,Y.bufferProcessing=!1},Fe=function(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing},kx1=function(Z,Y){Z._final(function(J){if(Y.pendingcb--,J)KX(Z,J);Y.prefinished=!0,Z.emit("prefinish"),qW(Z,Y)})},_x1=function(Z,Y){if(!Y.prefinished&&!Y.finalCalled)if(typeof Z._final==="function"&&!Y.destroyed)Y.pendingcb++,Y.finalCalled=!0,process.nextTick(kx1,Z,Y);else Y.prefinished=!0,Z.emit("prefinish")},qW=function(Z,Y){var J=Fe(Y);if(J){if(_x1(Z,Y),Y.pendingcb===0){if(Y.finished=!0,Z.emit("finish"),Y.autoDestroy){var X=Z._readableState;if(!X||X.autoDestroy&&X.endEmitted)Z.destroy()}}}return J},xx1=function(Z,Y,J){if(Y.ending=!0,qW(Z,Y),J)if(Y.finished)process.nextTick(J);else Z.once("finish",J);Y.ended=!0,Z.writable=!1},fx1=function(Z,Y,J){var X=Z.entry;Z.entry=null;while(X){var $=X.callback;Y.pendingcb--,$(J),X=X.next}Y.corkedRequestsFree.next=Z};Ue.exports=T0;var QX;T0.WritableState=VW;var Kx1={deprecate:Ge()},He=import.meta.require("stream"),fz=import.meta.require("buffer").Buffer,Hx1=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){},sN=SN(),Ux1=kN(),qx1=Ux1.getHighWaterMark,DZ=BZ().codes,Vx1=DZ.ERR_INVALID_ARG_TYPE,Lx1=DZ.ERR_METHOD_NOT_IMPLEMENTED,Rx1=DZ.ERR_MULTIPLE_CALLBACK,wx1=DZ.ERR_STREAM_CANNOT_PIPE,Mx1=DZ.ERR_STREAM_DESTROYED,Bx1=DZ.ERR_STREAM_NULL_VALUES,Ax1=DZ.ERR_STREAM_WRITE_AFTER_END,Nx1=DZ.ERR_UNKNOWN_ENCODING,KX=sN.errorOrDestroy;$X()(T0,He);VW.prototype.getBuffer=function Z(){var Y=this.bufferedRequest,J=[];while(Y)J.push(Y),Y=Y.next;return J};(function(){try{Object.defineProperty(VW.prototype,"buffer",{get:Kx1.deprecate(function Z(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Z){}})();var xz;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function")xz=Function.prototype[Symbol.hasInstance],Object.defineProperty(T0,Symbol.hasInstance,{value:function Z(Y){if(xz.call(this,Y))return!0;if(this!==T0)return!1;return Y&&Y._writableState instanceof VW}});else xz=function Z(Y){return Y instanceof this};T0.prototype.pipe=function(){KX(this,new wx1)};T0.prototype.write=function(Z,Y,J){var X=this._writableState,$=!1,W=!X.objectMode&&Fx1(Z);if(W&&!fz.isBuffer(Z))Z=zx1(Z);if(typeof Y==="function")J=Y,Y=null;if(W)Y="buffer";else if(!Y)Y=X.defaultEncoding;if(typeof J!=="function")J=Ix1;if(X.ending)Dx1(this,J);else if(W||Px1(this,X,Z,J))X.pendingcb++,$=Cx1(this,X,W,Z,Y,J);return $};T0.prototype.cork=function(){this._writableState.corked++};T0.prototype.uncork=function(){var Z=this._writableState;if(Z.corked){if(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest)ze(this,Z)}};T0.prototype.setDefaultEncoding=function Z(Y){if(typeof Y==="string")Y=Y.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new Nx1(Y);return this._writableState.defaultEncoding=Y,this};Object.defineProperty(T0.prototype,"writableBuffer",{enumerable:!1,get:function Z(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(T0.prototype,"writableHighWaterMark",{enumerable:!1,get:function Z(){return this._writableState.highWaterMark}});T0.prototype._write=function(Z,Y,J){J(new Lx1("_write()"))};T0.prototype._writev=null;T0.prototype.end=function(Z,Y,J){var X=this._writableState;if(typeof Z==="function")J=Z,Z=null,Y=null;else if(typeof Y==="function")J=Y,Y=null;if(Z!==null&&Z!==void 0)this.write(Z,Y);if(X.corked)X.corked=1,this.uncork();if(!X.ending)xx1(this,X,J);return this};Object.defineProperty(T0.prototype,"writableLength",{enumerable:!1,get:function Z(){return this._writableState.length}});Object.defineProperty(T0.prototype,"destroyed",{enumerable:!1,get:function Z(){if(this._writableState===void 0)return!1;return this._writableState.destroyed},set:function Z(Y){if(!this._writableState)return;this._writableState.destroyed=Y}});T0.prototype.destroy=sN.destroy;T0.prototype._undestroy=sN.undestroy;T0.prototype._destroy=function(Z,Y){Y(Z)}});var tN=R((o80,Ve)=>{var yx1=import.meta.require("util"),{LEVEL:rN}=v0(),qe=r9(),LW=Ve.exports=function Z(Y={}){if(qe.call(this,Y),!Y.transport||typeof Y.transport.log!=="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=Y.transport,this.level=this.level||Y.transport.level,this.handleExceptions=this.handleExceptions||Y.transport.handleExceptions,this._deprecated();function J(X){this.emit("error",X,this.transport)}if(!this.transport.__winstonError)this.transport.__winstonError=J.bind(this),this.transport.on("error",this.transport.__winstonError)};yx1.inherits(LW,qe);LW.prototype._write=function Z(Y,J,X){if(this.silent||Y.exception===!0&&!this.handleExceptions)return X(null);if(!this.level||this.levels[this.level]>=this.levels[Y[rN]])this.transport.log(Y[rN],Y.message,Y,this._nop);X(null)};LW.prototype._writev=function Z(Y,J){for(let X=0;X<Y.length;X++)if(this._accept(Y[X]))this.transport.log(Y[X].chunk[rN],Y[X].chunk.message,Y[X].chunk,this._nop),Y[X].callback();return J(null)};LW.prototype._deprecated=function Z(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))};LW.prototype.close=function Z(){if(this.transport.close)this.transport.close();if(this.transport.__winstonError)this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null}});var r9=R((e80,oN)=>{var gx1=import.meta.require("util"),Le=_z(),{LEVEL:Re}=v0(),RW=oN.exports=function Z(Y={}){if(Le.call(this,{objectMode:!0,highWaterMark:Y.highWaterMark}),this.format=Y.format,this.level=Y.level,this.handleExceptions=Y.handleExceptions,this.handleRejections=Y.handleRejections,this.silent=Y.silent,Y.log)this.log=Y.log;if(Y.logv)this.logv=Y.logv;if(Y.close)this.close=Y.close;this.once("pipe",(J)=>{this.levels=J.levels,this.parent=J}),this.once("unpipe",(J)=>{if(J===this.parent){if(this.parent=null,this.close)this.close()}})};gx1.inherits(RW,Le);RW.prototype._write=function Z(Y,J,X){if(this.silent||Y.exception===!0&&!this.handleExceptions)return X(null);const $=this.level||this.parent&&this.parent.level;if(!$||this.levels[$]>=this.levels[Y[Re]]){if(Y&&!this.format)return this.log(Y,X);let W,G;try{G=this.format.transform(Object.assign({},Y),this.format.options)}catch(Q){W=Q}if(W||!G){if(X(),W)throw W;return}return this.log(G,X)}return this._writableState.sync=!1,X(null)};RW.prototype._writev=function Z(Y,J){if(this.logv){const X=Y.filter(this._accept,this);if(!X.length)return J(null);return this.logv(X,J)}for(let X=0;X<Y.length;X++){if(!this._accept(Y[X]))continue;if(Y[X].chunk&&!this.format){this.log(Y[X].chunk,Y[X].callback);continue}let $,W;try{W=this.format.transform(Object.assign({},Y[X].chunk),this.format.options)}catch(G){$=G}if($||!W){if(Y[X].callback(),$)throw J(null),$}else this.log(W,Y[X].callback)}return J(null)};RW.prototype._accept=function Z(Y){const J=Y.chunk;if(this.silent)return!1;const X=this.level||this.parent&&this.parent.level;if(J.exception===!0||!X||this.levels[X]>=this.levels[J[Re]]){if(this.handleExceptions||J.exception!==!0)return!0}return!1};RW.prototype._nop=function Z(){return};oN.exports.LegacyTransportStream=tN()});var Be=R((Z60,Me)=>{var bx1=import.meta.require("os"),{LEVEL:we,MESSAGE:HX}=v0(),vx1=r9();Me.exports=class Z extends vx1{constructor(Y={}){super(Y);this.name=Y.name||"console",this.stderrLevels=this._stringArrayToSet(Y.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(Y.consoleWarnLevels),this.eol=typeof Y.eol==="string"?Y.eol:bx1.EOL,this.setMaxListeners(30)}log(Y,J){if(setImmediate(()=>this.emit("logged",Y)),this.stderrLevels[Y[we]]){if(console._stderr)console._stderr.write(`${Y[HX]}${this.eol}`);else console.error(Y[HX]);if(J)J();return}else if(this.consoleWarnLevels[Y[we]]){if(console._stderr)console._stderr.write(`${Y[HX]}${this.eol}`);else console.warn(Y[HX]);if(J)J();return}if(console._stdout)console._stdout.write(`${Y[HX]}${this.eol}`);else console.log(Y[HX]);if(J)J()}_stringArrayToSet(Y,J){if(!Y)return{};if(J=J||"Cannot make set from type other than Array of string elements",!Array.isArray(Y))throw new Error(J);return Y.reduce((X,$)=>{if(typeof $!=="string")throw new Error(J);return X[$]=!0,X},{})}}});var yz=R((eN,Ae)=>{var hx1=function(Z){return Z&&typeof Z.length==="number"&&Z.length>=0&&Z.length%1===0};Object.defineProperty(eN,"__esModule",{value:!0});eN.default=hx1;Ae.exports=eN.default});var Ie=R((Z2,Ne)=>{Object.defineProperty(Z2,"__esModule",{value:!0});Z2.default=function(Z){return function(...Y){var J=Y.pop();return Z.call(this,Y,J)}};Ne.exports=Z2.default});var Ce=R((Te)=>{var De=function(Z){setTimeout(Z,0)},Pe=function(Z){return(Y,...J)=>Z(()=>Y(...J))};Object.defineProperty(Te,"__esModule",{value:!0});Te.fallback=De;Te.wrap=Pe;var dx1=Te.hasQueueMicrotask=typeof queueMicrotask==="function"&&queueMicrotask,cx1=Te.hasSetImmediate=typeof setImmediate==="function"&&setImmediate,px1=Te.hasNextTick=typeof process==="object"&&typeof process.nextTick==="function",wW;if(dx1)wW=queueMicrotask;else if(cx1)wW=setImmediate;else if(px1)wW=process.nextTick;else wW=De;Te.default=Pe(wW)});var ke=R((Y2,Se)=>{var Oe=function(Z){return Z&&Z.__esModule?Z:{default:Z}},ex1=function(Z){if(ox1.isAsync(Z))return function(...Y){const J=Y.pop(),X=Z.apply(this,Y);return Ee(X,J)};return sx1.default(function(Y,J){var X;try{X=Z.apply(this,Y)}catch($){return J($)}if(X&&typeof X.then==="function")return Ee(X,J);else J(null,X)})},Ee=function(Z,Y){return Z.then((J)=>{je(Y,null,J)},(J)=>{je(Y,J&&(J instanceof Error||J.message)?J:new Error(J))})},je=function(Z,Y,J){try{Z(Y,J)}catch(X){tx1.default(($)=>{throw $},X)}};Object.defineProperty(Y2,"__esModule",{value:!0});Y2.default=ex1;var ax1=Ie(),sx1=Oe(ax1),rx1=Ce(),tx1=Oe(rx1),ox1=t9();Se.exports=Y2.default});var t9=R((xe)=>{var Xf1=function(Z){return Z&&Z.__esModule?Z:{default:Z}},_e=function(Z){return Z[Symbol.toStringTag]==="AsyncFunction"},$f1=function(Z){return Z[Symbol.toStringTag]==="AsyncGenerator"},Wf1=function(Z){return typeof Z[Symbol.asyncIterator]==="function"},Gf1=function(Z){if(typeof Z!=="function")throw new Error("expected a function");return _e(Z)?Jf1.default(Z):Z};Object.defineProperty(xe,"__esModule",{value:!0});xe.isAsyncIterable=xe.isAsyncGenerator=xe.isAsync=void 0;var Yf1=ke(),Jf1=Xf1(Yf1);xe.default=Gf1;xe.isAsync=_e;xe.isAsyncGenerator=$f1;xe.isAsyncIterable=Wf1});var zX=R((J2,ye)=>{var zf1=function(Z,Y){if(!Y)Y=Z.length;if(!Y)throw new Error("arity is undefined");function J(...X){if(typeof X[Y-1]==="function")return Z.apply(this,X);return new Promise(($,W)=>{X[Y-1]=(G,...Q)=>{if(G)return W(G);$(Q.length>1?Q:Q[0])},Z.apply(this,X)})}return J};Object.defineProperty(J2,"__esModule",{value:!0});J2.default=zf1;ye.exports=J2.default});var be=R(($2,ge)=>{var X2=function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty($2,"__esModule",{value:!0});var Uf1=yz(),qf1=X2(Uf1),Vf1=t9(),Lf1=X2(Vf1),Rf1=zX(),wf1=X2(Rf1);$2.default=wf1.default((Z,Y,J)=>{var X=qf1.default(Y)?[]:{};Z(Y,($,W,G)=>{Lf1.default($)((Q,...K)=>{if(K.length<2)[K]=K;X[W]=K,G(Q)})},($)=>J($,X))},3);ge.exports=$2.default});var G2=R((W2,ve)=>{var Bf1=function(Z){function Y(...J){if(Z===null)return;var X=Z;Z=null,X.apply(this,J)}return Object.assign(Y,Z),Y};Object.defineProperty(W2,"__esModule",{value:!0});W2.default=Bf1;ve.exports=W2.default});var me=R((Q2,he)=>{Object.defineProperty(Q2,"__esModule",{value:!0});Q2.default=function(Z){return Z[Symbol.iterator]&&Z[Symbol.iterator]()};he.exports=Q2.default});var ce=R((K2,de)=>{var ue=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Cf1=function(Z){var Y=-1,J=Z.length;return function X(){return++Y<J?{value:Z[Y],key:Y}:null}},Ef1=function(Z){var Y=-1;return function J(){var X=Z.next();if(X.done)return null;return Y++,{value:X.value,key:Y}}},jf1=function(Z){var Y=Z?Object.keys(Z):[],J=-1,X=Y.length;return function $(){var W=Y[++J];if(W==="__proto__")return $();return J<X?{value:Z[W],key:W}:null}},Of1=function(Z){if(Df1.default(Z))return Cf1(Z);var Y=Tf1.default(Z);return Y?Ef1(Y):jf1(Z)};Object.defineProperty(K2,"__esModule",{value:!0});K2.default=Of1;var If1=yz(),Df1=ue(If1),Pf1=me(),Tf1=ue(Pf1);de.exports=K2.default});var z2=R((H2,pe)=>{var kf1=function(Z){return function(...Y){if(Z===null)throw new Error("Callback was already called.");var J=Z;Z=null,J.apply(this,Y)}};Object.defineProperty(H2,"__esModule",{value:!0});H2.default=kf1;pe.exports=H2.default});var gz=R((F2,le)=>{Object.defineProperty(F2,"__esModule",{value:!0});var xf1={};F2.default=xf1;le.exports=F2.default});var ne=R((U2,ie)=>{var bf1=function(Z){return Z&&Z.__esModule?Z:{default:Z}},vf1=function(Z,Y,J,X){let $=!1,W=!1,G=!1,Q=0,K=0;function H(){if(Q>=Y||G||$)return;G=!0,Z.next().then(({value:U,done:q})=>{if(W||$)return;if(G=!1,q){if($=!0,Q<=0)X(null);return}Q++,J(U,K,z),K++,H()}).catch(F)}function z(U,q){if(Q-=1,W)return;if(U)return F(U);if(U===!1){$=!0,W=!0;return}if(q===gf1.default||$&&Q<=0)return $=!0,X(null);H()}function F(U){if(W)return;G=!1,$=!0,X(U)}H()};Object.defineProperty(U2,"__esModule",{value:!0});U2.default=vf1;var yf1=gz(),gf1=bf1(yf1);ie.exports=U2.default});var te=R((q2,re)=>{var MW=function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(q2,"__esModule",{value:!0});var mf1=G2(),uf1=MW(mf1),df1=ce(),cf1=MW(df1),pf1=z2(),lf1=MW(pf1),ae=t9(),if1=ne(),se=MW(if1),nf1=gz(),af1=MW(nf1);q2.default=(Z)=>{return(Y,J,X)=>{if(X=uf1.default(X),Z<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!Y)return X(null);if(ae.isAsyncGenerator(Y))return se.default(Y,Z,J,X);if(ae.isAsyncIterable(Y))return se.default(Y[Symbol.asyncIterator](),Z,J,X);var $=cf1.default(Y),W=!1,G=!1,Q=0,K=!1;function H(F,U){if(G)return;if(Q-=1,F)W=!0,X(F);else if(F===!1)W=!0,G=!0;else if(U===af1.default||W&&Q<=0)return W=!0,X(null);else if(!K)z()}function z(){K=!0;while(Q<Z&&!W){var F=$();if(F===null){if(W=!0,Q<=0)X(null);return}Q+=1,J(F.value,F.key,lf1.default(H))}K=!1}z()}};re.exports=q2.default});var R2=R((L2,oe)=>{var V2=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Jy1=function(Z,Y,J,X){return tf1.default(Y)(Z,ef1.default(J),X)};Object.defineProperty(L2,"__esModule",{value:!0});var rf1=te(),tf1=V2(rf1),of1=t9(),ef1=V2(of1),Zy1=zX(),Yy1=V2(Zy1);L2.default=Yy1.default(Jy1,4);oe.exports=L2.default});var Y11=R((w2,Z11)=>{var ee=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Ky1=function(Z,Y,J){return Wy1.default(Z,1,Y,J)};Object.defineProperty(w2,"__esModule",{value:!0});var $y1=R2(),Wy1=ee($y1),Gy1=zX(),Qy1=ee(Gy1);w2.default=Qy1.default(Ky1,3);Z11.exports=w2.default});var $11=R((M2,X11)=>{var J11=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Vy1=function(Z,Y){return Fy1.default(qy1.default,Z,Y)};Object.defineProperty(M2,"__esModule",{value:!0});M2.default=Vy1;var zy1=be(),Fy1=J11(zy1),Uy1=Y11(),qy1=J11(Uy1);X11.exports=M2.default});var B2=R((G60,G11)=>{var Ay1=function(Z,Y){var J=this._transformState;J.transforming=!1;var X=J.writecb;if(X===null)return this.emit("error",new wy1);if(J.writechunk=null,J.writecb=null,Y!=null)this.push(Y);X(Z);var $=this._readableState;if($.reading=!1,$.needReadable||$.length<$.highWaterMark)this._read($.highWaterMark)},H5=function(Z){if(!(this instanceof H5))return new H5(Z);if(vz.call(this,Z),this._transformState={afterTransform:Ay1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Z){if(typeof Z.transform==="function")this._transform=Z.transform;if(typeof Z.flush==="function")this._flush=Z.flush}this.on("prefinish",Ny1)},Ny1=function(){var Z=this;if(typeof this._flush==="function"&&!this._readableState.destroyed)this._flush(function(Y,J){W11(Z,Y,J)});else W11(this,null,null)},W11=function(Z,Y,J){if(Y)return Z.emit("error",Y);if(J!=null)Z.push(J);if(Z._writableState.length)throw new By1;if(Z._transformState.transforming)throw new My1;return Z.push(null)};G11.exports=H5;var bz=BZ().codes,Ry1=bz.ERR_METHOD_NOT_IMPLEMENTED,wy1=bz.ERR_MULTIPLE_CALLBACK,My1=bz.ERR_TRANSFORM_ALREADY_TRANSFORMING,By1=bz.ERR_TRANSFORM_WITH_LENGTH_0,vz=s9();$X()(H5,vz);H5.prototype.push=function(Z,Y){return this._transformState.needTransform=!1,vz.prototype.push.call(this,Z,Y)};H5.prototype._transform=function(Z,Y,J){J(new Ry1("_transform()"))};H5.prototype._write=function(Z,Y,J){var X=this._transformState;if(X.writecb=J,X.writechunk=Z,X.writeencoding=Y,!X.transforming){var $=this._readableState;if(X.needTransform||$.needReadable||$.length<$.highWaterMark)this._read($.highWaterMark)}};H5.prototype._read=function(Z){var Y=this._transformState;if(Y.writechunk!==null&&!Y.transforming)Y.transforming=!0,this._transform(Y.writechunk,Y.writeencoding,Y.afterTransform);else Y.needTransform=!0};H5.prototype._destroy=function(Z,Y){vz.prototype._destroy.call(this,Z,function(J){Y(J)})}});var H11=R((Q60,K11)=>{var BW=function(Z){if(!(this instanceof BW))return new BW(Z);Q11.call(this,Z)};K11.exports=BW;var Q11=B2();$X()(BW,Q11);BW.prototype._transform=function(Z,Y,J){J(null,Z)}});var V11=R((K60,q11)=>{var Iy1=function(Z){var Y=!1;return function(){if(Y)return;Y=!0,Z.apply(void 0,arguments)}},z11=function(Z){if(Z)throw Z},Ty1=function(Z){return Z.setHeader&&typeof Z.abort==="function"},Cy1=function(Z,Y,J,X){X=Iy1(X);var $=!1;if(Z.on("close",function(){$=!0}),A2===void 0)A2=Pz();A2(Z,{readable:Y,writable:J},function(G){if(G)return X(G);$=!0,X()});var W=!1;return function(G){if($)return;if(W)return;if(W=!0,Ty1(Z))return Z.abort();if(typeof Z.destroy==="function")return Z.destroy();X(G||new Py1("pipe"))}},F11=function(Z){Z()},Ey1=function(Z,Y){return Z.pipe(Y)},jy1=function(Z){if(!Z.length)return z11;if(typeof Z[Z.length-1]!=="function")return z11;return Z.pop()},Oy1=function(){for(var Z=arguments.length,Y=new Array(Z),J=0;J<Z;J++)Y[J]=arguments[J];var X=jy1(Y);if(Array.isArray(Y[0]))Y=Y[0];if(Y.length<2)throw new Dy1("streams");var $,W=Y.map(function(G,Q){var K=Q<Y.length-1,H=Q>0;return Cy1(G,K,H,function(z){if(!$)$=z;if(z)W.forEach(F11);if(K)return;W.forEach(F11),X($)})});return Y.reduce(Ey1)},A2,U11=BZ().codes,Dy1=U11.ERR_MISSING_ARGS,Py1=U11.ERR_STREAM_DESTROYED;q11.exports=Oy1});var FX=R((R7,NW)=>{var AW=import.meta.require("stream");if(process.env.READABLE_STREAM==="disable"&&AW)NW.exports=AW.Readable,Object.assign(NW.exports,AW),NW.exports.Stream=AW;else R7=NW.exports=lN(),R7.Stream=AW||R7,R7.Readable=R7,R7.Writable=_z(),R7.Duplex=s9(),R7.Transform=B2(),R7.PassThrough=H11(),R7.finished=Pz(),R7.pipeline=V11()});var w11=R((H60,R11)=>{var D2=function(Z){if(~UX.indexOf(Z))return!1;return UX.push(Z),!0},P2=function(Z){N2=Z},Sy1=function(Z){var Y=[];for(var J=0;J<UX.length;J++){if(UX[J].async){Y.push(UX[J]);continue}if(UX[J](Z))return!0}if(!Y.length)return!1;return new Promise(function X($){Promise.all(Y.map(function W(G){return G(Z)})).then(function W(G){$(G.some(Boolean))})})},T2=function(Z){if(~IW.indexOf(Z))return!1;return IW.push(Z),!0},I2=function(){N2.apply(N2,arguments)},L11=function(Z){for(var Y=0;Y<IW.length;Y++)Z=IW[Y].apply(IW[Y],arguments);return Z},C2=function(Z,Y){var J=Object.prototype.hasOwnProperty;for(var X in Y)if(J.call(Y,X))Z[X]=Y[X];return Z},ky1=function(Z){return Z.enabled=!1,Z.modify=T2,Z.set=P2,Z.use=D2,C2(function Y(){return!1},Z)},_y1=function(Z){function Y(){var J=Array.prototype.slice.call(arguments,0);return I2.call(I2,Z,L11(J,Z)),!0}return Z.enabled=!0,Z.modify=T2,Z.set=P2,Z.use=D2,C2(Y,Z)},UX=[],IW=[],N2=function Z(){};R11.exports=function Z(Y){return Y.introduce=C2,Y.enabled=Sy1,Y.process=L11,Y.modify=T2,Y.write=I2,Y.nope=ky1,Y.yep=_y1,Y.set=P2,Y.use=D2,Y}});var B11=R((z60,M11)=>{M11.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var N11=R((F60,A11)=>{A11.exports=function Z(Y){if(!Y||typeof Y==="string")return!1;return Y instanceof Array||Array.isArray(Y)||Y.length>=0&&(Y.splice instanceof Function||Object.getOwnPropertyDescriptor(Y,Y.length-1)&&Y.constructor.name!=="String")}});var P11=R((U60,D11)=>{var xy1=N11(),fy1=Array.prototype.concat,yy1=Array.prototype.slice,I11=D11.exports=function Z(Y){var J=[];for(var X=0,$=Y.length;X<$;X++){var W=Y[X];if(xy1(W))J=fy1.call(J,yy1.call(W));else J.push(W)}return J};I11.wrap=function(Z){return function(){return Z(I11(arguments))}}});var j11=R((q60,E11)=>{var PZ=function(Z,Y,J){return Math.min(Math.max(Y,Z),J)},mz=function(Z){var Y=Math.round(Z).toString(16).toUpperCase();return Y.length<2?"0"+Y:Y},DW=B11(),PW=P11(),T11=Object.hasOwnProperty,C11=Object.create(null);for(hz in DW)if(T11.call(DW,hz))C11[DW[hz]]=hz;var hz,g6=E11.exports={to:{},get:{}};g6.get=function(Z){var Y=Z.substring(0,3).toLowerCase(),J,X;switch(Y){case"hsl":J=g6.get.hsl(Z),X="hsl";break;case"hwb":J=g6.get.hwb(Z),X="hwb";break;default:J=g6.get.rgb(Z),X="rgb";break}if(!J)return null;return{model:X,value:J}};g6.get.rgb=function(Z){if(!Z)return null;var Y=/^#([a-f0-9]{3,4})$/i,J=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,X=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,$=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,W=/^(\w+)$/,G=[0,0,0,1],Q,K,H;if(Q=Z.match(J)){H=Q[2],Q=Q[1];for(K=0;K<3;K++){var z=K*2;G[K]=parseInt(Q.slice(z,z+2),16)}if(H)G[3]=parseInt(H,16)/255}else if(Q=Z.match(Y)){Q=Q[1],H=Q[3];for(K=0;K<3;K++)G[K]=parseInt(Q[K]+Q[K],16);if(H)G[3]=parseInt(H+H,16)/255}else if(Q=Z.match(X)){for(K=0;K<3;K++)G[K]=parseInt(Q[K+1],0);if(Q[4])if(Q[5])G[3]=parseFloat(Q[4])*0.01;else G[3]=parseFloat(Q[4])}else if(Q=Z.match($)){for(K=0;K<3;K++)G[K]=Math.round(parseFloat(Q[K+1])*2.55);if(Q[4])if(Q[5])G[3]=parseFloat(Q[4])*0.01;else G[3]=parseFloat(Q[4])}else if(Q=Z.match(W)){if(Q[1]==="transparent")return[0,0,0,0];if(!T11.call(DW,Q[1]))return null;return G=DW[Q[1]],G[3]=1,G}else return null;for(K=0;K<3;K++)G[K]=PZ(G[K],0,255);return G[3]=PZ(G[3],0,1),G};g6.get.hsl=function(Z){if(!Z)return null;var Y=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,J=Z.match(Y);if(J){var X=parseFloat(J[4]),$=(parseFloat(J[1])%360+360)%360,W=PZ(parseFloat(J[2]),0,100),G=PZ(parseFloat(J[3]),0,100),Q=PZ(isNaN(X)?1:X,0,1);return[$,W,G,Q]}return null};g6.get.hwb=function(Z){if(!Z)return null;var Y=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,J=Z.match(Y);if(J){var X=parseFloat(J[4]),$=(parseFloat(J[1])%360+360)%360,W=PZ(parseFloat(J[2]),0,100),G=PZ(parseFloat(J[3]),0,100),Q=PZ(isNaN(X)?1:X,0,1);return[$,W,G,Q]}return null};g6.to.hex=function(){var Z=PW(arguments);return"#"+mz(Z[0])+mz(Z[1])+mz(Z[2])+(Z[3]<1?mz(Math.round(Z[3]*255)):"")};g6.to.rgb=function(){var Z=PW(arguments);return Z.length<4||Z[3]===1?"rgb("+Math.round(Z[0])+", "+Math.round(Z[1])+", "+Math.round(Z[2])+")":"rgba("+Math.round(Z[0])+", "+Math.round(Z[1])+", "+Math.round(Z[2])+", "+Z[3]+")"};g6.to.rgb.percent=function(){var Z=PW(arguments),Y=Math.round(Z[0]/255*100),J=Math.round(Z[1]/255*100),X=Math.round(Z[2]/255*100);return Z.length<4||Z[3]===1?"rgb("+Y+"%, "+J+"%, "+X+"%)":"rgba("+Y+"%, "+J+"%, "+X+"%, "+Z[3]+")"};g6.to.hsl=function(){var Z=PW(arguments);return Z.length<4||Z[3]===1?"hsl("+Z[0]+", "+Z[1]+"%, "+Z[2]+"%)":"hsla("+Z[0]+", "+Z[1]+"%, "+Z[2]+"%, "+Z[3]+")"};g6.to.hwb=function(){var Z=PW(arguments),Y="";if(Z.length>=4&&Z[3]!==1)Y=", "+Z[3];return"hwb("+Z[0]+", "+Z[1]+"%, "+Z[2]+"%"+Y+")"};g6.to.keyword=function(Z){return C11[Z.slice(0,3)]}});var S11=R((V60,O11)=>{O11.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var E2=R((L60,f11)=>{var gy1=function(Z,Y){return Math.pow(Z[0]-Y[0],2)+Math.pow(Z[1]-Y[1],2)+Math.pow(Z[2]-Y[2],2)},o9=S11(),x11={};for(uz in o9)if(o9.hasOwnProperty(uz))x11[o9[uz]]=uz;var uz,J1=f11.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(l8 in J1)if(J1.hasOwnProperty(l8)){if(!("channels"in J1[l8]))throw new Error("missing channels property: "+l8);if(!("labels"in J1[l8]))throw new Error("missing channel labels property: "+l8);if(J1[l8].labels.length!==J1[l8].channels)throw new Error("channel and label counts mismatch: "+l8);k11=J1[l8].channels,_11=J1[l8].labels,delete J1[l8].channels,delete J1[l8].labels,Object.defineProperty(J1[l8],"channels",{value:k11}),Object.defineProperty(J1[l8],"labels",{value:_11})}var k11,_11,l8;J1.rgb.hsl=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255,$=Math.min(Y,J,X),W=Math.max(Y,J,X),G=W-$,Q,K,H;if(W===$)Q=0;else if(Y===W)Q=(J-X)/G;else if(J===W)Q=2+(X-Y)/G;else if(X===W)Q=4+(Y-J)/G;if(Q=Math.min(Q*60,360),Q<0)Q+=360;if(H=($+W)/2,W===$)K=0;else if(H<=0.5)K=G/(W+$);else K=G/(2-W-$);return[Q,K*100,H*100]};J1.rgb.hsv=function(Z){var Y,J,X,$,W,G=Z[0]/255,Q=Z[1]/255,K=Z[2]/255,H=Math.max(G,Q,K),z=H-Math.min(G,Q,K),F=function(U){return(H-U)/6/z+0.5};if(z===0)$=W=0;else{if(W=z/H,Y=F(G),J=F(Q),X=F(K),G===H)$=X-J;else if(Q===H)$=0.3333333333333333+Y-X;else if(K===H)$=0.6666666666666666+J-Y;if($<0)$+=1;else if($>1)$-=1}return[$*360,W*100,H*100]};J1.rgb.hwb=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$=J1.rgb.hsl(Z)[0],W=0.00392156862745098*Math.min(Y,Math.min(J,X));return X=1-0.00392156862745098*Math.max(Y,Math.max(J,X)),[$,W*100,X*100]};J1.rgb.cmyk=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255,$,W,G,Q;return Q=Math.min(1-Y,1-J,1-X),$=(1-Y-Q)/(1-Q)||0,W=(1-J-Q)/(1-Q)||0,G=(1-X-Q)/(1-Q)||0,[$*100,W*100,G*100,Q*100]};J1.rgb.keyword=function(Z){var Y=x11[Z];if(Y)return Y;var J=Infinity,X;for(var $ in o9)if(o9.hasOwnProperty($)){var W=o9[$],G=gy1(Z,W);if(G<J)J=G,X=$}return X};J1.keyword.rgb=function(Z){return o9[Z]};J1.rgb.xyz=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255;Y=Y>0.04045?Math.pow((Y+0.055)/1.055,2.4):Y/12.92,J=J>0.04045?Math.pow((J+0.055)/1.055,2.4):J/12.92,X=X>0.04045?Math.pow((X+0.055)/1.055,2.4):X/12.92;var $=Y*0.4124+J*0.3576+X*0.1805,W=Y*0.2126+J*0.7152+X*0.0722,G=Y*0.0193+J*0.1192+X*0.9505;return[$*100,W*100,G*100]};J1.rgb.lab=function(Z){var Y=J1.rgb.xyz(Z),J=Y[0],X=Y[1],$=Y[2],W,G,Q;return J/=95.047,X/=100,$/=108.883,J=J>0.008856?Math.pow(J,0.3333333333333333):7.787*J+0.13793103448275862,X=X>0.008856?Math.pow(X,0.3333333333333333):7.787*X+0.13793103448275862,$=$>0.008856?Math.pow($,0.3333333333333333):7.787*$+0.13793103448275862,W=116*X-16,G=500*(J-X),Q=200*(X-$),[W,G,Q]};J1.hsl.rgb=function(Z){var Y=Z[0]/360,J=Z[1]/100,X=Z[2]/100,$,W,G,Q,K;if(J===0)return K=X*255,[K,K,K];if(X<0.5)W=X*(1+J);else W=X+J-X*J;$=2*X-W,Q=[0,0,0];for(var H=0;H<3;H++){if(G=Y+0.3333333333333333*-(H-1),G<0)G++;if(G>1)G--;if(6*G<1)K=$+(W-$)*6*G;else if(2*G<1)K=W;else if(3*G<2)K=$+(W-$)*(0.6666666666666666-G)*6;else K=$;Q[H]=K*255}return Q};J1.hsl.hsv=function(Z){var Y=Z[0],J=Z[1]/100,X=Z[2]/100,$=J,W=Math.max(X,0.01),G,Q;return X*=2,J*=X<=1?X:2-X,$*=W<=1?W:2-W,Q=(X+J)/2,G=X===0?2*$/(W+$):2*J/(X+J),[Y,G*100,Q*100]};J1.hsv.rgb=function(Z){var Y=Z[0]/60,J=Z[1]/100,X=Z[2]/100,$=Math.floor(Y)%6,W=Y-Math.floor(Y),G=255*X*(1-J),Q=255*X*(1-J*W),K=255*X*(1-J*(1-W));switch(X*=255,$){case 0:return[X,K,G];case 1:return[Q,X,G];case 2:return[G,X,K];case 3:return[G,Q,X];case 4:return[K,G,X];case 5:return[X,G,Q]}};J1.hsv.hsl=function(Z){var Y=Z[0],J=Z[1]/100,X=Z[2]/100,$=Math.max(X,0.01),W,G,Q;return Q=(2-J)*X,W=(2-J)*$,G=J*$,G/=W<=1?W:2-W,G=G||0,Q/=2,[Y,G*100,Q*100]};J1.hwb.rgb=function(Z){var Y=Z[0]/360,J=Z[1]/100,X=Z[2]/100,$=J+X,W,G,Q,K;if($>1)J/=$,X/=$;if(W=Math.floor(6*Y),G=1-X,Q=6*Y-W,(W&1)!==0)Q=1-Q;K=J+Q*(G-J);var H,z,F;switch(W){default:case 6:case 0:H=G,z=K,F=J;break;case 1:H=K,z=G,F=J;break;case 2:H=J,z=G,F=K;break;case 3:H=J,z=K,F=G;break;case 4:H=K,z=J,F=G;break;case 5:H=G,z=J,F=K;break}return[H*255,z*255,F*255]};J1.cmyk.rgb=function(Z){var Y=Z[0]/100,J=Z[1]/100,X=Z[2]/100,$=Z[3]/100,W,G,Q;return W=1-Math.min(1,Y*(1-$)+$),G=1-Math.min(1,J*(1-$)+$),Q=1-Math.min(1,X*(1-$)+$),[W*255,G*255,Q*255]};J1.xyz.rgb=function(Z){var Y=Z[0]/100,J=Z[1]/100,X=Z[2]/100,$,W,G;return $=Y*3.2406+J*-1.5372+X*-0.4986,W=Y*-0.9689+J*1.8758+X*0.0415,G=Y*0.0557+J*-0.204+X*1.057,$=$>0.0031308?1.055*Math.pow($,0.4166666666666667)-0.055:$*12.92,W=W>0.0031308?1.055*Math.pow(W,0.4166666666666667)-0.055:W*12.92,G=G>0.0031308?1.055*Math.pow(G,0.4166666666666667)-0.055:G*12.92,$=Math.min(Math.max(0,$),1),W=Math.min(Math.max(0,W),1),G=Math.min(Math.max(0,G),1),[$*255,W*255,G*255]};J1.xyz.lab=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;return Y/=95.047,J/=100,X/=108.883,Y=Y>0.008856?Math.pow(Y,0.3333333333333333):7.787*Y+0.13793103448275862,J=J>0.008856?Math.pow(J,0.3333333333333333):7.787*J+0.13793103448275862,X=X>0.008856?Math.pow(X,0.3333333333333333):7.787*X+0.13793103448275862,$=116*J-16,W=500*(Y-J),G=200*(J-X),[$,W,G]};J1.lab.xyz=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;W=(Y+16)/116,$=J/500+W,G=W-X/200;var Q=Math.pow(W,3),K=Math.pow($,3),H=Math.pow(G,3);return W=Q>0.008856?Q:(W-0.13793103448275862)/7.787,$=K>0.008856?K:($-0.13793103448275862)/7.787,G=H>0.008856?H:(G-0.13793103448275862)/7.787,$*=95.047,W*=100,G*=108.883,[$,W,G]};J1.lab.lch=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;if($=Math.atan2(X,J),W=$*360/2/Math.PI,W<0)W+=360;return G=Math.sqrt(J*J+X*X),[Y,G,W]};J1.lch.lab=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;return G=X/360*2*Math.PI,$=J*Math.cos(G),W=J*Math.sin(G),[Y,$,W]};J1.rgb.ansi16=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$=1 in arguments?arguments[1]:J1.rgb.hsv(Z)[2];if($=Math.round($/50),$===0)return 30;var W=30+(Math.round(X/255)<<2|Math.round(J/255)<<1|Math.round(Y/255));if($===2)W+=60;return W};J1.hsv.ansi16=function(Z){return J1.rgb.ansi16(J1.hsv.rgb(Z),Z[2])};J1.rgb.ansi256=function(Z){var Y=Z[0],J=Z[1],X=Z[2];if(Y===J&&J===X){if(Y<8)return 16;if(Y>248)return 231;return Math.round((Y-8)/247*24)+232}var $=16+36*Math.round(Y/255*5)+6*Math.round(J/255*5)+Math.round(X/255*5);return $};J1.ansi16.rgb=function(Z){var Y=Z%10;if(Y===0||Y===7){if(Z>50)Y+=3.5;return Y=Y/10.5*255,[Y,Y,Y]}var J=(~~(Z>50)+1)*0.5,X=(Y&1)*J*255,$=(Y>>1&1)*J*255,W=(Y>>2&1)*J*255;return[X,$,W]};J1.ansi256.rgb=function(Z){if(Z>=232){var Y=(Z-232)*10+8;return[Y,Y,Y]}Z-=16;var J,X=Math.floor(Z/36)/5*255,$=Math.floor((J=Z%36)/6)/5*255,W=J%6/5*255;return[X,$,W]};J1.rgb.hex=function(Z){var Y=((Math.round(Z[0])&255)<<16)+((Math.round(Z[1])&255)<<8)+(Math.round(Z[2])&255),J=Y.toString(16).toUpperCase();return"000000".substring(J.length)+J};J1.hex.rgb=function(Z){var Y=Z.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!Y)return[0,0,0];var J=Y[0];if(Y[0].length===3)J=J.split("").map(function(Q){return Q+Q}).join("");var X=parseInt(J,16),$=X>>16&255,W=X>>8&255,G=X&255;return[$,W,G]};J1.rgb.hcg=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255,$=Math.max(Math.max(Y,J),X),W=Math.min(Math.min(Y,J),X),G=$-W,Q,K;if(G<1)Q=W/(1-G);else Q=0;if(G<=0)K=0;else if($===Y)K=(J-X)/G%6;else if($===J)K=2+(X-Y)/G;else K=4+(Y-J)/G+4;return K/=6,K%=1,[K*360,G*100,Q*100]};J1.hsl.hcg=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=1,$=0;if(J<0.5)X=2*Y*J;else X=2*Y*(1-J);if(X<1)$=(J-0.5*X)/(1-X);return[Z[0],X*100,$*100]};J1.hsv.hcg=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=Y*J,$=0;if(X<1)$=(J-X)/(1-X);return[Z[0],X*100,$*100]};J1.hcg.rgb=function(Z){var Y=Z[0]/360,J=Z[1]/100,X=Z[2]/100;if(J===0)return[X*255,X*255,X*255];var $=[0,0,0],W=Y%1*6,G=W%1,Q=1-G,K=0;switch(Math.floor(W)){case 0:$[0]=1,$[1]=G,$[2]=0;break;case 1:$[0]=Q,$[1]=1,$[2]=0;break;case 2:$[0]=0,$[1]=1,$[2]=G;break;case 3:$[0]=0,$[1]=Q,$[2]=1;break;case 4:$[0]=G,$[1]=0,$[2]=1;break;default:$[0]=1,$[1]=0,$[2]=Q}return K=(1-J)*X,[(J*$[0]+K)*255,(J*$[1]+K)*255,(J*$[2]+K)*255]};J1.hcg.hsv=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=Y+J*(1-Y),$=0;if(X>0)$=Y/X;return[Z[0],$*100,X*100]};J1.hcg.hsl=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=J*(1-Y)+0.5*Y,$=0;if(X>0&&X<0.5)$=Y/(2*X);else if(X>=0.5&&X<1)$=Y/(2*(1-X));return[Z[0],$*100,X*100]};J1.hcg.hwb=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=Y+J*(1-Y);return[Z[0],(X-Y)*100,(1-X)*100]};J1.hwb.hcg=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=1-J,$=X-Y,W=0;if($<1)W=(X-$)/(1-$);return[Z[0],$*100,W*100]};J1.apple.rgb=function(Z){return[Z[0]/65535*255,Z[1]/65535*255,Z[2]/65535*255]};J1.rgb.apple=function(Z){return[Z[0]/255*65535,Z[1]/255*65535,Z[2]/255*65535]};J1.gray.rgb=function(Z){return[Z[0]/100*255,Z[0]/100*255,Z[0]/100*255]};J1.gray.hsl=J1.gray.hsv=function(Z){return[0,0,Z[0]]};J1.gray.hwb=function(Z){return[0,100,Z[0]]};J1.gray.cmyk=function(Z){return[0,0,0,Z[0]]};J1.gray.lab=function(Z){return[Z[0],0,0]};J1.gray.hex=function(Z){var Y=Math.round(Z[0]/100*255)&255,J=(Y<<16)+(Y<<8)+Y,X=J.toString(16).toUpperCase();return"000000".substring(X.length)+X};J1.rgb.gray=function(Z){var Y=(Z[0]+Z[1]+Z[2])/3;return[Y/255*100]}});var g11=R((R60,y11)=>{var by1=function(){var Z={},Y=Object.keys(dz);for(var J=Y.length,X=0;X<J;X++)Z[Y[X]]={distance:-1,parent:null};return Z},vy1=function(Z){var Y=by1(),J=[Z];Y[Z].distance=0;while(J.length){var X=J.pop(),$=Object.keys(dz[X]);for(var W=$.length,G=0;G<W;G++){var Q=$[G],K=Y[Q];if(K.distance===-1)K.distance=Y[X].distance+1,K.parent=X,J.unshift(Q)}}return Y},hy1=function(Z,Y){return function(J){return Y(Z(J))}},my1=function(Z,Y){var J=[Y[Z].parent,Z],X=dz[Y[Z].parent][Z],$=Y[Z].parent;while(Y[$].parent)J.unshift(Y[$].parent),X=hy1(dz[Y[$].parent][$],X),$=Y[$].parent;return X.conversion=J,X},dz=E2();y11.exports=function(Z){var Y=vy1(Z),J={},X=Object.keys(Y);for(var $=X.length,W=0;W<$;W++){var G=X[W],Q=Y[G];if(Q.parent===null)continue;J[G]=my1(G,Y)}return J}});var v11=R((w60,b11)=>{var cy1=function(Z){var Y=function(J){if(J===void 0||J===null)return J;if(arguments.length>1)J=Array.prototype.slice.call(arguments);return Z(J)};if("conversion"in Z)Y.conversion=Z.conversion;return Y},py1=function(Z){var Y=function(J){if(J===void 0||J===null)return J;if(arguments.length>1)J=Array.prototype.slice.call(arguments);var X=Z(J);if(typeof X==="object")for(var $=X.length,W=0;W<$;W++)X[W]=Math.round(X[W]);return X};if("conversion"in Z)Y.conversion=Z.conversion;return Y},j2=E2(),uy1=g11(),qX={},dy1=Object.keys(j2);dy1.forEach(function(Z){qX[Z]={},Object.defineProperty(qX[Z],"channels",{value:j2[Z].channels}),Object.defineProperty(qX[Z],"labels",{value:j2[Z].labels});var Y=uy1(Z),J=Object.keys(Y);J.forEach(function(X){var $=Y[X];qX[Z][X]=py1($),qX[Z][X].raw=cy1($)})});b11.exports=qX});var u11=R((M60,m11)=>{var R8=function(Z,Y){if(!(this instanceof R8))return new R8(Z,Y);if(Y&&Y in h11)Y=null;if(Y&&!(Y in b6))throw new Error("Unknown model: "+Y);var J,X;if(Z==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(Z instanceof R8)this.model=Z.model,this.color=Z.color.slice(),this.valpha=Z.valpha;else if(typeof Z==="string"){var $=TW.get(Z);if($===null)throw new Error("Unable to parse color from string: "+Z);this.model=$.model,X=b6[this.model].channels,this.color=$.value.slice(0,X),this.valpha=typeof $.value[X]==="number"?$.value[X]:1}else if(Z.length){this.model=Y||"rgb",X=b6[this.model].channels;var W=k2.call(Z,0,X);this.color=S2(W,X),this.valpha=typeof Z[X]==="number"?Z[X]:1}else if(typeof Z==="number")Z&=16777215,this.model="rgb",this.color=[Z>>16&255,Z>>8&255,Z&255],this.valpha=1;else{this.valpha=1;var G=Object.keys(Z);if("alpha"in Z)G.splice(G.indexOf("alpha"),1),this.valpha=typeof Z.alpha==="number"?Z.alpha:0;var Q=G.sort().join("");if(!(Q in O2))throw new Error("Unable to parse color from object: "+JSON.stringify(Z));this.model=O2[Q];var K=b6[this.model].labels,H=[];for(J=0;J<K.length;J++)H.push(Z[K[J]]);this.color=S2(H)}if(cz[this.model]){X=b6[this.model].channels;for(J=0;J<X;J++){var z=cz[this.model][J];if(z)this.color[J]=z(this.color[J])}}if(this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze)Object.freeze(this)},ly1=function(Z,Y){return Number(Z.toFixed(Y))},iy1=function(Z){return function(Y){return ly1(Y,Z)}},C0=function(Z,Y,J){return Z=Array.isArray(Z)?Z:[Z],Z.forEach(function(X){(cz[X]||(cz[X]=[]))[Y]=J}),Z=Z[0],function(X){var $;if(arguments.length){if(J)X=J(X);return $=this[Z](),$.color[Y]=X,$}if($=this[Z]().color[Y],J)$=J($);return $}},i0=function(Z){return function(Y){return Math.max(0,Math.min(Z,Y))}},ny1=function(Z){return Array.isArray(Z)?Z:[Z]},S2=function(Z,Y){for(var J=0;J<Y;J++)if(typeof Z[J]!=="number")Z[J]=0;return Z},TW=j11(),b6=v11(),k2=[].slice,h11=["keyword","gray","hex"],O2={};Object.keys(b6).forEach(function(Z){O2[k2.call(b6[Z].labels).sort().join("")]=Z});var cz={};R8.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(Z){var Y=this.model in TW.to?this:this.rgb();Y=Y.round(typeof Z==="number"?Z:1);var J=Y.valpha===1?Y.color:Y.color.concat(this.valpha);return TW.to[Y.model](J)},percentString:function(Z){var Y=this.rgb().round(typeof Z==="number"?Z:1),J=Y.valpha===1?Y.color:Y.color.concat(this.valpha);return TW.to.rgb.percent(J)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){var Z={},Y=b6[this.model].channels,J=b6[this.model].labels;for(var X=0;X<Y;X++)Z[J[X]]=this.color[X];if(this.valpha!==1)Z.alpha=this.valpha;return Z},unitArray:function(){var Z=this.rgb().color;if(Z[0]/=255,Z[1]/=255,Z[2]/=255,this.valpha!==1)Z.push(this.valpha);return Z},unitObject:function(){var Z=this.rgb().object();if(Z.r/=255,Z.g/=255,Z.b/=255,this.valpha!==1)Z.alpha=this.valpha;return Z},round:function(Z){return Z=Math.max(Z||0,0),new R8(this.color.map(iy1(Z)).concat(this.valpha),this.model)},alpha:function(Z){if(arguments.length)return new R8(this.color.concat(Math.max(0,Math.min(1,Z))),this.model);return this.valpha},red:C0("rgb",0,i0(255)),green:C0("rgb",1,i0(255)),blue:C0("rgb",2,i0(255)),hue:C0(["hsl","hsv","hsl","hwb","hcg"],0,function(Z){return(Z%360+360)%360}),saturationl:C0("hsl",1,i0(100)),lightness:C0("hsl",2,i0(100)),saturationv:C0("hsv",1,i0(100)),value:C0("hsv",2,i0(100)),chroma:C0("hcg",1,i0(100)),gray:C0("hcg",2,i0(100)),white:C0("hwb",1,i0(100)),wblack:C0("hwb",2,i0(100)),cyan:C0("cmyk",0,i0(100)),magenta:C0("cmyk",1,i0(100)),yellow:C0("cmyk",2,i0(100)),black:C0("cmyk",3,i0(100)),x:C0("xyz",0,i0(100)),y:C0("xyz",1,i0(100)),z:C0("xyz",2,i0(100)),l:C0("lab",0,i0(100)),a:C0("lab",1),b:C0("lab",2),keyword:function(Z){if(arguments.length)return new R8(Z);return b6[this.model].keyword(this.color)},hex:function(Z){if(arguments.length)return new R8(Z);return TW.to.hex(this.rgb().round().color)},rgbNumber:function(){var Z=this.rgb().color;return(Z[0]&255)<<16|(Z[1]&255)<<8|Z[2]&255},luminosity:function(){var Z=this.rgb().color,Y=[];for(var J=0;J<Z.length;J++){var X=Z[J]/255;Y[J]=X<=0.03928?X/12.92:Math.pow((X+0.055)/1.055,2.4)}return 0.2126*Y[0]+0.7152*Y[1]+0.0722*Y[2]},contrast:function(Z){var Y=this.luminosity(),J=Z.luminosity();if(Y>J)return(Y+0.05)/(J+0.05);return(J+0.05)/(Y+0.05)},level:function(Z){var Y=this.contrast(Z);if(Y>=7.1)return"AAA";return Y>=4.5?"AA":""},isDark:function(){var Z=this.rgb().color,Y=(Z[0]*299+Z[1]*587+Z[2]*114)/1000;return Y<128},isLight:function(){return!this.isDark()},negate:function(){var Z=this.rgb();for(var Y=0;Y<3;Y++)Z.color[Y]=255-Z.color[Y];return Z},lighten:function(Z){var Y=this.hsl();return Y.color[2]+=Y.color[2]*Z,Y},darken:function(Z){var Y=this.hsl();return Y.color[2]-=Y.color[2]*Z,Y},saturate:function(Z){var Y=this.hsl();return Y.color[1]+=Y.color[1]*Z,Y},desaturate:function(Z){var Y=this.hsl();return Y.color[1]-=Y.color[1]*Z,Y},whiten:function(Z){var Y=this.hwb();return Y.color[1]+=Y.color[1]*Z,Y},blacken:function(Z){var Y=this.hwb();return Y.color[2]+=Y.color[2]*Z,Y},grayscale:function(){var Z=this.rgb().color,Y=Z[0]*0.3+Z[1]*0.59+Z[2]*0.11;return R8.rgb(Y,Y,Y)},fade:function(Z){return this.alpha(this.valpha-this.valpha*Z)},opaquer:function(Z){return this.alpha(this.valpha+this.valpha*Z)},rotate:function(Z){var Y=this.hsl(),J=Y.color[0];return J=(J+Z)%360,J=J<0?360+J:J,Y.color[0]=J,Y},mix:function(Z,Y){if(!Z||!Z.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof Z);var J=Z.rgb(),X=this.rgb(),$=Y===void 0?0.5:Y,W=2*$-1,G=J.alpha()-X.alpha(),Q=((W*G===-1?W:(W+G)/(1+W*G))+1)/2,K=1-Q;return R8.rgb(Q*J.red()+K*X.red(),Q*J.green()+K*X.green(),Q*J.blue()+K*X.blue(),J.alpha()*$+X.alpha()*(1-$))}};Object.keys(b6).forEach(function(Z){if(h11.indexOf(Z)!==-1)return;var Y=b6[Z].channels;R8.prototype[Z]=function(){if(this.model===Z)return new R8(this);if(arguments.length)return new R8(arguments,Z);var J=typeof arguments[Y]==="number"?Y:this.valpha;return new R8(ny1(b6[this.model][Z].raw(this.color)).concat(J),Z)},R8[Z]=function(J){if(typeof J==="number")J=S2(k2.call(arguments),Y);return new R8(J,Z)}});m11.exports=R8});var c11=R((B60,d11)=>{d11.exports=function Z(Y){for(var J=0,X=0;J<Y.length;X=Y.charCodeAt(J++)+((X<<5)-X));var $=Math.floor(Math.abs(Math.sin(X)*1e4%1*16777216)).toString(16);return"#"+Array(6-$.length+1).join("0")+$}});var n11=R((A60,i11)=>{var p11=u11(),l11=c11();i11.exports=function Z(Y,J){var X=Y.split(J||":"),$=l11(X[0]);if(!X.length)return $;for(var W=0,G=X.length-1;W<G;W++)$=p11($).mix(p11(l11(X[W+1]))).saturate(1).hex();return $}});var s11=R((N60,a11)=>{var i7=function(Z,Y){if(Y)return new i7(Z).style(Y);if(!(this instanceof i7))return new i7(Z);this.text=Z};i7.prototype.prefix="\x1B[";i7.prototype.suffix="m";i7.prototype.hex=function Z(Y){if(Y=Y[0]==="#"?Y.substring(1):Y,Y.length===3)Y=Y.split(""),Y[5]=Y[2],Y[4]=Y[2],Y[3]=Y[1],Y[2]=Y[1],Y[1]=Y[0],Y=Y.join("");var J=Y.substring(0,2),X=Y.substring(2,4),$=Y.substring(4,6);return[parseInt(J,16),parseInt(X,16),parseInt($,16)]};i7.prototype.rgb=function Z(Y,J,X){var $=Y/255*5,W=J/255*5,G=X/255*5;return this.ansi($,W,G)};i7.prototype.ansi=function Z(Y,J,X){var $=Math.round(Y),W=Math.round(J),G=Math.round(X);return 16+$*36+W*6+G};i7.prototype.reset=function Z(){return this.prefix+"39;49"+this.suffix};i7.prototype.style=function Z(Y){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(Y))+this.suffix+this.text+this.reset()};a11.exports=i7});var t11=R((I60,r11)=>{var ay1=n11(),sy1=s11();r11.exports=function Z(Y,J){var X=J.namespace,$=J.colors!==!1?sy1(X+":",ay1(X)):X+":";return Y[0]=$+" "+Y[0],Y}});var e11=R((D60,o11)=>{o11.exports=function Z(Y,J){if(!J)return!1;var X=J.split(/[\s,]+/),$=0;for(;$<X.length;$++){if(J=X[$].replace("*",".*?"),J.charAt(0)==="-"){if(new RegExp("^"+J.substr(1)+"$").test(Y))return!1;continue}if(new RegExp("^"+J+"$").test(Y))return!0}return!1}});var Y01=R((P60,Z01)=>{var ry1=e11();Z01.exports=function Z(Y){return function J(X){try{return ry1(X,Y())}catch($){}return!1}}});var X01=R((T60,J01)=>{var ty1=Y01();J01.exports=ty1(function Z(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var W01=R((C60,$01)=>{$01.exports=function(Z,Y){try{Function.prototype.apply.call(console.log,console,Y)}catch(J){}}});var CW=R((E60,G01)=>{var oy1=w11(),ey1=import.meta.require("tty").isatty(1),pz=oy1(function Z(Y,J){if(J=J||{},J.colors="colors"in J?J.colors:ey1,J.namespace=Y,J.prod=!1,J.dev=!0,!Z.enabled(Y)&&!(J.force||Z.force))return Z.nope(J);return Z.yep(J)});pz.modify(t11());pz.use(X01());pz.set(W01());G01.exports=pz});var K01=R((j60,Q01)=>{var Jg1=function(){},_2=import.meta.require("fs"),{StringDecoder:Zg1}=import.meta.require("string_decoder"),{Stream:Yg1}=FX();Q01.exports=(Z,Y)=>{const J=Buffer.alloc(65536),X=new Zg1("utf8"),$=new Yg1;let W="",G=0,Q=0;if(Z.start===-1)delete Z.start;if($.readable=!0,$.destroy=()=>{$.destroyed=!0,$.emit("end"),$.emit("close")},_2.open(Z.file,"a+","0644",(K,H)=>{if(K){if(!Y)$.emit("error",K);else Y(K);$.destroy();return}(function z(){if($.destroyed){_2.close(H,Jg1);return}return _2.read(H,J,0,J.length,G,(F,U)=>{if(F){if(!Y)$.emit("error",F);else Y(F);$.destroy();return}if(!U){if(W){if(Z.start==null||Q>Z.start)if(!Y)$.emit("line",W);else Y(null,W);Q++,W=""}return setTimeout(z,1000)}let q=X.write(J.slice(0,U));if(!Y)$.emit("data",q);q=(W+q).split(/\n+/);const V=q.length-1;let L=0;for(;L<V;L++){if(Z.start==null||Q>Z.start)if(!Y)$.emit("line",q[L]);else Y(null,q[L]);Q++}return W=q[V],G+=U,z()})})()}),!Y)return $;return $.destroy}});var F01=R((O60,z01)=>{var z5=import.meta.require("fs"),E8=import.meta.require("path"),Xg1=$11(),$g1=import.meta.require("zlib"),{MESSAGE:Wg1}=v0(),{Stream:Gg1,PassThrough:H01}=FX(),Qg1=r9(),n7=CW()("winston:file"),Kg1=import.meta.require("os"),Hg1=K01();z01.exports=class Z extends Qg1{constructor(Y={}){super(Y);this.name=Y.name||"file";function J(X,...$){$.slice(1).forEach((W)=>{if(Y[W])throw new Error(`Cannot set ${W} and ${X} together`)})}if(this._stream=new H01,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),Y.filename||Y.dirname)J("filename or dirname","stream"),this._basename=this.filename=Y.filename?E8.basename(Y.filename):"winston.log",this.dirname=Y.dirname||E8.dirname(Y.filename),this.options=Y.options||{flags:"a"};else if(Y.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),J("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(Y.stream)),this.dirname=E8.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");if(this.maxsize=Y.maxsize||null,this.rotationFormat=Y.rotationFormat||!1,this.zippedArchive=Y.zippedArchive||!1,this.maxFiles=Y.maxFiles||null,this.eol=typeof Y.eol==="string"?Y.eol:Kg1.EOL,this.tailable=Y.tailable||!1,this.lazy=Y.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname)this._createLogDirIfNotExist(this.dirname);if(!this.lazy)this.open()}finishIfEnding(){if(this._ending)if(this._opening)this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())});else this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}log(Y,J=()=>{}){if(this.silent)return J(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(Y,J)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(Y,J)});return}if(this.lazy){if(!this._fileExist){if(!this._opening)this.open();this.once("open",()=>{this._fileExist=!0,this.log(Y,J);return});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{if(!this._opening)this.open();this.once("open",()=>{this.log(Y,J);return});return});return}}const X=`${Y[Wg1]}${this.eol}`,$=Buffer.byteLength(X);function W(){if(this._size+=$,this._pendingSize-=$,n7("logged %s %s",this._size,X),this.emit("logged",Y),this._rotate)return;if(this._opening)return;if(!this._needsNewFile())return;if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}if(this._pendingSize+=$,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize))this.rotatedWhileOpening=!0;const G=this._stream.write(X,W.bind(this));if(!G)this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,J()});else J();return n7("written",G,this._drain),this.finishIfEnding(),G}query(Y,J){if(typeof Y==="function")J=Y,Y={};Y=F(Y);const X=E8.join(this.dirname,this.filename);let $="",W=[],G=0;const Q=z5.createReadStream(X,{encoding:"utf8"});Q.on("error",(U)=>{if(Q.readable)Q.destroy();if(!J)return;return U.code!=="ENOENT"?J(U):J(null,W)}),Q.on("data",(U)=>{U=($+U).split(/\n+/);const q=U.length-1;let V=0;for(;V<q;V++){if(!Y.start||G>=Y.start)K(U[V]);G++}$=U[q]}),Q.on("close",()=>{if($)K($,!0);if(Y.order==="desc")W=W.reverse();if(J)J(null,W)});function K(U,q){try{const V=JSON.parse(U);if(z(V))H(V)}catch(V){if(!q)Q.emit("error",V)}}function H(U){if(Y.rows&&W.length>=Y.rows&&Y.order!=="desc"){if(Q.readable)Q.destroy();return}if(Y.fields)U=Y.fields.reduce((q,V)=>{return q[V]=U[V],q},{});if(Y.order==="desc"){if(W.length>=Y.rows)W.shift()}W.push(U)}function z(U){if(!U)return;if(typeof U!=="object")return;const q=new Date(U.timestamp);if(Y.from&&q<Y.from||Y.until&&q>Y.until||Y.level&&Y.level!==U.level)return;return!0}function F(U){if(U=U||{},U.rows=U.rows||U.limit||10,U.start=U.start||0,U.until=U.until||new Date,typeof U.until!=="object")U.until=new Date(U.until);if(U.from=U.from||U.until-86400000,typeof U.from!=="object")U.from=new Date(U.from);return U.order=U.order||"desc",U}}stream(Y={}){const J=E8.join(this.dirname,this.filename),X=new Gg1,$={file:J,start:Y.start};return X.destroy=Hg1($,(W,G)=>{if(W)return X.emit("error",W);try{X.emit("data",G),G=JSON.parse(G),X.emit("log",G)}catch(Q){X.emit("error",Q)}}),X}open(){if(!this.filename)return;if(this._opening)return;this._opening=!0,this.stat((Y,J)=>{if(Y)return this.emit("error",Y);n7("stat done: %s { size: %s }",this.filename,J),this._size=J,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{if(this._stream.eventNames().includes("rotate"))this._stream.emit("rotate");else this._rotate=!1})})}stat(Y){const J=this._getFile(),X=E8.join(this.dirname,J);z5.stat(X,($,W)=>{if($&&$.code==="ENOENT")return n7("ENOENT\xA0ok",X),this.filename=J,Y(null,0);if($)return n7(`err ${$.code} ${X}`),Y($);if(!W||this._needsNewFile(W.size))return this._incFile(()=>this.stat(Y));this.filename=J,Y(null,W.size)})}close(Y){if(!this._stream)return;this._stream.end(()=>{if(Y)Y();this.emit("flush"),this.emit("closed")})}_needsNewFile(Y){return Y=Y||this._size,this.maxsize&&Y>=this.maxsize}_onError(Y){this.emit("error",Y)}_setupStream(Y){return Y.on("error",this._onError),Y}_cleanupStream(Y){return Y.removeListener("error",this._onError),Y.destroy(),Y}_rotateFile(){this._incFile(()=>this.open())}_endStream(Y=()=>{}){if(this._dest)this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),Y()});else Y()}_createStream(Y){const J=E8.join(this.dirname,this.filename);n7("create stream start",J,this.options);const X=z5.createWriteStream(J,this.options).on("error",($)=>n7($)).on("close",()=>n7("close",X.path,X.bytesWritten)).on("open",()=>{if(n7("file open ok",J),this.emit("open",J),Y.pipe(X),this.rotatedWhileOpening)this._stream=new H01,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(X),Y.end()});if(n7("create stream ok",J),this.zippedArchive){const $=$g1.createGzip();return $.pipe(X),$}return X}_incFile(Y){n7("_incFile",this.filename);const J=E8.extname(this._basename),X=E8.basename(this._basename,J);if(!this.tailable)this._created+=1,this._checkMaxFilesIncrementing(J,X,Y);else this._checkMaxFilesTailable(J,X,Y)}_getFile(){const Y=E8.extname(this._basename),J=E8.basename(this._basename,Y),X=this.rotationFormat?this.rotationFormat():this._created,$=!this.tailable&&this._created?`${J}${X}${Y}`:`${J}${Y}`;return this.zippedArchive&&!this.tailable?`${$}.gz`:$}_checkMaxFilesIncrementing(Y,J,X){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(X);const $=this._created-this.maxFiles,W=$!==0?$:"",G=this.zippedArchive?".gz":"",Q=`${J}${W}${Y}${G}`,K=E8.join(this.dirname,Q);z5.unlink(K,X)}_checkMaxFilesTailable(Y,J,X){const $=[];if(!this.maxFiles)return;const W=this.zippedArchive?".gz":"";for(let G=this.maxFiles-1;G>1;G--)$.push(function(Q,K){let H=`${J}${Q-1}${Y}${W}`;const z=E8.join(this.dirname,H);z5.exists(z,(F)=>{if(!F)return K(null);H=`${J}${Q}${Y}${W}`,z5.rename(z,E8.join(this.dirname,H),K)})}.bind(this,G));Xg1($,()=>{z5.rename(E8.join(this.dirname,`${J}${Y}`),E8.join(this.dirname,`${J}1${Y}${W}`),X)})}_createLogDirIfNotExist(Y){if(!z5.existsSync(Y))z5.mkdirSync(Y,{recursive:!0})}}});var q01=R((S60,U01)=>{var zg1=import.meta.require("http"),Fg1=import.meta.require("https"),{Stream:Ug1}=FX(),qg1=r9(),Vg1=QW();U01.exports=class Z extends qg1{constructor(Y={}){super(Y);if(this.options=Y,this.name=Y.name||"http",this.ssl=!!Y.ssl,this.host=Y.host||"localhost",this.port=Y.port,this.auth=Y.auth,this.path=Y.path||"",this.agent=Y.agent,this.headers=Y.headers||{},this.headers["content-type"]="application/json",this.batch=Y.batch||!1,this.batchInterval=Y.batchInterval||5000,this.batchCount=Y.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},!this.port)this.port=this.ssl?443:80}log(Y,J){if(this._request(Y,null,null,(X,$)=>{if($&&$.statusCode!==200)X=new Error(`Invalid HTTP Status Code: ${$.statusCode}`);if(X)this.emit("warn",X);else this.emit("logged",Y)}),J)setImmediate(J)}query(Y,J){if(typeof Y==="function")J=Y,Y={};Y={method:"query",params:this.normalizeQuery(Y)};const X=Y.params.auth||null;delete Y.params.auth;const $=Y.params.path||null;delete Y.params.path,this._request(Y,X,$,(W,G,Q)=>{if(G&&G.statusCode!==200)W=new Error(`Invalid HTTP Status Code: ${G.statusCode}`);if(W)return J(W);if(typeof Q==="string")try{Q=JSON.parse(Q)}catch(K){return J(K)}J(null,Q)})}stream(Y={}){const J=new Ug1;Y={method:"stream",params:Y};const X=Y.params.path||null;delete Y.params.path;const $=Y.params.auth||null;delete Y.params.auth;let W="";const G=this._request(Y,$,X);return J.destroy=()=>G.destroy(),G.on("data",(Q)=>{Q=(W+Q).split(/\n+/);const K=Q.length-1;let H=0;for(;H<K;H++)try{J.emit("log",JSON.parse(Q[H]))}catch(z){J.emit("error",z)}W=Q[K]}),G.on("error",(Q)=>J.emit("error",Q)),J}_request(Y,J,X,$){if(Y=Y||{},J=J||this.auth,X=X||this.path||"",this.batch)this._doBatch(Y,$,J,X);else this._doRequest(Y,$,J,X)}_doBatch(Y,J,X,$){if(this.batchOptions.push(Y),this.batchOptions.length===1){const W=this;this.batchCallback=J,this.batchTimeoutID=setTimeout(function(){W.batchTimeoutID=-1,W._doBatchRequest(W.batchCallback,X,$)},this.batchInterval)}if(this.batchOptions.length===this.batchCount)this._doBatchRequest(this.batchCallback,X,$)}_doBatchRequest(Y,J,X){if(this.batchTimeoutID>0)clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1;const $=this.batchOptions.slice();this.batchOptions=[],this._doRequest($,Y,J,X)}_doRequest(Y,J,X,$){const W=Object.assign({},this.headers);if(X&&X.bearer)W.Authorization=`Bearer ${X.bearer}`;const G=(this.ssl?Fg1:zg1).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${$.replace(/^\//,"")}`,headers:W,auth:X&&X.username&&X.password?`${X.username}:${X.password}`:"",agent:this.agent});G.on("error",J),G.on("response",(Q)=>Q.on("end",()=>J(null,Q)).resume()),G.end(Buffer.from(Vg1(Y,this.options.replacer),"utf8"))}}});var x2=R((k60,V01)=>{var T4=(Z)=>Z!==null&&typeof Z==="object"&&typeof Z.pipe==="function";T4.writable=(Z)=>T4(Z)&&Z.writable!==!1&&typeof Z._write==="function"&&typeof Z._writableState==="object";T4.readable=(Z)=>T4(Z)&&Z.readable!==!1&&typeof Z._read==="function"&&typeof Z._readableState==="object";T4.duplex=(Z)=>T4.writable(Z)&&T4.readable(Z);T4.transform=(Z)=>T4.duplex(Z)&&typeof Z._transform==="function";V01.exports=T4});var R01=R((_60,L01)=>{var Lg1=x2(),{MESSAGE:Rg1}=v0(),wg1=import.meta.require("os"),Mg1=r9();L01.exports=class Z extends Mg1{constructor(Y={}){super(Y);if(!Y.stream||!Lg1(Y.stream))throw new Error("options.stream is required.");this._stream=Y.stream,this._stream.setMaxListeners(Infinity),this.isObjectMode=Y.stream._writableState.objectMode,this.eol=typeof Y.eol==="string"?Y.eol:wg1.EOL}log(Y,J){if(setImmediate(()=>this.emit("logged",Y)),this.isObjectMode){if(this._stream.write(Y),J)J();return}if(this._stream.write(`${Y[Rg1]}${this.eol}`),J)J();return}}});var w01=R((EW)=>{Object.defineProperty(EW,"Console",{configurable:!0,enumerable:!0,get(){return Be()}});Object.defineProperty(EW,"File",{configurable:!0,enumerable:!0,get(){return F01()}});Object.defineProperty(EW,"Http",{configurable:!0,enumerable:!0,get(){return q01()}});Object.defineProperty(EW,"Stream",{configurable:!0,enumerable:!0,get(){return R01()}})});var iz=R((Bg1)=>{var lz=NN(),{configs:f2}=v0();Bg1.cli=lz.levels(f2.cli);Bg1.npm=lz.levels(f2.npm);Bg1.syslog=lz.levels(f2.syslog);Bg1.addColors=lz.levels});var B01=R((y2,M01)=>{var e9=function(Z){return Z&&Z.__esModule?Z:{default:Z}},vg1=function(Z,Y,J){J=kg1.default(J);var X=0,$=0,{length:W}=Z,G=!1;if(W===0)J(null);function Q(K,H){if(K===!1)G=!0;if(G===!0)return;if(K)J(K);else if(++$===W||H===Eg1.default)J(null)}for(;X<W;X++)Y(Z[X],X,xg1.default(Q))},hg1=function(Z,Y,J){return Og1.default(Z,Infinity,Y,J)},mg1=function(Z,Y,J){var X=Tg1.default(Z)?vg1:hg1;return X(Z,yg1.default(Y),J)};Object.defineProperty(y2,"__esModule",{value:!0});var Pg1=yz(),Tg1=e9(Pg1),Cg1=gz(),Eg1=e9(Cg1),jg1=R2(),Og1=e9(jg1),Sg1=G2(),kg1=e9(Sg1),_g1=z2(),xg1=e9(_g1),fg1=t9(),yg1=e9(fg1),gg1=zX(),bg1=e9(gg1);y2.default=bg1.default(mg1,3);M01.exports=y2.default});var N01=R((g2,A01)=>{var dg1=function(Z){return(Y,J,X)=>Z(Y,X)};Object.defineProperty(g2,"__esModule",{value:!0});g2.default=dg1;A01.exports=g2.default});var az=R((b2,I01)=>{var nz=function(Z){return Z&&Z.__esModule?Z:{default:Z}},og1=function(Z,Y,J){return lg1.default(Z,ng1.default(sg1.default(Y)),J)};Object.defineProperty(b2,"__esModule",{value:!0});var pg1=B01(),lg1=nz(pg1),ig1=N01(),ng1=nz(ig1),ag1=t9(),sg1=nz(ag1),rg1=zX(),tg1=nz(rg1);b2.default=tg1.default(og1,3);I01.exports=b2.default});var P01=R((y60,D01)=>{var Zb1=Object.prototype.toString;D01.exports=function Z(Y){if(typeof Y.displayName==="string"&&Y.constructor.name)return Y.displayName;else if(typeof Y.name==="string"&&Y.name)return Y.name;if(typeof Y==="object"&&Y.constructor&&typeof Y.constructor.name==="string")return Y.constructor.name;var J=Y.toString(),X=Zb1.call(Y).slice(8,-1);if(X==="Function")J=J.substring(J.indexOf("(")+1,J.indexOf(")"));else J=X;return J||"anonymous"}});var v2=R((g60,T01)=>{var Yb1=P01();T01.exports=function Z(Y){var J=0,X;function $(){if(J)return X;return J=1,X=Y.apply(this,arguments),Y=null,X}return $.displayName=Yb1(Y),$}});var h2=R(($b1)=>{var jW=function(Z){for(var Y in Z)this[Y]=Z[Y]};$b1.get=function(Z){var Y=Error.stackTraceLimit;Error.stackTraceLimit=Infinity;var J={},X=Error.prepareStackTrace;Error.prepareStackTrace=function(W,G){return G},Error.captureStackTrace(J,Z||$b1.get);var $=J.stack;return Error.prepareStackTrace=X,Error.stackTraceLimit=Y,$};$b1.parse=function(Z){if(!Z.stack)return[];var Y=this,J=Z.stack.split("\n").slice(1);return J.map(function(X){if(X.match(/^\s*[-]{4,}$/))return Y._createParsedCallSite({fileName:X,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var $=X.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!$)return;var W=null,G=null,Q=null,K=null,H=null,z=$[5]==="native";if($[1]){Q=$[1];var F=Q.lastIndexOf(".");if(Q[F-1]==".")F--;if(F>0){W=Q.substr(0,F),G=Q.substr(F+1);var U=W.indexOf(".Module");if(U>0)Q=Q.substr(U+1),W=W.substr(0,U)}K=null}if(G)K=W,H=G;if(G==="<anonymous>")H=null,Q=null;var q={fileName:$[2]||null,lineNumber:parseInt($[3],10)||null,functionName:Q,typeName:K,methodName:H,columnNumber:parseInt($[4],10)||null,native:z};return Y._createParsedCallSite(q)}).filter(function(X){return!!X})};var Jb1=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],Xb1=["topLevel","eval","native","constructor"];Jb1.forEach(function(Z){jW.prototype[Z]=null,jW.prototype["get"+Z[0].toUpperCase()+Z.substr(1)]=function(){return this[Z]}});Xb1.forEach(function(Z){jW.prototype[Z]=!1,jW.prototype["is"+Z[0].toUpperCase()+Z.substr(1)]=function(){return this[Z]}});$b1._createParsedCallSite=function(Z){return new jW(Z)}});var m2=R((v60,E01)=>{var{Writable:Qb1}=FX();E01.exports=class Z extends Qb1{constructor(Y){super({objectMode:!0});if(!Y)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=Y}_write(Y,J,X){if(Y.exception)return this.transport.log(Y,X);return X(),!0}}});var d2=R((h60,S01)=>{var j01=import.meta.require("os"),Kb1=az(),u2=CW()("winston:exception"),Hb1=v2(),O01=h2(),zb1=m2();S01.exports=class Z{constructor(Y){if(!Y)throw new Error("Logger is required to handle exceptions");this.logger=Y,this.handlers=new Map}handle(...Y){if(Y.forEach((J)=>{if(Array.isArray(J))return J.forEach((X)=>this._addHandler(X));this._addHandler(J)}),!this.catcher)this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher)}unhandle(){if(this.catcher)process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((Y)=>this.logger.unpipe(Y))}getAllInfo(Y){let J=null;if(Y)J=typeof Y==="string"?Y:Y.message;return{error:Y,level:"error",message:[`uncaughtException: ${J||"(no error message)"}`,Y&&Y.stack||"  No stack trace"].join("\n"),stack:Y&&Y.stack,exception:!0,date:(new Date()).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(Y)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:j01.loadavg(),uptime:j01.uptime()}}getTrace(Y){return(Y?O01.parse(Y):O01.get()).map((X)=>{return{column:X.getColumnNumber(),file:X.getFileName(),function:X.getFunctionName(),line:X.getLineNumber(),method:X.getMethodName(),native:X.isNative()}})}_addHandler(Y){if(!this.handlers.has(Y)){Y.handleExceptions=!0;const J=new zb1(Y);this.handlers.set(Y,J),this.logger.pipe(J)}}_uncaughtException(Y){const J=this.getAllInfo(Y),X=this._getExceptionHandlers();let $=typeof this.logger.exitOnError==="function"?this.logger.exitOnError(Y):this.logger.exitOnError,W;if(!X.length&&$)console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),$=!1;function G(){if(u2("doExit",$),u2("process._exiting",process._exiting),$&&!process._exiting){if(W)clearTimeout(W);process.exit(1)}}if(!X||X.length===0)return process.nextTick(G);if(Kb1(X,(Q,K)=>{const H=Hb1(K),z=Q.transport||Q;function F(U){return()=>{u2(U),H()}}z._ending=!0,z.once("finish",F("finished")),z.once("error",F("error"))},()=>$&&G()),this.logger.log(J),$)W=setTimeout(G,3000)}_getExceptionHandlers(){return this.logger.transports.filter((Y)=>{return(Y.transport||Y).handleExceptions})}}});var p2=R((m60,x01)=>{var k01=import.meta.require("os"),Fb1=az(),c2=CW()("winston:rejection"),Ub1=v2(),_01=h2(),qb1=m2();x01.exports=class Z{constructor(Y){if(!Y)throw new Error("Logger is required to handle rejections");this.logger=Y,this.handlers=new Map}handle(...Y){if(Y.forEach((J)=>{if(Array.isArray(J))return J.forEach((X)=>this._addHandler(X));this._addHandler(J)}),!this.catcher)this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher)}unhandle(){if(this.catcher)process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((Y)=>this.logger.unpipe(Y))}getAllInfo(Y){let J=null;if(Y)J=typeof Y==="string"?Y:Y.message;return{error:Y,level:"error",message:[`unhandledRejection: ${J||"(no error message)"}`,Y&&Y.stack||"  No stack trace"].join("\n"),stack:Y&&Y.stack,exception:!0,date:(new Date()).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(Y)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:k01.loadavg(),uptime:k01.uptime()}}getTrace(Y){return(Y?_01.parse(Y):_01.get()).map((X)=>{return{column:X.getColumnNumber(),file:X.getFileName(),function:X.getFunctionName(),line:X.getLineNumber(),method:X.getMethodName(),native:X.isNative()}})}_addHandler(Y){if(!this.handlers.has(Y)){Y.handleRejections=!0;const J=new qb1(Y);this.handlers.set(Y,J),this.logger.pipe(J)}}_unhandledRejection(Y){const J=this.getAllInfo(Y),X=this._getRejectionHandlers();let $=typeof this.logger.exitOnError==="function"?this.logger.exitOnError(Y):this.logger.exitOnError,W;if(!X.length&&$)console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),$=!1;function G(){if(c2("doExit",$),c2("process._exiting",process._exiting),$&&!process._exiting){if(W)clearTimeout(W);process.exit(1)}}if(!X||X.length===0)return process.nextTick(G);if(Fb1(X,(Q,K)=>{const H=Ub1(K),z=Q.transport||Q;function F(U){return()=>{c2(U),H()}}z._ending=!0,z.once("finish",F("finished")),z.once("error",F("error"))},()=>$&&G()),this.logger.log(J),$)W=setTimeout(G,3000)}_getRejectionHandlers(){return this.logger.transports.filter((Y)=>{return(Y.transport||Y).handleRejections})}}});var g01=R((u60,y01)=>{class f01{constructor(Z){const Y=sz();if(typeof Z!=="object"||Array.isArray(Z)||!(Z instanceof Y))throw new Error("Logger is required for profiling");else this.logger=Z,this.start=Date.now()}done(...Z){if(typeof Z[Z.length-1]==="function")console.warn("Callback function no longer supported as of winston@3.0.0"),Z.pop();const Y=typeof Z[Z.length-1]==="object"?Z.pop():{};return Y.level=Y.level||"info",Y.durationMs=Date.now()-this.start,this.logger.write(Y)}}y01.exports=f01});var sz=R((d60,m01)=>{var l2=function(Z,Y){const J=Z[Y];if(!J&&J!==0)return null;return J},{Stream:Vb1,Transform:Lb1}=FX(),b01=az(),{LEVEL:C4,SPLAT:v01}=v0(),h01=x2(),Rb1=d2(),wb1=p2(),Mb1=tN(),Bb1=g01(),{warn:Ab1}=DN(),Nb1=iz(),Ib1=/%[scdjifoO%]/g;class i2 extends Lb1{constructor(Z){super({objectMode:!0});this.configure(Z)}child(Z){const Y=this;return Object.create(Y,{write:{value:function(J){const X=Object.assign({},Z,J);if(J instanceof Error)X.stack=J.stack,X.message=J.message;Y.write(X)}}})}configure({silent:Z,format:Y,defaultMeta:J,levels:X,level:$="info",exitOnError:W=!0,transports:G,colors:Q,emitErrs:K,formatters:H,padLevels:z,rewriters:F,stripColors:U,exceptionHandlers:q,rejectionHandlers:V}={}){if(this.transports.length)this.clear();if(this.silent=Z,this.format=Y||this.format||wN()(),this.defaultMeta=J||null,this.levels=X||this.levels||Nb1.npm.levels,this.level=$,this.exceptions)this.exceptions.unhandle();if(this.rejections)this.rejections.unhandle();if(this.exceptions=new Rb1(this),this.rejections=new wb1(this),this.profilers={},this.exitOnError=W,G)G=Array.isArray(G)?G:[G],G.forEach((L)=>this.add(L));if(Q||K||H||z||F||U)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));if(q)this.exceptions.handle(q);if(V)this.rejections.handle(V)}isLevelEnabled(Z){const Y=l2(this.levels,Z);if(Y===null)return!1;const J=l2(this.levels,this.level);if(J===null)return!1;if(!this.transports||this.transports.length===0)return J>=Y;return this.transports.findIndex(($)=>{let W=l2(this.levels,$.level);if(W===null)W=J;return W>=Y})!==-1}log(Z,Y,...J){if(arguments.length===1)return Z[C4]=Z.level,this._addDefaultMeta(Z),this.write(Z),this;if(arguments.length===2){if(Y&&typeof Y==="object")return Y[C4]=Y.level=Z,this._addDefaultMeta(Y),this.write(Y),this;return Y={[C4]:Z,level:Z,message:Y},this._addDefaultMeta(Y),this.write(Y),this}const[X]=J;if(typeof X==="object"&&X!==null){if(!(Y&&Y.match&&Y.match(Ib1))){const W=Object.assign({},this.defaultMeta,X,{[C4]:Z,[v01]:J,level:Z,message:Y});if(X.message)W.message=`${W.message} ${X.message}`;if(X.stack)W.stack=X.stack;return this.write(W),this}}return this.write(Object.assign({},this.defaultMeta,{[C4]:Z,[v01]:J,level:Z,message:Y})),this}_transform(Z,Y,J){if(this.silent)return J();if(!Z[C4])Z[C4]=Z.level;if(!this.levels[Z[C4]]&&this.levels[Z[C4]]!==0)console.error("[winston] Unknown logger level: %s",Z[C4]);if(!this._readableState.pipes)console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",Z);try{this.push(this.format.transform(Z,this.format.options))}finally{this._writableState.sync=!1,J()}}_final(Z){const Y=this.transports.slice();b01(Y,(J,X)=>{if(!J||J.finished)return setImmediate(X);J.once("finish",X),J.end()},Z)}add(Z){const Y=!h01(Z)||Z.log.length>2?new Mb1({transport:Z}):Z;if(!Y._writableState||!Y._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");if(this._onEvent("error",Y),this._onEvent("warn",Y),this.pipe(Y),Z.handleExceptions)this.exceptions.handle();if(Z.handleRejections)this.rejections.handle();return this}remove(Z){if(!Z)return this;let Y=Z;if(!h01(Z)||Z.log.length>2)Y=this.transports.filter((J)=>J.transport===Z)[0];if(Y)this.unpipe(Y);return this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){Ab1.deprecated("setLevels")}query(Z,Y){if(typeof Z==="function")Y=Z,Z={};Z=Z||{};const J={},X=Object.assign({},Z.query||{});function $(G,Q){if(Z.query&&typeof G.formatQuery==="function")Z.query=G.formatQuery(X);G.query(Z,(K,H)=>{if(K)return Q(K);if(typeof G.formatResults==="function")H=G.formatResults(H,Z.format);Q(null,H)})}function W(G,Q){$(G,(K,H)=>{if(Q){if(H=K||H,H)J[G.name]=H;Q()}Q=null})}b01(this.transports.filter((G)=>!!G.query),W,()=>Y(null,J))}stream(Z={}){const Y=new Vb1,J=[];return Y._streams=J,Y.destroy=()=>{let X=J.length;while(X--)J[X].destroy()},this.transports.filter((X)=>!!X.stream).forEach((X)=>{const $=X.stream(Z);if(!$)return;J.push($),$.on("log",(W)=>{W.transport=W.transport||[],W.transport.push(X.name),Y.emit("log",W)}),$.on("error",(W)=>{W.transport=W.transport||[],W.transport.push(X.name),Y.emit("error",W)})}),Y}startTimer(){return new Bb1(this)}profile(Z,...Y){const J=Date.now();if(this.profilers[Z]){const X=this.profilers[Z];if(delete this.profilers[Z],typeof Y[Y.length-2]==="function")console.warn("Callback function no longer supported as of winston@3.0.0"),Y.pop();const $=typeof Y[Y.length-1]==="object"?Y.pop():{};return $.level=$.level||"info",$.durationMs=J-X,$.message=$.message||Z,this.write($)}return this.profilers[Z]=J,this}handleExceptions(...Z){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...Z)}unhandleExceptions(...Z){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...Z)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(Z,Y){function J(X){if(Z==="error"&&!this.transports.includes(Y))this.add(Y);this.emit(Z,X,Y)}if(!Y["__winston"+Z])Y["__winston"+Z]=J.bind(this),Y.on(Z,Y["__winston"+Z])}_addDefaultMeta(Z){if(this.defaultMeta)Object.assign(Z,this.defaultMeta)}}Object.defineProperty(i2.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:Z}=this._readableState;return!Array.isArray(Z)?[Z].filter(Boolean):Z}});m01.exports=i2});var n2=R((c60,u01)=>{var Eb1=function(Z){return"is"+Z.charAt(0).toUpperCase()+Z.slice(1)+"Enabled"},{LEVEL:Db1}=v0(),Pb1=iz(),Tb1=sz(),Cb1=CW()("winston:create-logger");u01.exports=function(Z={}){Z.levels=Z.levels||Pb1.npm.levels;class Y extends Tb1{constructor(X){super(X)}}const J=new Y(Z);return Object.keys(Z.levels).forEach(function(X){if(Cb1('Define prototype method for "%s"',X),X==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}Y.prototype[X]=function(...$){const W=this||J;if($.length===1){const[G]=$,Q=G&&G.message&&G||{message:G};return Q.level=Q[Db1]=X,W._addDefaultMeta(Q),W.write(Q),this||J}if($.length===0)return W.log(X,""),W;return W.log(X,...$)},Y.prototype[Eb1(X)]=function(){return(this||J).isLevelEnabled(X)}}),J}});var c01=R((p60,d01)=>{var jb1=n2();d01.exports=class Z{constructor(Y={}){this.loggers=new Map,this.options=Y}add(Y,J){if(!this.loggers.has(Y)){J=Object.assign({},J||this.options);const X=J.transports||this.options.transports;if(X)J.transports=Array.isArray(X)?X.slice():[X];else J.transports=[];const $=jb1(J);$.on("close",()=>this._delete(Y)),this.loggers.set(Y,$)}return this.loggers.get(Y)}get(Y,J){return this.add(Y,J)}has(Y){return!!this.loggers.has(Y)}close(Y){if(Y)return this._removeLogger(Y);this.loggers.forEach((J,X)=>this._removeLogger(X))}_removeLogger(Y){if(!this.loggers.has(Y))return;this.loggers.get(Y).close(),this._delete(Y)}_delete(Y){this.loggers.delete(Y)}}});var a01=R((a7)=>{var p01=NN(),{warn:OW}=DN();a7.version=Bo().version;a7.transports=w01();a7.config=iz();a7.addColors=p01.levels;a7.format=p01.format;a7.createLogger=n2();a7.Logger=sz();a7.ExceptionHandler=d2();a7.RejectionHandler=p2();a7.Container=c01();a7.Transport=r9();a7.loggers=new a7.Container;var F5=a7.createLogger();Object.keys(a7.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach((Z)=>a7[Z]=(...Y)=>F5[Z](...Y));Object.defineProperty(a7,"level",{get(){return F5.level},set(Z){F5.level=Z}});Object.defineProperty(a7,"exceptions",{get(){return F5.exceptions}});["exitOnError"].forEach((Z)=>{Object.defineProperty(a7,Z,{get(){return F5[Z]},set(Y){F5[Z]=Y}})});Object.defineProperty(a7,"default",{get(){return{exceptionHandlers:F5.exceptionHandlers,rejectionHandlers:F5.rejectionHandlers,transports:F5.transports}}});OW.deprecated(a7,"setLevels");OW.forFunctions(a7,"useFormat",["cli"]);OW.forProperties(a7,"useFormat",["padLevels","stripColors"]);OW.forFunctions(a7,"deprecated",["addRewriter","addFilter","clone","extend"]);OW.forProperties(a7,"deprecated",["emitErrs","levelLength"])});var jZ={MONGO_ATLAS_USER:"arce",MONGO_ATLAS_PASS:"f8NNwmWiTcs53eQR",MONGO_ATLAS_CLUSTER:"cluster0.qqc3zvl.mongodb.net",MONGO_ATLAS_DB:"e4cc",MONGODB_URI:""};jZ.MONGODB_URI=`mongodb+srv://${jZ.MONGO_ATLAS_USER}:${jZ.MONGO_ATLAS_PASS}@${jZ.MONGO_ATLAS_CLUSTER}/${jZ.MONGO_ATLAS_DB}?retryWrites=true&w=majority`;var{serve:vb1}=globalThis.Bun;function YF(Z){if(Z.method==="OPTIONS"){const J={"Access-Control-Allow-Origin":Z.headers.get("Origin")||"*","Access-Control-Allow-Credentials":"true"};return J["Access-Control-Allow-Methods"]="GET, POST, OPTIONS",J["Access-Control-Allow-Headers"]="Content-Type, Authorization, X-Requested-With, X-TLC, X-PROJECT",J["Access-Control-Max-Age"]="3600",new Response(null,{status:204,headers:J})}return!1}import J81 from"path";var __dirname="/home/arce/BACK-END-EMMA-AI/src/server/handler",XY=new Map,X81=async(Z)=>{if(XY.has(Z))return;if(!Z.match(/^[a-zA-Z0-9/]+$/)){if(Z!=="/favicon.ico")console.error("Invalid command name",Z);XY.set(Z,null);return}const Y=J81.join(__dirname,"../../controllers",Z+".js");try{const J=import.meta.require(Y).default;if(typeof J!=="function")console.error("Invalid command",Y),XY.set(Z,null);XY.set(Z,J);return}catch(J){console.error("Error loading command",Y),console.error(J),console.trace(),XY.set(Z,null)}},XI=async(Z)=>{return await X81(Z),XY.get(Z)??null};var $I=async(Z)=>{const Y=Z.url.pathname.substring(1),J=await XI(Y);if(!J)return new Response("Command not found",{status:404});try{return await J(Z)}catch(X){return $81(Z,X)}},$81=(Z,Y)=>{let J=Y.message;if(Y.response)J=Y.response.data?.error?.message??Y.response.data?.error;return console.error("handleError",Y),Response.json({status:Y?.response?.status??400,code:Y.code,message:J},{status:Y?.response?.status??400})};async function W81(Z){const Y={request:Z,headers:Z.headers,url:new URL(Z.url),method:Z.method,query:Z.url.includes("?")?new URLSearchParams(Z.url.split("?")[1]):new URLSearchParams};if((Z.method==="POST"||Z.method==="PUT")&&Z.headers.get("Content-Type")?.includes("application/json"))try{if(Z.headers.get("Content-Length")!=="0"){const J=await Z.json();Y.body=J}}catch(J){console.error("Error parsing request body:",J),Y.body=null}return Y}var G81=function(Z,Y){if(!(Y instanceof Response))if(typeof Y==="string")Y=new Response(Y,{status:200});else if(typeof Y==="object")Y=new Response(JSON.stringify(Y),{status:200});else if(typeof Y==="number")Y=new Response(Y.toString(),{status:200});else Y=new Response(null,{status:204});const J=Z.headers.get("Origin");return Y.headers.set("Access-Control-Allow-Origin",J||"*"),Y.headers.set("Access-Control-Allow-Credentials","true"),Y};async function WI(Z){try{const Y=await W81(Z),J=YF(Y);if(J)return J;const X=await $I(Y);return G81(Y,X)}catch(Y){return console.error("handleRequest",Y),new Response("Internal Server Error",{status:500})}}var MX=function(Z){switch(GI.call(Z)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t7(Z,Error)}},JF=function(Z,Y){return GI.call(Z)===`[object ${Y}]`};var r7=function(Z){return JF(Z,"String")},gW=function(Z){return Z===null||typeof Z!=="object"&&typeof Z!=="function"},M6=function(Z){return JF(Z,"Object")},XF=function(Z){return typeof Event!=="undefined"&&t7(Z,Event)},$F=function(Z){return typeof Element!=="undefined"&&t7(Z,Element)},BX=function(Z){return JF(Z,"RegExp")},n0=function(Z){return Boolean(Z&&Z.then&&typeof Z.then==="function")},WF=function(Z){return M6(Z)&&"nativeEvent"in Z&&"preventDefault"in Z&&"stopPropagation"in Z},AX=function(Z){return typeof Z==="number"&&Z!==Z},t7=function(Z,Y){try{return Z instanceof Y}catch(J){return!1}},bW=function(Z){return!!(typeof Z==="object"&&Z!==null&&(Z.__isVue||Z._isVue))},GI=Object.prototype.toString;var o7=function(Z,Y=0){if(typeof Z!=="string"||Y===0)return Z;return Z.length<=Y?Z:`${Z.slice(0,Y)}...`},NX=function(Z,Y){let J=Z;const X=J.length;if(X<=150)return J;if(Y>X)Y=X;let $=Math.max(Y-60,0);if($<5)$=0;let W=Math.min($+140,X);if(W>X-5)W=X;if(W===X)$=Math.max(W-140,0);if(J=J.slice($,W),$>0)J=`'{snip} ${J}`;if(W<X)J+=" {snip}";return J};var QI=function(Z,Y,J=!1){if(!r7(Z))return!1;if(BX(Y))return Y.test(Z);if(r7(Y))return J?Z===Y:Z.includes(Y);return!1},e7=function(Z,Y=[],J=!1){return Y.some((X)=>QI(Z,X,J))};var QF=function(Z,Y,J=250,X,$,W,G){if(!W.exception||!W.exception.values||!G||!t7(G.originalException,Error))return;const Q=W.exception.values.length>0?W.exception.values[W.exception.values.length-1]:void 0;if(Q)W.exception.values=Q81(GF(Z,Y,$,G.originalException,X,W.exception.values,Q,0),J)},GF=function(Z,Y,J,X,$,W,G,Q){if(W.length>=J+1)return W;let K=[...W];if(t7(X[$],Error)){KI(G,Q);const H=Z(Y,X[$]),z=K.length;HI(H,$,z,Q),K=GF(Z,Y,J,X[$],$,[H,...K],H,z)}if(Array.isArray(X.errors))X.errors.forEach((H,z)=>{if(t7(H,Error)){KI(G,Q);const F=Z(Y,H),U=K.length;HI(F,`errors[${z}]`,U,Q),K=GF(Z,Y,J,H,$,[F,...K],F,U)}});return K},KI=function(Z,Y){Z.mechanism=Z.mechanism||{type:"generic",handled:!0},Z.mechanism={...Z.mechanism,is_exception_group:!0,exception_id:Y}},HI=function(Z,Y,J,X){Z.mechanism=Z.mechanism||{type:"generic",handled:!0},Z.mechanism={...Z.mechanism,type:"chained",source:Y,exception_id:J,parent_id:X}},Q81=function(Z,Y){return Z.map((J)=>{if(J.value)J.value=o7(J.value,Y);return J})};var vW=function(Z){return Z&&Z.Math==Math?Z:void 0},IX=function(){return _1},DX=function(Z,Y,J){const X=J||_1,$=X.__SENTRY__=X.__SENTRY__||{};return $[Z]||($[Z]=Y())},_1=typeof globalThis=="object"&&vW(globalThis)||typeof window=="object"&&vW(window)||typeof self=="object"&&vW(self)||typeof global=="object"&&vW(global)||function(){return this}()||{};var zI=function(Z,Y={}){if(!Z)return"<unknown>";try{let J=Z;const X=5,$=[];let W=0,G=0;const Q=" > ",K=Q.length;let H;const z=Array.isArray(Y)?Y:Y.keyAttrs,F=!Array.isArray(Y)&&Y.maxStringLength||K81;while(J&&W++<X){if(H=H81(J,z),H==="html"||W>1&&G+$.length*K+H.length>=F)break;$.push(H),G+=H.length,J=J.parentNode}return $.reverse().join(Q)}catch(J){return"<unknown>"}},H81=function(Z,Y){const J=Z,X=[];let $,W,G,Q,K;if(!J||!J.tagName)return"";X.push(J.tagName.toLowerCase());const H=Y&&Y.length?Y.filter((F)=>J.getAttribute(F)).map((F)=>[F,J.getAttribute(F)]):null;if(H&&H.length)H.forEach((F)=>{X.push(`[${F[0]}="${F[1]}"]`)});else{if(J.id)X.push(`#${J.id}`);if($=J.className,$&&r7($)){W=$.split(/\s+/);for(K=0;K<W.length;K++)X.push(`.${W[K]}`)}}const z=["aria-label","type","name","title","alt"];for(K=0;K<z.length;K++)if(G=z[K],Q=J.getAttribute(G),Q)X.push(`[${G}="${Q}"]`);return X.join("")};var Wv1=IX(),K81=80;var Z4=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var j8=function(Z){if(!("console"in _1))return Z();const Y=_1.console,J={},X=Object.keys($Y);X.forEach(($)=>{const W=$Y[$];J[$]=Y[$],Y[$]=W});try{return Z()}finally{X.forEach(($)=>{Y[$]=J[$]})}},F81=function(){let Z=!1;const Y={enable:()=>{Z=!0},disable:()=>{Z=!1},isEnabled:()=>Z};if(Z4)PX.forEach((J)=>{Y[J]=(...X)=>{if(Z)j8(()=>{_1.console[J](`${z81}[${J}]:`,...X)})}});else PX.forEach((J)=>{Y[J]=()=>{return}});return Y},z81="Sentry Logger ",PX=["debug","info","warn","error","log","assert","trace"],$Y={},v=F81();var q81=function(Z){return Z==="http"||Z==="https"},q5=function(Z,Y=!1){const{host:J,path:X,pass:$,port:W,projectId:G,protocol:Q,publicKey:K}=Z;return`${Q}://${K}${Y&&$?`:${$}`:""}`+`@${J}${W?`:${W}`:""}/${X?`${X}/`:X}${G}`},FI=function(Z){const Y=U81.exec(Z);if(!Y){j8(()=>{console.error(`Invalid Sentry Dsn: ${Z}`)});return}const[J,X,$="",W,G="",Q]=Y.slice(1);let K="",H=Q;const z=H.split("/");if(z.length>1)K=z.slice(0,-1).join("/"),H=z.pop();if(H){const F=H.match(/^\d+/);if(F)H=F[0]}return UI({host:W,pass:$,path:K,projectId:H,port:G,protocol:J,publicKey:X})},UI=function(Z){return{protocol:Z.protocol,publicKey:Z.publicKey||"",pass:Z.pass||"",host:Z.host,port:Z.port||"",path:Z.path||"",projectId:Z.projectId}},V81=function(Z){if(!Z4)return!0;const{port:Y,projectId:J,protocol:X}=Z;if(["protocol","publicKey","host","projectId"].find((G)=>{if(!Z[G])return v.error(`Invalid Sentry Dsn: ${G} missing`),!0;return!1}))return!1;if(!J.match(/^\d+$/))return v.error(`Invalid Sentry Dsn: Invalid projectId ${J}`),!1;if(!q81(X))return v.error(`Invalid Sentry Dsn: Invalid protocol ${X}`),!1;if(Y&&isNaN(parseInt(Y,10)))return v.error(`Invalid Sentry Dsn: Invalid port ${Y}`),!1;return!0},hW=function(Z){const Y=typeof Z==="string"?FI(Z):UI(Z);if(!Y||!V81(Y))return;return Y},U81=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;class O8 extends Error{constructor(Z,Y="warn"){super(Z);this.message=Z,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=Y}}var E0=function(Z,Y,J){if(!(Y in Z))return;const X=Z[Y],$=J(X);if(typeof $==="function")LI($,X);Z[Y]=$},WY=function(Z,Y,J){try{Object.defineProperty(Z,Y,{value:J,writable:!0,configurable:!0})}catch(X){Z4&&v.log(`Failed to add non-enumerable property "${Y}" to object`,Z)}},LI=function(Z,Y){try{const J=Y.prototype||{};Z.prototype=Y.prototype=J,WY(Z,"__sentry_original__",Y)}catch(J){}},HF=function(Z){return Z.__sentry_original__},zF=function(Z){return Object.keys(Z).map((Y)=>`${encodeURIComponent(Y)}=${encodeURIComponent(Z[Y])}`).join("&")},mW=function(Z){if(MX(Z))return{message:Z.message,name:Z.name,stack:Z.stack,...VI(Z)};else if(XF(Z)){const Y={type:Z.type,target:qI(Z.target),currentTarget:qI(Z.currentTarget),...VI(Z)};if(typeof CustomEvent!=="undefined"&&t7(Z,CustomEvent))Y.detail=Z.detail;return Y}else return Z},qI=function(Z){try{return $F(Z)?zI(Z):Object.prototype.toString.call(Z)}catch(Y){return"<unknown>"}},VI=function(Z){if(typeof Z==="object"&&Z!==null){const Y={};for(let J in Z)if(Object.prototype.hasOwnProperty.call(Z,J))Y[J]=Z[J];return Y}else return{}},FF=function(Z,Y=40){const J=Object.keys(mW(Z));if(J.sort(),!J.length)return"[object has no keys]";if(J[0].length>=Y)return o7(J[0],Y);for(let X=J.length;X>0;X--){const $=J.slice(0,X).join(", ");if($.length>Y)continue;if(X===J.length)return $;return o7($,Y)}return""},f0=function(Z){return KF(Z,new Map)},KF=function(Z,Y){if(M6(Z)){const J=Y.get(Z);if(J!==void 0)return J;const X={};Y.set(Z,X);for(let $ of Object.keys(Z))if(typeof Z[$]!=="undefined")X[$]=KF(Z[$],Y);return X}if(Array.isArray(Z)){const J=Y.get(Z);if(J!==void 0)return J;const X=[];return Y.set(Z,X),Z.forEach(($)=>{X.push(KF($,Y))}),X}return Z};var L81=function(Z,Y=!1){return!(Y||Z&&!Z.startsWith("/")&&!Z.includes(":\\")&&!Z.startsWith(".")&&!Z.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&Z!==void 0&&!Z.includes("node_modules/")},RI=function(Z){const Y=/^\s*[-]{4,}$/,J=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return(X)=>{const $=X.match(J);if($){let W,G,Q,K,H;if($[1]){Q=$[1];let U=Q.lastIndexOf(".");if(Q[U-1]===".")U--;if(U>0){W=Q.slice(0,U),G=Q.slice(U+1);const q=W.indexOf(".Module");if(q>0)Q=Q.slice(q+1),W=W.slice(0,q)}K=void 0}if(G)K=W,H=G;if(G==="<anonymous>")H=void 0,Q=void 0;if(Q===void 0)H=H||"<anonymous>",Q=K?`${K}.${H}`:H;let z=$[2]&&$[2].startsWith("file://")?$[2].slice(7):$[2];const F=$[5]==="native";if(!z&&$[5]&&!F)z=$[5];return{filename:z,module:Z?Z(z):void 0,function:Q,lineno:parseInt($[3],10)||void 0,colno:parseInt($[4],10)||void 0,in_app:L81(z,F)}}if(X.match(Y))return{filename:X};return}};var uW=function(...Z){const Y=Z.sort((J,X)=>J[0]-X[0]).map((J)=>J[1]);return(J,X=0)=>{const $=[],W=J.split("\n");for(let G=X;G<W.length;G++){const Q=W[G];if(Q.length>1024)continue;const K=wI.test(Q)?Q.replace(wI,"$1"):Q;if(K.match(/\S*Error: /))continue;for(let H of Y){const z=H(K);if(z){$.push(z);break}}if($.length>=BI)break}return AI($)}},qF=function(Z){if(Array.isArray(Z))return uW(...Z);return Z},AI=function(Z){if(!Z.length)return[];const Y=Array.from(Z);if(/sentryWrapped/.test(Y[Y.length-1].function||""))Y.pop();if(Y.reverse(),MI.test(Y[Y.length-1].function||"")){if(Y.pop(),MI.test(Y[Y.length-1].function||""))Y.pop()}return Y.slice(0,BI).map((J)=>({...J,filename:J.filename||Y[Y.length-1].filename,function:J.function||"?"}))},TX=function(Z){try{if(!Z||typeof Z!=="function")return UF;return Z.name||UF}catch(Y){return UF}},VF=function(Z){return[90,RI(Z)]},BI=50,wI=/\(error: (.*)\)/,MI=/captureMessage|captureException/,UF="<anonymous>";var GY=function(Z,Y){dW[Z]=dW[Z]||[],dW[Z].push(Y)};var QY=function(Z,Y){if(!NI[Z])Y(),NI[Z]=!0},KY=function(Z,Y){const J=Z&&dW[Z];if(!J)return;for(let X of J)try{X(Y)}catch($){Z4&&v.error(`Error while triggering instrumentation handler.\nType: ${Z}\nName: ${TX(X)}\nError:`,$)}},dW={},NI={};var LF=function(Z){GY("console",Z),QY("console",R81)},R81=function(){if(!("console"in _1))return;PX.forEach(function(Z){if(!(Z in _1.console))return;E0(_1.console,Z,function(Y){return $Y[Z]=Y,function(...J){KY("console",{args:J,level:Z});const $=$Y[Z];$&&$.apply(_1.console,J)}})})};var M0=function(){const Z=_1,Y=Z.crypto||Z.msCrypto;let J=()=>Math.random()*16;try{if(Y&&Y.randomUUID)return Y.randomUUID().replace(/-/g,"");if(Y&&Y.getRandomValues)J=()=>Y.getRandomValues(new Uint8Array(1))[0]}catch(X){}return([1e7]+1000+4000+8000+100000000000).replace(/[018]/g,(X)=>(X^(J()&15)>>X/4).toString(16))},II=function(Z){return Z.exception&&Z.exception.values?Z.exception.values[0]:void 0},j4=function(Z){const{message:Y,event_id:J}=Z;if(Y)return Y;const X=II(Z);if(X){if(X.type&&X.value)return`${X.type}: ${X.value}`;return X.type||X.value||J||"<unknown>"}return J||"<unknown>"},RF=function(Z,Y,J){const X=Z.exception=Z.exception||{},$=X.values=X.values||[],W=$[0]=$[0]||{};if(!W.value)W.value=Y||"";if(!W.type)W.type=J||"Error"},CX=function(Z,Y){const J=II(Z);if(!J)return;const X={type:"generic",handled:!0},$=J.mechanism;if(J.mechanism={...X,...$,...Y},Y&&"data"in Y){const W={...$&&$.data,...Y.data};J.mechanism.data=W}},wF=function(Z){const Y=Z.match(w81)||[],J=parseInt(Y[1],10),X=parseInt(Y[2],10),$=parseInt(Y[3],10);return{buildmetadata:Y[5],major:isNaN(J)?void 0:J,minor:isNaN(X)?void 0:X,patch:isNaN($)?void 0:$,prerelease:Y[4]}},MF=function(Z,Y,J=5){if(Y.lineno===void 0)return;const X=Z.length,$=Math.max(Math.min(X-1,Y.lineno-1),0);Y.pre_context=Z.slice(Math.max(0,$-J),$).map((W)=>NX(W,0)),Y.context_line=NX(Z[Math.min(X-1,$)],Y.colno||0),Y.post_context=Z.slice(Math.min($+1,X),$+1+J).map((W)=>NX(W,0))},cW=function(Z){if(Z&&Z.__sentry_captured__)return!0;try{WY(Z,"__sentry_captured__",!0)}catch(Y){}return!1},V5=function(Z){return Array.isArray(Z)?Z:[Z]},w81=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;var BF=function(Z){GY("error",Z),QY("error",M81)},M81=function(){pW=_1.onerror,_1.onerror=function(Z,Y,J,X,$){if(KY("error",{column:X,error:$,line:J,msg:Z,url:Y}),pW&&!pW.__SENTRY_LOADER__)return pW.apply(this,arguments);return!1},_1.onerror.__SENTRY_INSTRUMENTED__=!0},pW=null;var AF=function(Z){GY("unhandledrejection",Z),QY("unhandledrejection",B81)},B81=function(){lW=_1.onunhandledrejection,_1.onunhandledrejection=function(Z){if(KY("unhandledrejection",Z),lW&&!lW.__SENTRY_LOADER__)return lW.apply(this,arguments);return!0},_1.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0},lW=null;var DI=function(){return typeof __SENTRY_BROWSER_BUNDLE__!=="undefined"&&!!__SENTRY_BROWSER_BUNDLE__};var IF=function(){return!DI()&&Object.prototype.toString.call(typeof process!=="undefined"?process:0)==="[object process]"},L5=function(Z,Y){return Z.require(Y)},v6=function(Z){let Y;try{Y=L5(NF,Z)}catch(J){}try{const{cwd:J}=L5(NF,"process");Y=L5(NF,`${J()}/node_modules/${Z}`)}catch(J){}return Y};var PI=function(){const Z=typeof WeakSet==="function",Y=Z?new WeakSet:[];function J($){if(Z){if(Y.has($))return!0;return Y.add($),!1}for(let W=0;W<Y.length;W++)if(Y[W]===$)return!0;return Y.push($),!1}function X($){if(Z)Y.delete($);else for(let W=0;W<Y.length;W++)if(Y[W]===$){Y.splice(W,1);break}}return[J,X]};var B6=function(Z,Y=100,J=Infinity){try{return iW("",Z,Y,J)}catch(X){return{ERROR:`**non-serializable** (${X})`}}},nW=function(Z,Y=3,J=102400){const X=B6(Z,Y);if(D81(X)>J)return nW(Z,Y-1,J);return X},iW=function(Z,Y,J=Infinity,X=Infinity,$=PI()){const[W,G]=$;if(Y==null||["number","boolean","string"].includes(typeof Y)&&!AX(Y))return Y;const Q=A81(Z,Y);if(!Q.startsWith("[object "))return Q;if(Y.__sentry_skip_normalization__)return Y;const K=typeof Y.__sentry_override_normalization_depth__==="number"?Y.__sentry_override_normalization_depth__:J;if(K===0)return Q.replace("object ","");if(W(Y))return"[Circular ~]";const H=Y;if(H&&typeof H.toJSON==="function")try{const q=H.toJSON();return iW("",q,K-1,X,$)}catch(q){}const z=Array.isArray(Y)?[]:{};let F=0;const U=mW(Y);for(let q in U){if(!Object.prototype.hasOwnProperty.call(U,q))continue;if(F>=X){z[q]="[MaxProperties ~]";break}const V=U[q];z[q]=iW(q,V,K-1,X,$),F++}return G(Y),z},A81=function(Z,Y){try{if(Z==="domain"&&Y&&typeof Y==="object"&&Y._events)return"[Domain]";if(Z==="domainEmitter")return"[DomainEmitter]";if(typeof global!=="undefined"&&Y===global)return"[Global]";if(typeof window!=="undefined"&&Y===window)return"[Window]";if(typeof document!=="undefined"&&Y===document)return"[Document]";if(bW(Y))return"[VueViewModel]";if(WF(Y))return"[SyntheticEvent]";if(typeof Y==="number"&&Y!==Y)return"[NaN]";if(typeof Y==="function")return`[Function: ${TX(Y)}]`;if(typeof Y==="symbol")return`[${String(Y)}]`;if(typeof Y==="bigint")return`[BigInt: ${String(Y)}]`;const J=N81(Y);if(/^HTML(\w*)Element$/.test(J))return`[HTMLElement: ${J}]`;return`[object ${J}]`}catch(J){return`**non-serializable** (${J})`}},N81=function(Z){const Y=Object.getPrototypeOf(Z);return Y?Y.constructor.name:"null prototype"},I81=function(Z){return~-encodeURI(Z).split(/%..|./).length},D81=function(Z){return I81(JSON.stringify(Z))};var A6=function(Z){return new w8((Y)=>{Y(Z)})},OZ=function(Z){return new w8((Y,J)=>{J(Z)})},O4;(function(Z){Z[Z.PENDING=0]="PENDING";const J=1;Z[Z.RESOLVED=J]="RESOLVED";const X=2;Z[Z.REJECTED=X]="REJECTED"})(O4||(O4={}));class w8{constructor(Z){w8.prototype.__init.call(this),w8.prototype.__init2.call(this),w8.prototype.__init3.call(this),w8.prototype.__init4.call(this),this._state=O4.PENDING,this._handlers=[];try{Z(this._resolve,this._reject)}catch(Y){this._reject(Y)}}then(Z,Y){return new w8((J,X)=>{this._handlers.push([!1,($)=>{if(!Z)J($);else try{J(Z($))}catch(W){X(W)}},($)=>{if(!Y)X($);else try{J(Y($))}catch(W){X(W)}}]),this._executeHandlers()})}catch(Z){return this.then((Y)=>Y,Z)}finally(Z){return new w8((Y,J)=>{let X,$;return this.then((W)=>{if($=!1,X=W,Z)Z()},(W)=>{if($=!0,X=W,Z)Z()}).then(()=>{if($){J(X);return}Y(X)})})}__init(){this._resolve=(Z)=>{this._setResult(O4.RESOLVED,Z)}}__init2(){this._reject=(Z)=>{this._setResult(O4.REJECTED,Z)}}__init3(){this._setResult=(Z,Y)=>{if(this._state!==O4.PENDING)return;if(n0(Y)){Y.then(this._resolve,this._reject);return}this._state=Z,this._value=Y,this._executeHandlers()}}__init4(){this._executeHandlers=()=>{if(this._state===O4.PENDING)return;const Z=this._handlers.slice();this._handlers=[],Z.forEach((Y)=>{if(Y[0])return;if(this._state===O4.RESOLVED)Y[1](this._value);if(this._state===O4.REJECTED)Y[2](this._value);Y[0]=!0})}}}var DF=function(Z){const Y=[];function J(){return Z===void 0||Y.length<Z}function X(G){return Y.splice(Y.indexOf(G),1)[0]}function $(G){if(!J())return OZ(new O8("Not adding Promise because buffer limit was reached."));const Q=G();if(Y.indexOf(Q)===-1)Y.push(Q);return Q.then(()=>X(Q)).then(null,()=>X(Q).then(null,()=>{})),Q}function W(G){return new w8((Q,K)=>{let H=Y.length;if(!H)return Q(!0);const z=setTimeout(()=>{if(G&&G>0)Q(!1)},G);Y.forEach((F)=>{A6(F).then(()=>{if(!--H)clearTimeout(z),Q(!0)},K)})})}return{$:Y,add:$,drain:W}};var TI=function(Z){const Y={};let J=0;while(J<Z.length){const X=Z.indexOf("=",J);if(X===-1)break;let $=Z.indexOf(";",J);if($===-1)$=Z.length;else if($<X){J=Z.lastIndexOf(";",X-1)+1;continue}const W=Z.slice(J,X).trim();if(Y[W]===void 0){let G=Z.slice(X+1,$).trim();if(G.charCodeAt(0)===34)G=G.slice(1,-1);try{Y[W]=G.indexOf("%")!==-1?decodeURIComponent(G):G}catch(Q){Y[W]=G}}J=$+1}return Y};var EX=function(Z){if(!Z)return{};const Y=Z.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Y)return{};const J=Y[6]||"",X=Y[8]||"";return{host:Y[4],path:Y[5],protocol:Y[2],search:J,hash:X,relative:Y[5]+J+X}},SZ=function(Z){return Z.split(/[\?#]/,1)[0]},HY=function(Z){return Z.split(/\\?\//).filter((Y)=>Y.length>0&&Y!==",").length},jX=function(Z){const{protocol:Y,host:J,path:X}=Z,$=J&&J.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${Y?`${Y}://`:""}${$}${X}`};var kZ=function(Z,Y={}){const J=Z.method&&Z.method.toUpperCase();let X="",$="url";if(Y.customRoute||Z.route)X=Y.customRoute||`${Z.baseUrl||""}${Z.route&&Z.route.path}`,$="route";else if(Z.originalUrl||Z.url)X=SZ(Z.originalUrl||Z.url||"");let W="";if(Y.method&&J)W+=J;if(Y.method&&Y.path)W+=" ";if(Y.path&&X)W+=X;return[W,$]},C81=function(Z,Y){switch(Y){case"path":return kZ(Z,{path:!0})[0];case"handler":return Z.route&&Z.route.stack&&Z.route.stack[0]&&Z.route.stack[0].name||"<anonymous>";case"methodPath":default:{const J=Z._reconstructedRoute?Z._reconstructedRoute:void 0;return kZ(Z,{path:!0,method:!0,customRoute:J})[0]}}},E81=function(Z,Y){const J={};return(Array.isArray(Y)?Y:CI).forEach(($)=>{if(Z&&$ in Z)J[$]=Z[$]}),J},PF=function(Z,Y){const{include:J=T81,deps:X}=Y||{},$={},W=Z.headers||{},G=Z.method,Q=Z.hostname||Z.host||W.host||"<no host>",K=Z.protocol==="https"||Z.socket&&Z.socket.encrypted?"https":"http",H=Z.originalUrl||Z.url||"",z=H.startsWith(K)?H:`${K}://${Q}${H}`;return J.forEach((F)=>{switch(F){case"headers":{if($.headers=W,!J.includes("cookies"))delete $.headers.cookie;break}case"method":{$.method=G;break}case"url":{$.url=z;break}case"cookies":{$.cookies=Z.cookies||W.cookie&&TI(W.cookie)||{};break}case"query_string":{$.query_string=j81(Z,X);break}case"data":{if(G==="GET"||G==="HEAD")break;if(Z.body!==void 0)$.data=r7(Z.body)?Z.body:JSON.stringify(B6(Z.body));break}default:if({}.hasOwnProperty.call(Z,F))$[F]=Z[F]}}),$},TF=function(Z,Y,J){const X={...P81,...J&&J.include};if(X.request){const $=Array.isArray(X.request)?PF(Y,{include:X.request,deps:J&&J.deps}):PF(Y,{deps:J&&J.deps});Z.request={...Z.request,...$}}if(X.user){const $=Y.user&&M6(Y.user)?E81(Y.user,X.user):{};if(Object.keys($).length)Z.user={...Z.user,...$}}if(X.ip){const $=Y.ip||Y.socket&&Y.socket.remoteAddress;if($)Z.user={...Z.user,ip_address:$}}if(X.transaction&&!Z.transaction)Z.transaction=C81(Y,X.transaction);return Z},j81=function(Z,Y){let J=Z.originalUrl||Z.url||"";if(!J)return;if(J.startsWith("/"))J=`http://dogs.are.great${J}`;try{return Z.query||typeof URL!==void 0&&new URL(J).search.slice(1)||Y&&Y.url&&Y.url.parse(J).query||void 0}catch(X){return}};var P81={ip:!1,request:!0,transaction:!0,user:!0},T81=["cookies","data","headers","method","query_string","url"],CI=["id","username","email"];var CF=function(Z){return Z==="warn"?"warning":EI.includes(Z)?Z:"log"},EI=["fatal","error","warning","log","info","debug"];var O81=function(){const{performance:Z}=OI;if(!Z||!Z.now)return;const Y=Date.now()-Z.now();return{now:()=>Z.now(),timeOrigin:Y}},S81=function(){try{return L5(_81,"perf_hooks").performance}catch(Z){return}},OI=IX(),jF={nowSeconds:()=>Date.now()/1000},EF=IF()?S81():O81(),jI=EF===void 0?jF:{nowSeconds:()=>(EF.timeOrigin+EF.now())/1000},_Z=jF.nowSeconds.bind(jF),xZ=jI.nowSeconds.bind(jI);var OX,k81=(()=>{const{performance:Z}=OI;if(!Z||!Z.now){OX="none";return}const Y=3600000,J=Z.now(),X=Date.now(),$=Z.timeOrigin?Math.abs(Z.timeOrigin+J-X):Y,W=$<Y,G=Z.timing&&Z.timing.navigationStart,K=typeof G==="number"?Math.abs(G+J-X):Y,H=K<Y;if(W||H)if($<=K)return OX="timeOrigin",Z.timeOrigin;else return OX="navigationStart",G;return OX="dateNow",X})();var SF=function(Z){if(!r7(Z)&&!Array.isArray(Z))return;let Y={};if(Array.isArray(Z))Y=Z.reduce((X,$)=>{const W=SI($);return{...X,...W}},{});else{if(!Z)return;Y=SI(Z)}const J=Object.entries(Y).reduce((X,[$,W])=>{if($.match(kI)){const G=$.slice(OF.length);X[G]=W}return X},{});if(Object.keys(J).length>0)return J;else return},zY=function(Z){if(!Z)return;const Y=Object.entries(Z).reduce((J,[X,$])=>{if($)J[`${OF}${X}`]=$;return J},{});return x81(Y)},SI=function(Z){return Z.split(",").map((Y)=>Y.split("=").map((J)=>decodeURIComponent(J.trim()))).reduce((Y,[J,X])=>{return Y[J]=X,Y},{})},x81=function(Z){if(Object.keys(Z).length===0)return;return Object.entries(Z).reduce((Y,[J,X],$)=>{const W=`${encodeURIComponent(J)}=${encodeURIComponent(X)}`,G=$===0?W:`${Y},${W}`;if(G.length>_I)return Z4&&v.warn(`Not adding key: ${J} with val: ${X} to baggage header due to exceeding baggage size limits.`),Y;else return G},"")};var OF="sentry-",kI=/^sentry-/,_I=8192;var fI=function(Z){if(!Z)return;const Y=Z.match(xI);if(!Y)return;let J;if(Y[3]==="1")J=!0;else if(Y[3]==="0")J=!1;return{traceId:Y[1],parentSampled:J,parentSpanId:Y[2]}},SX=function(Z,Y){const J=fI(Z),X=SF(Y),{traceId:$,parentSpanId:W,parentSampled:G}=J||{},Q={traceId:$||M0(),spanId:M0().substring(16),sampled:G};if(W)Q.parentSpanId=W;if(X)Q.dsc=X;return{traceparentData:J,dynamicSamplingContext:X,propagationContext:Q}},fZ=function(Z=M0(),Y=M0().substring(16),J){let X="";if(J!==void 0)X=J?"-1":"-0";return`${Z}-${Y}${X}`},xI=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var R5=function(Z,Y=[]){return[Z,Y]},_F=function(Z,Y){const[J,X]=Z;return[J,[...X,Y]]},aW=function(Z,Y){const J=Z[1];for(let X of J){const $=X[0].type;if(Y(X,$))return!0}return!1};var kF=function(Z,Y){return(Y||new TextEncoder).encode(Z)},kX=function(Z,Y){const[J,X]=Z;let $=JSON.stringify(J);function W(G){if(typeof $==="string")$=typeof G==="string"?$+G:[kF($,Y),G];else $.push(typeof G==="string"?kF(G,Y):G)}for(let G of X){const[Q,K]=G;if(W(`\n${JSON.stringify(Q)}\n`),typeof K==="string"||K instanceof Uint8Array)W(K);else{let H;try{H=JSON.stringify(K)}catch(z){H=JSON.stringify(B6(K))}W(H)}}return typeof $==="string"?$:f81($)},f81=function(Z){const Y=Z.reduce(($,W)=>$+W.length,0),J=new Uint8Array(Y);let X=0;for(let $ of Z)J.set($,X),X+=$.length;return J};var xF=function(Z,Y){const J=typeof Z.data==="string"?kF(Z.data,Y):Z.data;return[f0({type:"attachment",length:J.length,filename:Z.filename,content_type:Z.contentType,attachment_type:Z.attachmentType}),J]},sW=function(Z){return y81[Z]},rW=function(Z){if(!Z||!Z.sdk)return;const{name:Y,version:J}=Z.sdk;return{name:Y,version:J}},fF=function(Z,Y,J,X){const $=Z.sdkProcessingMetadata&&Z.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:Z.event_id,sent_at:(new Date()).toISOString(),...Y&&{sdk:Y},...!!J&&X&&{dsn:q5(X)},...$&&{trace:f0({...$})}}},y81={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};var yI=function(Z,Y=Date.now()){const J=parseInt(`${Z}`,10);if(!isNaN(J))return J*1000;const X=Date.parse(`${Z}`);if(!isNaN(X))return X-Y;return 60000},gI=function(Z,Y){return Z[Y]||Z.all||0},yF=function(Z,Y,J=Date.now()){return gI(Z,Y)>J},gF=function(Z,{statusCode:Y,headers:J},X=Date.now()){const $={...Z},W=J&&J["x-sentry-rate-limits"],G=J&&J["retry-after"];if(W)for(let Q of W.trim().split(",")){const[K,H]=Q.split(":",2),z=parseInt(K,10),F=(!isNaN(z)?z:60)*1000;if(!H)$.all=X+F;else for(let U of H.split(";"))$[U]=X+F}else if(G)$.all=X+yI(G,X);else if(Y===429)$.all=X+60000;return $};var bF=function(Z,Y){return Z(Y.stack||"",1)},tW=function(Z,Y){const J={type:Y.name||Y.constructor.name,value:Y.message},X=bF(Z,Y);if(X.length)J.stacktrace={frames:X};return J},g81=function(Z){if("name"in Z&&typeof Z.name==="string"){let Y=`'${Z.name}' captured as exception`;if("message"in Z&&typeof Z.message==="string")Y+=` with message '${Z.message}'`;return Y}else if("message"in Z&&typeof Z.message==="string")return Z.message;else return`Object captured as exception with keys: ${FF(Z)}`},vF=function(Z,Y,J,X){let $=J;const G=X&&X.data&&X.data.mechanism||{handled:!0,type:"generic"};if(!MX(J)){if(M6(J)){const K=Z(),H=K.getClient(),z=H&&H.getOptions().normalizeDepth;K.configureScope((U)=>{U.setExtra("__serialized__",nW(J,z))});const F=g81(J);$=X&&X.syntheticException||new Error(F),$.message=F}else $=X&&X.syntheticException||new Error(J),$.message=J;G.synthetic=!0}const Q={exception:{values:[tW(Y,$)]}};return RF(Q,void 0,void 0),CX(Q,G),{...Q,event_id:X&&X.event_id}},hF=function(Z,Y,J="info",X,$){const W={event_id:X&&X.event_id,level:J,message:Y};if($&&X&&X.syntheticException){const G=bF(Z,X.syntheticException);if(G.length)W.exception={values:[{value:Y,stacktrace:{frames:G}}]}}return W};class h6{constructor(Z){this._maxSize=Z,this._cache=new Map}get size(){return this._cache.size}get(Z){const Y=this._cache.get(Z);if(Y===void 0)return;return this._cache.delete(Z),this._cache.set(Z,Y),Y}set(Z,Y){if(this._cache.size>=this._maxSize)this._cache.delete(this._cache.keys().next().value);this._cache.set(Z,Y)}remove(Z){const Y=this._cache.get(Z);if(Y)this._cache.delete(Z);return Y}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const Z=[];return this._cache.forEach((Y)=>Z.push(Y)),Z}}var _X=function(Z,Y){return Z!=null?Z:Y()};var d=function(Z){let Y=void 0,J=Z[0],X=1;while(X<Z.length){const $=Z[X],W=Z[X+1];if(X+=2,($==="optionalAccess"||$==="optionalCall")&&J==null)return;if($==="access"||$==="optionalAccess")Y=J,J=W(J);else if($==="call"||$==="optionalCall")J=W((...G)=>J.call(Y,...G)),Y=void 0}return J};var X1=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var FY="production";var xX=function(){return DX("globalEventProcessors",()=>[])},mF=function(Z){xX().push(Z)},UY=function(Z,Y,J,X=0){return new w8(($,W)=>{const G=Z[X];if(Y===null||typeof G!=="function")$(Y);else{const Q=G({...Y},J);if(X1&&G.id&&Q===null&&v.log(`Event processor "${G.id}" dropped event`),n0(Q))Q.then((K)=>UY(Z,K,J,X+1).then($)).then(null,W);else UY(Z,Q,J,X+1).then($).then(null,W)}})};var bI=function(Z){const Y=xZ(),J={sid:M0(),init:!0,timestamp:Y,started:Y,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>b81(J)};if(Z)S4(J,Z);return J},S4=function(Z,Y={}){if(Y.user){if(!Z.ipAddress&&Y.user.ip_address)Z.ipAddress=Y.user.ip_address;if(!Z.did&&!Y.did)Z.did=Y.user.id||Y.user.email||Y.user.username}if(Z.timestamp=Y.timestamp||xZ(),Y.abnormal_mechanism)Z.abnormal_mechanism=Y.abnormal_mechanism;if(Y.ignoreDuration)Z.ignoreDuration=Y.ignoreDuration;if(Y.sid)Z.sid=Y.sid.length===32?Y.sid:M0();if(Y.init!==void 0)Z.init=Y.init;if(!Z.did&&Y.did)Z.did=`${Y.did}`;if(typeof Y.started==="number")Z.started=Y.started;if(Z.ignoreDuration)Z.duration=void 0;else if(typeof Y.duration==="number")Z.duration=Y.duration;else{const J=Z.timestamp-Z.started;Z.duration=J>=0?J:0}if(Y.release)Z.release=Y.release;if(Y.environment)Z.environment=Y.environment;if(!Z.ipAddress&&Y.ipAddress)Z.ipAddress=Y.ipAddress;if(!Z.userAgent&&Y.userAgent)Z.userAgent=Y.userAgent;if(typeof Y.errors==="number")Z.errors=Y.errors;if(Y.status)Z.status=Y.status},vI=function(Z,Y){let J={};if(Y)J={status:Y};else if(Z.status==="ok")J={status:"exited"};S4(Z,J)},b81=function(Z){return f0({sid:`${Z.sid}`,init:Z.init,started:new Date(Z.started*1000).toISOString(),timestamp:new Date(Z.timestamp*1000).toISOString(),status:Z.status,errors:Z.errors,did:typeof Z.did==="number"||typeof Z.did==="string"?`${Z.did}`:void 0,duration:Z.duration,abnormal_mechanism:Z.abnormal_mechanism,attrs:{release:Z.release,environment:Z.environment,ip_address:Z.ipAddress,user_agent:Z.userAgent}})};var hI=function(){return{traceId:M0(),spanId:M0().substring(16)}},v81=100;class m6{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=hI()}static clone(Z){const Y=new m6;if(Z)Y._breadcrumbs=[...Z._breadcrumbs],Y._tags={...Z._tags},Y._extra={...Z._extra},Y._contexts={...Z._contexts},Y._user=Z._user,Y._level=Z._level,Y._span=Z._span,Y._session=Z._session,Y._transactionName=Z._transactionName,Y._fingerprint=Z._fingerprint,Y._eventProcessors=[...Z._eventProcessors],Y._requestSession=Z._requestSession,Y._attachments=[...Z._attachments],Y._sdkProcessingMetadata={...Z._sdkProcessingMetadata},Y._propagationContext={...Z._propagationContext};return Y}addScopeListener(Z){this._scopeListeners.push(Z)}addEventProcessor(Z){return this._eventProcessors.push(Z),this}setUser(Z){if(this._user=Z||{},this._session)S4(this._session,{user:Z});return this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(Z){return this._requestSession=Z,this}setTags(Z){return this._tags={...this._tags,...Z},this._notifyScopeListeners(),this}setTag(Z,Y){return this._tags={...this._tags,[Z]:Y},this._notifyScopeListeners(),this}setExtras(Z){return this._extra={...this._extra,...Z},this._notifyScopeListeners(),this}setExtra(Z,Y){return this._extra={...this._extra,[Z]:Y},this._notifyScopeListeners(),this}setFingerprint(Z){return this._fingerprint=Z,this._notifyScopeListeners(),this}setLevel(Z){return this._level=Z,this._notifyScopeListeners(),this}setTransactionName(Z){return this._transactionName=Z,this._notifyScopeListeners(),this}setContext(Z,Y){if(Y===null)delete this._contexts[Z];else this._contexts[Z]=Y;return this._notifyScopeListeners(),this}setSpan(Z){return this._span=Z,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const Z=this.getSpan();return Z&&Z.transaction}setSession(Z){if(!Z)delete this._session;else this._session=Z;return this._notifyScopeListeners(),this}getSession(){return this._session}update(Z){if(!Z)return this;if(typeof Z==="function"){const Y=Z(this);return Y instanceof m6?Y:this}if(Z instanceof m6){if(this._tags={...this._tags,...Z._tags},this._extra={...this._extra,...Z._extra},this._contexts={...this._contexts,...Z._contexts},Z._user&&Object.keys(Z._user).length)this._user=Z._user;if(Z._level)this._level=Z._level;if(Z._fingerprint)this._fingerprint=Z._fingerprint;if(Z._requestSession)this._requestSession=Z._requestSession;if(Z._propagationContext)this._propagationContext=Z._propagationContext}else if(M6(Z)){if(Z=Z,this._tags={...this._tags,...Z.tags},this._extra={...this._extra,...Z.extra},this._contexts={...this._contexts,...Z.contexts},Z.user)this._user=Z.user;if(Z.level)this._level=Z.level;if(Z.fingerprint)this._fingerprint=Z.fingerprint;if(Z.requestSession)this._requestSession=Z.requestSession;if(Z.propagationContext)this._propagationContext=Z.propagationContext}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=hI(),this}addBreadcrumb(Z,Y){const J=typeof Y==="number"?Y:v81;if(J<=0)return this;const X={timestamp:_Z(),...Z},$=this._breadcrumbs;return $.push(X),this._breadcrumbs=$.length>J?$.slice(-J):$,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(Z){return this._attachments.push(Z),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(Z,Y={},J){if(this._extra&&Object.keys(this._extra).length)Z.extra={...this._extra,...Z.extra};if(this._tags&&Object.keys(this._tags).length)Z.tags={...this._tags,...Z.tags};if(this._user&&Object.keys(this._user).length)Z.user={...this._user,...Z.user};if(this._contexts&&Object.keys(this._contexts).length)Z.contexts={...this._contexts,...Z.contexts};if(this._level)Z.level=this._level;if(this._transactionName)Z.transaction=this._transactionName;if(this._span){Z.contexts={trace:this._span.getTraceContext(),...Z.contexts};const W=this._span.transaction;if(W){Z.sdkProcessingMetadata={dynamicSamplingContext:W.getDynamicSamplingContext(),...Z.sdkProcessingMetadata};const G=W.name;if(G)Z.tags={transaction:G,...Z.tags}}}this._applyFingerprint(Z);const X=this._getBreadcrumbs(),$=[...Z.breadcrumbs||[],...X];return Z.breadcrumbs=$.length>0?$:void 0,Z.sdkProcessingMetadata={...Z.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},UY([...J||[],...xX(),...this._eventProcessors],Z,Y)}setSDKProcessingMetadata(Z){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...Z},this}setPropagationContext(Z){return this._propagationContext=Z,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){if(!this._notifyingListeners)this._notifyingListeners=!0,this._scopeListeners.forEach((Z)=>{Z(this)}),this._notifyingListeners=!1}_applyFingerprint(Z){if(Z.fingerprint=Z.fingerprint?V5(Z.fingerprint):[],this._fingerprint)Z.fingerprint=Z.fingerprint.concat(this._fingerprint);if(Z.fingerprint&&!Z.fingerprint.length)delete Z.fingerprint}}var M7=function(){return _1.__SENTRY__=_1.__SENTRY__||{extensions:{},hub:void 0},_1},oW=function(Z){const Y=M7(),J=u6(Y);return LY(Y,Z),J},V1=function(){const Z=M7();if(Z.__SENTRY__&&Z.__SENTRY__.acs){const Y=Z.__SENTRY__.acs.getCurrentHub();if(Y)return Y}return mI(Z)},mI=function(Z=M7()){if(!uI(Z)||u6(Z).isOlderThan(uF))LY(Z,new qY);return u6(Z)},VY=function(Z,Y=mI()){if(!uI(Z)||u6(Z).isOlderThan(uF)){const J=Y.getStackTop();LY(Z,new qY(J.client,m6.clone(J.scope)))}},fX=function(Z){const Y=M7();Y.__SENTRY__=Y.__SENTRY__||{},Y.__SENTRY__.acs=Z},eW=function(Z,Y={}){const J=M7();if(J.__SENTRY__&&J.__SENTRY__.acs)return J.__SENTRY__.acs.runWithAsyncContext(Z,Y);return Z()},uI=function(Z){return!!(Z&&Z.__SENTRY__&&Z.__SENTRY__.hub)},u6=function(Z){return DX("hub",()=>new qY,Z)},LY=function(Z,Y){if(!Z)return!1;const J=Z.__SENTRY__=Z.__SENTRY__||{};return J.hub=Y,!0},uF=4,h81=100;class qY{constructor(Z,Y=new m6,J=uF){if(this._version=J,this._stack=[{scope:Y}],Z)this.bindClient(Z)}isOlderThan(Z){return this._version<Z}bindClient(Z){const Y=this.getStackTop();if(Y.client=Z,Z&&Z.setupIntegrations)Z.setupIntegrations()}pushScope(){const Z=m6.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:Z}),Z}popScope(){if(this.getStack().length<=1)return!1;return!!this.getStack().pop()}withScope(Z){const Y=this.pushScope();try{Z(Y)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(Z,Y){const J=this._lastEventId=Y&&Y.event_id?Y.event_id:M0(),X=new Error("Sentry syntheticException");return this._withClient(($,W)=>{$.captureException(Z,{originalException:Z,syntheticException:X,...Y,event_id:J},W)}),J}captureMessage(Z,Y,J){const X=this._lastEventId=J&&J.event_id?J.event_id:M0(),$=new Error(Z);return this._withClient((W,G)=>{W.captureMessage(Z,Y,{originalException:Z,syntheticException:$,...J,event_id:X},G)}),X}captureEvent(Z,Y){const J=Y&&Y.event_id?Y.event_id:M0();if(!Z.type)this._lastEventId=J;return this._withClient((X,$)=>{X.captureEvent(Z,{...Y,event_id:J},$)}),J}lastEventId(){return this._lastEventId}addBreadcrumb(Z,Y){const{scope:J,client:X}=this.getStackTop();if(!X)return;const{beforeBreadcrumb:$=null,maxBreadcrumbs:W=h81}=X.getOptions&&X.getOptions()||{};if(W<=0)return;const Q={timestamp:_Z(),...Z},K=$?j8(()=>$(Q,Y)):Q;if(K===null)return;if(X.emit)X.emit("beforeAddBreadcrumb",K,Y);J.addBreadcrumb(K,W)}setUser(Z){this.getScope().setUser(Z)}setTags(Z){this.getScope().setTags(Z)}setExtras(Z){this.getScope().setExtras(Z)}setTag(Z,Y){this.getScope().setTag(Z,Y)}setExtra(Z,Y){this.getScope().setExtra(Z,Y)}setContext(Z,Y){this.getScope().setContext(Z,Y)}configureScope(Z){const{scope:Y,client:J}=this.getStackTop();if(J)Z(Y)}run(Z){const Y=oW(this);try{Z(this)}finally{oW(Y)}}getIntegration(Z){const Y=this.getClient();if(!Y)return null;try{return Y.getIntegration(Z)}catch(J){return X1&&v.warn(`Cannot retrieve integration ${Z.id} from the current Hub`),null}}startTransaction(Z,Y){const J=this._callExtensionMethod("startTransaction",Z,Y);if(X1&&!J)if(!this.getClient())v.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'");else v.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`);return J}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(Z=!1){if(Z)return this.endSession();this._sendSessionUpdate()}endSession(){const Y=this.getStackTop().scope,J=Y.getSession();if(J)vI(J);this._sendSessionUpdate(),Y.setSession()}startSession(Z){const{scope:Y,client:J}=this.getStackTop(),{release:X,environment:$=FY}=J&&J.getOptions()||{},{userAgent:W}=_1.navigator||{},G=bI({release:X,environment:$,user:Y.getUser(),...W&&{userAgent:W},...Z}),Q=Y.getSession&&Y.getSession();if(Q&&Q.status==="ok")S4(Q,{status:"exited"});return this.endSession(),Y.setSession(G),G}shouldSendDefaultPii(){const Z=this.getClient(),Y=Z&&Z.getOptions();return Boolean(Y&&Y.sendDefaultPii)}_sendSessionUpdate(){const{scope:Z,client:Y}=this.getStackTop(),J=Z.getSession();if(J&&Y&&Y.captureSession)Y.captureSession(J)}_withClient(Z){const{scope:Y,client:J}=this.getStackTop();if(J)Z(J,Y)}_callExtensionMethod(Z,...Y){const X=M7().__SENTRY__;if(X&&X.extensions&&typeof X.extensions[Z]==="function")return X.extensions[Z].apply(this,Y);X1&&v.warn(`Extension method ${Z} couldn't be found, doing nothing.`)}}var dF=function(Z){return(Z||V1()).getScope().getTransaction()};var cI=function(){if(dI)return;dI=!0,BF(cF),AF(cF)},cF=function(){const Z=dF();if(Z)X1&&v.log("[Tracing] Transaction: internal_error -> Global error occured"),Z.setStatus("internal_error")},dI=!1;cF.tag="sentry_tracingErrorCallback";var pI=function(Z){if(Z<400&&Z>=100)return"ok";if(Z>=400&&Z<500)switch(Z){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(Z>=500&&Z<600)switch(Z){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"};class pF{constructor(Z=1000){this._maxlen=Z,this.spans=[]}add(Z){if(this.spans.length>this._maxlen)Z.spanRecorder=void 0;else this.spans.push(Z)}}class ZG{constructor(Z={}){if(this.traceId=Z.traceId||M0(),this.spanId=Z.spanId||M0().substring(16),this.startTimestamp=Z.startTimestamp||xZ(),this.tags=Z.tags||{},this.data=Z.data||{},this.instrumenter=Z.instrumenter||"sentry",this.origin=Z.origin||"manual",Z.parentSpanId)this.parentSpanId=Z.parentSpanId;if("sampled"in Z)this.sampled=Z.sampled;if(Z.op)this.op=Z.op;if(Z.description)this.description=Z.description;if(Z.name)this.description=Z.name;if(Z.status)this.status=Z.status;if(Z.endTimestamp)this.endTimestamp=Z.endTimestamp}get name(){return this.description||""}set name(Z){this.setName(Z)}startChild(Z){const Y=new ZG({...Z,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(Y.spanRecorder=this.spanRecorder,Y.spanRecorder)Y.spanRecorder.add(Y);if(Y.transaction=this.transaction,X1&&Y.transaction){const J=Z&&Z.op||"< unknown op >",X=Y.transaction.name||"< unknown name >",$=Y.transaction.spanId,W=`[Tracing] Starting '${J}' span on transaction '${X}' (${$}).`;Y.transaction.metadata.spanMetadata[Y.spanId]={logMessage:W},v.log(W)}return Y}setTag(Z,Y){return this.tags={...this.tags,[Z]:Y},this}setData(Z,Y){return this.data={...this.data,[Z]:Y},this}setStatus(Z){return this.status=Z,this}setHttpStatus(Z){this.setTag("http.status_code",String(Z)),this.setData("http.response.status_code",Z);const Y=pI(Z);if(Y!=="unknown_error")this.setStatus(Y);return this}setName(Z){this.description=Z}isSuccess(){return this.status==="ok"}finish(Z){if(X1&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:Y}=this.transaction.metadata.spanMetadata[this.spanId];if(Y)v.log(Y.replace("Starting","Finishing"))}this.endTimestamp=typeof Z==="number"?Z:xZ()}toTraceparent(){return fZ(this.traceId,this.spanId,this.sampled)}toContext(){return f0({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(Z){return this.data=Z.data||{},this.description=Z.description,this.endTimestamp=Z.endTimestamp,this.op=Z.op,this.parentSpanId=Z.parentSpanId,this.sampled=Z.sampled,this.spanId=Z.spanId||this.spanId,this.startTimestamp=Z.startTimestamp||this.startTimestamp,this.status=Z.status,this.tags=Z.tags||{},this.traceId=Z.traceId||this.traceId,this}getTraceContext(){return f0({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return f0({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}var B7=function(Z,Y,J){const X=Y.getOptions(),{publicKey:$}=Y.getDsn()||{},{segment:W}=J&&J.getUser()||{},G=f0({environment:X.environment||FY,release:X.release,user_segment:W,public_key:$,trace_id:Z});return Y.emit&&Y.emit("createDsc",G),G};class RY extends ZG{constructor(Z,Y){super(Z);delete this.description,this._measurements={},this._contexts={},this._hub=Y||V1(),this._name=Z.name||"",this.metadata={source:"custom",...Z.metadata,spanMetadata:{}},this._trimEnd=Z.trimEnd,this.transaction=this;const J=this.metadata.dynamicSamplingContext;if(J)this._frozenDynamicSamplingContext={...J}}get name(){return this._name}set name(Z){this.setName(Z)}setName(Z,Y="custom"){this._name=Z,this.metadata.source=Y}initSpanRecorder(Z=1000){if(!this.spanRecorder)this.spanRecorder=new pF(Z);this.spanRecorder.add(this)}setContext(Z,Y){if(Y===null)delete this._contexts[Z];else this._contexts[Z]=Y}setMeasurement(Z,Y,J=""){this._measurements[Z]={value:Y,unit:J}}setMetadata(Z){this.metadata={...this.metadata,...Z}}finish(Z){const Y=this._finishTransaction(Z);if(!Y)return;return this._hub.captureEvent(Y)}toContext(){const Z=super.toContext();return f0({...Z,name:this.name,trimEnd:this._trimEnd})}updateWithContext(Z){return super.updateWithContext(Z),this.name=Z.name||"",this._trimEnd=Z.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const Z=this._hub||V1(),Y=Z.getClient();if(!Y)return{};const J=Z.getScope(),X=B7(this.traceId,Y,J),$=this.metadata.sampleRate;if($!==void 0)X.sample_rate=`${$}`;const W=this.metadata.source;if(W&&W!=="url")X.transaction=this.name;if(this.sampled!==void 0)X.sampled=String(this.sampled);return X}setHub(Z){this._hub=Z}_finishTransaction(Z){if(this.endTimestamp!==void 0)return;if(!this.name)X1&&v.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>";super.finish(Z);const Y=this._hub.getClient();if(Y&&Y.emit)Y.emit("finishTransaction",this);if(this.sampled!==!0){if(X1&&v.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),Y)Y.recordDroppedEvent("sample_rate","transaction");return}const J=this.spanRecorder?this.spanRecorder.spans.filter((G)=>G!==this&&G.endTimestamp):[];if(this._trimEnd&&J.length>0)this.endTimestamp=J.reduce((G,Q)=>{if(G.endTimestamp&&Q.endTimestamp)return G.endTimestamp>Q.endTimestamp?G:Q;return G}).endTimestamp;const X=this.metadata,$={contexts:{...this._contexts,trace:this.getTraceContext()},spans:J,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...X,dynamicSamplingContext:this.getDynamicSamplingContext()},...X.source&&{transaction_info:{source:X.source}}};if(Object.keys(this._measurements).length>0)X1&&v.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),$.measurements=this._measurements;return X1&&v.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),$}}var iI=function(Z,Y,J,X,$){const{normalizeDepth:W=3,normalizeMaxBreadth:G=1000}=Z,Q={...Y,event_id:Y.event_id||J.event_id||M0(),timestamp:Y.timestamp||_Z()},K=J.integrations||Z.integrations.map((U)=>U.name);if(m81(Q,Z),c81(Q,K),Y.type===void 0)u81(Q,Z.stackParser);let H=X;if(J.captureContext)H=m6.clone(H).update(J.captureContext);if(J.mechanism)CX(Q,J.mechanism);let z=A6(Q);const F=$&&$.getEventProcessors?$.getEventProcessors():[];if(H){if(H.getAttachments){const U=[...J.attachments||[],...H.getAttachments()];if(U.length)J.attachments=U}z=H.applyToEvent(Q,J,F)}else z=UY([...F,...xX()],Q,J);return z.then((U)=>{if(U)d81(U);if(typeof W==="number"&&W>0)return p81(U,W,G);return U})},m81=function(Z,Y){const{environment:J,release:X,dist:$,maxValueLength:W=250}=Y;if(!("environment"in Z))Z.environment="environment"in Y?J:FY;if(Z.release===void 0&&X!==void 0)Z.release=X;if(Z.dist===void 0&&$!==void 0)Z.dist=$;if(Z.message)Z.message=o7(Z.message,W);const G=Z.exception&&Z.exception.values&&Z.exception.values[0];if(G&&G.value)G.value=o7(G.value,W);const Q=Z.request;if(Q&&Q.url)Q.url=o7(Q.url,W)},u81=function(Z,Y){const J=_1._sentryDebugIds;if(!J)return;let X;const $=lI.get(Y);if($)X=$;else X=new Map,lI.set(Y,X);const W=Object.keys(J).reduce((G,Q)=>{let K;const H=X.get(Q);if(H)K=H;else K=Y(Q),X.set(Q,K);for(let z=K.length-1;z>=0;z--){const F=K[z];if(F.filename){G[F.filename]=J[Q];break}}return G},{});try{Z.exception.values.forEach((G)=>{G.stacktrace.frames.forEach((Q)=>{if(Q.filename)Q.debug_id=W[Q.filename]})})}catch(G){}},d81=function(Z){const Y={};try{Z.exception.values.forEach((X)=>{X.stacktrace.frames.forEach(($)=>{if($.debug_id){if($.abs_path)Y[$.abs_path]=$.debug_id;else if($.filename)Y[$.filename]=$.debug_id;delete $.debug_id}})})}catch(X){}if(Object.keys(Y).length===0)return;Z.debug_meta=Z.debug_meta||{},Z.debug_meta.images=Z.debug_meta.images||[];const J=Z.debug_meta.images;Object.keys(Y).forEach((X)=>{J.push({type:"sourcemap",code_file:X,debug_id:Y[X]})})},c81=function(Z,Y){if(Y.length>0)Z.sdk=Z.sdk||{},Z.sdk.integrations=[...Z.sdk.integrations||[],...Y]},p81=function(Z,Y,J){if(!Z)return null;const X={...Z,...Z.breadcrumbs&&{breadcrumbs:Z.breadcrumbs.map(($)=>({...$,...$.data&&{data:B6($.data,Y,J)}}))},...Z.user&&{user:B6(Z.user,Y,J)},...Z.contexts&&{contexts:B6(Z.contexts,Y,J)},...Z.extra&&{extra:B6(Z.extra,Y,J)}};if(Z.contexts&&Z.contexts.trace&&X.contexts){if(X.contexts.trace=Z.contexts.trace,Z.contexts.trace.data)X.contexts.trace.data=B6(Z.contexts.trace.data,Y,J)}if(Z.spans)X.spans=Z.spans.map(($)=>{if($.data)$.data=B6($.data,Y,J);return $});return X},nI=function(Z){if(!Z)return;if(l81(Z))return{captureContext:Z};if(n81(Z))return{captureContext:Z};return Z},l81=function(Z){return Z instanceof m6||typeof Z==="function"},n81=function(Z){return Object.keys(Z).some((Y)=>i81.includes(Y))},lI=new WeakMap,i81=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];var wY=function(Z,Y){return V1().captureException(Z,nI(Y))};var w5=function(){return V1().getClient()};var YG=function(Z){if(typeof __SENTRY_TRACING__==="boolean"&&!__SENTRY_TRACING__)return!1;const Y=w5(),J=Z||Y&&Y.getOptions();return!!J&&(J.enableTracing||("tracesSampleRate"in J)||("tracesSampler"in J))};var aI=function(Z,Y,J){if(!YG(Y))return Z.sampled=!1,Z;if(Z.sampled!==void 0)return Z.setMetadata({sampleRate:Number(Z.sampled)}),Z;let X;if(typeof Y.tracesSampler==="function")X=Y.tracesSampler(J),Z.setMetadata({sampleRate:Number(X)});else if(J.parentSampled!==void 0)X=J.parentSampled;else if(typeof Y.tracesSampleRate!=="undefined")X=Y.tracesSampleRate,Z.setMetadata({sampleRate:Number(X)});else X=1,Z.setMetadata({sampleRate:X});if(!a81(X))return X1&&v.warn("[Tracing] Discarding transaction because of invalid sample rate."),Z.sampled=!1,Z;if(!X)return X1&&v.log(`[Tracing] Discarding transaction because ${typeof Y.tracesSampler==="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),Z.sampled=!1,Z;if(Z.sampled=Math.random()<X,!Z.sampled)return X1&&v.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(X)})`),Z;return X1&&v.log(`[Tracing] starting ${Z.op} transaction - ${Z.name}`),Z},a81=function(Z){if(AX(Z)||!(typeof Z==="number"||typeof Z==="boolean"))return X1&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(Z)} of type ${JSON.stringify(typeof Z)}.`),!1;if(Z<0||Z>1)return X1&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${Z}.`),!1;return!0};var s81=function(){const Y=this.getScope().getSpan();return Y?{"sentry-trace":Y.toTraceparent()}:{}},r81=function(Z,Y){const J=this.getClient(),X=J&&J.getOptions()||{},$=X.instrumenter||"sentry",W=Z.instrumenter||"sentry";if($!==W)X1&&v.error(`A transaction was started with instrumenter=\`${W}\`, but the SDK is configured with the \`${$}\` instrumenter.
The transaction will not be sampled. Please use the ${$} instrumentation to start transactions.`),Z.sampled=!1;let G=new RY(Z,this);if(G=aI(G,X,{parentSampled:Z.parentSampled,transactionContext:Z,...Y}),G.sampled)G.initSpanRecorder(X._experiments&&X._experiments.maxSpans);if(J&&J.emit)J.emit("startTransaction",G);return G};var sI=function(){const Z=M7();if(!Z.__SENTRY__)return;if(Z.__SENTRY__.extensions=Z.__SENTRY__.extensions||{},!Z.__SENTRY__.extensions.startTransaction)Z.__SENTRY__.extensions.startTransaction=r81;if(!Z.__SENTRY__.extensions.traceHeaders)Z.__SENTRY__.extensions.traceHeaders=s81;cI()};var JG=function(Z,Y,J=()=>{}){const X=tI(Z),$=V1(),W=$.getScope(),G=W.getSpan(),Q=rI($,G,X);W.setSpan(Q);function K(){Q&&Q.finish(),$.getScope().setSpan(G)}let H;try{H=Y(Q)}catch(z){throw Q&&Q.setStatus("internal_error"),J(z),K(),z}if(n0(H))Promise.resolve(H).then(()=>{K()},(z)=>{Q&&Q.setStatus("internal_error"),J(z),K()});else K();return H},XG=function(Z,Y){const J=tI(Z),X=V1(),$=X.getScope(),W=$.getSpan(),G=rI(X,W,J);$.setSpan(G);function Q(){G&&G.finish(),X.getScope().setSpan(W)}let K;try{K=Y(G)}catch(H){throw G&&G.setStatus("internal_error"),Q(),H}if(n0(K))Promise.resolve(K).then(()=>{Q()},()=>{G&&G.setStatus("internal_error"),Q()});else Q();return K};var $G=function({sentryTrace:Z,baggage:Y},J){const $=V1().getScope(),{traceparentData:W,dynamicSamplingContext:G,propagationContext:Q}=SX(Z,Y);if($.setPropagationContext(Q),X1&&W)v.log(`[Tracing] Continuing trace ${W.traceId}.`);const K={...W,metadata:f0({dynamicSamplingContext:W&&!G?{}:G})};if(!J)return K;return J(K)},rI=function(Z,Y,J){if(!YG())return;return Y?Y.startChild(J):Z.startTransaction(J)},tI=function(Z){const Y={...Z};if(Y.name!==void 0&&Y.description===void 0)Y.description=Y.name;return Y};var t81=function(Z,Y){if(!Y)return Z;return Z.sdk=Z.sdk||{},Z.sdk.name=Z.sdk.name||Y.name,Z.sdk.version=Z.sdk.version||Y.version,Z.sdk.integrations=[...Z.sdk.integrations||[],...Y.integrations||[]],Z.sdk.packages=[...Z.sdk.packages||[],...Y.packages||[]],Z},oI=function(Z,Y,J,X){const $=rW(J),W={sent_at:(new Date()).toISOString(),...$&&{sdk:$},...!!X&&Y&&{dsn:q5(Y)}},G="aggregates"in Z?[{type:"sessions"},Z]:[{type:"session"},Z.toJSON()];return R5(W,[G])},eI=function(Z,Y,J,X){const $=rW(J),W=Z.type&&Z.type!=="replay_event"?Z.type:"event";t81(Z,J&&J.sdk);const G=fF(Z,$,X,Y);return delete Z.sdkProcessingMetadata,R5(G,[[{type:W},Z]])};class lF{constructor(Z,Y){this._client=Z,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1000),this._sessionAttrs=Y}flush(){const Z=this.getSessionAggregates();if(Z.aggregates.length===0)return;this._pendingAggregates={},this._client.sendSession(Z)}getSessionAggregates(){const Z=Object.keys(this._pendingAggregates).map((J)=>{return this._pendingAggregates[parseInt(J)]}),Y={attrs:this._sessionAttrs,aggregates:Z};return f0(Y)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const Z=V1().getScope(),Y=Z.getRequestSession();if(Y&&Y.status)this._incrementSessionStatusCount(Y.status,new Date),Z.setRequestSession(void 0)}_incrementSessionStatusCount(Z,Y){const J=new Date(Y).setSeconds(0,0);this._pendingAggregates[J]=this._pendingAggregates[J]||{};const X=this._pendingAggregates[J];if(!X.started)X.started=new Date(J).toISOString();switch(Z){case"errored":return X.errored=(X.errored||0)+1,X.errored;case"ok":return X.exited=(X.exited||0)+1,X.exited;default:return X.crashed=(X.crashed||0)+1,X.crashed}}}var e81=function(Z){const Y=Z.protocol?`${Z.protocol}:`:"",J=Z.port?`:${Z.port}`:"";return`${Y}//${Z.host}${J}${Z.path?`/${Z.path}`:""}/api/`},Z61=function(Z){return`${e81(Z)}${Z.projectId}/envelope/`},Y61=function(Z,Y){return zF({sentry_key:Z.publicKey,sentry_version:o81,...Y&&{sentry_client:`${Y.name}/${Y.version}`}})},ZD=function(Z,Y={}){const J=typeof Y==="string"?Y:Y.tunnel,X=typeof Y==="string"||!Y._metadata?void 0:Y._metadata.sdk;return J?J:`${Z61(Z)}?${Y61(Z,X)}`};var o81="7";var J61=function(Z){const Y={};return Z.forEach((J)=>{const{name:X}=J,$=Y[X];if($&&!$.isDefaultInstance&&J.isDefaultInstance)return;Y[X]=J}),Object.keys(Y).map((J)=>Y[J])},iF=function(Z){const Y=Z.defaultIntegrations||[],J=Z.integrations;Y.forEach((G)=>{G.isDefaultInstance=!0});let X;if(Array.isArray(J))X=[...Y,...J];else if(typeof J==="function")X=V5(J(Y));else X=Y;const $=J61(X),W=X61($,(G)=>G.name==="Debug");if(W!==-1){const[G]=$.splice(W,1);$.push(G)}return $},JD=function(Z,Y){const J={};return Y.forEach((X)=>{if(X)nF(Z,X,J)}),J},nF=function(Z,Y,J){if(J[Y.name]=Y,YD.indexOf(Y.name)===-1)Y.setupOnce(mF,V1),YD.push(Y.name);if(Y.setup&&typeof Y.setup==="function")Y.setup(Z);if(Z.on&&typeof Y.preprocessEvent==="function"){const X=Y.preprocessEvent.bind(Y);Z.on("preprocessEvent",($,W)=>X($,W,Z))}if(Z.addEventProcessor&&typeof Y.processEvent==="function"){const X=Y.processEvent.bind(Y),$=Object.assign((W,G)=>X(W,G,Z),{id:Y.name});Z.addEventProcessor($)}X1&&v.log(`Integration installed: ${Y.name}`)};var X61=function(Z,Y){for(let J=0;J<Z.length;J++)if(Y(Z[J])===!0)return J;return-1},YD=[];var $61=function(Z,Y){const J=`${Y} must return \`null\` or a valid event.`;if(n0(Z))return Z.then((X)=>{if(!M6(X)&&X!==null)throw new O8(J);return X},(X)=>{throw new O8(`${Y} rejected with ${X}`)});else if(!M6(Z)&&Z!==null)throw new O8(J);return Z},W61=function(Z,Y,J){const{beforeSend:X,beforeSendTransaction:$}=Z;if($D(Y)&&X)return X(Y,J);if(WD(Y)&&$)return $(Y,J);return Y},$D=function(Z){return Z.type===void 0},WD=function(Z){return Z.type==="transaction"},XD="Not capturing exception because it's already been captured.";class aF{constructor(Z){if(this._options=Z,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],Z.dsn)this._dsn=hW(Z.dsn);else X1&&v.warn("No DSN provided, client will not send events.");if(this._dsn){const Y=ZD(this._dsn,Z);this._transport=Z.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...Z.transportOptions,url:Y})}}captureException(Z,Y,J){if(cW(Z)){X1&&v.log(XD);return}let X=Y&&Y.event_id;return this._process(this.eventFromException(Z,Y).then(($)=>this._captureEvent($,Y,J)).then(($)=>{X=$})),X}captureMessage(Z,Y,J,X){let $=J&&J.event_id;const W=gW(Z)?this.eventFromMessage(String(Z),Y,J):this.eventFromException(Z,J);return this._process(W.then((G)=>this._captureEvent(G,J,X)).then((G)=>{$=G})),$}captureEvent(Z,Y,J){if(Y&&Y.originalException&&cW(Y.originalException)){X1&&v.log(XD);return}let X=Y&&Y.event_id;return this._process(this._captureEvent(Z,Y,J).then(($)=>{X=$})),X}captureSession(Z){if(typeof Z.release!=="string")X1&&v.warn("Discarded session because of missing or non-string release");else this.sendSession(Z),S4(Z,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(Z){const Y=this._transport;if(Y)return this._isClientDoneProcessing(Z).then((J)=>{return Y.flush(Z).then((X)=>J&&X)});else return A6(!0)}close(Z){return this.flush(Z).then((Y)=>{return this.getOptions().enabled=!1,Y})}getEventProcessors(){return this._eventProcessors}addEventProcessor(Z){this._eventProcessors.push(Z)}setupIntegrations(Z){if(Z&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)this._integrations=JD(this,this._options.integrations),this._integrationsInitialized=!0}getIntegrationById(Z){return this._integrations[Z]}getIntegration(Z){try{return this._integrations[Z.id]||null}catch(Y){return X1&&v.warn(`Cannot retrieve integration ${Z.id} from the current Client`),null}}addIntegration(Z){nF(this,Z,this._integrations)}sendEvent(Z,Y={}){this.emit("beforeSendEvent",Z,Y);let J=eI(Z,this._dsn,this._options._metadata,this._options.tunnel);for(let $ of Y.attachments||[])J=_F(J,xF($,this._options.transportOptions&&this._options.transportOptions.textEncoder));const X=this._sendEnvelope(J);if(X)X.then(($)=>this.emit("afterSendEvent",Z,$),null)}sendSession(Z){const Y=oI(Z,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(Y)}recordDroppedEvent(Z,Y,J){if(this._options.sendClientReports){const X=`${Z}:${Y}`;X1&&v.log(`Adding outcome: "${X}"`),this._outcomes[X]=this._outcomes[X]+1||1}}on(Z,Y){if(!this._hooks[Z])this._hooks[Z]=[];this._hooks[Z].push(Y)}emit(Z,...Y){if(this._hooks[Z])this._hooks[Z].forEach((J)=>J(...Y))}_updateSessionFromEvent(Z,Y){let J=!1,X=!1;const $=Y.exception&&Y.exception.values;if($){X=!0;for(let Q of $){const K=Q.mechanism;if(K&&K.handled===!1){J=!0;break}}}const W=Z.status==="ok";if(W&&Z.errors===0||W&&J)S4(Z,{...J&&{status:"crashed"},errors:Z.errors||Number(X||J)}),this.captureSession(Z)}_isClientDoneProcessing(Z){return new w8((Y)=>{let J=0;const X=1,$=setInterval(()=>{if(this._numProcessing==0)clearInterval($),Y(!0);else if(J+=X,Z&&J>=Z)clearInterval($),Y(!1)},X)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(Z,Y,J){const X=this.getOptions(),$=Object.keys(this._integrations);if(!Y.integrations&&$.length>0)Y.integrations=$;return this.emit("preprocessEvent",Z,Y),iI(X,Z,Y,J,this).then((W)=>{if(W===null)return W;const{propagationContext:G}=W.sdkProcessingMetadata||{};if(!(W.contexts&&W.contexts.trace)&&G){const{traceId:K,spanId:H,parentSpanId:z,dsc:F}=G;W.contexts={trace:{trace_id:K,span_id:H,parent_span_id:z},...W.contexts};const U=F?F:B7(K,this,J);W.sdkProcessingMetadata={dynamicSamplingContext:U,...W.sdkProcessingMetadata}}return W})}_captureEvent(Z,Y={},J){return this._processEvent(Z,Y,J).then((X)=>{return X.event_id},(X)=>{if(X1){const $=X;if($.logLevel==="log")v.log($.message);else v.warn($)}return})}_processEvent(Z,Y,J){const X=this.getOptions(),{sampleRate:$}=X,W=WD(Z),G=$D(Z),Q=Z.type||"error",K=`before send for type \`${Q}\``;if(G&&typeof $==="number"&&Math.random()>$)return this.recordDroppedEvent("sample_rate","error",Z),OZ(new O8(`Discarding event because it's not included in the random sample (sampling rate = ${$})`,"log"));const H=Q==="replay_event"?"replay":Q;return this._prepareEvent(Z,Y,J).then((z)=>{if(z===null)throw this.recordDroppedEvent("event_processor",H,Z),new O8("An event processor returned `null`, will not send event.","log");if(Y.data&&Y.data.__sentry__===!0)return z;const U=W61(X,z,Y);return $61(U,K)}).then((z)=>{if(z===null)throw this.recordDroppedEvent("before_send",H,Z),new O8(`${K} returned \`null\`, will not send event.`,"log");const F=J&&J.getSession();if(!W&&F)this._updateSessionFromEvent(F,z);const U=z.transaction_info;if(W&&U&&z.transaction!==Z.transaction)z.transaction_info={...U,source:"custom"};return this.sendEvent(z,Y),z}).then(null,(z)=>{if(z instanceof O8)throw z;throw this.captureException(z,{data:{__sentry__:!0},originalException:z}),new O8(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${z}`)})}_process(Z){this._numProcessing++,Z.then((Y)=>{return this._numProcessing--,Y},(Y)=>{return this._numProcessing--,Y})}_sendEnvelope(Z){if(this.emit("beforeEnvelope",Z),this._isEnabled()&&this._transport)return this._transport.send(Z).then(null,(Y)=>{X1&&v.error("Error while sending event:",Y)});else X1&&v.error("Transport disabled")}_clearOutcomes(){const Z=this._outcomes;return this._outcomes={},Object.keys(Z).map((Y)=>{const[J,X]=Y.split(":");return{reason:J,category:X,quantity:Z[Y]}})}}var GD=function(Z,Y,J,X,$){const W={sent_at:(new Date()).toISOString()};if(J&&J.sdk)W.sdk={name:J.sdk.name,version:J.sdk.version};if(!!X&&!!$)W.dsn=q5($);if(Y)W.trace=f0(Y);const G=G61(Z);return R5(W,[G])},G61=function(Z){return[{type:"check_in"},Z]};class MY extends aF{constructor(Z){sI();super(Z)}eventFromException(Z,Y){return A6(vF(V1,this._options.stackParser,Z,Y))}eventFromMessage(Z,Y="info",J){return A6(hF(this._options.stackParser,Z,Y,J,this._options.attachStacktrace))}captureException(Z,Y,J){if(this._options.autoSessionTracking&&this._sessionFlusher&&J){const X=J.getRequestSession();if(X&&X.status==="ok")X.status="errored"}return super.captureException(Z,Y,J)}captureEvent(Z,Y,J){if(this._options.autoSessionTracking&&this._sessionFlusher&&J){if((Z.type||"exception")==="exception"&&Z.exception&&Z.exception.values&&Z.exception.values.length>0){const W=J.getRequestSession();if(W&&W.status==="ok")W.status="errored"}}return super.captureEvent(Z,Y,J)}close(Z){if(this._sessionFlusher)this._sessionFlusher.close();return super.close(Z)}initSessionFlusher(){const{release:Z,environment:Y}=this._options;if(!Z)X1&&v.warn("Cannot initialise an instance of SessionFlusher if no release is provided!");else this._sessionFlusher=new lF(this,{release:Z,environment:Y})}captureCheckIn(Z,Y,J){const X=Z.status!=="in_progress"&&Z.checkInId?Z.checkInId:M0();if(!this._isEnabled())return X1&&v.warn("SDK not enabled, will not capture checkin."),X;const $=this.getOptions(),{release:W,environment:G,tunnel:Q}=$,K={check_in_id:X,monitor_slug:Z.monitorSlug,status:Z.status,release:W,environment:G};if(Z.status!=="in_progress")K.duration=Z.duration;if(Y)K.monitor_config={schedule:Y.schedule,checkin_margin:Y.checkinMargin,max_runtime:Y.maxRuntime,timezone:Y.timezone};const[H,z]=this._getTraceInfoFromScope(J);if(z)K.contexts={trace:z};const F=GD(K,H,this.getSdkMetadata(),Q,this.getDsn());return X1&&v.info("Sending checkin:",Z.monitorSlug,Z.status),this._sendEnvelope(F),X}_captureRequestSession(){if(!this._sessionFlusher)X1&&v.warn("Discarded request mode session because autoSessionTracking option was disabled");else this._sessionFlusher.incrementSessionStatusCount()}_prepareEvent(Z,Y,J){if(this._options.platform)Z.platform=Z.platform||this._options.platform;if(this._options.runtime)Z.contexts={...Z.contexts,runtime:(Z.contexts||{}).runtime||this._options.runtime};if(this._options.serverName)Z.server_name=Z.server_name||this._options.serverName;return super._prepareEvent(Z,Y,J)}_getTraceInfoFromScope(Z){if(!Z)return[void 0,void 0];const Y=Z.getSpan();if(Y)return[Y.transaction?Y.transaction.getDynamicSamplingContext():void 0,Y.getTraceContext()];const{traceId:J,spanId:X,parentSpanId:$,dsc:W}=Z.getPropagationContext(),G={trace_id:J,span_id:X,parent_span_id:$};if(W)return[W,G];return[B7(J,this,Z),G]}}var sF=function(Z,Y){if(Y.debug===!0)if(X1)v.enable();else j8(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")});const J=V1();J.getScope().update(Y.initialScope);const $=new Z(Y);J.bindClient($)};var yZ=function(Z,Y,J=DF(Z.bufferSize||Q61)){let X={};const $=(G)=>J.drain(G);function W(G){const Q=[];if(aW(G,(F,U)=>{const q=sW(U);if(yF(X,q)){const V=QD(F,U);Z.recordDroppedEvent("ratelimit_backoff",q,V)}else Q.push(F)}),Q.length===0)return A6();const K=R5(G[0],Q),H=(F)=>{aW(K,(U,q)=>{const V=QD(U,q);Z.recordDroppedEvent(F,sW(q),V)})},z=()=>Y({body:kX(K,Z.textEncoder)}).then((F)=>{if(F.statusCode!==void 0&&(F.statusCode<200||F.statusCode>=300))X1&&v.warn(`Sentry responded with status code ${F.statusCode} to sent event.`);return X=gF(X,F),F},(F)=>{throw H("network_error"),F});return J.add(z).then((F)=>F,(F)=>{if(F instanceof O8)return X1&&v.error("Skipped sending event because buffer is full."),H("queue_overflow"),A6();else throw F})}return W.__sentry__baseTransport__=!0,{send:W,flush:$}},QD=function(Z,Y){if(Y!=="event"&&Y!=="transaction")return;return Array.isArray(Z)?Z[1]:void 0},Q61=30;var M5="7.84.0";var s8={};yW(s8,{LinkedErrors:()=>{{return KG}},InboundFilters:()=>{{return QG}},FunctionToString:()=>{{return WG}}});var KD;class WG{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=WG.id}setupOnce(){KD=Function.prototype.toString;try{Function.prototype.toString=function(...Z){const Y=HF(this)||this;return KD.apply(Y,Z)}}catch(Z){}}}WG.__initStatic();var z61=function(Z={},Y={}){return{allowUrls:[...Z.allowUrls||[],...Y.allowUrls||[]],denyUrls:[...Z.denyUrls||[],...Y.denyUrls||[]],ignoreErrors:[...Z.ignoreErrors||[],...Y.ignoreErrors||[],...Z.disableErrorDefaults?[]:K61],ignoreTransactions:[...Z.ignoreTransactions||[],...Y.ignoreTransactions||[],...Z.disableTransactionDefaults?[]:H61],ignoreInternal:Z.ignoreInternal!==void 0?Z.ignoreInternal:!0}},F61=function(Z,Y){if(Y.ignoreInternal&&w61(Z))return X1&&v.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${j4(Z)}`),!0;if(U61(Z,Y.ignoreErrors))return X1&&v.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${j4(Z)}`),!0;if(q61(Z,Y.ignoreTransactions))return X1&&v.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${j4(Z)}`),!0;if(V61(Z,Y.denyUrls))return X1&&v.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${j4(Z)}.\nUrl: ${GG(Z)}`),!0;if(!L61(Z,Y.allowUrls))return X1&&v.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${j4(Z)}.\nUrl: ${GG(Z)}`),!0;return!1},U61=function(Z,Y){if(Z.type||!Y||!Y.length)return!1;return R61(Z).some((J)=>e7(J,Y))},q61=function(Z,Y){if(Z.type!=="transaction"||!Y||!Y.length)return!1;const J=Z.transaction;return J?e7(J,Y):!1},V61=function(Z,Y){if(!Y||!Y.length)return!1;const J=GG(Z);return!J?!1:e7(J,Y)},L61=function(Z,Y){if(!Y||!Y.length)return!0;const J=GG(Z);return!J?!0:e7(J,Y)},R61=function(Z){const Y=[];if(Z.message)Y.push(Z.message);let J;try{J=Z.exception.values[Z.exception.values.length-1]}catch(X){}if(J){if(J.value){if(Y.push(J.value),J.type)Y.push(`${J.type}: ${J.value}`)}}if(X1&&Y.length===0)v.error(`Could not extract message for event ${j4(Z)}`);return Y},w61=function(Z){try{return Z.exception.values[0].type==="SentryError"}catch(Y){}return!1},M61=function(Z=[]){for(let Y=Z.length-1;Y>=0;Y--){const J=Z[Y];if(J&&J.filename!=="<anonymous>"&&J.filename!=="[native code]")return J.filename||null}return null},GG=function(Z){try{let Y;try{Y=Z.exception.values[0].stacktrace.frames}catch(J){}return Y?M61(Y):null}catch(Y){return X1&&v.error(`Cannot extract url for event ${j4(Z)}`),null}},K61=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],H61=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class QG{static __initStatic(){this.id="InboundFilters"}constructor(Z={}){this.name=QG.id,this._options=Z}setupOnce(Z,Y){}processEvent(Z,Y,J){const X=J.getOptions(),$=z61(this._options,X);return F61(Z,$)?null:Z}}QG.__initStatic();var B61="cause",A61=5;class KG{static __initStatic(){this.id="LinkedErrors"}constructor(Z={}){this._key=Z.key||B61,this._limit=Z.limit||A61,this.name=KG.id}setupOnce(){}preprocessEvent(Z,Y,J){const X=J.getOptions();QF(tW,X.stackParser,X.maxValueLength,this._key,this._limit,Z,Y)}}KG.__initStatic();var gZ=function(Z,Y){const J=Y.getClient(),X=J&&J.getDsn(),$=J&&J.getOptions().tunnel;return I61(Z,X)||N61(Z,$)},N61=function(Z,Y){if(!Y)return!1;return HD(Z)===HD(Y)},I61=function(Z,Y){return Y?Z.includes(Y.host):!1},HD=function(Z){return Z[Z.length-1]==="/"?Z.slice(0,-1):Z};var D61=function(Z){const{transactionNamingScheme:Y,include:{ip:J,user:X,...$}}=Z,W=[];for(let[Q,K]of Object.entries($))if(K)W.push(Q);let G;if(X===void 0)G=!0;else if(typeof X==="boolean")G=X;else{const Q=[];for(let[K,H]of Object.entries(X))if(H)Q.push(K);G=Q}return{include:{ip:J,user:G,request:W.length!==0?W:void 0,transaction:Y}}},P61=function(Z){try{return Z.getClient().getOptions()._metadata.sdk.name}catch(Y){return}},rF={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"};class B5{static __initStatic(){this.id="RequestData"}constructor(Z={}){this.name=B5.id,this._addRequestData=TF,this._options={...rF,...Z,include:{method:!0,...rF.include,...Z.include,user:Z.include&&typeof Z.include.user==="boolean"?Z.include.user:{...rF.include.user,...(Z.include||{}).user}}}}setupOnce(Z,Y){const{transactionNamingScheme:J}=this._options;Z((X)=>{const $=Y(),W=$.getIntegration(B5),{sdkProcessingMetadata:G={}}=X,Q=G.request;if(!W||!Q)return X;const K=G.requestDataOptionsFromExpressHandler||G.requestDataOptionsFromGCPWrapper||D61(this._options),H=this._addRequestData(X,Q,K);if(X.type==="transaction"||J==="handler")return H;const F=Q._sentryTransaction;if(F){const U=P61($)==="sentry.javascript.nextjs"?F.name.startsWith("/api"):J!=="path",[q]=kZ(Q,{path:!0,method:U,customRoute:F.name});H.transaction=q}return H})}}B5.__initStatic();var W0=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var r8=function(Z){const Y=d([Z,"call",(X)=>X(),"access",(X)=>X.getClient,"call",(X)=>X(),"optionalAccess",(X)=>X.getOptions,"call",(X)=>X()]);return(d([Y,"optionalAccess",(X)=>X.instrumenter])||"sentry")!=="sentry"};var zD=function(Z,Y){const J=Z.length;switch(J){case 2:return function(X,$){const W=$.__sentry_transaction;if(W){const G=W.startChild({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"});$.once("finish",()=>{G.finish()})}return Z.call(this,X,$)};case 3:return function(X,$,W){const G=$.__sentry_transaction,Q=d([G,"optionalAccess",(K)=>K.startChild,"call",(K)=>K({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"})]);Z.call(this,X,$,function(...K){d([Q,"optionalAccess",(H)=>H.finish,"call",(H)=>H()]),W.call(this,...K)})};case 4:return function(X,$,W,G){const Q=W.__sentry_transaction,K=d([Q,"optionalAccess",(H)=>H.startChild,"call",(H)=>H({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"})]);Z.call(this,X,$,W,function(...H){d([K,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),G.call(this,...H)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${J}`)}},i61=function(Z,Y){return Z.map((J)=>{if(typeof J==="function")return zD(J,Y);if(Array.isArray(J))return J.map((X)=>{if(typeof X==="function")return zD(X,Y);return X});return J})},n61=function(Z,Y){const J=Z[Y];return Z[Y]=function(...X){return J.call(this,...i61(X,Y))},Z},a61=function(Z,Y=[]){Y.forEach((J)=>n61(Z,J))},s61=function(Z){const Y="settings"in Z;if(Y&&Z._router===void 0&&Z.lazyrouter)Z.lazyrouter();const J=Y?Z._router:Z;if(!J){W0&&v.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),W0&&v.debug("Routing instrumentation is currently only supported in Express 4.");return}const X=Object.getPrototypeOf(J),$=X.process_params;X.process_params=function W(G,Q,K,H,z){if(!K._reconstructedRoute)K._reconstructedRoute="";const{layerRoutePath:F,isRegex:U,isArray:q,numExtraSegments:V}=t61(G);if(F||U||q)K._hasParameters=!0;let L;if(F)L=F;else L=Z71(K.originalUrl,K._reconstructedRoute,G.path)||"";const w=L.split("/").filter((M)=>M.length>0&&(U||q||!M.includes("*"))).join("/");if(w&&w.length>0)K._reconstructedRoute+=`/${w}${U?"/":""}`;const B=HY(SZ(K.originalUrl||""))+V,A=HY(K._reconstructedRoute);if(B===A){if(!K._hasParameters){if(K._reconstructedRoute!==K.originalUrl)K._reconstructedRoute=K.originalUrl?SZ(K.originalUrl):K.originalUrl}const M=H.__sentry_transaction;if(M&&M.metadata.source!=="custom"){const I=K._reconstructedRoute||"/";M.setName(...kZ(K,{path:!0,method:!0,customRoute:I}))}}return $.call(this,G,Q,K,H,z)}},t61=function(Z){let Y=d([Z,"access",(G)=>G.route,"optionalAccess",(G)=>G.path]);const J=BX(Y),X=Array.isArray(Y);if(!Y){const[G]=_1.process.versions.node.split(".").map(Number);if(G>=16)Y=r61(Z.path,Z.regexp,Z.keys)}if(!Y)return{isRegex:J,isArray:X,numExtraSegments:0};const $=X?Math.max(o61(Y)-HY(Z.path||""),0):0;return{layerRoutePath:e61(X,Y),isRegex:J,isArray:X,numExtraSegments:$}},o61=function(Z){return Z.reduce((Y,J)=>{return Y+HY(J.toString())},0)},e61=function(Z,Y){if(Z)return Y.map((J)=>J.toString()).join(",");return Y&&Y.toString()},Z71=function(Z,Y,J){const X=SZ(Z||""),$=d([X,"optionalAccess",(K)=>K.split,"call",(K)=>K("/"),"access",(K)=>K.filter,"call",(K)=>K((H)=>!!H)]);let W=0;const G=d([Y,"optionalAccess",(K)=>K.split,"call",(K)=>K("/"),"access",(K)=>K.filter,"call",(K)=>K((H)=>!!H),"access",(K)=>K.length])||0;return d([J,"optionalAccess",(K)=>K.split,"call",(K)=>K("/"),"access",(K)=>K.filter,"call",(K)=>K((H)=>{if(d([$,"optionalAccess",(z)=>z[G+W]])===H)return W+=1,!0;return!1}),"access",(K)=>K.join,"call",(K)=>K("/")])};class yX{static __initStatic(){this.id="Express"}constructor(Z={}){this.name=yX.id,this._router=Z.router||Z.app,this._methods=(Array.isArray(Z.methods)?Z.methods:[]).concat("use")}setupOnce(Z,Y){if(!this._router){W0&&v.error("ExpressIntegration is missing an Express instance");return}if(r8(Y)){W0&&v.log("Express Integration is skipped because of instrumenter configuration.");return}a61(this._router,this._methods),s61(this._router)}}yX.__initStatic();var r61=(Z,Y,J)=>{if(!Z||!Y||!J||Object.keys(J).length===0||!d([J,"access",(H)=>H[0],"optionalAccess",(H)=>H.offset]))return;const X=J.sort((H,z)=>H.offset-z.offset),W=new RegExp(Y,`${Y.flags}d`).exec(Z);if(!W||!W.indices)return;const[,...G]=W.indices;if(G.length!==X.length)return;let Q=Z,K=0;return G.forEach((H,z)=>{if(H){const[F,U]=H,q=Q.substring(0,F-K),V=`:${X[z].name}`,L=Q.substring(U-K);Q=q+V+L,K=K+(U-F-V.length)}}),Q};class gX{static __initStatic(){this.id="Postgres"}constructor(Z={}){this.name=gX.id,this._usePgNative=!!Z.usePgNative,this._module=Z.module}loadDependency(){return this._module=this._module||v6("pg")}setupOnce(Z,Y){if(r8(Y)){W0&&v.log("Postgres Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){W0&&v.error("Postgres Integration was unable to require `pg` package.");return}const X=this._usePgNative?d([J,"access",($)=>$.native,"optionalAccess",($)=>$.Client]):J.Client;if(!X){W0&&v.error("Postgres Integration was unable to access 'pg-native' bindings.");return}E0(X.prototype,"query",function($){return function(W,G,Q){const H=Y().getScope().getSpan(),z={"db.system":"postgresql"};try{if(this.database)z["db.name"]=this.database;if(this.host)z["server.address"]=this.host;if(this.port)z["server.port"]=this.port;if(this.user)z["db.user"]=this.user}catch(q){}const F=d([H,"optionalAccess",(q)=>q.startChild,"call",(q)=>q({description:typeof W==="string"?W:W.text,op:"db",origin:"auto.db.postgres",data:z})]);if(typeof Q==="function")return $.call(this,W,G,function(q,V){d([F,"optionalAccess",(L)=>L.finish,"call",(L)=>L()]),Q(q,V)});if(typeof G==="function")return $.call(this,W,function(q,V){d([F,"optionalAccess",(L)=>L.finish,"call",(L)=>L()]),G(q,V)});const U=typeof G!=="undefined"?$.call(this,W,G):$.call(this,W);if(n0(U))return U.then((q)=>{return d([F,"optionalAccess",(V)=>V.finish,"call",(V)=>V()]),q});return d([F,"optionalAccess",(q)=>q.finish,"call",(q)=>q()]),U}})}}gX.__initStatic();class bX{static __initStatic(){this.id="Mysql"}constructor(){this.name=bX.id}loadDependency(){return this._module=this._module||v6("mysql/lib/Connection.js")}setupOnce(Z,Y){if(r8(Y)){W0&&v.log("Mysql Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){W0&&v.error("Mysql Integration was unable to require `mysql` package.");return}let X=void 0;try{J.prototype.connect=new Proxy(J.prototype.connect,{apply(G,Q,K){if(!X)X=Q.config;return G.apply(Q,K)}})}catch(G){W0&&v.error("Mysql Integration was unable to instrument `mysql` config.")}function $(){if(!X)return{};return{"server.address":X.host,"server.port":X.port,"db.user":X.user}}function W(G){if(!G||G.endTimestamp)return;const Q=$();Object.keys(Q).forEach((K)=>{G.setData(K,Q[K])}),G.finish()}E0(J,"createQuery",function(G){return function(Q,K,H){const F=Y().getScope().getSpan(),U=d([F,"optionalAccess",(V)=>V.startChild,"call",(V)=>V({description:typeof Q==="string"?Q:Q.sql,op:"db",origin:"auto.db.mysql",data:{"db.system":"mysql"}})]);if(typeof H==="function")return G.call(this,Q,K,function(V,L,w){W(U),H(V,L,w)});if(typeof K==="function")return G.call(this,Q,function(V,L,w){W(U),K(V,L,w)});const q=G.call(this,Q,K);return q.on("end",()=>{W(U)}),q}})}}bX.__initStatic();var X71=function(Z){return Z&&typeof Z==="object"&&Z.once&&typeof Z.once==="function"},Y71=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],J71={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class vX{static __initStatic(){this.id="Mongo"}constructor(Z={}){this.name=vX.id,this._operations=Array.isArray(Z.operations)?Z.operations:Y71,this._describeOperations="describeOperations"in Z?Z.describeOperations:!0,this._useMongoose=!!Z.useMongoose}loadDependency(){const Z=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||v6(Z)}setupOnce(Z,Y){if(r8(Y)){W0&&v.log("Mongo Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){const X=this._useMongoose?"mongoose":"mongodb";W0&&v.error(`Mongo Integration was unable to require \`${X}\` package.`);return}this._instrumentOperations(J.Collection,this._operations,Y)}_instrumentOperations(Z,Y,J){Y.forEach((X)=>this._patchOperation(Z,X,J))}_patchOperation(Z,Y,J){if(!(Y in Z.prototype))return;const X=this._getSpanContextFromOperationArguments.bind(this);E0(Z.prototype,Y,function($){return function(...W){const G=W[W.length-1],K=J().getScope().getSpan();if(typeof G!=="function"||Y==="mapReduce"&&W.length===2){const z=d([K,"optionalAccess",(U)=>U.startChild,"call",(U)=>U(X(this,Y,W))]),F=$.call(this,...W);if(n0(F))return F.then((U)=>{return d([z,"optionalAccess",(q)=>q.finish,"call",(q)=>q()]),U});else if(X71(F)){const U=F;try{U.once("close",()=>{d([z,"optionalAccess",(q)=>q.finish,"call",(q)=>q()])})}catch(q){d([z,"optionalAccess",(V)=>V.finish,"call",(V)=>V()])}return U}else return d([z,"optionalAccess",(U)=>U.finish,"call",(U)=>U()]),F}const H=d([K,"optionalAccess",(z)=>z.startChild,"call",(z)=>z(X(this,Y,W.slice(0,-1)))]);return $.call(this,...W.slice(0,-1),function(z,F){d([H,"optionalAccess",(U)=>U.finish,"call",(U)=>U()]),G(z,F)})}})}_getSpanContextFromOperationArguments(Z,Y,J){const X={"db.system":"mongodb","db.name":Z.dbName,"db.operation":Y,"db.mongodb.collection":Z.collectionName},$={op:"db",origin:"auto.db.mongo",description:Y,data:X},W=J71[Y],G=Array.isArray(this._describeOperations)?this._describeOperations.includes(Y):this._describeOperations;if(!W||!G)return $;try{if(Y==="mapReduce"){const[Q,K]=J;X[W[0]]=typeof Q==="string"?Q:Q.name||"<anonymous>",X[W[1]]=typeof K==="string"?K:K.name||"<anonymous>"}else for(let Q=0;Q<W.length;Q++)X[`db.mongodb.${W[Q]}`]=JSON.stringify(J[Q])}catch(Q){}return $}}vX.__initStatic();var $71=function(Z){return!!Z&&!!Z.$use};class hX{static __initStatic(){this.id="Prisma"}constructor(Z={}){if(this.name=hX.id,$71(Z.client)&&!Z.client._sentryInstrumented){WY(Z.client,"_sentryInstrumented",!0);const Y={};try{const J=Z.client._engineConfig;if(J){const{activeProvider:X,clientVersion:$}=J;if(X)Y["db.system"]=X;if($)Y["db.prisma.version"]=$}}catch(J){}Z.client.$use((J,X)=>{if(r8(V1))return X(J);const{action:$,model:W}=J;return JG({name:W?`${W} ${$}`:$,op:"db.prisma",origin:"auto.db.prisma",data:{...Y,"db.operation":$}},()=>X(J))})}else W0&&v.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",Z.client)}setupOnce(){}}hX.__initStatic();class mX{static __initStatic(){this.id="GraphQL"}constructor(){this.name=mX.id}loadDependency(){return this._module=this._module||v6("graphql/execution/execute.js")}setupOnce(Z,Y){if(r8(Y)){W0&&v.log("GraphQL Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){W0&&v.error("GraphQL Integration was unable to require graphql/execution package.");return}E0(J,"execute",function(X){return function(...$){const W=Y().getScope(),G=W.getSpan(),Q=d([G,"optionalAccess",(H)=>H.startChild,"call",(H)=>H({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);d([W,"optionalAccess",(H)=>H.setSpan,"call",(H)=>H(Q)]);const K=X.call(this,...$);if(n0(K))return K.then((H)=>{return d([Q,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),d([W,"optionalAccess",(z)=>z.setSpan,"call",(z)=>z(G)]),H});return d([Q,"optionalAccess",(H)=>H.finish,"call",(H)=>H()]),d([W,"optionalAccess",(H)=>H.setSpan,"call",(H)=>H(G)]),K}})}}mX.__initStatic();var FD=function(Z,Y){return Z.map((J)=>{return Object.keys(J).forEach((X)=>{Object.keys(J[X]).forEach(($)=>{if(typeof J[X][$]!=="function")return;W71(J,X,$,Y)})}),J})},W71=function(Z,Y,J,X){E0(Z[Y],J,function($){return function(...W){const Q=X().getScope().getSpan(),K=d([Q,"optionalAccess",(z)=>z.startChild,"call",(z)=>z({description:`${Y}.${J}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),H=$.call(this,...W);if(n0(H))return H.then((z)=>{return d([K,"optionalAccess",(F)=>F.finish,"call",(F)=>F()]),z});return d([K,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),H}})};class uX{static __initStatic(){this.id="Apollo"}constructor(Z={useNestjs:!1}){this.name=uX.id,this._useNest=!!Z.useNestjs}loadDependency(){if(this._useNest)this._module=this._module||v6("@nestjs/graphql");else this._module=this._module||v6("apollo-server-core");return this._module}setupOnce(Z,Y){if(r8(Y)){W0&&v.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){const J=this.loadDependency();if(!J){W0&&v.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}E0(J.GraphQLFactory.prototype,"mergeWithSchema",function(X){return function(...$){return E0(this.resolversExplorerService,"explore",function(W){return function(){const G=V5(W.call(this));return FD(G,Y)}}),X.call(this,...$)}})}else{const J=this.loadDependency();if(!J){W0&&v.error("Apollo Integration was unable to require apollo-server-core package.");return}E0(J.ApolloServerBase.prototype,"constructSchema",function(X){return function(){if(!this.config.resolvers){if(W0){if(this.config.schema)v.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),v.warn();else if(this.config.modules)v.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property.");v.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")}return X.call(this)}const $=V5(this.config.resolvers);return this.config.resolvers=FD($,Y),X.call(this)}})}}}uX.__initStatic();import*as UD from"os";import{TextEncoder as G71} from"util";class tF extends MY{constructor(Z){Z._metadata=Z._metadata||{},Z._metadata.sdk=Z._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:M5}],version:M5},Z.transportOptions={textEncoder:new G71,...Z.transportOptions};const Y={...Z,platform:"node",runtime:{name:"node",version:global.process.version},serverName:Z.serverName||global.process.env.SENTRY_NAME||UD.hostname()};super(Y)}}import*as H41 from"http";import*as z41 from"https";import{Readable as F41} from"stream";import{URL as hD} from"url";import{createGzip as U41} from"zlib";var mD=ZF(vD(),1),V41=function(Z){return new F41({read(){this.push(Z),this.push(null)}})},uD=function(Z){let Y;try{Y=new hD(Z.url)}catch(K){return j8(()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")}),yZ(Z,()=>Promise.resolve({}))}const J=Y.protocol==="https:",X=L41(Y,Z.proxy||(J?process.env.https_proxy:void 0)||process.env.http_proxy),$=J?z41:H41,W=Z.keepAlive===void 0?!1:Z.keepAlive,G=X?new mD.HttpsProxyAgent(X):new $.Agent({keepAlive:W,maxSockets:30,timeout:2000}),Q=R41(Z,_X(Z.httpModule,()=>$),G);return yZ(Z,Q)},L41=function(Z,Y){const{no_proxy:J}=process.env;if(J&&J.split(",").some(($)=>Z.host.endsWith($)||Z.hostname.endsWith($)))return;else return Y},R41=function(Z,Y,J){const{hostname:X,pathname:$,port:W,protocol:G,search:Q}=new hD(Z.url);return function K(H){return new Promise((z,F)=>{let U=V41(H.body);const q={...Z.headers};if(H.body.length>q41)q["content-encoding"]="gzip",U=U.pipe(U41());const V=Y.request({method:"POST",agent:J,headers:q,hostname:X,path:`${$}${Q}`,port:W,protocol:G,ca:Z.caCerts},(L)=>{L.on("data",()=>{}),L.on("end",()=>{}),L.setEncoding("utf8");const w=_X(L.headers["retry-after"],()=>null),B=_X(L.headers["x-sentry-rate-limits"],()=>null);z({statusCode:L.statusCode,headers:{"retry-after":w,"x-sentry-rate-limits":Array.isArray(B)?B[0]:B}})});V.on("error",F),U.pipe(V)})}},q41=32768;import{spawn as Xp1} from"child_process";import{posix as w41,sep as M41} from"path";var A41=function(Z){return Z.replace(/^[A-Z]:/,"").replace(/\\/g,"/")},dD=function(Z,Y=B41){if(!Z)return;const J=Y?A41(Z):Z;let{root:X,dir:$,base:W,ext:G}=w41.parse(J);const K=`${require&&require.main&&require.main.filename&&$||global.process.cwd()}/`;let H=W;if(G===".js"||G===".mjs"||G===".cjs")H=H.slice(0,G.length*-1);if(!X&&!$)$=".";let z=$.lastIndexOf("/node_modules/");if(z>-1)return`${$.slice(z+14).replace(/\//g,".")}:${H}`;if(z=`${$}/`.lastIndexOf(K,0),z===0){let F=$.slice(K.length).replace(/\//g,".");if(F)F+=":";return F+=H,F}return H},B41=M41==="\\";var cD=function(){return!!process.send&&!!process.env.SENTRY_ANR_CHILD_PROCESS};var t8=wF(process.versions.node);import*as LG from"domain";var pD=function(){return LG.active},N41=function(){const Z=pD();if(!Z)return;return VY(Z),u6(Z)},I41=function(Z){const Y={};return VY(Y,Z),u6(Y)},D41=function(Z,Y){const J=pD();if(J&&d([Y,"optionalAccess",(G)=>G.reuseExisting]))return Z();const X=LG.create(),$=J?u6(J):void 0,W=I41($);return LY(X,W),X.bind(()=>{return Z()})()},lD=function(){fX({getCurrentHub:N41,runWithAsyncContext:D41})};import*as iD from"async_hooks";var nD=function(){if(!RG)RG=new iD.AsyncLocalStorage;function Z(){return RG.getStore()}function Y(X){const $={};return VY($,X),u6($)}function J(X,$){const W=Z();if(W&&d([$,"optionalAccess",(Q)=>Q.reuseExisting]))return X();const G=Y(W);return RG.run(G,()=>{return X()})}fX({getCurrentHub:Z,runWithAsyncContext:J})},RG;var aD=function(){if(t8.major&&t8.major>=14)nD();else lD()};import*as sD from"util";class N5{constructor(){N5.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=N5.id}setupOnce(){LF(({args:Z,level:Y})=>{const J=V1();if(!J.getIntegration(N5))return;J.addBreadcrumb({category:"console",level:CF(Y),message:sD.format.apply(void 0,Z)},{input:[...Z],level:Y})})}}N5.__initStatic();var Y4=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;import{URL as QU} from"url";var tD=function(Z){const{protocol:Y,hostname:J,port:X}=eD(Z),$=Z.path?Z.path:"/";return`${Y}//${J}${X}${$}`},KU=function(Z){const{protocol:Y,hostname:J,port:X}=eD(Z),$=Z.pathname||"/",W=Z.auth?P41(Z.auth):"";return`${Y}//${W}${J}${X}${$}`},P41=function(Z){const[Y,J]=Z.split(":");return`${Y?"[Filtered]":""}:${J?"[Filtered]":""}@`},HU=function(Z,Y,J){if(!Z)return Z;let[X,$]=Z.split(" ");if(Y.host&&!Y.protocol)Y.protocol=d([J,"optionalAccess",(W)=>W.agent,"optionalAccess",(W)=>W.protocol]),$=KU(Y);if(d([$,"optionalAccess",(W)=>W.startsWith,"call",(W)=>W("///")]))$=$.slice(2);return`${X} ${$}`},rD=function(Z){const Y={protocol:Z.protocol,hostname:typeof Z.hostname==="string"&&Z.hostname.startsWith("[")?Z.hostname.slice(1,-1):Z.hostname,hash:Z.hash,search:Z.search,pathname:Z.pathname,path:`${Z.pathname||""}${Z.search||""}`,href:Z.href};if(Z.port!=="")Y.port=Number(Z.port);if(Z.username||Z.password)Y.auth=`${Z.username}:${Z.password}`;return Y},oD=function(Z,Y){let J,X;if(typeof Y[Y.length-1]==="function")J=Y.pop();if(typeof Y[0]==="string")X=rD(new QU(Y[0]));else if(Y[0]instanceof QU)X=rD(Y[0]);else{X=Y[0];try{const $=new QU(X.path||"",`${X.protocol||"http:"}//${X.hostname}`);X={pathname:$.pathname,search:$.search,hash:$.hash,...X}}catch($){}}if(Y.length===2)X={...X,...Y[1]};if(X.protocol===void 0)if(t8.major&&t8.major>8)X.protocol=d([d([Z,"optionalAccess",($)=>$.globalAgent]),"optionalAccess",($)=>$.protocol])||d([X.agent,"optionalAccess",($)=>$.protocol])||d([X._defaultAgent,"optionalAccess",($)=>$.protocol]);else X.protocol=d([X.agent,"optionalAccess",($)=>$.protocol])||d([X._defaultAgent,"optionalAccess",($)=>$.protocol])||d([d([Z,"optionalAccess",($)=>$.globalAgent]),"optionalAccess",($)=>$.protocol]);if(J)return[X,J];else return[X]},eD=function(Z){const Y=Z.protocol||"",J=Z.hostname||Z.host||"",X=!Z.port||Z.port===80||Z.port===443||/^(.*):(\d+)$/.test(J)?"":`:${Z.port}`;return{protocol:Y,hostname:J,port:X}};var ZP=function(Z,Y,J,X){const $=new h6(100),W=new h6(100),G=(H)=>{if(J===void 0)return!0;const z=$.get(H);if(z!==void 0)return z;const F=J(H);return $.set(H,F),F},Q=(H)=>{if(X===void 0)return!0;const z=W.get(H);if(z!==void 0)return z;const F=e7(H,X);return W.set(H,F),F};function K(H,z,F,U){if(!V1().getIntegration(I5))return;V1().addBreadcrumb({category:"http",data:{status_code:U&&U.statusCode,...z},type:"http"},{event:H,request:F,response:U})}return function H(z){return function F(...U){const q=oD(Z,U),V=q[0],L=tD(V),w=KU(V);if(gZ(w,V1()))return z.apply(Z,q);const B=V1(),A=B.getScope(),M=A.getSpan(),I=T41(w,V),x=G(L)?d([M,"optionalAccess",(j)=>j.startChild,"call",(j)=>j({op:"http.client",origin:"auto.http.node.http",description:`${I["http.method"]} ${I.url}`,data:I})]):void 0;if(Q(L))if(x){const j=x.toTraceparent(),E=d([x,"optionalAccess",(D)=>D.transaction,"optionalAccess",(D)=>D.getDynamicSamplingContext,"call",(D)=>D()]);YP(V,w,j,E)}else{const j=B.getClient(),{traceId:E,sampled:D,dsc:l}=A.getPropagationContext(),b=fZ(E,void 0,D),_=l||(j?B7(E,j,A):void 0);YP(V,w,b,_)}else Y4&&v.log(`[Tracing] Not adding sentry-trace header to outgoing request (${w}) due to mismatching tracePropagationTargets option.`);return z.apply(Z,q).once("response",function(j){const E=this;if(Y)K("response",I,E,j);if(x){if(j.statusCode)x.setHttpStatus(j.statusCode);x.description=HU(x.description,V,E),x.finish()}}).once("error",function(){const j=this;if(Y)K("error",I,j);if(x)x.setHttpStatus(500),x.description=HU(x.description,V,j),x.finish()})}}},YP=function(Z,Y,J,X){if((Z.headers||{})["sentry-trace"])return;Y4&&v.log(`[Tracing] Adding sentry-trace header ${J} to outgoing request to "${Y}": `);const W=zY(X),G=W&&W.length>0?C41(Z,W):void 0;Z.headers={...Z.headers,"sentry-trace":J,...G&&{baggage:G}}},T41=function(Z,Y){const J=Y.method||"GET",X={url:Z,"http.method":J};if(Y.hash)X["http.fragment"]=Y.hash.substring(1);if(Y.search)X["http.query"]=Y.search.substring(1);return X},C41=function(Z,Y){if(!Z.headers||!Z.headers.baggage)return Y;else if(!Y)return Z.headers.baggage;else if(Array.isArray(Z.headers.baggage))return[...Z.headers.baggage,Y];return[Z.headers.baggage,Y]};class I5{static __initStatic(){this.id="Http"}__init(){this.name=I5.id}constructor(Z={}){I5.prototype.__init.call(this),this._breadcrumbs=typeof Z.breadcrumbs==="undefined"?!0:Z.breadcrumbs,this._tracing=!Z.tracing?void 0:Z.tracing===!0?{}:Z.tracing}setupOnce(Z,Y){if(!this._breadcrumbs&&!this._tracing)return;const J=d([Y,"call",(Q)=>Q(),"access",(Q)=>Q.getClient,"call",(Q)=>Q(),"optionalAccess",(Q)=>Q.getOptions,"call",(Q)=>Q()]);if(J&&J.instrumenter!=="sentry"){Y4&&v.log("HTTP Integration is skipped because of instrumenter configuration.");return}const X=d([this,"access",(Q)=>Q._tracing,"optionalAccess",(Q)=>Q.shouldCreateSpanForRequest])||d([J,"optionalAccess",(Q)=>Q.shouldCreateSpanForRequest]),$=d([J,"optionalAccess",(Q)=>Q.tracePropagationTargets])||d([this,"access",(Q)=>Q._tracing,"optionalAccess",(Q)=>Q.tracePropagationTargets]),W=import.meta.require("http"),G=ZP(W,this._breadcrumbs,X,$);if(E0(W,"get",G),E0(W,"request",G),t8.major&&t8.major>8){const Q=import.meta.require("https"),K=ZP(Q,this._breadcrumbs,X,$);E0(Q,"get",K),E0(Q,"request",K)}}}I5.__initStatic();var nX=function(Z){j8(()=>{console.error(Z)});const Y=w5();if(Y===void 0)Y4&&v.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);const J=Y.getOptions(),X=J&&J.shutdownTimeout&&J.shutdownTimeout>0&&J.shutdownTimeout||E41;Y.close(X).then(($)=>{if(!$)Y4&&v.warn("We reached the timeout for emptying the request buffer, still exiting now!");global.process.exit(1)},($)=>{Y4&&v.error($)})},E41=2000;class k4{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=k4.id}__init2(){this.handler=this._makeErrorHandler()}constructor(Z={}){k4.prototype.__init.call(this),k4.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...Z}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let Y=!1,J=!1,X=!1,$;return(W)=>{let G=nX;const Q=w5();if(this._options.onFatalError)G=this._options.onFatalError;else if(Q&&Q.getOptions().onFatalError)G=Q.getOptions().onFatalError;const H=global.process.listeners("uncaughtException").reduce((F,U)=>{if(U.name==="domainUncaughtExceptionClear"||U.tag&&U.tag==="sentry_tracingErrorCallback"||U===this.handler)return F;else return F+1},0)===0,z=this._options.exitEvenIfOtherHandlersAreRegistered||H;if(!Y){const F=V1();if($=W,Y=!0,F.getIntegration(k4))F.withScope((U)=>{if(U.setLevel("fatal"),F.captureException(W,{originalException:W,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!X&&z)X=!0,G(W)});else if(!X&&z)X=!0,G(W)}else if(z){if(X)Y4&&v.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),nX(W);else if(!J)J=!0,setTimeout(()=>{if(!X)X=!0,G($,W)},2000)}}}}k4.__initStatic();class D5{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=D5.id}constructor(Z={mode:"warn"}){this._options=Z,D5.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(Z,Y){const J=V1();if(J.getIntegration(D5))J.withScope((X)=>{X.setExtra("unhandledPromiseRejection",!0),J.captureException(Z,{originalException:Y,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})});this._handleRejection(Z)}_handleRejection(Z){const Y="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";if(this._options.mode==="warn")j8(()=>{console.warn(Y),console.error(Z&&Z.stack?Z.stack:Z)});else if(this._options.mode==="strict")j8(()=>{console.warn(Y)}),nX(Z)}}D5.__initStatic();import{existsSync as j41,readFileSync as O41} from"fs";import{dirname as S41,join as k41} from"path";var _41=function(){try{return require.cache?Object.keys(require.cache):[]}catch(Z){return[]}},x41=function(){const Z=require.main&&require.main.paths||[],Y=_41(),J={},X={};return Y.forEach(($)=>{let W=$;const G=()=>{const Q=W;if(W=S41(Q),!W||Q===W||X[Q])return;if(Z.indexOf(W)<0)return G();const K=k41(Q,"package.json");if(X[Q]=!0,!j41(K))return G();try{const H=JSON.parse(O41(K,"utf8"));J[H.name]=H.version}catch(H){}};G()}),J},zU;class P5{constructor(){P5.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=P5.id}setupOnce(Z,Y){Z((J)=>{if(!Y().getIntegration(P5))return J;return{...J,modules:{...J.modules,...this._getModules()}}})}_getModules(){if(!zU)zU=x41();return zU}}P5.__initStatic();import{readFile as f41} from"fs";var g41=function(Z){return new Promise((Y,J)=>{f41(Z,"utf8",(X,$)=>{if(X)J(X);else Y($)})})};async function b41(Z){const Y=wG.get(Z);if(Y===null)return null;if(Y!==void 0)return Y;let J=null;try{J=(await g41(Z)).split("\n")}catch(X){}return wG.set(Z,J),J}var wG=new h6(100),y41=7;class T5{static __initStatic(){this.id="ContextLines"}__init(){this.name=T5.id}constructor(Z={}){this._options=Z,T5.prototype.__init.call(this)}get _contextLines(){return this._options.frameContextLines!==void 0?this._options.frameContextLines:y41}setupOnce(Z,Y){Z((J)=>{if(!Y().getIntegration(T5))return J;return this.addSourceContext(J)})}async addSourceContext(Z){const Y={},J=[];if(this._contextLines>0&&d([Z,"access",(X)=>X.exception,"optionalAccess",(X)=>X.values]))for(let X of Z.exception.values){if(!d([X,"access",($)=>$.stacktrace,"optionalAccess",($)=>$.frames]))continue;for(let $=X.stacktrace.frames.length-1;$>=0;$--){const W=X.stacktrace.frames[$];if(W.filename&&!Y[W.filename]&&!wG.get(W.filename))J.push(b41(W.filename)),Y[W.filename]=1}}if(J.length>0)await Promise.all(J);if(this._contextLines>0&&d([Z,"access",(X)=>X.exception,"optionalAccess",(X)=>X.values])){for(let X of Z.exception.values)if(X.stacktrace&&X.stacktrace.frames)await this.addSourceContextToFrames(X.stacktrace.frames)}return Z}addSourceContextToFrames(Z){for(let Y of Z)if(Y.filename&&Y.context_line===void 0){const J=wG.get(Y.filename);if(J)try{MF(J,Y,this._contextLines)}catch(X){}}}}T5.__initStatic();import{execFile as v41} from"child_process";import{readFile as h41,readdir as m41} from"fs";import*as m0 from"os";import{join as u41} from"path";import{promisify as XP} from"util";async function p41(){const Z=m0.platform();switch(Z){case"darwin":return t41();case"linux":return o41();default:return{name:a41[Z]||Z,version:m0.release()}}}var l41=function(){try{if(typeof process.versions.icu!=="string")return;const Z=new Date(900000000);if(new Intl.DateTimeFormat("es",{month:"long"}).format(Z)==="enero"){const J=Intl.DateTimeFormat().resolvedOptions();return{locale:J.locale,timezone:J.timeZone}}}catch(Z){}return},i41=function(){const Z=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-process.uptime()*1000).toISOString(),app_memory:Z}},n41=function(Z){const Y={};let J;try{J=m0.uptime&&m0.uptime()}catch(X){}if(typeof J==="number")Y.boot_time=new Date(Date.now()-J*1000).toISOString();if(Y.arch=m0.arch(),Z===!0||Z.memory)Y.memory_size=m0.totalmem(),Y.free_memory=m0.freemem();if(Z===!0||Z.cpu){const X=m0.cpus();if(X&&X.length){const $=X[0];Y.processor_count=X.length,Y.cpu_description=$.model,Y.processor_frequency=$.speed}}return Y},J4=function(Z,Y){const J=Z.exec(Y);return J?J[1]:void 0};async function t41(){const Z={kernel_version:m0.release(),name:"Mac OS X",version:`10.${Number(m0.release().split(".")[0])-4}`};try{const Y=await new Promise((J,X)=>{v41("/usr/bin/sw_vers",($,W)=>{if($){X($);return}J(W)})});Z.name=J4(/^ProductName:\s+(.*)$/m,Y),Z.version=J4(/^ProductVersion:\s+(.*)$/m,Y),Z.build=J4(/^BuildVersion:\s+(.*)$/m,Y)}catch(Y){}return Z}var JP=function(Z){return Z.split(" ")[0].toLowerCase()};async function o41(){const Z={kernel_version:m0.release(),name:"Linux"};try{const Y=await c41("/etc"),J=s41.find((Q)=>Y.includes(Q.name));if(!J)return Z;const X=u41("/etc",J.name),$=(await d41(X,{encoding:"utf-8"})).toLowerCase(),{distros:W}=J;Z.name=W.find((Q)=>$.indexOf(JP(Q))>=0)||W[0];const G=JP(Z.name);Z.version=r41[G]($)}catch(Y){}return Z}var e41=function(){if(process.env.VERCEL)return{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION};else if(process.env.AWS_REGION)return{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV};else if(process.env.GCP_PROJECT)return{"cloud.provider":"gcp"};else if(process.env.ALIYUN_REGION_ID)return{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID};else if(process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME)return{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME};else if(process.env.IBM_CLOUD_REGION)return{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION};else if(process.env.TENCENTCLOUD_REGION)return{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE};else if(process.env.NETLIFY)return{"cloud.provider":"netlify"};else if(process.env.FLY_REGION)return{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION};else if(process.env.DYNO)return{"cloud.provider":"heroku"};else return},d41=XP(h41),c41=XP(m41);class hZ{static __initStatic(){this.id="Context"}__init(){this.name=hZ.id}constructor(Z={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0}){this._options=Z,hZ.prototype.__init.call(this)}setupOnce(Z){Z((Y)=>this.addContext(Y))}async addContext(Z){if(this._cachedContext===void 0)this._cachedContext=this._getContexts();const Y=this._updateContext(await this._cachedContext);return Z.contexts={...Z.contexts,app:{...Y.app,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.app])},os:{...Y.os,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.os])},device:{...Y.device,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.device])},culture:{...Y.culture,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.culture])},cloud_resource:{...Y.cloud_resource,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.cloud_resource])}},Z}_updateContext(Z){if(d([Z,"optionalAccess",(Y)=>Y.app,"optionalAccess",(Y)=>Y.app_memory]))Z.app.app_memory=process.memoryUsage().rss;if(d([Z,"optionalAccess",(Y)=>Y.device,"optionalAccess",(Y)=>Y.free_memory]))Z.device.free_memory=m0.freemem();return Z}async _getContexts(){const Z={};if(this._options.os)Z.os=await p41();if(this._options.app)Z.app=i41();if(this._options.device)Z.device=n41(this._options.device);if(this._options.culture){const Y=l41();if(Y)Z.culture=Y}if(this._options.cloudResource)Z.cloud_resource=e41();return Z}}hZ.__initStatic();var a41={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},s41=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],r41={alpine:(Z)=>Z,arch:(Z)=>J4(/distrib_release=(.*)/,Z),centos:(Z)=>J4(/release ([^ ]+)/,Z),debian:(Z)=>Z,fedora:(Z)=>J4(/release (..)/,Z),mint:(Z)=>J4(/distrib_release=(.*)/,Z),red:(Z)=>J4(/release ([^ ]+)/,Z),suse:(Z)=>J4(/VERSION = (.*)\n/,Z),ubuntu:(Z)=>J4(/distrib_release=(.*)/,Z)};var Z51=function(Z,Y,J){let X=0,$=5,W=0;return setInterval(()=>{if(W===0){if(X>Z){if($*=2,J($),$>86400)$=86400;W=$}}else if(W-=1,W===0)Y();X=0},1000).unref(),()=>{X+=1}},WP=function(Z){let Y=[],J=!1;function X(G){if(Y=[],J)return;J=!0,Z(G)}Y.push(X);function $(G){Y.push(G)}function W(G){const Q=Y.pop()||X;try{Q(G)}catch(K){X(G)}}return{add:$,next:W}},Y51=function(){try{return new GP}catch(Z){return}},$P=function(Z){return Z!==void 0&&["","?","<anonymous>"].includes(Z)},J51=function(Z,Y){return Z===Y||$P(Z)&&$P(Y)},QP=function(Z){if(Z===void 0)return;return Z.slice(-10).reduce((Y,J)=>`${Y},${J.function},${J.lineno},${J.colno}`,"")},X51=function(Z,Y){if(Y===void 0)return;return QP(Z(Y,1))};class GP{constructor(){const{Session:Z}=import.meta.require("inspector");this._session=new Z}configureAndConnect(Z,Y){this._session.connect(),this._session.on("Debugger.paused",(J)=>{Z(J,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:Y?"all":"uncaught"})}setPauseOnExceptions(Z){this._session.post("Debugger.setPauseOnExceptions",{state:Z?"all":"uncaught"})}getLocalVariables(Z,Y){this._getProperties(Z,(J)=>{const{add:X,next:$}=WP(Y);for(let W of J)if(d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.objectId])&&d([W,"optionalAccess",(G)=>G.value,"access",(G)=>G.className])==="Array"){const G=W.value.objectId;X((Q)=>this._unrollArray(G,W.name,Q,$))}else if(d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.objectId])&&d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.className])==="Object"){const G=W.value.objectId;X((Q)=>this._unrollObject(G,W.name,Q,$))}else if(d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])||d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.description]))X((G)=>this._unrollOther(W,G,$));$({})})}_getProperties(Z,Y){this._session.post("Runtime.getProperties",{objectId:Z,ownProperties:!0},(J,X)=>{if(J)Y([]);else Y(X.result)})}_unrollArray(Z,Y,J,X){this._getProperties(Z,($)=>{J[Y]=$.filter((W)=>W.name!=="length"&&!isNaN(parseInt(W.name,10))).sort((W,G)=>parseInt(W.name,10)-parseInt(G.name,10)).map((W)=>d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])),X(J)})}_unrollObject(Z,Y,J,X){this._getProperties(Z,($)=>{J[Y]=$.map((W)=>[W.name,d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])]).reduce((W,[G,Q])=>{return W[G]=Q,W},{}),X(J)})}_unrollOther(Z,Y,J){if(d([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.value]))Y[Z.name]=Z.value.value;else if(d([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.description])&&d([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.type])!=="function")Y[Z.name]=`<${Z.value.description}>`;J(Y)}}class C5{static __initStatic(){this.id="LocalVariables"}__init(){this.name=C5.id}__init2(){this._cachedFrames=new h6(20)}constructor(Z={},Y=Y51()){this._options=Z,this._session=Y,C5.prototype.__init.call(this),C5.prototype.__init2.call(this)}setupOnce(Z,Y){this._setup(Z,d([Y,"call",(J)=>J(),"access",(J)=>J.getClient,"call",(J)=>J(),"optionalAccess",(J)=>J.getOptions,"call",(J)=>J()]))}_setup(Z,Y){if(this._session&&d([Y,"optionalAccess",(J)=>J.includeLocalVariables])){if((t8.major||0)<18){v.log("The `LocalVariables` integration is only supported on Node >= v18.");return}const X=this._options.captureAllExceptions!==!1;if(this._session.configureAndConnect(($,W)=>this._handlePaused(Y.stackParser,$,W),X),X){const $=this._options.maxExceptionsPerSecond||50;this._rateLimiter=Z51($,()=>{v.log("Local variables rate-limit lifted."),d([this,"access",(W)=>W._session,"optionalAccess",(W)=>W.setPauseOnExceptions,"call",(W)=>W(!0)])},(W)=>{v.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${W} seconds.`),d([this,"access",(G)=>G._session,"optionalAccess",(G)=>G.setPauseOnExceptions,"call",(G)=>G(!1)])})}Z(async($)=>this._addLocalVariables($))}}_handlePaused(Z,{params:{reason:Y,data:J,callFrames:X}},$){if(Y!=="exception"&&Y!=="promiseRejection"){$();return}d([this,"access",(K)=>K._rateLimiter,"optionalCall",(K)=>K()]);const W=X51(Z,d([J,"optionalAccess",(K)=>K.description]));if(W==null){$();return}const{add:G,next:Q}=WP((K)=>{this._cachedFrames.set(W,K),$()});for(let K=0;K<Math.min(X.length,5);K++){const{scopeChain:H,functionName:z,this:F}=X[K],U=H.find((V)=>V.type==="local"),q=F.className==="global"||!F.className?z:`${F.className}.${z}`;if(d([U,"optionalAccess",(V)=>V.object,"access",(V)=>V.objectId])===void 0)G((V)=>{V[K]={function:q},Q(V)});else{const V=U.object.objectId;G((L)=>d([this,"access",(w)=>w._session,"optionalAccess",(w)=>w.getLocalVariables,"call",(w)=>w(V,(B)=>{L[K]={function:q,vars:B},Q(L)})]))}}Q([])}_addLocalVariables(Z){for(let Y of d([Z,"optionalAccess",(J)=>J.exception,"optionalAccess",(J)=>J.values])||[])this._addLocalVariablesToException(Y);return Z}_addLocalVariablesToException(Z){const Y=QP(d([Z,"optionalAccess",($)=>$.stacktrace,"optionalAccess",($)=>$.frames]));if(Y===void 0)return;const J=this._cachedFrames.remove(Y);if(J===void 0)return;const X=d([Z,"access",($)=>$.stacktrace,"optionalAccess",($)=>$.frames,"optionalAccess",($)=>$.length])||0;for(let $=0;$<X;$++){const W=X-$-1;if(!d([Z,"optionalAccess",(G)=>G.stacktrace,"optionalAccess",(G)=>G.frames,"optionalAccess",(G)=>G[W]])||!J[$])break;if(J[$].vars===void 0||Z.stacktrace.frames[W].in_app===!1||!J51(Z.stacktrace.frames[W].function,J[$].function))continue;Z.stacktrace.frames[W].vars=J[$].vars}}}C5.__initStatic();var KP=function(Z,Y,J){if(Z.headers.split("\r\n").some((W)=>W.startsWith("sentry-trace:")))return;if(Z.addHeader("sentry-trace",Y),J)Z.addHeader("baggage",J)},$51=function(Z,Y,J){const X=EX(J),$=Y.method||"GET",W={"http.method":$};if(X.search)W["http.query"]=X.search;if(X.hash)W["http.fragment"]=X.hash;return d([Z,"optionalAccess",(G)=>G.startChild,"call",(G)=>G({op:"http.client",origin:"auto.http.node.undici",description:`${$} ${jX(X)}`,data:W})])},aX;(function(Z){Z.RequestCreate="undici:request:create";const J="undici:request:headers";Z.RequestEnd=J;const X="undici:request:error";Z.RequestError=X})(aX||(aX={}));class S8{static __initStatic(){this.id="Undici"}__init(){this.name=S8.id}__init2(){this._createSpanUrlMap=new h6(100)}__init3(){this._headersUrlMap=new h6(100)}constructor(Z={}){S8.prototype.__init.call(this),S8.prototype.__init2.call(this),S8.prototype.__init3.call(this),S8.prototype.__init4.call(this),S8.prototype.__init5.call(this),S8.prototype.__init6.call(this),this._options={breadcrumbs:Z.breadcrumbs===void 0?!0:Z.breadcrumbs,shouldCreateSpanForRequest:Z.shouldCreateSpanForRequest}}setupOnce(Z){if(t8.major&&t8.major<16)return;let Y;try{Y=L5(W51,"diagnostics_channel")}catch(J){}if(!Y||!Y.subscribe)return;Y.subscribe(aX.RequestCreate,this._onRequestCreate),Y.subscribe(aX.RequestEnd,this._onRequestEnd),Y.subscribe(aX.RequestError,this._onRequestError)}_shouldCreateSpan(Z){if(this._options.shouldCreateSpanForRequest===void 0)return!0;const Y=this._createSpanUrlMap.get(Z);if(Y!==void 0)return Y;const J=this._options.shouldCreateSpanForRequest(Z);return this._createSpanUrlMap.set(Z,J),J}__init4(){this._onRequestCreate=(Z)=>{const Y=V1();if(!Y.getIntegration(S8))return;const{request:J}=Z,X=J.origin?J.origin.toString()+J.path:J.path;if(gZ(X,Y)||J.__sentry_span__!==void 0)return;const $=Y.getClient();if(!$)return;const W=$.getOptions(),G=Y.getScope(),Q=G.getSpan(),K=this._shouldCreateSpan(X)?$51(Q,J,X):void 0;if(K)J.__sentry_span__=K;if(((z)=>{if(W.tracePropagationTargets===void 0)return!0;const F=this._headersUrlMap.get(z);if(F!==void 0)return F;const U=e7(z,W.tracePropagationTargets);return this._headersUrlMap.set(z,U),U})(X))if(K){const z=d([K,"optionalAccess",(U)=>U.transaction,"optionalAccess",(U)=>U.getDynamicSamplingContext,"call",(U)=>U()]),F=zY(z);KP(J,K.toTraceparent(),F)}else{const{traceId:z,sampled:F,dsc:U}=G.getPropagationContext(),q=fZ(z,void 0,F),V=U||B7(z,$,G),L=zY(V);KP(J,q,L)}}}__init5(){this._onRequestEnd=(Z)=>{const Y=V1();if(!Y.getIntegration(S8))return;const{request:J,response:X}=Z,$=J.origin?J.origin.toString()+J.path:J.path;if(gZ($,Y))return;const W=J.__sentry_span__;if(W)W.setHttpStatus(X.statusCode),W.finish();if(this._options.breadcrumbs)Y.addBreadcrumb({category:"http",data:{method:J.method,status_code:X.statusCode,url:$},type:"http"},{event:"response",request:J,response:X})}}__init6(){this._onRequestError=(Z)=>{const Y=V1();if(!Y.getIntegration(S8))return;const{request:J}=Z,X=J.origin?J.origin.toString()+J.path:J.path;if(gZ(X,Y))return;const $=J.__sentry_span__;if($)$.setStatus("internal_error"),$.finish();if(this._options.breadcrumbs)Y.addBreadcrumb({category:"http",data:{method:J.method,url:X},level:"error",type:"http"},{event:"error",request:J})}}}S8.__initStatic();import*as HP from"http";import{URL as G51} from"url";var Q51=function(Z,Y){const J=K51(Y.sidecarUrl);if(!J)return;let X=0;if(typeof Z.on!=="function"){v.warn("[Spotlight] Cannot connect to spotlight due to missing method on SDK client (`client.on`)");return}Z.on("beforeEnvelope",($)=>{if(X>3){v.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");return}const W=kX($),G=HP.request({method:"POST",path:J.pathname,hostname:J.hostname,port:J.port,headers:{"Content-Type":"application/x-sentry-envelope"}},(Q)=>{Q.on("data",()=>{}),Q.on("end",()=>{}),Q.setEncoding("utf8")});G.on("error",()=>{X++,v.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")}),G.write(W),G.end()})},K51=function(Z){try{return new G51(`${Z}`)}catch(Y){v.warn(`[Spotlight] Invalid sidecar URL: ${Z}`);return}};class mZ{static __initStatic(){this.id="Spotlight"}__init(){this.name=mZ.id}constructor(Z){mZ.prototype.__init.call(this),this._options={sidecarUrl:d([Z,"optionalAccess",(Y)=>Y.sidecarUrl])||"http://localhost:8969/stream"}}setupOnce(){}setup(Z){Q51(Z,this._options)}}mZ.__initStatic();var FU=function(Z={}){if(cD())Z.autoSessionTracking=!1,Z.tracesSampleRate=0;const Y=M7();aD();const J=d([Y,"access",(W)=>W.__SENTRY__,"optionalAccess",(W)=>W.integrations])||[];if(Z.defaultIntegrations=Z.defaultIntegrations===!1?[]:[...Array.isArray(Z.defaultIntegrations)?Z.defaultIntegrations:zP,...J],Z.dsn===void 0&&process.env.SENTRY_DSN)Z.dsn=process.env.SENTRY_DSN;const X=process.env.SENTRY_TRACES_SAMPLE_RATE;if(Z.tracesSampleRate===void 0&&X){const W=parseFloat(X);if(isFinite(W))Z.tracesSampleRate=W}if(Z.release===void 0){const W=FP();if(W!==void 0)Z.release=W;else Z.autoSessionTracking=!1}if(Z.environment===void 0&&process.env.SENTRY_ENVIRONMENT)Z.environment=process.env.SENTRY_ENVIRONMENT;if(Z.autoSessionTracking===void 0&&Z.dsn!==void 0)Z.autoSessionTracking=!0;if(Z.instrumenter===void 0)Z.instrumenter="sentry";const $={...Z,stackParser:qF(Z.stackParser||UP),integrations:iF(Z),transport:Z.transport||uD};if(sF(Z.clientClass||tF,$),Z.autoSessionTracking)H51();if(z51(),Z.spotlight){const W=V1().getClient();if(W&&W.addIntegration)W.setupIntegrations(!0),W.addIntegration(new mZ({sidecarUrl:typeof Z.spotlight==="string"?Z.spotlight:void 0}))}};var FP=function(Z){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(_1.SENTRY_RELEASE&&_1.SENTRY_RELEASE.id)return _1.SENTRY_RELEASE.id;return process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||Z},H51=function(){const Z=V1();Z.startSession(),process.on("beforeExit",()=>{const Y=Z.getScope().getSession();if(Y&&!["exited","crashed"].includes(Y.status))Z.endSession()})},z51=function(){const Z=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(Z)){const Y=process.env.SENTRY_TRACE,J=process.env.SENTRY_BAGGAGE,{propagationContext:X}=SX(Y,J);V1().getScope().setPropagationContext(X)}},zP=[new s8.InboundFilters,new s8.FunctionToString,new s8.LinkedErrors,new N5,new I5,new S8,new k4,new D5,new T5,new C5,new hZ,new P5,new B5],UP=uW(VF(dD));var UU={};yW(UU,{Undici:()=>{{return S8}},Spotlight:()=>{{return mZ}},RequestData:()=>{{return B5}},OnUnhandledRejection:()=>{{return D5}},OnUncaughtException:()=>{{return k4}},Modules:()=>{{return P5}},LocalVariables:()=>{{return C5}},Http:()=>{{return I5}},ContextLines:()=>{{return T5}},Context:()=>{{return hZ}},Console:()=>{{return N5}}});var qU={};yW(qU,{Prisma:()=>{{return hX}},Postgres:()=>{{return gX}},Mysql:()=>{{return bX}},Mongo:()=>{{return vX}},GraphQL:()=>{{return mX}},Express:()=>{{return yX}},Apollo:()=>{{return uX}}});var X4={...s8,...UU,...qU};import*as qP from"os";class VU extends MY{constructor(Z){Z._metadata=Z._metadata||{},Z._metadata.sdk=Z._metadata.sdk||{name:"sentry.javascript.bun",packages:[{name:"npm:@sentry/bun",version:M5}],version:M5};const Y={...Z,platform:"javascript",runtime:{name:"bun",version:Bun.version},serverName:Z.serverName||global.process.env.SENTRY_NAME||qP.hostname()};super(Y)}}var F51=function(){Bun.serve=new Proxy(Bun.serve,{apply(Z,Y,J){return U51(J[0]),Z.apply(Y,J)}})},U51=function(Z){Z.fetch=new Proxy(Z.fetch,{apply(Y,J,X){return eW(()=>{const $=X[0],W=$.method.toUpperCase();if(W==="OPTIONS"||W==="HEAD")return Y.apply(J,X);const G=EX($.url),Q={"http.request.method":$.method||"GET"};if(G.search)Q["http.query"]=G.search;const K=jX(G);return $G({sentryTrace:$.headers.get("sentry-trace")||"",baggage:$.headers.get("baggage")},(H)=>{return XG({op:"http.server",name:`${$.method} ${G.path||"/"}`,origin:"auto.http.bun.serve",...H,data:Q,metadata:{...H.metadata,source:"url",request:{url:K,method:$.method,headers:$.headers.toJSON()}}},async(z)=>{try{const F=await Y.apply(J,X);if(F&&F.status){if(d([z,"optionalAccess",(U)=>U.setHttpStatus,"call",(U)=>U(F.status)]),d([z,"optionalAccess",(U)=>U.setData,"call",(U)=>U("http.response.status_code",F.status)]),z instanceof RY)z.setContext("response",{headers:F.headers.toJSON(),status_code:F.status})}return F}catch(F){throw wY(F,{mechanism:{type:"bun",handled:!1,data:{function:"serve"}}}),F}})})})}})};class uZ{constructor(){uZ.prototype.__init.call(this)}static __initStatic(){this.id="BunServer"}__init(){this.name=uZ.id}setupOnce(){F51()}}uZ.__initStatic();var VP=function(Z){function Y(J){const X={body:J.body,method:"POST",headers:Z.headers};try{return fetch(Z.url,X).then(($)=>{return{statusCode:$.status,headers:{"x-sentry-rate-limits":$.headers.get("X-Sentry-Rate-Limits"),"retry-after":$.headers.get("Retry-After")}}})}catch($){return OZ($)}}return yZ(Z,Y)};var LU=function(Z={}){Z.clientClass=VU,Z.transport=Z.transport||VP,Z.defaultIntegrations=Z.defaultIntegrations===!1?[]:[...Array.isArray(Z.defaultIntegrations)?Z.defaultIntegrations:LP],FU(Z)},LP=[new s8.InboundFilters,new s8.FunctionToString,new s8.LinkedErrors,new X4.Console,new X4.Http,new X4.Undici,new X4.ContextLines,new X4.Context,new X4.Modules,new X4.RequestData,new uZ];var RU={};yW(RU,{BunServer:()=>{{return uZ}}});var $i1={...s8,...X4,...RU};var oz=ZF(tr(),1);var rz=ZF(a01(),1);async function hb1(){try{await oz.connect(jZ.MONGODB_URI,{maxPoolSize:10,socketTimeoutMS:20000}),tz.info("Mongoose connected to database")}catch(Z){wY(Z),tz.error(`Mongoose connection error: ${Z}`)}}var tz=rz.default.createLogger({level:"info",format:rz.default.format.simple(),transports:[new rz.default.transports.Console]});LU({dsn:"https://22298e3442bb4b4bc373cda39b07654c@o1204981.ingest.sentry.io/4506317199966208",tracesSampleRate:1});try{await hb1(),console.log("Connected to MongoDB");const Z=vb1({fetch:WI});process.on("SIGINT",async()=>{try{await oz.connection.close(),tz.info("Mongoose connection closed"),process.exit(0)}catch(Y){tz.error("Error closing Mongoose connection:",Y),process.exit(1)}}),console.log("\uD83D\uDD25",Z.port)}catch(Z){console.error("Server initialization error:",Z),process.exit(1)}

//# debugId=AE7B9F241FCEEBCA64756e2164756e21
