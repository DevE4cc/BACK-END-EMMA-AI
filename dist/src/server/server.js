// @bun
var d01=Object.create;var{defineProperty:rz,getPrototypeOf:c01,getOwnPropertyNames:p01}=Object;var l01=Object.prototype.hasOwnProperty;var tz=(Z,Y,J)=>{J=Z!=null?d01(c01(Z)):{};const X=Y||!Z||!Z.__esModule?rz(J,"default",{value:Z,enumerable:!0}):J;for(let $ of p01(Z))if(!l01.call(X,$))rz(X,$,{get:()=>Z[$],enumerable:!0});return X};var R=(Z,Y)=>()=>(Y||Z((Y={exports:{}}).exports,Y),Y.exports);var S=(Z)=>{return import.meta.require(Z)};var _W=(Z,Y)=>{for(var J in Y)rz(Z,J,{get:Y[J],enumerable:!0,configurable:!0,set:(X)=>Y[J]=()=>X})};var HD=R((Tc1,KD)=>{var e61=function(Z){if(Z=String(Z),Z.length>100)return;var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!Y)return;var J=parseFloat(Y[1]),X=(Y[2]||"ms").toLowerCase();switch(X){case"years":case"year":case"yrs":case"yr":case"y":return J*o61;case"weeks":case"week":case"w":return J*t61;case"days":case"day":case"d":return J*fZ;case"hours":case"hour":case"hrs":case"hr":case"h":return J*MY;case"minutes":case"minute":case"mins":case"min":case"m":return J*wY;case"seconds":case"second":case"secs":case"sec":case"s":return J*RY;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}},Z71=function(Z){var Y=Math.abs(Z);if(Y>=fZ)return Math.round(Z/fZ)+"d";if(Y>=MY)return Math.round(Z/MY)+"h";if(Y>=wY)return Math.round(Z/wY)+"m";if(Y>=RY)return Math.round(Z/RY)+"s";return Z+"ms"},Y71=function(Z){var Y=Math.abs(Z);if(Y>=fZ)return GG(Z,Y,fZ,"day");if(Y>=MY)return GG(Z,Y,MY,"hour");if(Y>=wY)return GG(Z,Y,wY,"minute");if(Y>=RY)return GG(Z,Y,RY,"second");return Z+" ms"},GG=function(Z,Y,J,X){var $=Y>=J*1.5;return Math.round(Z/J)+" "+X+($?"s":"")},RY=1000,wY=RY*60,MY=wY*60,fZ=MY*24,t61=fZ*7,o61=fZ*365.25;KD.exports=function(Z,Y){Y=Y||{};var J=typeof Z;if(J==="string"&&Z.length>0)return e61(Z);else if(J==="number"&&isFinite(Z))return Y.long?Y71(Z):Z71(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var sF=R((Cc1,zD)=>{var J71=function(Z){J.debug=J,J.default=J,J.coerce=K,J.disable=W,J.enable=$,J.enabled=G,J.humanize=HD(),J.destroy=H,Object.keys(Z).forEach((z)=>{J[z]=Z[z]}),J.names=[],J.skips=[],J.formatters={};function Y(z){let F=0;for(let U=0;U<z.length;U++)F=(F<<5)-F+z.charCodeAt(U),F|=0;return J.colors[Math.abs(F)%J.colors.length]}J.selectColor=Y;function J(z){let F,U=null,q,V;function L(...w){if(!L.enabled)return;const B=L,A=Number(new Date),M=A-(F||A);if(B.diff=M,B.prev=F,B.curr=A,F=A,w[0]=J.coerce(w[0]),typeof w[0]!=="string")w.unshift("%O");let I=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(j,E)=>{if(j==="%%")return"%";I++;const D=J.formatters[E];if(typeof D==="function"){const l=w[I];j=D.call(B,l),w.splice(I,1),I--}return j}),J.formatArgs.call(B,w),(B.log||J.log).apply(B,w)}if(L.namespace=z,L.useColors=J.useColors(),L.color=J.selectColor(z),L.extend=X,L.destroy=J.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(U!==null)return U;if(q!==J.namespaces)q=J.namespaces,V=J.enabled(z);return V},set:(w)=>{U=w}}),typeof J.init==="function")J.init(L);return L}function X(z,F){const U=J(this.namespace+(typeof F==="undefined"?":":F)+z);return U.log=this.log,U}function $(z){J.save(z),J.namespaces=z,J.names=[],J.skips=[];let F;const U=(typeof z==="string"?z:"").split(/[\s,]+/),q=U.length;for(F=0;F<q;F++){if(!U[F])continue;if(z=U[F].replace(/\*/g,".*?"),z[0]==="-")J.skips.push(new RegExp("^"+z.slice(1)+"$"));else J.names.push(new RegExp("^"+z+"$"))}}function W(){const z=[...J.names.map(Q),...J.skips.map(Q).map((F)=>"-"+F)].join(",");return J.enable(""),z}function G(z){if(z[z.length-1]==="*")return!0;let F,U;for(F=0,U=J.skips.length;F<U;F++)if(J.skips[F].test(z))return!1;for(F=0,U=J.names.length;F<U;F++)if(J.names[F].test(z))return!0;return!1}function Q(z){return z.toString().substring(2,z.toString().length-2).replace(/\.\*\?$/,"*")}function K(z){if(z instanceof Error)return z.stack||z.message;return z}function H(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return J.enable(J.load()),J};zD.exports=J71});var UD=R((FD,KG)=>{var X71=function(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},$71=function(Z){if(Z[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Z[0]+(this.useColors?"%c ":" ")+"+"+FD.humanize(this.diff),!this.useColors)return;const Y="color: "+this.color;Z.splice(1,0,Y,"color: inherit");let J=0,X=0;Z[0].replace(/%[a-zA-Z%]/g,($)=>{if($==="%%")return;if(J++,$==="%c")X=J}),Z.splice(X,0,Y)},W71=function(Z){try{if(Z)FD.storage.setItem("debug",Z);else FD.storage.removeItem("debug")}catch(Y){}},G71=function(){let Z;try{Z=FD.storage.getItem("debug")}catch(Y){}if(!Z&&typeof process!=="undefined"&&("env"in process))Z=process.env.DEBUG;return Z},Q71=function(){try{return localStorage}catch(Z){}};FD.formatArgs=$71;FD.save=W71;FD.load=G71;FD.useColors=X71;FD.storage=Q71();FD.destroy=(()=>{let Z=!1;return()=>{if(!Z)Z=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();FD.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];FD.log=console.debug||console.log||(()=>{});KG.exports=sF()(FD);var{formatters:K71}=KG.exports;K71.j=function(Z){try{return JSON.stringify(Z)}catch(Y){return"[UnexpectedJSONParseError]: "+Y.message}}});var RD=R((VD,zG)=>{var w71=function(){return"colors"in VD.inspectOpts?Boolean(VD.inspectOpts.colors):R71.isatty(process.stderr.fd)},M71=function(Z){const{namespace:Y,useColors:J}=this;if(J){const X=this.color,$="\x1B[3"+(X<8?X:"8;5;"+X),W=`  ${$};1m${Y} \x1B[0m`;Z[0]=W+Z[0].split("\n").join("\n"+W),Z.push($+"m+"+VD.humanize(this.diff)+"\x1B[0m")}else Z[0]=B71()+Y+" "+Z[0]},B71=function(){if(VD.inspectOpts.hideDate)return"";return(new Date()).toISOString()+" "},A71=function(...Z){return process.stderr.write(HG.format(...Z)+"\n")},N71=function(Z){if(Z)process.env.DEBUG=Z;else delete process.env.DEBUG},I71=function(){return process.env.DEBUG},D71=function(Z){Z.inspectOpts={};const Y=Object.keys(VD.inspectOpts);for(let J=0;J<Y.length;J++)Z.inspectOpts[Y[J]]=VD.inspectOpts[Y[J]]},R71=import.meta.require("tty"),HG=import.meta.require("util");VD.init=D71;VD.log=A71;VD.formatArgs=M71;VD.save=N71;VD.load=I71;VD.useColors=w71;VD.destroy=HG.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");VD.colors=[6,2,3,4,5,1];try{const Z=(()=>{ throw new Error(`Cannot require module "supports-color"`);})();if(Z&&(Z.stderr||Z).level>=2)VD.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(Z){}VD.inspectOpts=Object.keys(process.env).filter((Z)=>{return/^debug_/i.test(Z)}).reduce((Z,Y)=>{const J=Y.substring(6).toLowerCase().replace(/_([a-z])/g,($,W)=>{return W.toUpperCase()});let X=process.env[Y];if(/^(yes|on|true|enabled)$/i.test(X))X=!0;else if(/^(no|off|false|disabled)$/i.test(X))X=!1;else if(X==="null")X=null;else X=Number(X);return Z[J]=X,Z},{});zG.exports=sF()(VD);var{formatters:qD}=zG.exports;qD.o=function(Z){return this.inspectOpts.colors=this.useColors,HG.inspect(Z,this.inspectOpts).split("\n").map((Y)=>Y.trim()).join(" ")};qD.O=function(Z){return this.inspectOpts.colors=this.useColors,HG.inspect(Z,this.inspectOpts)}});var hX=R((Oc1,rF)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)rF.exports=UD();else rF.exports=RD()});var MD=R((wD)=>{var k71=function(Z){return function(Y,J){return new Promise((X,$)=>{Z.call(this,Y,J,(W,G)=>{if(W)$(W);else X(G)})})}};Object.defineProperty(wD,"__esModule",{value:!0});wD.default=k71});var ND=R((oF,AD)=>{var g71=function(Z){return Boolean(Z)&&typeof Z.addRequest==="function"},tF=function(){const{stack:Z}=new Error;if(typeof Z!=="string")return!1;return Z.split("\n").some((Y)=>Y.indexOf("(https.js:")!==-1||Y.indexOf("node:https:")!==-1)},FG=function(Z,Y){return new FG.Agent(Z,Y)},BD=oF&&oF.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}},x71=import.meta.require("events"),f71=BD(hX()),y71=BD(MD()),mX=f71.default("agent-base");(function(Z){class Y extends x71.EventEmitter{constructor(J,X){super();let $=X;if(typeof J==="function")this.callback=J;else if(J)$=J;if(this.timeout=null,$&&typeof $.timeout==="number")this.timeout=$.timeout;this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=Infinity,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){if(typeof this.explicitDefaultPort==="number")return this.explicitDefaultPort;return tF()?443:80}set defaultPort(J){this.explicitDefaultPort=J}get protocol(){if(typeof this.explicitProtocol==="string")return this.explicitProtocol;return tF()?"https:":"http:"}set protocol(J){this.explicitProtocol=J}callback(J,X,$){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(J,X){const $=Object.assign({},X);if(typeof $.secureEndpoint!=="boolean")$.secureEndpoint=tF();if($.host==null)$.host="localhost";if($.port==null)$.port=$.secureEndpoint?443:80;if($.protocol==null)$.protocol=$.secureEndpoint?"https:":"http:";if($.host&&$.path)delete $.path;delete $.agent,delete $.hostname,delete $._defaultAgent,delete $.defaultPort,delete $.createConnection,J._last=!0,J.shouldKeepAlive=!1;let W=!1,G=null;const Q=$.timeout||this.timeout,K=(U)=>{if(J._hadError)return;J.emit("error",U),J._hadError=!0},H=()=>{G=null,W=!0;const U=new Error(`A "socket" was not created for HTTP request before ${Q}ms`);U.code="ETIMEOUT",K(U)},z=(U)=>{if(W)return;if(G!==null)clearTimeout(G),G=null;K(U)},F=(U)=>{if(W)return;if(G!=null)clearTimeout(G),G=null;if(g71(U)){mX("Callback returned another Agent instance %o",U.constructor.name),U.addRequest(J,$);return}if(U){U.once("free",()=>{this.freeSocket(U,$)}),J.onSocket(U);return}const q=new Error(`no Duplex stream was returned to agent-base for \`${J.method} ${J.path}\``);K(q)};if(typeof this.callback!=="function"){K(new Error("`callback` is not defined"));return}if(!this.promisifiedCallback)if(this.callback.length>=3)mX("Converting legacy callback function to promise"),this.promisifiedCallback=y71.default(this.callback);else this.promisifiedCallback=this.callback;if(typeof Q==="number"&&Q>0)G=setTimeout(H,Q);if(("port"in $)&&typeof $.port!=="number")$.port=Number($.port);try{mX("Resolving socket for %o request: %o",$.protocol,`${J.method} ${J.path}`),Promise.resolve(this.promisifiedCallback(J,$)).then(F,z)}catch(U){Promise.reject(U).catch(z)}}freeSocket(J,X){mX("Freeing socket %o %o",J.constructor.name,X),J.destroy()}destroy(){mX("Destroying agent %o",this.constructor.name)}}Z.Agent=Y,Z.prototype=Z.Agent.prototype})(FG||(FG={}));AD.exports=FG});var ID=R((dX)=>{var h71=function(Z){return new Promise((Y,J)=>{let X=0;const $=[];function W(){const F=Z.read();if(F)z(F);else Z.once("readable",W)}function G(){Z.removeListener("end",K),Z.removeListener("error",H),Z.removeListener("close",Q),Z.removeListener("readable",W)}function Q(F){uX("onclose had error %o",F)}function K(){uX("onend")}function H(F){G(),uX("onerror %o",F),J(F)}function z(F){$.push(F),X+=F.length;const U=Buffer.concat($,X);if(U.indexOf("\r\n\r\n")===-1){uX("have not received end of HTTP headers yet..."),W();return}const V=U.toString("ascii",0,U.indexOf("\r\n")),L=+V.split(" ")[1];uX("got proxy server response: %o",V),Y({statusCode:L,buffered:U})}Z.on("error",H),Z.on("close",Q),Z.on("end",K),W()})},b71=dX&&dX.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(dX,"__esModule",{value:!0});var v71=b71(hX()),uX=v71.default("https-proxy-agent:parse-proxy-response");dX.default=h71});var CD=R((yZ)=>{var i71=function(Z){Z.resume()},n71=function(Z,Y){return Boolean(!Y&&Z===80||Y&&Z===443)},a71=function(Z){return typeof Z==="string"?/^https:?$/i.test(Z):!1},s71=function(Z,...Y){const J={};let X;for(X in Z)if(!Y.includes(X))J[X]=Z[X];return J},m71=yZ&&yZ.__awaiter||function(Z,Y,J,X){function $(W){return W instanceof J?W:new J(function(G){G(W)})}return new(J||(J=Promise))(function(W,G){function Q(z){try{H(X.next(z))}catch(F){G(F)}}function K(z){try{H(X.throw(z))}catch(F){G(F)}}function H(z){z.done?W(z.value):$(z.value).then(Q,K)}H((X=X.apply(Z,Y||[])).next())})},AY=yZ&&yZ.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(yZ,"__esModule",{value:!0});var DD=AY(import.meta.require("net")),PD=AY(import.meta.require("tls")),u71=AY(import.meta.require("url")),d71=AY(import.meta.require("assert")),c71=AY(hX()),p71=ND(),l71=AY(ID()),cX=c71.default("https-proxy-agent:agent");class TD extends p71.Agent{constructor(Z){let Y;if(typeof Z==="string")Y=u71.default.parse(Z);else Y=Z;if(!Y)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");cX("creating new HttpsProxyAgent instance: %o",Y);super(Y);const J=Object.assign({},Y);if(this.secureProxy=Y.secureProxy||a71(J.protocol),J.host=J.hostname||J.host,typeof J.port==="string")J.port=parseInt(J.port,10);if(!J.port&&J.host)J.port=this.secureProxy?443:80;if(this.secureProxy&&!("ALPNProtocols"in J))J.ALPNProtocols=["http 1.1"];if(J.host&&J.path)delete J.path,delete J.pathname;this.proxy=J}callback(Z,Y){return m71(this,void 0,void 0,function*(){const{proxy:J,secureProxy:X}=this;let $;if(X)cX("Creating `tls.Socket`: %o",J),$=PD.default.connect(J);else cX("Creating `net.Socket`: %o",J),$=DD.default.connect(J);const W=Object.assign({},J.headers);let Q=`CONNECT ${`${Y.host}:${Y.port}`} HTTP/1.1\r\n`;if(J.auth)W["Proxy-Authorization"]=`Basic ${Buffer.from(J.auth).toString("base64")}`;let{host:K,port:H,secureEndpoint:z}=Y;if(!n71(H,z))K+=`:${H}`;W.Host=K,W.Connection="close";for(let L of Object.keys(W))Q+=`${L}: ${W[L]}\r\n`;const F=l71.default($);$.write(`${Q}\r\n`);const{statusCode:U,buffered:q}=yield F;if(U===200){if(Z.once("socket",i71),Y.secureEndpoint){cX("Upgrading socket connection to TLS");const L=Y.servername||Y.host;return PD.default.connect(Object.assign(Object.assign({},s71(Y,"host","hostname","path","port")),{socket:$,servername:L}))}return $}$.destroy();const V=new DD.default.Socket({writable:!1});return V.readable=!0,Z.once("socket",(L)=>{cX("replaying proxy buffer for failed request"),d71.default(L.listenerCount("data")>0),L.push(q),L.push(null)}),V})}}yZ.default=TD});var jD=R((YU,ED)=>{var ZU=function(Z){return new eF.default(Z)},r71=YU&&YU.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}},eF=r71(CD());(function(Z){Z.HttpsProxyAgent=eF.default,Z.prototype=eF.default.prototype})(ZU||(ZU={}));ED.exports=ZU});var LG=R((J51,UU)=>{/*!
 * ignore
 */var GP=null;J51.get=function(){return GP};J51.set=function(Z){GP=Z}});var p6=R((ZZ1)=>{var yU=function(Z){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(Z))},mZ=function(Z){return Object.prototype.toString.call(Z)==="[object Uint8Array]"},IY=function(Z){return Object.prototype.toString.call(Z)==="[object RegExp]"},gU=function(Z){return Object.prototype.toString.call(Z)==="[object Map]"},DY=function(Z){return Object.prototype.toString.call(Z)==="[object Date]"},A6=function(Z,Y){return JSON.stringify(Z,(J,X)=>{if(typeof X==="bigint")return{$numberLong:`${X}`};else if(gU(X))return Object.fromEntries(X);return X})},W51=function(Z){if(Z!=null&&typeof Z==="object"&&("stylize"in Z)&&typeof Z.stylize==="function")return Z.stylize},H51=function(Z){return P5.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},F51=function(){const{navigator:Z}=globalThis;return typeof Z==="object"&&Z.product==="ReactNative"},U51=function(Z){if(Z<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${Z}`);return CY.fromNumberArray(Array.from({length:Z},()=>Math.floor(Math.random()*256)))},bP=function(Z){return Z!=null&&typeof Z==="object"&&("$id"in Z)&&Z.$id!=null&&("$ref"in Z)&&typeof Z.$ref==="string"&&(!("$db"in Z)||("$db"in Z)&&typeof Z.$db==="string")},wP=function(Z){return!isNaN(parseInt(Z,10))},E51=function(Z){const Y=T.fromNumber(1e9);let J=T.fromNumber(0);if(!Z.parts[0]&&!Z.parts[1]&&!Z.parts[2]&&!Z.parts[3])return{quotient:Z,rem:J};for(let X=0;X<=3;X++)J=J.shiftLeft(32),J=J.add(new T(Z.parts[X],0)),Z.parts[X]=J.div(Y).low,J=J.modulo(Y);return{quotient:Z,rem:J}},j51=function(Z,Y){if(!Z&&!Y)return{high:T.fromNumber(0),low:T.fromNumber(0)};const J=Z.shiftRightUnsigned(32),X=new T(Z.getLowBits(),0),$=Y.shiftRightUnsigned(32),W=new T(Y.getLowBits(),0);let G=J.multiply($),Q=J.multiply(W);const K=X.multiply($);let H=X.multiply(W);return G=G.add(Q.shiftRightUnsigned(32)),Q=new T(Q.getLowBits(),0).add(K).add(H.shiftRightUnsigned(32)),G=G.add(Q.shiftRightUnsigned(32)),H=Q.shiftLeft(32).add(new T(H.getLowBits(),0)),{high:G,low:H}},O51=function(Z,Y){const J=Z.high>>>0,X=Y.high>>>0;if(J<X)return!0;else if(J===X){const $=Z.low>>>0,W=Y.low>>>0;if($<W)return!0}return!1},M7=function(Z,Y){throw new c(`"${Z}" is not a valid Decimal128 string - ${Y}`)},wG=function(Z,Y,J){let X=5;if(Array.isArray(Z))for(let $=0;$<Z.length;$++)X+=MP($.toString(),Z[$],Y,!0,J);else{if(typeof Z?.toBSON==="function")Z=Z.toBSON();for(let $ of Object.keys(Z))X+=MP($,Z[$],Y,!1,J)}return X},MP=function(Z,Y,J=!1,X=!1,$=!1){if(typeof Y?.toBSON==="function")Y=Y.toBSON();switch(typeof Y){case"string":return 1+y.utf8ByteLength(Z)+1+4+y.utf8ByteLength(Y)+1;case"number":if(Math.floor(Y)===Y&&Y>=PP&&Y<=DP)if(Y>=TG&&Y<=PG)return(Z!=null?y.utf8ByteLength(Z)+1:0)+5;else return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;else return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;case"undefined":if(X||!$)return(Z!=null?y.utf8ByteLength(Z)+1:0)+1;return 0;case"boolean":return(Z!=null?y.utf8ByteLength(Z)+1:0)+2;case"object":if(Y!=null&&typeof Y._bsontype==="string"&&Y[Symbol.for("@@mdb.bson.version")]!==uZ)throw new C5;else if(Y==null||Y._bsontype==="MinKey"||Y._bsontype==="MaxKey")return(Z!=null?y.utf8ByteLength(Z)+1:0)+1;else if(Y._bsontype==="ObjectId")return(Z!=null?y.utf8ByteLength(Z)+1:0)+13;else if(Y instanceof Date||DY(Y))return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;else if(ArrayBuffer.isView(Y)||Y instanceof ArrayBuffer||yU(Y))return(Z!=null?y.utf8ByteLength(Z)+1:0)+6+Y.byteLength;else if(Y._bsontype==="Long"||Y._bsontype==="Double"||Y._bsontype==="Timestamp")return(Z!=null?y.utf8ByteLength(Z)+1:0)+9;else if(Y._bsontype==="Decimal128")return(Z!=null?y.utf8ByteLength(Z)+1:0)+17;else if(Y._bsontype==="Code")if(Y.scope!=null&&Object.keys(Y.scope).length>0)return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+4+4+y.utf8ByteLength(Y.code.toString())+1+wG(Y.scope,J,$);else return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+4+y.utf8ByteLength(Y.code.toString())+1;else if(Y._bsontype==="Binary"){const W=Y;if(W.sub_type===x1.SUBTYPE_BYTE_ARRAY)return(Z!=null?y.utf8ByteLength(Z)+1:0)+(W.position+1+4+1+4);else return(Z!=null?y.utf8ByteLength(Z)+1:0)+(W.position+1+4+1)}else if(Y._bsontype==="Symbol")return(Z!=null?y.utf8ByteLength(Z)+1:0)+y.utf8ByteLength(Y.value)+4+1+1;else if(Y._bsontype==="DBRef"){const W=Object.assign({$ref:Y.collection,$id:Y.oid},Y.fields);if(Y.db!=null)W.$db=Y.db;return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+wG(W,J,$)}else if(Y instanceof RegExp||IY(Y))return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+y.utf8ByteLength(Y.source)+1+(Y.global?1:0)+(Y.ignoreCase?1:0)+(Y.multiline?1:0)+1;else if(Y._bsontype==="BSONRegExp")return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+y.utf8ByteLength(Y.pattern)+1+y.utf8ByteLength(Y.options)+1;else return(Z!=null?y.utf8ByteLength(Z)+1:0)+wG(Y,J,$)+1;case"function":if(J)return(Z!=null?y.utf8ByteLength(Z)+1:0)+1+4+y.utf8ByteLength(Y.toString())+1}return 0},k51=function(Z){return Z.split("").sort().join("")},hP=function(Z,Y,J){let X=0;for(let $=Y;$<J;$+=1){const W=Z[$];if(X){if((W&f51)!==u51)return!1;X-=1}else if(W&x51)if((W&y51)===v51)X=1;else if((W&g51)===h51)X=2;else if((W&b51)===m51)X=3;else return!1}return!X},mP=function(Z,Y,J){Y=Y==null?{}:Y;const X=Y&&Y.index?Y.index:0,$=Z[X]|Z[X+1]<<8|Z[X+2]<<16|Z[X+3]<<24;if($<5)throw new c(`bson size must be >= 5, is ${$}`);if(Y.allowObjectSmallerThanBufferSize&&Z.length<$)throw new c(`buffer length ${Z.length} must be >= bson size ${$}`);if(!Y.allowObjectSmallerThanBufferSize&&Z.length!==$)throw new c(`buffer length ${Z.length} must === bson size ${$}`);if($+X>Z.byteLength)throw new c(`(bson size ${$} + options.index ${X} must be <= buffer length ${Z.byteLength})`);if(Z[X+$-1]!==0)throw new c("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return MG(Z,X,Y,J)},MG=function(Z,Y,J,X=!1){const $=J.fieldsAsRaw==null?null:J.fieldsAsRaw,W=J.raw==null?!1:J.raw,G=typeof J.bsonRegExp==="boolean"?J.bsonRegExp:!1,Q=J.promoteBuffers??!1,K=J.promoteLongs??!0,H=J.promoteValues??!0,z=J.useBigInt64??!1;if(z&&!H)throw new c("Must either request bigint or Long for int64 deserialization");if(z&&!K)throw new c("Must either request bigint or Long for int64 deserialization");const F=J.validation==null?{utf8:!0}:J.validation;let U=!0,q;const V=new Set,L=F.utf8;if(typeof L==="boolean")q=L;else{U=!1;const E=Object.keys(L).map(function(D){return L[D]});if(E.length===0)throw new c("UTF-8 validation setting cannot be empty");if(typeof E[0]!=="boolean")throw new c("Invalid UTF-8 validation option, must specify boolean values");if(q=E[0],!E.every((D)=>D===q))throw new c("Invalid UTF-8 validation option - keys must be all true or all false")}if(!U)for(let E of Object.keys(L))V.add(E);const w=Y;if(Z.length<5)throw new c("corrupt bson message < 5 bytes long");const B=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(B<5||B>Z.length)throw new c("corrupt bson message");const A=X?[]:{};let M=0;const I=!1;let x=X?!1:null;const j=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);while(!I){const E=Z[Y++];if(E===0)break;let D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.byteLength)throw new c("Bad BSON Document: illegal CString");const l=X?M++:y.toUTF8(Z,Y,D);let b=!0;if(U||V.has(l))b=q;else b=!q;if(x!==!1&&l[0]==="$")x=p51.test(l);let _;if(Y=D+1,E===TP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");_=RG(Z,Y,Y+O-1,b),Y=Y+O}else if(E===EP){const O=y.allocate(12);O.set(Z.subarray(Y,Y+12)),_=new B0(O),Y=Y+12}else if(E===TY&&H===!1)_=new j5(Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24);else if(E===TY)_=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;else if(E===BG&&H===!1)_=new E5(j.getFloat64(Y,!0)),Y=Y+8;else if(E===BG)_=j.getFloat64(Y,!0),Y=Y+8;else if(E===OP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,k=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;_=new Date(new T(O,k).toNumber())}else if(E===jP){if(Z[Y]!==0&&Z[Y]!==1)throw new c("illegal boolean type value");_=Z[Y++]===1}else if(E===bU){const O=Y,k=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24;if(k<=0||k>Z.length-Y)throw new c("bad embedded document length in bson");if(W)_=Z.slice(Y,Y+k);else{let i=J;if(!U)i={...J,validation:{utf8:b}};_=MG(Z,O,i,!1)}Y=Y+k}else if(E===CP){const O=Y,k=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24;let i=J;const T1=Y+k;if($&&$[l])i={...J,raw:!0};if(!U)i={...i,validation:{utf8:b}};if(_=MG(Z,O,i,!0),Y=Y+k,Z[Y-1]!==0)throw new c("invalid array terminator byte");if(Y!==T1)throw new c("corrupted array bson")}else if(E===G51)_=void 0;else if(E===hU)_=null;else if(E===uU){const O=aX.fromUint8Array(Z.subarray(Y,Y+8)),k=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,i=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,T1=new T(k,i);if(z)_=O.getBigInt64(0,!0);else if(K&&H===!0)_=T1.lessThanOrEqual(d51)&&T1.greaterThanOrEqual(c51)?T1.toNumber():T1;else _=T1}else if(E===xP){const O=y.allocate(16);O.set(Z.subarray(Y,Y+16),0),Y=Y+16,_=new w8(O)}else if(E===vU){let O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;const k=O,i=Z[Y++];if(O<0)throw new c("Negative binary type element size found");if(O>Z.byteLength)throw new c("Binary type size larger than document size");if(Z.slice!=null){if(i===x1.SUBTYPE_BYTE_ARRAY){if(O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,O<0)throw new c("Negative binary type element size found for subtype 0x02");if(O>k-4)throw new c("Binary type with subtype 0x02 contains too long binary size");if(O<k-4)throw new c("Binary type with subtype 0x02 contains too short binary size")}if(Q&&H)_=y.toLocalBufferType(Z.slice(Y,Y+O));else if(_=new x1(Z.slice(Y,Y+O),i),i===NG&&a0.isValid(_))_=_.toUUID()}else{const T1=y.allocate(O);if(i===x1.SUBTYPE_BYTE_ARRAY){if(O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24,O<0)throw new c("Negative binary type element size found for subtype 0x02");if(O>k-4)throw new c("Binary type with subtype 0x02 contains too long binary size");if(O<k-4)throw new c("Binary type with subtype 0x02 contains too short binary size")}for(D=0;D<O;D++)T1[D]=Z[Y+D];if(Q&&H)_=T1;else if(_=new x1(Z.slice(Y,Y+O),i),i===NG&&a0.isValid(_))_=_.toUUID()}Y=Y+O}else if(E===AG&&G===!1){D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const O=y.toUTF8(Z,Y,D);Y=D+1,D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const k=y.toUTF8(Z,Y,D);Y=D+1;const i=new Array(k.length);for(D=0;D<k.length;D++)switch(k[D]){case"m":i[D]="m";break;case"s":i[D]="g";break;case"i":i[D]="i";break}_=new RegExp(O,i.join(""))}else if(E===AG&&G===!0){D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const O=y.toUTF8(Z,Y,D);Y=D+1,D=Y;while(Z[D]!==0&&D<Z.length)D++;if(D>=Z.length)throw new c("Bad BSON Document: illegal CString");const k=y.toUTF8(Z,Y,D);Y=D+1,_=new c6(O,k)}else if(E===SP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");const k=RG(Z,Y,Y+O-1,b);_=H?k:new pZ(k),Y=Y+O}else if(E===_P){const O=Z[Y++]+Z[Y++]*(1<<8)+Z[Y++]*(1<<16)+Z[Y++]*(1<<24),k=Z[Y++]+Z[Y++]*(1<<8)+Z[Y++]*(1<<16)+Z[Y++]*(1<<24);_=new d6({i:O,t:k})}else if(E===fP)_=new cZ;else if(E===yP)_=new dZ;else if(E===mU){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");const k=RG(Z,Y,Y+O-1,b);_=new _4(k),Y=Y+O}else if(E===kP){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<13)throw new c("code_w_scope total size shorter minimum expected length");const k=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(k<=0||k>Z.length-Y||Z[Y+k-1]!==0)throw new c("bad string length in bson");const i=RG(Z,Y,Y+k-1,b);Y=Y+k;const T1=Y,g=Z[Y]|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24,s=MG(Z,T1,J,!1);if(Y=Y+g,O<8+g+k)throw new c("code_w_scope total size is too short, truncating scope");if(O>8+g+k)throw new c("code_w_scope total size is too long, clips outer document");_=new _4(i,s)}else if(E===Q51){const O=Z[Y++]|Z[Y++]<<8|Z[Y++]<<16|Z[Y++]<<24;if(O<=0||O>Z.length-Y||Z[Y+O-1]!==0)throw new c("bad string length in bson");if(F!=null&&F.utf8){if(!hP(Z,Y,Y+O-1))throw new c("Invalid UTF-8 string in BSON document")}const k=y.toUTF8(Z,Y,Y+O-1);Y=Y+O;const i=y.allocate(12);i.set(Z.subarray(Y,Y+12),0);const T1=new B0(i);Y=Y+12,_=new J4(k,T1)}else throw new c(`Detected unknown BSON type ${E.toString(16)} for fieldname "${l}"`);if(l==="__proto__")Object.defineProperty(A,l,{value:_,writable:!0,enumerable:!0,configurable:!0});else A[l]=_}if(B!==Y-w){if(X)throw new c("corrupt array bson");throw new c("corrupt object bson")}if(!x)return A;if(bP(A)){const E=Object.assign({},A);return delete E.$ref,delete E.$id,delete E.$db,new J4(A.$ref,A.$id,A.$db,E)}return A},RG=function(Z,Y,J,X){const $=y.toUTF8(Z,Y,J);if(X){for(let W=0;W<$.length;W++)if($.charCodeAt(W)===65533){if(!hP(Z,Y,J))throw new c("Invalid UTF-8 string in BSON document");break}}return $},LU=function(Z,Y,J,X){Z[X++]=TP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$+1,Z[X-1]=0;const W=y.encodeUTF8Into(Z,J,X+4);return Z[X+3]=W+1>>24&255,Z[X+2]=W+1>>16&255,Z[X+1]=W+1>>8&255,Z[X]=W+1&255,X=X+4+W,Z[X++]=0,X},RU=function(Z,Y,J,X){const W=!Object.is(J,-0)&&Number.isSafeInteger(J)&&J<=PG&&J>=TG?TY:BG;if(W===TY)EY.setInt32(0,J,!0);else EY.setFloat64(0,J,!0);const G=W===TY?l51:DG;Z[X++]=W;const Q=y.encodeUTF8Into(Z,Y,X);return X=X+Q,Z[X++]=0,Z.set(G,X),X+=G.byteLength,X},wU=function(Z,Y,J,X){Z[X++]=uU;const $=y.encodeUTF8Into(Z,Y,X);return X+=$,Z[X++]=0,EY.setBigInt64(0,J,!0),Z.set(DG,X),X+=DG.byteLength,X},nX=function(Z,Y,J,X){Z[X++]=hU;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,X},MU=function(Z,Y,J,X){Z[X++]=jP;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z[X++]=J?1:0,X},BU=function(Z,Y,J,X){Z[X++]=OP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=T.fromNumber(J.getTime()),G=W.getLowBits(),Q=W.getHighBits();return Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,Z[X++]=Q&255,Z[X++]=Q>>8&255,Z[X++]=Q>>16&255,Z[X++]=Q>>24&255,X},AU=function(Z,Y,J,X){Z[X++]=AG;const $=y.encodeUTF8Into(Z,Y,X);if(X=X+$,Z[X++]=0,J.source&&J.source.match(IG)!=null)throw new c("value "+J.source+" must not contain null bytes");if(X=X+y.encodeUTF8Into(Z,J.source,X),Z[X++]=0,J.ignoreCase)Z[X++]=105;if(J.global)Z[X++]=115;if(J.multiline)Z[X++]=109;return Z[X++]=0,X},NU=function(Z,Y,J,X){Z[X++]=AG;const $=y.encodeUTF8Into(Z,Y,X);if(X=X+$,Z[X++]=0,J.pattern.match(IG)!=null)throw new c("pattern "+J.pattern+" must not contain null bytes");X=X+y.encodeUTF8Into(Z,J.pattern,X),Z[X++]=0;const W=J.options.split("").sort().join("");return X=X+y.encodeUTF8Into(Z,W,X),Z[X++]=0,X},IU=function(Z,Y,J,X){if(J===null)Z[X++]=hU;else if(J._bsontype==="MinKey")Z[X++]=fP;else Z[X++]=yP;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,X},DU=function(Z,Y,J,X){Z[X++]=EP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.id;if(mZ(W))for(let G=0;G<12;G++)Z[X++]=W[G];else throw new c("object ["+JSON.stringify(J)+"] is not a valid ObjectId");return X},PU=function(Z,Y,J,X){Z[X++]=vU;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.length;return Z[X++]=W&255,Z[X++]=W>>8&255,Z[X++]=W>>16&255,Z[X++]=W>>24&255,Z[X++]=K51,Z.set(J,X),X=X+W,X},TU=function(Z,Y,J,X,$,W,G,Q,K){if(K.has(J))throw new c("Cannot convert circular structure to BSON");K.add(J),Z[X++]=Array.isArray(J)?CP:bU;const H=y.encodeUTF8Into(Z,Y,X);X=X+H,Z[X++]=0;const z=rX(Z,J,$,X,W+1,G,Q,K);return K.delete(J),z},CU=function(Z,Y,J,X){Z[X++]=xP;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z.set(J.bytes.subarray(0,16),X),X+16},EU=function(Z,Y,J,X){Z[X++]=J._bsontype==="Long"?uU:_P;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.getLowBits(),G=J.getHighBits();return Z[X++]=W&255,Z[X++]=W>>8&255,Z[X++]=W>>16&255,Z[X++]=W>>24&255,Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,X},jU=function(Z,Y,J,X){J=J.valueOf(),Z[X++]=TY;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,Z[X++]=J&255,Z[X++]=J>>8&255,Z[X++]=J>>16&255,Z[X++]=J>>24&255,X},OU=function(Z,Y,J,X){Z[X++]=BG;const $=y.encodeUTF8Into(Z,Y,X);return X=X+$,Z[X++]=0,EY.setFloat64(0,J.value,!0),Z.set(DG,X),X=X+8,X},SU=function(Z,Y,J,X){Z[X++]=mU;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.toString(),G=y.encodeUTF8Into(Z,W,X+4)+1;return Z[X]=G&255,Z[X+1]=G>>8&255,Z[X+2]=G>>16&255,Z[X+3]=G>>24&255,X=X+4+G-1,Z[X++]=0,X},kU=function(Z,Y,J,X,$=!1,W=0,G=!1,Q=!0,K){if(J.scope&&typeof J.scope==="object"){Z[X++]=kP;const H=y.encodeUTF8Into(Z,Y,X);X=X+H,Z[X++]=0;let z=X;const F=J.code;X=X+4;const U=y.encodeUTF8Into(Z,F,X+4)+1;Z[X]=U&255,Z[X+1]=U>>8&255,Z[X+2]=U>>16&255,Z[X+3]=U>>24&255,Z[X+4+U-1]=0,X=X+U+4;const q=rX(Z,J.scope,$,X,W+1,G,Q,K);X=q-1;const V=q-z;Z[z++]=V&255,Z[z++]=V>>8&255,Z[z++]=V>>16&255,Z[z++]=V>>24&255,Z[X++]=0}else{Z[X++]=mU;const H=y.encodeUTF8Into(Z,Y,X);X=X+H,Z[X++]=0;const z=J.code.toString(),F=y.encodeUTF8Into(Z,z,X+4)+1;Z[X]=F&255,Z[X+1]=F>>8&255,Z[X+2]=F>>16&255,Z[X+3]=F>>24&255,X=X+4+F-1,Z[X++]=0}return X},_U=function(Z,Y,J,X){Z[X++]=vU;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=J.buffer;let G=J.position;if(J.sub_type===x1.SUBTYPE_BYTE_ARRAY)G=G+4;if(Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255,Z[X++]=J.sub_type,J.sub_type===x1.SUBTYPE_BYTE_ARRAY)G=G-4,Z[X++]=G&255,Z[X++]=G>>8&255,Z[X++]=G>>16&255,Z[X++]=G>>24&255;return Z.set(W,X),X=X+J.position,X},xU=function(Z,Y,J,X){Z[X++]=SP;const $=y.encodeUTF8Into(Z,Y,X);X=X+$,Z[X++]=0;const W=y.encodeUTF8Into(Z,J.value,X+4)+1;return Z[X]=W&255,Z[X+1]=W>>8&255,Z[X+2]=W>>16&255,Z[X+3]=W>>24&255,X=X+4+W-1,Z[X++]=0,X},fU=function(Z,Y,J,X,$,W,G){Z[X++]=bU;const Q=y.encodeUTF8Into(Z,Y,X);X=X+Q,Z[X++]=0;let K=X,H={$ref:J.collection||J.namespace,$id:J.oid};if(J.db!=null)H.$db=J.db;H=Object.assign(H,J.fields);const z=rX(Z,H,!1,X,$+1,W,!0,G),F=z-K;return Z[K++]=F&255,Z[K++]=F>>8&255,Z[K++]=F>>16&255,Z[K++]=F>>24&255,z},rX=function(Z,Y,J,X,$,W,G,Q){if(Q==null){if(Y==null)return Z[0]=5,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0,5;if(Array.isArray(Y))throw new c("serialize does not support an array as the root input");if(typeof Y!=="object")throw new c("serialize does not support non-object as the root input");else if(("_bsontype"in Y)&&typeof Y._bsontype==="string")throw new c("BSON types cannot be serialized as a document");else if(DY(Y)||IY(Y)||mZ(Y)||yU(Y))throw new c("date, regexp, typedarray, and arraybuffer cannot be BSON documents");Q=new Set}Q.add(Y);let K=X+4;if(Array.isArray(Y))for(let z=0;z<Y.length;z++){const F=`${z}`;let U=Y[z];if(typeof U?.toBSON==="function")U=U.toBSON();if(typeof U==="string")K=LU(Z,F,U,K);else if(typeof U==="number")K=RU(Z,F,U,K);else if(typeof U==="bigint")K=wU(Z,F,U,K);else if(typeof U==="boolean")K=MU(Z,F,U,K);else if(U instanceof Date||DY(U))K=BU(Z,F,U,K);else if(U===void 0)K=nX(Z,F,U,K);else if(U===null)K=nX(Z,F,U,K);else if(mZ(U))K=PU(Z,F,U,K);else if(U instanceof RegExp||IY(U))K=AU(Z,F,U,K);else if(typeof U==="object"&&U._bsontype==null)K=TU(Z,F,U,K,J,$,W,G,Q);else if(typeof U==="object"&&U[Symbol.for("@@mdb.bson.version")]!==uZ)throw new C5;else if(U._bsontype==="ObjectId")K=DU(Z,F,U,K);else if(U._bsontype==="Decimal128")K=CU(Z,F,U,K);else if(U._bsontype==="Long"||U._bsontype==="Timestamp")K=EU(Z,F,U,K);else if(U._bsontype==="Double")K=OU(Z,F,U,K);else if(typeof U==="function"&&W)K=SU(Z,F,U,K);else if(U._bsontype==="Code")K=kU(Z,F,U,K,J,$,W,G,Q);else if(U._bsontype==="Binary")K=_U(Z,F,U,K);else if(U._bsontype==="BSONSymbol")K=xU(Z,F,U,K);else if(U._bsontype==="DBRef")K=fU(Z,F,U,K,$,W,Q);else if(U._bsontype==="BSONRegExp")K=NU(Z,F,U,K);else if(U._bsontype==="Int32")K=jU(Z,F,U,K);else if(U._bsontype==="MinKey"||U._bsontype==="MaxKey")K=IU(Z,F,U,K);else if(typeof U._bsontype!=="undefined")throw new c(`Unrecognized or invalid _bsontype: ${String(U._bsontype)}`)}else if(Y instanceof Map||gU(Y)){const z=Y.entries();let F=!1;while(!F){const U=z.next();if(F=!!U.done,F)continue;const q=U.value[0];let V=U.value[1];if(typeof V?.toBSON==="function")V=V.toBSON();const L=typeof V;if(typeof q==="string"&&!BP.has(q)){if(q.match(IG)!=null)throw new c("key "+q+" must not contain null bytes");if(J){if(q[0]==="$")throw new c("key "+q+" must not start with '$'");else if(~q.indexOf("."))throw new c("key "+q+" must not contain '.'")}}if(L==="string")K=LU(Z,q,V,K);else if(L==="number")K=RU(Z,q,V,K);else if(L==="bigint")K=wU(Z,q,V,K);else if(L==="boolean")K=MU(Z,q,V,K);else if(V instanceof Date||DY(V))K=BU(Z,q,V,K);else if(V===null||V===void 0&&G===!1)K=nX(Z,q,V,K);else if(mZ(V))K=PU(Z,q,V,K);else if(V instanceof RegExp||IY(V))K=AU(Z,q,V,K);else if(L==="object"&&V._bsontype==null)K=TU(Z,q,V,K,J,$,W,G,Q);else if(typeof V==="object"&&V[Symbol.for("@@mdb.bson.version")]!==uZ)throw new C5;else if(V._bsontype==="ObjectId")K=DU(Z,q,V,K);else if(L==="object"&&V._bsontype==="Decimal128")K=CU(Z,q,V,K);else if(V._bsontype==="Long"||V._bsontype==="Timestamp")K=EU(Z,q,V,K);else if(V._bsontype==="Double")K=OU(Z,q,V,K);else if(V._bsontype==="Code")K=kU(Z,q,V,K,J,$,W,G,Q);else if(typeof V==="function"&&W)K=SU(Z,q,V,K);else if(V._bsontype==="Binary")K=_U(Z,q,V,K);else if(V._bsontype==="BSONSymbol")K=xU(Z,q,V,K);else if(V._bsontype==="DBRef")K=fU(Z,q,V,K,$,W,Q);else if(V._bsontype==="BSONRegExp")K=NU(Z,q,V,K);else if(V._bsontype==="Int32")K=jU(Z,q,V,K);else if(V._bsontype==="MinKey"||V._bsontype==="MaxKey")K=IU(Z,q,V,K);else if(typeof V._bsontype!=="undefined")throw new c(`Unrecognized or invalid _bsontype: ${String(V._bsontype)}`)}}else{if(typeof Y?.toBSON==="function"){if(Y=Y.toBSON(),Y!=null&&typeof Y!=="object")throw new c("toBSON function did not return an object")}for(let z of Object.keys(Y)){let F=Y[z];if(typeof F?.toBSON==="function")F=F.toBSON();const U=typeof F;if(typeof z==="string"&&!BP.has(z)){if(z.match(IG)!=null)throw new c("key "+z+" must not contain null bytes");if(J){if(z[0]==="$")throw new c("key "+z+" must not start with '$'");else if(~z.indexOf("."))throw new c("key "+z+" must not contain '.'")}}if(U==="string")K=LU(Z,z,F,K);else if(U==="number")K=RU(Z,z,F,K);else if(U==="bigint")K=wU(Z,z,F,K);else if(U==="boolean")K=MU(Z,z,F,K);else if(F instanceof Date||DY(F))K=BU(Z,z,F,K);else if(F===void 0){if(G===!1)K=nX(Z,z,F,K)}else if(F===null)K=nX(Z,z,F,K);else if(mZ(F))K=PU(Z,z,F,K);else if(F instanceof RegExp||IY(F))K=AU(Z,z,F,K);else if(U==="object"&&F._bsontype==null)K=TU(Z,z,F,K,J,$,W,G,Q);else if(typeof F==="object"&&F[Symbol.for("@@mdb.bson.version")]!==uZ)throw new C5;else if(F._bsontype==="ObjectId")K=DU(Z,z,F,K);else if(U==="object"&&F._bsontype==="Decimal128")K=CU(Z,z,F,K);else if(F._bsontype==="Long"||F._bsontype==="Timestamp")K=EU(Z,z,F,K);else if(F._bsontype==="Double")K=OU(Z,z,F,K);else if(F._bsontype==="Code")K=kU(Z,z,F,K,J,$,W,G,Q);else if(typeof F==="function"&&W)K=SU(Z,z,F,K);else if(F._bsontype==="Binary")K=_U(Z,z,F,K);else if(F._bsontype==="BSONSymbol")K=xU(Z,z,F,K);else if(F._bsontype==="DBRef")K=fU(Z,z,F,K,$,W,Q);else if(F._bsontype==="BSONRegExp")K=NU(Z,z,F,K);else if(F._bsontype==="Int32")K=jU(Z,z,F,K);else if(F._bsontype==="MinKey"||F._bsontype==="MaxKey")K=IU(Z,z,F,K);else if(typeof F._bsontype!=="undefined")throw new c(`Unrecognized or invalid _bsontype: ${String(F._bsontype)}`)}}Q.delete(Y),Z[K++]=0;const H=K-X;return Z[X++]=H&255,Z[X++]=H>>8&255,Z[X++]=H>>16&255,Z[X++]=H>>24&255,K},i51=function(Z){return Z!=null&&typeof Z==="object"&&("_bsontype"in Z)&&typeof Z._bsontype==="string"},uP=function(Z,Y={}){if(typeof Z==="number"){const X=Z<=PG&&Z>=TG,$=Z<=NP&&Z>=IP;if(Y.relaxed||Y.legacy)return Z;if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(X)return new j5(Z);if($){if(Y.useBigInt64)return BigInt(Z);return T.fromNumber(Z)}}return new E5(Z)}if(Z==null||typeof Z!=="object")return Z;if(Z.$undefined)return null;const J=Object.keys(Z).filter((X)=>X.startsWith("$")&&Z[X]!=null);for(let X=0;X<J.length;X++){const $=n51[J[X]];if($)return $.fromExtendedJSON(Z,Y)}if(Z.$date!=null){const X=Z.$date,$=new Date;if(Y.legacy)if(typeof X==="number")$.setTime(X);else if(typeof X==="string")$.setTime(Date.parse(X));else if(typeof X==="bigint")$.setTime(Number(X));else throw new sX(`Unrecognized type for EJSON date: ${typeof X}`);else if(typeof X==="string")$.setTime(Date.parse(X));else if(T.isLong(X))$.setTime(X.toNumber());else if(typeof X==="number"&&Y.relaxed)$.setTime(X);else if(typeof X==="bigint")$.setTime(Number(X));else throw new sX(`Unrecognized type for EJSON date: ${typeof X}`);return $}if(Z.$code!=null){const X=Object.assign({},Z);if(Z.$scope)X.$scope=uP(Z.$scope);return _4.fromExtendedJSON(Z)}if(bP(Z)||Z.$dbPointer){const X=Z.$ref?Z:Z.$dbPointer;if(X instanceof J4)return X;const $=Object.keys(X).filter((G)=>G.startsWith("$"));let W=!0;if($.forEach((G)=>{if(["$ref","$id","$db"].indexOf(G)===-1)W=!1}),W)return J4.fromExtendedJSON(X)}return Z},a51=function(Z,Y){return Z.map((J,X)=>{Y.seenObjects.push({propertyName:`index ${X}`,obj:null});try{return k4(J,Y)}finally{Y.seenObjects.pop()}})},AP=function(Z){const Y=Z.toISOString();return Z.getUTCMilliseconds()!==0?Y:Y.slice(0,-5)+"Z"},k4=function(Z,Y){if(Z instanceof Map||gU(Z)){const J=Object.create(null);for(let[X,$]of Z){if(typeof X!=="string")throw new c("Can only serialize maps with string keys");J[X]=$}return k4(J,Y)}if((typeof Z==="object"||typeof Z==="function")&&Z!==null){const J=Y.seenObjects.findIndex((X)=>X.obj===Z);if(J!==-1){const X=Y.seenObjects.map((z)=>z.propertyName),$=X.slice(0,J).map((z)=>`${z} -> `).join(""),W=X[J],G=" -> "+X.slice(J+1,X.length-1).map((z)=>`${z} -> `).join(""),Q=X[X.length-1],K=" ".repeat($.length+W.length/2),H="-".repeat(G.length+(W.length+Q.length)/2-1);throw new c("Converting circular structure to EJSON:\n"+`    ${$}${W}${G}${Q}\n`+`    ${K}\\${H}/`)}Y.seenObjects[Y.seenObjects.length-1].obj=Z}if(Array.isArray(Z))return a51(Z,Y);if(Z===void 0)return null;if(Z instanceof Date||DY(Z)){const J=Z.getTime(),X=J>-1&&J<253402318800000;if(Y.legacy)return Y.relaxed&&X?{$date:Z.getTime()}:{$date:AP(Z)};return Y.relaxed&&X?{$date:AP(Z)}:{$date:{$numberLong:Z.getTime().toString()}}}if(typeof Z==="number"&&(!Y.relaxed||!isFinite(Z))){if(Number.isInteger(Z)&&!Object.is(Z,-0)){if(Z>=TG&&Z<=PG)return{$numberInt:Z.toString()};if(Z>=IP&&Z<=NP)return{$numberLong:Z.toString()}}return{$numberDouble:Object.is(Z,-0)?"-0.0":Z.toString()}}if(typeof Z==="bigint"){if(!Y.relaxed)return{$numberLong:BigInt.asIntN(64,Z).toString()};return Number(BigInt.asIntN(64,Z))}if(Z instanceof RegExp||IY(Z)){let J=Z.flags;if(J===void 0){const $=Z.toString().match(/[gimuy]*$/);if($)J=$[0]}return new c6(Z.source,J).toExtendedJSON(Y)}if(Z!=null&&typeof Z==="object")return r51(Z,Y);return Z},r51=function(Z,Y){if(Z==null||typeof Z!=="object")throw new c("not an object instance");const J=Z._bsontype;if(typeof J==="undefined"){const X={};for(let $ of Object.keys(Z)){Y.seenObjects.push({propertyName:$,obj:null});try{const W=k4(Z[$],Y);if($==="__proto__")Object.defineProperty(X,$,{value:W,writable:!0,enumerable:!0,configurable:!0});else X[$]=W}finally{Y.seenObjects.pop()}}return X}else if(Z!=null&&typeof Z==="object"&&typeof Z._bsontype==="string"&&Z[Symbol.for("@@mdb.bson.version")]!==uZ)throw new C5;else if(i51(Z)){let X=Z;if(typeof X.toExtendedJSON!=="function"){const $=s51[Z._bsontype];if(!$)throw new c("Unrecognized or invalid _bsontype: "+Z._bsontype);X=$(X)}if(J==="Code"&&X.scope)X=new _4(X.code,k4(X.scope,Y));else if(J==="DBRef"&&X.oid)X=new J4(k4(X.collection,Y),k4(X.oid,Y),k4(X.db,Y),k4(X.fields,Y));return X.toExtendedJSON(Y)}else throw new c("_bsontype must be a string, but was: "+typeof J)},dP=function(Z,Y){const J={useBigInt64:Y?.useBigInt64??!1,relaxed:Y?.relaxed??!0,legacy:Y?.legacy??!1};return JSON.parse(Z,(X,$)=>{if(X.indexOf("\0")!==-1)throw new c(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(X)}`);return uP($,J)})},cP=function(Z,Y,J,X){if(J!=null&&typeof J==="object")X=J,J=0;if(Y!=null&&typeof Y==="object"&&!Array.isArray(Y))X=Y,Y=void 0,J=0;const $=Object.assign({relaxed:!0,legacy:!1},X,{seenObjects:[{propertyName:"(root)",obj:null}]}),W=k4(Z,$);return JSON.stringify(W,Y,J)},t51=function(Z,Y){return Y=Y||{},JSON.parse(cP(Z,Y))},o51=function(Z,Y){return Y=Y||{},dP(JSON.stringify(Z),Y)},lP=function(Z){if(T5.length<Z)T5=y.allocate(Z)},iP=function(Z,Y={}){const J=typeof Y.checkKeys==="boolean"?Y.checkKeys:!1,X=typeof Y.serializeFunctions==="boolean"?Y.serializeFunctions:!1,$=typeof Y.ignoreUndefined==="boolean"?Y.ignoreUndefined:!0,W=typeof Y.minInternalBufferSize==="number"?Y.minInternalBufferSize:pP;if(T5.length<W)T5=y.allocate(W);const G=rX(T5,Z,J,0,0,X,$,null),Q=y.allocate(G);return Q.set(T5.subarray(0,G),0),Q},nP=function(Z,Y,J={}){const X=typeof J.checkKeys==="boolean"?J.checkKeys:!1,$=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,W=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!0,G=typeof J.index==="number"?J.index:0,Q=rX(T5,Z,X,0,0,$,W,null);return Y.set(T5.subarray(0,Q),G),G+Q-1},aP=function(Z,Y={}){return mP(y.toLocalBufferType(Z),Y)},sP=function(Z,Y={}){Y=Y||{};const J=typeof Y.serializeFunctions==="boolean"?Y.serializeFunctions:!1,X=typeof Y.ignoreUndefined==="boolean"?Y.ignoreUndefined:!0;return wG(Z,J,X)},rP=function(Z,Y,J,X,$,W){const G=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},W),Q=y.toLocalBufferType(Z);let K=Y;for(let H=0;H<J;H++){const z=Q[K]|Q[K+1]<<8|Q[K+2]<<16|Q[K+3]<<24;G.index=K,X[$+H]=mP(Q,G),K=K+z}return K},uZ=6,PG=2147483647,TG=-2147483648,NP=Math.pow(2,63)-1,IP=-Math.pow(2,63),DP=Math.pow(2,53),PP=-Math.pow(2,53),BG=1,TP=2,bU=3,CP=4,vU=5,G51=6,EP=7,jP=8,OP=9,hU=10,AG=11,Q51=12,mU=13,SP=14,kP=15,TY=16,_P=17,uU=18,xP=19,fP=255,yP=127,K51=0,NG=4,gP=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class c extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(Z){super(Z)}static isBSONError(Z){return Z!=null&&typeof Z==="object"&&("bsonError"in Z)&&Z.bsonError===!0&&("name"in Z)&&("message"in Z)&&("stack"in Z)}}class C5 extends c{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${uZ}.x.x`)}}class sX extends c{get name(){return"BSONRuntimeError"}constructor(Z){super(Z)}}var z51=(()=>{try{return import.meta.require("crypto").randomBytes}catch{return H51}})(),P5={toLocalBufferType(Z){if(Buffer.isBuffer(Z))return Z;if(ArrayBuffer.isView(Z))return Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength);const Y=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(Y==="ArrayBuffer"||Y==="SharedArrayBuffer"||Y==="[object ArrayBuffer]"||Y==="[object SharedArrayBuffer]")return Buffer.from(Z);throw new c(`Cannot create Buffer from ${String(Z)}`)},allocate(Z){return Buffer.alloc(Z)},equals(Z,Y){return P5.toLocalBufferType(Z).equals(Y)},fromNumberArray(Z){return Buffer.from(Z)},fromBase64(Z){return Buffer.from(Z,"base64")},toBase64(Z){return P5.toLocalBufferType(Z).toString("base64")},fromISO88591(Z){return Buffer.from(Z,"binary")},toISO88591(Z){return P5.toLocalBufferType(Z).toString("binary")},fromHex(Z){return Buffer.from(Z,"hex")},toHex(Z){return P5.toLocalBufferType(Z).toString("hex")},fromUTF8(Z){return Buffer.from(Z,"utf8")},toUTF8(Z,Y,J){return P5.toLocalBufferType(Z).toString("utf8",Y,J)},utf8ByteLength(Z){return Buffer.byteLength(Z,"utf8")},encodeUTF8Into(Z,Y,J){return P5.toLocalBufferType(Z).write(Y,J,void 0,"utf8")},randomBytes:z51},q51=(()=>{const{crypto:Z}=globalThis;if(Z!=null&&typeof Z.getRandomValues==="function")return(Y)=>{return Z.getRandomValues(CY.allocate(Y))};else{if(F51()){const{console:Y}=globalThis;Y?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return U51}})(),QP=/(\d|[a-f])/i,CY={toLocalBufferType(Z){const Y=Z?.[Symbol.toStringTag]??Object.prototype.toString.call(Z);if(Y==="Uint8Array")return Z;if(ArrayBuffer.isView(Z))return new Uint8Array(Z.buffer.slice(Z.byteOffset,Z.byteOffset+Z.byteLength));if(Y==="ArrayBuffer"||Y==="SharedArrayBuffer"||Y==="[object ArrayBuffer]"||Y==="[object SharedArrayBuffer]")return new Uint8Array(Z);throw new c(`Cannot make a Uint8Array from ${String(Z)}`)},allocate(Z){if(typeof Z!=="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(Z)}`);return new Uint8Array(Z)},equals(Z,Y){if(Z.byteLength!==Y.byteLength)return!1;for(let J=0;J<Z.byteLength;J++)if(Z[J]!==Y[J])return!1;return!0},fromNumberArray(Z){return Uint8Array.from(Z)},fromBase64(Z){return Uint8Array.from(atob(Z),(Y)=>Y.charCodeAt(0))},toBase64(Z){return btoa(CY.toISO88591(Z))},fromISO88591(Z){return Uint8Array.from(Z,(Y)=>Y.charCodeAt(0)&255)},toISO88591(Z){return Array.from(Uint16Array.from(Z),(Y)=>String.fromCharCode(Y)).join("")},fromHex(Z){const Y=Z.length%2===0?Z:Z.slice(0,Z.length-1),J=[];for(let X=0;X<Y.length;X+=2){const $=Y[X],W=Y[X+1];if(!QP.test($))break;if(!QP.test(W))break;const G=Number.parseInt(`${$}${W}`,16);J.push(G)}return Uint8Array.from(J)},toHex(Z){return Array.from(Z,(Y)=>Y.toString(16).padStart(2,"0")).join("")},fromUTF8(Z){return(new TextEncoder()).encode(Z)},toUTF8(Z,Y,J){return new TextDecoder("utf8",{fatal:!1}).decode(Z.slice(Y,J))},utf8ByteLength(Z){return CY.fromUTF8(Z).byteLength},encodeUTF8Into(Z,Y,J){const X=CY.fromUTF8(Y);return Z.set(X,J),X.byteLength},randomBytes:q51},V51=typeof Buffer==="function"&&Buffer.prototype?._isBuffer!==!0,y=V51?P5:CY;class aX extends DataView{static fromUint8Array(Z){return new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}}class S8{get[Symbol.for("@@mdb.bson.version")](){return uZ}[Symbol.for("nodejs.util.inspect.custom")](Z,Y,J){return this.inspect(Z,Y,J)}}class x1 extends S8{get _bsontype(){return"Binary"}constructor(Z,Y){super();if(Z!=null&&typeof Z==="string"&&!ArrayBuffer.isView(Z)&&!yU(Z)&&!Array.isArray(Z))throw new c("Binary can only be constructed from Uint8Array or number[]");if(this.sub_type=Y??x1.BSON_BINARY_SUBTYPE_DEFAULT,Z==null)this.buffer=y.allocate(x1.BUFFER_SIZE),this.position=0;else this.buffer=Array.isArray(Z)?y.fromNumberArray(Z):y.toLocalBufferType(Z),this.position=this.buffer.byteLength}put(Z){if(typeof Z==="string"&&Z.length!==1)throw new c("only accepts single character String");else if(typeof Z!=="number"&&Z.length!==1)throw new c("only accepts single character Uint8Array or Array");let Y;if(typeof Z==="string")Y=Z.charCodeAt(0);else if(typeof Z==="number")Y=Z;else Y=Z[0];if(Y<0||Y>255)throw new c("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=Y;else{const J=y.allocate(x1.BUFFER_SIZE+this.buffer.length);J.set(this.buffer,0),this.buffer=J,this.buffer[this.position++]=Y}}write(Z,Y){if(Y=typeof Y==="number"?Y:this.position,this.buffer.byteLength<Y+Z.length){const J=y.allocate(this.buffer.byteLength+Z.length);J.set(this.buffer,0),this.buffer=J}if(ArrayBuffer.isView(Z))this.buffer.set(y.toLocalBufferType(Z),Y),this.position=Y+Z.byteLength>this.position?Y+Z.length:this.position;else if(typeof Z==="string")throw new c("input cannot be string")}read(Z,Y){return Y=Y&&Y>0?Y:this.position,this.buffer.slice(Z,Z+Y)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return y.toBase64(this.buffer)}toString(Z){if(Z==="hex")return y.toHex(this.buffer);if(Z==="base64")return y.toBase64(this.buffer);if(Z==="utf8"||Z==="utf-8")return y.toUTF8(this.buffer,0,this.buffer.byteLength);return y.toUTF8(this.buffer,0,this.buffer.byteLength)}toExtendedJSON(Z){Z=Z||{};const Y=y.toBase64(this.buffer),J=Number(this.sub_type).toString(16);if(Z.legacy)return{$binary:Y,$type:J.length===1?"0"+J:J};return{$binary:{base64:Y,subType:J.length===1?"0"+J:J}}}toUUID(){if(this.sub_type===x1.SUBTYPE_UUID)return new a0(this.buffer.slice(0,this.position));throw new c(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${x1.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(Z,Y){return new x1(y.fromHex(Z),Y)}static createFromBase64(Z,Y){return new x1(y.fromBase64(Z),Y)}static fromExtendedJSON(Z,Y){Y=Y||{};let J,X;if("$binary"in Z){if(Y.legacy&&typeof Z.$binary==="string"&&("$type"in Z))X=Z.$type?parseInt(Z.$type,16):0,J=y.fromBase64(Z.$binary);else if(typeof Z.$binary!=="string")X=Z.$binary.subType?parseInt(Z.$binary.subType,16):0,J=y.fromBase64(Z.$binary.base64)}else if("$uuid"in Z)X=4,J=a0.bytesFromString(Z.$uuid);if(!J)throw new c(`Unexpected Binary Extended JSON format ${JSON.stringify(Z)}`);return X===NG?new a0(J):new x1(J,X)}inspect(Z,Y,J){J??=A6;const X=y.toBase64(this.buffer.subarray(0,this.position)),$=J(X,Y),W=J(this.sub_type,Y);return`Binary.createFromBase64(${$}, ${W})`}}x1.BSON_BINARY_SUBTYPE_DEFAULT=0;x1.BUFFER_SIZE=256;x1.SUBTYPE_DEFAULT=0;x1.SUBTYPE_FUNCTION=1;x1.SUBTYPE_BYTE_ARRAY=2;x1.SUBTYPE_UUID_OLD=3;x1.SUBTYPE_UUID=4;x1.SUBTYPE_MD5=5;x1.SUBTYPE_ENCRYPTED=6;x1.SUBTYPE_COLUMN=7;x1.SUBTYPE_USER_DEFINED=128;var qU=16,L51=/^[0-9A-F]{32}$/i,R51=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class a0 extends x1{constructor(Z){let Y;if(Z==null)Y=a0.generate();else if(Z instanceof a0)Y=y.toLocalBufferType(new Uint8Array(Z.buffer));else if(ArrayBuffer.isView(Z)&&Z.byteLength===qU)Y=y.toLocalBufferType(Z);else if(typeof Z==="string")Y=a0.bytesFromString(Z);else throw new c("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");super(Y,NG)}get id(){return this.buffer}set id(Z){this.buffer=Z}toHexString(Z=!0){if(Z)return[y.toHex(this.buffer.subarray(0,4)),y.toHex(this.buffer.subarray(4,6)),y.toHex(this.buffer.subarray(6,8)),y.toHex(this.buffer.subarray(8,10)),y.toHex(this.buffer.subarray(10,16))].join("-");return y.toHex(this.buffer)}toString(Z){if(Z==="hex")return y.toHex(this.id);if(Z==="base64")return y.toBase64(this.id);return this.toHexString()}toJSON(){return this.toHexString()}equals(Z){if(!Z)return!1;if(Z instanceof a0)return y.equals(Z.id,this.id);try{return y.equals(new a0(Z).id,this.id)}catch{return!1}}toBinary(){return new x1(this.id,x1.SUBTYPE_UUID)}static generate(){const Z=y.randomBytes(qU);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z}static isValid(Z){if(!Z)return!1;if(typeof Z==="string")return a0.isValidUUIDString(Z);if(mZ(Z))return Z.byteLength===qU;return Z._bsontype==="Binary"&&Z.sub_type===this.SUBTYPE_UUID&&Z.buffer.byteLength===16}static createFromHexString(Z){const Y=a0.bytesFromString(Z);return new a0(Y)}static createFromBase64(Z){return new a0(y.fromBase64(Z))}static bytesFromString(Z){if(!a0.isValidUUIDString(Z))throw new c("UUID string representation must be 32 hex digits or canonical hyphenated representation");return y.fromHex(Z.replace(/-/g,""))}static isValidUUIDString(Z){return L51.test(Z)||R51.test(Z)}inspect(Z,Y,J){return J??=A6,`new UUID(${J(this.toHexString(),Y)})`}}class _4 extends S8{get _bsontype(){return"Code"}constructor(Z,Y){super();this.code=Z.toString(),this.scope=Y??null}toJSON(){if(this.scope!=null)return{code:this.code,scope:this.scope};return{code:this.code}}toExtendedJSON(){if(this.scope)return{$code:this.code,$scope:this.scope};return{$code:this.code}}static fromExtendedJSON(Z){return new _4(Z.$code,Z.$scope)}inspect(Z,Y,J){J??=A6;let X=J(this.code,Y);const $=X.includes("\n");if(this.scope!=null)X+=`,${$?"\n":" "}${J(this.scope,Y)}`;const W=$&&this.scope===null;return`new Code(${$?"\n":""}${X}${W?"\n":""})`}}class J4 extends S8{get _bsontype(){return"DBRef"}constructor(Z,Y,J,X){super();const $=Z.split(".");if($.length===2)J=$.shift(),Z=$.shift();this.collection=Z,this.oid=Y,this.db=J,this.fields=X||{}}get namespace(){return this.collection}set namespace(Z){this.collection=Z}toJSON(){const Z=Object.assign({$ref:this.collection,$id:this.oid},this.fields);if(this.db!=null)Z.$db=this.db;return Z}toExtendedJSON(Z){Z=Z||{};let Y={$ref:this.collection,$id:this.oid};if(Z.legacy)return Y;if(this.db)Y.$db=this.db;return Y=Object.assign(Y,this.fields),Y}static fromExtendedJSON(Z){const Y=Object.assign({},Z);return delete Y.$ref,delete Y.$id,delete Y.$db,new J4(Z.$ref,Z.$id,Z.$db,Y)}inspect(Z,Y,J){J??=A6;const X=[J(this.namespace,Y),J(this.oid,Y),...this.db?[J(this.db,Y)]:[],...Object.keys(this.fields).length>0?[J(this.fields,Y)]:[]];return X[1]=J===A6?`new ObjectId(${X[1]})`:X[1],`new DBRef(${X.join(", ")})`}}var u6=void 0;try{u6=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var KP=1<<16,w51=1<<24,PY=KP*KP,vP=PY*PY,HP=vP/2,zP={},FP={},M51=20,B51=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class T extends S8{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(Z=0,Y,J){super();if(typeof Z==="bigint")Object.assign(this,T.fromBigInt(Z,!!Y));else if(typeof Z==="string")Object.assign(this,T.fromString(Z,!!Y));else this.low=Z|0,this.high=Y|0,this.unsigned=!!J}static fromBits(Z,Y,J){return new T(Z,Y,J)}static fromInt(Z,Y){let J,X,$;if(Y){if(Z>>>=0,$=0<=Z&&Z<256){if(X=FP[Z],X)return X}if(J=T.fromBits(Z,(Z|0)<0?-1:0,!0),$)FP[Z]=J;return J}else{if(Z|=0,$=-128<=Z&&Z<128){if(X=zP[Z],X)return X}if(J=T.fromBits(Z,Z<0?-1:0,!1),$)zP[Z]=J;return J}}static fromNumber(Z,Y){if(isNaN(Z))return Y?T.UZERO:T.ZERO;if(Y){if(Z<0)return T.UZERO;if(Z>=vP)return T.MAX_UNSIGNED_VALUE}else{if(Z<=-HP)return T.MIN_VALUE;if(Z+1>=HP)return T.MAX_VALUE}if(Z<0)return T.fromNumber(-Z,Y).neg();return T.fromBits(Z%PY|0,Z/PY|0,Y)}static fromBigInt(Z,Y){return T.fromString(Z.toString(),Y)}static fromString(Z,Y,J){if(Z.length===0)throw new c("empty string");if(Z==="NaN"||Z==="Infinity"||Z==="+Infinity"||Z==="-Infinity")return T.ZERO;if(typeof Y==="number")J=Y,Y=!1;else Y=!!Y;if(J=J||10,J<2||36<J)throw new c("radix");let X;if((X=Z.indexOf("-"))>0)throw new c("interior hyphen");else if(X===0)return T.fromString(Z.substring(1),Y,J).neg();const $=T.fromNumber(Math.pow(J,8));let W=T.ZERO;for(let G=0;G<Z.length;G+=8){const Q=Math.min(8,Z.length-G),K=parseInt(Z.substring(G,G+Q),J);if(Q<8){const H=T.fromNumber(Math.pow(J,Q));W=W.mul(H).add(T.fromNumber(K))}else W=W.mul($),W=W.add(T.fromNumber(K))}return W.unsigned=Y,W}static fromBytes(Z,Y,J){return J?T.fromBytesLE(Z,Y):T.fromBytesBE(Z,Y)}static fromBytesLE(Z,Y){return new T(Z[0]|Z[1]<<8|Z[2]<<16|Z[3]<<24,Z[4]|Z[5]<<8|Z[6]<<16|Z[7]<<24,Y)}static fromBytesBE(Z,Y){return new T(Z[4]<<24|Z[5]<<16|Z[6]<<8|Z[7],Z[0]<<24|Z[1]<<16|Z[2]<<8|Z[3],Y)}static isLong(Z){return Z!=null&&typeof Z==="object"&&("__isLong__"in Z)&&Z.__isLong__===!0}static fromValue(Z,Y){if(typeof Z==="number")return T.fromNumber(Z,Y);if(typeof Z==="string")return T.fromString(Z,Y);return T.fromBits(Z.low,Z.high,typeof Y==="boolean"?Y:Z.unsigned)}add(Z){if(!T.isLong(Z))Z=T.fromValue(Z);const Y=this.high>>>16,J=this.high&65535,X=this.low>>>16,$=this.low&65535,W=Z.high>>>16,G=Z.high&65535,Q=Z.low>>>16,K=Z.low&65535;let H=0,z=0,F=0,U=0;return U+=$+K,F+=U>>>16,U&=65535,F+=X+Q,z+=F>>>16,F&=65535,z+=J+G,H+=z>>>16,z&=65535,H+=Y+W,H&=65535,T.fromBits(F<<16|U,H<<16|z,this.unsigned)}and(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return T.fromBits(this.low&Z.low,this.high&Z.high,this.unsigned)}compare(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(this.eq(Z))return 0;const Y=this.isNegative(),J=Z.isNegative();if(Y&&!J)return-1;if(!Y&&J)return 1;if(!this.unsigned)return this.sub(Z).isNegative()?-1:1;return Z.high>>>0>this.high>>>0||Z.high===this.high&&Z.low>>>0>this.low>>>0?-1:1}comp(Z){return this.compare(Z)}divide(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(Z.isZero())throw new c("division by zero");if(u6){if(!this.unsigned&&this.high===-2147483648&&Z.low===-1&&Z.high===-1)return this;const $=(this.unsigned?u6.div_u:u6.div_s)(this.low,this.high,Z.low,Z.high);return T.fromBits($,u6.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?T.UZERO:T.ZERO;let Y,J,X;if(!this.unsigned){if(this.eq(T.MIN_VALUE))if(Z.eq(T.ONE)||Z.eq(T.NEG_ONE))return T.MIN_VALUE;else if(Z.eq(T.MIN_VALUE))return T.ONE;else if(Y=this.shr(1).div(Z).shl(1),Y.eq(T.ZERO))return Z.isNegative()?T.ONE:T.NEG_ONE;else return J=this.sub(Z.mul(Y)),X=Y.add(J.div(Z)),X;else if(Z.eq(T.MIN_VALUE))return this.unsigned?T.UZERO:T.ZERO;if(this.isNegative()){if(Z.isNegative())return this.neg().div(Z.neg());return this.neg().div(Z).neg()}else if(Z.isNegative())return this.div(Z.neg()).neg();X=T.ZERO}else{if(!Z.unsigned)Z=Z.toUnsigned();if(Z.gt(this))return T.UZERO;if(Z.gt(this.shru(1)))return T.UONE;X=T.UZERO}J=this;while(J.gte(Z)){Y=Math.max(1,Math.floor(J.toNumber()/Z.toNumber()));const $=Math.ceil(Math.log(Y)/Math.LN2),W=$<=48?1:Math.pow(2,$-48);let G=T.fromNumber(Y),Q=G.mul(Z);while(Q.isNegative()||Q.gt(J))Y-=W,G=T.fromNumber(Y,this.unsigned),Q=G.mul(Z);if(G.isZero())G=T.ONE;X=X.add(G),J=J.sub(Q)}return X}div(Z){return this.divide(Z)}equals(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(this.unsigned!==Z.unsigned&&this.high>>>31===1&&Z.high>>>31===1)return!1;return this.high===Z.high&&this.low===Z.low}eq(Z){return this.equals(Z)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(T.MIN_VALUE)?64:this.neg().getNumBitsAbs();const Z=this.high!==0?this.high:this.low;let Y;for(Y=31;Y>0;Y--)if((Z&1<<Y)!==0)break;return this.high!==0?Y+33:Y+1}greaterThan(Z){return this.comp(Z)>0}gt(Z){return this.greaterThan(Z)}greaterThanOrEqual(Z){return this.comp(Z)>=0}gte(Z){return this.greaterThanOrEqual(Z)}ge(Z){return this.greaterThanOrEqual(Z)}isEven(){return(this.low&1)===0}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return(this.low&1)===1}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(Z){return this.comp(Z)<0}lt(Z){return this.lessThan(Z)}lessThanOrEqual(Z){return this.comp(Z)<=0}lte(Z){return this.lessThanOrEqual(Z)}modulo(Z){if(!T.isLong(Z))Z=T.fromValue(Z);if(u6){const Y=(this.unsigned?u6.rem_u:u6.rem_s)(this.low,this.high,Z.low,Z.high);return T.fromBits(Y,u6.get_high(),this.unsigned)}return this.sub(this.div(Z).mul(Z))}mod(Z){return this.modulo(Z)}rem(Z){return this.modulo(Z)}multiply(Z){if(this.isZero())return T.ZERO;if(!T.isLong(Z))Z=T.fromValue(Z);if(u6){const q=u6.mul(this.low,this.high,Z.low,Z.high);return T.fromBits(q,u6.get_high(),this.unsigned)}if(Z.isZero())return T.ZERO;if(this.eq(T.MIN_VALUE))return Z.isOdd()?T.MIN_VALUE:T.ZERO;if(Z.eq(T.MIN_VALUE))return this.isOdd()?T.MIN_VALUE:T.ZERO;if(this.isNegative())if(Z.isNegative())return this.neg().mul(Z.neg());else return this.neg().mul(Z).neg();else if(Z.isNegative())return this.mul(Z.neg()).neg();if(this.lt(T.TWO_PWR_24)&&Z.lt(T.TWO_PWR_24))return T.fromNumber(this.toNumber()*Z.toNumber(),this.unsigned);const Y=this.high>>>16,J=this.high&65535,X=this.low>>>16,$=this.low&65535,W=Z.high>>>16,G=Z.high&65535,Q=Z.low>>>16,K=Z.low&65535;let H=0,z=0,F=0,U=0;return U+=$*K,F+=U>>>16,U&=65535,F+=X*K,z+=F>>>16,F&=65535,F+=$*Q,z+=F>>>16,F&=65535,z+=J*K,H+=z>>>16,z&=65535,z+=X*Q,H+=z>>>16,z&=65535,z+=$*G,H+=z>>>16,z&=65535,H+=Y*K+J*Q+X*G+$*W,H&=65535,T.fromBits(F<<16|U,H<<16|z,this.unsigned)}mul(Z){return this.multiply(Z)}negate(){if(!this.unsigned&&this.eq(T.MIN_VALUE))return T.MIN_VALUE;return this.not().add(T.ONE)}neg(){return this.negate()}not(){return T.fromBits(~this.low,~this.high,this.unsigned)}notEquals(Z){return!this.equals(Z)}neq(Z){return this.notEquals(Z)}ne(Z){return this.notEquals(Z)}or(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return T.fromBits(this.low|Z.low,this.high|Z.high,this.unsigned)}shiftLeft(Z){if(T.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return T.fromBits(this.low<<Z,this.high<<Z|this.low>>>32-Z,this.unsigned);else return T.fromBits(0,this.low<<Z-32,this.unsigned)}shl(Z){return this.shiftLeft(Z)}shiftRight(Z){if(T.isLong(Z))Z=Z.toInt();if((Z&=63)===0)return this;else if(Z<32)return T.fromBits(this.low>>>Z|this.high<<32-Z,this.high>>Z,this.unsigned);else return T.fromBits(this.high>>Z-32,this.high>=0?0:-1,this.unsigned)}shr(Z){return this.shiftRight(Z)}shiftRightUnsigned(Z){if(T.isLong(Z))Z=Z.toInt();if(Z&=63,Z===0)return this;else{const Y=this.high;if(Z<32){const J=this.low;return T.fromBits(J>>>Z|Y<<32-Z,Y>>>Z,this.unsigned)}else if(Z===32)return T.fromBits(Y,0,this.unsigned);else return T.fromBits(Y>>>Z-32,0,this.unsigned)}}shr_u(Z){return this.shiftRightUnsigned(Z)}shru(Z){return this.shiftRightUnsigned(Z)}subtract(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return this.add(Z.neg())}sub(Z){return this.subtract(Z)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){if(this.unsigned)return(this.high>>>0)*PY+(this.low>>>0);return this.high*PY+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(Z){return Z?this.toBytesLE():this.toBytesBE()}toBytesLE(){const Z=this.high,Y=this.low;return[Y&255,Y>>>8&255,Y>>>16&255,Y>>>24,Z&255,Z>>>8&255,Z>>>16&255,Z>>>24]}toBytesBE(){const Z=this.high,Y=this.low;return[Z>>>24,Z>>>16&255,Z>>>8&255,Z&255,Y>>>24,Y>>>16&255,Y>>>8&255,Y&255]}toSigned(){if(!this.unsigned)return this;return T.fromBits(this.low,this.high,!1)}toString(Z){if(Z=Z||10,Z<2||36<Z)throw new c("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(T.MIN_VALUE)){const $=T.fromNumber(Z),W=this.div($),G=W.mul($).sub(this);return W.toString(Z)+G.toInt().toString(Z)}else return"-"+this.neg().toString(Z);const Y=T.fromNumber(Math.pow(Z,6),this.unsigned);let J=this,X="";while(!0){const $=J.div(Y);let G=(J.sub($.mul(Y)).toInt()>>>0).toString(Z);if(J=$,J.isZero())return G+X;else{while(G.length<6)G="0"+G;X=""+G+X}}}toUnsigned(){if(this.unsigned)return this;return T.fromBits(this.low,this.high,!0)}xor(Z){if(!T.isLong(Z))Z=T.fromValue(Z);return T.fromBits(this.low^Z.low,this.high^Z.high,this.unsigned)}eqz(){return this.isZero()}le(Z){return this.lessThanOrEqual(Z)}toExtendedJSON(Z){if(Z&&Z.relaxed)return this.toNumber();return{$numberLong:this.toString()}}static fromExtendedJSON(Z,Y){const{useBigInt64:J=!1,relaxed:X=!0}={...Y};if(Z.$numberLong.length>M51)throw new c("$numberLong string is too long");if(!B51.test(Z.$numberLong))throw new c(`\$numberLong string "${Z.$numberLong}" is in an invalid format`);if(J){const W=BigInt(Z.$numberLong);return BigInt.asIntN(64,W)}const $=T.fromString(Z.$numberLong);if(X)return $.toNumber();return $}inspect(Z,Y,J){J??=A6;const X=J(this.toString(),Y),$=this.unsigned?`, ${J(this.unsigned,Y)}`:"";return`new Long(${X}${$})`}}T.TWO_PWR_24=T.fromInt(w51);T.MAX_UNSIGNED_VALUE=T.fromBits(4294967295|0,4294967295|0,!0);T.ZERO=T.fromInt(0);T.UZERO=T.fromInt(0,!0);T.ONE=T.fromInt(1);T.UONE=T.fromInt(1,!0);T.NEG_ONE=T.fromInt(-1);T.MAX_VALUE=T.fromBits(4294967295|0,2147483647|0,!1);T.MIN_VALUE=T.fromBits(0,2147483648|0,!1);var A51=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,N51=/^(\+|-)?(Infinity|inf)$/i,I51=/^(\+|-)?NaN$/i,NY=6111,iX=-6176,UP=6176,qP=34,VU=y.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),VP=y.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),LP=y.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),D51=/^([-+])?(\d+)?$/,P51=31,RP=16383,T51=30,C51=31;class w8 extends S8{get _bsontype(){return"Decimal128"}constructor(Z){super();if(typeof Z==="string")this.bytes=w8.fromString(Z).bytes;else if(mZ(Z)){if(Z.byteLength!==16)throw new c("Decimal128 must take a Buffer of 16 bytes");this.bytes=Z}else throw new c("Decimal128 must take a Buffer or string")}static fromString(Z){return w8._fromString(Z,{allowRounding:!1})}static fromStringWithRounding(Z){return w8._fromString(Z,{allowRounding:!0})}static _fromString(Z,Y){let J=!1,X=!1,$=!1,W=!1,G=0,Q=0,K=0,H=0,z=0;const F=[0];let U=0,q=0,V=0,L=0,w=new T(0,0),B=new T(0,0),A=0,M=0;if(Z.length>=7000)throw new c(""+Z+" not a valid Decimal128 string");const I=Z.match(A51),x=Z.match(N51),j=Z.match(I51);if(!I&&!x&&!j||Z.length===0)throw new c(""+Z+" not a valid Decimal128 string");if(I){const b=I[2],_=I[4],O=I[5],k=I[6];if(_&&k===void 0)M7(Z,"missing exponent power");if(_&&b===void 0)M7(Z,"missing exponent base");if(_===void 0&&(O||k))M7(Z,"missing e before exponent")}if(Z[M]==="+"||Z[M]==="-")X=!0,J=Z[M++]==="-";if(!wP(Z[M])&&Z[M]!=="."){if(Z[M]==="i"||Z[M]==="I")return new w8(J?VP:LP);else if(Z[M]==="N")return new w8(VU)}while(wP(Z[M])||Z[M]==="."){if(Z[M]==="."){if($)M7(Z,"contains multiple periods");$=!0,M=M+1;continue}if(U<qP){if(Z[M]!=="0"||W){if(!W)z=Q;W=!0,F[q++]=parseInt(Z[M],10),U=U+1}}if(W)K=K+1;if($)H=H+1;Q=Q+1,M=M+1}if($&&!Q)throw new c(""+Z+" not a valid Decimal128 string");if(Z[M]==="e"||Z[M]==="E"){const b=Z.substr(++M).match(D51);if(!b||!b[2])return new w8(VU);L=parseInt(b[0],10),M=M+b[0].length}if(Z[M])return new w8(VU);if(!U)F[0]=0,K=1,U=1,G=0;else if(V=U-1,G=K,G!==1)while(Z[z+G-1+Number(X)+Number($)]==="0")G=G-1;if(L<=H&&H>L+(1<<14))L=iX;else L=L-H;while(L>NY){if(V=V+1,V>=qP){if(G===0){L=NY;break}M7(Z,"overflow")}L=L-1}if(Y.allowRounding){while(L<iX||U<K){if(V===0&&G<U){L=iX,G=0;break}if(U<K)K=K-1;else V=V-1;if(L<NY)L=L+1;else{if(F.join("").match(/^0+$/)){L=NY;break}M7(Z,"overflow")}}if(V+1<G){let b=Q;if($)z=z+1,b=b+1;if(X)z=z+1,b=b+1;const _=parseInt(Z[z+V+1],10);let O=0;if(_>=5){if(O=1,_===5){O=F[V]%2===1?1:0;for(let k=z+V+2;k<b;k++)if(parseInt(Z[k],10)){O=1;break}}}if(O){let k=V;for(;k>=0;k--)if(++F[k]>9){if(F[k]=0,k===0)if(L<NY)L=L+1,F[k]=1;else return new w8(J?VP:LP)}else break}}}else{while(L<iX||U<K){if(V===0){if(G===0){L=iX;break}M7(Z,"exponent underflow")}if(U<K){if(Z[K-1+Number(X)+Number($)]!=="0"&&G!==0)M7(Z,"inexact rounding");K=K-1}else{if(F[V]!==0)M7(Z,"inexact rounding");V=V-1}if(L<NY)L=L+1;else M7(Z,"overflow")}if(V+1<G){if($)z=z+1;if(X)z=z+1;if(parseInt(Z[z+V+1],10)!==0)M7(Z,"inexact rounding")}}if(w=T.fromNumber(0),B=T.fromNumber(0),G===0)w=T.fromNumber(0),B=T.fromNumber(0);else if(V<17){let b=0;B=T.fromNumber(F[b++]),w=new T(0,0);for(;b<=V;b++)B=B.multiply(T.fromNumber(10)),B=B.add(T.fromNumber(F[b]))}else{let b=0;w=T.fromNumber(F[b++]);for(;b<=V-17;b++)w=w.multiply(T.fromNumber(10)),w=w.add(T.fromNumber(F[b]));B=T.fromNumber(F[b++]);for(;b<=V;b++)B=B.multiply(T.fromNumber(10)),B=B.add(T.fromNumber(F[b]))}const E=j51(w,T.fromString("100000000000000000"));if(E.low=E.low.add(B),O51(E.low,B))E.high=E.high.add(T.fromNumber(1));A=L+UP;const D={low:T.fromNumber(0),high:T.fromNumber(0)};if(E.high.shiftRightUnsigned(49).and(T.fromNumber(1)).equals(T.fromNumber(1)))D.high=D.high.or(T.fromNumber(3).shiftLeft(61)),D.high=D.high.or(T.fromNumber(A).and(T.fromNumber(16383).shiftLeft(47))),D.high=D.high.or(E.high.and(T.fromNumber(140737488355327)));else D.high=D.high.or(T.fromNumber(A&16383).shiftLeft(49)),D.high=D.high.or(E.high.and(T.fromNumber(562949953421311)));if(D.low=E.low,J)D.high=D.high.or(T.fromString("9223372036854775808"));const l=y.allocate(16);return M=0,l[M++]=D.low.low&255,l[M++]=D.low.low>>8&255,l[M++]=D.low.low>>16&255,l[M++]=D.low.low>>24&255,l[M++]=D.low.high&255,l[M++]=D.low.high>>8&255,l[M++]=D.low.high>>16&255,l[M++]=D.low.high>>24&255,l[M++]=D.high.low&255,l[M++]=D.high.low>>8&255,l[M++]=D.high.low>>16&255,l[M++]=D.high.low>>24&255,l[M++]=D.high.high&255,l[M++]=D.high.high>>8&255,l[M++]=D.high.high>>16&255,l[M++]=D.high.high>>24&255,new w8(l)}toString(){let Z,Y=0;const J=new Array(36);for(let M=0;M<J.length;M++)J[M]=0;let X=0,$=!1,W,G={parts:[0,0,0,0]},Q,K;const H=[];X=0;const z=this.bytes,F=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24,U=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24,q=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24,V=z[X++]|z[X++]<<8|z[X++]<<16|z[X++]<<24;if(X=0,{low:new T(F,U),high:new T(q,V)}.high.lessThan(T.ZERO))H.push("-");const w=V>>26&P51;if(w>>3===3)if(w===T51)return H.join("")+"Infinity";else if(w===C51)return"NaN";else Z=V>>15&RP,W=8+(V>>14&1);else W=V>>14&7,Z=V>>17&RP;const B=Z-UP;if(G.parts[0]=(V&16383)+((W&15)<<14),G.parts[1]=q,G.parts[2]=U,G.parts[3]=F,G.parts[0]===0&&G.parts[1]===0&&G.parts[2]===0&&G.parts[3]===0)$=!0;else for(K=3;K>=0;K--){let M=0;const I=E51(G);if(G=I.quotient,M=I.rem.low,!M)continue;for(Q=8;Q>=0;Q--)J[K*9+Q]=M%10,M=Math.floor(M/10)}if($)Y=1,J[X]=0;else{Y=36;while(!J[X])Y=Y-1,X=X+1}const A=Y-1+B;if(A>=34||A<=-7||B>0){if(Y>34){if(H.push("0"),B>0)H.push(`E+${B}`);else if(B<0)H.push(`E${B}`);return H.join("")}if(H.push(`${J[X++]}`),Y=Y-1,Y)H.push(".");for(let M=0;M<Y;M++)H.push(`${J[X++]}`);if(H.push("E"),A>0)H.push(`+${A}`);else H.push(`${A}`)}else if(B>=0)for(let M=0;M<Y;M++)H.push(`${J[X++]}`);else{let M=Y+B;if(M>0)for(let I=0;I<M;I++)H.push(`${J[X++]}`);else H.push("0");H.push(".");while(M++<0)H.push("0");for(let I=0;I<Y-Math.max(M-1,0);I++)H.push(`${J[X++]}`)}return H.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(Z){return w8.fromString(Z.$numberDecimal)}inspect(Z,Y,J){return J??=A6,`new Decimal128(${J(this.toString(),Y)})`}}class E5 extends S8{get _bsontype(){return"Double"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z}valueOf(){return this.value}toJSON(){return this.value}toString(Z){return this.value.toString(Z)}toExtendedJSON(Z){if(Z&&(Z.legacy||Z.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-0.0"};return{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(Z,Y){const J=parseFloat(Z.$numberDouble);return Y&&Y.relaxed?J:new E5(J)}inspect(Z,Y,J){return J??=A6,`new Double(${J(this.value,Y)})`}}class j5 extends S8{get _bsontype(){return"Int32"}constructor(Z){super();if(Z instanceof Number)Z=Z.valueOf();this.value=+Z|0}valueOf(){return this.value}toString(Z){return this.value.toString(Z)}toJSON(){return this.value}toExtendedJSON(Z){if(Z&&(Z.relaxed||Z.legacy))return this.value;return{$numberInt:this.value.toString()}}static fromExtendedJSON(Z,Y){return Y&&Y.relaxed?parseInt(Z.$numberInt,10):new j5(Z.$numberInt)}inspect(Z,Y,J){return J??=A6,`new Int32(${J(this.value,Y)})`}}class dZ extends S8{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new dZ}inspect(){return"new MaxKey()"}}class cZ extends S8{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new cZ}inspect(){return"new MinKey()"}}var S51=new RegExp("^[0-9a-fA-F]{24}$"),hZ=null,S4=Symbol("id");class B0 extends S8{get _bsontype(){return"ObjectId"}constructor(Z){super();let Y;if(typeof Z==="object"&&Z&&("id"in Z)){if(typeof Z.id!=="string"&&!ArrayBuffer.isView(Z.id))throw new c("Argument passed in must have an id that is of type string or Buffer");if(("toHexString"in Z)&&typeof Z.toHexString==="function")Y=y.fromHex(Z.toHexString());else Y=Z.id}else Y=Z;if(Y==null||typeof Y==="number")this[S4]=B0.generate(typeof Y==="number"?Y:void 0);else if(ArrayBuffer.isView(Y)&&Y.byteLength===12)this[S4]=y.toLocalBufferType(Y);else if(typeof Y==="string")if(Y.length===24&&S51.test(Y))this[S4]=y.fromHex(Y);else throw new c("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");else throw new c("Argument passed in does not match the accepted types");if(B0.cacheHexString)this.__id=y.toHex(this.id)}get id(){return this[S4]}set id(Z){if(this[S4]=Z,B0.cacheHexString)this.__id=y.toHex(Z)}toHexString(){if(B0.cacheHexString&&this.__id)return this.__id;const Z=y.toHex(this.id);if(B0.cacheHexString&&!this.__id)this.__id=Z;return Z}static getInc(){return B0.index=(B0.index+1)%16777215}static generate(Z){if(typeof Z!=="number")Z=Math.floor(Date.now()/1000);const Y=B0.getInc(),J=y.allocate(12);if(aX.fromUint8Array(J).setUint32(0,Z,!1),hZ===null)hZ=y.randomBytes(5);return J[4]=hZ[0],J[5]=hZ[1],J[6]=hZ[2],J[7]=hZ[3],J[8]=hZ[4],J[11]=Y&255,J[10]=Y>>8&255,J[9]=Y>>16&255,J}toString(Z){if(Z==="base64")return y.toBase64(this.id);if(Z==="hex")return this.toHexString();return this.toHexString()}toJSON(){return this.toHexString()}static is(Z){return Z!=null&&typeof Z==="object"&&("_bsontype"in Z)&&Z._bsontype==="ObjectId"}equals(Z){if(Z===void 0||Z===null)return!1;if(B0.is(Z))return this[S4][11]===Z[S4][11]&&y.equals(this[S4],Z[S4]);if(typeof Z==="string")return Z.toLowerCase()===this.toHexString();if(typeof Z==="object"&&typeof Z.toHexString==="function"){const Y=Z.toHexString(),J=this.toHexString();return typeof Y==="string"&&Y.toLowerCase()===J}return!1}getTimestamp(){const Z=new Date,Y=aX.fromUint8Array(this.id).getUint32(0,!1);return Z.setTime(Math.floor(Y)*1000),Z}static createPk(){return new B0}static createFromTime(Z){const Y=y.fromNumberArray([0,0,0,0,0,0,0,0,0,0,0,0]);return aX.fromUint8Array(Y).setUint32(0,Z,!1),new B0(Y)}static createFromHexString(Z){if(Z?.length!==24)throw new c("hex string must be 24 characters");return new B0(y.fromHex(Z))}static createFromBase64(Z){if(Z?.length!==16)throw new c("base64 string must be 16 characters");return new B0(y.fromBase64(Z))}static isValid(Z){if(Z==null)return!1;try{return new B0(Z),!0}catch{return!1}}toExtendedJSON(){if(this.toHexString)return{$oid:this.toHexString()};return{$oid:this.toString("hex")}}static fromExtendedJSON(Z){return new B0(Z.$oid)}inspect(Z,Y,J){return J??=A6,`new ObjectId(${J(this.toHexString(),Y)})`}}B0.index=Math.floor(Math.random()*16777215);class c6 extends S8{get _bsontype(){return"BSONRegExp"}constructor(Z,Y){super();if(this.pattern=Z,this.options=k51(Y??""),this.pattern.indexOf("\0")!==-1)throw new c(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new c(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let J=0;J<this.options.length;J++)if(!(this.options[J]==="i"||this.options[J]==="m"||this.options[J]==="x"||this.options[J]==="l"||this.options[J]==="s"||this.options[J]==="u"))throw new c(`The regular expression option [${this.options[J]}] is not supported`)}static parseOptions(Z){return Z?Z.split("").sort().join(""):""}toExtendedJSON(Z){if(Z=Z||{},Z.legacy)return{$regex:this.pattern,$options:this.options};return{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(Z){if("$regex"in Z)if(typeof Z.$regex!=="string"){if(Z.$regex._bsontype==="BSONRegExp")return Z}else return new c6(Z.$regex,c6.parseOptions(Z.$options));if("$regularExpression"in Z)return new c6(Z.$regularExpression.pattern,c6.parseOptions(Z.$regularExpression.options));throw new c(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(Z)}`)}inspect(Z,Y,J){const X=W51(Y)??((G)=>G);J??=A6;const $=X(J(this.pattern),"regexp"),W=X(J(this.options),"regexp");return`new BSONRegExp(${$}, ${W})`}}class pZ extends S8{get _bsontype(){return"BSONSymbol"}constructor(Z){super();this.value=Z}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(Z){return new pZ(Z.$symbol)}inspect(Z,Y,J){return J??=A6,`new BSONSymbol(${J(this.value,Y)})`}}var _51=T;class d6 extends _51{get _bsontype(){return"Timestamp"}constructor(Z){if(Z==null)super(0,0,!0);else if(typeof Z==="bigint")super(Z,!0);else if(T.isLong(Z))super(Z.low,Z.high,!0);else if(typeof Z==="object"&&("t"in Z)&&("i"in Z)){if(typeof Z.t!=="number"&&(typeof Z.t!=="object"||Z.t._bsontype!=="Int32"))throw new c("Timestamp constructed from { t, i } must provide t as a number");if(typeof Z.i!=="number"&&(typeof Z.i!=="object"||Z.i._bsontype!=="Int32"))throw new c("Timestamp constructed from { t, i } must provide i as a number");const Y=Number(Z.t),J=Number(Z.i);if(Y<0||Number.isNaN(Y))throw new c("Timestamp constructed from { t, i } must provide a positive t");if(J<0||Number.isNaN(J))throw new c("Timestamp constructed from { t, i } must provide a positive i");if(Y>4294967295)throw new c("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(J>4294967295)throw new c("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(J,Y,!0)}else throw new c("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }")}toJSON(){return{$timestamp:this.toString()}}static fromInt(Z){return new d6(T.fromInt(Z,!0))}static fromNumber(Z){return new d6(T.fromNumber(Z,!0))}static fromBits(Z,Y){return new d6({i:Z,t:Y})}static fromString(Z,Y){return new d6(T.fromString(Z,!0,Y))}toExtendedJSON(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}static fromExtendedJSON(Z){const Y=T.isLong(Z.$timestamp.i)?Z.$timestamp.i.getLowBitsUnsigned():Z.$timestamp.i,J=T.isLong(Z.$timestamp.t)?Z.$timestamp.t.getLowBitsUnsigned():Z.$timestamp.t;return new d6({t:J,i:Y})}inspect(Z,Y,J){J??=A6;const X=J(this.high>>>0,Y),$=J(this.low>>>0,Y);return`new Timestamp({ t: ${X}, i: ${$} })`}}d6.MAX_VALUE=T.MAX_UNSIGNED_VALUE;var x51=128,f51=192,y51=224,g51=240,b51=248,v51=192,h51=224,m51=240,u51=128,d51=T.fromNumber(DP),c51=T.fromNumber(PP),p51=/^\$ref$|^\$id$|^\$db$/,IG=/\x00/,BP=new Set(["$db","$ref","$id","$clusterTime"]),EY=new DataView(new ArrayBuffer(8),0,8),l51=new Uint8Array(EY.buffer,0,4),DG=new Uint8Array(EY.buffer,0,8),n51={$oid:B0,$binary:x1,$uuid:x1,$symbol:pZ,$numberInt:j5,$numberDecimal:w8,$numberDouble:E5,$numberLong:T,$minKey:cZ,$maxKey:dZ,$regex:c6,$regularExpression:c6,$timestamp:d6},s51={Binary:(Z)=>new x1(Z.value(),Z.sub_type),Code:(Z)=>new _4(Z.code,Z.scope),DBRef:(Z)=>new J4(Z.collection||Z.namespace,Z.oid,Z.db,Z.fields),Decimal128:(Z)=>new w8(Z.bytes),Double:(Z)=>new E5(Z.value),Int32:(Z)=>new j5(Z.value),Long:(Z)=>T.fromBits(Z.low!=null?Z.low:Z.low_,Z.low!=null?Z.high:Z.high_,Z.low!=null?Z.unsigned:Z.unsigned_),MaxKey:()=>new dZ,MinKey:()=>new cZ,ObjectId:(Z)=>new B0(Z),BSONRegExp:(Z)=>new c6(Z.pattern,Z.options),BSONSymbol:(Z)=>new pZ(Z.value),Timestamp:(Z)=>d6.fromBits(Z.low,Z.high)},lZ=Object.create(null);lZ.parse=dP;lZ.stringify=cP;lZ.serialize=t51;lZ.deserialize=o51;Object.freeze(lZ);var pP=17825792,T5=y.allocate(pP),e51=Object.freeze({__proto__:null,BSONError:c,BSONRegExp:c6,BSONRuntimeError:sX,BSONSymbol:pZ,BSONType:gP,BSONValue:S8,BSONVersionError:C5,Binary:x1,Code:_4,DBRef:J4,Decimal128:w8,Double:E5,EJSON:lZ,Int32:j5,Long:T,MaxKey:dZ,MinKey:cZ,ObjectId:B0,Timestamp:d6,UUID:a0,calculateObjectSize:sP,deserialize:aP,deserializeStream:rP,serialize:iP,serializeWithBufferAndIndex:nP,setInternalBufferSize:lP});ZZ1.BSON=e51;ZZ1.BSONError=c;ZZ1.BSONRegExp=c6;ZZ1.BSONRuntimeError=sX;ZZ1.BSONSymbol=pZ;ZZ1.BSONType=gP;ZZ1.BSONValue=S8;ZZ1.BSONVersionError=C5;ZZ1.Binary=x1;ZZ1.Code=_4;ZZ1.DBRef=J4;ZZ1.Decimal128=w8;ZZ1.Double=E5;ZZ1.EJSON=lZ;ZZ1.Int32=j5;ZZ1.Long=T;ZZ1.MaxKey=dZ;ZZ1.MinKey=cZ;ZZ1.ObjectId=B0;ZZ1.Timestamp=d6;ZZ1.UUID=a0;ZZ1.calculateObjectSize=sP;ZZ1.deserialize=aP;ZZ1.deserializeStream=rP;ZZ1.serialize=iP;ZZ1.serializeWithBufferAndIndex=nP;ZZ1.setInternalBufferSize=lP});var CG=R((al1,tP)=>{tP.exports=p6().Decimal128});var $1=R((jZ1)=>{jZ1.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup");jZ1.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics");jZ1.arrayParentSymbol=Symbol("mongoose#Array#_parent");jZ1.arrayPathSymbol=Symbol("mongoose#Array#_path");jZ1.arraySchemaSymbol=Symbol("mongoose#Array#_schema");jZ1.documentArrayParent=Symbol("mongoose#documentArrayParent");jZ1.documentIsSelected=Symbol("mongoose#Document#isSelected");jZ1.documentIsModified=Symbol("mongoose#Document#isModified");jZ1.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths");jZ1.documentSchemaSymbol=Symbol("mongoose#Document#schema");jZ1.getSymbol=Symbol("mongoose#Document#get");jZ1.modelSymbol=Symbol("mongoose#Model");jZ1.objectIdSymbol=Symbol("mongoose#ObjectId");jZ1.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model");jZ1.schemaTypeSymbol=Symbol("mongoose#schemaType");jZ1.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments");jZ1.scopeSymbol=Symbol("mongoose#Document#scope");jZ1.validatorErrorSymbol=Symbol("mongoose#validatorError")});var x4=R((rl1,oP)=>{var tX=p6().ObjectId,nZ1=$1().objectIdSymbol;Object.defineProperty(tX.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});/*!
 * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
 */if(!tX.prototype.hasOwnProperty("valueOf"))tX.prototype.valueOf=function Z(){return this.toString()};tX.prototype[nZ1]=!0;oP.exports=tX});var iZ=R((tl1,eP)=>{eP.exports=new Set(["__proto__","constructor","prototype"])});var EG=R((aZ1)=>{aZ1.isMongooseArray=function(Z){return Array.isArray(Z)&&Z.isMongooseArray}});var oX=R((el1,ZT)=>{var rZ1=EG().isMongooseArray;ZT.exports=function(Z){return Z!=null&&(rZ1(Z)||Z.$__!=null||Z.isMongooseBuffer||Z.$isMongooseMap)}});var dU=R((Zi1,YT)=>{var tZ1=/^function\s*([^\s(]+)/;YT.exports=function(Z){return Z.name||(Z.toString().trim().match(tZ1)||[])[1]}});var t8=R((Yi1,JT)=>{var oZ1=function(Z,Y){return typeof Z==="object"&&Z!==null&&Z._bsontype===Y};JT.exports=oZ1});var O5=R((Ji1,XT)=>{XT.exports=function(Z){return Buffer.isBuffer(Z)||Object.prototype.toString.call(Z)==="[object Object]"}});var cU=R((Xi1,$T)=>{$T.exports=function Z(Y){if(Y==null||typeof Y!=="object")return!1;const J=Object.getPrototypeOf(Y);return!J||J.constructor.name==="Object"}});var jY=R((eZ1)=>{var WT=Symbol("mongoose#trustedSymbol");eZ1.trustedSymbol=WT;eZ1.trusted=function Z(Y){if(Y==null||typeof Y!=="object")return Y;return Y[WT]=!0,Y}});var N0=R((Wi1,QT)=>{var iU=function(Z,Y,J){if(Z==null)return Z;if(Array.isArray(Z))return F91(Q91(Z)?Z.__array:Z,Y);if(W91(Z)){if(Y&&Y._skipSingleNestedGetters&&Z.$isSingleNested)Y=Object.assign({},Y,{getters:!1});const $=Z.$isSingleNested;if(H91(Z)&&Z.$__!=null&&Z._doc!=null)return Z._doc;let W;if(Y&&Y.json&&typeof Z.toJSON==="function")W=Z.toJSON(Y);else W=Z.toObject(Y);if(Y&&Y.minimize&&$&&Object.keys(W).length===0)return;return W}const X=Z.constructor;if(X)switch(G91(X)){case"Object":return lU(Z,Y,J);case"Date":return new X(+Z);case"RegExp":return U91(Z);default:break}if(GT(Z,"ObjectId")){if(Y&&Y.flattenObjectIds)return Z.toJSON();return new X91(Z.id)}if(GT(Z,"Decimal128")){if(Y&&Y.flattenDecimals)return Z.toJSON();return J91.fromString(Z.toString())}if(!X&&K91(Z))return lU(Z,Y,J);if(typeof Z==="object"&&Z[z91.schemaTypeSymbol])return Z.clone();if(Y&&Y.bson&&typeof Z.toBSON==="function")return Z;if(typeof Z.valueOf==="function")return Z.valueOf();return lU(Z,Y,J)},lU=function(Z,Y,J){const X=Y&&Y.minimize,$=Y&&Y.omitUndefined,W=Y&&Y._seen,G={};let Q;if(W&&W.has(Z))return W.get(Z);else if(W)W.set(Z,G);if(pU in Z)G[pU]=Z[pU];let K=0,H="";const z=Object.keys(Z),F=z.length;for(K=0;K<F;++K){if($91.has(H=z[K]))continue;const U=iU(Z[H],Y,!1);if((X===!1||$)&&typeof U==="undefined")delete G[H];else if(X!==!0||typeof U!=="undefined")Q||(Q=!0),G[H]=U}return X&&!J?Q&&G:G},F91=function(Z,Y){let J=0;const X=Z.length,$=new Array(X);for(J=0;J<X;++J)$[J]=iU(Z[J],Y,!0);return $},U91=function(Z){const Y=new RegExp(Z.source,Z.flags);if(Y.lastIndex!==Z.lastIndex)Y.lastIndex=Z.lastIndex;return Y},J91=CG(),X91=x4(),$91=iZ(),W91=oX(),G91=dU(),GT=t8(),Q91=EG().isMongooseArray,K91=O5(),H91=cU(),z91=$1(),pU=jY().trustedSymbol;QT.exports=iU;/*!
 * ignore
 */});var OY=R((KT,HT)=>{/*!
 * Connection states
 */var X4=HT.exports=KT=Object.create(null);X4[0]="disconnected";X4[1]="connected";X4[2]="connecting";X4[3]="disconnecting";X4[99]="uninitialized";X4["disconnected"]=0;X4["connected"]=1;X4["connecting"]=2;X4["disconnecting"]=3;X4["uninitialized"]=99});var N6=R((Gi1,zT)=>{/*!
 * Centralize this so we can more easily work around issues with people
 * stubbing out `process.nextTick()` in tests using sinon:
 * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
 * See gh-6074
 */var q91=typeof process!=="undefined"&&typeof process.nextTick==="function"?process.nextTick.bind(process):(Z)=>setTimeout(Z,0);zT.exports=function Z(Y){return q91(Y)}});var qT=R((Qi1,UT)=>{var s1=function(Z,Y,J){if(J===void 0)J={};if(this.opts=J,this.name=Z,this.collectionName=Z,this.conn=Y,this.queue=[],this.buffer=!0,this.emitter=new V91,L91.connected===this.conn.readyState)this.onOpen()};/*!
 * Module dependencies.
 */var V91=import.meta.require("events").EventEmitter,L91=OY(),FT=N6();s1.prototype.name;s1.prototype.collectionName;s1.prototype.conn;s1.prototype.onOpen=function(){this.buffer=!1,FT(()=>this.doQueue())};s1.prototype.onClose=function(){};s1.prototype.addQueue=function(Z,Y){return this.queue.push([Z,Y]),this};s1.prototype.removeQueue=function(Z,Y){const J=this.queue.findIndex((X)=>X[0]===Z&&X[1]===Y);if(J===-1)return!1;return this.queue.splice(J,1),!0};s1.prototype.doQueue=function(){for(let Y of this.queue)if(typeof Y[0]==="function")Y[0].apply(this,Y[1]);else this[Y[0]].apply(this,Y[1]);this.queue=[];const Z=this;return FT(function(){Z.emitter.emit("queue")}),this};s1.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")};s1.prototype.createIndex=function(){throw new Error("Collection#createIndex unimplemented by driver")};s1.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")};s1.prototype.findOneAndUpdate=function(){throw new Error("Collection#findOneAndUpdate unimplemented by driver")};s1.prototype.findOneAndDelete=function(){throw new Error("Collection#findOneAndDelete unimplemented by driver")};s1.prototype.findOneAndReplace=function(){throw new Error("Collection#findOneAndReplace unimplemented by driver")};s1.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")};s1.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")};s1.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")};s1.prototype.insertOne=function(){throw new Error("Collection#insertOne unimplemented by driver")};s1.prototype.insertMany=function(){throw new Error("Collection#insertMany unimplemented by driver")};s1.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")};s1.prototype.updateOne=function(){throw new Error("Collection#updateOne unimplemented by driver")};s1.prototype.updateMany=function(){throw new Error("Collection#updateMany unimplemented by driver")};s1.prototype.deleteOne=function(){throw new Error("Collection#deleteOne unimplemented by driver")};s1.prototype.deleteMany=function(){throw new Error("Collection#deleteMany unimplemented by driver")};s1.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")};s1.prototype.watch=function(){throw new Error("Collection#watch unimplemented by driver")};/*!
 * ignore
 */s1.prototype._shouldBufferCommands=function Z(){const Y=this.opts;if(Y.bufferCommands!=null)return Y.bufferCommands;if(Y&&Y.schemaUserProvidedOptions!=null&&Y.schemaUserProvidedOptions.bufferCommands!=null)return Y.schemaUserProvidedOptions.bufferCommands;return this.conn._shouldBufferCommands()};/*!
 * ignore
 */s1.prototype._getBufferTimeoutMS=function Z(){const Y=this.conn,J=this.opts;if(J.bufferTimeoutMS!=null)return J.bufferTimeoutMS;if(J&&J.schemaUserProvidedOptions!=null&&J.schemaUserProvidedOptions.bufferTimeoutMS!=null)return J.schemaUserProvidedOptions.bufferTimeoutMS;if(Y.config.bufferTimeoutMS!=null)return Y.config.bufferTimeoutMS;if(Y.base!=null&&Y.base.get("bufferTimeoutMS")!=null)return Y.base.get("bufferTimeoutMS");return 1e4};/*!
 * Module exports.
 */UT.exports=s1});var z0=R((Ki1,VT)=>{/*!
 * ignore
 */class nU extends Error{}Object.defineProperty(nU.prototype,"name",{value:"MongooseError"});VT.exports=nU});var G0=R((j0)=>{var R91=function(Z){const{fieldsAsRaw:Y,useBigInt64:J,promoteValues:X,promoteBuffers:$,promoteLongs:W,serializeFunctions:G,ignoreUndefined:Q,bsonRegExp:K,raw:H,enableUtf8Validation:z}=Z;return{fieldsAsRaw:Y,useBigInt64:J,promoteValues:X,promoteBuffers:$,promoteLongs:W,serializeFunctions:G,ignoreUndefined:Q,bsonRegExp:K,raw:H,enableUtf8Validation:z}},w91=function(Z,Y){const J=Y?.bsonOptions;return{raw:Z?.raw??J?.raw??!1,useBigInt64:Z?.useBigInt64??J?.useBigInt64??!1,promoteLongs:Z?.promoteLongs??J?.promoteLongs??!0,promoteValues:Z?.promoteValues??J?.promoteValues??!0,promoteBuffers:Z?.promoteBuffers??J?.promoteBuffers??!1,ignoreUndefined:Z?.ignoreUndefined??J?.ignoreUndefined??!1,bsonRegExp:Z?.bsonRegExp??J?.bsonRegExp??!1,serializeFunctions:Z?.serializeFunctions??J?.serializeFunctions??!1,fieldsAsRaw:Z?.fieldsAsRaw??J?.fieldsAsRaw??{},enableUtf8Validation:Z?.enableUtf8Validation??J?.enableUtf8Validation??!0}};Object.defineProperty(j0,"__esModule",{value:!0});j0.resolveBSONOptions=j0.pluckBSONSerializeOptions=j0.UUID=j0.Timestamp=j0.serialize=j0.ObjectId=j0.MinKey=j0.MaxKey=j0.Long=j0.Int32=j0.Double=j0.deserialize=j0.Decimal128=j0.DBRef=j0.Code=j0.calculateObjectSize=j0.BSONType=j0.BSONSymbol=j0.BSONRegExp=j0.BSON=j0.Binary=void 0;var u0=p6();Object.defineProperty(j0,"Binary",{enumerable:!0,get:function(){return u0.Binary}});Object.defineProperty(j0,"BSON",{enumerable:!0,get:function(){return u0.BSON}});Object.defineProperty(j0,"BSONRegExp",{enumerable:!0,get:function(){return u0.BSONRegExp}});Object.defineProperty(j0,"BSONSymbol",{enumerable:!0,get:function(){return u0.BSONSymbol}});Object.defineProperty(j0,"BSONType",{enumerable:!0,get:function(){return u0.BSONType}});Object.defineProperty(j0,"calculateObjectSize",{enumerable:!0,get:function(){return u0.calculateObjectSize}});Object.defineProperty(j0,"Code",{enumerable:!0,get:function(){return u0.Code}});Object.defineProperty(j0,"DBRef",{enumerable:!0,get:function(){return u0.DBRef}});Object.defineProperty(j0,"Decimal128",{enumerable:!0,get:function(){return u0.Decimal128}});Object.defineProperty(j0,"deserialize",{enumerable:!0,get:function(){return u0.deserialize}});Object.defineProperty(j0,"Double",{enumerable:!0,get:function(){return u0.Double}});Object.defineProperty(j0,"Int32",{enumerable:!0,get:function(){return u0.Int32}});Object.defineProperty(j0,"Long",{enumerable:!0,get:function(){return u0.Long}});Object.defineProperty(j0,"MaxKey",{enumerable:!0,get:function(){return u0.MaxKey}});Object.defineProperty(j0,"MinKey",{enumerable:!0,get:function(){return u0.MinKey}});Object.defineProperty(j0,"ObjectId",{enumerable:!0,get:function(){return u0.ObjectId}});Object.defineProperty(j0,"serialize",{enumerable:!0,get:function(){return u0.serialize}});Object.defineProperty(j0,"Timestamp",{enumerable:!0,get:function(){return u0.Timestamp}});Object.defineProperty(j0,"UUID",{enumerable:!0,get:function(){return u0.UUID}});j0.pluckBSONSerializeOptions=R91;j0.resolveBSONOptions=w91});var o=R((cT)=>{var B91=function(Z){return("errors"in Z)&&Array.isArray(Z.errors)},A91=function(Z){return Z[fT]===!0},N91=function(Z){const Y=Object.assign({},Z);if(Y.ok===0)Y.ok=1,delete Y.errmsg,delete Y.code,delete Y.codeName;return Y},I91=function(Z,Y){if(Z instanceof nZ)return!0;if(Z instanceof $4){if((Y>=9||Z.hasErrorLabel(cT.MongoErrorLabel.RetryableWriteError))&&!Z.hasErrorLabel(cT.MongoErrorLabel.HandshakeError))return!1}if(Z instanceof tU)return RT.has(Z.result?.code??Z.code??0);if(Z instanceof $4&&typeof Z.code==="number")return RT.has(Z.code);if(cT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(cT.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},D91=function(Z){return Z.hasErrorLabel(cT.MongoErrorLabel.RetryableWriteError)},P91=function(Z){if(typeof Z.code==="number"?uT.has(Z.code):!1)return!0;if(Z instanceof nZ)return!0;if(cT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message))return!0;if(cT.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message))return!0;return!1},dT=function(Z){if(typeof Z.code==="number")return T91.has(Z.code);return cT.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(Z.message)||cT.NODE_IS_RECOVERING_ERROR_MESSAGE.test(Z.message)},j91=function(Z){if(typeof Z.code==="number")return C91.has(Z.code);if(dT(Z))return!1;return cT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(Z.message)},O91=function(Z){return!!(typeof Z.code==="number"&&E91.has(Z.code))},S91=function(Z){if(Z instanceof sU||Z==null)return!0;return dT(Z)||j91(Z)},k91=function(Z){return!!(Z instanceof nZ&&Z.message.match(/timed out/))},_91=function(Z,Y){if(Z==null||!(Z instanceof $4))return!1;if(Z instanceof nZ)return!0;if(Y!=null&&Y>=9){if(Z.code===cT.MONGODB_ERROR_CODES.CursorNotFound)return!0;return Z.hasErrorLabel(cT.MongoErrorLabel.ResumableChangeStreamError)}if(typeof Z.code==="number")return cT.GET_MORE_RESUMABLE_CODES.has(Z.code);return!1};Object.defineProperty(cT,"__esModule",{value:!0});cT.isResumableError=cT.isNetworkTimeoutError=cT.isSDAMUnrecoverableError=cT.isNodeShuttingDownError=cT.isRetryableReadError=cT.isRetryableWriteError=cT.needsRetryableWriteLabel=cT.MongoWriteConcernError=cT.MongoServerSelectionError=cT.MongoSystemError=cT.MongoMissingDependencyError=cT.MongoMissingCredentialsError=cT.MongoCompatibilityError=cT.MongoInvalidArgumentError=cT.MongoParseError=cT.MongoNetworkTimeoutError=cT.MongoNetworkError=cT.isNetworkErrorBeforeHandshake=cT.MongoTopologyClosedError=cT.MongoCursorExhaustedError=cT.MongoServerClosedError=cT.MongoCursorInUseError=cT.MongoUnexpectedServerResponseError=cT.MongoGridFSChunkError=cT.MongoGridFSStreamError=cT.MongoTailableCursorError=cT.MongoChangeStreamError=cT.MongoAzureError=cT.MongoAWSError=cT.MongoKerberosError=cT.MongoExpiredSessionError=cT.MongoTransactionError=cT.MongoNotConnectedError=cT.MongoDecompressionError=cT.MongoBatchReExecutionError=cT.MongoRuntimeError=cT.MongoAPIError=cT.MongoDriverError=cT.MongoServerError=cT.MongoError=cT.MongoErrorLabel=cT.GET_MORE_RESUMABLE_CODES=cT.MONGODB_ERROR_CODES=cT.NODE_IS_RECOVERING_ERROR_MESSAGE=cT.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=cT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;var eX=Symbol("errorLabels");cT.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i");cT.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i");cT.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i");cT.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391});cT.GET_MORE_RESUMABLE_CODES=new Set([cT.MONGODB_ERROR_CODES.HostUnreachable,cT.MONGODB_ERROR_CODES.HostNotFound,cT.MONGODB_ERROR_CODES.NetworkTimeout,cT.MONGODB_ERROR_CODES.ShutdownInProgress,cT.MONGODB_ERROR_CODES.PrimarySteppedDown,cT.MONGODB_ERROR_CODES.ExceededTimeLimit,cT.MONGODB_ERROR_CODES.SocketException,cT.MONGODB_ERROR_CODES.NotWritablePrimary,cT.MONGODB_ERROR_CODES.InterruptedAtShutdown,cT.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,cT.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,cT.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,cT.MONGODB_ERROR_CODES.StaleShardVersion,cT.MONGODB_ERROR_CODES.StaleEpoch,cT.MONGODB_ERROR_CODES.StaleConfig,cT.MONGODB_ERROR_CODES.RetryChangeStream,cT.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,cT.MONGODB_ERROR_CODES.CursorNotFound]);cT.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});class $4 extends Error{constructor(Z,Y){super(Z,Y);this[eX]=new Set}static buildErrorMessage(Z){if(typeof Z==="string")return Z;if(B91(Z)&&Z.message.length===0)return Z.errors.length===0?"AggregateError has an empty errors array. Please check the `cause` property for more information.":Z.errors.map(({message:Y})=>Y).join(", ");return Z.message}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(Z){return this[eX].has(Z)}addErrorLabel(Z){this[eX].add(Z)}get errorLabels(){return Array.from(this[eX])}}cT.MongoError=$4;class aU extends $4{constructor(Z){super(Z.message||Z.errmsg||Z.$err||"n/a");if(Z.errorLabels)this[eX]=new Set(Z.errorLabels);for(let Y in Z)if(Y!=="errorLabels"&&Y!=="errmsg"&&Y!=="message")this[Y]=Z[Y]}get name(){return"MongoServerError"}}cT.MongoServerError=aU;class Y3 extends $4{constructor(Z,Y){super(Z,Y)}get name(){return"MongoDriverError"}}cT.MongoDriverError=Y3;class k8 extends Y3{constructor(Z,Y){super(Z,Y)}get name(){return"MongoAPIError"}}cT.MongoAPIError=k8;class W4 extends Y3{constructor(Z,Y){super(Z,Y)}get name(){return"MongoRuntimeError"}}cT.MongoRuntimeError=W4;class wT extends k8{constructor(Z="This batch has already been executed, create new batch to execute"){super(Z)}get name(){return"MongoBatchReExecutionError"}}cT.MongoBatchReExecutionError=wT;class MT extends W4{constructor(Z){super(Z)}get name(){return"MongoDecompressionError"}}cT.MongoDecompressionError=MT;class BT extends k8{constructor(Z){super(Z)}get name(){return"MongoNotConnectedError"}}cT.MongoNotConnectedError=BT;class AT extends k8{constructor(Z){super(Z)}get name(){return"MongoTransactionError"}}cT.MongoTransactionError=AT;class NT extends k8{constructor(Z="Cannot use a session that has ended"){super(Z)}get name(){return"MongoExpiredSessionError"}}cT.MongoExpiredSessionError=NT;class IT extends W4{constructor(Z){super(Z)}get name(){return"MongoKerberosError"}}cT.MongoKerberosError=IT;class DT extends W4{constructor(Z){super(Z)}get name(){return"MongoAWSError"}}cT.MongoAWSError=DT;class PT extends W4{constructor(Z){super(Z)}get name(){return"MongoAzureError"}}cT.MongoAzureError=PT;class TT extends W4{constructor(Z){super(Z)}get name(){return"MongoChangeStreamError"}}cT.MongoChangeStreamError=TT;class CT extends k8{constructor(Z="Tailable cursor does not support this operation"){super(Z)}get name(){return"MongoTailableCursorError"}}cT.MongoTailableCursorError=CT;class ET extends W4{constructor(Z){super(Z)}get name(){return"MongoGridFSStreamError"}}cT.MongoGridFSStreamError=ET;class jT extends W4{constructor(Z){super(Z)}get name(){return"MongoGridFSChunkError"}}cT.MongoGridFSChunkError=jT;class OT extends W4{constructor(Z){super(Z)}get name(){return"MongoUnexpectedServerResponseError"}}cT.MongoUnexpectedServerResponseError=OT;class ST extends k8{constructor(Z="Cursor is already initialized"){super(Z)}get name(){return"MongoCursorInUseError"}}cT.MongoCursorInUseError=ST;class kT extends k8{constructor(Z="Server is closed"){super(Z)}get name(){return"MongoServerClosedError"}}cT.MongoServerClosedError=kT;class _T extends k8{constructor(Z){super(Z||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}}cT.MongoCursorExhaustedError=_T;class xT extends k8{constructor(Z="Topology is closed"){super(Z)}get name(){return"MongoTopologyClosedError"}}cT.MongoTopologyClosedError=xT;var fT=Symbol("beforeHandshake");cT.isNetworkErrorBeforeHandshake=A91;class nZ extends $4{constructor(Z,Y){super(Z,{cause:Y?.cause});if(Y&&typeof Y.beforeHandshake==="boolean")this[fT]=Y.beforeHandshake}get name(){return"MongoNetworkError"}}cT.MongoNetworkError=nZ;class yT extends nZ{constructor(Z,Y){super(Z,Y)}get name(){return"MongoNetworkTimeoutError"}}cT.MongoNetworkTimeoutError=yT;class sU extends Y3{constructor(Z){super(Z)}get name(){return"MongoParseError"}}cT.MongoParseError=sU;class gT extends k8{constructor(Z){super(Z)}get name(){return"MongoInvalidArgumentError"}}cT.MongoInvalidArgumentError=gT;class bT extends k8{constructor(Z){super(Z)}get name(){return"MongoCompatibilityError"}}cT.MongoCompatibilityError=bT;class vT extends k8{constructor(Z){super(Z)}get name(){return"MongoMissingCredentialsError"}}cT.MongoMissingCredentialsError=vT;class hT extends k8{constructor(Z,Y={}){super(Z,Y)}get name(){return"MongoMissingDependencyError"}}cT.MongoMissingDependencyError=hT;class rU extends $4{constructor(Z,Y){if(Y&&Y.error)super($4.buildErrorMessage(Y.error.message||Y.error),{cause:Y.error});else super(Z);if(Y)this.reason=Y;this.code=Y.error?.code}get name(){return"MongoSystemError"}}cT.MongoSystemError=rU;class mT extends rU{constructor(Z,Y){super(Z,Y)}get name(){return"MongoServerSelectionError"}}cT.MongoServerSelectionError=mT;class tU extends aU{constructor(Z,Y){if(Y&&Array.isArray(Y.errorLabels))Z.errorLabels=Y.errorLabels;super(Z);if(this.errInfo=Z.errInfo,Y!=null)this.result=N91(Y)}get name(){return"MongoWriteConcernError"}}cT.MongoWriteConcernError=tU;var uT=new Set([cT.MONGODB_ERROR_CODES.HostUnreachable,cT.MONGODB_ERROR_CODES.HostNotFound,cT.MONGODB_ERROR_CODES.NetworkTimeout,cT.MONGODB_ERROR_CODES.ShutdownInProgress,cT.MONGODB_ERROR_CODES.PrimarySteppedDown,cT.MONGODB_ERROR_CODES.SocketException,cT.MONGODB_ERROR_CODES.NotWritablePrimary,cT.MONGODB_ERROR_CODES.InterruptedAtShutdown,cT.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,cT.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,cT.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),RT=new Set([...uT,cT.MONGODB_ERROR_CODES.ExceededTimeLimit]);cT.needsRetryableWriteLabel=I91;cT.isRetryableWriteError=D91;cT.isRetryableReadError=P91;var T91=new Set([cT.MONGODB_ERROR_CODES.ShutdownInProgress,cT.MONGODB_ERROR_CODES.PrimarySteppedDown,cT.MONGODB_ERROR_CODES.InterruptedAtShutdown,cT.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,cT.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),C91=new Set([cT.MONGODB_ERROR_CODES.NotWritablePrimary,cT.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,cT.MONGODB_ERROR_CODES.LegacyNotPrimary]),E91=new Set([cT.MONGODB_ERROR_CODES.InterruptedAtShutdown,cT.MONGODB_ERROR_CODES.ShutdownInProgress]);cT.isNodeShuttingDownError=O91;cT.isSDAMUnrecoverableError=S91;cT.isNetworkTimeoutError=k91;cT.isResumableError=_91});var d0=R((nT)=>{Object.defineProperty(nT,"__esModule",{value:!0});nT.ReadPreference=nT.ReadPreferenceMode=void 0;var aZ=o();nT.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});class E1{constructor(Z,Y,J){if(!E1.isValid(Z))throw new aZ.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(Z)}`);if(J==null&&typeof Y==="object"&&!Array.isArray(Y))J=Y,Y=void 0;else if(Y&&!Array.isArray(Y))throw new aZ.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=Z,this.tags=Y,this.hedge=J?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,J=J??{},J.maxStalenessSeconds!=null){if(J.maxStalenessSeconds<=0)throw new aZ.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=J.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===E1.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new aZ.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new aZ.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new aZ.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(Z){return new E1(Z)}static fromOptions(Z){if(!Z)return;const Y=Z.readPreference??Z.session?.transaction.options.readPreference,J=Z.readPreferenceTags;if(Y==null)return;if(typeof Y==="string")return new E1(Y,J,{maxStalenessSeconds:Z.maxStalenessSeconds,hedge:Z.hedge});else if(!(Y instanceof E1)&&typeof Y==="object"){const X=Y.mode||Y.preference;if(X&&typeof X==="string")return new E1(X,Y.tags??J,{maxStalenessSeconds:Y.maxStalenessSeconds,hedge:Z.hedge})}if(J)Y.tags=J;return Y}static translate(Z){if(Z.readPreference==null)return Z;const Y=Z.readPreference;if(typeof Y==="string")Z.readPreference=new E1(Y);else if(Y&&!(Y instanceof E1)&&typeof Y==="object"){const J=Y.mode||Y.preference;if(J&&typeof J==="string")Z.readPreference=new E1(J,Y.tags,{maxStalenessSeconds:Y.maxStalenessSeconds})}else if(!(Y instanceof E1))throw new aZ.MongoInvalidArgumentError(`Invalid read preference: ${Y}`);return Z}static isValid(Z){return(new Set([E1.PRIMARY,E1.PRIMARY_PREFERRED,E1.SECONDARY,E1.SECONDARY_PREFERRED,E1.NEAREST,null])).has(Z)}isValid(Z){return E1.isValid(typeof Z==="string"?Z:this.mode)}secondaryOk(){return(new Set([E1.PRIMARY_PREFERRED,E1.SECONDARY,E1.SECONDARY_PREFERRED,E1.NEAREST])).has(this.mode)}equals(Z){return Z.mode===this.mode}toJSON(){const Z={mode:this.mode};if(Array.isArray(this.tags))Z.tags=this.tags;if(this.maxStalenessSeconds)Z.maxStalenessSeconds=this.maxStalenessSeconds;if(this.hedge)Z.hedge=this.hedge;return Z}}E1.PRIMARY=nT.ReadPreferenceMode.primary;E1.PRIMARY_PREFERRED=nT.ReadPreferenceMode.primaryPreferred;E1.SECONDARY=nT.ReadPreferenceMode.secondary;E1.SECONDARY_PREFERRED=nT.ReadPreferenceMode.secondaryPreferred;E1.NEAREST=nT.ReadPreferenceMode.nearest;E1.primary=new E1(nT.ReadPreferenceMode.primary);E1.primaryPreferred=new E1(nT.ReadPreferenceMode.primaryPreferred);E1.secondary=new E1(nT.ReadPreferenceMode.secondary);E1.secondaryPreferred=new E1(nT.ReadPreferenceMode.secondaryPreferred);E1.nearest=new E1(nT.ReadPreferenceMode.nearest);nT.ReadPreference=E1});var l6=R((sT)=>{var BY1=function(Z){Z.forEach(MY1.clearTimeout),Z.clear()},AY1=function(Z,Y){if(Z.clusterTime==null)Z.clusterTime=Y;else if(Y.clusterTime.greaterThan(Z.clusterTime.clusterTime))Z.clusterTime=Y};Object.defineProperty(sT,"__esModule",{value:!0});sT._advanceClusterTime=sT.drainTimerQueue=sT.ServerType=sT.TopologyType=sT.STATE_CONNECTED=sT.STATE_CONNECTING=sT.STATE_CLOSED=sT.STATE_CLOSING=void 0;var MY1=import.meta.require("timers");sT.STATE_CLOSING="closing";sT.STATE_CLOSED="closed";sT.STATE_CONNECTING="connecting";sT.STATE_CONNECTED="connected";sT.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});sT.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});sT.drainTimerQueue=BY1;sT._advanceClusterTime=AY1});var X3=R((oT)=>{var OY1=function(){return(Z,Y)=>oU(Z,Y.filter((J)=>J.isWritable))},SY1=function(Z){return(Y,J)=>{if(!Z)return[];return J.filter((X)=>{return X.address===Z.address&&X.type!==I6.ServerType.Unknown})}},kY1=function(Z,Y){if(!Y||!Z||Z&&Z<oT.MIN_SECONDARY_WRITE_WIRE_VERSION)return eU(J3.ReadPreference.primary);return eU(Y)},_Y1=function(Z,Y,J){if(Z.maxStalenessSeconds==null||Z.maxStalenessSeconds<0)return J;const X=Z.maxStalenessSeconds,$=(Y.heartbeatFrequencyMS+jY1)/1000;if(X<$)throw new kG.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${$} seconds`);if(X<tT)throw new kG.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${tT} seconds`);if(Y.type===I6.TopologyType.ReplicaSetWithPrimary){const W=Array.from(Y.servers.values()).filter(SG)[0];return J.reduce((G,Q)=>{const H=(Q.lastUpdateTime-Q.lastWriteDate-(W.lastUpdateTime-W.lastWriteDate)+Y.heartbeatFrequencyMS)/1000,z=Z.maxStalenessSeconds??0;if(H<=z)G.push(Q);return G},[])}if(Y.type===I6.TopologyType.ReplicaSetNoPrimary){if(J.length===0)return J;const W=J.reduce((G,Q)=>Q.lastWriteDate>G.lastWriteDate?Q:G);return J.reduce((G,Q)=>{const H=(W.lastWriteDate-Q.lastWriteDate+Y.heartbeatFrequencyMS)/1000,z=Z.maxStalenessSeconds??0;if(H<=z)G.push(Q);return G},[])}return J},xY1=function(Z,Y){const J=Object.keys(Z),X=Object.keys(Y);for(let $=0;$<J.length;++$){const W=J[$];if(X.indexOf(W)===-1||Y[W]!==Z[W])return!1}return!0},fY1=function(Z,Y){if(Z.tags==null||Array.isArray(Z.tags)&&Z.tags.length===0)return Y;for(let J=0;J<Z.tags.length;++J){const X=Z.tags[J],$=Y.reduce((W,G)=>{if(xY1(X,G.tags))W.push(G);return W},[]);if($.length)return $}return[]},oU=function(Z,Y){const J=Y.reduce(($,W)=>$===-1?W.roundTripTime:Math.min(W.roundTripTime,$),-1),X=J+Z.localThresholdMS;return Y.reduce(($,W)=>{if(W.roundTripTime<=X&&W.roundTripTime>=J)$.push(W);return $},[])},SG=function(Z){return Z.type===I6.ServerType.RSPrimary},yY1=function(Z){return Z.type===I6.ServerType.RSSecondary},gY1=function(Z){return Z.type===I6.ServerType.RSSecondary||Z.type===I6.ServerType.RSPrimary},bY1=function(Z){return Z.type!==I6.ServerType.Unknown},vY1=function(Z){return Z.type===I6.ServerType.LoadBalancer},eU=function(Z){if(!Z.isValid())throw new kG.MongoInvalidArgumentError("Invalid read preference specified");return(Y,J)=>{const X=Y.commonWireVersion;if(X&&Z.minWireVersion&&Z.minWireVersion>X)throw new kG.MongoCompatibilityError(`Minimum wire version '${Z.minWireVersion}' required, but found '${X}'`);if(Y.type===I6.TopologyType.LoadBalanced)return J.filter(vY1);if(Y.type===I6.TopologyType.Unknown)return[];if(Y.type===I6.TopologyType.Single||Y.type===I6.TopologyType.Sharded)return oU(Y,J.filter(bY1));const $=Z.mode;if($===J3.ReadPreference.PRIMARY)return J.filter(SG);if($===J3.ReadPreference.PRIMARY_PREFERRED){const Q=J.filter(SG);if(Q.length)return Q}const W=$===J3.ReadPreference.NEAREST?gY1:yY1,G=oU(Y,fY1(Z,_Y1(Z,Y,J.filter(W))));if($===J3.ReadPreference.SECONDARY_PREFERRED&&G.length===0)return J.filter(SG);return G}};Object.defineProperty(oT,"__esModule",{value:!0});oT.readPreferenceServerSelector=oT.secondaryWritableServerSelector=oT.sameServerSelector=oT.writableServerSelector=oT.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;var kG=o(),J3=d0(),I6=l6(),jY1=1e4,tT=90;oT.MIN_SECONDARY_WRITE_WIRE_VERSION=13;oT.writableServerSelector=OY1;oT.sameServerSelector=SY1;oT.secondaryWritableServerSelector=kY1;oT.readPreferenceServerSelector=eU});var sZ=R((YC)=>{Object.defineProperty(YC,"__esModule",{value:!0});YC.OP_MSG=YC.OP_COMPRESSED=YC.OP_DELETE=YC.OP_QUERY=YC.OP_INSERT=YC.OP_UPDATE=YC.OP_REPLY=YC.MIN_SUPPORTED_QE_SERVER_VERSION=YC.MIN_SUPPORTED_QE_WIRE_VERSION=YC.MAX_SUPPORTED_WIRE_VERSION=YC.MIN_SUPPORTED_WIRE_VERSION=YC.MAX_SUPPORTED_SERVER_VERSION=YC.MIN_SUPPORTED_SERVER_VERSION=void 0;YC.MIN_SUPPORTED_SERVER_VERSION="3.6";YC.MAX_SUPPORTED_SERVER_VERSION="7.0";YC.MIN_SUPPORTED_WIRE_VERSION=6;YC.MAX_SUPPORTED_WIRE_VERSION=21;YC.MIN_SUPPORTED_QE_WIRE_VERSION=21;YC.MIN_SUPPORTED_QE_SERVER_VERSION="7.0";YC.OP_REPLY=1;YC.OP_UPDATE=2001;YC.OP_INSERT=2002;YC.OP_QUERY=2004;YC.OP_DELETE=2006;YC.OP_COMPRESSED=2012;YC.OP_MSG=2013});var s0=R((XC)=>{Object.defineProperty(XC,"__esModule",{value:!0});XC.TOPOLOGY_EVENTS=XC.CMAP_EVENTS=XC.HEARTBEAT_EVENTS=XC.RESUME_TOKEN_CHANGED=XC.END=XC.CHANGE=XC.INIT=XC.MORE=XC.RESPONSE=XC.SERVER_HEARTBEAT_FAILED=XC.SERVER_HEARTBEAT_SUCCEEDED=XC.SERVER_HEARTBEAT_STARTED=XC.COMMAND_FAILED=XC.COMMAND_SUCCEEDED=XC.COMMAND_STARTED=XC.CLUSTER_TIME_RECEIVED=XC.CONNECTION_CHECKED_IN=XC.CONNECTION_CHECKED_OUT=XC.CONNECTION_CHECK_OUT_FAILED=XC.CONNECTION_CHECK_OUT_STARTED=XC.CONNECTION_CLOSED=XC.CONNECTION_READY=XC.CONNECTION_CREATED=XC.CONNECTION_POOL_READY=XC.CONNECTION_POOL_CLEARED=XC.CONNECTION_POOL_CLOSED=XC.CONNECTION_POOL_CREATED=XC.TOPOLOGY_DESCRIPTION_CHANGED=XC.TOPOLOGY_CLOSED=XC.TOPOLOGY_OPENING=XC.SERVER_DESCRIPTION_CHANGED=XC.SERVER_CLOSED=XC.SERVER_OPENING=XC.DESCRIPTION_RECEIVED=XC.UNPINNED=XC.PINNED=XC.MESSAGE=XC.ENDED=XC.CLOSED=XC.CONNECT=XC.OPEN=XC.CLOSE=XC.TIMEOUT=XC.ERROR=XC.SYSTEM_JS_COLLECTION=XC.SYSTEM_COMMAND_COLLECTION=XC.SYSTEM_USER_COLLECTION=XC.SYSTEM_PROFILE_COLLECTION=XC.SYSTEM_INDEX_COLLECTION=XC.SYSTEM_NAMESPACE_COLLECTION=void 0;XC.LEGACY_HELLO_COMMAND_CAMEL_CASE=XC.LEGACY_HELLO_COMMAND=XC.MONGO_CLIENT_EVENTS=XC.LOCAL_SERVER_EVENTS=XC.SERVER_RELAY_EVENTS=XC.APM_EVENTS=void 0;XC.SYSTEM_NAMESPACE_COLLECTION="system.namespaces";XC.SYSTEM_INDEX_COLLECTION="system.indexes";XC.SYSTEM_PROFILE_COLLECTION="system.profile";XC.SYSTEM_USER_COLLECTION="system.users";XC.SYSTEM_COMMAND_COLLECTION="$cmd";XC.SYSTEM_JS_COLLECTION="system.js";XC.ERROR="error";XC.TIMEOUT="timeout";XC.CLOSE="close";XC.OPEN="open";XC.CONNECT="connect";XC.CLOSED="closed";XC.ENDED="ended";XC.MESSAGE="message";XC.PINNED="pinned";XC.UNPINNED="unpinned";XC.DESCRIPTION_RECEIVED="descriptionReceived";XC.SERVER_OPENING="serverOpening";XC.SERVER_CLOSED="serverClosed";XC.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged";XC.TOPOLOGY_OPENING="topologyOpening";XC.TOPOLOGY_CLOSED="topologyClosed";XC.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged";XC.CONNECTION_POOL_CREATED="connectionPoolCreated";XC.CONNECTION_POOL_CLOSED="connectionPoolClosed";XC.CONNECTION_POOL_CLEARED="connectionPoolCleared";XC.CONNECTION_POOL_READY="connectionPoolReady";XC.CONNECTION_CREATED="connectionCreated";XC.CONNECTION_READY="connectionReady";XC.CONNECTION_CLOSED="connectionClosed";XC.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted";XC.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed";XC.CONNECTION_CHECKED_OUT="connectionCheckedOut";XC.CONNECTION_CHECKED_IN="connectionCheckedIn";XC.CLUSTER_TIME_RECEIVED="clusterTimeReceived";XC.COMMAND_STARTED="commandStarted";XC.COMMAND_SUCCEEDED="commandSucceeded";XC.COMMAND_FAILED="commandFailed";XC.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted";XC.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded";XC.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed";XC.RESPONSE="response";XC.MORE="more";XC.INIT="init";XC.CHANGE="change";XC.END="end";XC.RESUME_TOKEN_CHANGED="resumeTokenChanged";XC.HEARTBEAT_EVENTS=Object.freeze([XC.SERVER_HEARTBEAT_STARTED,XC.SERVER_HEARTBEAT_SUCCEEDED,XC.SERVER_HEARTBEAT_FAILED]);XC.CMAP_EVENTS=Object.freeze([XC.CONNECTION_POOL_CREATED,XC.CONNECTION_POOL_READY,XC.CONNECTION_POOL_CLEARED,XC.CONNECTION_POOL_CLOSED,XC.CONNECTION_CREATED,XC.CONNECTION_READY,XC.CONNECTION_CLOSED,XC.CONNECTION_CHECK_OUT_STARTED,XC.CONNECTION_CHECK_OUT_FAILED,XC.CONNECTION_CHECKED_OUT,XC.CONNECTION_CHECKED_IN]);XC.TOPOLOGY_EVENTS=Object.freeze([XC.SERVER_OPENING,XC.SERVER_CLOSED,XC.SERVER_DESCRIPTION_CHANGED,XC.TOPOLOGY_OPENING,XC.TOPOLOGY_CLOSED,XC.TOPOLOGY_DESCRIPTION_CHANGED,XC.ERROR,XC.TIMEOUT,XC.CLOSE]);XC.APM_EVENTS=Object.freeze([XC.COMMAND_STARTED,XC.COMMAND_SUCCEEDED,XC.COMMAND_FAILED]);XC.SERVER_RELAY_EVENTS=Object.freeze([XC.SERVER_HEARTBEAT_STARTED,XC.SERVER_HEARTBEAT_SUCCEEDED,XC.SERVER_HEARTBEAT_FAILED,XC.COMMAND_STARTED,XC.COMMAND_SUCCEEDED,XC.COMMAND_FAILED,...XC.CMAP_EVENTS]);XC.LOCAL_SERVER_EVENTS=Object.freeze([XC.CONNECT,XC.DESCRIPTION_RECEIVED,XC.CLOSED,XC.ENDED]);XC.MONGO_CLIENT_EVENTS=Object.freeze([...XC.CMAP_EVENTS,...XC.APM_EVENTS,...XC.TOPOLOGY_EVENTS,...XC.HEARTBEAT_EVENTS]);XC.LEGACY_HELLO_COMMAND="ismaster";XC.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"});var i6=R((kC)=>{Object.defineProperty(kC,"__esModule",{value:!0});kC.ReadConcern=kC.ReadConcernLevel=void 0;kC.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});class kY{constructor(Z){this.level=kC.ReadConcernLevel[Z]??Z}static fromOptions(Z){if(Z==null)return;if(Z.readConcern){const{readConcern:Y}=Z;if(Y instanceof kY)return Y;else if(typeof Y==="string")return new kY(Y);else if(("level"in Y)&&Y.level)return new kY(Y.level)}if(Z.level)return new kY(Z.level);return}static get MAJORITY(){return kC.ReadConcernLevel.majority}static get AVAILABLE(){return kC.ReadConcernLevel.available}static get LINEARIZABLE(){return kC.ReadConcernLevel.linearizable}static get SNAPSHOT(){return kC.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}}kC.ReadConcern=kY});var o8=R((xC)=>{Object.defineProperty(xC,"__esModule",{value:!0});xC.WriteConcern=xC.WRITE_CONCERN_KEYS=void 0;xC.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];class $3{constructor(Z,Y,J,X){if(Z!=null)if(!Number.isNaN(Number(Z)))this.w=Number(Z);else this.w=Z;if(Y!=null)this.wtimeoutMS=this.wtimeout=Y;if(J!=null)this.journal=this.j=J;if(X!=null)this.journal=this.j=X?!0:!1}static apply(Z,Y){const J={};if(Y.w!=null)J.w=Y.w;if(Y.wtimeoutMS!=null)J.wtimeout=Y.wtimeoutMS;if(Y.journal!=null)J.j=Y.j;return Z.writeConcern=J,Z}static fromOptions(Z,Y){if(Z==null)return;Y=Y??{};let J;if(typeof Z==="string"||typeof Z==="number")J={w:Z};else if(Z instanceof $3)J=Z;else J=Z.writeConcern;const X=Y instanceof $3?Y:Y.writeConcern,{w:$=void 0,wtimeout:W=void 0,j:G=void 0,fsync:Q=void 0,journal:K=void 0,wtimeoutMS:H=void 0}={...X,...J};if($!=null||W!=null||H!=null||G!=null||K!=null||Q!=null)return new $3($,W??H,G??K,Q);return}}xC.WriteConcern=$3});var Q1=R((nC)=>{var _J1=function(Z,Y){for(let J of Y)if(Z===J||J.startsWith("*.")&&Z?.endsWith(J.substring(2,J.length))||J.startsWith("*/")&&Z?.endsWith(J.substring(2,J.length)))return!0;return!1},xJ1=function(Z){let Y=void 0;if(typeof Z==="string")Y=Z;else if(Array.isArray(Z))Y={},Z.forEach((J)=>{Y[J]=1});else if(Z!=null&&typeof Z==="object"){Y={};for(let J in Z)Y[J]=Z[J]}return Y},Kq=function(Z){return fJ1(Z)==="[object Object]"},yJ1=function(Z,Y){return{...Z,...Y}},gJ1=function(Z,Y){const J={};for(let X in Z)if(Y.includes(X))J[X]=Z[X];return J},bJ1=function(Z,Y){if(Y&&Y.s.options?.retryWrites)Z.retryWrites=!0;return Z},vJ1=function(Z){return!!Z&&typeof Z.then==="function"},hJ1=function(Z,Y,J){const X=vC(Y).capabilities;if(J.collation&&typeof J.collation==="object")if(X&&X.commandsTakeCollation)Z.collation=J.collation;else throw new A7.MongoCompatibilityError("Current topology does not support collation")},mJ1=function(Z,Y,J){if(J&&J.session&&J.session.inTransaction())return;const X=Object.assign({},Z.readConcern||{});if(Y.s.readConcern)Object.assign(X,Y.s.readConcern);if(Object.keys(X).length>0)Object.assign(Z,{readConcern:X})},uJ1=function(Z,Y){if(Z.explain)return Z;return{explain:Z,verbosity:Y.verbosity}},vC=function(Z){if(("topology"in Z)&&Z.topology)return Z.topology;else if(("client"in Z)&&Z.client.topology)return Z.client.topology;throw new A7.MongoNotConnectedError("MongoClient must be connected to perform this operation")},dJ1=function(Z){return Q3.fromString(Z)};function*cJ1(Z=0){let Y=Z;while(!0){const J=Y;Y+=1,yield J}}var pJ1=function(Z,Y){const J=Z();if(Y==null)return J;J.then((X)=>Y(void 0,X),(X)=>Y(X));return},lJ1=function(){const Z=IJ1.randomBytes(16);return Z[6]=Z[6]&15|64,Z[8]=Z[8]&63|128,Z},iJ1=function(Z){if(Z){if(Z.loadBalanced)return CJ1.MAX_SUPPORTED_WIRE_VERSION;if(Z.hello)return Z.hello.maxWireVersion;if(("lastHello"in Z)&&typeof Z.lastHello==="function"){const Y=Z.lastHello();if(Y)return Y.maxWireVersion}if(Z.description&&("maxWireVersion"in Z.description)&&Z.description.maxWireVersion!=null)return Z.description.maxWireVersion}return 0},nJ1=function(Z,Y,J){Z=Z||[];let X=0,$=0;for(X=0;X<Z.length;++X)$++,Y(Z[X],W);if($===0){J();return}function W(G){if($--,G){J(G);return}if(X===Z.length&&$<=0)J()}},aJ1=function(Z,Y){if(!Array.isArray(Z)||!Array.isArray(Y))return!1;return Z.length===Y.length&&Z.every((J,X)=>J===Y[X])},sJ1=function(Z,Y){if(Z===Y)return!0;if(!Z||!Y)return Z===Y;if(Z==null&&Y!=null||Z!=null&&Y==null)return!1;if(Z.constructor.name!==Y.constructor.name)return!1;if(Z.message!==Y.message)return!1;return!0},rJ1=function(Z){return function Y(J,X){const $=Z[J.s.state];if($&&$.indexOf(X)<0)throw new A7.MongoRuntimeError(`illegal state transition from [${J.s.state}] => [${X}], allowed: [${$}]`);J.emit("stateChanged",J.s.state,X),J.s.state=X}},hC=function(){const Z=process.hrtime();return Math.floor(Z[0]*1000+Z[1]/1e6)},tJ1=function(Z){if(typeof Z!=="number")throw new A7.MongoInvalidArgumentError("Numeric value required to calculate duration");const Y=hC()-Z;return Y<0?0:Y},mC=function(Z){if(Array.isArray(Z)){for(let J of Z)if(mC(J))return!0;return!1}const Y=Object.keys(Z);return Y.length>0&&Y[0][0]==="$"},oJ1=function(Z,Y){const J=Object.assign({},Y,(0,bC.resolveBSONOptions)(Y,Z));if(!Y?.session?.inTransaction()){const W=jJ1.ReadConcern.fromOptions(Y)??Z?.readConcern;if(W)J.readConcern=W;const G=kJ1.WriteConcern.fromOptions(Y)??Z?.writeConcern;if(G)J.writeConcern=G}const $=OJ1.ReadPreference.fromOptions(Y)??Z?.readPreference;if($)J.readPreference=$;return J},uC=function(Z,Y){Z=Array.isArray(Z)?new Set(Z):Z,Y=Array.isArray(Y)?new Set(Y):Y;for(let J of Y)if(!Z.has(J))return!1;return!0},eJ1=function(Z){return Z[EJ1.LEGACY_HELLO_COMMAND]||Z.hello?!0:!1},ZX1=function(Z,Y){const J=new Set(Z);for(let X of Y)J.delete(X);return J},dC=function(Z,Y=void 0){if(!Kq(Z))return!1;const J=Z.constructor;if(J&&J.prototype){if(!Kq(J.prototype))return!1;if(!YX1(J.prototype,"isPrototypeOf"))return!1}if(Y){const X=Object.keys(Z);return uC(X,Y)}return!0},Hq=function(Z){if(Z==null)return Z;else if(Array.isArray(Z))return Z.map((J)=>Hq(J));else if(dC(Z)){const J={};for(let X in Z)J[X]=Hq(Z[X]);return J}const Y=Z.constructor;if(Y)switch(Y.name.toLowerCase()){case"date":return new Y(Number(Z));case"map":return new Map(Z);case"set":return new Set(Z);case"buffer":return Buffer.from(Z)}return Z},pC=function(Z){return process.emitWarning(Z,{code:nC.MONGODB_WARNING_CODE})},JX1=function(Z){if(!gC.has(Z))return gC.add(Z),pC(Z)},XX1=function(Z){return Object.values(Z).join(", ")},$X1=function(Z){if(!Z)return!1;if(Z.loadBalanced)return!0;if(Z.description.logicalSessionTimeoutMinutes!=null){if(Z.description.type!==SJ1.ServerType.Standalone)return!0}return!1},WX1=function(Z,Y=0){const J=Array.from(Z);if(Y>J.length)throw new A7.MongoRuntimeError("Limit must be less than the number of items");let X=J.length;const $=Y%J.length===0?1:J.length-Y;while(X>$){const W=Math.floor(Math.random()*X);X-=1;const G=J[X];J[X]=J[W],J[W]=G}return Y%J.length===0?J:J.slice($)},GX1=function(Z){if(Z.aggregate||Z.count||Z.distinct||Z.find||Z.geoNear)return!0;return!1},QX1=function(Z,Y){if(Z==null&&Y==null)return 0;if(Z==null)return-1;if(Y==null)return 1;return nC.ByteUtils.compare(Z.id,Y.id)},lC=function(Z){if(typeof Z==="number")return Math.trunc(Z);const Y=Number.parseInt(String(Z),10);return Number.isNaN(Y)?null:Y},KX1=function(Z){const Y=lC(Z);return Y!=null&&Y>=0?Y:null},HX1=function(Z,Y){const J=Z.endsWith(".")?Z.slice(0,Z.length-1):Z,X=Y.endsWith(".")?Y.slice(0,Y.length-1):Y,$=/^.*?\./,W=`.${J.replace($,"")}`,G=`.${X.replace($,"")}`;return W.endsWith(G)};async function zX1(Z,Y={}){return new Promise((J,X)=>{const $={method:"GET",timeout:1e4,json:!0,...PJ1.parse(Z),...Y},W=DJ1.request($,(G)=>{G.setEncoding("utf8");let Q="";G.on("data",(K)=>{Q+=K}),G.once("end",()=>{if(Y.json===!1){J(Q);return}try{const K=JSON.parse(Q);J(K)}catch{X(new A7.MongoRuntimeError(`Invalid JSON response: "${Q}"`))}})});W.once("timeout",()=>W.destroy(new A7.MongoNetworkTimeoutError(`Network request to ${Z} timed out after ${Y.timeout} ms`))),W.once("error",(G)=>X(G)),W.end()})}Object.defineProperty(nC,"__esModule",{value:!0});nC.TimeoutController=nC.request=nC.matchesParentDomain=nC.parseUnsignedInteger=nC.parseInteger=nC.compareObjectId=nC.commandSupportsReadConcern=nC.shuffle=nC.supportsRetryableWrites=nC.enumToString=nC.emitWarningOnce=nC.emitWarning=nC.MONGODB_WARNING_CODE=nC.DEFAULT_PK_FACTORY=nC.HostAddress=nC.BufferPool=nC.List=nC.deepCopy=nC.isRecord=nC.setDifference=nC.isHello=nC.isSuperset=nC.resolveOptions=nC.hasAtomicOperators=nC.calculateDurationInMs=nC.now=nC.makeStateMachine=nC.errorStrictEqual=nC.arrayStrictEqual=nC.eachAsync=nC.maxWireVersion=nC.uuidV4=nC.maybeCallback=nC.makeCounter=nC.MongoDBCollectionNamespace=nC.MongoDBNamespace=nC.ns=nC.getTopology=nC.decorateWithExplain=nC.decorateWithReadConcern=nC.decorateWithCollation=nC.isPromiseLike=nC.applyRetryableWrites=nC.filterOptions=nC.mergeOptions=nC.isObject=nC.normalizeHintField=nC.hostMatchesWildcards=nC.ByteUtils=void 0;var IJ1=import.meta.require("crypto"),DJ1=import.meta.require("http"),yC=import.meta.require("timers"),PJ1=import.meta.require("url"),TJ1=import.meta.require("url"),bC=G0(),CJ1=sZ(),EJ1=s0(),A7=o(),jJ1=i6(),OJ1=d0(),SJ1=l6(),kJ1=o8();nC.ByteUtils={toLocalBufferType(Z){return Buffer.isBuffer(Z)?Z:Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength)},equals(Z,Y){return nC.ByteUtils.toLocalBufferType(Z).equals(Y)},compare(Z,Y){return nC.ByteUtils.toLocalBufferType(Z).compare(Y)},toBase64(Z){return nC.ByteUtils.toLocalBufferType(Z).toString("base64")}};nC.hostMatchesWildcards=_J1;nC.normalizeHintField=xJ1;var fJ1=(Z)=>Object.prototype.toString.call(Z);nC.isObject=Kq;nC.mergeOptions=yJ1;nC.filterOptions=gJ1;nC.applyRetryableWrites=bJ1;nC.isPromiseLike=vJ1;nC.decorateWithCollation=hJ1;nC.decorateWithReadConcern=mJ1;nC.decorateWithExplain=uJ1;nC.getTopology=vC;nC.ns=dJ1;class Q3{constructor(Z,Y){this.db=Z,this.collection=Y,this.collection=Y===""?void 0:Y}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(Z){return new zq(this.db,Z)}static fromString(Z){if(typeof Z!=="string"||Z==="")throw new A7.MongoRuntimeError(`Cannot parse namespace from "${Z}"`);const[Y,...J]=Z.split("."),X=J.join(".");return new Q3(Y,X===""?void 0:X)}}nC.MongoDBNamespace=Q3;class zq extends Q3{constructor(Z,Y){super(Z,Y);this.collection=Y}static fromString(Z){return super.fromString(Z)}}nC.MongoDBCollectionNamespace=zq;nC.makeCounter=cJ1;nC.maybeCallback=pJ1;nC.uuidV4=lJ1;nC.maxWireVersion=iJ1;nC.eachAsync=nJ1;nC.arrayStrictEqual=aJ1;nC.errorStrictEqual=sJ1;nC.makeStateMachine=rJ1;nC.now=hC;nC.calculateDurationInMs=tJ1;nC.hasAtomicOperators=mC;nC.resolveOptions=oJ1;nC.isSuperset=uC;nC.isHello=eJ1;nC.setDifference=ZX1;var YX1=(Z,Y)=>Object.prototype.hasOwnProperty.call(Z,Y);nC.isRecord=dC;nC.deepCopy=Hq;class Fq{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(let Z of this.nodes())yield Z.value}*nodes(){let Z=this.head.next;while(Z!==this.head){const{next:Y}=Z;yield Z,Z=Y}}push(Z){this.count+=1;const Y={next:this.head,prev:this.head.prev,value:Z};this.head.prev.next=Y,this.head.prev=Y}pushMany(Z){for(let Y of Z)this.push(Y)}unshift(Z){this.count+=1;const Y={next:this.head.next,prev:this.head,value:Z};this.head.next.prev=Y,this.head.next=Y}remove(Z){if(Z===this.head||this.length===0)return null;this.count-=1;const{prev:Y,next:J}=Z;return Y.next=J,J.prev=Y,Z.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(Z){for(let Y of this.nodes())if(Z(Y.value))this.remove(Y)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}}nC.List=Fq;class cC{constructor(){this.buffers=new Fq,this.totalByteLength=0}get length(){return this.totalByteLength}append(Z){this.buffers.push(Z),this.totalByteLength+=Z.length}getInt32(){if(this.totalByteLength<4)return null;const Z=this.buffers.first();if(Z!=null&&Z.byteLength>=4)return Z.readInt32LE(0);const Y=this.read(4),J=Y.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(Y),J}read(Z){if(typeof Z!=="number"||Z<0)throw new A7.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(Z>this.totalByteLength)return Buffer.alloc(0);const Y=Buffer.allocUnsafe(Z);for(let J=0;J<Z;){const X=this.buffers.shift();if(X==null)break;const $=Z-J,W=Math.min($,X.byteLength),G=X.subarray(0,W);if(Y.set(G,J),J+=W,this.totalByteLength-=W,W<X.byteLength)this.buffers.unshift(X.subarray(W))}return Y}}nC.BufferPool=cC;class G3{constructor(Z){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;const Y=Z.split(" ").join("%20");if(Y.endsWith(".sock")){this.socketPath=decodeURIComponent(Y);return}const J=`iLoveJS://${Y}`;let X;try{X=new TJ1.URL(J)}catch(Q){const K=new A7.MongoRuntimeError(`Unable to parse ${Y} with URL`);throw K.cause=Q,K}const{hostname:$,port:W}=X;let G=decodeURIComponent($).toLowerCase();if(G.startsWith("[")&&G.endsWith("]"))this.isIPv6=!0,G=G.substring(1,$.length-1);if(this.host=G.toLowerCase(),typeof W==="number")this.port=W;else if(typeof W==="string"&&W!=="")this.port=Number.parseInt(W,10);else this.port=27017;if(this.port===0)throw new A7.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){if(typeof this.host==="string"){if(this.isIPv6)return`[${this.host}]:${this.port}`;return`${this.host}:${this.port}`}return`${this.socketPath}`}static fromString(Z){return new G3(Z)}static fromHostPort(Z,Y){if(Z.includes(":"))Z=`[${Z}]`;return G3.fromString(`${Z}:${Y}`)}static fromSrvRecord({name:Z,port:Y}){return G3.fromHostPort(Z,Y)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};const Z=this.host??"",Y=this.port??0;return{host:Z,port:Y}}}nC.HostAddress=G3;nC.DEFAULT_PK_FACTORY={createPk(){return new bC.ObjectId}};nC.MONGODB_WARNING_CODE="MONGODB DRIVER";nC.emitWarning=pC;var gC=new Set;nC.emitWarningOnce=JX1;nC.enumToString=XX1;nC.supportsRetryableWrites=$X1;nC.shuffle=WX1;nC.commandSupportsReadConcern=GX1;nC.compareObjectId=QX1;nC.parseInteger=lC;nC.parseUnsignedInteger=KX1;nC.matchesParentDomain=HX1;nC.request=zX1;class iC extends AbortController{constructor(Z=0,Y=Z>0?(0,yC.setTimeout)(()=>this.abort(),Z):null){super();this.timeoutId=Y}clear(){if(this.timeoutId!=null)(0,yC.clearTimeout)(this.timeoutId);this.timeoutId=null}}nC.TimeoutController=iC});var c1=R((tC)=>{var $31=function(Z,Y){if(!Array.isArray(Y)&&!(Y instanceof Set))Y=[Y];return Y=new Set(Y),Object.defineProperty(Z,"aspects",{value:Y,writable:!1}),Y};Object.defineProperty(tC,"__esModule",{value:!0});tC.defineAspects=tC.AbstractOperation=tC.Aspect=void 0;var X31=G0(),Uq=d0();tC.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};var qq=Symbol("session");class rC{constructor(Z={}){this.readPreference=this.hasAspect(tC.Aspect.WRITE_OPERATION)?Uq.ReadPreference.primary:Uq.ReadPreference.fromOptions(Z)??Uq.ReadPreference.primary,this.bsonOptions=(0,X31.resolveBSONOptions)(Z),this[qq]=Z.session!=null?Z.session:void 0,this.options=Z,this.bypassPinningCheck=!!Z.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(Z){const Y=this.constructor;if(Y.aspects==null)return!1;return Y.aspects.has(Z)}get session(){return this[qq]}clearSession(){this[qq]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}}tC.AbstractOperation=rC;tC.defineAspects=$31});var e8=R((XE)=>{var Q31=function(Z,Y,J){return(0,Vq.maybeCallback)(()=>K31(Z,Y),J)};async function K31(Z,Y){if(!(Y instanceof S5.AbstractOperation))throw new M8.MongoRuntimeError("This method requires a valid operation instance");if(Z.topology==null){if(Z.s.hasBeenClosed)throw new M8.MongoNotConnectedError("Client must be connected before running operations");Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await Z.connect()}finally{delete Z.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}const{topology:J}=Z;if(J==null)throw new M8.MongoRuntimeError("client.connect did not create a topology but also did not throw");let X=Y.session,$;if(X==null)$=Symbol(),X=Z.startSession({owner:$,explicit:!1});else if(X.hasEnded)throw new M8.MongoExpiredSessionError("Use of expired sessions is not permitted");else if(X.snapshotEnabled&&!J.capabilities.supportsSnapshotReads)throw new M8.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later");else if(X.client!==Z)throw new M8.MongoInvalidArgumentError("ClientSession must be from the same MongoClient");const W=Y.readPreference??ZE.ReadPreference.primary,G=!!X?.inTransaction();if(G&&!W.equals(ZE.ReadPreference.primary))throw new M8.MongoTransactionError(`Read preference in a transaction must be primary, not: ${W.mode}`);if(X?.isPinned&&X.transaction.isCommitted&&!Y.bypassPinningCheck)X.unpin();let Q;if(Y.hasAspect(S5.Aspect.MUST_SELECT_SAME_SERVER))Q=(0,YE.sameServerSelector)(Y.server?.description);else if(Y.trySecondaryWrite)Q=(0,YE.secondaryWritableServerSelector)(J.commonWireVersion,W);else Q=W;const K=await J.selectServerAsync(Q,{session:X});if(X==null)return Y.execute(K,void 0);if(!Y.hasAspect(S5.Aspect.RETRYABLE))try{return await Y.execute(K,X)}finally{if(X?.owner!=null&&X.owner===$)await X.endSession().catch(()=>null)}const H=J.s.options.retryReads&&!G&&Y.canRetryRead,z=J.s.options.retryWrites&&!G&&(0,Vq.supportsRetryableWrites)(K)&&Y.canRetryWrite,F=Y.hasAspect(S5.Aspect.READ_OPERATION),U=Y.hasAspect(S5.Aspect.WRITE_OPERATION),q=F&&H||U&&z;if(U&&z)Y.options.willRetryWrite=!0,X.incrementTransactionNumber();try{return await Y.execute(K,X)}catch(V){if(q&&V instanceof M8.MongoError)return await H31(Y,V,{session:X,topology:J,selector:Q});throw V}finally{if(X?.owner!=null&&X.owner===$)await X.endSession().catch(()=>null)}}async function H31(Z,Y,{session:J,topology:X,selector:$}){const W=Z.hasAspect(S5.Aspect.WRITE_OPERATION),G=Z.hasAspect(S5.Aspect.READ_OPERATION);if(W&&Y.code===G31)throw new M8.MongoServerError({message:JE,errmsg:JE,originalError:Y});if(W&&!(0,M8.isRetryableWriteError)(Y))throw Y;if(G&&!(0,M8.isRetryableReadError)(Y))throw Y;if(Y instanceof M8.MongoNetworkError&&J.isPinned&&!J.inTransaction()&&Z.hasAspect(S5.Aspect.CURSOR_CREATING))J.unpin({force:!0,forceClear:!0});const Q=await X.selectServerAsync($,{session:J});if(W&&!(0,Vq.supportsRetryableWrites)(Q))throw new M8.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await Z.execute(Q,J)}catch(K){if(K instanceof M8.MongoError&&K.hasErrorLabel(M8.MongoErrorLabel.NoWritesPerformed))throw Y;throw K}}Object.defineProperty(XE,"__esModule",{value:!0});XE.executeOperation=void 0;var M8=o(),ZE=d0(),YE=X3(),Vq=Q1(),S5=c1(),G31=M8.MONGODB_ERROR_CODES.IllegalOperation,JE="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";XE.executeOperation=Q31});var wq=R((WE)=>{Object.defineProperty(WE,"__esModule",{value:!0});WE.Explain=WE.ExplainVerbosity=void 0;var z31=o();WE.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});class Rq{constructor(Z){if(typeof Z==="boolean")this.verbosity=Z?WE.ExplainVerbosity.allPlansExecution:WE.ExplainVerbosity.queryPlanner;else this.verbosity=Z}static fromOptions(Z){if(Z?.explain==null)return;const Y=Z.explain;if(typeof Y==="boolean"||typeof Y==="string")return new Rq(Y);throw new z31.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}}WE.Explain=Rq});var O0=R((HE)=>{Object.defineProperty(HE,"__esModule",{value:!0});HE.CommandOperation=void 0;var F31=o(),U31=wq(),q31=i6(),V31=X3(),K3=Q1(),QE=o8(),_Y=c1();class KE extends _Y.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y??{};const J=Y?.dbName||Y?.authdb;if(J)this.ns=new K3.MongoDBNamespace(J,"$cmd");else this.ns=Z?Z.s.namespace.withCollection("$cmd"):new K3.MongoDBNamespace("admin","$cmd");if(this.readConcern=q31.ReadConcern.fromOptions(Y),this.writeConcern=QE.WriteConcern.fromOptions(Y),this.hasAspect(_Y.Aspect.EXPLAINABLE))this.explain=U31.Explain.fromOptions(Y);else if(Y?.explain!=null)throw new F31.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){if(this.hasAspect(_Y.Aspect.EXPLAINABLE))return this.explain==null;return!0}async executeCommand(Z,Y,J){this.server=Z;const X={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:Y},$=(0,K3.maxWireVersion)(Z),W=this.session&&this.session.inTransaction();if(this.readConcern&&(0,K3.commandSupportsReadConcern)(J)&&!W)Object.assign(J,{readConcern:this.readConcern});if(this.trySecondaryWrite&&$<V31.MIN_SECONDARY_WRITE_WIRE_VERSION)X.omitReadPreference=!0;if(this.writeConcern&&this.hasAspect(_Y.Aspect.WRITE_OPERATION)&&!W)QE.WriteConcern.apply(J,this.writeConcern);if(X.collation&&typeof X.collation==="object"&&!this.hasAspect(_Y.Aspect.SKIP_COLLATION))Object.assign(J,{collation:X.collation});if(typeof X.maxTimeMS==="number")J.maxTimeMS=X.maxTimeMS;if(this.hasAspect(_Y.Aspect.EXPLAINABLE)&&this.explain)J=(0,K3.decorateWithExplain)(J,this.explain);return Z.commandAsync(this.ns,J,X)}}HE.CommandOperation=KE});var VE=R((UE)=>{Object.defineProperty(UE,"__esModule",{value:!0});UE.ListDatabasesOperation=void 0;var FE=Q1(),L31=O0(),Mq=c1();class Bq extends L31.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y??{},this.ns=new FE.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){const J={listDatabases:1};if(typeof this.options.nameOnly==="boolean")J.nameOnly=this.options.nameOnly;if(this.options.filter)J.filter=this.options.filter;if(typeof this.options.authorizedDatabases==="boolean")J.authorizedDatabases=this.options.authorizedDatabases;if((0,FE.maxWireVersion)(Z)>=9&&this.options.comment!==void 0)J.comment=this.options.comment;return super.executeCommand(Z,Y,J)}}UE.ListDatabasesOperation=Bq;(0,Mq.defineAspects)(Bq,[Mq.Aspect.READ_OPERATION,Mq.Aspect.RETRYABLE])});var Nq=R((RE)=>{Object.defineProperty(RE,"__esModule",{value:!0});RE.RemoveUserOperation=void 0;var R31=O0(),LE=c1();class Aq extends R31.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J,this.username=Y}async execute(Z,Y){return await super.executeCommand(Z,Y,{dropUser:this.username}),!0}}RE.RemoveUserOperation=Aq;(0,LE.defineAspects)(Aq,[LE.Aspect.WRITE_OPERATION])});var xY=R((NE)=>{Object.defineProperty(NE,"__esModule",{value:!0});NE.RunAdminCommandOperation=NE.RunCommandOperation=void 0;var w31=Q1(),ME=c1();class BE extends ME.AbstractOperation{constructor(Z,Y,J){super(J);this.command=Y,this.options=J,this.ns=Z.s.namespace.withCollection("$cmd")}async execute(Z,Y){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:Y})}}NE.RunCommandOperation=BE;class AE extends ME.AbstractOperation{constructor(Z,Y){super(Y);this.command=Z,this.options=Y,this.ns=new w31.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){return this.server=Z,Z.commandAsync(this.ns,this.command,{...this.options,readPreference:this.readPreference,session:Y})}}NE.RunAdminCommandOperation=AE});var CE=R((PE)=>{Object.defineProperty(PE,"__esModule",{value:!0});PE.ValidateCollectionOperation=void 0;var Iq=o(),B31=O0();class DE extends B31.CommandOperation{constructor(Z,Y,J){const X={validate:Y},$=Object.keys(J);for(let W=0;W<$.length;W++)if(Object.prototype.hasOwnProperty.call(J,$[W])&&$[W]!=="session")X[$[W]]=J[$[W]];super(Z.s.db,J);this.options=J,this.command=X,this.collectionName=Y}async execute(Z,Y){const J=this.collectionName,X=await super.executeCommand(Z,Y,this.command);if(X.result!=null&&typeof X.result!=="string")throw new Iq.MongoUnexpectedServerResponseError("Error with validation data");if(X.result!=null&&X.result.match(/exception|corrupt/)!=null)throw new Iq.MongoUnexpectedServerResponseError(`Invalid collection ${J}`);if(X.valid!=null&&!X.valid)throw new Iq.MongoUnexpectedServerResponseError(`Invalid collection ${J}`);return X}}PE.ValidateCollectionOperation=DE});var Dq=R((jE)=>{Object.defineProperty(jE,"__esModule",{value:!0});jE.Admin=void 0;var A31=G0(),_G=e8(),N31=VE(),I31=Nq(),D31=xY(),P31=CE();class EE{constructor(Z){this.s={db:Z}}async command(Z,Y){return(0,_G.executeOperation)(this.s.db.client,new D31.RunAdminCommandOperation(Z,{...(0,A31.resolveBSONOptions)(Y),session:Y?.session,readPreference:Y?.readPreference}))}async buildInfo(Z){return this.command({buildinfo:1},Z)}async serverInfo(Z){return this.command({buildinfo:1},Z)}async serverStatus(Z){return this.command({serverStatus:1},Z)}async ping(Z){return this.command({ping:1},Z)}async removeUser(Z,Y){return(0,_G.executeOperation)(this.s.db.client,new I31.RemoveUserOperation(this.s.db,Z,{dbName:"admin",...Y}))}async validateCollection(Z,Y={}){return(0,_G.executeOperation)(this.s.db.client,new P31.ValidateCollectionOperation(this,Z,Y))}async listDatabases(Z){return(0,_G.executeOperation)(this.s.db.client,new N31.ListDatabasesOperation(this.s.db,Z))}async replSetGetStatus(Z){return this.command({replSetGetStatus:1},Z)}}jE.Admin=EE});var Eq=R((SE)=>{var Cq=function(Z,Y){const J={q:Z,limit:typeof Y.limit==="number"?Y.limit:0};if(Y.collation)J.collation=Y.collation;if(Y.hint)J.hint=Y.hint;return J};Object.defineProperty(SE,"__esModule",{value:!0});SE.makeDeleteStatement=SE.DeleteManyOperation=SE.DeleteOneOperation=SE.DeleteOperation=void 0;var H3=o(),T31=O0(),n6=c1();class z3 extends T31.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options=J,this.ns=Z,this.statements=Y}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.limit!=null?Z.limit>0:!0)}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={delete:this.ns.collection,deletes:this.statements,ordered:X};if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((G)=>G.hint))throw new H3.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,Y,$)}}SE.DeleteOperation=z3;class Pq extends z3{constructor(Z,Y,J){super(Z.s.namespace,[Cq(Y,{...J,limit:1})],J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain)return J;if(J.code)throw new H3.MongoServerError(J);if(J.writeErrors)throw new H3.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:J.n}}}SE.DeleteOneOperation=Pq;class Tq extends z3{constructor(Z,Y,J){super(Z.s.namespace,[Cq(Y,J)],J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain)return J;if(J.code)throw new H3.MongoServerError(J);if(J.writeErrors)throw new H3.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,deletedCount:J.n}}}SE.DeleteManyOperation=Tq;SE.makeDeleteStatement=Cq;(0,n6.defineAspects)(z3,[n6.Aspect.RETRYABLE,n6.Aspect.WRITE_OPERATION]);(0,n6.defineAspects)(Pq,[n6.Aspect.RETRYABLE,n6.Aspect.WRITE_OPERATION,n6.Aspect.EXPLAINABLE,n6.Aspect.SKIP_COLLATION]);(0,n6.defineAspects)(Tq,[n6.Aspect.WRITE_OPERATION,n6.Aspect.EXPLAINABLE,n6.Aspect.SKIP_COLLATION])});var Sq=R((_E)=>{Object.defineProperty(_E,"__esModule",{value:!0});_E.BulkWriteOperation=void 0;var jq=c1();class Oq extends jq.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J,this.collection=Z,this.operations=Y}async execute(Z,Y){const J=this.collection,X=this.operations,$={...this.options,...this.bsonOptions,readPreference:this.readPreference},W=$.ordered===!1?J.initializeUnorderedBulkOp($):J.initializeOrderedBulkOp($);for(let Q=0;Q<X.length;Q++)W.raw(X[Q]);return await W.execute({...$,session:Y})}}_E.BulkWriteOperation=Oq;(0,jq.defineAspects)(Oq,[jq.Aspect.WRITE_OPERATION])});var kq=R((fE)=>{async function O31(Z,Y,J){if(J==null)J={};const X=J.full==null?!1:J.full,$=await Z.collection(Y).listIndexes(J).toArray();if(X)return $;const W={};for(let G of $)W[G.name]=Object.entries(G.key);return W}var S31=function(Z,Y,J){if((typeof J.forceServerObjectId==="boolean"?J.forceServerObjectId:Z.s.db.options?.forceServerObjectId)===!0)return Y;return Y.map(($)=>{if($._id==null)$._id=Z.s.pkFactory.createPk();return $})};Object.defineProperty(fE,"__esModule",{value:!0});fE.prepareDocs=fE.indexInformation=void 0;fE.indexInformation=O31;fE.prepareDocs=S31});var fq=R((bE)=>{Object.defineProperty(bE,"__esModule",{value:!0});bE.InsertManyOperation=bE.InsertOneOperation=bE.InsertOperation=void 0;var xG=o(),_31=o8(),x31=Sq(),f31=O0(),gE=kq(),f4=c1();class fG extends f31.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options={...J,checkKeys:J.checkKeys??!1},this.ns=Z,this.documents=Y}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={insert:this.ns.collection,documents:this.documents,ordered:X};if(typeof J.bypassDocumentValidation==="boolean")$.bypassDocumentValidation=J.bypassDocumentValidation;if(J.comment!==void 0)$.comment=J.comment;return super.executeCommand(Z,Y,$)}}bE.InsertOperation=fG;class _q extends fG{constructor(Z,Y,J){super(Z.s.namespace,(0,gE.prepareDocs)(Z,[Y],J),J)}async execute(Z,Y){const J=await super.execute(Z,Y);if(J.code)throw new xG.MongoServerError(J);if(J.writeErrors)throw new xG.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,insertedId:this.documents[0]._id}}}bE.InsertOneOperation=_q;class xq extends f4.AbstractOperation{constructor(Z,Y,J){super(J);if(!Array.isArray(Y))throw new xG.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=J,this.collection=Z,this.docs=Y}async execute(Z,Y){const J=this.collection,X={...this.options,...this.bsonOptions,readPreference:this.readPreference},$=_31.WriteConcern.fromOptions(X),W=new x31.BulkWriteOperation(J,(0,gE.prepareDocs)(J,this.docs,X).map((G)=>({insertOne:{document:G}})),X);try{const G=await W.execute(Z,Y);return{acknowledged:$?.w!==0,insertedCount:G.insertedCount,insertedIds:G.insertedIds}}catch(G){if(G&&G.message==="Operation must be an object with an operation key")throw new xG.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values");throw G}}}bE.InsertManyOperation=xq;(0,f4.defineAspects)(fG,[f4.Aspect.RETRYABLE,f4.Aspect.WRITE_OPERATION]);(0,f4.defineAspects)(_q,[f4.Aspect.RETRYABLE,f4.Aspect.WRITE_OPERATION]);(0,f4.defineAspects)(xq,[f4.Aspect.WRITE_OPERATION])});var hq=R((hE)=>{var yG=function(Z,Y,J){if(Z==null||typeof Z!=="object")throw new a6.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(Y==null||typeof Y!=="object")throw new a6.MongoInvalidArgumentError("Document must be a valid JavaScript object");const X={q:Z,u:Y};if(typeof J.upsert==="boolean")X.upsert=J.upsert;if(J.multi)X.multi=J.multi;if(J.hint)X.hint=J.hint;if(J.arrayFilters)X.arrayFilters=J.arrayFilters;if(J.collation)X.collation=J.collation;return X};Object.defineProperty(hE,"__esModule",{value:!0});hE.makeUpdateStatement=hE.ReplaceOneOperation=hE.UpdateManyOperation=hE.UpdateOneOperation=hE.UpdateOperation=void 0;var a6=o(),yq=Q1(),b31=O0(),e0=c1();class fY extends b31.CommandOperation{constructor(Z,Y,J){super(void 0,J);this.options=J,this.ns=Z,this.statements=Y}get canRetryWrite(){if(super.canRetryWrite===!1)return!1;return this.statements.every((Z)=>Z.multi==null||Z.multi===!1)}async execute(Z,Y){const J=this.options??{},X=typeof J.ordered==="boolean"?J.ordered:!0,$={update:this.ns.collection,updates:this.statements,ordered:X};if(typeof J.bypassDocumentValidation==="boolean")$.bypassDocumentValidation=J.bypassDocumentValidation;if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if(this.writeConcern&&this.writeConcern.w===0){if(this.statements.find((G)=>G.hint))throw new a6.MongoCompatibilityError("hint is not supported with unacknowledged writes")}return super.executeCommand(Z,Y,$)}}hE.UpdateOperation=fY;class gq extends fY{constructor(Z,Y,J,X){super(Z.s.namespace,[yG(Y,J,{...X,multi:!1})],X);if(!(0,yq.hasAtomicOperators)(J))throw new a6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new a6.MongoServerError(J);if(J.writeErrors)throw new a6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}hE.UpdateOneOperation=gq;class bq extends fY{constructor(Z,Y,J,X){super(Z.s.namespace,[yG(Y,J,{...X,multi:!0})],X);if(!(0,yq.hasAtomicOperators)(J))throw new a6.MongoInvalidArgumentError("Update document requires atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new a6.MongoServerError(J);if(J.writeErrors)throw new a6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}hE.UpdateManyOperation=bq;class vq extends fY{constructor(Z,Y,J,X){super(Z.s.namespace,[yG(Y,J,{...X,multi:!1})],X);if((0,yq.hasAtomicOperators)(J))throw new a6.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}async execute(Z,Y){const J=await super.execute(Z,Y);if(this.explain!=null)return J;if(J.code)throw new a6.MongoServerError(J);if(J.writeErrors)throw new a6.MongoServerError(J.writeErrors[0]);return{acknowledged:this.writeConcern?.w!==0,modifiedCount:J.nModified??J.n,upsertedId:Array.isArray(J.upserted)&&J.upserted.length>0?J.upserted[0]._id:null,upsertedCount:Array.isArray(J.upserted)&&J.upserted.length?J.upserted.length:0,matchedCount:Array.isArray(J.upserted)&&J.upserted.length>0?0:J.n}}}hE.ReplaceOneOperation=vq;hE.makeUpdateStatement=yG;(0,e0.defineAspects)(fY,[e0.Aspect.RETRYABLE,e0.Aspect.WRITE_OPERATION,e0.Aspect.SKIP_COLLATION]);(0,e0.defineAspects)(gq,[e0.Aspect.RETRYABLE,e0.Aspect.WRITE_OPERATION,e0.Aspect.EXPLAINABLE,e0.Aspect.SKIP_COLLATION]);(0,e0.defineAspects)(bq,[e0.Aspect.WRITE_OPERATION,e0.Aspect.EXPLAINABLE,e0.Aspect.SKIP_COLLATION]);(0,e0.defineAspects)(vq,[e0.Aspect.RETRYABLE,e0.Aspect.WRITE_OPERATION,e0.Aspect.SKIP_COLLATION])});var L3=R((nE)=>{var hG=function(Z,Y,J,X){if(J)X=J;else if(X&&X.result)X=X.result;if(X==null)return;if(X.ok===0&&Y.ok===1){Y.ok=0;const W={index:0,code:X.code||0,errmsg:X.message,errInfo:X.errInfo,op:Z.operations[0]};Y.writeErrors.push(new vG(W));return}else if(X.ok===0&&Y.ok===0)return;if(iE(Z)&&X.n)Y.nInserted=Y.nInserted+X.n;if(uq(Z)&&X.n)Y.nRemoved=Y.nRemoved+X.n;let $=0;if(Array.isArray(X.upserted)){$=X.upserted.length;for(let W=0;W<X.upserted.length;W++)Y.upserted.push({index:X.upserted[W].index+Z.originalZeroIndex,_id:X.upserted[W]._id})}else if(X.upserted)$=1,Y.upserted.push({index:Z.originalZeroIndex,_id:X.upserted});if(mq(Z)&&X.n){const W=X.nModified;if(Y.nUpserted=Y.nUpserted+$,Y.nMatched=Y.nMatched+(X.n-$),typeof W==="number")Y.nModified=Y.nModified+W;else Y.nModified=0}if(Array.isArray(X.writeErrors))for(let W=0;W<X.writeErrors.length;W++){const G={index:Z.originalIndexes[X.writeErrors[W].index],code:X.writeErrors[W].code,errmsg:X.writeErrors[W].errmsg,errInfo:X.writeErrors[W].errInfo,op:Z.operations[X.writeErrors[W].index]};Y.writeErrors.push(new vG(G))}if(X.writeConcernError)Y.writeConcernErrors.push(new V3(X.writeConcernError))},pE=function(Z,Y,J){if(Z.s.batches.length===0)return J(void 0,new _5(Z.s.bulkResult,Z.isOrdered));const X=Z.s.batches.shift();function $(G,Q){if(G&&("message"in G)&&!(G instanceof c0.MongoWriteConcernError))return J(new yY(G,new _5(Z.s.bulkResult,Z.isOrdered)));if(G instanceof c0.MongoWriteConcernError)return l31(X,Z.s.bulkResult,Z.isOrdered,G,J);hG(X,Z.s.bulkResult,G,Q);const K=new _5(Z.s.bulkResult,Z.isOrdered);if(Z.handleWriteError(J,K))return;pE(Z,Y,J)}const W=(0,k5.resolveOptions)(Z,{...Y,ordered:Z.isOrdered});if(W.bypassDocumentValidation!==!0)delete W.bypassDocumentValidation;if(Z.operationId)$.operationId=Z.operationId;if(Z.s.bypassDocumentValidation===!0)W.bypassDocumentValidation=!0;if(Z.s.checkKeys===!1)W.checkKeys=!1;if(W.retryWrites){if(mq(X))W.retryWrites=W.retryWrites&&!X.operations.some((G)=>G.multi);if(uq(X))W.retryWrites=W.retryWrites&&!X.operations.some((G)=>G.limit===0)}try{if(iE(X))(0,bG.executeOperation)(Z.s.collection.client,new c31.InsertOperation(Z.s.namespace,X.operations,W),$);else if(mq(X))(0,bG.executeOperation)(Z.s.collection.client,new rZ.UpdateOperation(Z.s.namespace,X.operations,W),$);else if(uq(X))(0,bG.executeOperation)(Z.s.collection.client,new q3.DeleteOperation(Z.s.namespace,X.operations,W),$)}catch(G){G.ok=0,hG(X,Z.s.bulkResult,G,void 0),J()}},l31=function(Z,Y,J,X,$){hG(Z,Y,void 0,X.result),$(new yY({message:X.result?.writeConcernError.errmsg,code:X.result?.writeConcernError.result},new _5(Y,J)))},dE=function(Z){if(typeof Z.s.options.forceServerObjectId==="boolean")return Z.s.options.forceServerObjectId;if(typeof Z.s.collection.s.db.options?.forceServerObjectId==="boolean")return Z.s.collection.s.db.options?.forceServerObjectId;return!1},iE=function(Z){return Z.batchType===nE.BatchType.INSERT},mq=function(Z){return Z.batchType===nE.BatchType.UPDATE},uq=function(Z){return Z.batchType===nE.BatchType.DELETE},U3=function(Z){let{currentOp:Y}=Z.s;if(Z.s.currentOp=void 0,!Y)Y={};return Y};Object.defineProperty(nE,"__esModule",{value:!0});nE.BulkOperationBase=nE.FindOperators=nE.MongoBulkWriteError=nE.mergeBatchResults=nE.WriteError=nE.WriteConcernError=nE.BulkWriteResult=nE.Batch=nE.BatchType=void 0;var d31=import.meta.require("util"),gG=G0(),c0=o(),q3=Eq(),bG=e8(),c31=fq(),p31=c1(),rZ=hq(),k5=Q1(),uE=o8(),F3=Symbol("serverError");nE.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});class cE{constructor(Z,Y){this.originalZeroIndex=Y,this.currentIndex=0,this.originalIndexes=[],this.batchType=Z,this.operations=[],this.size=0,this.sizeBytes=0}}nE.Batch=cE;class _5{static generateIdMap(Z){const Y={};for(let J of Z)Y[J.index]=J._id;return Y}constructor(Z,Y){this.result=Z,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=_5.generateIdMap(this.result.upserted),this.insertedIds=_5.generateIdMap(this.getSuccessfullyInsertedIds(Z,Y)),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}getSuccessfullyInsertedIds(Z,Y){if(Z.writeErrors.length===0)return Z.insertedIds;if(Y)return Z.insertedIds.slice(0,Z.writeErrors[0].index);return Z.insertedIds.filter(({index:J})=>!Z.writeErrors.some((X)=>J===X.index))}getUpsertedIdAt(Z){return this.result.upserted[Z]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(Z){return Z<this.result.writeErrors.length?this.result.writeErrors[Z]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(this.result.writeConcernErrors.length===0)return;else if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];else{let Z="";for(let Y=0;Y<this.result.writeConcernErrors.length;Y++){const J=this.result.writeConcernErrors[Y];if(Z=Z+J.errmsg,Y===0)Z=Z+" and "}return new V3({errmsg:Z,code:c0.MONGODB_ERROR_CODES.WriteConcernFailed})}}toString(){return`BulkWriteResult(${this.result})`}isOk(){return this.result.ok===1}}nE.BulkWriteResult=_5;class V3{constructor(Z){this[F3]=Z}get code(){return this[F3].code}get errmsg(){return this[F3].errmsg}get errInfo(){return this[F3].errInfo}toJSON(){return this[F3]}toString(){return`WriteConcernError(${this.errmsg})`}}nE.WriteConcernError=V3;class vG{constructor(Z){this.err=Z}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}}nE.WriteError=vG;nE.mergeBatchResults=hG;class yY extends c0.MongoServerError{constructor(Z,Y){super(Z);if(this.writeErrors=[],Z instanceof V3)this.err=Z;else if(!(Z instanceof Error))this.message=Z.message,this.code=Z.code,this.writeErrors=Z.writeErrors??[];this.result=Y,Object.assign(this,Z)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}}nE.MongoBulkWriteError=yY;class dq{constructor(Z){this.bulkOperation=Z}update(Z){const Y=U3(this.bulkOperation);return this.bulkOperation.addToOperationsList(nE.BatchType.UPDATE,(0,rZ.makeUpdateStatement)(Y.selector,Z,{...Y,multi:!0}))}updateOne(Z){if(!(0,k5.hasAtomicOperators)(Z))throw new c0.MongoInvalidArgumentError("Update document requires atomic operators");const Y=U3(this.bulkOperation);return this.bulkOperation.addToOperationsList(nE.BatchType.UPDATE,(0,rZ.makeUpdateStatement)(Y.selector,Z,{...Y,multi:!1}))}replaceOne(Z){if((0,k5.hasAtomicOperators)(Z))throw new c0.MongoInvalidArgumentError("Replacement document must not use atomic operators");const Y=U3(this.bulkOperation);return this.bulkOperation.addToOperationsList(nE.BatchType.UPDATE,(0,rZ.makeUpdateStatement)(Y.selector,Z,{...Y,multi:!1}))}deleteOne(){const Z=U3(this.bulkOperation);return this.bulkOperation.addToOperationsList(nE.BatchType.DELETE,(0,q3.makeDeleteStatement)(Z.selector,{...Z,limit:1}))}delete(){const Z=U3(this.bulkOperation);return this.bulkOperation.addToOperationsList(nE.BatchType.DELETE,(0,q3.makeDeleteStatement)(Z.selector,{...Z,limit:0}))}upsert(){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.upsert=!0,this}collation(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.collation=Z,this}arrayFilters(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.arrayFilters=Z,this}hint(Z){if(!this.bulkOperation.s.currentOp)this.bulkOperation.s.currentOp={};return this.bulkOperation.s.currentOp.hint=Z,this}}nE.FindOperators=dq;var i31=(0,d31.promisify)(pE);class lE extends p31.AbstractOperation{constructor(Z,Y){super(Y);this.bulkOperation=Z}execute(Z,Y){if(this.options.session==null)this.options.session=Y;return i31(this.bulkOperation,this.options)}}class cq{constructor(Z,Y,J){this.isOrdered=J;const X=(0,k5.getTopology)(Z);Y=Y==null?{}:Y;const $=Z.s.namespace,W=!1,G=void 0,Q=X.lastHello(),K=!!(X.s.options&&X.s.options.autoEncrypter),H=Q&&Q.maxBsonObjectSize?Q.maxBsonObjectSize:16777216,z=K?2097152:H,F=Q&&Q.maxWriteBatchSize?Q.maxWriteBatchSize:1000,U=(F-1).toString(10).length+2;let q=Object.assign({},Y);q=(0,k5.applyRetryableWrites)(q,Z.s.db);const V={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};if(this.s={bulkResult:V,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:uE.WriteConcern.fromOptions(Y),maxBsonObjectSize:H,maxBatchSizeBytes:z,maxWriteBatchSize:F,maxKeySize:U,namespace:$,topology:X,options:q,bsonOptions:(0,gG.resolveBSONOptions)(Y),currentOp:G,executed:W,collection:Z,err:void 0,checkKeys:typeof Y.checkKeys==="boolean"?Y.checkKeys:!1},Y.bypassDocumentValidation===!0)this.s.bypassDocumentValidation=!0}insert(Z){if(Z._id==null&&!dE(this))Z._id=new gG.ObjectId;return this.addToOperationsList(nE.BatchType.INSERT,Z)}find(Z){if(!Z)throw new c0.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:Z},new dq(this)}raw(Z){if(Z==null||typeof Z!=="object")throw new c0.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in Z){const Y=dE(this);if(Z.insertOne&&Z.insertOne.document==null){if(Y!==!0&&Z.insertOne._id==null)Z.insertOne._id=new gG.ObjectId;return this.addToOperationsList(nE.BatchType.INSERT,Z.insertOne)}if(Y!==!0&&Z.insertOne.document._id==null)Z.insertOne.document._id=new gG.ObjectId;return this.addToOperationsList(nE.BatchType.INSERT,Z.insertOne.document)}if(("replaceOne"in Z)||("updateOne"in Z)||("updateMany"in Z)){if("replaceOne"in Z){if("q"in Z.replaceOne)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=(0,rZ.makeUpdateStatement)(Z.replaceOne.filter,Z.replaceOne.replacement,{...Z.replaceOne,multi:!1});if((0,k5.hasAtomicOperators)(Y.u))throw new c0.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(nE.BatchType.UPDATE,Y)}if("updateOne"in Z){if("q"in Z.updateOne)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=(0,rZ.makeUpdateStatement)(Z.updateOne.filter,Z.updateOne.update,{...Z.updateOne,multi:!1});if(!(0,k5.hasAtomicOperators)(Y.u))throw new c0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(nE.BatchType.UPDATE,Y)}if("updateMany"in Z){if("q"in Z.updateMany)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");const Y=(0,rZ.makeUpdateStatement)(Z.updateMany.filter,Z.updateMany.update,{...Z.updateMany,multi:!0});if(!(0,k5.hasAtomicOperators)(Y.u))throw new c0.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(nE.BatchType.UPDATE,Y)}}if("deleteOne"in Z){if("q"in Z.deleteOne)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(nE.BatchType.DELETE,(0,q3.makeDeleteStatement)(Z.deleteOne.filter,{...Z.deleteOne,limit:1}))}if("deleteMany"in Z){if("q"in Z.deleteMany)throw new c0.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(nE.BatchType.DELETE,(0,q3.makeDeleteStatement)(Z.deleteMany.filter,{...Z.deleteMany,limit:0}))}throw new c0.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){const Z=[...this.s.batches];if(this.isOrdered){if(this.s.currentBatch)Z.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)Z.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)Z.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)Z.push(this.s.currentRemoveBatch)}return Z}async execute(Z={}){if(this.s.executed)throw new c0.MongoBatchReExecutionError;const Y=uE.WriteConcern.fromOptions(Z);if(Y)this.s.writeConcern=Y;if(this.isOrdered){if(this.s.currentBatch)this.s.batches.push(this.s.currentBatch)}else{if(this.s.currentInsertBatch)this.s.batches.push(this.s.currentInsertBatch);if(this.s.currentUpdateBatch)this.s.batches.push(this.s.currentUpdateBatch);if(this.s.currentRemoveBatch)this.s.batches.push(this.s.currentRemoveBatch)}if(this.s.batches.length===0)throw new c0.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;const J={...this.s.options,...Z},X=new lE(this,J);return(0,bG.executeOperation)(this.s.collection.client,X)}handleWriteError(Z,Y){if(this.s.bulkResult.writeErrors.length>0){const X=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return Z(new yY({message:X,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},Y)),!0}const J=Y.getWriteConcernError();if(J)return Z(new yY(J,Y)),!0;return!1}}nE.BulkOperationBase=cq;Object.defineProperty(cq.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}})});var pq=R((tE)=>{Object.defineProperty(tE,"__esModule",{value:!0});tE.OrderedBulkOperation=void 0;var Z$1=G0(),sE=o(),mG=L3();class rE extends mG.BulkOperationBase{constructor(Z,Y){super(Z,Y,!0)}addToOperationsList(Z,Y){const J=Z$1.calculateObjectSize(Y,{checkKeys:!1,ignoreUndefined:!1});if(J>=this.s.maxBsonObjectSize)throw new sE.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch==null)this.s.currentBatch=new mG.Batch(Z,this.s.currentIndex);const X=this.s.maxKeySize;if(this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+X+J>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new mG.Batch(Z,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0;if(Z===mG.BatchType.INSERT)this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:Y._id});if(Array.isArray(Y))throw new sE.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(Y),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=X+J,this.s.currentIndex+=1,this}}tE.OrderedBulkOperation=rE});var lq=R((Yj)=>{Object.defineProperty(Yj,"__esModule",{value:!0});Yj.UnorderedBulkOperation=void 0;var Y$1=G0(),eE=o(),y4=L3();class Zj extends y4.BulkOperationBase{constructor(Z,Y){super(Z,Y,!1)}handleWriteError(Z,Y){if(this.s.batches.length)return!1;return super.handleWriteError(Z,Y)}addToOperationsList(Z,Y){const J=Y$1.calculateObjectSize(Y,{checkKeys:!1,ignoreUndefined:!1});if(J>=this.s.maxBsonObjectSize)throw new eE.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);if(this.s.currentBatch=void 0,Z===y4.BatchType.INSERT)this.s.currentBatch=this.s.currentInsertBatch;else if(Z===y4.BatchType.UPDATE)this.s.currentBatch=this.s.currentUpdateBatch;else if(Z===y4.BatchType.DELETE)this.s.currentBatch=this.s.currentRemoveBatch;const X=this.s.maxKeySize;if(this.s.currentBatch==null)this.s.currentBatch=new y4.Batch(Z,this.s.currentIndex);if(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+X+J>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==Z)this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new y4.Batch(Z,this.s.currentIndex);if(Array.isArray(Y))throw new eE.MongoInvalidArgumentError("Operation passed in cannot be an Array");if(this.s.currentBatch.operations.push(Y),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,Z===y4.BatchType.INSERT)this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:Y._id});else if(Z===y4.BatchType.UPDATE)this.s.currentUpdateBatch=this.s.currentBatch;else if(Z===y4.BatchType.DELETE)this.s.currentRemoveBatch=this.s.currentBatch;return this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=X+J,this}}Yj.UnorderedBulkOperation=Zj});var uG=R(($j)=>{Object.defineProperty($j,"__esModule",{value:!0});$j.AggregateOperation=$j.DB_AGGREGATE_COLLECTION=void 0;var Xj=o(),J$1=Q1(),X$1=o8(),$$1=O0(),R3=c1();$j.DB_AGGREGATE_COLLECTION=1;var W$1=8;class iq extends $$1.CommandOperation{constructor(Z,Y,J){super(void 0,{...J,dbName:Z.db});if(this.options={...J},this.target=Z.collection||$j.DB_AGGREGATE_COLLECTION,this.pipeline=Y,this.hasWriteStage=!1,typeof J?.out==="string")this.pipeline=this.pipeline.concat({$out:J.out}),this.hasWriteStage=!0;else if(Y.length>0){const X=Y[Y.length-1];if(X.$out||X.$merge)this.hasWriteStage=!0}if(this.hasWriteStage)this.trySecondaryWrite=!0;else delete this.options.writeConcern;if(this.explain&&this.writeConcern)throw new Xj.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(J?.cursor!=null&&typeof J.cursor!=="object")throw new Xj.MongoInvalidArgumentError("Cursor options must be an object")}get canRetryRead(){return!this.hasWriteStage}addToPipeline(Z){this.pipeline.push(Z)}async execute(Z,Y){const J=this.options,X=(0,J$1.maxWireVersion)(Z),$={aggregate:this.target,pipeline:this.pipeline};if(this.hasWriteStage&&X<W$1)this.readConcern=void 0;if(this.hasWriteStage&&this.writeConcern)X$1.WriteConcern.apply($,this.writeConcern);if(J.bypassDocumentValidation===!0)$.bypassDocumentValidation=J.bypassDocumentValidation;if(typeof J.allowDiskUse==="boolean")$.allowDiskUse=J.allowDiskUse;if(J.hint)$.hint=J.hint;if(J.let)$.let=J.let;if(J.comment!==void 0)$.comment=J.comment;if($.cursor=J.cursor||{},J.batchSize&&!this.hasWriteStage)$.cursor.batchSize=J.batchSize;return super.executeCommand(Z,Y,$)}}$j.AggregateOperation=iq;(0,R3.defineAspects)(iq,[R3.Aspect.READ_OPERATION,R3.Aspect.RETRYABLE,R3.Aspect.EXPLAINABLE,R3.Aspect.CURSOR_CREATING])});var D6=R((Kj)=>{Object.defineProperty(Kj,"__esModule",{value:!0});Kj.CancellationToken=Kj.TypedEventEmitter=void 0;var G$1=import.meta.require("events");class nq extends G$1.EventEmitter{emitAndLog(Z,...Y){if(this.emit(Z,...Y),this.component)this.mongoLogger?.debug(this.component,Y[0])}}Kj.TypedEventEmitter=nq;class Qj extends nq{}Kj.CancellationToken=Qj});var rq=R((zj)=>{Object.defineProperty(zj,"__esModule",{value:!0});zj.GetMoreOperation=void 0;var aq=o(),K$1=Q1(),dG=c1();class sq extends dG.AbstractOperation{constructor(Z,Y,J,X){super(X);this.options=X,this.ns=Z,this.cursorId=Y,this.server=J}async execute(Z,Y){if(Z!==this.server)throw new aq.MongoRuntimeError("Getmore must run on the same server operation began on");if(this.cursorId==null||this.cursorId.isZero())throw new aq.MongoRuntimeError("Unable to iterate cursor with no id");const J=this.ns.collection;if(J==null)throw new aq.MongoRuntimeError("A collection name must be determined before getMore");const X={getMore:this.cursorId,collection:J};if(typeof this.options.batchSize==="number")X.batchSize=Math.abs(this.options.batchSize);if(typeof this.options.maxAwaitTimeMS==="number")X.maxTimeMS=this.options.maxAwaitTimeMS;if(this.options.comment!==void 0&&(0,K$1.maxWireVersion)(Z)>=9)X.comment=this.options.comment;const $={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};return Z.commandAsync(this.ns,X,$)}}zj.GetMoreOperation=sq;(0,dG.defineAspects)(sq,[dG.Aspect.READ_OPERATION,dG.Aspect.MUST_SELECT_SAME_SERVER])});var Lj=R((qj)=>{Object.defineProperty(qj,"__esModule",{value:!0});qj.KillCursorsOperation=void 0;var Uj=o(),tq=c1();class oq extends tq.AbstractOperation{constructor(Z,Y,J,X){super(X);this.ns=Y,this.cursorId=Z,this.server=J}async execute(Z,Y){if(Z!==this.server)throw new Uj.MongoRuntimeError("Killcursor must run on the same server operation began on");const J=this.ns.collection;if(J==null)throw new Uj.MongoRuntimeError("A collection name must be determined before killCursors");const X={killCursors:J,cursors:[this.cursorId]};try{await Z.commandAsync(this.ns,X,{session:Y})}catch{}}}qj.KillCursorsOperation=oq;(0,tq.defineAspects)(oq,[tq.Aspect.MUST_SELECT_SAME_SERVER])});var eq=R((Rj)=>{Object.defineProperty(Rj,"__esModule",{value:!0});Rj.ConnectionPoolMetrics=void 0;class g4{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(Z){if(Z===g4.TXN)this.txnConnections+=1;else if(Z===g4.CURSOR)this.cursorConnections+=1;else this.otherConnections+=1}markUnpinned(Z){if(Z===g4.TXN)this.txnConnections-=1;else if(Z===g4.CURSOR)this.cursorConnections-=1;else this.otherConnections-=1}info(Z){return"Timed out while checking out a connection from connection pool: "+`maxPoolSize: ${Z}, `+`connections in use by cursors: ${this.cursorConnections}, `+`connections in use by transactions: ${this.txnConnections}, `+`connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}}g4.TXN="txn";g4.CURSOR="cursor";g4.OTHER="other";Rj.ConnectionPoolMetrics=g4});var w3=R((Nj)=>{var Bj=function(Z,Y){if(Y?.loadBalanced)return y0.ServerType.LoadBalancer;if(!Z||!Z.ok)return y0.ServerType.Unknown;if(Z.isreplicaset)return y0.ServerType.RSGhost;if(Z.msg&&Z.msg==="isdbgrid")return y0.ServerType.Mongos;if(Z.setName)if(Z.hidden)return y0.ServerType.RSOther;else if(Z.isWritablePrimary)return y0.ServerType.RSPrimary;else if(Z.secondary)return y0.ServerType.RSSecondary;else if(Z.arbiterOnly)return y0.ServerType.RSArbiter;else return y0.ServerType.RSOther;return y0.ServerType.Standalone},U$1=function(Z,Y){const J=Object.keys(Z),X=Object.keys(Y);return J.length===X.length&&J.every(($)=>Y[$]===Z[$])},Aj=function(Z,Y){if(Z==null||Y==null)return-1;if(!Z.processId.equals(Y.processId))return-1;const J=cG.Long.isLong(Z.counter)?Z.counter:cG.Long.fromNumber(Z.counter),X=cG.Long.isLong(Y.counter)?Y.counter:cG.Long.fromNumber(Y.counter);return J.compare(X)};Object.defineProperty(Nj,"__esModule",{value:!0});Nj.compareTopologyVersion=Nj.parseServerType=Nj.ServerDescription=void 0;var cG=G0(),H$1=o(),gY=Q1(),y0=l6(),z$1=new Set([y0.ServerType.RSPrimary,y0.ServerType.Standalone,y0.ServerType.Mongos,y0.ServerType.LoadBalancer]),F$1=new Set([y0.ServerType.RSPrimary,y0.ServerType.RSSecondary,y0.ServerType.Mongos,y0.ServerType.Standalone,y0.ServerType.LoadBalancer]);class Mj{constructor(Z,Y,J={}){if(Z==null||Z==="")throw new H$1.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof Z==="string"?gY.HostAddress.fromString(Z).toString():Z.toString(),this.type=Bj(Y,J),this.hosts=Y?.hosts?.map((X)=>X.toLowerCase())??[],this.passives=Y?.passives?.map((X)=>X.toLowerCase())??[],this.arbiters=Y?.arbiters?.map((X)=>X.toLowerCase())??[],this.tags=Y?.tags??{},this.minWireVersion=Y?.minWireVersion??0,this.maxWireVersion=Y?.maxWireVersion??0,this.roundTripTime=J?.roundTripTime??-1,this.lastUpdateTime=(0,gY.now)(),this.lastWriteDate=Y?.lastWrite?.lastWriteDate??0,this.error=J.error??null,this.topologyVersion=this.error?.topologyVersion??Y?.topologyVersion??null,this.setName=Y?.setName??null,this.setVersion=Y?.setVersion??null,this.electionId=Y?.electionId??null,this.logicalSessionTimeoutMinutes=Y?.logicalSessionTimeoutMinutes??null,this.primary=Y?.primary??null,this.me=Y?.me?.toLowerCase()??null,this.$clusterTime=Y?.$clusterTime??null}get hostAddress(){return gY.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===y0.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return F$1.has(this.type)}get isWritable(){return z$1.has(this.type)}get host(){const Z=`:${this.port}`.length;return this.address.slice(0,-Z)}get port(){const Z=this.address.split(":").pop();return Z?Number.parseInt(Z,10):27017}equals(Z){const Y=this.topologyVersion===Z?.topologyVersion||Aj(this.topologyVersion,Z?.topologyVersion)===0,J=this.electionId!=null&&Z?.electionId!=null?(0,gY.compareObjectId)(this.electionId,Z.electionId)===0:this.electionId===Z?.electionId;return Z!=null&&(0,gY.errorStrictEqual)(this.error,Z.error)&&this.type===Z.type&&this.minWireVersion===Z.minWireVersion&&(0,gY.arrayStrictEqual)(this.hosts,Z.hosts)&&U$1(this.tags,Z.tags)&&this.setName===Z.setName&&this.setVersion===Z.setVersion&&J&&this.primary===Z.primary&&this.logicalSessionTimeoutMinutes===Z.logicalSessionTimeoutMinutes&&Y}}Nj.ServerDescription=Mj;Nj.parseServerType=Bj;Nj.compareTopologyVersion=Aj});var YV=R((jj)=>{var B$1=function(Z){switch(Z){case O1.ServerType.Standalone:return O1.TopologyType.Single;case O1.ServerType.Mongos:return O1.TopologyType.Sharded;case O1.ServerType.RSPrimary:return O1.TopologyType.ReplicaSetWithPrimary;case O1.ServerType.RSOther:case O1.ServerType.RSSecondary:return O1.TopologyType.ReplicaSetNoPrimary;default:return O1.TopologyType.Unknown}},Ej=function(Z,Y,J=null,X=null,$=null){if(J=J||Y.setName,J!==Y.setName)return Z.delete(Y.address),[tZ(Z),J,X,$];if(Y.maxWireVersion>=17){const Q=(0,ZV.compareObjectId)($,Y.electionId),K=Q===0,H=Q===-1,z=(X??-1)<=(Y.setVersion??-1);if(H||K&&z)$=Y.electionId,X=Y.setVersion;else return Z.set(Y.address,new x5.ServerDescription(Y.address)),[tZ(Z),J,X,$]}else{const Q=Y.electionId?Y.electionId:null;if(Y.setVersion&&Q){if(X&&$){if(X>Y.setVersion||(0,ZV.compareObjectId)($,Q)>0)return Z.set(Y.address,new x5.ServerDescription(Y.address)),[tZ(Z),J,X,$]}$=Y.electionId}if(Y.setVersion!=null&&(X==null||Y.setVersion>X))X=Y.setVersion}for(let[Q,K]of Z)if(K.type===O1.ServerType.RSPrimary&&K.address!==Y.address){Z.set(Q,new x5.ServerDescription(K.address));break}Y.allHosts.forEach((Q)=>{if(!Z.has(Q))Z.set(Q,new x5.ServerDescription(Q))});const W=Array.from(Z.keys()),G=Y.allHosts;return W.filter((Q)=>G.indexOf(Q)===-1).forEach((Q)=>{Z.delete(Q)}),[tZ(Z),J,X,$]},A$1=function(Z,Y,J=null){if(J==null)throw new L$1.MongoRuntimeError('Argument "setName" is required if connected to a replica set');if(J!==Y.setName||Y.me&&Y.address!==Y.me)Z.delete(Y.address);return tZ(Z)},N$1=function(Z,Y,J=null){const X=O1.TopologyType.ReplicaSetNoPrimary;if(J=J??Y.setName,J!==Y.setName)return Z.delete(Y.address),[X,J];if(Y.allHosts.forEach(($)=>{if(!Z.has($))Z.set($,new x5.ServerDescription($))}),Y.me&&Y.address!==Y.me)Z.delete(Y.address);return[X,J]},tZ=function(Z){for(let Y of Z.values())if(Y.type===O1.ServerType.RSPrimary)return O1.TopologyType.ReplicaSetWithPrimary;return O1.TopologyType.ReplicaSetNoPrimary};Object.defineProperty(jj,"__esModule",{value:!0});jj.TopologyDescription=void 0;var pG=sZ(),L$1=o(),ZV=Q1(),O1=l6(),x5=w3(),R$1=pG.MIN_SUPPORTED_SERVER_VERSION,w$1=pG.MAX_SUPPORTED_SERVER_VERSION,Dj=pG.MIN_SUPPORTED_WIRE_VERSION,Pj=pG.MAX_SUPPORTED_WIRE_VERSION,M$1=new Set([O1.ServerType.Mongos,O1.ServerType.Unknown]),Tj=new Set([O1.ServerType.Mongos,O1.ServerType.Standalone]),Cj=new Set([O1.ServerType.RSSecondary,O1.ServerType.RSArbiter,O1.ServerType.RSOther]);class M3{constructor(Z,Y=null,J=null,X=null,$=null,W=null,G=null){G=G??{},this.type=Z??O1.TopologyType.Unknown,this.servers=Y??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=G.heartbeatFrequencyMS??0,this.localThresholdMS=G.localThresholdMS??15,this.setName=J??null,this.maxElectionId=$??null,this.maxSetVersion=X??null,this.commonWireVersion=W??0;for(let Q of this.servers.values()){if(Q.type===O1.ServerType.Unknown||Q.type===O1.ServerType.LoadBalancer)continue;if(Q.minWireVersion>Pj)this.compatible=!1,this.compatibilityError=`Server at ${Q.address} requires wire version ${Q.minWireVersion}, but this version of the driver only supports up to ${Pj} (MongoDB ${w$1})`;if(Q.maxWireVersion<Dj){this.compatible=!1,this.compatibilityError=`Server at ${Q.address} reports wire version ${Q.maxWireVersion}, but this version of the driver requires at least ${Dj} (MongoDB ${R$1}).`;break}}this.logicalSessionTimeoutMinutes=null;for(let[,Q]of this.servers)if(Q.isReadable){if(Q.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=Q.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,Q.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(Z,Y=0){const J=Z.hostnames(),X=new Set(this.servers.keys()),$=new Set(J),W=new Set;for(let Q of X)if($.delete(Q),!J.has(Q))W.add(Q);if($.size===0&&W.size===0)return this;const G=new Map(this.servers);for(let Q of W)G.delete(Q);if($.size>0){if(Y===0)for(let Q of $)G.set(Q,new x5.ServerDescription(Q));else if(G.size<Y){const Q=(0,ZV.shuffle)($,Y-G.size);for(let K of Q)G.set(K,new x5.ServerDescription(K))}}return new M3(this.type,G,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(Z){const Y=Z.address;let{type:J,setName:X,maxSetVersion:$,maxElectionId:W,commonWireVersion:G}=this;const Q=Z.type,K=new Map(this.servers);if(Z.maxWireVersion!==0)if(G==null)G=Z.maxWireVersion;else G=Math.min(G,Z.maxWireVersion);if(typeof Z.setName==="string"&&typeof X==="string"&&Z.setName!==X)if(J===O1.TopologyType.Single)Z=new x5.ServerDescription(Y);else K.delete(Y);if(K.set(Y,Z),J===O1.TopologyType.Single)return new M3(O1.TopologyType.Single,K,X,$,W,G,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(J===O1.TopologyType.Unknown)if(Q===O1.ServerType.Standalone&&this.servers.size!==1)K.delete(Y);else J=B$1(Q);if(J===O1.TopologyType.Sharded){if(!M$1.has(Q))K.delete(Y)}if(J===O1.TopologyType.ReplicaSetNoPrimary){if(Tj.has(Q))K.delete(Y);if(Q===O1.ServerType.RSPrimary){const H=Ej(K,Z,X,$,W);J=H[0],X=H[1],$=H[2],W=H[3]}else if(Cj.has(Q)){const H=N$1(K,Z,X);J=H[0],X=H[1]}}if(J===O1.TopologyType.ReplicaSetWithPrimary)if(Tj.has(Q))K.delete(Y),J=tZ(K);else if(Q===O1.ServerType.RSPrimary){const H=Ej(K,Z,X,$,W);J=H[0],X=H[1],$=H[2],W=H[3]}else if(Cj.has(Q))J=A$1(K,Z,X);else J=tZ(K);return new M3(J,K,X,$,W,G,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){const Z=Array.from(this.servers.values()).filter((Y)=>Y.error);if(Z.length>0)return Z[0].error;return null}get hasKnownServers(){return Array.from(this.servers.values()).some((Z)=>Z.type!==O1.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some((Z)=>Z.isDataBearing)}hasServer(Z){return this.servers.has(Z)}}jj.TopologyDescription=M3});var XV=R((kj)=>{var P$1=function(Z){let Y=Z?.readPreference??JV.ReadPreference.primary;if(Z?.readPreference)Y=Z.readPreference;if(typeof Y==="string")Y=JV.ReadPreference.fromString(Y);if(!(Y instanceof JV.ReadPreference))throw new I$1.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return Y},T$1=function(Z){if(Z==null)return!1;if(Z.description&&Z.description.type===Sj.ServerType.Mongos)return!0;if(Z.description&&Z.description instanceof D$1.TopologyDescription)return Array.from(Z.description.servers.values()).some((J)=>J.type===Sj.ServerType.Mongos);return!1};Object.defineProperty(kj,"__esModule",{value:!0});kj.isSharded=kj.getReadPreference=void 0;var I$1=o(),JV=d0(),Sj=l6(),D$1=YV();kj.getReadPreference=P$1;kj.isSharded=T$1});var $V=R((yj)=>{var x$1=function(Z){return!!(Z.commitTransaction||Z.abortTransaction)};Object.defineProperty(yj,"__esModule",{value:!0});yj.isTransactionCommand=yj.Transaction=yj.TxnState=void 0;var xj=o(),E$1=i6(),j$1=d0(),O$1=o8();yj.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});var S$1={[yj.TxnState.NO_TRANSACTION]:[yj.TxnState.NO_TRANSACTION,yj.TxnState.STARTING_TRANSACTION],[yj.TxnState.STARTING_TRANSACTION]:[yj.TxnState.TRANSACTION_IN_PROGRESS,yj.TxnState.TRANSACTION_COMMITTED,yj.TxnState.TRANSACTION_COMMITTED_EMPTY,yj.TxnState.TRANSACTION_ABORTED],[yj.TxnState.TRANSACTION_IN_PROGRESS]:[yj.TxnState.TRANSACTION_IN_PROGRESS,yj.TxnState.TRANSACTION_COMMITTED,yj.TxnState.TRANSACTION_ABORTED],[yj.TxnState.TRANSACTION_COMMITTED]:[yj.TxnState.TRANSACTION_COMMITTED,yj.TxnState.TRANSACTION_COMMITTED_EMPTY,yj.TxnState.STARTING_TRANSACTION,yj.TxnState.NO_TRANSACTION],[yj.TxnState.TRANSACTION_ABORTED]:[yj.TxnState.STARTING_TRANSACTION,yj.TxnState.NO_TRANSACTION],[yj.TxnState.TRANSACTION_COMMITTED_EMPTY]:[yj.TxnState.TRANSACTION_COMMITTED_EMPTY,yj.TxnState.NO_TRANSACTION]},k$1=new Set([yj.TxnState.STARTING_TRANSACTION,yj.TxnState.TRANSACTION_IN_PROGRESS]),_$1=new Set([yj.TxnState.TRANSACTION_COMMITTED,yj.TxnState.TRANSACTION_COMMITTED_EMPTY,yj.TxnState.TRANSACTION_ABORTED]);class fj{constructor(Z){Z=Z??{},this.state=yj.TxnState.NO_TRANSACTION,this.options={};const Y=O$1.WriteConcern.fromOptions(Z);if(Y){if(Y.w===0)throw new xj.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=Y}if(Z.readConcern)this.options.readConcern=E$1.ReadConcern.fromOptions(Z);if(Z.readPreference)this.options.readPreference=j$1.ReadPreference.fromOptions(Z);if(Z.maxCommitTimeMS)this.options.maxTimeMS=Z.maxCommitTimeMS;this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===yj.TxnState.STARTING_TRANSACTION}get isActive(){return k$1.has(this.state)}get isCommitted(){return _$1.has(this.state)}transition(Z){const Y=S$1[this.state];if(Y&&Y.includes(Z)){if(this.state=Z,this.state===yj.TxnState.NO_TRANSACTION||this.state===yj.TxnState.STARTING_TRANSACTION||this.state===yj.TxnState.TRANSACTION_ABORTED)this.unpinServer();return}throw new xj.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${Z}]`)}pinServer(Z){if(this.isActive)this._pinnedServer=Z}unpinServer(){this._pinnedServer=void 0}}yj.Transaction=fj;yj.isTransactionCommand=x$1});var A3=R((ij)=>{var pj=function(Z,Y){return(0,N7.calculateDurationInMs)(Z)<Y},d$1=function(Z){const Y=Z instanceof w1.MongoServerError&&Z.codeName&&u$1.has(Z.codeName);return rG(Z)||!Y&&Z.code!==w1.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&Z.code!==w1.MONGODB_ERROR_CODES.UnknownReplWriteConcern},sG=function(Z,Y){const J=Z[vY],X=Y?.error;if(Z.inTransaction()&&X&&X instanceof w1.MongoError&&X.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError))return;const $=Z.client.topology;if(J&&$!=null){const G=Array.from($.s.servers.values())[0];if(Y?.error==null||Y?.force){if(G.pool.checkIn(J),J.emit(dj.UNPINNED,Z.transaction.state!==F0.TxnState.NO_TRANSACTION?iG.ConnectionPoolMetrics.TXN:iG.ConnectionPoolMetrics.CURSOR),Y?.forceClear)G.pool.clear({serviceId:J.serviceId})}Z[vY]=void 0}},rG=function(Z){if(Z==null||!(Z instanceof w1.MongoServerError))return!1;return Z.code===w1.MONGODB_ERROR_CODES.MaxTimeMSExpired||Z.writeConcernError&&Z.writeConcernError.code===w1.MONGODB_ERROR_CODES.MaxTimeMSExpired},lj=function(Z,Y,J,X,$){return Z.commitTransaction().then(()=>X,(W)=>{if(W instanceof w1.MongoError&&pj(Y,cj)&&!rG(W)){if(W.hasErrorLabel(w1.MongoErrorLabel.UnknownTransactionCommitResult))return lj(Z,Y,J,X,$);if(W.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError))return QV(Z,Y,J,$)}throw W})},p$1=function(Z){return c$1.has(Z.transaction.state)},QV=function(Z,Y,J,X={}){Z.startTransaction(X);let $;try{$=J(Z)}catch(W){$=Promise.reject(W)}if(!(0,N7.isPromiseLike)($))return Z.abortTransaction().catch(()=>null),Promise.reject(new w1.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise"));return $.then((W)=>{if(p$1(Z))return W;return lj(Z,Y,J,W,X)},(W)=>{function G(Q){if(Q instanceof w1.MongoError&&Q.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError)&&pj(Y,cj))return QV(Z,Y,J,X);if(rG(Q))Q.addErrorLabel(w1.MongoErrorLabel.UnknownTransactionCommitResult);throw Q}if(Z.inTransaction())return Z.abortTransaction().then(()=>G(W));return G(W)})},l$1=function(Z,Y,J){const X=Z.transaction.state;if(X===F0.TxnState.NO_TRANSACTION){J(new w1.MongoTransactionError("No transaction started"));return}if(Y==="commitTransaction"){if(X===F0.TxnState.STARTING_TRANSACTION||X===F0.TxnState.TRANSACTION_COMMITTED_EMPTY){Z.transaction.transition(F0.TxnState.TRANSACTION_COMMITTED_EMPTY),J();return}if(X===F0.TxnState.TRANSACTION_ABORTED){J(new w1.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(X===F0.TxnState.STARTING_TRANSACTION){Z.transaction.transition(F0.TxnState.TRANSACTION_ABORTED),J();return}if(X===F0.TxnState.TRANSACTION_ABORTED){J(new w1.MongoTransactionError("Cannot call abortTransaction twice"));return}if(X===F0.TxnState.TRANSACTION_COMMITTED||X===F0.TxnState.TRANSACTION_COMMITTED_EMPTY){J(new w1.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}const $={[Y]:1};let W;if(Z.transaction.options.writeConcern)W=Object.assign({},Z.transaction.options.writeConcern);else if(Z.clientOptions&&Z.clientOptions.writeConcern)W={w:Z.clientOptions.writeConcern.w};if(X===F0.TxnState.TRANSACTION_COMMITTED)W=Object.assign({wtimeoutMS:1e4},W,{w:"majority"});if(W)h$1.WriteConcern.apply($,W);if(Y==="commitTransaction"&&Z.transaction.options.maxTimeMS)Object.assign($,{maxTimeMS:Z.transaction.options.maxTimeMS});function G(Q){if(Y!=="commitTransaction"){if(Z.transaction.transition(F0.TxnState.TRANSACTION_ABORTED),Z.loadBalanced)sG(Z,{force:!1});return J()}if(Z.transaction.transition(F0.TxnState.TRANSACTION_COMMITTED),Q instanceof w1.MongoError){if(Q.hasErrorLabel(w1.MongoErrorLabel.RetryableWriteError)||Q instanceof w1.MongoWriteConcernError||rG(Q)){if(d$1(Q))Q.addErrorLabel(w1.MongoErrorLabel.UnknownTransactionCommitResult),Z.unpin({error:Q})}else if(Q.hasErrorLabel(w1.MongoErrorLabel.TransientTransactionError))Z.unpin({error:Q})}J(Q)}if(Z.transaction.recoveryToken)$.recoveryToken=Z.transaction.recoveryToken;(0,bj.executeOperation)(Z.client,new vj.RunAdminCommandOperation($,{session:Z,readPreference:hj.ReadPreference.primary,bypassPinningCheck:!0}),(Q)=>{if($.abortTransaction)Z.unpin();if(Q instanceof w1.MongoError&&Q.hasErrorLabel(w1.MongoErrorLabel.RetryableWriteError)){if($.commitTransaction)Z.unpin({force:!0}),$.writeConcern=Object.assign({wtimeout:1e4},$.writeConcern,{w:"majority"});return(0,bj.executeOperation)(Z.client,new vj.RunAdminCommandOperation($,{session:Z,readPreference:hj.ReadPreference.primary,bypassPinningCheck:!0}),G)}G(Q)})},i$1=function(Z,Y,J){if(Z.hasEnded)return new w1.MongoExpiredSessionError;const X=Z.serverSession;if(X==null)return new w1.MongoRuntimeError("Unable to acquire server session");if(J.writeConcern?.w===0){if(Z&&Z.explicit)return new w1.MongoAPIError("Cannot have explicit session with unacknowledged writes");return}X.lastUse=(0,N7.now)(),Y.lsid=X.id;const $=Z.inTransaction()||(0,F0.isTransactionCommand)(Y);if(!!J.willRetryWrite||$)X.txnNumber+=Z[aG],Z[aG]=0,Y.txnNumber=lG.Long.fromNumber(X.txnNumber);if(!$){if(Z.transaction.state!==F0.TxnState.NO_TRANSACTION)Z.transaction.transition(F0.TxnState.NO_TRANSACTION);if(Z.supports.causalConsistency&&Z.operationTime&&(0,N7.commandSupportsReadConcern)(Y))Y.readConcern=Y.readConcern||{},Object.assign(Y.readConcern,{afterClusterTime:Z.operationTime});else if(Z[hY]){if(Y.readConcern=Y.readConcern||{level:v$1.ReadConcernLevel.snapshot},Z[nG]!=null)Object.assign(Y.readConcern,{atClusterTime:Z[nG]})}return}if(Y.autocommit=!1,Z.transaction.state===F0.TxnState.STARTING_TRANSACTION){Z.transaction.transition(F0.TxnState.TRANSACTION_IN_PROGRESS),Y.startTransaction=!0;const G=Z.transaction.options.readConcern||Z?.clientOptions?.readConcern;if(G)Y.readConcern=G;if(Z.supports.causalConsistency&&Z.operationTime)Y.readConcern=Y.readConcern||{},Object.assign(Y.readConcern,{afterClusterTime:Z.operationTime})}return},n$1=function(Z,Y){if(Y.$clusterTime)(0,WV._advanceClusterTime)(Z,Y.$clusterTime);if(Y.operationTime&&Z&&Z.supports.causalConsistency)Z.advanceOperationTime(Y.operationTime);if(Y.recoveryToken&&Z&&Z.inTransaction())Z.transaction._recoveryToken=Y.recoveryToken;if(Z?.[hY]&&Z[nG]==null){const J=Y.cursor?.atClusterTime||Y.atClusterTime;if(J)Z[nG]=J}},uj;Object.defineProperty(ij,"__esModule",{value:!0});ij.updateSessionFromResponse=ij.applySession=ij.ServerSessionPool=ij.ServerSession=ij.maybeClearPinnedConnection=ij.ClientSession=void 0;var y$1=import.meta.require("util"),lG=G0(),iG=eq(),g$1=XV(),dj=s0(),w1=o(),b$1=D6(),bj=e8(),vj=xY(),v$1=i6(),hj=d0(),WV=l6(),F0=$V(),N7=Q1(),h$1=o8(),m$1=8,bY=Symbol("serverSession"),nG=Symbol("snapshotTime"),hY=Symbol("snapshotEnabled"),vY=Symbol("pinnedConnection"),aG=Symbol("txnNumberIncrement");class GV extends b$1.TypedEventEmitter{constructor(Z,Y,J,X){super();if(this[uj]=!1,Z==null)throw new w1.MongoRuntimeError("ClientSession requires a MongoClient");if(Y==null||!(Y instanceof KV))throw new w1.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(J=J??{},J.snapshot===!0){if(this[hY]=!0,J.causalConsistency===!0)throw new w1.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive')}this.client=Z,this.sessionPool=Y,this.hasEnded=!1,this.clientOptions=X,this.explicit=!!J.explicit,this[bY]=this.explicit?this.sessionPool.acquire():null,this[aG]=0;const $=this.explicit&&J.snapshot!==!0;this.supports={causalConsistency:J.causalConsistency??$},this.clusterTime=J.initialClusterTime,this.operationTime=void 0,this.owner=J.owner,this.defaultTransactionOptions=Object.assign({},J.defaultTransactionOptions),this.transaction=new F0.Transaction}get id(){return this[bY]?.id}get serverSession(){let Z=this[bY];if(Z==null){if(this.explicit)throw new w1.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new w1.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");Z=this.sessionPool.acquire(),this[bY]=Z}return Z}get snapshotEnabled(){return this[hY]}get loadBalanced(){return this.client.topology?.description.type===WV.TopologyType.LoadBalanced}get pinnedConnection(){return this[vY]}pin(Z){if(this[vY])throw TypeError("Cannot pin multiple connections to the same session");this[vY]=Z,Z.emit(dj.PINNED,this.inTransaction()?iG.ConnectionPoolMetrics.TXN:iG.ConnectionPoolMetrics.CURSOR)}unpin(Z){if(this.loadBalanced)return sG(this,Z);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[vY]:this.transaction.isPinned}async endSession(Z){try{if(this.inTransaction())await this.abortTransaction();if(!this.hasEnded){const Y=this[bY];if(Y!=null)this.sessionPool.release(Y),Object.defineProperty(this,bY,{value:B3.clone(Y),writable:!1});this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{sG(this,{force:!0,...Z})}}advanceOperationTime(Z){if(this.operationTime==null){this.operationTime=Z;return}if(Z.greaterThan(this.operationTime))this.operationTime=Z}advanceClusterTime(Z){if(!Z||typeof Z!=="object")throw new w1.MongoInvalidArgumentError("input cluster time must be an object");if(!Z.clusterTime||Z.clusterTime._bsontype!=="Timestamp")throw new w1.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!Z.signature||Z.signature.hash?._bsontype!=="Binary"||typeof Z.signature.keyId!=="bigint"&&typeof Z.signature.keyId!=="number"&&Z.signature.keyId?._bsontype!=="Long")throw new w1.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');(0,WV._advanceClusterTime)(this,Z)}equals(Z){if(!(Z instanceof GV))return!1;if(this.id==null||Z.id==null)return!1;return N7.ByteUtils.equals(this.id.id.buffer,Z.id.id.buffer)}incrementTransactionNumber(){this[aG]+=1}inTransaction(){return this.transaction.isActive}startTransaction(Z){if(this[hY])throw new w1.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new w1.MongoTransactionError("Transaction already in progress");if(this.isPinned&&this.transaction.isCommitted)this.unpin();const Y=(0,N7.maxWireVersion)(this.client.topology);if((0,g$1.isSharded)(this.client.topology)&&Y!=null&&Y<m$1)throw new w1.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new F0.Transaction({readConcern:Z?.readConcern??this.defaultTransactionOptions.readConcern??this.clientOptions?.readConcern,writeConcern:Z?.writeConcern??this.defaultTransactionOptions.writeConcern??this.clientOptions?.writeConcern,readPreference:Z?.readPreference??this.defaultTransactionOptions.readPreference??this.clientOptions?.readPreference,maxCommitTimeMS:Z?.maxCommitTimeMS??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(F0.TxnState.STARTING_TRANSACTION)}async commitTransaction(){return mj(this,"commitTransaction")}async abortTransaction(){return mj(this,"abortTransaction")}toBSON(){throw new w1.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(Z,Y){const J=(0,N7.now)();return QV(this,J,Z,Y)}}ij.ClientSession=GV;uj=hY;var cj=120000,u$1=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);ij.maybeClearPinnedConnection=sG;var c$1=new Set([F0.TxnState.NO_TRANSACTION,F0.TxnState.TRANSACTION_COMMITTED,F0.TxnState.TRANSACTION_ABORTED]),mj=(0,y$1.promisify)(l$1);class B3{constructor(){this.id={id:new lG.Binary((0,N7.uuidV4)(),lG.Binary.SUBTYPE_UUID)},this.lastUse=(0,N7.now)(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(Z){return Math.round((0,N7.calculateDurationInMs)(this.lastUse)%86400000%3600000/60000)>Z-1}static clone(Z){const Y=new ArrayBuffer(16),J=Buffer.from(Y);J.set(Z.id.id.buffer);const X=new lG.Binary(J,Z.id.id.sub_type);return Object.setPrototypeOf({id:{id:X},lastUse:Z.lastUse,txnNumber:Z.txnNumber,isDirty:Z.isDirty},B3.prototype)}}ij.ServerSession=B3;class KV{constructor(Z){if(Z==null)throw new w1.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=Z,this.sessions=new N7.List}acquire(){const Z=this.client.topology?.logicalSessionTimeoutMinutes??10;let Y=null;while(this.sessions.length>0){const J=this.sessions.shift();if(J!=null&&(!!this.client.topology?.loadBalanced||!J.hasTimedOut(Z))){Y=J;break}}if(Y==null)Y=new B3;return Y}release(Z){const Y=this.client.topology?.logicalSessionTimeoutMinutes??10;if(this.client.topology?.loadBalanced&&!Y)this.sessions.unshift(Z);if(!Y)return;if(this.sessions.prune((J)=>J.hasTimedOut(Y)),!Z.hasTimedOut(Y)){if(Z.isDirty)return;this.sessions.unshift(Z)}}}ij.ServerSessionPool=KV;ij.applySession=i$1;ij.updateSessionFromResponse=n$1});var v4=R((ej)=>{async function eG(Z,{blocking:Y,transform:J}){if(Z.closed)return null;do{if(Z[B8]==null)await Z[oj]();if(Z[A8].length!==0){const $=Z[A8].shift();if($!=null&&J&&Z[D3])try{return Z[D3]($)}catch(W){throw await f5(Z,{error:W,needsToEmitClosed:!0}).catch(()=>null),W}return $}if(Z.isDead)return await f5(Z,{}),null;const X=Z[r0].batchSize||1000;try{const $=await Z.getMore(X);if($){const W=typeof $.cursor.id==="number"?I7.Long.fromNumber($.cursor.id):typeof $.cursor.id==="bigint"?I7.Long.fromBigInt($.cursor.id):$.cursor.id;Z[A8].pushMany($.cursor.nextBatch),Z[B8]=W}}catch($){throw await f5(Z,{error:$}).catch(()=>null),$}if(Z.isDead)await f5(Z,{});if(Z[A8].length===0&&Y===!1)return null}while(!Z.isDead||Z[A8].length!==0);return null}async function f5(Z,Y){const J=Z[B8],X=Z[N3],$=Z[oG],W=Z[b4],G=Y?.error,Q=Y?.needsToEmitClosed??Z[A8].length===0;if(G){if(Z.loadBalanced&&G instanceof P6.MongoNetworkError)return K()}if(J==null||$==null||J.isZero()||X==null){if(Q)Z[oZ]=!0,Z[B8]=I7.Long.ZERO,Z.emit(dY.CLOSE);if(W){if(W.owner===Z){await W.endSession({error:G});return}if(!W.inTransaction())(0,HV.maybeClearPinnedConnection)(W,{error:G})}return}async function K(){if(W){if(W.owner===Z){try{await W.endSession({error:G})}finally{Z.emit(dY.CLOSE)}return}if(!W.inTransaction())(0,HV.maybeClearPinnedConnection)(W,{error:G})}Z.emit(dY.CLOSE);return}if(Z[I3]=!0,W.hasEnded)return K();try{await(0,tj.executeOperation)(Z[mY],new YW1.KillCursorsOperation(J,X,$,{session:W})).catch(()=>null)}finally{await K()}}var eZ=function(Z){if(Z[uY])throw new P6.MongoCursorInUseError};Object.defineProperty(ej,"__esModule",{value:!0});ej.assertUninitialized=ej.AbstractCursor=ej.CURSOR_FLAGS=void 0;var rj=import.meta.require("stream"),I7=G0(),P6=o(),e$1=D6(),tj=e8(),ZW1=rq(),YW1=Lj(),aj=i6(),tG=d0(),HV=A3(),sj=Q1(),B8=Symbol("id"),A8=Symbol("documents"),oG=Symbol("server"),N3=Symbol("namespace"),mY=Symbol("client"),b4=Symbol("session"),r0=Symbol("options"),D3=Symbol("transform"),uY=Symbol("initialized"),oZ=Symbol("closed"),I3=Symbol("killed"),oj=Symbol("kInit");ej.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class dY extends e$1.TypedEventEmitter{constructor(Z,Y,J={}){super();if(!Z.s.isMongoClient)throw new P6.MongoRuntimeError("Cursor must be constructed with MongoClient");this[mY]=Z,this[N3]=Y,this[B8]=null,this[A8]=new sj.List,this[uY]=!1,this[oZ]=!1,this[I3]=!1,this[r0]={readPreference:J.readPreference&&J.readPreference instanceof tG.ReadPreference?J.readPreference:tG.ReadPreference.primary,...(0,I7.pluckBSONSerializeOptions)(J)};const X=aj.ReadConcern.fromOptions(J);if(X)this[r0].readConcern=X;if(typeof J.batchSize==="number")this[r0].batchSize=J.batchSize;if(J.comment!==void 0)this[r0].comment=J.comment;if(typeof J.maxTimeMS==="number")this[r0].maxTimeMS=J.maxTimeMS;if(typeof J.maxAwaitTimeMS==="number")this[r0].maxAwaitTimeMS=J.maxAwaitTimeMS;if(J.session instanceof HV.ClientSession)this[b4]=J.session;else this[b4]=this[mY].startSession({owner:this,explicit:!1})}get id(){return this[B8]??void 0}get isDead(){return(this[B8]?.isZero()??!1)||this[oZ]||this[I3]}get client(){return this[mY]}get server(){return this[oG]}get namespace(){return this[N3]}get readPreference(){return this[r0].readPreference}get readConcern(){return this[r0].readConcern}get session(){return this[b4]}set session(Z){this[b4]=Z}get cursorOptions(){return this[r0]}get closed(){return this[oZ]}get killed(){return this[I3]}get loadBalanced(){return!!this[mY].topology?.loadBalanced}bufferedCount(){return this[A8].length}readBufferedDocuments(Z){const Y=[],J=Math.min(Z??this[A8].length,this[A8].length);for(let X=0;X<J;X++){const $=this[A8].shift();if($!=null)Y.push($)}return Y}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0){const Z=await this.next();if(Z===null){if(!this.closed)throw await f5(this,{needsToEmitClosed:!0}).catch(()=>null),new P6.MongoAPIError("Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.");break}if(yield Z,this[B8]===I7.Long.ZERO)break}}finally{if(!this.closed)await this.close().catch(()=>null)}}stream(Z){if(Z?.transform){const Y=Z.transform;return new zV(this).pipe(new rj.Transform({objectMode:!0,highWaterMark:1,transform(X,$,W){try{const G=Y(X);W(void 0,G)}catch(G){W(G)}}}))}return new zV(this)}async hasNext(){if(this[B8]===I7.Long.ZERO)return!1;if(this[A8].length!==0)return!0;const Z=await eG(this,{blocking:!0,transform:!1});if(Z)return this[A8].unshift(Z),!0;return!1}async next(){if(this[B8]===I7.Long.ZERO)throw new P6.MongoCursorExhaustedError;return eG(this,{blocking:!0,transform:!0})}async tryNext(){if(this[B8]===I7.Long.ZERO)throw new P6.MongoCursorExhaustedError;return eG(this,{blocking:!1,transform:!0})}async forEach(Z){if(typeof Z!=="function")throw new P6.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(let Y of this)if(Z(Y)===!1)break}async close(){const Z=!this[oZ];this[oZ]=!0,await f5(this,{needsToEmitClosed:Z})}async toArray(){const Z=[];for await(let Y of this)Z.push(Y);return Z}addCursorFlag(Z,Y){if(eZ(this),!ej.CURSOR_FLAGS.includes(Z))throw new P6.MongoInvalidArgumentError(`Flag ${Z} is not one of ${ej.CURSOR_FLAGS}`);if(typeof Y!=="boolean")throw new P6.MongoInvalidArgumentError(`Flag ${Z} must be a boolean value`);return this[r0][Z]=Y,this}map(Z){eZ(this);const Y=this[D3];if(Y)this[D3]=(J)=>{return Z(Y(J))};else this[D3]=Z;return this}withReadPreference(Z){if(eZ(this),Z instanceof tG.ReadPreference)this[r0].readPreference=Z;else if(typeof Z==="string")this[r0].readPreference=tG.ReadPreference.fromString(Z);else throw new P6.MongoInvalidArgumentError(`Invalid read preference: ${Z}`);return this}withReadConcern(Z){eZ(this);const Y=aj.ReadConcern.fromOptions({readConcern:Z});if(Y)this[r0].readConcern=Y;return this}maxTimeMS(Z){if(eZ(this),typeof Z!=="number")throw new P6.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[r0].maxTimeMS=Z,this}batchSize(Z){if(eZ(this),this[r0].tailable)throw new P6.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof Z!=="number")throw new P6.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[r0].batchSize=Z,this}rewind(){if(!this[uY])return;this[B8]=null,this[A8].clear(),this[oZ]=!1,this[I3]=!1,this[uY]=!1;const Z=this[b4];if(Z){if(Z.explicit===!1){if(!Z.hasEnded)Z.endSession().catch(()=>null);this[b4]=this.client.startSession({owner:this,explicit:!1})}}}async getMore(Z){const Y=new ZW1.GetMoreOperation(this[N3],this[B8],this[oG],{...this[r0],session:this[b4],batchSize:Z});return(0,tj.executeOperation)(this[mY],Y)}async[oj](){try{const Z=await this._initialize(this[b4]),Y=Z.response;if(this[oG]=Z.server,Y.cursor){if(this[B8]=typeof Y.cursor.id==="number"?I7.Long.fromNumber(Y.cursor.id):typeof Y.cursor.id==="bigint"?I7.Long.fromBigInt(Y.cursor.id):Y.cursor.id,Y.cursor.ns)this[N3]=(0,sj.ns)(Y.cursor.ns);this[A8].pushMany(Y.cursor.firstBatch)}if(this[B8]==null)this[B8]=I7.Long.ZERO,this[A8].push(Z.response);this[uY]=!0}catch(Z){throw this[uY]=!0,await f5(this,{error:Z}),Z}if(this.isDead)await f5(this,void 0);return}}dY.CLOSE="close";ej.AbstractCursor=dY;ej.assertUninitialized=eZ;class zV extends rj.Readable{constructor(Z){super({objectMode:!0,autoDestroy:!1,highWaterMark:1});this._readInProgress=!1,this._cursor=Z}_read(Z){if(!this._readInProgress)this._readInProgress=!0,this._readNext()}_destroy(Z,Y){this._cursor.close().then(()=>Y(Z),(J)=>Y(J))}_readNext(){eG(this._cursor,{blocking:!0,transform:!0}).then((Z)=>{if(Z==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(Z))return this._readNext();this._readInProgress=!1}},(Z)=>{if(Z.message.match(/server is closed/))return this._cursor.close().catch(()=>null),this.push(null);if(Z.message.match(/operation was interrupted/))return this.push(null);return this.destroy(Z)})}}});var P3=R((XO)=>{Object.defineProperty(XO,"__esModule",{value:!0});XO.AggregationCursor=void 0;var YO=uG(),JO=e8(),XW1=Q1(),s6=v4(),N8=Symbol("pipeline"),ZQ=Symbol("options");class UV extends s6.AbstractCursor{constructor(Z,Y,J=[],X={}){super(Z,Y,X);this[N8]=J,this[ZQ]=X}get pipeline(){return this[N8]}clone(){const Z=(0,XW1.mergeOptions)({},this[ZQ]);return delete Z.session,new UV(this.client,this.namespace,this[N8],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const Y=new YO.AggregateOperation(this.namespace,this[N8],{...this[ZQ],...this.cursorOptions,session:Z}),J=await(0,JO.executeOperation)(this.client,Y);return{server:Y.server,session:Z,response:J}}async explain(Z){return(0,JO.executeOperation)(this.client,new YO.AggregateOperation(this.namespace,this[N8],{...this[ZQ],...this.cursorOptions,explain:Z??!0}))}group(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$group:Z}),this}limit(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$limit:Z}),this}match(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$match:Z}),this}out(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$out:Z}),this}project(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$project:Z}),this}lookup(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$lookup:Z}),this}redact(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$redact:Z}),this}skip(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$skip:Z}),this}sort(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$sort:Z}),this}unwind(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$unwind:Z}),this}geoNear(Z){return(0,s6.assertUninitialized)(this),this[N8].push({$geoNear:Z}),this}}XO.AggregationCursor=UV});var LV=R((WO)=>{Object.defineProperty(WO,"__esModule",{value:!0});WO.CountOperation=void 0;var $W1=O0(),qV=c1();class VV extends $W1.CommandOperation{constructor(Z,Y,J){super({s:{namespace:Z}},J);this.options=J,this.collectionName=Z.collection,this.query=Y}async execute(Z,Y){const J=this.options,X={count:this.collectionName,query:this.query};if(typeof J.limit==="number")X.limit=J.limit;if(typeof J.skip==="number")X.skip=J.skip;if(J.hint!=null)X.hint=J.hint;if(typeof J.maxTimeMS==="number")X.maxTimeMS=J.maxTimeMS;const $=await super.executeCommand(Z,Y,X);return $?$.n:0}}WO.CountOperation=VV;(0,qV.defineAspects)(VV,[qV.Aspect.READ_OPERATION,qV.Aspect.RETRYABLE])});var YQ=R((KO)=>{var cY=function(Z=1){const Y=`${Z}`.toLowerCase();if(WW1(Z))return Z;switch(Y){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new QO.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(Z)}`)}},WW1=function(Z){return typeof Z==="object"&&Z!=null&&("$meta"in Z)&&typeof Z.$meta==="string"},GW1=function(Z){if(Array.isArray(Z)&&Z.length===2)try{return cY(Z[1]),!0}catch(Y){return!1}return!1},QW1=function(Z){return Array.isArray(Z)&&Array.isArray(Z[0])},KW1=function(Z){return Z instanceof Map&&Z.size>0},HW1=function(Z){return new Map([[`${Z[0]}`,cY([Z[1]])]])},zW1=function(Z){const Y=Z.map(([J,X])=>[`${J}`,cY(X)]);return new Map(Y)},FW1=function(Z){const Y=Z.map((J)=>[`${J}`,1]);return new Map(Y)},UW1=function(Z){const Y=Object.entries(Z).map(([J,X])=>[`${J}`,cY(X)]);return new Map(Y)},qW1=function(Z){const Y=Array.from(Z).map(([J,X])=>[`${J}`,cY(X)]);return new Map(Y)},VW1=function(Z,Y){if(Z==null)return;if(typeof Z==="string")return new Map([[Z,cY(Y)]]);if(typeof Z!=="object")throw new QO.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(Z)} Sort must be a valid object`);if(!Array.isArray(Z))return KW1(Z)?qW1(Z):Object.keys(Z).length?UW1(Z):void 0;if(!Z.length)return;if(QW1(Z))return zW1(Z);if(GW1(Z))return HW1(Z);return FW1(Z)};Object.defineProperty(KO,"__esModule",{value:!0});KO.formatSort=void 0;var QO=o();KO.formatSort=VW1});var qO=R((FO)=>{var BW1=function(Z,Y,J){const X={find:Z.collection,filter:Y};if(J.sort)X.sort=(0,wW1.formatSort)(J.sort);if(J.projection){let W=J.projection;if(W&&Array.isArray(W))W=W.length?W.reduce((G,Q)=>{return G[Q]=1,G},{}):{_id:1};X.projection=W}if(J.hint)X.hint=(0,zO.normalizeHintField)(J.hint);if(typeof J.skip==="number")X.skip=J.skip;if(typeof J.limit==="number")if(J.limit<0)X.limit=-J.limit,X.singleBatch=!0;else X.limit=J.limit;if(typeof J.batchSize==="number")if(J.batchSize<0){if(J.limit&&J.limit!==0&&Math.abs(J.batchSize)<Math.abs(J.limit))X.limit=-J.batchSize;X.singleBatch=!0}else X.batchSize=J.batchSize;if(typeof J.singleBatch==="boolean")X.singleBatch=J.singleBatch;if(J.comment!==void 0)X.comment=J.comment;if(typeof J.maxTimeMS==="number")X.maxTimeMS=J.maxTimeMS;const $=RW1.ReadConcern.fromOptions(J);if($)X.readConcern=$.toJSON();if(J.max)X.max=J.max;if(J.min)X.min=J.min;if(typeof J.returnKey==="boolean")X.returnKey=J.returnKey;if(typeof J.showRecordId==="boolean")X.showRecordId=J.showRecordId;if(typeof J.tailable==="boolean")X.tailable=J.tailable;if(typeof J.oplogReplay==="boolean")X.oplogReplay=J.oplogReplay;if(typeof J.timeout==="boolean")X.noCursorTimeout=!J.timeout;else if(typeof J.noCursorTimeout==="boolean")X.noCursorTimeout=J.noCursorTimeout;if(typeof J.awaitData==="boolean")X.awaitData=J.awaitData;if(typeof J.allowPartialResults==="boolean")X.allowPartialResults=J.allowPartialResults;if(J.collation)X.collation=J.collation;if(typeof J.allowDiskUse==="boolean")X.allowDiskUse=J.allowDiskUse;if(J.let)X.let=J.let;return X};Object.defineProperty(FO,"__esModule",{value:!0});FO.FindOperation=void 0;var LW1=o(),RW1=i6(),wW1=YQ(),zO=Q1(),MW1=O0(),T3=c1();class RV extends MW1.CommandOperation{constructor(Z,Y,J={},X={}){super(Z,X);if(this.options={...X},delete this.options.writeConcern,this.ns=Y,typeof J!=="object"||Array.isArray(J))throw new LW1.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=J!=null&&J._bsontype==="ObjectId"?{_id:J}:J}async execute(Z,Y){this.server=Z;const J=this.options;let X=BW1(this.ns,this.filter,J);if(this.explain)X=(0,zO.decorateWithExplain)(X,this.explain);return Z.commandAsync(this.ns,X,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:Y})}}FO.FindOperation=RV;(0,T3.defineAspects)(RV,[T3.Aspect.READ_OPERATION,T3.Aspect.RETRYABLE,T3.Aspect.EXPLAINABLE,T3.Aspect.CURSOR_CREATING])});var AV=R((RO)=>{Object.defineProperty(RO,"__esModule",{value:!0});RO.FindCursor=RO.FLAGS=void 0;var AW1=G0(),D7=o(),NW1=LV(),wV=e8(),VO=qO(),MV=YQ(),LO=Q1(),Y8=v4(),Z9=Symbol("filter"),JQ=Symbol("numReturned"),f1=Symbol("builtOptions");RO.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class BV extends Y8.AbstractCursor{constructor(Z,Y,J={},X={}){super(Z,Y,X);if(this[Z9]=J,this[f1]=X,X.sort!=null)this[f1].sort=(0,MV.formatSort)(X.sort)}clone(){const Z=(0,LO.mergeOptions)({},this[f1]);return delete Z.session,new BV(this.client,this.namespace,this[Z9],{...Z})}map(Z){return super.map(Z)}async _initialize(Z){const Y=new VO.FindOperation(void 0,this.namespace,this[Z9],{...this[f1],...this.cursorOptions,session:Z}),J=await(0,wV.executeOperation)(this.client,Y);return this[JQ]=J.cursor?.firstBatch?.length,{server:Y.server,session:Z,response:J}}async getMore(Z){const Y=this[JQ];if(Y){const X=this[f1].limit;if(Z=X&&X>0&&Y+Z>X?X-Y:Z,Z<=0)return await this.close().catch(()=>null),{cursor:{id:AW1.Long.ZERO,nextBatch:[]}}}const J=await super.getMore(Z);if(J)this[JQ]=this[JQ]+J.cursor.nextBatch.length;return J}async count(Z){if((0,LO.emitWarningOnce)("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof Z==="boolean")throw new D7.MongoInvalidArgumentError("Invalid first parameter to count");return(0,wV.executeOperation)(this.client,new NW1.CountOperation(this.namespace,this[Z9],{...this[f1],...this.cursorOptions,...Z}))}async explain(Z){return(0,wV.executeOperation)(this.client,new VO.FindOperation(void 0,this.namespace,this[Z9],{...this[f1],...this.cursorOptions,explain:Z??!0}))}filter(Z){return(0,Y8.assertUninitialized)(this),this[Z9]=Z,this}hint(Z){return(0,Y8.assertUninitialized)(this),this[f1].hint=Z,this}min(Z){return(0,Y8.assertUninitialized)(this),this[f1].min=Z,this}max(Z){return(0,Y8.assertUninitialized)(this),this[f1].max=Z,this}returnKey(Z){return(0,Y8.assertUninitialized)(this),this[f1].returnKey=Z,this}showRecordId(Z){return(0,Y8.assertUninitialized)(this),this[f1].showRecordId=Z,this}addQueryModifier(Z,Y){if((0,Y8.assertUninitialized)(this),Z[0]!=="$")throw new D7.MongoInvalidArgumentError(`${Z} is not a valid query modifier`);switch(Z.substr(1)){case"comment":this[f1].comment=Y;break;case"explain":this[f1].explain=Y;break;case"hint":this[f1].hint=Y;break;case"max":this[f1].max=Y;break;case"maxTimeMS":this[f1].maxTimeMS=Y;break;case"min":this[f1].min=Y;break;case"orderby":this[f1].sort=(0,MV.formatSort)(Y);break;case"query":this[Z9]=Y;break;case"returnKey":this[f1].returnKey=Y;break;case"showDiskLoc":this[f1].showRecordId=Y;break;default:throw new D7.MongoInvalidArgumentError(`Invalid query modifier: ${Z}`)}return this}comment(Z){return(0,Y8.assertUninitialized)(this),this[f1].comment=Z,this}maxAwaitTimeMS(Z){if((0,Y8.assertUninitialized)(this),typeof Z!=="number")throw new D7.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[f1].maxAwaitTimeMS=Z,this}maxTimeMS(Z){if((0,Y8.assertUninitialized)(this),typeof Z!=="number")throw new D7.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[f1].maxTimeMS=Z,this}project(Z){return(0,Y8.assertUninitialized)(this),this[f1].projection=Z,this}sort(Z,Y){if((0,Y8.assertUninitialized)(this),this[f1].tailable)throw new D7.MongoTailableCursorError("Tailable cursor does not support sorting");return this[f1].sort=(0,MV.formatSort)(Z,Y),this}allowDiskUse(Z=!0){if((0,Y8.assertUninitialized)(this),!this[f1].sort)throw new D7.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');if(!Z)return this[f1].allowDiskUse=!1,this;return this[f1].allowDiskUse=!0,this}collation(Z){return(0,Y8.assertUninitialized)(this),this[f1].collation=Z,this}limit(Z){if((0,Y8.assertUninitialized)(this),this[f1].tailable)throw new D7.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof Z!=="number")throw new D7.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[f1].limit=Z,this}skip(Z){if((0,Y8.assertUninitialized)(this),this[f1].tailable)throw new D7.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof Z!=="number")throw new D7.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[f1].skip=Z,this}}RO.FindCursor=BV});var C3=R((NO)=>{var TW1=function(Z){return typeof Z==="number"||Z==="2d"||Z==="2dsphere"||Z==="text"||Z==="geoHaystack"},CW1=function(Z){return Array.isArray(Z)&&Z.length===2&&TW1(Z[1])},EW1=function(Z,Y){const J=new Map,X=!Array.isArray(Z)||CW1(Z)?[Z]:Z;for(let $ of X)if(typeof $==="string")J.set($,1);else if(Array.isArray($))J.set($[0],$[1]??1);else if($ instanceof Map)for(let[W,G]of $)J.set(W,G);else if((0,IV.isObject)($))for(let[W,G]of Object.entries($))J.set(W,G);return{...Y,key:J}};Object.defineProperty(NO,"__esModule",{value:!0});NO.IndexInformationOperation=NO.IndexExistsOperation=NO.ListIndexesOperation=NO.DropIndexOperation=NO.EnsureIndexOperation=NO.CreateIndexOperation=NO.CreateIndexesOperation=NO.IndexesOperation=void 0;var NV=o(),DW1=d0(),IV=Q1(),DV=O0(),PV=kq(),_8=c1(),PW1=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);class MO extends _8.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,X=this.options;return(0,PV.indexInformation)(J.s.db,J.collectionName,{full:!0,...X,readPreference:this.readPreference,session:Y})}}NO.IndexesOperation=MO;class XQ extends DV.CommandOperation{constructor(Z,Y,J,X){super(Z,X);this.options=X??{},this.collectionName=Y,this.indexes=J.map(($)=>{const W=$.key instanceof Map?$.key:new Map(Object.entries($.key)),G=$.name!=null?$.name:Array.from(W).flat().join("_");return{...Object.fromEntries(Object.entries({...$}).filter(([K])=>PW1.has(K))),name:G,key:W}})}async execute(Z,Y){const J=this.options,X=this.indexes,$=(0,IV.maxWireVersion)(Z),W={createIndexes:this.collectionName,indexes:X};if(J.commitQuorum!=null){if($<9)throw new NV.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4");W.commitQuorum=J.commitQuorum}return this.options.collation=void 0,await super.executeCommand(Z,Y,W),X.map((Q)=>Q.name||"")}}NO.CreateIndexesOperation=XQ;class $Q extends XQ{constructor(Z,Y,J,X){super(Z,Y,[EW1(J,X)],X)}async execute(Z,Y){return(await super.execute(Z,Y))[0]}}NO.CreateIndexOperation=$Q;class TV extends $Q{constructor(Z,Y,J,X){super(Z,Y,J,X);this.readPreference=DW1.ReadPreference.primary,this.db=Z,this.collectionName=Y}async execute(Z,Y){const J=this.indexes[0].name,X=await this.db.collection(this.collectionName).listIndexes({session:Y}).toArray().catch(($)=>{if($ instanceof NV.MongoError&&$.code===NV.MONGODB_ERROR_CODES.NamespaceNotFound)return[];throw $});if(J&&X.some(($)=>$.name===J))return J;return super.execute(Z,Y)}}NO.EnsureIndexOperation=TV;class CV extends DV.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J??{},this.collection=Z,this.indexName=Y}async execute(Z,Y){const J={dropIndexes:this.collection.collectionName,index:this.indexName};return super.executeCommand(Z,Y,J)}}NO.DropIndexOperation=CV;class EV extends DV.CommandOperation{constructor(Z,Y){super(Z,Y);this.options={...Y},delete this.options.writeConcern,this.collectionNamespace=Z.s.namespace}async execute(Z,Y){const J=(0,IV.maxWireVersion)(Z),X=this.options.batchSize?{batchSize:this.options.batchSize}:{},$={listIndexes:this.collectionNamespace.collection,cursor:X};if(J>=9&&this.options.comment!==void 0)$.comment=this.options.comment;return super.executeCommand(Z,Y,$)}}NO.ListIndexesOperation=EV;class BO extends _8.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J,this.collection=Z,this.indexes=Y}async execute(Z,Y){const J=this.collection,X=this.indexes,$=await(0,PV.indexInformation)(J.s.db,J.collectionName,{...this.options,readPreference:this.readPreference,session:Y});if(!Array.isArray(X))return $[X]!=null;return X.every((W)=>$[W]!=null)}}NO.IndexExistsOperation=BO;class AO extends _8.AbstractOperation{constructor(Z,Y,J){super(J);this.options=J??{},this.db=Z,this.name=Y}async execute(Z,Y){const J=this.db,X=this.name;return(0,PV.indexInformation)(J,X,{...this.options,readPreference:this.readPreference,session:Y})}}NO.IndexInformationOperation=AO;(0,_8.defineAspects)(EV,[_8.Aspect.READ_OPERATION,_8.Aspect.RETRYABLE,_8.Aspect.CURSOR_CREATING]);(0,_8.defineAspects)(XQ,[_8.Aspect.WRITE_OPERATION]);(0,_8.defineAspects)($Q,[_8.Aspect.WRITE_OPERATION]);(0,_8.defineAspects)(TV,[_8.Aspect.WRITE_OPERATION]);(0,_8.defineAspects)(CV,[_8.Aspect.WRITE_OPERATION])});var OV=R((DO)=>{Object.defineProperty(DO,"__esModule",{value:!0});DO.ListIndexesCursor=void 0;var yW1=e8(),gW1=C3(),bW1=v4();class jV extends bW1.AbstractCursor{constructor(Z,Y){super(Z.client,Z.s.namespace,Y);this.parent=Z,this.options=Y}clone(){return new jV(this.parent,{...this.options,...this.cursorOptions})}async _initialize(Z){const Y=new gW1.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:Z}),J=await(0,yW1.executeOperation)(this.parent.client,Y);return{server:Y.server,session:Z,response:J}}}DO.ListIndexesCursor=jV});var jO=R((CO)=>{Object.defineProperty(CO,"__esModule",{value:!0});CO.ListSearchIndexesCursor=void 0;var vW1=P3();class TO extends vW1.AggregationCursor{constructor({fullNamespace:Z,client:Y},J,X={}){const $=J==null?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:J}}];super(Y,Z,$,X)}}CO.ListSearchIndexesCursor=TO});var _O=R((SO)=>{Object.defineProperty(SO,"__esModule",{value:!0});SO.CountDocumentsOperation=void 0;var hW1=uG();class OO extends hW1.AggregateOperation{constructor(Z,Y,J){const X=[];if(X.push({$match:Y}),typeof J.skip==="number")X.push({$skip:J.skip});if(typeof J.limit==="number")X.push({$limit:J.limit});X.push({$group:{_id:1,n:{$sum:1}}});super(Z.s.namespace,X,J)}async execute(Z,Y){const X=await super.execute(Z,Y);if(X.cursor==null||X.cursor.firstBatch==null)return 0;const $=X.cursor.firstBatch;return $.length?$[0].n:0}}SO.CountDocumentsOperation=OO});var gO=R((fO)=>{Object.defineProperty(fO,"__esModule",{value:!0});fO.DistinctOperation=void 0;var xO=Q1(),mW1=O0(),WQ=c1();class SV extends mW1.CommandOperation{constructor(Z,Y,J,X){super(Z,X);this.options=X??{},this.collection=Z,this.key=Y,this.query=J}async execute(Z,Y){const J=this.collection,X=this.key,$=this.query,W=this.options,G={distinct:J.collectionName,key:X,query:$};if(typeof W.maxTimeMS==="number")G.maxTimeMS=W.maxTimeMS;if(typeof W.comment!=="undefined")G.comment=W.comment;(0,xO.decorateWithReadConcern)(G,J,W),(0,xO.decorateWithCollation)(G,J,W);const Q=await super.executeCommand(Z,Y,G);return this.explain?Q:Q.values}}fO.DistinctOperation=SV;(0,WQ.defineAspects)(SV,[WQ.Aspect.READ_OPERATION,WQ.Aspect.RETRYABLE,WQ.Aspect.EXPLAINABLE])});var _V=R((hO)=>{Object.defineProperty(hO,"__esModule",{value:!0});hO.DropDatabaseOperation=hO.DropCollectionOperation=void 0;var bO=o(),vO=O0(),GQ=c1();class QQ extends vO.CommandOperation{constructor(Z,Y,J={}){super(Z,J);this.db=Z,this.options=J,this.name=Y}async execute(Z,Y){const J=this.db,X=this.options,$=this.name,W=J.client.options.autoEncryption?.encryptedFieldsMap;let G=X.encryptedFields??W?.[`${J.databaseName}.${$}`];if(!G&&W)G=(await J.listCollections({name:$},{nameOnly:!1}).toArray())?.[0]?.options?.encryptedFields;if(G){const Q=G.escCollection||`enxcol_.${$}.esc`,K=G.ecocCollection||`enxcol_.${$}.ecoc`;for(let H of[Q,K]){const z=new QQ(J,H);try{await z.executeWithoutEncryptedFieldsCheck(Z,Y)}catch(F){if(!(F instanceof bO.MongoServerError)||F.code!==bO.MONGODB_ERROR_CODES.NamespaceNotFound)throw F}}}return this.executeWithoutEncryptedFieldsCheck(Z,Y)}async executeWithoutEncryptedFieldsCheck(Z,Y){return await super.executeCommand(Z,Y,{drop:this.name}),!0}}hO.DropCollectionOperation=QQ;class kV extends vO.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){return await super.executeCommand(Z,Y,{dropDatabase:1}),!0}}hO.DropDatabaseOperation=kV;(0,GQ.defineAspects)(QQ,[GQ.Aspect.WRITE_OPERATION]);(0,GQ.defineAspects)(kV,[GQ.Aspect.WRITE_OPERATION])});var cO=R((uO)=>{Object.defineProperty(uO,"__esModule",{value:!0});uO.EstimatedDocumentCountOperation=void 0;var dW1=O0(),KQ=c1();class xV extends dW1.CommandOperation{constructor(Z,Y={}){super(Z,Y);this.options=Y,this.collectionName=Z.collectionName}async execute(Z,Y){const J={count:this.collectionName};if(typeof this.options.maxTimeMS==="number")J.maxTimeMS=this.options.maxTimeMS;if(this.options.comment!==void 0)J.comment=this.options.comment;return(await super.executeCommand(Z,Y,J))?.n||0}}uO.EstimatedDocumentCountOperation=xV;(0,KQ.defineAspects)(xV,[KQ.Aspect.READ_OPERATION,KQ.Aspect.RETRYABLE,KQ.Aspect.CURSOR_CREATING])});var fV=R((aO)=>{var pO=function(Z,Y){if(Z.new=Y.returnDocument===aO.ReturnDocument.AFTER,Z.upsert=Y.upsert===!0,Y.bypassDocumentValidation===!0)Z.bypassDocumentValidation=Y.bypassDocumentValidation;return Z};Object.defineProperty(aO,"__esModule",{value:!0});aO.FindOneAndUpdateOperation=aO.FindOneAndReplaceOperation=aO.FindOneAndDeleteOperation=aO.ReturnDocument=void 0;var y5=o(),cW1=d0(),pW1=YQ(),zQ=Q1(),lW1=O0(),HQ=c1();aO.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});class E3 extends lW1.CommandOperation{constructor(Z,Y,J){super(Z,J);this.options=J??{},this.cmdBase={remove:!1,new:!1,upsert:!1},J.includeResultMetadata??=!1;const X=(0,pW1.formatSort)(J.sort);if(X)this.cmdBase.sort=X;if(J.projection)this.cmdBase.fields=J.projection;if(J.maxTimeMS)this.cmdBase.maxTimeMS=J.maxTimeMS;if(J.writeConcern)this.cmdBase.writeConcern=J.writeConcern;if(J.let)this.cmdBase.let=J.let;if(J.comment!==void 0)this.cmdBase.comment=J.comment;this.readPreference=cW1.ReadPreference.primary,this.collection=Z,this.query=Y}async execute(Z,Y){const J=this.collection,X=this.query,$={...this.options,...this.bsonOptions},W={findAndModify:J.collectionName,query:X,...this.cmdBase};try{(0,zQ.decorateWithCollation)(W,J,$)}catch(Q){return Q}if($.hint){if(this.writeConcern?.w===0||(0,zQ.maxWireVersion)(Z)<8)throw new y5.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands");W.hint=$.hint}const G=await super.executeCommand(Z,Y,W);return $.includeResultMetadata?G:G.value??null}}class lO extends E3{constructor(Z,Y,J){if(Y==null||typeof Y!=="object")throw new y5.MongoInvalidArgumentError('Argument "filter" must be an object');super(Z,Y,J);this.cmdBase.remove=!0}}aO.FindOneAndDeleteOperation=lO;class iO extends E3{constructor(Z,Y,J,X){if(Y==null||typeof Y!=="object")throw new y5.MongoInvalidArgumentError('Argument "filter" must be an object');if(J==null||typeof J!=="object")throw new y5.MongoInvalidArgumentError('Argument "replacement" must be an object');if((0,zQ.hasAtomicOperators)(J))throw new y5.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(Z,Y,X);this.cmdBase.update=J,pO(this.cmdBase,X)}}aO.FindOneAndReplaceOperation=iO;class nO extends E3{constructor(Z,Y,J,X){if(Y==null||typeof Y!=="object")throw new y5.MongoInvalidArgumentError('Argument "filter" must be an object');if(J==null||typeof J!=="object")throw new y5.MongoInvalidArgumentError('Argument "update" must be an object');if(!(0,zQ.hasAtomicOperators)(J))throw new y5.MongoInvalidArgumentError("Update document requires atomic operators");super(Z,Y,X);if(this.cmdBase.update=J,pO(this.cmdBase,X),X.arrayFilters)this.cmdBase.arrayFilters=X.arrayFilters}}aO.FindOneAndUpdateOperation=nO;(0,HQ.defineAspects)(E3,[HQ.Aspect.WRITE_OPERATION,HQ.Aspect.RETRYABLE,HQ.Aspect.EXPLAINABLE])});var ZS=R((oO)=>{Object.defineProperty(oO,"__esModule",{value:!0});oO.IsCappedOperation=void 0;var aW1=o(),sW1=c1();class tO extends sW1.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,[X]=await J.s.db.listCollections({name:J.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:Y}).toArray();if(X==null||X.options==null)throw new aW1.MongoAPIError(`collection ${J.namespace} not found`);return!!X.options?.capped}}oO.IsCappedOperation=tO});var $S=R((JS)=>{Object.defineProperty(JS,"__esModule",{value:!0});JS.OptionsOperation=void 0;var rW1=o(),tW1=c1();class YS extends tW1.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.collection=Z}async execute(Z,Y){const J=this.collection,[X]=await J.s.db.listCollections({name:J.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:Y}).toArray();if(X==null||X.options==null)throw new rW1.MongoAPIError(`collection ${J.namespace} not found`);return X.options}}JS.OptionsOperation=YS});var gV=R((GS)=>{Object.defineProperty(GS,"__esModule",{value:!0});GS.RenameOperation=void 0;var oW1=Y9(),eW1=Q1(),ZG1=O0(),WS=c1();class yV extends ZG1.CommandOperation{constructor(Z,Y,J){super(Z,J);this.collection=Z,this.newName=Y,this.options=J,this.ns=new eW1.MongoDBNamespace("admin","$cmd")}async execute(Z,Y){const J=this.collection.namespace,X=this.collection.s.namespace.withCollection(this.newName).toString(),$=typeof this.options.dropTarget==="boolean"?this.options.dropTarget:!1,W={renameCollection:J,to:X,dropTarget:$};return await super.executeCommand(Z,Y,W),new oW1.Collection(this.collection.s.db,this.newName,this.collection.s.options)}}GS.RenameOperation=yV;(0,WS.defineAspects)(yV,[WS.Aspect.WRITE_OPERATION])});var FS=R((HS)=>{Object.defineProperty(HS,"__esModule",{value:!0});HS.CreateSearchIndexesOperation=void 0;var YG1=c1();class KS extends YG1.AbstractOperation{constructor(Z,Y){super();this.collection=Z,this.descriptions=Y}async execute(Z,Y){const J=this.collection.fullNamespace,X={createSearchIndexes:J.collection,indexes:this.descriptions};return((await Z.commandAsync(J,X,{session:Y}))?.indexesCreated??[]).map(({name:G})=>G)}}HS.CreateSearchIndexesOperation=KS});var RS=R((VS)=>{Object.defineProperty(VS,"__esModule",{value:!0});VS.DropSearchIndexOperation=void 0;var US=o(),JG1=c1();class qS extends JG1.AbstractOperation{constructor(Z,Y){super();this.collection=Z,this.name=Y}async execute(Z,Y){const J=this.collection.fullNamespace,X={dropSearchIndex:J.collection};if(typeof this.name==="string")X.name=this.name;try{await Z.commandAsync(J,X,{session:Y})}catch($){if(!($ instanceof US.MongoServerError&&$.code===US.MONGODB_ERROR_CODES.NamespaceNotFound))throw $}}}VS.DropSearchIndexOperation=qS});var AS=R((MS)=>{Object.defineProperty(MS,"__esModule",{value:!0});MS.UpdateSearchIndexOperation=void 0;var XG1=c1();class wS extends XG1.AbstractOperation{constructor(Z,Y,J){super();this.collection=Z,this.name=Y,this.definition=J}async execute(Z,Y){const J=this.collection.fullNamespace,X={updateSearchIndex:J.collection,name:this.name,definition:this.definition};await Z.commandAsync(J,X,{session:Y});return}}MS.UpdateSearchIndexOperation=wS});var Y9=R((TS)=>{Object.defineProperty(TS,"__esModule",{value:!0});TS.Collection=void 0;var $G1=G0(),WG1=pq(),GG1=lq(),QG1=pY(),KG1=P3(),HG1=AV(),zG1=OV(),FG1=jO(),NS=o(),UG1=Sq(),qG1=LV(),VG1=_O(),IS=Eq(),LG1=gO(),RG1=_V(),wG1=cO(),r1=e8(),bV=fV(),J9=C3(),DS=fq(),MG1=ZS(),BG1=$S(),AG1=gV(),NG1=FS(),IG1=RS(),DG1=AS(),vV=hq(),PG1=i6(),hV=d0(),b1=Q1(),TG1=o8();class PS{constructor(Z,Y,J){this.s={db:Z,options:J,namespace:new b1.MongoDBCollectionNamespace(Z.databaseName,Y),pkFactory:Z.options?.pkFactory??b1.DEFAULT_PK_FACTORY,readPreference:hV.ReadPreference.fromOptions(J),bsonOptions:(0,$G1.resolveBSONOptions)(J,Z),readConcern:PG1.ReadConcern.fromOptions(J),writeConcern:TG1.WriteConcern.fromOptions(J)},this.client=Z.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){if(this.s.readConcern==null)return this.s.db.readConcern;return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.s.db.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){if(this.s.writeConcern==null)return this.s.db.writeConcern;return this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(Z){this.s.collectionHint=(0,b1.normalizeHintField)(Z)}async insertOne(Z,Y){return(0,r1.executeOperation)(this.client,new DS.InsertOneOperation(this,Z,(0,b1.resolveOptions)(this,Y)))}async insertMany(Z,Y){return(0,r1.executeOperation)(this.client,new DS.InsertManyOperation(this,Z,(0,b1.resolveOptions)(this,Y??{ordered:!0})))}async bulkWrite(Z,Y){if(!Array.isArray(Z))throw new NS.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return(0,r1.executeOperation)(this.client,new UG1.BulkWriteOperation(this,Z,(0,b1.resolveOptions)(this,Y??{ordered:!0})))}async updateOne(Z,Y,J){return(0,r1.executeOperation)(this.client,new vV.UpdateOneOperation(this,Z,Y,(0,b1.resolveOptions)(this,J)))}async replaceOne(Z,Y,J){return(0,r1.executeOperation)(this.client,new vV.ReplaceOneOperation(this,Z,Y,(0,b1.resolveOptions)(this,J)))}async updateMany(Z,Y,J){return(0,r1.executeOperation)(this.client,new vV.UpdateManyOperation(this,Z,Y,(0,b1.resolveOptions)(this,J)))}async deleteOne(Z={},Y={}){return(0,r1.executeOperation)(this.client,new IS.DeleteOneOperation(this,Z,(0,b1.resolveOptions)(this,Y)))}async deleteMany(Z={},Y={}){return(0,r1.executeOperation)(this.client,new IS.DeleteManyOperation(this,Z,(0,b1.resolveOptions)(this,Y)))}async rename(Z,Y){return(0,r1.executeOperation)(this.client,new AG1.RenameOperation(this,Z,{...Y,readPreference:hV.ReadPreference.PRIMARY}))}async drop(Z){return(0,r1.executeOperation)(this.client,new RG1.DropCollectionOperation(this.s.db,this.collectionName,Z))}async findOne(Z={},Y={}){const J=this.find(Z,Y).limit(-1).batchSize(1),X=await J.next();return await J.close(),X}find(Z={},Y={}){return new HG1.FindCursor(this.client,this.s.namespace,Z,(0,b1.resolveOptions)(this,Y))}async options(Z){return(0,r1.executeOperation)(this.client,new BG1.OptionsOperation(this,(0,b1.resolveOptions)(this,Z)))}async isCapped(Z){return(0,r1.executeOperation)(this.client,new MG1.IsCappedOperation(this,(0,b1.resolveOptions)(this,Z)))}async createIndex(Z,Y){return(0,r1.executeOperation)(this.client,new J9.CreateIndexOperation(this,this.collectionName,Z,(0,b1.resolveOptions)(this,Y)))}async createIndexes(Z,Y){return(0,r1.executeOperation)(this.client,new J9.CreateIndexesOperation(this,this.collectionName,Z,(0,b1.resolveOptions)(this,{...Y,maxTimeMS:void 0})))}async dropIndex(Z,Y){return(0,r1.executeOperation)(this.client,new J9.DropIndexOperation(this,Z,{...(0,b1.resolveOptions)(this,Y),readPreference:hV.ReadPreference.primary}))}async dropIndexes(Z){try{return await(0,r1.executeOperation)(this.client,new J9.DropIndexOperation(this,"*",(0,b1.resolveOptions)(this,Z))),!0}catch{return!1}}listIndexes(Z){return new zG1.ListIndexesCursor(this,(0,b1.resolveOptions)(this,Z))}async indexExists(Z,Y){return(0,r1.executeOperation)(this.client,new J9.IndexExistsOperation(this,Z,(0,b1.resolveOptions)(this,Y)))}async indexInformation(Z){return(0,r1.executeOperation)(this.client,new J9.IndexInformationOperation(this.s.db,this.collectionName,(0,b1.resolveOptions)(this,Z)))}async estimatedDocumentCount(Z){return(0,r1.executeOperation)(this.client,new wG1.EstimatedDocumentCountOperation(this,(0,b1.resolveOptions)(this,Z)))}async countDocuments(Z={},Y={}){return(0,r1.executeOperation)(this.client,new VG1.CountDocumentsOperation(this,Z,(0,b1.resolveOptions)(this,Y)))}async distinct(Z,Y={},J={}){return(0,r1.executeOperation)(this.client,new LG1.DistinctOperation(this,Z,Y,(0,b1.resolveOptions)(this,J)))}async indexes(Z){return(0,r1.executeOperation)(this.client,new J9.IndexesOperation(this,(0,b1.resolveOptions)(this,Z)))}async findOneAndDelete(Z,Y){return(0,r1.executeOperation)(this.client,new bV.FindOneAndDeleteOperation(this,Z,(0,b1.resolveOptions)(this,Y)))}async findOneAndReplace(Z,Y,J){return(0,r1.executeOperation)(this.client,new bV.FindOneAndReplaceOperation(this,Z,Y,(0,b1.resolveOptions)(this,J)))}async findOneAndUpdate(Z,Y,J){return(0,r1.executeOperation)(this.client,new bV.FindOneAndUpdateOperation(this,Z,Y,(0,b1.resolveOptions)(this,J)))}aggregate(Z=[],Y){if(!Array.isArray(Z))throw new NS.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new KG1.AggregationCursor(this.client,this.s.namespace,Z,(0,b1.resolveOptions)(this,Y))}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new QG1.ChangeStream(this,Z,(0,b1.resolveOptions)(this,Y))}initializeUnorderedBulkOp(Z){return new GG1.UnorderedBulkOperation(this,(0,b1.resolveOptions)(this,Z))}initializeOrderedBulkOp(Z){return new WG1.OrderedBulkOperation(this,(0,b1.resolveOptions)(this,Z))}async count(Z={},Y={}){return(0,r1.executeOperation)(this.client,new qG1.CountOperation(this.fullNamespace,Z,(0,b1.resolveOptions)(this,Y)))}listSearchIndexes(Z,Y){Y=typeof Z==="object"?Z:Y==null?{}:Y;const J=Z==null?null:typeof Z==="object"?null:Z;return new FG1.ListSearchIndexesCursor(this,J,Y)}async createSearchIndex(Z){const[Y]=await this.createSearchIndexes([Z]);return Y}async createSearchIndexes(Z){return(0,r1.executeOperation)(this.client,new NG1.CreateSearchIndexesOperation(this,Z))}async dropSearchIndex(Z){return(0,r1.executeOperation)(this.client,new IG1.DropSearchIndexOperation(this,Z))}async updateSearchIndex(Z,Y){return(0,r1.executeOperation)(this.client,new DG1.UpdateSearchIndexOperation(this,Z,Y))}}TS.Collection=PS});var cV=R((jS)=>{Object.defineProperty(jS,"__esModule",{value:!0});jS.ChangeStreamCursor=void 0;var mV=pY(),ES=s0(),CG1=uG(),EG1=e8(),uV=Q1(),jG1=v4();class dV extends jG1.AbstractCursor{constructor(Z,Y,J=[],X={}){super(Z,Y,X);if(this.pipeline=J,this.options=X,this._resumeToken=null,this.startAtOperationTime=X.startAtOperationTime,X.startAfter)this.resumeToken=X.startAfter;else if(X.resumeAfter)this.resumeToken=X.resumeAfter}set resumeToken(Z){this._resumeToken=Z,this.emit(mV.ChangeStream.RESUME_TOKEN_CHANGED,Z)}get resumeToken(){return this._resumeToken}get resumeOptions(){const Z={...this.options};for(let Y of["resumeAfter","startAfter","startAtOperationTime"])delete Z[Y];if(this.resumeToken!=null)if(this.options.startAfter&&!this.hasReceived)Z.startAfter=this.resumeToken;else Z.resumeAfter=this.resumeToken;else if(this.startAtOperationTime!=null&&(0,uV.maxWireVersion)(this.server)>=7)Z.startAtOperationTime=this.startAtOperationTime;return Z}cacheResumeToken(Z){if(this.bufferedCount()===0&&this.postBatchResumeToken)this.resumeToken=this.postBatchResumeToken;else this.resumeToken=Z;this.hasReceived=!0}_processBatch(Z){const Y=Z.cursor;if(Y.postBatchResumeToken){if(this.postBatchResumeToken=Z.cursor.postBatchResumeToken,("firstBatch"in Z.cursor?Z.cursor.firstBatch:Z.cursor.nextBatch).length===0)this.resumeToken=Y.postBatchResumeToken}}clone(){return new dV(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}async _initialize(Z){const Y=new CG1.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:Z}),J=await(0,EG1.executeOperation)(Z.client,Y),X=Y.server;if(this.maxWireVersion=(0,uV.maxWireVersion)(X),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7)this.startAtOperationTime=J.operationTime;return this._processBatch(J),this.emit(ES.INIT,J),this.emit(ES.RESPONSE),{server:X,session:Z,response:J}}async getMore(Z){const Y=await super.getMore(Z);return this.maxWireVersion=(0,uV.maxWireVersion)(this.server),this._processBatch(Y),this.emit(mV.ChangeStream.MORE,Y),this.emit(mV.ChangeStream.RESPONSE),Y}}jS.ChangeStreamCursor=dV});var _S=R((SS)=>{Object.defineProperty(SS,"__esModule",{value:!0});SS.ListCollectionsOperation=void 0;var OG1=Q1(),SG1=O0(),FQ=c1();class pV extends SG1.CommandOperation{constructor(Z,Y,J){super(Z,J);if(this.options={...J},delete this.options.writeConcern,this.db=Z,this.filter=Y,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize==="number")this.batchSize=this.options.batchSize}async execute(Z,Y){return super.executeCommand(Z,Y,this.generateCommand((0,OG1.maxWireVersion)(Z)))}generateCommand(Z){const Y={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};if(Z>=9&&this.options.comment!==void 0)Y.comment=this.options.comment;return Y}}SS.ListCollectionsOperation=pV;(0,FQ.defineAspects)(pV,[FQ.Aspect.READ_OPERATION,FQ.Aspect.RETRYABLE,FQ.Aspect.CURSOR_CREATING])});var iV=R((xS)=>{Object.defineProperty(xS,"__esModule",{value:!0});xS.ListCollectionsCursor=void 0;var kG1=e8(),_G1=_S(),xG1=v4();class lV extends xG1.AbstractCursor{constructor(Z,Y,J){super(Z.client,Z.s.namespace,J);this.parent=Z,this.filter=Y,this.options=J}clone(){return new lV(this.parent,this.filter,{...this.options,...this.cursorOptions})}async _initialize(Z){const Y=new _G1.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:Z}),J=await(0,kG1.executeOperation)(this.parent.client,Y);return{server:Y.server,session:Z,response:J}}}xS.ListCollectionsCursor=lV});var hS=R((bS)=>{Object.defineProperty(bS,"__esModule",{value:!0});bS.RunCommandCursor=void 0;var lY=o(),yS=e8(),fG1=rq(),yG1=xY(),gG1=Q1(),bG1=v4();class gS extends bG1.AbstractCursor{setComment(Z){return this.getMoreOptions.comment=Z,this}setMaxTimeMS(Z){return this.getMoreOptions.maxAwaitTimeMS=Z,this}setBatchSize(Z){return this.getMoreOptions.batchSize=Z,this}clone(){throw new lY.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(Z){throw new lY.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(Z,Y){throw new lY.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(Z){throw new lY.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(Z){throw new lY.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(Z,Y,J={}){super(Z.client,(0,gG1.ns)(Z.namespace),J);this.getMoreOptions={},this.db=Z,this.command=Object.freeze({...Y})}async _initialize(Z){const Y=new yG1.RunCommandOperation(this.db,this.command,{...this.cursorOptions,session:Z,readPreference:this.cursorOptions.readPreference}),J=await(0,yS.executeOperation)(this.client,Y);if(J.cursor==null)throw new lY.MongoUnexpectedServerResponseError("Expected server to respond with cursor");return{server:Y.server,session:Z,response:J}}async getMore(Z){const Y=new fG1.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});return(0,yS.executeOperation)(this.client,Y)}}bS.RunCommandCursor=gS});var cS=R((uS)=>{Object.defineProperty(uS,"__esModule",{value:!0});uS.CollectionsOperation=void 0;var vG1=Y9(),hG1=c1();class mS extends hG1.AbstractOperation{constructor(Z,Y){super(Y);this.options=Y,this.db=Z}async execute(Z,Y){const J=await this.db.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:Y}).toArray(),X=[];for(let{name:$}of J)if(!$.includes("$"))X.push(new vG1.Collection(this.db,$,this.db.s.options));return X}}uS.CollectionsOperation=mS});var aS=R((iS)=>{Object.defineProperty(iS,"__esModule",{value:!0});iS.CreateCollectionOperation=void 0;var pS=sZ(),mG1=Y9(),uG1=o(),dG1=O0(),cG1=C3(),lS=c1(),pG1=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),lG1="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.";class UQ extends dG1.CommandOperation{constructor(Z,Y,J={}){super(Z,J);this.options=J,this.db=Z,this.name=Y}async execute(Z,Y){const J=this.db,X=this.name,$=this.options,W=$.encryptedFields??J.client.options.autoEncryption?.encryptedFieldsMap?.[`${J.databaseName}.${X}`];if(W){if(!Z.loadBalanced&&Z.description.maxWireVersion<pS.MIN_SUPPORTED_QE_WIRE_VERSION)throw new uG1.MongoCompatibilityError(`${lG1} The minimum server version required is ${pS.MIN_SUPPORTED_QE_SERVER_VERSION}`);const Q=W.escCollection??`enxcol_.${X}.esc`,K=W.ecocCollection??`enxcol_.${X}.ecoc`;for(let H of[Q,K])await new UQ(J,H,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(Z,Y);if(!$.encryptedFields)this.options={...this.options,encryptedFields:W}}const G=await this.executeWithoutEncryptedFieldsCheck(Z,Y);if(W)await new cG1.CreateIndexOperation(J,X,{__safeContent__:1},{}).execute(Z,Y);return G}async executeWithoutEncryptedFieldsCheck(Z,Y){const J=this.db,X=this.name,$=this.options,W={create:X};for(let G in $)if($[G]!=null&&typeof $[G]!=="function"&&!pG1.has(G))W[G]=$[G];return await super.executeCommand(Z,Y,W),new mG1.Collection(J,X,$)}}iS.CreateCollectionOperation=UQ;(0,lS.defineAspects)(UQ,[lS.Aspect.WRITE_OPERATION])});var eS=R((tS)=>{Object.defineProperty(tS,"__esModule",{value:!0});tS.ProfilingLevelOperation=void 0;var sS=o(),iG1=O0();class rS extends iG1.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){const J=await super.executeCommand(Z,Y,{profile:-1});if(J.ok===1){const X=J.was;if(X===0)return"off";if(X===1)return"slow_only";if(X===2)return"all";throw new sS.MongoUnexpectedServerResponseError(`Illegal profiling level value ${X}`)}else throw new sS.MongoUnexpectedServerResponseError("Error with profile command")}}tS.ProfilingLevelOperation=rS});var nV=R((Yk)=>{Object.defineProperty(Yk,"__esModule",{value:!0});Yk.SetProfilingLevelOperation=Yk.ProfilingLevel=void 0;var nG1=o(),aG1=Q1(),sG1=O0(),rG1=new Set(["off","slow_only","all"]);Yk.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});class Zk extends sG1.CommandOperation{constructor(Z,Y,J){super(Z,J);switch(this.options=J,Y){case Yk.ProfilingLevel.off:this.profile=0;break;case Yk.ProfilingLevel.slowOnly:this.profile=1;break;case Yk.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=Y}async execute(Z,Y){const J=this.level;if(!rG1.has(J))throw new nG1.MongoInvalidArgumentError(`Profiling level must be one of "${(0,aG1.enumToString)(Yk.ProfilingLevel)}"`);return await super.executeCommand(Z,Y,{profile:this.profile}),J}}Yk.SetProfilingLevelOperation=Zk});var Gk=R(($k)=>{Object.defineProperty($k,"__esModule",{value:!0});$k.DbStatsOperation=void 0;var tG1=O0(),Xk=c1();class aV extends tG1.CommandOperation{constructor(Z,Y){super(Z,Y);this.options=Y}async execute(Z,Y){const J={dbStats:!0};if(this.options.scale!=null)J.scale=this.options.scale;return super.executeCommand(Z,Y,J)}}$k.DbStatsOperation=aV;(0,Xk.defineAspects)(aV,[Xk.Aspect.READ_OPERATION])});var qQ=R((Uk)=>{Object.defineProperty(Uk,"__esModule",{value:!0});Uk.Db=void 0;var oG1=Dq(),Qk=G0(),eG1=pY(),ZQ1=Y9(),iY=s0(),YQ1=P3(),JQ1=iV(),XQ1=hS(),Kk=o(),$Q1=cS(),WQ1=aS(),Hk=_V(),r6=e8(),zk=C3(),GQ1=eS(),QQ1=Nq(),KQ1=gV(),HQ1=xY(),zQ1=nV(),FQ1=Gk(),UQ1=i6(),Fk=d0(),J8=Q1(),qQ1=o8(),VQ1=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"];class g5{constructor(Z,Y,J){if(J=J??{},J=(0,J8.filterOptions)(J,VQ1),typeof Y==="string"&&Y.includes("."))throw new Kk.MongoInvalidArgumentError("Database names cannot contain the character '.'");this.s={options:J,readPreference:Fk.ReadPreference.fromOptions(J),bsonOptions:(0,Qk.resolveBSONOptions)(J,Z),pkFactory:J?.pkFactory??J8.DEFAULT_PK_FACTORY,readConcern:UQ1.ReadConcern.fromOptions(J),writeConcern:qQ1.WriteConcern.fromOptions(J),namespace:new J8.MongoDBNamespace(Y)},this.client=Z}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){return this.s.readPreference?.preference!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){if(this.s.readPreference==null)return this.client.readPreference;return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}async createCollection(Z,Y){return(0,r6.executeOperation)(this.client,new WQ1.CreateCollectionOperation(this,Z,(0,J8.resolveOptions)(this,Y)))}async command(Z,Y){return(0,r6.executeOperation)(this.client,new HQ1.RunCommandOperation(this,Z,{...(0,Qk.resolveBSONOptions)(Y),session:Y?.session,readPreference:Y?.readPreference}))}aggregate(Z=[],Y){return new YQ1.AggregationCursor(this.client,this.s.namespace,Z,(0,J8.resolveOptions)(this,Y))}admin(){return new oG1.Admin(this)}collection(Z,Y={}){if(typeof Y==="function")throw new Kk.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new ZQ1.Collection(this,Z,(0,J8.resolveOptions)(this,Y))}async stats(Z){return(0,r6.executeOperation)(this.client,new FQ1.DbStatsOperation(this,(0,J8.resolveOptions)(this,Z)))}listCollections(Z={},Y={}){return new JQ1.ListCollectionsCursor(this,Z,(0,J8.resolveOptions)(this,Y))}async renameCollection(Z,Y,J){return(0,r6.executeOperation)(this.client,new KQ1.RenameOperation(this.collection(Z),Y,{...J,new_collection:!0,readPreference:Fk.ReadPreference.primary}))}async dropCollection(Z,Y){return(0,r6.executeOperation)(this.client,new Hk.DropCollectionOperation(this,Z,(0,J8.resolveOptions)(this,Y)))}async dropDatabase(Z){return(0,r6.executeOperation)(this.client,new Hk.DropDatabaseOperation(this,(0,J8.resolveOptions)(this,Z)))}async collections(Z){return(0,r6.executeOperation)(this.client,new $Q1.CollectionsOperation(this,(0,J8.resolveOptions)(this,Z)))}async createIndex(Z,Y,J){return(0,r6.executeOperation)(this.client,new zk.CreateIndexOperation(this,Z,Y,(0,J8.resolveOptions)(this,J)))}async removeUser(Z,Y){return(0,r6.executeOperation)(this.client,new QQ1.RemoveUserOperation(this,Z,(0,J8.resolveOptions)(this,Y)))}async setProfilingLevel(Z,Y){return(0,r6.executeOperation)(this.client,new zQ1.SetProfilingLevelOperation(this,Z,(0,J8.resolveOptions)(this,Y)))}async profilingLevel(Z){return(0,r6.executeOperation)(this.client,new GQ1.ProfilingLevelOperation(this,(0,J8.resolveOptions)(this,Z)))}async indexInformation(Z,Y){return(0,r6.executeOperation)(this.client,new zk.IndexInformationOperation(this,Z,(0,J8.resolveOptions)(this,Y)))}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new eG1.ChangeStream(this,Z,(0,J8.resolveOptions)(this,Y))}runCursorCommand(Z,Y){return new XQ1.RunCommandCursor(this,Z,Y)}}g5.SYSTEM_NAMESPACE_COLLECTION=iY.SYSTEM_NAMESPACE_COLLECTION;g5.SYSTEM_INDEX_COLLECTION=iY.SYSTEM_INDEX_COLLECTION;g5.SYSTEM_PROFILE_COLLECTION=iY.SYSTEM_PROFILE_COLLECTION;g5.SYSTEM_USER_COLLECTION=iY.SYSTEM_USER_COLLECTION;g5.SYSTEM_COMMAND_COLLECTION=iY.SYSTEM_COMMAND_COLLECTION;g5.SYSTEM_JS_COLLECTION=iY.SYSTEM_JS_COLLECTION;Uk.Db=g5});var Lk=R((Vk)=>{var O3=function(Z){if(Z===4)return"ipv4";if(Z===6)return"ipv6";return Z?Z.toLowerCase():"ipv4"},K1=Vk,{Buffer:VQ}=import.meta.require("buffer"),LQ1=import.meta.require("os");K1.toBuffer=function(Z,Y,J){J=~~J;let X;if(this.isV4Format(Z))X=Y||VQ.alloc(J+4),Z.split(/\./g).map(($)=>{X[J++]=parseInt($,10)&255});else if(this.isV6Format(Z)){const $=Z.split(":",8);let W;for(W=0;W<$.length;W++){const G=this.isV4Format($[W]);let Q;if(G)Q=this.toBuffer($[W]),$[W]=Q.slice(0,2).toString("hex");if(Q&&++W<8)$.splice(W,0,Q.slice(2,4).toString("hex"))}if($[0]==="")while($.length<8)$.unshift("0");else if($[$.length-1]==="")while($.length<8)$.push("0");else if($.length<8){for(W=0;W<$.length&&$[W]!=="";W++);const G=[W,1];for(W=9-$.length;W>0;W--)G.push("0");$.splice(...G)}X=Y||VQ.alloc(J+16);for(W=0;W<$.length;W++){const G=parseInt($[W],16);X[J++]=G>>8&255,X[J++]=G&255}}if(!X)throw Error(`Invalid ip address: ${Z}`);return X};K1.toString=function(Z,Y,J){Y=~~Y,J=J||Z.length-Y;let X=[];if(J===4){for(let $=0;$<J;$++)X.push(Z[Y+$]);X=X.join(".")}else if(J===16){for(let $=0;$<J;$+=2)X.push(Z.readUInt16BE(Y+$).toString(16));X=X.join(":"),X=X.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),X=X.replace(/:{3,4}/,"::")}return X};var RQ1=/^(\d{1,3}\.){3,3}\d{1,3}$/,wQ1=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;K1.isV4Format=function(Z){return RQ1.test(Z)};K1.isV6Format=function(Z){return wQ1.test(Z)};K1.fromPrefixLen=function(Z,Y){if(Z>32)Y="ipv6";else Y=O3(Y);let J=4;if(Y==="ipv6")J=16;const X=VQ.alloc(J);for(let $=0,W=X.length;$<W;++$){let G=8;if(Z<8)G=Z;Z-=G,X[$]=~(255>>G)&255}return K1.toString(X)};K1.mask=function(Z,Y){Z=K1.toBuffer(Z),Y=K1.toBuffer(Y);const J=VQ.alloc(Math.max(Z.length,Y.length));let X;if(Z.length===Y.length)for(X=0;X<Z.length;X++)J[X]=Z[X]&Y[X];else if(Y.length===4)for(X=0;X<Y.length;X++)J[X]=Z[Z.length-4+X]&Y[X];else{for(X=0;X<J.length-6;X++)J[X]=0;J[10]=255,J[11]=255;for(X=0;X<Z.length;X++)J[X+12]=Z[X]&Y[X+12];X+=12}for(;X<J.length;X++)J[X]=0;return K1.toString(J)};K1.cidr=function(Z){const Y=Z.split("/"),J=Y[0];if(Y.length!==2)throw new Error(`invalid CIDR subnet: ${J}`);const X=K1.fromPrefixLen(parseInt(Y[1],10));return K1.mask(J,X)};K1.subnet=function(Z,Y){const J=K1.toLong(K1.mask(Z,Y)),X=K1.toBuffer(Y);let $=0;for(let G=0;G<X.length;G++)if(X[G]===255)$+=8;else{let Q=X[G]&255;while(Q)Q=Q<<1&255,$++}const W=2**(32-$);return{networkAddress:K1.fromLong(J),firstAddress:W<=2?K1.fromLong(J):K1.fromLong(J+1),lastAddress:W<=2?K1.fromLong(J+W-1):K1.fromLong(J+W-2),broadcastAddress:K1.fromLong(J+W-1),subnetMask:Y,subnetMaskLength:$,numHosts:W<=2?W:W-2,length:W,contains(G){return J===K1.toLong(K1.mask(G,Y))}}};K1.cidrSubnet=function(Z){const Y=Z.split("/"),J=Y[0];if(Y.length!==2)throw new Error(`invalid CIDR subnet: ${J}`);const X=K1.fromPrefixLen(parseInt(Y[1],10));return K1.subnet(J,X)};K1.not=function(Z){const Y=K1.toBuffer(Z);for(let J=0;J<Y.length;J++)Y[J]=255^Y[J];return K1.toString(Y)};K1.or=function(Z,Y){if(Z=K1.toBuffer(Z),Y=K1.toBuffer(Y),Z.length===Y.length){for(let W=0;W<Z.length;++W)Z[W]|=Y[W];return K1.toString(Z)}let J=Z,X=Y;if(Y.length>Z.length)J=Y,X=Z;const $=J.length-X.length;for(let W=$;W<J.length;++W)J[W]|=X[W-$];return K1.toString(J)};K1.isEqual=function(Z,Y){if(Z=K1.toBuffer(Z),Y=K1.toBuffer(Y),Z.length===Y.length){for(let X=0;X<Z.length;X++)if(Z[X]!==Y[X])return!1;return!0}if(Y.length===4){const X=Y;Y=Z,Z=X}for(let X=0;X<10;X++)if(Y[X]!==0)return!1;const J=Y.readUInt16BE(10);if(J!==0&&J!==65535)return!1;for(let X=0;X<4;X++)if(Z[X]!==Y[X+12])return!1;return!0};K1.isPrivate=function(Z){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(Z)||/^f[cd][0-9a-f]{2}:/i.test(Z)||/^fe80:/i.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};K1.isPublic=function(Z){return!K1.isPrivate(Z)};K1.isLoopback=function(Z){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(Z)||/^fe80::1$/.test(Z)||/^::1$/.test(Z)||/^::$/.test(Z)};K1.loopback=function(Z){if(Z=O3(Z),Z!=="ipv4"&&Z!=="ipv6")throw new Error("family must be ipv4 or ipv6");return Z==="ipv4"?"127.0.0.1":"fe80::1"};K1.address=function(Z,Y){const J=LQ1.networkInterfaces();if(Y=O3(Y),Z&&Z!=="private"&&Z!=="public"){const $=J[Z].filter((W)=>{return O3(W.family)===Y});if($.length===0)return;return $[0].address}const X=Object.keys(J).map(($)=>{const W=J[$].filter((G)=>{if(G.family=O3(G.family),G.family!==Y||K1.isLoopback(G.address))return!1;if(!Z)return!0;return Z==="public"?K1.isPrivate(G.address):K1.isPublic(G.address)});return W.length?W[0].address:void 0}).filter(Boolean);return!X.length?K1.loopback(Y):X[0]};K1.toLong=function(Z){let Y=0;return Z.split(".").forEach((J)=>{Y<<=8,Y+=parseInt(J)}),Y>>>0};K1.fromLong=function(Z){return`${Z>>>24}.${Z>>16&255}.${Z>>8&255}.${Z&255}`}});var Ak=R((Bk)=>{var MQ1=function(Z){if(!Rk.Buffer.isEncoding(Z))throw new Error(X9.INVALID_ENCODING)},wk=function(Z){return typeof Z==="number"&&isFinite(Z)&&IQ1(Z)},Mk=function(Z,Y){if(typeof Z==="number"){if(!wk(Z)||Z<0)throw new Error(Y?X9.INVALID_OFFSET:X9.INVALID_LENGTH)}else throw new Error(Y?X9.INVALID_OFFSET_NON_NUMBER:X9.INVALID_LENGTH_NON_NUMBER)},BQ1=function(Z){Mk(Z,!1)},AQ1=function(Z){Mk(Z,!0)},NQ1=function(Z,Y){if(Z<0||Z>Y.length)throw new Error(X9.INVALID_TARGET_OFFSET)},IQ1=function(Z){return typeof Z==="number"&&isFinite(Z)&&Math.floor(Z)===Z},DQ1=function(Z){if(typeof BigInt==="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof Rk.Buffer.prototype[Z]==="undefined")throw new Error(`Platform does not support Buffer.prototype.${Z}.`)};Object.defineProperty(Bk,"__esModule",{value:!0});var Rk=import.meta.require("buffer"),X9={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};Bk.ERRORS=X9;Bk.checkEncoding=MQ1;Bk.isFiniteInteger=wk;Bk.checkLengthValue=BQ1;Bk.checkOffsetValue=AQ1;Bk.checkTargetOffset=NQ1;Bk.bigIntAndBufferInt64Check=DQ1});var Dk=R((Ik)=>{Object.defineProperty(Ik,"__esModule",{value:!0});var N1=Ak(),Nk=4096,kQ1="utf8";class sV{constructor(Z){if(this.length=0,this._encoding=kQ1,this._writeOffset=0,this._readOffset=0,sV.isSmartBufferOptions(Z)){if(Z.encoding)N1.checkEncoding(Z.encoding),this._encoding=Z.encoding;if(Z.size)if(N1.isFiniteInteger(Z.size)&&Z.size>0)this._buff=Buffer.allocUnsafe(Z.size);else throw new Error(N1.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(Z.buff)if(Buffer.isBuffer(Z.buff))this._buff=Z.buff,this.length=Z.buff.length;else throw new Error(N1.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(Nk)}else{if(typeof Z!=="undefined")throw new Error(N1.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(Nk)}}static fromSize(Z,Y){return new this({size:Z,encoding:Y})}static fromBuffer(Z,Y){return new this({buff:Z,encoding:Y})}static fromOptions(Z){return new this(Z)}static isSmartBufferOptions(Z){const Y=Z;return Y&&(Y.encoding!==void 0||Y.size!==void 0||Y.buff!==void 0)}readInt8(Z){return this._readNumberValue(Buffer.prototype.readInt8,1,Z)}readInt16BE(Z){return this._readNumberValue(Buffer.prototype.readInt16BE,2,Z)}readInt16LE(Z){return this._readNumberValue(Buffer.prototype.readInt16LE,2,Z)}readInt32BE(Z){return this._readNumberValue(Buffer.prototype.readInt32BE,4,Z)}readInt32LE(Z){return this._readNumberValue(Buffer.prototype.readInt32LE,4,Z)}readBigInt64BE(Z){return N1.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,Z)}readBigInt64LE(Z){return N1.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,Z)}writeInt8(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt8,1,Z,Y),this}insertInt8(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt8,1,Z,Y)}writeInt16BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,Z,Y)}insertInt16BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,Z,Y)}writeInt16LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,Z,Y)}insertInt16LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,Z,Y)}writeInt32BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,Z,Y)}insertInt32BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,Z,Y)}writeInt32LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,Z,Y)}insertInt32LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,Z,Y)}writeBigInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,Y)}insertBigInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,Z,Y)}writeBigInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,Y)}insertBigInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,Z,Y)}readUInt8(Z){return this._readNumberValue(Buffer.prototype.readUInt8,1,Z)}readUInt16BE(Z){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,Z)}readUInt16LE(Z){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,Z)}readUInt32BE(Z){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,Z)}readUInt32LE(Z){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,Z)}readBigUInt64BE(Z){return N1.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,Z)}readBigUInt64LE(Z){return N1.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,Z)}writeUInt8(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,Z,Y)}insertUInt8(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,Z,Y)}writeUInt16BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,Z,Y)}insertUInt16BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,Z,Y)}writeUInt16LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,Z,Y)}insertUInt16LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,Z,Y)}writeUInt32BE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,Z,Y)}insertUInt32BE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,Z,Y)}writeUInt32LE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,Z,Y)}insertUInt32LE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,Z,Y)}writeBigUInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,Y)}insertBigUInt64BE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,Z,Y)}writeBigUInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,Y)}insertBigUInt64LE(Z,Y){return N1.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,Z,Y)}readFloatBE(Z){return this._readNumberValue(Buffer.prototype.readFloatBE,4,Z)}readFloatLE(Z){return this._readNumberValue(Buffer.prototype.readFloatLE,4,Z)}writeFloatBE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,Z,Y)}insertFloatBE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,Z,Y)}writeFloatLE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,Z,Y)}insertFloatLE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,Z,Y)}readDoubleBE(Z){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,Z)}readDoubleLE(Z){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,Z)}writeDoubleBE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,Z,Y)}insertDoubleBE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,Z,Y)}writeDoubleLE(Z,Y){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,Z,Y)}insertDoubleLE(Z,Y){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,Z,Y)}readString(Z,Y){let J;if(typeof Z==="number")N1.checkLengthValue(Z),J=Math.min(Z,this.length-this._readOffset);else Y=Z,J=this.length-this._readOffset;if(typeof Y!=="undefined")N1.checkEncoding(Y);const X=this._buff.slice(this._readOffset,this._readOffset+J).toString(Y||this._encoding);return this._readOffset+=J,X}insertString(Z,Y,J){return N1.checkOffsetValue(Y),this._handleString(Z,!0,Y,J)}writeString(Z,Y,J){return this._handleString(Z,!1,Y,J)}readStringNT(Z){if(typeof Z!=="undefined")N1.checkEncoding(Z);let Y=this.length;for(let X=this._readOffset;X<this.length;X++)if(this._buff[X]===0){Y=X;break}const J=this._buff.slice(this._readOffset,Y);return this._readOffset=Y+1,J.toString(Z||this._encoding)}insertStringNT(Z,Y,J){return N1.checkOffsetValue(Y),this.insertString(Z,Y,J),this.insertUInt8(0,Y+Z.length),this}writeStringNT(Z,Y,J){return this.writeString(Z,Y,J),this.writeUInt8(0,typeof Y==="number"?Y+Z.length:this.writeOffset),this}readBuffer(Z){if(typeof Z!=="undefined")N1.checkLengthValue(Z);const Y=typeof Z==="number"?Z:this.length,J=Math.min(this.length,this._readOffset+Y),X=this._buff.slice(this._readOffset,J);return this._readOffset=J,X}insertBuffer(Z,Y){return N1.checkOffsetValue(Y),this._handleBuffer(Z,!0,Y)}writeBuffer(Z,Y){return this._handleBuffer(Z,!1,Y)}readBufferNT(){let Z=this.length;for(let J=this._readOffset;J<this.length;J++)if(this._buff[J]===0){Z=J;break}const Y=this._buff.slice(this._readOffset,Z);return this._readOffset=Z+1,Y}insertBufferNT(Z,Y){return N1.checkOffsetValue(Y),this.insertBuffer(Z,Y),this.insertUInt8(0,Y+Z.length),this}writeBufferNT(Z,Y){if(typeof Y!=="undefined")N1.checkOffsetValue(Y);return this.writeBuffer(Z,Y),this.writeUInt8(0,typeof Y==="number"?Y+Z.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(Z){N1.checkOffsetValue(Z),N1.checkTargetOffset(Z,this),this._readOffset=Z}get writeOffset(){return this._writeOffset}set writeOffset(Z){N1.checkOffsetValue(Z),N1.checkTargetOffset(Z,this),this._writeOffset=Z}get encoding(){return this._encoding}set encoding(Z){N1.checkEncoding(Z),this._encoding=Z}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(Z){const Y=typeof Z==="string"?Z:this._encoding;return N1.checkEncoding(Y),this._buff.toString(Y,0,this.length)}destroy(){return this.clear(),this}_handleString(Z,Y,J,X){let $=this._writeOffset,W=this._encoding;if(typeof J==="number")$=J;else if(typeof J==="string")N1.checkEncoding(J),W=J;if(typeof X==="string")N1.checkEncoding(X),W=X;const G=Buffer.byteLength(Z,W);if(Y)this.ensureInsertable(G,$);else this._ensureWriteable(G,$);if(this._buff.write(Z,$,G,W),Y)this._writeOffset+=G;else if(typeof J==="number")this._writeOffset=Math.max(this._writeOffset,$+G);else this._writeOffset+=G;return this}_handleBuffer(Z,Y,J){const X=typeof J==="number"?J:this._writeOffset;if(Y)this.ensureInsertable(Z.length,X);else this._ensureWriteable(Z.length,X);if(Z.copy(this._buff,X),Y)this._writeOffset+=Z.length;else if(typeof J==="number")this._writeOffset=Math.max(this._writeOffset,X+Z.length);else this._writeOffset+=Z.length;return this}ensureReadable(Z,Y){let J=this._readOffset;if(typeof Y!=="undefined")N1.checkOffsetValue(Y),J=Y;if(J<0||J+Z>this.length)throw new Error(N1.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(Z,Y){if(N1.checkOffsetValue(Y),this._ensureCapacity(this.length+Z),Y<this.length)this._buff.copy(this._buff,Y+Z,Y,this._buff.length);if(Y+Z>this.length)this.length=Y+Z;else this.length+=Z}_ensureWriteable(Z,Y){const J=typeof Y==="number"?Y:this._writeOffset;if(this._ensureCapacity(J+Z),J+Z>this.length)this.length=J+Z}_ensureCapacity(Z){const Y=this._buff.length;if(Z>Y){let J=this._buff,X=Y*3/2+1;if(X<Z)X=Z;this._buff=Buffer.allocUnsafe(X),J.copy(this._buff,0,0,Y)}}_readNumberValue(Z,Y,J){this.ensureReadable(Y,J);const X=Z.call(this._buff,typeof J==="number"?J:this._readOffset);if(typeof J==="undefined")this._readOffset+=Y;return X}_insertNumberValue(Z,Y,J,X){return N1.checkOffsetValue(X),this.ensureInsertable(Y,X),Z.call(this._buff,J,X),this._writeOffset+=Y,this}_writeNumberValue(Z,Y,J,X){if(typeof X==="number"){if(X<0)throw new Error(N1.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);N1.checkOffsetValue(X)}const $=typeof X==="number"?X:this._writeOffset;if(this._ensureWriteable(Y,$),Z.call(this._buff,J,$),typeof X==="number")this._writeOffset=Math.max(this._writeOffset,$+Y);else this._writeOffset+=Y;return this}}Ik.SmartBuffer=sV});var JL=R((Pk)=>{Object.defineProperty(Pk,"__esModule",{value:!0});Pk.SOCKS5_NO_ACCEPTABLE_AUTH=Pk.SOCKS5_CUSTOM_AUTH_END=Pk.SOCKS5_CUSTOM_AUTH_START=Pk.SOCKS_INCOMING_PACKET_SIZES=Pk.SocksClientState=Pk.Socks5Response=Pk.Socks5HostType=Pk.Socks5Auth=Pk.Socks4Response=Pk.SocksCommand=Pk.ERRORS=Pk.DEFAULT_TIMEOUT=void 0;var xQ1=30000;Pk.DEFAULT_TIMEOUT=xQ1;var fQ1={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};Pk.ERRORS=fQ1;var yQ1={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:(Z)=>Z+7,Socks4Response:8};Pk.SOCKS_INCOMING_PACKET_SIZES=yQ1;var rV;(function(Z){Z[Z.connect=1]="connect",Z[Z.bind=2]="bind",Z[Z.associate=3]="associate"})(rV||(rV={}));Pk.SocksCommand=rV;var tV;(function(Z){Z[Z.Granted=90]="Granted",Z[Z.Failed=91]="Failed",Z[Z.Rejected=92]="Rejected",Z[Z.RejectedIdent=93]="RejectedIdent"})(tV||(tV={}));Pk.Socks4Response=tV;var oV;(function(Z){Z[Z.NoAuth=0]="NoAuth",Z[Z.GSSApi=1]="GSSApi",Z[Z.UserPass=2]="UserPass"})(oV||(oV={}));Pk.Socks5Auth=oV;var gQ1=128;Pk.SOCKS5_CUSTOM_AUTH_START=gQ1;var bQ1=254;Pk.SOCKS5_CUSTOM_AUTH_END=bQ1;var vQ1=255;Pk.SOCKS5_NO_ACCEPTABLE_AUTH=vQ1;var eV;(function(Z){Z[Z.Granted=0]="Granted",Z[Z.Failure=1]="Failure",Z[Z.NotAllowed=2]="NotAllowed",Z[Z.NetworkUnreachable=3]="NetworkUnreachable",Z[Z.HostUnreachable=4]="HostUnreachable",Z[Z.ConnectionRefused=5]="ConnectionRefused",Z[Z.TTLExpired=6]="TTLExpired",Z[Z.CommandNotSupported=7]="CommandNotSupported",Z[Z.AddressNotSupported=8]="AddressNotSupported"})(eV||(eV={}));Pk.Socks5Response=eV;var ZL;(function(Z){Z[Z.IPv4=1]="IPv4",Z[Z.Hostname=3]="Hostname",Z[Z.IPv6=4]="IPv6"})(ZL||(ZL={}));Pk.Socks5HostType=ZL;var YL;(function(Z){Z[Z.Created=0]="Created",Z[Z.Connecting=1]="Connecting",Z[Z.Connected=2]="Connected",Z[Z.SentInitialHandshake=3]="SentInitialHandshake",Z[Z.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",Z[Z.SentAuthentication=5]="SentAuthentication",Z[Z.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",Z[Z.SentFinalHandshake=7]="SentFinalHandshake",Z[Z.ReceivedFinalResponse=8]="ReceivedFinalResponse",Z[Z.BoundWaitingForConnection=9]="BoundWaitingForConnection",Z[Z.Established=10]="Established",Z[Z.Disconnected=11]="Disconnected",Z[Z.Error=99]="Error"})(YL||(YL={}));Pk.SocksClientState=YL});var XL=R((Ek)=>{var rQ1=function(Z){for(let Y=Z.length-1;Y>0;Y--){const J=Math.floor(Math.random()*(Y+1));[Z[Y],Z[J]]=[Z[J],Z[Y]]}};Object.defineProperty(Ek,"__esModule",{value:!0});Ek.shuffleArray=Ek.SocksClientError=void 0;class Ck extends Error{constructor(Z,Y){super(Z);this.options=Y}}Ek.SocksClientError=Ck;Ek.shuffleArray=rQ1});var yk=R((xk)=>{var eQ1=function(Z,Y=["connect","bind","associate"]){if(!t0.SocksCommand[Z.command])throw new x8.SocksClientError(t0.ERRORS.InvalidSocksCommand,Z);if(Y.indexOf(Z.command)===-1)throw new x8.SocksClientError(t0.ERRORS.InvalidSocksCommandForOperation,Z);if(!Sk(Z.destination))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!kk(Z.proxy))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsProxy,Z);if(Ok(Z.proxy,Z),Z.timeout&&!_k(Z.timeout))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsTimeout,Z);if(Z.existing_socket&&!(Z.existing_socket instanceof oQ1.Duplex))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsExistingSocket,Z)},ZK1=function(Z){if(Z.command!=="connect")throw new x8.SocksClientError(t0.ERRORS.InvalidSocksCommandChain,Z);if(!Sk(Z.destination))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsDestination,Z);if(!(Z.proxies&&Array.isArray(Z.proxies)&&Z.proxies.length>=2))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsProxiesLength,Z);if(Z.proxies.forEach((Y)=>{if(!kk(Y))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsProxy,Z);Ok(Y,Z)}),Z.timeout&&!_k(Z.timeout))throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsTimeout,Z)},Ok=function(Z,Y){if(Z.custom_auth_method!==void 0){if(Z.custom_auth_method<t0.SOCKS5_CUSTOM_AUTH_START||Z.custom_auth_method>t0.SOCKS5_CUSTOM_AUTH_END)throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsCustomAuthRange,Y);if(Z.custom_auth_request_handler===void 0||typeof Z.custom_auth_request_handler!=="function")throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y);if(Z.custom_auth_response_size===void 0)throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y);if(Z.custom_auth_response_handler===void 0||typeof Z.custom_auth_response_handler!=="function")throw new x8.SocksClientError(t0.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Y)}},Sk=function(Z){return Z&&typeof Z.host==="string"&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535},kk=function(Z){return Z&&(typeof Z.host==="string"||typeof Z.ipaddress==="string")&&typeof Z.port==="number"&&Z.port>=0&&Z.port<=65535&&(Z.type===4||Z.type===5)},_k=function(Z){return typeof Z==="number"&&Z>0};Object.defineProperty(xk,"__esModule",{value:!0});xk.validateSocksClientChainOptions=xk.validateSocksClientOptions=void 0;var x8=XL(),t0=JL(),oQ1=import.meta.require("stream");xk.validateSocksClientOptions=eQ1;xk.validateSocksClientChainOptions=ZK1});var hk=R((bk)=>{Object.defineProperty(bk,"__esModule",{value:!0});bk.ReceiveBuffer=void 0;class gk{constructor(Z=4096){this.buffer=Buffer.allocUnsafe(Z),this.offset=0,this.originalSize=Z}get length(){return this.offset}append(Z){if(!Buffer.isBuffer(Z))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+Z.length>=this.buffer.length){const Y=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+Z.length)),Y.copy(this.buffer)}return Z.copy(this.buffer,this.offset),this.offset+=Z.length}peek(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,Z)}get(Z){if(Z>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const Y=Buffer.allocUnsafe(Z);return this.buffer.slice(0,Z).copy(Y),this.buffer.copyWithin(0,Z,Z+this.offset-Z),this.offset-=Z,Y}}bk.ReceiveBuffer=gk});var mk=R((b5)=>{var nY=b5&&b5.__awaiter||function(Z,Y,J,X){function $(W){return W instanceof J?W:new J(function(G){G(W)})}return new(J||(J=Promise))(function(W,G){function Q(z){try{H(X.next(z))}catch(F){G(F)}}function K(z){try{H(X.throw(z))}catch(F){G(F)}}function H(z){z.done?W(z.value):$(z.value).then(Q,K)}H((X=X.apply(Z,Y||[])).next())})};Object.defineProperty(b5,"__esModule",{value:!0});b5.SocksClientError=b5.SocksClient=void 0;var JK1=import.meta.require("events"),aY=import.meta.require("net"),T6=Lk(),Z6=Dk(),n=JL(),$L=yk(),XK1=hk(),WL=XL();Object.defineProperty(b5,"SocksClientError",{enumerable:!0,get:function(){return WL.SocksClientError}});class LQ extends JK1.EventEmitter{constructor(Z){super();this.options=Object.assign({},Z),(0,$L.validateSocksClientOptions)(Z),this.setState(n.SocksClientState.Created)}static createConnection(Z,Y){return new Promise((J,X)=>{try{(0,$L.validateSocksClientOptions)(Z,["connect"])}catch(W){if(typeof Y==="function")return Y(W),J(W);else return X(W)}const $=new LQ(Z);$.connect(Z.existing_socket),$.once("established",(W)=>{if($.removeAllListeners(),typeof Y==="function")Y(null,W),J(W);else J(W)}),$.once("error",(W)=>{if($.removeAllListeners(),typeof Y==="function")Y(W),J(W);else X(W)})})}static createConnectionChain(Z,Y){return new Promise((J,X)=>nY(this,void 0,void 0,function*(){try{(0,$L.validateSocksClientChainOptions)(Z)}catch($){if(typeof Y==="function")return Y($),J($);else return X($)}if(Z.randomizeChain)(0,WL.shuffleArray)(Z.proxies);try{let $;for(let W=0;W<Z.proxies.length;W++){const G=Z.proxies[W],Q=W===Z.proxies.length-1?Z.destination:{host:Z.proxies[W+1].host||Z.proxies[W+1].ipaddress,port:Z.proxies[W+1].port},K=yield LQ.createConnection({command:"connect",proxy:G,destination:Q,existing_socket:$});$=$||K.socket}if(typeof Y==="function")Y(null,{socket:$}),J({socket:$});else J({socket:$})}catch($){if(typeof Y==="function")Y($),J($);else X($)}}))}static createUDPFrame(Z){const Y=new Z6.SmartBuffer;if(Y.writeUInt16BE(0),Y.writeUInt8(Z.frameNumber||0),aY.isIPv4(Z.remoteHost.host))Y.writeUInt8(n.Socks5HostType.IPv4),Y.writeUInt32BE(T6.toLong(Z.remoteHost.host));else if(aY.isIPv6(Z.remoteHost.host))Y.writeUInt8(n.Socks5HostType.IPv6),Y.writeBuffer(T6.toBuffer(Z.remoteHost.host));else Y.writeUInt8(n.Socks5HostType.Hostname),Y.writeUInt8(Buffer.byteLength(Z.remoteHost.host)),Y.writeString(Z.remoteHost.host);return Y.writeUInt16BE(Z.remoteHost.port),Y.writeBuffer(Z.data),Y.toBuffer()}static parseUDPFrame(Z){const Y=Z6.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J=Y.readUInt8(),X=Y.readUInt8();let $;if(X===n.Socks5HostType.IPv4)$=T6.fromLong(Y.readUInt32BE());else if(X===n.Socks5HostType.IPv6)$=T6.toString(Y.readBuffer(16));else $=Y.readString(Y.readUInt8());const W=Y.readUInt16BE();return{frameNumber:J,remoteHost:{host:$,port:W},data:Y.readBuffer()}}setState(Z){if(this.state!==n.SocksClientState.Error)this.state=Z}connect(Z){this.onDataReceived=(J)=>this.onDataReceivedHandler(J),this.onClose=()=>this.onCloseHandler(),this.onError=(J)=>this.onErrorHandler(J),this.onConnect=()=>this.onConnectHandler();const Y=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||n.DEFAULT_TIMEOUT);if(Y.unref&&typeof Y.unref==="function")Y.unref();if(Z)this.socket=Z;else this.socket=new aY.Socket;if(this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(n.SocksClientState.Connecting),this.receiveBuffer=new XK1.ReceiveBuffer,Z)this.socket.emit("connect");else if(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null)this.socket.setNoDelay(!!this.options.set_tcp_nodelay);this.prependOnceListener("established",(J)=>{setImmediate(()=>{if(this.receiveBuffer.length>0){const X=this.receiveBuffer.get(this.receiveBuffer.length);J.socket.emit("data",X)}J.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){if(this.state!==n.SocksClientState.Established&&this.state!==n.SocksClientState.BoundWaitingForConnection)this.closeSocket(n.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){if(this.setState(n.SocksClientState.Connected),this.options.proxy.type===4)this.sendSocks4InitialHandshake();else this.sendSocks5InitialHandshake();this.setState(n.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(Z){this.receiveBuffer.append(Z),this.processData()}processData(){while(this.state!==n.SocksClientState.Established&&this.state!==n.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize)if(this.state===n.SocksClientState.SentInitialHandshake)if(this.options.proxy.type===4)this.handleSocks4FinalHandshakeResponse();else this.handleInitialSocks5HandshakeResponse();else if(this.state===n.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===n.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===n.SocksClientState.BoundWaitingForConnection)if(this.options.proxy.type===4)this.handleSocks4IncomingConnectionResponse();else this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(n.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(n.ERRORS.SocketClosed)}onErrorHandler(Z){this.closeSocket(Z.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(Z){if(this.state!==n.SocksClientState.Error)this.setState(n.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new WL.SocksClientError(Z,this.options))}sendSocks4InitialHandshake(){const Z=this.options.proxy.userId||"",Y=new Z6.SmartBuffer;if(Y.writeUInt8(4),Y.writeUInt8(n.SocksCommand[this.options.command]),Y.writeUInt16BE(this.options.destination.port),aY.isIPv4(this.options.destination.host))Y.writeBuffer(T6.toBuffer(this.options.destination.host)),Y.writeStringNT(Z);else Y.writeUInt8(0),Y.writeUInt8(0),Y.writeUInt8(0),Y.writeUInt8(1),Y.writeStringNT(Z),Y.writeStringNT(this.options.destination.host);this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(Y.toBuffer())}handleSocks4FinalHandshakeResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==n.Socks4Response.Granted)this.closeSocket(`${n.ERRORS.Socks4ProxyRejectedConnection} - (${n.Socks4Response[Z[1]]})`);else if(n.SocksCommand[this.options.command]===n.SocksCommand.bind){const Y=Z6.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J={port:Y.readUInt16BE(),host:T6.fromLong(Y.readUInt32BE())};if(J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress;this.setState(n.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:J,socket:this.socket})}else this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const Z=this.receiveBuffer.get(8);if(Z[1]!==n.Socks4Response.Granted)this.closeSocket(`${n.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${n.Socks4Response[Z[1]]})`);else{const Y=Z6.SmartBuffer.fromBuffer(Z);Y.readOffset=2;const J={port:Y.readUInt16BE(),host:T6.fromLong(Y.readUInt32BE())};this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}sendSocks5InitialHandshake(){const Z=new Z6.SmartBuffer,Y=[n.Socks5Auth.NoAuth];if(this.options.proxy.userId||this.options.proxy.password)Y.push(n.Socks5Auth.UserPass);if(this.options.proxy.custom_auth_method!==void 0)Y.push(this.options.proxy.custom_auth_method);Z.writeUInt8(5),Z.writeUInt8(Y.length);for(let J of Y)Z.writeUInt8(J);this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(Z.toBuffer()),this.setState(n.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const Z=this.receiveBuffer.get(2);if(Z[0]!==5)this.closeSocket(n.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion);else if(Z[1]===n.SOCKS5_NO_ACCEPTABLE_AUTH)this.closeSocket(n.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType);else if(Z[1]===n.Socks5Auth.NoAuth)this.socks5ChosenAuthType=n.Socks5Auth.NoAuth,this.sendSocks5CommandRequest();else if(Z[1]===n.Socks5Auth.UserPass)this.socks5ChosenAuthType=n.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication();else if(Z[1]===this.options.proxy.custom_auth_method)this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication();else this.closeSocket(n.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const Z=this.options.proxy.userId||"",Y=this.options.proxy.password||"",J=new Z6.SmartBuffer;J.writeUInt8(1),J.writeUInt8(Buffer.byteLength(Z)),J.writeString(Z),J.writeUInt8(Buffer.byteLength(Y)),J.writeString(Y),this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(J.toBuffer()),this.setState(n.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return nY(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(n.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(Z){return nY(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(Z)})}handleSocks5AuthenticationNoAuthHandshakeResponse(Z){return nY(this,void 0,void 0,function*(){return Z[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(Z){return nY(this,void 0,void 0,function*(){return Z[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return nY(this,void 0,void 0,function*(){this.setState(n.SocksClientState.ReceivedAuthenticationResponse);let Z=!1;if(this.socks5ChosenAuthType===n.Socks5Auth.NoAuth)Z=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===n.Socks5Auth.UserPass)Z=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2));else if(this.socks5ChosenAuthType===this.options.proxy.custom_auth_method)Z=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size));if(!Z)this.closeSocket(n.ERRORS.Socks5AuthenticationFailed);else this.sendSocks5CommandRequest()})}sendSocks5CommandRequest(){const Z=new Z6.SmartBuffer;if(Z.writeUInt8(5),Z.writeUInt8(n.SocksCommand[this.options.command]),Z.writeUInt8(0),aY.isIPv4(this.options.destination.host))Z.writeUInt8(n.Socks5HostType.IPv4),Z.writeBuffer(T6.toBuffer(this.options.destination.host));else if(aY.isIPv6(this.options.destination.host))Z.writeUInt8(n.Socks5HostType.IPv6),Z.writeBuffer(T6.toBuffer(this.options.destination.host));else Z.writeUInt8(n.Socks5HostType.Hostname),Z.writeUInt8(this.options.destination.host.length),Z.writeString(this.options.destination.host);Z.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(Z.toBuffer()),this.setState(n.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==n.Socks5Response.Granted)this.closeSocket(`${n.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${n.Socks5Response[Z[1]]}`);else{const Y=Z[3];let J,X;if(Y===n.Socks5HostType.IPv4){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}if(X=Z6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:T6.fromLong(X.readUInt32BE()),port:X.readUInt16BE()},J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress}else if(Y===n.Socks5HostType.Hostname){const $=Z[4],W=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname($);if(this.receiveBuffer.length<W){this.nextRequiredPacketBufferSize=W;return}X=Z6.SmartBuffer.fromBuffer(this.receiveBuffer.get(W).slice(5)),J={host:X.readString($),port:X.readUInt16BE()}}else if(Y===n.Socks5HostType.IPv6){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}X=Z6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:T6.toString(X.readBuffer(16)),port:X.readUInt16BE()}}if(this.setState(n.SocksClientState.ReceivedFinalResponse),n.SocksCommand[this.options.command]===n.SocksCommand.connect)this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket});else if(n.SocksCommand[this.options.command]===n.SocksCommand.bind)this.setState(n.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:J,socket:this.socket});else if(n.SocksCommand[this.options.command]===n.SocksCommand.associate)this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}handleSocks5IncomingConnectionResponse(){const Z=this.receiveBuffer.peek(5);if(Z[0]!==5||Z[1]!==n.Socks5Response.Granted)this.closeSocket(`${n.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${n.Socks5Response[Z[1]]}`);else{const Y=Z[3];let J,X;if(Y===n.Socks5HostType.IPv4){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}if(X=Z6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:T6.fromLong(X.readUInt32BE()),port:X.readUInt16BE()},J.host==="0.0.0.0")J.host=this.options.proxy.ipaddress}else if(Y===n.Socks5HostType.Hostname){const $=Z[4],W=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname($);if(this.receiveBuffer.length<W){this.nextRequiredPacketBufferSize=W;return}X=Z6.SmartBuffer.fromBuffer(this.receiveBuffer.get(W).slice(5)),J={host:X.readString($),port:X.readUInt16BE()}}else if(Y===n.Socks5HostType.IPv6){const $=n.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<$){this.nextRequiredPacketBufferSize=$;return}X=Z6.SmartBuffer.fromBuffer(this.receiveBuffer.get($).slice(4)),J={host:T6.toString(X.readBuffer(16)),port:X.readUInt16BE()}}this.setState(n.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:J,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}b5.SocksClient=LQ});var uk=R(($9)=>{var $K1=$9&&$9.__createBinding||(Object.create?function(Z,Y,J,X){if(X===void 0)X=J;var $=Object.getOwnPropertyDescriptor(Y,J);if(!$||("get"in $?!Y.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Y[J]}};Object.defineProperty(Z,X,$)}:function(Z,Y,J,X){if(X===void 0)X=J;Z[X]=Y[J]}),WK1=$9&&$9.__exportStar||function(Z,Y){for(var J in Z)if(J!=="default"&&!Object.prototype.hasOwnProperty.call(Y,J))$K1(Y,Z,J)};Object.defineProperty($9,"__esModule",{value:!0});WK1(mk(),$9)});var P7=R((dk)=>{var S3=function(Z){return new Proxy(Z?{kModuleError:Z}:{},{get:(J,X)=>{if(X==="kModuleError")return Z;throw Z},set:()=>{throw Z}})},GK1=function(){try{return dk.Kerberos=(()=>{ throw new Error(`Cannot require module "kerberos"`);})(),dk.Kerberos}catch{return dk.Kerberos}},QK1=function(){try{return dk.ZStandard=(()=>{ throw new Error(`Cannot require module "@mongodb-js/zstd"`);})(),dk.ZStandard}catch{return dk.ZStandard}},KK1=function(){try{return (()=>{ throw new Error(`Cannot require module "@aws-sdk/credential-providers"`);})()}catch{return S3(new v5.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}},HK1=function(){try{return (()=>{ throw new Error(`Cannot require module "gcp-metadata"`);})()}catch{return S3(new v5.MongoMissingDependencyError("Optional module `gcp-metadata` not found. Please install it to enable getting gcp credentials via the official sdk."))}},zK1=function(){try{return (()=>{ throw new Error(`Cannot require module "snappy"`);})()}catch(Z){return{kModuleError:new v5.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:Z})}}},FK1=function(){try{return uk()}catch(Z){return{kModuleError:new v5.MongoMissingDependencyError("Optional module `socks` not found. Please install it to connections over a SOCKS5 proxy",{cause:Z})}}},UK1=function(){let Z=null;try{Z=(()=>{ throw new Error(`Cannot require module "mongodb-client-encryption"`);})()}catch(Y){return{kModuleError:new v5.MongoMissingDependencyError("Optional module `mongodb-client-encryption` not found. Please install it to use auto encryption or ClientEncryption.",{cause:Y})}}return Z};Object.defineProperty(dk,"__esModule",{value:!0});dk.getMongoDBClientEncryption=dk.aws4=dk.getSocks=dk.getSnappy=dk.getGcpMetadata=dk.getAwsCredentialProvider=dk.getZstdLibrary=dk.ZStandard=dk.getKerberos=dk.Kerberos=void 0;var v5=o();dk.Kerberos=S3(new v5.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));dk.getKerberos=GK1;dk.ZStandard=S3(new v5.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));dk.getZstdLibrary=QK1;dk.getAwsCredentialProvider=KK1;dk.getGcpMetadata=HK1;dk.getSnappy=zK1;dk.getSocks=FK1;dk.aws4=S3(new v5.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{dk.aws4=(()=>{ throw new Error(`Cannot require module "aws4"`);})()}catch{}dk.getMongoDBClientEncryption=UK1});var h4=R((nk)=>{Object.defineProperty(nk,"__esModule",{value:!0});nk.AuthProvider=nk.AuthContext=void 0;var BK1=o();class lk{constructor(Z,Y,J){this.reauthenticating=!1,this.connection=Z,this.credentials=Y,this.options=J}}nk.AuthContext=lk;class ik{async prepare(Z,Y){return Z}async reauth(Z){if(Z.reauthenticating)throw new BK1.MongoRuntimeError("Reauthentication already in progress.");try{Z.reauthenticating=!0,await this.auth(Z)}finally{Z.reauthenticating=!1}}}nk.AuthProvider=ik});var BQ=R((ek)=>{async function GL(Z,Y){return Z.commandAsync((0,IK1.ns)("$external.$cmd"),Y,void 0)}async function PK1(Z){const{hostAddress:Y}=Z.options,{credentials:J}=Z;if(!Y||typeof Y.host!=="string"||!J)throw new sk.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(jK1(),("kModuleError"in k3))throw k3.kModuleError;const{initializeClient:X}=k3,{username:$,password:W}=J,G=J.mechanismProperties,Q=G.SERVICE_NAME??"mongodb",K=await ok(Y.host,G),H={};if(W!=null)Object.assign(H,{user:$,password:W});const z=G.SERVICE_HOST??K;let F=`${Q}${process.platform==="win32"?"/":"@"}${z}`;if("SERVICE_REALM"in G)F=`${F}@${G.SERVICE_REALM}`;return X(F,H)}var TK1=function(Z){return{saslStart:1,mechanism:"GSSAPI",payload:Z,autoAuthorize:1}},CK1=function(Z,Y){return{saslContinue:1,conversationId:Y,payload:Z}};async function tk(Z,Y,J){try{return await Z.step(J)||""}catch(X){if(Y===0)throw X;return tk(Z,Y-1,J)}}async function EK1(Z,Y,J){const X=await Z.unwrap(J);return Z.wrap(X||"",{user:Y})}async function ok(Z,Y){const J=Y.CANONICALIZE_HOST_NAME;if(!J||J===ek.GSSAPICanonicalizationValue.none)return Z;if(J===ek.GSSAPICanonicalizationValue.on||J===ek.GSSAPICanonicalizationValue.forwardAndReverse){const{address:X}=await QL.promises.lookup(Z);try{const $=await QL.promises.resolvePtr(X);return $.length>0?$[0]:Z}catch($){return KL(Z)}}else return KL(Z)}async function KL(Z){try{const Y=await QL.promises.resolveCname(Z);return Y.length>0?Y[0]:Z}catch{return Z}}var jK1=function(){if(!k3)k3=(0,NK1.getKerberos)()};Object.defineProperty(ek,"__esModule",{value:!0});ek.resolveCname=ek.performGSSAPICanonicalizeHostName=ek.GSSAPI=ek.GSSAPICanonicalizationValue=void 0;var QL=import.meta.require("dns"),NK1=P7(),sk=o(),IK1=Q1(),DK1=h4();ek.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});var k3;class rk extends DK1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(J==null)throw new sk.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");const{username:X}=J,$=await PK1(Z),W=await $.step(""),G=await GL(Y,TK1(W)),Q=await tk($,10,G.payload),K=await GL(Y,CK1(Q,G.conversationId)),H=await EK1($,X,K.payload);await GL(Y,{saslContinue:1,conversationId:K.conversationId,payload:H})}}ek.GSSAPI=rk;ek.performGSSAPICanonicalizeHostName=ok;ek.resolveCname=KL});var G4=R((Y_)=>{Object.defineProperty(Y_,"__esModule",{value:!0});Y_.AUTH_MECHS_AUTH_SRC_EXTERNAL=Y_.AuthMechanism=void 0;Y_.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"});Y_.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([Y_.AuthMechanism.MONGODB_GSSAPI,Y_.AuthMechanism.MONGODB_AWS,Y_.AuthMechanism.MONGODB_OIDC,Y_.AuthMechanism.MONGODB_X509])});var NQ=R((W_)=>{var _K1=function(Z){if(Z){if(Array.isArray(Z.saslSupportedMechs))return Z.saslSupportedMechs.includes(X8.AuthMechanism.MONGODB_SCRAM_SHA256)?X8.AuthMechanism.MONGODB_SCRAM_SHA256:X8.AuthMechanism.MONGODB_SCRAM_SHA1;if(Z.maxWireVersion>=3)return X8.AuthMechanism.MONGODB_SCRAM_SHA1}return X8.AuthMechanism.MONGODB_CR};Object.defineProperty(W_,"__esModule",{value:!0});W_.MongoCredentials=W_.DEFAULT_ALLOWED_HOSTS=void 0;var t6=o(),kK1=BQ(),X8=G4(),X_=["aws","azure"],$_="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";W_.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];var xK1="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class AQ{constructor(Z){if(this.username=Z.username??"",this.password=Z.password,this.source=Z.source,!this.source&&Z.db)this.source=Z.db;if(this.mechanism=Z.mechanism||X8.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=Z.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)){if(!this.username&&process.env.AWS_ACCESS_KEY_ID)this.username=process.env.AWS_ACCESS_KEY_ID;if(!this.password&&process.env.AWS_SECRET_ACCESS_KEY)this.password=process.env.AWS_SECRET_ACCESS_KEY;if(this.mechanismProperties.AWS_SESSION_TOKEN==null&&process.env.AWS_SESSION_TOKEN!=null)this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN}}if(this.mechanism===X8.AuthMechanism.MONGODB_OIDC&&!this.mechanismProperties.ALLOWED_HOSTS)this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:W_.DEFAULT_ALLOWED_HOSTS};Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(Z){return this.mechanism===Z.mechanism&&this.username===Z.username&&this.password===Z.password&&this.source===Z.source}resolveAuthMechanism(Z){if(this.mechanism.match(/DEFAULT/i))return new AQ({username:this.username,password:this.password,source:this.source,mechanism:_K1(Z),mechanismProperties:this.mechanismProperties});return this}validate(){if((this.mechanism===X8.AuthMechanism.MONGODB_GSSAPI||this.mechanism===X8.AuthMechanism.MONGODB_CR||this.mechanism===X8.AuthMechanism.MONGODB_PLAIN||this.mechanism===X8.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===X8.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new t6.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===X8.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.PROVIDER_NAME)throw new t6.MongoInvalidArgumentError(`username and PROVIDER_NAME may not be used together for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.PROVIDER_NAME==="azure"&&!this.mechanismProperties.TOKEN_AUDIENCE)throw new t6.MongoAzureError(xK1);if(this.mechanismProperties.PROVIDER_NAME&&!X_.includes(this.mechanismProperties.PROVIDER_NAME))throw new t6.MongoInvalidArgumentError(`Currently only a PROVIDER_NAME in ${X_.join(",")} is supported for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.REFRESH_TOKEN_CALLBACK&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new t6.MongoInvalidArgumentError(`A REQUEST_TOKEN_CALLBACK must be provided when using a REFRESH_TOKEN_CALLBACK for mechanism '${this.mechanism}'`);if(!this.mechanismProperties.PROVIDER_NAME&&!this.mechanismProperties.REQUEST_TOKEN_CALLBACK)throw new t6.MongoInvalidArgumentError(`Either a PROVIDER_NAME or a REQUEST_TOKEN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){const Y=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(Y))throw new t6.MongoInvalidArgumentError($_);for(let J of Y)if(typeof J!=="string")throw new t6.MongoInvalidArgumentError($_)}}if(X8.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)){if(this.source!=null&&this.source!=="$external")throw new t6.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`)}if(this.mechanism===X8.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new t6.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===X8.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new t6.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}const Z=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(kK1.GSSAPICanonicalizationValue).includes(Z))throw new t6.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${Z}`)}static merge(Z,Y){return new AQ({username:Y.username??Z?.username??"",password:Y.password??Z?.password??"",mechanism:Y.mechanism??Z?.mechanism??X8.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:Y.mechanismProperties??Z?.mechanismProperties??{},source:Y.source??Y.db??Z?.source??"admin"})}}W_.MongoCredentials=AQ});var DQ=R((F_)=>{var o1=function(Z,Y,J){if(J.globals)Z=J.globals[Z.name];return new Z(`${J.context?J.context:"Value"} ${Y}.`)},tY=function(Z,Y){if(typeof Z==="bigint")throw o1(TypeError,"is a BigInt which cannot be converted to a number",Y);if(!Y.globals)return Number(Z);return Y.globals.Number(Z)},H_=function(Z){if(Z>0&&Z%1===0.5&&(Z&1)===0||Z<0&&Z%1===-0.5&&(Z&1)===1)return x3(Math.floor(Z));return x3(Math.round(Z))},IQ=function(Z){return x3(Math.trunc(Z))},K_=function(Z){return Z<0?-1:1},fK1=function(Z,Y){const J=Z%Y;if(K_(Y)!==K_(J))return J+Y;return J},x3=function(Z){return Z===0?0:Z},oY=function(Z,{unsigned:Y}){let J,X;if(Y)J=0,X=2**Z-1;else J=-(2**(Z-1)),X=2**(Z-1)-1;const $=2**Z,W=2**(Z-1);return(G,Q={})=>{let K=tY(G,Q);if(K=x3(K),Q.enforceRange){if(!Number.isFinite(K))throw o1(TypeError,"is not a finite number",Q);if(K=IQ(K),K<J||K>X)throw o1(TypeError,`is outside the accepted range of ${J} to ${X}, inclusive`,Q);return K}if(!Number.isNaN(K)&&Q.clamp)return K=Math.min(Math.max(K,J),X),K=H_(K),K;if(!Number.isFinite(K)||K===0)return 0;if(K=IQ(K),K>=J&&K<=X)return K;if(K=fK1(K,$),!Y&&K>=W)return K-$;return K}},z_=function(Z,{unsigned:Y}){const J=Number.MAX_SAFE_INTEGER,X=Y?0:Number.MIN_SAFE_INTEGER,$=Y?BigInt.asUintN:BigInt.asIntN;return(W,G={})=>{let Q=tY(W,G);if(Q=x3(Q),G.enforceRange){if(!Number.isFinite(Q))throw o1(TypeError,"is not a finite number",G);if(Q=IQ(Q),Q<X||Q>J)throw o1(TypeError,`is outside the accepted range of ${X} to ${J}, inclusive`,G);return Q}if(!Number.isNaN(Q)&&G.clamp)return Q=Math.min(Math.max(Q,X),J),Q=H_(Q),Q;if(!Number.isFinite(Q)||Q===0)return 0;let K=BigInt(IQ(Q));return K=$(Z,K),Number(K)}},HL=function(Z){try{return yK1.call(Z),!0}catch{return!1}},sY=function(Z){try{return gK1.call(Z),!0}catch{return!1}},rY=function(Z){try{return new Uint8Array(Z),!1}catch{return!0}};F_.any=(Z)=>{return Z};F_.undefined=()=>{return};F_.boolean=(Z)=>{return Boolean(Z)};F_.byte=oY(8,{unsigned:!1});F_.octet=oY(8,{unsigned:!0});F_.short=oY(16,{unsigned:!1});F_["unsigned short"]=oY(16,{unsigned:!0});F_.long=oY(32,{unsigned:!1});F_["unsigned long"]=oY(32,{unsigned:!0});F_["long long"]=z_(64,{unsigned:!1});F_["unsigned long long"]=z_(64,{unsigned:!0});F_.double=(Z,Y={})=>{const J=tY(Z,Y);if(!Number.isFinite(J))throw o1(TypeError,"is not a finite floating-point value",Y);return J};F_["unrestricted double"]=(Z,Y={})=>{return tY(Z,Y)};F_.float=(Z,Y={})=>{const J=tY(Z,Y);if(!Number.isFinite(J))throw o1(TypeError,"is not a finite floating-point value",Y);if(Object.is(J,-0))return J;const X=Math.fround(J);if(!Number.isFinite(X))throw o1(TypeError,"is outside the range of a single-precision floating-point value",Y);return X};F_["unrestricted float"]=(Z,Y={})=>{const J=tY(Z,Y);if(isNaN(J))return J;if(Object.is(J,-0))return J;return Math.fround(J)};F_.DOMString=(Z,Y={})=>{if(Y.treatNullAsEmptyString&&Z===null)return"";if(typeof Z==="symbol")throw o1(TypeError,"is a symbol, which cannot be converted to a string",Y);return(Y.globals?Y.globals.String:String)(Z)};F_.ByteString=(Z,Y={})=>{const J=F_.DOMString(Z,Y);let X;for(let $=0;(X=J.codePointAt($))!==void 0;++$)if(X>255)throw o1(TypeError,"is not a valid ByteString",Y);return J};F_.USVString=(Z,Y={})=>{const J=F_.DOMString(Z,Y),X=J.length,$=[];for(let W=0;W<X;++W){const G=J.charCodeAt(W);if(G<55296||G>57343)$.push(String.fromCodePoint(G));else if(56320<=G&&G<=57343)$.push(String.fromCodePoint(65533));else if(W===X-1)$.push(String.fromCodePoint(65533));else{const Q=J.charCodeAt(W+1);if(56320<=Q&&Q<=57343){const K=G&1023,H=Q&1023;$.push(String.fromCodePoint((2<<15)+(2<<9)*K+H)),++W}else $.push(String.fromCodePoint(65533))}}return $.join("")};F_.object=(Z,Y={})=>{if(Z===null||typeof Z!=="object"&&typeof Z!=="function")throw o1(TypeError,"is not an object",Y);return Z};var yK1=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,gK1=typeof SharedArrayBuffer==="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;F_.ArrayBuffer=(Z,Y={})=>{if(!HL(Z)){if(Y.allowShared&&!sY(Z))throw o1(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",Y);throw o1(TypeError,"is not an ArrayBuffer",Y)}if(rY(Z))throw o1(TypeError,"is a detached ArrayBuffer",Y);return Z};var bK1=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;F_.DataView=(Z,Y={})=>{try{bK1.call(Z)}catch(J){throw o1(TypeError,"is not a DataView",Y)}if(!Y.allowShared&&sY(Z.buffer))throw o1(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",Y);if(rY(Z.buffer))throw o1(TypeError,"is backed by a detached ArrayBuffer",Y);return Z};var vK1=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((Z)=>{const{name:Y}=Z,J=/^[AEIOU]/u.test(Y)?"an":"a";F_[Y]=(X,$={})=>{if(!ArrayBuffer.isView(X)||vK1.call(X)!==Y)throw o1(TypeError,`is not ${J} ${Y} object`,$);if(!$.allowShared&&sY(X.buffer))throw o1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",$);if(rY(X.buffer))throw o1(TypeError,"is a view on a detached ArrayBuffer",$);return X}});F_.ArrayBufferView=(Z,Y={})=>{if(!ArrayBuffer.isView(Z))throw o1(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",Y);if(!Y.allowShared&&sY(Z.buffer))throw o1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",Y);if(rY(Z.buffer))throw o1(TypeError,"is a view on a detached ArrayBuffer",Y);return Z};F_.BufferSource=(Z,Y={})=>{if(ArrayBuffer.isView(Z)){if(!Y.allowShared&&sY(Z.buffer))throw o1(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",Y);if(rY(Z.buffer))throw o1(TypeError,"is a view on a detached ArrayBuffer",Y);return Z}if(!Y.allowShared&&!HL(Z))throw o1(TypeError,"is not an ArrayBuffer or a view on one",Y);if(Y.allowShared&&!sY(Z)&&!HL(Z))throw o1(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",Y);if(rY(Z))throw o1(TypeError,"is a detached ArrayBuffer",Y);return Z};F_.DOMTimeStamp=F_["unsigned long long"]});var TQ=R((B_,A_)=>{var QH1=function(Z){return typeof Z==="object"&&Z!==null||typeof Z==="function"},KH1=function(Z,Y){for(let J of Reflect.ownKeys(Y)){const X=Reflect.getOwnPropertyDescriptor(Y,J);if(X&&!Reflect.defineProperty(Z,J,X))throw new TypeError(`Cannot redefine property: ${String(J)}`)}},HH1=function(Z,Y){const J=R_(Z);return Object.defineProperties(Object.create(J["%Object.prototype%"]),Object.getOwnPropertyDescriptors(Y))},R_=function(Z){if(q_(Z,PQ))return Z[PQ];const Y=Object.create(null);Y["%Object.prototype%"]=Z.Object.prototype,Y["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new Z.Array()[Symbol.iterator]()));try{Y["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(Z.eval("(async function* () {})").prototype))}catch{Y["%AsyncIteratorPrototype%"]=zH1}return Z[PQ]=Y,Y},FH1=function(Z,Y,J){if(!Z[eY])Z[eY]=Object.create(null);if(Y in Z[eY])return Z[eY][Y];return Z[eY][Y]=J(),Z[eY][Y]},w_=function(Z){return Z?Z[V_]:null},M_=function(Z){return Z?Z[L_]:null},UH1=function(Z){const Y=w_(Z);return Y?Y:Z},qH1=function(Z){const Y=M_(Z);return Y?Y:Z},LH1=function(Z){if(typeof Z!=="string")return!1;const Y=Z>>>0;if(Y===4294967295)return!1;const J=`${Y}`;if(Z!==J)return!1;return!0},wH1=function(Z){try{return RH1.call(Z),!0}catch(Y){return!1}},MH1=function([Z,Y],J){let X;switch(J){case"key":X=Z;break;case"value":X=Y;break;case"key+value":X=[Z,Y];break}return{value:X,done:!1}},q_=Function.prototype.call.bind(Object.prototype.hasOwnProperty),V_=Symbol("wrapper"),L_=Symbol("impl"),eY=Symbol("SameObject caches"),PQ=Symbol.for("[webidl2js] constructor registry"),zH1=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),VH1=Symbol("internal"),RH1=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,BH1=Symbol("supports property index"),AH1=Symbol("supported property indices"),NH1=Symbol("supports property name"),IH1=Symbol("supported property names"),DH1=Symbol("indexed property get"),PH1=Symbol("indexed property set new"),TH1=Symbol("indexed property set existing"),CH1=Symbol("named property get"),EH1=Symbol("named property set new"),jH1=Symbol("named property set existing"),OH1=Symbol("named property delete"),SH1=Symbol("async iterator get the next iteration result"),kH1=Symbol("async iterator return steps"),_H1=Symbol("async iterator initialization steps"),xH1=Symbol("async iterator end of iteration");A_.exports=B_={isObject:QH1,hasOwn:q_,define:KH1,newObjectInRealm:HH1,wrapperSymbol:V_,implSymbol:L_,getSameObject:FH1,ctorRegistrySymbol:PQ,initCtorRegistry:R_,wrapperForImpl:w_,implForWrapper:M_,tryWrapperForImpl:UH1,tryImplForWrapper:qH1,iterInternalSymbol:VH1,isArrayBuffer:wH1,isArrayIndexPropName:LH1,supportsPropertyIndex:BH1,supportedPropertyIndices:AH1,supportsPropertyName:NH1,supportedPropertyNames:IH1,indexedGet:DH1,indexedSetNew:PH1,indexedSetExisting:TH1,namedGet:CH1,namedSetNew:EH1,namedSetExisting:jH1,namedDelete:OH1,asyncIteratorNext:SH1,asyncIteratorReturn:kH1,asyncIteratorInit:_H1,asyncIteratorEOI:xH1,iteratorResult:MH1}});var I_=R((Xa1,N_)=>{var fH1=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,yH1=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,gH1=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,bH1=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,vH1=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,hH1=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,mH1=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11FD5}-\u{11FF1}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,uH1=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,dH1=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,cH1=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,pH1=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1123E}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,lH1=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;N_.exports={combiningMarks:fH1,combiningClassVirama:yH1,validZWNJ:gH1,bidiDomain:bH1,bidiS1LTR:vH1,bidiS1RTL:hH1,bidiS2:mH1,bidiS3:uH1,bidiS4EN:dH1,bidiS4AN:cH1,bidiS5:pH1,bidiS6:lH1}});var D_=R(($a1,iH1)=>{iH1.exports=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," \u0308"],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," \u0304"],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," \u0301"],[181,1,"\u03BC"],[182,2],[183,2],[184,5," \u0327"],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"1\u20444"],[189,1,"1\u20442"],[190,1,"3\u20444"],[191,2],[192,1,"\xE0"],[193,1,"\xE1"],[194,1,"\xE2"],[195,1,"\xE3"],[196,1,"\xE4"],[197,1,"\xE5"],[198,1,"\xE6"],[199,1,"\xE7"],[200,1,"\xE8"],[201,1,"\xE9"],[202,1,"\xEA"],[203,1,"\xEB"],[204,1,"\xEC"],[205,1,"\xED"],[206,1,"\xEE"],[207,1,"\xEF"],[208,1,"\xF0"],[209,1,"\xF1"],[210,1,"\xF2"],[211,1,"\xF3"],[212,1,"\xF4"],[213,1,"\xF5"],[214,1,"\xF6"],[215,2],[216,1,"\xF8"],[217,1,"\xF9"],[218,1,"\xFA"],[219,1,"\xFB"],[220,1,"\xFC"],[221,1,"\xFD"],[222,1,"\xFE"],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,"\u0101"],[257,2],[258,1,"\u0103"],[259,2],[260,1,"\u0105"],[261,2],[262,1,"\u0107"],[263,2],[264,1,"\u0109"],[265,2],[266,1,"\u010B"],[267,2],[268,1,"\u010D"],[269,2],[270,1,"\u010F"],[271,2],[272,1,"\u0111"],[273,2],[274,1,"\u0113"],[275,2],[276,1,"\u0115"],[277,2],[278,1,"\u0117"],[279,2],[280,1,"\u0119"],[281,2],[282,1,"\u011B"],[283,2],[284,1,"\u011D"],[285,2],[286,1,"\u011F"],[287,2],[288,1,"\u0121"],[289,2],[290,1,"\u0123"],[291,2],[292,1,"\u0125"],[293,2],[294,1,"\u0127"],[295,2],[296,1,"\u0129"],[297,2],[298,1,"\u012B"],[299,2],[300,1,"\u012D"],[301,2],[302,1,"\u012F"],[303,2],[304,1,"i\u0307"],[305,2],[[306,307],1,"ij"],[308,1,"\u0135"],[309,2],[310,1,"\u0137"],[[311,312],2],[313,1,"\u013A"],[314,2],[315,1,"\u013C"],[316,2],[317,1,"\u013E"],[318,2],[[319,320],1,"l\xB7"],[321,1,"\u0142"],[322,2],[323,1,"\u0144"],[324,2],[325,1,"\u0146"],[326,2],[327,1,"\u0148"],[328,2],[329,1,"\u02BCn"],[330,1,"\u014B"],[331,2],[332,1,"\u014D"],[333,2],[334,1,"\u014F"],[335,2],[336,1,"\u0151"],[337,2],[338,1,"\u0153"],[339,2],[340,1,"\u0155"],[341,2],[342,1,"\u0157"],[343,2],[344,1,"\u0159"],[345,2],[346,1,"\u015B"],[347,2],[348,1,"\u015D"],[349,2],[350,1,"\u015F"],[351,2],[352,1,"\u0161"],[353,2],[354,1,"\u0163"],[355,2],[356,1,"\u0165"],[357,2],[358,1,"\u0167"],[359,2],[360,1,"\u0169"],[361,2],[362,1,"\u016B"],[363,2],[364,1,"\u016D"],[365,2],[366,1,"\u016F"],[367,2],[368,1,"\u0171"],[369,2],[370,1,"\u0173"],[371,2],[372,1,"\u0175"],[373,2],[374,1,"\u0177"],[375,2],[376,1,"\xFF"],[377,1,"\u017A"],[378,2],[379,1,"\u017C"],[380,2],[381,1,"\u017E"],[382,2],[383,1,"s"],[384,2],[385,1,"\u0253"],[386,1,"\u0183"],[387,2],[388,1,"\u0185"],[389,2],[390,1,"\u0254"],[391,1,"\u0188"],[392,2],[393,1,"\u0256"],[394,1,"\u0257"],[395,1,"\u018C"],[[396,397],2],[398,1,"\u01DD"],[399,1,"\u0259"],[400,1,"\u025B"],[401,1,"\u0192"],[402,2],[403,1,"\u0260"],[404,1,"\u0263"],[405,2],[406,1,"\u0269"],[407,1,"\u0268"],[408,1,"\u0199"],[[409,411],2],[412,1,"\u026F"],[413,1,"\u0272"],[414,2],[415,1,"\u0275"],[416,1,"\u01A1"],[417,2],[418,1,"\u01A3"],[419,2],[420,1,"\u01A5"],[421,2],[422,1,"\u0280"],[423,1,"\u01A8"],[424,2],[425,1,"\u0283"],[[426,427],2],[428,1,"\u01AD"],[429,2],[430,1,"\u0288"],[431,1,"\u01B0"],[432,2],[433,1,"\u028A"],[434,1,"\u028B"],[435,1,"\u01B4"],[436,2],[437,1,"\u01B6"],[438,2],[439,1,"\u0292"],[440,1,"\u01B9"],[[441,443],2],[444,1,"\u01BD"],[[445,451],2],[[452,454],1,"d\u017E"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,"\u01CE"],[462,2],[463,1,"\u01D0"],[464,2],[465,1,"\u01D2"],[466,2],[467,1,"\u01D4"],[468,2],[469,1,"\u01D6"],[470,2],[471,1,"\u01D8"],[472,2],[473,1,"\u01DA"],[474,2],[475,1,"\u01DC"],[[476,477],2],[478,1,"\u01DF"],[479,2],[480,1,"\u01E1"],[481,2],[482,1,"\u01E3"],[483,2],[484,1,"\u01E5"],[485,2],[486,1,"\u01E7"],[487,2],[488,1,"\u01E9"],[489,2],[490,1,"\u01EB"],[491,2],[492,1,"\u01ED"],[493,2],[494,1,"\u01EF"],[[495,496],2],[[497,499],1,"dz"],[500,1,"\u01F5"],[501,2],[502,1,"\u0195"],[503,1,"\u01BF"],[504,1,"\u01F9"],[505,2],[506,1,"\u01FB"],[507,2],[508,1,"\u01FD"],[509,2],[510,1,"\u01FF"],[511,2],[512,1,"\u0201"],[513,2],[514,1,"\u0203"],[515,2],[516,1,"\u0205"],[517,2],[518,1,"\u0207"],[519,2],[520,1,"\u0209"],[521,2],[522,1,"\u020B"],[523,2],[524,1,"\u020D"],[525,2],[526,1,"\u020F"],[527,2],[528,1,"\u0211"],[529,2],[530,1,"\u0213"],[531,2],[532,1,"\u0215"],[533,2],[534,1,"\u0217"],[535,2],[536,1,"\u0219"],[537,2],[538,1,"\u021B"],[539,2],[540,1,"\u021D"],[541,2],[542,1,"\u021F"],[543,2],[544,1,"\u019E"],[545,2],[546,1,"\u0223"],[547,2],[548,1,"\u0225"],[549,2],[550,1,"\u0227"],[551,2],[552,1,"\u0229"],[553,2],[554,1,"\u022B"],[555,2],[556,1,"\u022D"],[557,2],[558,1,"\u022F"],[559,2],[560,1,"\u0231"],[561,2],[562,1,"\u0233"],[563,2],[[564,566],2],[[567,569],2],[570,1,"\u2C65"],[571,1,"\u023C"],[572,2],[573,1,"\u019A"],[574,1,"\u2C66"],[[575,576],2],[577,1,"\u0242"],[578,2],[579,1,"\u0180"],[580,1,"\u0289"],[581,1,"\u028C"],[582,1,"\u0247"],[583,2],[584,1,"\u0249"],[585,2],[586,1,"\u024B"],[587,2],[588,1,"\u024D"],[589,2],[590,1,"\u024F"],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,"\u0266"],[690,1,"j"],[691,1,"r"],[692,1,"\u0279"],[693,1,"\u027B"],[694,1,"\u0281"],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," \u0306"],[729,5," \u0307"],[730,5," \u030A"],[731,5," \u0328"],[732,5," \u0303"],[733,5," \u030B"],[734,2],[735,2],[736,1,"\u0263"],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,"\u0295"],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,"\u0300"],[833,1,"\u0301"],[834,2],[835,1,"\u0313"],[836,1,"\u0308\u0301"],[837,1,"\u03B9"],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,"\u0371"],[881,2],[882,1,"\u0373"],[883,2],[884,1,"\u02B9"],[885,2],[886,1,"\u0377"],[887,2],[[888,889],3],[890,5," \u03B9"],[[891,893],2],[894,5,";"],[895,1,"\u03F3"],[[896,899],3],[900,5," \u0301"],[901,5," \u0308\u0301"],[902,1,"\u03AC"],[903,1,"\xB7"],[904,1,"\u03AD"],[905,1,"\u03AE"],[906,1,"\u03AF"],[907,3],[908,1,"\u03CC"],[909,3],[910,1,"\u03CD"],[911,1,"\u03CE"],[912,2],[913,1,"\u03B1"],[914,1,"\u03B2"],[915,1,"\u03B3"],[916,1,"\u03B4"],[917,1,"\u03B5"],[918,1,"\u03B6"],[919,1,"\u03B7"],[920,1,"\u03B8"],[921,1,"\u03B9"],[922,1,"\u03BA"],[923,1,"\u03BB"],[924,1,"\u03BC"],[925,1,"\u03BD"],[926,1,"\u03BE"],[927,1,"\u03BF"],[928,1,"\u03C0"],[929,1,"\u03C1"],[930,3],[931,1,"\u03C3"],[932,1,"\u03C4"],[933,1,"\u03C5"],[934,1,"\u03C6"],[935,1,"\u03C7"],[936,1,"\u03C8"],[937,1,"\u03C9"],[938,1,"\u03CA"],[939,1,"\u03CB"],[[940,961],2],[962,6,"\u03C3"],[[963,974],2],[975,1,"\u03D7"],[976,1,"\u03B2"],[977,1,"\u03B8"],[978,1,"\u03C5"],[979,1,"\u03CD"],[980,1,"\u03CB"],[981,1,"\u03C6"],[982,1,"\u03C0"],[983,2],[984,1,"\u03D9"],[985,2],[986,1,"\u03DB"],[987,2],[988,1,"\u03DD"],[989,2],[990,1,"\u03DF"],[991,2],[992,1,"\u03E1"],[993,2],[994,1,"\u03E3"],[995,2],[996,1,"\u03E5"],[997,2],[998,1,"\u03E7"],[999,2],[1000,1,"\u03E9"],[1001,2],[1002,1,"\u03EB"],[1003,2],[1004,1,"\u03ED"],[1005,2],[1006,1,"\u03EF"],[1007,2],[1008,1,"\u03BA"],[1009,1,"\u03C1"],[1010,1,"\u03C3"],[1011,2],[1012,1,"\u03B8"],[1013,1,"\u03B5"],[1014,2],[1015,1,"\u03F8"],[1016,2],[1017,1,"\u03C3"],[1018,1,"\u03FB"],[1019,2],[1020,2],[1021,1,"\u037B"],[1022,1,"\u037C"],[1023,1,"\u037D"],[1024,1,"\u0450"],[1025,1,"\u0451"],[1026,1,"\u0452"],[1027,1,"\u0453"],[1028,1,"\u0454"],[1029,1,"\u0455"],[1030,1,"\u0456"],[1031,1,"\u0457"],[1032,1,"\u0458"],[1033,1,"\u0459"],[1034,1,"\u045A"],[1035,1,"\u045B"],[1036,1,"\u045C"],[1037,1,"\u045D"],[1038,1,"\u045E"],[1039,1,"\u045F"],[1040,1,"\u0430"],[1041,1,"\u0431"],[1042,1,"\u0432"],[1043,1,"\u0433"],[1044,1,"\u0434"],[1045,1,"\u0435"],[1046,1,"\u0436"],[1047,1,"\u0437"],[1048,1,"\u0438"],[1049,1,"\u0439"],[1050,1,"\u043A"],[1051,1,"\u043B"],[1052,1,"\u043C"],[1053,1,"\u043D"],[1054,1,"\u043E"],[1055,1,"\u043F"],[1056,1,"\u0440"],[1057,1,"\u0441"],[1058,1,"\u0442"],[1059,1,"\u0443"],[1060,1,"\u0444"],[1061,1,"\u0445"],[1062,1,"\u0446"],[1063,1,"\u0447"],[1064,1,"\u0448"],[1065,1,"\u0449"],[1066,1,"\u044A"],[1067,1,"\u044B"],[1068,1,"\u044C"],[1069,1,"\u044D"],[1070,1,"\u044E"],[1071,1,"\u044F"],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,"\u0461"],[1121,2],[1122,1,"\u0463"],[1123,2],[1124,1,"\u0465"],[1125,2],[1126,1,"\u0467"],[1127,2],[1128,1,"\u0469"],[1129,2],[1130,1,"\u046B"],[1131,2],[1132,1,"\u046D"],[1133,2],[1134,1,"\u046F"],[1135,2],[1136,1,"\u0471"],[1137,2],[1138,1,"\u0473"],[1139,2],[1140,1,"\u0475"],[1141,2],[1142,1,"\u0477"],[1143,2],[1144,1,"\u0479"],[1145,2],[1146,1,"\u047B"],[1147,2],[1148,1,"\u047D"],[1149,2],[1150,1,"\u047F"],[1151,2],[1152,1,"\u0481"],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,"\u048B"],[1163,2],[1164,1,"\u048D"],[1165,2],[1166,1,"\u048F"],[1167,2],[1168,1,"\u0491"],[1169,2],[1170,1,"\u0493"],[1171,2],[1172,1,"\u0495"],[1173,2],[1174,1,"\u0497"],[1175,2],[1176,1,"\u0499"],[1177,2],[1178,1,"\u049B"],[1179,2],[1180,1,"\u049D"],[1181,2],[1182,1,"\u049F"],[1183,2],[1184,1,"\u04A1"],[1185,2],[1186,1,"\u04A3"],[1187,2],[1188,1,"\u04A5"],[1189,2],[1190,1,"\u04A7"],[1191,2],[1192,1,"\u04A9"],[1193,2],[1194,1,"\u04AB"],[1195,2],[1196,1,"\u04AD"],[1197,2],[1198,1,"\u04AF"],[1199,2],[1200,1,"\u04B1"],[1201,2],[1202,1,"\u04B3"],[1203,2],[1204,1,"\u04B5"],[1205,2],[1206,1,"\u04B7"],[1207,2],[1208,1,"\u04B9"],[1209,2],[1210,1,"\u04BB"],[1211,2],[1212,1,"\u04BD"],[1213,2],[1214,1,"\u04BF"],[1215,2],[1216,3],[1217,1,"\u04C2"],[1218,2],[1219,1,"\u04C4"],[1220,2],[1221,1,"\u04C6"],[1222,2],[1223,1,"\u04C8"],[1224,2],[1225,1,"\u04CA"],[1226,2],[1227,1,"\u04CC"],[1228,2],[1229,1,"\u04CE"],[1230,2],[1231,2],[1232,1,"\u04D1"],[1233,2],[1234,1,"\u04D3"],[1235,2],[1236,1,"\u04D5"],[1237,2],[1238,1,"\u04D7"],[1239,2],[1240,1,"\u04D9"],[1241,2],[1242,1,"\u04DB"],[1243,2],[1244,1,"\u04DD"],[1245,2],[1246,1,"\u04DF"],[1247,2],[1248,1,"\u04E1"],[1249,2],[1250,1,"\u04E3"],[1251,2],[1252,1,"\u04E5"],[1253,2],[1254,1,"\u04E7"],[1255,2],[1256,1,"\u04E9"],[1257,2],[1258,1,"\u04EB"],[1259,2],[1260,1,"\u04ED"],[1261,2],[1262,1,"\u04EF"],[1263,2],[1264,1,"\u04F1"],[1265,2],[1266,1,"\u04F3"],[1267,2],[1268,1,"\u04F5"],[1269,2],[1270,1,"\u04F7"],[1271,2],[1272,1,"\u04F9"],[1273,2],[1274,1,"\u04FB"],[1275,2],[1276,1,"\u04FD"],[1277,2],[1278,1,"\u04FF"],[1279,2],[1280,1,"\u0501"],[1281,2],[1282,1,"\u0503"],[1283,2],[1284,1,"\u0505"],[1285,2],[1286,1,"\u0507"],[1287,2],[1288,1,"\u0509"],[1289,2],[1290,1,"\u050B"],[1291,2],[1292,1,"\u050D"],[1293,2],[1294,1,"\u050F"],[1295,2],[1296,1,"\u0511"],[1297,2],[1298,1,"\u0513"],[1299,2],[1300,1,"\u0515"],[1301,2],[1302,1,"\u0517"],[1303,2],[1304,1,"\u0519"],[1305,2],[1306,1,"\u051B"],[1307,2],[1308,1,"\u051D"],[1309,2],[1310,1,"\u051F"],[1311,2],[1312,1,"\u0521"],[1313,2],[1314,1,"\u0523"],[1315,2],[1316,1,"\u0525"],[1317,2],[1318,1,"\u0527"],[1319,2],[1320,1,"\u0529"],[1321,2],[1322,1,"\u052B"],[1323,2],[1324,1,"\u052D"],[1325,2],[1326,1,"\u052F"],[1327,2],[1328,3],[1329,1,"\u0561"],[1330,1,"\u0562"],[1331,1,"\u0563"],[1332,1,"\u0564"],[1333,1,"\u0565"],[1334,1,"\u0566"],[1335,1,"\u0567"],[1336,1,"\u0568"],[1337,1,"\u0569"],[1338,1,"\u056A"],[1339,1,"\u056B"],[1340,1,"\u056C"],[1341,1,"\u056D"],[1342,1,"\u056E"],[1343,1,"\u056F"],[1344,1,"\u0570"],[1345,1,"\u0571"],[1346,1,"\u0572"],[1347,1,"\u0573"],[1348,1,"\u0574"],[1349,1,"\u0575"],[1350,1,"\u0576"],[1351,1,"\u0577"],[1352,1,"\u0578"],[1353,1,"\u0579"],[1354,1,"\u057A"],[1355,1,"\u057B"],[1356,1,"\u057C"],[1357,1,"\u057D"],[1358,1,"\u057E"],[1359,1,"\u057F"],[1360,1,"\u0580"],[1361,1,"\u0581"],[1362,1,"\u0582"],[1363,1,"\u0583"],[1364,1,"\u0584"],[1365,1,"\u0585"],[1366,1,"\u0586"],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,"\u0565\u0582"],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,"\u0627\u0674"],[1654,1,"\u0648\u0674"],[1655,1,"\u06C7\u0674"],[1656,1,"\u064A\u0674"],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,"\u0915\u093C"],[2393,1,"\u0916\u093C"],[2394,1,"\u0917\u093C"],[2395,1,"\u091C\u093C"],[2396,1,"\u0921\u093C"],[2397,1,"\u0922\u093C"],[2398,1,"\u092B\u093C"],[2399,1,"\u092F\u093C"],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,"\u09A1\u09BC"],[2525,1,"\u09A2\u09BC"],[2526,3],[2527,1,"\u09AF\u09BC"],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,"\u0A32\u0A3C"],[2612,3],[2613,2],[2614,1,"\u0A38\u0A3C"],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,"\u0A16\u0A3C"],[2650,1,"\u0A17\u0A3C"],[2651,1,"\u0A1C\u0A3C"],[2652,2],[2653,3],[2654,1,"\u0A2B\u0A3C"],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,"\u0B21\u0B3C"],[2909,1,"\u0B22\u0B3C"],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[[3315,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,"\u0E4D\u0E32"],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,"\u0ECD\u0EB2"],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[[3790,3791],3],[[3792,3801],2],[[3802,3803],3],[3804,1,"\u0EAB\u0E99"],[3805,1,"\u0EAB\u0EA1"],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,"\u0F0B"],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,"\u0F42\u0FB7"],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,"\u0F4C\u0FB7"],[[3918,3921],2],[3922,1,"\u0F51\u0FB7"],[[3923,3926],2],[3927,1,"\u0F56\u0FB7"],[[3928,3931],2],[3932,1,"\u0F5B\u0FB7"],[[3933,3944],2],[3945,1,"\u0F40\u0FB5"],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,"\u0F71\u0F72"],[3956,2],[3957,1,"\u0F71\u0F74"],[3958,1,"\u0FB2\u0F80"],[3959,1,"\u0FB2\u0F71\u0F80"],[3960,1,"\u0FB3\u0F80"],[3961,1,"\u0FB3\u0F71\u0F80"],[[3962,3968],2],[3969,1,"\u0F71\u0F80"],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,"\u0F92\u0FB7"],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,"\u0F9C\u0FB7"],[[3998,4001],2],[4002,1,"\u0FA1\u0FB7"],[[4003,4006],2],[4007,1,"\u0FA6\u0FB7"],[[4008,4011],2],[4012,1,"\u0FAB\u0FB7"],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,"\u0F90\u0FB5"],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,"\u2D27"],[[4296,4300],3],[4301,1,"\u2D2D"],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,"\u10DC"],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,"\u13F0"],[5113,1,"\u13F1"],[5114,1,"\u13F2"],[5115,1,"\u13F3"],[5116,1,"\u13F4"],[5117,1,"\u13F5"],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6000],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,"\u0432"],[7297,1,"\u0434"],[7298,1,"\u043E"],[7299,1,"\u0441"],[[7300,7301],1,"\u0442"],[7302,1,"\u044A"],[7303,1,"\u0463"],[7304,1,"\uA64B"],[[7305,7311],3],[7312,1,"\u10D0"],[7313,1,"\u10D1"],[7314,1,"\u10D2"],[7315,1,"\u10D3"],[7316,1,"\u10D4"],[7317,1,"\u10D5"],[7318,1,"\u10D6"],[7319,1,"\u10D7"],[7320,1,"\u10D8"],[7321,1,"\u10D9"],[7322,1,"\u10DA"],[7323,1,"\u10DB"],[7324,1,"\u10DC"],[7325,1,"\u10DD"],[7326,1,"\u10DE"],[7327,1,"\u10DF"],[7328,1,"\u10E0"],[7329,1,"\u10E1"],[7330,1,"\u10E2"],[7331,1,"\u10E3"],[7332,1,"\u10E4"],[7333,1,"\u10E5"],[7334,1,"\u10E6"],[7335,1,"\u10E7"],[7336,1,"\u10E8"],[7337,1,"\u10E9"],[7338,1,"\u10EA"],[7339,1,"\u10EB"],[7340,1,"\u10EC"],[7341,1,"\u10ED"],[7342,1,"\u10EE"],[7343,1,"\u10EF"],[7344,1,"\u10F0"],[7345,1,"\u10F1"],[7346,1,"\u10F2"],[7347,1,"\u10F3"],[7348,1,"\u10F4"],[7349,1,"\u10F5"],[7350,1,"\u10F6"],[7351,1,"\u10F7"],[7352,1,"\u10F8"],[7353,1,"\u10F9"],[7354,1,"\u10FA"],[[7355,7356],3],[7357,1,"\u10FD"],[7358,1,"\u10FE"],[7359,1,"\u10FF"],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,"\xE6"],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,"\u01DD"],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,"\u0223"],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,"\u0250"],[7493,1,"\u0251"],[7494,1,"\u1D02"],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,"\u0259"],[7499,1,"\u025B"],[7500,1,"\u025C"],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,"\u014B"],[7506,1,"o"],[7507,1,"\u0254"],[7508,1,"\u1D16"],[7509,1,"\u1D17"],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,"\u1D1D"],[7514,1,"\u026F"],[7515,1,"v"],[7516,1,"\u1D25"],[7517,1,"\u03B2"],[7518,1,"\u03B3"],[7519,1,"\u03B4"],[7520,1,"\u03C6"],[7521,1,"\u03C7"],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,"\u03B2"],[7527,1,"\u03B3"],[7528,1,"\u03C1"],[7529,1,"\u03C6"],[7530,1,"\u03C7"],[7531,2],[[7532,7543],2],[7544,1,"\u043D"],[[7545,7578],2],[7579,1,"\u0252"],[7580,1,"c"],[7581,1,"\u0255"],[7582,1,"\xF0"],[7583,1,"\u025C"],[7584,1,"f"],[7585,1,"\u025F"],[7586,1,"\u0261"],[7587,1,"\u0265"],[7588,1,"\u0268"],[7589,1,"\u0269"],[7590,1,"\u026A"],[7591,1,"\u1D7B"],[7592,1,"\u029D"],[7593,1,"\u026D"],[7594,1,"\u1D85"],[7595,1,"\u029F"],[7596,1,"\u0271"],[7597,1,"\u0270"],[7598,1,"\u0272"],[7599,1,"\u0273"],[7600,1,"\u0274"],[7601,1,"\u0275"],[7602,1,"\u0278"],[7603,1,"\u0282"],[7604,1,"\u0283"],[7605,1,"\u01AB"],[7606,1,"\u0289"],[7607,1,"\u028A"],[7608,1,"\u1D1C"],[7609,1,"\u028B"],[7610,1,"\u028C"],[7611,1,"z"],[7612,1,"\u0290"],[7613,1,"\u0291"],[7614,1,"\u0292"],[7615,1,"\u03B8"],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,"\u1E01"],[7681,2],[7682,1,"\u1E03"],[7683,2],[7684,1,"\u1E05"],[7685,2],[7686,1,"\u1E07"],[7687,2],[7688,1,"\u1E09"],[7689,2],[7690,1,"\u1E0B"],[7691,2],[7692,1,"\u1E0D"],[7693,2],[7694,1,"\u1E0F"],[7695,2],[7696,1,"\u1E11"],[7697,2],[7698,1,"\u1E13"],[7699,2],[7700,1,"\u1E15"],[7701,2],[7702,1,"\u1E17"],[7703,2],[7704,1,"\u1E19"],[7705,2],[7706,1,"\u1E1B"],[7707,2],[7708,1,"\u1E1D"],[7709,2],[7710,1,"\u1E1F"],[7711,2],[7712,1,"\u1E21"],[7713,2],[7714,1,"\u1E23"],[7715,2],[7716,1,"\u1E25"],[7717,2],[7718,1,"\u1E27"],[7719,2],[7720,1,"\u1E29"],[7721,2],[7722,1,"\u1E2B"],[7723,2],[7724,1,"\u1E2D"],[7725,2],[7726,1,"\u1E2F"],[7727,2],[7728,1,"\u1E31"],[7729,2],[7730,1,"\u1E33"],[7731,2],[7732,1,"\u1E35"],[7733,2],[7734,1,"\u1E37"],[7735,2],[7736,1,"\u1E39"],[7737,2],[7738,1,"\u1E3B"],[7739,2],[7740,1,"\u1E3D"],[7741,2],[7742,1,"\u1E3F"],[7743,2],[7744,1,"\u1E41"],[7745,2],[7746,1,"\u1E43"],[7747,2],[7748,1,"\u1E45"],[7749,2],[7750,1,"\u1E47"],[7751,2],[7752,1,"\u1E49"],[7753,2],[7754,1,"\u1E4B"],[7755,2],[7756,1,"\u1E4D"],[7757,2],[7758,1,"\u1E4F"],[7759,2],[7760,1,"\u1E51"],[7761,2],[7762,1,"\u1E53"],[7763,2],[7764,1,"\u1E55"],[7765,2],[7766,1,"\u1E57"],[7767,2],[7768,1,"\u1E59"],[7769,2],[7770,1,"\u1E5B"],[7771,2],[7772,1,"\u1E5D"],[7773,2],[7774,1,"\u1E5F"],[7775,2],[7776,1,"\u1E61"],[7777,2],[7778,1,"\u1E63"],[7779,2],[7780,1,"\u1E65"],[7781,2],[7782,1,"\u1E67"],[7783,2],[7784,1,"\u1E69"],[7785,2],[7786,1,"\u1E6B"],[7787,2],[7788,1,"\u1E6D"],[7789,2],[7790,1,"\u1E6F"],[7791,2],[7792,1,"\u1E71"],[7793,2],[7794,1,"\u1E73"],[7795,2],[7796,1,"\u1E75"],[7797,2],[7798,1,"\u1E77"],[7799,2],[7800,1,"\u1E79"],[7801,2],[7802,1,"\u1E7B"],[7803,2],[7804,1,"\u1E7D"],[7805,2],[7806,1,"\u1E7F"],[7807,2],[7808,1,"\u1E81"],[7809,2],[7810,1,"\u1E83"],[7811,2],[7812,1,"\u1E85"],[7813,2],[7814,1,"\u1E87"],[7815,2],[7816,1,"\u1E89"],[7817,2],[7818,1,"\u1E8B"],[7819,2],[7820,1,"\u1E8D"],[7821,2],[7822,1,"\u1E8F"],[7823,2],[7824,1,"\u1E91"],[7825,2],[7826,1,"\u1E93"],[7827,2],[7828,1,"\u1E95"],[[7829,7833],2],[7834,1,"a\u02BE"],[7835,1,"\u1E61"],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,"\u1EA1"],[7841,2],[7842,1,"\u1EA3"],[7843,2],[7844,1,"\u1EA5"],[7845,2],[7846,1,"\u1EA7"],[7847,2],[7848,1,"\u1EA9"],[7849,2],[7850,1,"\u1EAB"],[7851,2],[7852,1,"\u1EAD"],[7853,2],[7854,1,"\u1EAF"],[7855,2],[7856,1,"\u1EB1"],[7857,2],[7858,1,"\u1EB3"],[7859,2],[7860,1,"\u1EB5"],[7861,2],[7862,1,"\u1EB7"],[7863,2],[7864,1,"\u1EB9"],[7865,2],[7866,1,"\u1EBB"],[7867,2],[7868,1,"\u1EBD"],[7869,2],[7870,1,"\u1EBF"],[7871,2],[7872,1,"\u1EC1"],[7873,2],[7874,1,"\u1EC3"],[7875,2],[7876,1,"\u1EC5"],[7877,2],[7878,1,"\u1EC7"],[7879,2],[7880,1,"\u1EC9"],[7881,2],[7882,1,"\u1ECB"],[7883,2],[7884,1,"\u1ECD"],[7885,2],[7886,1,"\u1ECF"],[7887,2],[7888,1,"\u1ED1"],[7889,2],[7890,1,"\u1ED3"],[7891,2],[7892,1,"\u1ED5"],[7893,2],[7894,1,"\u1ED7"],[7895,2],[7896,1,"\u1ED9"],[7897,2],[7898,1,"\u1EDB"],[7899,2],[7900,1,"\u1EDD"],[7901,2],[7902,1,"\u1EDF"],[7903,2],[7904,1,"\u1EE1"],[7905,2],[7906,1,"\u1EE3"],[7907,2],[7908,1,"\u1EE5"],[7909,2],[7910,1,"\u1EE7"],[7911,2],[7912,1,"\u1EE9"],[7913,2],[7914,1,"\u1EEB"],[7915,2],[7916,1,"\u1EED"],[7917,2],[7918,1,"\u1EEF"],[7919,2],[7920,1,"\u1EF1"],[7921,2],[7922,1,"\u1EF3"],[7923,2],[7924,1,"\u1EF5"],[7925,2],[7926,1,"\u1EF7"],[7927,2],[7928,1,"\u1EF9"],[7929,2],[7930,1,"\u1EFB"],[7931,2],[7932,1,"\u1EFD"],[7933,2],[7934,1,"\u1EFF"],[7935,2],[[7936,7943],2],[7944,1,"\u1F00"],[7945,1,"\u1F01"],[7946,1,"\u1F02"],[7947,1,"\u1F03"],[7948,1,"\u1F04"],[7949,1,"\u1F05"],[7950,1,"\u1F06"],[7951,1,"\u1F07"],[[7952,7957],2],[[7958,7959],3],[7960,1,"\u1F10"],[7961,1,"\u1F11"],[7962,1,"\u1F12"],[7963,1,"\u1F13"],[7964,1,"\u1F14"],[7965,1,"\u1F15"],[[7966,7967],3],[[7968,7975],2],[7976,1,"\u1F20"],[7977,1,"\u1F21"],[7978,1,"\u1F22"],[7979,1,"\u1F23"],[7980,1,"\u1F24"],[7981,1,"\u1F25"],[7982,1,"\u1F26"],[7983,1,"\u1F27"],[[7984,7991],2],[7992,1,"\u1F30"],[7993,1,"\u1F31"],[7994,1,"\u1F32"],[7995,1,"\u1F33"],[7996,1,"\u1F34"],[7997,1,"\u1F35"],[7998,1,"\u1F36"],[7999,1,"\u1F37"],[[8000,8005],2],[[8006,8007],3],[8008,1,"\u1F40"],[8009,1,"\u1F41"],[8010,1,"\u1F42"],[8011,1,"\u1F43"],[8012,1,"\u1F44"],[8013,1,"\u1F45"],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,"\u1F51"],[8026,3],[8027,1,"\u1F53"],[8028,3],[8029,1,"\u1F55"],[8030,3],[8031,1,"\u1F57"],[[8032,8039],2],[8040,1,"\u1F60"],[8041,1,"\u1F61"],[8042,1,"\u1F62"],[8043,1,"\u1F63"],[8044,1,"\u1F64"],[8045,1,"\u1F65"],[8046,1,"\u1F66"],[8047,1,"\u1F67"],[8048,2],[8049,1,"\u03AC"],[8050,2],[8051,1,"\u03AD"],[8052,2],[8053,1,"\u03AE"],[8054,2],[8055,1,"\u03AF"],[8056,2],[8057,1,"\u03CC"],[8058,2],[8059,1,"\u03CD"],[8060,2],[8061,1,"\u03CE"],[[8062,8063],3],[8064,1,"\u1F00\u03B9"],[8065,1,"\u1F01\u03B9"],[8066,1,"\u1F02\u03B9"],[8067,1,"\u1F03\u03B9"],[8068,1,"\u1F04\u03B9"],[8069,1,"\u1F05\u03B9"],[8070,1,"\u1F06\u03B9"],[8071,1,"\u1F07\u03B9"],[8072,1,"\u1F00\u03B9"],[8073,1,"\u1F01\u03B9"],[8074,1,"\u1F02\u03B9"],[8075,1,"\u1F03\u03B9"],[8076,1,"\u1F04\u03B9"],[8077,1,"\u1F05\u03B9"],[8078,1,"\u1F06\u03B9"],[8079,1,"\u1F07\u03B9"],[8080,1,"\u1F20\u03B9"],[8081,1,"\u1F21\u03B9"],[8082,1,"\u1F22\u03B9"],[8083,1,"\u1F23\u03B9"],[8084,1,"\u1F24\u03B9"],[8085,1,"\u1F25\u03B9"],[8086,1,"\u1F26\u03B9"],[8087,1,"\u1F27\u03B9"],[8088,1,"\u1F20\u03B9"],[8089,1,"\u1F21\u03B9"],[8090,1,"\u1F22\u03B9"],[8091,1,"\u1F23\u03B9"],[8092,1,"\u1F24\u03B9"],[8093,1,"\u1F25\u03B9"],[8094,1,"\u1F26\u03B9"],[8095,1,"\u1F27\u03B9"],[8096,1,"\u1F60\u03B9"],[8097,1,"\u1F61\u03B9"],[8098,1,"\u1F62\u03B9"],[8099,1,"\u1F63\u03B9"],[8100,1,"\u1F64\u03B9"],[8101,1,"\u1F65\u03B9"],[8102,1,"\u1F66\u03B9"],[8103,1,"\u1F67\u03B9"],[8104,1,"\u1F60\u03B9"],[8105,1,"\u1F61\u03B9"],[8106,1,"\u1F62\u03B9"],[8107,1,"\u1F63\u03B9"],[8108,1,"\u1F64\u03B9"],[8109,1,"\u1F65\u03B9"],[8110,1,"\u1F66\u03B9"],[8111,1,"\u1F67\u03B9"],[[8112,8113],2],[8114,1,"\u1F70\u03B9"],[8115,1,"\u03B1\u03B9"],[8116,1,"\u03AC\u03B9"],[8117,3],[8118,2],[8119,1,"\u1FB6\u03B9"],[8120,1,"\u1FB0"],[8121,1,"\u1FB1"],[8122,1,"\u1F70"],[8123,1,"\u03AC"],[8124,1,"\u03B1\u03B9"],[8125,5," \u0313"],[8126,1,"\u03B9"],[8127,5," \u0313"],[8128,5," \u0342"],[8129,5," \u0308\u0342"],[8130,1,"\u1F74\u03B9"],[8131,1,"\u03B7\u03B9"],[8132,1,"\u03AE\u03B9"],[8133,3],[8134,2],[8135,1,"\u1FC6\u03B9"],[8136,1,"\u1F72"],[8137,1,"\u03AD"],[8138,1,"\u1F74"],[8139,1,"\u03AE"],[8140,1,"\u03B7\u03B9"],[8141,5," \u0313\u0300"],[8142,5," \u0313\u0301"],[8143,5," \u0313\u0342"],[[8144,8146],2],[8147,1,"\u0390"],[[8148,8149],3],[[8150,8151],2],[8152,1,"\u1FD0"],[8153,1,"\u1FD1"],[8154,1,"\u1F76"],[8155,1,"\u03AF"],[8156,3],[8157,5," \u0314\u0300"],[8158,5," \u0314\u0301"],[8159,5," \u0314\u0342"],[[8160,8162],2],[8163,1,"\u03B0"],[[8164,8167],2],[8168,1,"\u1FE0"],[8169,1,"\u1FE1"],[8170,1,"\u1F7A"],[8171,1,"\u03CD"],[8172,1,"\u1FE5"],[8173,5," \u0308\u0300"],[8174,5," \u0308\u0301"],[8175,5,"`"],[[8176,8177],3],[8178,1,"\u1F7C\u03B9"],[8179,1,"\u03C9\u03B9"],[8180,1,"\u03CE\u03B9"],[8181,3],[8182,2],[8183,1,"\u1FF6\u03B9"],[8184,1,"\u1F78"],[8185,1,"\u03CC"],[8186,1,"\u1F7C"],[8187,1,"\u03CE"],[8188,1,"\u03C9\u03B9"],[8189,5," \u0301"],[8190,5," \u0314"],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,"\u2010"],[[8210,8214],2],[8215,5," \u0333"],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,"\u2032\u2032"],[8244,1,"\u2032\u2032\u2032"],[8245,2],[8246,1,"\u2035\u2035"],[8247,1,"\u2035\u2035\u2035"],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," \u0305"],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,"\u2032\u2032\u2032\u2032"],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,"\u2212"],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,"\u2212"],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,"\u0259"],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"\xB0c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,"\u025B"],[8456,2],[8457,1,"\xB0f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,"\u0127"],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,"\u03C9"],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,"\xE5"],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,"\u05D0"],[8502,1,"\u05D1"],[8503,1,"\u05D2"],[8504,1,"\u05D3"],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,"\u03C0"],[[8509,8510],1,"\u03B3"],[8511,1,"\u03C0"],[8512,1,"\u2211"],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"1\u20447"],[8529,1,"1\u20449"],[8530,1,"1\u204410"],[8531,1,"1\u20443"],[8532,1,"2\u20443"],[8533,1,"1\u20445"],[8534,1,"2\u20445"],[8535,1,"3\u20445"],[8536,1,"4\u20445"],[8537,1,"1\u20446"],[8538,1,"5\u20446"],[8539,1,"1\u20448"],[8540,1,"3\u20448"],[8541,1,"5\u20448"],[8542,1,"7\u20448"],[8543,1,"1\u2044"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"0\u20443"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,"\u222B\u222B"],[8749,1,"\u222B\u222B\u222B"],[8750,2],[8751,1,"\u222E\u222E"],[8752,1,"\u222E\u222E\u222E"],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9000],2],[9001,1,"\u3008"],[9002,1,"\u3009"],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,"\u222B\u222B\u222B\u222B"],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,"\u2ADD\u0338"],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,"\u2C30"],[11265,1,"\u2C31"],[11266,1,"\u2C32"],[11267,1,"\u2C33"],[11268,1,"\u2C34"],[11269,1,"\u2C35"],[11270,1,"\u2C36"],[11271,1,"\u2C37"],[11272,1,"\u2C38"],[11273,1,"\u2C39"],[11274,1,"\u2C3A"],[11275,1,"\u2C3B"],[11276,1,"\u2C3C"],[11277,1,"\u2C3D"],[11278,1,"\u2C3E"],[11279,1,"\u2C3F"],[11280,1,"\u2C40"],[11281,1,"\u2C41"],[11282,1,"\u2C42"],[11283,1,"\u2C43"],[11284,1,"\u2C44"],[11285,1,"\u2C45"],[11286,1,"\u2C46"],[11287,1,"\u2C47"],[11288,1,"\u2C48"],[11289,1,"\u2C49"],[11290,1,"\u2C4A"],[11291,1,"\u2C4B"],[11292,1,"\u2C4C"],[11293,1,"\u2C4D"],[11294,1,"\u2C4E"],[11295,1,"\u2C4F"],[11296,1,"\u2C50"],[11297,1,"\u2C51"],[11298,1,"\u2C52"],[11299,1,"\u2C53"],[11300,1,"\u2C54"],[11301,1,"\u2C55"],[11302,1,"\u2C56"],[11303,1,"\u2C57"],[11304,1,"\u2C58"],[11305,1,"\u2C59"],[11306,1,"\u2C5A"],[11307,1,"\u2C5B"],[11308,1,"\u2C5C"],[11309,1,"\u2C5D"],[11310,1,"\u2C5E"],[11311,1,"\u2C5F"],[[11312,11358],2],[11359,2],[11360,1,"\u2C61"],[11361,2],[11362,1,"\u026B"],[11363,1,"\u1D7D"],[11364,1,"\u027D"],[[11365,11366],2],[11367,1,"\u2C68"],[11368,2],[11369,1,"\u2C6A"],[11370,2],[11371,1,"\u2C6C"],[11372,2],[11373,1,"\u0251"],[11374,1,"\u0271"],[11375,1,"\u0250"],[11376,1,"\u0252"],[11377,2],[11378,1,"\u2C73"],[11379,2],[11380,2],[11381,1,"\u2C76"],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,"\u023F"],[11391,1,"\u0240"],[11392,1,"\u2C81"],[11393,2],[11394,1,"\u2C83"],[11395,2],[11396,1,"\u2C85"],[11397,2],[11398,1,"\u2C87"],[11399,2],[11400,1,"\u2C89"],[11401,2],[11402,1,"\u2C8B"],[11403,2],[11404,1,"\u2C8D"],[11405,2],[11406,1,"\u2C8F"],[11407,2],[11408,1,"\u2C91"],[11409,2],[11410,1,"\u2C93"],[11411,2],[11412,1,"\u2C95"],[11413,2],[11414,1,"\u2C97"],[11415,2],[11416,1,"\u2C99"],[11417,2],[11418,1,"\u2C9B"],[11419,2],[11420,1,"\u2C9D"],[11421,2],[11422,1,"\u2C9F"],[11423,2],[11424,1,"\u2CA1"],[11425,2],[11426,1,"\u2CA3"],[11427,2],[11428,1,"\u2CA5"],[11429,2],[11430,1,"\u2CA7"],[11431,2],[11432,1,"\u2CA9"],[11433,2],[11434,1,"\u2CAB"],[11435,2],[11436,1,"\u2CAD"],[11437,2],[11438,1,"\u2CAF"],[11439,2],[11440,1,"\u2CB1"],[11441,2],[11442,1,"\u2CB3"],[11443,2],[11444,1,"\u2CB5"],[11445,2],[11446,1,"\u2CB7"],[11447,2],[11448,1,"\u2CB9"],[11449,2],[11450,1,"\u2CBB"],[11451,2],[11452,1,"\u2CBD"],[11453,2],[11454,1,"\u2CBF"],[11455,2],[11456,1,"\u2CC1"],[11457,2],[11458,1,"\u2CC3"],[11459,2],[11460,1,"\u2CC5"],[11461,2],[11462,1,"\u2CC7"],[11463,2],[11464,1,"\u2CC9"],[11465,2],[11466,1,"\u2CCB"],[11467,2],[11468,1,"\u2CCD"],[11469,2],[11470,1,"\u2CCF"],[11471,2],[11472,1,"\u2CD1"],[11473,2],[11474,1,"\u2CD3"],[11475,2],[11476,1,"\u2CD5"],[11477,2],[11478,1,"\u2CD7"],[11479,2],[11480,1,"\u2CD9"],[11481,2],[11482,1,"\u2CDB"],[11483,2],[11484,1,"\u2CDD"],[11485,2],[11486,1,"\u2CDF"],[11487,2],[11488,1,"\u2CE1"],[11489,2],[11490,1,"\u2CE3"],[[11491,11492],2],[[11493,11498],2],[11499,1,"\u2CEC"],[11500,2],[11501,1,"\u2CEE"],[[11502,11505],2],[11506,1,"\u2CF3"],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,"\u2D61"],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,"\u6BCD"],[[11936,12018],2],[12019,1,"\u9F9F"],[[12020,12031],3],[12032,1,"\u4E00"],[12033,1,"\u4E28"],[12034,1,"\u4E36"],[12035,1,"\u4E3F"],[12036,1,"\u4E59"],[12037,1,"\u4E85"],[12038,1,"\u4E8C"],[12039,1,"\u4EA0"],[12040,1,"\u4EBA"],[12041,1,"\u513F"],[12042,1,"\u5165"],[12043,1,"\u516B"],[12044,1,"\u5182"],[12045,1,"\u5196"],[12046,1,"\u51AB"],[12047,1,"\u51E0"],[12048,1,"\u51F5"],[12049,1,"\u5200"],[12050,1,"\u529B"],[12051,1,"\u52F9"],[12052,1,"\u5315"],[12053,1,"\u531A"],[12054,1,"\u5338"],[12055,1,"\u5341"],[12056,1,"\u535C"],[12057,1,"\u5369"],[12058,1,"\u5382"],[12059,1,"\u53B6"],[12060,1,"\u53C8"],[12061,1,"\u53E3"],[12062,1,"\u56D7"],[12063,1,"\u571F"],[12064,1,"\u58EB"],[12065,1,"\u5902"],[12066,1,"\u590A"],[12067,1,"\u5915"],[12068,1,"\u5927"],[12069,1,"\u5973"],[12070,1,"\u5B50"],[12071,1,"\u5B80"],[12072,1,"\u5BF8"],[12073,1,"\u5C0F"],[12074,1,"\u5C22"],[12075,1,"\u5C38"],[12076,1,"\u5C6E"],[12077,1,"\u5C71"],[12078,1,"\u5DDB"],[12079,1,"\u5DE5"],[12080,1,"\u5DF1"],[12081,1,"\u5DFE"],[12082,1,"\u5E72"],[12083,1,"\u5E7A"],[12084,1,"\u5E7F"],[12085,1,"\u5EF4"],[12086,1,"\u5EFE"],[12087,1,"\u5F0B"],[12088,1,"\u5F13"],[12089,1,"\u5F50"],[12090,1,"\u5F61"],[12091,1,"\u5F73"],[12092,1,"\u5FC3"],[12093,1,"\u6208"],[12094,1,"\u6236"],[12095,1,"\u624B"],[12096,1,"\u652F"],[12097,1,"\u6534"],[12098,1,"\u6587"],[12099,1,"\u6597"],[12100,1,"\u65A4"],[12101,1,"\u65B9"],[12102,1,"\u65E0"],[12103,1,"\u65E5"],[12104,1,"\u66F0"],[12105,1,"\u6708"],[12106,1,"\u6728"],[12107,1,"\u6B20"],[12108,1,"\u6B62"],[12109,1,"\u6B79"],[12110,1,"\u6BB3"],[12111,1,"\u6BCB"],[12112,1,"\u6BD4"],[12113,1,"\u6BDB"],[12114,1,"\u6C0F"],[12115,1,"\u6C14"],[12116,1,"\u6C34"],[12117,1,"\u706B"],[12118,1,"\u722A"],[12119,1,"\u7236"],[12120,1,"\u723B"],[12121,1,"\u723F"],[12122,1,"\u7247"],[12123,1,"\u7259"],[12124,1,"\u725B"],[12125,1,"\u72AC"],[12126,1,"\u7384"],[12127,1,"\u7389"],[12128,1,"\u74DC"],[12129,1,"\u74E6"],[12130,1,"\u7518"],[12131,1,"\u751F"],[12132,1,"\u7528"],[12133,1,"\u7530"],[12134,1,"\u758B"],[12135,1,"\u7592"],[12136,1,"\u7676"],[12137,1,"\u767D"],[12138,1,"\u76AE"],[12139,1,"\u76BF"],[12140,1,"\u76EE"],[12141,1,"\u77DB"],[12142,1,"\u77E2"],[12143,1,"\u77F3"],[12144,1,"\u793A"],[12145,1,"\u79B8"],[12146,1,"\u79BE"],[12147,1,"\u7A74"],[12148,1,"\u7ACB"],[12149,1,"\u7AF9"],[12150,1,"\u7C73"],[12151,1,"\u7CF8"],[12152,1,"\u7F36"],[12153,1,"\u7F51"],[12154,1,"\u7F8A"],[12155,1,"\u7FBD"],[12156,1,"\u8001"],[12157,1,"\u800C"],[12158,1,"\u8012"],[12159,1,"\u8033"],[12160,1,"\u807F"],[12161,1,"\u8089"],[12162,1,"\u81E3"],[12163,1,"\u81EA"],[12164,1,"\u81F3"],[12165,1,"\u81FC"],[12166,1,"\u820C"],[12167,1,"\u821B"],[12168,1,"\u821F"],[12169,1,"\u826E"],[12170,1,"\u8272"],[12171,1,"\u8278"],[12172,1,"\u864D"],[12173,1,"\u866B"],[12174,1,"\u8840"],[12175,1,"\u884C"],[12176,1,"\u8863"],[12177,1,"\u897E"],[12178,1,"\u898B"],[12179,1,"\u89D2"],[12180,1,"\u8A00"],[12181,1,"\u8C37"],[12182,1,"\u8C46"],[12183,1,"\u8C55"],[12184,1,"\u8C78"],[12185,1,"\u8C9D"],[12186,1,"\u8D64"],[12187,1,"\u8D70"],[12188,1,"\u8DB3"],[12189,1,"\u8EAB"],[12190,1,"\u8ECA"],[12191,1,"\u8F9B"],[12192,1,"\u8FB0"],[12193,1,"\u8FB5"],[12194,1,"\u9091"],[12195,1,"\u9149"],[12196,1,"\u91C6"],[12197,1,"\u91CC"],[12198,1,"\u91D1"],[12199,1,"\u9577"],[12200,1,"\u9580"],[12201,1,"\u961C"],[12202,1,"\u96B6"],[12203,1,"\u96B9"],[12204,1,"\u96E8"],[12205,1,"\u9751"],[12206,1,"\u975E"],[12207,1,"\u9762"],[12208,1,"\u9769"],[12209,1,"\u97CB"],[12210,1,"\u97ED"],[12211,1,"\u97F3"],[12212,1,"\u9801"],[12213,1,"\u98A8"],[12214,1,"\u98DB"],[12215,1,"\u98DF"],[12216,1,"\u9996"],[12217,1,"\u9999"],[12218,1,"\u99AC"],[12219,1,"\u9AA8"],[12220,1,"\u9AD8"],[12221,1,"\u9ADF"],[12222,1,"\u9B25"],[12223,1,"\u9B2F"],[12224,1,"\u9B32"],[12225,1,"\u9B3C"],[12226,1,"\u9B5A"],[12227,1,"\u9CE5"],[12228,1,"\u9E75"],[12229,1,"\u9E7F"],[12230,1,"\u9EA5"],[12231,1,"\u9EBB"],[12232,1,"\u9EC3"],[12233,1,"\u9ECD"],[12234,1,"\u9ED1"],[12235,1,"\u9EF9"],[12236,1,"\u9EFD"],[12237,1,"\u9F0E"],[12238,1,"\u9F13"],[12239,1,"\u9F20"],[12240,1,"\u9F3B"],[12241,1,"\u9F4A"],[12242,1,"\u9F52"],[12243,1,"\u9F8D"],[12244,1,"\u9F9C"],[12245,1,"\u9FA0"],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,"\u3012"],[12343,2],[12344,1,"\u5341"],[12345,1,"\u5344"],[12346,1,"\u5345"],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," \u3099"],[12444,5," \u309A"],[[12445,12446],2],[12447,1,"\u3088\u308A"],[12448,2],[[12449,12542],2],[12543,1,"\u30B3\u30C8"],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,"\u1100"],[12594,1,"\u1101"],[12595,1,"\u11AA"],[12596,1,"\u1102"],[12597,1,"\u11AC"],[12598,1,"\u11AD"],[12599,1,"\u1103"],[12600,1,"\u1104"],[12601,1,"\u1105"],[12602,1,"\u11B0"],[12603,1,"\u11B1"],[12604,1,"\u11B2"],[12605,1,"\u11B3"],[12606,1,"\u11B4"],[12607,1,"\u11B5"],[12608,1,"\u111A"],[12609,1,"\u1106"],[12610,1,"\u1107"],[12611,1,"\u1108"],[12612,1,"\u1121"],[12613,1,"\u1109"],[12614,1,"\u110A"],[12615,1,"\u110B"],[12616,1,"\u110C"],[12617,1,"\u110D"],[12618,1,"\u110E"],[12619,1,"\u110F"],[12620,1,"\u1110"],[12621,1,"\u1111"],[12622,1,"\u1112"],[12623,1,"\u1161"],[12624,1,"\u1162"],[12625,1,"\u1163"],[12626,1,"\u1164"],[12627,1,"\u1165"],[12628,1,"\u1166"],[12629,1,"\u1167"],[12630,1,"\u1168"],[12631,1,"\u1169"],[12632,1,"\u116A"],[12633,1,"\u116B"],[12634,1,"\u116C"],[12635,1,"\u116D"],[12636,1,"\u116E"],[12637,1,"\u116F"],[12638,1,"\u1170"],[12639,1,"\u1171"],[12640,1,"\u1172"],[12641,1,"\u1173"],[12642,1,"\u1174"],[12643,1,"\u1175"],[12644,3],[12645,1,"\u1114"],[12646,1,"\u1115"],[12647,1,"\u11C7"],[12648,1,"\u11C8"],[12649,1,"\u11CC"],[12650,1,"\u11CE"],[12651,1,"\u11D3"],[12652,1,"\u11D7"],[12653,1,"\u11D9"],[12654,1,"\u111C"],[12655,1,"\u11DD"],[12656,1,"\u11DF"],[12657,1,"\u111D"],[12658,1,"\u111E"],[12659,1,"\u1120"],[12660,1,"\u1122"],[12661,1,"\u1123"],[12662,1,"\u1127"],[12663,1,"\u1129"],[12664,1,"\u112B"],[12665,1,"\u112C"],[12666,1,"\u112D"],[12667,1,"\u112E"],[12668,1,"\u112F"],[12669,1,"\u1132"],[12670,1,"\u1136"],[12671,1,"\u1140"],[12672,1,"\u1147"],[12673,1,"\u114C"],[12674,1,"\u11F1"],[12675,1,"\u11F2"],[12676,1,"\u1157"],[12677,1,"\u1158"],[12678,1,"\u1159"],[12679,1,"\u1184"],[12680,1,"\u1185"],[12681,1,"\u1188"],[12682,1,"\u1191"],[12683,1,"\u1192"],[12684,1,"\u1194"],[12685,1,"\u119E"],[12686,1,"\u11A1"],[12687,3],[[12688,12689],2],[12690,1,"\u4E00"],[12691,1,"\u4E8C"],[12692,1,"\u4E09"],[12693,1,"\u56DB"],[12694,1,"\u4E0A"],[12695,1,"\u4E2D"],[12696,1,"\u4E0B"],[12697,1,"\u7532"],[12698,1,"\u4E59"],[12699,1,"\u4E19"],[12700,1,"\u4E01"],[12701,1,"\u5929"],[12702,1,"\u5730"],[12703,1,"\u4EBA"],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"(\u1100)"],[12801,5,"(\u1102)"],[12802,5,"(\u1103)"],[12803,5,"(\u1105)"],[12804,5,"(\u1106)"],[12805,5,"(\u1107)"],[12806,5,"(\u1109)"],[12807,5,"(\u110B)"],[12808,5,"(\u110C)"],[12809,5,"(\u110E)"],[12810,5,"(\u110F)"],[12811,5,"(\u1110)"],[12812,5,"(\u1111)"],[12813,5,"(\u1112)"],[12814,5,"(\uAC00)"],[12815,5,"(\uB098)"],[12816,5,"(\uB2E4)"],[12817,5,"(\uB77C)"],[12818,5,"(\uB9C8)"],[12819,5,"(\uBC14)"],[12820,5,"(\uC0AC)"],[12821,5,"(\uC544)"],[12822,5,"(\uC790)"],[12823,5,"(\uCC28)"],[12824,5,"(\uCE74)"],[12825,5,"(\uD0C0)"],[12826,5,"(\uD30C)"],[12827,5,"(\uD558)"],[12828,5,"(\uC8FC)"],[12829,5,"(\uC624\uC804)"],[12830,5,"(\uC624\uD6C4)"],[12831,3],[12832,5,"(\u4E00)"],[12833,5,"(\u4E8C)"],[12834,5,"(\u4E09)"],[12835,5,"(\u56DB)"],[12836,5,"(\u4E94)"],[12837,5,"(\u516D)"],[12838,5,"(\u4E03)"],[12839,5,"(\u516B)"],[12840,5,"(\u4E5D)"],[12841,5,"(\u5341)"],[12842,5,"(\u6708)"],[12843,5,"(\u706B)"],[12844,5,"(\u6C34)"],[12845,5,"(\u6728)"],[12846,5,"(\u91D1)"],[12847,5,"(\u571F)"],[12848,5,"(\u65E5)"],[12849,5,"(\u682A)"],[12850,5,"(\u6709)"],[12851,5,"(\u793E)"],[12852,5,"(\u540D)"],[12853,5,"(\u7279)"],[12854,5,"(\u8CA1)"],[12855,5,"(\u795D)"],[12856,5,"(\u52B4)"],[12857,5,"(\u4EE3)"],[12858,5,"(\u547C)"],[12859,5,"(\u5B66)"],[12860,5,"(\u76E3)"],[12861,5,"(\u4F01)"],[12862,5,"(\u8CC7)"],[12863,5,"(\u5354)"],[12864,5,"(\u796D)"],[12865,5,"(\u4F11)"],[12866,5,"(\u81EA)"],[12867,5,"(\u81F3)"],[12868,1,"\u554F"],[12869,1,"\u5E7C"],[12870,1,"\u6587"],[12871,1,"\u7B8F"],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,"\u1100"],[12897,1,"\u1102"],[12898,1,"\u1103"],[12899,1,"\u1105"],[12900,1,"\u1106"],[12901,1,"\u1107"],[12902,1,"\u1109"],[12903,1,"\u110B"],[12904,1,"\u110C"],[12905,1,"\u110E"],[12906,1,"\u110F"],[12907,1,"\u1110"],[12908,1,"\u1111"],[12909,1,"\u1112"],[12910,1,"\uAC00"],[12911,1,"\uB098"],[12912,1,"\uB2E4"],[12913,1,"\uB77C"],[12914,1,"\uB9C8"],[12915,1,"\uBC14"],[12916,1,"\uC0AC"],[12917,1,"\uC544"],[12918,1,"\uC790"],[12919,1,"\uCC28"],[12920,1,"\uCE74"],[12921,1,"\uD0C0"],[12922,1,"\uD30C"],[12923,1,"\uD558"],[12924,1,"\uCC38\uACE0"],[12925,1,"\uC8FC\uC758"],[12926,1,"\uC6B0"],[12927,2],[12928,1,"\u4E00"],[12929,1,"\u4E8C"],[12930,1,"\u4E09"],[12931,1,"\u56DB"],[12932,1,"\u4E94"],[12933,1,"\u516D"],[12934,1,"\u4E03"],[12935,1,"\u516B"],[12936,1,"\u4E5D"],[12937,1,"\u5341"],[12938,1,"\u6708"],[12939,1,"\u706B"],[12940,1,"\u6C34"],[12941,1,"\u6728"],[12942,1,"\u91D1"],[12943,1,"\u571F"],[12944,1,"\u65E5"],[12945,1,"\u682A"],[12946,1,"\u6709"],[12947,1,"\u793E"],[12948,1,"\u540D"],[12949,1,"\u7279"],[12950,1,"\u8CA1"],[12951,1,"\u795D"],[12952,1,"\u52B4"],[12953,1,"\u79D8"],[12954,1,"\u7537"],[12955,1,"\u5973"],[12956,1,"\u9069"],[12957,1,"\u512A"],[12958,1,"\u5370"],[12959,1,"\u6CE8"],[12960,1,"\u9805"],[12961,1,"\u4F11"],[12962,1,"\u5199"],[12963,1,"\u6B63"],[12964,1,"\u4E0A"],[12965,1,"\u4E2D"],[12966,1,"\u4E0B"],[12967,1,"\u5DE6"],[12968,1,"\u53F3"],[12969,1,"\u533B"],[12970,1,"\u5B97"],[12971,1,"\u5B66"],[12972,1,"\u76E3"],[12973,1,"\u4F01"],[12974,1,"\u8CC7"],[12975,1,"\u5354"],[12976,1,"\u591C"],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1\u6708"],[12993,1,"2\u6708"],[12994,1,"3\u6708"],[12995,1,"4\u6708"],[12996,1,"5\u6708"],[12997,1,"6\u6708"],[12998,1,"7\u6708"],[12999,1,"8\u6708"],[13000,1,"9\u6708"],[13001,1,"10\u6708"],[13002,1,"11\u6708"],[13003,1,"12\u6708"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,"\u30A2"],[13009,1,"\u30A4"],[13010,1,"\u30A6"],[13011,1,"\u30A8"],[13012,1,"\u30AA"],[13013,1,"\u30AB"],[13014,1,"\u30AD"],[13015,1,"\u30AF"],[13016,1,"\u30B1"],[13017,1,"\u30B3"],[13018,1,"\u30B5"],[13019,1,"\u30B7"],[13020,1,"\u30B9"],[13021,1,"\u30BB"],[13022,1,"\u30BD"],[13023,1,"\u30BF"],[13024,1,"\u30C1"],[13025,1,"\u30C4"],[13026,1,"\u30C6"],[13027,1,"\u30C8"],[13028,1,"\u30CA"],[13029,1,"\u30CB"],[13030,1,"\u30CC"],[13031,1,"\u30CD"],[13032,1,"\u30CE"],[13033,1,"\u30CF"],[13034,1,"\u30D2"],[13035,1,"\u30D5"],[13036,1,"\u30D8"],[13037,1,"\u30DB"],[13038,1,"\u30DE"],[13039,1,"\u30DF"],[13040,1,"\u30E0"],[13041,1,"\u30E1"],[13042,1,"\u30E2"],[13043,1,"\u30E4"],[13044,1,"\u30E6"],[13045,1,"\u30E8"],[13046,1,"\u30E9"],[13047,1,"\u30EA"],[13048,1,"\u30EB"],[13049,1,"\u30EC"],[13050,1,"\u30ED"],[13051,1,"\u30EF"],[13052,1,"\u30F0"],[13053,1,"\u30F1"],[13054,1,"\u30F2"],[13055,1,"\u4EE4\u548C"],[13056,1,"\u30A2\u30D1\u30FC\u30C8"],[13057,1,"\u30A2\u30EB\u30D5\u30A1"],[13058,1,"\u30A2\u30F3\u30DA\u30A2"],[13059,1,"\u30A2\u30FC\u30EB"],[13060,1,"\u30A4\u30CB\u30F3\u30B0"],[13061,1,"\u30A4\u30F3\u30C1"],[13062,1,"\u30A6\u30A9\u30F3"],[13063,1,"\u30A8\u30B9\u30AF\u30FC\u30C9"],[13064,1,"\u30A8\u30FC\u30AB\u30FC"],[13065,1,"\u30AA\u30F3\u30B9"],[13066,1,"\u30AA\u30FC\u30E0"],[13067,1,"\u30AB\u30A4\u30EA"],[13068,1,"\u30AB\u30E9\u30C3\u30C8"],[13069,1,"\u30AB\u30ED\u30EA\u30FC"],[13070,1,"\u30AC\u30ED\u30F3"],[13071,1,"\u30AC\u30F3\u30DE"],[13072,1,"\u30AE\u30AC"],[13073,1,"\u30AE\u30CB\u30FC"],[13074,1,"\u30AD\u30E5\u30EA\u30FC"],[13075,1,"\u30AE\u30EB\u30C0\u30FC"],[13076,1,"\u30AD\u30ED"],[13077,1,"\u30AD\u30ED\u30B0\u30E9\u30E0"],[13078,1,"\u30AD\u30ED\u30E1\u30FC\u30C8\u30EB"],[13079,1,"\u30AD\u30ED\u30EF\u30C3\u30C8"],[13080,1,"\u30B0\u30E9\u30E0"],[13081,1,"\u30B0\u30E9\u30E0\u30C8\u30F3"],[13082,1,"\u30AF\u30EB\u30BC\u30A4\u30ED"],[13083,1,"\u30AF\u30ED\u30FC\u30CD"],[13084,1,"\u30B1\u30FC\u30B9"],[13085,1,"\u30B3\u30EB\u30CA"],[13086,1,"\u30B3\u30FC\u30DD"],[13087,1,"\u30B5\u30A4\u30AF\u30EB"],[13088,1,"\u30B5\u30F3\u30C1\u30FC\u30E0"],[13089,1,"\u30B7\u30EA\u30F3\u30B0"],[13090,1,"\u30BB\u30F3\u30C1"],[13091,1,"\u30BB\u30F3\u30C8"],[13092,1,"\u30C0\u30FC\u30B9"],[13093,1,"\u30C7\u30B7"],[13094,1,"\u30C9\u30EB"],[13095,1,"\u30C8\u30F3"],[13096,1,"\u30CA\u30CE"],[13097,1,"\u30CE\u30C3\u30C8"],[13098,1,"\u30CF\u30A4\u30C4"],[13099,1,"\u30D1\u30FC\u30BB\u30F3\u30C8"],[13100,1,"\u30D1\u30FC\u30C4"],[13101,1,"\u30D0\u30FC\u30EC\u30EB"],[13102,1,"\u30D4\u30A2\u30B9\u30C8\u30EB"],[13103,1,"\u30D4\u30AF\u30EB"],[13104,1,"\u30D4\u30B3"],[13105,1,"\u30D3\u30EB"],[13106,1,"\u30D5\u30A1\u30E9\u30C3\u30C9"],[13107,1,"\u30D5\u30A3\u30FC\u30C8"],[13108,1,"\u30D6\u30C3\u30B7\u30A7\u30EB"],[13109,1,"\u30D5\u30E9\u30F3"],[13110,1,"\u30D8\u30AF\u30BF\u30FC\u30EB"],[13111,1,"\u30DA\u30BD"],[13112,1,"\u30DA\u30CB\u30D2"],[13113,1,"\u30D8\u30EB\u30C4"],[13114,1,"\u30DA\u30F3\u30B9"],[13115,1,"\u30DA\u30FC\u30B8"],[13116,1,"\u30D9\u30FC\u30BF"],[13117,1,"\u30DD\u30A4\u30F3\u30C8"],[13118,1,"\u30DC\u30EB\u30C8"],[13119,1,"\u30DB\u30F3"],[13120,1,"\u30DD\u30F3\u30C9"],[13121,1,"\u30DB\u30FC\u30EB"],[13122,1,"\u30DB\u30FC\u30F3"],[13123,1,"\u30DE\u30A4\u30AF\u30ED"],[13124,1,"\u30DE\u30A4\u30EB"],[13125,1,"\u30DE\u30C3\u30CF"],[13126,1,"\u30DE\u30EB\u30AF"],[13127,1,"\u30DE\u30F3\u30B7\u30E7\u30F3"],[13128,1,"\u30DF\u30AF\u30ED\u30F3"],[13129,1,"\u30DF\u30EA"],[13130,1,"\u30DF\u30EA\u30D0\u30FC\u30EB"],[13131,1,"\u30E1\u30AC"],[13132,1,"\u30E1\u30AC\u30C8\u30F3"],[13133,1,"\u30E1\u30FC\u30C8\u30EB"],[13134,1,"\u30E4\u30FC\u30C9"],[13135,1,"\u30E4\u30FC\u30EB"],[13136,1,"\u30E6\u30A2\u30F3"],[13137,1,"\u30EA\u30C3\u30C8\u30EB"],[13138,1,"\u30EA\u30E9"],[13139,1,"\u30EB\u30D4\u30FC"],[13140,1,"\u30EB\u30FC\u30D6\u30EB"],[13141,1,"\u30EC\u30E0"],[13142,1,"\u30EC\u30F3\u30C8\u30B2\u30F3"],[13143,1,"\u30EF\u30C3\u30C8"],[13144,1,"0\u70B9"],[13145,1,"1\u70B9"],[13146,1,"2\u70B9"],[13147,1,"3\u70B9"],[13148,1,"4\u70B9"],[13149,1,"5\u70B9"],[13150,1,"6\u70B9"],[13151,1,"7\u70B9"],[13152,1,"8\u70B9"],[13153,1,"9\u70B9"],[13154,1,"10\u70B9"],[13155,1,"11\u70B9"],[13156,1,"12\u70B9"],[13157,1,"13\u70B9"],[13158,1,"14\u70B9"],[13159,1,"15\u70B9"],[13160,1,"16\u70B9"],[13161,1,"17\u70B9"],[13162,1,"18\u70B9"],[13163,1,"19\u70B9"],[13164,1,"20\u70B9"],[13165,1,"21\u70B9"],[13166,1,"22\u70B9"],[13167,1,"23\u70B9"],[13168,1,"24\u70B9"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,"\u5E73\u6210"],[13180,1,"\u662D\u548C"],[13181,1,"\u5927\u6B63"],[13182,1,"\u660E\u6CBB"],[13183,1,"\u682A\u5F0F\u4F1A\u793E"],[13184,1,"pa"],[13185,1,"na"],[13186,1,"\u03BCa"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"\u03BCf"],[13197,1,"\u03BCg"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"\u03BCl"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"\u03BCm"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"m\u2215s"],[13224,1,"m\u2215s2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rad\u2215s"],[13231,1,"rad\u2215s2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"\u03BCs"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"\u03BCv"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"\u03BCw"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k\u03C9"],[13249,1,"m\u03C9"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"c\u2215kg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"v\u2215m"],[13279,1,"a\u2215m"],[13280,1,"1\u65E5"],[13281,1,"2\u65E5"],[13282,1,"3\u65E5"],[13283,1,"4\u65E5"],[13284,1,"5\u65E5"],[13285,1,"6\u65E5"],[13286,1,"7\u65E5"],[13287,1,"8\u65E5"],[13288,1,"9\u65E5"],[13289,1,"10\u65E5"],[13290,1,"11\u65E5"],[13291,1,"12\u65E5"],[13292,1,"13\u65E5"],[13293,1,"14\u65E5"],[13294,1,"15\u65E5"],[13295,1,"16\u65E5"],[13296,1,"17\u65E5"],[13297,1,"18\u65E5"],[13298,1,"19\u65E5"],[13299,1,"20\u65E5"],[13300,1,"21\u65E5"],[13301,1,"22\u65E5"],[13302,1,"23\u65E5"],[13303,1,"24\u65E5"],[13304,1,"25\u65E5"],[13305,1,"26\u65E5"],[13306,1,"27\u65E5"],[13307,1,"28\u65E5"],[13308,1,"29\u65E5"],[13309,1,"30\u65E5"],[13310,1,"31\u65E5"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,"\uA641"],[42561,2],[42562,1,"\uA643"],[42563,2],[42564,1,"\uA645"],[42565,2],[42566,1,"\uA647"],[42567,2],[42568,1,"\uA649"],[42569,2],[42570,1,"\uA64B"],[42571,2],[42572,1,"\uA64D"],[42573,2],[42574,1,"\uA64F"],[42575,2],[42576,1,"\uA651"],[42577,2],[42578,1,"\uA653"],[42579,2],[42580,1,"\uA655"],[42581,2],[42582,1,"\uA657"],[42583,2],[42584,1,"\uA659"],[42585,2],[42586,1,"\uA65B"],[42587,2],[42588,1,"\uA65D"],[42589,2],[42590,1,"\uA65F"],[42591,2],[42592,1,"\uA661"],[42593,2],[42594,1,"\uA663"],[42595,2],[42596,1,"\uA665"],[42597,2],[42598,1,"\uA667"],[42599,2],[42600,1,"\uA669"],[42601,2],[42602,1,"\uA66B"],[42603,2],[42604,1,"\uA66D"],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,"\uA681"],[42625,2],[42626,1,"\uA683"],[42627,2],[42628,1,"\uA685"],[42629,2],[42630,1,"\uA687"],[42631,2],[42632,1,"\uA689"],[42633,2],[42634,1,"\uA68B"],[42635,2],[42636,1,"\uA68D"],[42637,2],[42638,1,"\uA68F"],[42639,2],[42640,1,"\uA691"],[42641,2],[42642,1,"\uA693"],[42643,2],[42644,1,"\uA695"],[42645,2],[42646,1,"\uA697"],[42647,2],[42648,1,"\uA699"],[42649,2],[42650,1,"\uA69B"],[42651,2],[42652,1,"\u044A"],[42653,1,"\u044C"],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,"\uA723"],[42787,2],[42788,1,"\uA725"],[42789,2],[42790,1,"\uA727"],[42791,2],[42792,1,"\uA729"],[42793,2],[42794,1,"\uA72B"],[42795,2],[42796,1,"\uA72D"],[42797,2],[42798,1,"\uA72F"],[[42799,42801],2],[42802,1,"\uA733"],[42803,2],[42804,1,"\uA735"],[42805,2],[42806,1,"\uA737"],[42807,2],[42808,1,"\uA739"],[42809,2],[42810,1,"\uA73B"],[42811,2],[42812,1,"\uA73D"],[42813,2],[42814,1,"\uA73F"],[42815,2],[42816,1,"\uA741"],[42817,2],[42818,1,"\uA743"],[42819,2],[42820,1,"\uA745"],[42821,2],[42822,1,"\uA747"],[42823,2],[42824,1,"\uA749"],[42825,2],[42826,1,"\uA74B"],[42827,2],[42828,1,"\uA74D"],[42829,2],[42830,1,"\uA74F"],[42831,2],[42832,1,"\uA751"],[42833,2],[42834,1,"\uA753"],[42835,2],[42836,1,"\uA755"],[42837,2],[42838,1,"\uA757"],[42839,2],[42840,1,"\uA759"],[42841,2],[42842,1,"\uA75B"],[42843,2],[42844,1,"\uA75D"],[42845,2],[42846,1,"\uA75F"],[42847,2],[42848,1,"\uA761"],[42849,2],[42850,1,"\uA763"],[42851,2],[42852,1,"\uA765"],[42853,2],[42854,1,"\uA767"],[42855,2],[42856,1,"\uA769"],[42857,2],[42858,1,"\uA76B"],[42859,2],[42860,1,"\uA76D"],[42861,2],[42862,1,"\uA76F"],[42863,2],[42864,1,"\uA76F"],[[42865,42872],2],[42873,1,"\uA77A"],[42874,2],[42875,1,"\uA77C"],[42876,2],[42877,1,"\u1D79"],[42878,1,"\uA77F"],[42879,2],[42880,1,"\uA781"],[42881,2],[42882,1,"\uA783"],[42883,2],[42884,1,"\uA785"],[42885,2],[42886,1,"\uA787"],[[42887,42888],2],[[42889,42890],2],[42891,1,"\uA78C"],[42892,2],[42893,1,"\u0265"],[42894,2],[42895,2],[42896,1,"\uA791"],[42897,2],[42898,1,"\uA793"],[42899,2],[[42900,42901],2],[42902,1,"\uA797"],[42903,2],[42904,1,"\uA799"],[42905,2],[42906,1,"\uA79B"],[42907,2],[42908,1,"\uA79D"],[42909,2],[42910,1,"\uA79F"],[42911,2],[42912,1,"\uA7A1"],[42913,2],[42914,1,"\uA7A3"],[42915,2],[42916,1,"\uA7A5"],[42917,2],[42918,1,"\uA7A7"],[42919,2],[42920,1,"\uA7A9"],[42921,2],[42922,1,"\u0266"],[42923,1,"\u025C"],[42924,1,"\u0261"],[42925,1,"\u026C"],[42926,1,"\u026A"],[42927,2],[42928,1,"\u029E"],[42929,1,"\u0287"],[42930,1,"\u029D"],[42931,1,"\uAB53"],[42932,1,"\uA7B5"],[42933,2],[42934,1,"\uA7B7"],[42935,2],[42936,1,"\uA7B9"],[42937,2],[42938,1,"\uA7BB"],[42939,2],[42940,1,"\uA7BD"],[42941,2],[42942,1,"\uA7BF"],[42943,2],[42944,1,"\uA7C1"],[42945,2],[42946,1,"\uA7C3"],[42947,2],[42948,1,"\uA794"],[42949,1,"\u0282"],[42950,1,"\u1D8E"],[42951,1,"\uA7C8"],[42952,2],[42953,1,"\uA7CA"],[42954,2],[[42955,42959],3],[42960,1,"\uA7D1"],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,"\uA7D7"],[42967,2],[42968,1,"\uA7D9"],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,"\uA7F6"],[42998,2],[42999,2],[43000,1,"\u0127"],[43001,1,"\u0153"],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,"\uA727"],[43869,1,"\uAB37"],[43870,1,"\u026B"],[43871,1,"\uAB52"],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,"\u028D"],[[43882,43883],2],[[43884,43887],3],[43888,1,"\u13A0"],[43889,1,"\u13A1"],[43890,1,"\u13A2"],[43891,1,"\u13A3"],[43892,1,"\u13A4"],[43893,1,"\u13A5"],[43894,1,"\u13A6"],[43895,1,"\u13A7"],[43896,1,"\u13A8"],[43897,1,"\u13A9"],[43898,1,"\u13AA"],[43899,1,"\u13AB"],[43900,1,"\u13AC"],[43901,1,"\u13AD"],[43902,1,"\u13AE"],[43903,1,"\u13AF"],[43904,1,"\u13B0"],[43905,1,"\u13B1"],[43906,1,"\u13B2"],[43907,1,"\u13B3"],[43908,1,"\u13B4"],[43909,1,"\u13B5"],[43910,1,"\u13B6"],[43911,1,"\u13B7"],[43912,1,"\u13B8"],[43913,1,"\u13B9"],[43914,1,"\u13BA"],[43915,1,"\u13BB"],[43916,1,"\u13BC"],[43917,1,"\u13BD"],[43918,1,"\u13BE"],[43919,1,"\u13BF"],[43920,1,"\u13C0"],[43921,1,"\u13C1"],[43922,1,"\u13C2"],[43923,1,"\u13C3"],[43924,1,"\u13C4"],[43925,1,"\u13C5"],[43926,1,"\u13C6"],[43927,1,"\u13C7"],[43928,1,"\u13C8"],[43929,1,"\u13C9"],[43930,1,"\u13CA"],[43931,1,"\u13CB"],[43932,1,"\u13CC"],[43933,1,"\u13CD"],[43934,1,"\u13CE"],[43935,1,"\u13CF"],[43936,1,"\u13D0"],[43937,1,"\u13D1"],[43938,1,"\u13D2"],[43939,1,"\u13D3"],[43940,1,"\u13D4"],[43941,1,"\u13D5"],[43942,1,"\u13D6"],[43943,1,"\u13D7"],[43944,1,"\u13D8"],[43945,1,"\u13D9"],[43946,1,"\u13DA"],[43947,1,"\u13DB"],[43948,1,"\u13DC"],[43949,1,"\u13DD"],[43950,1,"\u13DE"],[43951,1,"\u13DF"],[43952,1,"\u13E0"],[43953,1,"\u13E1"],[43954,1,"\u13E2"],[43955,1,"\u13E3"],[43956,1,"\u13E4"],[43957,1,"\u13E5"],[43958,1,"\u13E6"],[43959,1,"\u13E7"],[43960,1,"\u13E8"],[43961,1,"\u13E9"],[43962,1,"\u13EA"],[43963,1,"\u13EB"],[43964,1,"\u13EC"],[43965,1,"\u13ED"],[43966,1,"\u13EE"],[43967,1,"\u13EF"],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,"\u8C48"],[63745,1,"\u66F4"],[63746,1,"\u8ECA"],[63747,1,"\u8CC8"],[63748,1,"\u6ED1"],[63749,1,"\u4E32"],[63750,1,"\u53E5"],[[63751,63752],1,"\u9F9C"],[63753,1,"\u5951"],[63754,1,"\u91D1"],[63755,1,"\u5587"],[63756,1,"\u5948"],[63757,1,"\u61F6"],[63758,1,"\u7669"],[63759,1,"\u7F85"],[63760,1,"\u863F"],[63761,1,"\u87BA"],[63762,1,"\u88F8"],[63763,1,"\u908F"],[63764,1,"\u6A02"],[63765,1,"\u6D1B"],[63766,1,"\u70D9"],[63767,1,"\u73DE"],[63768,1,"\u843D"],[63769,1,"\u916A"],[63770,1,"\u99F1"],[63771,1,"\u4E82"],[63772,1,"\u5375"],[63773,1,"\u6B04"],[63774,1,"\u721B"],[63775,1,"\u862D"],[63776,1,"\u9E1E"],[63777,1,"\u5D50"],[63778,1,"\u6FEB"],[63779,1,"\u85CD"],[63780,1,"\u8964"],[63781,1,"\u62C9"],[63782,1,"\u81D8"],[63783,1,"\u881F"],[63784,1,"\u5ECA"],[63785,1,"\u6717"],[63786,1,"\u6D6A"],[63787,1,"\u72FC"],[63788,1,"\u90CE"],[63789,1,"\u4F86"],[63790,1,"\u51B7"],[63791,1,"\u52DE"],[63792,1,"\u64C4"],[63793,1,"\u6AD3"],[63794,1,"\u7210"],[63795,1,"\u76E7"],[63796,1,"\u8001"],[63797,1,"\u8606"],[63798,1,"\u865C"],[63799,1,"\u8DEF"],[63800,1,"\u9732"],[63801,1,"\u9B6F"],[63802,1,"\u9DFA"],[63803,1,"\u788C"],[63804,1,"\u797F"],[63805,1,"\u7DA0"],[63806,1,"\u83C9"],[63807,1,"\u9304"],[63808,1,"\u9E7F"],[63809,1,"\u8AD6"],[63810,1,"\u58DF"],[63811,1,"\u5F04"],[63812,1,"\u7C60"],[63813,1,"\u807E"],[63814,1,"\u7262"],[63815,1,"\u78CA"],[63816,1,"\u8CC2"],[63817,1,"\u96F7"],[63818,1,"\u58D8"],[63819,1,"\u5C62"],[63820,1,"\u6A13"],[63821,1,"\u6DDA"],[63822,1,"\u6F0F"],[63823,1,"\u7D2F"],[63824,1,"\u7E37"],[63825,1,"\u964B"],[63826,1,"\u52D2"],[63827,1,"\u808B"],[63828,1,"\u51DC"],[63829,1,"\u51CC"],[63830,1,"\u7A1C"],[63831,1,"\u7DBE"],[63832,1,"\u83F1"],[63833,1,"\u9675"],[63834,1,"\u8B80"],[63835,1,"\u62CF"],[63836,1,"\u6A02"],[63837,1,"\u8AFE"],[63838,1,"\u4E39"],[63839,1,"\u5BE7"],[63840,1,"\u6012"],[63841,1,"\u7387"],[63842,1,"\u7570"],[63843,1,"\u5317"],[63844,1,"\u78FB"],[63845,1,"\u4FBF"],[63846,1,"\u5FA9"],[63847,1,"\u4E0D"],[63848,1,"\u6CCC"],[63849,1,"\u6578"],[63850,1,"\u7D22"],[63851,1,"\u53C3"],[63852,1,"\u585E"],[63853,1,"\u7701"],[63854,1,"\u8449"],[63855,1,"\u8AAA"],[63856,1,"\u6BBA"],[63857,1,"\u8FB0"],[63858,1,"\u6C88"],[63859,1,"\u62FE"],[63860,1,"\u82E5"],[63861,1,"\u63A0"],[63862,1,"\u7565"],[63863,1,"\u4EAE"],[63864,1,"\u5169"],[63865,1,"\u51C9"],[63866,1,"\u6881"],[63867,1,"\u7CE7"],[63868,1,"\u826F"],[63869,1,"\u8AD2"],[63870,1,"\u91CF"],[63871,1,"\u52F5"],[63872,1,"\u5442"],[63873,1,"\u5973"],[63874,1,"\u5EEC"],[63875,1,"\u65C5"],[63876,1,"\u6FFE"],[63877,1,"\u792A"],[63878,1,"\u95AD"],[63879,1,"\u9A6A"],[63880,1,"\u9E97"],[63881,1,"\u9ECE"],[63882,1,"\u529B"],[63883,1,"\u66C6"],[63884,1,"\u6B77"],[63885,1,"\u8F62"],[63886,1,"\u5E74"],[63887,1,"\u6190"],[63888,1,"\u6200"],[63889,1,"\u649A"],[63890,1,"\u6F23"],[63891,1,"\u7149"],[63892,1,"\u7489"],[63893,1,"\u79CA"],[63894,1,"\u7DF4"],[63895,1,"\u806F"],[63896,1,"\u8F26"],[63897,1,"\u84EE"],[63898,1,"\u9023"],[63899,1,"\u934A"],[63900,1,"\u5217"],[63901,1,"\u52A3"],[63902,1,"\u54BD"],[63903,1,"\u70C8"],[63904,1,"\u88C2"],[63905,1,"\u8AAA"],[63906,1,"\u5EC9"],[63907,1,"\u5FF5"],[63908,1,"\u637B"],[63909,1,"\u6BAE"],[63910,1,"\u7C3E"],[63911,1,"\u7375"],[63912,1,"\u4EE4"],[63913,1,"\u56F9"],[63914,1,"\u5BE7"],[63915,1,"\u5DBA"],[63916,1,"\u601C"],[63917,1,"\u73B2"],[63918,1,"\u7469"],[63919,1,"\u7F9A"],[63920,1,"\u8046"],[63921,1,"\u9234"],[63922,1,"\u96F6"],[63923,1,"\u9748"],[63924,1,"\u9818"],[63925,1,"\u4F8B"],[63926,1,"\u79AE"],[63927,1,"\u91B4"],[63928,1,"\u96B8"],[63929,1,"\u60E1"],[63930,1,"\u4E86"],[63931,1,"\u50DA"],[63932,1,"\u5BEE"],[63933,1,"\u5C3F"],[63934,1,"\u6599"],[63935,1,"\u6A02"],[63936,1,"\u71CE"],[63937,1,"\u7642"],[63938,1,"\u84FC"],[63939,1,"\u907C"],[63940,1,"\u9F8D"],[63941,1,"\u6688"],[63942,1,"\u962E"],[63943,1,"\u5289"],[63944,1,"\u677B"],[63945,1,"\u67F3"],[63946,1,"\u6D41"],[63947,1,"\u6E9C"],[63948,1,"\u7409"],[63949,1,"\u7559"],[63950,1,"\u786B"],[63951,1,"\u7D10"],[63952,1,"\u985E"],[63953,1,"\u516D"],[63954,1,"\u622E"],[63955,1,"\u9678"],[63956,1,"\u502B"],[63957,1,"\u5D19"],[63958,1,"\u6DEA"],[63959,1,"\u8F2A"],[63960,1,"\u5F8B"],[63961,1,"\u6144"],[63962,1,"\u6817"],[63963,1,"\u7387"],[63964,1,"\u9686"],[63965,1,"\u5229"],[63966,1,"\u540F"],[63967,1,"\u5C65"],[63968,1,"\u6613"],[63969,1,"\u674E"],[63970,1,"\u68A8"],[63971,1,"\u6CE5"],[63972,1,"\u7406"],[63973,1,"\u75E2"],[63974,1,"\u7F79"],[63975,1,"\u88CF"],[63976,1,"\u88E1"],[63977,1,"\u91CC"],[63978,1,"\u96E2"],[63979,1,"\u533F"],[63980,1,"\u6EBA"],[63981,1,"\u541D"],[63982,1,"\u71D0"],[63983,1,"\u7498"],[63984,1,"\u85FA"],[63985,1,"\u96A3"],[63986,1,"\u9C57"],[63987,1,"\u9E9F"],[63988,1,"\u6797"],[63989,1,"\u6DCB"],[63990,1,"\u81E8"],[63991,1,"\u7ACB"],[63992,1,"\u7B20"],[63993,1,"\u7C92"],[63994,1,"\u72C0"],[63995,1,"\u7099"],[63996,1,"\u8B58"],[63997,1,"\u4EC0"],[63998,1,"\u8336"],[63999,1,"\u523A"],[64000,1,"\u5207"],[64001,1,"\u5EA6"],[64002,1,"\u62D3"],[64003,1,"\u7CD6"],[64004,1,"\u5B85"],[64005,1,"\u6D1E"],[64006,1,"\u66B4"],[64007,1,"\u8F3B"],[64008,1,"\u884C"],[64009,1,"\u964D"],[64010,1,"\u898B"],[64011,1,"\u5ED3"],[64012,1,"\u5140"],[64013,1,"\u55C0"],[[64014,64015],2],[64016,1,"\u585A"],[64017,2],[64018,1,"\u6674"],[[64019,64020],2],[64021,1,"\u51DE"],[64022,1,"\u732A"],[64023,1,"\u76CA"],[64024,1,"\u793C"],[64025,1,"\u795E"],[64026,1,"\u7965"],[64027,1,"\u798F"],[64028,1,"\u9756"],[64029,1,"\u7CBE"],[64030,1,"\u7FBD"],[64031,2],[64032,1,"\u8612"],[64033,2],[64034,1,"\u8AF8"],[[64035,64036],2],[64037,1,"\u9038"],[64038,1,"\u90FD"],[[64039,64041],2],[64042,1,"\u98EF"],[64043,1,"\u98FC"],[64044,1,"\u9928"],[64045,1,"\u9DB4"],[64046,1,"\u90DE"],[64047,1,"\u96B7"],[64048,1,"\u4FAE"],[64049,1,"\u50E7"],[64050,1,"\u514D"],[64051,1,"\u52C9"],[64052,1,"\u52E4"],[64053,1,"\u5351"],[64054,1,"\u559D"],[64055,1,"\u5606"],[64056,1,"\u5668"],[64057,1,"\u5840"],[64058,1,"\u58A8"],[64059,1,"\u5C64"],[64060,1,"\u5C6E"],[64061,1,"\u6094"],[64062,1,"\u6168"],[64063,1,"\u618E"],[64064,1,"\u61F2"],[64065,1,"\u654F"],[64066,1,"\u65E2"],[64067,1,"\u6691"],[64068,1,"\u6885"],[64069,1,"\u6D77"],[64070,1,"\u6E1A"],[64071,1,"\u6F22"],[64072,1,"\u716E"],[64073,1,"\u722B"],[64074,1,"\u7422"],[64075,1,"\u7891"],[64076,1,"\u793E"],[64077,1,"\u7949"],[64078,1,"\u7948"],[64079,1,"\u7950"],[64080,1,"\u7956"],[64081,1,"\u795D"],[64082,1,"\u798D"],[64083,1,"\u798E"],[64084,1,"\u7A40"],[64085,1,"\u7A81"],[64086,1,"\u7BC0"],[64087,1,"\u7DF4"],[64088,1,"\u7E09"],[64089,1,"\u7E41"],[64090,1,"\u7F72"],[64091,1,"\u8005"],[64092,1,"\u81ED"],[[64093,64094],1,"\u8279"],[64095,1,"\u8457"],[64096,1,"\u8910"],[64097,1,"\u8996"],[64098,1,"\u8B01"],[64099,1,"\u8B39"],[64100,1,"\u8CD3"],[64101,1,"\u8D08"],[64102,1,"\u8FB6"],[64103,1,"\u9038"],[64104,1,"\u96E3"],[64105,1,"\u97FF"],[64106,1,"\u983B"],[64107,1,"\u6075"],[64108,1,"\uD850\uDEEE"],[64109,1,"\u8218"],[[64110,64111],3],[64112,1,"\u4E26"],[64113,1,"\u51B5"],[64114,1,"\u5168"],[64115,1,"\u4F80"],[64116,1,"\u5145"],[64117,1,"\u5180"],[64118,1,"\u52C7"],[64119,1,"\u52FA"],[64120,1,"\u559D"],[64121,1,"\u5555"],[64122,1,"\u5599"],[64123,1,"\u55E2"],[64124,1,"\u585A"],[64125,1,"\u58B3"],[64126,1,"\u5944"],[64127,1,"\u5954"],[64128,1,"\u5A62"],[64129,1,"\u5B28"],[64130,1,"\u5ED2"],[64131,1,"\u5ED9"],[64132,1,"\u5F69"],[64133,1,"\u5FAD"],[64134,1,"\u60D8"],[64135,1,"\u614E"],[64136,1,"\u6108"],[64137,1,"\u618E"],[64138,1,"\u6160"],[64139,1,"\u61F2"],[64140,1,"\u6234"],[64141,1,"\u63C4"],[64142,1,"\u641C"],[64143,1,"\u6452"],[64144,1,"\u6556"],[64145,1,"\u6674"],[64146,1,"\u6717"],[64147,1,"\u671B"],[64148,1,"\u6756"],[64149,1,"\u6B79"],[64150,1,"\u6BBA"],[64151,1,"\u6D41"],[64152,1,"\u6EDB"],[64153,1,"\u6ECB"],[64154,1,"\u6F22"],[64155,1,"\u701E"],[64156,1,"\u716E"],[64157,1,"\u77A7"],[64158,1,"\u7235"],[64159,1,"\u72AF"],[64160,1,"\u732A"],[64161,1,"\u7471"],[64162,1,"\u7506"],[64163,1,"\u753B"],[64164,1,"\u761D"],[64165,1,"\u761F"],[64166,1,"\u76CA"],[64167,1,"\u76DB"],[64168,1,"\u76F4"],[64169,1,"\u774A"],[64170,1,"\u7740"],[64171,1,"\u78CC"],[64172,1,"\u7AB1"],[64173,1,"\u7BC0"],[64174,1,"\u7C7B"],[64175,1,"\u7D5B"],[64176,1,"\u7DF4"],[64177,1,"\u7F3E"],[64178,1,"\u8005"],[64179,1,"\u8352"],[64180,1,"\u83EF"],[64181,1,"\u8779"],[64182,1,"\u8941"],[64183,1,"\u8986"],[64184,1,"\u8996"],[64185,1,"\u8ABF"],[64186,1,"\u8AF8"],[64187,1,"\u8ACB"],[64188,1,"\u8B01"],[64189,1,"\u8AFE"],[64190,1,"\u8AED"],[64191,1,"\u8B39"],[64192,1,"\u8B8A"],[64193,1,"\u8D08"],[64194,1,"\u8F38"],[64195,1,"\u9072"],[64196,1,"\u9199"],[64197,1,"\u9276"],[64198,1,"\u967C"],[64199,1,"\u96E3"],[64200,1,"\u9756"],[64201,1,"\u97DB"],[64202,1,"\u97FF"],[64203,1,"\u980B"],[64204,1,"\u983B"],[64205,1,"\u9B12"],[64206,1,"\u9F9C"],[64207,1,"\uD84A\uDC4A"],[64208,1,"\uD84A\uDC44"],[64209,1,"\uD84C\uDFD5"],[64210,1,"\u3B9D"],[64211,1,"\u4018"],[64212,1,"\u4039"],[64213,1,"\uD854\uDE49"],[64214,1,"\uD857\uDCD0"],[64215,1,"\uD85F\uDED3"],[64216,1,"\u9F43"],[64217,1,"\u9F8E"],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,"\u0574\u0576"],[64276,1,"\u0574\u0565"],[64277,1,"\u0574\u056B"],[64278,1,"\u057E\u0576"],[64279,1,"\u0574\u056D"],[[64280,64284],3],[64285,1,"\u05D9\u05B4"],[64286,2],[64287,1,"\u05F2\u05B7"],[64288,1,"\u05E2"],[64289,1,"\u05D0"],[64290,1,"\u05D3"],[64291,1,"\u05D4"],[64292,1,"\u05DB"],[64293,1,"\u05DC"],[64294,1,"\u05DD"],[64295,1,"\u05E8"],[64296,1,"\u05EA"],[64297,5,"+"],[64298,1,"\u05E9\u05C1"],[64299,1,"\u05E9\u05C2"],[64300,1,"\u05E9\u05BC\u05C1"],[64301,1,"\u05E9\u05BC\u05C2"],[64302,1,"\u05D0\u05B7"],[64303,1,"\u05D0\u05B8"],[64304,1,"\u05D0\u05BC"],[64305,1,"\u05D1\u05BC"],[64306,1,"\u05D2\u05BC"],[64307,1,"\u05D3\u05BC"],[64308,1,"\u05D4\u05BC"],[64309,1,"\u05D5\u05BC"],[64310,1,"\u05D6\u05BC"],[64311,3],[64312,1,"\u05D8\u05BC"],[64313,1,"\u05D9\u05BC"],[64314,1,"\u05DA\u05BC"],[64315,1,"\u05DB\u05BC"],[64316,1,"\u05DC\u05BC"],[64317,3],[64318,1,"\u05DE\u05BC"],[64319,3],[64320,1,"\u05E0\u05BC"],[64321,1,"\u05E1\u05BC"],[64322,3],[64323,1,"\u05E3\u05BC"],[64324,1,"\u05E4\u05BC"],[64325,3],[64326,1,"\u05E6\u05BC"],[64327,1,"\u05E7\u05BC"],[64328,1,"\u05E8\u05BC"],[64329,1,"\u05E9\u05BC"],[64330,1,"\u05EA\u05BC"],[64331,1,"\u05D5\u05B9"],[64332,1,"\u05D1\u05BF"],[64333,1,"\u05DB\u05BF"],[64334,1,"\u05E4\u05BF"],[64335,1,"\u05D0\u05DC"],[[64336,64337],1,"\u0671"],[[64338,64341],1,"\u067B"],[[64342,64345],1,"\u067E"],[[64346,64349],1,"\u0680"],[[64350,64353],1,"\u067A"],[[64354,64357],1,"\u067F"],[[64358,64361],1,"\u0679"],[[64362,64365],1,"\u06A4"],[[64366,64369],1,"\u06A6"],[[64370,64373],1,"\u0684"],[[64374,64377],1,"\u0683"],[[64378,64381],1,"\u0686"],[[64382,64385],1,"\u0687"],[[64386,64387],1,"\u068D"],[[64388,64389],1,"\u068C"],[[64390,64391],1,"\u068E"],[[64392,64393],1,"\u0688"],[[64394,64395],1,"\u0698"],[[64396,64397],1,"\u0691"],[[64398,64401],1,"\u06A9"],[[64402,64405],1,"\u06AF"],[[64406,64409],1,"\u06B3"],[[64410,64413],1,"\u06B1"],[[64414,64415],1,"\u06BA"],[[64416,64419],1,"\u06BB"],[[64420,64421],1,"\u06C0"],[[64422,64425],1,"\u06C1"],[[64426,64429],1,"\u06BE"],[[64430,64431],1,"\u06D2"],[[64432,64433],1,"\u06D3"],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,"\u06AD"],[[64471,64472],1,"\u06C7"],[[64473,64474],1,"\u06C6"],[[64475,64476],1,"\u06C8"],[64477,1,"\u06C7\u0674"],[[64478,64479],1,"\u06CB"],[[64480,64481],1,"\u06C5"],[[64482,64483],1,"\u06C9"],[[64484,64487],1,"\u06D0"],[[64488,64489],1,"\u0649"],[[64490,64491],1,"\u0626\u0627"],[[64492,64493],1,"\u0626\u06D5"],[[64494,64495],1,"\u0626\u0648"],[[64496,64497],1,"\u0626\u06C7"],[[64498,64499],1,"\u0626\u06C6"],[[64500,64501],1,"\u0626\u06C8"],[[64502,64504],1,"\u0626\u06D0"],[[64505,64507],1,"\u0626\u0649"],[[64508,64511],1,"\u06CC"],[64512,1,"\u0626\u062C"],[64513,1,"\u0626\u062D"],[64514,1,"\u0626\u0645"],[64515,1,"\u0626\u0649"],[64516,1,"\u0626\u064A"],[64517,1,"\u0628\u062C"],[64518,1,"\u0628\u062D"],[64519,1,"\u0628\u062E"],[64520,1,"\u0628\u0645"],[64521,1,"\u0628\u0649"],[64522,1,"\u0628\u064A"],[64523,1,"\u062A\u062C"],[64524,1,"\u062A\u062D"],[64525,1,"\u062A\u062E"],[64526,1,"\u062A\u0645"],[64527,1,"\u062A\u0649"],[64528,1,"\u062A\u064A"],[64529,1,"\u062B\u062C"],[64530,1,"\u062B\u0645"],[64531,1,"\u062B\u0649"],[64532,1,"\u062B\u064A"],[64533,1,"\u062C\u062D"],[64534,1,"\u062C\u0645"],[64535,1,"\u062D\u062C"],[64536,1,"\u062D\u0645"],[64537,1,"\u062E\u062C"],[64538,1,"\u062E\u062D"],[64539,1,"\u062E\u0645"],[64540,1,"\u0633\u062C"],[64541,1,"\u0633\u062D"],[64542,1,"\u0633\u062E"],[64543,1,"\u0633\u0645"],[64544,1,"\u0635\u062D"],[64545,1,"\u0635\u0645"],[64546,1,"\u0636\u062C"],[64547,1,"\u0636\u062D"],[64548,1,"\u0636\u062E"],[64549,1,"\u0636\u0645"],[64550,1,"\u0637\u062D"],[64551,1,"\u0637\u0645"],[64552,1,"\u0638\u0645"],[64553,1,"\u0639\u062C"],[64554,1,"\u0639\u0645"],[64555,1,"\u063A\u062C"],[64556,1,"\u063A\u0645"],[64557,1,"\u0641\u062C"],[64558,1,"\u0641\u062D"],[64559,1,"\u0641\u062E"],[64560,1,"\u0641\u0645"],[64561,1,"\u0641\u0649"],[64562,1,"\u0641\u064A"],[64563,1,"\u0642\u062D"],[64564,1,"\u0642\u0645"],[64565,1,"\u0642\u0649"],[64566,1,"\u0642\u064A"],[64567,1,"\u0643\u0627"],[64568,1,"\u0643\u062C"],[64569,1,"\u0643\u062D"],[64570,1,"\u0643\u062E"],[64571,1,"\u0643\u0644"],[64572,1,"\u0643\u0645"],[64573,1,"\u0643\u0649"],[64574,1,"\u0643\u064A"],[64575,1,"\u0644\u062C"],[64576,1,"\u0644\u062D"],[64577,1,"\u0644\u062E"],[64578,1,"\u0644\u0645"],[64579,1,"\u0644\u0649"],[64580,1,"\u0644\u064A"],[64581,1,"\u0645\u062C"],[64582,1,"\u0645\u062D"],[64583,1,"\u0645\u062E"],[64584,1,"\u0645\u0645"],[64585,1,"\u0645\u0649"],[64586,1,"\u0645\u064A"],[64587,1,"\u0646\u062C"],[64588,1,"\u0646\u062D"],[64589,1,"\u0646\u062E"],[64590,1,"\u0646\u0645"],[64591,1,"\u0646\u0649"],[64592,1,"\u0646\u064A"],[64593,1,"\u0647\u062C"],[64594,1,"\u0647\u0645"],[64595,1,"\u0647\u0649"],[64596,1,"\u0647\u064A"],[64597,1,"\u064A\u062C"],[64598,1,"\u064A\u062D"],[64599,1,"\u064A\u062E"],[64600,1,"\u064A\u0645"],[64601,1,"\u064A\u0649"],[64602,1,"\u064A\u064A"],[64603,1,"\u0630\u0670"],[64604,1,"\u0631\u0670"],[64605,1,"\u0649\u0670"],[64606,5," \u064C\u0651"],[64607,5," \u064D\u0651"],[64608,5," \u064E\u0651"],[64609,5," \u064F\u0651"],[64610,5," \u0650\u0651"],[64611,5," \u0651\u0670"],[64612,1,"\u0626\u0631"],[64613,1,"\u0626\u0632"],[64614,1,"\u0626\u0645"],[64615,1,"\u0626\u0646"],[64616,1,"\u0626\u0649"],[64617,1,"\u0626\u064A"],[64618,1,"\u0628\u0631"],[64619,1,"\u0628\u0632"],[64620,1,"\u0628\u0645"],[64621,1,"\u0628\u0646"],[64622,1,"\u0628\u0649"],[64623,1,"\u0628\u064A"],[64624,1,"\u062A\u0631"],[64625,1,"\u062A\u0632"],[64626,1,"\u062A\u0645"],[64627,1,"\u062A\u0646"],[64628,1,"\u062A\u0649"],[64629,1,"\u062A\u064A"],[64630,1,"\u062B\u0631"],[64631,1,"\u062B\u0632"],[64632,1,"\u062B\u0645"],[64633,1,"\u062B\u0646"],[64634,1,"\u062B\u0649"],[64635,1,"\u062B\u064A"],[64636,1,"\u0641\u0649"],[64637,1,"\u0641\u064A"],[64638,1,"\u0642\u0649"],[64639,1,"\u0642\u064A"],[64640,1,"\u0643\u0627"],[64641,1,"\u0643\u0644"],[64642,1,"\u0643\u0645"],[64643,1,"\u0643\u0649"],[64644,1,"\u0643\u064A"],[64645,1,"\u0644\u0645"],[64646,1,"\u0644\u0649"],[64647,1,"\u0644\u064A"],[64648,1,"\u0645\u0627"],[64649,1,"\u0645\u0645"],[64650,1,"\u0646\u0631"],[64651,1,"\u0646\u0632"],[64652,1,"\u0646\u0645"],[64653,1,"\u0646\u0646"],[64654,1,"\u0646\u0649"],[64655,1,"\u0646\u064A"],[64656,1,"\u0649\u0670"],[64657,1,"\u064A\u0631"],[64658,1,"\u064A\u0632"],[64659,1,"\u064A\u0645"],[64660,1,"\u064A\u0646"],[64661,1,"\u064A\u0649"],[64662,1,"\u064A\u064A"],[64663,1,"\u0626\u062C"],[64664,1,"\u0626\u062D"],[64665,1,"\u0626\u062E"],[64666,1,"\u0626\u0645"],[64667,1,"\u0626\u0647"],[64668,1,"\u0628\u062C"],[64669,1,"\u0628\u062D"],[64670,1,"\u0628\u062E"],[64671,1,"\u0628\u0645"],[64672,1,"\u0628\u0647"],[64673,1,"\u062A\u062C"],[64674,1,"\u062A\u062D"],[64675,1,"\u062A\u062E"],[64676,1,"\u062A\u0645"],[64677,1,"\u062A\u0647"],[64678,1,"\u062B\u0645"],[64679,1,"\u062C\u062D"],[64680,1,"\u062C\u0645"],[64681,1,"\u062D\u062C"],[64682,1,"\u062D\u0645"],[64683,1,"\u062E\u062C"],[64684,1,"\u062E\u0645"],[64685,1,"\u0633\u062C"],[64686,1,"\u0633\u062D"],[64687,1,"\u0633\u062E"],[64688,1,"\u0633\u0645"],[64689,1,"\u0635\u062D"],[64690,1,"\u0635\u062E"],[64691,1,"\u0635\u0645"],[64692,1,"\u0636\u062C"],[64693,1,"\u0636\u062D"],[64694,1,"\u0636\u062E"],[64695,1,"\u0636\u0645"],[64696,1,"\u0637\u062D"],[64697,1,"\u0638\u0645"],[64698,1,"\u0639\u062C"],[64699,1,"\u0639\u0645"],[64700,1,"\u063A\u062C"],[64701,1,"\u063A\u0645"],[64702,1,"\u0641\u062C"],[64703,1,"\u0641\u062D"],[64704,1,"\u0641\u062E"],[64705,1,"\u0641\u0645"],[64706,1,"\u0642\u062D"],[64707,1,"\u0642\u0645"],[64708,1,"\u0643\u062C"],[64709,1,"\u0643\u062D"],[64710,1,"\u0643\u062E"],[64711,1,"\u0643\u0644"],[64712,1,"\u0643\u0645"],[64713,1,"\u0644\u062C"],[64714,1,"\u0644\u062D"],[64715,1,"\u0644\u062E"],[64716,1,"\u0644\u0645"],[64717,1,"\u0644\u0647"],[64718,1,"\u0645\u062C"],[64719,1,"\u0645\u062D"],[64720,1,"\u0645\u062E"],[64721,1,"\u0645\u0645"],[64722,1,"\u0646\u062C"],[64723,1,"\u0646\u062D"],[64724,1,"\u0646\u062E"],[64725,1,"\u0646\u0645"],[64726,1,"\u0646\u0647"],[64727,1,"\u0647\u062C"],[64728,1,"\u0647\u0645"],[64729,1,"\u0647\u0670"],[64730,1,"\u064A\u062C"],[64731,1,"\u064A\u062D"],[64732,1,"\u064A\u062E"],[64733,1,"\u064A\u0645"],[64734,1,"\u064A\u0647"],[64735,1,"\u0626\u0645"],[64736,1,"\u0626\u0647"],[64737,1,"\u0628\u0645"],[64738,1,"\u0628\u0647"],[64739,1,"\u062A\u0645"],[64740,1,"\u062A\u0647"],[64741,1,"\u062B\u0645"],[64742,1,"\u062B\u0647"],[64743,1,"\u0633\u0645"],[64744,1,"\u0633\u0647"],[64745,1,"\u0634\u0645"],[64746,1,"\u0634\u0647"],[64747,1,"\u0643\u0644"],[64748,1,"\u0643\u0645"],[64749,1,"\u0644\u0645"],[64750,1,"\u0646\u0645"],[64751,1,"\u0646\u0647"],[64752,1,"\u064A\u0645"],[64753,1,"\u064A\u0647"],[64754,1,"\u0640\u064E\u0651"],[64755,1,"\u0640\u064F\u0651"],[64756,1,"\u0640\u0650\u0651"],[64757,1,"\u0637\u0649"],[64758,1,"\u0637\u064A"],[64759,1,"\u0639\u0649"],[64760,1,"\u0639\u064A"],[64761,1,"\u063A\u0649"],[64762,1,"\u063A\u064A"],[64763,1,"\u0633\u0649"],[64764,1,"\u0633\u064A"],[64765,1,"\u0634\u0649"],[64766,1,"\u0634\u064A"],[64767,1,"\u062D\u0649"],[64768,1,"\u062D\u064A"],[64769,1,"\u062C\u0649"],[64770,1,"\u062C\u064A"],[64771,1,"\u062E\u0649"],[64772,1,"\u062E\u064A"],[64773,1,"\u0635\u0649"],[64774,1,"\u0635\u064A"],[64775,1,"\u0636\u0649"],[64776,1,"\u0636\u064A"],[64777,1,"\u0634\u062C"],[64778,1,"\u0634\u062D"],[64779,1,"\u0634\u062E"],[64780,1,"\u0634\u0645"],[64781,1,"\u0634\u0631"],[64782,1,"\u0633\u0631"],[64783,1,"\u0635\u0631"],[64784,1,"\u0636\u0631"],[64785,1,"\u0637\u0649"],[64786,1,"\u0637\u064A"],[64787,1,"\u0639\u0649"],[64788,1,"\u0639\u064A"],[64789,1,"\u063A\u0649"],[64790,1,"\u063A\u064A"],[64791,1,"\u0633\u0649"],[64792,1,"\u0633\u064A"],[64793,1,"\u0634\u0649"],[64794,1,"\u0634\u064A"],[64795,1,"\u062D\u0649"],[64796,1,"\u062D\u064A"],[64797,1,"\u062C\u0649"],[64798,1,"\u062C\u064A"],[64799,1,"\u062E\u0649"],[64800,1,"\u062E\u064A"],[64801,1,"\u0635\u0649"],[64802,1,"\u0635\u064A"],[64803,1,"\u0636\u0649"],[64804,1,"\u0636\u064A"],[64805,1,"\u0634\u062C"],[64806,1,"\u0634\u062D"],[64807,1,"\u0634\u062E"],[64808,1,"\u0634\u0645"],[64809,1,"\u0634\u0631"],[64810,1,"\u0633\u0631"],[64811,1,"\u0635\u0631"],[64812,1,"\u0636\u0631"],[64813,1,"\u0634\u062C"],[64814,1,"\u0634\u062D"],[64815,1,"\u0634\u062E"],[64816,1,"\u0634\u0645"],[64817,1,"\u0633\u0647"],[64818,1,"\u0634\u0647"],[64819,1,"\u0637\u0645"],[64820,1,"\u0633\u062C"],[64821,1,"\u0633\u062D"],[64822,1,"\u0633\u062E"],[64823,1,"\u0634\u062C"],[64824,1,"\u0634\u062D"],[64825,1,"\u0634\u062E"],[64826,1,"\u0637\u0645"],[64827,1,"\u0638\u0645"],[[64828,64829],1,"\u0627\u064B"],[[64830,64831],2],[[64832,64847],2],[64848,1,"\u062A\u062C\u0645"],[[64849,64850],1,"\u062A\u062D\u062C"],[64851,1,"\u062A\u062D\u0645"],[64852,1,"\u062A\u062E\u0645"],[64853,1,"\u062A\u0645\u062C"],[64854,1,"\u062A\u0645\u062D"],[64855,1,"\u062A\u0645\u062E"],[[64856,64857],1,"\u062C\u0645\u062D"],[64858,1,"\u062D\u0645\u064A"],[64859,1,"\u062D\u0645\u0649"],[64860,1,"\u0633\u062D\u062C"],[64861,1,"\u0633\u062C\u062D"],[64862,1,"\u0633\u062C\u0649"],[[64863,64864],1,"\u0633\u0645\u062D"],[64865,1,"\u0633\u0645\u062C"],[[64866,64867],1,"\u0633\u0645\u0645"],[[64868,64869],1,"\u0635\u062D\u062D"],[64870,1,"\u0635\u0645\u0645"],[[64871,64872],1,"\u0634\u062D\u0645"],[64873,1,"\u0634\u062C\u064A"],[[64874,64875],1,"\u0634\u0645\u062E"],[[64876,64877],1,"\u0634\u0645\u0645"],[64878,1,"\u0636\u062D\u0649"],[[64879,64880],1,"\u0636\u062E\u0645"],[[64881,64882],1,"\u0637\u0645\u062D"],[64883,1,"\u0637\u0645\u0645"],[64884,1,"\u0637\u0645\u064A"],[64885,1,"\u0639\u062C\u0645"],[[64886,64887],1,"\u0639\u0645\u0645"],[64888,1,"\u0639\u0645\u0649"],[64889,1,"\u063A\u0645\u0645"],[64890,1,"\u063A\u0645\u064A"],[64891,1,"\u063A\u0645\u0649"],[[64892,64893],1,"\u0641\u062E\u0645"],[64894,1,"\u0642\u0645\u062D"],[64895,1,"\u0642\u0645\u0645"],[64896,1,"\u0644\u062D\u0645"],[64897,1,"\u0644\u062D\u064A"],[64898,1,"\u0644\u062D\u0649"],[[64899,64900],1,"\u0644\u062C\u062C"],[[64901,64902],1,"\u0644\u062E\u0645"],[[64903,64904],1,"\u0644\u0645\u062D"],[64905,1,"\u0645\u062D\u062C"],[64906,1,"\u0645\u062D\u0645"],[64907,1,"\u0645\u062D\u064A"],[64908,1,"\u0645\u062C\u062D"],[64909,1,"\u0645\u062C\u0645"],[64910,1,"\u0645\u062E\u062C"],[64911,1,"\u0645\u062E\u0645"],[[64912,64913],3],[64914,1,"\u0645\u062C\u062E"],[64915,1,"\u0647\u0645\u062C"],[64916,1,"\u0647\u0645\u0645"],[64917,1,"\u0646\u062D\u0645"],[64918,1,"\u0646\u062D\u0649"],[[64919,64920],1,"\u0646\u062C\u0645"],[64921,1,"\u0646\u062C\u0649"],[64922,1,"\u0646\u0645\u064A"],[64923,1,"\u0646\u0645\u0649"],[[64924,64925],1,"\u064A\u0645\u0645"],[64926,1,"\u0628\u062E\u064A"],[64927,1,"\u062A\u062C\u064A"],[64928,1,"\u062A\u062C\u0649"],[64929,1,"\u062A\u062E\u064A"],[64930,1,"\u062A\u062E\u0649"],[64931,1,"\u062A\u0645\u064A"],[64932,1,"\u062A\u0645\u0649"],[64933,1,"\u062C\u0645\u064A"],[64934,1,"\u062C\u062D\u0649"],[64935,1,"\u062C\u0645\u0649"],[64936,1,"\u0633\u062E\u0649"],[64937,1,"\u0635\u062D\u064A"],[64938,1,"\u0634\u062D\u064A"],[64939,1,"\u0636\u062D\u064A"],[64940,1,"\u0644\u062C\u064A"],[64941,1,"\u0644\u0645\u064A"],[64942,1,"\u064A\u062D\u064A"],[64943,1,"\u064A\u062C\u064A"],[64944,1,"\u064A\u0645\u064A"],[64945,1,"\u0645\u0645\u064A"],[64946,1,"\u0642\u0645\u064A"],[64947,1,"\u0646\u062D\u064A"],[64948,1,"\u0642\u0645\u062D"],[64949,1,"\u0644\u062D\u0645"],[64950,1,"\u0639\u0645\u064A"],[64951,1,"\u0643\u0645\u064A"],[64952,1,"\u0646\u062C\u062D"],[64953,1,"\u0645\u062E\u064A"],[64954,1,"\u0644\u062C\u0645"],[64955,1,"\u0643\u0645\u0645"],[64956,1,"\u0644\u062C\u0645"],[64957,1,"\u0646\u062C\u062D"],[64958,1,"\u062C\u062D\u064A"],[64959,1,"\u062D\u062C\u064A"],[64960,1,"\u0645\u062C\u064A"],[64961,1,"\u0641\u0645\u064A"],[64962,1,"\u0628\u062D\u064A"],[64963,1,"\u0643\u0645\u0645"],[64964,1,"\u0639\u062C\u0645"],[64965,1,"\u0635\u0645\u0645"],[64966,1,"\u0633\u062E\u064A"],[64967,1,"\u0646\u062C\u064A"],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,"\u0635\u0644\u06D2"],[65009,1,"\u0642\u0644\u06D2"],[65010,1,"\u0627\u0644\u0644\u0647"],[65011,1,"\u0627\u0643\u0628\u0631"],[65012,1,"\u0645\u062D\u0645\u062F"],[65013,1,"\u0635\u0644\u0639\u0645"],[65014,1,"\u0631\u0633\u0648\u0644"],[65015,1,"\u0639\u0644\u064A\u0647"],[65016,1,"\u0648\u0633\u0644\u0645"],[65017,1,"\u0635\u0644\u0649"],[65018,5,"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064A\u0647 \u0648\u0633\u0644\u0645"],[65019,5,"\u062C\u0644 \u062C\u0644\u0627\u0644\u0647"],[65020,1,"\u0631\u06CC\u0627\u0644"],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,"\u3001"],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,"\u3016"],[65048,1,"\u3017"],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,"\u2014"],[65074,1,"\u2013"],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,"\u3014"],[65082,1,"\u3015"],[65083,1,"\u3010"],[65084,1,"\u3011"],[65085,1,"\u300A"],[65086,1,"\u300B"],[65087,1,"\u3008"],[65088,1,"\u3009"],[65089,1,"\u300C"],[65090,1,"\u300D"],[65091,1,"\u300E"],[65092,1,"\u300F"],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," \u0305"],[[65101,65103],5,"_"],[65104,5,","],[65105,1,"\u3001"],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,"\u2014"],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,"\u3014"],[65118,1,"\u3015"],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," \u064B"],[65137,1,"\u0640\u064B"],[65138,5," \u064C"],[65139,2],[65140,5," \u064D"],[65141,3],[65142,5," \u064E"],[65143,1,"\u0640\u064E"],[65144,5," \u064F"],[65145,1,"\u0640\u064F"],[65146,5," \u0650"],[65147,1,"\u0640\u0650"],[65148,5," \u0651"],[65149,1,"\u0640\u0651"],[65150,5," \u0652"],[65151,1,"\u0640\u0652"],[65152,1,"\u0621"],[[65153,65154],1,"\u0622"],[[65155,65156],1,"\u0623"],[[65157,65158],1,"\u0624"],[[65159,65160],1,"\u0625"],[[65161,65164],1,"\u0626"],[[65165,65166],1,"\u0627"],[[65167,65170],1,"\u0628"],[[65171,65172],1,"\u0629"],[[65173,65176],1,"\u062A"],[[65177,65180],1,"\u062B"],[[65181,65184],1,"\u062C"],[[65185,65188],1,"\u062D"],[[65189,65192],1,"\u062E"],[[65193,65194],1,"\u062F"],[[65195,65196],1,"\u0630"],[[65197,65198],1,"\u0631"],[[65199,65200],1,"\u0632"],[[65201,65204],1,"\u0633"],[[65205,65208],1,"\u0634"],[[65209,65212],1,"\u0635"],[[65213,65216],1,"\u0636"],[[65217,65220],1,"\u0637"],[[65221,65224],1,"\u0638"],[[65225,65228],1,"\u0639"],[[65229,65232],1,"\u063A"],[[65233,65236],1,"\u0641"],[[65237,65240],1,"\u0642"],[[65241,65244],1,"\u0643"],[[65245,65248],1,"\u0644"],[[65249,65252],1,"\u0645"],[[65253,65256],1,"\u0646"],[[65257,65260],1,"\u0647"],[[65261,65262],1,"\u0648"],[[65263,65264],1,"\u0649"],[[65265,65268],1,"\u064A"],[[65269,65270],1,"\u0644\u0622"],[[65271,65272],1,"\u0644\u0623"],[[65273,65274],1,"\u0644\u0625"],[[65275,65276],1,"\u0644\u0627"],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,"\""],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,"\u2985"],[65376,1,"\u2986"],[65377,1,"."],[65378,1,"\u300C"],[65379,1,"\u300D"],[65380,1,"\u3001"],[65381,1,"\u30FB"],[65382,1,"\u30F2"],[65383,1,"\u30A1"],[65384,1,"\u30A3"],[65385,1,"\u30A5"],[65386,1,"\u30A7"],[65387,1,"\u30A9"],[65388,1,"\u30E3"],[65389,1,"\u30E5"],[65390,1,"\u30E7"],[65391,1,"\u30C3"],[65392,1,"\u30FC"],[65393,1,"\u30A2"],[65394,1,"\u30A4"],[65395,1,"\u30A6"],[65396,1,"\u30A8"],[65397,1,"\u30AA"],[65398,1,"\u30AB"],[65399,1,"\u30AD"],[65400,1,"\u30AF"],[65401,1,"\u30B1"],[65402,1,"\u30B3"],[65403,1,"\u30B5"],[65404,1,"\u30B7"],[65405,1,"\u30B9"],[65406,1,"\u30BB"],[65407,1,"\u30BD"],[65408,1,"\u30BF"],[65409,1,"\u30C1"],[65410,1,"\u30C4"],[65411,1,"\u30C6"],[65412,1,"\u30C8"],[65413,1,"\u30CA"],[65414,1,"\u30CB"],[65415,1,"\u30CC"],[65416,1,"\u30CD"],[65417,1,"\u30CE"],[65418,1,"\u30CF"],[65419,1,"\u30D2"],[65420,1,"\u30D5"],[65421,1,"\u30D8"],[65422,1,"\u30DB"],[65423,1,"\u30DE"],[65424,1,"\u30DF"],[65425,1,"\u30E0"],[65426,1,"\u30E1"],[65427,1,"\u30E2"],[65428,1,"\u30E4"],[65429,1,"\u30E6"],[65430,1,"\u30E8"],[65431,1,"\u30E9"],[65432,1,"\u30EA"],[65433,1,"\u30EB"],[65434,1,"\u30EC"],[65435,1,"\u30ED"],[65436,1,"\u30EF"],[65437,1,"\u30F3"],[65438,1,"\u3099"],[65439,1,"\u309A"],[65440,3],[65441,1,"\u1100"],[65442,1,"\u1101"],[65443,1,"\u11AA"],[65444,1,"\u1102"],[65445,1,"\u11AC"],[65446,1,"\u11AD"],[65447,1,"\u1103"],[65448,1,"\u1104"],[65449,1,"\u1105"],[65450,1,"\u11B0"],[65451,1,"\u11B1"],[65452,1,"\u11B2"],[65453,1,"\u11B3"],[65454,1,"\u11B4"],[65455,1,"\u11B5"],[65456,1,"\u111A"],[65457,1,"\u1106"],[65458,1,"\u1107"],[65459,1,"\u1108"],[65460,1,"\u1121"],[65461,1,"\u1109"],[65462,1,"\u110A"],[65463,1,"\u110B"],[65464,1,"\u110C"],[65465,1,"\u110D"],[65466,1,"\u110E"],[65467,1,"\u110F"],[65468,1,"\u1110"],[65469,1,"\u1111"],[65470,1,"\u1112"],[[65471,65473],3],[65474,1,"\u1161"],[65475,1,"\u1162"],[65476,1,"\u1163"],[65477,1,"\u1164"],[65478,1,"\u1165"],[65479,1,"\u1166"],[[65480,65481],3],[65482,1,"\u1167"],[65483,1,"\u1168"],[65484,1,"\u1169"],[65485,1,"\u116A"],[65486,1,"\u116B"],[65487,1,"\u116C"],[[65488,65489],3],[65490,1,"\u116D"],[65491,1,"\u116E"],[65492,1,"\u116F"],[65493,1,"\u1170"],[65494,1,"\u1171"],[65495,1,"\u1172"],[[65496,65497],3],[65498,1,"\u1173"],[65499,1,"\u1174"],[65500,1,"\u1175"],[[65501,65503],3],[65504,1,"\xA2"],[65505,1,"\xA3"],[65506,1,"\xAC"],[65507,5," \u0304"],[65508,1,"\xA6"],[65509,1,"\xA5"],[65510,1,"\u20A9"],[65511,3],[65512,1,"\u2502"],[65513,1,"\u2190"],[65514,1,"\u2191"],[65515,1,"\u2192"],[65516,1,"\u2193"],[65517,1,"\u25A0"],[65518,1,"\u25CB"],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66000,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,"\uD801\uDC28"],[66561,1,"\uD801\uDC29"],[66562,1,"\uD801\uDC2A"],[66563,1,"\uD801\uDC2B"],[66564,1,"\uD801\uDC2C"],[66565,1,"\uD801\uDC2D"],[66566,1,"\uD801\uDC2E"],[66567,1,"\uD801\uDC2F"],[66568,1,"\uD801\uDC30"],[66569,1,"\uD801\uDC31"],[66570,1,"\uD801\uDC32"],[66571,1,"\uD801\uDC33"],[66572,1,"\uD801\uDC34"],[66573,1,"\uD801\uDC35"],[66574,1,"\uD801\uDC36"],[66575,1,"\uD801\uDC37"],[66576,1,"\uD801\uDC38"],[66577,1,"\uD801\uDC39"],[66578,1,"\uD801\uDC3A"],[66579,1,"\uD801\uDC3B"],[66580,1,"\uD801\uDC3C"],[66581,1,"\uD801\uDC3D"],[66582,1,"\uD801\uDC3E"],[66583,1,"\uD801\uDC3F"],[66584,1,"\uD801\uDC40"],[66585,1,"\uD801\uDC41"],[66586,1,"\uD801\uDC42"],[66587,1,"\uD801\uDC43"],[66588,1,"\uD801\uDC44"],[66589,1,"\uD801\uDC45"],[66590,1,"\uD801\uDC46"],[66591,1,"\uD801\uDC47"],[66592,1,"\uD801\uDC48"],[66593,1,"\uD801\uDC49"],[66594,1,"\uD801\uDC4A"],[66595,1,"\uD801\uDC4B"],[66596,1,"\uD801\uDC4C"],[66597,1,"\uD801\uDC4D"],[66598,1,"\uD801\uDC4E"],[66599,1,"\uD801\uDC4F"],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,"\uD801\uDCD8"],[66737,1,"\uD801\uDCD9"],[66738,1,"\uD801\uDCDA"],[66739,1,"\uD801\uDCDB"],[66740,1,"\uD801\uDCDC"],[66741,1,"\uD801\uDCDD"],[66742,1,"\uD801\uDCDE"],[66743,1,"\uD801\uDCDF"],[66744,1,"\uD801\uDCE0"],[66745,1,"\uD801\uDCE1"],[66746,1,"\uD801\uDCE2"],[66747,1,"\uD801\uDCE3"],[66748,1,"\uD801\uDCE4"],[66749,1,"\uD801\uDCE5"],[66750,1,"\uD801\uDCE6"],[66751,1,"\uD801\uDCE7"],[66752,1,"\uD801\uDCE8"],[66753,1,"\uD801\uDCE9"],[66754,1,"\uD801\uDCEA"],[66755,1,"\uD801\uDCEB"],[66756,1,"\uD801\uDCEC"],[66757,1,"\uD801\uDCED"],[66758,1,"\uD801\uDCEE"],[66759,1,"\uD801\uDCEF"],[66760,1,"\uD801\uDCF0"],[66761,1,"\uD801\uDCF1"],[66762,1,"\uD801\uDCF2"],[66763,1,"\uD801\uDCF3"],[66764,1,"\uD801\uDCF4"],[66765,1,"\uD801\uDCF5"],[66766,1,"\uD801\uDCF6"],[66767,1,"\uD801\uDCF7"],[66768,1,"\uD801\uDCF8"],[66769,1,"\uD801\uDCF9"],[66770,1,"\uD801\uDCFA"],[66771,1,"\uD801\uDCFB"],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,"\uD801\uDD97"],[66929,1,"\uD801\uDD98"],[66930,1,"\uD801\uDD99"],[66931,1,"\uD801\uDD9A"],[66932,1,"\uD801\uDD9B"],[66933,1,"\uD801\uDD9C"],[66934,1,"\uD801\uDD9D"],[66935,1,"\uD801\uDD9E"],[66936,1,"\uD801\uDD9F"],[66937,1,"\uD801\uDDA0"],[66938,1,"\uD801\uDDA1"],[66939,3],[66940,1,"\uD801\uDDA3"],[66941,1,"\uD801\uDDA4"],[66942,1,"\uD801\uDDA5"],[66943,1,"\uD801\uDDA6"],[66944,1,"\uD801\uDDA7"],[66945,1,"\uD801\uDDA8"],[66946,1,"\uD801\uDDA9"],[66947,1,"\uD801\uDDAA"],[66948,1,"\uD801\uDDAB"],[66949,1,"\uD801\uDDAC"],[66950,1,"\uD801\uDDAD"],[66951,1,"\uD801\uDDAE"],[66952,1,"\uD801\uDDAF"],[66953,1,"\uD801\uDDB0"],[66954,1,"\uD801\uDDB1"],[66955,3],[66956,1,"\uD801\uDDB3"],[66957,1,"\uD801\uDDB4"],[66958,1,"\uD801\uDDB5"],[66959,1,"\uD801\uDDB6"],[66960,1,"\uD801\uDDB7"],[66961,1,"\uD801\uDDB8"],[66962,1,"\uD801\uDDB9"],[66963,3],[66964,1,"\uD801\uDDBB"],[66965,1,"\uD801\uDDBC"],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,"\u02D0"],[67458,1,"\u02D1"],[67459,1,"\xE6"],[67460,1,"\u0299"],[67461,1,"\u0253"],[67462,3],[67463,1,"\u02A3"],[67464,1,"\uAB66"],[67465,1,"\u02A5"],[67466,1,"\u02A4"],[67467,1,"\u0256"],[67468,1,"\u0257"],[67469,1,"\u1D91"],[67470,1,"\u0258"],[67471,1,"\u025E"],[67472,1,"\u02A9"],[67473,1,"\u0264"],[67474,1,"\u0262"],[67475,1,"\u0260"],[67476,1,"\u029B"],[67477,1,"\u0127"],[67478,1,"\u029C"],[67479,1,"\u0267"],[67480,1,"\u0284"],[67481,1,"\u02AA"],[67482,1,"\u02AB"],[67483,1,"\u026C"],[67484,1,"\uD837\uDF04"],[67485,1,"\uA78E"],[67486,1,"\u026E"],[67487,1,"\uD837\uDF05"],[67488,1,"\u028E"],[67489,1,"\uD837\uDF06"],[67490,1,"\xF8"],[67491,1,"\u0276"],[67492,1,"\u0277"],[67493,1,"q"],[67494,1,"\u027A"],[67495,1,"\uD837\uDF08"],[67496,1,"\u027D"],[67497,1,"\u027E"],[67498,1,"\u0280"],[67499,1,"\u02A8"],[67500,1,"\u02A6"],[67501,1,"\uAB67"],[67502,1,"\u02A7"],[67503,1,"\u0288"],[67504,1,"\u2C71"],[67505,3],[67506,1,"\u028F"],[67507,1,"\u02A1"],[67508,1,"\u02A2"],[67509,1,"\u0298"],[67510,1,"\u01C0"],[67511,1,"\u01C1"],[67512,1,"\u01C2"],[67513,1,"\uD837\uDF0A"],[67514,1,"\uD837\uDF1E"],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,"\uD803\uDCC0"],[68737,1,"\uD803\uDCC1"],[68738,1,"\uD803\uDCC2"],[68739,1,"\uD803\uDCC3"],[68740,1,"\uD803\uDCC4"],[68741,1,"\uD803\uDCC5"],[68742,1,"\uD803\uDCC6"],[68743,1,"\uD803\uDCC7"],[68744,1,"\uD803\uDCC8"],[68745,1,"\uD803\uDCC9"],[68746,1,"\uD803\uDCCA"],[68747,1,"\uD803\uDCCB"],[68748,1,"\uD803\uDCCC"],[68749,1,"\uD803\uDCCD"],[68750,1,"\uD803\uDCCE"],[68751,1,"\uD803\uDCCF"],[68752,1,"\uD803\uDCD0"],[68753,1,"\uD803\uDCD1"],[68754,1,"\uD803\uDCD2"],[68755,1,"\uD803\uDCD3"],[68756,1,"\uD803\uDCD4"],[68757,1,"\uD803\uDCD5"],[68758,1,"\uD803\uDCD6"],[68759,1,"\uD803\uDCD7"],[68760,1,"\uD803\uDCD8"],[68761,1,"\uD803\uDCD9"],[68762,1,"\uD803\uDCDA"],[68763,1,"\uD803\uDCDB"],[68764,1,"\uD803\uDCDC"],[68765,1,"\uD803\uDCDD"],[68766,1,"\uD803\uDCDE"],[68767,1,"\uD803\uDCDF"],[68768,1,"\uD803\uDCE0"],[68769,1,"\uD803\uDCE1"],[68770,1,"\uD803\uDCE2"],[68771,1,"\uD803\uDCE3"],[68772,1,"\uD803\uDCE4"],[68773,1,"\uD803\uDCE5"],[68774,1,"\uD803\uDCE6"],[68775,1,"\uD803\uDCE7"],[68776,1,"\uD803\uDCE8"],[68777,1,"\uD803\uDCE9"],[68778,1,"\uD803\uDCEA"],[68779,1,"\uD803\uDCEB"],[68780,1,"\uD803\uDCEC"],[68781,1,"\uD803\uDCED"],[68782,1,"\uD803\uDCEE"],[68783,1,"\uD803\uDCEF"],[68784,1,"\uD803\uDCF0"],[68785,1,"\uD803\uDCF1"],[68786,1,"\uD803\uDCF2"],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69375],3],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,"\uD806\uDCC0"],[71841,1,"\uD806\uDCC1"],[71842,1,"\uD806\uDCC2"],[71843,1,"\uD806\uDCC3"],[71844,1,"\uD806\uDCC4"],[71845,1,"\uD806\uDCC5"],[71846,1,"\uD806\uDCC6"],[71847,1,"\uD806\uDCC7"],[71848,1,"\uD806\uDCC8"],[71849,1,"\uD806\uDCC9"],[71850,1,"\uD806\uDCCA"],[71851,1,"\uD806\uDCCB"],[71852,1,"\uD806\uDCCC"],[71853,1,"\uD806\uDCCD"],[71854,1,"\uD806\uDCCE"],[71855,1,"\uD806\uDCCF"],[71856,1,"\uD806\uDCD0"],[71857,1,"\uD806\uDCD1"],[71858,1,"\uD806\uDCD2"],[71859,1,"\uD806\uDCD3"],[71860,1,"\uD806\uDCD4"],[71861,1,"\uD806\uDCD5"],[71862,1,"\uD806\uDCD6"],[71863,1,"\uD806\uDCD7"],[71864,1,"\uD806\uDCD8"],[71865,1,"\uD806\uDCD9"],[71866,1,"\uD806\uDCDA"],[71867,1,"\uD806\uDCDB"],[71868,1,"\uD806\uDCDC"],[71869,1,"\uD806\uDCDD"],[71870,1,"\uD806\uDCDE"],[71871,1,"\uD806\uDCDF"],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,3],[[78896,78904],3],[[78905,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,"\uD81B\uDE60"],[93761,1,"\uD81B\uDE61"],[93762,1,"\uD81B\uDE62"],[93763,1,"\uD81B\uDE63"],[93764,1,"\uD81B\uDE64"],[93765,1,"\uD81B\uDE65"],[93766,1,"\uD81B\uDE66"],[93767,1,"\uD81B\uDE67"],[93768,1,"\uD81B\uDE68"],[93769,1,"\uD81B\uDE69"],[93770,1,"\uD81B\uDE6A"],[93771,1,"\uD81B\uDE6B"],[93772,1,"\uD81B\uDE6C"],[93773,1,"\uD81B\uDE6D"],[93774,1,"\uD81B\uDE6E"],[93775,1,"\uD81B\uDE6F"],[93776,1,"\uD81B\uDE70"],[93777,1,"\uD81B\uDE71"],[93778,1,"\uD81B\uDE72"],[93779,1,"\uD81B\uDE73"],[93780,1,"\uD81B\uDE74"],[93781,1,"\uD81B\uDE75"],[93782,1,"\uD81B\uDE76"],[93783,1,"\uD81B\uDE77"],[93784,1,"\uD81B\uDE78"],[93785,1,"\uD81B\uDE79"],[93786,1,"\uD81B\uDE7A"],[93787,1,"\uD81B\uDE7B"],[93788,1,"\uD81B\uDE7C"],[93789,1,"\uD81B\uDE7D"],[93790,1,"\uD81B\uDE7E"],[93791,1,"\uD81B\uDE7F"],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110927],3],[[110928,110930],2],[[110931,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,"\uD834\uDD57\uD834\uDD65"],[119135,1,"\uD834\uDD58\uD834\uDD65"],[119136,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6E"],[119137,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD6F"],[119138,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD70"],[119139,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD71"],[119140,1,"\uD834\uDD58\uD834\uDD65\uD834\uDD72"],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,"\uD834\uDDB9\uD834\uDD65"],[119228,1,"\uD834\uDDBA\uD834\uDD65"],[119229,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6E"],[119230,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6E"],[119231,1,"\uD834\uDDB9\uD834\uDD65\uD834\uDD6F"],[119232,1,"\uD834\uDDBA\uD834\uDD65\uD834\uDD6F"],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[120000,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,"\u0131"],[120485,1,"\u0237"],[[120486,120487],3],[120488,1,"\u03B1"],[120489,1,"\u03B2"],[120490,1,"\u03B3"],[120491,1,"\u03B4"],[120492,1,"\u03B5"],[120493,1,"\u03B6"],[120494,1,"\u03B7"],[120495,1,"\u03B8"],[120496,1,"\u03B9"],[120497,1,"\u03BA"],[120498,1,"\u03BB"],[120499,1,"\u03BC"],[120500,1,"\u03BD"],[120501,1,"\u03BE"],[120502,1,"\u03BF"],[120503,1,"\u03C0"],[120504,1,"\u03C1"],[120505,1,"\u03B8"],[120506,1,"\u03C3"],[120507,1,"\u03C4"],[120508,1,"\u03C5"],[120509,1,"\u03C6"],[120510,1,"\u03C7"],[120511,1,"\u03C8"],[120512,1,"\u03C9"],[120513,1,"\u2207"],[120514,1,"\u03B1"],[120515,1,"\u03B2"],[120516,1,"\u03B3"],[120517,1,"\u03B4"],[120518,1,"\u03B5"],[120519,1,"\u03B6"],[120520,1,"\u03B7"],[120521,1,"\u03B8"],[120522,1,"\u03B9"],[120523,1,"\u03BA"],[120524,1,"\u03BB"],[120525,1,"\u03BC"],[120526,1,"\u03BD"],[120527,1,"\u03BE"],[120528,1,"\u03BF"],[120529,1,"\u03C0"],[120530,1,"\u03C1"],[[120531,120532],1,"\u03C3"],[120533,1,"\u03C4"],[120534,1,"\u03C5"],[120535,1,"\u03C6"],[120536,1,"\u03C7"],[120537,1,"\u03C8"],[120538,1,"\u03C9"],[120539,1,"\u2202"],[120540,1,"\u03B5"],[120541,1,"\u03B8"],[120542,1,"\u03BA"],[120543,1,"\u03C6"],[120544,1,"\u03C1"],[120545,1,"\u03C0"],[120546,1,"\u03B1"],[120547,1,"\u03B2"],[120548,1,"\u03B3"],[120549,1,"\u03B4"],[120550,1,"\u03B5"],[120551,1,"\u03B6"],[120552,1,"\u03B7"],[120553,1,"\u03B8"],[120554,1,"\u03B9"],[120555,1,"\u03BA"],[120556,1,"\u03BB"],[120557,1,"\u03BC"],[120558,1,"\u03BD"],[120559,1,"\u03BE"],[120560,1,"\u03BF"],[120561,1,"\u03C0"],[120562,1,"\u03C1"],[120563,1,"\u03B8"],[120564,1,"\u03C3"],[120565,1,"\u03C4"],[120566,1,"\u03C5"],[120567,1,"\u03C6"],[120568,1,"\u03C7"],[120569,1,"\u03C8"],[120570,1,"\u03C9"],[120571,1,"\u2207"],[120572,1,"\u03B1"],[120573,1,"\u03B2"],[120574,1,"\u03B3"],[120575,1,"\u03B4"],[120576,1,"\u03B5"],[120577,1,"\u03B6"],[120578,1,"\u03B7"],[120579,1,"\u03B8"],[120580,1,"\u03B9"],[120581,1,"\u03BA"],[120582,1,"\u03BB"],[120583,1,"\u03BC"],[120584,1,"\u03BD"],[120585,1,"\u03BE"],[120586,1,"\u03BF"],[120587,1,"\u03C0"],[120588,1,"\u03C1"],[[120589,120590],1,"\u03C3"],[120591,1,"\u03C4"],[120592,1,"\u03C5"],[120593,1,"\u03C6"],[120594,1,"\u03C7"],[120595,1,"\u03C8"],[120596,1,"\u03C9"],[120597,1,"\u2202"],[120598,1,"\u03B5"],[120599,1,"\u03B8"],[120600,1,"\u03BA"],[120601,1,"\u03C6"],[120602,1,"\u03C1"],[120603,1,"\u03C0"],[120604,1,"\u03B1"],[120605,1,"\u03B2"],[120606,1,"\u03B3"],[120607,1,"\u03B4"],[120608,1,"\u03B5"],[120609,1,"\u03B6"],[120610,1,"\u03B7"],[120611,1,"\u03B8"],[120612,1,"\u03B9"],[120613,1,"\u03BA"],[120614,1,"\u03BB"],[120615,1,"\u03BC"],[120616,1,"\u03BD"],[120617,1,"\u03BE"],[120618,1,"\u03BF"],[120619,1,"\u03C0"],[120620,1,"\u03C1"],[120621,1,"\u03B8"],[120622,1,"\u03C3"],[120623,1,"\u03C4"],[120624,1,"\u03C5"],[120625,1,"\u03C6"],[120626,1,"\u03C7"],[120627,1,"\u03C8"],[120628,1,"\u03C9"],[120629,1,"\u2207"],[120630,1,"\u03B1"],[120631,1,"\u03B2"],[120632,1,"\u03B3"],[120633,1,"\u03B4"],[120634,1,"\u03B5"],[120635,1,"\u03B6"],[120636,1,"\u03B7"],[120637,1,"\u03B8"],[120638,1,"\u03B9"],[120639,1,"\u03BA"],[120640,1,"\u03BB"],[120641,1,"\u03BC"],[120642,1,"\u03BD"],[120643,1,"\u03BE"],[120644,1,"\u03BF"],[120645,1,"\u03C0"],[120646,1,"\u03C1"],[[120647,120648],1,"\u03C3"],[120649,1,"\u03C4"],[120650,1,"\u03C5"],[120651,1,"\u03C6"],[120652,1,"\u03C7"],[120653,1,"\u03C8"],[120654,1,"\u03C9"],[120655,1,"\u2202"],[120656,1,"\u03B5"],[120657,1,"\u03B8"],[120658,1,"\u03BA"],[120659,1,"\u03C6"],[120660,1,"\u03C1"],[120661,1,"\u03C0"],[120662,1,"\u03B1"],[120663,1,"\u03B2"],[120664,1,"\u03B3"],[120665,1,"\u03B4"],[120666,1,"\u03B5"],[120667,1,"\u03B6"],[120668,1,"\u03B7"],[120669,1,"\u03B8"],[120670,1,"\u03B9"],[120671,1,"\u03BA"],[120672,1,"\u03BB"],[120673,1,"\u03BC"],[120674,1,"\u03BD"],[120675,1,"\u03BE"],[120676,1,"\u03BF"],[120677,1,"\u03C0"],[120678,1,"\u03C1"],[120679,1,"\u03B8"],[120680,1,"\u03C3"],[120681,1,"\u03C4"],[120682,1,"\u03C5"],[120683,1,"\u03C6"],[120684,1,"\u03C7"],[120685,1,"\u03C8"],[120686,1,"\u03C9"],[120687,1,"\u2207"],[120688,1,"\u03B1"],[120689,1,"\u03B2"],[120690,1,"\u03B3"],[120691,1,"\u03B4"],[120692,1,"\u03B5"],[120693,1,"\u03B6"],[120694,1,"\u03B7"],[120695,1,"\u03B8"],[120696,1,"\u03B9"],[120697,1,"\u03BA"],[120698,1,"\u03BB"],[120699,1,"\u03BC"],[120700,1,"\u03BD"],[120701,1,"\u03BE"],[120702,1,"\u03BF"],[120703,1,"\u03C0"],[120704,1,"\u03C1"],[[120705,120706],1,"\u03C3"],[120707,1,"\u03C4"],[120708,1,"\u03C5"],[120709,1,"\u03C6"],[120710,1,"\u03C7"],[120711,1,"\u03C8"],[120712,1,"\u03C9"],[120713,1,"\u2202"],[120714,1,"\u03B5"],[120715,1,"\u03B8"],[120716,1,"\u03BA"],[120717,1,"\u03C6"],[120718,1,"\u03C1"],[120719,1,"\u03C0"],[120720,1,"\u03B1"],[120721,1,"\u03B2"],[120722,1,"\u03B3"],[120723,1,"\u03B4"],[120724,1,"\u03B5"],[120725,1,"\u03B6"],[120726,1,"\u03B7"],[120727,1,"\u03B8"],[120728,1,"\u03B9"],[120729,1,"\u03BA"],[120730,1,"\u03BB"],[120731,1,"\u03BC"],[120732,1,"\u03BD"],[120733,1,"\u03BE"],[120734,1,"\u03BF"],[120735,1,"\u03C0"],[120736,1,"\u03C1"],[120737,1,"\u03B8"],[120738,1,"\u03C3"],[120739,1,"\u03C4"],[120740,1,"\u03C5"],[120741,1,"\u03C6"],[120742,1,"\u03C7"],[120743,1,"\u03C8"],[120744,1,"\u03C9"],[120745,1,"\u2207"],[120746,1,"\u03B1"],[120747,1,"\u03B2"],[120748,1,"\u03B3"],[120749,1,"\u03B4"],[120750,1,"\u03B5"],[120751,1,"\u03B6"],[120752,1,"\u03B7"],[120753,1,"\u03B8"],[120754,1,"\u03B9"],[120755,1,"\u03BA"],[120756,1,"\u03BB"],[120757,1,"\u03BC"],[120758,1,"\u03BD"],[120759,1,"\u03BE"],[120760,1,"\u03BF"],[120761,1,"\u03C0"],[120762,1,"\u03C1"],[[120763,120764],1,"\u03C3"],[120765,1,"\u03C4"],[120766,1,"\u03C5"],[120767,1,"\u03C6"],[120768,1,"\u03C7"],[120769,1,"\u03C8"],[120770,1,"\u03C9"],[120771,1,"\u2202"],[120772,1,"\u03B5"],[120773,1,"\u03B8"],[120774,1,"\u03BA"],[120775,1,"\u03C6"],[120776,1,"\u03C1"],[120777,1,"\u03C0"],[[120778,120779],1,"\u03DD"],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,"\uD83A\uDD22"],[125185,1,"\uD83A\uDD23"],[125186,1,"\uD83A\uDD24"],[125187,1,"\uD83A\uDD25"],[125188,1,"\uD83A\uDD26"],[125189,1,"\uD83A\uDD27"],[125190,1,"\uD83A\uDD28"],[125191,1,"\uD83A\uDD29"],[125192,1,"\uD83A\uDD2A"],[125193,1,"\uD83A\uDD2B"],[125194,1,"\uD83A\uDD2C"],[125195,1,"\uD83A\uDD2D"],[125196,1,"\uD83A\uDD2E"],[125197,1,"\uD83A\uDD2F"],[125198,1,"\uD83A\uDD30"],[125199,1,"\uD83A\uDD31"],[125200,1,"\uD83A\uDD32"],[125201,1,"\uD83A\uDD33"],[125202,1,"\uD83A\uDD34"],[125203,1,"\uD83A\uDD35"],[125204,1,"\uD83A\uDD36"],[125205,1,"\uD83A\uDD37"],[125206,1,"\uD83A\uDD38"],[125207,1,"\uD83A\uDD39"],[125208,1,"\uD83A\uDD3A"],[125209,1,"\uD83A\uDD3B"],[125210,1,"\uD83A\uDD3C"],[125211,1,"\uD83A\uDD3D"],[125212,1,"\uD83A\uDD3E"],[125213,1,"\uD83A\uDD3F"],[125214,1,"\uD83A\uDD40"],[125215,1,"\uD83A\uDD41"],[125216,1,"\uD83A\uDD42"],[125217,1,"\uD83A\uDD43"],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,"\u0627"],[126465,1,"\u0628"],[126466,1,"\u062C"],[126467,1,"\u062F"],[126468,3],[126469,1,"\u0648"],[126470,1,"\u0632"],[126471,1,"\u062D"],[126472,1,"\u0637"],[126473,1,"\u064A"],[126474,1,"\u0643"],[126475,1,"\u0644"],[126476,1,"\u0645"],[126477,1,"\u0646"],[126478,1,"\u0633"],[126479,1,"\u0639"],[126480,1,"\u0641"],[126481,1,"\u0635"],[126482,1,"\u0642"],[126483,1,"\u0631"],[126484,1,"\u0634"],[126485,1,"\u062A"],[126486,1,"\u062B"],[126487,1,"\u062E"],[126488,1,"\u0630"],[126489,1,"\u0636"],[126490,1,"\u0638"],[126491,1,"\u063A"],[126492,1,"\u066E"],[126493,1,"\u06BA"],[126494,1,"\u06A1"],[126495,1,"\u066F"],[126496,3],[126497,1,"\u0628"],[126498,1,"\u062C"],[126499,3],[126500,1,"\u0647"],[[126501,126502],3],[126503,1,"\u062D"],[126504,3],[126505,1,"\u064A"],[126506,1,"\u0643"],[126507,1,"\u0644"],[126508,1,"\u0645"],[126509,1,"\u0646"],[126510,1,"\u0633"],[126511,1,"\u0639"],[126512,1,"\u0641"],[126513,1,"\u0635"],[126514,1,"\u0642"],[126515,3],[126516,1,"\u0634"],[126517,1,"\u062A"],[126518,1,"\u062B"],[126519,1,"\u062E"],[126520,3],[126521,1,"\u0636"],[126522,3],[126523,1,"\u063A"],[[126524,126529],3],[126530,1,"\u062C"],[[126531,126534],3],[126535,1,"\u062D"],[126536,3],[126537,1,"\u064A"],[126538,3],[126539,1,"\u0644"],[126540,3],[126541,1,"\u0646"],[126542,1,"\u0633"],[126543,1,"\u0639"],[126544,3],[126545,1,"\u0635"],[126546,1,"\u0642"],[126547,3],[126548,1,"\u0634"],[[126549,126550],3],[126551,1,"\u062E"],[126552,3],[126553,1,"\u0636"],[126554,3],[126555,1,"\u063A"],[126556,3],[126557,1,"\u06BA"],[126558,3],[126559,1,"\u066F"],[126560,3],[126561,1,"\u0628"],[126562,1,"\u062C"],[126563,3],[126564,1,"\u0647"],[[126565,126566],3],[126567,1,"\u062D"],[126568,1,"\u0637"],[126569,1,"\u064A"],[126570,1,"\u0643"],[126571,3],[126572,1,"\u0645"],[126573,1,"\u0646"],[126574,1,"\u0633"],[126575,1,"\u0639"],[126576,1,"\u0641"],[126577,1,"\u0635"],[126578,1,"\u0642"],[126579,3],[126580,1,"\u0634"],[126581,1,"\u062A"],[126582,1,"\u062B"],[126583,1,"\u062E"],[126584,3],[126585,1,"\u0636"],[126586,1,"\u0638"],[126587,1,"\u063A"],[126588,1,"\u066E"],[126589,3],[126590,1,"\u06A1"],[126591,3],[126592,1,"\u0627"],[126593,1,"\u0628"],[126594,1,"\u062C"],[126595,1,"\u062F"],[126596,1,"\u0647"],[126597,1,"\u0648"],[126598,1,"\u0632"],[126599,1,"\u062D"],[126600,1,"\u0637"],[126601,1,"\u064A"],[126602,3],[126603,1,"\u0644"],[126604,1,"\u0645"],[126605,1,"\u0646"],[126606,1,"\u0633"],[126607,1,"\u0639"],[126608,1,"\u0641"],[126609,1,"\u0635"],[126610,1,"\u0642"],[126611,1,"\u0631"],[126612,1,"\u0634"],[126613,1,"\u062A"],[126614,1,"\u062B"],[126615,1,"\u062E"],[126616,1,"\u0630"],[126617,1,"\u0636"],[126618,1,"\u0638"],[126619,1,"\u063A"],[[126620,126624],3],[126625,1,"\u0628"],[126626,1,"\u062C"],[126627,1,"\u062F"],[126628,3],[126629,1,"\u0648"],[126630,1,"\u0632"],[126631,1,"\u062D"],[126632,1,"\u0637"],[126633,1,"\u064A"],[126634,3],[126635,1,"\u0644"],[126636,1,"\u0645"],[126637,1,"\u0646"],[126638,1,"\u0633"],[126639,1,"\u0639"],[126640,1,"\u0641"],[126641,1,"\u0635"],[126642,1,"\u0642"],[126643,1,"\u0631"],[126644,1,"\u0634"],[126645,1,"\u062A"],[126646,1,"\u062B"],[126647,1,"\u062E"],[126648,1,"\u0630"],[126649,1,"\u0636"],[126650,1,"\u0638"],[126651,1,"\u063A"],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"\u3014s\u3015"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,"\u307B\u304B"],[127489,1,"\u30B3\u30B3"],[127490,1,"\u30B5"],[[127491,127503],3],[127504,1,"\u624B"],[127505,1,"\u5B57"],[127506,1,"\u53CC"],[127507,1,"\u30C7"],[127508,1,"\u4E8C"],[127509,1,"\u591A"],[127510,1,"\u89E3"],[127511,1,"\u5929"],[127512,1,"\u4EA4"],[127513,1,"\u6620"],[127514,1,"\u7121"],[127515,1,"\u6599"],[127516,1,"\u524D"],[127517,1,"\u5F8C"],[127518,1,"\u518D"],[127519,1,"\u65B0"],[127520,1,"\u521D"],[127521,1,"\u7D42"],[127522,1,"\u751F"],[127523,1,"\u8CA9"],[127524,1,"\u58F0"],[127525,1,"\u5439"],[127526,1,"\u6F14"],[127527,1,"\u6295"],[127528,1,"\u6355"],[127529,1,"\u4E00"],[127530,1,"\u4E09"],[127531,1,"\u904A"],[127532,1,"\u5DE6"],[127533,1,"\u4E2D"],[127534,1,"\u53F3"],[127535,1,"\u6307"],[127536,1,"\u8D70"],[127537,1,"\u6253"],[127538,1,"\u7981"],[127539,1,"\u7A7A"],[127540,1,"\u5408"],[127541,1,"\u6E80"],[127542,1,"\u6709"],[127543,1,"\u6708"],[127544,1,"\u7533"],[127545,1,"\u5272"],[127546,1,"\u55B6"],[127547,1,"\u914D"],[[127548,127551],3],[127552,1,"\u3014\u672C\u3015"],[127553,1,"\u3014\u4E09\u3015"],[127554,1,"\u3014\u4E8C\u3015"],[127555,1,"\u3014\u5B89\u3015"],[127556,1,"\u3014\u70B9\u3015"],[127557,1,"\u3014\u6253\u3015"],[127558,1,"\u3014\u76D7\u3015"],[127559,1,"\u3014\u52DD\u3015"],[127560,1,"\u3014\u6557\u3015"],[[127561,127567],3],[127568,1,"\u5F97"],[127569,1,"\u53EF"],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128000,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128732],3],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128895],3],[[128896,128980],2],[[128981,128984],2],[[128985,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],3],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],3],[[129712,129718],2],[[129719,129722],2],[[129723,129727],3],[[129728,129730],2],[[129731,129733],2],[[129734,129743],3],[[129744,129750],2],[[129751,129753],2],[[129754,129759],3],[[129760,129767],2],[[129768,129775],3],[[129776,129782],2],[[129783,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[[177977,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,"\u4E3D"],[194561,1,"\u4E38"],[194562,1,"\u4E41"],[194563,1,"\uD840\uDD22"],[194564,1,"\u4F60"],[194565,1,"\u4FAE"],[194566,1,"\u4FBB"],[194567,1,"\u5002"],[194568,1,"\u507A"],[194569,1,"\u5099"],[194570,1,"\u50E7"],[194571,1,"\u50CF"],[194572,1,"\u349E"],[194573,1,"\uD841\uDE3A"],[194574,1,"\u514D"],[194575,1,"\u5154"],[194576,1,"\u5164"],[194577,1,"\u5177"],[194578,1,"\uD841\uDD1C"],[194579,1,"\u34B9"],[194580,1,"\u5167"],[194581,1,"\u518D"],[194582,1,"\uD841\uDD4B"],[194583,1,"\u5197"],[194584,1,"\u51A4"],[194585,1,"\u4ECC"],[194586,1,"\u51AC"],[194587,1,"\u51B5"],[194588,1,"\uD864\uDDDF"],[194589,1,"\u51F5"],[194590,1,"\u5203"],[194591,1,"\u34DF"],[194592,1,"\u523B"],[194593,1,"\u5246"],[194594,1,"\u5272"],[194595,1,"\u5277"],[194596,1,"\u3515"],[194597,1,"\u52C7"],[194598,1,"\u52C9"],[194599,1,"\u52E4"],[194600,1,"\u52FA"],[194601,1,"\u5305"],[194602,1,"\u5306"],[194603,1,"\u5317"],[194604,1,"\u5349"],[194605,1,"\u5351"],[194606,1,"\u535A"],[194607,1,"\u5373"],[194608,1,"\u537D"],[[194609,194611],1,"\u537F"],[194612,1,"\uD842\uDE2C"],[194613,1,"\u7070"],[194614,1,"\u53CA"],[194615,1,"\u53DF"],[194616,1,"\uD842\uDF63"],[194617,1,"\u53EB"],[194618,1,"\u53F1"],[194619,1,"\u5406"],[194620,1,"\u549E"],[194621,1,"\u5438"],[194622,1,"\u5448"],[194623,1,"\u5468"],[194624,1,"\u54A2"],[194625,1,"\u54F6"],[194626,1,"\u5510"],[194627,1,"\u5553"],[194628,1,"\u5563"],[[194629,194630],1,"\u5584"],[194631,1,"\u5599"],[194632,1,"\u55AB"],[194633,1,"\u55B3"],[194634,1,"\u55C2"],[194635,1,"\u5716"],[194636,1,"\u5606"],[194637,1,"\u5717"],[194638,1,"\u5651"],[194639,1,"\u5674"],[194640,1,"\u5207"],[194641,1,"\u58EE"],[194642,1,"\u57CE"],[194643,1,"\u57F4"],[194644,1,"\u580D"],[194645,1,"\u578B"],[194646,1,"\u5832"],[194647,1,"\u5831"],[194648,1,"\u58AC"],[194649,1,"\uD845\uDCE4"],[194650,1,"\u58F2"],[194651,1,"\u58F7"],[194652,1,"\u5906"],[194653,1,"\u591A"],[194654,1,"\u5922"],[194655,1,"\u5962"],[194656,1,"\uD845\uDEA8"],[194657,1,"\uD845\uDEEA"],[194658,1,"\u59EC"],[194659,1,"\u5A1B"],[194660,1,"\u5A27"],[194661,1,"\u59D8"],[194662,1,"\u5A66"],[194663,1,"\u36EE"],[194664,3],[194665,1,"\u5B08"],[[194666,194667],1,"\u5B3E"],[194668,1,"\uD846\uDDC8"],[194669,1,"\u5BC3"],[194670,1,"\u5BD8"],[194671,1,"\u5BE7"],[194672,1,"\u5BF3"],[194673,1,"\uD846\uDF18"],[194674,1,"\u5BFF"],[194675,1,"\u5C06"],[194676,3],[194677,1,"\u5C22"],[194678,1,"\u3781"],[194679,1,"\u5C60"],[194680,1,"\u5C6E"],[194681,1,"\u5CC0"],[194682,1,"\u5C8D"],[194683,1,"\uD847\uDDE4"],[194684,1,"\u5D43"],[194685,1,"\uD847\uDDE6"],[194686,1,"\u5D6E"],[194687,1,"\u5D6B"],[194688,1,"\u5D7C"],[194689,1,"\u5DE1"],[194690,1,"\u5DE2"],[194691,1,"\u382F"],[194692,1,"\u5DFD"],[194693,1,"\u5E28"],[194694,1,"\u5E3D"],[194695,1,"\u5E69"],[194696,1,"\u3862"],[194697,1,"\uD848\uDD83"],[194698,1,"\u387C"],[194699,1,"\u5EB0"],[194700,1,"\u5EB3"],[194701,1,"\u5EB6"],[194702,1,"\u5ECA"],[194703,1,"\uD868\uDF92"],[194704,1,"\u5EFE"],[[194705,194706],1,"\uD848\uDF31"],[194707,1,"\u8201"],[[194708,194709],1,"\u5F22"],[194710,1,"\u38C7"],[194711,1,"\uD84C\uDEB8"],[194712,1,"\uD858\uDDDA"],[194713,1,"\u5F62"],[194714,1,"\u5F6B"],[194715,1,"\u38E3"],[194716,1,"\u5F9A"],[194717,1,"\u5FCD"],[194718,1,"\u5FD7"],[194719,1,"\u5FF9"],[194720,1,"\u6081"],[194721,1,"\u393A"],[194722,1,"\u391C"],[194723,1,"\u6094"],[194724,1,"\uD849\uDED4"],[194725,1,"\u60C7"],[194726,1,"\u6148"],[194727,1,"\u614C"],[194728,1,"\u614E"],[194729,1,"\u614C"],[194730,1,"\u617A"],[194731,1,"\u618E"],[194732,1,"\u61B2"],[194733,1,"\u61A4"],[194734,1,"\u61AF"],[194735,1,"\u61DE"],[194736,1,"\u61F2"],[194737,1,"\u61F6"],[194738,1,"\u6210"],[194739,1,"\u621B"],[194740,1,"\u625D"],[194741,1,"\u62B1"],[194742,1,"\u62D4"],[194743,1,"\u6350"],[194744,1,"\uD84A\uDF0C"],[194745,1,"\u633D"],[194746,1,"\u62FC"],[194747,1,"\u6368"],[194748,1,"\u6383"],[194749,1,"\u63E4"],[194750,1,"\uD84A\uDFF1"],[194751,1,"\u6422"],[194752,1,"\u63C5"],[194753,1,"\u63A9"],[194754,1,"\u3A2E"],[194755,1,"\u6469"],[194756,1,"\u647E"],[194757,1,"\u649D"],[194758,1,"\u6477"],[194759,1,"\u3A6C"],[194760,1,"\u654F"],[194761,1,"\u656C"],[194762,1,"\uD84C\uDC0A"],[194763,1,"\u65E3"],[194764,1,"\u66F8"],[194765,1,"\u6649"],[194766,1,"\u3B19"],[194767,1,"\u6691"],[194768,1,"\u3B08"],[194769,1,"\u3AE4"],[194770,1,"\u5192"],[194771,1,"\u5195"],[194772,1,"\u6700"],[194773,1,"\u669C"],[194774,1,"\u80AD"],[194775,1,"\u43D9"],[194776,1,"\u6717"],[194777,1,"\u671B"],[194778,1,"\u6721"],[194779,1,"\u675E"],[194780,1,"\u6753"],[194781,1,"\uD84C\uDFC3"],[194782,1,"\u3B49"],[194783,1,"\u67FA"],[194784,1,"\u6785"],[194785,1,"\u6852"],[194786,1,"\u6885"],[194787,1,"\uD84D\uDC6D"],[194788,1,"\u688E"],[194789,1,"\u681F"],[194790,1,"\u6914"],[194791,1,"\u3B9D"],[194792,1,"\u6942"],[194793,1,"\u69A3"],[194794,1,"\u69EA"],[194795,1,"\u6AA8"],[194796,1,"\uD84D\uDEA3"],[194797,1,"\u6ADB"],[194798,1,"\u3C18"],[194799,1,"\u6B21"],[194800,1,"\uD84E\uDCA7"],[194801,1,"\u6B54"],[194802,1,"\u3C4E"],[194803,1,"\u6B72"],[194804,1,"\u6B9F"],[194805,1,"\u6BBA"],[194806,1,"\u6BBB"],[194807,1,"\uD84E\uDE8D"],[194808,1,"\uD847\uDD0B"],[194809,1,"\uD84E\uDEFA"],[194810,1,"\u6C4E"],[194811,1,"\uD84F\uDCBC"],[194812,1,"\u6CBF"],[194813,1,"\u6CCD"],[194814,1,"\u6C67"],[194815,1,"\u6D16"],[194816,1,"\u6D3E"],[194817,1,"\u6D77"],[194818,1,"\u6D41"],[194819,1,"\u6D69"],[194820,1,"\u6D78"],[194821,1,"\u6D85"],[194822,1,"\uD84F\uDD1E"],[194823,1,"\u6D34"],[194824,1,"\u6E2F"],[194825,1,"\u6E6E"],[194826,1,"\u3D33"],[194827,1,"\u6ECB"],[194828,1,"\u6EC7"],[194829,1,"\uD84F\uDED1"],[194830,1,"\u6DF9"],[194831,1,"\u6F6E"],[194832,1,"\uD84F\uDF5E"],[194833,1,"\uD84F\uDF8E"],[194834,1,"\u6FC6"],[194835,1,"\u7039"],[194836,1,"\u701E"],[194837,1,"\u701B"],[194838,1,"\u3D96"],[194839,1,"\u704A"],[194840,1,"\u707D"],[194841,1,"\u7077"],[194842,1,"\u70AD"],[194843,1,"\uD841\uDD25"],[194844,1,"\u7145"],[194845,1,"\uD850\uDE63"],[194846,1,"\u719C"],[194847,3],[194848,1,"\u7228"],[194849,1,"\u7235"],[194850,1,"\u7250"],[194851,1,"\uD851\uDE08"],[194852,1,"\u7280"],[194853,1,"\u7295"],[194854,1,"\uD851\uDF35"],[194855,1,"\uD852\uDC14"],[194856,1,"\u737A"],[194857,1,"\u738B"],[194858,1,"\u3EAC"],[194859,1,"\u73A5"],[[194860,194861],1,"\u3EB8"],[194862,1,"\u7447"],[194863,1,"\u745C"],[194864,1,"\u7471"],[194865,1,"\u7485"],[194866,1,"\u74CA"],[194867,1,"\u3F1B"],[194868,1,"\u7524"],[194869,1,"\uD853\uDC36"],[194870,1,"\u753E"],[194871,1,"\uD853\uDC92"],[194872,1,"\u7570"],[194873,1,"\uD848\uDD9F"],[194874,1,"\u7610"],[194875,1,"\uD853\uDFA1"],[194876,1,"\uD853\uDFB8"],[194877,1,"\uD854\uDC44"],[194878,1,"\u3FFC"],[194879,1,"\u4008"],[194880,1,"\u76F4"],[194881,1,"\uD854\uDCF3"],[194882,1,"\uD854\uDCF2"],[194883,1,"\uD854\uDD19"],[194884,1,"\uD854\uDD33"],[194885,1,"\u771E"],[[194886,194887],1,"\u771F"],[194888,1,"\u774A"],[194889,1,"\u4039"],[194890,1,"\u778B"],[194891,1,"\u4046"],[194892,1,"\u4096"],[194893,1,"\uD855\uDC1D"],[194894,1,"\u784E"],[194895,1,"\u788C"],[194896,1,"\u78CC"],[194897,1,"\u40E3"],[194898,1,"\uD855\uDE26"],[194899,1,"\u7956"],[194900,1,"\uD855\uDE9A"],[194901,1,"\uD855\uDEC5"],[194902,1,"\u798F"],[194903,1,"\u79EB"],[194904,1,"\u412F"],[194905,1,"\u7A40"],[194906,1,"\u7A4A"],[194907,1,"\u7A4F"],[194908,1,"\uD856\uDD7C"],[[194909,194910],1,"\uD856\uDEA7"],[194911,3],[194912,1,"\u4202"],[194913,1,"\uD856\uDFAB"],[194914,1,"\u7BC6"],[194915,1,"\u7BC9"],[194916,1,"\u4227"],[194917,1,"\uD857\uDC80"],[194918,1,"\u7CD2"],[194919,1,"\u42A0"],[194920,1,"\u7CE8"],[194921,1,"\u7CE3"],[194922,1,"\u7D00"],[194923,1,"\uD857\uDF86"],[194924,1,"\u7D63"],[194925,1,"\u4301"],[194926,1,"\u7DC7"],[194927,1,"\u7E02"],[194928,1,"\u7E45"],[194929,1,"\u4334"],[194930,1,"\uD858\uDE28"],[194931,1,"\uD858\uDE47"],[194932,1,"\u4359"],[194933,1,"\uD858\uDED9"],[194934,1,"\u7F7A"],[194935,1,"\uD858\uDF3E"],[194936,1,"\u7F95"],[194937,1,"\u7FFA"],[194938,1,"\u8005"],[194939,1,"\uD859\uDCDA"],[194940,1,"\uD859\uDD23"],[194941,1,"\u8060"],[194942,1,"\uD859\uDDA8"],[194943,1,"\u8070"],[194944,1,"\uD84C\uDF5F"],[194945,1,"\u43D5"],[194946,1,"\u80B2"],[194947,1,"\u8103"],[194948,1,"\u440B"],[194949,1,"\u813E"],[194950,1,"\u5AB5"],[194951,1,"\uD859\uDFA7"],[194952,1,"\uD859\uDFB5"],[194953,1,"\uD84C\uDF93"],[194954,1,"\uD84C\uDF9C"],[194955,1,"\u8201"],[194956,1,"\u8204"],[194957,1,"\u8F9E"],[194958,1,"\u446B"],[194959,1,"\u8291"],[194960,1,"\u828B"],[194961,1,"\u829D"],[194962,1,"\u52B3"],[194963,1,"\u82B1"],[194964,1,"\u82B3"],[194965,1,"\u82BD"],[194966,1,"\u82E6"],[194967,1,"\uD85A\uDF3C"],[194968,1,"\u82E5"],[194969,1,"\u831D"],[194970,1,"\u8363"],[194971,1,"\u83AD"],[194972,1,"\u8323"],[194973,1,"\u83BD"],[194974,1,"\u83E7"],[194975,1,"\u8457"],[194976,1,"\u8353"],[194977,1,"\u83CA"],[194978,1,"\u83CC"],[194979,1,"\u83DC"],[194980,1,"\uD85B\uDC36"],[194981,1,"\uD85B\uDD6B"],[194982,1,"\uD85B\uDCD5"],[194983,1,"\u452B"],[194984,1,"\u84F1"],[194985,1,"\u84F3"],[194986,1,"\u8516"],[194987,1,"\uD85C\uDFCA"],[194988,1,"\u8564"],[194989,1,"\uD85B\uDF2C"],[194990,1,"\u455D"],[194991,1,"\u4561"],[194992,1,"\uD85B\uDFB1"],[194993,1,"\uD85C\uDCD2"],[194994,1,"\u456B"],[194995,1,"\u8650"],[194996,1,"\u865C"],[194997,1,"\u8667"],[194998,1,"\u8669"],[194999,1,"\u86A9"],[195000,1,"\u8688"],[195001,1,"\u870E"],[195002,1,"\u86E2"],[195003,1,"\u8779"],[195004,1,"\u8728"],[195005,1,"\u876B"],[195006,1,"\u8786"],[195007,3],[195008,1,"\u87E1"],[195009,1,"\u8801"],[195010,1,"\u45F9"],[195011,1,"\u8860"],[195012,1,"\u8863"],[195013,1,"\uD85D\uDE67"],[195014,1,"\u88D7"],[195015,1,"\u88DE"],[195016,1,"\u4635"],[195017,1,"\u88FA"],[195018,1,"\u34BB"],[195019,1,"\uD85E\uDCAE"],[195020,1,"\uD85E\uDD66"],[195021,1,"\u46BE"],[195022,1,"\u46C7"],[195023,1,"\u8AA0"],[195024,1,"\u8AED"],[195025,1,"\u8B8A"],[195026,1,"\u8C55"],[195027,1,"\uD85F\uDCA8"],[195028,1,"\u8CAB"],[195029,1,"\u8CC1"],[195030,1,"\u8D1B"],[195031,1,"\u8D77"],[195032,1,"\uD85F\uDF2F"],[195033,1,"\uD842\uDC04"],[195034,1,"\u8DCB"],[195035,1,"\u8DBC"],[195036,1,"\u8DF0"],[195037,1,"\uD842\uDCDE"],[195038,1,"\u8ED4"],[195039,1,"\u8F38"],[195040,1,"\uD861\uDDD2"],[195041,1,"\uD861\uDDED"],[195042,1,"\u9094"],[195043,1,"\u90F1"],[195044,1,"\u9111"],[195045,1,"\uD861\uDF2E"],[195046,1,"\u911B"],[195047,1,"\u9238"],[195048,1,"\u92D7"],[195049,1,"\u92D8"],[195050,1,"\u927C"],[195051,1,"\u93F9"],[195052,1,"\u9415"],[195053,1,"\uD862\uDFFA"],[195054,1,"\u958B"],[195055,1,"\u4995"],[195056,1,"\u95B7"],[195057,1,"\uD863\uDD77"],[195058,1,"\u49E6"],[195059,1,"\u96C3"],[195060,1,"\u5DB2"],[195061,1,"\u9723"],[195062,1,"\uD864\uDD45"],[195063,1,"\uD864\uDE1A"],[195064,1,"\u4A6E"],[195065,1,"\u4A76"],[195066,1,"\u97E0"],[195067,1,"\uD865\uDC0A"],[195068,1,"\u4AB2"],[195069,1,"\uD865\uDC96"],[[195070,195071],1,"\u980B"],[195072,1,"\u9829"],[195073,1,"\uD865\uDDB6"],[195074,1,"\u98E2"],[195075,1,"\u4B33"],[195076,1,"\u9929"],[195077,1,"\u99A7"],[195078,1,"\u99C2"],[195079,1,"\u99FE"],[195080,1,"\u4BCE"],[195081,1,"\uD866\uDF30"],[195082,1,"\u9B12"],[195083,1,"\u9C40"],[195084,1,"\u9CFD"],[195085,1,"\u4CCE"],[195086,1,"\u4CED"],[195087,1,"\u9D67"],[195088,1,"\uD868\uDCCE"],[195089,1,"\u4CF8"],[195090,1,"\uD868\uDD05"],[195091,1,"\uD868\uDE0E"],[195092,1,"\uD868\uDE91"],[195093,1,"\u9EBB"],[195094,1,"\u4D56"],[195095,1,"\u9EF9"],[195096,1,"\u9EFE"],[195097,1,"\u9F05"],[195098,1,"\u9F0F"],[195099,1,"\u9F16"],[195100,1,"\u9F3B"],[195101,1,"\uD869\uDE00"],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918000,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]});var T_=R((nH1,P_)=>{nH1.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}});var S_=R((Wa1,O_)=>{var sH1=function(Z){return/[^\x00-\x7F]/u.test(Z)},E_=function(Z,{useSTD3ASCIIRules:Y}){let J=0,X=C_.length-1;while(J<=X){const $=Math.floor((J+X)/2),W=C_[$],G=Array.isArray(W[0])?W[0][0]:W[0],Q=Array.isArray(W[0])?W[0][1]:W[0];if(G<=Z&&Q>=Z){if(Y&&(W[1]===f8.disallowed_STD3_valid||W[1]===f8.disallowed_STD3_mapped))return[f8.disallowed,...W.slice(2)];else if(W[1]===f8.disallowed_STD3_valid)return[f8.valid,...W.slice(2)];else if(W[1]===f8.disallowed_STD3_mapped)return[f8.mapped,...W.slice(2)];return W.slice(1)}else if(G>Z)X=$-1;else J=$+1}return null},rH1=function(Z,{useSTD3ASCIIRules:Y,processingOption:J}){let X=!1,$="";for(let W of Z){const[G,Q]=E_(W.codePointAt(0),{useSTD3ASCIIRules:Y});switch(G){case f8.disallowed:X=!0,$+=W;break;case f8.ignored:break;case f8.mapped:$+=Q;break;case f8.deviation:if(J==="transitional")$+=Q;else $+=W;break;case f8.valid:$+=W;break}}return{string:$,error:X}},tH1=function(Z,{checkHyphens:Y,checkBidi:J,checkJoiners:X,processingOption:$,useSTD3ASCIIRules:W}){if(Z.normalize("NFC")!==Z)return!1;const G=Array.from(Z);if(Y){if(G[2]==="-"&&G[3]==="-"||(Z.startsWith("-")||Z.endsWith("-")))return!1}if(Z.includes(".")||G.length>0&&o6.combiningMarks.test(G[0]))return!1;for(let Q of G){const[K]=E_(Q.codePointAt(0),{useSTD3ASCIIRules:W});if($==="transitional"&&K!==f8.valid||$==="nontransitional"&&K!==f8.valid&&K!==f8.deviation)return!1}if(X){let Q=0;for(let[K,H]of G.entries())if(H==="\u200C"||H==="\u200D"){if(K>0){if(o6.combiningClassVirama.test(G[K-1]))continue;if(H==="\u200C"){const z=G.indexOf("\u200C",K+1),F=z<0?G.slice(Q):G.slice(Q,z);if(o6.validZWNJ.test(F.join(""))){Q=K+1;continue}}}return!1}}if(J){let Q;if(o6.bidiS1LTR.test(G[0]))Q=!1;else if(o6.bidiS1RTL.test(G[0]))Q=!0;else return!1;if(Q){if(!o6.bidiS2.test(Z)||!o6.bidiS3.test(Z)||o6.bidiS4EN.test(Z)&&o6.bidiS4AN.test(Z))return!1}else if(!o6.bidiS5.test(Z)||!o6.bidiS6.test(Z))return!1}return!0},oH1=function(Z){const Y=Z.map((J)=>{if(J.startsWith("xn--"))try{return FL.decode(J.substring(4))}catch(X){return""}return J}).join(".");return o6.bidiDomain.test(Y)},j_=function(Z,Y){const{processingOption:J}=Y;let{string:X,error:$}=rH1(Z,Y);X=X.normalize("NFC");const W=X.split("."),G=oH1(W);for(let[Q,K]of W.entries()){let H=K,z=J;if(H.startsWith("xn--")){try{H=FL.decode(H.substring(4)),W[Q]=H}catch(U){$=!0;continue}z="nontransitional"}if($)continue;if(!tH1(H,{...Y,processingOption:z,checkBidi:Y.checkBidi&&G}))$=!0}return{string:W.join("."),error:$}},eH1=function(Z,{checkHyphens:Y=!1,checkBidi:J=!1,checkJoiners:X=!1,useSTD3ASCIIRules:$=!1,processingOption:W="nontransitional",verifyDNSLength:G=!1}={}){if(W!=="transitional"&&W!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");const Q=j_(Z,{processingOption:W,checkHyphens:Y,checkBidi:J,checkJoiners:X,useSTD3ASCIIRules:$});let K=Q.string.split(".");if(K=K.map((H)=>{if(sH1(H))try{return`xn--${FL.encode(H)}`}catch(z){Q.error=!0}return H}),G){const H=K.join(".").length;if(H>253||H===0)Q.error=!0;for(let z=0;z<K.length;++z)if(K[z].length>63||K[z].length===0){Q.error=!0;break}}if(Q.error)return null;return K.join(".")},Zz1=function(Z,{checkHyphens:Y=!1,checkBidi:J=!1,checkJoiners:X=!1,useSTD3ASCIIRules:$=!1,processingOption:W="nontransitional"}={}){const G=j_(Z,{processingOption:W,checkHyphens:Y,checkBidi:J,checkJoiners:X,useSTD3ASCIIRules:$});return{domain:G.string,error:G.error}},FL=import.meta.require("punycode"),o6=I_(),C_=D_(),{STATUS_MAPPING:f8}=T_();O_.exports={toASCII:eH1,toUnicode:Zz1}});var qL=R((Ga1,__)=>{var UL=function(Z){return Z>=48&&Z<=57},k_=function(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122},Yz1=function(Z){return k_(Z)||UL(Z)},Jz1=function(Z){return UL(Z)||Z>=65&&Z<=70||Z>=97&&Z<=102};__.exports={isASCIIDigit:UL,isASCIIAlpha:k_,isASCIIAlphanumeric:Yz1,isASCIIHex:Jz1}});var CQ=R((Qa1,x_)=>{var Wz1=function(Z){return Xz1.encode(Z)},Gz1=function(Z){return $z1.decode(Z)},Xz1=new TextEncoder,$z1=new TextDecoder("utf-8",{ignoreBOM:!0});x_.exports={utf8Encode:Wz1,utf8DecodeWithoutBOM:Gz1}});var EQ=R((Ka1,m_)=>{var y1=function(Z){return Z.codePointAt(0)},Qz1=function(Z){let Y=Z.toString(16).toUpperCase();if(Y.length===1)Y=`0${Y}`;return`%${Y}`},g_=function(Z){const Y=new Uint8Array(Z.byteLength);let J=0;for(let X=0;X<Z.byteLength;++X){const $=Z[X];if($!==37)Y[J++]=$;else if($===37&&(!f_(Z[X+1])||!f_(Z[X+2])))Y[J++]=$;else{const W=parseInt(String.fromCodePoint(Z[X+1],Z[X+2]),16);Y[J++]=W,X+=2}}return Y.slice(0,J)},Kz1=function(Z){const Y=y_(Z);return g_(Y)},VL=function(Z){return Z<=31||Z>126},zz1=function(Z){return VL(Z)||Hz1.has(Z)},LL=function(Z){return VL(Z)||Fz1.has(Z)},Uz1=function(Z){return LL(Z)||Z===y1("'")},b_=function(Z){return LL(Z)||qz1.has(Z)},v_=function(Z){return b_(Z)||Vz1.has(Z)},Rz1=function(Z){return v_(Z)||Lz1.has(Z)},Mz1=function(Z){return Rz1(Z)||wz1.has(Z)},h_=function(Z,Y){const J=y_(Z);let X="";for(let $ of J)if(!Y($))X+=String.fromCharCode($);else X+=Qz1($);return X},Bz1=function(Z,Y){return h_(String.fromCodePoint(Z),Y)},Az1=function(Z,Y,J=!1){let X="";for(let $ of Z)if(J&&$===" ")X+="+";else X+=h_($,Y);return X},{isASCIIHex:f_}=qL(),{utf8Encode:y_}=CQ(),Hz1=new Set([y1(" "),y1("\""),y1("<"),y1(">"),y1("`")]),Fz1=new Set([y1(" "),y1("\""),y1("#"),y1("<"),y1(">")]),qz1=new Set([y1("?"),y1("`"),y1("{"),y1("}")]),Vz1=new Set([y1("/"),y1(":"),y1(";"),y1("="),y1("@"),y1("["),y1("\\"),y1("]"),y1("^"),y1("|")]),Lz1=new Set([y1("$"),y1("%"),y1("&"),y1("+"),y1(",")]),wz1=new Set([y1("!"),y1("'"),y1("("),y1(")"),y1("~")]);m_.exports={isC0ControlPercentEncode:VL,isFragmentPercentEncode:zz1,isQueryPercentEncode:LL,isSpecialQueryPercentEncode:Uz1,isPathPercentEncode:b_,isUserinfoPercentEncode:v_,isURLEncodedPercentEncode:Mz1,percentDecodeString:Kz1,percentDecodeBytes:g_,utf8PercentEncodeString:Az1,utf8PercentEncodeCodePoint:Bz1}});var NL=R((az1,y8)=>{var a=function(Z){return Z.codePointAt(0)},u_=function(Z){return[...Z].length},d_=function(Z,Y){const J=Z[Y];return isNaN(J)?void 0:String.fromCodePoint(J)},c_=function(Z){return Z==="."||Z.toLowerCase()==="%2e"},jz1=function(Z){return Z=Z.toLowerCase(),Z===".."||Z==="%2e."||Z===".%2e"||Z==="%2e%2e"},Oz1=function(Z,Y){return W8.isASCIIAlpha(Z)&&(Y===a(":")||Y===a("|"))},n_=function(Z){return Z.length===2&&W8.isASCIIAlpha(Z.codePointAt(0))&&(Z[1]===":"||Z[1]==="|")},Sz1=function(Z){return Z.length===2&&W8.isASCIIAlpha(Z.codePointAt(0))&&Z[1]===":"},kz1=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},_z1=function(Z){return Z.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1},jQ=function(Z){return i_[Z]!==void 0},$8=function(Z){return jQ(Z.scheme)},RL=function(Z){return!jQ(Z.scheme)},a_=function(Z){return i_[Z]},s_=function(Z){if(Z==="")return M1;let Y=10;if(Z.length>=2&&Z.charAt(0)==="0"&&Z.charAt(1).toLowerCase()==="x")Z=Z.substring(2),Y=16;else if(Z.length>=2&&Z.charAt(0)==="0")Z=Z.substring(1),Y=8;if(Z==="")return 0;let J=/[^0-7]/u;if(Y===10)J=/[^0-9]/u;if(Y===16)J=/[^0-9A-Fa-f]/u;if(J.test(Z))return M1;return parseInt(Z,Y)},xz1=function(Z){const Y=Z.split(".");if(Y[Y.length-1]===""){if(Y.length>1)Y.pop()}if(Y.length>4)return M1;const J=[];for(let W of Y){const G=s_(W);if(G===M1)return M1;J.push(G)}for(let W=0;W<J.length-1;++W)if(J[W]>255)return M1;if(J[J.length-1]>=256**(5-J.length))return M1;let X=J.pop(),$=0;for(let W of J)X+=W*256**(3-$),++$;return X},fz1=function(Z){let Y="",J=Z;for(let X=1;X<=4;++X){if(Y=String(J%256)+Y,X!==4)Y=`.${Y}`;J=Math.floor(J/256)}return Y},yz1=function(Z){const Y=[0,0,0,0,0,0,0,0];let J=0,X=null,$=0;if(Z=Array.from(Z,(W)=>W.codePointAt(0)),Z[$]===a(":")){if(Z[$+1]!==a(":"))return M1;$+=2,++J,X=J}while($<Z.length){if(J===8)return M1;if(Z[$]===a(":")){if(X!==null)return M1;++$,++J,X=J;continue}let W=0,G=0;while(G<4&&W8.isASCIIHex(Z[$]))W=W*16+parseInt(d_(Z,$),16),++$,++G;if(Z[$]===a(".")){if(G===0)return M1;if($-=G,J>6)return M1;let Q=0;while(Z[$]!==void 0){let K=null;if(Q>0)if(Z[$]===a(".")&&Q<4)++$;else return M1;if(!W8.isASCIIDigit(Z[$]))return M1;while(W8.isASCIIDigit(Z[$])){const H=parseInt(d_(Z,$));if(K===null)K=H;else if(K===0)return M1;else K=K*10+H;if(K>255)return M1;++$}if(Y[J]=Y[J]*256+K,++Q,Q===2||Q===4)++J}if(Q!==4)return M1;break}else if(Z[$]===a(":")){if(++$,Z[$]===void 0)return M1}else if(Z[$]!==void 0)return M1;Y[J]=W,++J}if(X!==null){let W=J-X;J=7;while(J!==0&&W>0){const G=Y[X+W-1];Y[X+W-1]=Y[J],Y[J]=G,--J,--W}}else if(X===null&&J!==8)return M1;return Y},gz1=function(Z){let Y="";const J=hz1(Z);let X=!1;for(let $=0;$<=7;++$){if(X&&Z[$]===0)continue;else if(X)X=!1;if(J===$){Y+=$===0?"::":":",X=!0;continue}if(Y+=Z[$].toString(16),$!==7)Y+=":"}return Y},wL=function(Z,Y=!1){if(Z[0]==="["){if(Z[Z.length-1]!=="]")return M1;return yz1(Z.substring(1,Z.length-1))}if(Y)return vz1(Z);const J=Iz1(Dz1(Z)),X=mz1(J);if(X===M1)return M1;if(kz1(X))return M1;if(bz1(X))return xz1(X);return X},bz1=function(Z){const Y=Z.split(".");if(Y[Y.length-1]===""){if(Y.length===1)return!1;Y.pop()}const J=Y[Y.length-1];if(s_(J)!==M1)return!0;if(/^[0-9]+$/u.test(J))return!0;return!1},vz1=function(Z){if(_z1(Z))return M1;return SQ(Z,l_)},hz1=function(Z){let Y=null,J=1,X=null,$=0;for(let W=0;W<Z.length;++W)if(Z[W]!==0){if($>J)Y=X,J=$;X=null,$=0}else{if(X===null)X=W;++$}if($>J)return X;return Y},BL=function(Z){if(typeof Z==="number")return fz1(Z);if(Z instanceof Array)return`[${gz1(Z)}]`;return Z},mz1=function(Z,Y=!1){const J=Nz1.toASCII(Z,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:Y,verifyDNSLength:Y});if(J===null||J==="")return M1;return J},uz1=function(Z){return Z.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")},dz1=function(Z){return Z.replace(/\u0009|\u000A|\u000D/ug,"")},r_=function(Z){const{path:Y}=Z;if(Y.length===0)return;if(Z.scheme==="file"&&Y.length===1&&pz1(Y[0]))return;Y.pop()},t_=function(Z){return Z.username!==""||Z.password!==""},cz1=function(Z){return Z.host===null||Z.host===""||ZJ(Z)||Z.scheme==="file"},ZJ=function(Z){return typeof Z.path==="string"},pz1=function(Z){return/^[A-Za-z]:$/u.test(Z)},I0=function(Z,Y,J,X,$){if(this.pointer=0,this.input=Z,this.base=Y||null,this.encodingOverride=J||"utf-8",this.stateOverride=$,this.url=X,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};const G=uz1(this.input);if(G!==this.input)this.parseError=!0;this.input=G}const W=dz1(this.input);if(W!==this.input)this.parseError=!0;this.input=W,this.state=$||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,(G)=>G.codePointAt(0));for(;this.pointer<=this.input.length;++this.pointer){const G=this.input[this.pointer],Q=isNaN(G)?void 0:String.fromCodePoint(G),K=this[`parse ${this.state}`](G,Q);if(!K)break;else if(K===M1){this.failure=!0;break}}},o_=function(Z,Y){const J=Z.length-Y;return J>=2&&Oz1(Z[Y],Z[Y+1])&&(J===2||lz1.has(Z[Y+2]))},iz1=function(Z,Y){let J=`${Z.scheme}:`;if(Z.host!==null){if(J+="//",Z.username!==""||Z.password!==""){if(J+=Z.username,Z.password!=="")J+=`:${Z.password}`;J+="@"}if(J+=BL(Z.host),Z.port!==null)J+=`:${Z.port}`}if(Z.host===null&&!ZJ(Z)&&Z.path.length>1&&Z.path[0]==="")J+="/.";if(J+=AL(Z),Z.query!==null)J+=`?${Z.query}`;if(!Y&&Z.fragment!==null)J+=`#${Z.fragment}`;return J},nz1=function(Z){let Y=`${Z.scheme}://`;if(Y+=BL(Z.host),Z.port!==null)Y+=`:${Z.port}`;return Y},AL=function(Z){if(ZJ(Z))return Z.path;let Y="";for(let J of Z.path)Y+=`/${J}`;return Y},Nz1=S_(),W8=qL(),{utf8DecodeWithoutBOM:Iz1}=CQ(),{percentDecodeString:Dz1,utf8PercentEncodeCodePoint:OQ,utf8PercentEncodeString:SQ,isC0ControlPercentEncode:l_,isFragmentPercentEncode:Pz1,isQueryPercentEncode:Tz1,isSpecialQueryPercentEncode:Cz1,isPathPercentEncode:Ez1,isUserinfoPercentEncode:ML}=EQ(),i_={ftp:21,file:null,http:80,https:443,ws:80,wss:443},M1=Symbol("failure");I0.prototype["parse scheme start"]=function Z(Y,J){if(W8.isASCIIAlpha(Y))this.buffer+=J.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,M1;return!0};I0.prototype["parse scheme"]=function Z(Y,J){if(W8.isASCIIAlphanumeric(Y)||Y===a("+")||Y===a("-")||Y===a("."))this.buffer+=J.toLowerCase();else if(Y===a(":")){if(this.stateOverride){if($8(this.url)&&!jQ(this.buffer))return!1;if(!$8(this.url)&&jQ(this.buffer))return!1;if((t_(this.url)||this.url.port!==null)&&this.buffer==="file")return!1;if(this.url.scheme==="file"&&this.url.host==="")return!1}if(this.url.scheme=this.buffer,this.stateOverride){if(this.url.port===a_(this.url.scheme))this.url.port=null;return!1}if(this.buffer="",this.url.scheme==="file"){if(this.input[this.pointer+1]!==a("/")||this.input[this.pointer+2]!==a("/"))this.parseError=!0;this.state="file"}else if($8(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme)this.state="special relative or authority";else if($8(this.url))this.state="special authority slashes";else if(this.input[this.pointer+1]===a("/"))this.state="path or authority",++this.pointer;else this.url.path="",this.state="opaque path"}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,M1;return!0};I0.prototype["parse no scheme"]=function Z(Y){if(this.base===null||ZJ(this.base)&&Y!==a("#"))return M1;else if(ZJ(this.base)&&Y===a("#"))this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment";else if(this.base.scheme==="file")this.state="file",--this.pointer;else this.state="relative",--this.pointer;return!0};I0.prototype["parse special relative or authority"]=function Z(Y){if(Y===a("/")&&this.input[this.pointer+1]===a("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="relative",--this.pointer;return!0};I0.prototype["parse path or authority"]=function Z(Y){if(Y===a("/"))this.state="authority";else this.state="path",--this.pointer;return!0};I0.prototype["parse relative"]=function Z(Y){if(this.url.scheme=this.base.scheme,Y===a("/"))this.state="relative slash";else if($8(this.url)&&Y===a("\\"))this.parseError=!0,this.state="relative slash";else if(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,Y===a("?"))this.url.query="",this.state="query";else if(Y===a("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(Y))this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer;return!0};I0.prototype["parse relative slash"]=function Z(Y){if($8(this.url)&&(Y===a("/")||Y===a("\\"))){if(Y===a("\\"))this.parseError=!0;this.state="special authority ignore slashes"}else if(Y===a("/"))this.state="authority";else this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer;return!0};I0.prototype["parse special authority slashes"]=function Z(Y){if(Y===a("/")&&this.input[this.pointer+1]===a("/"))this.state="special authority ignore slashes",++this.pointer;else this.parseError=!0,this.state="special authority ignore slashes",--this.pointer;return!0};I0.prototype["parse special authority ignore slashes"]=function Z(Y){if(Y!==a("/")&&Y!==a("\\"))this.state="authority",--this.pointer;else this.parseError=!0;return!0};I0.prototype["parse authority"]=function Z(Y,J){if(Y===a("@")){if(this.parseError=!0,this.atFlag)this.buffer=`%40${this.buffer}`;this.atFlag=!0;const X=u_(this.buffer);for(let $=0;$<X;++$){const W=this.buffer.codePointAt($);if(W===a(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const G=OQ(W,ML);if(this.passwordTokenSeenFlag)this.url.password+=G;else this.url.username+=G}this.buffer=""}else if(isNaN(Y)||Y===a("/")||Y===a("?")||Y===a("#")||$8(this.url)&&Y===a("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,M1;this.pointer-=u_(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=J;return!0};I0.prototype["parse hostname"]=I0.prototype["parse host"]=function Z(Y,J){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(Y===a(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,M1;if(this.stateOverride==="hostname")return!1;const X=wL(this.buffer,RL(this.url));if(X===M1)return M1;this.url.host=X,this.buffer="",this.state="port"}else if(isNaN(Y)||Y===a("/")||Y===a("?")||Y===a("#")||$8(this.url)&&Y===a("\\")){if(--this.pointer,$8(this.url)&&this.buffer==="")return this.parseError=!0,M1;else if(this.stateOverride&&this.buffer===""&&(t_(this.url)||this.url.port!==null))return this.parseError=!0,!1;const X=wL(this.buffer,RL(this.url));if(X===M1)return M1;if(this.url.host=X,this.buffer="",this.state="path start",this.stateOverride)return!1}else{if(Y===a("["))this.arrFlag=!0;else if(Y===a("]"))this.arrFlag=!1;this.buffer+=J}return!0};I0.prototype["parse port"]=function Z(Y,J){if(W8.isASCIIDigit(Y))this.buffer+=J;else if(isNaN(Y)||Y===a("/")||Y===a("?")||Y===a("#")||$8(this.url)&&Y===a("\\")||this.stateOverride){if(this.buffer!==""){const X=parseInt(this.buffer);if(X>65535)return this.parseError=!0,M1;this.url.port=X===a_(this.url.scheme)?null:X,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,M1;return!0};var lz1=new Set([a("/"),a("\\"),a("?"),a("#")]);I0.prototype["parse file"]=function Z(Y){if(this.url.scheme="file",this.url.host="",Y===a("/")||Y===a("\\")){if(Y===a("\\"))this.parseError=!0;this.state="file slash"}else if(this.base!==null&&this.base.scheme==="file"){if(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,Y===a("?"))this.url.query="",this.state="query";else if(Y===a("#"))this.url.fragment="",this.state="fragment";else if(!isNaN(Y)){if(this.url.query=null,!o_(this.input,this.pointer))r_(this.url);else this.parseError=!0,this.url.path=[];this.state="path",--this.pointer}}else this.state="path",--this.pointer;return!0};I0.prototype["parse file slash"]=function Z(Y){if(Y===a("/")||Y===a("\\")){if(Y===a("\\"))this.parseError=!0;this.state="file host"}else{if(this.base!==null&&this.base.scheme==="file"){if(!o_(this.input,this.pointer)&&Sz1(this.base.path[0]))this.url.path.push(this.base.path[0]);this.url.host=this.base.host}this.state="path",--this.pointer}return!0};I0.prototype["parse file host"]=function Z(Y,J){if(isNaN(Y)||Y===a("/")||Y===a("\\")||Y===a("?")||Y===a("#"))if(--this.pointer,!this.stateOverride&&n_(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let X=wL(this.buffer,RL(this.url));if(X===M1)return M1;if(X==="localhost")X="";if(this.url.host=X,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=J;return!0};I0.prototype["parse path start"]=function Z(Y){if($8(this.url)){if(Y===a("\\"))this.parseError=!0;if(this.state="path",Y!==a("/")&&Y!==a("\\"))--this.pointer}else if(!this.stateOverride&&Y===a("?"))this.url.query="",this.state="query";else if(!this.stateOverride&&Y===a("#"))this.url.fragment="",this.state="fragment";else if(Y!==void 0){if(this.state="path",Y!==a("/"))--this.pointer}else if(this.stateOverride&&this.url.host===null)this.url.path.push("");return!0};I0.prototype["parse path"]=function Z(Y){if(isNaN(Y)||Y===a("/")||$8(this.url)&&Y===a("\\")||!this.stateOverride&&(Y===a("?")||Y===a("#"))){if($8(this.url)&&Y===a("\\"))this.parseError=!0;if(jz1(this.buffer)){if(r_(this.url),Y!==a("/")&&!($8(this.url)&&Y===a("\\")))this.url.path.push("")}else if(c_(this.buffer)&&Y!==a("/")&&!($8(this.url)&&Y===a("\\")))this.url.path.push("");else if(!c_(this.buffer)){if(this.url.scheme==="file"&&this.url.path.length===0&&n_(this.buffer))this.buffer=`${this.buffer[0]}:`;this.url.path.push(this.buffer)}if(this.buffer="",Y===a("?"))this.url.query="",this.state="query";if(Y===a("#"))this.url.fragment="",this.state="fragment"}else{if(Y===a("%")&&(!W8.isASCIIHex(this.input[this.pointer+1])||!W8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=OQ(Y,Ez1)}return!0};I0.prototype["parse opaque path"]=function Z(Y){if(Y===a("?"))this.url.query="",this.state="query";else if(Y===a("#"))this.url.fragment="",this.state="fragment";else{if(!isNaN(Y)&&Y!==a("%"))this.parseError=!0;if(Y===a("%")&&(!W8.isASCIIHex(this.input[this.pointer+1])||!W8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;if(!isNaN(Y))this.url.path+=OQ(Y,l_)}return!0};I0.prototype["parse query"]=function Z(Y,J){if(!$8(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")this.encodingOverride="utf-8";if(!this.stateOverride&&Y===a("#")||isNaN(Y)){const X=$8(this.url)?Cz1:Tz1;if(this.url.query+=SQ(this.buffer,X),this.buffer="",Y===a("#"))this.url.fragment="",this.state="fragment"}else if(!isNaN(Y)){if(Y===a("%")&&(!W8.isASCIIHex(this.input[this.pointer+1])||!W8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.buffer+=J}return!0};I0.prototype["parse fragment"]=function Z(Y){if(!isNaN(Y)){if(Y===a("%")&&(!W8.isASCIIHex(this.input[this.pointer+1])||!W8.isASCIIHex(this.input[this.pointer+2])))this.parseError=!0;this.url.fragment+=OQ(Y,Pz1)}return!0};az1.serializeURL=iz1;az1.serializePath=AL;az1.serializeURLOrigin=function(Z){switch(Z.scheme){case"blob":try{return az1.serializeURLOrigin(az1.parseURL(AL(Z)))}catch(Y){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return nz1({scheme:Z.scheme,host:Z.host,port:Z.port});case"file":return"null";default:return"null"}};az1.basicURLParse=function(Z,Y){if(Y===void 0)Y={};const J=new I0(Z,Y.baseURL,Y.encodingOverride,Y.url,Y.stateOverride);if(J.failure)return null;return J.url};az1.setTheUsername=function(Z,Y){Z.username=SQ(Y,ML)};az1.setThePassword=function(Z,Y){Z.password=SQ(Y,ML)};az1.serializeHost=BL;az1.cannotHaveAUsernamePasswordPort=cz1;az1.hasAnOpaquePath=ZJ;az1.serializeInteger=function(Z){return String(Z)};az1.parseURL=function(Z,Y){if(Y===void 0)Y={};return az1.basicURLParse(Z,{baseURL:Y.baseURL,encodingOverride:Y.encodingOverride})}});var IL=R((Ha1,Gx)=>{var $x=function(Z){return Z.codePointAt(0)},WF1=function(Z){const Y=KF1(Z,$x("&")),J=[];for(let X of Y){if(X.length===0)continue;let $,W;const G=X.indexOf($x("="));if(G>=0)$=X.slice(0,G),W=X.slice(G+1);else $=X,W=new Uint8Array(0);$=Wx($,43,32),W=Wx(W,43,32);const Q=Zx(Yx($)),K=Zx(Yx(W));J.push([Q,K])}return J},GF1=function(Z){return WF1($F1(Z))},QF1=function(Z,Y=void 0){let J="utf-8";if(Y!==void 0)J=Y;let X="";for(let[$,W]of Z.entries()){const G=Jx(W[0],Xx,!0);let Q=W[1];if(W.length>2&&W[2]!==void 0){if(W[2]==="hidden"&&G==="_charset_")Q=J;else if(W[2]==="file")Q=Q.name}if(Q=Jx(Q,Xx,!0),$!==0)X+="&";X+=`${G}=${Q}`}return X},KF1=function(Z,Y){const J=[];let X=0,$=Z.indexOf(Y);while($>=0)J.push(Z.slice(X,$)),X=$+1,$=Z.indexOf(Y,X);if(X!==Z.length)J.push(Z.slice(X));return J},Wx=function(Z,Y,J){let X=Z.indexOf(Y);while(X>=0)Z[X]=J,X=Z.indexOf(Y,X+1);return Z},{utf8Encode:$F1,utf8DecodeWithoutBOM:Zx}=CQ(),{percentDecodeBytes:Yx,utf8PercentEncodeString:Jx,isURLEncodedPercentEncode:Xx}=EQ();Gx.exports={parseUrlencodedString:GF1,serializeUrlencoded:QF1}});var Kx=R((HF1)=>{var Qx=DQ(),kQ=TQ();HF1.convert=(Z,Y,{context:J="The provided value"}={})=>{if(typeof Y!=="function")throw new Z.TypeError(J+" is not a function");function X(...$){const W=kQ.tryWrapperForImpl(this);let G;for(let Q=0;Q<$.length;Q++)$[Q]=kQ.tryWrapperForImpl($[Q]);return G=Reflect.apply(Y,W,$),G=Qx.any(G,{context:J,globals:Z}),G}return X.construct=(...$)=>{for(let G=0;G<$.length;G++)$[G]=kQ.tryWrapperForImpl($[G]);let W=Reflect.construct(Y,$);return W=Qx.any(W,{context:J,globals:Z}),W},X[kQ.wrapperSymbol]=Y,X.objectReference=Y,X}});var Hx=R((FF1)=>{var DL=IL();FF1.implementation=class Z{constructor(Y,J,{doNotStripQMark:X=!1}){let $=J[0];if(this._list=[],this._url=null,!X&&typeof $==="string"&&$[0]==="?")$=$.slice(1);if(Array.isArray($))for(let W of $){if(W.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([W[0],W[1]])}else if(typeof $==="object"&&Object.getPrototypeOf($)===null)for(let W of Object.keys($)){const G=$[W];this._list.push([W,G])}else this._list=DL.parseUrlencodedString($)}_updateSteps(){if(this._url!==null){let Y=DL.serializeUrlencoded(this._list);if(Y==="")Y=null;this._url._url.query=Y}}append(Y,J){this._list.push([Y,J]),this._updateSteps()}delete(Y){let J=0;while(J<this._list.length)if(this._list[J][0]===Y)this._list.splice(J,1);else J++;this._updateSteps()}get(Y){for(let J of this._list)if(J[0]===Y)return J[1];return null}getAll(Y){const J=[];for(let X of this._list)if(X[0]===Y)J.push(X[1]);return J}has(Y){for(let J of this._list)if(J[0]===Y)return!0;return!1}set(Y,J){let X=!1,$=0;while($<this._list.length)if(this._list[$][0]===Y)if(X)this._list.splice($,1);else X=!0,this._list[$][1]=J,$++;else $++;if(!X)this._list.push([Y,J]);this._updateSteps()}sort(){this._list.sort((Y,J)=>{if(Y[0]<J[0])return-1;if(Y[0]>J[0])return 1;return 0}),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return DL.serializeUrlencoded(this._list)}}});var TL=R((LF1)=>{var Ux=function(Z,Y){let J;if(Y!==void 0)J=Y.prototype;if(!Z0.isObject(J))J=Z[Fx].URLSearchParams.prototype;return Object.create(J)},e6=DQ(),Z0=TQ(),qF1=Kx(),zx=Z0.newObjectInRealm,g0=Z0.implSymbol,Fx=Z0.ctorRegistrySymbol;LF1.is=(Z)=>{return Z0.isObject(Z)&&Z0.hasOwn(Z,g0)&&Z[g0]instanceof h5.implementation};LF1.isImpl=(Z)=>{return Z0.isObject(Z)&&Z instanceof h5.implementation};LF1.convert=(Z,Y,{context:J="The provided value"}={})=>{if(LF1.is(Y))return Z0.implForWrapper(Y);throw new Z.TypeError(`${J} is not of type 'URLSearchParams'.`)};LF1.createDefaultIterator=(Z,Y,J)=>{const $=Z[Fx]["URLSearchParams Iterator"],W=Object.create($);return Object.defineProperty(W,Z0.iterInternalSymbol,{value:{target:Y,kind:J,index:0},configurable:!0}),W};LF1.create=(Z,Y,J)=>{const X=Ux(Z);return LF1.setup(X,Z,Y,J)};LF1.createImpl=(Z,Y,J)=>{const X=LF1.create(Z,Y,J);return Z0.implForWrapper(X)};LF1._internalSetup=(Z,Y)=>{};LF1.setup=(Z,Y,J=[],X={})=>{if(X.wrapper=Z,LF1._internalSetup(Z,Y),Object.defineProperty(Z,g0,{value:new h5.implementation(Y,J,X),configurable:!0}),Z[g0][Z0.wrapperSymbol]=Z,h5.init)h5.init(Z[g0]);return Z};LF1.new=(Z,Y)=>{const J=Ux(Z,Y);if(LF1._internalSetup(J,Z),Object.defineProperty(J,g0,{value:Object.create(h5.implementation.prototype),configurable:!0}),J[g0][Z0.wrapperSymbol]=J,h5.init)h5.init(J[g0]);return J[g0]};var VF1=new Set(["Window","Worker"]);LF1.install=(Z,Y)=>{if(!Y.some(($)=>VF1.has($)))return;const J=Z0.initCtorRegistry(Z);class X{constructor(){const $=[];{let W=arguments[0];if(W!==void 0)if(Z0.isObject(W))if(W[Symbol.iterator]!==void 0)if(!Z0.isObject(W))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else{const G=[],Q=W;for(let K of Q){if(!Z0.isObject(K))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");else{const H=[],z=K;for(let F of z)F=e6.USVString(F,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:Z}),H.push(F);K=H}G.push(K)}W=G}else if(!Z0.isObject(W))throw new Z.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else{const G=Object.create(null);for(let Q of Reflect.ownKeys(W)){const K=Object.getOwnPropertyDescriptor(W,Q);if(K&&K.enumerable){let H=Q;H=e6.USVString(H,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:Z});let z=W[Q];z=e6.USVString(z,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:Z}),G[H]=z}}W=G}else W=e6.USVString(W,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:Z});else W="";$.push(W)}return LF1.setup(Object.create(new.target.prototype),Z,$)}append($,W){const G=this!==null&&this!==void 0?this:Z;if(!LF1.is(G))throw new Z.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const Q=[];{let K=arguments[0];K=e6.USVString(K,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:Z}),Q.push(K)}{let K=arguments[1];K=e6.USVString(K,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:Z}),Q.push(K)}return Z0.tryWrapperForImpl(G[g0].append(...Q))}delete($){const W=this!==null&&this!==void 0?this:Z;if(!LF1.is(W))throw new Z.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=e6.USVString(Q,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return Z0.tryWrapperForImpl(W[g0].delete(...G))}get($){const W=this!==null&&this!==void 0?this:Z;if(!LF1.is(W))throw new Z.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=e6.USVString(Q,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return W[g0].get(...G)}getAll($){const W=this!==null&&this!==void 0?this:Z;if(!LF1.is(W))throw new Z.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=e6.USVString(Q,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return Z0.tryWrapperForImpl(W[g0].getAll(...G))}has($){const W=this!==null&&this!==void 0?this:Z;if(!LF1.is(W))throw new Z.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const G=[];{let Q=arguments[0];Q=e6.USVString(Q,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:Z}),G.push(Q)}return W[g0].has(...G)}set($,W){const G=this!==null&&this!==void 0?this:Z;if(!LF1.is(G))throw new Z.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new Z.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const Q=[];{let K=arguments[0];K=e6.USVString(K,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:Z}),Q.push(K)}{let K=arguments[1];K=e6.USVString(K,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:Z}),Q.push(K)}return Z0.tryWrapperForImpl(G[g0].set(...Q))}sort(){const $=this!==null&&this!==void 0?this:Z;if(!LF1.is($))throw new Z.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return Z0.tryWrapperForImpl($[g0].sort())}toString(){const $=this!==null&&this!==void 0?this:Z;if(!LF1.is($))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return $[g0].toString()}keys(){if(!LF1.is(this))throw new Z.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return LF1.createDefaultIterator(Z,this,"key")}values(){if(!LF1.is(this))throw new Z.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return LF1.createDefaultIterator(Z,this,"value")}entries(){if(!LF1.is(this))throw new Z.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return LF1.createDefaultIterator(Z,this,"key+value")}forEach($){if(!LF1.is(this))throw new Z.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new Z.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");$=qF1.convert(Z,$,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});const W=arguments[1];let G=Array.from(this[g0]),Q=0;while(Q<G.length){const[K,H]=G[Q].map(Z0.tryWrapperForImpl);$.call(W,H,K,this),G=Array.from(this[g0]),Q++}}}Object.defineProperties(X.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:X.prototype.entries,configurable:!0,writable:!0}}),J["URLSearchParams"]=X,J["URLSearchParams Iterator"]=Object.create(J["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),Z0.define(J["URLSearchParams Iterator"],{next(){const $=this&&this[Z0.iterInternalSymbol];if(!$)throw new Z.TypeError("next() called on a value that is not a URLSearchParams iterator object");const{target:W,kind:G,index:Q}=$,K=Array.from(W[g0]),H=K.length;if(Q>=H)return zx(Z,{value:void 0,done:!0});const z=K[Q];return $.index=Q+1,zx(Z,Z0.iteratorResult(z.map(Z0.tryWrapperForImpl),G))}}),Object.defineProperty(Z,"URLSearchParams",{configurable:!0,writable:!0,value:X})};var h5=Hx()});var Rx=R((IF1)=>{var Q0=NL(),Lx=IL(),NF1=TL();IF1.implementation=class Z{constructor(Y,J){const X=J[0],$=J[1];let W=null;if($!==void 0){if(W=Q0.basicURLParse($),W===null)throw new TypeError(`Invalid base URL: ${$}`)}const G=Q0.basicURLParse(X,{baseURL:W});if(G===null)throw new TypeError(`Invalid URL: ${X}`);const Q=G.query!==null?G.query:"";this._url=G,this._query=NF1.createImpl(Y,[Q],{doNotStripQMark:!0}),this._query._url=this}get href(){return Q0.serializeURL(this._url)}set href(Y){const J=Q0.basicURLParse(Y);if(J===null)throw new TypeError(`Invalid URL: ${Y}`);this._url=J,this._query._list.splice(0);const{query:X}=J;if(X!==null)this._query._list=Lx.parseUrlencodedString(X)}get origin(){return Q0.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(Y){Q0.basicURLParse(`${Y}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(Y){if(Q0.cannotHaveAUsernamePasswordPort(this._url))return;Q0.setTheUsername(this._url,Y)}get password(){return this._url.password}set password(Y){if(Q0.cannotHaveAUsernamePasswordPort(this._url))return;Q0.setThePassword(this._url,Y)}get host(){const Y=this._url;if(Y.host===null)return"";if(Y.port===null)return Q0.serializeHost(Y.host);return`${Q0.serializeHost(Y.host)}:${Q0.serializeInteger(Y.port)}`}set host(Y){if(Q0.hasAnOpaquePath(this._url))return;Q0.basicURLParse(Y,{url:this._url,stateOverride:"host"})}get hostname(){if(this._url.host===null)return"";return Q0.serializeHost(this._url.host)}set hostname(Y){if(Q0.hasAnOpaquePath(this._url))return;Q0.basicURLParse(Y,{url:this._url,stateOverride:"hostname"})}get port(){if(this._url.port===null)return"";return Q0.serializeInteger(this._url.port)}set port(Y){if(Q0.cannotHaveAUsernamePasswordPort(this._url))return;if(Y==="")this._url.port=null;else Q0.basicURLParse(Y,{url:this._url,stateOverride:"port"})}get pathname(){return Q0.serializePath(this._url)}set pathname(Y){if(Q0.hasAnOpaquePath(this._url))return;this._url.path=[],Q0.basicURLParse(Y,{url:this._url,stateOverride:"path start"})}get search(){if(this._url.query===null||this._url.query==="")return"";return`?${this._url.query}`}set search(Y){const J=this._url;if(Y===""){J.query=null,this._query._list=[];return}const X=Y[0]==="?"?Y.substring(1):Y;J.query="",Q0.basicURLParse(X,{url:J,stateOverride:"query"}),this._query._list=Lx.parseUrlencodedString(X)}get searchParams(){return this._query}get hash(){if(this._url.fragment===null||this._url.fragment==="")return"";return`#${this._url.fragment}`}set hash(Y){if(Y===""){this._url.fragment=null;return}const J=Y[0]==="#"?Y.substring(1):Y;this._url.fragment="",Q0.basicURLParse(J,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var Ax=R((CF1)=>{var wx=function(Z,Y){let J;if(Y!==void 0)J=Y.prototype;if(!C6.isObject(J))J=Z[PF1].URL.prototype;return Object.create(J)},Z7=DQ(),C6=TQ(),v1=C6.implSymbol,PF1=C6.ctorRegistrySymbol;CF1.is=(Z)=>{return C6.isObject(Z)&&C6.hasOwn(Z,v1)&&Z[v1]instanceof m5.implementation};CF1.isImpl=(Z)=>{return C6.isObject(Z)&&Z instanceof m5.implementation};CF1.convert=(Z,Y,{context:J="The provided value"}={})=>{if(CF1.is(Y))return C6.implForWrapper(Y);throw new Z.TypeError(`${J} is not of type 'URL'.`)};CF1.create=(Z,Y,J)=>{const X=wx(Z);return CF1.setup(X,Z,Y,J)};CF1.createImpl=(Z,Y,J)=>{const X=CF1.create(Z,Y,J);return C6.implForWrapper(X)};CF1._internalSetup=(Z,Y)=>{};CF1.setup=(Z,Y,J=[],X={})=>{if(X.wrapper=Z,CF1._internalSetup(Z,Y),Object.defineProperty(Z,v1,{value:new m5.implementation(Y,J,X),configurable:!0}),Z[v1][C6.wrapperSymbol]=Z,m5.init)m5.init(Z[v1]);return Z};CF1.new=(Z,Y)=>{const J=wx(Z,Y);if(CF1._internalSetup(J,Z),Object.defineProperty(J,v1,{value:Object.create(m5.implementation.prototype),configurable:!0}),J[v1][C6.wrapperSymbol]=J,m5.init)m5.init(J[v1]);return J[v1]};var TF1=new Set(["Window","Worker"]);CF1.install=(Z,Y)=>{if(!Y.some(($)=>TF1.has($)))return;const J=C6.initCtorRegistry(Z);class X{constructor($){if(arguments.length<1)throw new Z.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);const W=[];{let G=arguments[0];G=Z7.USVString(G,{context:"Failed to construct 'URL': parameter 1",globals:Z}),W.push(G)}{let G=arguments[1];if(G!==void 0)G=Z7.USVString(G,{context:"Failed to construct 'URL': parameter 2",globals:Z});W.push(G)}return CF1.setup(Object.create(new.target.prototype),Z,W)}toJSON(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return $[v1].toJSON()}get href(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get href' called on an object that is not a valid instance of URL.");return $[v1].href}set href($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set href' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:Z}),W[v1].href=$}toString(){const $=this;if(!CF1.is($))throw new Z.TypeError("'toString' called on an object that is not a valid instance of URL.");return $[v1].href}get origin(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get origin' called on an object that is not a valid instance of URL.");return $[v1].origin}get protocol(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return $[v1].protocol}set protocol($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set protocol' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:Z}),W[v1].protocol=$}get username(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get username' called on an object that is not a valid instance of URL.");return $[v1].username}set username($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set username' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:Z}),W[v1].username=$}get password(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get password' called on an object that is not a valid instance of URL.");return $[v1].password}set password($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set password' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:Z}),W[v1].password=$}get host(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get host' called on an object that is not a valid instance of URL.");return $[v1].host}set host($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set host' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:Z}),W[v1].host=$}get hostname(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return $[v1].hostname}set hostname($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set hostname' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:Z}),W[v1].hostname=$}get port(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get port' called on an object that is not a valid instance of URL.");return $[v1].port}set port($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set port' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:Z}),W[v1].port=$}get pathname(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return $[v1].pathname}set pathname($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set pathname' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:Z}),W[v1].pathname=$}get search(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get search' called on an object that is not a valid instance of URL.");return $[v1].search}set search($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set search' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:Z}),W[v1].search=$}get searchParams(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return C6.getSameObject(this,"searchParams",()=>{return C6.tryWrapperForImpl($[v1].searchParams)})}get hash(){const $=this!==null&&this!==void 0?this:Z;if(!CF1.is($))throw new Z.TypeError("'get hash' called on an object that is not a valid instance of URL.");return $[v1].hash}set hash($){const W=this!==null&&this!==void 0?this:Z;if(!CF1.is(W))throw new Z.TypeError("'set hash' called on an object that is not a valid instance of URL.");$=Z7.USVString($,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:Z}),W[v1].hash=$}}if(Object.defineProperties(X.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),J["URL"]=X,Object.defineProperty(Z,"URL",{configurable:!0,writable:!0,value:X}),Y.includes("Window"))Object.defineProperty(Z,"webkitURL",{configurable:!0,writable:!0,value:X})};var m5=Rx()});var Nx=R((fF1)=>{var _F1=Ax(),xF1=TL();fF1.URL=_F1;fF1.URLSearchParams=xF1});var Dx=R((hF1)=>{var{URL:bF1,URLSearchParams:vF1}=Nx(),T7=NL(),Ix=EQ(),xQ={Array,Object,Promise,String,TypeError};bF1.install(xQ,["Window"]);vF1.install(xQ,["Window"]);hF1.URL=xQ.URL;hF1.URLSearchParams=xQ.URLSearchParams;hF1.parseURL=T7.parseURL;hF1.basicURLParse=T7.basicURLParse;hF1.serializeURL=T7.serializeURL;hF1.serializePath=T7.serializePath;hF1.serializeHost=T7.serializeHost;hF1.serializeInteger=T7.serializeInteger;hF1.serializeURLOrigin=T7.serializeURLOrigin;hF1.setTheUsername=T7.setTheUsername;hF1.setThePassword=T7.setThePassword;hF1.cannotHaveAUsernamePasswordPort=T7.cannotHaveAUsernamePasswordPort;hF1.hasAnOpaquePath=T7.hasAnOpaquePath;hF1.percentDecodeString=Ix.percentDecodeString;hF1.percentDecodeBytes=Ix.percentDecodeBytes});var Tx=R((Y7)=>{var $U1=function(Z,Y){var J,X;const $=Z.clone(),W=(J=Y===null||Y===void 0?void 0:Y.replacementString)!==null&&J!==void 0?J:"_credentials_",G=(X=Y===null||Y===void 0?void 0:Y.redactUsernames)!==null&&X!==void 0?X:!0;if(($.username||$.password)&&G)$.username=W,$.password="";else if($.password)$.password=W;if($.searchParams.has("authMechanismProperties")){const Q=new Px.CommaAndColonSeparatedRecord($.searchParams.get("authMechanismProperties"));if(Q.get("AWS_SESSION_TOKEN"))Q.set("AWS_SESSION_TOKEN",W),$.searchParams.set("authMechanismProperties",Q.toString())}if($.searchParams.has("tlsCertificateKeyFilePassword"))$.searchParams.set("tlsCertificateKeyFilePassword",W);if($.searchParams.has("proxyUsername")&&G)$.searchParams.set("proxyUsername",W);if($.searchParams.has("proxyPassword"))$.searchParams.set("proxyPassword",W);return $},WU1=function(Z,Y){var J,X;const $=(J=Y===null||Y===void 0?void 0:Y.replacementString)!==null&&J!==void 0?J:"<credentials>",W=(X=Y===null||Y===void 0?void 0:Y.redactUsernames)!==null&&X!==void 0?X:!0;let G;try{G=new Px.default(Z)}catch(H){}if(G)return Y={...Y,replacementString:"___credentials___"},G.redact(Y).toString().replace(/___credentials___/g,$);const Q=$,K=[(H)=>H.replace(W?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`\$1${Q}\$3`),(H)=>H.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`\$1${Q}`),(H)=>H.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`\$1${Q}`),(H)=>W?H.replace(/(proxyUsername=)([^&]+)/gi,`\$1${Q}`):H,(H)=>H.replace(/(proxyPassword=)([^&]+)/gi,`\$1${Q}`)];for(let H of K)Z=H(Z);return Z},YU1=Y7&&Y7.__createBinding||(Object.create?function(Z,Y,J,X){if(X===void 0)X=J;var $=Object.getOwnPropertyDescriptor(Y,J);if(!$||("get"in $?!Y.__esModule:$.writable||$.configurable))$={enumerable:!0,get:function(){return Y[J]}};Object.defineProperty(Z,X,$)}:function(Z,Y,J,X){if(X===void 0)X=J;Z[X]=Y[J]}),JU1=Y7&&Y7.__setModuleDefault||(Object.create?function(Z,Y){Object.defineProperty(Z,"default",{enumerable:!0,value:Y})}:function(Z,Y){Z.default=Y}),XU1=Y7&&Y7.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var Y={};if(Z!=null){for(var J in Z)if(J!=="default"&&Object.prototype.hasOwnProperty.call(Z,J))YU1(Y,Z,J)}return JU1(Y,Z),Y};Object.defineProperty(Y7,"__esModule",{value:!0});Y7.redactConnectionString=Y7.redactValidConnectionString=void 0;var Px=XU1(EL());Y7.redactValidConnectionString=$U1;Y7.redactConnectionString=WU1});var EL=R((OL)=>{var QU1=function(Z){return Z.startsWith("mongodb://")||Z.startsWith("mongodb+srv://")},HU1=function(Z){return class Y extends Z{append(J,X){return super.append(this._normalizeKey(J),X)}delete(J){return super.delete(this._normalizeKey(J))}get(J){return super.get(this._normalizeKey(J))}getAll(J){return super.getAll(this._normalizeKey(J))}has(J){return super.has(this._normalizeKey(J))}set(J,X){return super.set(this._normalizeKey(J),X)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(J){return jL.prototype._normalizeKey.call(this,J)}}};Object.defineProperty(OL,"__esModule",{value:!0});OL.CommaAndColonSeparatedRecord=OL.ConnectionString=OL.redactConnectionString=void 0;var GU1=Dx(),Cx=Tx();Object.defineProperty(OL,"redactConnectionString",{enumerable:!0,get:function(){return Cx.redactConnectionString}});var f3="__this_is_a_placeholder__",KU1=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;class jL extends Map{delete(Z){return super.delete(this._normalizeKey(Z))}get(Z){return super.get(this._normalizeKey(Z))}has(Z){return super.has(this._normalizeKey(Z))}set(Z,Y){return super.set(this._normalizeKey(Z),Y)}_normalizeKey(Z){Z=`${Z}`;for(let Y of this.keys())if(Y.toLowerCase()===Z.toLowerCase()){Z=Y;break}return Z}}class Ex extends GU1.URL{}class Q4 extends Error{get name(){return"MongoParseError"}}class y3 extends Ex{constructor(Z,Y={}){var J;const{looseValidation:X}=Y;if(!X&&!QU1(Z))throw new Q4('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');const $=Z.match(KU1);if(!$)throw new Q4(`Invalid connection string "${Z}"`);const{protocol:W,username:G,password:Q,hosts:K,rest:H}=(J=$.groups)!==null&&J!==void 0?J:{};if(!X){if(!W||!K)throw new Q4(`Protocol and host list are required in "${Z}"`);try{decodeURIComponent(G!==null&&G!==void 0?G:""),decodeURIComponent(Q!==null&&Q!==void 0?Q:"")}catch(U){throw new Q4(U.message)}const F=/[:/?#[\]@]/gi;if(G===null||G===void 0?void 0:G.match(F))throw new Q4(`Username contains unescaped characters ${G}`);if(!G||!Q){const U=Z.replace(`${W}://`,"");if(U.startsWith("@")||U.startsWith(":"))throw new Q4("URI contained empty userinfo section")}if(Q===null||Q===void 0?void 0:Q.match(F))throw new Q4("Password contains unescaped characters")}let z="";if(typeof G==="string")z+=G;if(typeof Q==="string")z+=`:${Q}`;if(z)z+="@";try{super(`${W.toLowerCase()}://${z}${f3}${H}`)}catch(F){if(X)new y3(Z,{...Y,looseValidation:!1});if(typeof F.message==="string")F.message=F.message.replace(f3,K);throw F}if(this._hosts=K.split(","),!X){if(this.isSRV&&this.hosts.length!==1)throw new Q4("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some((F)=>F.includes(":")))throw new Q4("mongodb+srv URI cannot have port number")}if(!this.pathname)this.pathname="/";Object.setPrototypeOf(this.searchParams,HU1(this.searchParams.constructor).prototype)}get host(){return f3}set host(Z){throw new Error("No single host for connection string")}get hostname(){return f3}set hostname(Z){throw new Error("No single host for connection string")}get port(){return""}set port(Z){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(Z){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(Z){this._hosts=Z}toString(){return super.toString().replace(f3,this.hosts.join(","))}clone(){return new y3(this.toString(),{looseValidation:!0})}redact(Z){return(0,Cx.redactValidConnectionString)(this,Z)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){const{href:Z,origin:Y,protocol:J,username:X,password:$,hosts:W,pathname:G,search:Q,searchParams:K,hash:H}=this;return{href:Z,origin:Y,protocol:J,username:X,password:$,hosts:W,pathname:G,search:Q,searchParams:K,hash:H}}}OL.ConnectionString=y3;class jx extends jL{constructor(Z){super();for(let Y of(Z!==null&&Z!==void 0?Z:"").split(",")){if(!Y)continue;const J=Y.indexOf(":");if(J===-1)this.set(Y,"");else this.set(Y.slice(0,J),Y.slice(J+1))}}toString(){return[...this].map((Z)=>Z.join(":")).join(",")}}OL.CommaAndColonSeparatedRecord=jx;OL.default=y3});var Sx=R((Aa1,UU1)=>{UU1.exports={name:"mongodb",version:"6.2.0",description:"The official MongoDB driver for Node.js",main:"lib/index.js",files:["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],types:"mongodb.d.ts",repository:{type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},keywords:["mongodb","driver","official"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},dependencies:{"@mongodb-js/saslprep":"^1.1.0",bson:"^6.2.0","mongodb-connection-string-url":"^2.6.0"},peerDependencies:{"@aws-sdk/credential-providers":"^3.188.0","@mongodb-js/zstd":"^1.1.0","gcp-metadata":"^5.2.0",kerberos:"^2.0.1","mongodb-client-encryption":">=6.0.0 <7",snappy:"^7.2.2",socks:"^2.7.1"},peerDependenciesMeta:{"@aws-sdk/credential-providers":{optional:!0},"@mongodb-js/zstd":{optional:!0},kerberos:{optional:!0},snappy:{optional:!0},"mongodb-client-encryption":{optional:!0},"gcp-metadata":{optional:!0},socks:{optional:!0}},devDependencies:{"@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.36.4","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.1.0","@octokit/core":"^4.2.4","@types/chai":"^4.3.5","@types/chai-subset":"^1.3.3","@types/express":"^4.17.17","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.1","@types/node":"^20.5.9","@types/saslprep":"^1.0.1","@types/semver":"^7.5.0","@types/sinon":"^10.0.16","@types/sinon-chai":"^3.2.9","@types/whatwg-url":"^11.0.0","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0",chai:"^4.3.7","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.48.0","eslint-config-prettier":"^8.10.0","eslint-plugin-import":"^2.28.1","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-tsdoc":"^0.2.17","eslint-plugin-unused-imports":"^2.0.0",express:"^4.18.2","gcp-metadata":"^5.2.0","js-yaml":"^4.1.0",mocha:"^10.2.0","mocha-sinon":"^2.1.2","mongodb-client-encryption":"^6.0.0","mongodb-legacy":"^6.0.0",nyc:"^15.1.0",prettier:"^2.8.8",semver:"^7.5.4",sinon:"^15.2.0","sinon-chai":"^3.7.0",snappy:"^7.2.2",socks:"^2.7.1","source-map-support":"^0.5.21","ts-node":"^10.9.1",tsd:"^0.28.1",typescript:"^5.0.4","typescript-cached-transpile":"^0.0.6","v8-heapsnapshot":"^1.3.1",yargs:"^17.7.2"},license:"Apache-2.0",engines:{node:">=16.20.1"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},homepage:"https://github.com/mongodb/node-mongodb-native",scripts:{"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && node etc/clean_definition_files.cjs && eslint mongodb.d.ts --fix","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","build:nightly":"node ./.github/scripts/nightly.mjs","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:search-indexes":"nyc mocha --config test/mocha_mongodb.json test/manual/search-index-management.prose.test.ts","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:drivers-atlas-testing":"mocha --config test/mocha_mongodb.json test/atlas/drivers_atlas_testing.test.ts","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"nyc mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:oidc":"mocha --config test/mocha_mongodb.json test/manual/mongodb_oidc.prose.test.ts","check:oidc-azure":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_oidc_azure.prose.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"nyc mocha --config test/manual/mocharc.json test/manual/kerberos.test.ts","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.ts","check:ldap":"nyc mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},tsd:{directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}}}});var gx=R((fx)=>{var qU1=function(Z){const Y=new SL(512),{appName:J=""}=Z;if(J.length>0){const z=Buffer.byteLength(J,"utf8")<=128?Z.appName:Buffer.from(J,"utf8").subarray(0,128).toString("utf8");Y.ifItFitsItSits("application",{name:z})}const{name:X="",version:$="",platform:W=""}=Z.driverInfo,G={name:X.length>0?`nodejs|${X}`:"nodejs",version:$.length>0?`${_x}|${$}`:_x};if(!Y.ifItFitsItSits("driver",G))throw new kx.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let Q=VU1();if(W.length>0)Q=`${Q}|${W}`;if(!Y.ifItFitsItSits("platform",Q))throw new kx.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");const K=(new Map()).set("name",fQ.platform).set("architecture",fQ.arch).set("version",g3.release()).set("type",g3.type());if(!Y.ifItFitsItSits("os",K))for(let z of K.keys()){if(K.delete(z),K.size===0)break;if(Y.ifItFitsItSits("os",K))break}const H=xx();if(H!=null){if(!Y.ifItFitsItSits("env",H))for(let z of H.keys()){if(H.delete(z),H.size===0)break;if(Y.ifItFitsItSits("env",H))break}}return Y.toObject()},xx=function(){const{AWS_EXECUTION_ENV:Z="",AWS_LAMBDA_RUNTIME_API:Y="",FUNCTIONS_WORKER_RUNTIME:J="",K_SERVICE:X="",FUNCTION_NAME:$="",VERCEL:W="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:G="",AWS_REGION:Q="",FUNCTION_MEMORY_MB:K="",FUNCTION_REGION:H="",FUNCTION_TIMEOUT_SEC:z="",VERCEL_REGION:F=""}=fQ.env,U=Z.startsWith("AWS_Lambda_")||Y.length>0,q=J.length>0,V=X.length>0||$.length>0,L=W.length>0,w=new Map;if(L&&!(q||V)){if(F.length>0)w.set("region",F);return w.set("name","vercel"),w}if(U&&!(q||V||L)){if(Q.length>0)w.set("region",Q);if(G.length>0&&Number.isInteger(+G))w.set("memory_mb",new YJ.Int32(G));return w.set("name","aws.lambda"),w}if(q&&!(V||U||L))return w.set("name","azure.func"),w;if(V&&!(q||U||L)){if(H.length>0)w.set("region",H);if(K.length>0&&Number.isInteger(+K))w.set("memory_mb",new YJ.Int32(K));if(z.length>0&&Number.isInteger(+z))w.set("timeout_sec",new YJ.Int32(z));return w.set("name","gcp.func"),w}return null},VU1=function(){if("Deno"in globalThis)return`Deno v${typeof Deno?.version?.deno==="string"?Deno?.version?.deno:"0.0.0-unknown"}, ${g3.endianness()}`;if("Bun"in globalThis)return`Bun v${typeof Bun?.version==="string"?Bun?.version:"0.0.0-unknown"}, ${g3.endianness()}`;return`Node.js ${fQ.version}, ${g3.endianness()}`};Object.defineProperty(fx,"__esModule",{value:!0});fx.getFAASEnv=fx.makeClientMetadata=fx.LimitedSizeDocument=void 0;var g3=import.meta.require("os"),fQ=import.meta.require("process"),YJ=G0(),kx=o(),_x=Sx().version;class SL{constructor(Z){this.maxSize=Z,this.document=new Map,this.documentSize=5}ifItFitsItSits(Z,Y){const J=YJ.BSON.serialize((new Map()).set(Z,Y)).byteLength-5;if(J+this.documentSize>this.maxSize)return!1;return this.documentSize+=J,this.document.set(Z,Y),!0}toObject(){return YJ.BSON.deserialize(YJ.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}}fx.LimitedSizeDocument=SL;fx.makeClientMetadata=qU1;fx.getFAASEnv=xx});var gQ=R((dx)=>{var mx=function(){if(W9==null){const Z=(0,vx.getSnappy)();if("kModuleError"in Z)throw Z.kModuleError;W9=Z}return W9};async function NU1(Z,Y){const J={};switch(Z.agreedCompressor){case"snappy":return W9??=mx(),W9.compress(Y);case"zstd":{if(ux(),("kModuleError"in d5))throw d5.kModuleError;return d5.compress(Y,MU1)}case"zlib":{if(Z.zlibCompressionLevel)J.level=Z.zlibCompressionLevel;return AU1(Y,J)}default:throw new hx.MongoInvalidArgumentError(`Unknown compressor ${Z.agreedCompressor} failed to compress`)}}async function IU1(Z,Y){if(Z!==dx.Compressor.snappy&&Z!==dx.Compressor.zstd&&Z!==dx.Compressor.zlib&&Z!==dx.Compressor.none)throw new hx.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${Z})`);switch(Z){case dx.Compressor.snappy:return W9??=mx(),W9.uncompress(Y,{asBuffer:!0});case dx.Compressor.zstd:{if(ux(),("kModuleError"in d5))throw d5.kModuleError;return d5.decompress(Y)}case dx.Compressor.zlib:return BU1(Y);default:return Y}}var ux=function(){if(!d5)d5=(0,vx.getZstdLibrary)()};Object.defineProperty(dx,"__esModule",{value:!0});dx.decompress=dx.compress=dx.uncompressibleCommands=dx.Compressor=void 0;var bx=import.meta.require("util"),yQ=import.meta.require("zlib"),wU1=s0(),vx=P7(),hx=o();dx.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3});dx.uncompressibleCommands=new Set([wU1.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);var MU1=3,BU1=(0,bx.promisify)(yQ.inflate.bind(yQ)),AU1=(0,bx.promisify)(yQ.deflate.bind(yQ)),d5,W9=null;dx.compress=NU1;dx.decompress=IU1});var _L=R((px)=>{var v3=function(Z,Y){return function(J,X,$,W){let G;try{const Q=b3[Z](Y,J,X);Q.setAutoPadding(!1),G=Q.update($);const K=Q.final();if(K.length>0)G=Buffer.concat([G,K])}catch(Q){return Q}return G.copy(W),G.length}},TU1=function(Z,Y){try{b3.randomFillSync(Z,0,Y)}catch(J){return J}return Y},CU1=function(Z,Y){let J;try{J=b3.createHash("sha256").update(Z).digest()}catch(X){return X}return J.copy(Y),J.length},kL=function(Z){return(Y,J,X)=>{let $;try{$=b3.createHmac(Z,Y).update(J).digest()}catch(W){return W}return $.copy(X),$.length}},EU1=function(Z,Y,J){let X;try{const $=b3.createSign("sha256WithRSAEncryption"),W=Buffer.from(`-----BEGIN PRIVATE KEY-----\n${Z.toString("base64")}\n-----END PRIVATE KEY-----\n`);X=$.update(Y).end().sign(W)}catch($){return $}return X.copy(J),X.length};Object.defineProperty(px,"__esModule",{value:!0});px.hmacSha256Hook=px.hmacSha512Hook=px.aes256CtrDecryptHook=px.aes256CtrEncryptHook=px.aes256CbcDecryptHook=px.aes256CbcEncryptHook=px.signRsaSha256Hook=px.makeHmacHook=px.sha256Hook=px.randomHook=px.makeAES256Hook=void 0;var b3=import.meta.require("crypto");px.makeAES256Hook=v3;px.randomHook=TU1;px.sha256Hook=CU1;px.makeHmacHook=kL;px.signRsaSha256Hook=EU1;px.aes256CbcEncryptHook=v3("createCipheriv","aes-256-cbc");px.aes256CbcDecryptHook=v3("createDecipheriv","aes-256-cbc");px.aes256CtrEncryptHook=v3("createCipheriv","aes-256-ctr");px.aes256CtrDecryptHook=v3("createDecipheriv","aes-256-ctr");px.hmacSha512Hook=kL("sha512");px.hmacSha256Hook=kL("sha256")});var Q9=R((tx)=>{Object.defineProperty(tx,"__esModule",{value:!0});tx.MongoCryptKMSRequestNetworkTimeoutError=tx.MongoCryptAzureKMSRequestError=tx.MongoCryptCreateEncryptedCollectionError=tx.MongoCryptCreateDataKeyError=tx.MongoCryptInvalidArgumentError=tx.MongoCryptError=void 0;var vU1=o();class G9 extends vU1.MongoError{constructor(Z,Y={}){super(Z,Y)}get name(){return"MongoCryptError"}}tx.MongoCryptError=G9;class ix extends G9{constructor(Z){super(Z)}get name(){return"MongoCryptInvalidArgumentError"}}tx.MongoCryptInvalidArgumentError=ix;class nx extends G9{constructor(Z,{cause:Y}){super(`Unable to complete creating data keys: ${Y.message}`,{cause:Y});this.encryptedFields=Z}get name(){return"MongoCryptCreateDataKeyError"}}tx.MongoCryptCreateDataKeyError=nx;class ax extends G9{constructor(Z,{cause:Y}){super(`Unable to create collection: ${Y.message}`,{cause:Y});this.encryptedFields=Z}get name(){return"MongoCryptCreateEncryptedCollectionError"}}tx.MongoCryptCreateEncryptedCollectionError=ax;class sx extends G9{constructor(Z,Y){super(Z);this.body=Y}get name(){return"MongoCryptAzureKMSRequestError"}}tx.MongoCryptAzureKMSRequestError=sx;class rx extends G9{get name(){return"MongoCryptKMSRequestNetworkTimeoutError"}}tx.MongoCryptKMSRequestNetworkTimeoutError=rx});var Yf=R((ex)=>{Object.defineProperty(ex,"__esModule",{value:!0});ex.MongocryptdManager=void 0;var pU1=o();class bQ{constructor(Z={}){if(this.uri=typeof Z.mongocryptdURI==="string"&&Z.mongocryptdURI.length>0?Z.mongocryptdURI:bQ.DEFAULT_MONGOCRYPTD_URI,this.bypassSpawn=!!Z.mongocryptdBypassSpawn,this.spawnPath=Z.mongocryptdSpawnPath||"",this.spawnArgs=[],Array.isArray(Z.mongocryptdSpawnArgs))this.spawnArgs=this.spawnArgs.concat(Z.mongocryptdSpawnArgs);if(this.spawnArgs.filter((Y)=>typeof Y==="string").every((Y)=>Y.indexOf("--idleShutdownTimeoutSecs")<0))this.spawnArgs.push("--idleShutdownTimeoutSecs","60")}async spawn(){const Z=this.spawnPath||"mongocryptd",{spawn:Y}=import.meta.require("child_process");this._child=Y(Z,this.spawnArgs,{stdio:"ignore",detached:!0}),this._child.on("error",()=>{}),this._child.unref()}async withRespawn(Z){try{return await Z()}catch(J){if(!(J instanceof pU1.MongoNetworkTimeoutError&&!this.bypassSpawn))throw J}return await this.spawn(),await Z()}}bQ.DEFAULT_MONGOCRYPTD_URI="mongodb://localhost:27020";ex.MongocryptdManager=bQ});var $f=R((Jf)=>{async function iU1(Z){const Y=(0,lU1.getAwsCredentialProvider)();if("kModuleError"in Y)return Z;const{fromNodeProviderChain:J}=Y,$=await J()();return{...Z,aws:$}}Object.defineProperty(Jf,"__esModule",{value:!0});Jf.loadAWSCredentials=void 0;var lU1=P7();Jf.loadAWSCredentials=iU1});var Qf=R((Wf)=>{var sU1=function(Z,Y={}){return new Promise((J,X)=>{let $;const W=nU1.get(Z,Y,(G)=>{G.setEncoding("utf8");let Q="";G.on("data",(K)=>Q+=K),G.on("end",()=>{(0,xL.clearTimeout)($),J({status:G.statusCode,body:Q})})}).on("error",(G)=>{(0,xL.clearTimeout)($),X(G)}).end();$=(0,xL.setTimeout)(()=>{W.destroy(new aU1.MongoCryptKMSRequestNetworkTimeoutError("request timed out after 10 seconds"))},1e4)})};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.get=void 0;var nU1=import.meta.require("http"),xL=import.meta.require("timers"),aU1=Q9();Wf.get=sU1});var qf=R((zf)=>{async function oU1(Z){const{status:Y,body:J}=Z,X=(()=>{try{return JSON.parse(J)}catch{throw new K9.MongoCryptAzureKMSRequestError("Malformed JSON body in GET request.")}})();if(Y!==200)throw new K9.MongoCryptAzureKMSRequestError("Unable to complete request.",X);if(!X.access_token)throw new K9.MongoCryptAzureKMSRequestError("Malformed response body - missing field `access_token`.");if(!X.expires_in)throw new K9.MongoCryptAzureKMSRequestError("Malformed response body - missing field `expires_in`.");const $=Number(X.expires_in)*1000;if(Number.isNaN($))throw new K9.MongoCryptAzureKMSRequestError("Malformed response body - unable to parse int from `expires_in` field.");return{accessToken:X.access_token,expiresOnTimestamp:Date.now()+$}}var Kf=function(Z){const Y=new URL(Z.url?.toString()??"http://169.254.169.254/metadata/identity/oauth2/token");return Y.searchParams.append("api-version","2018-02-01"),Y.searchParams.append("resource","https://vault.azure.net"),{headers:{...Z.headers,"Content-Type":"application/json",Metadata:!0},url:Y}};async function Hf(Z={}){const{headers:Y,url:J}=Kf(Z),X=await(0,rU1.get)(J,{headers:Y}).catch(($)=>{if($ instanceof K9.MongoCryptKMSRequestNetworkTimeoutError)throw new K9.MongoCryptAzureKMSRequestError(`[Azure KMS] ${$.message}`);throw $});return oU1(X)}async function eU1(Z){const Y=await zf.tokenCache.getToken();return{...Z,azure:Y}}Object.defineProperty(zf,"__esModule",{value:!0});zf.loadAzureCredentials=zf.fetchAzureKMSToken=zf.prepareRequest=zf.tokenCache=zf.AzureCredentialCache=void 0;var K9=Q9(),rU1=Qf(),tU1=6000;class fL{constructor(){this.cachedToken=null}async getToken(){if(this.cachedToken==null||this.needsRefresh(this.cachedToken))this.cachedToken=await this._getToken();return{accessToken:this.cachedToken.accessToken}}needsRefresh(Z){return Z.expiresOnTimestamp-Date.now()<=tU1}resetCache(){this.cachedToken=null}_getToken(){return Hf()}}zf.AzureCredentialCache=fL;zf.tokenCache=new fL;zf.prepareRequest=Kf;zf.fetchAzureKMSToken=Hf;zf.loadAzureCredentials=eU1});var Rf=R((Vf)=>{async function $q1(Z){const Y=(0,Xq1.getGcpMetadata)();if("kModuleError"in Y)return Z;const{access_token:J}=await Y.instance({property:"service-accounts/default/token"});return{...Z,gcp:{accessToken:J}}}Object.defineProperty(Vf,"__esModule",{value:!0});Vf.loadGCPCredentials=void 0;var Xq1=P7();Vf.loadGCPCredentials=$q1});var yL=R((wf)=>{var vQ=function(Z,Y){const J=Y[Z];if(J==null)return!1;return typeof J==="object"&&Object.keys(J).length===0};async function Kq1(Z){let Y=Z;if(vQ("aws",Z))Y=await(0,Wq1.loadAWSCredentials)(Y);if(vQ("gcp",Z))Y=await(0,Qq1.loadGCPCredentials)(Y);if(vQ("azure",Z))Y=await(0,Gq1.loadAzureCredentials)(Y);return Y}Object.defineProperty(wf,"__esModule",{value:!0});wf.refreshKMSCredentials=wf.isEmptyCredentials=void 0;var Wq1=$f(),Gq1=qf(),Qq1=Rf();wf.isEmptyCredentials=vQ;wf.refreshKMSCredentials=Kq1});var gL=R((Of)=>{var qq1=function(){if(h3==null){const Z=(0,Uq1.getSocks)();if("kModuleError"in Z)throw Z.kModuleError;h3=Z}return h3},Af=function(Z){if(process.env.MONGODB_CRYPT_DEBUG)console.error(Z)};Object.defineProperty(Of,"__esModule",{value:!0});Of.StateMachine=void 0;var Bf=import.meta.require("fs/promises"),zq1=import.meta.require("net"),Fq1=import.meta.require("tls"),m4=G0(),Uq1=P7(),hQ=Q1(),c5=Q9(),h3=null,mQ=0,Nf=1,If=2,Df=3,Pf=7,Tf=4,Cf=5,Ef=6,Vq1=443,Lq1=new Map([[mQ,"MONGOCRYPT_CTX_ERROR"],[Nf,"MONGOCRYPT_CTX_NEED_MONGO_COLLINFO"],[If,"MONGOCRYPT_CTX_NEED_MONGO_MARKINGS"],[Df,"MONGOCRYPT_CTX_NEED_MONGO_KEYS"],[Pf,"MONGOCRYPT_CTX_NEED_KMS_CREDENTIALS"],[Tf,"MONGOCRYPT_CTX_NEED_KMS"],[Cf,"MONGOCRYPT_CTX_READY"],[Ef,"MONGOCRYPT_CTX_DONE"]]),Rq1=["tlsInsecure","tlsAllowInvalidCertificates","tlsAllowInvalidHostnames","tlsDisableOCSPEndpointCheck","tlsDisableCertificateRevocationCheck"];class jf{constructor(Z,Y=(0,m4.pluckBSONSerializeOptions)(Z)){this.options=Z,this.bsonOptions=Y}async execute(Z,Y){const{_keyVaultNamespace:J,_keyVaultClient:X,_metaDataClient:$,_mongocryptdClient:W,_mongocryptdManager:G}=Z;let Q=null;while(Y.state!==Ef&&Y.state!==mQ)switch(Af(`[context#${Y.id}] ${Lq1.get(Y.state)||Y.state}`),Y.state){case Nf:{const K=(0,m4.deserialize)(Y.nextMongoOperation());if(!$)throw new c5.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_COLLINFO but metadata client is undefined");const H=await this.fetchCollectionInfo($,Y.ns,K);if(H)Y.addMongoOperationResponse(H);Y.finishMongoOperation();break}case If:{const K=Y.nextMongoOperation();if(!W)throw new c5.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_MARKINGS but mongocryptdClient is undefined");const H=G?await G.withRespawn(this.markCommand.bind(this,W,Y.ns,K)):await this.markCommand(W,Y.ns,K);Y.addMongoOperationResponse(H),Y.finishMongoOperation();break}case Df:{const K=Y.nextMongoOperation(),H=await this.fetchKeys(X,J,K);if(H.length===0)Q={v:[]};for await(let z of H)Y.addMongoOperationResponse((0,m4.serialize)(z));Y.finishMongoOperation();break}case Pf:{const K=await Z.askForKMSCredentials();Y.provideKMSProviders((0,m4.serialize)(K));break}case Tf:{const K=Array.from(this.requests(Y));await Promise.all(K),Y.finishKMSRequests();break}case Cf:{const K=Y.finalize();if(Y.state===mQ){const H=Y.status.message||"Finalization error";throw new c5.MongoCryptError(H)}Q=(0,m4.deserialize)(K,this.options);break}default:throw new c5.MongoCryptError(`Unknown state: ${Y.state}`)}if(Y.state===mQ||Q==null){const K=Y.status.message;if(!K)Af("unidentifiable error in MongoCrypt - received an error status from \`libmongocrypt\` but received no error message.");throw new c5.MongoCryptError(K??"unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message.")}return Q}kmsRequest(Z){const Y=Z.endpoint.split(":"),J=Y[1]!=null?Number.parseInt(Y[1],10):Vq1,X={host:Y[0],servername:Y[0],port:J},$=Z.message;return new Promise(async(W,G)=>{const Q=new hQ.BufferPool;let K,H;function z(){for(let V of[K,H])if(V)V.removeAllListeners(),V.destroy()}function F(){z(),G(new c5.MongoCryptError("KMS request timed out"))}function U(V){z();const L=new c5.MongoCryptError("KMS request failed",{cause:V});G(L)}if(this.options.proxyOptions&&this.options.proxyOptions.proxyHost){H=zq1.connect({host:this.options.proxyOptions.proxyHost,port:this.options.proxyOptions.proxyPort||1080}),H.on("timeout",F),H.on("error",U);try{await import.meta.require("events").once(H,"connect"),h3??=qq1(),X.socket=(await h3.SocksClient.createConnection({existing_socket:H,command:"connect",destination:{host:X.host,port:X.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:this.options.proxyOptions.proxyUsername,password:this.options.proxyOptions.proxyPassword}})).socket}catch(V){return U(V)}}const q=this.options.tlsOptions;if(q){const V=Z.kmsProvider,L=q[V];if(L){const w=this.validateTlsOptions(V,L);if(w)G(w);try{await this.setTlsOptions(L,X)}catch(B){return U(B)}}}K=Fq1.connect(X,()=>{K.write($)}),K.once("timeout",F),K.once("error",U),K.on("data",(V)=>{Q.append(V);while(Z.bytesNeeded>0&&Q.length){const L=Math.min(Z.bytesNeeded,Q.length);Z.addResponse(Q.read(L))}if(Z.bytesNeeded<=0)z(),W()})})}*requests(Z){for(let Y=Z.nextKMSRequest();Y!=null;Y=Z.nextKMSRequest())yield this.kmsRequest(Y)}validateTlsOptions(Z,Y){const J=Object.keys(Y);for(let X of Rq1)if(J.includes(X))return new c5.MongoCryptError(`Insecure TLS options prohibited for ${Z}: ${X}`)}async setTlsOptions(Z,Y){if(Z.tlsCertificateKeyFile){const J=await Bf.readFile(Z.tlsCertificateKeyFile);Y.cert=Y.key=J}if(Z.tlsCAFile)Y.ca=await Bf.readFile(Z.tlsCAFile);if(Z.tlsCertificateKeyFilePassword)Y.passphrase=Z.tlsCertificateKeyFilePassword}async fetchCollectionInfo(Z,Y,J){const{db:X}=hQ.MongoDBCollectionNamespace.fromString(Y),$=await Z.db(X).listCollections(J,{promoteLongs:!1,promoteValues:!1}).toArray();return $.length>0?(0,m4.serialize)($[0]):null}async markCommand(Z,Y,J){const X={promoteLongs:!1,promoteValues:!1},{db:$}=hQ.MongoDBCollectionNamespace.fromString(Y),W=(0,m4.deserialize)(J,X),G=await Z.db($).command(W,X);return(0,m4.serialize)(G,this.bsonOptions)}fetchKeys(Z,Y,J){const{db:X,collection:$}=hQ.MongoDBCollectionNamespace.fromString(Y);return Z.db(X).collection($,{readConcern:{level:"majority"}}).find((0,m4.deserialize)(J)).toArray()}}Of.StateMachine=jf});var vL=R((yf)=>{var ff=function(Z,Y,J=!0){if(J){if(Buffer.isBuffer(Y))Y=(0,JJ.deserialize)(Y);if(Buffer.isBuffer(Z))throw new uQ.MongoRuntimeError("Expected result of decryption to be deserialized BSON object")}if(!Z||typeof Z!=="object")return;for(let X of Object.keys(Z)){const $=Y[X];if($&&$._bsontype==="Binary"&&$.sub_type===6){if(!Z[bL])Object.defineProperty(Z,bL,{value:[],configurable:!0,enumerable:!1,writable:!1});Z[bL].push(X);continue}ff(Z[X],$,!1)}},_f;Object.defineProperty(yf,"__esModule",{value:!0});yf.AutoEncrypter=yf.AutoEncryptionLoggerLevel=void 0;var JJ=G0(),wq1=P7(),uQ=o(),Mq1=H9(),Bq1=Q1(),Aq1=_L(),Nq1=Q9(),Iq1=Yf(),Dq1=yL(),kf=gL();yf.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4});var xf=Symbol.for("@@mdb.decorateDecryptionResult"),bL=Symbol.for("@@mdb.decryptedKeys");class dQ{static getMongoCrypt(){const Z=(0,wq1.getMongoDBClientEncryption)();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,Y){this[_f]=!1,this._client=Z,this._bypassEncryption=Y.bypassAutoEncryption===!0,this._keyVaultNamespace=Y.keyVaultNamespace||"admin.datakeys",this._keyVaultClient=Y.keyVaultClient||Z,this._metaDataClient=Y.metadataClient||Z,this._proxyOptions=Y.proxyOptions||{},this._tlsOptions=Y.tlsOptions||{},this._kmsProviders=Y.kmsProviders||{};const J={cryptoCallbacks:Aq1};if(Y.schemaMap)J.schemaMap=Buffer.isBuffer(Y.schemaMap)?Y.schemaMap:(0,JJ.serialize)(Y.schemaMap);if(Y.encryptedFieldsMap)J.encryptedFieldsMap=Buffer.isBuffer(Y.encryptedFieldsMap)?Y.encryptedFieldsMap:(0,JJ.serialize)(Y.encryptedFieldsMap);if(J.kmsProviders=!Buffer.isBuffer(this._kmsProviders)?(0,JJ.serialize)(this._kmsProviders):this._kmsProviders,Y.options?.logger)J.logger=Y.options.logger;if(Y.extraOptions&&Y.extraOptions.cryptSharedLibPath)J.cryptSharedLibPath=Y.extraOptions.cryptSharedLibPath;if(Y.bypassQueryAnalysis)J.bypassQueryAnalysis=Y.bypassQueryAnalysis;if(this._bypassMongocryptdAndCryptShared=this._bypassEncryption||!!Y.bypassQueryAnalysis,Y.extraOptions&&Y.extraOptions.cryptSharedLibSearchPaths)J.cryptSharedLibSearchPaths=Y.extraOptions.cryptSharedLibSearchPaths;else if(!this._bypassMongocryptdAndCryptShared)J.cryptSharedLibSearchPaths=["$SYSTEM"];const X=dQ.getMongoCrypt();if(this._mongocrypt=new X(J),this._contextCounter=0,Y.extraOptions&&Y.extraOptions.cryptSharedLibRequired&&!this.cryptSharedLibVersionInfo)throw new Nq1.MongoCryptInvalidArgumentError("`cryptSharedLibRequired` set but no crypt_shared library loaded");if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){this._mongocryptdManager=new Iq1.MongocryptdManager(Y.extraOptions);const $={serverSelectionTimeoutMS:1e4};if(Y.extraOptions==null||typeof Y.extraOptions.mongocryptdURI!=="string")$.family=4;this._mongocryptdClient=new Mq1.MongoClient(this._mongocryptdManager.uri,$)}}async init(){if(this._bypassMongocryptdAndCryptShared||this.cryptSharedLibVersionInfo)return;if(!this._mongocryptdManager)throw new uQ.MongoRuntimeError("Reached impossible state: mongocryptdManager is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdClient)throw new uQ.MongoRuntimeError("Reached impossible state: mongocryptdClient is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdManager.bypassSpawn)await this._mongocryptdManager.spawn();try{return await this._mongocryptdClient.connect()}catch(Z){const{message:Y}=Z;if(Y&&(Y.match(/timed out after/)||Y.match(/ENOTFOUND/)))throw new uQ.MongoRuntimeError("Unable to connect to `mongocryptd`, please make sure it is running or in your PATH for auto-spawn",{cause:Z});throw Z}}async teardown(Z){await this._mongocryptdClient?.close(Z)}async encrypt(Z,Y,J={}){if(this._bypassEncryption)return Y;const X=Buffer.isBuffer(Y)?Y:(0,JJ.serialize)(Y,J),$=this._mongocrypt.makeEncryptionContext(Bq1.MongoDBCollectionNamespace.fromString(Z).db,X);return $.id=this._contextCounter++,$.ns=Z,$.document=Y,new kf.StateMachine({promoteValues:!1,promoteLongs:!1,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,$)}async decrypt(Z,Y={}){const J=Buffer.isBuffer(Z)?Z:(0,JJ.serialize)(Z,Y),X=this._mongocrypt.makeDecryptionContext(J);X.id=this._contextCounter++;const $=new kf.StateMachine({...Y,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),W=this[xf],G=await $.execute(this,X);if(W)ff(G,Z);return G}async askForKMSCredentials(){return(0,Dq1.refreshKMSCredentials)(this._kmsProviders)}get cryptSharedLibVersionInfo(){return this._mongocrypt.cryptSharedLibVersionInfo}static get libmongocryptVersion(){return dQ.getMongoCrypt().libmongocryptVersion}}yf.AutoEncrypter=dQ;_f=xf});var uf=R((hf)=>{Object.defineProperty(hf,"__esModule",{value:!0});hf.Encrypter=void 0;var Tq1=import.meta.require("util"),Cq1=vL(),Eq1=s0(),jq1=P7(),bf=o(),Oq1=H9(),m3=Symbol("internalClient");class vf{constructor(Z,Y,J){if(typeof J.autoEncryption!=="object")throw new bf.MongoInvalidArgumentError('Option "autoEncryption" must be specified');if(this[m3]=null,this.bypassAutoEncryption=!!J.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,J.maxPoolSize===0&&J.autoEncryption.keyVaultClient==null)J.autoEncryption.keyVaultClient=Z;else if(J.autoEncryption.keyVaultClient==null)J.autoEncryption.keyVaultClient=this.getInternalClient(Z,Y,J);if(this.bypassAutoEncryption)J.autoEncryption.metadataClient=void 0;else if(J.maxPoolSize===0)J.autoEncryption.metadataClient=Z;else J.autoEncryption.metadataClient=this.getInternalClient(Z,Y,J);if(J.proxyHost)J.autoEncryption.proxyOptions={proxyHost:J.proxyHost,proxyPort:J.proxyPort,proxyUsername:J.proxyUsername,proxyPassword:J.proxyPassword};this.autoEncrypter=new Cq1.AutoEncrypter(Z,J.autoEncryption)}getInternalClient(Z,Y,J){let X=this[m3];if(X==null){const $={};for(let W of[...Object.getOwnPropertyNames(J),...Object.getOwnPropertySymbols(J)]){if(["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(W))continue;Reflect.set($,W,Reflect.get(J,W))}$.minPoolSize=0,X=new Oq1.MongoClient(Y,$),this[m3]=X;for(let W of Eq1.MONGO_CLIENT_EVENTS)for(let G of Z.listeners(W))X.on(W,G);Z.on("newListener",(W,G)=>{X?.on(W,G)}),this.needsConnecting=!0}return X}async connectInternalClient(){const Z=this[m3];if(this.needsConnecting&&Z!=null)this.needsConnecting=!1,await Z.connect()}closeCallback(Z,Y,J){(0,Tq1.callbackify)(this.close.bind(this))(Z,Y,J)}async close(Z,Y){const J=await this.autoEncrypter.teardown(!!Y).catch(($)=>$),X=this[m3];if(X!=null&&Z!==X)return X.close(Y);if(J)throw J}static checkForMongoCrypt(){if("kModuleError"in(0,jq1.getMongoDBClientEncryption)())throw new bf.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project")}}hf.Encrypter=vf});var cL=R((pf)=>{var u3=function(Z){const Y=Object.values(pf.SeverityLevel),J=Z?.toLowerCase();if(J!=null&&Y.includes(J))return J;return null},XJ=function(Z){return{write:(Y)=>{Z.write((0,kq1.inspect)(Y,{compact:!0,breakLength:Infinity}),"utf-8");return}}},_q1=function({MONGODB_LOG_PATH:Z},{mongodbLogPath:Y}){if(typeof Y==="string"&&/^stderr$/i.test(Y))return XJ(process.stderr);if(typeof Y==="string"&&/^stdout$/i.test(Y))return XJ(process.stdout);if(typeof Y==="object"&&typeof Y?.write==="function")return Y;if(Z&&/^stderr$/i.test(Z))return XJ(process.stderr);if(Z&&/^stdout$/i.test(Z))return XJ(process.stdout);return XJ(process.stderr)},xq1=function(Z,Y){const J=pf.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(Z),X=pf.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(Y);return J<X?-1:J>X?1:0},mL=function(Z,Y){const J=Sq1.EJSON.stringify(Z);return Y!==0&&J.length>Y?`${J.slice(0,Y)}...`:J},fq1=function(Z){const Y=Z;return Y.toLog!==void 0&&typeof Y.toLog==="function"},hL=function(Z,Y){Z.commandName=Y.commandName,Z.requestId=Y.requestId,Z.driverConnectionId=Y?.connectionId;const{host:J,port:X}=dL.HostAddress.fromString(Y.address).toHostPort();if(Z.serverHost=J,Z.serverPort=X,Y?.serviceId)Z.serviceId=Y.serviceId.toHexString();return Z},C7=function(Z,Y){const{host:J,port:X}=dL.HostAddress.fromString(Y.address).toHostPort();return Z.serverHost=J,Z.serverPort=X,Z},yq1=function(Z,Y=pf.DEFAULT_MAX_DOCUMENT_LENGTH){let J=Object.create(null);switch(Z.name){case J6.COMMAND_STARTED:return J=hL(J,Z),J.message="Command started",J.command=mL(Z.command,Y),J.databaseName=Z.databaseName,J;case J6.COMMAND_SUCCEEDED:return J=hL(J,Z),J.message="Command succeeded",J.durationMS=Z.duration,J.reply=mL(Z.reply,Y),J;case J6.COMMAND_FAILED:return J=hL(J,Z),J.message="Command failed",J.durationMS=Z.duration,J.failure=Z.failure,J;case J6.CONNECTION_POOL_CREATED:if(J=C7(J,Z),J.message="Connection pool created",Z.options){const{maxIdleTimeMS:X,minPoolSize:$,maxPoolSize:W,maxConnecting:G,waitQueueTimeoutMS:Q}=Z.options;J={...J,maxIdleTimeMS:X,minPoolSize:$,maxPoolSize:W,maxConnecting:G,waitQueueTimeoutMS:Q}}return J;case J6.CONNECTION_POOL_READY:return J=C7(J,Z),J.message="Connection pool ready",J;case J6.CONNECTION_POOL_CLEARED:if(J=C7(J,Z),J.message="Connection pool cleared",Z.serviceId?._bsontype==="ObjectId")J.serviceId=Z.serviceId.toHexString();return J;case J6.CONNECTION_POOL_CLOSED:return J=C7(J,Z),J.message="Connection pool closed",J;case J6.CONNECTION_CREATED:return J=C7(J,Z),J.message="Connection created",J.driverConnectionId=Z.connectionId,J;case J6.CONNECTION_READY:return J=C7(J,Z),J.message="Connection ready",J.driverConnectionId=Z.connectionId,J;case J6.CONNECTION_CLOSED:switch(J=C7(J,Z),J.message="Connection closed",J.driverConnectionId=Z.connectionId,Z.reason){case"stale":J.reason="Connection became stale because the pool was cleared";break;case"idle":J.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":if(J.reason="An error occurred while using the connection",Z.error)J.error=Z.error;break;case"poolClosed":J.reason="Connection pool was closed";break;default:J.reason=`Unknown close reason: ${Z.reason}`}return J;case J6.CONNECTION_CHECK_OUT_STARTED:return J=C7(J,Z),J.message="Connection checkout started",J;case J6.CONNECTION_CHECK_OUT_FAILED:switch(J=C7(J,Z),J.message="Connection checkout failed",Z.reason){case"poolClosed":J.reason="Connection pool was closed";break;case"timeout":J.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":if(J.reason="An error occurred while trying to establish a new connection",Z.error)J.error=Z.error;break;default:J.reason=`Unknown close reason: ${Z.reason}`}return J;case J6.CONNECTION_CHECKED_OUT:return J=C7(J,Z),J.message="Connection checked out",J.driverConnectionId=Z.connectionId,J;case J6.CONNECTION_CHECKED_IN:return J=C7(J,Z),J.message="Connection checked in",J.driverConnectionId=Z.connectionId,J;default:for(let[X,$]of Object.entries(Z))if($!=null)J[X]=$}return J};Object.defineProperty(pf,"__esModule",{value:!0});pf.MongoLogger=pf.stringifyWithMaxLen=pf.createStdioLogger=pf.MongoLoggableComponent=pf.SEVERITY_LEVEL_MAP=pf.DEFAULT_MAX_DOCUMENT_LENGTH=pf.SeverityLevel=void 0;var Sq1=p6(),kq1=import.meta.require("util"),J6=s0(),dL=Q1();pf.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"});pf.DEFAULT_MAX_DOCUMENT_LENGTH=1000;class df extends Map{constructor(Z){const Y=[];for(let[J,X]of Z)Y.push([X,J]);Y.push(...Z);super(Y)}getNumericSeverityLevel(Z){return this.get(Z)}getSeverityLevelName(Z){return this.get(Z)}}pf.SEVERITY_LEVEL_MAP=new df([[pf.SeverityLevel.OFF,(-Infinity)],[pf.SeverityLevel.EMERGENCY,0],[pf.SeverityLevel.ALERT,1],[pf.SeverityLevel.CRITICAL,2],[pf.SeverityLevel.ERROR,3],[pf.SeverityLevel.WARNING,4],[pf.SeverityLevel.NOTICE,5],[pf.SeverityLevel.INFORMATIONAL,6],[pf.SeverityLevel.DEBUG,7],[pf.SeverityLevel.TRACE,8]]);pf.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection"});pf.createStdioLogger=XJ;pf.stringifyWithMaxLen=mL;class cf{constructor(Z){this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=Z.componentSeverities,this.maxDocumentLength=Z.maxDocumentLength,this.logDestination=Z.logDestination}log(Z,Y,J){if(xq1(Z,this.componentSeverities[Y])>0)return;let X={t:new Date,c:Y,s:Z};if(typeof J==="string")X.message=J;else if(typeof J==="object")if(fq1(J))X={...X,...J.toLog()};else X={...X,...yq1(J,this.maxDocumentLength)};this.logDestination.write(X)}static resolveOptions(Z,Y){const J={...Z,...Y,mongodbLogPath:_q1(Z,Y)},X=u3(J.MONGODB_LOG_ALL)??pf.SeverityLevel.OFF;return{componentSeverities:{command:u3(J.MONGODB_LOG_COMMAND)??X,topology:u3(J.MONGODB_LOG_TOPOLOGY)??X,serverSelection:u3(J.MONGODB_LOG_SERVER_SELECTION)??X,connection:u3(J.MONGODB_LOG_CONNECTION)??X,default:X},maxDocumentLength:(0,dL.parseUnsignedInteger)(J.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1000,logDestination:J.mongodbLogPath}}}pf.MongoLogger=cf});var rL=R((ef)=>{async function iq1(Z){if(typeof Z.srvHost!=="string")throw new W1.MongoAPIError('Option "srvHost" must not be empty');if(Z.srvHost.split(".").length<3)throw new W1.MongoAPIError("URI must include hostname, domain name, and tld");const Y=Z.srvHost,J=await af.promises.resolveSrv(`_${Z.srvServiceName}._tcp.${Y}`);if(J.length===0)throw new W1.MongoAPIError("No addresses found at host");for(let{name:z}of J)if(!(0,g8.matchesParentDomain)(z,Y))throw new W1.MongoAPIError("Server record does not share hostname with parent URI");const X=J.map((z)=>g8.HostAddress.fromString(`${z.name}:${z.port??27017}`));iL(X,Z,!0);let $;try{$=await af.promises.resolveTxt(Y)}catch(z){if(z.code!=="ENODATA"&&z.code!=="ENOTFOUND")throw z;return X}if($.length>1)throw new W1.MongoParseError("Multiple text records not allowed");const W=new mq1.URLSearchParams($[0].join(""));if([...W.keys()].some((z)=>!lL.includes(z)))throw new W1.MongoParseError(`Text record may only set any of: ${lL.join(", ")}`);if(lL.some((z)=>W.get(z)===""))throw new W1.MongoParseError("Cannot have empty URI params in DNS TXT Record");const Q=W.get("authSource")??void 0,K=W.get("replicaSet")??void 0,H=W.get("loadBalanced")??void 0;if(!Z.userSpecifiedAuthSource&&Q&&Z.credentials&&!K4.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(Z.credentials.mechanism))Z.credentials=$J.MongoCredentials.merge(Z.credentials,{source:Q});if(!Z.userSpecifiedReplicaSet&&K)Z.replicaSet=K;if(H==="true")Z.loadBalanced=!0;if(Z.replicaSet&&Z.srvMaxHosts>0)throw new W1.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return iL(X,Z,!0),X}var nq1=function(Z){if(!Z)return;const Y=(J,X)=>{if(Z.has(J)&&Z.has(X))throw new W1.MongoAPIError(`The '${J}' option cannot be used with the '${X}' option`)};Y("tlsInsecure","tlsAllowInvalidCertificates"),Y("tlsInsecure","tlsAllowInvalidHostnames"),Y("tlsInsecure","tlsDisableCertificateRevocationCheck"),Y("tlsInsecure","tlsDisableOCSPEndpointCheck"),Y("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),Y("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),Y("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")},d4=function(Z,Y){if(typeof Y==="boolean")return Y;switch(Y){case"true":return!0;case"false":return!1;default:throw new W1.MongoParseError(`${Z} must be either "true" or "false"`)}},aL=function(Z,Y){const J=(0,g8.parseInteger)(Y);if(J!=null)return J;throw new W1.MongoParseError(`Expected ${Z} to be stringified int value, got: ${Y}`)},d3=function(Z,Y){const J=aL(Z,Y);if(J<0)throw new W1.MongoParseError(`${Z} can only be a positive int value, got: ${Y}`);return J};function*tf(Z){if(Z==="")return;const Y=Z.split(",");for(let J of Y){const[X,$]=J.split(/:(.*)/);if($==null)throw new W1.MongoParseError("Cannot have undefined values in key value pairs");yield[X,$]}}var aq1=function(Z,Y=void 0,J={}){if(Y!=null&&!(Y instanceof cQ.MongoClient))J=Y,Y=void 0;if(J.useBigInt64&&typeof J.promoteLongs==="boolean"&&!J.promoteLongs)throw new W1.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(J.useBigInt64&&typeof J.promoteValues==="boolean"&&!J.promoteValues)throw new W1.MongoAPIError("Must request either bigint or Long for int64 deserialization");const X=new hq1.default(Z),{hosts:$,isSRV:W}=X,G=Object.create(null);for(let B of Object.getOwnPropertySymbols(J))if(ef.FEATURE_FLAGS.has(B))G[B]=J[B];G.hosts=W?[]:$.map(g8.HostAddress.fromString);const Q=new c3;if(X.pathname!=="/"&&X.pathname!==""){const B=decodeURIComponent(X.pathname[0]==="/"?X.pathname.slice(1):X.pathname);if(B)Q.set("dbName",[B])}if(X.username!==""){const B={username:decodeURIComponent(X.username)};if(typeof X.password==="string")B.password=decodeURIComponent(X.password);Q.set("auth",[B])}for(let B of X.searchParams.keys()){const A=X.searchParams.getAll(B),M=/readPreferenceTags/i.test(B);if(!M&&A.length>1)throw new W1.MongoInvalidArgumentError(`URI option "${B}" cannot appear more than once in the connection string`);if(!M&&A.includes(""))throw new W1.MongoAPIError(`URI option "${B}" cannot be specified with no value`);if(!Q.has(B))Q.set(B,A)}const K=new c3(Object.entries(J).filter(([,B])=>B!=null));if(Q.has("serverApi"))throw new W1.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");const H=Q.get("authMechanismProperties");if(H){for(let B of H)if(/(^|,)ALLOWED_HOSTS:/.test(B))throw new W1.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.")}if(K.has("loadBalanced"))throw new W1.MongoParseError("loadBalanced is only a valid option in the URI");const z=new c3,F=new Set([...Q.keys(),...K.keys()]);for(let B of F){const A=[],M=K.get(B);if(M!=null)A.push(M);const I=Q.get(B)??[];A.push(...I),z.set(B,A)}if(z.has("tls")||z.has("ssl")){const B=(z.get("tls")||[]).concat(z.get("ssl")||[]).map(d4.bind(null,"tls/ssl"));if(new Set(B).size!==1)throw new W1.MongoParseError("All values of tls/ssl must be the same.")}nq1(z);const U=(0,g8.setDifference)(F,Array.from(Object.keys(ef.OPTIONS)).map((B)=>B.toLowerCase()));if(U.size!==0){const B=U.size>1?"options":"option",A=U.size>1?"are":"is";throw new W1.MongoParseError(`${B} ${Array.from(U).join(", ")} ${A} not supported`)}for(let[B,A]of Object.entries(ef.OPTIONS)){const M=z.get(B);if(!M||M.length===0){if(ef.DEFAULT_OPTIONS.has(B))of(G,B,A,[ef.DEFAULT_OPTIONS.get(B)])}else{const{deprecated:I}=A;if(I){const x=typeof I==="string"?`: ${I}`:"";(0,g8.emitWarning)(`${B} is a deprecated option${x}`)}of(G,B,A,M)}}if(G.credentials){const B=G.credentials.mechanism===K4.AuthMechanism.MONGODB_GSSAPI,A=G.credentials.mechanism===K4.AuthMechanism.MONGODB_X509,M=G.credentials.mechanism===K4.AuthMechanism.MONGODB_AWS,I=G.credentials.mechanism===K4.AuthMechanism.MONGODB_OIDC;if((B||A)&&z.has("authSource")&&G.credentials.source!=="$external")throw new W1.MongoParseError(`authMechanism ${G.credentials.mechanism} requires an authSource of '\$external'`);if(!(B||A||M||I)&&G.dbName&&!z.has("authSource"))G.credentials=$J.MongoCredentials.merge(G.credentials,{source:G.dbName});if(M&&G.credentials.username&&!G.credentials.password)throw new W1.MongoMissingCredentialsError(`When using ${G.credentials.mechanism} password must be set when a username is specified`);if(G.credentials.validate(),G.credentials.password===""&&G.credentials.username===""&&G.credentials.mechanism===K4.AuthMechanism.MONGODB_DEFAULT&&Object.keys(G.credentials.mechanismProperties).length===0)delete G.credentials}if(!G.dbName)G.dbName="test";if(iL($,G,W),Y&&G.autoEncryption)rf.Encrypter.checkForMongoCrypt(),G.encrypter=new rf.Encrypter(Y,Z,J),G.autoEncrypter=G.encrypter.autoEncrypter;if(G.userSpecifiedAuthSource=K.has("authSource")||Q.has("authSource"),G.userSpecifiedReplicaSet=K.has("replicaSet")||Q.has("replicaSet"),W){if(G.srvHost=$[0],G.directConnection)throw new W1.MongoAPIError("SRV URI does not support directConnection");if(G.srvMaxHosts>0&&typeof G.replicaSet==="string")throw new W1.MongoParseError("Cannot use srvMaxHosts option with replicaSet");const B=!K.has("tls")&&!Q.has("tls"),A=!K.has("ssl")&&!Q.has("ssl");if(B&&A)G.tls=!0}else if(Q.has("srvMaxHosts")||K.has("srvMaxHosts")||Q.has("srvServiceName")||K.has("srvServiceName"))throw new W1.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(G.directConnection&&G.hosts.length!==1)throw new W1.MongoParseError("directConnection option requires exactly one host");if(!G.proxyHost&&(G.proxyPort||G.proxyUsername||G.proxyPassword))throw new W1.MongoParseError("Must specify proxyHost if other proxy options are passed");if(G.proxyUsername&&!G.proxyPassword||!G.proxyUsername&&G.proxyPassword)throw new W1.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map((B)=>Q.get(B)??[]).some((B)=>B.length>1))throw new W1.MongoParseError("Proxy options cannot be specified multiple times in the connection string");const V=Symbol.for("@@mdb.enableMongoLogger");G[V]=G[V]??!1;let L={},w={};if(G[V])L={MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH,...G[Symbol.for("@@mdb.internalLoggerConfig")]},w={mongodbLogPath:G.mongodbLogPath};return G.mongoLoggerOptions=dq1.MongoLogger.resolveOptions(L,w),G.metadata=(0,uq1.makeClientMetadata)(G),G},iL=function(Z,Y,J){if(Y.loadBalanced){if(Z.length>1)throw new W1.MongoParseError(cq1);if(Y.replicaSet)throw new W1.MongoParseError(pq1);if(Y.directConnection)throw new W1.MongoParseError(lq1);if(J&&Y.srvMaxHosts>0)throw new W1.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}return},of=function(Z,Y,J,X){const{target:$,type:W,transform:G}=J,Q=$??Y;switch(W){case"boolean":Z[Q]=d4(Q,X[0]);break;case"int":Z[Q]=aL(Q,X[0]);break;case"uint":Z[Q]=d3(Q,X[0]);break;case"string":if(X[0]==null)break;Z[Q]=String(X[0]);break;case"record":if(!(0,g8.isRecord)(X[0]))throw new W1.MongoParseError(`${Q} must be an object`);Z[Q]=X[0];break;case"any":Z[Q]=X[0];break;default:{if(!G)throw new W1.MongoParseError("Descriptors missing a type must define a transform");const K=G({name:Q,options:Z,values:X});Z[Q]=K;break}}};Object.defineProperty(ef,"__esModule",{value:!0});ef.FEATURE_FLAGS=ef.DEFAULT_OPTIONS=ef.OPTIONS=ef.parseOptions=ef.resolveSRVRecord=void 0;var af=import.meta.require("dns"),hq1=EL(),mq1=import.meta.require("url"),$J=NQ(),K4=G4(),uq1=gx(),sf=gQ(),rf=uf(),W1=o(),cQ=H9(),dq1=cL(),pL=i6(),p5=d0(),g8=Q1(),u4=o8(),lL=["authSource","replicaSet","loadBalanced"],cq1="loadBalanced option only supported with a single host in the URI",pq1="loadBalanced option not supported with a replicaSet option",lq1="loadBalanced option not supported when directConnection is provided";ef.resolveSRVRecord=iq1;class c3 extends Map{constructor(Z=[]){super(Z.map(([Y,J])=>[Y.toLowerCase(),J]))}has(Z){return super.has(Z.toLowerCase())}get(Z){return super.get(Z.toLowerCase())}set(Z,Y){return super.set(Z.toLowerCase(),Y)}delete(Z){return super.delete(Z.toLowerCase())}}ef.parseOptions=aq1;ef.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:Z,options:Y,values:[J]}){if(!(0,g8.isRecord)(J,["username","password"]))throw new W1.MongoParseError(`${Z} must be an object with 'username' and 'password' properties`);return $J.MongoCredentials.merge(Y.credentials,{username:J.username,password:J.password})}},authMechanism:{target:"credentials",transform({options:Z,values:[Y]}){const J=Object.values(K4.AuthMechanism),[X]=J.filter((G)=>G.match(RegExp(String.raw`\b${Y}\b`,"i")));if(!X)throw new W1.MongoParseError(`authMechanism one of ${J}, got ${Y}`);let $=Z.credentials?.source;if(X===K4.AuthMechanism.MONGODB_PLAIN||K4.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(X))$="$external";let W=Z.credentials?.password;if(X===K4.AuthMechanism.MONGODB_X509&&W==="")W=void 0;return $J.MongoCredentials.merge(Z.credentials,{mechanism:X,source:$,password:W})}},authMechanismProperties:{target:"credentials",transform({options:Z,values:Y}){let J=Object.create(null);for(let X of Y)if(typeof X==="string")for(let[$,W]of tf(X))try{J[$]=d4($,W)}catch{J[$]=W}else{if(!(0,g8.isRecord)(X))throw new W1.MongoParseError("AuthMechanismProperties must be an object");J={...X}}return $J.MongoCredentials.merge(Z.credentials,{mechanismProperties:J})}},authSource:{target:"credentials",transform({options:Z,values:[Y]}){const J=String(Y);return $J.MongoCredentials.merge(Z.credentials,{source:J})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[Z]}){const Y=typeof Z==="string"?{version:Z}:Z,J=Y&&Y.version;if(!J)throw new W1.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(cQ.ServerApiVersion).join('", "')}"]`);if(!Object.values(cQ.ServerApiVersion).some((X)=>X===J))throw new W1.MongoParseError(`Invalid server API version=${J}; must be in the following enum: ["${Object.values(cQ.ServerApiVersion).join('", "')}"]`);return Y}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:Z}){const Y=new Set;for(let J of Z){const X=typeof J==="string"?J.split(","):J;if(!Array.isArray(X))throw new W1.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(let $ of X)if(Object.keys(sf.Compressor).includes(String($)))Y.add(String($));else throw new W1.MongoInvalidArgumentError(`${$} is not a valid compression mechanism. Must be one of: ${Object.keys(sf.Compressor)}.`)}return[...Y]}},connectTimeoutMS:{default:30000,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:Z,values:[Y]}){const J=aL(Z,Y);if(J===4||J===6)return J;throw new W1.MongoParseError(`Option 'family' must be 4 or 6 got ${J}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,fsync:d4(Z,J)}});if(!X)throw new W1.MongoParseError(`Unable to make a writeConcern from fsync=${J}`);return X}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,journal:d4(Z,J)}});if(!X)throw new W1.MongoParseError(`Unable to make a writeConcern from journal=${J}`);return X}},journal:{target:"writeConcern",transform({name:Z,options:Y,values:[J]}){const X=u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,journal:d4(Z,J)}});if(!X)throw new W1.MongoParseError(`Unable to make a writeConcern from journal=${J}`);return X}},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:Z,values:[Y]}){const J=d3(Z,Y);if(J===0)throw new W1.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return J}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:Z,options:Y,values:[J]}){const X=d3(Z,J);if(Y.readPreference)return p5.ReadPreference.fromOptions({readPreference:{...Y.readPreference,maxStalenessSeconds:X}});else return new p5.ReadPreference("secondary",void 0,{maxStalenessSeconds:X})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[Z],options:Y}){return{...Y.driverInfo,name:String(Z)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:g8.DEFAULT_PK_FACTORY,transform({values:[Z]}){if((0,g8.isRecord)(Z,["createPk"])&&typeof Z.createPk==="function")return Z;throw new W1.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${Z}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[Z],options:Y}){if(Z instanceof pL.ReadConcern||(0,g8.isRecord)(Z,["level"]))return pL.ReadConcern.fromOptions({...Y.readConcern,...Z});throw new W1.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(Z)}`)}},readConcernLevel:{target:"readConcern",transform({values:[Z],options:Y}){return pL.ReadConcern.fromOptions({...Y.readConcern,level:Z})}},readPreference:{default:p5.ReadPreference.primary,transform({values:[Z],options:Y}){if(Z instanceof p5.ReadPreference)return p5.ReadPreference.fromOptions({readPreference:{...Y.readPreference,...Z},...Z});if((0,g8.isRecord)(Z,["mode"])){const J=p5.ReadPreference.fromOptions({readPreference:{...Y.readPreference,...Z},...Z});if(J)return J;else throw new W1.MongoParseError(`Cannot make read preference from ${JSON.stringify(Z)}`)}if(typeof Z==="string"){const J={hedge:Y.readPreference?.hedge,maxStalenessSeconds:Y.readPreference?.maxStalenessSeconds};return new p5.ReadPreference(Z,Y.readPreference?.tags,J)}throw new W1.MongoParseError(`Unknown ReadPreference value: ${Z}`)}},readPreferenceTags:{target:"readPreference",transform({values:Z,options:Y}){const J=Array.isArray(Z[0])?Z[0]:Z,X=[];for(let $ of J){const W=Object.create(null);if(typeof $==="string")for(let[G,Q]of tf($))W[G]=Q;if((0,g8.isRecord)($))for(let[G,Q]of Object.entries($))W[G]=Q;X.push(W)}return p5.ReadPreference.fromOptions({readPreference:Y.readPreference,readPreferenceTags:X})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverSelectionTimeoutMS:{default:30000,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:Z,values:[Y]}){return!d4(Z,Y)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:Z,values:[Y]}){return d4(Z,Y)?()=>{return}:void 0}},tlsCAFile:{type:"string"},tlsCRLFile:{type:"string"},tlsCertificateKeyFile:{type:"string"},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:Z,options:Y,values:[J]}){const X=d4(Z,J);if(X)Y.checkServerIdentity=()=>{return},Y.rejectUnauthorized=!1;else Y.checkServerIdentity=Y.tlsAllowInvalidHostnames?()=>{return}:void 0,Y.rejectUnauthorized=Y.tlsAllowInvalidCertificates?!1:!0;return X}},w:{target:"writeConcern",transform({values:[Z],options:Y}){return u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,w:Z}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[Z],options:Y}){if((0,g8.isRecord)(Z)||Z instanceof u4.WriteConcern)return u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,...Z}});else if(Z==="majority"||typeof Z==="number")return u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,w:Z}});throw new W1.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(Z)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[Z],options:Y}){const J=u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,wtimeout:d3("wtimeout",Z)}});if(J)return J;throw new W1.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[Z],options:Y}){const J=u4.WriteConcern.fromOptions({writeConcern:{...Y.writeConcern,wtimeoutMS:d3("wtimeoutMS",Z)}});if(J)return J;throw new W1.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean",deprecated:"useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},useUnifiedTopology:{type:"boolean",deprecated:"useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},mongodbLogPath:{type:"any"}};ef.DEFAULT_OPTIONS=new c3(Object.entries(ef.OPTIONS).filter(([,Z])=>Z.default!=null).map(([Z,Y])=>[Z,Y.default]));ef.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger"),Symbol.for("@@mdb.internalLoggerConfig")])});var lQ=R((Hy)=>{Object.defineProperty(Hy,"__esModule",{value:!0});Hy.ServerHeartbeatFailedEvent=Hy.ServerHeartbeatSucceededEvent=Hy.ServerHeartbeatStartedEvent=Hy.TopologyClosedEvent=Hy.TopologyOpeningEvent=Hy.TopologyDescriptionChangedEvent=Hy.ServerClosedEvent=Hy.ServerOpeningEvent=Hy.ServerDescriptionChangedEvent=void 0;class Zy{constructor(Z,Y,J,X){this.topologyId=Z,this.address=Y,this.previousDescription=J,this.newDescription=X}}Hy.ServerDescriptionChangedEvent=Zy;class Yy{constructor(Z,Y){this.topologyId=Z,this.address=Y}}Hy.ServerOpeningEvent=Yy;class Jy{constructor(Z,Y){this.topologyId=Z,this.address=Y}}Hy.ServerClosedEvent=Jy;class Xy{constructor(Z,Y,J){this.topologyId=Z,this.previousDescription=Y,this.newDescription=J}}Hy.TopologyDescriptionChangedEvent=Xy;class $y{constructor(Z){this.topologyId=Z}}Hy.TopologyOpeningEvent=$y;class Wy{constructor(Z){this.topologyId=Z}}Hy.TopologyClosedEvent=Wy;class Gy{constructor(Z,Y){this.connectionId=Z,this.awaited=Y}}Hy.ServerHeartbeatStartedEvent=Gy;class Qy{constructor(Z,Y,J,X){this.connectionId=Z,this.duration=Y,this.reply=J??{},this.awaited=X}}Hy.ServerHeartbeatSucceededEvent=Qy;class Ky{constructor(Z,Y,J,X){this.connectionId=Z,this.duration=Y,this.failure=J,this.awaited=X}}Hy.ServerHeartbeatFailedEvent=Ky});var iQ=R((Ry)=>{Object.defineProperty(Ry,"__esModule",{value:!0});Ry.BinMsg=Ry.Msg=Ry.Response=Ry.Query=void 0;var l5=G0(),l3=o(),WV1=d0(),p3=sZ(),WJ=0,GV1=2,QV1=4,KV1=8,HV1=16,zV1=32,FV1=64,UV1=128,qV1=1,VV1=2,LV1=4,RV1=8;class tL{constructor(Z,Y,J){this.databaseName=Z,this.query=Y;const X=`${Z}.\$cmd`;if(typeof Z!=="string")throw new l3.MongoRuntimeError("Database name must be a string for a query");if(Y==null)throw new l3.MongoRuntimeError("A query document must be specified for query");if(X.indexOf("\0")!==-1)throw new l3.MongoRuntimeError("Namespace cannot contain a null character");this.ns=X,this.numberToSkip=J.numberToSkip||0,this.numberToReturn=J.numberToReturn||0,this.returnFieldSelector=J.returnFieldSelector||void 0,this.requestId=tL.getRequestId(),this.pre32Limit=J.pre32Limit,this.serializeFunctions=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,this.ignoreUndefined=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!1,this.maxBsonSize=J.maxBsonSize||16777216,this.checkKeys=typeof J.checkKeys==="boolean"?J.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof J.secondaryOk==="boolean"?J.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=WJ++}nextRequestId(){return WJ+1}static getRequestId(){return++WJ}toBin(){const Z=[];let Y=null,J=0;if(this.tailable)J|=GV1;if(this.secondaryOk)J|=QV1;if(this.oplogReplay)J|=KV1;if(this.noCursorTimeout)J|=HV1;if(this.awaitData)J|=zV1;if(this.exhaust)J|=FV1;if(this.partial)J|=UV1;if(this.batchSize!==this.numberToReturn)this.numberToReturn=this.batchSize;const X=Buffer.alloc(20+Buffer.byteLength(this.ns)+1+4+4);Z.push(X);const $=l5.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});if(Z.push($),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0)Y=l5.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),Z.push(Y);const W=X.length+$.length+(Y?Y.length:0);let G=4;return X[3]=W>>24&255,X[2]=W>>16&255,X[1]=W>>8&255,X[0]=W&255,X[G+3]=this.requestId>>24&255,X[G+2]=this.requestId>>16&255,X[G+1]=this.requestId>>8&255,X[G]=this.requestId&255,G=G+4,X[G+3]=0>>24&255,X[G+2]=0>>16&255,X[G+1]=0>>8&255,X[G]=0&255,G=G+4,X[G+3]=p3.OP_QUERY>>24&255,X[G+2]=p3.OP_QUERY>>16&255,X[G+1]=p3.OP_QUERY>>8&255,X[G]=p3.OP_QUERY&255,G=G+4,X[G+3]=J>>24&255,X[G+2]=J>>16&255,X[G+1]=J>>8&255,X[G]=J&255,G=G+4,G=G+X.write(this.ns,G,"utf8")+1,X[G-1]=0,X[G+3]=this.numberToSkip>>24&255,X[G+2]=this.numberToSkip>>16&255,X[G+1]=this.numberToSkip>>8&255,X[G]=this.numberToSkip&255,G=G+4,X[G+3]=this.numberToReturn>>24&255,X[G+2]=this.numberToReturn>>16&255,X[G+1]=this.numberToReturn>>8&255,X[G]=this.numberToReturn&255,G=G+4,Z}}Ry.Query=tL;class Fy{constructor(Z,Y,J,X){this.documents=new Array(0),this.parsed=!1,this.raw=Z,this.data=J,this.opts=X??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=Y.length,this.requestId=Y.requestId,this.responseTo=Y.responseTo,this.opCode=Y.opCode,this.fromCompressed=Y.fromCompressed,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{};const Y=Z.raw||!1,J=Z.documentsReturnedIn||null,X=Z.useBigInt64??this.opts.useBigInt64,$=Z.promoteLongs??this.opts.promoteLongs,W=Z.promoteValues??this.opts.promoteValues,G=Z.promoteBuffers??this.opts.promoteBuffers,Q=Z.bsonRegExp??this.opts.bsonRegExp;let K;const H={useBigInt64:X,promoteLongs:$,promoteValues:W,promoteBuffers:G,bsonRegExp:Q};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new l5.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&qV1)!==0,this.queryFailure=(this.responseFlags&VV1)!==0,this.shardConfigStale=(this.responseFlags&LV1)!==0,this.awaitCapable=(this.responseFlags&RV1)!==0;for(let z=0;z<this.numberReturned;z++){if(K=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,Y)this.documents[z]=this.data.slice(this.index,this.index+K);else this.documents[z]=l5.deserialize(this.data.slice(this.index,this.index+K),H);this.index=this.index+K}if(this.documents.length===1&&J!=null&&Y){const z={};z[J]=!0,H.fieldsAsRaw=z;const F=l5.deserialize(this.documents[0],H);this.documents=[F]}this.parsed=!0}}Ry.Response=Fy;var Uy=1,qy=2,Vy=1<<16;class oL{constructor(Z,Y,J){if(this.databaseName=Z,this.command=Y,this.options=J,Y==null)throw new l3.MongoInvalidArgumentError("Query document must be specified for query");if(this.command.$db=Z,J.readPreference&&J.readPreference.mode!==WV1.ReadPreference.PRIMARY)this.command.$readPreference=J.readPreference.toJSON();this.options=J??{},this.requestId=J.requestId?J.requestId:oL.getRequestId(),this.serializeFunctions=typeof J.serializeFunctions==="boolean"?J.serializeFunctions:!1,this.ignoreUndefined=typeof J.ignoreUndefined==="boolean"?J.ignoreUndefined:!1,this.checkKeys=typeof J.checkKeys==="boolean"?J.checkKeys:!1,this.maxBsonSize=J.maxBsonSize||16777216,this.checksumPresent=!1,this.moreToCome=J.moreToCome||!1,this.exhaustAllowed=typeof J.exhaustAllowed==="boolean"?J.exhaustAllowed:!1}toBin(){const Z=[];let Y=0;if(this.checksumPresent)Y|=Uy;if(this.moreToCome)Y|=qy;if(this.exhaustAllowed)Y|=Vy;const J=Buffer.alloc(20);Z.push(J);let X=J.length;const $=this.command;return X+=this.makeDocumentSegment(Z,$),J.writeInt32LE(X,0),J.writeInt32LE(this.requestId,4),J.writeInt32LE(0,8),J.writeInt32LE(p3.OP_MSG,12),J.writeUInt32LE(Y,16),Z}makeDocumentSegment(Z,Y){const J=Buffer.alloc(1);J[0]=0;const X=this.serializeBson(Y);return Z.push(J),Z.push(X),J.length+X.length}serializeBson(Z){return l5.serialize(Z,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return WJ=WJ+1&2147483647,WJ}}Ry.Msg=oL;class Ly{constructor(Z,Y,J,X){this.parsed=!1,this.raw=Z,this.data=J,this.opts=X??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=Y.length,this.requestId=Y.requestId,this.responseTo=Y.responseTo,this.opCode=Y.opCode,this.fromCompressed=Y.fromCompressed,this.responseFlags=J.readInt32LE(0),this.checksumPresent=(this.responseFlags&Uy)!==0,this.moreToCome=(this.responseFlags&qy)!==0,this.exhaustAllowed=(this.responseFlags&Vy)!==0,this.useBigInt64=typeof this.opts.useBigInt64==="boolean"?this.opts.useBigInt64:!1,this.promoteLongs=typeof this.opts.promoteLongs==="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues==="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers==="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp==="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(Z){if(this.parsed)return;Z=Z??{},this.index=4;const Y=Z.raw||!1,J=Z.documentsReturnedIn||null,X=Z.useBigInt64??this.opts.useBigInt64,$=Z.promoteLongs??this.opts.promoteLongs,W=Z.promoteValues??this.opts.promoteValues,G=Z.promoteBuffers??this.opts.promoteBuffers,Q=Z.bsonRegExp??this.opts.bsonRegExp,K=this.parseBsonSerializationOptions(Z),H={useBigInt64:X,promoteLongs:$,promoteValues:W,promoteBuffers:G,bsonRegExp:Q,validation:K};while(this.index<this.data.length){const z=this.data.readUInt8(this.index++);if(z===0){const F=this.data.readUInt32LE(this.index),U=this.data.slice(this.index,this.index+F);this.documents.push(Y?U:l5.deserialize(U,H)),this.index+=F}else if(z===1)throw new l3.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&J!=null&&Y){const z={};z[J]=!0,H.fieldsAsRaw=z;const F=l5.deserialize(this.documents[0],H);this.documents=[F]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:Z}){if(Z===!1)return{utf8:!1};return{utf8:{writeErrors:!1}}}}Ry.BinMsg=Ly});var XR=R((Py)=>{var YR=function(Z){if(Z instanceof Ay.Msg)return(0,E7.deepCopy)(Z.command);if(Z.query?.$query){let X;if(Z.ns==="admin.$cmd")X=Object.assign({},Z.query.$query);else X={find:IV1(Z)},Object.keys(My).forEach(($)=>{if(Z.query[$]!=null)X[My[$]]=(0,E7.deepCopy)(Z.query[$])});if(Object.keys(By).forEach(($)=>{const W=$;if(Z[W]!=null)X[By[W]]=(0,E7.deepCopy)(Z[W])}),DV1.forEach(($)=>{if(Z[$])X[$]=Z[$]}),Z.pre32Limit!=null)X.limit=Z.pre32Limit;if(Z.query.$explain)return{explain:X};return X}const Y={},J={};if(Z.query){for(let X in Z.query)Y[X]=(0,E7.deepCopy)(Z.query[X]);J.query=Y}for(let X in Z){if(X==="query")continue;J[X]=(0,E7.deepCopy)(Z[X])}return Z.query?Y:J},PV1=function(Z,Y){if(!Y)return Y;if(Z instanceof Ay.Msg)return(0,E7.deepCopy)(Y.result?Y.result:Y);if(Z.query&&Z.query.$query!=null)return{ok:1,cursor:{id:(0,E7.deepCopy)(Y.cursorId),ns:NV1(Z),firstBatch:(0,E7.deepCopy)(Y.documents)}};return(0,E7.deepCopy)(Y.result?Y.result:Y)},JR=function(Z){let Y;if("id"in Z)Y=Z.id;return{address:Z.address,serviceId:Z.serviceId,connectionId:Y}};Object.defineProperty(Py,"__esModule",{value:!0});Py.SENSITIVE_COMMANDS=Py.CommandFailedEvent=Py.CommandSucceededEvent=Py.CommandStartedEvent=void 0;var i3=s0(),E7=Q1(),Ay=iQ();class Ny{constructor(Z,Y){this.name=i3.COMMAND_STARTED;const J=YR(Y),X=eL(J),{address:$,connectionId:W,serviceId:G}=JR(Z);if(Py.SENSITIVE_COMMANDS.has(X))this.commandObj={},this.commandObj[X]=!0;this.address=$,this.connectionId=W,this.serviceId=G,this.requestId=Y.requestId,this.databaseName=Y.databaseName,this.commandName=X,this.command=ZR(X,J,J)}get hasServiceId(){return!!this.serviceId}}Py.CommandStartedEvent=Ny;class Iy{constructor(Z,Y,J,X){this.name=i3.COMMAND_SUCCEEDED;const $=YR(Y),W=eL($),{address:G,connectionId:Q,serviceId:K}=JR(Z);this.address=G,this.connectionId=Q,this.serviceId=K,this.requestId=Y.requestId,this.commandName=W,this.duration=(0,E7.calculateDurationInMs)(X),this.reply=ZR(W,$,PV1(Y,J))}get hasServiceId(){return!!this.serviceId}}Py.CommandSucceededEvent=Iy;class Dy{constructor(Z,Y,J,X){this.name=i3.COMMAND_FAILED;const $=YR(Y),W=eL($),{address:G,connectionId:Q,serviceId:K}=JR(Z);this.address=G,this.connectionId=Q,this.serviceId=K,this.requestId=Y.requestId,this.commandName=W,this.duration=(0,E7.calculateDurationInMs)(X),this.failure=ZR(W,$,J)}get hasServiceId(){return!!this.serviceId}}Py.CommandFailedEvent=Dy;Py.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);var AV1=new Set(["hello",i3.LEGACY_HELLO_COMMAND,i3.LEGACY_HELLO_COMMAND_CAMEL_CASE]),eL=(Z)=>Object.keys(Z)[0],NV1=(Z)=>Z.ns,IV1=(Z)=>Z.ns.split(".")[1],ZR=(Z,Y,J)=>Py.SENSITIVE_COMMANDS.has(Z)||AV1.has(Z)&&Y.speculativeAuthenticate?{}:J,My={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},By={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},DV1=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"]});var Oy=R((Ey)=>{var kV1=function(Z){const Y=Z instanceof n3.Msg?Z.command:Z.query,J=Object.keys(Y)[0];return!rQ.uncompressibleCommands.has(J)},a3=function(Z,Y){const J=Z[sQ],X=J.getInt32();if(X==null)return Y();if(X<0)return Y(new $R.MongoParseError(`Invalid message size: ${X}`));if(X>Z.maxBsonMessageSize)return Y(new $R.MongoParseError(`Invalid message size: ${X}, max allowed: ${Z.maxBsonMessageSize}`));if(X>J.length)return Y();const $=J.read(X),W={length:$.readInt32LE(0),requestId:$.readInt32LE(4),responseTo:$.readInt32LE(8),opCode:$.readInt32LE(12)},G=()=>{if(Z.isMonitoringConnection){const z=J.getInt32();if(z!=null&&z<=J.length)return!0}return!1};let Q=W.opCode===aQ.OP_MSG?n3.BinMsg:n3.Response;if(W.opCode!==aQ.OP_COMPRESSED){const z=$.subarray(i5);if(G())return a3(Z,Y);if(Z.emit("message",new Q($,W,z)),J.length>=4)return a3(Z,Y);return Y()}W.fromCompressed=!0,W.opCode=$.readInt32LE(i5),W.length=$.readInt32LE(i5+4);const K=$[i5+8],H=$.slice(i5+9);Q=W.opCode===aQ.OP_MSG?n3.BinMsg:n3.Response,(0,rQ.decompress)(K,H).then((z)=>{if(z.length!==W.length)return Y(new $R.MongoDecompressionError("Message body and message header must be the same length"));if(G())return a3(Z,Y);if(Z.emit("message",new Q($,W,z)),J.length>=4)return a3(Z,Y);return Y()},(z)=>{return Y(z)})};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.MessageStream=void 0;var jV1=import.meta.require("stream"),$R=o(),OV1=Q1(),n3=iQ(),rQ=gQ(),aQ=sZ(),i5=16,Ty=9,SV1=67108864,sQ=Symbol("buffer");class Cy extends jV1.Duplex{constructor(Z={}){super(Z);this.isMonitoringConnection=!1,this.maxBsonMessageSize=Z.maxBsonMessageSize||SV1,this[sQ]=new OV1.BufferPool}get buffer(){return this[sQ]}_write(Z,Y,J){this[sQ].append(Z),a3(this,J)}_read(){return}writeCommand(Z,Y){const J=Y.agreedCompressor??"none";if(J==="none"||!kV1(Z)){const Q=Z.toBin();this.push(Array.isArray(Q)?Buffer.concat(Q):Q);return}const X=Buffer.concat(Z.toBin()),$=X.slice(i5),W=X.readInt32LE(12),G={agreedCompressor:J,zlibCompressionLevel:Y.zlibCompressionLevel??0};(0,rQ.compress)(G,$).then((Q)=>{const K=Buffer.alloc(i5);K.writeInt32LE(i5+Ty+Q.length,0),K.writeInt32LE(Z.requestId,4),K.writeInt32LE(0,8),K.writeInt32LE(aQ.OP_COMPRESSED,12);const H=Buffer.alloc(Ty);H.writeInt32LE(W,0),H.writeInt32LE($.length,4),H.writeUInt8(rQ.Compressor[J],8),this.push(Buffer.concat([K,H,Q]))},(Q)=>{Y.cb(Q)})}}Ey.MessageStream=Cy});var xy=R((ky)=>{Object.defineProperty(ky,"__esModule",{value:!0});ky.StreamDescription=void 0;var _V1=l6(),xV1=w3(),fV1=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"];class Sy{constructor(Z,Y){this.address=Z,this.type=_V1.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48000000,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=Y?.logicalSessionTimeoutMinutes,this.loadBalanced=!!Y?.loadBalanced,this.compressors=Y&&Y.compressors&&Array.isArray(Y.compressors)?Y.compressors:[]}receiveResponse(Z){if(Z==null)return;this.type=(0,xV1.parseServerType)(Z);for(let Y of fV1){if(Z[Y]!=null)this[Y]=Z[Y];if("__nodejs_mock_server__"in Z)this.__nodejs_mock_server__=Z.__nodejs_mock_server__}if(Z.compression)this.compressor=this.compressors.filter((Y)=>Z.compression?.includes(Y))[0]}}ky.StreamDescription=Sy});var s3=R((uy)=>{var my=function(Z){return Z.description.logicalSessionTimeoutMinutes!=null},mV1=function(Z){const Y=Z.description;if(Y==null)return!1;return(0,n5.maxWireVersion)(Z)>=6&&!Y.__nodejs_mock_server__},uV1=function(Z,Y){if(Y.proxyHost)return Y.hostAddress.toString();const{remoteAddress:J,remotePort:X}=Z;if(typeof J==="string"&&typeof X==="number")return n5.HostAddress.fromHostPort(J,X).toString();return(0,n5.uuidV4)().toString("hex")},dV1=function(Z,Y,J,X){J=J??{};const $={requestId:Y.requestId,cb:X,session:J.session,noResponse:typeof J.noResponse==="boolean"?J.noResponse:!1,documentsReturnedIn:J.documentsReturnedIn,useBigInt64:typeof J.useBigInt64==="boolean"?J.useBigInt64:!1,promoteLongs:typeof J.promoteLongs==="boolean"?J.promoteLongs:!0,promoteValues:typeof J.promoteValues==="boolean"?J.promoteValues:!0,promoteBuffers:typeof J.promoteBuffers==="boolean"?J.promoteBuffers:!1,bsonRegExp:typeof J.bsonRegExp==="boolean"?J.bsonRegExp:!1,enableUtf8Validation:typeof J.enableUtf8Validation==="boolean"?J.enableUtf8Validation:!0,raw:typeof J.raw==="boolean"?J.raw:!1,started:0};if(Z[F4]&&Z[F4].compressor){if($.agreedCompressor=Z[F4].compressor,Z[F4].zlibCompressionLevel)$.zlibCompressionLevel=Z[F4].zlibCompressionLevel}if(typeof J.socketTimeoutMS==="number")Z[G8].setTimeout(J.socketTimeoutMS);else if(Z.socketTimeoutMS!==0)Z[G8].setTimeout(Z.socketTimeoutMS);if(Z.monitorCommands)Z.emit(p0.COMMAND_STARTED,new tQ.CommandStartedEvent(Z,Y)),$.started=(0,n5.now)(),$.cb=(W,G)=>{if(W&&G?.ok!==1)Z.emit(p0.COMMAND_FAILED,new tQ.CommandFailedEvent(Z,Y,W,$.started));else if(G&&(G.ok===0||G.$err))Z.emit(p0.COMMAND_FAILED,new tQ.CommandFailedEvent(Z,Y,G,$.started));else Z.emit(p0.COMMAND_SUCCEEDED,new tQ.CommandSucceededEvent(Z,Y,G,$.started));if(typeof X==="function")X(W,W instanceof z4.MongoWriteConcernError?void 0:G)};if(!$.noResponse)Z[j7].set($.requestId,$);try{Z[H4].writeCommand(Y,$)}catch(W){if(!$.noResponse){Z[j7].delete($.requestId),$.cb(W);return}}if($.noResponse)$.cb()};Object.defineProperty(uy,"__esModule",{value:!0});uy.hasSessionSupport=uy.CryptoConnection=uy.Connection=void 0;var fy=import.meta.require("timers"),yV1=import.meta.require("util"),a5=s0(),z4=o(),gV1=D6(),yy=A3(),n5=Q1(),tQ=XR(),gy=iQ(),bV1=Oy(),vV1=xy(),by=XV(),G8=Symbol("stream"),j7=Symbol("queue"),H4=Symbol("messageStream"),WR=Symbol("generation"),GR=Symbol("lastUseTime"),QR=Symbol("clusterTime"),F4=Symbol("description"),KR=Symbol("hello"),vy=Symbol("autoEncrypter"),oQ=Symbol("delayedTimeoutId"),hV1="Connection internal queue contains more than 1 operation description";class p0 extends gV1.TypedEventEmitter{constructor(Z,Y){super();this.commandAsync=(0,yV1.promisify)((J,X,$,W)=>this.command(J,X,$,W)),this.id=Y.id,this.address=uV1(Z,Y),this.socketTimeoutMS=Y.socketTimeoutMS??0,this.monitorCommands=Y.monitorCommands,this.serverApi=Y.serverApi,this.closed=!1,this[KR]=null,this[QR]=null,this[F4]=new vV1.StreamDescription(this.address,Y),this[WR]=Y.generation,this[GR]=(0,n5.now)(),this[j7]=new Map,this[H4]=new bV1.MessageStream({...Y,maxBsonMessageSize:this.hello?.maxBsonMessageSize}),this[G8]=Z,this[oQ]=null,this[H4].on("message",(J)=>this.onMessage(J)),this[H4].on("error",(J)=>this.onError(J)),this[G8].on("close",()=>this.onClose()),this[G8].on("timeout",()=>this.onTimeout()),this[G8].on("error",()=>{}),this[G8].pipe(this[H4]),this[H4].pipe(this[G8])}get description(){return this[F4]}get hello(){return this[KR]}set hello(Z){this[F4].receiveResponse(Z),this[F4]=Object.freeze(this[F4]),this[KR]=Z}set isMonitoringConnection(Z){this[H4].isMonitoringConnection=Z}get isMonitoringConnection(){return this[H4].isMonitoringConnection}get serviceId(){return this.hello?.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[WR]||0}set generation(Z){this[WR]=Z}get idleTime(){return(0,n5.calculateDurationInMs)(this[GR])}get clusterTime(){return this[QR]}get stream(){return this[G8]}markAvailable(){this[GR]=(0,n5.now)()}onError(Z){this.cleanup(!0,Z)}onClose(){const Z=`connection ${this.id} to ${this.address} closed`;this.cleanup(!0,new z4.MongoNetworkError(Z))}onTimeout(){this[oQ]=(0,fy.setTimeout)(()=>{const Z=`connection ${this.id} to ${this.address} timed out`,Y=this.hello==null;this.cleanup(!0,new z4.MongoNetworkTimeoutError(Z,{beforeHandshake:Y}))},1).unref()}onMessage(Z){const Y=this[oQ];if(Y!=null)(0,fy.clearTimeout)(Y),this[oQ]=null;const J=this[G8].timeout??0;this[G8].setTimeout(0),this.emit("message",Z);let X=this[j7].get(Z.responseTo);if(!X&&this.isMonitoringConnection)if(this[j7].size>1)this.cleanup(!0,new z4.MongoRuntimeError(hV1));else{const W=this[j7].entries().next();if(W.value!=null){const[G,Q]=W.value;X=Q,this[j7].delete(G)}}if(!X)return;const $=X.cb;if(this[j7].delete(Z.responseTo),("moreToCome"in Z)&&Z.moreToCome)this[j7].set(Z.requestId,X),this[G8].setTimeout(J);try{Z.parse(X)}catch(W){$(W);return}if(Z.documents[0]){const W=Z.documents[0],G=X.session;if(G)(0,yy.updateSessionFromResponse)(G,W);if(W.$clusterTime)this[QR]=W.$clusterTime,this.emit(p0.CLUSTER_TIME_RECEIVED,W.$clusterTime);if(W.writeConcernError){$(new z4.MongoWriteConcernError(W.writeConcernError,W),W);return}if(W.ok===0||W.$err||W.errmsg||W.code){$(new z4.MongoServerError(W));return}}$(void 0,Z.documents[0])}destroy(Z,Y){if(this.closed){process.nextTick(()=>Y?.());return}if(typeof Y==="function")this.once("close",()=>process.nextTick(()=>Y()));this.removeAllListeners(p0.PINNED),this.removeAllListeners(p0.UNPINNED);const J=`connection ${this.id} to ${this.address} closed`;this.cleanup(Z.force,new z4.MongoNetworkError(J))}cleanup(Z,Y){if(this.closed)return;this.closed=!0;const J=()=>{for(let X of this[j7].values())X.cb(Y);this[j7].clear(),this.emit(p0.CLOSE)};if(this[G8].removeAllListeners(),this[H4].removeAllListeners(),this[H4].destroy(),Z){this[G8].destroy(),J();return}if(!this[G8].writableEnded)this[G8].end(()=>{this[G8].destroy(),J()});else J()}command(Z,Y,J,X){let $={...Y};const W=(0,by.getReadPreference)(J),G=mV1(this),Q=J?.session;let K=this.clusterTime;if(this.serverApi){const{version:F,strict:U,deprecationErrors:q}=this.serverApi;if($.apiVersion=F,U!=null)$.apiStrict=U;if(q!=null)$.apiDeprecationErrors=q}if(my(this)&&Q){if(Q.clusterTime&&K&&Q.clusterTime.clusterTime.greaterThan(K.clusterTime))K=Q.clusterTime;const F=(0,yy.applySession)(Q,$,J);if(F)return X(F)}else if(Q?.explicit)return X(new z4.MongoCompatibilityError("Current topology does not support sessions"));if(K)$.$clusterTime=K;if((0,by.isSharded)(this)&&!G&&W&&W.mode!=="primary")$={$query:$,$readPreference:W.toJSON()};const H=Object.assign({numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:W.secondaryOk()},J),z=G?new gy.Msg(Z.db,$,H):new gy.Query(Z.db,$,H);try{dV1(this,z,H,X)}catch(F){X(F)}}}p0.COMMAND_STARTED=a5.COMMAND_STARTED;p0.COMMAND_SUCCEEDED=a5.COMMAND_SUCCEEDED;p0.COMMAND_FAILED=a5.COMMAND_FAILED;p0.CLUSTER_TIME_RECEIVED=a5.CLUSTER_TIME_RECEIVED;p0.CLOSE=a5.CLOSE;p0.MESSAGE=a5.MESSAGE;p0.PINNED=a5.PINNED;p0.UNPINNED=a5.UNPINNED;uy.Connection=p0;class hy extends p0{constructor(Z,Y){super(Z,Y);this[vy]=Y.autoEncrypter}command(Z,Y,J,X){const $=this[vy];if(!$)return X(new z4.MongoMissingDependencyError("No AutoEncrypter available for encryption"));const W=(0,n5.maxWireVersion)(this);if(W===0)return super.command(Z,Y,J,X);if(W<8){X(new z4.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2"));return}const G=Y.find||Y.findAndModify?Y.sort:null,Q=Y.createIndexes?Y.indexes.map((K)=>K.key):null;$.encrypt(Z.toString(),Y,J).then((K)=>{if(G!=null&&(Y.find||Y.findAndModify))K.sort=G;if(Q!=null&&Y.createIndexes)for(let[H,z]of Q.entries())K.indexes[H].key=z;super.command(Z,K,J,(H,z)=>{if(H||z==null){X(H,z);return}$.decrypt(z,J).then((F)=>X(void 0,F),(F)=>X(F))})},(K)=>{if(K)X(K,null)})}}uy.CryptoConnection=hy;uy.hasSessionSupport=my});var ay=R((iy)=>{Object.defineProperty(iy,"__esModule",{value:!0});iy.MongoCR=void 0;var cy=import.meta.require("crypto"),lV1=o(),py=Q1(),iV1=h4();class ly extends iV1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new lV1.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:X,password:$,source:W}=J,{nonce:G}=await Y.commandAsync((0,py.ns)(`${W}.\$cmd`),{getnonce:1},void 0),Q=cy.createHash("md5").update(`${X}:mongo:${$}`,"utf8").digest("hex"),K=cy.createHash("md5").update(`${G}${X}${Q}`,"utf8").digest("hex"),H={authenticate:1,user:X,nonce:G,key:K};await Y.commandAsync((0,py.ns)(`${W}.\$cmd`),H,void 0)}}iy.MongoCR=ly});var oy=R((ry)=>{async function YL1(Z){function Y(J){if(!J.AccessKeyId||!J.SecretAccessKey||!J.Token)throw new z9.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new rV1.MongoCredentials({username:J.AccessKeyId,password:J.SecretAccessKey,source:Z.source,mechanism:tV1.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:J.Token}})}if(F9.credentialProvider??=(0,eQ.getAwsCredentialProvider)(),("kModuleError"in F9.credentialProvider)){if(HR.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return Y(await(0,c4.request)(`${ZL1}${HR.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`));const J=await(0,c4.request)(`${FR}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),X=await(0,c4.request)(`${FR}/${sy}`,{json:!1,headers:{"X-aws-ec2-metadata-token":J}}),$=await(0,c4.request)(`${FR}/${sy}/${X}`,{headers:{"X-aws-ec2-metadata-token":J}});return Y($)}else{let{AWS_STS_REGIONAL_ENDPOINTS:J="",AWS_REGION:X=""}=HR.env;J=J.toLowerCase(),X=X.toLowerCase();const $=X.length!==0&&J.length!==0,W=J==="regional"||J==="legacy"&&!oV1.has(X),G=$&&W?F9.credentialProvider.fromNodeProviderChain({clientConfig:{region:X}}):F9.credentialProvider.fromNodeProviderChain();try{const Q=await G();return Y({AccessKeyId:Q.accessKeyId,SecretAccessKey:Q.secretAccessKey,Token:Q.sessionToken,Expiration:Q.expiration})}catch(Q){throw new z9.MongoAWSError(Q.message)}}}var JL1=function(Z){const Y=Z.split(".");if(Y.length===1||Y[1]==="amazonaws")return"us-east-1";return Y[1]};Object.defineProperty(ry,"__esModule",{value:!0});ry.MongoDBAWS=void 0;var nV1=import.meta.require("crypto"),HR=import.meta.require("process"),aV1=import.meta.require("util"),zR=G0(),eQ=P7(),z9=o(),c4=Q1(),sV1=h4(),rV1=NQ(),tV1=G4(),oV1=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),eV1=110,ZL1="http://169.254.170.2",FR="http://169.254.169.254",sy="/latest/meta-data/iam/security-credentials",UR={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1};class F9 extends sV1.AuthProvider{constructor(){super();this.randomBytesAsync=(0,aV1.promisify)(nV1.randomBytes)}async auth(Z){const{connection:Y}=Z;if(!Z.credentials)throw new z9.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in eQ.aws4)throw eQ.aws4.kModuleError;const{sign:J}=eQ.aws4;if((0,c4.maxWireVersion)(Y)<9)throw new z9.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");if(!Z.credentials.username)Z.credentials=await YL1(Z.credentials);const{credentials:X}=Z,$=X.username,W=X.password,G=X.mechanismProperties.AWS_SESSION_TOKEN,Q=$&&W&&G?{accessKeyId:$,secretAccessKey:W,sessionToken:G}:$&&W?{accessKeyId:$,secretAccessKey:W}:void 0,K=X.source,H=await this.randomBytesAsync(32),z={saslStart:1,mechanism:"MONGODB-AWS",payload:zR.serialize({r:H,p:eV1},UR)},F=await Y.commandAsync((0,c4.ns)(`${K}.\$cmd`),z,void 0),U=zR.deserialize(F.payload.buffer,UR),q=U.h,V=U.s.buffer;if(V.length!==64)throw new z9.MongoRuntimeError(`Invalid server nonce length ${V.length}, expected 64`);if(!c4.ByteUtils.equals(V.subarray(0,H.byteLength),H))throw new z9.MongoRuntimeError("Server nonce does not begin with client nonce");if(q.length<1||q.length>255||q.indexOf("..")!==-1)throw new z9.MongoRuntimeError(`Server returned an invalid host: "${q}"`);const L="Action=GetCallerIdentity&Version=2011-06-15",w=J({method:"POST",host:q,region:JL1(U.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":L.length,"X-MongoDB-Server-Nonce":c4.ByteUtils.toBase64(V),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:L},Q),B={a:w.headers.Authorization,d:w.headers["X-Amz-Date"]};if(G)B.t=G;const A={saslContinue:1,conversationId:1,payload:zR.serialize(B,UR)};await Y.commandAsync((0,c4.ns)(`${K}.\$cmd`),A,void 0)}}F9.credentialProvider=null;ry.MongoDBAWS=F9});var VR=R((Zg)=>{var qR=function(Z){return{saslStart:1,mechanism:WL1.AuthMechanism.MONGODB_OIDC,payload:XL1.BSON.serialize({jwt:Z})}};Object.defineProperty(Zg,"__esModule",{value:!0});Zg.commandDocument=Zg.ServiceWorkflow=void 0;var XL1=p6(),$L1=Q1(),WL1=G4();class ey{async execute(Z,Y){const J=await this.getToken(Y),X=qR(J);return Z.commandAsync((0,$L1.ns)(Y.source),X,void 0)}async speculativeAuth(Z){const Y=await this.getToken(Z),J=qR(Y);return J.db=Z.source,{speculativeAuthenticate:J}}}Zg.ServiceWorkflow=ey;Zg.commandDocument=qR});var Wg=R((Xg)=>{Object.defineProperty(Xg,"__esModule",{value:!0});Xg.AwsServiceWorkflow=void 0;var QL1=import.meta.require("fs"),KL1=o(),HL1=VR(),zL1="AWS_WEB_IDENTITY_TOKEN_FILE must be set in the environment.";class Jg extends HL1.ServiceWorkflow{constructor(){super()}async getToken(){const Z=process.env.AWS_WEB_IDENTITY_TOKEN_FILE;if(!Z)throw new KL1.MongoAWSError(zL1);return QL1.promises.readFile(Z,"utf8")}}Xg.AwsServiceWorkflow=Jg});var ZK=R((Kg)=>{Object.defineProperty(Kg,"__esModule",{value:!0});Kg.Cache=Kg.ExpiringCacheEntry=void 0;var FL1=300000;class Gg{constructor(Z){this.expiration=this.expirationTime(Z)}isValid(){return this.expiration-Date.now()>FL1}expirationTime(Z){return Date.now()+Z*1000}}Kg.ExpiringCacheEntry=Gg;class Qg{constructor(){this.entries=new Map}clear(){this.entries.clear()}hashedCacheKey(Z,Y,J){return JSON.stringify([Z,Y,J])}}Kg.Cache=Qg});var Vg=R((Ug)=>{Object.defineProperty(Ug,"__esModule",{value:!0});Ug.AzureTokenCache=Ug.AzureTokenEntry=void 0;var zg=ZK();class LR extends zg.ExpiringCacheEntry{constructor(Z,Y){super(Y);this.token=Z}}Ug.AzureTokenEntry=LR;class Fg extends zg.Cache{addEntry(Z,Y){const J=new LR(Y.access_token,Y.expires_in);return this.entries.set(Z,J),J}cacheKey(Z){return Z}deleteEntry(Z){this.entries.delete(Z)}getEntry(Z){return this.entries.get(Z)}}Ug.AzureTokenCache=Fg});var Bg=R((wg)=>{async function NL1(Z){const Y=`${wL1}&resource=${Z}`;return await(0,VL1.request)(Y,{json:!0,headers:ML1})}var IL1=function(Z){if(Z==null||typeof Z!=="object")return!1;return("access_token"in Z)&&("expires_in"in Z)};Object.defineProperty(wg,"__esModule",{value:!0});wg.AzureServiceWorkflow=void 0;var Lg=o(),VL1=Q1(),LL1=Vg(),RL1=VR(),wL1="http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01",ML1=Object.freeze({Metadata:"true",Accept:"application/json"}),BL1="Azure endpoint did not return a value with only access_token and expires_in properties",AL1="TOKEN_AUDIENCE must be set in the auth mechanism properties when PROVIDER_NAME is azure.";class Rg extends RL1.ServiceWorkflow{constructor(){super(...arguments);this.cache=new LL1.AzureTokenCache}async getToken(Z){const Y=Z?.mechanismProperties.TOKEN_AUDIENCE;if(!Y)throw new Lg.MongoAzureError(AL1);let J;const X=this.cache.getEntry(Y);if(X?.isValid())J=X.token;else{this.cache.deleteEntry(Y);const $=await NL1(Y);if(!IL1($))throw new Lg.MongoAzureError(BL1);this.cache.addEntry(Y,$),J=$.access_token}return J}}wg.AzureServiceWorkflow=Rg});var Tg=R((Dg)=>{var Ag=function(Z){let Y=Promise.resolve();return async(J,X)=>{return await Y,Y=Y.then(()=>Z(J,X)),Y}},CL1=function(Z,Y){let J=r3.get(Z),X=r3.get(Y??Ng);if(J==null)U9++,J=U9,r3.set(Z,U9);if(X==null&&Y)U9++,X=U9,r3.set(Y,U9);return`${J}-${X}`};Object.defineProperty(Dg,"__esModule",{value:!0});Dg.CallbackLockCache=void 0;var DL1=o(),PL1=ZK(),TL1="Auth mechanism property REQUEST_TOKEN_CALLBACK is required.",U9=0,Ng=async()=>({accessToken:"test"}),r3=new WeakMap;r3.set(Ng,U9);class Ig extends PL1.Cache{getEntry(Z,Y){const J=Y.mechanismProperties.REQUEST_TOKEN_CALLBACK,X=Y.mechanismProperties.REFRESH_TOKEN_CALLBACK;if(!J)throw new DL1.MongoInvalidArgumentError(TL1);const $=CL1(J,X),W=this.cacheKey(Z.address,Y.username,$),G=this.entries.get(W);if(G)return G;return this.addEntry(W,$,J,X)}addEntry(Z,Y,J,X){const $={requestCallback:Ag(J),refreshCallback:X?Ag(X):void 0,callbackHash:Y};return this.entries.set(Z,$),$}cacheKey(Z,Y,J){return this.hashedCacheKey(Z,Y,J)}}Dg.CallbackLockCache=Ig});var Sg=R((jg)=>{Object.defineProperty(jg,"__esModule",{value:!0});jg.TokenEntryCache=jg.TokenEntry=void 0;var Cg=ZK(),EL1=0;class RR extends Cg.ExpiringCacheEntry{constructor(Z,Y,J){super(J);this.tokenResult=Z,this.serverInfo=Y}}jg.TokenEntry=RR;class Eg extends Cg.Cache{addEntry(Z,Y,J,X,$){const W=new RR(X,$,X.expiresInSeconds??EL1);return this.entries.set(this.cacheKey(Z,Y,J),W),W}deleteEntry(Z,Y,J){this.entries.delete(this.cacheKey(Z,Y,J))}getEntry(Z,Y,J){return this.entries.get(this.cacheKey(Z,Y,J))}deleteExpiredEntries(){for(let[Z,Y]of this.entries)if(!Y.isValid())this.entries.delete(Z)}cacheKey(Z,Y,J){return this.hashedCacheKey(Z,Y,J)}}jg.TokenEntryCache=Eg});var bg=R((yg)=>{var yL1=function(Z,Y){if(Y!=null&&typeof Y==="number")return{saslContinue:1,conversationId:Y,payload:new q9.Binary(q9.BSON.serialize({jwt:Z}))};return{saslStart:1,mechanism:xg.AuthMechanism.MONGODB_OIDC,payload:new q9.Binary(q9.BSON.serialize({jwt:Z}))}},gL1=function(Z){if(Z==null||typeof Z!=="object")return!0;if(!("accessToken"in Z))return!0;return!Object.getOwnPropertyNames(Z).every((Y)=>xL1.includes(Y))},_g=function(Z){const Y={};if(Z.username)Y.n=Z.username;return{saslStart:1,autoAuthorize:1,mechanism:xg.AuthMechanism.MONGODB_OIDC,payload:new q9.Binary(q9.BSON.serialize(Y))}};Object.defineProperty(yg,"__esModule",{value:!0});yg.CallbackWorkflow=void 0;var q9=p6(),wR=o(),kg=Q1(),xg=G4(),OL1=Tg(),SL1=Sg(),kL1=0,_L1=300,xL1=["accessToken","expiresInSeconds","refreshToken"],fL1="User provided OIDC callbacks must return a valid object with an accessToken.";class fg{constructor(){this.cache=new SL1.TokenEntryCache,this.callbackCache=new OL1.CallbackLockCache}async speculativeAuth(Z){const Y=_g(Z);return Y.db=Z.source,{speculativeAuthenticate:Y}}async execute(Z,Y,J,X){const{requestCallback:$,refreshCallback:W,callbackHash:G}=this.callbackCache.getEntry(Z,Y),Q=this.cache.getEntry(Z.address,Y.username,G);let K;if(Q)if(Q.isValid()&&!J)K=await this.finishAuthentication(Z,Y,Q.tokenResult,X?.speculativeAuthenticate?.conversationId);else{const H=await this.fetchAccessToken(Z,Y,Q.serverInfo,J,G,$,W);try{K=await this.finishAuthentication(Z,Y,H,J?void 0:X?.speculativeAuthenticate?.conversationId)}catch(z){if(J&&z instanceof wR.MongoError&&z.code===wR.MONGODB_ERROR_CODES.Reauthenticate)this.cache.deleteEntry(Z.address,Y.username,G),K=await this.execute(Z,Y,J);else throw z}}else{const H=await this.startAuthentication(Z,Y,J,X),z=H.conversationId,F=q9.BSON.deserialize(H.payload.buffer),U=await this.fetchAccessToken(Z,Y,F,J,G,$,W);K=await this.finishAuthentication(Z,Y,U,z)}return K}async startAuthentication(Z,Y,J,X){let $;if(!J&&X?.speculativeAuthenticate)$=X.speculativeAuthenticate;else $=await Z.commandAsync((0,kg.ns)(Y.source),_g(Y),void 0);return $}async finishAuthentication(Z,Y,J,X){return await Z.commandAsync((0,kg.ns)(Y.source),yL1(J.accessToken,X),void 0)}async fetchAccessToken(Z,Y,J,X,$,W,G){const Q=this.cache.getEntry(Z.address,Y.username,$);let K;const H={timeoutSeconds:_L1,version:kL1};if(Q){if(Q.isValid()&&!X)return Q.tokenResult;if(G)H.refreshToken=Q.tokenResult.refreshToken,K=await G(J,H);else K=await W(J,H)}else K=await W(J,H);if(gL1(K))throw this.cache.deleteEntry(Z.address,Y.username,$),new wR.MongoMissingCredentialsError(fL1);return this.cache.deleteExpiredEntries(),this.cache.addEntry(Z.address,Y.username||"",$,K,J),K}}yg.CallbackWorkflow=fg});var pg=R((dg)=>{var vg=function(Z){const{credentials:Y}=Z;if(!Y)throw new mg.MongoMissingCredentialsError(uL1);return Y},hg=function(Z){const Y=Z.mechanismProperties.PROVIDER_NAME,J=dg.OIDC_WORKFLOWS.get(Y||"callback");if(!J)throw new mg.MongoInvalidArgumentError(`Could not load workflow for provider ${Z.mechanismProperties.PROVIDER_NAME}`);return J};Object.defineProperty(dg,"__esModule",{value:!0});dg.MongoDBOIDC=dg.OIDC_WORKFLOWS=void 0;var mg=o(),bL1=h4(),vL1=Wg(),hL1=Bg(),mL1=bg(),uL1="AuthContext must provide credentials.";dg.OIDC_WORKFLOWS=new Map;dg.OIDC_WORKFLOWS.set("callback",new mL1.CallbackWorkflow);dg.OIDC_WORKFLOWS.set("aws",new vL1.AwsServiceWorkflow);dg.OIDC_WORKFLOWS.set("azure",new hL1.AzureServiceWorkflow);class ug extends bL1.AuthProvider{constructor(){super()}async auth(Z){const{connection:Y,reauthenticating:J,response:X}=Z,$=vg(Z);await hg($).execute(Y,$,J,X)}async prepare(Z,Y){const J=vg(Y),$=await hg(J).speculativeAuth(J);return{...Z,...$}}}dg.MongoDBOIDC=ug});var ag=R((ig)=>{Object.defineProperty(ig,"__esModule",{value:!0});ig.Plain=void 0;var dL1=G0(),cL1=o(),pL1=Q1(),lL1=h4();class lg extends lL1.AuthProvider{async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new cL1.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:X,password:$}=J,G={saslStart:1,mechanism:"PLAIN",payload:new dL1.Binary(Buffer.from(`\0${X}\0${$}`)),autoAuthorize:1};await Y.commandAsync((0,pL1.ns)("$external.$cmd"),G,void 0)}}ig.Plain=lg});var tg=R((Zs1,rg)=>{var p4=function(Z,Y){if(!(this instanceof p4))return new p4(Z,Y);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=Z||1024,this.deduplicate=Y?Y.deduplicate:null,this.zeros=this.deduplicate?YK(this.deduplicate.length):null},iL1=function(Z,Y){while(Z.maxPages<Y){var J=Z.pages;Z.pages=new Array(32768),Z.pages[0]=J,Z.level++,Z.maxPages*=32768}},nL1=function(Z,Y){if(Z.length===Y)return Z;if(Z.length>Y)return Z.slice(0,Y);var J=YK(Y);return Z.copy(J),J},YK=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var Y=new Buffer(Z);return Y.fill(0),Y},aL1=function(Z){var Y=Buffer.allocUnsafe?Buffer.allocUnsafe(Z.length):new Buffer(Z.length);return Z.copy(Y),Y},sg=function(Z,Y){this.offset=Z*Y.length,this.buffer=Y,this.updated=!1,this.deduplicate=0},sL1=function(Z,Y){Z=(Z-(Y[0]=Z&32767))/32768,Z=(Z-(Y[1]=Z&32767))/32768,Y[3]=(Z-(Y[2]=Z&32767))/32768&32767};rg.exports=p4;p4.prototype.updated=function(Z){while(this.deduplicate&&Z.buffer[Z.deduplicate]===this.deduplicate[Z.deduplicate])if(Z.deduplicate++,Z.deduplicate===this.deduplicate.length){if(Z.deduplicate=0,Z.buffer.equals&&Z.buffer.equals(this.deduplicate))Z.buffer=this.deduplicate;break}if(Z.updated||!this.updates)return;Z.updated=!0,this.updates.push(Z)};p4.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var Z=this.updates.pop();return Z.updated=!1,Z};p4.prototype._array=function(Z,Y){if(Z>=this.maxPages){if(Y)return;iL1(this,Z)}sL1(Z,this.path);var J=this.pages;for(var X=this.level;X>0;X--){var $=this.path[X],W=J[$];if(!W){if(Y)return;W=J[$]=new Array(32768)}J=W}return J};p4.prototype.get=function(Z,Y){var J=this._array(Z,Y),X=this.path[0],$=J&&J[X];if(!$&&!Y){if($=J[X]=new sg(Z,YK(this.pageSize)),Z>=this.length)this.length=Z+1}if($&&$.buffer===this.deduplicate&&this.deduplicate&&!Y)$.buffer=aL1($.buffer),$.deduplicate=0;return $};p4.prototype.set=function(Z,Y){var J=this._array(Z,!1),X=this.path[0];if(Z>=this.length)this.length=Z+1;if(!Y||this.zeros&&Y.equals&&Y.equals(this.zeros)){J[X]=void 0;return}if(this.deduplicate&&Y.equals&&Y.equals(this.deduplicate))Y=this.deduplicate;var $=J[X],W=nL1(Y,this.pageSize);if($)$.buffer=W;else J[X]=new sg(Z,W)};p4.prototype.toBuffer=function(){var Z=new Array(this.length),Y=YK(this.pageSize),J=0;while(J<Z.length){var X=this._array(J,!0);for(var $=0;$<32768&&J<Z.length;$++)Z[J++]=X&&X[$]?X[$].buffer:Y}return Buffer.concat(Z)}});var eg=R((Ys1,og)=>{var s5=function(Z){if(!(this instanceof s5))return new s5(Z);if(!Z)Z={};if(Buffer.isBuffer(Z))Z={buffer:Z};if(this.pageOffset=Z.pageOffset||0,this.pageSize=Z.pageSize||1024,this.pages=Z.pages||rL1(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!oL1(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!Z.trackUpdates,this._pageMask=this.pageSize-1,Z.buffer){for(var Y=0;Y<Z.buffer.length;Y+=this.pageSize)this.pages.set(Y/this.pageSize,Z.buffer.slice(Y,Y+this.pageSize));this.byteLength=Z.buffer.length,this.length=8*this.byteLength}},tL1=function(Z){if(Buffer.alloc)return Buffer.alloc(Z);var Y=new Buffer(Z);return Y.fill(0),Y},oL1=function(Z){return!(Z&Z-1)},rL1=tg();og.exports=s5;s5.prototype.get=function(Z){var Y=Z&7,J=(Z-Y)/8;return!!(this.getByte(J)&128>>Y)};s5.prototype.getByte=function(Z){var Y=Z&this._pageMask,J=(Z-Y)/this.pageSize,X=this.pages.get(J,!0);return X?X.buffer[Y+this.pageOffset]:0};s5.prototype.set=function(Z,Y){var J=Z&7,X=(Z-J)/8,$=this.getByte(X);return this.setByte(X,Y?$|128>>J:$&(255^128>>J))};s5.prototype.toBuffer=function(){var Z=tL1(this.pages.length*this.pageSize);for(var Y=0;Y<this.pages.length;Y++){var J=this.pages.get(Y,!0),X=Y*this.pageSize;if(J)J.buffer.copy(Z,X,this.pageOffset,this.pageOffset+this.pageSize)}return Z};s5.prototype.setByte=function(Z,Y){var J=Z&this._pageMask,X=(Z-J)/this.pageSize,$=this.pages.get(X,!1);if(J+=this.pageOffset,$.buffer[J]===Y)return!1;if($.buffer[J]=Y,Z>=this.byteLength)this.byteLength=Z+1,this.length=this.byteLength*8;if(this._trackUpdates)this.pages.updated($);return!0}});var Yb=R((Zb)=>{Object.defineProperty(Zb,"__esModule",{value:!0});var eL1=import.meta.require("zlib");Zb.default=(0,eL1.gunzipSync)(Buffer.from("H4sIAAAAAAACA+3dTYgcWR0A8FfTnekQ47aCkBxiZpYV8RhwYQM7bA/ksoLgSRD0IOSiePAkLrowvWSF4CkHEW856MlTQHA9RKZ1ZJODsEcVcTOyhxUEbXdXtpPp1PNVV39Uz4czEyaTVOb3G6a7XtWrr/devX49/+qekG2Go7Aa2jHGyozG+Dmrzi2mP/xb/zMhLI+WlRm2byubm2h0ivVi7BYzusVjuNkt1l9uFWsutWL8OP4rzV9KeXdsKx1HFhbSc6vIG0fKBZ14UNfLFS6FRrGRtXh98ZvphL/x4uLV/IOzaat/vlikv/TixavxR8PQitfPpKNbffXSwgtr8fV07GX+L1967urwg5W0/t0LV37y/oWFlQtX8ping7reXE3LT680r9yPKyn/3Vn64SwdVs6m/KN0yHrp9D+RvXsqpe6MSia5mH6LSog//Xq/++O74YVTjfDFWK2VIuNSemiPppphcVYeyzcudKqFMiq6cs3vVkrzlcnE0mxeZ1Jf2ZXsSvk8TmRZWYdpalydxd5bc8eUkt1wlEbtqTVLr8XQLFpKMb+dpr9SbSOt4ozTgXUq8+Ihm8cTt0shtCvT6dwao6sxPf5ydmU208/Z0yH8IZtlvZi3e5fG12yn3PLSdPvnQ7vsK9rxyKpqevzFZGVfu3YHezvbnbvit9Xdm5fGbf/MZ7PuuNrTjLJnaofH7gm0h+VKU/g/tdUocrer3cO4yOcuycGoyLrba6Ta+lrlnkZ5ntvWCrfV39wLTuNg9QvsvHb37P8BAGCP0eNTOH5szf154JmnNQIcn7b+FziyAfX4eWnn+C6Lm4M0mj31ubkViiDV4WLvs56qN54xGS3HWER5su6nQtZubl9tcY/4atbr9e5kWewew/g2a8fdy2Yaa97+pgQAAAAAAIBHtt+dYmWwaN/byI5g/9PYVfMvb4YvvDpOLJxvFgueP9VbPXh8/yCZViZxNYATaejmDQAAAACgfjJ/3QUA4JD3Px1InT+5PtQCAAAAAAAAAKD2xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP7E/wEAAAAAAACg/sT/AQAAAAAAAKD+xP8BAAAAAAAAoP6G6+khVCgSAAAAAAAAAKidYQjLYVfNcPSyAE+dhQsnvAAq59/VHAAAAAAAAOCJmv8E/w4HiLqf3nWuWCB1pe0esg/pT3sKd+m4XjhpFpZH3/1THTcU6cfRLnrHf3ZNPZs+bf9rwPuIUPYAWb+j/Zy0EaAxAAAAAADwrPJ1IMBenu6ea99M+0W/17wCAAAAAAAAnGRLm8oA4JnQUAQAAAAAAAAAUHvi/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/4v8AAAAAAAAAUH/i/wAAAAAAAABQf+L/AAAAAAAAAFB/jdX0ECsUCQAAAAAAAADUTiMCAAAAAAAAAHU3VAQAAAAAAAAAUH8hLNf1uwsWbhT/uWBzUEx/ei1Nxc001VqrnN2wuRjCK3G4HuNgtuJoSVj17Q9QyBQBAAAAAAAAHMKpuJ4/+Otc5L2XZi8dJlQ/LCPXhc4keJ9UI9uFre3rDfY9uoXZPQBFHL34HSWWm8sx5rH83d967IfZMRZHHG/2Qi8MFnbscXnhnzHei5NND8P2bW2OT3G8vFeebBHbz9dGEf5jDt+fK4/mTve1bnwndsNL92+mE/75xhs/yz65Ed/ZbP29SP96oxvCDxrxcjj333R262/d6X6tG66lYy/z/+rtMn83nHvv9nfOv/dw4+pvspCl4v7+1npa/nHvtbSvjSJ/mf79/VuLC7N03LiW8o/SMU8ldO+jPOul1OVQ3vVwK+TZqBLCt3/RXvveS7eaD0L8YyhrJeV/cC0WGTdD1hzlCo2H98vzK9a+963V7qRVTeaNa+ZGpWp+N62jSmOetJD8dn67fB4n8nzchG7n4+os2tcgzLWUQVg70rta8lE7nqW7IW710v7eDsV1F7e6433njYfd9j9Gl2KIveptMePVamOXQuhXO5tUk6Pv+kiPX43T7/3YevDy4MN+HLw8CHPX6OqOOwKe73z0+pnf3rvT6pX76j/SUU7/3UjqX5r7ZW7PdZU8Vq2id+29Pphdh3n1Tqp/t0aXaWVOPnsFGre+waRdpKf/TK+7fiX3bOWluVeJg77AAPNDwr37fwAA2GP0+BSOHwcn6/231ghwfPr6X+DIBtTj582d47s8LD3xMeYktt+YHXHe6XQuH9P4Nu+H3ctmGmve/qYEAAAAAACAR7bfnWJlsGgSNNoM54tPZ23EI4vYzPY1/fzq1ud/GP/01jjx8P2tYsG7DzrrB4/vHySTz5YB+n8AAAAAgJrJ/XEXAIDHEf/2yXUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGdABAAAAAAAAADqbqgIAAAAAAAAAKD2hv8DWK79UBhoBgA=","base64"))});var $b=R((I8)=>{var GJ=function(){const Z=Jb.default.readUInt32BE(o3);o3+=4;const Y=Jb.default.slice(o3,o3+Z);return o3+=Z,(0,YR1.default)({buffer:Y})},Xb=I8&&I8.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(I8,"__esModule",{value:!0});I8.bidirectional_l=I8.bidirectional_r_al=I8.prohibited_characters=I8.non_ASCII_space_characters=I8.commonly_mapped_to_nothing=I8.unassigned_code_points=void 0;var YR1=Xb(eg()),Jb=Xb(Yb()),o3=0;I8.unassigned_code_points=GJ();I8.commonly_mapped_to_nothing=GJ();I8.non_ASCII_space_characters=GJ();I8.prohibited_characters=GJ();I8.bidirectional_r_al=GJ();I8.bidirectional_l=GJ()});var Kb=R(($s1,Qb)=>{var Gb=function(Z){const Y=[],J=Z.length;for(let X=0;X<J;X+=1){const $=Z.charCodeAt(X);if($>=55296&&$<=56319&&J>X+1){const W=Z.charCodeAt(X+1);if(W>=56320&&W<=57343){Y.push(($-55296)*1024+W-56320+65536),X+=1;continue}}Y.push($)}return Y},e3=function(Z,Y={}){if(typeof Z!=="string")throw new TypeError("Expected string.");if(Z.length===0)return"";const J=Gb(Z).map((z)=>JR1.get(z)?32:z).filter((z)=>!XR1.get(z)),X=String.fromCodePoint.apply(null,J).normalize("NFKC"),$=Gb(X);if($.some((z)=>r5.prohibited_characters.get(z)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(Y.allowUnassigned!==!0){if($.some((F)=>r5.unassigned_code_points.get(F)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5")}const G=$.some((z)=>r5.bidirectional_r_al.get(z)),Q=$.some((z)=>r5.bidirectional_l.get(z));if(G&&Q)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");const K=r5.bidirectional_r_al.get(Wb($R1(X))),H=r5.bidirectional_r_al.get(Wb(WR1(X)));if(G&&!(K&&H))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return X},r5=$b(),JR1=r5.non_ASCII_space_characters,XR1=r5.commonly_mapped_to_nothing,Wb=(Z)=>Z.codePointAt(0),$R1=(Z)=>Z[0],WR1=(Z)=>Z[Z.length-1];e3.saslprep=e3;e3.default=e3;Qb.exports=e3});var Bb=R((wb)=>{var Fb=function(Z){return Z.replace("=","=3D").replace(",","=2C")},Ub=function(Z,Y){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(Z,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(Y.toString("base64"),"utf8")])},qb=function(Z,Y,J){const X=Fb(Y.username);return{saslStart:1,mechanism:Z==="sha1"?Hb.AuthMechanism.MONGODB_SCRAM_SHA1:Hb.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new MR.Binary(Buffer.concat([Buffer.from("n,,","utf8"),Ub(X,J)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}};async function HR1(Z,Y){const{connection:J,credentials:X}=Y;if(!X)throw new O7.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!Y.nonce)throw new O7.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");const $=Y.nonce,W=X.source,G=qb(Z,X,$),Q=await J.commandAsync((0,BR.ns)(`${W}.\$cmd`),G,void 0);await Vb(Z,Q,Y)}async function Vb(Z,Y,J){const{connection:X,credentials:$}=J;if(!$)throw new O7.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!J.nonce)throw new O7.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");const W=J.nonce,G=$.source,Q=Fb($.username),K=$.password,H=Z==="sha256"?(0,GR1.saslprep)(K):zR1(Q,K),z=Buffer.isBuffer(Y.payload)?new MR.Binary(Y.payload):Y.payload,F=zb(z),U=parseInt(F.i,10);if(U&&U<4096)throw new O7.MongoRuntimeError(`Server returned an invalid iteration count ${U}`);const{s:q,r:V}=F;if(V.startsWith("nonce"))throw new O7.MongoRuntimeError(`Server returned an invalid nonce: ${V}`);const L=`c=biws,r=${V}`,w=LR1(H,Buffer.from(q,"base64"),U,Z),B=JK(Z,w,"Client Key"),A=JK(Z,w,"Server Key"),M=UR1(Z,B),I=[Ub(Q,W),z.toString("utf8"),L].join(","),x=JK(Z,M,I),j=`p=${FR1(B,x)}`,E=[L,j].join(","),D=JK(Z,A,I),l={saslContinue:1,conversationId:Y.conversationId,payload:new MR.Binary(Buffer.from(E))},b=await X.commandAsync((0,BR.ns)(`${G}.\$cmd`),l,void 0),_=zb(b.payload);if(!RR1(Buffer.from(_.v,"base64"),D))throw new O7.MongoRuntimeError("Server returned an invalid signature");if(b.done!==!1)return;const O={saslContinue:1,conversationId:b.conversationId,payload:Buffer.alloc(0)};await X.commandAsync((0,BR.ns)(`${G}.\$cmd`),O,void 0)}var zb=function(Z){const Y=Z.toString("utf8"),J={},X=Y.split(",");for(let $=0;$<X.length;$++){const W=X[$].split("=");J[W[0]]=W[1]}return J},zR1=function(Z,Y){if(typeof Z!=="string")throw new O7.MongoInvalidArgumentError("Username must be a string");if(typeof Y!=="string")throw new O7.MongoInvalidArgumentError("Password must be a string");if(Y.length===0)throw new O7.MongoInvalidArgumentError("Password cannot be empty");let J;try{J=t5.createHash("md5")}catch(X){if(t5.getFips())throw new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode");throw X}return J.update(`${Z}:mongo:${Y}`,"utf8"),J.digest("hex")},FR1=function(Z,Y){if(!Buffer.isBuffer(Z))Z=Buffer.from(Z);if(!Buffer.isBuffer(Y))Y=Buffer.from(Y);const J=Math.max(Z.length,Y.length),X=[];for(let $=0;$<J;$+=1)X.push(Z[$]^Y[$]);return Buffer.from(X).toString("base64")},UR1=function(Z,Y){return t5.createHash(Z).update(Y).digest()},JK=function(Z,Y,J){return t5.createHmac(Z,Y).update(J).digest()},qR1=function(){XK={},AR=0},LR1=function(Z,Y,J,X){const $=[Z,Y.toString("base64"),J].join("_");if(XK[$]!=null)return XK[$];const W=t5.pbkdf2Sync(Z,Y,J,VR1[X],X);if(AR>=200)qR1();return XK[$]=W,AR+=1,W},RR1=function(Z,Y){if(Z.length!==Y.length)return!1;if(typeof t5.timingSafeEqual==="function")return t5.timingSafeEqual(Z,Y);let J=0;for(let X=0;X<Z.length;X++)J|=Z[X]^Y[X];return J===0};Object.defineProperty(wb,"__esModule",{value:!0});wb.ScramSHA256=wb.ScramSHA1=void 0;var GR1=Kb(),t5=import.meta.require("crypto"),QR1=import.meta.require("util"),MR=G0(),O7=o(),BR=Q1(),KR1=h4(),Hb=G4();class NR extends KR1.AuthProvider{constructor(Z){super();this.cryptoMethod=Z||"sha1",this.randomBytesAsync=(0,QR1.promisify)(t5.randomBytes)}async prepare(Z,Y){const J=this.cryptoMethod,X=Y.credentials;if(!X)throw new O7.MongoMissingCredentialsError("AuthContext must provide credentials.");const $=await this.randomBytesAsync(24);return Y.nonce=$,{...Z,speculativeAuthenticate:{...qb(J,X,$),db:X.source}}}async auth(Z){const{reauthenticating:Y,response:J}=Z;if(J?.speculativeAuthenticate&&!Y)return Vb(this.cryptoMethod,J.speculativeAuthenticate,Z);return HR1(this.cryptoMethod,Z)}}var XK={},AR=0,VR1={sha256:32,sha1:20};class Lb extends NR{constructor(){super("sha1")}}wb.ScramSHA1=Lb;class Rb extends NR{constructor(){super("sha256")}}wb.ScramSHA256=Rb});var Tb=R((Db)=>{var Nb=function(Z){const Y={authenticate:1,mechanism:"MONGODB-X509"};if(Z.username)Y.user=Z.username;return Y};Object.defineProperty(Db,"__esModule",{value:!0});Db.X509=void 0;var Ab=o(),MR1=Q1(),BR1=h4();class Ib extends BR1.AuthProvider{async prepare(Z,Y){const{credentials:J}=Y;if(!J)throw new Ab.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...Z,speculativeAuthenticate:Nb(J)}}async auth(Z){const{connection:Y,credentials:J}=Z;if(!J)throw new Ab.MongoMissingCredentialsError("AuthContext must provide credentials.");if(Z.response?.speculativeAuthenticate)return;await Y.commandAsync((0,MR1.ns)("$external.$cmd"),Nb(J),void 0)}}Db.X509=Ib});var CR=R((xb)=>{var OR1=function(Z,Y){DR({...Z,existingSocket:void 0},(J,X)=>{if(J||!X)return Y(J);let $=Z.connectionType??Eb.Connection;if(Z.autoEncrypter)$=Eb.CryptoConnection;const W=new $(X,Z);kR1(W,Z).then(()=>Y(void 0,W),(G)=>{W.destroy({force:!1}),Y(G)})})},SR1=function(Z,Y){const J=Number(Z.maxWireVersion),X=Number(Z.minWireVersion),$=!Number.isNaN(J)&&J>=QJ.MIN_SUPPORTED_WIRE_VERSION,W=!Number.isNaN(X)&&X<=QJ.MAX_SUPPORTED_WIRE_VERSION;if($){if(W)return null;const Q=`Server at ${Y.hostAddress} reports minimum wire version ${JSON.stringify(Z.minWireVersion)}, but this version of the Node.js Driver requires at most ${QJ.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${QJ.MAX_SUPPORTED_SERVER_VERSION})`;return new b0.MongoCompatibilityError(Q)}const G=`Server at ${Y.hostAddress} reports maximum wire version ${JSON.stringify(Z.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${QJ.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${QJ.MIN_SUPPORTED_SERVER_VERSION})`;return new b0.MongoCompatibilityError(G)};async function kR1(Z,Y){const J=Y.credentials;if(J){if(J.mechanism!==J7.AuthMechanism.MONGODB_DEFAULT&&!xb.AUTH_PROVIDERS.get(J.mechanism))throw new b0.MongoInvalidArgumentError(`AuthMechanism '${J.mechanism}' not supported`)}const X=new IR1.AuthContext(Z,J,Y);Z.authContext=X;const $=await kb(X),W={...Y};if(typeof Y.connectTimeoutMS==="number")W.socketTimeoutMS=Y.connectTimeoutMS;const G=(new Date()).getTime(),Q=await Z.commandAsync((0,Sb.ns)("admin.$cmd"),$,W);if(!("isWritablePrimary"in Q))Q.isWritablePrimary=Q[Ob.LEGACY_HELLO_COMMAND];if(Q.helloOk)Z.helloOk=!0;const K=SR1(Q,Y);if(K)throw K;if(Y.loadBalanced){if(!Q.serviceId)throw new b0.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.")}if(Z.hello=Q,Z.lastHelloMS=(new Date()).getTime()-G,!Q.arbiterOnly&&J){X.response=Q;const H=J.resolveAuthMechanism(Q),z=xb.AUTH_PROVIDERS.get(H.mechanism);if(!z)throw new b0.MongoInvalidArgumentError(`No AuthProvider for ${H.mechanism} defined.`);try{await z.auth(X)}catch(F){if(F instanceof b0.MongoError){if(F.addErrorLabel(b0.MongoErrorLabel.HandshakeError),(0,b0.needsRetryableWriteLabel)(F,Q.maxWireVersion))F.addErrorLabel(b0.MongoErrorLabel.RetryableWriteError)}throw F}}}async function kb(Z){const Y=Z.options,J=Y.compressors?Y.compressors:[],{serverApi:X}=Z.connection,$={[X?.version?"hello":Ob.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:Y.metadata,compression:J};if(Y.loadBalanced===!0)$.loadBalanced=!0;const W=Z.credentials;if(W){if(W.mechanism===J7.AuthMechanism.MONGODB_DEFAULT&&W.username){$.saslSupportedMechs=`${W.source}.${W.username}`;const Q=xb.AUTH_PROVIDERS.get(J7.AuthMechanism.MONGODB_SCRAM_SHA256);if(!Q)throw new b0.MongoInvalidArgumentError(`No AuthProvider for ${J7.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return Q.prepare($,Z)}const G=xb.AUTH_PROVIDERS.get(W.mechanism);if(!G)throw new b0.MongoInvalidArgumentError(`No AuthProvider for ${W.mechanism} defined.`);return G.prepare($,Z)}return $}var PR=function(Z){const Y=Z.hostAddress;if(!Y)throw new b0.MongoInvalidArgumentError('Option "hostAddress" is required');const J={};for(let X of xb.LEGAL_TCP_SOCKET_OPTIONS)if(Z[X]!=null)J[X]=Z[X];if(typeof Y.socketPath==="string")return J.path=Y.socketPath,J;else if(typeof Y.host==="string")return J.host=Y.host,J.port=Y.port,J;else throw new b0.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(Y)}`)},_R1=function(Z){const Y=PR(Z);for(let J of xb.LEGAL_TLS_SOCKET_OPTIONS)if(Z[J]!=null)Y[J]=Z[J];if(Z.existingSocket)Y.socket=Z.existingSocket;if(Y.servername==null&&Y.host&&!jb.isIP(Y.host))Y.servername=Y.host;return Y},DR=function(Z,Y){const J=Z.tls??!1,X=Z.noDelay??!0,$=Z.connectTimeoutMS??30000,W=Z.rejectUnauthorized??!0,G=Z.existingSocket;let Q;const K=function(q,V){if(q&&Q)Q.destroy();Y(q,V)};if(Z.proxyHost!=null)return yR1({...Z,connectTimeoutMS:$},K);if(J){const q=AR1.connect(_R1(Z));if(typeof q.disableRenegotiation==="function")q.disableRenegotiation();Q=q}else if(G)Q=G;else Q=jb.createConnection(PR(Z));Q.setKeepAlive(!0,300000),Q.setTimeout($),Q.setNoDelay(X);const H=J?"secureConnect":"connect";let z;function F(q){return(V)=>{if(IR.forEach((L)=>Q.removeAllListeners(L)),z&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",z);Q.removeListener(H,U),K(_b(q,V))}}function U(){if(IR.forEach((q)=>Q.removeAllListeners(q)),z&&Z.cancellationToken)Z.cancellationToken.removeListener("cancel",z);if("authorizationError"in Q){if(Q.authorizationError&&W)return K(Q.authorizationError)}Q.setTimeout(0),K(void 0,Q)}if(IR.forEach((q)=>Q.once(q,F(q))),Z.cancellationToken)z=F("cancel"),Z.cancellationToken.once("cancel",z);if(G)process.nextTick(U);else Q.once(H,U)},fR1=function(){if(Z$==null){const Z=(0,NR1.getSocks)();if("kModuleError"in Z)throw Z.kModuleError;Z$=Z}return Z$},yR1=function(Z,Y){const J=Sb.HostAddress.fromHostPort(Z.proxyHost??"",Z.proxyPort??1080);DR({...Z,hostAddress:J,tls:!1,proxyHost:void 0},(X,$)=>{if(X||!$)return Y(X);const W=PR(Z);if(typeof W.host!=="string"||typeof W.port!=="number")return Y(new b0.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts"));try{Z$??=fR1()}catch(G){return Y(G)}Z$.SocksClient.createConnection({existing_socket:$,timeout:Z.connectTimeoutMS,command:"connect",destination:{host:W.host,port:W.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:Z.proxyUsername||void 0,password:Z.proxyPassword||void 0}}).then(({socket:G})=>{DR({...Z,existingSocket:G,proxyHost:void 0},Y)},(G)=>Y(_b("error",G)))})},_b=function(Z,Y){switch(Z){case"error":return new b0.MongoNetworkError(b0.MongoError.buildErrorMessage(Y),{cause:Y});case"timeout":return new b0.MongoNetworkTimeoutError("connection timed out");case"close":return new b0.MongoNetworkError("connection closed");case"cancel":return new b0.MongoNetworkError("connection establishment was cancelled");default:return new b0.MongoNetworkError("unknown network error")}};Object.defineProperty(xb,"__esModule",{value:!0});xb.LEGAL_TCP_SOCKET_OPTIONS=xb.LEGAL_TLS_SOCKET_OPTIONS=xb.prepareHandshakeDocument=xb.connect=xb.AUTH_PROVIDERS=void 0;var jb=import.meta.require("net"),AR1=import.meta.require("tls"),Ob=s0(),NR1=P7(),b0=o(),Sb=Q1(),IR1=h4(),DR1=BQ(),PR1=ay(),TR1=oy(),CR1=pg(),ER1=ag(),J7=G4(),Cb=Bb(),jR1=Tb(),Eb=s3(),QJ=sZ();xb.AUTH_PROVIDERS=new Map([[J7.AuthMechanism.MONGODB_AWS,new TR1.MongoDBAWS],[J7.AuthMechanism.MONGODB_CR,new PR1.MongoCR],[J7.AuthMechanism.MONGODB_GSSAPI,new DR1.GSSAPI],[J7.AuthMechanism.MONGODB_OIDC,new CR1.MongoDBOIDC],[J7.AuthMechanism.MONGODB_PLAIN,new ER1.Plain],[J7.AuthMechanism.MONGODB_SCRAM_SHA1,new Cb.ScramSHA1],[J7.AuthMechanism.MONGODB_SCRAM_SHA256,new Cb.ScramSHA256],[J7.AuthMechanism.MONGODB_X509,new jR1.X509]]);xb.connect=OR1;xb.prepareHandshakeDocument=kb;xb.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"];xb.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];var xR1=["error","close","timeout","parseError"],IR=new Set(xR1),Z$=null});var ER=R((ib)=>{Object.defineProperty(ib,"__esModule",{value:!0});ib.ConnectionPoolClearedEvent=ib.ConnectionCheckedInEvent=ib.ConnectionCheckedOutEvent=ib.ConnectionCheckOutFailedEvent=ib.ConnectionCheckOutStartedEvent=ib.ConnectionClosedEvent=ib.ConnectionReadyEvent=ib.ConnectionCreatedEvent=ib.ConnectionPoolClosedEvent=ib.ConnectionPoolReadyEvent=ib.ConnectionPoolCreatedEvent=ib.ConnectionPoolMonitoringEvent=void 0;var S7=s0();class j6{constructor(Z){this.time=new Date,this.address=Z.address}}ib.ConnectionPoolMonitoringEvent=j6;class yb extends j6{constructor(Z){super(Z);this.name=S7.CONNECTION_POOL_CREATED;const{maxConnecting:Y,maxPoolSize:J,minPoolSize:X,maxIdleTimeMS:$,waitQueueTimeoutMS:W}=Z.options;this.options={maxConnecting:Y,maxPoolSize:J,minPoolSize:X,maxIdleTimeMS:$,waitQueueTimeoutMS:W}}}ib.ConnectionPoolCreatedEvent=yb;class gb extends j6{constructor(Z){super(Z);this.name=S7.CONNECTION_POOL_READY}}ib.ConnectionPoolReadyEvent=gb;class bb extends j6{constructor(Z){super(Z);this.name=S7.CONNECTION_POOL_CLOSED}}ib.ConnectionPoolClosedEvent=bb;class vb extends j6{constructor(Z,Y){super(Z);this.name=S7.CONNECTION_CREATED,this.connectionId=Y.id}}ib.ConnectionCreatedEvent=vb;class hb extends j6{constructor(Z,Y){super(Z);this.name=S7.CONNECTION_READY,this.connectionId=Y.id}}ib.ConnectionReadyEvent=hb;class mb extends j6{constructor(Z,Y,J,X){super(Z);this.name=S7.CONNECTION_CLOSED,this.connectionId=Y.id,this.reason=J,this.serviceId=Y.serviceId,this.error=X??null}}ib.ConnectionClosedEvent=mb;class ub extends j6{constructor(Z){super(Z);this.name=S7.CONNECTION_CHECK_OUT_STARTED}}ib.ConnectionCheckOutStartedEvent=ub;class db extends j6{constructor(Z,Y,J){super(Z);this.name=S7.CONNECTION_CHECK_OUT_FAILED,this.reason=Y,this.error=J}}ib.ConnectionCheckOutFailedEvent=db;class cb extends j6{constructor(Z,Y){super(Z);this.name=S7.CONNECTION_CHECKED_OUT,this.connectionId=Y.id}}ib.ConnectionCheckedOutEvent=cb;class pb extends j6{constructor(Z,Y){super(Z);this.name=S7.CONNECTION_CHECKED_IN,this.connectionId=Y.id}}ib.ConnectionCheckedInEvent=pb;class lb extends j6{constructor(Z,Y={}){super(Z);this.name=S7.CONNECTION_POOL_CLEARED,this.serviceId=Y.serviceId,this.interruptInUseConnections=Y.interruptInUseConnections}}ib.ConnectionPoolClearedEvent=lb});var OR=R((tb)=>{Object.defineProperty(tb,"__esModule",{value:!0});tb.WaitQueueTimeoutError=tb.PoolClearedOnNetworkError=tb.PoolClearedError=tb.PoolClosedError=void 0;var $K=o();class ab extends $K.MongoDriverError{constructor(Z){super("Attempted to check out a connection from closed connection pool");this.address=Z.address}get name(){return"MongoPoolClosedError"}}tb.PoolClosedError=ab;class jR extends $K.MongoNetworkError{constructor(Z,Y){const J=Y?Y:`Connection pool for ${Z.address} was cleared because another operation failed with: "${Z.serverError?.message}"`;super(J,Z.serverError?{cause:Z.serverError}:void 0);this.address=Z.address,this.addErrorLabel($K.MongoErrorLabel.RetryableWriteError)}get name(){return"MongoPoolClearedError"}}tb.PoolClearedError=jR;class sb extends jR{constructor(Z){super(Z,`Connection to ${Z.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}}tb.PoolClearedOnNetworkError=sb;class rb extends $K.MongoDriverError{constructor(Z,Y){super(Z);this.address=Y}get name(){return"MongoWaitQueueTimeoutError"}}tb.WaitQueueTimeoutError=rb});var $v=R((Jv)=>{Object.defineProperty(Jv,"__esModule",{value:!0});Jv.ConnectionPool=Jv.PoolState=void 0;var KJ=import.meta.require("timers"),$7=s0(),k7=o(),eb=D6(),J$=Q1(),Zv=CR(),WK=s3(),Q8=ER(),HJ=OR(),oR1=eq(),GK=Symbol("server"),l4=Symbol("connections"),zJ=Symbol("pending"),o5=Symbol("checkedOut"),V9=Symbol("minPoolSizeTimer"),FJ=Symbol("generation"),Yv=Symbol("serviceGenerations"),QK=Symbol("connectionCounter"),KK=Symbol("cancellationToken"),i4=Symbol("waitQueue"),HK=Symbol("cancelled"),zK=Symbol("metrics"),FK=Symbol("processingWaitQueue"),_7=Symbol("poolState");Jv.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});class i1 extends eb.TypedEventEmitter{constructor(Z,Y){super();if(this.options=Object.freeze({...Y,connectionType:WK.Connection,maxPoolSize:Y.maxPoolSize??100,minPoolSize:Y.minPoolSize??0,maxConnecting:Y.maxConnecting??2,maxIdleTimeMS:Y.maxIdleTimeMS??0,waitQueueTimeoutMS:Y.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:Y.minPoolSizeCheckFrequencyMS??100,autoEncrypter:Y.autoEncrypter,metadata:Y.metadata}),this.options.minPoolSize>this.options.maxPoolSize)throw new k7.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[_7]=Jv.PoolState.paused,this[GK]=Z,this[l4]=new J$.List,this[zJ]=0,this[o5]=new Set,this[V9]=void 0,this[FJ]=0,this[Yv]=new Map,this[QK]=(0,J$.makeCounter)(1),this[KK]=new eb.CancellationToken,this[KK].setMaxListeners(Infinity),this[i4]=new J$.List,this[zK]=new oR1.ConnectionPoolMetrics,this[FK]=!1,this.mongoLogger=this[GK].topology.client.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog(i1.CONNECTION_POOL_CREATED,new Q8.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[_7]===Jv.PoolState.closed}get generation(){return this[FJ]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[l4].length}get pendingConnectionCount(){return this[zJ]}get currentCheckedOutCount(){return this[o5].size}get waitQueueSize(){return this[i4].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[Yv]}get serverError(){return this[GK].description.error}get checkedOutConnections(){return this[o5]}waitQueueErrorMetrics(){return this[zK].info(this.options.maxPoolSize)}ready(){if(this[_7]!==Jv.PoolState.paused)return;this[_7]=Jv.PoolState.ready,this.emitAndLog(i1.CONNECTION_POOL_READY,new Q8.ConnectionPoolReadyEvent(this)),(0,KJ.clearTimeout)(this[V9]),this.ensureMinPoolSize()}checkOut(Z){this.emitAndLog(i1.CONNECTION_CHECK_OUT_STARTED,new Q8.ConnectionCheckOutStartedEvent(this));const Y=this.options.waitQueueTimeoutMS,J={callback:Z,timeoutController:new J$.TimeoutController(Y)};J.timeoutController.signal.addEventListener("abort",()=>{J[HK]=!0,J.timeoutController.clear(),this.emitAndLog(i1.CONNECTION_CHECK_OUT_FAILED,new Q8.ConnectionCheckOutFailedEvent(this,"timeout")),J.callback(new HJ.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))}),this[i4].push(J),process.nextTick(()=>this.processWaitQueue())}checkIn(Z){if(!this[o5].has(Z))return;const Y=this.closed,J=this.connectionIsStale(Z),X=!!(Y||J||Z.closed);if(!X)Z.markAvailable(),this[l4].unshift(Z);if(this[o5].delete(Z),this.emitAndLog(i1.CONNECTION_CHECKED_IN,new Q8.ConnectionCheckedInEvent(this,Z)),X){const $=Z.closed?"error":Y?"poolClosed":"stale";this.destroyConnection(Z,$)}process.nextTick(()=>this.processWaitQueue())}clear(Z={}){if(this.closed)return;if(this.loadBalanced){const{serviceId:$}=Z;if(!$)throw new k7.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");const W=$.toHexString(),G=this.serviceGenerations.get(W);if(G==null)throw new k7.MongoRuntimeError("Service generations are required in load balancer mode.");else this.serviceGenerations.set(W,G+1);this.emitAndLog(i1.CONNECTION_POOL_CLEARED,new Q8.ConnectionPoolClearedEvent(this,{serviceId:$}));return}const Y=Z.interruptInUseConnections??!1,J=this[FJ];this[FJ]+=1;const X=this[_7]===Jv.PoolState.paused;if(this[_7]=Jv.PoolState.paused,this.clearMinPoolSizeTimer(),!X)this.emitAndLog(i1.CONNECTION_POOL_CLEARED,new Q8.ConnectionPoolClearedEvent(this,{interruptInUseConnections:Y}));if(Y)process.nextTick(()=>this.interruptInUseConnections(J));this.processWaitQueue()}interruptInUseConnections(Z){for(let Y of this[o5])if(Y.generation<=Z)this.checkIn(Y),Y.onError(new HJ.PoolClearedOnNetworkError(this))}close(Z,Y){let J=Z;const X=Y??Z;if(typeof J==="function")J={};if(J=Object.assign({force:!1},J),this.closed)return X();if(this[KK].emit("cancel"),typeof this[QK].return==="function")this[QK].return(void 0);this[_7]=Jv.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue(),(0,J$.eachAsync)(this[l4].toArray(),($,W)=>{this.emitAndLog(i1.CONNECTION_CLOSED,new Q8.ConnectionClosedEvent(this,$,"poolClosed")),$.destroy({force:!!J.force},W)},($)=>{this[l4].clear(),this.emitAndLog(i1.CONNECTION_POOL_CLOSED,new Q8.ConnectionPoolClosedEvent(this)),X($)})}withConnection(Z,Y,J){if(Z){Y(void 0,Z,(X,$)=>{if(X)return this.withReauthentication(X,Z,Y,J);J(void 0,$)});return}this.checkOut((X,$)=>{Y(X,$,(W,G)=>{if(W)if($)this.withReauthentication(W,$,Y,J);else J(W);else J(void 0,G);if($)this.checkIn($)})})}withReauthentication(Z,Y,J,X){if(Z instanceof k7.MongoError&&Z.code===k7.MONGODB_ERROR_CODES.Reauthenticate)this.reauthenticate(Y,J,($,W)=>{if($)return X($);X(void 0,W)});else X(Z)}reauthenticate(Z,Y,J){const X=Z.authContext;if(!X)return J(new k7.MongoRuntimeError("No auth context found on connection."));const $=X.credentials;if(!$)return J(new k7.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate"));const W=$.resolveAuthMechanism(Z.hello||void 0),G=Zv.AUTH_PROVIDERS.get(W.mechanism);if(!G)return J(new k7.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${$.mechanism}`));G.reauth(X).then(()=>{Y(void 0,Z,(Q,K)=>{if(Q)return J(Q);J(void 0,K)})},(Q)=>J(Q))}clearMinPoolSizeTimer(){const Z=this[V9];if(Z)(0,KJ.clearTimeout)(Z)}destroyConnection(Z,Y){this.emitAndLog(i1.CONNECTION_CLOSED,new Q8.ConnectionClosedEvent(this,Z,Y)),process.nextTick(()=>Z.destroy({force:!1}))}connectionIsStale(Z){const Y=Z.serviceId;if(this.loadBalanced&&Y){const J=Y.toHexString(),X=this.serviceGenerations.get(J);return Z.generation!==X}return Z.generation!==this[FJ]}connectionIsIdle(Z){return!!(this.options.maxIdleTimeMS&&Z.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(Z){const Y=this.connectionIsStale(Z),J=this.connectionIsIdle(Z);if(!Y&&!J&&!Z.closed)return!1;const X=Z.closed?"error":Y?"stale":"idle";return this.destroyConnection(Z,X),!0}createConnection(Z){const Y={...this.options,id:this[QK].next().value,generation:this[FJ],cancellationToken:this[KK]};this[zJ]++,this.emitAndLog(i1.CONNECTION_CREATED,new Q8.ConnectionCreatedEvent(this,{id:Y.id})),(0,Zv.connect)(Y,(J,X)=>{if(J||!X){if(this[zJ]--,this.emitAndLog(i1.CONNECTION_CLOSED,new Q8.ConnectionClosedEvent(this,{id:Y.id,serviceId:void 0},"error",J)),J instanceof k7.MongoNetworkError||J instanceof k7.MongoServerError)J.connectionGeneration=Y.generation;Z(J??new k7.MongoRuntimeError("Connection creation failed without error"));return}if(this[_7]!==Jv.PoolState.ready){this[zJ]--,X.destroy({force:!0}),Z(this.closed?new HJ.PoolClosedError(this):new HJ.PoolClearedError(this));return}for(let $ of[...$7.APM_EVENTS,WK.Connection.CLUSTER_TIME_RECEIVED])X.on($,(W)=>this.emit($,W));if(this.loadBalanced){X.on(WK.Connection.PINNED,(W)=>this[zK].markPinned(W)),X.on(WK.Connection.UNPINNED,(W)=>this[zK].markUnpinned(W));const $=X.serviceId;if($){let W;const G=$.toHexString();if(W=this.serviceGenerations.get(G))X.generation=W;else this.serviceGenerations.set(G,0),X.generation=0}}X.markAvailable(),this.emitAndLog(i1.CONNECTION_READY,new Q8.ConnectionReadyEvent(this,X)),this[zJ]--,Z(void 0,X);return})}ensureMinPoolSize(){const Z=this.options.minPoolSize;if(this[_7]!==Jv.PoolState.ready||Z===0)return;if(this[l4].prune((Y)=>this.destroyConnectionIfPerished(Y)),this.totalConnectionCount<Z&&this.pendingConnectionCount<this.options.maxConnecting)this.createConnection((Y,J)=>{if(Y)this[GK].handleError(Y);if(!Y&&J)this[l4].push(J),process.nextTick(()=>this.processWaitQueue());if(this[_7]===Jv.PoolState.ready)(0,KJ.clearTimeout)(this[V9]),this[V9]=(0,KJ.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)});else(0,KJ.clearTimeout)(this[V9]),this[V9]=(0,KJ.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)}processWaitQueue(){if(this[FK])return;this[FK]=!0;while(this.waitQueueSize){const J=this[i4].first();if(!J){this[i4].shift();continue}if(J[HK]){this[i4].shift();continue}if(this[_7]!==Jv.PoolState.ready){const $=this.closed?"poolClosed":"connectionError",W=this.closed?new HJ.PoolClosedError(this):new HJ.PoolClearedError(this);this.emitAndLog(i1.CONNECTION_CHECK_OUT_FAILED,new Q8.ConnectionCheckOutFailedEvent(this,$,W)),J.timeoutController.clear(),this[i4].shift(),J.callback(W);continue}if(!this.availableConnectionCount)break;const X=this[l4].shift();if(!X)break;if(!this.destroyConnectionIfPerished(X))this[o5].add(X),this.emitAndLog(i1.CONNECTION_CHECKED_OUT,new Q8.ConnectionCheckedOutEvent(this,X)),J.timeoutController.clear(),this[i4].shift(),J.callback(void 0,X)}const{maxPoolSize:Z,maxConnecting:Y}=this.options;while(this.waitQueueSize>0&&this.pendingConnectionCount<Y&&(Z===0||this.totalConnectionCount<Z)){const J=this[i4].shift();if(!J||J[HK])continue;this.createConnection((X,$)=>{if(J[HK]){if(!X&&$)this[l4].push($)}else{if(X)this.emitAndLog(i1.CONNECTION_CHECK_OUT_FAILED,new Q8.ConnectionCheckOutFailedEvent(this,"connectionError",X));else if($)this[o5].add($),this.emitAndLog(i1.CONNECTION_CHECKED_OUT,new Q8.ConnectionCheckedOutEvent(this,$));J.timeoutController.clear(),J.callback(X,$)}process.nextTick(()=>this.processWaitQueue())})}this[FK]=!1}}i1.CONNECTION_POOL_CREATED=$7.CONNECTION_POOL_CREATED;i1.CONNECTION_POOL_CLOSED=$7.CONNECTION_POOL_CLOSED;i1.CONNECTION_POOL_CLEARED=$7.CONNECTION_POOL_CLEARED;i1.CONNECTION_POOL_READY=$7.CONNECTION_POOL_READY;i1.CONNECTION_CREATED=$7.CONNECTION_CREATED;i1.CONNECTION_READY=$7.CONNECTION_READY;i1.CONNECTION_CLOSED=$7.CONNECTION_CLOSED;i1.CONNECTION_CHECK_OUT_STARTED=$7.CONNECTION_CHECK_OUT_STARTED;i1.CONNECTION_CHECK_OUT_FAILED=$7.CONNECTION_CHECK_OUT_FAILED;i1.CONNECTION_CHECKED_OUT=$7.CONNECTION_CHECKED_OUT;i1.CONNECTION_CHECKED_IN=$7.CONNECTION_CHECKED_IN;Jv.ConnectionPool=i1});var Vv=R((Uv)=>{var G$=function(Z){return Z.s.state===K8.STATE_CLOSED||Z.s.state===K8.STATE_CLOSING},Qv=function(Z){Z[U4]?.stop(),Z[U4]=void 0,Z[L9]?.close(),Z[L9]=void 0,Z[w9].emit("cancel"),Z[H8]?.destroy({force:!0}),Z[H8]=void 0},Yw1=function(Z,Y){let J=(0,O6.now)();const X=Z[UK].description.topologyVersion,$=X!=null;Z.emit($$.Server.SERVER_HEARTBEAT_STARTED,new X$.ServerHeartbeatStartedEvent(Z.address,$));function W(Q){Z[H8]?.destroy({force:!0}),Z[H8]=void 0,Z.emit($$.Server.SERVER_HEARTBEAT_FAILED,new X$.ServerHeartbeatFailedEvent(Z.address,(0,O6.calculateDurationInMs)(J),Q,$));const K=!(Q instanceof UJ.MongoError)?new UJ.MongoError(UJ.MongoError.buildErrorMessage(Q),{cause:Q}):Q;if(K.addErrorLabel(UJ.MongoErrorLabel.ResetPool),K instanceof UJ.MongoNetworkTimeoutError)K.addErrorLabel(UJ.MongoErrorLabel.InterruptInUseConnections);Z.emit("resetServer",K),Y(Q)}const G=Z[H8];if(G&&!G.closed){const{serverApi:Q,helloOk:K}=G,H=Z.options.connectTimeoutMS,z=Z.options.heartbeatFrequencyMS,F={[Q?.version||K?"hello":SR.LEGACY_HELLO_COMMAND]:1,...$&&X?{maxAwaitTimeMS:z,topologyVersion:Jw1(X)}:{}},U=$?{socketTimeoutMS:H?H+z:0,exhaustAllowed:!0}:{socketTimeoutMS:H};if($&&Z[L9]==null)Z[L9]=new kR(Z[w9],Object.assign({heartbeatFrequencyMS:Z.options.heartbeatFrequencyMS},Z.connectOptions));G.command((0,O6.ns)("admin.$cmd"),F,U,(q,V)=>{if(q)return W(q);if(!("isWritablePrimary"in V))V.isWritablePrimary=V[SR.LEGACY_HELLO_COMMAND];const L=Z[L9],w=$&&L?L.roundTripTime:(0,O6.calculateDurationInMs)(J),B=$&&V.topologyVersion!=null;if(Z.emit($$.Server.SERVER_HEARTBEAT_SUCCEEDED,new X$.ServerHeartbeatSucceededEvent(Z.address,w,V,B)),B)Z.emit($$.Server.SERVER_HEARTBEAT_STARTED,new X$.ServerHeartbeatStartedEvent(Z.address,!0)),J=(0,O6.now)();else Z[L9]?.close(),Z[L9]=void 0,Y(void 0,V)});return}(0,Hv.connect)(Z.connectOptions,(Q,K)=>{if(Q){Z[H8]=void 0,W(Q);return}if(K){if(K.isMonitoringConnection=!0,G$(Z)){K.destroy({force:!0});return}Z[H8]=K,Z.emit($$.Server.SERVER_HEARTBEAT_SUCCEEDED,new X$.ServerHeartbeatSucceededEvent(Z.address,(0,O6.calculateDurationInMs)(J),K.hello,!1)),Y(void 0,K.hello)}})},Kv=function(Z){return(Y)=>{if(Z.s.state===R9){process.nextTick(Y);return}VJ(Z,R9);function J(){if(!G$(Z))VJ(Z,qJ);Y()}Yw1(Z,(X,$)=>{if(X){if(Z[UK].description.type===K8.ServerType.Unknown)return J()}if($&&$.topologyVersion)(0,e5.setTimeout)(()=>{if(!G$(Z))Z[U4]?.wake()},0);J()})}},Jw1=function(Z){return{processId:Z.processId,counter:Wv.Long.isLong(Z.counter)?Z.counter:Wv.Long.fromNumber(Z.counter)}},Fv=function(Z,Y){const J=(0,O6.now)();Y.cancellationToken=Z[w9];const X=Y.heartbeatFrequencyMS;if(Z.closed)return;function $(G){if(Z.closed){G?.destroy({force:!0});return}if(Z[H8]==null)Z[H8]=G;Z[W$]=(0,O6.calculateDurationInMs)(J),Z[U4]=(0,e5.setTimeout)(()=>Fv(Z,Y),X)}const W=Z[H8];if(W==null){(0,Hv.connect)(Y,(G,Q)=>{if(G){Z[H8]=void 0,Z[W$]=0;return}$(Q)});return}W.command((0,O6.ns)("admin.$cmd"),{[SR.LEGACY_HELLO_COMMAND]:1},void 0,(G)=>{if(G){Z[H8]=void 0,Z[W$]=0;return}$()})};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.MonitorInterval=Uv.RTTPinger=Uv.Monitor=void 0;var e5=import.meta.require("timers"),Wv=G0(),Hv=CR(),eR1=s3(),SR=s0(),UJ=o(),Gv=D6(),O6=Q1(),K8=l6(),X$=lQ(),$$=_R(),UK=Symbol("server"),U4=Symbol("monitorId"),H8=Symbol("connection"),w9=Symbol("cancellationToken"),L9=Symbol("rttPinger"),W$=Symbol("roundTripTime"),qJ="idle",R9="monitoring",VJ=(0,O6.makeStateMachine)({[K8.STATE_CLOSING]:[K8.STATE_CLOSING,qJ,K8.STATE_CLOSED],[K8.STATE_CLOSED]:[K8.STATE_CLOSED,R9],[qJ]:[qJ,R9,K8.STATE_CLOSING],[R9]:[R9,qJ,K8.STATE_CLOSING]}),Zw1=new Set([K8.STATE_CLOSING,K8.STATE_CLOSED,R9]);class zv extends Gv.TypedEventEmitter{get connection(){return this[H8]}constructor(Z,Y){super();this[UK]=Z,this[H8]=void 0,this[w9]=new Gv.CancellationToken,this[w9].setMaxListeners(Infinity),this[U4]=void 0,this.s={state:K8.STATE_CLOSED},this.address=Z.description.address,this.options=Object.freeze({connectTimeoutMS:Y.connectTimeoutMS??1e4,heartbeatFrequencyMS:Y.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:Y.minHeartbeatFrequencyMS??500});const J=this[w9],X=Object.assign({id:"<monitor>",generation:Z.pool.generation,connectionType:eR1.Connection,cancellationToken:J,hostAddress:Z.description.hostAddress},Y,{raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0});if(delete X.credentials,X.autoEncrypter)delete X.autoEncrypter;this.connectOptions=Object.freeze(X)}connect(){if(this.s.state!==K8.STATE_CLOSED)return;const Z=this.options.heartbeatFrequencyMS,Y=this.options.minHeartbeatFrequencyMS;this[U4]=new qK(Kv(this),{heartbeatFrequencyMS:Z,minHeartbeatFrequencyMS:Y,immediate:!0})}requestCheck(){if(Zw1.has(this.s.state))return;this[U4]?.wake()}reset(){const Z=this[UK].description.topologyVersion;if(G$(this)||Z==null)return;VJ(this,K8.STATE_CLOSING),Qv(this),VJ(this,qJ);const Y=this.options.heartbeatFrequencyMS,J=this.options.minHeartbeatFrequencyMS;this[U4]=new qK(Kv(this),{heartbeatFrequencyMS:Y,minHeartbeatFrequencyMS:J})}close(){if(G$(this))return;VJ(this,K8.STATE_CLOSING),Qv(this),this.emit("close"),VJ(this,K8.STATE_CLOSED)}}Uv.Monitor=zv;class kR{constructor(Z,Y){this[H8]=void 0,this[w9]=Z,this[W$]=0,this.closed=!1;const J=Y.heartbeatFrequencyMS;this[U4]=(0,e5.setTimeout)(()=>Fv(this,Y),J)}get roundTripTime(){return this[W$]}close(){this.closed=!0,(0,e5.clearTimeout)(this[U4]),this[H8]?.destroy({force:!0}),this[H8]=void 0}}Uv.RTTPinger=kR;class qK{constructor(Z,Y={}){if(this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{if(this.stopped)return;if(this.timerId)(0,e5.clearTimeout)(this.timerId);this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=(0,O6.now)(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)})},this.fn=Z,this.lastExecutionEnded=(-Infinity),this.heartbeatFrequencyMS=Y.heartbeatFrequencyMS??1000,this.minHeartbeatFrequencyMS=Y.minHeartbeatFrequencyMS??500,Y.immediate)this._executeAndReschedule();else this._reschedule(void 0)}wake(){const Y=(0,O6.now)()-this.lastExecutionEnded;if(Y<0)return this._executeAndReschedule();if(this.isExecutionInProgress)return;if(this.isExpeditedCallToFnScheduled)return;if(Y<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-Y);return}this._executeAndReschedule()}stop(){if(this.stopped=!0,this.timerId)(0,e5.clearTimeout)(this.timerId),this.timerId=void 0;this.lastExecutionEnded=(-Infinity),this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){const Z=(0,O6.now)(),Y=Z-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:Z,timeSinceLastCall:Y}}_reschedule(Z){if(this.stopped)return;if(this.timerId)(0,e5.clearTimeout)(this.timerId);this.timerId=(0,e5.setTimeout)(this._executeAndReschedule,Z||this.heartbeatFrequencyMS)}}Uv.MonitorInterval=qK});var _R=R((Rv)=>{var Fw1=function(Z,Y){if(Z===-1)return Y;const J=0.2;return J*Y+(1-J)*Z},xR=function(Z,Y){if(Z.loadBalanced)return;if(Y instanceof q0.MongoNetworkError&&!(Y instanceof q0.MongoNetworkTimeoutError))Z[LJ]?.reset();Z.emit(X6.DESCRIPTION_RECEIVED,new gR.ServerDescription(Z.description.hostAddress,void 0,{error:Y}))},Uw1=function(Z,Y){if(Y)return Y.inTransaction()||("aggregate"in Z)||("find"in Z)||("getMore"in Z)||("listCollections"in Z)||("listIndexes"in Z);return!1},qw1=function(Z,Y){if(Y.serviceId)return Y.generation!==Z.serviceGenerations.get(Y.serviceId.toHexString());return Y.generation!==Z.generation},Vw1=function(Z,Y){const J=Y.topologyVersion,X=Z.description.topologyVersion;return(0,gR.compareTopologyVersion)(X,J)<0},fR=function(Z,Y){return Z&&Z.inTransaction()&&!(0,yR.isTransactionCommand)(Y)},Lv=function(Z){return Z.s.options.retryWrites!==!1},Lw1=function(Z,Y,J,X,$){const W=X?.session;return function G(Q,K){if(Q==null&&K!=null)return $(void 0,K);if(X!=null&&("noResponse"in X)&&X.noResponse===!0)return $(void 0,null);if(!Q)return $(new q0.MongoUnexpectedServerResponseError("Empty response with no error"));if(!(Q instanceof q0.MongoError))return $(Q);if(qw1(Z.pool,Y))return $(Q);if(Q instanceof q0.MongoNetworkError){if(W&&!W.hasEnded&&W.serverSession)W.serverSession.isDirty=!0;if(fR(W,J)&&!Q.hasErrorLabel(q0.MongoErrorLabel.TransientTransactionError))Q.addErrorLabel(q0.MongoErrorLabel.TransientTransactionError);if((Lv(Z.topology)||(0,yR.isTransactionCommand)(J))&&(0,VK.supportsRetryableWrites)(Z)&&!fR(W,J))Q.addErrorLabel(q0.MongoErrorLabel.RetryableWriteError)}else if((Lv(Z.topology)||(0,yR.isTransactionCommand)(J))&&(0,q0.needsRetryableWriteLabel)(Q,(0,VK.maxWireVersion)(Z))&&!fR(W,J))Q.addErrorLabel(q0.MongoErrorLabel.RetryableWriteError);if(W&&W.isPinned&&Q.hasErrorLabel(q0.MongoErrorLabel.TransientTransactionError))W.unpin({force:!0});return Z.handleError(Q,Y),$(Q)}};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.Server=void 0;var Ww1=import.meta.require("util"),Gw1=s3(),Qw1=$v(),Kw1=OR(),q4=s0(),q0=o(),Hw1=D6(),yR=$V(),VK=Q1(),Y0=l6(),zw1=Vv(),gR=w3(),Q$=(0,VK.makeStateMachine)({[Y0.STATE_CLOSED]:[Y0.STATE_CLOSED,Y0.STATE_CONNECTING],[Y0.STATE_CONNECTING]:[Y0.STATE_CONNECTING,Y0.STATE_CLOSING,Y0.STATE_CONNECTED,Y0.STATE_CLOSED],[Y0.STATE_CONNECTED]:[Y0.STATE_CONNECTED,Y0.STATE_CLOSING,Y0.STATE_CLOSED],[Y0.STATE_CLOSING]:[Y0.STATE_CLOSING,Y0.STATE_CLOSED]}),LJ=Symbol("monitor");class X6 extends Hw1.TypedEventEmitter{constructor(Z,Y,J){super();this.commandAsync=(0,Ww1.promisify)((W,G,Q,K)=>this.command(W,G,Q,K)),this.serverApi=J.serverApi;const X={hostAddress:Y.hostAddress,...J};this.topology=Z,this.pool=new Qw1.ConnectionPool(this,X),this.s={description:Y,options:J,state:Y0.STATE_CLOSED,operationCount:0};for(let W of[...q4.CMAP_EVENTS,...q4.APM_EVENTS])this.pool.on(W,(G)=>this.emit(W,G));if(this.pool.on(Gw1.Connection.CLUSTER_TIME_RECEIVED,(W)=>{this.clusterTime=W}),this.loadBalanced){this[LJ]=null;return}const $=new zw1.Monitor(this,this.s.options);this[LJ]=$;for(let W of q4.HEARTBEAT_EVENTS)$.on(W,(G)=>this.emit(W,G));$.on("resetServer",(W)=>xR(this,W)),$.on(X6.SERVER_HEARTBEAT_SUCCEEDED,(W)=>{if(this.emit(X6.DESCRIPTION_RECEIVED,new gR.ServerDescription(this.description.hostAddress,W.reply,{roundTripTime:Fw1(this.description.roundTripTime,W.duration)})),this.s.state===Y0.STATE_CONNECTING)Q$(this,Y0.STATE_CONNECTED),this.emit(X6.CONNECT,this)})}get clusterTime(){return this.topology.clusterTime}set clusterTime(Z){this.topology.clusterTime=Z}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter;return}get loadBalanced(){return this.topology.description.type===Y0.TopologyType.LoadBalanced}connect(){if(this.s.state!==Y0.STATE_CLOSED)return;if(Q$(this,Y0.STATE_CONNECTING),!this.loadBalanced)this[LJ]?.connect();else Q$(this,Y0.STATE_CONNECTED),this.emit(X6.CONNECT,this)}destroy(Z,Y){if(typeof Z==="function")Y=Z,Z={force:!1};if(Z=Object.assign({},{force:!1},Z),this.s.state===Y0.STATE_CLOSED){if(typeof Y==="function")Y();return}if(Q$(this,Y0.STATE_CLOSING),!this.loadBalanced)this[LJ]?.close();this.pool.close(Z,(J)=>{if(Q$(this,Y0.STATE_CLOSED),this.emit("closed"),typeof Y==="function")Y(J)})}requestCheck(){if(!this.loadBalanced)this[LJ]?.requestCheck()}command(Z,Y,J,X){if(X==null)throw new q0.MongoInvalidArgumentError("Callback must be provided");if(Z.db==null||typeof Z==="string")throw new q0.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===Y0.STATE_CLOSING||this.s.state===Y0.STATE_CLOSED){X(new q0.MongoServerClosedError);return}const $=Object.assign({},J,{wireProtocolCommand:!1});if($.omitReadPreference)delete $.readPreference;const W=$.session,G=W?.pinnedConnection;if(this.loadBalanced&&W&&G==null&&Uw1(Y,W)){this.pool.checkOut((Q,K)=>{if(Q||K==null){if(X)return X(Q);return}W.pin(K),this.command(Z,Y,$,X)});return}this.incrementOperationCount(),this.pool.withConnection(G,(Q,K,H)=>{if(Q||!K){if(this.decrementOperationCount(),!Q)return H(new q0.MongoRuntimeError("Failed to create connection without error"));if(!(Q instanceof Kw1.PoolClearedError))this.handleError(Q);return H(Q)}K.command(Z,Y,$,Lw1(this,K,Y,$,(z,F)=>{this.decrementOperationCount(),H(z,F)}))},X)}handleError(Z,Y){if(!(Z instanceof q0.MongoError))return;if(Z.connectionGeneration&&Z.connectionGeneration<this.pool.generation)return;const X=Z instanceof q0.MongoNetworkError&&!(Z instanceof q0.MongoNetworkTimeoutError),$=(0,q0.isNetworkErrorBeforeHandshake)(Z),W=Z.hasErrorLabel(q0.MongoErrorLabel.HandshakeError);if(X||$||W){if(!this.loadBalanced)Z.addErrorLabel(q0.MongoErrorLabel.ResetPool),xR(this,Z);else if(Y)this.pool.clear({serviceId:Y.serviceId})}else if((0,q0.isSDAMUnrecoverableError)(Z)){if(Vw1(this,Z)){const G=(0,VK.maxWireVersion)(this)<=7||(0,q0.isNodeShuttingDownError)(Z);if(this.loadBalanced&&Y&&G)this.pool.clear({serviceId:Y.serviceId});if(!this.loadBalanced){if(G)Z.addErrorLabel(q0.MongoErrorLabel.ResetPool);xR(this,Z),process.nextTick(()=>this.requestCheck())}}}}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}}X6.SERVER_HEARTBEAT_STARTED=q4.SERVER_HEARTBEAT_STARTED;X6.SERVER_HEARTBEAT_SUCCEEDED=q4.SERVER_HEARTBEAT_SUCCEEDED;X6.SERVER_HEARTBEAT_FAILED=q4.SERVER_HEARTBEAT_FAILED;X6.CONNECT=q4.CONNECT;X6.DESCRIPTION_RECEIVED=q4.DESCRIPTION_RECEIVED;X6.CLOSED=q4.CLOSED;X6.ENDED=q4.ENDED;Rv.Server=X6});var hR=R((Bv)=>{Object.defineProperty(Bv,"__esModule",{value:!0});Bv.SrvPoller=Bv.SrvPollingEvent=void 0;var Rw1=import.meta.require("dns"),bR=import.meta.require("timers"),ww1=o(),Mw1=D6(),Mv=Q1();class vR{constructor(Z){this.srvRecords=Z}hostnames(){return new Set(this.srvRecords.map((Z)=>Mv.HostAddress.fromSrvRecord(Z).toString()))}}Bv.SrvPollingEvent=vR;class LK extends Mw1.TypedEventEmitter{constructor(Z){super();if(!Z||!Z.srvHost)throw new ww1.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=Z.srvHost,this.srvMaxHosts=Z.srvMaxHosts??0,this.srvServiceName=Z.srvServiceName??"mongodb",this.rescanSrvIntervalMS=60000,this.heartbeatFrequencyMS=Z.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){if(!this._timeout)this.schedule()}stop(){if(this._timeout)(0,bR.clearTimeout)(this._timeout),this.generation+=1,this._timeout=void 0}schedule(){if(this._timeout)(0,bR.clearTimeout)(this._timeout);this._timeout=(0,bR.setTimeout)(()=>{this._poll().catch(()=>null)},this.intervalMS)}success(Z){this.haMode=!1,this.schedule(),this.emit(LK.SRV_RECORD_DISCOVERY,new vR(Z))}failure(){this.haMode=!0,this.schedule()}async _poll(){const Z=this.generation;let Y;try{Y=await Rw1.promises.resolveSrv(this.srvAddress)}catch(X){this.failure();return}if(Z!==this.generation)return;const J=[];for(let X of Y)if((0,Mv.matchesParentDomain)(X.name,this.srvHost))J.push(X);if(!J.length){this.failure();return}this.success(J)}}LK.SRV_RECORD_DISCOVERY="srvRecordDiscovery";Bv.SrvPoller=LK});var _v=R((Sv)=>{var Ev=function(Z,Y,J,X){J=J??{force:!1};for(let $ of $6.LOCAL_SERVER_EVENTS)Z.removeAllListeners($);Z.destroy(J,()=>{Y.emit(t1.SERVER_CLOSED,new ZZ.ServerClosedEvent(Y.s.id,Z.description.address));for(let $ of $6.SERVER_RELAY_EVENTS)Z.removeAllListeners($);if(typeof X==="function")X()})},Iw1=function(Z){if(Z?.directConnection)return A1.TopologyType.Single;if(Z?.replicaSet)return A1.TopologyType.ReplicaSetNoPrimary;if(Z?.loadBalanced)return A1.TopologyType.LoadBalanced;return A1.TopologyType.Unknown},jv=function(Z,Y){Z.emit(t1.SERVER_OPENING,new ZZ.ServerOpeningEvent(Z.s.id,Y.address));const J=new Dv.Server(Z,Y,Z.s.options);for(let X of $6.SERVER_RELAY_EVENTS)J.on(X,($)=>Z.emit(X,$));return J.on(Dv.Server.DESCRIPTION_RECEIVED,(X)=>Z.serverUpdateHandler(X)),J.connect(),J},Tv=function(Z,Y){if(Y&&Z.s.servers.has(Y.address)){const J=Z.s.servers.get(Y.address);if(J){if(J.s.description=Y,Y.error instanceof a4.MongoError&&Y.error.hasErrorLabel(a4.MongoErrorLabel.ResetPool)){const X=Y.error.hasErrorLabel(a4.MongoErrorLabel.InterruptInUseConnections);J.pool.clear({interruptInUseConnections:X})}else if(Y.error==null){const X=Z.s.description.type;if(Y.isDataBearing||Y.type!==A1.ServerType.Unknown&&X===A1.TopologyType.Single)J.pool.ready()}}}for(let J of Z.description.servers.values())if(!Z.s.servers.has(J.address)){const X=jv(Z,J);Z.s.servers.set(J.address,X)}for(let J of Z.s.servers){const X=J[0];if(Z.description.hasServer(X))continue;if(!Z.s.servers.has(X))continue;const $=Z.s.servers.get(X);if(Z.s.servers.delete(X),$)Ev($,Z)}},Ov=function(Z,Y){while(Z.length){const J=Z.shift();if(!J)continue;if(J.timeoutController.clear(),!J[dR])J.callback(Y)}},Cv=function(Z){if(Z.s.state===A1.STATE_CLOSED){Ov(Z[n4],new a4.MongoTopologyClosedError);return}const Y=Z.description.type===A1.TopologyType.Sharded,J=Array.from(Z.description.servers.values()),X=Z[n4].length;for(let $=0;$<X;++$){const W=Z[n4].shift();if(!W)continue;if(W[dR])continue;let G;try{const H=W.serverSelector;G=H?H(Z.description,J):J}catch(H){W.timeoutController.clear(),W.callback(H);continue}let Q;if(G.length===0){Z[n4].push(W);continue}else if(G.length===1)Q=Z.s.servers.get(G[0].address);else{const H=(0,V4.shuffle)(G,2),z=Z.s.servers.get(H[0].address),F=Z.s.servers.get(H[1].address);Q=z&&F&&z.s.operationCount<F.s.operationCount?z:F}if(!Q){W.callback(new a4.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",Z.description));return}const K=W.transaction;if(Y&&K&&K.isActive&&Q)K.pinServer(Q);W.timeoutController.clear(),W.callback(void 0,Q)}if(Z[n4].length>0)for(let[,$]of Z.s.servers)process.nextTick(function W(){return $.requestCheck()})},Dw1=function(Z,Y){const X=Z.servers.get(Y.address)?.topologyVersion;return(0,uR.compareTopologyVersion)(X,Y.topologyVersion)>0};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.ServerCapabilities=Sv.Topology=void 0;var Nv=import.meta.require("util"),Iv=rL(),$6=s0(),a4=o(),Aw1=D6(),K$=d0(),V4=Q1(),A1=l6(),ZZ=lQ(),Dv=_R(),uR=w3(),mR=X3(),RK=hR(),Pv=YV(),Nw1=0,H$=(0,V4.makeStateMachine)({[A1.STATE_CLOSED]:[A1.STATE_CLOSED,A1.STATE_CONNECTING],[A1.STATE_CONNECTING]:[A1.STATE_CONNECTING,A1.STATE_CLOSING,A1.STATE_CONNECTED,A1.STATE_CLOSED],[A1.STATE_CONNECTED]:[A1.STATE_CONNECTED,A1.STATE_CLOSING,A1.STATE_CLOSED],[A1.STATE_CLOSING]:[A1.STATE_CLOSING,A1.STATE_CLOSED]}),dR=Symbol("cancelled"),n4=Symbol("waitQueue");class t1 extends Aw1.TypedEventEmitter{constructor(Z,Y,J){super();if(this.client=Z,this.selectServerAsync=(0,Nv.promisify)((K,H,z)=>this.selectServer(K,H,z)),J=J??{hosts:[V4.HostAddress.fromString("localhost:27017")],...Object.fromEntries(Iv.DEFAULT_OPTIONS.entries()),...Object.fromEntries(Iv.FEATURE_FLAGS.entries())},typeof Y==="string")Y=[V4.HostAddress.fromString(Y)];else if(!Array.isArray(Y))Y=[Y];const X=[];for(let K of Y)if(typeof K==="string")X.push(V4.HostAddress.fromString(K));else if(K instanceof V4.HostAddress)X.push(K);else throw new a4.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(K)}`);const $=Iw1(J),W=Nw1++,G=J.srvMaxHosts==null||J.srvMaxHosts===0||J.srvMaxHosts>=X.length?X:(0,V4.shuffle)(X,J.srvMaxHosts),Q=new Map;for(let K of G)Q.set(K.toString(),new uR.ServerDescription(K));if(this[n4]=new V4.List,this.s={id:W,options:J,seedlist:X,state:A1.STATE_CLOSED,description:new Pv.TopologyDescription($,Q,J.replicaSet,void 0,void 0,void 0,J),serverSelectionTimeoutMS:J.serverSelectionTimeoutMS,heartbeatFrequencyMS:J.heartbeatFrequencyMS,minHeartbeatFrequencyMS:J.minHeartbeatFrequencyMS,servers:new Map,credentials:J?.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:(K)=>this.detectShardedTopology(K),detectSrvRecords:(K)=>this.detectSrvRecords(K)},J.srvHost&&!J.loadBalanced)this.s.srvPoller=J.srvPoller??new RK.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:J.srvHost,srvMaxHosts:J.srvMaxHosts,srvServiceName:J.srvServiceName}),this.on(t1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology)}detectShardedTopology(Z){const Y=Z.previousDescription.type,J=Z.newDescription.type,X=Y!==A1.TopologyType.Sharded&&J===A1.TopologyType.Sharded,W=!!this.s.srvPoller?.listeners(RK.SrvPoller.SRV_RECORD_DISCOVERY)?.includes(this.s.detectSrvRecords);if(X&&!W)this.s.srvPoller?.on(RK.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),this.s.srvPoller?.start()}detectSrvRecords(Z){const Y=this.s.description;if(this.s.description=this.s.description.updateFromSrvPollingEvent(Z,this.s.options.srvMaxHosts),this.s.description===Y)return;Tv(this),this.emit(t1.TOPOLOGY_DESCRIPTION_CHANGED,new ZZ.TopologyDescriptionChangedEvent(this.s.id,Y,this.s.description))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get capabilities(){return new cR(this.lastHello())}connect(Z,Y){if(typeof Z==="function")Y=Z,Z={};if(Z=Z??{},this.s.state===A1.STATE_CONNECTED){if(typeof Y==="function")Y();return}H$(this,A1.STATE_CONNECTING),this.emit(t1.TOPOLOGY_OPENING,new ZZ.TopologyOpeningEvent(this.s.id)),this.emit(t1.TOPOLOGY_DESCRIPTION_CHANGED,new ZZ.TopologyDescriptionChangedEvent(this.s.id,new Pv.TopologyDescription(A1.TopologyType.Unknown),this.s.description));const J=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(J.map((W)=>[W.address,jv(this,W)])),this.s.options.loadBalanced)for(let W of J){const G=new uR.ServerDescription(W.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(G)}const X=(W)=>Y?Y(W):this.emit(t1.ERROR,W),$=Z.readPreference??K$.ReadPreference.primary;this.selectServer((0,mR.readPreferenceServerSelector)($),Z,(W,G)=>{if(W)return this.close({force:!1},()=>X(W));if(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]!==!0&&G&&this.s.credentials){G.command((0,V4.ns)("admin.$cmd"),{ping:1},{},(K)=>{if(K)return X(K);H$(this,A1.STATE_CONNECTED),this.emit(t1.OPEN,this),this.emit(t1.CONNECT,this),Y?.(void 0,this)});return}H$(this,A1.STATE_CONNECTED),this.emit(t1.OPEN,this),this.emit(t1.CONNECT,this),Y?.(void 0,this)})}close(Z,Y){if(Z=Z??{force:!1},this.s.state===A1.STATE_CLOSED||this.s.state===A1.STATE_CLOSING)return Y?.();const J=Array.from(this.s.servers.values(),(X)=>{return(0,Nv.promisify)(Ev)(X,this,{force:!!Z?.force})});Promise.all(J).then(()=>{if(this.s.servers.clear(),H$(this,A1.STATE_CLOSING),Ov(this[n4],new a4.MongoTopologyClosedError),(0,A1.drainTimerQueue)(this.s.connectionTimers),this.s.srvPoller)this.s.srvPoller.stop(),this.s.srvPoller.removeListener(RK.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords);this.removeListener(t1.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),H$(this,A1.STATE_CLOSED),this.emit(t1.TOPOLOGY_CLOSED,new ZZ.TopologyClosedEvent(this.s.id))}).finally(()=>Y?.())}selectServer(Z,Y,J){let X;if(typeof Z!=="function")if(typeof Z==="string")X=(0,mR.readPreferenceServerSelector)(K$.ReadPreference.fromString(Z));else{let K;if(Z instanceof K$.ReadPreference)K=Z;else K$.ReadPreference.translate(Y),K=Y.readPreference||K$.ReadPreference.primary;X=(0,mR.readPreferenceServerSelector)(K)}else X=Z;Y=Object.assign({},{serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS},Y);const $=this.description.type===A1.TopologyType.Sharded,W=Y.session,G=W&&W.transaction;if($&&G&&G.server){J(void 0,G.server);return}const Q={serverSelector:X,transaction:G,callback:J,timeoutController:new V4.TimeoutController(Y.serverSelectionTimeoutMS)};Q.timeoutController.signal.addEventListener("abort",()=>{Q[dR]=!0,Q.timeoutController.clear();const K=new a4.MongoServerSelectionError(`Server selection timed out after ${Y.serverSelectionTimeoutMS} ms`,this.description);Q.callback(K)}),this[n4].push(Q),Cv(this)}serverUpdateHandler(Z){if(!this.s.description.hasServer(Z.address))return;if(Dw1(this.s.description,Z))return;const Y=this.s.description,J=this.s.description.servers.get(Z.address);if(!J)return;const X=Z.$clusterTime;if(X)(0,A1._advanceClusterTime)(this,X);const $=J&&J.equals(Z);if(this.s.description=this.s.description.update(Z),this.s.description.compatibilityError){this.emit(t1.ERROR,new a4.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!$){const W=this.s.description.servers.get(Z.address);if(W)this.emit(t1.SERVER_DESCRIPTION_CHANGED,new ZZ.ServerDescriptionChangedEvent(this.s.id,Z.address,J,W))}if(Tv(this,Z),this[n4].length>0)Cv(this);if(!$)this.emit(t1.TOPOLOGY_DESCRIPTION_CHANGED,new ZZ.TopologyDescriptionChangedEvent(this.s.id,Y,this.s.description))}auth(Z,Y){if(typeof Z==="function")Y=Z,Z=void 0;if(typeof Y==="function")Y(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===A1.STATE_CONNECTED}isDestroyed(){return this.s.state===A1.STATE_CLOSED}lastHello(){const Z=Array.from(this.description.servers.values());if(Z.length===0)return{};return Z.filter((X)=>X.type!==A1.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(Z){this.s.clusterTime=Z}}t1.SERVER_OPENING=$6.SERVER_OPENING;t1.SERVER_CLOSED=$6.SERVER_CLOSED;t1.SERVER_DESCRIPTION_CHANGED=$6.SERVER_DESCRIPTION_CHANGED;t1.TOPOLOGY_OPENING=$6.TOPOLOGY_OPENING;t1.TOPOLOGY_CLOSED=$6.TOPOLOGY_CLOSED;t1.TOPOLOGY_DESCRIPTION_CHANGED=$6.TOPOLOGY_DESCRIPTION_CHANGED;t1.ERROR=$6.ERROR;t1.OPEN=$6.OPEN;t1.CONNECT=$6.CONNECT;t1.CLOSE=$6.CLOSE;t1.TIMEOUT=$6.TIMEOUT;Sv.Topology=t1;class cR{constructor(Z){this.minWireVersion=Z.minWireVersion||0,this.maxWireVersion=Z.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}}Sv.ServerCapabilities=cR});var H9=R((hv)=>{Object.defineProperty(hv,"__esModule",{value:!0});hv.MongoClient=hv.ServerApiVersion=void 0;var pR=import.meta.require("fs"),Tw1=import.meta.require("util"),Cw1=G0(),Ew1=pY(),jw1=NQ(),Ow1=G4(),xv=rL(),Sw1=s0(),kw1=qQ(),fv=o(),_w1=cL(),xw1=D6(),fw1=e8(),yw1=xY(),yv=d0(),gw1=X3(),gv=_v(),bv=A3(),lR=Q1();hv.ServerApiVersion=Object.freeze({v1:"1"});var z8=Symbol("options");class vv extends xw1.TypedEventEmitter{constructor(Z,Y){super();this[z8]=(0,xv.parseOptions)(Z,this,Y),this.mongoLogger=new _w1.MongoLogger(this[z8].mongoLoggerOptions);const J=this;this.s={url:Z,bsonOptions:(0,Cw1.resolveBSONOptions)(this[z8]),namespace:(0,lR.ns)("admin"),hasBeenClosed:!1,sessionPool:new bv.ServerSessionPool(this),activeSessions:new Set,get options(){return J[z8]},get readConcern(){return J[z8].readConcern},get writeConcern(){return J[z8].writeConcern},get readPreference(){return J[z8].readPreference},get isMongoClient(){return!0}}}get options(){return Object.freeze({...this[z8]})}get serverApi(){return this[z8].serverApi&&Object.freeze({...this[z8].serverApi})}get monitorCommands(){return this[z8].monitorCommands}set monitorCommands(Z){this[z8].monitorCommands=Z}get autoEncrypter(){return this[z8].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}async connect(){if(this.connectionLock)return this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){if(this.topology&&this.topology.isConnected())return this;const Z=this[z8];if(Z.tls){if(typeof Z.tlsCAFile==="string")Z.ca??=await pR.promises.readFile(Z.tlsCAFile);if(typeof Z.tlsCRLFile==="string")Z.crl??=await pR.promises.readFile(Z.tlsCRLFile);if(typeof Z.tlsCertificateKeyFile==="string"){if(!Z.key||!Z.cert){const J=await pR.promises.readFile(Z.tlsCertificateKeyFile);Z.key??=J,Z.cert??=J}}}if(typeof Z.srvHost==="string"){const J=await(0,xv.resolveSRVRecord)(Z);for(let[X,$]of J.entries())Z.hosts[X]=$}if(Z.credentials?.mechanism===Ow1.AuthMechanism.MONGODB_OIDC){const J=Z.credentials?.mechanismProperties?.ALLOWED_HOSTS||jw1.DEFAULT_ALLOWED_HOSTS;if(!Z.credentials?.mechanismProperties?.PROVIDER_NAME){for(let $ of Z.hosts)if(!(0,lR.hostMatchesWildcards)($.toHostPort().host,J))throw new fv.MongoInvalidArgumentError(`Host '${$}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${J.join(",")}'`)}}this.topology=new gv.Topology(this,Z.hosts,Z),this.topology.once(gv.Topology.OPEN,()=>this.emit("open",this));for(let J of Sw1.MONGO_CLIENT_EVENTS)this.topology.on(J,(...X)=>this.emit(J,...X));const Y=async()=>{try{await(0,Tw1.promisify)((J)=>this.topology?.connect(Z,J))()}catch(J){throw this.topology?.close({force:!0}),J}};if(this.autoEncrypter)await this.autoEncrypter?.init(),await Y(),await Z.encrypter.connectInternalClient();else await Y();return this}async close(Z=!1){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1});const Y=Array.from(this.s.activeSessions,(Q)=>Q.endSession());if(this.s.activeSessions.clear(),await Promise.all(Y),this.topology==null)return;const J=(0,gw1.readPreferenceServerSelector)(yv.ReadPreference.primaryPreferred),X=this.topology.description,$=Array.from(X.servers.values());if(J(X,$).length!==0){const Q=Array.from(this.s.sessionPool.sessions,({id:K})=>K);if(Q.length!==0)await(0,fw1.executeOperation)(this,new yw1.RunAdminCommandOperation({endSessions:Q},{readPreference:yv.ReadPreference.primaryPreferred,noResponse:!0})).catch(()=>null)}const G=this.topology;this.topology=void 0,await new Promise((Q,K)=>{G.close({force:Z},(H)=>{if(H)return K(H);const{encrypter:z}=this[z8];if(z)return z.closeCallback(this,Z,(F)=>{if(F)return K(F);Q()});Q()})})}db(Z,Y){if(Y=Y??{},!Z)Z=this.options.dbName;const J=Object.assign({},this[z8],Y);return new kw1.Db(this,Z,J)}static async connect(Z,Y){return new this(Z,Y).connect()}startSession(Z){const Y=new bv.ClientSession(this,this.s.sessionPool,{explicit:!0,...Z},this[z8]);return this.s.activeSessions.add(Y),Y.once("ended",()=>{this.s.activeSessions.delete(Y)}),Y}async withSession(Z,Y){const J={owner:Symbol(),...typeof Z==="object"?Z:{}},X=typeof Z==="function"?Z:Y;if(X==null)throw new fv.MongoInvalidArgumentError("Missing required callback parameter");const $=this.startSession(J);try{return await X($)}finally{try{await $.endSession()}catch{}}}watch(Z=[],Y={}){if(!Array.isArray(Z))Y=Z,Z=[];return new Ew1.ChangeStream(this,Z,(0,lR.resolveOptions)(this,Y))}}hv.MongoClient=vv});var pY=R((uv)=>{Object.defineProperty(uv,"__esModule",{value:!0});uv.ChangeStream=void 0;var vw1=Y9(),f7=s0(),hw1=cV(),mw1=qQ(),x7=o(),uw1=H9(),dw1=D6(),iR=Q1(),RJ=Symbol("cursorStream"),wJ=Symbol("closed"),z$=Symbol("mode"),cw1=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],M9={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},pw1=[f7.RESUME_TOKEN_CHANGED,f7.END,f7.CLOSE],lw1="A change stream document has been received that lacks a resume token (_id).",wK="ChangeStream is closed";class W6 extends dw1.TypedEventEmitter{constructor(Z,Y=[],J={}){super();if(this.pipeline=Y,this.options={...J},delete this.options.writeConcern,Z instanceof vw1.Collection)this.type=M9.COLLECTION;else if(Z instanceof mw1.Db)this.type=M9.DATABASE;else if(Z instanceof uw1.MongoClient)this.type=M9.CLUSTER;else throw new x7.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");if(this.parent=Z,this.namespace=Z.s.namespace,!this.options.readPreference&&Z.readPreference)this.options.readPreference=Z.readPreference;this.cursor=this._createChangeStreamCursor(J),this[wJ]=!1,this[z$]=!1,this.on("newListener",(X)=>{if(X==="change"&&this.cursor&&this.listenerCount("change")===0)this._streamEvents(this.cursor)}),this.on("removeListener",(X)=>{if(X==="change"&&this.listenerCount("change")===0&&this.cursor)this[RJ]?.removeAllListeners("data")})}get cursorStream(){return this[RJ]}get resumeToken(){return this.cursor?.resumeToken}async hasNext(){this._setIsIterator();while(!0)try{return await this.cursor.hasNext()}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async next(){this._setIsIterator();while(!0)try{const Z=await this.cursor.next();return this._processChange(Z??null)}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async tryNext(){this._setIsIterator();while(!0)try{return await this.cursor.tryNext()??null}catch(Z){try{await this._processErrorIteratorMode(Z)}catch(Y){try{await this.close()}catch{}throw Y}}}async*[Symbol.asyncIterator](){if(this.closed)return;try{while(!0)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[wJ]||this.cursor.closed}async close(){this[wJ]=!0;const Z=this.cursor;try{await Z.close()}finally{this._endStream()}}stream(Z){if(this.closed)throw new x7.MongoChangeStreamError(wK);return this.streamOptions=Z,this.cursor.stream(Z)}_setIsEmitter(){if(this[z$]==="iterator")throw new x7.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[z$]="emitter"}_setIsIterator(){if(this[z$]==="emitter")throw new x7.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[z$]="iterator"}_createChangeStreamCursor(Z){const Y=(0,iR.filterOptions)(Z,cw1);if(this.type===M9.CLUSTER)Y.allChangesForCluster=!0;const J=[{$changeStream:Y},...this.pipeline],X=this.type===M9.CLUSTER?this.parent:this.type===M9.DATABASE?this.parent.client:this.type===M9.COLLECTION?this.parent.client:null;if(X==null)throw new x7.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);const $=new hw1.ChangeStreamCursor(X,this.namespace,J,Z);for(let W of pw1)$.on(W,(G)=>this.emit(W,G));if(this.listenerCount(W6.CHANGE)>0)this._streamEvents($);return $}_closeEmitterModeWithError(Z){this.emit(W6.ERROR,Z),this.close().catch(()=>null)}_streamEvents(Z){this._setIsEmitter();const Y=this[RJ]??Z.stream();this[RJ]=Y,Y.on("data",(J)=>{try{const X=this._processChange(J);this.emit(W6.CHANGE,X)}catch(X){this.emit(W6.ERROR,X)}}),Y.on("error",(J)=>this._processErrorStreamMode(J))}_endStream(){const Z=this[RJ];if(Z)["data","close","end","error"].forEach((Y)=>Z.removeAllListeners(Y)),Z.destroy();this[RJ]=void 0}_processChange(Z){if(this[wJ])throw new x7.MongoAPIError(wK);if(Z==null)throw new x7.MongoRuntimeError(wK);if(Z&&!Z._id)throw new x7.MongoChangeStreamError(lw1);return this.cursor.cacheResumeToken(Z._id),this.options.startAtOperationTime=void 0,Z}_processErrorStreamMode(Z){if(this[wJ])return;if((0,x7.isResumableError)(Z,this.cursor.maxWireVersion))this._endStream(),this.cursor.close().catch(()=>null),(0,iR.getTopology)(this.parent).selectServer(this.cursor.readPreference,{},(J)=>{if(J)return this._closeEmitterModeWithError(Z);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)});else this._closeEmitterModeWithError(Z)}async _processErrorIteratorMode(Z){if(this[wJ])throw new x7.MongoAPIError(wK);if(!(0,x7.isResumableError)(Z,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw Z}await this.cursor.close().catch(()=>null);const Y=(0,iR.getTopology)(this.parent);try{await Y.selectServerAsync(this.cursor.readPreference,{}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),Z}}}W6.RESPONSE=f7.RESPONSE;W6.MORE=f7.MORE;W6.INIT=f7.INIT;W6.CLOSE=f7.CLOSE;W6.CHANGE=f7.CHANGE;W6.END=f7.END;W6.ERROR=f7.ERROR;W6.RESUME_TOKEN_CHANGED=f7.RESUME_TOKEN_CHANGED;uv.ChangeStream=W6});var nR=R((pv)=>{var cv=function(Z){if(Z.s.init)throw new S6.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")},nw1=function(Z){if(Z.destroyed)return;if(!Z.s.cursor)return;if(!Z.s.file)return;const Y=({error:J,doc:X})=>{if(Z.destroyed)return;if(J){Z.destroy(J);return}if(!X){Z.push(null),Z.s.cursor?.close().then(()=>null,(U)=>Z.destroy(U));return}if(!Z.s.file)return;const $=Z.s.file.length-Z.s.bytesRead,W=Z.s.expected++,G=Math.min(Z.s.file.chunkSize,$);if(X.n>W)return Z.destroy(new S6.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${X.n}, expected: ${W}`));if(X.n<W)return Z.destroy(new S6.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${X.n}, expected: ${W}`));let Q=Buffer.isBuffer(X.data)?X.data:X.data.buffer;if(Q.byteLength!==G){if($<=0)return Z.destroy(new S6.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${X.n}, expected file length ${Z.s.file.length} bytes but already read ${Z.s.bytesRead} bytes`));return Z.destroy(new S6.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${Q.byteLength}, expected: ${G}`))}if(Z.s.bytesRead+=Q.byteLength,Q.byteLength===0)return Z.push(null);let K=null,H=null;if(Z.s.bytesToSkip!=null)K=Z.s.bytesToSkip,Z.s.bytesToSkip=0;const z=W===Z.s.expectedEnd-1,F=Z.s.options.end-Z.s.bytesToSkip;if(z&&Z.s.bytesToTrim!=null)H=Z.s.file.chunkSize-Z.s.bytesToTrim;else if(Z.s.options.end&&F<X.data.byteLength)H=F;if(K!=null||H!=null)Q=Q.slice(K||0,H||Q.byteLength);Z.push(Q);return};Z.s.cursor.next().then((J)=>Y({error:null,doc:J}),(J)=>Y({error:J,doc:null}))},aw1=function(Z){const Y={};if(Z.s.readPreference)Y.readPreference=Z.s.readPreference;if(Z.s.options&&Z.s.options.sort)Y.sort=Z.s.options.sort;if(Z.s.options&&Z.s.options.skip)Y.skip=Z.s.options.skip;const J=({error:X,doc:$})=>{if(X)return Z.destroy(X);if(!$){const Q=`FileNotFound: file ${Z.s.filter._id?Z.s.filter._id.toString():Z.s.filter.filename} was not found`,K=new S6.MongoRuntimeError(Q);return K.code="ENOENT",Z.destroy(K)}if($.length<=0){Z.push(null);return}if(Z.destroyed){Z.destroy();return}try{Z.s.bytesToSkip=rw1(Z,$,Z.s.options)}catch(G){return Z.destroy(G)}const W={files_id:$._id};if(Z.s.options&&Z.s.options.start!=null){const G=Math.floor(Z.s.options.start/$.chunkSize);if(G>0)W.n={$gte:G}}if(Z.s.cursor=Z.s.chunks.find(W).sort({n:1}),Z.s.readPreference)Z.s.cursor.withReadPreference(Z.s.readPreference);Z.s.expectedEnd=Math.ceil($.length/$.chunkSize),Z.s.file=$;try{Z.s.bytesToTrim=tw1(Z,$,Z.s.cursor,Z.s.options)}catch(G){return Z.destroy(G)}Z.emit(MK.FILE,$);return};Z.s.files.findOne(Z.s.filter,Y).then((X)=>J({error:null,doc:X}),(X)=>J({error:X,doc:null}))},sw1=function(Z,Y){if(Z.s.file)return Y();if(!Z.s.init)aw1(Z),Z.s.init=!0;Z.once("file",()=>{Y()})},rw1=function(Z,Y,J){if(J&&J.start!=null){if(J.start>Y.length)throw new S6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be more than the length of the file (${Y.length})`);if(J.start<0)throw new S6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be negative`);if(J.end!=null&&J.end<J.start)throw new S6.MongoInvalidArgumentError(`Stream start (${J.start}) must not be greater than stream end (${J.end})`);return Z.s.bytesRead=Math.floor(J.start/Y.chunkSize)*Y.chunkSize,Z.s.expected=Math.floor(J.start/Y.chunkSize),J.start-Z.s.bytesRead}throw new S6.MongoInvalidArgumentError("Start option must be defined")},tw1=function(Z,Y,J,X){if(X&&X.end!=null){if(X.end>Y.length)throw new S6.MongoInvalidArgumentError(`Stream end (${X.end}) must not be more than the length of the file (${Y.length})`);if(X.start==null||X.start<0)throw new S6.MongoInvalidArgumentError(`Stream end (${X.end}) must not be negative`);const $=X.start!=null?Math.floor(X.start/Y.chunkSize):0;return J.limit(Math.ceil(X.end/Y.chunkSize)-$),Z.s.expectedEnd=Math.ceil(X.end/Y.chunkSize),Math.ceil(X.end/Y.chunkSize)*Y.chunkSize-X.end}throw new S6.MongoInvalidArgumentError("End option must be defined")};Object.defineProperty(pv,"__esModule",{value:!0});pv.GridFSBucketReadStream=void 0;var iw1=import.meta.require("stream"),S6=o();class MK extends iw1.Readable{constructor(Z,Y,J,X,$){super({emitClose:!0});this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:Z,expected:0,files:Y,filter:X,init:!1,expectedEnd:0,options:{start:0,end:0,...$},readPreference:J}}_read(){if(this.destroyed)return;sw1(this,()=>nw1(this))}start(Z=0){return cv(this),this.s.options.start=Z,this}end(Z=0){return cv(this),this.s.options.end=Z,this}async abort(){this.push(null),this.destroy(),await this.s.cursor?.close()}}MK.FILE="file";pv.GridFSBucketReadStream=MK});var rR=R((sv)=>{var sR=function(Z,Y,J){if(Z.state.errored){process.nextTick(J);return}Z.state.errored=!0,process.nextTick(J,Y)},av=function(Z,Y,J){return{_id:new iv.ObjectId,files_id:Z,n:Y,data:J}};async function ZM1(Z){const Y={files_id:1,n:1};let J;try{J=await Z.chunks.listIndexes().toArray()}catch($){if($ instanceof B9.MongoError&&$.code===B9.MONGODB_ERROR_CODES.NamespaceNotFound)J=[];else throw $}if(!J.find(($)=>{if(Object.keys($.key).length===2&&$.key.files_id===1&&$.key.n===1)return!0;return!1}))await Z.chunks.createIndex(Y,{...Z.writeConcern,background:!0,unique:!0})}var aR=function(Z,Y){if(Z.done)return process.nextTick(Y);if(Z.state.streamEnd&&Z.state.outstandingRequests===0&&!Z.state.errored){Z.done=!0;const J=JM1(Z.id,Z.length,Z.chunkSizeBytes,Z.filename,Z.options.contentType,Z.options.aliases,Z.options.metadata);if(BK(Z,Y))return;Z.files.insertOne(J,{writeConcern:Z.writeConcern}).then(()=>{Z.gridFSFile=J,Y()},(X)=>sR(Z,X,Y));return}process.nextTick(Y)};async function YM1(Z){if(await Z.files.findOne({},{projection:{_id:1}})!=null)return;const J={filename:1,uploadDate:1};let X;try{X=await Z.files.listIndexes().toArray()}catch(W){if(W instanceof B9.MongoError&&W.code===B9.MONGODB_ERROR_CODES.NamespaceNotFound)X=[];else throw W}if(!X.find((W)=>{if(Object.keys(W.key).length===2&&W.key.filename===1&&W.key.uploadDate===1)return!0;return!1}))await Z.files.createIndex(J,{background:!1});await ZM1(Z)}var JM1=function(Z,Y,J,X,$,W,G){const Q={_id:Z,length:Y,chunkSize:J,uploadDate:new Date,filename:X};if($)Q.contentType=$;if(W)Q.aliases=W;if(G)Q.metadata=G;return Q},XM1=function(Z,Y,J,X){if(BK(Z,X))return;const $=Buffer.isBuffer(Y)?Y:Buffer.from(Y,J);if(Z.length+=$.length,Z.pos+$.length<Z.chunkSizeBytes){$.copy(Z.bufToStore,Z.pos),Z.pos+=$.length,process.nextTick(X);return}let W=$.length,G=Z.chunkSizeBytes-Z.pos,Q=Math.min(G,$.length),K=0;while(W>0){const H=$.length-W;$.copy(Z.bufToStore,Z.pos,H,H+Q),Z.pos+=Q,G-=Q;let z;if(G===0){if(z=av(Z.id,Z.n,Buffer.from(Z.bufToStore)),++Z.state.outstandingRequests,++K,BK(Z,X))return;Z.chunks.insertOne(z,{writeConcern:Z.writeConcern}).then(()=>{if(--Z.state.outstandingRequests,--K,!K)aR(Z,X)},(F)=>sR(Z,F,X)),G=Z.chunkSizeBytes,Z.pos=0,++Z.n}W-=Q,Q=Math.min(G,W)}},$M1=function(Z,Y){if(Z.pos===0)return aR(Z,Y);++Z.state.outstandingRequests;const J=Buffer.alloc(Z.pos);Z.bufToStore.copy(J,0,0,Z.pos);const X=av(Z.id,Z.n,J);if(BK(Z,Y))return;Z.chunks.insertOne(X,{writeConcern:Z.writeConcern}).then(()=>{--Z.state.outstandingRequests,aR(Z,Y)},($)=>sR(Z,$,Y))},BK=function(Z,Y){if(Z.state.aborted)return process.nextTick(Y,new B9.MongoAPIError("Stream has been aborted")),!0;return!1};Object.defineProperty(sv,"__esModule",{value:!0});sv.GridFSBucketWriteStream=void 0;var ow1=import.meta.require("stream"),iv=G0(),B9=o(),ew1=o8();class nv extends ow1.Writable{constructor(Z,Y,J){super();if(this.gridFSFile=null,J=J??{},this.bucket=Z,this.chunks=Z.s._chunksCollection,this.filename=Y,this.files=Z.s._filesCollection,this.options=J,this.writeConcern=ew1.WriteConcern.fromOptions(J)||Z.s.options.writeConcern,this.done=!1,this.id=J.id?J.id:new iv.ObjectId,this.chunkSizeBytes=J.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},!this.bucket.s.calledOpenUploadStream)this.bucket.s.calledOpenUploadStream=!0,YM1(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")},()=>null)}_construct(Z){if(this.bucket.s.checkedIndexes)return process.nextTick(Z);this.bucket.once("index",Z)}_write(Z,Y,J){XM1(this,Z,Y,J)}_final(Z){if(this.state.streamEnd)return process.nextTick(Z);this.state.streamEnd=!0,$M1(this,Z)}async abort(){if(this.state.streamEnd)throw new B9.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new B9.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})}}sv.GridFSBucketWriteStream=nv});var Jh=R((Zh)=>{Object.defineProperty(Zh,"__esModule",{value:!0});Zh.GridFSBucket=void 0;var tv=o(),WM1=D6(),GM1=o8(),ov=nR(),ev=rR(),QM1={bucketName:"fs",chunkSizeBytes:261120};class tR extends WM1.TypedEventEmitter{constructor(Z,Y){super();this.setMaxListeners(0);const J={...QM1,...Y,writeConcern:GM1.WriteConcern.fromOptions(Y)};this.s={db:Z,options:J,_chunksCollection:Z.collection(J.bucketName+".chunks"),_filesCollection:Z.collection(J.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(Z,Y){return new ev.GridFSBucketWriteStream(this,Z,Y)}openUploadStreamWithId(Z,Y,J){return new ev.GridFSBucketWriteStream(this,Y,{...J,id:Z})}openDownloadStream(Z,Y){return new ov.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:Z},Y)}async delete(Z){const{deletedCount:Y}=await this.s._filesCollection.deleteOne({_id:Z});if(await this.s._chunksCollection.deleteMany({files_id:Z}),Y===0)throw new tv.MongoRuntimeError(`File not found for id ${Z}`)}find(Z={},Y={}){return this.s._filesCollection.find(Z,Y)}openDownloadStreamByName(Z,Y){let J={uploadDate:-1},X=void 0;if(Y&&Y.revision!=null)if(Y.revision>=0)J={uploadDate:1},X=Y.revision;else X=-Y.revision-1;return new ov.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:Z},{...Y,sort:J,skip:X})}async rename(Z,Y){const J={_id:Z},X={$set:{filename:Y}},{matchedCount:$}=await this.s._filesCollection.updateOne(J,X);if($===0)throw new tv.MongoRuntimeError(`File with id ${Z} not found`)}async drop(){await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}}tR.INDEX="index";Zh.GridFSBucket=tR});var Wh=R((Xh)=>{Object.defineProperty(Xh,"__esModule",{value:!0});Xh.ClientEncryption=void 0;var L4=G0(),KM1=P7(),YZ=Q1(),HM1=_L(),A9=Q9(),zM1=yL(),AK=gL();class NK{static getMongoCrypt(){const Z=(0,KM1.getMongoDBClientEncryption)();if("kModuleError"in Z)throw Z.kModuleError;return Z.MongoCrypt}constructor(Z,Y){if(this._client=Z,this._proxyOptions=Y.proxyOptions??{},this._tlsOptions=Y.tlsOptions??{},this._kmsProviders=Y.kmsProviders||{},Y.keyVaultNamespace==null)throw new A9.MongoCryptInvalidArgumentError("Missing required option `keyVaultNamespace`");const J={...Y,cryptoCallbacks:HM1,kmsProviders:!Buffer.isBuffer(this._kmsProviders)?(0,L4.serialize)(this._kmsProviders):this._kmsProviders};this._keyVaultNamespace=Y.keyVaultNamespace,this._keyVaultClient=Y.keyVaultClient||Z;const X=NK.getMongoCrypt();this._mongoCrypt=new X(J)}async createDataKey(Z,Y={}){if(Y.keyAltNames&&!Array.isArray(Y.keyAltNames))throw new A9.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but was of type ${typeof Y.keyAltNames}.`);let J=void 0;if(Y.keyAltNames&&Y.keyAltNames.length>0)J=Y.keyAltNames.map((F,U)=>{if(typeof F!=="string")throw new A9.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but item at index ${U} was of type ${typeof F}`);return(0,L4.serialize)({keyAltName:F})});let X=void 0;if(Y.keyMaterial)X=(0,L4.serialize)({keyMaterial:Y.keyMaterial});const $=(0,L4.serialize)({provider:Z,...Y.masterKey}),W=this._mongoCrypt.makeDataKeyContext($,{keyAltNames:J,keyMaterial:X}),Q=await new AK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}).execute(this,W),{db:K,collection:H}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),{insertedId:z}=await this._keyVaultClient.db(K).collection(H).insertOne(Q,{writeConcern:{w:"majority"}});return z}async rewrapManyDataKey(Z,Y){let J=void 0;if(Y){const F=Object.assign({provider:Y.provider},Y.masterKey);J=(0,L4.serialize)(F)}const X=(0,L4.serialize)(Z),$=this._mongoCrypt.makeRewrapManyDataKeyContext(X,J),W=new AK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:G}=await W.execute(this,$);if(G.length===0)return{};const{db:Q,collection:K}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),H=G.map((F)=>({updateOne:{filter:{_id:F._id},update:{$set:{masterKey:F.masterKey,keyMaterial:F.keyMaterial},$currentDate:{updateDate:!0}}}}));return{bulkWriteResult:await this._keyVaultClient.db(Q).collection(K).bulkWrite(H,{writeConcern:{w:"majority"}})}}async deleteKey(Z){const{db:Y,collection:J}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).deleteOne({_id:Z},{writeConcern:{w:"majority"}})}getKeys(){const{db:Z,collection:Y}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Z).collection(Y).find({},{readConcern:{level:"majority"}})}async getKey(Z){const{db:Y,collection:J}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).findOne({_id:Z},{readConcern:{level:"majority"}})}async getKeyByAltName(Z){const{db:Y,collection:J}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(Y).collection(J).findOne({keyAltNames:Z},{readConcern:{level:"majority"}})}async addKeyAltName(Z,Y){const{db:J,collection:X}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(J).collection(X).findOneAndUpdate({_id:Z},{$addToSet:{keyAltNames:Y}},{writeConcern:{w:"majority"},returnDocument:"before"})}async removeKeyAltName(Z,Y){const{db:J,collection:X}=YZ.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),$=[{$set:{keyAltNames:{$cond:[{$eq:["$keyAltNames",[Y]]},"$$REMOVE",{$filter:{input:"$keyAltNames",cond:{$ne:["$$this",Y]}}}]}}}];return await this._keyVaultClient.db(J).collection(X).findOneAndUpdate({_id:Z},$,{writeConcern:{w:"majority"},returnDocument:"before"})}async createEncryptedCollection(Z,Y,J){const{provider:X,masterKey:$,createCollectionOptions:{encryptedFields:{...W},...G}}=J;if(Array.isArray(W.fields)){const Q=W.fields.map(async(z)=>z==null||typeof z!=="object"||z.keyId!=null?z:{...z,keyId:await this.createDataKey(X,{masterKey:$})}),K=await Promise.allSettled(Q);W.fields=K.map((z,F)=>z.status==="fulfilled"?z.value:W.fields[F]);const H=K.find((z)=>z.status==="rejected");if(H!=null)throw new A9.MongoCryptCreateDataKeyError(W,{cause:H.reason})}try{return{collection:await Z.createCollection(Y,{...G,encryptedFields:W}),encryptedFields:W}}catch(Q){throw new A9.MongoCryptCreateEncryptedCollectionError(W,{cause:Q})}}async encrypt(Z,Y){return this._encrypt(Z,!1,Y)}async encryptExpression(Z,Y){return this._encrypt(Z,!0,Y)}async decrypt(Z){const Y=(0,L4.serialize)({v:Z}),J=this._mongoCrypt.makeExplicitDecryptionContext(Y),X=new AK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),{v:$}=await X.execute(this,J);return $}async askForKMSCredentials(){return(0,zM1.refreshKMSCredentials)(this._kmsProviders)}static get libmongocryptVersion(){return NK.getMongoCrypt().libmongocryptVersion}async _encrypt(Z,Y,J){const{algorithm:X,keyId:$,keyAltName:W,contentionFactor:G,queryType:Q,rangeOptions:K}=J,H={expressionMode:Y,algorithm:X};if($)H.keyId=$.buffer;if(W){if($)throw new A9.MongoCryptInvalidArgumentError('"options" cannot contain both "keyId" and "keyAltName"');if(typeof W!=="string")throw new A9.MongoCryptInvalidArgumentError(`"options.keyAltName" must be of type string, but was of type ${typeof W}`);H.keyAltName=(0,L4.serialize)({keyAltName:W})}if(typeof G==="number"||typeof G==="bigint")H.contentionFactor=G;if(typeof Q==="string")H.queryType=Q;if(typeof K==="object")H.rangeOptions=(0,L4.serialize)(K);const z=(0,L4.serialize)({v:Z}),F=new AK.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions}),U=this._mongoCrypt.makeExplicitEncryptionContext(z,H);return(await F.execute(this,U)).v}}Xh.ClientEncryption=NK});var IK=R((h)=>{Object.defineProperty(h,"__esModule",{value:!0});h.MongoUnexpectedServerResponseError=h.MongoTransactionError=h.MongoTopologyClosedError=h.MongoTailableCursorError=h.MongoSystemError=h.MongoServerSelectionError=h.MongoServerError=h.MongoServerClosedError=h.MongoRuntimeError=h.MongoParseError=h.MongoNotConnectedError=h.MongoNetworkTimeoutError=h.MongoNetworkError=h.MongoMissingDependencyError=h.MongoMissingCredentialsError=h.MongoKerberosError=h.MongoInvalidArgumentError=h.MongoGridFSStreamError=h.MongoGridFSChunkError=h.MongoExpiredSessionError=h.MongoError=h.MongoDriverError=h.MongoDecompressionError=h.MongoCursorInUseError=h.MongoCursorExhaustedError=h.MongoCompatibilityError=h.MongoChangeStreamError=h.MongoBatchReExecutionError=h.MongoAzureError=h.MongoAWSError=h.MongoAPIError=h.ChangeStreamCursor=h.ClientEncryption=h.MongoBulkWriteError=h.UUID=h.Timestamp=h.ObjectId=h.MinKey=h.MaxKey=h.Long=h.Int32=h.Double=h.Decimal128=h.DBRef=h.Code=h.BSONType=h.BSONSymbol=h.BSONRegExp=h.Binary=h.BSON=void 0;h.ConnectionPoolReadyEvent=h.ConnectionPoolMonitoringEvent=h.ConnectionPoolCreatedEvent=h.ConnectionPoolClosedEvent=h.ConnectionPoolClearedEvent=h.ConnectionCreatedEvent=h.ConnectionClosedEvent=h.ConnectionCheckOutStartedEvent=h.ConnectionCheckOutFailedEvent=h.ConnectionCheckedOutEvent=h.ConnectionCheckedInEvent=h.CommandSucceededEvent=h.CommandStartedEvent=h.CommandFailedEvent=h.WriteConcern=h.ReadPreference=h.ReadConcern=h.TopologyType=h.ServerType=h.ReadPreferenceMode=h.ReadConcernLevel=h.ProfilingLevel=h.ReturnDocument=h.ServerApiVersion=h.ExplainVerbosity=h.MongoErrorLabel=h.CURSOR_FLAGS=h.Compressor=h.AuthMechanism=h.GSSAPICanonicalizationValue=h.AutoEncryptionLoggerLevel=h.BatchType=h.UnorderedBulkOperation=h.OrderedBulkOperation=h.MongoClient=h.ListIndexesCursor=h.ListCollectionsCursor=h.GridFSBucketWriteStream=h.GridFSBucketReadStream=h.GridFSBucket=h.FindCursor=h.Db=h.Collection=h.ClientSession=h.ChangeStream=h.CancellationToken=h.AggregationCursor=h.Admin=h.AbstractCursor=h.MongoWriteConcernError=void 0;h.MongoCryptKMSRequestNetworkTimeoutError=h.MongoCryptInvalidArgumentError=h.MongoCryptError=h.MongoCryptCreateEncryptedCollectionError=h.MongoCryptCreateDataKeyError=h.MongoCryptAzureKMSRequestError=h.SrvPollingEvent=h.TopologyOpeningEvent=h.TopologyDescriptionChangedEvent=h.TopologyClosedEvent=h.ServerOpeningEvent=h.ServerHeartbeatSucceededEvent=h.ServerHeartbeatStartedEvent=h.ServerHeartbeatFailedEvent=h.ServerDescriptionChangedEvent=h.ServerClosedEvent=h.ConnectionReadyEvent=void 0;var FM1=Dq();Object.defineProperty(h,"Admin",{enumerable:!0,get:function(){return FM1.Admin}});var UM1=pq();Object.defineProperty(h,"OrderedBulkOperation",{enumerable:!0,get:function(){return UM1.OrderedBulkOperation}});var qM1=lq();Object.defineProperty(h,"UnorderedBulkOperation",{enumerable:!0,get:function(){return qM1.UnorderedBulkOperation}});var VM1=pY();Object.defineProperty(h,"ChangeStream",{enumerable:!0,get:function(){return VM1.ChangeStream}});var LM1=Y9();Object.defineProperty(h,"Collection",{enumerable:!0,get:function(){return LM1.Collection}});var RM1=v4();Object.defineProperty(h,"AbstractCursor",{enumerable:!0,get:function(){return RM1.AbstractCursor}});var wM1=P3();Object.defineProperty(h,"AggregationCursor",{enumerable:!0,get:function(){return wM1.AggregationCursor}});var MM1=AV();Object.defineProperty(h,"FindCursor",{enumerable:!0,get:function(){return MM1.FindCursor}});var BM1=iV();Object.defineProperty(h,"ListCollectionsCursor",{enumerable:!0,get:function(){return BM1.ListCollectionsCursor}});var AM1=OV();Object.defineProperty(h,"ListIndexesCursor",{enumerable:!0,get:function(){return AM1.ListIndexesCursor}});var NM1=qQ();Object.defineProperty(h,"Db",{enumerable:!0,get:function(){return NM1.Db}});var IM1=Jh();Object.defineProperty(h,"GridFSBucket",{enumerable:!0,get:function(){return IM1.GridFSBucket}});var DM1=nR();Object.defineProperty(h,"GridFSBucketReadStream",{enumerable:!0,get:function(){return DM1.GridFSBucketReadStream}});var PM1=rR();Object.defineProperty(h,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return PM1.GridFSBucketWriteStream}});var TM1=H9();Object.defineProperty(h,"MongoClient",{enumerable:!0,get:function(){return TM1.MongoClient}});var CM1=D6();Object.defineProperty(h,"CancellationToken",{enumerable:!0,get:function(){return CM1.CancellationToken}});var EM1=A3();Object.defineProperty(h,"ClientSession",{enumerable:!0,get:function(){return EM1.ClientSession}});var jM1=G0();Object.defineProperty(h,"BSON",{enumerable:!0,get:function(){return jM1.BSON}});var b8=G0();Object.defineProperty(h,"Binary",{enumerable:!0,get:function(){return b8.Binary}});Object.defineProperty(h,"BSONRegExp",{enumerable:!0,get:function(){return b8.BSONRegExp}});Object.defineProperty(h,"BSONSymbol",{enumerable:!0,get:function(){return b8.BSONSymbol}});Object.defineProperty(h,"BSONType",{enumerable:!0,get:function(){return b8.BSONType}});Object.defineProperty(h,"Code",{enumerable:!0,get:function(){return b8.Code}});Object.defineProperty(h,"DBRef",{enumerable:!0,get:function(){return b8.DBRef}});Object.defineProperty(h,"Decimal128",{enumerable:!0,get:function(){return b8.Decimal128}});Object.defineProperty(h,"Double",{enumerable:!0,get:function(){return b8.Double}});Object.defineProperty(h,"Int32",{enumerable:!0,get:function(){return b8.Int32}});Object.defineProperty(h,"Long",{enumerable:!0,get:function(){return b8.Long}});Object.defineProperty(h,"MaxKey",{enumerable:!0,get:function(){return b8.MaxKey}});Object.defineProperty(h,"MinKey",{enumerable:!0,get:function(){return b8.MinKey}});Object.defineProperty(h,"ObjectId",{enumerable:!0,get:function(){return b8.ObjectId}});Object.defineProperty(h,"Timestamp",{enumerable:!0,get:function(){return b8.Timestamp}});Object.defineProperty(h,"UUID",{enumerable:!0,get:function(){return b8.UUID}});var OM1=L3();Object.defineProperty(h,"MongoBulkWriteError",{enumerable:!0,get:function(){return OM1.MongoBulkWriteError}});var SM1=Wh();Object.defineProperty(h,"ClientEncryption",{enumerable:!0,get:function(){return SM1.ClientEncryption}});var kM1=cV();Object.defineProperty(h,"ChangeStreamCursor",{enumerable:!0,get:function(){return kM1.ChangeStreamCursor}});var u1=o();Object.defineProperty(h,"MongoAPIError",{enumerable:!0,get:function(){return u1.MongoAPIError}});Object.defineProperty(h,"MongoAWSError",{enumerable:!0,get:function(){return u1.MongoAWSError}});Object.defineProperty(h,"MongoAzureError",{enumerable:!0,get:function(){return u1.MongoAzureError}});Object.defineProperty(h,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return u1.MongoBatchReExecutionError}});Object.defineProperty(h,"MongoChangeStreamError",{enumerable:!0,get:function(){return u1.MongoChangeStreamError}});Object.defineProperty(h,"MongoCompatibilityError",{enumerable:!0,get:function(){return u1.MongoCompatibilityError}});Object.defineProperty(h,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return u1.MongoCursorExhaustedError}});Object.defineProperty(h,"MongoCursorInUseError",{enumerable:!0,get:function(){return u1.MongoCursorInUseError}});Object.defineProperty(h,"MongoDecompressionError",{enumerable:!0,get:function(){return u1.MongoDecompressionError}});Object.defineProperty(h,"MongoDriverError",{enumerable:!0,get:function(){return u1.MongoDriverError}});Object.defineProperty(h,"MongoError",{enumerable:!0,get:function(){return u1.MongoError}});Object.defineProperty(h,"MongoExpiredSessionError",{enumerable:!0,get:function(){return u1.MongoExpiredSessionError}});Object.defineProperty(h,"MongoGridFSChunkError",{enumerable:!0,get:function(){return u1.MongoGridFSChunkError}});Object.defineProperty(h,"MongoGridFSStreamError",{enumerable:!0,get:function(){return u1.MongoGridFSStreamError}});Object.defineProperty(h,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return u1.MongoInvalidArgumentError}});Object.defineProperty(h,"MongoKerberosError",{enumerable:!0,get:function(){return u1.MongoKerberosError}});Object.defineProperty(h,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return u1.MongoMissingCredentialsError}});Object.defineProperty(h,"MongoMissingDependencyError",{enumerable:!0,get:function(){return u1.MongoMissingDependencyError}});Object.defineProperty(h,"MongoNetworkError",{enumerable:!0,get:function(){return u1.MongoNetworkError}});Object.defineProperty(h,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return u1.MongoNetworkTimeoutError}});Object.defineProperty(h,"MongoNotConnectedError",{enumerable:!0,get:function(){return u1.MongoNotConnectedError}});Object.defineProperty(h,"MongoParseError",{enumerable:!0,get:function(){return u1.MongoParseError}});Object.defineProperty(h,"MongoRuntimeError",{enumerable:!0,get:function(){return u1.MongoRuntimeError}});Object.defineProperty(h,"MongoServerClosedError",{enumerable:!0,get:function(){return u1.MongoServerClosedError}});Object.defineProperty(h,"MongoServerError",{enumerable:!0,get:function(){return u1.MongoServerError}});Object.defineProperty(h,"MongoServerSelectionError",{enumerable:!0,get:function(){return u1.MongoServerSelectionError}});Object.defineProperty(h,"MongoSystemError",{enumerable:!0,get:function(){return u1.MongoSystemError}});Object.defineProperty(h,"MongoTailableCursorError",{enumerable:!0,get:function(){return u1.MongoTailableCursorError}});Object.defineProperty(h,"MongoTopologyClosedError",{enumerable:!0,get:function(){return u1.MongoTopologyClosedError}});Object.defineProperty(h,"MongoTransactionError",{enumerable:!0,get:function(){return u1.MongoTransactionError}});Object.defineProperty(h,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return u1.MongoUnexpectedServerResponseError}});Object.defineProperty(h,"MongoWriteConcernError",{enumerable:!0,get:function(){return u1.MongoWriteConcernError}});var _M1=L3();Object.defineProperty(h,"BatchType",{enumerable:!0,get:function(){return _M1.BatchType}});var xM1=vL();Object.defineProperty(h,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return xM1.AutoEncryptionLoggerLevel}});var fM1=BQ();Object.defineProperty(h,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return fM1.GSSAPICanonicalizationValue}});var yM1=G4();Object.defineProperty(h,"AuthMechanism",{enumerable:!0,get:function(){return yM1.AuthMechanism}});var gM1=gQ();Object.defineProperty(h,"Compressor",{enumerable:!0,get:function(){return gM1.Compressor}});var bM1=v4();Object.defineProperty(h,"CURSOR_FLAGS",{enumerable:!0,get:function(){return bM1.CURSOR_FLAGS}});var vM1=o();Object.defineProperty(h,"MongoErrorLabel",{enumerable:!0,get:function(){return vM1.MongoErrorLabel}});var hM1=wq();Object.defineProperty(h,"ExplainVerbosity",{enumerable:!0,get:function(){return hM1.ExplainVerbosity}});var mM1=H9();Object.defineProperty(h,"ServerApiVersion",{enumerable:!0,get:function(){return mM1.ServerApiVersion}});var uM1=fV();Object.defineProperty(h,"ReturnDocument",{enumerable:!0,get:function(){return uM1.ReturnDocument}});var dM1=nV();Object.defineProperty(h,"ProfilingLevel",{enumerable:!0,get:function(){return dM1.ProfilingLevel}});var cM1=i6();Object.defineProperty(h,"ReadConcernLevel",{enumerable:!0,get:function(){return cM1.ReadConcernLevel}});var pM1=d0();Object.defineProperty(h,"ReadPreferenceMode",{enumerable:!0,get:function(){return pM1.ReadPreferenceMode}});var Gh=l6();Object.defineProperty(h,"ServerType",{enumerable:!0,get:function(){return Gh.ServerType}});Object.defineProperty(h,"TopologyType",{enumerable:!0,get:function(){return Gh.TopologyType}});var lM1=i6();Object.defineProperty(h,"ReadConcern",{enumerable:!0,get:function(){return lM1.ReadConcern}});var iM1=d0();Object.defineProperty(h,"ReadPreference",{enumerable:!0,get:function(){return iM1.ReadPreference}});var nM1=o8();Object.defineProperty(h,"WriteConcern",{enumerable:!0,get:function(){return nM1.WriteConcern}});var oR=XR();Object.defineProperty(h,"CommandFailedEvent",{enumerable:!0,get:function(){return oR.CommandFailedEvent}});Object.defineProperty(h,"CommandStartedEvent",{enumerable:!0,get:function(){return oR.CommandStartedEvent}});Object.defineProperty(h,"CommandSucceededEvent",{enumerable:!0,get:function(){return oR.CommandSucceededEvent}});var W7=ER();Object.defineProperty(h,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return W7.ConnectionCheckedInEvent}});Object.defineProperty(h,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return W7.ConnectionCheckedOutEvent}});Object.defineProperty(h,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return W7.ConnectionCheckOutFailedEvent}});Object.defineProperty(h,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return W7.ConnectionCheckOutStartedEvent}});Object.defineProperty(h,"ConnectionClosedEvent",{enumerable:!0,get:function(){return W7.ConnectionClosedEvent}});Object.defineProperty(h,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return W7.ConnectionCreatedEvent}});Object.defineProperty(h,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return W7.ConnectionPoolClearedEvent}});Object.defineProperty(h,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return W7.ConnectionPoolClosedEvent}});Object.defineProperty(h,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return W7.ConnectionPoolCreatedEvent}});Object.defineProperty(h,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return W7.ConnectionPoolMonitoringEvent}});Object.defineProperty(h,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return W7.ConnectionPoolReadyEvent}});Object.defineProperty(h,"ConnectionReadyEvent",{enumerable:!0,get:function(){return W7.ConnectionReadyEvent}});var s4=lQ();Object.defineProperty(h,"ServerClosedEvent",{enumerable:!0,get:function(){return s4.ServerClosedEvent}});Object.defineProperty(h,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return s4.ServerDescriptionChangedEvent}});Object.defineProperty(h,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return s4.ServerHeartbeatFailedEvent}});Object.defineProperty(h,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return s4.ServerHeartbeatStartedEvent}});Object.defineProperty(h,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return s4.ServerHeartbeatSucceededEvent}});Object.defineProperty(h,"ServerOpeningEvent",{enumerable:!0,get:function(){return s4.ServerOpeningEvent}});Object.defineProperty(h,"TopologyClosedEvent",{enumerable:!0,get:function(){return s4.TopologyClosedEvent}});Object.defineProperty(h,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return s4.TopologyDescriptionChangedEvent}});Object.defineProperty(h,"TopologyOpeningEvent",{enumerable:!0,get:function(){return s4.TopologyOpeningEvent}});var aM1=hR();Object.defineProperty(h,"SrvPollingEvent",{enumerable:!0,get:function(){return aM1.SrvPollingEvent}});var MJ=Q9();Object.defineProperty(h,"MongoCryptAzureKMSRequestError",{enumerable:!0,get:function(){return MJ.MongoCryptAzureKMSRequestError}});Object.defineProperty(h,"MongoCryptCreateDataKeyError",{enumerable:!0,get:function(){return MJ.MongoCryptCreateDataKeyError}});Object.defineProperty(h,"MongoCryptCreateEncryptedCollectionError",{enumerable:!0,get:function(){return MJ.MongoCryptCreateEncryptedCollectionError}});Object.defineProperty(h,"MongoCryptError",{enumerable:!0,get:function(){return MJ.MongoCryptError}});Object.defineProperty(h,"MongoCryptInvalidArgumentError",{enumerable:!0,get:function(){return MJ.MongoCryptInvalidArgumentError}});Object.defineProperty(h,"MongoCryptKMSRequestNetworkTimeoutError",{enumerable:!0,get:function(){return MJ.MongoCryptKMSRequestNetworkTimeoutError}})});var G6=R((jt1,Qh)=>{Qh.exports=function Z(Y){if(Y==null)return;if(typeof Y.constructor!=="function")return;return Y.constructor.name}});var R4=R((oM1)=>{/*!
 * ignore
 */oM1.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}});var zh=R((St1,Hh)=>{var y7=function(Z,Y,J){this.collection=null,this.Promise=J.Promise||Promise,this.modelName=J.modelName,delete J.modelName,this._closed=!1,DK.apply(this,arguments)},XB1=function(Z){y7.prototype[Z]=function(){const Y=this._getCollection(),J=Array.from(arguments),X=this,$=X&&X.conn&&X.conn.base&&X.conn.base.options&&X.conn.base.options.debug,W=X&&X.conn&&X.conn.options&&X.conn.options.debug,G=W==null?$:W,Q=arguments[arguments.length-1],K=new ZB1;if(this.conn.$wasForceClosed){const F=new eR("Connection was force closed");if(J.length>0&&typeof J[J.length-1]==="function"){J[J.length-1](F);return}else throw F}let H=J,z=null;if(this._shouldBufferCommands()&&this.buffer){this.conn.emit("buffer",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,args:J});let F,U=J,q=null,V=null;if(F$[Z]&&typeof Q==="function")this.addQueue(()=>{Q.call(this,null,this[Z].apply(this,U.slice(0,U.length-1)))},[]);else if(F$[Z])q=new Promise((w,B)=>{F=function A(M,I){if(V!=null)clearTimeout(V);if(M!=null)return B(M);w(I)},U=J.concat([F]),this.addQueue(Z,U)});else if(typeof Q==="function")F=function w(){if(V!=null)clearTimeout(V);return Q.apply(this,arguments)},U=J.slice(0,J.length-1).concat([F]);else q=new Promise((w,B)=>{F=function A(M,I){if(V!=null)clearTimeout(V);if(M!=null)return B(M);w(I)},U=J.concat([F]),this.addQueue(Z,U)});const L=this._getBufferTimeoutMS();if(V=setTimeout(()=>{if(this.removeQueue(Z,U)){const B="Operation `"+this.name+"."+Z+"()` buffering timed out after "+L+"ms",A=new eR(B);this.conn.emit("buffer-end",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,error:A}),F(A)}},L),!F$[Z]&&typeof Q==="function"){this.addQueue(Z,U);return}return q}else if(!F$[Z]&&typeof Q==="function")z=function F(U,q){if(U!=null)X.conn.emit("operation-end",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,error:U});else X.conn.emit("operation-end",{_id:K,modelName:X.modelName,collectionName:X.name,method:Z,result:q});return Q.apply(this,arguments)},H=J.slice(0,J.length-1).concat([z]);if(G)if(typeof G==="function"){let F=null;if(typeof J[J.length-1]=="function")F=J.slice(0,J.length-1);else F=J;G.apply(X,[X.name,Z].concat(F))}else if(G instanceof JB1.Writable)this.$printToStream(X.name,Z,J,G);else{const F=G.color==null?!0:G.color,U=G.shell==null?!1:G.shell;this.$print(X.name,Z,J,F,U)}this.conn.emit("operation-start",{_id:K,modelName:X.modelName,collectionName:this.name,method:Z,params:H});try{if(Y==null){const U="Cannot call `"+this.name+"."+Z+"()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.";throw new eR(U)}if(F$[Z]&&typeof Q==="function"){const U=Y[Z].apply(Y,H.slice(0,H.length-1));return Q.call(this,null,U)}const F=Y[Z].apply(Y,H);if(F!=null&&typeof F.then==="function")return F.then((U)=>{return typeof Q==="function"&&Q(null,U),U},(U)=>{if(typeof Q==="function"){Q(U);return}throw U});return F}catch(F){if(typeof Q==="function")return Q(F);else throw this.conn.emit("operation-end",{_id:K,modelName:X.modelName,collectionName:this.name,method:Z,error:F}),F}}},BJ=function(Z){const Y={inspect:function(){return Z}};if(Yw.inspect.custom)Y[Yw.inspect.custom]=Y.inspect;return Y},$B1=function(Z){return Jw(Z,!0)},WB1=function(Z,Y){Z[Y]=BJ('ObjectId("'+Z[Y].toHexString()+'")')},GB1=function(Z,Y,J){if(J)Z[Y]=BJ('ISODate("'+Z[Y].toUTCString()+'")');else Z[Y]=BJ('new Date("'+Z[Y].toUTCString()+'")')},Jw=function(Z,Y,J,X){if(Z&&typeof Z.toBSON==="function")Z=Z.toBSON();if(Z==null)return Z;let W=N0()(Z,YB1);const G=Kh(W);if(G==="Binary")W="BinData("+W.sub_type+', "'+W.toString("base64")+'")';else if(G==="ObjectId")W=BJ('ObjectId("'+W.toHexString()+'")');else if(G==="Date")W=BJ('new Date("'+W.toUTCString()+'")');else if(G==="Object"){const Q=Object.keys(W),K=Q.length;let H;for(let z=0;z<K;++z)if(H=Q[z],W[H]){let F;if(typeof W[H].toBSON==="function")try{W[H]=W[H].toBSON()}catch(q){F=q}const U=Kh(W[H]);if(U==="Binary")W[H]="BinData("+W[H].sub_type+', "'+W[H].buffer.toString("base64")+'")';else if(U==="Object")W[H]=Jw(W[H],!0);else if(U==="ObjectId")WB1(W,H);else if(U==="Date")GB1(W,H,X);else if(U==="ClientSession")W[H]=BJ('ClientSession("'+(W[H]&&W[H].id&&W[H].id.id&&W[H].id.id.buffer||"").toString("hex")+'")');else if(Array.isArray(W[H]))W[H]=W[H].map($B1);else if(F!=null)throw F}}if(Y)return W;return Yw.inspect(W,!1,10,J).replace(/\n/g,"").replace(/\s{2,}/g," ")};/*!
 * Module dependencies.
 */var DK=qT(),eR=z0(),Zw=IK().Collection,ZB1=x4(),Kh=G6(),YB1=R4().internalToObjectOptions,JB1=import.meta.require("stream"),Yw=import.meta.require("util");/*!
 * Inherit from abstract Collection.
 */Object.setPrototypeOf(y7.prototype,DK.prototype);y7.prototype.onOpen=function(){return this.collection=this.conn.db.collection(this.name),DK.prototype.onOpen.call(this),this.collection};y7.prototype.onClose=function(Z){DK.prototype.onClose.call(this,Z)};y7.prototype._getCollection=function Z(){if(this.collection)return this.collection;if(this.conn.db!=null)return this.collection=this.conn.db.collection(this.name),this.collection;return null};/*!
 * ignore
 */var F$={watch:!0,find:!0,aggregate:!0};for(let Z of Object.getOwnPropertyNames(Zw.prototype)){if(Object.getOwnPropertyDescriptor(Zw.prototype,Z).get!==void 0)continue;if(typeof Zw.prototype[Z]!=="function")continue;XB1(Z)}y7.prototype.$print=function(Z,Y,J,X,$){const W=X?"\x1B[0;36mMongoose:\x1B[0m ":"Mongoose: ",G=[Z,Y].join("."),Q=[];for(let H=J.length-1;H>=0;--H)if(this.$format(J[H])||Q.length)Q.unshift(this.$format(J[H],X,$));const K="("+Q.join(", ")+")";console.info(W+G+K)};y7.prototype.$printToStream=function(Z,Y,J,X){const $=[Z,Y].join("."),W=[];for(let Q=J.length-1;Q>=0;--Q)if(this.$format(J[Q])||W.length)W.unshift(this.$format(J[Q]));const G="("+W.join(", ")+")";X.write($+G,"utf8")};y7.prototype.$format=function(Z,Y,J){const X=typeof Z;if(X==="function"||X==="undefined")return"";return Jw(Z,!1,Y,J)};y7.prototype.getIndexes=y7.prototype.indexInformation;/*!
 * Module exports.
 */Hh.exports=y7});var Xw=R((kt1,qh)=>{/*!
 * Module dependencies.
 */var QB1=import.meta.require("events").EventEmitter;/*!
 * ignore
 */var Fh=["close","change","end","error","resumeTokenChanged"];/*!
 * ignore
 */class Uh extends QB1{constructor(Z,Y,J){super();if(this.driverChangeStream=null,this.closed=!1,this.bindedEvents=!1,this.pipeline=Y,this.options=J,J&&J.hydrate&&!J.model)throw new Error("Cannot create change stream with `hydrate: true` unless calling `Model.watch()`");Z((X,$)=>{if(X!=null){this.emit("error",X);return}this.driverChangeStream=$,this.emit("ready")})}_bindEvents(){if(this.bindedEvents)return;if(this.bindedEvents=!0,this.driverChangeStream==null){this.once("ready",()=>{this.driverChangeStream.on("close",()=>{this.closed=!0}),Fh.forEach((Z)=>{this.driverChangeStream.on(Z,(Y)=>{if(Z==="error"&&this.closed)return;if(Y!=null&&Y.fullDocument!=null&&this.options&&this.options.hydrate)Y.fullDocument=this.options.model.hydrate(Y.fullDocument);this.emit(Z,Y)})})});return}this.driverChangeStream.on("close",()=>{this.closed=!0}),Fh.forEach((Z)=>{this.driverChangeStream.on(Z,(Y)=>{if(Z==="error"&&this.closed)return;if(Y!=null&&Y.fullDocument!=null&&this.options&&this.options.hydrate)Y.fullDocument=this.options.model.hydrate(Y.fullDocument);this.emit(Z,Y)})})}hasNext(Z){return this.driverChangeStream.hasNext(Z)}next(Z){if(this.options&&this.options.hydrate){if(Z!=null){const J=Z;Z=(X,$)=>{if(X!=null)return J(X);if($.fullDocument!=null)$.fullDocument=this.options.model.hydrate($.fullDocument);return J(null,$)}}let Y=this.driverChangeStream.next(Z);if(Y&&typeof Y.then==="function")Y=Y.then((J)=>{if(J.fullDocument!=null)J.fullDocument=this.options.model.hydrate(J.fullDocument);return J});return Y}return this.driverChangeStream.next(Z)}addListener(Z,Y){return this._bindEvents(),super.addListener(Z,Y)}on(Z,Y){return this._bindEvents(),super.on(Z,Y)}once(Z,Y){return this._bindEvents(),super.once(Z,Y)}_queue(Z){this.once("ready",()=>Z())}close(){if(this.closed=!0,this.driverChangeStream)this.driverChangeStream.close()}}/*!
 * ignore
 */qh.exports=Uh});var AJ=R((_t1,Rh)=>{var n1=function(){this._pres=new Map,this._posts=new Map},Vh=function(Z,Y,J,X,$,W,G){if(W.useErrorHandlers)return Z.execPost(J,X,$,{error:Y},function(Q){return typeof G==="function"&&G(Q)});else return typeof G==="function"&&G(Y)},PK=function(Z,Y,J,X){let $;try{$=Z.apply(Y,J)}catch(W){return X(W)}if(TK($))$.then(()=>X(),(W)=>X(W))},TK=function(Z){return typeof Z==="object"&&Z!==null&&typeof Z.then==="function"},U$=function(Z){let Y=!1;const J=this;return function(){if(Y)return;return Y=!0,q$(()=>Z.apply(J,arguments))}},Lh=function(Z,Y){if(Z.errorHandler)return!0;return Z.fn.length===Y+2};n1.skipWrappedFunction=function Z(){if(!(this instanceof n1.skipWrappedFunction))return new n1.skipWrappedFunction(...arguments);this.args=[...arguments]};n1.overwriteResult=function Z(){if(!(this instanceof n1.overwriteResult))return new n1.overwriteResult(...arguments);this.args=[...arguments]};n1.prototype.execPre=function(Z,Y,J,X){if(arguments.length===3)X=J,J=[];const $=this._pres.get(Z)||[],W=$.length,G=$.numAsync||0;let Q=0,K=G,H=!1;const z=J;let F=null;if(!W)return q$(function(){X(null)});function U(){if(Q>=W)return;const V=$[Q];if(V.isAsync){const L=[U$(q),U$(function(w){if(w){if(H)return;if(w instanceof n1.skipWrappedFunction)F=w;else return H=!0,X(w)}if(--K===0&&Q>=W)return X(F)})];PK(V.fn,Y,L,L[0])}else if(V.fn.length>0){const L=[U$(q)],w=arguments.length>=2?arguments:[null].concat(z);for(let B=1;B<w.length;++B){if(B===w.length-1&&typeof w[B]==="function")continue;L.push(w[B])}PK(V.fn,Y,L,L[0])}else{let L=null;try{L=V.fn.call(Y)}catch(w){if(w!=null)return X(w)}if(TK(L))L.then(()=>q(),(w)=>q(w));else{if(++Q>=W)if(K>0)return;else return q$(function(){X(F)});U()}}}U.apply(null,[null].concat(J));function q(V){if(V){if(H)return;if(V instanceof n1.skipWrappedFunction)F=V;else return H=!0,X(V)}if(++Q>=W)if(K>0)return;else return X(F);U.apply(Y,arguments)}};n1.prototype.execPreSync=function(Z,Y,J){const X=this._pres.get(Z)||[],$=X.length;for(let W=0;W<$;++W)X[W].fn.apply(Y,J||[])};n1.prototype.execPost=function(Z,Y,J,X,$){if(arguments.length<5)$=X,X=null;const W=this._posts.get(Z)||[],G=W.length;let Q=0,K=null;if(X&&X.error)K=X.error;if(!G)return q$(function(){$.apply(null,[K].concat(J))});function H(){const z=W[Q].fn;let F=0;const U=J.length,q=[];for(let V=0;V<U;++V)if(F+=J[V]&&J[V]._kareemIgnore?0:1,!J[V]||!J[V]._kareemIgnore)q.push(J[V]);if(K)if(Lh(W[Q],F)){const V=U$(function(L){if(L){if(L instanceof n1.overwriteResult){if(J=L.args,++Q>=G)return $.call(null,K);return H()}K=L}if(++Q>=G)return $.call(null,K);H()});PK(z,Y,[K].concat(q).concat([V]),V)}else{if(++Q>=G)return $.call(null,K);H()}else{const V=U$(function(L){if(L){if(L instanceof n1.overwriteResult){if(J=L.args,++Q>=G)return $.apply(null,[null].concat(J));return H()}return K=L,H()}if(++Q>=G)return $.apply(null,[null].concat(J));H()});if(Lh(W[Q],F)){if(++Q>=G)return $.apply(null,[null].concat(J));return H()}if(z.length===F+1)PK(z,Y,q.concat([V]),V);else{let L,w;try{w=z.apply(Y,q)}catch(B){L=B,K=B}if(TK(w))return w.then((B)=>{V(B instanceof n1.overwriteResult?B:null)},(B)=>V(B));if(w instanceof n1.overwriteResult)J=w.args;if(++Q>=G)return $.apply(null,[L].concat(J));H()}}}H()};n1.prototype.execPostSync=function(Z,Y,J){const X=this._posts.get(Z)||[],$=X.length;for(let W=0;W<$;++W){const G=X[W].fn.apply(Y,J||[]);if(G instanceof n1.overwriteResult)J=G.args}return J};n1.prototype.createWrapperSync=function(Z,Y){const J=this;return function X(){J.execPreSync(Z,this,arguments);const $=Y.apply(this,arguments);return J.execPostSync(Z,this,[$])[0]}};n1.prototype.wrap=function(Z,Y,J,X,$){const W=X.length>0?X[X.length-1]:null,G=Array.from(X);typeof W==="function"&&G.pop();const Q=this;$=$||{};const K=$.checkForPromise;this.execPre(Z,J,X,function(H){if(H&&!(H instanceof n1.skipWrappedFunction)){const q=$.numCallbackParams||0,V=$.contextParameter?[J]:[];for(let L=V.length;L<q;++L)V.push(null);return Vh(Q,H,Z,J,V,$,W)}const z=Y.length;let F;if(H instanceof n1.skipWrappedFunction)return F=H.args[0],U(null,...H.args);else try{F=Y.apply(J,G.concat(U))}catch(q){return U(q)}if(K){if(TK(F))return F.then((q)=>U(null,q),(q)=>U(q));if(z<G.length+1)return U(null,F)}function U(){const q=Array.from(arguments);if(q.shift(),$.nullResultByDefault&&q.length===0)q.push(null);if(arguments[0])return Vh(Q,arguments[0],Z,J,q,$,W);else Q.execPost(Z,J,q,function(){if(W===null)return;arguments[0]?W(arguments[0]):W.apply(J,arguments)})}})};n1.prototype.filter=function(Z){const Y=this.clone(),J=Array.from(Y._pres.keys());for(let $ of J){const W=this._pres.get($).map((G)=>Object.assign({},G,{name:$})).filter(Z);if(W.length===0){Y._pres.delete($);continue}W.numAsync=W.filter((G)=>G.isAsync).length,Y._pres.set($,W)}const X=Array.from(Y._posts.keys());for(let $ of X){const W=this._posts.get($).map((G)=>Object.assign({},G,{name:$})).filter(Z);if(W.length===0){Y._posts.delete($);continue}Y._posts.set($,W)}return Y};n1.prototype.hasHooks=function(Z){return this._pres.has(Z)||this._posts.has(Z)};n1.prototype.createWrapper=function(Z,Y,J,X){const $=this;if(!this.hasHooks(Z))return function(){q$(()=>Y.apply(this,arguments))};return function(){const W=J||this;$.wrap(Z,Y,W,Array.from(arguments),X)}};n1.prototype.pre=function(Z,Y,J,X,$){let W={};if(typeof Y==="object"&&Y!==null)W=Y,Y=W.isAsync;else if(typeof arguments[1]!=="boolean")J=Y,Y=!1;const G=this._pres.get(Z)||[];if(this._pres.set(Z,G),Y)G.numAsync=G.numAsync||0,++G.numAsync;if(typeof J!=="function")throw new Error('pre() requires a function, got "'+typeof J+'"');if($)G.unshift(Object.assign({},W,{fn:J,isAsync:Y}));else G.push(Object.assign({},W,{fn:J,isAsync:Y}));return this};n1.prototype.post=function(Z,Y,J,X){const $=this._posts.get(Z)||[];if(typeof Y==="function")X=!!J,J=Y,Y={};if(typeof J!=="function")throw new Error('post() requires a function, got "'+typeof J+'"');if(X)$.unshift(Object.assign({},Y,{fn:J}));else $.push(Object.assign({},Y,{fn:J}));return this._posts.set(Z,$),this};n1.prototype.clone=function(){const Z=new n1;for(let Y of this._pres.keys()){const J=this._pres.get(Y).slice();J.numAsync=this._pres.get(Y).numAsync,Z._pres.set(Y,J)}for(let Y of this._posts.keys())Z._posts.set(Y,this._posts.get(Y).slice());return Z};n1.prototype.merge=function(Z,Y){Y=arguments.length===1?!0:Y;const J=Y?this.clone():this;for(let X of Z._pres.keys()){const $=J._pres.get(X)||[],W=Z._pres.get(X).filter((Q)=>$.map((K)=>K.fn).indexOf(Q.fn)===-1),G=$.concat(W);G.numAsync=$.numAsync||0,G.numAsync+=W.filter((Q)=>Q.isAsync).length,J._pres.set(X,G)}for(let X of Z._posts.keys()){const $=J._posts.get(X)||[],W=Z._posts.get(X).filter((G)=>$.indexOf(G)===-1);J._posts.set(X,$.concat(W))}return J};var q$=typeof process==="object"&&process!==null&&process.nextTick||function Z(Y){setTimeout(Y,0)};Rh.exports=n1});var Bh=R((wh,Mh)=>{var D8=Mh.exports=wh={};D8.DocumentNotFoundError=null;D8.general={};D8.general.default="Validator failed for path `{PATH}` with value `{VALUE}`";D8.general.required="Path `{PATH}` is required.";D8.Number={};D8.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).";D8.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).";D8.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";D8.Date={};D8.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).";D8.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).";D8.String={};D8.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";D8.String.match="Path `{PATH}` is invalid ({VALUE}).";D8.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).";D8.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."});var CK=R((xt1,Nh)=>{/*!
 * Module dependencies.
 */var Ah=e1(),KB1=import.meta.require("util");class $w extends Ah{constructor(Z,Y,J,X){let $;const W=Ah.messages;if(W.DocumentNotFoundError!=null)$=typeof W.DocumentNotFoundError==="function"?W.DocumentNotFoundError(Z,Y):W.DocumentNotFoundError;else $='No document found for query "'+KB1.inspect(Z)+'" on model "'+Y+'"';super($);this.result=X,this.numAffected=J,this.filter=Z,this.query=Z}}Object.defineProperty($w.prototype,"name",{value:"DocumentNotFoundError"});/*!
 * exports
 */Nh.exports=$w});var v8=R((ft1,Ph)=>{var Gw=function(Z){let Y=zB1.inspect(Z);if(Y=Y.replace(/^'|'$/g,'"'),!Y.startsWith('"'))Y='"'+Y+'"';return Y},Ih=function(Z){if(Z==null)return""+Z;const Y=typeof Z;if(Y!=="object")return Y;if(typeof Z.constructor!=="function")return Y;return Z.constructor.name},Dh=function(Z){const Y=Z&&Z._castErrorMessage||null;if(typeof Y==="string"||typeof Y==="function")return Y},Ww=function(Z,Y,J,X,$,W,G){if(typeof $==="string"){const Q=Gw(J);let K=$.replace("{KIND}",Y).replace("{VALUE}",Q).replace("{PATH}",X);if(Z!=null)K=K.replace("{MODEL}",Z.modelName);return K}else if(typeof $==="function")return $(J,X,Z,Y);else{const Q=Gw(J),K=W?" (type "+W+")":"";let H="Cast to "+Y+" failed for value "+Q+K+' at path "'+X+'"';if(Z!=null)H+=' for model "'+Z.modelName+'"';if(G!=null&&typeof G.constructor==="function"&&G.constructor.name!=="AssertionError"&&G.constructor.name!=="Error")H+=' because of "'+G.constructor.name+'"';return H}};/*!
 * Module dependencies.
 */var HB1=z0(),zB1=import.meta.require("util");class Qw extends HB1{constructor(Z,Y,J,X,$){if(arguments.length>0){const W=Ih(Y),G=Dh($),Q=Ww(null,Z,Y,J,G,W,X);super(Q);this.init(Z,Y,J,X,$)}else super(Ww())}toJSON(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}init(Z,Y,J,X,$){/*!
   * ignore
   */this.stringValue=Gw(Y),this.messageFormat=Dh($),this.kind=Z,this.value=Y,this.path=J,this.reason=X,this.valueType=Ih(Y)}copy(Z){this.messageFormat=Z.messageFormat,this.stringValue=Z.stringValue,this.kind=Z.kind,this.value=Z.value,this.path=Z.path,this.reason=Z.reason,this.message=Z.message,this.valueType=Z.valueType}setModel(Z){/*!
   * ignore
   */this.model=Z,this.message=Ww(Z,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}Object.defineProperty(Qw.prototype,"name",{value:"CastError"});/*!
 * ignore
 *//*!
 * exports
 */Ph.exports=Qw});var Kw=R((yt1,Th)=>{/*!
 * ignore
 */Th.exports=function Z(Y){const J=Object.keys(Y.errors||{}),X=J.length,$=[];let W;for(let G=0;G<X;++G){if(W=J[G],Y===Y.errors[W])continue;$.push(W+": "+Y.errors[W].message)}return $.join(", ")}});var I9=R((gt1,jh)=>{/*!
 * Module requirements
 */var FB1=z0(),UB1=G6(),Ch=import.meta.require("util"),Eh=Kw();class N9 extends FB1{constructor(Z){let Y;if(UB1(Z)==="model")Y=Z.constructor.modelName+" validation failed";else Y="Validation failed";super(Y);if(this.errors={},this._message=Y,Z)Z.$errors=this.errors}toString(){return this.name+": "+Eh(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,Y){if(Y instanceof N9){const{errors:J}=Y;for(let X of Object.keys(J))this.addError(`${Z}.${X}`,J[X]);return}this.errors[Z]=Y,this.message=this._message+": "+Eh(this)}}if(Ch.inspect.custom)N9.prototype[Ch.inspect.custom]=N9.prototype.inspect;Object.defineProperty(N9.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(N9.prototype,"name",{value:"ValidationError"});/*!
 * Module exports
 */jh.exports=N9});var Hw=R((bt1,kh)=>{var Sh=function(Z,Y,J){if(typeof Z==="function")return Z(Y,J);const X=Object.keys(Y);for(let $ of X){if($==="message")continue;Z=Z.replace("{"+$.toUpperCase()+"}",Y[$])}return Z};/*!
 * Module dependencies.
 */var Oh=e1();class V$ extends Oh{constructor(Z,Y){let J=Z.message;if(!J)J=Oh.messages.general.default;const X=Sh(J,Z,Y);super(X);Z=Object.assign({},Z,{message:X}),this.properties=Z,this.kind=Z.type,this.path=Z.path,this.value=Z.value,this.reason=Z.reason}toString(){return this.message}toJSON(){return Object.assign({name:this.name,message:this.message},this)}}Object.defineProperty(V$.prototype,"name",{value:"ValidatorError"});Object.defineProperty(V$.prototype,"properties",{enumerable:!1,writable:!0,value:null});V$.prototype.formatMessage=Sh;/*!
 * exports
 */kh.exports=V$});var Fw=R((vt1,_h)=>{/*!
 * Module dependencies.
 */var qB1=e1();class zw extends qB1{constructor(Z,Y,J){const X=J.join(", ");super('No matching document found for id "'+Z._id+'" version '+Y+' modifiedPaths "'+X+'"');this.version=Y,this.modifiedPaths=J}}Object.defineProperty(zw.prototype,"name",{value:"VersionError"});/*!
 * exports
 */_h.exports=zw});var qw=R((ht1,xh)=>{/*!
 * Module dependencies.
 */var VB1=e1();class Uw extends VB1{constructor(Z){super("Can\'t save() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(Uw.prototype,"name",{value:"ParallelSaveError"});/*!
 * exports
 */xh.exports=Uw});var Lw=R((mt1,fh)=>{/*!
 * Module dependencies.
 */var LB1=e1();class Vw extends LB1{constructor(Z){super("Cannot overwrite `"+Z+"` model once compiled.")}}Object.defineProperty(Vw.prototype,"name",{value:"OverwriteModelError"});/*!
 * exports
 */fh.exports=Vw});var gh=R((ut1,yh)=>{/*!
 * Module dependencies.
 */var RB1=e1();class Rw extends RB1{constructor(Z){const Y='Schema hasn\'t been registered for model "'+Z+'".\nUse mongoose.model(name, schema)';super(Y)}}Object.defineProperty(Rw.prototype,"name",{value:"MissingSchemaError"});/*!
 * exports
 */yh.exports=Rw});var vh=R((dt1,bh)=>{var wB1=G6();bh.exports=function Z(Y){if(wB1(Y)!=="TopologyDescription")return!1;const J=Array.from(Y.servers.values());return J.length>0&&J.every((X)=>X.type==="Unknown")}});var mh=R((ct1,hh)=>{var MB1=G6();hh.exports=function Z(Y){if(MB1(Y)!=="TopologyDescription")return!1;if(Y.servers.size===0)return!1;for(let J of Y.servers.values())if(J.host.endsWith(".mongodb.net")===!1||J.port!==27017)return!1;return!0}});var dh=R((pt1,uh)=>{var BB1=G6(),AB1="Client network socket disconnected before secure TLS connection was established";uh.exports=function Z(Y){if(BB1(Y)!=="TopologyDescription")return!1;const J=Array.from(Y.servers.values());return J.length>0&&J.every((X)=>X.error&&X.error.message.indexOf(AB1)!==-1)}});var Mw=R((lt1,ch)=>{/*!
 * Module dependencies.
 */var NB1=z0(),IB1=vh(),DB1=mh(),PB1=dh();/*!
 * ignore
 */var TB1="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you\'re trying to access the database from an IP that isn\'t whitelisted. Make sure your current IP address is on your Atlas cluster\'s IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/",CB1="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html";class ww extends NB1{assimilateError(Z){const Y=Z.reason;if(DB1(Y)&&IB1(Y)&&Z.message.indexOf("bad auth")===-1&&Z.message.indexOf("Authentication failed")===-1)this.message=TB1;else if(PB1(Y))this.message=CB1;else this.message=Z.message;for(let X in Z)if(X!=="name")this[X]=Z[X];return this}}Object.defineProperty(ww.prototype,"name",{value:"MongooseServerSelectionError"});ch.exports=ww});var Aw=R((it1,ph)=>{/*!
 * Module dependencies.
 */var EB1=e1();class Bw extends EB1{constructor(Z){const Y="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+Z.join("\n  ")+"\nUse Model.updateOne() to update these arrays instead.";super(Y)}}Object.defineProperty(Bw.prototype,"name",{value:"DivergentArrayError"});/*!
 * exports
 */ph.exports=Bw});var JZ=R((nt1,lh)=>{/*!
 * Module dependencies.
 */var jB1=e1();class Nw extends jB1{constructor(Z,Y,J){Y=Y||"Field `"+Z+"` is not in schema and strict mode is set to throw.";super(Y);this.isImmutableError=!!J,this.path=Z}}Object.defineProperty(Nw.prototype,"name",{value:"StrictModeError"});lh.exports=Nw});var Dw=R((at1,ih)=>{/*!
 * Module dependencies.
 */var OB1=e1();class Iw extends OB1{constructor(Z,Y){Y=Y||"Cannot populate path `"+Z+"` because it is not in your schema. Set the `strictPopulate` option to false to override.";super(Y);this.path=Z}}Object.defineProperty(Iw.prototype,"name",{value:"StrictPopulateError"});ih.exports=Iw});var e1=R((nh,ah)=>{var P8=z0();/*!
 * Module exports.
 */ah.exports=nh=P8;P8.messages=Bh();P8.Messages=P8.messages;P8.DocumentNotFoundError=CK();P8.CastError=v8();P8.ValidationError=I9();P8.ValidatorError=Hw();P8.VersionError=Fw();P8.ParallelSaveError=qw();P8.OverwriteModelError=Lw();P8.MissingSchemaError=gh();P8.MongooseServerSelectionError=Mw();P8.DivergentArrayError=Aw();P8.StrictModeError=JZ();P8.StrictPopulateError=Dw()});var G7=R((st1,rh)=>{rh.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})});var k6=R((rt1,th)=>{var SB1=N0();class T8{constructor(Z){if(Z==null)return this;Object.assign(this,SB1(Z))}}var Q6=G7();Object.defineProperty(T8.prototype,"type",Q6);Object.defineProperty(T8.prototype,"validate",Q6);Object.defineProperty(T8.prototype,"cast",Q6);Object.defineProperty(T8.prototype,"required",Q6);Object.defineProperty(T8.prototype,"default",Q6);Object.defineProperty(T8.prototype,"ref",Q6);Object.defineProperty(T8.prototype,"refPath",Q6);Object.defineProperty(T8.prototype,"select",Q6);Object.defineProperty(T8.prototype,"index",Q6);Object.defineProperty(T8.prototype,"unique",Q6);Object.defineProperty(T8.prototype,"immutable",Q6);Object.defineProperty(T8.prototype,"sparse",Q6);Object.defineProperty(T8.prototype,"text",Q6);Object.defineProperty(T8.prototype,"transform",Q6);th.exports=T8});var EK=R((tt1,NJ)=>{var kB1=v8();NJ.exports=function Z(Y,J){if(NJ.exports.convertToTrue.has(Y))return!0;if(NJ.exports.convertToFalse.has(Y))return!1;if(Y==null)return Y;throw new kB1("boolean",Y,J)};NJ.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]);NJ.exports.convertToFalse=new Set([!1,"false",0,"0","no"])});var jK=R((ot1,oh)=>{var _B1=EK();/*!
 * ignore
 */oh.exports=function(Z){const Y=this!=null?this.path:null;return _B1(Z,Y)}});var Pw=R((et1,eh)=>{/*!
 * ignore
 */eh.exports=function(Z){if(Array.isArray(Z)){if(!Z.every((Y)=>typeof Y==="number"||typeof Y==="string"))throw new Error("$type array values must be strings or numbers");return Z}if(typeof Z!=="number"&&typeof Z!=="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return Z}});var Ym=R((Zo1,Zm)=>{var fB1=function(Z,Y){return function J(X,$,W,G){if(this==null||this.$__==null)return X;if(this.isNew)return X;if(G&&G.overwriteImmutable)return X;if(!(typeof Y==="function"?Y.call(this,this):Y))return X;const K=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(Z):this.$__getValue(Z);if(this.$__.strictMode==="throw"&&X!==K)throw new xB1(Z,"Path `"+Z+"` is immutable and strict mode is set to throw.",!0);return K}},xB1=JZ();/*!
 * ignore
 */Zm.exports=function(Z){if(Z.$immutable)Z.$immutableSetter=fB1(Z.path,Z.options.immutable),Z.set(Z.$immutableSetter);else if(Z.$immutableSetter)Z.setters=Z.setters.filter((Y)=>Y!==Z.$immutableSetter),delete Z.$immutableSetter}});var Xm=R((Yo1,Jm)=>{Jm.exports=function Z(Y){return typeof Y==="function"&&Y.constructor&&Y.constructor.name==="AsyncFunction"}});var Wm=R((Jo1,$m)=>{$m.exports=function Z(Y){const J=Object.keys(Y);let X=!0;for(let $=0,W=J.length;$<W;++$)if(typeof Y[J[$]]==="object"&&Y[J[$]]!==null){X=!1;break}return X}});var Tw=R((Xo1,Gm)=>{var bB1=function(Z){if(Z=String(Z),Z.length>100)return;var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!Y)return;var J=parseFloat(Y[1]),X=(Y[2]||"ms").toLowerCase();switch(X){case"years":case"year":case"yrs":case"yr":case"y":return J*gB1;case"weeks":case"week":case"w":return J*yB1;case"days":case"day":case"d":return J*D9;case"hours":case"hour":case"hrs":case"hr":case"h":return J*PJ;case"minutes":case"minute":case"mins":case"min":case"m":return J*DJ;case"seconds":case"second":case"secs":case"sec":case"s":return J*IJ;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}},vB1=function(Z){var Y=Math.abs(Z);if(Y>=D9)return Math.round(Z/D9)+"d";if(Y>=PJ)return Math.round(Z/PJ)+"h";if(Y>=DJ)return Math.round(Z/DJ)+"m";if(Y>=IJ)return Math.round(Z/IJ)+"s";return Z+"ms"},hB1=function(Z){var Y=Math.abs(Z);if(Y>=D9)return OK(Z,Y,D9,"day");if(Y>=PJ)return OK(Z,Y,PJ,"hour");if(Y>=DJ)return OK(Z,Y,DJ,"minute");if(Y>=IJ)return OK(Z,Y,IJ,"second");return Z+" ms"},OK=function(Z,Y,J,X){var $=Y>=J*1.5;return Math.round(Z/J)+" "+X+($?"s":"")},IJ=1000,DJ=IJ*60,PJ=DJ*60,D9=PJ*24,yB1=D9*7,gB1=D9*365.25;Gm.exports=function(Z,Y){Y=Y||{};var J=typeof Z;if(J==="string"&&Z.length>0)return bB1(Z);else if(J==="number"&&isFinite(Z))return Y.long?hB1(Z):vB1(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))}});var Km=R(($o1,Qm)=>{Qm.exports=function Z(Y){const J=[];let X="",$="DEFAULT";for(let W=0;W<Y.length;++W){if($==="IN_SQUARE_BRACKETS"&&!/\d/.test(Y[W])&&Y[W]!=="]")$="DEFAULT",X=J[J.length-1]+"["+X,J.splice(J.length-1,1);if(Y[W]==="["){if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X),X="";$="IN_SQUARE_BRACKETS"}else if(Y[W]==="]")if($==="IN_SQUARE_BRACKETS")$="IMMEDIATELY_AFTER_SQUARE_BRACKETS",J.push(X),X="";else $="DEFAULT",X+=Y[W];else if(Y[W]==="."){if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X),X="";$="DEFAULT"}else X+=Y[W]}if($!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS")J.push(X);return J}});var qm=R((mB1)=>{var Fm=function(Z,Y,J,X,$,W){for(var G,Q=0;Q<Z.length&&Q<Y.length;++Q)if(G=Z[Q],Array.isArray(G)&&Array.isArray(Y[Q]))Fm(G,Y[Q],J,X,$,W);else if(G)if(X)X(G,J,W(Y[Q]));else{if(G[$])G=G[$];G[J]=W(Y[Q])}},Um=function(Z){return Z},L$=Km(),zm=["__proto__","constructor","prototype"];mB1.get=function(Z,Y,J,X){var $;if(typeof J=="function")if(J.length<2)X=J,J=void 0;else $=J,J=void 0;X||(X=Um);var W=typeof Z=="string"?L$(Z):Z;if(!Array.isArray(W))throw new TypeError("Invalid `path`. Must be either string or array");var G=Y,Q;for(var K=0;K<W.length;++K){if(Q=W[K],typeof W[K]!=="string"&&typeof W[K]!=="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+typeof W[K]);if(Array.isArray(G)&&!/^\d+$/.test(Q)){var H=W.slice(K);return[].concat(G).map(function(F){return F?mB1.get(H,F,J||$,X):X(void 0)})}if($)G=$(G,Q);else{var z=J&&G[J]?G[J]:G;G=z instanceof Map?z.get(Q):z[Q]}if(!G)return X(G)}return X(G)};mB1.has=function(Z,Y){var J=typeof Z==="string"?L$(Z):Z;if(!Array.isArray(J))throw new TypeError("Invalid `path`. Must be either string or array");var X=J.length,$=Y;for(var W=0;W<X;++W){if(typeof J[W]!=="string"&&typeof J[W]!=="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+typeof J[W]);if($==null||typeof $!=="object"||!(J[W]in $))return!1;$=$[J[W]]}return!0};mB1.unset=function(Z,Y){var J=typeof Z==="string"?L$(Z):Z;if(!Array.isArray(J))throw new TypeError("Invalid `path`. Must be either string or array");var X=J.length,$=Y;for(var W=0;W<X;++W){if($==null||typeof $!=="object"||!(J[W]in $))return!1;if(typeof J[W]!=="string"&&typeof J[W]!=="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+typeof J[W]);if(zm.indexOf(J[W])!==-1)return!1;if(W===X-1)return delete $[J[W]],!0;$=$ instanceof Map?$.get(J[W]):$[J[W]]}return!0};mB1.set=function(Z,Y,J,X,$,W){var G;if(typeof X=="function")if(X.length<2)$=X,X=void 0;else G=X,X=void 0;$||($=Um);var Q=typeof Z=="string"?L$(Z):Z;if(!Array.isArray(Q))throw new TypeError("Invalid `path`. Must be either string or array");if(J==null)return;for(var K=0;K<Q.length;++K){if(typeof Q[K]!=="string"&&typeof Q[K]!=="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+typeof Q[K]);if(zm.indexOf(Q[K])!==-1)return}var H=W||/\$/.test(Z)&&W!==!1,z=J,F;for(var K=0,U=Q.length-1;K<U;++K){if(F=Q[K],F=="$")if(K==U-1)break;else continue;if(Array.isArray(z)&&!/^\d+$/.test(F)){var q=Q.slice(K);if(!H&&Array.isArray(Y))for(var V=0;V<z.length&&V<Y.length;++V)mB1.set(q,Y[V],z[V],X||G,$,H);else for(var V=0;V<z.length;++V)mB1.set(q,Y,z[V],X||G,$,H);return}if(G)z=G(z,F);else{var L=X&&z[X]?z[X]:z;z=L instanceof Map?L.get(F):L[F]}if(!z)return}if(F=Q[U],X&&z[X])z=z[X];if(Array.isArray(z)&&!/^\d+$/.test(F))if(!H&&Array.isArray(Y))Fm(z,Y,F,G,X,$);else for(var V=0;V<z.length;++V){var w=z[V];if(w)if(G)G(w,F,$(Y));else{if(w[X])w=w[X];w[F]=$(Y)}}else if(G)G(z,F,$(Y));else if(z instanceof Map)z.set(F,$(Y));else z[F]=$(Y)};/*!
 * Split a string path into components delimited by '.' or
 * '[\d+]'
 *
 * #### Example:
 *     stringToParts('foo[0].bar.1'); // ['foo', '0', 'bar', '1']
 */mB1.stringToParts=L$;/*!
 * Recursively set nested arrays
 *//*!
 * Returns the value passed to it.
 */});var g7=R((Vm,Lm)=>{Lm.exports=Vm=qm()});var Mm=R((Go1,wm)=>{var pB1=N0();class Rm{constructor(Z){if(this._docs={},this._childDocs=[],Z==null)return;if(Z=pB1(Z),Object.assign(this,Z),typeof Z.subPopulate==="object")this.populate=Z.subPopulate;if(Z.perDocumentLimit!=null&&Z.limit!=null)throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+Z.path+"`.")}}wm.exports=Rm});var Bm=R((lB1)=>{lB1.isMongooseDocumentArray=function(Z){return Array.isArray(Z)&&Z.isMongooseDocumentArray}});var SK=R((Ko1,Am)=>{var nB1=N6(),TJ=Symbol("mongoose#emitted");Am.exports=function Z(Y,J,X,$){if(typeof Y==="function")try{return J(function(W){if(W!=null){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!W[TJ])W[TJ]=!0,X.emit("error",W);try{Y(W)}catch(G){return nB1(()=>{throw G})}return}Y.apply(this,arguments)})}catch(W){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!W[TJ])W[TJ]=!0,X.emit("error",W);return Y(W)}return $=$||global.Promise,new $((W,G)=>{J(function(Q,K){if(Q!=null){if(X!=null&&X.listeners!=null&&X.listeners("error").length>0&&!Q[TJ])Q[TJ]=!0,X.emit("error",Q);return G(Q)}if(arguments.length>2)return W(Array.prototype.slice.call(arguments,1));W(K)})})}});var kK=R((Ho1,Nm)=>{Nm.exports=function Z(Y,J,X){const $=Object.keys(J.tree),W={};for(let G of $){if(X&&(Y.paths[G]||Y.nested[G]||Y.singleNestedPaths[G]))continue;W[G]=J.tree[G]}Y.options._isMerging=!0,Y.add(W,null),delete Y.options._isMerging,Y.callQueue=Y.callQueue.concat(J.callQueue),Y.method(J.methods),Y.static(J.statics);for(let[G,Q]of Object.entries(J._userProvidedOptions))if(!(G in Y._userProvidedOptions))Y.set(G,Q);for(let G in J.query)Y.query[G]=J.query[G];for(let G in J.virtuals)Y.virtuals[G]=J.virtuals[G].clone();Y._indexes=Y._indexes.concat(J._indexes||[]),Y.s.hooks.merge(J.s.hooks,!1)}});var Pm=R((Im,Dm)=>{/*!
 * Module dependencies.
 */var zo1=H1(),b7=Dm.exports=Im=function Z(){};b7.ctor=function(){const Z=[...arguments],Y=function(){b7.apply(this,arguments),this.paths={},this.states={}};return Y.prototype=new b7,Y.prototype.stateNames=Z,Z.forEach(function(J){Y.prototype[J]=function(X){this._changeState(X,J)}}),Y};b7.prototype._changeState=function Z(Y,J){const X=this.paths[Y];if(X===J)return;const $=this.states[X];if($)delete $[Y];this.paths[Y]=J,this.states[J]=this.states[J]||{},this.states[J][Y]=!0};/*!
 * ignore
 */b7.prototype.clear=function Z(Y){if(this.states[Y]==null)return;const J=Object.keys(this.states[Y]);let X=J.length,$;while(X--)$=J[X],delete this.states[Y][$],delete this.paths[$]};/*!
 * ignore
 */b7.prototype.clearPath=function Z(Y){const J=this.paths[Y];if(!J)return;delete this.paths[Y],delete this.states[J][Y]};b7.prototype.getStatePaths=function Z(Y){if(this.states[Y]!=null)return this.states[Y];return{}};b7.prototype.some=function Z(){const Y=this,J=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(J,function(X){if(Y.states[X]==null)return!1;return Object.keys(Y.states[X]).length})};b7.prototype._iter=function Z(Y){return function(){let J=[...arguments];const X=J.pop();if(!J.length)J=this.stateNames;const $=this;return J.reduce(function(G,Q){if($.states[Q]==null)return G;return G.concat(Object.keys($.states[Q]))},[])[Y](function(G,Q,K){return X(G,Q,K)})}};b7.prototype.forEach=function Z(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)};b7.prototype.map=function Z(){return this.map=this._iter("map"),this.map.apply(this,arguments)}});var Em=R((Tm,Cm)=>{var D0=function(){this.activePaths=new sB1};/*!
 * Dependencies
 */var aB1=Pm(),sB1=aB1.ctor("require","modify","init","default","ignore");Cm.exports=Tm=D0;D0.prototype.strictMode=!0;D0.prototype.fullPath=void 0;D0.prototype.selected=void 0;D0.prototype.shardval=void 0;D0.prototype.saveError=void 0;D0.prototype.validationError=void 0;D0.prototype.adhocPaths=void 0;D0.prototype.removing=void 0;D0.prototype.inserting=void 0;D0.prototype.saving=void 0;D0.prototype.version=void 0;D0.prototype._id=void 0;D0.prototype.ownerDocument=void 0;D0.prototype.populate=void 0;D0.prototype.populated=void 0;D0.prototype.primitiveAtomics=void 0;D0.prototype.wasPopulated=!1;D0.prototype.scope=void 0;D0.prototype.session=null;D0.prototype.pathsToScopes=null;D0.prototype.cachedRequired=null});var P9=R((rB1)=>{rB1.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed");rB1.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")});var T9=R((Uo1,jm)=>{var v7=function(Z,Y){if(Y&&Y.default){const J=Y.default;if(Array.isArray(J)&&J.length===0)Y.default=Array;else if(!Y.shared&&ZA1(J)&&Object.keys(J).length===0)Y.default=function(){return{}}}_K.call(this,Z,Y,"Mixed"),this[eB1.schemaMixedSymbol]=!0};/*!
 * Module dependencies.
 */var _K=o0(),eB1=P9(),ZA1=O5(),YA1=H1();v7.schemaName="Mixed";v7.defaultOptions={};/*!
 * Inherits from SchemaType.
 */v7.prototype=Object.create(_K.prototype);v7.prototype.constructor=v7;v7.get=_K.get;v7.set=_K.set;v7.setters=[];v7.prototype.cast=function(Z){if(Z instanceof Error)return YA1.errorToPOJO(Z);return Z};v7.prototype.castForQuery=function(Z,Y){return Y};/*!
 * Module exports.
 */jm.exports=v7});var jw=R((qo1,Om)=>{/*!
 * Module dependencies.
 */var JA1=e1();class Ew extends JA1{constructor(Z,Y){const J=Array.isArray(Y)?"array":"primitive value";super("Tried to set nested object field `"+Z+`\` to ${J} \``+Y+"`");this.path=Z}}Object.defineProperty(Ew.prototype,"name",{value:"ObjectExpectedError"});Om.exports=Ew});var Sw=R((Vo1,Sm)=>{/*!
 * Module dependencies.
 */var XA1=e1();class Ow extends XA1{constructor(Z,Y,J){super('Parameter "'+Y+'" to '+J+'() must be an object, got "'+Z.toString()+'" (type '+typeof Z+")")}}Object.defineProperty(Ow.prototype,"name",{value:"ObjectParameterError"});Sm.exports=Ow});var _m=R((Lo1,km)=>{/*!
 * Module dependencies.
 */var $A1=z0();class kw extends $A1{constructor(Z){super("Can\'t validate() the same doc multiple times in parallel. Document: "+Z._id)}}Object.defineProperty(kw.prototype,"name",{value:"ParallelValidateError"});/*!
 * exports
 */km.exports=kw});var _w=R((Ro1,xm)=>{xm.exports=function Z(Y){const J={},X=Object.keys(Y);for(let $ of X){if($.indexOf(".")===-1){J[$]=1;continue}const W=$.split(".");let G=W[0];for(let Q=0;Q<W.length;++Q)if(J[G]=1,Q+1<W.length)G=G+"."+W[Q+1]}return J}});var xK=R((wo1,fm)=>{var xw=function(Z,Y){if(Z.$__.activePaths.default(Y),Z.$isSubdocument&&Z.$isSingleNested&&Z.$parent()!=null)Z.$parent().$__.activePaths.default(Z.$__pathRelativeToParent(Y))};fm.exports=function Z(Y,J,X,$,W,G){const Q=Object.keys(Y.$__schema.paths),K=Q.length;for(let H=0;H<K;++H){let z,F="";const U=Q[H];if(U==="_id"&&Y.$__.skipId)continue;const q=Y.$__schema.paths[U],V=q.splitPath(),L=V.length;let w=!1,B=Y._doc;for(let A=0;A<L;++A){if(B==null)break;const M=V[A];if(F+=(!F.length?"":".")+M,X===!0){if(F in J)break}else if(X===!1&&J&&!w){const I=q.$isSingleNested||q.$isMongooseDocumentArray;if((F in J)||A===L-1&&I&&$!=null&&$[F])w=!0;else if($!=null&&!$[F])break}if(A===L-1){if(B[M]!==void 0)break;if(W!=null){if(typeof q.defaultValue==="function"){if(!q.defaultValue.$runBeforeSetters&&W)break;if(q.defaultValue.$runBeforeSetters&&!W)break}else if(!W)continue}if(G&&G[F])break;if(J&&X!==null){if(X===!0){if(U in J)continue;try{z=q.getDefault(Y,!1)}catch(I){Y.invalidate(U,I);break}if(typeof z!=="undefined")B[M]=z,xw(Y,U)}else if(w){try{z=q.getDefault(Y,!1)}catch(I){Y.invalidate(U,I);break}if(typeof z!=="undefined")B[M]=z,xw(Y,U)}}else{try{z=q.getDefault(Y,!1)}catch(I){Y.invalidate(U,I);break}if(typeof z!=="undefined")B[M]=z,xw(Y,U)}}else B=B[M]}}};/*!
 * ignore
 */});var fw=R((Mo1,ym)=>{/*!
 * ignore
 */ym.exports=function Z(Y,J,X){X=X||{};const $=X.skipDocArrays;let W=0;if(!Y)return W;for(let G of Object.keys(Y.$__.activePaths.getStatePaths("modify"))){if($){const Q=Y.$__schema.path(G);if(Q&&Q.$isMongooseDocumentArray)continue}if(G.startsWith(J+".")){if(Y.$__.activePaths.clearPath(G),++W,Y.$isSubdocument){const Q=Y.ownerDocument(),K=Y.$__fullPath(G);Q.$__.activePaths.clearPath(K)}}}return W}});var yK=R((qA1)=>{var bm=function(Z,Y,J,X){CJ=CJ||K6();const $=X.typeKey;for(let W of Object.keys(Z)){const G=Z[W],K=gm(G)&&Object.keys(G).length>0&&(!G[$]||$==="type"&&gm(G.type)&&G.type.type)?G:null;vm({prop:W,subprops:K,prototype:Y,prefix:J,options:X})}},vm=function({prop:Z,subprops:Y,prototype:J,prefix:X,options:$}){CJ=CJ||K6();const W=(X?X+".":"")+Z;X=X||"";const G=X?Object.freeze({}):FA1;if(Y)Object.defineProperty(J,Z,{enumerable:!0,configurable:!0,get:function(){const Q=this;if(!this.$__.getters)this.$__.getters={};if(!this.$__.getters[W]){const K=Object.create(CJ.prototype,UA1(this));if(!X)K.$__[fK]=this;K.$__.nestedPath=W,Object.defineProperty(K,"schema",{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(K,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(K,GA1,{enumerable:!1,configurable:!0,writable:!1,value:J.schema}),Object.defineProperty(K,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return WA1(Q.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(K,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Q.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(K,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Q.get(W,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(K,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(K,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(W,null,zA1)||{}).length===0}}),Object.defineProperty(K,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),bm(Y,K,W,$),this.$__.getters[W]=K}return this.$__.getters[W]},set:function(Q){if(Q!=null&&Q.$__isNested)Q=Q.$__get();else if(Q instanceof CJ&&!Q.$__isNested)Q=Q.$toObject(QA1);(this.$__[fK]||this).$set(W,Q)}});else Object.defineProperty(J,Z,{enumerable:!0,configurable:!0,get:function(){return this[HA1].call(this.$__[fK]||this,W,null,G)},set:function(Q){this.$set.call(this.$__[fK]||this,W,Q)}})},UA1=function(Z){const Y={};return Object.getOwnPropertyNames(Z).forEach(function(J){if(["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(J)===-1)return;Y[J]=Object.getOwnPropertyDescriptor(Z,J),Y[J].enumerable=!1}),Y},WA1=N0(),GA1=$1().documentSchemaSymbol,QA1=R4().internalToObjectOptions,KA1=H1(),CJ,HA1=$1().getSymbol,fK=$1().scopeSymbol,gm=KA1.isPOJO;/*!
 * exports
 */qA1.compile=bm;qA1.defineKey=vm;var zA1=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),FA1=Object.freeze({noDottedPath:!0})});var EJ=R((BA1)=>{var um=function(Z,Y,J,X){let $;if(Z&&mm(Z)&&!Buffer.isBuffer(Z))$=Object.keys(Z.toObject({transform:!1,virtuals:!1})||{});else $=Object.keys(Z||{});const W=$.length,G={};Y=Y?Y+".":"";for(let Q=0;Q<W;++Q){const K=$[Q],H=Z[K];G[Y+K]=H;const z=X&&X.path&&X.path(Y+K),F=X&&X.nested&&X.nested[Y+K];if(z&&z.instance==="Mixed")continue;if(cm(H)){if(J&&J.skipArrays&&Array.isArray(H))continue;const U=um(H,Y+K,J,X);for(let q in U)G[q]=U[q];if(Array.isArray(H))G[Y+K]=H}if(F){const U=Object.keys(X.paths);for(let q of U)if(q.startsWith(Y+K+".")&&!G.hasOwnProperty(q))G[q]=void 0}}return G},dm=function(Z,Y,J,X=null){if(Z==null||typeof Z!=="object")return;if(X==null)X={raw:{update:Z,path:Y},trace:new WeakSet};if(X.trace.has(Z))throw new wA1(`a circular reference in the update value, updateValue:
${MA1.inspect(X.raw.update,{showHidden:!1,depth:1})}
updatePath: '${X.raw.path}'`);X.trace.add(Z);const $=Object.keys(Z||{}),W=$.length;J=J||{},Y=Y?Y+".":"";for(let G=0;G<W;++G){const Q=$[G];let K=Z[Q];const H=Y+Q;if(J[H]=!0,!Buffer.isBuffer(K)&&mm(K))K=K.toObject({transform:!1,virtuals:!1});if(cm(K))dm(K,Y+Q,J,X)}return X.trace.delete(Z),J},cm=function(Z){return Z&&typeof Z==="object"&&!(Z instanceof Date)&&!hm(Z,"ObjectId")&&(!Array.isArray(Z)||Z.length!==0)&&!(Z instanceof Buffer)&&!hm(Z,"Decimal128")&&!(Z instanceof RA1)};/*!
 * Module dependencies.
 */var RA1=p6().Binary,hm=t8(),mm=oX(),wA1=e1(),MA1=import.meta.require("util");BA1.flatten=um;BA1.modifiedPaths=dm;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var V0=R((No1,pm)=>{var yw=function(Z,Y){if(Z==null)return Z;if(Z instanceof Map)return Z.get(Y);return Z[Y]};pm.exports=function Z(Y,J,X){let $,W=!1;if(typeof J==="string"){if(J.indexOf(".")===-1){const K=yw(Y,J);if(K==null)return X;return K}$=J.split(".")}else if(W=!0,$=J,$.length===1){const K=yw(Y,$[0]);if(K==null)return X;return K}let G=J,Q=Y;for(let K of $){if(Q==null)return X;if(!W&&Q[G]!=null)return Q[G];if(Q=yw(Q,K),!W)G=G.substr(K.length+1)}return Q==null?X:Q}});var gw=R((Io1,im)=>{var lm=t8();im.exports=function Z(Y,J){if(typeof Y==="string"&&typeof J==="string")return Y===J;if(typeof Y==="number"&&typeof J==="number")return Y===J;if(lm(Y,"ObjectId")&&lm(J,"ObjectId"))return Y.toString()===J.toString();return!1}});var gK=R((Do1,nm)=>{var IA1=gw();nm.exports=function Z(Y,J){if(Y==null||Y.discriminators==null)return null;for(let X of Object.keys(Y.discriminators)){const $=Y.discriminators[X];if($.discriminatorMapping==null)continue;if(IA1($.discriminatorMapping.value,J))return $}return null}});var sm=R((Po1,am)=>{var DA1=V0(),PA1=gK();am.exports=function Z(Y,J,X){X=X||{};const $=X.typeOnly,W=Array.isArray(J)?J:J.indexOf(".")===-1?[J]:J.split(".");let G=null,Q="adhocOrUndefined";const K=PA1(Y.schema,Y.get(Y.schema.options.discriminatorKey))||Y.schema;for(let H=0;H<W.length;++H){const z=W.slice(0,H+1).join(".");if(G=K.path(z),G==null){Q="adhocOrUndefined";continue}if(G.instance==="Mixed")return $?"real":G;if(Q=K.pathType(z),(G.$isSingleNested||G.$isMongooseDocumentArrayElement)&&G.schema.discriminators!=null){const F=G.schema.discriminators,U=Y.get(z+"."+DA1(G,"schema.options.discriminatorKey"));if(U==null||F[U]==null)continue;const q=W.slice(H+1).join(".");return Z(Y.get(z),q,X)}}return $?Q:G}});var tm=R((To1,rm)=>{var TA1=V0();rm.exports=function Z(Y,J,X){const $=X!=null?Object.keys(TA1(Y.tree,X,{})):Object.keys(Y.tree),W=new Set(Object.keys(J));let G;if(W.size>1){G=new Set;for(let Q of $)if(W.has(Q))G.add(Q);for(let Q of W)if(!G.has(Q))G.add(Q);G=Array.from(G)}else G=Array.from(W);return G}});var em=R((Co1,om)=>{om.exports=function Z(Y,J){if(J.length===1)return;let X=J[0],$=void 0;for(let W=0;W<J.length-1;++W){const G=Y.path(X);if(G&&G.schema)$=G.schema.options.strict,Y=G.schema,X=G.$isMongooseDocumentArray&&!isNaN(J[W+1])?"":J[W+1];else X+=X.length?"."+J[W+1]:J[W+1]}return $}});var bK=R((Eo1,Zu)=>{var CA1=H1(),EA1=new Set(["__index","__parentArray","_doc"]);Zu.exports=function Z(Y,J){if(CA1.isPOJO(Y)&&Y.$__!=null&&Y._doc!=null){if(J){const X={};for(let $ of Object.keys(Y)){if(typeof $==="symbol")continue;if($[0]==="$")continue;if(EA1.has($))continue;X[$]=Y[$]}return{...Y._doc,...X}}return Y._doc}return Y}});var jJ=R((jo1,Yu)=>{/*!
 * ignore
 */Yu.exports=function Z(Y){if(Y==null)return!0;if(typeof Y==="object")return!("$meta"in Y)&&!("$slice"in Y);return!0}});var OJ=R((Oo1,Ju)=>{var jA1=jJ();/*!
 * ignore
 */Ju.exports=function Z(Y){if(Y==null)return null;const J=Object.keys(Y);let X=J.length,$=null;if(X===1&&J[0]==="_id")$=!Y._id;else while(X--){const W=J[X];if(W!=="_id"&&jA1(Y[W])){$=Y[W]!=null&&typeof Y[W]==="object"?Z(Y[W]):!Y[W];break}}return $}});var bw=R((So1,Xu)=>{var OA1=H1();Xu.exports=function Z(Y,J){if(Y._id==null||J==null||J.length===0)return;const X=String(Y._id);for(let $ of J){if($.isVirtual)continue;const G=$.path.split(".");for(let Q=0;Q<G.length-1;++Q){const K=G.slice(0,Q+1).join("."),H=G.slice(Q+1).join("."),z=Y.get(K);if(z==null)continue;if(OA1.isMongooseDocumentArray(z)){for(let F=0;F<z.length;++F)if(z[F])z[F].populated(H,$._docs[X]==null?void 0:$._docs[X][F],$);break}}}}});var vw=R((ko1,Wu)=>{var $u=function(Z){const Y=Object.keys(Z);let J=Y.length,X,$,W;while(J--){if($=Y[J],W=Z[$],SA1(W))Z[$]=$u(W);if(Z[$]===void 0){delete Z[$];continue}X=!0}return X?Z:void 0},{isPOJO:SA1}=H1();Wu.exports=$u});var Qu=R((_o1,Gu)=>{Gu.exports=function Z(Y,J,X,$,W){const G=Object.keys(Y).reduce((K,H)=>K||H.startsWith(J+"."),!1),Q=J+"."+X.options.discriminatorKey;if(!G&&W.length===1&&W[0]===Q)$.splice($.indexOf(Q),1)}});var h7=R((xo1,Ku)=>{var kA1=gw();Ku.exports=function Z(Y,J){if(Y==null)return null;for(let X of Object.keys(Y)){const $=Y[X];if($.schema&&$.schema.discriminatorMapping&&kA1($.schema.discriminatorMapping.value,J))return $}return null}});var vK=R((fo1,Hu)=>{/*!
 * ignore
 */Hu.exports=function Z(Y,J){const X=J.split(".");let $="",W,G,Q;for(let K=0;K<X.length;++K)if($+=$.length?".":""+X[K],Y[$]){G=Object.keys(Y),Q=G.length;for(W=0;W<Q;++W)if(G[K].indexOf($+".")===0&&G[K].indexOf(J)!==0)continue;return!0}return!1}});var SJ=R((bA1)=>{var Fu=function(Z){return function(Y){if(Y.options||(Y.options={}),Z!=null&&Array.isArray(Z.virtuals))Z=Object.assign({},Z),Z.virtuals=Z.virtuals.filter((J)=>typeof J==="string"&&J.startsWith(Y.path+".")).map((J)=>J.slice(Y.path.length+1));Y.options.lean=Z}};/*!
 * Module dependencies
 */var _A1=Qu(),zu=V0(),xA1=h7(),fA1=jJ(),yA1=N0(),gA1=vK();bA1.preparePopulationOptions=function Z(Y,J){const X=Y.options.populate,$=Object.keys(X).reduce((W,G)=>W.concat([X[G]]),[]);if(J.lean!=null)$.filter((W)=>(W&&W.options&&W.options.lean)==null).forEach(Fu(J.lean));return $.forEach((W)=>{W._localModel=Y.model}),$};bA1.preparePopulationOptionsMQ=function Z(Y,J){const X=Y._mongooseOptions.populate,$=Object.keys(X).reduce((Q,K)=>Q.concat([X[K]]),[]);if(J.lean!=null)$.filter((Q)=>(Q&&Q.options&&Q.options.lean)==null).forEach(Fu(J.lean));const W=Y&&Y.options&&Y.options.session||null;if(W!=null)$.forEach((Q)=>{if(Q.options==null){Q.options={session:W};return}if(!("session"in Q.options))Q.options.session=W});const G=Y._fieldsForExec();return $.forEach((Q)=>{Q._queryProjection=G}),$.forEach((Q)=>{Q._localModel=Y.model}),$};bA1.createModel=function Z(Y,J,X,$,W){Y.hooks.execPreSync("createModel",J);const G=Y.schema?Y.schema.discriminatorMapping:null,Q=G&&G.isRoot?G.key:null,K=J[Q];if(Q&&K&&Y.discriminators){const z=Y.discriminators[K]||xA1(Y.discriminators,K);if(z){const F=yA1($);return bA1.applyPaths(F,z.schema),new z(void 0,F,!0)}}const H={skipId:!0,isNew:!1,willInit:!0};if(W!=null&&("defaults"in W))H.defaults=W.defaults;return new Y(void 0,X,H)};/*!
 * ignore
 */bA1.createModelAndInit=function Z(Y,J,X,$,W,G,Q){const K=G?{populated:G}:void 0,H=bA1.createModel(Y,J,X,$,W);try{H.$init(J,K,Q)}catch(z){Q(z,H)}};/*!
 * ignore
 */bA1.applyPaths=function Z(Y,J){let X,$;const W=new Set;if(Y){$=Object.keys(Y);const F=[];for(let U=0;U<$.length;++U){const q=$[U];if($[U][0]!=="-")continue;if(delete Y[q],q==="-_id")Y._id=0;else F.push(q.slice(1))}$=Object.keys(Y);for(let U=0;U<$.length;++U){if($[U][0]==="+")continue;const q=Y[$[U]];if(!fA1(q))continue;if($[U]==="_id"&&$.length>1)continue;X=!q;break}for(let U of F){const q=J.path(U);if(!q||!q.selected||X!==!1)Y[U]=0,X=!0;else if(q&&q.selected&&X===!1)W.add(U)}}const G=[],Q=[],K=[];switch(H(J),X){case!0:for(let F of Q)Y[F]=0;break;case!1:if(J&&J.paths._id&&J.paths._id.options&&J.paths._id.options.select===!1)Y._id=0;for(let F of G){if(W.has(F))continue;if(gA1(Y,F))continue;Y[F]=Y[F]||1}break;case void 0:if(Y==null)break;for(let F of Object.keys(Y||{}))if(F.startsWith("+"))delete Y[F];for(let F of Q){if(Y[F]!=null)continue;Y[F]=0}break}function H(F,U){if(U||(U=""),K.indexOf(F)!==-1)return[];K.push(F);const q=[];return F.eachPath(function(V,L){if(U)V=U+"."+V;if(L.$isSchemaMap||V.endsWith(".$*")){const B="+"+V,A=Y&&(B in Y);if(L.options&&L.options.select===!1&&!A)Q.push(V);return}let w=z(V,L);if(w==null&&!Array.isArray(L)&&L.$isMongooseArray&&!L.$isMongooseDocumentArray)w=z(V,L.caster);if(w!=null)q.push(w);if(L.schema){const B=H(L.schema,V);if(X===!1)_A1(Y,V,L.schema,G,B)}}),K.pop(),q}function z(F,U){if(Y==null)return;if(typeof U.selected!=="boolean")return;if(U.selected===!1&&Y[F])return;if(!X&&U.selected&&F===J.options.discriminatorKey&&Y[F]!=null&&!Y[F]){delete Y[F];return}if(X===!1&&U.selected&&Y[F]!=null&&!Y[F]){delete Y[F];return}const q="+"+F;if(Y&&(q in Y)){if(delete Y[q],X===!1&&$.length>1&&!~$.indexOf(F))Y[F]=1;return}const L=F.split(".");let w="";for(let B=0;B<L.length;++B)if(w+=w.length?"."+L[B]:L[B],Q.indexOf(w)!==-1)return;if(!X&&(U&&U.options&&U.options.$skipDiscriminatorCheck||!1)){let B="";for(let A=0;A<L.length;++A){B+=(B.length===0?"":".")+L[A];const M=zu(Y,B,!1)||zu(Y,B+".$",!1);if(M&&typeof M!=="object")return}}return(U.selected?G:Q).push(F),F}}});var Vu=R((go1,qu)=>{var dA1=function(Z){return!!Z&&(typeof Z==="object"||typeof Z==="function")&&typeof Z.then==="function"};qu.exports=dA1});var hK=R((bo1,Lu)=>{var cA1=/\./g;Lu.exports=function Z(Y){if(Y.indexOf(".")===-1)return[Y];const J=Y.split(cA1),X=J.length,$=new Array(X);let W="";for(let G=0;G<X;++G)W+=W.length!==0?"."+J[G]:J[G],$[G]=W;return $}});var wu=R((vo1,Ru)=>{Ru.exports=function Z(Y,J,X){let $=J[0],W=X,G=Y;for(let Q=0;Q<J.length-1;++Q){const K=W.path($);if(K&&K.schema){let H=G.get($);if(W=K.schema,$=J[Q+1],Array.isArray(H)&&!isNaN($))H=H[$],$="";if(H==null)break;G=H}else $+=$.length?"."+J[Q+1]:J[Q+1]}return G}});var mK=R((ho1,Bu)=>{var J0=function(Z,Y,J,X,$){if(typeof X==="object"&&X!=null&&$==null)$=X,X=void 0;if(J!=null){const W={isNew:J.isNew};if("defaults"in J.$__)W.defaults=J.$__.defaults;$=Object.assign(W,$)}if($!=null&&$.path!=null)this.$basePath=$.path;XZ.call(this,Z,Y,X,$),delete this.$__.priorDoc},nA1=function(Z){let Y=Z.ownerDocument();function J(){Y.$removeListener("save",J),Y.$removeListener("deleteOne",J),Z.emit("deleteOne",Z),Z.constructor.emit("deleteOne",Z),Y=Z=null}Y.$on("save",J),Y.$on("deleteOne",J)},XZ=K6(),pA1=N6(),lA1=R4().internalToObjectOptions,Mu=import.meta.require("util"),iA1=H1();Bu.exports=J0;J0.prototype=Object.create(XZ.prototype);Object.defineProperty(J0.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0});Object.defineProperty(J0.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0});/*!
 * ignore
 */J0.prototype.toBSON=function(){return this.toObject(lA1)};J0.prototype.save=async function Z(Y){if(Y=Y||{},!Y.suppressWarning)iA1.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you\'re sure this behavior is right for your app.");return new Promise((J,X)=>{this.$__save(($)=>{if($!=null)return X($);J(this)})})};J0.prototype.$__fullPath=function(Z){if(!this.$__.fullPath)this.ownerDocument();return Z?this.$__.fullPath+"."+Z:this.$__.fullPath};J0.prototype.$__pathRelativeToParent=function(Z){if(Z==null)return this.$basePath;return[this.$basePath,Z].join(".")};J0.prototype.$__save=function(Z){return pA1(()=>Z(null,this))};/*!
 * ignore
 */J0.prototype.$isValid=function(Z){const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)return Y.$isValid(J);return XZ.prototype.$isValid.call(this,Z)};/*!
 * ignore
 */J0.prototype.markModified=function(Z){XZ.prototype.markModified.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y==null||J==null)return;const X=this.$__pathRelativeToParent().replace(/\.$/,"");if(Y.isDirectModified(X)||this.isNew)return;this.$__parent.markModified(J,this)};/*!
 * ignore
 */J0.prototype.isModified=function(Z,Y){const J=this.$parent();if(J!=null){if(Array.isArray(Z)||typeof Z==="string")Z=Array.isArray(Z)?Z:Z.split(" "),Z=Z.map((X)=>this.$__pathRelativeToParent(X)).filter((X)=>X!=null);else if(!Z)Z=this.$__pathRelativeToParent();return J.$isModified(Z,Y)}return XZ.prototype.isModified.call(this,Z,Y)};J0.prototype.$markValid=function(Z){XZ.prototype.$markValid.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)Y.$markValid(J)};/*!
 * ignore
 */J0.prototype.invalidate=function(Z,Y,J){XZ.prototype.invalidate.call(this,Z,Y,J);const X=this.$parent(),$=this.$__pathRelativeToParent(Z);if(X!=null&&$!=null)X.invalidate($,Y,J);else if(Y.kind==="cast"||Y.name==="CastError"||$==null)throw Y;return this.ownerDocument().$__.validationError};/*!
 * ignore
 */J0.prototype.$ignore=function(Z){XZ.prototype.$ignore.call(this,Z);const Y=this.$parent(),J=this.$__pathRelativeToParent(Z);if(Y!=null&&J!=null)Y.$ignore(J)};J0.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;let Z=this;const Y=[],J=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;Y.unshift(Z.$__pathRelativeToParent(void 0,!0));const X=Z.$parent();if(X==null)break;if(Z=X,J.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");J.add(Z)}return this.$__.fullPath=Y.join("."),this.$__.ownerDocument=Z,this.$__.ownerDocument};/*!
 * ignore
 */J0.prototype.$__fullPathWithIndexes=function(){let Z=this;const Y=[],J=new Set([Z]);while(!0){if(typeof Z.$__pathRelativeToParent!=="function")break;Y.unshift(Z.$__pathRelativeToParent(void 0,!1));const X=Z.$parent();if(X==null)break;if(Z=X,J.has(Z))throw new Error("Infinite subdocument loop: subdoc with _id "+Z._id+" is a parent of itself");J.add(Z)}return Y.join(".")};J0.prototype.parent=function(){return this.$__parent};J0.prototype.$parent=J0.prototype.parent;J0.prototype.$__deleteOne=function(Z){if(Z==null)return;return Z(null,this)};J0.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)};J0.prototype.deleteOne=function(Z,Y){if(typeof Z==="function")Y=Z,Z=null;if(nA1(this),!Z||!Z.noop)this.$__removeFromParent();return this.$__deleteOne(Y)};/*!
 * ignore
 */J0.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')};J0.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})};if(Mu.inspect.custom)J0.prototype[Mu.inspect.custom]=J0.prototype.inspect});var kJ=R((mo1,Iu)=>{var H6=function(Z,Y,J,X,$){if(aA1.isMongooseDocumentArray(Y))this.__parentArray=Y,this[R$]=Y.$parent();else this.__parentArray=void 0,this[R$]=void 0;this.$setIndex($),this.$__parent=this[R$];let W;if(typeof J==="object"&&J!=null)W={isNew:!0,...J},J=void 0;else W={isNew:!0};Nu.call(this,Z,X,this[R$],J,W)};/*!
 * Module dependencies.
 */var Au=import.meta.require("events").EventEmitter,Nu=mK(),aA1=H1(),R$=$1().documentArrayParent;/*!
 * Inherit from Subdocument
 */H6.prototype=Object.create(Nu.prototype);H6.prototype.constructor=H6;Object.defineProperty(H6.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1});Object.defineProperty(H6.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0});for(let Z in Au.prototype)H6[Z]=Au.prototype[Z];/*!
 * ignore
 */H6.prototype.$setIndex=function(Z){if(this.__index=Z,this.$__!=null&&this.$__.validationError!=null){const Y=Object.keys(this.$__.validationError.errors);for(let J of Y)this.invalidate(J,this.$__.validationError.errors[J])}};/*!
 * ignore
 */H6.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')};/*!
 * ignore
 */H6.prototype.$__removeFromParent=function(){const Z=this._doc._id;if(!Z)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:Z})};H6.prototype.$__fullPath=function(Z,Y){if(this.__index==null)return null;if(!this.$__.fullPath)this.ownerDocument();if(Y)return Z?this.$__.fullPath+"."+Z:this.$__.fullPath;return Z?this.$__.fullPath+"."+this.__index+"."+Z:this.$__.fullPath+"."+this.__index};H6.prototype.$__pathRelativeToParent=function(Z,Y){if(this.__index==null)return null;if(Y)return Z==null?this.__parentArray.$path():this.__parentArray.$path()+"."+Z;if(Z==null)return this.__parentArray.$path()+"."+this.__index;return this.__parentArray.$path()+"."+this.__index+"."+Z};H6.prototype.$parent=function(){return this[R$]};H6.prototype.parentArray=function(){return this.__parentArray};/*!
 * Module exports.
 */Iu.exports=H6});var cK=R((uo1,Ou)=>{var tA1=function(Z,Y){if(!Y)return!1;for(let J of Z){if(J==null)return!1;const X=J.constructor;if(!(J instanceof dw)||X.modelName!==Y&&X.baseModelName!==Y)return!1}return!0},ju=function(Z,Y,J){if(typeof Y==="string"){if(Y.indexOf(".")===-1)return;Y=Cu.stringToParts(Y)}if(J=J||0,J>=Y.length)return;if(Z==null||typeof Z!=="object")return;if(ju(Z[Y[0]],Y,J+1),Z[Y[0]]!=null&&typeof Z[Y[0]]==="object"&&Object.keys(Z[Y[0]]).length===0)delete Z[Y[0]]},uK=function(Z,Y){const J=Z==null?null:Z[w4]&&Z[w4].caster&&Z[w4].caster.options&&Z[w4].caster.options.ref||null;if(Z.length===0&&Y.length!==0){if(tA1(Y,J))Z[$Z].$populated(Z[WZ],[],{[Eu]:Y[0].constructor})}},dw=K6(),hw=kJ(),mw=z0(),Du=fw(),sA1=N0(),Pu=R4().internalToObjectOptions,Cu=g7(),z6=H1(),uw=t8(),r4=$1().arrayAtomicsSymbol,$Z=$1().arrayParentSymbol,WZ=$1().arrayPathSymbol,w4=$1().arraySchemaSymbol,Eu=$1().populateModelSymbol,rA1=Symbol("mongoose#Array#sliced"),Tu=Array.prototype.push;/*!
 * ignore
 */var dK={$__getAtomics(){const Z=[],Y=Object.keys(this[r4]||{});let J=Y.length;const X=Object.assign({},Pu,{_isNested:!0});if(J===0)return Z[0]=["$set",this.toObject(X)],Z;while(J--){const $=Y[J];let W=this[r4][$];if(z6.isMongooseObject(W))W=W.toObject(X);else if(Array.isArray(W))W=this.toObject.call(W,X);else if(W!=null&&Array.isArray(W.$each))W.$each=this.toObject.call(W.$each,X);else if(W!=null&&typeof W.valueOf==="function")W=W.valueOf();if($==="$addToSet")W={$each:W};Z.push([$,W])}return Z},$atomics(){/*!
   * ignore
   */return this[r4]},$parent(){/*!
   * ignore
   */return this[$Z]},$path(){/*!
   * ignore
   */return this[WZ]},$shift(){this._registerAtomic("$pop",-1),this._markModified();const Z=this.__array;if(Z._shifted)return;return Z._shifted=!0,[].shift.call(Z)},$pop(){if(this._registerAtomic("$pop",1),this._markModified(),this._popped)return;return this._popped=!0,[].pop.call(this)},$schema(){/*!
   * ignore
   */return this[w4]},_cast(Z){let Y=!1,J;const X=this[$Z];if(X)Y=X.$populated(this[WZ],!0);if(Y&&Z!==null&&Z!==void 0){if(J=Y.options[Eu],J==null)throw new mw("No populated model found for path `"+this[WZ]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");if(Buffer.isBuffer(Z)||uw(Z,"ObjectId")||!z6.isObject(Z))Z={_id:Z};if(!(Z.schema&&Z.schema.discriminatorMapping&&Z.schema.discriminatorMapping.key!==void 0))Z=new J(Z);return this[w4].caster.applySetters(Z,X,!0)}return this[w4].caster.applySetters(Z,X,!1)},_mapCast(Z,Y){return this._cast(Z,this.length+Y)},_markModified(Z){const Y=this[$Z];let J;if(Y){if(J=this[WZ],arguments.length)J=J+"."+Z;if(J!=null&&J.endsWith(".$"))return this;Y.markModified(J,arguments.length!==0?Z:Y)}return this},_registerAtomic(Z,Y){if(this[rA1])return;if(Z==="$set")return this[r4]={$set:Y},Du(this[$Z],this[WZ]),this._markModified(),this;const J=this[r4];if(Z==="$pop"&&!("$pop"in J)){const $=this;this[$Z].once("save",function(){$._popped=$._shifted=null})}if(J.$set||Object.keys(J).length&&!(Z in J))return this[r4]={$set:this},this;let X;if(Z==="$pullAll"||Z==="$addToSet")J[Z]||(J[Z]=[]),J[Z]=J[Z].concat(Y);else if(Z==="$pullDocs"){const $=J.$pull||(J.$pull={});if(Y[0]instanceof hw)X=$.$or||($.$or=[]),Array.prototype.push.apply(X,Y.map((W)=>{return W.toObject({transform:(G,Q)=>{if(W==null||W.$__==null)return Q;return Object.keys(W.$__.activePaths.getStatePaths("default")).forEach((K)=>{Cu.unset(K,Q),ju(Q,K)}),Q},virtuals:!1})}));else X=$._id||($._id={$in:[]}),X.$in=X.$in.concat(Y)}else if(Z==="$push")if(J.$push=J.$push||{$each:[]},Y!=null&&z6.hasUserDefinedProperty(Y,"$each"))J.$push=Y;else if(Y.length===1)J.$push.$each.push(Y[0]);else if(Y.length<1e4)J.$push.$each.push(...Y);else for(let $ of Y)J.$push.$each.push($);else J[Z]=Y;return this},addToSet(){uK(this,arguments);const Z=[].map.call(arguments,this._mapCast,this),Y=[];let J="";if(Z[0]instanceof hw)J="doc";else if(Z[0]instanceof Date)J="date";else if(uw(Z[0],"ObjectId"))J="ObjectId";const X=z6.isMongooseArray(Z)?Z.__array:Z,$=z6.isMongooseArray(this)?this.__array:this;return X.forEach(function(W){let G;const Q=+W;switch(J){case"doc":G=this.some(function(K){return K.equals(W)});break;case"date":G=this.some(function(K){return+K===Q});break;case"ObjectId":G=this.find((K)=>K.toString()===W.toString());break;default:G=~this.indexOf(W);break}if(!G)this._markModified(),$.push(W),this._registerAtomic("$addToSet",W),[].push.call(Y,W)},this),Y},hasAtomics(){if(!z6.isPOJO(this[r4]))return 0;return Object.keys(this[r4]).length},includes(Z,Y){return this.indexOf(Z,Y)!==-1},indexOf(Z,Y){if(uw(Z,"ObjectId"))Z=Z.toString();Y=Y==null?0:Y;const J=this.length;for(let X=Y;X<J;++X)if(Z==this[X])return X;return-1},inspect(){return JSON.stringify(this)},nonAtomicPush(){const Z=[].map.call(arguments,this._mapCast,this);this._markModified();const Y=[].push.apply(this,Z);return this._registerAtomic("$set",this),Y},pop(){this._markModified();const Z=[].pop.call(this);return this._registerAtomic("$set",this),Z},pull(){const Z=[].map.call(arguments,($,W)=>this._cast($,W,{defaults:!1}),this),Y=this[$Z].get(this[WZ]);let J=Y.length,X;this._markModified();while(J--)if(X=Y[J],X instanceof dw){if(Z.some(function(W){return X.equals(W)}))[].splice.call(Y,J,1)}else if(~Y.indexOf.call(Z,X))[].splice.call(Y,J,1);if(Z[0]instanceof hw)this._registerAtomic("$pullDocs",Z.map(function($){const W=$.$__getValue("_id");if(W===void 0||$.$isDefault("_id"))return $;return W}));else this._registerAtomic("$pullAll",Z);if(Du(this[$Z],this[WZ])>0)this._registerAtomic("$set",this);return this},push(){let Z=arguments,Y=Z;const J=Z[0]!=null&&z6.hasUserDefinedProperty(Z[0],"$each"),X=z6.isMongooseArray(this)?this.__array:this;if(J)Y=Z[0],Z=Z[0].$each;if(this[w4]==null)return Tu.apply(this,Z);uK(this,Z),Z=[].map.call(Z,this._mapCast,this);let $;const W=this[r4];if(this._markModified(),J){if(Y.$each=Z,(W.$push&&W.$push.$each&&W.$push.$each.length||0)!==0&&W.$push.$position!=Y.$position)throw new mw("Cannot call `Array#push()` multiple times with different `$position`");if(Y.$position!=null)[].splice.apply(X,[Y.$position,0].concat(Z)),$=this.length;else $=[].push.apply(X,Z)}else{if((W.$push&&W.$push.$each&&W.$push.$each.length||0)!==0&&W.$push.$position!=null)throw new mw("Cannot call `Array#push()` multiple times with different `$position`");Y=Z,$=Tu.apply(X,Z)}return this._registerAtomic("$push",Y),$},remove(){return this.pull.apply(this,arguments)},set(Z,Y,J){const X=this.__array;if(J)return X[Z]=Y,this;const $=dK._cast.call(this,Y,Z);return dK._markModified.call(this,Z),X[Z]=$,this},shift(){const Z=z6.isMongooseArray(this)?this.__array:this;this._markModified();const Y=[].shift.call(Z);return this._registerAtomic("$set",this),Y},sort(){const Z=z6.isMongooseArray(this)?this.__array:this,Y=[].sort.apply(Z,arguments);return this._registerAtomic("$set",this),Y},splice(){let Z;const Y=z6.isMongooseArray(this)?this.__array:this;if(this._markModified(),uK(this,Array.prototype.slice.call(arguments,2)),arguments.length){let J;if(this[w4]==null)J=arguments;else{J=[];for(let X=0;X<arguments.length;++X)J[X]=X<2?arguments[X]:this._cast(arguments[X],arguments[0]+(X-2))}Z=[].splice.apply(Y,J),this._registerAtomic("$set",this)}return Z},toBSON(){/*!
   * ignore
   */return this.toObject(Pu)},toObject(Z){const Y=z6.isMongooseArray(this)?this.__array:this;if(Z&&Z.depopulate)return Z=sA1(Z),Z._isNested=!0,[].concat(Y).map(function(J){return J instanceof dw?J.toObject(Z):J});return[].concat(Y)},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift(){uK(this,arguments);let Z;if(this[w4]==null)Z=arguments;else Z=[].map.call(arguments,this._cast,this);const Y=z6.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(Y,Z),this._registerAtomic("$set",this),this.length}};/*!
 * ignore
 *//*!
 * Minimize _just_ empty objects along the path chain specified
 * by `parts`, ignoring all other paths. Useful in cases where
 * you want to minimize after unsetting a path.
 *
 * #### Example:
 *
 *     const obj = { foo: { bar: { baz: {} } }, a: {} };
 *     _minimizePath(obj, 'foo.bar.baz');
 *     obj; // { a: {} }
 *//*!
 * ignore
 */var oA1=["filter","flat","flatMap","map","slice"];for(let Z of oA1){if(Array.prototype[Z]==null)continue;dK[Z]=function(){const Y=z6.isMongooseArray(this)?this.__array:this,J=[].concat(Y);return J[Z].apply(J,arguments)}}Ou.exports=dK});var pw=R((fu,yu)=>{var JN1=function(Z,Y,J,X){let $;if(Array.isArray(Z)){const Q=Z.length;if(Q===0)$=new Array;else if(Q===1)$=new Array(1),$[0]=Z[0];else if(Q<1e4)$=new Array,_u.apply($,Z);else{$=new Array;for(let K=0;K<Q;++K)_u.call($,Z[K])}}else $=[];const W={[pK]:{},[ZN1]:void 0,[YN1]:Y,[ku]:X,[Su]:void 0,isMongooseArray:!0,isMongooseArrayProxy:!0,__array:$};if(Z&&Z[pK]!=null)W[pK]=Z[pK];if(J!=null&&J instanceof eA1)W[Su]=J,W[ku]=X||J.schema.path(Y);const G=new Proxy($,{get:function(Q,K){if(W.hasOwnProperty(K))return W[K];if(cw.hasOwnProperty(K))return cw[K];if(typeof K==="string"&&xu.test(K)&&X?.$embeddedSchemaType!=null)return X.$embeddedSchemaType.applyGetters($[K],J);return $[K]},set:function(Q,K,H){if(typeof K==="string"&&xu.test(K))cw.set.call(G,K,H,!1);else if(W.hasOwnProperty(K))W[K]=H;else $[K]=H;return!0}});return G};/*!
 * Module dependencies.
 */var eA1=K6(),cw=cK(),pK=$1().arrayAtomicsSymbol,ZN1=$1().arrayAtomicsBackupSymbol,Su=$1().arrayParentSymbol,YN1=$1().arrayPathSymbol,ku=$1().arraySchemaSymbol,_u=Array.prototype.push,xu=/^\d+$/;/*!
 * Module exports.
 */yu.exports=fu=JN1});var iw=R((do1,bu)=>{var gu=t8(),lw=x4();bu.exports=function Z(Y){if(Y==null)return Y;if(gu(Y,"ObjectId"))return Y;if(Y._id){if(gu(Y._id,"ObjectId"))return Y._id;if(Y._id.toString instanceof Function)return new lw(Y._id.toString())}if(Y.toString instanceof Function)return new lw(Y.toString());return new lw(Y)}});var uu=R((co1,mu)=>{var nK=function(Z){const Y=Z[aK];if(!Y||Y.$__.populated==null)return;const J=Object.keys(Y.$__.populated).filter((X)=>X.startsWith(Z[sw]+"."));for(let X of J){const $=X.slice((Z[sw]+".").length);if(!Array.isArray(Y.$__.populated[X].value))continue;Y.$__.populated[X].value=Z.map((W)=>W.$populated($))}},lK=cK(),XN1=K6(),$N1=iw(),vu=h7(),WN1=R4().internalToObjectOptions,iK=H1(),nw=t8(),aK=$1().arrayParentSymbol,sw=$1().arrayPathSymbol,aw=$1().arraySchemaSymbol,hu=$1().documentArrayParent,rw={toBSON(){/*!
   * ignore
   */return this.toObject(WN1)},getArrayParent(){/*!
   * ignore
   */return this[aK]},_cast(Z,Y,J){if(this[aw]==null)return Z;let X=this[aw].casterConstructor;if((X.$isMongooseDocumentArray?iK.isMongooseDocumentArray(Z):Z instanceof X)||Z&&Z.constructor&&Z.constructor.baseCasterConstructor===X){if(!(Z[hu]&&Z.__parentArray))Z[hu]=this[aK],Z.__parentArray=this;return Z.$setIndex(Y),Z}if(Z===void 0||Z===null)return null;if(Buffer.isBuffer(Z)||nw(Z,"ObjectId")||!iK.isObject(Z))Z={_id:Z};if(Z&&X.discriminators&&X.schema&&X.schema.options&&X.schema.options.discriminatorKey)if(typeof Z[X.schema.options.discriminatorKey]==="string"&&X.discriminators[Z[X.schema.options.discriminatorKey]])X=X.discriminators[Z[X.schema.options.discriminatorKey]];else{const G=vu(X.discriminators,Z[X.schema.options.discriminatorKey]);if(G)X=G}if(X.$isMongooseDocumentArray)return X.cast(Z,this,void 0,void 0,Y);const W=new X(Z,this,J,void 0,Y);return W.isNew=!0,W},id(Z){let Y,J,X;try{Y=$N1(Z).toString()}catch($){Y=null}for(let $ of this){if(!$)continue;if(X=$.get("_id"),X===null||typeof X==="undefined")continue;else if(X instanceof XN1){if(J||(J=String(Z)),J==X._id)return $}else if(!nw(Z,"ObjectId")&&!nw(X,"ObjectId")){if(Z==X||iK.deepEqual(Z,X))return $}else if(Y==X)return $}return null},toObject(Z){return[].concat(this.map(function(Y){if(Y==null)return null;if(typeof Y.toObject!=="function")return Y;return Y.toObject(Z)}))},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},push(){const Z=lK.push.apply(this,arguments);return nK(this),Z},pull(){const Z=lK.pull.apply(this,arguments);return nK(this),Z},shift(){const Z=lK.shift.apply(this,arguments);return nK(this),Z},splice(){const Z=lK.splice.apply(this,arguments);return nK(this),Z},inspect(){return this.toObject()},create(Z){let Y=this[aw].casterConstructor;if(Z&&Y.discriminators&&Y.schema&&Y.schema.options&&Y.schema.options.discriminatorKey)if(typeof Z[Y.schema.options.discriminatorKey]==="string"&&Y.discriminators[Z[Y.schema.options.discriminatorKey]])Y=Y.discriminators[Z[Y.schema.options.discriminatorKey]];else{const J=vu(Y.discriminators,Z[Y.schema.options.discriminatorKey]);if(J)Y=J}return new Y(Z,this)},notify(Z){/*!
   * ignore
   */const Y=this;return function J(X,$){$=$||Y;let W=$.length;while(W--){if($[W]==null)continue;switch(Z){case"save":X=Y[W];break;default:break}if(iK.isMongooseArray($[W]))J(X,$[W]);else if($[W])$[W].emit(Z,X)}}},set(Z,Y,J){const X=this.__array;if(J)return X[Z]=Y,this;const $=rw._cast.call(this,Y,Z);return rw._markModified.call(this,Z),X[Z]=$,this},_markModified(Z,Y){const J=this[aK];let X;if(J){if(X=this[sw],arguments.length)if(Y!=null){const $=Z.__index;X=X+"."+$+"."+Y}else X=X+"."+Z;if(X!=null&&X.endsWith(".$"))return this;J.markModified(X,arguments.length!==0?Z:J)}return this}};mu.exports=rw});var E9=R((po1,cu)=>{var zN1=function(Z,Y,J){const X=[],$={[ow]:{},[QN1]:void 0,[ZM]:Y,[C9]:void 0,[ew]:void 0};if(Array.isArray(Z)){if(Z[ZM]===Y&&Z[ew]===J)$[ow]=Object.assign({},Z[ow]);Z.forEach((G)=>{KN1.call(X,G)})}if($[ZM]=Y,$.__array=X,J&&J instanceof GN1){$[ew]=J,$[C9]=J.$__schema.path(Y);while($[C9]!=null&&$[C9].$isMongooseArray&&!$[C9].$isMongooseDocumentArray)$[C9]=$[C9].casterConstructor}const W=new Proxy(X,{get:function(G,Q){if(Q==="isMongooseArray"||Q==="isMongooseArrayProxy"||Q==="isMongooseDocumentArray"||Q==="isMongooseDocumentArrayProxy")return!0;if($.hasOwnProperty(Q))return $[Q];if(tw.hasOwnProperty(Q))return tw[Q];if(du.hasOwnProperty(Q))return du[Q];return X[Q]},set:function(G,Q,K){if(typeof Q==="string"&&HN1.test(Q))tw.set.call(W,Q,K,!1);else if($.hasOwnProperty(Q))$[Q]=K;else X[Q]=K;return!0}});return W};/*!
 * Module dependencies.
 */var du=cK(),tw=uu(),GN1=K6(),ow=$1().arrayAtomicsSymbol,QN1=$1().arrayAtomicsBackupSymbol,ew=$1().arrayParentSymbol,ZM=$1().arrayPathSymbol,C9=$1().arraySchemaSymbol,KN1=Array.prototype.push,HN1=/^\d+$/;/*!
 * Module exports.
 */cu.exports=zN1});var K6=R((Qd,Kd)=>{var m=function(Z,Y,J,X){if(typeof J==="object"&&J!=null)X=J,J=X.skipId;if(X=Object.assign({},X),this.$__schema==null){const H=I1.isObject(Y)&&!Y.instanceOfSchema?new VN1(Y):Y;this.$__setSchema(H),Y=J,J=X,X=arguments[4]||{}}if(this.$__=new FN1,X.isNew!=null&&X.isNew!==!0)this.$isNew=X.isNew;if(X.priorDoc!=null)this.$__.priorDoc=X.priorDoc;if(J)this.$__.skipId=J;if(Z!=null&&typeof Z!=="object")throw new qN1(Z,"obj","Document");let $=!0;if(X.defaults!==void 0)this.$__.defaults=X.defaults,$=X.defaults;const W=this.$__schema;if(typeof Y==="boolean"||Y==="throw"){if(Y!==!0)this.$__.strictMode=Y;Y=void 0}else if(W.options.strict!==!0)this.$__.strictMode=W.options.strict;const G=W.requiredPaths(!0);for(let H of G)this.$__.activePaths.require(H);let Q=null;if(I1.isPOJO(Y)&&Object.keys(Y).length>0)Q=NN1(Y),this.$__.selected=Y,this.$__.exclude=Q;const K=Q===!1&&Y?ou(Y):null;if(this._doc==null){if(this.$__buildDoc(Z,Y,J,Q,K,!1),$)WM(this,Y,Q,K,!0,null)}if(Z){if(this.$__original_set)this.$__original_set(Z,void 0,!0,X);else this.$set(Z,void 0,!0,X);if(Z instanceof m)this.$isNew=Z.$isNew}if(X.willInit&&$){if(X.skipDefaults)this.$__.skipDefaults=X.skipDefaults}else if($)WM(this,Y,Q,K,!1,X.skipDefaults);if(!this.$__.strictMode&&Z){const H=this;Object.keys(this._doc).forEach(function(F){if(!(F in W.tree)&&!(F in W.methods)&&!(F in W.virtuals)&&!F.startsWith("$"))RN1({prop:F,subprops:null,prototype:H})})}dN1(this)},yN1=function(Z,Y,J){if(Z==null)return;const X=Object.keys(J.$__schema.paths),$=X.length,W=Y.indexOf(".")===-1?[Y]:Y.split(".");for(let G=0;G<$;++G){let Q="";const K=X[G];if(!K.startsWith(Y+"."))continue;const H=J.$__schema.paths[K],z=H.splitPath().slice(W.length),F=z.length;if(H.defaultValue===void 0)continue;let U=Z;for(let q=0;q<F;++q){if(U==null)break;const V=z[q];if(q===F-1){if(U[V]!==void 0)break;try{const L=H.getDefault(J,!1);if(L!==void 0)U[V]=L}catch(L){J.invalidate(Y+"."+Q,L);break}break}Q+=(!Q.length?"":".")+V,U[V]=U[V]||{},U=U[V]}}},Xd=function(Z,Y,J,X,$){if($=$||"",Y.$__!=null)Y=Y._doc;const W=Object.keys(Y),G=W.length;let Q,K,H,z=0;const F=Z.$__.strictMode,U=Z.$__schema;while(z<G)q(z++);function q(V){if(H=W[V],H==="__proto__"||H==="constructor")return;if(K=$+H,Q=U.path(K),U.$isRootDiscriminator&&!Z.$__isSelected(K))return;if(!Q&&I1.isPOJO(Y[H])){if(!J[H]){if(J[H]={},!F&&!(H in U.tree)&&!(H in U.methods)&&!(H in U.virtuals))Z[H]=J[H]}Xd(Z,Y[H],J[H],X,K+".")}else if(!Q){if(J[H]=Y[H],!F&&!$)Z[H]=Y[H]}else{if(J.hasOwnProperty(H)&&Y[H]!==void 0)delete J[H];if(Y[H]===null)J[H]=Q._castNullish(null);else if(Y[H]!==void 0){const L=Y[H].$__==null?null:Y[H].$__.wasPopulated;if(Q&&!L)try{if(X&&X.setters)J[H]=Q.applySetters(Y[H],Z,!1);else J[H]=Q.cast(Y[H],Z,!0)}catch(w){Z.invalidate(w.path,new tu({path:w.path,message:w.message,type:"cast",value:w.value,reason:w}))}else J[H]=Y[H]}if(!Z.$isModified(K))Z.$__.activePaths.init(K)}}},gN1=function(Z,Y){if(!Array.isArray(Z))return!1;if(Z.length===0)return!1;for(let J of Z){if(!(J instanceof m))return!1;if(J.constructor.modelName==null)return!1;if(J.constructor.modelName!=Y&&J.constructor.baseModelName!=Y)return!1}return!0},$d=function(Z){if(Z==null)return!0;if(typeof Z!=="object"||Array.isArray(Z))return!1;for(let Y of Object.keys(Z))if(!$d(Z[Y]))return!1;return!0},bN1=function(Z){const Y=Object.keys(Z.$__.activePaths.getStatePaths("require"));let J=0;const X=Y.length;for(J=0;J<X;++J){const $=Y[J],W=Z.$__schema.path($);if(W!=null&&typeof W.originalRequiredValue==="function"){Z.$__.cachedRequired=Z.$__.cachedRequired||{};try{Z.$__.cachedRequired[$]=W.originalRequiredValue.call(Z,Z)}catch(G){Z.invalidate($,G)}}}},Wd=function(Z,Y,J){const X={};bN1(Z);let $=new Set(Object.keys(Z.$__.activePaths.getStatePaths("require")).filter(function(z){if(!Z.$__isSelected(z)&&!Z.$isModified(z))return!1;if(Z.$__.cachedRequired!=null&&(z in Z.$__.cachedRequired))return Z.$__.cachedRequired[z];return!0}));Object.keys(Z.$__.activePaths.getStatePaths("init")).forEach(W),Object.keys(Z.$__.activePaths.getStatePaths("modify")).forEach(W),Object.keys(Z.$__.activePaths.getStatePaths("default")).forEach(W);function W(z){$.add(z)}const G=Z.$getAllSubdocs(),Q=Z.modifiedPaths();for(let z of G)if(z.$basePath){const F=z.$isSingleNested?z.$__pathRelativeToParent():z.$__fullPathWithIndexes();for(let U of z.modifiedPaths())$.delete(F+"."+U);if(Z.$isModified(F,Q)&&!Z.isDirectModified(F)&&!Z.$isDefault(F)){if($.add(F),Z.$__.pathsToScopes==null)Z.$__.pathsToScopes={};if(Z.$__.pathsToScopes[F]=z.$isDocumentArrayElement?z.__parentArray:z.$parent(),X[F]={skipSchemaValidators:!0},z.$isDocumentArrayElement&&z.__index!=null)X[F].index=z.__index}}for(let z of $){const F=Z.$__schema.path(z);if(!F)continue;if(F.$isMongooseDocumentArray){for(let U of $)if(U==null||U.startsWith(F.path+"."))$.delete(U)}if(!F.caster&&F.validators.length===0&&!F.$parentSchemaDocArray)$.delete(z);else if(F.$isMongooseArray&&!F.$isMongooseDocumentArray&&!F.$embeddedSchemaType.$isMongooseArray&&F.validators.length===0&&F.$embeddedSchemaType.validators.length===0)$.delete(z)}for(let z of $)if(Z.$__schema.singleNestedPaths.hasOwnProperty(z)){$.delete(z);continue}if(Array.isArray(Y))$=vN1($,Y);else if(Array.isArray(J))$=hN1($,J);for(let z of $){const F=Z.$__schema.path(z);if(!F)continue;if(!F.$isMongooseArray||!Array.isArray(F)&&F.$isMongooseDocumentArray&&!(F&&F.schemaOptions&&F.schemaOptions.required))continue;if(F.$isMongooseArray&&!F.$isMongooseDocumentArray&&!F.$embeddedSchemaType.$isMongooseArray&&F.$embeddedSchemaType.validators.length===0)continue;const U=Z.$__getValue(z);K(U,$,z)}function K(z,F,U){if(z!=null){const q=z.length;for(let V=0;V<q;++V)if(Array.isArray(z[V]))K(z[V],F,U+"."+V);else F.add(U+"."+V)}}const H={skipArrays:!0};for(let z of $)if(Z.$__schema.nested[z]){let F=Z.$__getValue(z);if(EN1(F))F=F.toObject({transform:!1});const U=wN1(F,z,H,Z.$__schema);Object.keys(U).forEach(W)}for(let z of $){const F=Z.$__schema.path(z);if(!F)continue;if(F.$parentSchemaDocArray&&typeof F.$parentSchemaDocArray.path==="string")$.add(F.$parentSchemaDocArray.path);if(!F.$isSchemaMap)continue;const U=Z.$__getValue(z);if(U==null)continue;for(let q of U.keys())$.add(z+"."+q)}return $=Array.from($),[$,X]},vN1=function(Z,Y){const J=new Set(Y),X=new Map([]);for(let W of Y){if(W.indexOf(".")===-1)continue;const G=W.split(".");let Q=G[0];for(let K=1;K<G.length;++K)X.set(Q,W),Q=Q+"."+G[K]}const $=new Set;for(let W of Z)if(J.has(W))$.add(W);else if(X.has(W))$.add(X.get(W));return $},hN1=function(Z,Y){return Y=new Set(Y),Z=Array.from(Z).filter((J)=>!Y.has(J)),new Set(Z)},mN1=function(Z,Y){if(!Z.$__.validationError)return;const J=Object.keys(Z.$__.validationError.errors);for(let X of J)if(X.startsWith(Y+"."))delete Z.$__.validationError.errors[X];if(Object.keys(Z.$__.validationError.errors).length===0)Z.$__.validationError=null},uN1=function(Z,Y,J){const X=Y.schema;if(X==null)return;for(let $ of Object.keys(X.paths)){const W=X.paths[$];if(W.$immutableSetter==null)continue;const G=J==null?void 0:J.$__getValue($);W.$immutableSetter.call(Z,G)}},dN1=function(Z){const Y=Z.$__schema&&Z.$__schema.callQueue;if(!Y.length)return;for(let J of Y)if(J[0]!=="pre"&&J[0]!=="post"&&J[0]!=="on")Z[J[0]].apply(Z,J[1])},Gd=function(Z,Y,J,X){const $=Z.$__schema,W=Object.keys($.virtuals);let G=W.length;const Q=G;let K,H,z=Z._doc,F;const U=typeof(X&&X.aliases)==="boolean"?X.aliases:!0;let q=null;if(Array.isArray(J.virtuals))q=new Set(J.virtuals);else if(J.virtuals&&J.virtuals.pathsToSkip){q=new Set(W);for(let V=0;V<J.virtuals.pathsToSkip.length;V++)if(q.has(J.virtuals.pathsToSkip[V]))q.delete(J.virtuals.pathsToSkip[V])}if(!z)return Y;J=J||{};for(G=0;G<Q;++G){if(K=W[G],q!=null&&!q.has(K))continue;if(!U&&$.aliases.hasOwnProperty(K))continue;if(H=K,J.path!=null){if(!K.startsWith(J.path+"."))continue;H=K.substring(J.path.length+1)}const V=H.split(".");if(F=m7(Z.get(K),J),F===void 0)continue;const L=V.length;z=Y;for(let w=0;w<L-1;++w)z[V[w]]=z[V[w]]||{},z=z[V[w]];z[V[L-1]]=F}return Y},cN1=function(Z,Y,J){const X=Z.$__schema,$=Object.keys(X.paths);let W=$.length,G,Q=Z._doc,K;if(!Q)return Y;while(W--){G=$[W];const H=G.split("."),z=H.length,F=z-1;let U=Y,q;if(Q=Z._doc,!Z.$__isSelected(G))continue;for(let V=0;V<z;++V){if(q=H[V],K=Q[q],V===F){const L=Z.$get(G);if(U[q]=m7(L,J),Array.isArray(U[q])&&X.paths[G].$embeddedSchemaType)for(let w=0;w<U[q].length;++w)U[q][w]=X.paths[G].$embeddedSchemaType.applyGetters(U[q][w],Z)}else if(K==null){if(q in Q)U[q]=K;break}else U=U[q]||(U[q]={});Q=K}}return Y},pN1=function(Z,Y){const J=Z.$__schema,X=Object.keys(J.paths||{});if(!Z._doc)return Y;for(let W of X){const G=J.paths[W];if(typeof G.options.transform==="function"){const Q=Z.$get(W);if(Q===void 0)continue;const K=G.options.transform.call(Z,Q);ru(W,K),I1.setValue(W,K,Y)}else if(G.$embeddedSchemaType!=null&&typeof G.$embeddedSchemaType.options.transform==="function"){const Q=Z.$get(W);if(Q===void 0)continue;const K=[].concat(Q),H=G.$embeddedSchemaType.options.transform;for(let z=0;z<K.length;++z){const F=H.call(Z,K[z]);K[z]=F,ru(W,F)}Y[W]=K}}return Y},ru=function(Z,Y){if(CN1(Y))throw new Error("`transform` function must be synchronous, but the transform on path `"+Z+"` returned a promise.")},lN1=function(Z,Y){const J=Z.$__schema,X=Object.keys(J.paths||{});if(!Z._doc)return Y;let W=Z.$__.selected;if(W===void 0)W={},TN1.applyPaths(W,J);if(W==null||Object.keys(W).length===0)return Y;for(let G of X)if(W[G]!=null&&!W[G])delete Y[G];return Y};/*!
 * Module dependencies.
 */var XM=import.meta.require("events").EventEmitter,FN1=Em(),F6=e1(),pu=T9(),UN1=jw(),qN1=Sw(),lu=_m(),VN1=xJ(),$M=JZ(),oK=I9(),tu=Hw(),ou=_w(),WM=xK(),YM=fw(),m7=N0(),LN1=yK().compile,RN1=yK().defineKey,wN1=EJ().flatten,MN1=V0(),JM=sm(),iu=tm(),BN1=em(),AN1=bK(),nu=N6(),eu=jJ(),NN1=OJ(),GM=import.meta.require("util").inspect,Zd=R4().internalToObjectOptions,IN1=bw(),DN1=vw(),PN1=g7(),TN1=SJ(),I1=H1(),CN1=Vu(),rK=I1.deepEqual,EN1=I1.isMongooseObject,_J=$1().arrayAtomicsBackupSymbol,Q7=$1().arrayAtomicsSymbol,jN1=$1().documentArrayParent,ON1=$1().documentIsModified,Yd=$1().documentModifiedPaths,QM=$1().documentSchemaSymbol,SN1=$1().getSymbol,au=$1().populateModelSymbol,kN1=$1().scopeSymbol,_N1=P9().schemaMixedSymbol,Jd=hK(),xN1=wu(),sK=$1().sessionNewDocuments,tK,su,j9,fN1=I1.specialProperties;m.prototype.$isMongooseDocumentPrototype=!0;Object.defineProperty(m.prototype,"isNew",{get:function(){return this.$isNew},set:function(Z){this.$isNew=Z}});Object.defineProperty(m.prototype,"errors",{get:function(){return this.$errors},set:function(Z){this.$errors=Z}});/*!
 * ignore
 */m.prototype.$isNew=!0;/*!
 * Document exposes the NodeJS event emitter API, so you can use
 * `on`, `once`, etc.
 */I1.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(Z){m.prototype[Z]=function(){if(!this.$__.emitter){if(Z==="emit")return;this.$__.emitter=new XM,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[Z].apply(this.$__.emitter,arguments)},m.prototype[`\$${Z}`]=m.prototype[Z]});m.prototype.constructor=m;for(let Z in XM.prototype)m[Z]=XM.prototype[Z];m.prototype.$__schema;m.prototype.schema;Object.defineProperty(m.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){if(this.$__.locals==null)this.$__.locals={};return this.$__.locals},set:function(Z){this.$__.locals=Z}});m.prototype.isNew;Object.defineProperty(m.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0});m.prototype.id;m.prototype.$errors;Object.defineProperty(m.prototype,"$op",{get:function(){return this.$__.op||null},set:function(Z){this.$__.op=Z}});/*!
 * ignore
 */m.prototype.$__buildDoc=function(Z,Y,J,X,$){const W={},G=Object.keys(this.$__schema.paths).filter((H)=>!H.includes("$*")),Q=G.length;let K=0;for(;K<Q;++K){const H=G[K];if(H==="_id"){if(J)continue;if(Z&&("_id"in Z))continue}const z=this.$__schema.paths[H].splitPath(),F=z.length,U=F-1;let q="",V=W,L=!1;for(let w=0;w<F;++w){const B=z[w];if(!q.length)q=B;else q+="."+B;if(X===!0){if(q in Y)break}else if(X===!1&&Y&&!L){if(q in Y)L=!0;else if(!$[q])break}if(w<U)V=V[B]||(V[B]={})}}this._doc=W};/*!
 * Converts to POJO when you use the document for querying
 */m.prototype.toBSON=function(){return this.toObject(Zd)};m.prototype.init=function(Z,Y,J){if(typeof Y==="function")J=Y,Y=null;if(this.$__init(Z,Y),J)J(null,this);return this};m.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)};m.prototype.$__init=function(Z,Y){if(this.$isNew=!1,Y=Y||{},Z._id!=null&&Y.populated&&Y.populated.length){const X=String(Z._id);for(let $ of Y.populated){if($.isVirtual)this.$populated($.path,I1.getValue($.path,Z),$);else this.$populated($.path,$._docs[X],$);if($._childDocs==null)continue;for(let W of $._childDocs){if(W==null||W.$__==null)continue;W.$__.parent=this}$._childDocs=[]}}Xd(this,Z,this._doc,Y),IN1(this,Y.populated),this.$emit("init",this),this.constructor.emit("init",this);const J=this.$__.exclude===!1&&this.$__.selected?ou(this.$__.selected):null;return WM(this,this.$__.selected,this.$__.exclude,J,!1,this.$__.skipDefaults),this};m.prototype.updateOne=function Z(Y,J,X){const $=this.constructor.updateOne({_id:this._id},Y,J),W=this;if($.pre(function G(Q){W.constructor._middleware.execPre("updateOne",W,[W],Q)}),$.post(function G(Q){W.constructor._middleware.execPost("updateOne",W,[W],{},Q)}),this.$session()!=null){if(!("session"in $.options))$.options.session=this.$session()}if(X!=null)return $.exec(X);return $};m.prototype.replaceOne=function Z(){const Y=[...arguments];return Y.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,Y)};m.prototype.$session=function Z(Y){if(arguments.length===0){if(this.$__.session!=null&&this.$__.session.hasEnded)return this.$__.session=null,null;return this.$__.session}if(Y!=null&&Y.hasEnded)throw new F6("Cannot set a document\'s session to a session that has ended. Make sure you haven\'t called `endSession()` on the session you are passing to `$session()`.");if(Y==null&&this.$__.session==null)return;if(this.$__.session=Y,!this.$isSubdocument){const J=this.$getAllSubdocs();for(let X of J)X.$session(Y)}return Y};m.prototype.$timestamps=function Z(Y){if(arguments.length===0){if(this.$__.timestamps!=null)return this.$__.timestamps;if(this.$__schema)return this.$__schema.options.timestamps;return}const J=this.$timestamps();if(Y!==J)this.$__.timestamps=Y;return this};m.prototype.overwrite=function Z(Y){const J=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(Y))));for(let X of J){if(X==="_id")continue;if(this.$__schema.options.versionKey&&X===this.$__schema.options.versionKey)continue;if(this.$__schema.options.discriminatorKey&&X===this.$__schema.options.discriminatorKey)continue;this.$set(X,Y[X])}return this};m.prototype.$set=function Z(Y,J,X,$){if(I1.isPOJO(X))$=X,X=void 0;const W=$&&$.merge,G=X&&X!==!0,Q=X===!0;let K,H,z=0,F,U,q;const V=$&&("strict"in $);let L=V?$.strict:this.$__.strictMode;if(G)K=this.$__.adhocPaths||(this.$__.adhocPaths={}),K[Y]=this.$__schema.interpretAsType(Y,X,this.$__schema.options);if(Y==null)[Y,J]=[J,Y];else if(typeof Y!=="string"){if(Y instanceof m)if(Y.$__isNested)Y=Y.toObject();else Y=Y._doc;if(Y==null)[Y,J]=[J,Y];q=J?J+".":"",H=iu(this.$__schema,Y);const D=H.length,l=$&&$._skipMinimizeTopLevel||!1;if(D===0&&l){if(delete $._skipMinimizeTopLevel,J)this.$set(J,{});return this}$=Object.assign({},$,{_skipMinimizeTopLevel:!1});for(let O=0;O<D;++O){U=H[O];const k=q?q+U:U;F=this.$__schema.pathType(k);const i=Y[U];if(X===!0&&!q&&i!=null&&F==="nested"&&this._doc[U]!=null)delete this._doc[U];if(I1.isNonBuiltinObject(i)&&F==="nested"){this.$set(k,i,Q,Object.assign({},$,{_skipMarkModified:!0})),yN1(this.$get(k),k,this);continue}else if(L){if(Q&&i===void 0&&this.$get(k)!==void 0)continue;if(F==="adhocOrUndefined")F=JM(this,k,{typeOnly:!0});if(F==="real"||F==="virtual")this.$set(k,i,Q,$);else if(F==="nested"&&i instanceof m)this.$set(k,i.toObject({transform:!1}),Q,$);else if(L==="throw")if(F==="nested")throw new UN1(U,i);else throw new $M(U)}else if(i!==void 0)this.$set(k,i,Q,$)}const b={},_=Object.keys(this.$__schema.tree);for(let O=0,k=_.length;O<k;++O)(U=_[O])&&this._doc.hasOwnProperty(U)&&(b[U]=void 0);return this._doc=Object.assign(b,this._doc),this}let w=this.$__schema.pathType(Y),B=null;if(w==="adhocOrUndefined")B=Y.indexOf(".")===-1?[Y]:Y.split("."),w=JM(this,B,{typeOnly:!0});if(w==="adhocOrUndefined"&&!V){if(B==null)B=Y.indexOf(".")===-1?[Y]:Y.split(".");const D=BN1(this.$__schema,B);if(D!==void 0)L=D}J=AN1(J);const A=(()=>{if(this.$__.priorDoc!=null)return this.$__.priorDoc.$__getValue(Y);if(Q)return;return this.$__getValue(Y)})();if(w==="nested"&&J){if(typeof J==="object"&&J!=null){if(J.$__!=null)J=J.toObject(Zd);if(J==null)return this.invalidate(Y,new F6.CastError("Object",J,Y)),this;const D=this.$isModified(Y),l=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(Y);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(Y)){const _=this.$__getValue(Y);this.$__.savedState[Y]=_;const O=Object.keys(_||{});for(let k of O)this.$__.savedState[Y+"."+k]=_[k]}if(!W)this.$__setValue(Y,null),YM(this,Y);else return this.$set(J,Y,Q);const b=iu(this.$__schema,J,Y);this.$__setValue(Y,{});for(let _ of b)this.$set(Y+"."+_,J[_],Q,{...$,_skipMarkModified:!0});if(A!=null&&(!D||l)&&I1.deepEqual(l?this.$__.savedState[Y]:A,J))this.unmarkModified(Y);else this.markModified(Y);return this}return this.invalidate(Y,new F6.CastError("Object",J,Y)),this}let M;if(B==null)B=Y.indexOf(".")===-1?[Y]:Y.split(".");if(typeof this.$__schema.aliases[B[0]]==="string")B[0]=this.$__schema.aliases[B[0]];if(w==="adhocOrUndefined"&&L){let D;for(z=0;z<B.length;++z){const l=B.slice(0,z+1).join(".");if(z+1<B.length&&this.$__schema.pathType(l)==="virtual")return PN1.set(Y,J,this),this;if(M=this.$__schema.path(l),M==null)continue;if(M instanceof pu){D=!0;break}else if(M.$isSchemaMap&&M.$__schemaType instanceof pu&&z<B.length-1){D=!0,M=M.$__schemaType;break}}if(M==null)M=JM(this,Y);if(!D&&!M){if(L==="throw")throw new $M(Y);return this}}else if(w==="virtual")return M=this.$__schema.virtualpath(Y),M.applySetters(J,this),this;else M=this.$__path(Y);let I=this._doc,x="";for(z=0;z<B.length-1;++z)if(I=I[B[z]],x+=(x.length!==0?".":"")+B[z],!I){if(this.$set(x,{}),!this.$__isSelected(x))this.unmarkModified(x);I=this.$__getValue(x)}let j;if(B.length<=1)j=Y;else{const D=B.length;for(z=0;z<D;++z){const l=B.slice(0,z+1).join(".");if(this.$get(l,null,{getters:!1})===null){j=l;break}}if(!j)j=Y}if(!M){if(this.$__set(j,Y,$,Q,B,M,J,A),w==="nested"&&J==null)YM(this,Y);return this}if(M.$isSingleNested||M.$isMongooseArray)mN1(this,Y);if(J!=null&&W&&M.$isSingleNested){if(J instanceof m)J=J.toObject({virtuals:!1,transform:!1});const D=Object.keys(J);for(let l of D)this.$set(Y+"."+l,J[l],Q,$);return this}let E=!0;try{const D=(()=>{if(M.options==null)return!1;if(!(J instanceof m))return!1;const O=J.constructor,k=M.options.ref;if(k!=null&&(k===O.modelName||k===O.baseModelName))return!0;const i=M.options.refPath;if(i==null)return!1;const T1=J.get(i);return T1===O.modelName||T1===O.baseModelName})();let l=!1;if(D&&J instanceof m&&(!J.$__.wasPopulated||I1.deepEqual(J.$__.wasPopulated.value,J._id))){const O=M&&M.$isSingleNested?M.cast(J,this):J._id;this.$populated(Y,O,{[au]:J.constructor}),J.$__.wasPopulated={value:O},l=!0}let b;const _=this.$__schema.options.typeKey;if(M.options&&Array.isArray(M.options[_])&&M.options[_].length&&M.options[_][0].ref&&gN1(J,M.options[_][0].ref)){b={[au]:J[0].constructor},this.$populated(Y,J.map(function(O){return O._id}),b);for(let O of J)O.$__.wasPopulated={value:O._id};l=!0}if(!D||!M.$isSingleNested||!J.$__){let O=this;if(this.$__schema.singleNestedPaths[Y]!=null&&B.length>1)O=xN1(this,B,this.schema);if($!=null&&$.overwriteImmutable)J=M.applySetters(J,O,!1,A,{overwriteImmutable:!0});else J=M.applySetters(J,O,!1,A)}if(Array.isArray(J)&&!Array.isArray(M)&&M.$isMongooseDocumentArray&&J.length!==0&&J[0]!=null&&J[0].$__!=null&&J[0].$__.populated!=null){const O=Object.keys(J[0].$__.populated);for(let k of O)this.$populated(Y+"."+k,J.map((i)=>i.$populated(k)),J[0].$__.populated[k].options);l=!0}if(!l&&this.$__.populated){if(Array.isArray(J)&&this.$__.populated[Y]){for(let O=0;O<J.length;++O)if(J[O]instanceof m)J.set(O,J[O]._id,!0)}delete this.$__.populated[Y]}if(J!=null&&M.$isSingleNested)uN1(J,M,A);this.$markValid(Y)}catch(D){if(D instanceof F6.StrictModeError&&D.isImmutableError)this.invalidate(Y,D);else if(D instanceof F6.CastError){if(this.invalidate(D.path,D),D.$originalErrorPath)this.invalidate(Y,new F6.CastError(M.instance,J,Y,D.$originalErrorPath))}else this.invalidate(Y,new F6.CastError(M.instance,J,Y,D));E=!1}if(E){let D=null,l=null;if(!Q){const O=this.$isSubdocument?this.ownerDocument():this;D=O.$__.savedState,l=this.$isSubdocument?this.$__.fullPath+"."+Y:Y,O.$__saveInitialState(l)}this.$__set(j,Y,$,Q,B,M,J,A);const b=!!this.$__.session?.transaction,_=this.$__.session&&this.$__.session[sK]&&this.$__.session[sK].has(this)&&this.$__.session[sK].get(this).modifiedPaths&&!this.$__.session[sK].get(this).modifiedPaths.has(l);if(D!=null&&D.hasOwnProperty(l)&&(!b||_)&&I1.deepEqual(J,D[l]))this.unmarkModified(Y)}if(M.$isSingleNested&&(this.isDirectModified(Y)||J==null))YM(this,Y);return this};/*!
 * ignore
 */m.prototype.set=m.prototype.$set;m.prototype.$__shouldModify=function(Z,Y,J,X,$,W,G,Q){if(J&&J._skipMarkModified)return!1;if(this.$isNew)return!0;if(Y in this.$__.activePaths.getStatePaths("modify"))return!0;if(G===void 0&&!this.$__isSelected(Y))return!0;if(G===void 0&&(Y in this.$__.activePaths.getStatePaths("default")))return!1;if(this.$populated(Y)&&G instanceof m&&rK(G._id,Q))return!1;if(!rK(G,Q!==void 0?Q:I1.getValue(Y,this)))return!0;if(!X&&G!==null&&G!==void 0&&(Y in this.$__.activePaths.getStatePaths("default"))&&rK(G,W.getDefault(this,X)))return!0;return!1};m.prototype.$__set=function(Z,Y,J,X,$,W,G,Q){if(j9=j9||kJ(),this.$__shouldModify(Z,Y,J,X,$,W,G,Q)){if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Y]){if(delete this.$__.primitiveAtomics[Y],Object.keys(this.$__.primitiveAtomics).length===0)delete this.$__.primitiveAtomics}if(this.markModified(Z),su||(su=pw()),G&&I1.isMongooseArray(G)){if(G._registerAtomic("$set",G),I1.isMongooseDocumentArray(G))G.forEach(function(q){q&&q.__parentArray&&(q.__parentArray=G)})}}else if(Array.isArray(G)&&Array.isArray(Q)&&I1.isMongooseArray(G)&&I1.isMongooseArray(Q)){if(G[Q7]=Q[Q7],G[_J]=Q[_J],I1.isMongooseDocumentArray(G))G.forEach((q)=>{if(q!=null)q.$isNew=!1})}let H=this._doc,z=0;const F=$.length;let U="";for(;z<F;z++){const V=z+1===F;if(U+=U?"."+$[z]:$[z],fN1.has($[z]))return;if(V)if(H instanceof Map)H.set($[z],G);else if(H.$isSingleNested)if(!($[z]in H))H[$[z]]=G,H._doc[$[z]]=G;else H._doc[$[z]]=G;else H[$[z]]=G;else{const L=H instanceof Map;let w=L?H.get($[z]):H[$[z]];if(I1.isPOJO(w))H=w;else if(w&&w instanceof j9)H=w;else if(w&&!Array.isArray(w)&&w.$isSingleNested)H=w;else if(w&&Array.isArray(w))H=w;else if(w==null){if(w={},L)H.set($[z],w);else H[$[z]]=w;H=w}else H=w}}};m.prototype.$__getValue=function(Z){return I1.getValue(Z,this._doc)};m.prototype.$inc=function Z(Y,J){if(J==null)J=1;if(Array.isArray(Y))return Y.forEach((K)=>this.$inc(K,J)),this;const X=this.$__path(Y);if(X==null){if(this.$__.strictMode==="throw")throw new $M(Y);else if(this.$__.strictMode===!0)return this}else if(X.instance!=="Number")return this.invalidate(Y,new F6.CastError(X.instance,J,Y)),this;const $=this.$__getValue(Y)||0;let W=!1,G=null,Q=J;try{J=X.cast(J),G=X.applySetters($+J,this),Q=G-$,W=!0}catch(K){this.invalidate(Y,new F6.CastError("number",J,Y,K))}if(W){if(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[Y]==null)this.$__.primitiveAtomics[Y]={$inc:Q};else this.$__.primitiveAtomics[Y].$inc+=Q;this.markModified(Y),this.$__setValue(Y,G)}return this};m.prototype.$__setValue=function(Z,Y){return I1.setValue(Z,Y,this._doc),this};m.prototype.get=function(Z,Y,J){let X;if(J==null)J={};if(Y)X=this.$__schema.interpretAsType(Z,Y,this.$__schema.options);const $=J.noDottedPath;let W=$?this.$__schema.paths[Z]:this.$__path(Z);if(W==null){if(W=this.$__schema.virtualpath(Z),W!=null)return W.applyGetters(void 0,this)}if($){let H=this._doc[Z];if(X)H=X.cast(H);if(W!=null&&J.getters!==!1)return W.applyGetters(H,this);return H}if(W!=null&&W.instance==="Mixed"){const H=this.$__schema.virtualpath(Z);if(H!=null)W=H}const G=Z.indexOf(".")!==-1;let Q=this._doc;const K=G?Z.split("."):[Z];if(typeof this.$__schema.aliases[K[0]]==="string")K[0]=this.$__schema.aliases[K[0]];for(let H=0,z=K.length;H<z;H++){if(Q&&Q._doc)Q=Q._doc;if(Q==null)Q=void 0;else if(Q instanceof Map)Q=Q.get(K[H],{getters:!1});else if(H===z-1)Q=I1.getValue(K[H],Q);else Q=Q[K[H]]}if(X)Q=X.cast(Q);if(W!=null&&J.getters!==!1)Q=W.applyGetters(Q,this);else if(this.$__schema.nested[Z]&&J.virtuals)return Gd(this,m7(Q)||{},{path:Z});return Q};/*!
 * ignore
 */m.prototype[SN1]=m.prototype.get;m.prototype.$get=m.prototype.get;m.prototype.$__path=function(Z){const Y=this.$__.adhocPaths,J=Y&&Y.hasOwnProperty(Z)?Y[Z]:null;if(J)return J;return this.$__schema.path(Z)};m.prototype.markModified=function(Z,Y){if(this.$__saveInitialState(Z),this.$__.activePaths.modify(Z),Y!=null&&!this.$isSubdocument)this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[Z]=Y};/*!
 * ignore
 */m.prototype.$__saveInitialState=function Z(Y){const J=this.$__.savedState,X=Y;if(J!=null){const $=X.indexOf("."),W=$===-1?X:X.slice(0,$);if(!J.hasOwnProperty(W))J[W]=m7(this.$__getValue(W))}};m.prototype.unmarkModified=function(Z){if(this.$__.activePaths.init(Z),this.$__.pathsToScopes!=null)delete this.$__.pathsToScopes[Z]};m.prototype.$ignore=function(Z){this.$__.activePaths.ignore(Z)};m.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))};m.prototype.$isEmpty=function(Z){const Y={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){const J=this.$get(Z);if(J==null)return!0;if(typeof J!=="object")return!1;if(I1.isPOJO(J))return $d(J);return Object.keys(J.toObject(Y)).length===0}return Object.keys(this.toObject(Y)).length===0};/*!
 * ignore
 */m.prototype.modifiedPaths=function(Z){Z=Z||{};const Y=Object.keys(this.$__.activePaths.getStatePaths("modify")),J=new Set;let X=0,$=0;const W=Y.length;for(X=0;X<W;++X){const G=Y[X],Q=Jd(G),K=Q.length;for($=0;$<K;++$)J.add(Q[$]);if(!Z.includeChildren)continue;let H=0,z=this.$get(G);if(typeof z==="object"&&z!==null){if(z._doc)z=z._doc;const F=z.length;if(Array.isArray(z))for(H=0;H<F;++H){const U=G+"."+H;if(!J.has(U)){if(J.add(U),z[H]!=null&&z[H].$__){const q=z[H].modifiedPaths();let V=0;const L=q.length;for(V=0;V<L;++V)J.add(U+"."+q[V])}}}else{const U=Object.keys(z);let q=0;const V=U.length;for(q=0;q<V;++q)J.add(G+"."+U[q])}}}return Array.from(J)};m.prototype[Yd]=m.prototype.modifiedPaths;m.prototype.isModified=function(Z,Y){if(Z){const J=this.$__.activePaths.states.modify;if(J==null)return!1;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let G of Z)if(J[G]!=null)return!0;const X=Y||this[Yd](),$=Z.some(function(G){return!!~X.indexOf(G)}),W=Object.keys(J);return $||Z.some(function(G){return W.some(function(Q){return Q===G||G.startsWith(Q+".")})})}return this.$__.activePaths.some("modify")};m.prototype.$isModified=m.prototype.isModified;m.prototype[ON1]=m.prototype.isModified;m.prototype.$isDefault=function(Z){if(Z==null)return this.$__.activePaths.some("default");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("default").hasOwnProperty(J))};m.prototype.$isDeleted=function(Z){if(arguments.length===0)return!!this.$__.isDeleted;return this.$__.isDeleted=!!Z,this};m.prototype.isDirectModified=function(Z){if(Z==null)return this.$__.activePaths.some("modify");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("modify").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("modify").hasOwnProperty(J))};m.prototype.isInit=function(Z){if(Z==null)return this.$__.activePaths.some("init");if(typeof Z==="string"&&Z.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(Z);let Y=Z;if(!Array.isArray(Y))Y=Y.split(" ");return Y.some((J)=>this.$__.activePaths.getStatePaths("init").hasOwnProperty(J))};m.prototype.isSelected=function Z(Y){if(this.$__.selected==null)return!0;if(!Y)return!1;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1)Y=Y.split(" ");if(Array.isArray(Y))return Y.some((W)=>this.$__isSelected(W));const J=Object.keys(this.$__.selected);let X=null;if(J.length===1&&J[0]==="_id")return this.$__.selected._id===0;for(let W of J){if(W==="_id")continue;if(!eu(this.$__.selected[W]))continue;X=!!this.$__.selected[W];break}if(X===null)return!0;if(Y in this.$__.selected)return X;const $=Y+".";for(let W of J){if(W==="_id")continue;if(W.startsWith($))return X||W!==$;if($.startsWith(W+"."))return X}return!X};m.prototype.$__isSelected=m.prototype.isSelected;m.prototype.isDirectSelected=function Z(Y){if(this.$__.selected==null)return!0;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1)Y=Y.split(" ");if(Array.isArray(Y))return Y.some(($)=>this.isDirectSelected($));const J=Object.keys(this.$__.selected);let X=null;if(J.length===1&&J[0]==="_id")return this.$__.selected._id===0;for(let $ of J){if($==="_id")continue;if(!eu(this.$__.selected[$]))continue;X=!!this.$__.selected[$];break}if(X===null)return!0;if(this.$__.selected.hasOwnProperty(Y))return X;return!X};m.prototype.validate=async function Z(Y,J){if(typeof Y==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new F6("Document.prototype.validate() no longer accepts a callback");let X;if(this.$op="validate",this.$isSubdocument!=null);else if(this.$__.validating)X=new lu(this,{parentStack:J&&J.parentStack,conflictStack:this.$__.validating.stack});else this.$__.validating=new lu(this,{parentStack:J&&J.parentStack});if(arguments.length===1){if(typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))J=arguments[0],Y=null}if(J&&typeof J.pathsToSkip==="string"){const $=J.pathsToSkip.indexOf(" ")===-1;J.pathsToSkip=$?[J.pathsToSkip]:J.pathsToSkip.split(" ")}if(X!=null)throw X;return new Promise(($,W)=>{this.$__validate(Y,J,(G)=>{if(this.$op=null,this.$__.validating=null,G!=null)return W(G);$()})})};m.prototype.$validate=m.prototype.validate;/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */m.prototype.$__validate=function(Z,Y,J){if(typeof Z==="function")J=Z,Y=null,Z=null;else if(typeof Y==="function")J=Y,Y=null;const X=Y&&typeof Y==="object"&&("validateModifiedOnly"in Y),$=Y&&Y.pathsToSkip||null;let W;if(X)W=!!Y.validateModifiedOnly;else W=this.$__schema.options.validateModifiedOnly;const G=this,Q=()=>{let L=this.$__.validationError;if(this.$__.validationError=null,this.$__.validating=null,W&&L!=null){const w=Object.keys(L.errors);for(let B of w)if(!this.$isModified(B))delete L.errors[B];if(Object.keys(L.errors).length===0)L=void 0}if(this.$__.cachedRequired={},this.$emit("validate",G),this.constructor.emit("validate",G),L){for(let w in L.errors)if(!this[jN1]&&L.errors[w]instanceof F6.CastError)this.invalidate(w,L.errors[w]);return L}},K=Wd(this,Z,$),H=W?K[0].filter((L)=>this.$isModified(L)):K[0],z=K[1];if(typeof Z==="string")Z=Z.split(" ");if(H.length===0)return nu(function(){const L=Q();if(L)return G.$__schema.s.hooks.execPost("validate:error",G,[G],{error:L},function(w){J(w)});J(null,G)});const F={};let U=0;for(let L of H)q(L);function q(L){if(L==null||F[L])return;F[L]=!0,U++,nu(function(){const w=G.$__schema.path(L);if(!w)return--U||V();if(!G.$isValid(L)){--U||V();return}if(w[_N1]!=null&&L!==w.path)return--U||V();let B=G.$__getValue(L),A;if(A=G.$populated(L))B=A;else if(B!=null&&B.$__!=null&&B.$__.wasPopulated)B=B._id;const M=G.$__.pathsToScopes!=null&&(L in G.$__.pathsToScopes)?G.$__.pathsToScopes[L]:G,I={...z[L],path:L,validateModifiedOnly:W};w.doValidate(B,function(x){if(x){if((w.$isSingleNested||w.$isArraySubdocument||w.$isMongooseDocumentArray)&&x instanceof oK)return--U||V();G.invalidate(L,x,void 0,!0)}--U||V()},M,I)})}function V(){const L=Q();if(L)return G.$__schema.s.hooks.execPost("validate:error",G,[G],{error:L},function(w){J(w)});J(null,G)}};/*!
 * ignore
 *//*!
 * ignore
 */m.prototype.validateSync=function(Z,Y){const J=this;if(arguments.length===1&&typeof arguments[0]==="object"&&!Array.isArray(arguments[0]))Y=arguments[0],Z=null;const X=Y&&typeof Y==="object"&&("validateModifiedOnly"in Y);let $;if(X)$=!!Y.validateModifiedOnly;else $=this.$__schema.options.validateModifiedOnly;let W=Y&&Y.pathsToSkip;if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");else if(typeof W==="string"&&W.indexOf(" ")!==-1)W=W.split(" ");const G=Wd(this,Z,W),Q=$?G[0].filter((F)=>this.$isModified(F)):G[0],K=G[1],H={};for(let F=0,U=Q.length;F<U;++F){const q=Q[F];if(H[q])continue;H[q]=!0;const V=J.$__schema.path(q);if(!V)continue;if(!J.$isValid(q))continue;const L=J.$__getValue(q),w=V.doValidateSync(L,J,{skipSchemaValidators:K[q],path:q,validateModifiedOnly:$});if(w){if((V.$isSingleNested||V.$isArraySubdocument||V.$isMongooseDocumentArray)&&w instanceof oK)continue;J.invalidate(q,w,void 0,!0)}}const z=J.$__.validationError;if(J.$__.validationError=void 0,J.$emit("validate",J),J.constructor.emit("validate",J),z){for(let F in z.errors)if(z.errors[F]instanceof F6.CastError)J.invalidate(F,z.errors[F])}return z};m.prototype.invalidate=function(Z,Y,J,X){if(!this.$__.validationError)this.$__.validationError=new oK(this);if(this.$__.validationError.errors[Z])return;if(!Y||typeof Y==="string")Y=new tu({path:Z,message:Y,type:X||"user defined",value:J});if(this.$__.validationError===Y)return this.$__.validationError;return this.$__.validationError.addError(Z,Y),this.$__.validationError};m.prototype.$markValid=function(Z){if(!this.$__.validationError||!this.$__.validationError.errors[Z])return;if(delete this.$__.validationError.errors[Z],Object.keys(this.$__.validationError.errors).length===0)this.$__.validationError=null};/*!
 * ignore
 *//*!
 * ignore
 */m.prototype.$isValid=function(Z){if(this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0)return!0;if(Z==null)return!1;if(Z.indexOf(" ")!==-1)Z=Z.split(" ");if(Array.isArray(Z))return Z.some((Y)=>this.$__.validationError.errors[Y]==null);return this.$__.validationError.errors[Z]==null};m.prototype.$__reset=function Z(){let Y=this;const J=this.$parent()===this?this.$getAllSubdocs():[],X=new Set;for(let W of J){const G=W.$__fullPathWithIndexes();if(W.$__reset(),this.isModified(G)||$(G))if(W.$isDocumentArrayElement)X.add(W.parentArray());else{const Q=W.$parent();if(Q===this)this.$__.activePaths.clearPath(W.$basePath);else if(Q!=null&&Q.$isSubdocument)Q.$__reset()}}for(let W of X)this.$__.activePaths.clearPath(W.$path()),W[_J]=W[Q7],W[Q7]={};function $(W){W=W.indexOf(".")===-1?[W]:W.split(".");let G="";for(let Q=0;Q<W.length;++Q)if(G+=(G.length?".":"")+W[Q],Y.$__.activePaths[G]==="init")return!0;return!1}return this.$__dirty().forEach(function(W){const G=W.value;if(G&&G[Q7])G[_J]=G[Q7],G[Q7]={}}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,Y=this,this.$__schema.requiredPaths().forEach(function(W){Y.$__.activePaths.require(W)}),this};/*!
 * ignore
 */m.prototype.$__undoReset=function Z(){if(this.$__.backup==null||this.$__.backup.activePaths==null)return;this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;for(let Y of this.$__dirty()){const J=Y.value;if(J&&J[Q7]&&J[_J])J[Q7]=J[_J]}for(let Y of this.$getAllSubdocs())Y.$__undoReset()};m.prototype.$__dirty=function(){const Z=this;let Y=this.$__.activePaths.map("modify",function($){return{path:$,value:Z.$__getValue($),schema:Z.$__path($)}});Y=Y.concat(this.$__.activePaths.map("default",function($){if($==="_id"||Z.$__getValue($)==null)return;return{path:$,value:Z.$__getValue($),schema:Z.$__path($)}}));const J=new Map(Y.filter(($)=>$!=null).map(($)=>[$.path,$.value])),X=[];return Y.forEach(function($){if(!$)return;let W=null;const G=Jd($.path);for(let Q=0;Q<G.length-1;Q++)if(J.has(G[Q])){W=J.get(G[Q]);break}if(W==null)X.push($);else if(W!=null&&W[Q7]!=null&&W.hasAtomics())W[Q7]={},W[Q7].$set=W}),X};m.prototype.$__setSchema=function(Z){LN1(Z.tree,this,void 0,Z.options);for(let Y of Object.keys(Z.virtuals))Z.virtuals[Y]._applyDefaultGetters();if(Z.path("schema")==null)this.schema=Z;this.$__schema=Z,this[QM]=Z};m.prototype.$__getArrayPathsToValidate=function(){return tK||(tK=E9()),this.$__.activePaths.map("init","modify",function(Z){return this.$__getValue(Z)}.bind(this)).filter(function(Z){return Z&&Array.isArray(Z)&&I1.isMongooseDocumentArray(Z)&&Z.length}).reduce(function(Z,Y){return Z.concat(Y)},[]).filter(function(Z){return Z})};m.prototype.$getAllSubdocs=function(){tK||(tK=E9()),j9=j9||kJ();function Z(J,X,$){let W=J,G=!1;if($)if(J instanceof m&&J[QM].paths[$])W=J._doc[$];else if(J instanceof m&&J[QM].nested[$])W=J._doc[$],G=!0;else W=J[$];if(W instanceof j9)X.push(W);else if(W instanceof Map)X=Array.from(W.keys()).reduce(function(Q,K){return Z(W.get(K),Q,null)},X);else if(W&&!Array.isArray(W)&&W.$isSingleNested)X=Object.keys(W._doc).reduce(function(Q,K){return Z(W,Q,K)},X),X.push(W);else if(W&&I1.isMongooseDocumentArray(W))W.forEach(function Q(K){if(!K||!K._doc)return;if(X=Object.keys(K._doc).reduce(function(H,z){return Z(K._doc,H,z)},X),K instanceof j9)X.push(K)});else if(G&&W!=null)for(let Q of Object.keys(W))Z(W,X,Q);return X}const Y=[];for(let J of Object.keys(this._doc))Z(this,Y,J);return Y};/*!
 * Runs queued functions
 *//*!
 * ignore
 */m.prototype.$__handleReject=function Z(Y){if(this.$listeners("error").length)this.$emit("error",Y);else if(this.constructor.listeners&&this.constructor.listeners("error").length)this.constructor.emit("error",Y)};m.prototype.$toObject=function(Z,Y){let J={transform:!0,flattenDecimals:!0};const X=Y?"toJSON":"toObject",$=this.constructor&&this.constructor.base&&this.constructor.base.options&&MN1(this.constructor.base.options,X)||{},W=this.$__schema&&this.$__schema.options||{};J=I1.options(J,m7($)),J=I1.options(J,m7(W[X]||{})),Z=I1.isPOJO(Z)?{...Z}:{},Z._calledWithOptions=Z._calledWithOptions||{...Z};let G;if(Z._calledWithOptions.minimize!=null)G=Z.minimize;else if(J.minimize!=null)G=J.minimize;else G=W.minimize;let Q;if(Z._calledWithOptions.flattenMaps!=null)Q=Z.flattenMaps;else if(J.flattenMaps!=null)Q=J.flattenMaps;else Q=W.flattenMaps;let K;if(Z._calledWithOptions.flattenObjectIds!=null)K=Z.flattenObjectIds;else if(J.flattenObjectIds!=null)K=J.flattenObjectIds;else K=W.flattenObjectIds;const H=Object.assign({},Z,{_isNested:!0,json:Y,minimize:G,flattenMaps:Q,flattenObjectIds:K,_seen:Z&&Z._seen||new Map});if(I1.hasUserDefinedProperty(Z,"getters"))H.getters=Z.getters;if(I1.hasUserDefinedProperty(Z,"virtuals"))H.virtuals=Z.virtuals;if((Z.depopulate||(Z._parentOptions&&Z._parentOptions.depopulate||!1))&&Z._isNested&&this.$__.wasPopulated)return m7(this.$__.wasPopulated.value||this._id,H);Z=I1.options(J,Z),Z._isNested=!0,Z.json=Y,Z.minimize=G,H._parentOptions=Z,H._skipSingleNestedGetters=!1;const F=Object.assign({},H);F._skipSingleNestedGetters=!0;const U=Z.transform;let q=m7(this._doc,H)||{};if(Z.getters){if(cN1(this,q,F),Z.minimize)q=DN1(q)||{}}if(Z.virtuals||Z.getters&&Z.virtuals!==!1)Gd(this,q,F,Z);if(Z.versionKey===!1&&this.$__schema.options.versionKey)delete q[this.$__schema.options.versionKey];let V=Z.transform;if(V)pN1(this,q);if(Z.useProjection)lN1(this,q);if(V===!0||W.toObject&&V){const L=Z.json?W.toJSON:W.toObject;if(L)V=typeof Z.transform==="function"?Z.transform:L.transform}else Z.transform=U;if(typeof V==="function"){const L=V(this,q,Z);if(typeof L!=="undefined")q=L}return q};m.prototype.toObject=function(Z){return this.$toObject(Z)};/*!
 * Applies virtuals properties to `json`.
 *//*!
 * ignore
 */m.prototype.toJSON=function(Z){return this.$toObject(Z,!0)};/*!
 * ignore
 */m.prototype.ownerDocument=function(){return this};m.prototype.parent=function(){if(this.$isSubdocument||this.$__.wasPopulated)return this.$__.parent;return this};m.prototype.$parent=m.prototype.parent;m.prototype.inspect=function(Z){const Y=I1.isPOJO(Z);let J;if(Y)J=Z,J.minimize=!1;const X=this.toObject(J);if(X==null)return"MongooseDocument { "+X+" }";return X};if(GM.custom)m.prototype[GM.custom]=m.prototype.inspect;m.prototype.toString=function(){const Z=this.inspect();if(typeof Z==="string")return Z;return GM(Z)};m.prototype.equals=function(Z){if(!Z)return!1;const Y=this.$__getValue("_id"),J=Z.$__!=null?Z.$__getValue("_id"):Z;if(!Y&&!J)return rK(this,Z);return Y&&Y.equals?Y.equals(J):Y===J};m.prototype.populate=async function Z(){const Y={},J=[...arguments];if(typeof J[J.length-1]==="function")throw new F6("Document.prototype.populate() no longer accepts a callback");if(J.length!==0){const W=I1.populate.apply(null,J);for(let G of W)Y[G.path]=G}const X=I1.object.vals(Y);let $=this.constructor;if(this.$__isNested){$=this.$__[kN1].constructor;const W=this.$__.nestedPath;X.forEach(function(G){G.path=W+"."+G.path})}if(this.$session()!=null){const W=this.$session();X.forEach((G)=>{if(G.options==null){G.options={session:W};return}if(!("session"in G.options))G.options.session=W})}return X.forEach((W)=>{W._localModel=$}),$.populate(this,X)};m.prototype.$getPopulatedDocs=function Z(){let Y=[];if(this.$__.populated!=null)Y=Y.concat(Object.keys(this.$__.populated));let J=[];for(let X of Y){const $=this.$get(X);if(Array.isArray($))J=J.concat($);else if($ instanceof m)J.push($)}return J};m.prototype.populated=function(Z,Y,J){if(Y==null||Y===!0){if(!this.$__.populated)return;if(typeof Z!=="string")return;const $=Z.endsWith(".$*")?Z.replace(/\.\$\*$/,""):Z,W=this.$__.populated[$];if(W)return Y===!0?W:W.value;return}this.$__.populated||(this.$__.populated={}),this.$__.populated[Z]={value:Y,options:J};const X=Z.split(".");for(let $=0;$<X.length-1;++$){const W=X.slice(0,$+1).join("."),G=this.$get(W);if(G!=null&&G.$__!=null&&this.$populated(W)){const Q=X.slice($+1).join(".");G.$populated(Q,Y,J);break}}return Y};m.prototype.$populated=m.prototype.populated;m.prototype.$assertPopulated=function Z(Y,J){if(Array.isArray(Y))return Y.forEach((X)=>this.$assertPopulated(X,J)),this;if(arguments.length>1)this.$set(J);if(!this.$populated(Y))throw new F6(`Expected path "${Y}" to be populated`);return this};m.prototype.depopulate=function(Z){if(typeof Z==="string")Z=Z.indexOf(" ")===-1?[Z]:Z.split(" ");let Y;const J=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],X=this.$__&&this.$__.populated||{};if(arguments.length===0){for(let W of J)delete this.$$populatedVirtuals[W],delete this._doc[W],delete X[W];const $=Object.keys(X);for(let W of $){if(Y=this.$populated(W),!Y)continue;delete X[W],I1.setValue(W,Y,this._doc)}return this}for(let $ of Z)if(Y=this.$populated($),delete X[$],J.indexOf($)!==-1)delete this.$$populatedVirtuals[$],delete this._doc[$];else if(Y)I1.setValue($,Y,this._doc);return this};m.prototype.$__fullPath=function(Z){return Z||""};m.prototype.getChanges=function(){const Z=this.$__delta();return Z?Z[1]:{}};m.prototype.$clone=function(){const Y=new this.constructor;if(Y.$isNew=this.$isNew,this._doc)Y._doc=m7(this._doc);if(this.$__){const X=new this.$__.constructor;for(let $ of Object.getOwnPropertyNames(this.$__)){if($==="activePaths")continue;X[$]=m7(this.$__[$])}Object.assign(X.activePaths,m7({...this.$__.activePaths})),Y.$__=X}return Y};/*!
 * Module exports.
 */m.ValidationError=oK;Kd.exports=Qd=m});var H1=R((W21)=>{var Z21=function(Z){if(Array.isArray(Z.populate)){const X=[];Z.populate.forEach(function($){if(zM.test($.path)){const W=Object.assign({},$);W.path.split(FM).forEach(function(Q){W.path=Q,X.push(W21.populate(W)[0])})}else X.push(W21.populate($)[0])}),Z.populate=W21.populate(X)}else if(Z.populate!=null&&typeof Z.populate==="object")Z.populate=W21.populate(Z.populate);const Y=[],J=zM.test(Z.path)?Z.path.split(FM):[Z.path];if(Z.options!=null)Z.options=HM(Z.options);for(let X of J)Y.push(new Ld(Object.assign({},Z,{path:X})));return Y},J21=function(Z,Y){let J=Z?._doc||Z;if(J!=null&&J.isMongooseArrayProxy)J=J.__array;return J instanceof Map?J.get(Y,Y21):J[Y]};/*!
 * Module dependencies.
 */var iN1=p6().UUID,nN1=Tw(),Vd=g7(),aN1=x4(),Ld=Mm(),HM=N0(),sN1=N6(),rN1=O5(),Rd=EG(),wd=Bm(),GZ=t8(),tN1=dU(),w$=oX(),oN1=SK(),eN1=kK(),M$=iZ(),{trustedSymbol:yJ}=jY(),KM;W21.specialProperties=M$;W21.isMongooseArray=Rd.isMongooseArray;W21.isMongooseDocumentArray=wd.isMongooseDocumentArray;W21.registerMongooseArray=Rd.registerMongooseArray;W21.registerMongooseDocumentArray=wd.registerMongooseDocumentArray;var zM=/\s/,FM=/\s+/;W21.toCollectionName=function(Z,Y){if(Z==="system.profile")return Z;if(Z==="system.indexes")return Z;if(typeof Y==="function")return Y(Z);return Z};W21.deepEqual=function Z(Y,J){if(Y===J)return!0;if(typeof Y!=="object"||typeof J!=="object")return Y===J;if(Y instanceof Date&&J instanceof Date)return Y.getTime()===J.getTime();if(GZ(Y,"ObjectId")&&GZ(J,"ObjectId")||GZ(Y,"Decimal128")&&GZ(J,"Decimal128"))return Y.toString()===J.toString();if(Y instanceof RegExp&&J instanceof RegExp)return Y.source===J.source&&Y.ignoreCase===J.ignoreCase&&Y.multiline===J.multiline&&Y.global===J.global&&Y.dotAll===J.dotAll&&Y.unicode===J.unicode&&Y.sticky===J.sticky&&Y.hasIndices===J.hasIndices;if(Y==null||J==null)return!1;if(Y.prototype!==J.prototype)return!1;if(Y instanceof Map||J instanceof Map){if(!(Y instanceof Map)||!(J instanceof Map))return!1;return Z(Array.from(Y.keys()),Array.from(J.keys()))&&Z(Array.from(Y.values()),Array.from(J.values()))}if(Y instanceof Number&&J instanceof Number)return Y.valueOf()===J.valueOf();if(Buffer.isBuffer(Y))return W21.buffer.areEqual(Y,J);if(Array.isArray(Y)||Array.isArray(J)){if(!Array.isArray(Y)||!Array.isArray(J))return!1;const G=Y.length;if(G!==J.length)return!1;for(let Q=0;Q<G;++Q)if(!Z(Y[Q],J[Q]))return!1;return!0}if(Y.$__!=null)Y=Y._doc;else if(w$(Y))Y=Y.toObject();if(J.$__!=null)J=J._doc;else if(w$(J))J=J.toObject();const X=Object.keys(Y),$=Object.keys(J),W=X.length;if(W!==$.length)return!1;for(let G=W-1;G>=0;G--)if(X[G]!==$[G])return!1;for(let G of X)if(!Z(Y[G],J[G]))return!1;return!0};W21.last=function(Z){if(Z.length>0)return Z[Z.length-1];return};/*!
 * ignore
 */W21.promiseOrCallback=oN1;/*!
 * ignore
 */W21.cloneArrays=function Z(Y){if(!Array.isArray(Y))return Y;return Y.map((J)=>W21.cloneArrays(J))};/*!
 * ignore
 */W21.omit=function Z(Y,J){if(J==null)return Object.assign({},Y);if(!Array.isArray(J))J=[J];const X=Object.assign({},Y);for(let $ of J)delete X[$];return X};W21.options=function(Z,Y){const J=Object.keys(Z);let X=J.length,$;Y=Y||{};while(X--)if($=J[X],!($ in Y))Y[$]=Z[$];return Y};W21.merge=function Z(Y,J,X,$){X=X||{};const W=Object.keys(J);let G=0;const Q=W.length;let K;if(J[yJ])Y[yJ]=J[yJ];$=$||"";const H=X.omitNested||{};while(G<Q){if(K=W[G++],X.omit&&X.omit[K])continue;if(H[$])continue;if(M$.has(K))continue;if(Y[K]==null)Y[K]=J[K];else if(W21.isObject(J[K])){if(!W21.isObject(Y[K]))Y[K]={};if(J[K]!=null){if(X.isDiscriminatorSchemaMerge&&(J[K].$isSingleNested&&Y[K].$isMongooseDocumentArray)||J[K].$isMongooseDocumentArray&&Y[K].$isSingleNested)continue;else if(J[K].instanceOfSchema){if(Y[K].instanceOfSchema)eN1(Y[K],J[K].clone(),X.isDiscriminatorSchemaMerge);else Y[K]=J[K].clone();continue}else if(GZ(J[K],"ObjectId")){Y[K]=new aN1(J[K]);continue}}Z(Y[K],J[K],X,$?$+"."+K:K)}else if(X.overwrite)Y[K]=J[K]}};W21.toObject=function Z(Y){KM||(KM=K6());let J;if(Y==null)return Y;if(Y instanceof KM)return Y.toObject();if(Array.isArray(Y)){J=[];for(let X of Y)J.push(Z(X));return J}if(W21.isPOJO(Y)){if(J={},Y[yJ])J[yJ]=Y[yJ];for(let X of Object.keys(Y)){if(M$.has(X))continue;J[X]=Z(Y[X])}return J}return Y};W21.isObject=rN1;W21.isPOJO=cU();W21.isNonBuiltinObject=function Z(Y){return typeof Y==="object"&&!W21.isNativeObject(Y)&&!W21.isMongooseType(Y)&&!(Y instanceof iN1)&&Y!=null};W21.isNativeObject=function(Z){return Array.isArray(Z)||Z instanceof Date||Z instanceof Boolean||Z instanceof Number||Z instanceof String};W21.isEmptyObject=function(Z){return Z!=null&&typeof Z==="object"&&Object.keys(Z).length===0};W21.hasKey=function Z(Y,J){const X=Object.keys(Y);for(let $ of X){if($===J)return!0;if(W21.isPOJO(Y[$])&&W21.hasKey(Y[$],J))return!0}return!1};W21.tick=function Z(Y){if(typeof Y!=="function")return;return function(){try{Y.apply(this,arguments)}catch(J){sN1(function(){throw J})}}};W21.isMongooseType=function(Z){return GZ(Z,"ObjectId")||GZ(Z,"Decimal128")||Z instanceof Buffer};W21.isMongooseObject=w$;W21.expires=function Z(Y){if(!(Y&&Y.constructor.name==="Object"))return;if(!("expires"in Y))return;Y.expireAfterSeconds=typeof Y.expires!=="string"?Y.expires:Math.round(nN1(Y.expires)/1000),delete Y.expires};W21.populate=function Z(Y,J,X,$,W,G,Q,K){let H=null;if(arguments.length===1){if(Y instanceof Ld)return Y._docs=[],Y._childDocs=[],[Y];if(Array.isArray(Y))return z(Y).map((U)=>W21.populate(U)[0]);if(W21.isObject(Y))H=Object.assign({},Y);else H={path:Y}}else if(typeof X==="object")H={path:Y,select:J,match:X,options:$};else H={path:Y,select:J,model:X,match:$,options:W,populate:G,justOne:Q,count:K};if(typeof H.path!=="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+typeof Y+"`");return Z21(H);function z(F){const U=[];return F.forEach(function(q){if(zM.test(q.path))q.path.split(FM).forEach(function(L){const w=Object.assign({},q);w.path=L,U.push(w)});else U.push(q)}),U}};W21.getValue=function(Z,Y,J){return Vd.get(Z,Y,J21,J)};/*!
 * ignore
 */var Y21=Object.freeze({getters:!1});W21.setValue=function(Z,Y,J,X,$){Vd.set(Z,Y,J,"_doc",X,$)};W21.object={};W21.object.vals=function Z(Y){const J=Object.keys(Y);let X=J.length;const $=[];while(X--)$.push(Y[J[X]]);return $};W21.object.shallowCopy=W21.options;var X21=Object.prototype.hasOwnProperty;W21.object.hasOwnProperty=function(Z,Y){return X21.call(Z,Y)};W21.isNullOrUndefined=function(Z){return Z===null||Z===void 0};/*!
 * ignore
 */W21.array={};W21.array.flatten=function Z(Y,J,X){return X||(X=[]),Y.forEach(function($){if(Array.isArray($))Z($,J,X);else if(!J||J($))X.push($)}),X};/*!
 * ignore
 */var $21=Object.prototype.hasOwnProperty;W21.hasUserDefinedProperty=function(Z,Y){if(Z==null)return!1;if(Array.isArray(Y)){for(let J of Y)if(W21.hasUserDefinedProperty(Z,J))return!0;return!1}if($21.call(Z,Y))return!0;if(typeof Z==="object"&&(Y in Z)){const J=Z[Y];return J!==Object.prototype[Y]&&J!==Array.prototype[Y]}return!1};/*!
 * ignore
 */var Hd=Math.pow(2,32)-1;W21.isArrayIndex=function(Z){if(typeof Z==="number")return Z>=0&&Z<=Hd;if(typeof Z==="string"){if(!/^\d+$/.test(Z))return!1;return Z=+Z,Z>=0&&Z<=Hd}return!1};W21.array.unique=function(Z){const Y=new Set,J=new Set,X=[];for(let $ of Z)if(typeof $==="number"||typeof $==="string"||$==null){if(Y.has($))continue;X.push($),Y.add($)}else if(GZ($,"ObjectId")){if(J.has($.toString()))continue;X.push($),J.add($.toString())}else X.push($);return X};W21.buffer={};W21.buffer.areEqual=function(Z,Y){if(!Buffer.isBuffer(Z))return!1;if(!Buffer.isBuffer(Y))return!1;if(Z.length!==Y.length)return!1;for(let J=0,X=Z.length;J<X;++J)if(Z[J]!==Y[J])return!1;return!0};W21.getFunctionName=tN1;W21.decorate=function(Z,Y){for(let J in Y){if(M$.has(J))continue;Z[J]=Y[J]}};W21.mergeClone=function(Z,Y){if(w$(Y))Y=Y.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});const J=Object.keys(Y),X=J.length;let $=0,W;while($<X){if(W=J[$++],M$.has(W))continue;if(typeof Z[W]==="undefined")Z[W]=HM(Y[W],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{let G=Y[W];if(G!=null&&G.valueOf&&!(G instanceof Date))G=G.valueOf();if(W21.isObject(G)){let Q=G;if(w$(G)&&!G.isMongooseBuffer)Q=Q.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});if(G.isMongooseBuffer)Q=Buffer.from(Q);W21.mergeClone(Z[W],Q)}else Z[W]=HM(G,{flattenDecimals:!1})}}};W21.each=function(Z,Y){for(let J of Z)Y(J)};W21.renameObjKey=function(Z,Y,J){return Object.keys(Z).reduce(($,W)=>{if(W===Y)$[J]=Z[Y];else $[W]=Z[W];return $},{})};/*!
 * ignore
 */W21.getOption=function(Z){const Y=Array.prototype.slice.call(arguments,1);for(let J of Y){if(J==null)continue;if(J[Z]!=null)return J[Z]}return null};/*!
 * ignore
 */W21.noop=function(){};W21.errorToPOJO=function Z(Y){if(!(Y instanceof Error))throw new Error("`error` must be `instanceof Error`.");const X={};for(let $ of Object.getOwnPropertyNames(Y))X[$]=Y[$];return X};/*!
 * ignore
 */W21.warn=function Z(Y){return process.emitWarning(Y,{code:"MONGOOSE"})};W21.injectTimestampsOption=function Z(Y,J){if(J==null)return;Y.timestamps=J}});var o0=R((JH,jd)=>{var D1=function(Z,Y,J){this[u21]=!0,this.path=Z,this.instance=J,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),Y=Y||{};const X=this.constructor.defaultOptions||{},$=Object.keys(X);for(let Q of $)if(X.hasOwnProperty(Q)&&!Object.prototype.hasOwnProperty.call(Y,Q))Y[Q]=X[Q];if(Y.select==null)delete Y.select;const W=this.OptionsConstructor||Td;if(this.options=new W(Y),this._index=null,O9.hasUserDefinedProperty(this.options,"immutable"))this.$immutable=this.options.immutable,qM(this);const G=Object.keys(this.options);for(let Q of G){if(Q==="cast"){if(Array.isArray(this.options[Q]))this.castFunction.apply(this,this.options[Q]);else this.castFunction(this.options[Q]);continue}if(O9.hasUserDefinedProperty(this.options,Q)&&typeof this[Q]==="function"){if(Q==="index"&&this._index){if(Y.index===!1){const z=this._index;if(typeof z==="object"&&z!=null){if(z.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(z.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}const K=Y[Q];if(Q==="default"){this.default(K);continue}const H=Array.isArray(K)?K:[K];this[Q].apply(this,H)}}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})},Id=function(Z,Y){if(Z!==void 0&&!Z){const X=new(Y.ErrorConstructor||LM)(Y);return X[Cd]=!0,X}},Dd=function(Z,Y){return this.castForQuery(null,Z,Y)},l21=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){return J.castForQuery(null,X,Y)})},Pd=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){if(Array.isArray(X)&&X.length===0)return X;return J.castForQuery(null,X,Y)})};/*!
 * Module dependencies.
 */var B$=e1(),Td=k6(),v21=jK(),h21=Pw(),YH=N0(),qM=Ym(),m21=Xm(),VM=Wm(),Nd=N6(),u21=$1().schemaTypeSymbol,O9=H1(),Cd=$1().validatorErrorSymbol,d21=$1().documentIsModified,c21=$1().populateModelSymbol,Ed=B$.CastError,LM=B$.ValidatorError,p21={_skipMarkModified:!0};D1.prototype.OptionsConstructor=Td;D1.prototype.path;D1.prototype.validators;D1.prototype.isRequired;D1.prototype.splitPath=function(){if(this._presplitPath!=null)return this._presplitPath;if(this.path==null)return;return this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath};D1.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=(J)=>J;return this._cast=Y,this._cast};D1.prototype.castFunction=function Z(Y,J){if(arguments.length===0)return this._castFunction;if(Y===!1)Y=this.constructor._defaultCaster||((X)=>X);if(typeof Y==="string")return this._castErrorMessage=Y,this._castFunction;if(Y!=null)this._castFunction=Y;if(J!=null)this._castErrorMessage=J;return this._castFunction};D1.prototype.cast=function Z(){throw new Error("Base SchemaType class does not implement a `cast()` function")};D1.set=function Z(Y,J){if(!this.hasOwnProperty("defaultOptions"))this.defaultOptions=Object.assign({},this.defaultOptions);this.defaultOptions[Y]=J};D1.get=function(Z){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(Z)};D1.prototype.default=function(Z){if(arguments.length===1){if(Z===void 0){this.defaultValue=void 0;return}if(Z!=null&&Z.instanceOfSchema)throw new B$("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=Z,this.defaultValue}else if(arguments.length>1)this.defaultValue=[...arguments];return this.defaultValue};D1.prototype.index=function(Z){return this._index=Z,O9.expires(this._index),this};D1.prototype.unique=function(Z){if(this._index===!1){if(!Z)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||this._index===!0)this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.unique=Z,this};D1.prototype.text=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index===null||this._index===void 0||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.text=Z,this};D1.prototype.sparse=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}if(!this.options.hasOwnProperty("index")&&Z===!1)return this;if(this._index==null||typeof this._index==="boolean")this._index={};else if(typeof this._index==="string")this._index={type:this._index};return this._index.sparse=Z,this};D1.prototype.immutable=function(Z){return this.$immutable=Z,qM(this),this};D1.prototype.transform=function(Z){return this.options.transform=Z,this};D1.prototype.set=function(Z){if(typeof Z!=="function")throw new TypeError("A setter must be a function.");return this.setters.push(Z),this};D1.prototype.get=function(Z){if(typeof Z!=="function")throw new TypeError("A getter must be a function.");return this.getters.push(Z),this};D1.prototype.validate=function(Z,Y,J){if(typeof Z==="function"||Z&&O9.getFunctionName(Z.constructor)==="RegExp"){let G;if(typeof Y==="function")G={validator:Z,message:Y},G.type=J||"user defined";else if(Y instanceof Object&&!J){if(G=VM(Y)?Object.assign({},Y):YH(Y),!G.message)G.message=G.msg;G.validator=Z,G.type=G.type||"user defined"}else{if(Y==null)Y=B$.messages.general.default;if(!J)J="user defined";G={message:Y,type:J,validator:Z}}return this.validators.push(G),this}let X,$,W;for(X=0,$=arguments.length;X<$;X++){if(W=arguments[X],!O9.isPOJO(W)){const G="Invalid validator. Received ("+typeof W+") "+W+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(G)}this.validate(W.validator,W)}return this};D1.prototype.required=function(Z,Y){let J={};if(arguments.length>0&&Z==null)return this.validators=this.validators.filter(function(W){return W.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(typeof Z==="object")J=Z,Y=J.message||Y,Z=Z.isRequired;if(Z===!1)return this.validators=this.validators.filter(function(W){return W.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;const X=this;if(this.isRequired=!0,this.requiredValidator=function(W){const G=this&&this.$__&&this.$__.cachedRequired;if(G!=null&&!this.$__isSelected(X.path)&&!this[d21](X.path))return!0;if(G!=null&&(X.path in G)){const Q=G[X.path]?X.checkRequired(W,this):!0;return delete G[X.path],Q}else if(typeof Z==="function")return Z.apply(this)?X.checkRequired(W,this):!0;return X.checkRequired(W,this)},this.originalRequiredValue=Z,typeof Z==="string")Y=Z,Z=void 0;const $=Y||B$.messages.general.required;return this.validators.unshift(Object.assign({},J,{validator:this.requiredValidator,message:$,type:"required"})),this};D1.prototype.ref=function(Z){return this.options.ref=Z,this};D1.prototype.getDefault=function(Z,Y,J){let X;if(typeof this.defaultValue==="function")if(this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid")X=this.defaultValue.call(Z);else X=this.defaultValue.call(Z,Z);else X=this.defaultValue;if(X!==null&&X!==void 0){if(typeof X==="object"&&(!this.options||!this.options.shared))X=YH(X);if(J&&J.skipCast)return this._applySetters(X,Z);const $=this.applySetters(X,Z,Y,void 0,p21);if($&&!Array.isArray($)&&$.$isSingleNested)$.$__parent=Z;return $}return X};D1.prototype._applySetters=function(Z,Y,J,X,$){let W=Z;if(J)return W;const G=this.setters;for(let Q=G.length-1;Q>=0;Q--)W=G[Q].call(Y,W,X,this,$);return W};/*!
 * ignore
 */D1.prototype._castNullish=function Z(Y){return Y};D1.prototype.applySetters=function(Z,Y,J,X,$){let W=this._applySetters(Z,Y,J,X,$);if(W==null)return this._castNullish(W);return W=this.cast(W,Y,J,X,$),W};D1.prototype.applyGetters=function(Z,Y){let J=Z;const X=this.getters,$=X.length;if($===0)return J;for(let W=0;W<$;++W)J=X[W].call(Y,J,this);return J};D1.prototype.select=function Z(Y){return this.selected=!!Y,this};D1.prototype.doValidate=function(Z,Y,J,X){let $=!1;const W=this.path,G=this.validators.filter((H)=>typeof H==="object"&&H!==null);let Q=G.length;if(!Q)return Y(null);for(let H=0,z=G.length;H<z;++H){if($)break;const F=G[H],U=F.validator;let q;const V=VM(F)?Object.assign({},F):YH(F);if(V.path=X&&X.path?X.path:W,V.fullPath=this.$fullPath,V.value=Z,U instanceof RegExp){K(U.test(Z),V,J);continue}if(typeof U!=="function")continue;if(Z===void 0&&U!==this.requiredValidator){K(!0,V,J);continue}try{if(V.propsParameter)q=U.call(J,Z,V);else q=U.call(J,Z)}catch(L){if(q=!1,V.reason=L,L.message)V.message=L.message}if(q!=null&&typeof q.then==="function")q.then(function(L){K(L,V,J)},function(L){V.reason=L,V.message=L.message,q=!1,K(q,V,J)});else K(q,V,J)}function K(H,z,F){if($)return;if(H===void 0||H){if(--Q<=0)Nd(function(){Y(null)})}else $=new(z.ErrorConstructor||LM)(z,F),$[Cd]=!0,Nd(function(){Y($)})}};D1.prototype.doValidateSync=function(Z,Y,J){const X=this.path;if(!this.validators.length)return null;let W=this.validators;if(Z===void 0)if(this.validators.length!==0&&this.validators[0].type==="required")W=[this.validators[0]];else return null;let G=null,Q=0;const K=W.length;for(Q=0;Q<K;++Q){const H=W[Q];if(H===null||typeof H!=="object")continue;const z=H.validator,F=VM(H)?Object.assign({},H):YH(H);F.path=J&&J.path?J.path:X,F.fullPath=this.$fullPath,F.value=Z;let U=!1;if(m21(z))continue;if(z instanceof RegExp){G=Id(z.test(Z),F);continue}if(typeof z!=="function")continue;try{if(F.propsParameter)U=z.call(Y,Z,F);else U=z.call(Y,Z)}catch(q){U=!1,F.reason=q}if(U!=null&&typeof U.then==="function")continue;if(G=Id(U,F),G)break}return G};D1._isRef=function(Z,Y,J,X){let $=X&&Z.options&&(Z.options.ref||Z.options.refPath);if(!$&&J&&J.$__!=null){const W=J.$__fullPath(Z.path,!0),G=J.ownerDocument();$=W!=null&&G.$populated(W)||J.$populated(Z.path)}if($){if(Y==null)return!0;if(!Buffer.isBuffer(Y)&&Y._bsontype!=="Binary"&&O9.isObject(Y))return!0;return X}return!1};/*!
 * ignore
 */D1.prototype._castRef=function Z(Y,J,X){if(Y==null)return Y;if(Y.$__!=null)return Y.$__.wasPopulated=Y.$__.wasPopulated||!0,Y;if(Buffer.isBuffer(Y)||!O9.isObject(Y)){if(X)return Y;throw new Ed(this.instance,Y,this.path,null,this)}const $=J.$__fullPath(this.path,!0),G=J.ownerDocument().$populated($,!0);let Q=Y;if(!J.$__.populated||!J.$__.populated[$]||!J.$__.populated[$].options||!J.$__.populated[$].options.options||!J.$__.populated[$].options.options.lean)Q=new G.options[c21](Y),Q.$__.wasPopulated=!0;return Q};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */D1.prototype.$conditionalHandlers={$all:l21,$eq:Dd,$in:Pd,$ne:Dd,$nin:Pd,$exists:v21,$type:h21};D1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z);return X.call(this,Y,J)}return this.applySetters(Y,J)};D1.checkRequired=function(Z){if(arguments.length!==0)this._checkRequired=Z;return this._checkRequired};D1.prototype.checkRequired=function(Z){return Z!=null};D1.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,Z,this.instance);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;if(this.defaultValue!==void 0)Y.defaultValue=this.defaultValue;if(this.$immutable!==void 0&&this.options.immutable===void 0)Y.$immutable=this.$immutable,qM(Y);if(this._index!==void 0)Y._index=this._index;if(this.selected!==void 0)Y.selected=this.selected;if(this.isRequired!==void 0)Y.isRequired=this.isRequired;if(this.originalRequiredValue!==void 0)Y.originalRequiredValue=this.originalRequiredValue;return Y.getters=this.getters.slice(),Y.setters=this.setters.slice(),Y};/*!
 * Module exports.
 */jd.exports=JH=D1;JH.CastError=Ed;JH.ValidatorError=LM});var Sd=R((io1,Od)=>{var u7=G7();class _6{constructor(Z){if(Object.assign(this,Z),Z!=null&&Z.options!=null)this.options=Object.assign({},Z.options)}}Object.defineProperty(_6.prototype,"ref",u7);Object.defineProperty(_6.prototype,"refPath",u7);Object.defineProperty(_6.prototype,"localField",u7);Object.defineProperty(_6.prototype,"foreignField",u7);Object.defineProperty(_6.prototype,"justOne",u7);Object.defineProperty(_6.prototype,"count",u7);Object.defineProperty(_6.prototype,"match",u7);Object.defineProperty(_6.prototype,"options",u7);Object.defineProperty(_6.prototype,"skip",u7);Object.defineProperty(_6.prototype,"limit",u7);Object.defineProperty(_6.prototype,"perDocumentLimit",u7);Od.exports=_6});var RM=R((no1,kd)=>{var QZ=function(Z,Y){this.path=Y,this.getters=[],this.setters=[],this.options=Object.assign({},Z)},i21=H1();QZ.prototype._applyDefaultGetters=function(){if(this.getters.length>0||this.setters.length>0)return;const Y="$"+this.path;this.getters.push(function(){return this.$locals[Y]}),this.setters.push(function(J){this.$locals[Y]=J})};/*!
 * ignore
 */QZ.prototype.clone=function(){const Z=new QZ(this.options,this.path);return Z.getters=[].concat(this.getters),Z.setters=[].concat(this.setters),Z};QZ.prototype.get=function(Z){return this.getters.push(Z),this};QZ.prototype.set=function(Z){return this.setters.push(Z),this};QZ.prototype.applyGetters=function(Z,Y){if(i21.hasUserDefinedProperty(this.options,["ref","refPath"])&&Y.$$populatedVirtuals&&Y.$$populatedVirtuals.hasOwnProperty(this.path))Z=Y.$$populatedVirtuals[this.path];let J=Z;for(let X of this.getters)J=X.call(Y,J,this,Y);return J};QZ.prototype.applySetters=function(Z,Y){let J=Z;for(let X of this.setters)J=X.call(Y,J,this,Y);return J};/*!
 * exports
 */kd.exports=QZ});var wM=R((ao1,_d)=>{_d.exports=function Z(Y){const J={_id:{auto:!0}};J._id[Y.options.typeKey]="ObjectId",Y.add(J)}});var MM=R((so1,xd)=>{xd.exports=function Z(Y,J){const X=Y.discriminatorMapping&&Y.discriminatorMapping.value;if(X&&!("sparse"in J)){const $=Y.options.discriminatorKey;J.partialFilterExpression=J.partialFilterExpression||{},J.partialFilterExpression[$]=X}return J}});var yd=R((ro1,fd)=>{var BM=V0(),n21=O5(),a21=MM();fd.exports=function Z(Y){let J=[];const X=new WeakMap,$=Y.constructor.indexTypes,W=new Map;return G(Y),J;function G(K,H,z){if(X.has(K))return;X.set(K,!0),H=H||"";const F=Object.keys(K.paths);for(let U of F){const q=K.paths[U];if(z!=null&&z.paths[U])continue;if(q.$isMongooseDocumentArray||q.$isSingleNested){if(BM(q,"options.excludeIndexes")!==!0&&BM(q,"schemaOptions.excludeIndexes")!==!0&&BM(q,"schema.options.excludeIndexes")!==!0)G(q.schema,H+U+".");if(q.schema.discriminators!=null){const L=q.schema.discriminators,w=Object.keys(L);for(let B of w)G(L[B],H+U+".",q.schema)}if(q.$isMongooseDocumentArray)continue}const V=q._index||q.caster&&q.caster._index;if(V!==!1&&V!==null&&V!==void 0){const L={},w=n21(V),B=w?V:{},A=typeof V==="string"?V:w?V.type:!1;if(A&&$.indexOf(A)!==-1)L[H+U]=A;else if(B.text)L[H+U]="text",delete B.text;else{let I=!1;if(V==="descending"||V==="desc")I=!0;else if(V==="ascending"||V==="asc")I=!1;else I=Number(V)===-1;L[H+U]=I?-1:1}if(delete B.type,!("background"in B))B.background=!0;if(K.options.autoIndex!=null)B._autoIndex=K.options.autoIndex;const M=B&&B.name;if(typeof M==="string")if(W.has(M))Object.assign(W.get(M),L);else J.push([L,B]),W.set(M,L);else J.push([L,B]),W.set(M,L)}}if(X.delete(K),H)Q(K,H);else K._indexes.forEach(function(U){const q=U[1];if(!("background"in q))q.background=!0;a21(K,q)}),J=J.concat(K._indexes)}function Q(K,H){const z=K._indexes,F=z.length;for(let U=0;U<F;++U){const q=z[U][0],V=z[U][1],L=Object.keys(q),w=L.length,B={};for(let M=0;M<w;++M){const I=L[M];B[H+I]=q[I]}const A=Object.assign({},V);if(V!=null&&V.partialFilterExpression!=null){A.partialFilterExpression={};const M=V.partialFilterExpression;for(let I of Object.keys(M))A.partialFilterExpression[H+I]=M[I]}J.push([B,A])}}}});var AM=R((to1,gd)=>{gd.exports=function Z(Y){switch(Y){case"p":Y="primary";break;case"pp":Y="primaryPreferred";break;case"s":Y="secondary";break;case"sp":Y="secondaryPreferred";break;case"n":Y="nearest";break}return Y}});var vd=R((oo1,bd)=>{var s21=function(){if(this._id!=null)return String(this._id);return null};/*!
 * ignore
 */bd.exports=function Z(Y){if(!(!Y.paths.id&&Y.paths._id&&Y.options.id))return Y;if(Y.aliases&&Y.aliases.id)return Y;return Y.virtual("id").get(s21),Y}});var A$=R((eo1,hd)=>{hd.exports=function Z(Y){return Y.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}});var NM=R((Ze1,md)=>{var r21=function(Z,Y){if(Z==null)return null;if(typeof Z==="boolean")return Y;if(typeof Z[Y]==="boolean")return Z[Y]?Y:null;if(!(Y in Z))return Y;return Z[Y]};md.exports=r21;/*!
 * ignore
 */});var DM=R((Ye1,ud)=>{var S9=function(Z,Y,J){if(Y==null)return;if(Object.keys(Y).some((Q)=>Q[0]==="$")){if(Y.$push)G(Y.$push);if(Y.$addToSet)G(Y.$addToSet);if(Y.$set!=null){const Q=Object.keys(Y.$set);for(let K of Q)IM(J,K,Y.$set,Z)}if(Y.$setOnInsert!=null){const Q=Object.keys(Y.$setOnInsert);for(let K of Q)IM(J,K,Y.$setOnInsert,Z)}}const W=Object.keys(Y).filter((Q)=>Q[0]!=="$");for(let Q of W)IM(J,Q,Y,Z);function G(Q){for(let K of Object.keys(Q)){const H=J.path(K.replace(/\.\$\./i,".").replace(/.\$$/,""));if(Q[K]&&H&&H.$isMongooseDocumentArray&&H.schema.options.timestamps){const z=H.schema.options.timestamps,F=t4(z,"createdAt"),U=t4(z,"updatedAt");if(Q[K].$each)Q[K].$each.forEach(function(q){if(U!=null)q[U]=Z;if(F!=null)q[F]=Z;S9(Z,q,H.schema)});else{if(U!=null)Q[K][U]=Z;if(F!=null)Q[K][F]=Z;S9(Z,Q[K],H.schema)}}}}},o21=function(Z,Y,J){const X=Y.schema.options.timestamps,$=Z.length;if(!X){for(let Q=0;Q<$;++Q)S9(J,Z[Q],Y.schema);return}const W=t4(X,"createdAt"),G=t4(X,"updatedAt");for(let Q=0;Q<$;++Q){if(G!=null)Z[Q][G]=J;if(W!=null)Z[Q][W]=J;S9(J,Z[Q],Y.schema)}},e21=function(Z,Y,J){const X=Y.schema.options.timestamps;if(!X){S9(J,Z,Y.schema);return}const $=t4(X,"createdAt"),W=t4(X,"updatedAt");if(W!=null)Z[W]=J;if($!=null)Z[$]=J;S9(J,Z,Y.schema)},IM=function(Z,Y,J,X){const $=t21(Y),W=Z.path($);if(!W)return;const G=[],Q=$.split(".");for(let K=Q.length-1;K>0;--K){const H=Z.path(Q.slice(0,K).join("."));if(H!=null&&(H.$isMongooseDocumentArray||H.$isSingleNested))G.push({parentPath:Y.split(".").slice(0,K).join("."),parentSchemaType:H})}if(Array.isArray(J[Y])&&W.$isMongooseDocumentArray)o21(J[Y],W,X);else if(J[Y]&&W.$isSingleNested)e21(J[Y],W,X);else if(G.length>0)for(let K of G){const{parentPath:H,parentSchemaType:z}=K,F=z.schema.options.timestamps,U=t4(F,"updatedAt");if(!F||U==null)continue;if(z.$isSingleNested)J[H+"."+U]=X;else if(z.$isMongooseDocumentArray){let q=Y.substring(H.length+1);if(/^\d+$/.test(q)){J[H+"."+q][U]=X;continue}const V=q.indexOf(".");q=V!==-1?q.substring(0,V):q,J[H+"."+q+"."+U]=X}}else if(W.schema!=null&&W.schema!=Z&&J[Y]){const K=W.schema.options.timestamps,H=t4(K,"createdAt"),z=t4(K,"updatedAt");if(!K)return;if(z!=null)J[Y][z]=X;if(H!=null)J[Y][H]=X}},t21=A$(),t4=NM();ud.exports=S9;/*!
 * ignore
 */});var PM=R((Je1,dd)=>{var YI1=function(Z,Y,J,X,$,W){const G=X;let Q=G;const K=ZI1($,"timestamps",!0);if(!K||G==null)return X;const H=K!=null&&K.createdAt===!1,z=K!=null&&K.updatedAt===!1;if(W){if(X&&X.$set)X=X.$set,G.$set={},Q=G.$set;if(!z&&J&&!X[J])Q[J]=Z;if(!H&&Y&&!X[Y])Q[Y]=Z;return G}if(X=X||{},Array.isArray(G)){if(J==null)return G;return G.push({$set:{[J]:Z}}),G}if(G.$set=G.$set||{},!z&&J&&(!X.$currentDate||!X.$currentDate[J])){let F=!1;if(J.indexOf(".")!==-1){const U=J.split(".");for(let q=1;q<U.length;++q){const V=U.slice(-q).join("."),L=U.slice(0,-q).join(".");if(X[L]!=null){X[L][V]=Z,F=!0;break}else if(X.$set&&X.$set[L]){X.$set[L][V]=Z,F=!0;break}}}if(!F)G.$set[J]=Z;if(G.hasOwnProperty(J))delete G[J]}if(!H&&Y){if(X[Y])delete X[Y];if(X.$set&&X.$set[Y])delete X.$set[Y];let F=!1;if(Y.indexOf(".")!==-1){const U=Y.split(".");for(let q=1;q<U.length;++q){const V=U.slice(-q).join("."),L=U.slice(0,-q).join(".");if(X[L]!=null){X[L][V]=Z,F=!0;break}else if(X.$set&&X.$set[L]){X.$set[L][V]=Z,F=!0;break}}}if(!F)G.$setOnInsert=G.$setOnInsert||{},G.$setOnInsert[Y]=Z}if(Object.keys(G.$set).length===0)delete G.$set;return G};/*!
 * ignore
 */var ZI1=V0();dd.exports=YI1;/*!
 * ignore
 */});var pd=R((Xe1,cd)=>{cd.exports=function Z(Y,J,X,$,W){const G=J!=null&&J.updatedAt===!1,Q=J!=null&&J.createdAt===!1,K=X!=null?X():Y.ownerDocument().constructor.base.now();if(!Q&&(Y.isNew||Y.$isSubdocument)&&$&&!Y.$__getValue($)&&Y.$__isSelected($))Y.$set($,K,void 0,{overwriteImmutable:!0});if(!G&&W&&(Y.isNew||Y.$isModified())){let H=K;if(Y.isNew&&$!=null)H=Y.$__getValue($);Y.$set(W,H)}}});var ad=R(($e1,nd)=>{var JI1=DM(),XI1=PM(),$I1=V0(),ld=NM(),WI1=pd(),GI1=P9(),id=new Set(["replaceOne","findOneAndReplace"]);nd.exports=function Z(Y,J){const X=Y.childSchemas.find($);function $(F){return!!F.schema.options.timestamps}if(!J&&!X)return;const W=ld(J,"createdAt"),G=ld(J,"updatedAt"),Q=J!=null&&J.hasOwnProperty("currentTime")?J.currentTime:null,K={};if(Y.$timestamps={createdAt:W,updatedAt:G},W&&!Y.paths[W]){const F=Y.base!=null?Y.base.get("timestamps.createdAt.immutable"):null,U=F!=null?F:!0;K[W]={[Y.options.typeKey||"type"]:Date,immutable:U}}if(G&&!Y.paths[G])K[G]=Date;Y.add(K),Y.pre("save",function F(U){const q=$I1(this,"$__.saveOptions.timestamps");if(q===!1)return U();WI1(this,q,Q,W,G),U()}),Y.methods.initializeTimestamps=function(){const F=Q!=null?Q():this.constructor.base.now();if(W&&!this.get(W))this.$set(W,F);if(G&&!this.get(G))this.$set(G,F);if(this.$isSubdocument)return this;const U=this.$getAllSubdocs();for(let q of U)if(q.initializeTimestamps)q.initializeTimestamps();return this},z[GI1.builtInMiddleware]=!0;const H={query:!0,model:!1};Y.pre("findOneAndReplace",H,z),Y.pre("findOneAndUpdate",H,z),Y.pre("replaceOne",H,z),Y.pre("update",H,z),Y.pre("updateOne",H,z),Y.pre("updateMany",H,z);function z(F){const U=Q!=null?Q():this.model.base.now();if(id.has(this.op)&&this.getUpdate()==null)this.setUpdate({});XI1(U,W,G,this.getUpdate(),this._mongooseOptions,id.has(this.op)),JI1(U,this.getUpdate(),this.model.schema),F()}}});var rd=R((We1,sd)=>{var HI1=function(Z,Y){if(typeof Z==="string")return;if(typeof Z==="function")return;throw new QI1('Invalid ref at path "'+Y+'". Got '+KI1.inspect(Z,{depth:0}))},QI1=z0(),KI1=import.meta.require("util");sd.exports=HI1});var TM=R((Ge1,td)=>{td.exports=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"])});var XH=R((Qe1,ed)=>{var od=function(Z,Y){const J=Y.schema.s.hooks.filter((X)=>{const $=FI1(X);if(X.name==="validate")return!!$.query;if(X.name==="deleteOne"||X.name==="updateOne")return!!$.query||Object.keys($).length===0;if(X.query!=null||X.document!=null)return!!X.query;return!0});Z.prototype._queryMiddleware=J},FI1=function(Z){const Y={};if(Z.hasOwnProperty("query"))Y.query=Z.query;if(Z.hasOwnProperty("document"))Y.document=Z.document;return Y};/*!
 * ignore
 */ed.exports=od;var zI1=TM();/*!
 * ignore
 */od.middlewareFunctions=zI1.concat(["validate"])});var $H=R((Ke1,Zc)=>{var N$=function(Z,Y,J){J=J||{};const X={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},$=J.decorateDoc?Z:Z.prototype;Z.$appliedHooks=!0;for(let H of Object.keys(Y.paths)){const z=Y.paths[H];let F=null;if(z.$isSingleNested)F=z.caster;else if(z.$isMongooseDocumentArray)F=z.Constructor;else continue;if(F.$appliedHooks)continue;if(N$(F,z.schema,{...J,isChildSchema:!0}),F.discriminators!=null){const U=Object.keys(F.discriminators);for(let q of U)N$(F.discriminators[q],F.discriminators[q].schema,J)}}const W=Y.s.hooks.filter((H)=>{if(H.name==="updateOne"||H.name==="deleteOne")return!!H.document;if(H.name==="remove"||H.name==="init")return H.document==null||!!H.document;if(H.query!=null||H.document!=null)return H.document!==!1;return!0}).filter((H)=>{if(Y.methods[H.name])return!H.fn[UI1.builtInMiddleware];return!0});Z._middleware=W,$.$__originalValidate=$.$__originalValidate||$.$__validate;const G=J&&J.isChildSchema?["save","validate","deleteOne"]:["save","validate"];for(let H of G){const z=H==="validate"?"$__originalValidate":`\$__${H}`,F=W.createWrapper(H,$[z],null,X);$[`\$__${H}`]=F}$.$__init=W.createWrapperSync("init",$.$__init,null,X);const Q=Object.keys(Y.methods),K=Object.assign({},X,{checkForPromise:!0});for(let H of Q){if(VI1.has(H))continue;if(!W.hasHooks(H))continue;const z=$[H];$[H]=function(){const F=Array.prototype.slice.call(arguments),U=F.slice(-1).pop(),q=typeof U==="function"?F.slice(0,F.length-1):F;return qI1(U,(V)=>{return this[`\$__${H}`].apply(this,q.concat([V]))},Z.events)},$[`\$__${H}`]=W.createWrapper(H,z,null,K)}},UI1=P9(),qI1=SK();/*!
 * ignore
 */Zc.exports=N$;/*!
 * ignore
 */N$.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];/*!
 * ignore
 */var VI1=new Set(N$.middlewareFunctions.flatMap((Z)=>[Z,`\$__${Z}`]))});var I$=R((He1,Xc)=>{var U6=function(Z,Y,J){let X=Z;if(Z==null)X=0;let $,W,G;if(Array.isArray(Y))W=Y[0],G=Y[1];else $=Y;let Q;if(typeof X==="number"||X instanceof Number)Q=Buffer.alloc(X);else Q=Buffer.from(X,$,J);return Yc.decorate(Q,U6.mixin),Q.isMongooseBuffer=!0,Q[U6.pathSymbol]=W,Q[Jc]=G,Q._subtype=0,Q};/*!
 * Module dependencies.
 */var CM=p6().Binary,Yc=H1(),LI1=Symbol.for("mongoose#Buffer#_path"),Jc=Symbol.for("mongoose#Buffer#_parent");U6.pathSymbol=LI1;/*!
 * Inherit from Buffer.
 */U6.mixin={_subtype:void 0,_markModified:function(){const Z=this[Jc];if(Z)Z.markModified(this[U6.pathSymbol]);return this},write:function(){const Z=Buffer.prototype.write.apply(this,arguments);if(Z>0)this._markModified();return Z},copy:function(Z){const Y=Buffer.prototype.copy.apply(this,arguments);if(Z&&Z.isMongooseBuffer)Z._markModified();return Y}};/*!
 * Compile other Buffer methods marking this buffer as modified.
 */Yc.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(Z){if(!Buffer.prototype[Z])return;U6.mixin[Z]=function(){const Y=Buffer.prototype[Z].apply(this,arguments);return this._markModified(),Y}});U6.mixin.toObject=function(Z){const Y=typeof Z==="number"?Z:this._subtype||0;return new CM(Buffer.from(this),Y)};U6.mixin.$toObject=U6.mixin.toObject;U6.mixin.toBSON=function(){return new CM(this,this._subtype||0)};U6.mixin.equals=function(Z){if(!Buffer.isBuffer(Z))return!1;if(this.length!==Z.length)return!1;for(let Y=0;Y<this.length;++Y)if(this[Y]!==Z[Y])return!1;return!0};U6.mixin.subtype=function(Z){if(typeof Z!=="number")throw new TypeError("Invalid subtype. Expected a number");if(this._subtype!==Z)this._markModified();this._subtype=Z};/*!
 * Module exports.
 */U6.Binary=CM;Xc.exports=U6});var WH=R((ze1,Kc)=>{var Qc=function(Z){const Y=typeof Z;if(Y!=="string")throw new TypeError(`Mongoose maps only support string keys, got ${Y}`);if(Z.startsWith("$"))throw new Error(`Mongoose maps do not support keys that start with "\$", got "${Z}"`);if(Z.includes("."))throw new Error(`Mongoose maps do not support keys that contain ".", got "${Z}"`);if(NI1.has(Z))throw new Error(`Mongoose maps do not support reserved key name "${Z}"`)},RI1=T9(),wI1=z0(),$c=N0(),MI1=H1().deepEqual,BI1=G6(),AI1=bK(),Wc=import.meta.require("util"),NI1=iZ(),EM=t8(),Gc=$1().populateModelSymbol;/*!
 * ignore
 */class M4 extends Map{constructor(Z,Y,J,X){if(BI1(Z)==="Object")Z=Object.keys(Z).reduce(($,W)=>$.concat([[W,Z[W]]]),[]);super(Z);this.$__parent=J!=null&&J.$__!=null?J:null,this.$__path=Y,this.$__schemaType=X==null?new RI1(Y):X,this.$__runDeferred()}$init(Z,Y){if(Qc(Z),super.set(Z,Y),Y!=null&&Y.$isSingleNested)Y.$basePath=this.$__path+"."+Z}$__set(Z,Y){super.set(Z,Y)}get(Z,Y){if(EM(Z,"ObjectId"))Z=Z.toString();if(Y=Y||{},Y.getters===!1)return super.get(Z);return this.$__schemaType.applyGetters(super.get(Z),this.$__parent)}set(Z,Y){if(EM(Z,"ObjectId"))Z=Z.toString();if(Qc(Z),Y=AI1(Y),this.$__schemaType==null){this.$__deferred=this.$__deferred||[],this.$__deferred.push({key:Z,value:Y});return}let J;const X=this.$__parent,$=X!=null&&X.$__&&X.$__.populated?X.$populated(G.call(this),!0)||X.$populated(this.$__path,!0):null,W=this.get(Z);if($!=null){if(this.$__schemaType.$isSingleNested)throw new wI1("Cannot manually populate single nested subdoc underneath Map "+`at path "${this.$__path}". Try using an array instead of a Map.`);if(Array.isArray(Y)&&this.$__schemaType.$isMongooseArray)Y=Y.map((Q)=>{if(Q.$__==null)Q=new $.options[Gc](Q);return Q.$__.wasPopulated={value:Q._id},Q});else{if(Y.$__==null)Y=new $.options[Gc](Y);Y.$__.wasPopulated={value:Y._id}}}else try{const Q=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:G.call(this)}:null;Y=this.$__schemaType.applySetters(Y,this.$__parent,!1,this.get(Z),Q)}catch(Q){if(this.$__parent!=null&&this.$__parent.$__!=null){this.$__parent.invalidate(G.call(this),Q);return}throw Q}if(super.set(Z,Y),X!=null&&X.$__!=null&&!MI1(Y,W))X.markModified(G.call(this));function G(){if(J)return J;return J=this.$__path+"."+Z,J}}clear(){super.clear();const Z=this.$__parent;if(Z!=null)Z.markModified(this.$__path)}delete(Z){if(EM(Z,"ObjectId"))Z=Z.toString();return this.set(Z,void 0),super.delete(Z)}toBSON(){return new Map(this)}toObject(Z){if(Z&&Z.flattenMaps){const Y={},J=this.keys();for(let X of J)Y[X]=$c(this.get(X),Z);return Y}return new Map(this)}$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)}toJSON(Z){if(typeof(Z&&Z.flattenMaps)==="boolean"?Z.flattenMaps:!0){const Y={},J=this.keys();for(let X of J)Y[X]=$c(this.get(X),Z);return Y}return new Map(this)}inspect(){return new Map(this)}$__runDeferred(){if(!this.$__deferred)return;for(let Z of this.$__deferred)this.set(Z.key,Z.value);this.$__deferred=null}}if(Wc.inspect.custom)Object.defineProperty(M4.prototype,Wc.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:M4.prototype.inspect});Object.defineProperty(M4.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(M4.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(M4.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(M4.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(M4.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0});Object.defineProperty(M4.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0});Kc.exports=M4});var zc=R((Fe1,Hc)=>{Hc.exports=p6().UUID});var gJ=R((II1)=>{/*!
 * Module exports.
 */II1.Array=pw();II1.Buffer=I$();II1.Document=II1.Embedded=kJ();II1.DocumentArray=E9();II1.Decimal128=CG();II1.ObjectId=x4();II1.Map=WH();II1.Subdocument=mK();II1.UUID=zc()});var Uc=R((Ve1,Fc)=>{var _I1=k6();class D$ extends _I1{}var jM=G7();Object.defineProperty(D$.prototype,"enum",jM);Object.defineProperty(D$.prototype,"of",jM);Object.defineProperty(D$.prototype,"castNonArrays",jM);/*!
 * ignore
 */Fc.exports=D$});var Vc=R((Le1,qc)=>{var OM=function(Z){if(!Array.isArray(Z))return{min:0,max:0,containsNonArrayItem:!0};if(Z.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(Z.length===1&&!Array.isArray(Z[0]))return{min:1,max:1,containsNonArrayItem:!1};const Y=OM(Z[0]);for(let J=1;J<Z.length;++J){const X=OM(Z[J]);if(X.min<Y.min)Y.min=X.min;if(X.max>Y.max)Y.max=X.max;Y.containsNonArrayItem=Y.containsNonArrayItem||X.containsNonArrayItem}return Y.min=Y.min+1,Y.max=Y.max+1,Y};qc.exports=OM});var P$=R((Re1,Rc)=>{var Lc=import.meta.require("assert");Rc.exports=function Z(Y){if(Y==null)return Y;if(Y==="")return null;if(typeof Y==="string"||typeof Y==="boolean")Y=Number(Y);if(Lc.ok(!isNaN(Y)),Y instanceof Number)return Y.valueOf();if(typeof Y==="number")return Y;if(!Array.isArray(Y)&&typeof Y.valueOf==="function")return Number(Y.valueOf());if(Y.toString&&!Array.isArray(Y)&&Y.toString()==Number(Y))return Number(Y);Lc.ok(!1)}});var Bc=R((we1,Mc)=>{var K7=function(Z,Y,J){if(T$(Z)||Z===null)return Z;if(Z.$cond!=null)if(Array.isArray(Z.$cond))Z.$cond=Z.$cond.map(($)=>K7($,Y,J));else Z.$cond.if=K7(Z.$cond.if,Y,J),Z.$cond.then=K7(Z.$cond.then,Y,J),Z.$cond.else=K7(Z.$cond.else,Y,J);else if(Z.$ifNull!=null)Z.$ifNull.map(($)=>K7($,Y,J));else if(Z.$switch!=null)Z.branches.map(($)=>K7($,Y,J)),Z.default=K7(Z.default,Y,J);const X=Object.keys(Z);for(let $ of X)if(xI1.has($))Z[$]=Z[$].map((W)=>K7(W,Y,J));else if(fI1.has($))Z[$]=cI1(Z[$],Y,J);else if(yI1.has($))Z[$]=dI1(Z[$],Y,J);else if(gI1.has($))Z[$]=SM(Z[$],Y,J);else if(hI1.has($))Z[$]=K7(Z[$],Y,J);if(Z.$in)Z.$in=uI1(Z.$in,Y,J);if(Z.$size)Z.$size=SM(Z.$size,Y,J);if(Z.$round){const $=Z.$round;if(!Array.isArray($)||$.length<1||$.length>2)throw new bJ("Array",$,"$round");Z.$round=$.map((W)=>SM(W,Y,J))}return mI1(Z),Z},mI1=function(Z){const Y=Object.keys(Z);for(let J=0,X=Y.length;J<X;++J)Z[Y[J]]===void 0&&delete Z[Y[J]]},SM=function(Z){if(!QH(Z))return Z;try{return GH(Z)}catch(Y){throw new bJ("Number",Z)}},uI1=function(Z,Y,J){const X=Z[1];if(!T$(X))return Z;const $=Z[0],W=Y.path(X.slice(1));if(W===null){if(J===!1)return Z;else if(J==="throw")throw new wc("$in");return}if(!W.$isMongooseArray)throw new Error("Path must be an array for $in");return[W.$isMongooseDocumentArray?W.$embeddedSchemaType.cast($):W.caster.cast($),X]},dI1=function(Z){if(!Array.isArray(Z)){if(!QH(Z))return Z;try{return GH(Z)}catch(Y){throw new bJ("Number",Z)}}return Z.map((Y)=>{if(!QH(Y))return Y;try{return GH(Y)}catch(J){throw new bJ("Number",Y)}})},cI1=function(Z,Y,J){if(!Array.isArray(Z)||Z.length!==2)throw new Error("Comparison operator must be an array of length 2");Z[0]=K7(Z[0],Y,J);const X=Z[0];if(QH(Z[1])){let $=null,W=null,G=null;if(T$(X))$=X.slice(1),W=Y.path($);else if(typeof X==="object"&&X!=null){for(let K of Object.keys(X))if(vI1.has(K)&&T$(X[K]))$=X[K].slice(1)+"."+K,G=GH;else if(bI1.has(K)&&T$(X[K])){if($=X[K].slice(1)+"."+K,W=Y.path(X[K].slice(1)),W!=null){if(W.$isMongooseDocumentArray)W=W.$embeddedSchemaType;else if(W.$isMongooseArray)W=W.caster}}}const Q=typeof Z[1]==="object"&&Z[1]!=null&&Z[1].$literal!=null;if(W!=null)if(Q)Z[1]={$literal:W.cast(Z[1].$literal)};else Z[1]=W.cast(Z[1]);else if(G!=null)if(Q)try{Z[1]={$literal:G(Z[1].$literal)}}catch(K){throw new bJ(G.name.replace(/^cast/,""),Z[1],$+".$literal")}else try{Z[1]=G(Z[1])}catch(K){throw new bJ(G.name.replace(/^cast/,""),Z[1],$)}else if($!=null&&J===!0)return;else if($!=null&&J==="throw")throw new wc($)}else Z[1]=K7(Z[1]);return Z},T$=function(Z){return typeof Z==="string"&&Z[0]==="$"},QH=function(Z){if(typeof Z==="string"&&Z[0]==="$")return!1;if(typeof Z==="object"&&Z!==null&&Object.keys(Z).find((Y)=>Y[0]==="$"))return Z.$literal!=null;return!0},bJ=v8(),wc=JZ(),GH=P$(),xI1=new Set(["$and","$or"]),fI1=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),yI1=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),gI1=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),bI1=new Set(["$arrayElemAt","$first","$last"]),vI1=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),hI1=new Set(["$not"]);Mc.exports=function Z(Y,J,X){if(typeof Y!=="object"||Y===null)throw new Error("`$expr` must be an object");return K7(Y,J,X)}});var kM=R((Me1,Ac)=>{var pI1=v8();Ac.exports=function Z(Y,J){if(Y==null)return Y;if(Y._id&&typeof Y._id==="string")return Y._id;if(Y.toString&&Y.toString!==Object.prototype.toString&&!Array.isArray(Y))return Y.toString();throw new pI1("string",Y,J)}});var Pc=R((Be1,Dc)=>{var lI1=v8(),Nc=EK(),Ic=kM();Dc.exports=function(Z,Y){if(Z==null||typeof Z!=="object")throw new lI1("$text",Z,Y);if(Z.$search!=null)Z.$search=Ic(Z.$search,Y+".$search");if(Z.$language!=null)Z.$language=Ic(Z.$language,Y+".$language");if(Z.$caseSensitive!=null)Z.$caseSensitive=Nc(Z.$caseSensitive,Y+".$castSensitive");if(Z.$diacriticSensitive!=null)Z.$diacriticSensitive=Nc(Z.$diacriticSensitive,Y+".$diacriticSensitive");return Z}});var KH=R((Ae1,Tc)=>{var iI1=new Set(["$ref","$id","$db"]);Tc.exports=function Z(Y){return Y[0]==="$"&&!iI1.has(Y)}});var vJ=R((Ne1,Sc)=>{var yM=function(Z,Y,J){if(Array.isArray(Z))Z.forEach(function(X,$){if(Array.isArray(X)||fM(X))return yM(X,Y,J);Z[$]=Y.castForQuery(null,X,J)});else{const X=Object.keys(Z);let $=X.length;while($--){const W=X[$],G=Z[W];if(Array.isArray(G)||fM(G))yM(G,Y,J),Z[W]=G;else Z[W]=Y.castForQuery({val:G,context:J})}}},eI1=function(Z,Y,J,X){if("strictQuery"in Z)return Z.strictQuery;if("strictQuery"in Y)return Y.strictQuery;const $=X&&X.mongooseCollection&&X.mongooseCollection.conn&&X.mongooseCollection.conn.base&&X.mongooseCollection.conn.base.options;if($){if("strictQuery"in $)return $.strictQuery}return J.strictQuery};/*!
 * Module dependencies.
 */var Cc=v8(),_M=JZ(),nI1=C$(),aI1=Bc(),sI1=Pc(),rI1=V0(),Ec=gK(),jc=KH(),tI1=import.meta.require("util"),fM=O5(),xM=oX(),Oc=H1(),oI1=["Polygon","MultiPolygon"];Sc.exports=function Z(Y,J,X,$){if(Array.isArray(J))throw new Error("Query filter must be an object, got an array ",tI1.inspect(J));if(J==null)return J;if(Y!=null&&Y.discriminators!=null&&J[Y.options.discriminatorKey]!=null)Y=Ec(Y,J[Y.options.discriminatorKey])||Y;const W=Object.keys(J);let G=W.length,Q,K,H,z,F,U,q;X=X||{};while(G--)if(F=W[G],q=J[F],F==="$or"||F==="$nor"||F==="$and"){if(!Array.isArray(q))throw new Cc("Array",q,F);for(let V=0;V<q.length;++V){if(q[V]==null||typeof q[V]!=="object")throw new Cc("Object",q[V],F+"."+V);const L=q[V][Y.options.discriminatorKey];if(L==null)q[V]=Z(Y,q[V],X,$);else{const w=Ec($.schema,L);q[V]=Z(w?w:Y,q[V],X,$)}}}else if(F==="$where"){if(U=typeof q,U!=="string"&&U!=="function")throw new Error("Must have a string or function for $where");if(U==="function")J[F]=q.toString();continue}else if(F==="$expr"){q=aI1(q,Y);continue}else if(F==="$elemMatch")q=Z(Y,q,X,$);else if(F==="$text")q=sI1(q,F);else{if(!Y)continue;if(H=Y.path(F),!H){const V=F.split(".");let L=V.length;while(L--){const w=V.slice(0,L).join("."),B=V.slice(L).join("."),A=Y.path(w),M=A&&A.schema&&A.schema.options&&A.schema.options.discriminatorKey;if(A!=null&&(A.schema&&A.schema.discriminators)!=null&&M!=null&&B!==M){const I=rI1(J,w+"."+M),x=A.schema.discriminators;if(typeof I==="string"&&x[I]!=null)H=x[I].path(B);else if(I!=null&&Object.keys(I).length===1&&Array.isArray(I.$in)&&I.$in.length===1&&typeof I.$in[0]==="string"&&x[I.$in[0]]!=null)H=x[I.$in[0]].path(B)}}}if(!H){const V=F.split(".");let L=V.length,w,B,A;while(L--)if(w=V.slice(0,L).join("."),H=Y.path(w),H)break;if(H){if(H.caster&&H.caster.schema){A={},B=V.slice(L).join("."),A[B]=q;const x=Z(H.caster.schema,A,X,$)[B];if(x===void 0)delete J[F];else J[F]=x}else J[F]=q;continue}if(fM(q)){let x="";if(q.$near)x="$near";else if(q.$nearSphere)x="$nearSphere";else if(q.$within)x="$within";else if(q.$geoIntersects)x="$geoIntersects";else if(q.$geoWithin)x="$geoWithin";if(x){const j=new nI1.Number("__QueryCasting__");let E=q[x];if(q.$maxDistance!=null)q.$maxDistance=j.castForQuery(null,q.$maxDistance,$);if(q.$minDistance!=null)q.$minDistance=j.castForQuery(null,q.$minDistance,$);if(x==="$within"){const D=E.$center||E.$centerSphere||E.$box||E.$polygon;if(!D)throw new Error("Bad $within parameter: "+JSON.stringify(q));E=D}else if(x==="$near"&&typeof E.type==="string"&&Array.isArray(E.coordinates))E=E.coordinates;else if((x==="$near"||x==="$nearSphere"||x==="$geoIntersects")&&E.$geometry&&typeof E.$geometry.type==="string"&&Array.isArray(E.$geometry.coordinates)){if(E.$maxDistance!=null)E.$maxDistance=j.castForQuery(null,E.$maxDistance,$);if(E.$minDistance!=null)E.$minDistance=j.castForQuery(null,E.$minDistance,$);if(xM(E.$geometry))E.$geometry=E.$geometry.toObject({transform:!1,virtuals:!1});E=E.$geometry.coordinates}else if(x==="$geoWithin"){if(E.$geometry){if(xM(E.$geometry))E.$geometry=E.$geometry.toObject({virtuals:!1});const D=E.$geometry.type;if(oI1.indexOf(D)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+D+'", must be "Polygon" or "MultiPolygon"');E=E.$geometry.coordinates}else if(E=E.$box||E.$polygon||E.$center||E.$centerSphere,xM(E))E=E.toObject({virtuals:!1})}yM(E,j,$);continue}}if(Y.nested[F])continue;const M="strict"in X?X.strict:Y.options.strict,I=eI1(X,Y._userProvidedOptions,Y.options,$);if(X.upsert&&M){if(M==="throw")throw new _M(F);throw new _M(F,'Path "'+F+'" is not in schema, strict mode is `true`, and upsert is `true`.')}if(I==="throw")throw new _M(F,'Path "'+F+'" is not in schema and strictQuery is \'throw\'.');else if(I)delete J[F]}else if(q==null)continue;else if(Oc.isPOJO(q))if(K=Object.keys(q).some(jc),!K)J[F]=H.castForQuery(null,q,$);else{const V=Object.keys(q);let L,w=V.length;while(w--)if(L=V[w],z=q[L],L==="$elemMatch"){if(z&&H!=null&&H.schema!=null)Z(H.schema,z,X,$);else if(z&&H!=null&&H.$isMongooseArray)if(Oc.isPOJO(z)&&z.$not!=null)Z(Y,z,X,$);else q[L]=H.castForQuery(L,z,$)}else if(L==="$not"){if(z&&H){if(Q=Object.keys(z),Q.length&&jc(Q[0]))for(let B in z)z[B]=H.castForQuery(B,z[B],$);else q[L]=H.castForQuery(L,z,$);continue}}else q[L]=H.castForQuery(L,z,$)}else if(Array.isArray(q)&&["Buffer","Array"].indexOf(H.instance)===-1){const V=[],L=q;for(let w of L)V.push(H.castForQuery(null,w,$));J[F]={$in:V}}else J[F]=H.castForQuery(null,q,$)}return J}});var _c=R((Ie1,kc)=>{var ZD1=k6();class hJ extends ZD1{}var HH=G7();Object.defineProperty(hJ.prototype,"min",HH);Object.defineProperty(hJ.prototype,"max",HH);Object.defineProperty(hJ.prototype,"enum",HH);Object.defineProperty(hJ.prototype,"populate",HH);/*!
 * ignore
 */kc.exports=hJ});var zH=R((De1,fc)=>{var JD1=function(Z){const Y=this;if(Array.isArray(Z))return Z.map(function(J){return xc(Y.path,J)});else if(Buffer.isBuffer(Z))return Z;return xc(Y.path,Z)},xc=function(Z,Y){const J=Number(Y);if(isNaN(J))throw new YD1("number",Y,Z);return J};/*!
 * Module requirements.
 */var YD1=v8();/*!
 * ignore
 *//*!
 * ignore
 */fc.exports=JD1});var gM=R((Pe1,gc)=>{var L0=function(Z,Y){o4.call(this,Z,Y,"Number")},UH=function(Z){return this.cast(Z)},WD1=function(Z){const Y=this;if(!Array.isArray(Z))return[this.cast(Z)];return Z.map(function(J){return Y.cast(J)})};/*!
 * Module requirements.
 */var qH=e1(),XD1=_c(),o4=o0(),$D1=P$(),FH=zH(),VH=H1(),yc=o4.CastError;L0.get=o4.get;L0.set=o4.set;L0.setters=[];/*!
 * ignore
 */L0._cast=$D1;L0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */L0._defaultCaster=(Z)=>{if(typeof Z!=="number")throw new Error;return Z};L0.schemaName="Number";L0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */L0.prototype=Object.create(o4.prototype);L0.prototype.constructor=L0;L0.prototype.OptionsConstructor=XD1;/*!
 * ignore
 */L0._checkRequired=(Z)=>typeof Z==="number"||Z instanceof Number;L0.checkRequired=o4.checkRequired;L0.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&o4._isRef(this,Y,J,!0))return Y!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():L0.checkRequired())(Y)};L0.prototype.min=function(Z,Y){if(this.minValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minValidator},this);if(Z!==null&&Z!==void 0){let J=Y||qH.messages.Number.min;J=J.replace(/{MIN}/,Z),this.validators.push({validator:this.minValidator=function(X){return X==null||X>=Z},message:J,type:"min",min:Z})}return this};L0.prototype.max=function(Z,Y){if(this.maxValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxValidator},this);if(Z!==null&&Z!==void 0){let J=Y||qH.messages.Number.max;J=J.replace(/{MAX}/,Z),this.validators.push({validator:this.maxValidator=function(X){return X==null||X<=Z},message:J,type:"max",max:Z})}return this};L0.prototype.enum=function(Z,Y){if(this.enumValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.enumValidator},this);if(!Array.isArray(Z)){if(VH.isPOJO(Z)&&Z.values!=null)Y=Z.message,Z=Z.values;else if(typeof Z==="number")Z=Array.prototype.slice.call(arguments),Y=null;if(VH.isPOJO(Z))Z=Object.values(Z);Y=Y||qH.messages.Number.enum}return Y=Y==null?qH.messages.Number.enum:Y,this.enumValidator=(J)=>J==null||Z.indexOf(J)!==-1,this.validators.push({validator:this.enumValidator,message:Y,type:"enum",enumValues:Z}),this};L0.prototype.cast=function(Z,Y,J){if(typeof Z!=="number"&&o4._isRef(this,Z,Y,J)){if(Z==null||VH.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}const X=Z&&typeof Z._id!=="undefined"?Z._id:Z;let $;if(typeof this._castFunction==="function")$=this._castFunction;else if(typeof this.constructor.cast==="function")$=this.constructor.cast();else $=L0.cast();try{return $(X)}catch(W){throw new yc("Number",X,this.path,W,this)}};/*!
 * ignore
 */L0.prototype.$conditionalHandlers=VH.options(o4.prototype.$conditionalHandlers,{$bitsAllClear:FH,$bitsAnyClear:FH,$bitsAllSet:FH,$bitsAnySet:FH,$gt:UH,$gte:UH,$lt:UH,$lte:UH,$mod:WD1});L0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new yc("number",Y,this.path,null,this);return X.call(this,Y,J)}return Y=this.applySetters(Y,J),Y};/*!
 * Module exports.
 */gc.exports=L0});var E$=R((QD1)=>{var bc=function(Z){return GD1.cast()(Z)},vc=function(Z,Y){Z.forEach(function(J,X){if(Array.isArray(J))vc(J,Y);else Z[X]=bc.call(Y,J)})};/*!
 * Module requirements.
 */var GD1=gM();/*!
 * ignore
 */QD1.castToNumber=bc;QD1.castArraysOfNumbers=vc;/*!
 * ignore
 */});var hM=R((qD1)=>{var zD1=function(Z){const Y=LH();if(Array.isArray(Z))return hc(Z,this),Z;if(vM(this,Z),Z&&Z.$geometry)return bM(Z,this);if(!Array.isArray(Z))throw new TypeError("$near must be either an array or an object with a $geometry property");return Y.prototype.castForQuery.call(this,null,Z)},bM=function(Z,Y){switch(Z.$geometry.type){case"Polygon":case"LineString":case"Point":hc(Z.$geometry.coordinates,Y);break;default:break}return vM(Y,Z),Z},FD1=function(Z){if(vM(this,Z),Z.$box||Z.$polygon){const Y=Z.$box?"$box":"$polygon";Z[Y].forEach((J)=>{if(!Array.isArray(J)){const X="Invalid $within $box argument. Expected an array, received "+J;throw new TypeError(X)}J.forEach((X,$)=>{J[$]=j$.call(this,X)})})}else if(Z.$center||Z.$centerSphere){const Y=Z.$center?"$center":"$centerSphere";Z[Y].forEach((J,X)=>{if(Array.isArray(J))J.forEach(($,W)=>{J[W]=j$.call(this,$)});else Z[Y][X]=j$.call(this,J)})}else if(Z.$geometry)bM(Z,this);return Z},UD1=function(Z){if(!Z.$geometry)return;return bM(Z,this),Z},vM=function(Z,Y){if(Y.$maxDistance)Y.$maxDistance=j$.call(Z,Y.$maxDistance);if(Y.$minDistance)Y.$minDistance=j$.call(Z,Y.$minDistance)};/*!
 * Module requirements.
 */var hc=E$().castArraysOfNumbers,j$=E$().castToNumber;/*!
 * ignore
 */qD1.cast$geoIntersects=UD1;qD1.cast$near=zD1;qD1.cast$within=FD1});var LH=R((Ee1,uc)=>{var p1=function(Z,Y,J,X){RH||(RH=gJ().Embedded);let $="type";if(X&&X.typeKey)$=X.typeKey;if(this.schemaOptions=X,Y){let Q={};if(k9.isPOJO(Y))if(Y[$])Q=ID1(Y),delete Q[$],Y=Y[$];else Y=MH;if(J!=null&&J.ref!=null&&Q.ref==null)Q.ref=J.ref;if(Y===Object)Y=MH;const K=typeof Y==="string"?Y:k9.getFunctionName(Y),H=C$(),z=H.hasOwnProperty(K)?H[K]:Y;if(this.casterConstructor=z,this.casterConstructor instanceof p1)this.casterConstructor[mc]=!0;if(typeof z==="function"&&!z.$isArraySubdocument&&!z.$isSchemaMap){const F=this.caster instanceof RH?null:Z;this.caster=new z(F,Q)}else if(this.caster=z,!(this.caster instanceof RH))this.caster.path=Z;this.$embeddedSchemaType=this.caster}this.$isMongooseArray=!0,H7.call(this,Z,J,"Array");let W,G;if(this.defaultValue!=null)W=this.defaultValue,G=typeof W==="function";if(!("defaultValue"in this)||this.defaultValue!==void 0){const Q=function(){return G?W.call(this):W!=null?[].concat(W):[]};Q.$runBeforeSetters=!G,this.default(Q)}},ED1=function(Z,Y){if(!Array.isArray(Z))Z=[Z];return Z=Z.map((J)=>{if(!k9.isObject(J))return J;if(J.$elemMatch!=null)return{$elemMatch:S$(this.casterConstructor.schema,J.$elemMatch,null,this&&this.$$context)};const X={};return X[this.path]=J,S$(this.casterConstructor.schema,X,null,this&&this.$$context)[this.path]},this),this.castForQuery(null,Z,Y)},jD1=function(Z,Y){const J=Object.keys(Z),X=J.length;for(let Q=0;Q<X;++Q){const K=J[Q],H=Z[K];if(DD1(K)&&H!=null)Z[K]=this.castForQuery(K,H,Y)}const $=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,W=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if($!=null&&Z[$]!=null&&W[Z[$]]!=null)return S$(W[Z[$]],Z,null,this&&this.$$context);const G=this.casterConstructor.schema??Y.schema;return S$(G,Z,null,this&&this.$$context)},uM=function(Z){return function Y(J){if(!Array.isArray(J))throw new TypeError("conditional "+Z+" requires an array");const X=[];for(let $ of J)X.push(S$(this.casterConstructor.schema,$,null,this&&this.$$context));return X}};/*!
 * Module dependencies.
 */var wD1=jK(),MD1=Pw(),BD1=z0(),AD1=Uc(),H7=o0(),wH=H7.CastError,MH=T9(),ND1=Vc(),S$=vJ(),ID1=N0(),DD1=KH(),BH=import.meta.require("util"),k9=H1(),PD1=E$().castToNumber,mM=hM(),TD1=h7(),O$,RH,mc=Symbol("mongoose#isNestedArray"),CD1=Object.freeze({});p1.schemaName="Array";p1.options={castNonArrays:!0};/*!
 * ignore
 */p1.defaultOptions={};p1.set=H7.set;p1.setters=[];p1.get=H7.get;/*!
 * Inherits from SchemaType.
 */p1.prototype=Object.create(H7.prototype);p1.prototype.constructor=p1;p1.prototype.OptionsConstructor=AD1;/*!
 * ignore
 */p1._checkRequired=H7.prototype.checkRequired;p1.checkRequired=H7.checkRequired;p1.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&H7._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():p1.checkRequired())(Y)};p1.prototype.enum=function(){let Z=this;while(!0){const J=Z&&Z.caster&&Z.caster.instance;if(J==="Array"){Z=Z.caster;continue}if(J!=="String"&&J!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+J);break}let Y=arguments;if(!Array.isArray(arguments)&&k9.isObject(arguments))Y=k9.object.vals(Y);return Z.caster.enum.apply(Z.caster,Y),this};p1.prototype.applyGetters=function(Z,Y){if(Y!=null&&Y.$__!=null&&Y.$populated(this.path))return Z;return H7.prototype.applyGetters.call(this,Z,Y)};p1.prototype._applySetters=function(Z,Y,J,X){if(this.casterConstructor.$isMongooseArray&&p1.options.castNonArrays&&!this[mc]){let $=0,W=this;while(W!=null&&W.$isMongooseArray&&!W.$isMongooseDocumentArray)++$,W=W.casterConstructor;if(Z!=null&&Z.length!==0){const G=ND1(Z);if(G.min===G.max&&G.max<$&&G.containsNonArrayItem)for(let Q=G.max;Q<$;++Q)Z=[Z]}}return H7.prototype._applySetters.call(this,Z,Y,J,X)};p1.prototype.cast=function(Z,Y,J,X,$){O$||(O$=gJ().Array);let W,G;if(Array.isArray(Z)){if(!Z.length&&Y){const q=Y.schema.indexedPaths(),V=this.path;for(W=0,G=q.length;W<G;++W){const w=q[W][0][V];if(w==="2dsphere"||w==="2d")return}const L=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(L!=null){for(W=0,G=q.length;W<G;++W)if(q[W][0][L]==="2dsphere")return}}$=$||CD1;let H=k9.isMongooseArray(Z)?Z.__array:Z,z=$.path||this.path;if($.arrayPathIndex!=null)z+="."+$.arrayPathIndex;if(Z=O$(H,z,Y,this),H=Z.__array,J&&Y!=null&&Y.$__!=null&&Y.$populated(this.path))return Z;const F=this.caster,U=F.$isMongooseArray;if(F&&this.casterConstructor!==MH)try{const q=H.length;for(W=0;W<q;W++){const V={};if(U){if($.arrayPath!=null)V.arrayPathIndex=W;else if(F._arrayParentPath!=null)V.arrayPathIndex=W}H[W]=F.applySetters(H[W],Y,J,void 0,V)}}catch(q){throw new wH("["+q.kind+"]",BH.inspect(Z),this.path+"."+W,q,this)}return Z}const Q=this.options.castNonArrays!=null?this.options.castNonArrays:p1.options.castNonArrays;if(J||Q){if(!!Y&&!!J)Y.markModified(this.path);return this.cast([Z],Y,J)}throw new wH("Array",BH.inspect(Z),this.path,null,this)};/*!
 * ignore
 */p1.prototype._castForPopulate=function Z(Y,J){if(O$||(O$=gJ().Array),Array.isArray(Y)){let X;const $=Y.__array?Y.__array:Y,W=$.length,G=this.caster;if(G&&this.casterConstructor!==MH)try{for(X=0;X<W;X++){const Q={};if(G.$isMongooseArray&&G._arrayParentPath!=null)Q.arrayPathIndex=X;$[X]=G.cast($[X],J,!1,void 0,Q)}}catch(Q){throw new wH("["+Q.kind+"]",BH.inspect(Y),this.path+"."+X,Q,this)}return Y}throw new wH("Array",BH.inspect(Y),this.path,null,this)};p1.prototype.$toObject=p1.prototype.toObject;/*!
 * ignore
 */p1.prototype.discriminator=function(...Z){let Y=this;while(Y.$isMongooseArray&&!Y.$isMongooseDocumentArray)if(Y=Y.casterConstructor,Y==null||typeof Y==="function")throw new BD1("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return Y.discriminator(...Z)};/*!
 * ignore
 */p1.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,this.caster,Z,this.schemaOptions);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;return Y};p1.prototype._castForQuery=function(Z,Y){let J=this.casterConstructor;if(Z&&J.discriminators&&J.schema&&J.schema.options&&J.schema.options.discriminatorKey)if(typeof Z[J.schema.options.discriminatorKey]==="string"&&J.discriminators[Z[J.schema.options.discriminatorKey]])J=J.discriminators[Z[J.schema.options.discriminatorKey]];else{const K=TD1(J.discriminators,Z[J.schema.options.discriminatorKey]);if(K)J=K}const X=this.casterConstructor.prototype,$=X&&X.castForQuery,W=X&&X.cast,G=J.castForQuery,Q=this.caster;if(Array.isArray(Z))this.setters.reverse().forEach((K)=>{Z=K.call(this,Z,this)}),Z=Z.map(function(K){if(k9.isObject(K)&&K.$elemMatch)return K;if($)return K=$.call(Q,null,K,Y),K;else if(W)return K=W.call(Q,K),K;else if(G)return K=G.call(Q,null,K,Y),K;if(K!=null)return K=new J(K),K;return K});else if($)Z=$.call(Q,null,Z,Y);else if(W)Z=W.call(Q,Z);else if(G)Z=G.call(Q,null,Z,Y);else if(Z!=null)Z=new J(Z);return Z};p1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with Array.");return X.call(this,Y,J)}else return this._castForQuery(Y,J)};var H0=p1.prototype.$conditionalHandlers={};H0.$all=ED1;H0.$options=String;H0.$elemMatch=jD1;H0.$geoIntersects=mM.cast$geoIntersects;H0.$or=uM("$or");H0.$and=uM("$and");H0.$nor=uM("$nor");H0.$near=H0.$nearSphere=mM.cast$near;H0.$within=H0.$geoWithin=mM.cast$within;H0.$size=H0.$minDistance=H0.$maxDistance=PD1;H0.$exists=wD1;H0.$type=MD1;H0.$eq=H0.$gt=H0.$gte=H0.$lt=H0.$lte=H0.$not=H0.$regex=H0.$ne=p1.prototype._castForQuery;H0.$nin=H7.prototype.$conditionalHandlers.$nin;H0.$in=H7.prototype.$conditionalHandlers.$in;/*!
 * Module exports.
 */uc.exports=p1});var cc=R((je1,dc)=>{var OD1=import.meta.require("assert"),{Long:SD1}=p6();dc.exports=function Z(Y){if(Y==null)return Y;if(Y==="")return null;if(typeof Y==="bigint")return Y;if(Y instanceof SD1)return Y.toBigInt();if(typeof Y==="string"||typeof Y==="number")return BigInt(Y);OD1.ok(!1)}});var lc=R((Oe1,pc)=>{var S0=function(Z,Y){mJ.call(this,Z,Y,"BigInt")},AH=function(Z,Y){return this.castForQuery(null,Z,Y)};/*!
 * Module dependencies.
 */var kD1=v8(),mJ=o0(),_D1=cc(),xD1=H1();S0.schemaName="BigInt";S0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */S0.prototype=Object.create(mJ.prototype);S0.prototype.constructor=S0;/*!
 * ignore
 */S0._cast=_D1;S0.set=mJ.set;S0.setters=[];S0.get=mJ.get;S0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */S0._checkRequired=(Z)=>Z!=null;S0.checkRequired=mJ.checkRequired;S0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};S0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=S0.cast();try{return Y(Z)}catch(J){throw new kD1("BigInt",Z,this.path,J,this)}};/*!
 * ignore
 */S0.$conditionalHandlers=xD1.options(mJ.prototype.$conditionalHandlers,{$gt:AH,$gte:AH,$lt:AH,$lte:AH});/*!
 * ignore
 */S0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=S0.$conditionalHandlers[Z],X)return X.call(this,Y);return this.applySetters(null,Y,J)}return this.applySetters(Y,J)};S0.prototype._castNullish=function Z(Y){if(typeof Y==="undefined")return Y;if((typeof this.constructor.cast==="function"?this.constructor.cast():S0.cast())==null)return Y;return Y};/*!
 * Module exports.
 */pc.exports=S0});var nc=R((Se1,ic)=>{var R0=function(Z,Y){uJ.call(this,Z,Y,"Boolean")};/*!
 * Module dependencies.
 */var fD1=v8(),uJ=o0(),k$=EK(),yD1=H1();R0.schemaName="Boolean";R0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */R0.prototype=Object.create(uJ.prototype);R0.prototype.constructor=R0;/*!
 * ignore
 */R0._cast=k$;R0.set=uJ.set;R0.setters=[];R0.get=uJ.get;R0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */R0._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="boolean")throw new Error;return Z};/*!
 * ignore
 */R0._checkRequired=(Z)=>Z===!0||Z===!1;R0.checkRequired=uJ.checkRequired;R0.prototype.checkRequired=function(Z){return this.constructor._checkRequired(Z)};Object.defineProperty(R0,"convertToTrue",{get:()=>k$.convertToTrue,set:(Z)=>{k$.convertToTrue=Z}});Object.defineProperty(R0,"convertToFalse",{get:()=>k$.convertToFalse,set:(Z)=>{k$.convertToFalse=Z}});R0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=R0.cast();try{return Y(Z)}catch(J){throw new fD1("Boolean",Z,this.path,J,this)}};R0.$conditionalHandlers=yD1.options(uJ.prototype.$conditionalHandlers,{});R0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=R0.$conditionalHandlers[Z],X)return X.call(this,Y);return this.applySetters(null,Y,J)}return this.applySetters(Y,J)};R0.prototype._castNullish=function Z(Y){if(typeof Y==="undefined")return Y;const J=typeof this.constructor.cast==="function"?this.constructor.cast():R0.cast();if(J==null)return Y;if(J.convertToFalse instanceof Set&&J.convertToFalse.has(Y))return!1;if(J.convertToTrue instanceof Set&&J.convertToTrue.has(Y))return!0;return Y};/*!
 * Module exports.
 */ic.exports=R0});var sc=R((ke1,ac)=>{var gD1=k6();class dM extends gD1{}var bD1=G7();Object.defineProperty(dM.prototype,"subtype",bD1);/*!
 * ignore
 */ac.exports=dM});var ec=R((_e1,oc)=>{var F8=function(Z,Y){e4.call(this,Z,Y,"Buffer")},IH=function(Z,Y){return this.castForQuery(null,Z,Y)};/*!
 * Module dependencies.
 */var dJ=I$(),vD1=sc(),e4=o0(),NH=zH(),tc=H1(),rc=dJ.Binary,cM=e4.CastError;F8.schemaName="Buffer";F8.defaultOptions={};/*!
 * Inherits from SchemaType.
 */F8.prototype=Object.create(e4.prototype);F8.prototype.constructor=F8;F8.prototype.OptionsConstructor=vD1;/*!
 * ignore
 */F8._checkRequired=(Z)=>!!(Z&&Z.length);F8.set=e4.set;F8.setters=[];F8.get=e4.get;F8.checkRequired=e4.checkRequired;F8.prototype.checkRequired=function(Z,Y){if(e4._isRef(this,Z,Y,!0))return!!Z;return this.constructor._checkRequired(Z)};F8.prototype.cast=function(Z,Y,J){let X;if(e4._isRef(this,Z,Y,J)){if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new dJ(Z,[this.path,Y]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof rc){if(X=new dJ(Z.value(!0),[this.path,Y]),typeof Z.sub_type!=="number")throw new cM("Buffer",Z,this.path,null,this);return X._subtype=Z.sub_type,X}if(Z==null||tc.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}if(Z&&Z._id)Z=Z._id;if(Z&&Z.isMongooseBuffer)return Z;if(Buffer.isBuffer(Z)){if(!Z||!Z.isMongooseBuffer){if(Z=new dJ(Z,[this.path,Y]),this.options.subtype!=null)Z._subtype=this.options.subtype}return Z}if(Z instanceof rc){if(X=new dJ(Z.value(!0),[this.path,Y]),typeof Z.sub_type!=="number")throw new cM("Buffer",Z,this.path,null,this);return X._subtype=Z.sub_type,X}if(Z===null)return Z;const $=typeof Z;if($==="string"||$==="number"||Array.isArray(Z)||$==="object"&&Z.type==="Buffer"&&Array.isArray(Z.data)){if($==="number")Z=[Z];if(X=new dJ(Z,[this.path,Y]),this.options.subtype!=null)X._subtype=this.options.subtype;return X}throw new cM("Buffer",Z,this.path,null,this)};F8.prototype.subtype=function(Z){return this.options.subtype=Z,this};/*!
 * ignore
 */F8.prototype.$conditionalHandlers=tc.options(e4.prototype.$conditionalHandlers,{$bitsAllClear:NH,$bitsAnyClear:NH,$bitsAllSet:NH,$bitsAnySet:NH,$gt:IH,$gte:IH,$lt:IH,$lte:IH});F8.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with Buffer.");return X.call(this,Y)}const $=this.applySetters(Y,J);return $?$.toObject({transform:!1,virtuals:!1}):$};/*!
 * Module exports.
 */oc.exports=F8});var Yp=R((xe1,Zp)=>{var hD1=k6();class _$ extends hD1{}var pM=G7();Object.defineProperty(_$.prototype,"min",pM);Object.defineProperty(_$.prototype,"max",pM);Object.defineProperty(_$.prototype,"expires",pM);/*!
 * ignore
 */Zp.exports=_$});var Xp=R((fe1,Jp)=>{var lM=import.meta.require("assert");Jp.exports=function Z(Y){if(Y==null||Y==="")return null;if(Y instanceof Date)return lM.ok(!isNaN(Y.valueOf())),Y;let J;if(lM.ok(typeof Y!=="boolean"),Y instanceof Number||typeof Y==="number")J=new Date(Y);else if(typeof Y==="string"&&!isNaN(Number(Y))&&(Number(Y)>=275761||Number(Y)<-271820))J=new Date(Number(Y));else if(typeof Y.valueOf==="function")J=new Date(Y.valueOf());else J=new Date(Y);if(!isNaN(J.valueOf()))return J;lM.ok(!1)}});var Qp=R((ye1,Gp)=>{var w0=function(Z,Y){KZ.call(this,Z,Y,"Date")},DH=function(Z){return this.cast(Z)};/*!
 * Module requirements.
 */var $p=e1(),mD1=Yp(),KZ=o0(),uD1=Xp(),dD1=G6(),Wp=H1(),cD1=KZ.CastError;w0.schemaName="Date";w0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */w0.prototype=Object.create(KZ.prototype);w0.prototype.constructor=w0;w0.prototype.OptionsConstructor=mD1;/*!
 * ignore
 */w0._cast=uD1;w0.set=KZ.set;w0.setters=[];w0.get=KZ.get;w0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */w0._defaultCaster=(Z)=>{if(Z!=null&&!(Z instanceof Date))throw new Error;return Z};w0.prototype.expires=function(Z){if(dD1(this._index)!=="Object")this._index={};return this._index.expires=Z,Wp.expires(this._index),this};/*!
 * ignore
 */w0._checkRequired=(Z)=>Z instanceof Date;w0.checkRequired=KZ.checkRequired;w0.prototype.checkRequired=function(Z,Y){if(typeof Z==="object"&&KZ._isRef(this,Z,Y,!0))return Z!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():w0.checkRequired())(Z)};w0.prototype.min=function(Z,Y){if(this.minValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minValidator},this);if(Z){let J=Y||$p.messages.Date.min;if(typeof J==="string")J=J.replace(/{MIN}/,Z===Date.now?"Date.now()":Z.toString());const X=this;this.validators.push({validator:this.minValidator=function($){let W=Z;if(typeof Z==="function"&&Z!==Date.now)W=W.call(this);const G=W===Date.now?W():X.cast(W);return $===null||$.valueOf()>=G.valueOf()},message:J,type:"min",min:Z})}return this};w0.prototype.max=function(Z,Y){if(this.maxValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxValidator},this);if(Z){let J=Y||$p.messages.Date.max;if(typeof J==="string")J=J.replace(/{MAX}/,Z===Date.now?"Date.now()":Z.toString());const X=this;this.validators.push({validator:this.maxValidator=function($){let W=Z;if(typeof W==="function"&&W!==Date.now)W=W.call(this);const G=W===Date.now?W():X.cast(W);return $===null||$.valueOf()<=G.valueOf()},message:J,type:"max",max:Z})}return this};w0.prototype.cast=function(Z){let Y;if(typeof this._castFunction==="function")Y=this._castFunction;else if(typeof this.constructor.cast==="function")Y=this.constructor.cast();else Y=w0.cast();try{return Y(Z)}catch(J){throw new cD1("date",Z,this.path,J,this)}};w0.prototype.$conditionalHandlers=Wp.options(KZ.prototype.$conditionalHandlers,{$gt:DH,$gte:DH,$lt:DH,$lte:DH});w0.prototype.castForQuery=function(Z,Y,J){if(Z==null)return this.applySetters(Y,J);const X=this.$conditionalHandlers[Z];if(!X)throw new Error("Can\'t use "+Z+" with Date.");return X.call(this,Y)};/*!
 * Module exports.
 */Gp.exports=w0});var Hp=R((ge1,Kp)=>{var _9=CG(),pD1=import.meta.require("assert");Kp.exports=function Z(Y){if(Y==null)return Y;if(typeof Y==="object"&&typeof Y.$numberDecimal==="string")return _9.fromString(Y.$numberDecimal);if(Y instanceof _9)return Y;if(typeof Y==="string")return _9.fromString(Y);if(typeof Buffer==="function"&&Buffer.isBuffer(Y))return new _9(Y);if(typeof Uint8Array==="function"&&Y instanceof Uint8Array)return new _9(Y);if(typeof Y==="number")return _9.fromString(String(Y));if(typeof Y.valueOf==="function"&&typeof Y.valueOf()==="string")return _9.fromString(Y.valueOf());pD1.ok(!1)}});var Fp=R((be1,zp)=>{var l0=function(Z,Y){Z5.call(this,Z,Y,"Decimal128")},PH=function(Z){return this.cast(Z)};/*!
 * Module dependencies.
 */var Z5=o0(),lD1=Z5.CastError,iD1=Hp(),nD1=H1(),iM=t8();l0.schemaName="Decimal128";l0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */l0.prototype=Object.create(Z5.prototype);l0.prototype.constructor=l0;/*!
 * ignore
 */l0._cast=iD1;l0.set=Z5.set;l0.setters=[];l0.get=Z5.get;l0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */l0._defaultCaster=(Z)=>{if(Z!=null&&!iM(Z,"Decimal128"))throw new Error;return Z};/*!
 * ignore
 */l0._checkRequired=(Z)=>iM(Z,"Decimal128");l0.checkRequired=Z5.checkRequired;l0.prototype.checkRequired=function Z(Y,J){if(Z5._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():l0.checkRequired())(Y)};l0.prototype.cast=function(Z,Y,J){if(Z5._isRef(this,Z,Y,J)){if(iM(Z,"Decimal128"))return Z;return this._castRef(Z,Y,J)}let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=l0.cast();try{return X(Z)}catch($){throw new lD1("Decimal128",Z,this.path,$,this)}};/*!
 * ignore
 */l0.prototype.$conditionalHandlers=nD1.options(Z5.prototype.$conditionalHandlers,{$gt:PH,$gte:PH,$lt:PH,$lte:PH});/*!
 * Module exports.
 */zp.exports=l0});var qp=R((ve1,Up)=>{var aD1=k6();class nM extends aD1{}var sD1=G7();Object.defineProperty(nM.prototype,"_id",sD1);Up.exports=nM});var aM=R((he1,Vp)=>{Vp.exports=function Z(Y,J,X){if(Y.length===0)return X();let $=Y.length,W=null;for(let G of Y)J(G,function(Q){if(W!=null)return;if(Q!=null)return W=Q,X(W);if(--$<=0)return X()})}});var wp=R((me1,Rp)=>{var Lp=aM();/*!
 * ignore
 */Rp.exports=function Z(Y){Y.s.hooks.pre("save",!1,function X($){if(this.$isSubdocument){$();return}const W=this,G=this.$getAllSubdocs();if(!G.length){$();return}Lp(G,function(Q,K){Q.$__schema.s.hooks.execPre("save",Q,function(H){K(H)})},function(Q){if(Q)return W.$__schema.s.hooks.execPost("save:error",W,[W],{error:Q},function(K){$(K)});$()})},null,!0),Y.s.hooks.post("save",function X($,W){if(this.$isSubdocument){W();return}const G=this,Q=this.$getAllSubdocs();if(!Q.length){W();return}Lp(Q,function(K,H){K.$__schema.s.hooks.execPost("save",K,[K],function(z){H(z)})},function(K){if(K)return G.$__schema.s.hooks.execPost("save:error",G,[G],{error:K},function(H){W(H)});W()})},null,!0)}});var Ap=R((ue1,rM)=>{var Bp=function(){let Z,Y;if(this.$__.shardval){Z=Object.keys(this.$__.shardval),Y=Z.length,this.$where=this.$where||{};for(let J=0;J<Y;++J)this.$where[Z[J]]=this.$__.shardval[Z[J]]}},sM=function(){const Z=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(!Mp.isPOJO(Z))return;const Y=this.$__.shardval={},J=Object.keys(Z),X=J.length;let $;for(let W=0;W<X;++W)if($=this.$__getValue(J[W]),$==null)Y[J[W]]=$;else if(Mp.isMongooseObject($))Y[J[W]]=$.toObject({depopulate:!0,_isNested:!0});else if($ instanceof Date||$[rD1])Y[J[W]]=$;else if(typeof $.valueOf==="function")Y[J[W]]=$.valueOf();else Y[J[W]]=$},rD1=$1().objectIdSymbol,Mp=H1();/*!
 * ignore
 */rM.exports=function Z(Y){Y.post("init",function J(){return sM.call(this),this}),Y.pre("save",function J(X){Bp.call(this),X()}),Y.pre("remove",function J(X){Bp.call(this),X()}),Y.post("save",function J(){sM.call(this)})};/*!
 * ignore
 *//*!
 * ignore
 */rM.exports.storeShard=sM;/*!
 * ignore
 */});var Pp=R((de1,Dp)=>{var Np=function(Z,Y){const J=new Map;Y=Y||new Map;const X=Object.keys(Z.$__.activePaths.init).concat(Object.keys(Z.$__.activePaths.modify));for(let W of X){const G=Z.$__getValue(W);if(G!=null&&Array.isArray(G)&&tD1.isMongooseDocumentArray(G)&&G.length&&G[cJ]!=null&&Object.keys(G[cJ]).length!==0){const Q=Y.get(W)||{};J.set(W,Ip(Q,G[cJ]))}}const $=Z.$__dirty();for(let W of $){const{path:G,value:Q}=W;if(Q!=null&&Q[cJ]!=null&&Object.keys(Q[cJ]).length!==0){const K=Y.get(G)||{};J.set(G,Ip(K,Q[cJ]))}}return J},Ip=function(Z,Y){if(Z=Z||{},Y.$pullAll!=null)Z.$pullAll=(Z.$pullAll||[]).concat(Y.$pullAll);if(Y.$push!=null)Z.$push=Z.$push||{},Z.$push.$each=(Z.$push.$each||[]).concat(Y.$push.$each);if(Y.$addToSet!=null)Z.$addToSet=(Z.$addToSet||[]).concat(Y.$addToSet);if(Y.$set!=null)Z.$set=Object.assign(Z.$set||{},Y.$set);return Z},cJ=$1().arrayAtomicsSymbol,TH=$1().sessionNewDocuments,tD1=H1();Dp.exports=function Z(Y){Y.pre("save",function J(){const X=this.$session();if(X==null)return;if(X.transaction==null||X[TH]==null)return;if(!X[TH].has(this)){const $={};if(this.isNew)$.isNew=!0;if(this.$__schema.options.versionKey)$.versionKey=this.get(this.$__schema.options.versionKey);$.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),$.atomics=Np(this),X[TH].set(this,$)}else{const $=X[TH].get(this);for(let W of Object.keys(this.$__.activePaths.getStatePaths("modify")))$.modifiedPaths.add(W);$.atomics=Np(this,$.atomics)}})}});var Cp=R((ce1,Tp)=>{/*!
 * ignore
 */Tp.exports=function Z(Y){Y.pre("save",!1,function X($,W){const G=this;if(this.$isSubdocument)return $();const Q=W&&typeof W==="object"&&("validateBeforeSave"in W);let K;if(Q)K=!!W.validateBeforeSave;else K=this.$__schema.options.validateBeforeSave;if(K){const z=W&&typeof W==="object"&&("validateModifiedOnly"in W)?{validateModifiedOnly:W.validateModifiedOnly}:null;this.$validate(z).then(()=>{this.$op="save",$()},(F)=>{G.$__schema.s.hooks.execPost("save:error",G,[G],{error:F},function(U){G.$op="save",$(U)})})}else $()},null,!0)}});var tM=R((oD1)=>{oD1.saveSubdocs=wp();oD1.sharding=Ap();oD1.trackTransaction=Pp();oD1.validateBeforeSave=Cp()});var Op=R((le1,jp)=>{var Ep=tM();jp.exports=function Z(Y){for(let J of Object.values(Ep))J(Y,{deduplicate:!0});Y.plugins=Object.values(Ep).map((J)=>({fn:J,opts:{deduplicate:!0}})).concat(Y.plugins)}});var _p=R((ie1,kp)=>{var XP1=kK(),$P1=iZ(),WP1=t8(),GP1=x4(),Sp=O5();kp.exports=function Z(Y,J,X,$){const W=Object.keys(J);let G=0;const Q=W.length;let K;if(X=X||"",$=$||new WeakSet,$.has(J))return;$.add(J);while(G<Q){if(K=W[G++],!X){if(K==="discriminators"||K==="base"||K==="_applyDiscriminators"||K==="_userProvidedOptions"||K==="options"||K==="tree")continue}if(X==="tree"&&J!=null&&J.instanceOfSchema)continue;if($P1.has(K))continue;if(Y[K]==null)Y[K]=J[K];else if(Sp(J[K])){if(!Sp(Y[K]))Y[K]={};if(J[K]!=null){if(J[K].$isSingleNested&&Y[K].$isMongooseDocumentArray||J[K].$isMongooseDocumentArray&&Y[K].$isSingleNested||J[K].$isMongooseDocumentArrayElement&&Y[K].$isMongooseDocumentArrayElement)continue;else if(J[K].instanceOfSchema){if(Y[K].instanceOfSchema)XP1(Y[K],J[K].clone(),!0);else Y[K]=J[K].clone();continue}else if(WP1(J[K],"ObjectId")){Y[K]=new GP1(J[K]);continue}}Z(Y[K],J[K],X?X+"."+K:K,$)}}if(J!=null&&J.instanceOfSchema)Y.tree=Object.assign({},J.tree,Y.tree)}});var CH=R((ne1,yp)=>{var xp=T9(),QP1=Op(),KP1=N0(),HP1=yK().defineKey,zP1=V0(),oM=H1(),FP1=_p(),fp={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};/*!
 * ignore
 */yp.exports=function Z(Y,J,X,$,W,G){if(!(X&&X.instanceOfSchema))throw new Error("You must pass a valid discriminator Schema");if(G=G==null?!0:G,Y.schema.discriminatorMapping&&!Y.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+J+'" can only be a discriminator of the root model');if(W){const F=zP1(Y.base,"options.applyPluginsToDiscriminators",!1)||!G;Y.base._applyPlugins(X,{skipTopLevel:!F})}else if(!G)QP1(X);const Q=Y.schema.options.discriminatorKey,K=Y.schema.path(Q);if(K!=null){if(!oM.hasUserDefinedProperty(K.options,"select"))K.options.select=!0;K.options.$skipDiscriminatorCheck=!0}else{const F={};F[Q]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},F[Q][Y.schema.options.typeKey]=String,Y.schema.add(F),HP1({prop:Q,prototype:Y.prototype,options:Y.schema.options})}if(X.path(Q)&&X.path(Q).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+J+'" cannot have field with name "'+Q+'"');let H=J;if(typeof $==="string"&&$.length||$!=null)H=$;function z(F,U){if(F._baseSchema=U,U.paths._id&&U.paths._id.options&&!U.paths._id.options.auto)F.remove("_id");const q=Object.keys(U.paths),V=[];for(let j of q){if(F.nested[j]){V.push(j);continue}if(j.indexOf(".")===-1)continue;const E=j.split(".").slice(0,-1);let D="";for(let l of E)if(D+=(D.length?".":"")+l,F.paths[D]instanceof xp||F.singleNestedPaths[D]instanceof xp)V.push(j)}FP1(F,U);for(let j of V)delete F.paths[j];F.childSchemas.forEach((j)=>{j.model.prototype.$__setSchema(j.schema)});const L={};if(L[Q]={default:H,select:!0,set:function(j){if(j===H||Array.isArray(H)&&oM.deepEqual(j,H))return H;throw new Error('Can\'t set discriminator key "'+Q+'"')},$skipDiscriminatorCheck:!0},L[Q][F.options.typeKey]=K?K.options[F.options.typeKey]:String,F.add(L),F.discriminatorMapping={key:Q,value:H,isRoot:!1},U.options.collection)F.options.collection=U.options.collection;const w=F.options.toJSON,B=F.options.toObject,A=F.options._id,M=F.options.id,I=Object.keys(F.options);F.options.discriminatorKey=U.options.discriminatorKey;const x=F._userProvidedOptions;for(let j of I)if(!fp[j]){if((j in x)&&!oM.deepEqual(F.options[j],U.options[j]))throw new Error("Can\'t customize discriminator option "+j+" (can only modify "+Object.keys(fp).join(", ")+")")}F.options=KP1(U.options);for(let j of Object.keys(x))F.options[j]=x[j];if(w)F.options.toJSON=w;if(B)F.options.toObject=B;if(typeof A!=="undefined")F.options._id=A;if(F.options.id=M,G)F.s.hooks=Y.schema.s.hooks.merge(F.s.hooks);if(W)F.plugins=Array.prototype.slice.call(U.plugins);F.callQueue=U.callQueue.concat(F.callQueue),delete F._requiredpaths}if(z(X,Y.schema),!Y.discriminators)Y.discriminators={};if(!Y.schema.discriminatorMapping)Y.schema.discriminatorMapping={key:Q,value:null,isRoot:!0};if(!Y.schema.discriminators)Y.schema.discriminators={};if(Y.schema.discriminators[J]=X,Y.discriminators[J]&&!X.options.overwriteModels)throw new Error('Discriminator with name "'+J+'" already exists');return X}});var EH=R((ae1,gp)=>{var UP1=h7();gp.exports=function Z(Y,J,X){const $=Y.schema.options.discriminatorKey;let W=J!=null&&J[$];if(W==null)W=X;if(Y.discriminators&&W!=null)if(Y.discriminators[W])Y=Y.discriminators[W];else{const G=UP1(Y.discriminators,W);if(G)Y=G}return Y}});var eM=R((se1,bp)=>{var qP1=wM();bp.exports=function Z(Y,J){if(J==null||J._id==null)return Y;if(Y=Y.clone(),!J._id)Y.remove("_id"),Y.options._id=!1;else if(!Y.paths._id)qP1(Y),Y.options._id=!0;return Y}});var YB=R((re1,vp)=>{/*!
 * Module dependencies.
 */var VP1=e1();class ZB extends VP1{constructor(Z,Y){const J=`Cannot create use schema for property "${Z}" because the schema has the ${Y} option enabled.`;super(J)}}Object.defineProperty(ZB.prototype,"name",{value:"InvalidSchemaOptionError"});/*!
 * exports
 */vp.exports=ZB});var WB=R((te1,dp)=>{var X0=function(Z,Y,J){if(Z.options.timeseries)throw new PP1(Y,"timeseries");const X=X0.defaultOptions&&X0.defaultOptions._id;if(X!=null)J=J||{},J._id=X;if(Z=AP1(Z,J),this.caster=up(Z),this.caster.path=Y,this.caster.prototype.$basePath=Y,this.schema=Z,this.$isSingleNested=!0,this.base=Z.base,pJ.call(this,Y,J,"Embedded"),Z._applyDiscriminators!=null&&!J?._skipApplyDiscriminators)for(let $ of Z._applyDiscriminators.keys())this.discriminator($,Z._applyDiscriminators.get($))},up=function(Z,Y){jH||(jH=mK());const J=function $(W,G,Q){if(this.$__parent=Q,jH.apply(this,arguments),Q==null)return;this.$session(Q.$session())};Z._preCompile();const X=Y!=null?Y.prototype:jH.prototype;J.prototype=Object.create(X),J.prototype.$__setSchema(Z),J.prototype.constructor=J,J.base=Z.base,J.schema=Z,J.$isSingleNested=!0,J.events=new JB,J.prototype.toBSON=function(){return this.toObject(NP1)};for(let $ in Z.methods)J.prototype[$]=Z.methods[$];for(let $ in Z.statics)J[$]=Z.statics[$];for(let $ in JB.prototype)J[$]=JB.prototype[$];return J};/*!
 * Module dependencies.
 */var hp=v8(),JB=import.meta.require("events").EventEmitter,LP1=jw(),RP1=qp(),pJ=o0(),wP1=xK(),MP1=jK(),mp=E$().castToNumber,BP1=CH(),XB=hM(),$B=EH(),AP1=eM(),NP1=R4().internalToObjectOptions,IP1=OJ(),DP1=H1(),PP1=YB(),jH;dp.exports=X0;/*!
 * ignore
 */X0.prototype=Object.create(pJ.prototype);X0.prototype.constructor=X0;X0.prototype.OptionsConstructor=RP1;/*!
 * ignore
 */X0.prototype.$conditionalHandlers.$geoWithin=function Z(Y,J){return{$geometry:this.castForQuery(null,Y.$geometry,J)}};/*!
 * ignore
 */X0.prototype.$conditionalHandlers.$near=X0.prototype.$conditionalHandlers.$nearSphere=XB.cast$near;X0.prototype.$conditionalHandlers.$within=X0.prototype.$conditionalHandlers.$geoWithin=XB.cast$within;X0.prototype.$conditionalHandlers.$geoIntersects=XB.cast$geoIntersects;X0.prototype.$conditionalHandlers.$minDistance=mp;X0.prototype.$conditionalHandlers.$maxDistance=mp;X0.prototype.$conditionalHandlers.$exists=MP1;X0.prototype.cast=function(Z,Y,J,X,$){if(Z&&Z.$isSingleNested&&Z.parent===Y)return Z;if(Z!=null&&(typeof Z!=="object"||Array.isArray(Z)))throw new LP1(this.path,Z);const W=this.schema.path(this.schema.options.discriminatorKey),G=W==null?null:W.getDefault(Y),Q=$B(this.caster,Z,G);let K;const H=Y&&Y.$__&&Y.$__.selected,z=this.path,F=H==null?null:Object.keys(H).reduce((U,q)=>{if(q.startsWith(z+"."))U=U||{},U[q.substring(z.length+1)]=H[q];return U},null);if(J){K=new Q(void 0,F,Y,!1,{defaults:!1}),delete K.$__.defaults,K.$init(Z);const U=IP1(F);wP1(K,F,U)}else{if($=Object.assign({},$,{priorDoc:X}),Object.keys(Z).length===0)return new Q({},F,Y,void 0,$);return new Q(Z,F,Y,void 0,$)}return K};X0.prototype.castForQuery=function(Z,Y,J,X){let $;if(Z!=null){if($=this.$conditionalHandlers[Z],!$)throw new Error("Can\'t use "+Z);return $.call(this,Y)}if(Y==null)return Y;const W=$B(this.caster,Y);if(Y instanceof W)return Y;if(this.options.runSetters)Y=this._applySetters(Y,J);const G=X!=null&&X.strict!=null?X.strict:void 0;try{Y=new W(Y,G)}catch(Q){if(!(Q instanceof hp))throw new hp("Embedded",Y,this.path,Q,this);throw Q}return Y};X0.prototype.doValidate=function(Z,Y,J,X){const $=$B(this.caster,Z);if(Z&&!(Z instanceof $))Z=new $(Z,null,J!=null&&J.$__!=null?J:null);if(X&&X.skipSchemaValidators){if(!Z)return Y(null);return Z.validate().then(()=>Y(null),(W)=>Y(W))}pJ.prototype.doValidate.call(this,Z,function(W){if(W)return Y(W);if(!Z)return Y(null);Z.validate().then(()=>Y(null),(G)=>Y(G))},J,X)};X0.prototype.doValidateSync=function(Z,Y,J){if(!J||!J.skipSchemaValidators){const X=pJ.prototype.doValidateSync.call(this,Z,Y);if(X)return X}if(!Z)return;return Z.validateSync()};X0.prototype.discriminator=function(Z,Y,J){J=J||{};const X=DP1.isPOJO(J)?J.value:J,$=typeof J.clone==="boolean"?J.clone:!0;if(Y.instanceOfSchema&&$)Y=Y.clone();return Y=BP1(this.caster,Z,Y,X),this.caster.discriminators[Z]=up(Y,this.caster),this.caster.discriminators[Z]};/*!
 * ignore
 */X0.defaultOptions={};X0.set=pJ.set;X0.setters=[];X0.get=pJ.get;/*!
 * ignore
 */X0.prototype.toJSON=function Z(){return{path:this.path,options:this.options}};/*!
 * ignore
 */X0.prototype.clone=function(){const Z=new this.constructor(this.schema,this.path,{...this.options,_skipApplyDiscriminators:!0});if(Z.validators=this.validators.slice(),this.requiredValidator!==void 0)Z.requiredValidator=this.requiredValidator;return Z.caster.discriminators=Object.assign({},this.caster.discriminators),Z}});var pp=R((oe1,cp)=>{var Y5=function(Z,Y){if(this.$parentSchemaType=Y&&Y.$parentSchemaType,!this.$parentSchemaType)throw new TP1("Cannot create DocumentArrayElement schematype without a parent");delete Y.$parentSchemaType,GB.call(this,Z,Y,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0};/*!
 * Module dependencies.
 */var TP1=z0(),GB=o0(),CP1=WB(),EP1=EH();Y5.schemaName="DocumentArrayElement";Y5.defaultOptions={};/*!
 * Inherits from SchemaType.
 */Y5.prototype=Object.create(GB.prototype);Y5.prototype.constructor=Y5;Y5.prototype.cast=function(...Z){return this.$parentSchemaType.cast(...Z)[0]};Y5.prototype.doValidate=function(Z,Y,J,X){const $=EP1(this.caster,Z);if(Z&&!(Z instanceof $))Z=new $(Z,J,null,null,X&&X.index!=null?X.index:null);return CP1.prototype.doValidate.call(this,Z,Y,J,X)};Y5.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;const Z=GB.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,Z.caster=this.caster,Z.schema=this.schema,Z};/*!
 * Module exports.
 */cp.exports=Y5});var np=R((ee1,ip)=>{var jP1=k6();class OH extends jP1{}var lp=G7();Object.defineProperty(OH.prototype,"excludeIndexes",lp);Object.defineProperty(OH.prototype,"_id",lp);/*!
 * ignore
 */ip.exports=OH});var Yl=R((Z10,Zl)=>{var k0=function(Z,Y,J,X){if(Y.options&&Y.options.timeseries)throw new xP1(Z,"timeseries");const $=k0.defaultOptions&&k0.defaultOptions._id;if($!=null)X=X||{},X._id=$;if(X!=null&&X._id!=null)Y=sp(Y,X);else if(J!=null&&J._id!=null)Y=sp(Y,J);const W=ep(Y,J);W.prototype.$basePath=Z,op.call(this,Z,W,J),this.schema=Y,this.schemaOptions=X||{},this.$isMongooseDocumentArray=!0,this.Constructor=W,W.base=Y.base;const G=this.defaultValue;if(!("defaultValue"in this)||G!==void 0)this.default(function(){let K=G.call(this);if(K!=null&&!Array.isArray(K))K=[K];return K});const Q=this;if(this.$embeddedSchemaType=new OP1(Z+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:Q}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema,Y._applyDiscriminators!=null&&!J?._skipApplyDiscriminators)for(let K of Y._applyDiscriminators.keys())this.discriminator(K,Y._applyDiscriminators.get(K))},ep=function(Z,Y,J){x9||(x9=kJ());function X(){if(x9.apply(this,arguments),this.__parentArray==null||this.__parentArray.getArrayParent()==null)return;this.$session(this.__parentArray.getArrayParent().$session())}Z._preCompile();const $=J!=null?J.prototype:x9.prototype;X.prototype=Object.create($),X.prototype.$__setSchema(Z),X.schema=Z,X.prototype.constructor=X,X.$isArraySubdocument=!0,X.events=new QB,X.base=Z.base;for(let W in Z.methods)X.prototype[W]=Z.methods[W];for(let W in Z.statics)X[W]=Z.statics[W];for(let W in QB.prototype)X[W]=QB.prototype[W];return X.options=Y,X},gP1=function(Z,Y,J){if(!(J&&Y))return;const X=Z.path+".",$=Object.keys(Y);let W=$.length;const G={};let Q,K,H;while(W--)if(K=$[W],K.startsWith(X)){if(H=K.substring(X.length),H==="$")continue;if(H.startsWith("$."))H=H.substring(2);Q||(Q=!0),G[H]=Y[K]}return Q&&G||void 0};/*!
 * Module dependencies.
 */var ap=v8(),OP1=pp(),QB=import.meta.require("events").EventEmitter,op=LH(),SP1=np(),x$=o0(),kP1=CH(),sp=eM(),_P1=bK(),lJ=H1(),SH=EH(),xP1=YB(),rp=$1().arrayAtomicsSymbol,KB=$1().arrayPathSymbol,fP1=$1().documentArrayParent,J5,x9;k0.schemaName="DocumentArray";k0.options={castNonArrays:!0};/*!
 * Inherits from SchemaArray.
 */k0.prototype=Object.create(op.prototype);k0.prototype.constructor=k0;k0.prototype.OptionsConstructor=SP1;/*!
 * ignore
 */k0.prototype.discriminator=function(Z,Y,J){if(typeof Z==="function")Z=lJ.getFunctionName(Z);J=J||{};const X=lJ.isPOJO(J)?J.value:J,$=typeof J.clone==="boolean"?J.clone:!0;if(Y.instanceOfSchema&&$)Y=Y.clone();Y=kP1(this.casterConstructor,Z,Y,X);const W=ep(Y,null,this.casterConstructor);W.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(W,"name",{value:Z})}catch(G){}return this.casterConstructor.discriminators[Z]=W,this.casterConstructor.discriminators[Z]};k0.prototype.doValidate=function(Z,Y,J,X){J5||(J5=E9());const $=this;try{x$.prototype.doValidate.call(this,Z,W,J)}catch(G){return Y(G)}function W(G){if(G)return Y(G);let Q=Z&&Z.length,K;if(!Q)return Y();if(X&&X.updateValidator)return Y();if(!lJ.isMongooseDocumentArray(Z))Z=new J5(Z,$.path,J);function H(z){if(z!=null)K=z;--Q||Y(K)}for(let z=0,F=Q;z<F;++z){let U=Z[z];if(U==null){--Q||Y(K);continue}if(!(U instanceof x9)){const q=SH($.casterConstructor,Z[z]);U=Z[z]=new q(U,Z,void 0,void 0,z)}if(X!=null&&X.validateModifiedOnly&&!U.$isModified()){--Q||Y(K);continue}U.$__validate(H)}}};k0.prototype.doValidateSync=function(Z,Y,J){const X=x$.prototype.doValidateSync.call(this,Z,Y);if(X!=null)return X;const $=Z&&Z.length;let W=null;if(!$)return;for(let G=0,Q=$;G<Q;++G){let K=Z[G];if(!K)continue;if(!(K instanceof x9)){const z=SH(this.casterConstructor,Z[G]);K=Z[G]=new z(K,Z,void 0,void 0,G)}if(J!=null&&J.validateModifiedOnly&&!K.$isModified())continue;const H=K.validateSync();if(H&&W==null)W=H}return W};/*!
 * ignore
 */k0.prototype.getDefault=function(Z,Y,J){let X=typeof this.defaultValue==="function"?this.defaultValue.call(Z):this.defaultValue;if(X==null)return X;if(J&&J.skipCast)return X;if(J5||(J5=E9()),!Array.isArray(X))X=[X];X=new J5(X,this.path,Z);for(let $=0;$<X.length;++$){const G=new(SH(this.casterConstructor,X[$]))({},X,void 0,void 0,$);G.$init(X[$]),G.isNew=!0,Object.assign(G.$__.activePaths.default,G.$__.activePaths.init),G.$__.activePaths.init={},X[$]=G}return X};var yP1=Object.freeze({transform:!1,virtuals:!1}),tp=Object.freeze({skipId:!1,willInit:!0});k0.prototype.cast=function(Z,Y,J,X,$){if(J5||(J5=E9()),Z!=null&&Z[KB]!=null&&Z===X)return Z;let W,G;$=$||{};const Q=$.path||this.path;if(!Array.isArray(Z)){if(!J&&!k0.options.castNonArrays)throw new ap("DocumentArray",Z,this.path,null,this);if(!!Y&&J)Y.markModified(Q);return this.cast([Z],Y,J,X,$)}if(!$.skipDocumentArrayCast||lJ.isMongooseDocumentArray(Z))Z=new J5(Z,Q,Y);if(X!=null)Z[rp]=X[rp]||{};if($.arrayPathIndex!=null)Z[KB]=Q+"."+$.arrayPathIndex;const K=lJ.isMongooseDocumentArray(Z)?Z.__array:Z,H=K.length;for(let z=0;z<H;++z){if(!K[z])continue;const F=SH(this.casterConstructor,K[z]);if(K[z].$__!=null&&!(K[z]instanceof F)){const U=_P1(K[z],!0);if(K[z]!==U)K[z]=U;else K[z]=K[z].toObject({transform:!1,virtuals:K[z].schema===F.schema})}if(K[z]instanceof x9){if(K[z][fP1]!==Y)if(J){const U=new F(null,Z,tp,W,z);K[z]=U.$init(K[z])}else{const U=new F(K[z],Z,void 0,void 0,z);K[z]=U}if(K[z].__index==null)K[z].$setIndex(z)}else if(K[z]!=null)if(J){if(Y)W||(W=gP1(this,Y.$__.selected,J));else W=!0;G=new F(null,Z,tp,W,z),K[z]=G.$init(K[z])}else{if(X&&typeof X.id==="function")G=X.id(K[z]._id);if(X&&G&&lJ.deepEqual(G.toObject(yP1),K[z]))G.set(K[z]),K[z]=G;else try{G=new F(K[z],Z,void 0,void 0,z),K[z]=G}catch(U){throw new ap("embedded",K[z],Z[KB],U,this)}}}return Z};/*!
 * ignore
 */k0.prototype.clone=function(){const Z=Object.assign({},this.options),Y=new this.constructor(this.path,this.schema,{...Z,_skipApplyDiscriminators:!0},this.schemaOptions);if(Y.validators=this.validators.slice(),this.requiredValidator!==void 0)Y.requiredValidator=this.requiredValidator;return Y.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),Y};/*!
 * ignore
 */k0.prototype.applyGetters=function(Z,Y){return x$.prototype.applyGetters.call(this,Z,Y)};/*!
 * ignore
 */k0.defaultOptions={};k0.set=x$.set;k0.setters=[];k0.get=x$.get;/*!
 * Module exports.
 */Zl.exports=k0});var Xl=R((Y10,Jl)=>{var bP1=k6();class HB extends bP1{}var vP1=G7();Object.defineProperty(HB.prototype,"of",vP1);Jl.exports=HB});var Gl=R((J10,Wl)=>{/*!
 * ignore
 */var zB=WH(),hP1=Xl(),$l=o0();/*!
 * ignore
 */class f$ extends $l{constructor(Z,Y){super(Z,Y,"Map");this.$isSchemaMap=!0}set(Z,Y){return $l.set(Z,Y)}cast(Z,Y,J){if(Z instanceof zB)return Z;const X=this.path;if(J){const $=new zB({},X,Y,this.$__schemaType);if(Z instanceof global.Map)for(let W of Z.keys()){let G=Z.get(W);if(G==null)G=$.$__schemaType._castNullish(G);else G=$.$__schemaType.cast(G,Y,!0,null,{path:X+"."+W});$.$init(W,G)}else for(let W of Object.keys(Z)){let G=Z[W];if(G==null)G=$.$__schemaType._castNullish(G);else G=$.$__schemaType.cast(G,Y,!0,null,{path:X+"."+W});$.$init(W,G)}return $}return new zB(Z,X,Y,this.$__schemaType)}clone(){const Z=super.clone();if(this.$__schemaType!=null)Z.$__schemaType=this.$__schemaType.clone();return Z}}f$.schemaName="Map";f$.prototype.OptionsConstructor=hP1;f$.defaultOptions={};Wl.exports=f$});var Hl=R((X10,Kl)=>{var mP1=k6();class kH extends mP1{}var Ql=G7();Object.defineProperty(kH.prototype,"auto",Ql);Object.defineProperty(kH.prototype,"populate",Ql);/*!
 * ignore
 */Kl.exports=kH});var Ul=R(($10,Fl)=>{var _0=function(Z,Y){const J=typeof Z==="string"&&Z.length===24&&/^[a-f0-9]+$/i.test(Z),X=Y&&Y.suppressWarning;if((J||typeof Z==="undefined")&&!X)VB.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you\'re trying to create a hex char path in your schema.");X5.call(this,Z,Y,"ObjectId")},_H=function(Z){return this.cast(Z)},zl=function(){return new UB},lP1=function(Z){if(FB||(FB=K6()),this instanceof FB){if(Z===void 0)return new UB}return Z};/*!
 * Module dependencies.
 */var uP1=Hl(),X5=o0(),dP1=iw(),cP1=G6(),UB=x4(),qB=t8(),VB=H1(),pP1=X5.CastError,FB;_0.schemaName="ObjectId";_0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */_0.prototype=Object.create(X5.prototype);_0.prototype.constructor=_0;_0.prototype.OptionsConstructor=uP1;_0.get=X5.get;_0.set=X5.set;_0.setters=[];_0.prototype.auto=function(Z){if(Z)this.default(zl),this.set(lP1);return this};/*!
 * ignore
 */_0._checkRequired=(Z)=>qB(Z,"ObjectId");/*!
 * ignore
 */_0._cast=dP1;_0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */_0._defaultCaster=(Z)=>{if(!qB(Z,"ObjectId"))throw new Error(Z+" is not an instance of ObjectId");return Z};_0.checkRequired=X5.checkRequired;_0.prototype.checkRequired=function Z(Y,J){if(X5._isRef(this,Y,J,!0))return!!Y;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():_0.checkRequired())(Y)};_0.prototype.cast=function(Z,Y,J){if(!qB(Z,"ObjectId")&&X5._isRef(this,Z,Y,J)){if((cP1(Z)||"").toLowerCase()==="objectid")return new UB(Z.toHexString());if(Z==null||VB.isNonBuiltinObject(Z))return this._castRef(Z,Y,J)}let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=_0.cast();try{return X(Z)}catch($){throw new pP1("ObjectId",Z,this.path,$,this)}};/*!
 * ignore
 */_0.prototype.$conditionalHandlers=VB.options(X5.prototype.$conditionalHandlers,{$gt:_H,$gte:_H,$lt:_H,$lte:_H});/*!
 * ignore
 */zl.$runBeforeSetters=!0;/*!
 * Module exports.
 */Fl.exports=_0});var Vl=R((W10,ql)=>{var iP1=k6();class z7 extends iP1{}var B4=G7();Object.defineProperty(z7.prototype,"enum",B4);Object.defineProperty(z7.prototype,"match",B4);Object.defineProperty(z7.prototype,"lowercase",B4);Object.defineProperty(z7.prototype,"trim",B4);Object.defineProperty(z7.prototype,"uppercase",B4);Object.defineProperty(z7.prototype,"minLength",B4);Object.defineProperty(z7.prototype,"minlength",B4);Object.defineProperty(z7.prototype,"maxLength",B4);Object.defineProperty(z7.prototype,"maxlength",B4);Object.defineProperty(z7.prototype,"populate",B4);/*!
 * ignore
 */ql.exports=z7});var wl=R((G10,Rl)=>{var d1=function(Z,Y){this.enumValues=[],this.regExp=null,$5.call(this,Z,Y,"String")},y$=function(Z,Y){return this.castForQuery(null,Z,Y)},tP1=function(Z,Y){const J=this;if(!Array.isArray(Z))return[this.castForQuery(null,Z,Y)];return Z.map(function(X){return J.castForQuery(null,X,Y)})},Ll=function(Z){if(Z==null)return this._castNullish(Z);return this.cast(Z,this)};/*!
 * Module dependencies.
 */var $5=o0(),g$=e1(),nP1=Vl(),aP1=kM(),LB=H1(),sP1=t8(),rP1=$5.CastError;d1.schemaName="String";d1.defaultOptions={};/*!
 * Inherits from SchemaType.
 */d1.prototype=Object.create($5.prototype);d1.prototype.constructor=d1;Object.defineProperty(d1.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:nP1});/*!
 * ignore
 */d1._cast=aP1;d1.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */d1._defaultCaster=(Z)=>{if(Z!=null&&typeof Z!=="string")throw new Error;return Z};d1.get=$5.get;d1.set=$5.set;d1.setters=[];/*!
 * ignore
 */d1._checkRequired=(Z)=>(Z instanceof String||typeof Z==="string")&&Z.length;d1.checkRequired=$5.checkRequired;d1.prototype.enum=function(){if(this.enumValidator)this.validators=this.validators.filter(function(X){return X.validator!==this.enumValidator},this),this.enumValidator=!1;if(arguments[0]===void 0||arguments[0]===!1)return this;let Z,Y;if(LB.isObject(arguments[0]))if(Array.isArray(arguments[0].values))Z=arguments[0].values,Y=arguments[0].message;else Z=LB.object.vals(arguments[0]),Y=g$.messages.String.enum;else Z=arguments,Y=g$.messages.String.enum;for(let X of Z)if(X!==void 0)this.enumValues.push(this.cast(X));const J=this.enumValues;return this.enumValidator=function(X){return X==null||~J.indexOf(X)},this.validators.push({validator:this.enumValidator,message:Y,type:"enum",enumValues:J}),this};d1.prototype.lowercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.toLowerCase();return Y})};d1.prototype.uppercase=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.toUpperCase();return Y})};d1.prototype.trim=function(Z){if(arguments.length>0&&!Z)return this;return this.set((Y)=>{if(typeof Y!=="string")Y=this.cast(Y);if(Y)return Y.trim();return Y})};d1.prototype.minlength=function(Z,Y){if(this.minlengthValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.minlengthValidator},this);if(Z!==null&&Z!==void 0){let J=Y||g$.messages.String.minlength;J=J.replace(/{MINLENGTH}/,Z),this.validators.push({validator:this.minlengthValidator=function(X){return X===null||X.length>=Z},message:J,type:"minlength",minlength:Z})}return this};d1.prototype.minLength=d1.prototype.minlength;d1.prototype.maxlength=function(Z,Y){if(this.maxlengthValidator)this.validators=this.validators.filter(function(J){return J.validator!==this.maxlengthValidator},this);if(Z!==null&&Z!==void 0){let J=Y||g$.messages.String.maxlength;J=J.replace(/{MAXLENGTH}/,Z),this.validators.push({validator:this.maxlengthValidator=function(X){return X===null||X.length<=Z},message:J,type:"maxlength",maxlength:Z})}return this};d1.prototype.maxLength=d1.prototype.maxlength;d1.prototype.match=function Z(Y,J){const X=J||g$.messages.String.match,$=function(W){if(!Y)return!1;return Y.lastIndex=0,W!=null&&W!==""?Y.test(W):!0};return this.validators.push({validator:$,message:X,type:"regexp",regexp:Y}),this};d1.prototype.checkRequired=function Z(Y,J){if(typeof Y==="object"&&$5._isRef(this,Y,J,!0))return Y!=null;return(typeof this.constructor.checkRequired==="function"?this.constructor.checkRequired():d1.checkRequired())(Y)};d1.prototype.cast=function(Z,Y,J){if(typeof Z!=="string"&&$5._isRef(this,Z,Y,J))return this._castRef(Z,Y,J);let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=d1.cast();try{return X(Z)}catch($){throw new rP1("string",Z,this.path,null,this)}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */var oP1=LB.options($5.prototype.$conditionalHandlers,{$all:tP1,$gt:y$,$gte:y$,$lt:y$,$lte:y$,$options:Ll,$regex:function Z(Y){if(Object.prototype.toString.call(Y)==="[object RegExp]")return Y;return Ll.call(this,Y)},$not:y$});Object.defineProperty(d1.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(oP1)});d1.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with String.");return X.call(this,Y,J)}if(Object.prototype.toString.call(Y)==="[object RegExp]"||sP1(Y,"BSONRegExp"))return Y;return this.applySetters(Y,J)};/*!
 * Module exports.
 */Rl.exports=d1});var Il=R((Q10,Nl)=>{var ZT1=function(Z){return Z!=null&&Buffer.from(Z,"hex")},YT1=function(Z){return Z!=null&&Z.toString("hex")},Ml=function(Z){if(typeof Z!=="string")Z="";const Y=Z.replace(/[{}-]/g,""),J=ZT1(Y),X=new BB(J);return X._subtype=4,X},Al=function(Z){let Y;if(typeof Z!=="string"&&Z!=null)return Y=YT1(Z),Y.substring(0,8)+"-"+Y.substring(8,12)+"-"+Y.substring(12,16)+"-"+Y.substring(16,20)+"-"+Y.substring(20,32);return Z},x0=function(Z,Y){HZ.call(this,Z,Y,"UUID"),this.getters.push(function(J){if(J!=null&&J.$__!=null)return J;return Al(J)})},b$=function(Z){return this.cast(Z)},RB=function(Z){return Z.map((Y)=>{return this.cast(Y)})};/*!
 * Module dependencies.
 */var BB=I$(),HZ=o0(),wB=HZ.CastError,Bl=H1(),xH=zH(),MB=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,eP1=BB.Binary;x0.schemaName="UUID";x0.defaultOptions={};/*!
 * Inherits from SchemaType.
 */x0.prototype=Object.create(HZ.prototype);x0.prototype.constructor=x0;/*!
 * ignore
 */x0._cast=function(Z){if(Z==null)return Z;function Y(J){const X=new BB(J);return X._subtype=4,X}if(typeof Z==="string")if(MB.test(Z))return Ml(Z);else throw new wB(x0.schemaName,Z,this.path);if(Buffer.isBuffer(Z))return Y(Z);if(Z instanceof eP1)return Y(Z.value(!0));if(Z.toString&&Z.toString!==Object.prototype.toString){if(MB.test(Z.toString()))return Ml(Z.toString())}throw new wB(x0.schemaName,Z,this.path)};x0.get=HZ.get;x0.set=HZ.set;x0.setters=[];x0.cast=function Z(Y){if(arguments.length===0)return this._cast;if(Y===!1)Y=this._defaultCaster;return this._cast=Y,this._cast};/*!
 * ignore
 */x0._checkRequired=(Z)=>Z!=null;x0.checkRequired=HZ.checkRequired;x0.prototype.checkRequired=function Z(Y){if(Buffer.isBuffer(Y))Y=Al(Y);return Y!=null&&MB.test(Y)};x0.prototype.cast=function(Z,Y,J){if(Bl.isNonBuiltinObject(Z)&&HZ._isRef(this,Z,Y,J))return this._castRef(Z,Y,J);let X;if(typeof this._castFunction==="function")X=this._castFunction;else if(typeof this.constructor.cast==="function")X=this.constructor.cast();else X=x0.cast();try{return X(Z)}catch($){throw new wB(x0.schemaName,Z,this.path,$,this)}};/*!
 * ignore
 *//*!
 * ignore
 */x0.prototype.$conditionalHandlers=Bl.options(HZ.prototype.$conditionalHandlers,{$bitsAllClear:xH,$bitsAnyClear:xH,$bitsAllSet:xH,$bitsAnySet:xH,$all:RB,$gt:b$,$gte:b$,$in:RB,$lt:b$,$lte:b$,$ne:b$,$nin:RB});x0.prototype.castForQuery=function(Z,Y,J){let X;if(Z!=null){if(X=this.$conditionalHandlers[Z],!X)throw new Error("Can\'t use "+Z+" with UUID.");return X.call(this,Y,J)}else return this.cast(Y)};/*!
 * Module exports.
 */Nl.exports=x0});var C$=R((JT1)=>{/*!
 * Module exports.
 */JT1.Array=LH();JT1.BigInt=lc();JT1.Boolean=nc();JT1.Buffer=ec();JT1.Date=Qp();JT1.Decimal128=JT1.Decimal=Fp();JT1.DocumentArray=Yl();JT1.Map=Gl();JT1.Mixed=T9();JT1.Number=gM();JT1.ObjectId=Ul();JT1.String=wl();JT1.Subdocument=WB();JT1.UUID=Il();JT1.Oid=JT1.ObjectId;JT1.Object=JT1.Mixed;JT1.Bool=JT1.Boolean;JT1.ObjectID=JT1.ObjectId});var xJ=R((CB,yl)=>{var Z1=function(Z,Y){if(!(this instanceof Z1))return new Z1(Z,Y);if(this.obj=Z,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods=Y&&Y.methods||{},this.methodOptions={},this.statics=Y&&Y.statics||{},this.tree={},this.query=Y&&Y.query||{},this.childSchemas=[],this.plugins=[],this.$id=++Sl,this.mapPaths=[],this.s={hooks:new BT1},this.options=this.defaultOptions(Y),Array.isArray(Z))for(let $ of Z)this.add($);else if(Z)this.add(Z);if(Y&&Y.virtuals){const $=Y.virtuals,W=Object.keys($);for(let G of W){const Q=$[G].options?$[G].options:void 0,K=this.virtual(G,Q);if($[G].get)K.get($[G].get);if($[G].set)K.set($[G].set)}}const J=Z&&Z._id&&$0.isObject(Z._id);if(!this.paths._id&&this.options._id&&!J)El(this);this.setupTimestamp(this.options.timestamps)},kl=function(Z,Y){for(let J of Object.keys(Y)){let X=null;if(Y[J]!=null)X=Y[J];else{const W=jl(Z.paths[J],"options");if(W==null)continue;X=W.alias}if(!X)continue;const $=Z.paths[J].path;if(Array.isArray(X)){for(let W of X){if(typeof W!=="string")throw new Error("Invalid value for alias option on "+$+", got "+W);Z.aliases[W]=$,Z.virtual(W).get(function(G){return function(){if(typeof this.get==="function")return this.get(G);return this[G]}}($)).set(function(G){return function(Q){return this.$set(G,Q)}}($))}continue}if(typeof X!=="string")throw new Error("Invalid value for alias option on "+$+", got "+X);Z.aliases[X]=$,Z.virtual(X).get(function(W){return function(){if(typeof this.get==="function")return this.get(W);return this[W]}}($)).set(function(W){return function(G){return this.$set(W,G)}}($))}},kT1=function(Z){const Y=[];for(let J of Object.keys(Z.paths)){const X=Z.paths[J];if(X.$isMongooseDocumentArray||X.$isSingleNested)Y.push({schema:X.schema,model:X.caster})}return Y},_T1=function(Z,Y,J){if(Z.paths.hasOwnProperty(Y))return Z.paths[Y];if(Z.subpaths.hasOwnProperty(J))return Z.subpaths[J];if(Z.singleNestedPaths.hasOwnProperty(J)&&typeof Z.singleNestedPaths[J]==="object")return Z.singleNestedPaths[J];return null},_l=function(Z){if(!/\.\d+/.test(Z))return Z;return Z.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$")},xl=function(Z,Y){if(Z.mapPaths.length===0)return null;for(let J of Z.mapPaths){const X=J.path;if(new RegExp("^"+X.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(Y))return Z.paths[X]}return null},xT1=function(Z,Y,J,X,$){const W=J+".$*";let G={type:{}};if($0.hasUserDefinedProperty(X,"of")){if($0.isPOJO(X.of)&&Object.keys(X.of).length>0&&!$0.hasUserDefinedProperty(X.of,Z.options.typeKey))G={[Z.options.typeKey]:new Z1(X.of)};else if($0.isPOJO(X.of))G=Object.assign({},X.of);else G={[Z.options.typeKey]:X.of};if(G[Z.options.typeKey]&&G[Z.options.typeKey].instanceOfSchema)G[Z.options.typeKey].eachPath((H,z)=>{if(z.options.select===!0||z.options.select===!1)throw new f9('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+J+"."+H+'"')});if($0.hasUserDefinedProperty(X,"ref"))G.ref=X.ref}Y.$__schemaType=Z.interpretAsType(W,G,$)},fl=function(Z,Y,J){const X=Y.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(X.length<2)return Z.paths.hasOwnProperty(X[0])?Z.paths[X[0]]:"adhocOrUndefined";let $=Z.path(X[0]),W=!1;if(!$)return"adhocOrUndefined";const G=X.length-1;for(let Q=1;Q<X.length;++Q){W=!1;const K=X[Q];if(Q===G&&$&&!/\D/.test(K)){if($.$isMongooseDocumentArray)$=$.$embeddedSchemaType;else if($ instanceof zZ.Array)$=$.caster;else $=void 0;break}if(!/\D/.test(K)){if($ instanceof zZ.Array&&Q!==G)$=$.caster;continue}if(!($&&$.schema)){$=void 0;break}W=$.schema.pathType(K)==="nested",$=$.schema.path(K)}if(Z.subpaths[J]=$,$)return"real";if(W)return"nested";return"adhocOrUndefined"},fT1=function(Z,Y,J){return fl(Z,Y,J),Z.subpaths[J]},PB=function(Z,Y){for(let{schema:J}of Z.childSchemas){if(!J.$implicitlyCreated)continue;Object.assign(J.options,Y),PB(J,Y)}},IB=function(Z,Y){const J=Y.split("."),X=J.pop();let $=Z.tree;for(let W of J)$=$[W];delete $[X]},TB=function(Z){return Z.startsWith("$[")&&Z.endsWith("]")};/*!
 * Module dependencies.
 */var MT1=import.meta.require("events").EventEmitter,BT1=AJ(),f9=z0(),Tl=o0(),Cl=k6(),AT1=Sd(),DB=RM(),El=wM(),h8=N0(),jl=V0(),NT1=G6(),IT1=yd(),yH=AM(),DT1=vd(),PT1=kK(),fH=g7(),TT1=ad(),$0=H1(),CT1=rd(),ET1=import.meta.require("util"),zZ,jT1=XH().middlewareFunctions,OT1=$H().middlewareFunctions,Ol=jT1.concat(OT1).reduce((Z,Y)=>Z.add(Y),new Set),NB=$0.isPOJO,Sl=0,ST1=/^\d+$/;/*!
 * Inherit from EventEmitter.
 */Z1.prototype=Object.create(MT1.prototype);Z1.prototype.constructor=Z1;Z1.prototype.instanceOfSchema=!0;/*!
 * ignore
 */Object.defineProperty(Z1.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0});Object.defineProperty(Z1.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(Z1.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0});Z1.prototype.obj;Z1.prototype.paths;Z1.prototype.tree;Z1.prototype.clone=function(){const Z=this._clone();return Z.on("init",(Y)=>this.emit("init",Y)),Z};/*!
 * ignore
 */Z1.prototype._clone=function Z(Y){Y=Y||(this.base==null?Z1:this.base.Schema);const J=new Y({},this._userProvidedOptions);J.base=this.base,J.obj=this.obj,J.options=h8(this.options),J.callQueue=this.callQueue.map(function(X){return X}),J.methods=h8(this.methods),J.methodOptions=h8(this.methodOptions),J.statics=h8(this.statics),J.query=h8(this.query),J.plugins=Array.prototype.slice.call(this.plugins),J._indexes=h8(this._indexes),J.s.hooks=this.s.hooks.clone(),J.tree=h8(this.tree),J.paths=Object.fromEntries(Object.entries(this.paths).map(([X,$])=>[X,$.clone()])),J.nested=h8(this.nested),J.subpaths=h8(this.subpaths);for(let X of Object.values(J.paths))if(X.$isSingleNested){const $=X.path;for(let W of Object.keys(X.schema.paths))J.singleNestedPaths[$+"."+W]=X.schema.paths[W];for(let W of Object.keys(X.schema.singleNestedPaths))J.singleNestedPaths[$+"."+W]=X.schema.singleNestedPaths[W];for(let W of Object.keys(X.schema.subpaths))J.singleNestedPaths[$+"."+W]=X.schema.subpaths[W];for(let W of Object.keys(X.schema.nested))J.singleNestedPaths[$+"."+W]="nested"}if(J.childSchemas=kT1(J),J.virtuals=h8(this.virtuals),J.$globalPluginsApplied=this.$globalPluginsApplied,J.$isRootDiscriminator=this.$isRootDiscriminator,J.$implicitlyCreated=this.$implicitlyCreated,J.$id=++Sl,J.$originalSchemaId=this.$id,J.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null)J.discriminatorMapping=Object.assign({},this.discriminatorMapping);if(this.discriminators!=null)J.discriminators=Object.assign({},this.discriminators);if(this._applyDiscriminators!=null)J._applyDiscriminators=new Map(this._applyDiscriminators);return J.aliases=Object.assign({},this.aliases),J};Z1.prototype.pick=function(Z,Y){const J=new Z1({},Y||this.options);if(!Array.isArray(Z))throw new f9('Schema#pick() only accepts an array argument, got "'+typeof Z+'"');for(let X of Z)if(this.nested[X])J.add({[X]:jl(this.tree,X)});else{const $=this.path(X);if($==null)throw new f9("Path `"+X+"` is not in the schema");J.add({[X]:$})}return J};Z1.prototype.omit=function(Z,Y){const J=new Z1(this,Y||this.options);if(!Array.isArray(Z))throw new f9('Schema#omit() only accepts an array argument, got "'+typeof Z+'"');J.remove(Z);for(let X in J.singleNestedPaths)if(Z.includes(X))delete J.singleNestedPaths[X];return J};Z1.prototype.defaultOptions=function(Z){this._userProvidedOptions=Z==null?{}:h8(Z);const Y=this.base&&this.base.options||{},J="strict"in Y?Y.strict:!0,X="strictQuery"in Y?Y.strictQuery:!1,$="id"in Y?Y.id:!0;if(Z=$0.options({strict:J,strictQuery:X,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:$,typeKey:"type"},h8(Z)),Z.versionKey&&typeof Z.versionKey!=="string")throw new f9("`versionKey` must be falsy or string, got `"+typeof Z.versionKey+"`");if(typeof Z.read==="string")Z.read=yH(Z.read);else if(Array.isArray(Z.read)&&typeof Z.read[0]==="string")Z.read={mode:yH(Z.read[0]),tags:Z.read[1]};if(Z.optimisticConcurrency&&!Z.versionKey)throw new f9("Must set `versionKey` if using `optimisticConcurrency`");return Z};Z1.prototype.discriminator=function(Z,Y){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(Z,Y),this};Z1.prototype.add=function Z(Y,J){if(Y instanceof Z1||Y!=null&&Y.instanceOfSchema)return PT1(this,Y),this;if(Y._id===!1&&J==null)this.options._id=!1;if(J=J||"",J==="__proto__."||J==="constructor."||J==="prototype.")return this;const X=Object.keys(Y),$=this.options.typeKey;for(let G of X){if($0.specialProperties.has(G))continue;const Q=J+G,K=Y[G];if(K==null)throw new TypeError("Invalid value for schema path `"+Q+'`, got value "'+K+'"');if(G==="_id"&&K===!1)continue;let H=!1;if(typeof K==="string"){const z=this.base!=null?this.base.Schema.Types:Z1.Types,F=K.charAt(0).toUpperCase()+K.substring(1);H=z[F]!=null}if(G!=="_id"&&(typeof K!=="object"&&typeof K!=="function"&&!H||K==null))throw new TypeError(`Invalid schema configuration: \`${K}\` is not `+`a valid type at path \`${G}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(K instanceof DB||(K.constructor&&K.constructor.name||null)==="VirtualType"){this.virtual(K);continue}if(Array.isArray(K)&&K.length===1&&K[0]==null)throw new TypeError("Invalid value for schema Array path `"+Q+'`, got value "'+K[0]+'"');if(!(NB(K)||K instanceof Cl)){if(J)this.nested[J.substring(0,J.length-1)]=!0;if(this.path(J+G,K),K[0]!=null&&!K[0].instanceOfSchema&&$0.isPOJO(K[0].discriminators)){const z=this.path(J+G);for(let F in K[0].discriminators)z.discriminator(F,K[0].discriminators[F])}}else if(Object.keys(K).length<1){if(J)this.nested[J.substring(0,J.length-1)]=!0;this.path(Q,K)}else if(!K[$]||$==="type"&&NB(K.type)&&K.type.type)this.nested[Q]=!0,this.add(K,Q+".");else{const z=K[$];if(NB(z)&&Object.keys(z).length>0){if(J)this.nested[J.substring(0,J.length-1)]=!0;const F={};if(this._userProvidedOptions.typeKey)F.typeKey=this._userProvidedOptions.typeKey;if(this._userProvidedOptions.strict!=null)F.strict=this._userProvidedOptions.strict;if(this._userProvidedOptions.toObject!=null)F.toObject=$0.omit(this._userProvidedOptions.toObject,["transform"]);if(this._userProvidedOptions.toJSON!=null)F.toJSON=$0.omit(this._userProvidedOptions.toJSON,["transform"]);const U=new Z1(z,F);U.$implicitlyCreated=!0;const q=Object.assign({},K,{[$]:U});this.path(J+G,q)}else{if(J)this.nested[J.substring(0,J.length-1)]=!0;if(this.path(J+G,K),K!=null&&!K.instanceOfSchema&&$0.isPOJO(K.discriminators)){const F=this.path(J+G);for(let U in K.discriminators)F.discriminator(U,K.discriminators[U])}}}}const W=Object.fromEntries(Object.entries(Y).map(([G])=>[J+G,null]));return kl(this,W),this};Z1.prototype.alias=function Y(Z,Y){return kl(this,{[Z]:Y}),this};Z1.prototype.removeIndex=function Z(Y){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(typeof Y!=="object"&&typeof Y!=="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(typeof Y==="object"){for(let J=this._indexes.length-1;J>=0;--J)if(ET1.isDeepStrictEqual(this._indexes[J][0],Y))this._indexes.splice(J,1)}else for(let J=this._indexes.length-1;J>=0;--J)if(this._indexes[J][1]!=null&&this._indexes[J][1].name===Y)this._indexes.splice(J,1);return this};Z1.prototype.clearIndexes=function Z(){return this._indexes.length=0,this};Z1.reserved=Object.create(null);Z1.prototype.reserved=Z1.reserved;var U8=Z1.reserved;U8.prototype=U8.emit=U8.listeners=U8.removeListener=U8.collection=U8.errors=U8.get=U8.init=U8.isModified=U8.isNew=U8.populated=U8.remove=U8.save=U8.toObject=U8.validate=1;U8.collection=1;Z1.prototype.path=function(Z,Y){if(Y===void 0){const K=_l(Z);let H=_T1(this,Z,K);if(H!=null)return H;const z=xl(this,Z);if(z!=null)return z;if(H=this.hasMixedParent(K),H!=null)return H;return/\.\d+\.?.*$/.test(Z)?fT1(this,Z,K):void 0}const J=Z.split(".")[0];if(U8[J]&&!this.options.suppressReservedKeysWarning){const K=`\`${J}\` is a reserved schema pathname and may break some functionality. `+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";$0.warn(K)}if(typeof Y==="object"&&$0.hasUserDefinedProperty(Y,"ref"))CT1(Y.ref,Z);const X=Z.split(/\./),$=X.pop();let W=this.tree,G="";for(let K of X){if($0.specialProperties.has(K))throw new Error("Cannot set special property `"+K+"` on a schema");if(G=G+=(G.length>0?".":"")+K,!W[K])this.nested[G]=!0,W[K]={};if(typeof W[K]!=="object"){const H="Cannot set nested path `"+Z+"`. Parent path `"+G+"` already set to type "+W[K].name+".";throw new Error(H)}W=W[K]}W[$]=h8(Y),this.paths[Z]=this.interpretAsType(Z,Y,this.options);const Q=this.paths[Z];if(Q.$isSchemaMap){const K=Z+".$*";this.paths[K]=Q.$__schemaType,this.mapPaths.push(this.paths[K])}if(Q.$isSingleNested){for(let K of Object.keys(Q.schema.paths))this.singleNestedPaths[Z+"."+K]=Q.schema.paths[K];for(let K of Object.keys(Q.schema.singleNestedPaths))this.singleNestedPaths[Z+"."+K]=Q.schema.singleNestedPaths[K];for(let K of Object.keys(Q.schema.subpaths))this.singleNestedPaths[Z+"."+K]=Q.schema.subpaths[K];for(let K of Object.keys(Q.schema.nested))this.singleNestedPaths[Z+"."+K]="nested";Object.defineProperty(Q.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Q.caster.base=this.base,this.childSchemas.push({schema:Q.schema,model:Q.caster})}else if(Q.$isMongooseDocumentArray)Object.defineProperty(Q.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Q.casterConstructor.base=this.base,this.childSchemas.push({schema:Q.schema,model:Q.casterConstructor});if(Q.$isMongooseArray&&Q.caster instanceof Tl){let K=Z,H=Q;const z=[];while(H.$isMongooseArray){if(K=K+".$",H.$isMongooseDocumentArray)H.$embeddedSchemaType._arrayPath=K,H.$embeddedSchemaType._arrayParentPath=Z,H=H.$embeddedSchemaType.clone();else H.caster._arrayPath=K,H.caster._arrayParentPath=Z,H=H.caster.clone();H.path=K,z.push(H)}for(let F of z)this.subpaths[F.path]=F}if(Q.$isMongooseDocumentArray){for(let K of Object.keys(Q.schema.paths)){const H=Q.schema.paths[K];if(this.subpaths[Z+"."+K]=H,typeof H==="object"&&H!=null&&H.$parentSchemaDocArray==null)H.$parentSchemaDocArray=Q}for(let K of Object.keys(Q.schema.subpaths)){const H=Q.schema.subpaths[K];if(this.subpaths[Z+"."+K]=H,typeof H==="object"&&H!=null&&H.$parentSchemaDocArray==null)H.$parentSchemaDocArray=Q}for(let K of Object.keys(Q.schema.singleNestedPaths)){const H=Q.schema.singleNestedPaths[K];if(this.subpaths[Z+"."+K]=H,typeof H==="object"&&H!=null&&H.$parentSchemaDocArray==null)H.$parentSchemaDocArray=Q}}return this};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */Object.defineProperty(Z1.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null});Z1.prototype.interpretAsType=function(Z,Y,J){if(Y instanceof Tl){if(Y.path===Z)return Y;const K=Y.clone();return K.path=Z,K}const X=this.base!=null?this.base.Schema.Types:Z1.Types,$=this.base!=null?this.base.Types:gJ();if(!$0.isPOJO(Y)&&!(Y instanceof Cl)){if($0.getFunctionName(Y.constructor)!=="Object"){const H=Y;Y={},Y[J.typeKey]=H}}let W=Y[J.typeKey]&&(Y[J.typeKey]instanceof Function||J.typeKey!=="type"||!Y.type.type)?Y[J.typeKey]:{},G;if($0.isPOJO(W)||W==="mixed")return new X.Mixed(Z,Y);if(Array.isArray(W)||W===Array||W==="array"||W===X.Array){let K=W===Array||W==="array"?Y.cast||Y.of:W[0];if(K&&K.instanceOfSchema){if(!(K instanceof Z1))if(this.options._isMerging)K=new Z1(K);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new X.DocumentArray(Z,K,Y)}if(K&&K[J.typeKey]&&K[J.typeKey].instanceOfSchema){if(!(K[J.typeKey]instanceof Z1))if(this.options._isMerging)K[J.typeKey]=new Z1(K[J.typeKey]);else throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you\'re using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+`${Z}: new Schema(...)`);return new X.DocumentArray(Z,K[J.typeKey],Y,K)}if(Array.isArray(K))return new X.Array(Z,this.interpretAsType(Z,K,J),Y);const H=K!=null&&K[J.typeKey]&&(J.typeKey!=="type"||!K.type.type)?K[J.typeKey]:K;if(typeof K==="string")K=X[K.charAt(0).toUpperCase()+K.substring(1)];else if($0.isPOJO(H))if(Object.keys(H).length){const z={minimize:J.minimize};if(J.typeKey)z.typeKey=J.typeKey;if(J.hasOwnProperty("strict"))z.strict=J.strict;if(J.hasOwnProperty("strictQuery"))z.strictQuery=J.strictQuery;if(J.hasOwnProperty("toObject"))z.toObject=$0.omit(J.toObject,["transform"]);if(J.hasOwnProperty("toJSON"))z.toJSON=$0.omit(J.toJSON,["transform"]);if(this._userProvidedOptions.hasOwnProperty("_id"))z._id=this._userProvidedOptions._id;else if(Z1.Types.DocumentArray.defaultOptions._id!=null)z._id=Z1.Types.DocumentArray.defaultOptions._id;const F=new Z1(H,z);return F.$implicitlyCreated=!0,new X.DocumentArray(Z,F,Y)}else return new X.Array(Z,X.Mixed,Y);if(K){if(W=K[J.typeKey]&&(J.typeKey!=="type"||!K.type.type)?K[J.typeKey]:K,Array.isArray(W))return new X.Array(Z,this.interpretAsType(Z,W,J),Y);if(G=typeof W==="string"?W:W.schemaName||$0.getFunctionName(W),G==="ClockDate")G="Date";if(G===void 0)throw new TypeError("Invalid schema configuration: "+`Could not determine the embedded type for array \`${Z}\`. `+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!X.hasOwnProperty(G))throw new TypeError("Invalid schema configuration: "+`\`${G}\` is not a valid type within the array \`${Z}\`.`+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new X.Array(Z,K||X.Mixed,Y,J)}if(W&&W.instanceOfSchema)return new X.Subdocument(W,Z,Y);if(Buffer.isBuffer(W))G="Buffer";else if(typeof W==="function"||typeof W==="object")G=W.schemaName||$0.getFunctionName(W);else if(W===$.ObjectId)G="ObjectId";else if(W===$.Decimal128)G="Decimal128";else G=W==null?""+W:W.toString();if(G)G=G.charAt(0).toUpperCase()+G.substring(1);if(G==="ObjectID")G="ObjectId";if(G==="ClockDate")G="Date";if(G===void 0)throw new TypeError(`Invalid schema configuration: \`${Z}\` schematype definition is `+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(X[G]==null)throw new TypeError(`Invalid schema configuration: \`${G}\` is not `+`a valid type at path \`${Z}\`. See `+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");const Q=new X[G](Z,Y);if(Q.$isSchemaMap)xT1(this,Q,Z,Y,J);return Q};/*!
 * ignore
 */Z1.prototype.eachPath=function(Z){const Y=Object.keys(this.paths),J=Y.length;for(let X=0;X<J;++X)Z(Y[X],this.paths[Y[X]]);return this};Z1.prototype.requiredPaths=function Z(Y){if(this._requiredpaths&&!Y)return this._requiredpaths;const J=Object.keys(this.paths);let X=J.length;const $=[];while(X--){const W=J[X];if(this.paths[W].isRequired)$.push(W)}return this._requiredpaths=$,this._requiredpaths};Z1.prototype.indexedPaths=function Z(){if(this._indexedpaths)return this._indexedpaths;return this._indexedpaths=this.indexes(),this._indexedpaths};Z1.prototype.pathType=function(Z){if(this.paths.hasOwnProperty(Z))return"real";if(this.virtuals.hasOwnProperty(Z))return"virtual";if(this.nested.hasOwnProperty(Z))return"nested";const Y=_l(Z);if(this.subpaths.hasOwnProperty(Y)||this.subpaths.hasOwnProperty(Z))return"real";const J=this.singleNestedPaths.hasOwnProperty(Y)||this.singleNestedPaths.hasOwnProperty(Z);if(J)return J==="nested"?"nested":"real";if(xl(this,Z)!=null)return"real";if(/\.\d+\.|\.\d+$/.test(Z))return fl(this,Z,Y);return"adhocOrUndefined"};Z1.prototype.hasMixedParent=function(Z){const Y=Z.split(/\./g);Z="";for(let J=0;J<Y.length;++J)if(Z=J>0?Z+"."+Y[J]:Y[J],this.paths.hasOwnProperty(Z)&&this.paths[Z]instanceof zZ.Mixed)return this.paths[Z];return null};Z1.prototype.setupTimestamp=function(Z){return TT1(this,Z)};/*!
 * ignore
 */Z1.prototype.queue=function(Z,Y){return this.callQueue.push([Z,Y]),this};Z1.prototype.pre=function(Z){if(Z instanceof RegExp){const Y=Array.prototype.slice.call(arguments,1);for(let J of Ol)if(Z.test(J))this.pre.apply(this,[J].concat(Y));return this}if(Array.isArray(Z)){const Y=Array.prototype.slice.call(arguments,1);for(let J of Z)this.pre.apply(this,[J].concat(Y));return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this};Z1.prototype.post=function(Z){if(Z instanceof RegExp){const Y=Array.prototype.slice.call(arguments,1);for(let J of Ol)if(Z.test(J))this.post.apply(this,[J].concat(Y));return this}if(Array.isArray(Z)){const Y=Array.prototype.slice.call(arguments,1);for(let J of Z)this.post.apply(this,[J].concat(Y));return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this};Z1.prototype.plugin=function(Z,Y){if(typeof Z!=="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+typeof Z+'"');if(Y&&Y.deduplicate){for(let J of this.plugins)if(J.fn===Z)return this}return this.plugins.push({fn:Z,opts:Y}),Z(this,Y),this};Z1.prototype.method=function(Z,Y,J){if(typeof Z!=="string")for(let X in Z)this.methods[X]=Z[X],this.methodOptions[X]=h8(J);else this.methods[Z]=Y,this.methodOptions[Z]=h8(J);return this};Z1.prototype.static=function(Z,Y){if(typeof Z!=="string")for(let J in Z)this.statics[J]=Z[J];else this.statics[Z]=Y;return this};Z1.prototype.index=function(Z,Y){if(Z||(Z={}),Y||(Y={}),Y.expires)$0.expires(Y);for(let J in Z)if(this.aliases[J])Z=$0.renameObjKey(Z,J,this.aliases[J]);for(let J of Object.keys(Z))if(Z[J]==="ascending"||Z[J]==="asc")Z[J]=1;else if(Z[J]==="descending"||Z[J]==="desc")Z[J]=-1;return this._indexes.push([Z,Y]),this};Z1.prototype.set=function(Z,Y,J){if(arguments.length===1)return this.options[Z];switch(Z){case"read":if(typeof Y==="string")this.options[Z]={mode:yH(Y),tags:J};else if(Array.isArray(Y)&&typeof Y[0]==="string")this.options[Z]={mode:yH(Y[0]),tags:Y[1]};else this.options[Z]=Y;this._userProvidedOptions[Z]=this.options[Z];break;case"timestamps":this.setupTimestamp(Y),this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z];break;case"_id":if(this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z],Y&&!this.paths._id)El(this);else if(!Y&&this.paths._id!=null&&this.paths._id.auto)this.remove("_id");break;default:this.options[Z]=Y,this._userProvidedOptions[Z]=this.options[Z];break}if(Z==="strict")PB(this,{strict:Y});if(Z==="strictQuery")PB(this,{strictQuery:Y});return this};/*!
 * Recursively set options on implicitly created schemas
 */Z1.prototype.get=function(Z){return this.options[Z]};var yT1="2d 2dsphere hashed text".split(" ");Object.defineProperty(Z1,"indexTypes",{get:function(){return yT1},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}});Z1.prototype.indexes=function(){return IT1(this)};Z1.prototype.virtual=function(Z,Y){if(Z instanceof DB||NT1(Z)==="VirtualType")return this.virtual(Z.path,Z.options);if(Y=new AT1(Y),$0.hasUserDefinedProperty(Y,["ref","refPath"])){if(Y.localField==null)throw new Error("Reference virtuals require `localField` option");if(Y.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function Q(K){if(fH.has(Z,K)){const H=fH.get(Z,K);if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(Y.justOne||Y.count)this.$$populatedVirtuals[Z]=Array.isArray(H)?H[0]:H;else this.$$populatedVirtuals[Z]=Array.isArray(H)?H:H==null?[]:[H];fH.unset(Z,K)}});const $=this.virtual(Z);if($.options=Y,$.set(function(Q){if(!this.$$populatedVirtuals)this.$$populatedVirtuals={};if(Y.justOne||Y.count){if(this.$$populatedVirtuals[Z]=Array.isArray(Q)?Q[0]:Q,typeof this.$$populatedVirtuals[Z]!=="object")this.$$populatedVirtuals[Z]=Y.count?Q:null}else this.$$populatedVirtuals[Z]=Array.isArray(Q)?Q:Q==null?[]:[Q],this.$$populatedVirtuals[Z]=this.$$populatedVirtuals[Z].filter(function(K){return K&&typeof K==="object"})}),typeof Y.get==="function")$.get(Y.get);const W=Z.split(".");let G=W[0];for(let Q=0;Q<W.length-1;++Q){if(this.paths[G]==null)continue;if(this.paths[G].$isMongooseDocumentArray||this.paths[G].$isSingleNested){const K=W.slice(Q+1).join(".");this.paths[G].schema.virtual(K,Y);break}G+="."+W[Q+1]}return $}const J=this.virtuals,X=Z.split(".");if(this.pathType(Z)==="real")throw new Error('Virtual path "'+Z+'" conflicts with a real path in the schema');return J[Z]=X.reduce(function($,W,G){return $[W]||($[W]=G===X.length-1?new DB(Y,Z):{}),$[W]},this.tree),J[Z]};Z1.prototype.virtualpath=function(Z){return this.virtuals.hasOwnProperty(Z)?this.virtuals[Z]:null};Z1.prototype.remove=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z))Z.forEach(function(Y){if(this.path(Y)==null&&!this.nested[Y])return;if(this.nested[Y]){const J=Object.keys(this.paths).concat(Object.keys(this.nested));for(let X of J)if(X.startsWith(Y+"."))delete this.paths[X],delete this.nested[X],IB(this,X);delete this.nested[Y],IB(this,Y);return}delete this.paths[Y],IB(this,Y)},this);return this};/*!
 * ignore
 */Z1.prototype.removeVirtual=function(Z){if(typeof Z==="string")Z=[Z];if(Array.isArray(Z)){for(let Y of Z)if(this.virtuals[Y]==null)throw new f9(`Attempting to remove virtual "${Y}" that does not exist.`);for(let Y of Z)if(delete this.paths[Y],delete this.virtuals[Y],Y.indexOf(".")!==-1)fH.unset(Y,this.tree);else delete this.tree[Y]}return this};Z1.prototype.loadClass=function(Z,Y){if(Z===Object.prototype||Z===Function.prototype||Z.prototype.hasOwnProperty("$isMongooseModelPrototype")||Z.prototype.hasOwnProperty("$isMongooseDocumentPrototype"))return this;if(this.loadClass(Object.getPrototypeOf(Z),Y),!Y)Object.getOwnPropertyNames(Z).forEach(function(J){if(J.match(/^(length|name|prototype|constructor|__proto__)$/))return;const X=Object.getOwnPropertyDescriptor(Z,J);if(X.hasOwnProperty("value"))this.static(J,X.value)},this);return Object.getOwnPropertyNames(Z.prototype).forEach(function(J){if(J.match(/^(constructor)$/))return;const X=Object.getOwnPropertyDescriptor(Z.prototype,J);if(!Y){if(typeof X.value==="function")this.method(J,X.value)}if(typeof X.get==="function"){if(this.virtuals[J])this.virtuals[J].getters=[];this.virtual(J).get(X.get)}if(typeof X.set==="function"){if(this.virtuals[J])this.virtuals[J].setters=[];this.virtual(J).set(X.set)}},this),this};/*!
 * ignore
 */Z1.prototype._getSchema=function(Z){const Y=this,J=Y.path(Z),X=[];if(J)return J.$fullPath=Z,J;function $(G,Q){let K=G.length+1,H,z;while(K--)if(z=G.slice(0,K).join("."),H=Q.path(z),H){if(X.push(z),H.caster){if(H.caster instanceof zZ.Mixed)return H.caster.$fullPath=X.join("."),H.caster;if(K!==G.length){if(H.schema){let F;if(G[K]==="$"||TB(G[K])){if(K+1===G.length)return H.$embeddedSchemaType;if(F=$(G.slice(K+1),H.schema),F)F.$parentSchemaDocArray=F.$parentSchemaDocArray||(H.schema.$isSingleNested?null:H);return F}if(F=$(G.slice(K),H.schema),F)F.$parentSchemaDocArray=F.$parentSchemaDocArray||(H.schema.$isSingleNested?null:H);return F}}}else if(H.$isSchemaMap){if(K>=G.length)return H;if(K+1>=G.length)return H.$__schemaType;if(H.$__schemaType instanceof zZ.Mixed)return H.$__schemaType;if(H.$__schemaType.schema!=null)return $(G.slice(K+1),H.$__schemaType.schema)}return H.$fullPath=X.join("."),H}}const W=Z.split(".");for(let G=0;G<W.length;++G){if(W[G]==="$"||TB(W[G]))W[G]="0";if(ST1.test(W[G]))W[G]="$"}return $(W,Y)};/*!
 * ignore
 */Z1.prototype._getPathType=function(Z){const Y=this;if(Y.path(Z))return"real";function X($,W){let G=$.length+1,Q,K;while(G--)if(K=$.slice(0,G).join("."),Q=W.path(K),Q){if(Q.caster){if(Q.caster instanceof zZ.Mixed)return{schema:Q,pathType:"mixed"};if(G!==$.length&&Q.schema){if($[G]==="$"||TB($[G])){if(G===$.length-1)return{schema:Q,pathType:"nested"};return X($.slice(G+1),Q.schema)}return X($.slice(G),Q.schema)}return{schema:Q,pathType:Q.$isSingleNested?"nested":"array"}}return{schema:Q,pathType:"real"}}else if(G===$.length&&W.nested[K])return{schema:W,pathType:"nested"};return{schema:Q||W,pathType:"undefined"}}return X(Z.split("."),Y)};/*!
 * ignore
 */Z1.prototype._preCompile=function Z(){DT1(this)};/*!
 * Module exports.
 */yl.exports=CB=Z1;Z1.Types=zZ=C$();/*!
 * ignore
 */CB.ObjectId=zZ.ObjectId});var bl=R((z10,gl)=>{/*!
 * Module dependencies.
 */var gT1=z0();class EB extends gT1{constructor(Z,Y){super(Z);this.errors=Y}}Object.defineProperty(EB.prototype,"name",{value:"SyncIndexesError"});gl.exports=EB});var jB=R((F10,vl)=>{vl.exports=function Z(Y,J,X,$){if(Y[$])return;if(Y[$]=!0,!X||!X.skipTopLevel){let K=null;for(let H of J){const z=H[1]==null?null:H[1].tags;if(!Array.isArray(z)){Y.plugin(H[0],H[1]);continue}if(K=K||new Set(Y.options.pluginTags||[]),!z.find((F)=>K.has(F)))continue;Y.plugin(H[0],H[1])}}if(X=Object.assign({},X),delete X.skipTopLevel,X.applyPluginsToChildSchemas!==!1)for(let K of Object.keys(Y.paths)){const H=Y.paths[K];if(H.schema!=null)Z(H.schema,J,X,$),H.caster.prototype.$__setSchema(H.schema)}const W=Y.discriminators;if(W==null)return;const G=X.applyPluginsToDiscriminators,Q=Object.keys(W);for(let K of Q){const H=W[K];Z(H,J,{skipTopLevel:!G},$)}}});var ml=R((U10,hl)=>{var bT1=z0();class OB extends bT1{constructor(Z,Y){super(Z);this.errors=Y}}Object.defineProperty(OB.prototype,"name",{value:"CreateCollectionsError"});hl.exports=OB});var pl=R((q10,cl)=>{var z1=function(Z){if(this.base=Z,this.collections={},this.models={},this.config={},this.replica=!1,this.options=null,this.otherDbs=[],this.relatedDbs={},this.states=U0,this._readyState=U0.disconnected,this._closeCalled=!1,this._hasOpened=!1,this.plugins=[],typeof Z==="undefined"||!Z.connections.length)this.id=0;else this.id=Z.nextConnectionId;this._queue=[]};async function rT1(Z,Y){try{return await Z(Y)}catch(J){throw tT1(Y),J}}var tT1=function(Z){for(let Y of Z[v$].keys()){const J=Z[v$].get(Y);if(J.hasOwnProperty("isNew"))Y.$isNew=J.isNew;if(J.hasOwnProperty("versionKey"))Y.set(Y.schema.options.versionKey,J.versionKey);if(J.modifiedPaths.length>0&&Y.$__.activePaths.states.modify==null)Y.$__.activePaths.states.modify={};for(let X of J.modifiedPaths){const $=Y.$__.activePaths.paths[X];if($!=null)delete Y.$__.activePaths[$][X];Y.$__.activePaths.paths[X]="modify",Y.$__.activePaths.states.modify[X]=!0}for(let X of J.atomics.keys()){const $=Y.$__getValue(X);if($==null)continue;$[aT1]=J.atomics.get(X)}}},oT1=function(Z,Y,J){if(typeof Y==="function"&&J==null)throw new q6("Connection.prototype.openUri() no longer accepts a callback");else if(typeof J==="function")throw new q6("Connection.prototype.openUri() no longer accepts a callback")},dl=function(Z){if(Z?.name==="MongoServerSelectionError"){const Y=Z;Z=new uT1,Z.assimilateError(Y)}return Z};/*!
 * Module dependencies.
 */var vT1=Xw(),hT1=import.meta.require("events").EventEmitter,mT1=xJ(),U0=OY(),q6=e1(),uT1=Mw(),dT1=bl(),cT1=jB(),pT1=N0(),lT1=LG(),iT1=V0(),ul=N6(),SB=H1(),nT1=ml(),aT1=$1().arrayAtomicsSymbol,v$=$1().sessionNewDocuments,sT1=["MONGODB-X509"];/*!
 * Inherit from EventEmitter
 */Object.setPrototypeOf(z1.prototype,hT1.prototype);Object.defineProperty(z1.prototype,"readyState",{get:function(){return this._readyState},set:function(Z){if(!(Z in U0))throw new Error("Invalid connection state: "+Z);if(this._readyState!==Z){this._readyState=Z;for(let Y of this.otherDbs)Y.readyState=Z;if(U0.connected===Z)this._hasOpened=!0;this.emit(U0[Z])}}});z1.prototype.get=function(Z){if(this.config.hasOwnProperty(Z))return this.config[Z];return iT1(this.options,Z)};z1.prototype.set=function(Z,Y){if(this.config.hasOwnProperty(Z))return this.config[Z]=Y,Y;return this.options=this.options||{},this.options[Z]=Y,Y};z1.prototype.collections;z1.prototype.name;z1.prototype.models;z1.prototype.id;Object.defineProperty(z1.prototype,"plugins",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"host",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"port",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"user",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(z1.prototype,"pass",{configurable:!0,enumerable:!0,writable:!0});z1.prototype.db;z1.prototype.client;z1.prototype.config;z1.prototype.createCollection=async function Z(Y,J){if(typeof J==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new q6("Connection.prototype.createCollection() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((X)=>{this._queue.push({fn:X})});return this.db.createCollection(Y,J)};z1.prototype.createCollections=async function Z(Y={}){const J={},X={},{continueOnError:$}=Y;delete Y.continueOnError;for(let W of Object.values(this.models))try{J[W.modelName]=await W.createCollection({})}catch(G){if(!$){X[W.modelName]=G;break}else J[W.modelName]=G}if(!$&&Object.keys(X).length){const W=Object.entries(X).map(([Q,K])=>`${Q}: ${K.message}`).join(", ");throw new nT1(W,X)}return J};z1.prototype.startSession=async function Z(Y){if(arguments.length>=2&&typeof arguments[1]==="function")throw new q6("Connection.prototype.startSession() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((X)=>{this._queue.push({fn:X})});return this.client.startSession(Y)};z1.prototype.transaction=function Z(Y,J){return this.startSession().then((X)=>{return X[v$]=new Map,X.withTransaction(()=>rT1(Y,X),J).then(($)=>{return delete X[v$],$}).catch(($)=>{throw delete X[v$],$}).finally(()=>{X.endSession().catch(()=>{})})})};/*!
 * Reset document state in between transaction retries re: gh-13698
 *//*!
 * If transaction was aborted, we need to reset newly inserted documents' `isNew`.
 */z1.prototype.dropCollection=async function Z(Y){if(arguments.length>=2&&typeof arguments[1]==="function")throw new q6("Connection.prototype.dropCollection() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((J)=>{this._queue.push({fn:J})});return this.db.dropCollection(Y)};z1.prototype.dropDatabase=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new q6("Connection.prototype.dropDatabase() no longer accepts a callback");if((this.readyState===U0.connecting||this.readyState===U0.disconnected)&&this._shouldBufferCommands())await new Promise((Y)=>{this._queue.push({fn:Y})});for(let Y of Object.values(this.models))delete Y.$init;return this.db.dropDatabase()};/*!
 * ignore
 */z1.prototype._shouldBufferCommands=function Z(){if(this.config.bufferCommands!=null)return this.config.bufferCommands;if(this.base.get("bufferCommands")!=null)return this.base.get("bufferCommands");return!0};z1.prototype.error=function(Z,Y){if(Y)return Y(Z),null;if(this.listeners("error").length>0)this.emit("error",Z);return Promise.reject(Z)};z1.prototype.onOpen=function(){this.readyState=U0.connected;for(let Z of this._queue)Z.fn.apply(Z.ctx,Z.args);this._queue=[];for(let Z in this.collections)if(SB.object.hasOwnProperty(this.collections,Z))this.collections[Z].onOpen();this.emit("open")};z1.prototype.openUri=async function Z(Y,J){if(this.readyState===U0.connecting||this.readyState===U0.connected){if(this._connectionString===Y)return this}this._closeCalled=!1;let X=!1;if(J&&("_fireAndForget"in J))X=J._fireAndForget,delete J._fireAndForget;try{oT1.apply(arguments)}catch($){if(X)throw $;throw this.$initialConnection=Promise.reject($),$}this.$initialConnection=this.createClient(Y,J).then(()=>this).catch(($)=>{if(this.readyState=U0.disconnected,this.listeners("error").length>0)ul(()=>this.emit("error",$));throw $});for(let $ of Object.values(this.models))$.init().catch(function W(){});if(X)return this;try{await this.$initialConnection}catch($){throw dl($)}return this};/*!
 * ignore
 *//*!
 * ignore
 */z1.prototype.destroy=async function Z(Y){if(typeof Y==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new q6("Connection.prototype.destroy() no longer accepts a callback");if(Y!=null&&typeof Y==="object")this.$wasForceClosed=!!Y.force;else this.$wasForceClosed=!!Y;return this._close(Y,!0)};z1.prototype.close=async function Z(Y){if(typeof Y==="function"||arguments.length===2&&typeof arguments[1]==="function")throw new q6("Connection.prototype.close() no longer accepts a callback");if(Y!=null&&typeof Y==="object")this.$wasForceClosed=!!Y.force;else this.$wasForceClosed=!!Y;for(let J of Object.values(this.models))delete J.$init;return this._close(Y,!1)};z1.prototype._close=async function Z(Y,J){const X=this,$=this._closeCalled;if(this._closeCalled=!0,this._destroyCalled=J,this.client!=null)this.client._closeCalled=!0,this.client._destroyCalled=J;const W=this;switch(this.readyState){case U0.disconnected:if(J&&this.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);if(!$)await this.doClose(Y),this.onClose(Y);break;case U0.connected:if(this.readyState=U0.disconnecting,await this.doClose(Y),J&&X.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);this.onClose(Y);break;case U0.connecting:return new Promise((G,Q)=>{const K=()=>{if(this.removeListener("open",K),this.removeListener("error",K),J)this.destroy(Y).then(G,Q);else this.close(Y).then(G,Q)};this.once("open",K),this.once("error",K)});case U0.disconnecting:return new Promise((G)=>{this.once("close",()=>{if(J&&this.base.connections.indexOf(W)!==-1)this.base.connections.splice(this.base.connections.indexOf(W),1);G()})})}return this};z1.prototype.doClose=function(){throw new Error("Connection#doClose unimplemented by driver")};z1.prototype.onClose=function(Z){this.readyState=U0.disconnected;for(let Y in this.collections)if(SB.object.hasOwnProperty(this.collections,Y))this.collections[Y].onClose(Z);this.emit("close",Z);for(let Y of this.otherDbs)this._destroyCalled?Y.destroy({force:Z,skipCloseClient:!0}):Y.close({force:Z,skipCloseClient:!0})};z1.prototype.collection=function(Z,Y){const J={autoIndex:this.config.autoIndex!=null?this.config.autoIndex:this.base.options.autoIndex,autoCreate:this.config.autoCreate!=null?this.config.autoCreate:this.base.options.autoCreate};Y=Object.assign({},J,Y?pT1(Y):{}),Y.$wasForceClosed=this.$wasForceClosed;const X=this.base&&this.base.__driver&&this.base.__driver.Collection||lT1.get().Collection;if(!(Z in this.collections))this.collections[Z]=new X(Z,this,Y);return this.collections[Z]};z1.prototype.plugin=function(Z,Y){return this.plugins.push([Z,Y]),this};z1.prototype.model=function(Z,Y,J,X){if(!(this instanceof z1))throw new q6("`connection.model()` should not be run with `new`. If you are doing `new db.model(foo)(bar)`, use `db.model(foo)(bar)` instead");let $;if(typeof Z==="function")$=Z,Z=$.name;if(typeof Y==="string")J=Y,Y=!1;if(SB.isObject(Y)){if(!Y.instanceOfSchema)Y=new mT1(Y);else if(!(Y instanceof this.base.Schema))Y=Y._clone(this.base.Schema)}if(Y&&!Y.instanceOfSchema)throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");const W={cache:!1,overwriteModels:this.base.options.overwriteModels},G=Object.assign(W,X,{connection:this});if(this.models[Z]&&!J&&G.overwriteModels!==!0){if(Y&&Y.instanceOfSchema&&Y!==this.models[Z].schema)throw new q6.OverwriteModelError(Z);return this.models[Z]}let Q;if(Y&&Y.instanceOfSchema){if(cT1(Y,this.plugins,null,"$connectionPluginsApplied"),Q=this.base._model($||Z,Y,J,G),!this.models[Z])this.models[Z]=Q;return Q.init().catch(function K(){}),Q}if(this.models[Z]&&J)return Q=this.models[Z],Y=Q.prototype.schema,Q.__subclass(this,Y,J);if(arguments.length===1){if(Q=this.models[Z],!Q)throw new q6.MissingSchemaError(Z);return Q}if(!Q)throw new q6.MissingSchemaError(Z);if(this===Q.prototype.db&&(!J||J===Q.collection.name)){if(!this.models[Z])this.models[Z]=Q;return Q}return this.models[Z]=Q.__subclass(this,Y,J),this.models[Z]};z1.prototype.deleteModel=function(Z){if(typeof Z==="string"){const Y=this.model(Z);if(Y==null)return this;const J=Y.collection.name;delete this.models[Z],delete this.collections[J],this.emit("deleteModel",Y)}else if(Z instanceof RegExp){const Y=Z,J=this.modelNames();for(let X of J)if(Y.test(X))this.deleteModel(X)}else throw new Error('First parameter to `deleteModel()` must be a string or regexp, got "'+Z+'"');return this};z1.prototype.watch=function(Z,Y){return new vT1(($)=>{ul(()=>{if(this.readyState===U0.connecting)this.once("open",function(){const W=this.db.watch(Z,Y);$(null,W)});else{const W=this.db.watch(Z,Y);$(null,W)}})},Z,Y)};z1.prototype.asPromise=async function Z(){try{return await this.$initialConnection,this}catch(Y){throw dl(Y)}};z1.prototype.modelNames=function(){return Object.keys(this.models)};z1.prototype.shouldAuthenticate=function(){return this.user!=null&&(this.pass!=null||this.authMechanismDoesNotRequirePassword())};z1.prototype.authMechanismDoesNotRequirePassword=function(){if(this.options&&this.options.auth)return sT1.indexOf(this.options.auth.authMechanism)>=0;return!0};z1.prototype.optionsProvideAuthenticationData=function(Z){return Z&&Z.user&&(Z.pass||this.authMechanismDoesNotRequirePassword())};z1.prototype.getClient=function Z(){return this.client};z1.prototype.setClient=function Z(){throw new q6("Connection#setClient not implemented by driver")};/*!
 * Called internally by `openUri()` to create a MongoClient instance.
 */z1.prototype.createClient=function Z(){throw new q6("Connection#createClient not implemented by driver")};z1.prototype.syncIndexes=async function Z(Y={}){const J={},X={},{continueOnError:$}=Y;delete Y.continueOnError;for(let W of Object.values(this.models))try{J[W.modelName]=await W.syncIndexes(Y)}catch(G){if(!$){X[W.modelName]=G;break}else J[W.modelName]=G}if(!$&&Object.keys(X).length){const W=Object.entries(X).map(([Q,K])=>`${Q}: ${K.message}`).join(", ");throw new dT1(W,X)}return J};/*!
 * Module exports.
 */z1.STATES=U0;cl.exports=z1});var kB=R((V10,eT1)=>{eT1.exports={name:"mongoose",description:"Mongoose MongoDB ODM",version:"8.0.2",author:"Guillermo Rauch <guillermo@learnboost.com>",keywords:["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],license:"MIT",dependencies:{bson:"^6.2.0",kareem:"2.5.1",mongodb:"6.2.0",mpath:"0.9.0",mquery:"5.0.0",ms:"2.1.3",sift:"16.0.1"},devDependencies:{"@babel/core":"7.23.2","@babel/preset-env":"7.22.20","@typescript-eslint/eslint-plugin":"^6.2.1","@typescript-eslint/parser":"^6.2.1",acquit:"1.3.0","acquit-ignore":"0.2.1","acquit-require":"0.1.1","assert-browserify":"2.0.0",axios:"1.1.3","babel-loader":"8.2.5",benchmark:"2.1.4","broken-link-checker":"^0.7.8",buffer:"^5.6.0",cheerio:"1.0.0-rc.12","crypto-browserify":"3.12.0",dotenv:"16.3.1",dox:"1.0.0",eslint:"8.52.0","eslint-plugin-markdown":"^3.0.1","eslint-plugin-mocha-no-only":"1.1.1",express:"^4.18.1","fs-extra":"~11.1.1","highlight.js":"11.8.0","lodash.isequal":"4.5.0","lodash.isequalwith":"4.4.0","markdownlint-cli2":"^0.10.0",marked:"4.3.0",mkdirp:"^3.0.1",mocha:"10.2.0",moment:"2.x","mongodb-memory-server":"8.15.1",ncp:"^2.0.0",nyc:"15.1.0",pug:"3.0.2",q:"1.5.1",sinon:"17.0.1","stream-browserify":"3.0.0",tsd:"0.29.0",typescript:"5.2.2",uuid:"9.0.1",webpack:"5.89.0"},directories:{lib:"./lib/mongoose"},scripts:{"docs:clean":"npm run docs:clean:stable","docs:clean:stable":"rimraf index.html && rimraf -rf ./docs/*.html  && rimraf -rf ./docs/api && rimraf -rf ./docs/tutorials/*.html && rimraf -rf ./docs/typescript/*.html && rimraf -rf ./docs/*.html && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:5x":"rimraf index.html && rimraf -rf ./docs/5.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:6x":"rimraf index.html && rimraf -rf ./docs/6.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:copy:tmp":"mkdirp ./tmp/docs/css && mkdirp ./tmp/docs/js && mkdirp ./tmp/docs/images && mkdirp ./tmp/docs/tutorials && mkdirp ./tmp/docs/typescript && mkdirp ./tmp/docs/api && ncp ./docs/css ./tmp/docs/css --filter=.css$ && ncp ./docs/js ./tmp/docs/js --filter=.js$ && ncp ./docs/images ./tmp/docs/images && ncp ./docs/tutorials ./tmp/docs/tutorials && ncp ./docs/typescript ./tmp/docs/typescript && ncp ./docs/api ./tmp/docs/api && cp index.html ./tmp && cp docs/*.html ./tmp/docs/","docs:copy:tmp:5x":"rimraf ./docs/5.x && ncp ./tmp ./docs/5.x","docs:move:6x:tmp":"mv ./docs/6.x ./tmp","docs:copy:tmp:6x":"rimraf ./docs/6.x && ncp ./tmp ./docs/6.x","docs:checkout:gh-pages":"git checkout gh-pages","docs:checkout:5x":"git checkout 5.x","docs:checkout:6x":"git checkout 6.x","docs:generate":"node ./scripts/website.js","docs:generate:search":"node ./scripts/generateSearch.js","docs:generate:sponsorData":"node ./scripts/loadSponsorData.js","docs:merge:stable":"git merge master","docs:merge:5x":"git merge 5.x","docs:merge:6x":"git merge 6.x","docs:test":"npm run docs:generate && npm run docs:generate:search","docs:view":"node ./scripts/static.js","docs:prepare:publish:stable":"npm run docs:checkout:gh-pages && npm run docs:merge:stable && npm run docs:generate && npm run docs:generate:search","docs:prepare:publish:5x":"npm run docs:checkout:5x && npm run docs:merge:5x && npm run docs:clean:stable && npm run docs:generate && npm run docs:copy:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:5x","docs:prepare:publish:6x":"npm run docs:checkout:6x && npm run docs:merge:6x && npm run docs:clean:stable && env DOCS_DEPLOY=true npm run docs:generate && npm run docs:move:6x:tmp && npm run docs:checkout:gh-pages && npm run docs:copy:tmp:6x","docs:prepare:publish:7x":"env DOCS_DEPLOY=true npm run docs:generate && npm run docs:checkout:gh-pages && rimraf ./docs/7.x && mv ./tmp ./docs/7.x","docs:check-links":"blc http://127.0.0.1:8089 -ro",lint:"eslint .","lint-js":"eslint . --ext .js --ext .cjs","lint-ts":"eslint . --ext .ts","lint-md":"markdownlint-cli2 \"**/*.md\"","build-browser":"(rm ./dist/* || true) && node ./scripts/build-browser.js",prepublishOnly:"npm run build-browser",release:"git pull && git push origin master --tags && npm publish","release-5x":"git pull origin 5.x && git push origin 5.x && git push origin 5.x --tags && npm publish --tag 5x","release-6x":"git pull origin 6.x && git push origin 6.x && git push origin 6.x --tags && npm publish --tag 6x",mongo:"node ./tools/repl.js","publish-7x":"npm publish --tag 7x",test:"mocha --exit ./test/*.test.js","test-deno":"deno run --allow-env --allow-read --allow-net --allow-run --allow-sys --allow-write ./test/deno.js","test-rs":"START_REPLICA_SET=1 mocha --timeout 30000 --exit ./test/*.test.js","test-tsd":"node ./test/types/check-types-filename && tsd",tdd:"mocha ./test/*.test.js --inspect --watch --recursive --watch-files ./**/*.{js,ts}","test-coverage":"nyc --reporter=html --reporter=text npm test","ts-benchmark":"cd ./benchmarks/typescript/simple && npm install && npm run benchmark | node ../../../scripts/tsc-diagnostics-check"},main:"./index.js",types:"./types/index.d.ts",engines:{node:">=16.20.1"},bugs:{url:"https://github.com/Automattic/mongoose/issues/new"},repository:{type:"git",url:"git://github.com/Automattic/mongoose.git"},homepage:"https://mongoosejs.com",browser:"./dist/browser.umd.js",config:{mongodbMemoryServer:{disablePostinstall:!0}},funding:{type:"opencollective",url:"https://opencollective.com/mongoose"},tsd:{directory:"test/types",compilerOptions:{esModuleInterop:!1,strict:!0,allowSyntheticDefaultImports:!0,strictPropertyInitialization:!1,noImplicitAny:!1,strictNullChecks:!0,module:"commonjs",target:"ES2017"}}}});var il=R((L10,ll)=>{var JC1=function(Z,Y){const J=Y?Y:{},X=J.readPreference?J.readPreference:GC1(Z),$=ZC1(J);return X&&X!=="primary"&&X!=="primaryPreferred"?XC1(X,$):$},XC1=function(Z,Y){if($C1(Y)&&WC1(Z))KC1();else return QC1(Y)},$C1=function(Z){const Y=Z.config&&Z.config.autoIndex,{autoCreate:J,autoIndex:X}=Z;return!!(Y||J||X)},WC1=function(Z){return Z==="secondary"||Z==="secondaryPreferred"},GC1=function(Z){const J=/(?:&|\?)readPreference=(\w+)(?:&|$)/.exec(Z);return J?J[1]:null},QC1=function(Z){return Z.config={autoIndex:!1},Z.autoCreate=!1,Z.autoIndex=!1,Z},KC1=function(){throw new YC1('MongoDB prohibits index creation on connections that read from non-primary replicas.  Connections that set "readPreference" to "secondary" or "secondaryPreferred" may not opt-in to the following connection options: autoCreate, autoIndex')},ZC1=N0(),YC1=e1();ll.exports=JC1});var nl=R((HC1)=>{HC1.setTimeout=setTimeout});var ol=R((w10,tl)=>{var FZ=function(){al.apply(this,arguments),this._listening=!1},_B=function(Z,Y,J,X){const $=X!=null?Y.db(X):Y.db();Z.db=$,Z.client=Y,Z.host=Y&&Y.s&&Y.s.options&&Y.s.options.hosts&&Y.s.options.hosts[0]&&Y.s.options.hosts[0].host||void 0,Z.port=Y&&Y.s&&Y.s.options&&Y.s.options.hosts&&Y.s.options.hosts[0]&&Y.s.options.hosts[0].port||void 0,Z.name=X!=null?X:$.databaseName,Z._closeCalled=Y._closeCalled;const W=()=>{if(Z.readyState!==V6.connected)Z.readyState=V6.connected,Z.emit("reconnect"),Z.emit("reconnected"),Z.onOpen()},G=Y&&Y.topology&&Y.topology.description&&Y.topology.description.type||"";if(G==="Single")Y.on("serverDescriptionChanged",(Q)=>{if(Q.newDescription.type==="Unknown")Z.readyState=V6.disconnected;else W()});else if(G.startsWith("ReplicaSet"))Y.on("topologyDescriptionChanged",(Q)=>{const K=Q.newDescription;if(Z.readyState===V6.connected&&K.type!=="ReplicaSetWithPrimary")Z.readyState=V6.disconnected;else if(Z.readyState===V6.disconnected&&K.type==="ReplicaSetWithPrimary")W()});Z.onOpen();for(let Q in Z.collections)if(rl.object.hasOwnProperty(Z.collections,Q))Z.collections[Q].onOpen()};/*!
 * Module dependencies.
 */var al=pl(),y9=e1(),V6=OY(),sl=IK(),FC1=kB(),UC1=il(),qC1=nl().setTimeout,rl=H1();FZ.STATES=V6;/*!
 * Inherits from Connection.
 */Object.setPrototypeOf(FZ.prototype,al.prototype);FZ.prototype.useDb=function(Z,Y){if(Y=Y||{},Y.useCache&&this.relatedDbs[Z])return this.relatedDbs[Z];const J=new this.constructor;J.name=Z,J.base=this.base,J.collections={},J.models={},J.replica=this.replica,J.config=Object.assign({},this.config,J.config),J.name=this.name,J.options=this.options,J._readyState=this._readyState,J._closeCalled=this._closeCalled,J._hasOpened=this._hasOpened,J._listening=!1,J._parent=this,J.host=this.host,J.port=this.port,J.user=this.user,J.pass=this.pass;const X=this;if(J.client=X.client,this.db&&this._readyState===V6.connected)$();else this.once("connected",$);function $(){J.client=X.client;const W={};if(Y.hasOwnProperty("noListener"))W.noListener=Y.noListener;J.db=X.client.db(Z,W),J.onOpen()}if(J.name=Z,Y.noListener!==!0)this.otherDbs.push(J);if(J.otherDbs.push(this),Y&&Y.useCache)this.relatedDbs[J.name]=J,J.relatedDbs=this.relatedDbs;return J};FZ.prototype.removeDb=function Z(Y){const J=this.otherDbs.filter((X)=>X.name===Y);if(!J.length)throw new y9(`No connections to database "${Y}" found`);for(let X of J)X._closeCalled=!0,X._destroyCalled=!0,X._readyState=V6.disconnected,X.$wasForceClosed=!0;delete this.relatedDbs[Y],this.otherDbs=this.otherDbs.filter((X)=>X.name!==Y)};FZ.prototype.doClose=async function Z(Y){if(this.client==null)return this;let J=!1;if(Y!=null&&typeof Y==="object")J=Y.skipCloseClient,Y=Y.force;if(J)return this;return await this.client.close(Y),await new Promise((X)=>qC1(X,1)),this};/*!
 * ignore
 */FZ.prototype.createClient=async function Z(Y,J){if(typeof Y!=="string")throw new y9("The `uri` parameter to `openUri()` must be a "+`string, got "${typeof Y}". Make sure the first parameter to `+"`mongoose.connect()` or `mongoose.createConnection()` is a string.");if(this._destroyCalled)throw new y9("Connection has been closed and destroyed, and cannot be used for re-opening the connection. Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.");if(this.readyState===V6.connecting||this.readyState===V6.connected){if(this._connectionString!==Y)throw new y9("Can\'t call `openUri()` on an active connection with different connection strings. Make sure you aren\'t calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections")}if(J=UC1(Y,J),J){const W=J.config&&J.config.autoIndex!=null?J.config.autoIndex:J.autoIndex;if(W!=null)this.config.autoIndex=W!==!1,delete J.config,delete J.autoIndex;if("autoCreate"in J)this.config.autoCreate=!!J.autoCreate,delete J.autoCreate;if("sanitizeFilter"in J)this.config.sanitizeFilter=J.sanitizeFilter,delete J.sanitizeFilter;if(J.user||J.pass)J.auth=J.auth||{},J.auth.username=J.user,J.auth.password=J.pass,this.user=J.user,this.pass=J.pass;if(delete J.user,delete J.pass,J.bufferCommands!=null)this.config.bufferCommands=J.bufferCommands,delete J.bufferCommands}else J={};this._connectionOptions=J;const X=J.dbName;if(X!=null)this.$dbName=X;if(delete J.dbName,!rl.hasUserDefinedProperty(J,"driverInfo"))J.driverInfo={name:"Mongoose",version:FC1.version};this.readyState=V6.connecting,this._connectionString=Y;let $;try{$=new sl.MongoClient(Y,J)}catch(W){throw this.readyState=V6.disconnected,W}this.client=$,$.setMaxListeners(0),await $.connect(),_B(this,$,J,X);for(let W of this.otherDbs)_B(W,$,{},W.name);return this};/*!
 * ignore
 */FZ.prototype.setClient=function Z(Y){if(!(Y instanceof sl.MongoClient))throw new y9("Must call `setClient()` with an instance of MongoClient");if(this.readyState!==V6.disconnected)throw new y9("Cannot call `setClient()` on a connection that is already connected.");if(Y.topology==null)throw new y9("Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.");this._connectionString=Y.s.url,_B(this,Y,{},Y.s.options.dbName);for(let J of Object.values(this.models))J.init().catch(function X(){});return this};/*!
 * ignore
 *//*!
 * Module exports.
 */tl.exports=FZ});var el=R((VC1)=>{/*!
 * Module exports.
 */VC1.Collection=zh();VC1.Connection=ol()});var Yi=R((B10,Zi)=>{/*!
 * Valid mongoose options
 */var wC1=Object.freeze(["allowDiskUse","applyPluginsToChildSchemas","applyPluginsToDiscriminators","autoCreate","autoIndex","bufferCommands","bufferTimeoutMS","cloneSchemas","debug","id","timestamps.createdAt.immutable","maxTimeMS","objectIdGetter","overwriteModels","returnOriginal","runValidators","sanitizeFilter","sanitizeProjection","selectPopulatedPaths","setDefaultsOnInsert","strict","strictPopulate","strictQuery","toJSON","toObject","translateAliases"]);Zi.exports=wC1});var Xi=R((A10,Ji)=>{/*!
 * Module dependencies.
 */var MC1=e1();class xB extends MC1{constructor(Z){let Y=Z.map((J)=>J.message).join(", ");if(Y.length>50)Y=Y.slice(0,50)+"...";super(`eachAsync() finished with ${Z.length} errors: ${Y}`);this.errors=Z}}Object.defineProperty(xB.prototype,"name",{value:"EachAsyncMultiError"});/*!
 * exports
 */Ji.exports=xB});var yB=R((N10,Wi)=>{var AC1=function(){const Z=[];let Y=null,J=0;return function $(W){if(Y===null&&Z.length===0)return Y=J++,W(X);Z.push(W)};function X(){if(Z.length!==0)Y=J++,Z.shift()(X);else Y=null}},$i=function(Z){if(Z.length===0)return null;return new BC1(Z)};/*!
 * Module dependencies.
 */var BC1=Xi(),fB=N6();Wi.exports=async function Z(Y,J,X){const $=X.parallel||1,W=X.batchSize,G=X.signal,Q=X.continueOnError,K=[],H=AC1();let z=!1;return new Promise((q,V)=>{if(G!=null){if(G.aborted)return q(null);G.addEventListener("abort",()=>{return z=!0,q(null)},{once:!0})}if(W!=null){if(typeof W!=="number")throw new TypeError("batchSize must be a number");else if(!Number.isInteger(W))throw new TypeError("batchSize must be an integer");else if(W<1)throw new TypeError("batchSize must be at least 1")}F((L,w)=>{if(L!=null)return V(L);q(w)})});function F(q){let V=0,L=0,w=null;for(let A=0;A<$;++A)H(B());function B(){let A=[],M=!1;return I;function I(x){if(M||z)return x();else if(w)return x();Y(function(j,E){if(w!=null)return x();if(j!=null)if(j.name==="MongoCursorExhaustedError")E=null;else if(Q)K.push(j);else return w=j,q(j),x();if(E==null){if(M=!0,V<=0){const b=Q?$i(K):w;q(b)}else if(W&&A.length)U(A,L++,l);return x()}if(++V,fB(()=>x()),W)A.push(E);if(W&&A.length!==W){fB(()=>H(I));return}const D=W?A:E;function l(b){if(W)V-=A.length,A=[];else--V;if(b!=null)if(Q)K.push(b);else return w=b,q(b);if((M||z)&&V<=0){const _=Q?$i(K):w;return q(_)}fB(()=>H(I))}U(D,L++,l)})}}}function U(q,V,L){let w;try{w=J(q,V)}catch(B){return L(B)}if(w&&typeof w.then==="function")w.then(function(){L(null)},function(B){L(B||new Error("`eachAsync()` promise rejected without error"))});else L(null)}}});var Vi=R((I10,qi)=>{var L6=function(Z){Hi.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.skipped=!1,this.query=Z;const Y=Z.model;this._mongooseOptions={},this._transforms=[],this.model=Y,this.options={},Y.hooks.execPre("find",Z,(J)=>{if(J!=null){if(J instanceof IC1.skipWrappedFunction){const X=J.args[0];if(X!=null&&(!Array.isArray(X)||X.length)){const $=new bB('Cannot `skipMiddlewareFunction()` with a value when using `.find().cursor()`, value must be nullish or empty array, got "'+Fi.inspect(X)+'".');this._markError($),this.listeners("error").length>0&&this.emit("error",$);return}this.skipped=!0,this.emit("cursor",null);return}this._markError(J),this.listeners("error").length>0&&this.emit("error",J);return}if(Object.assign(this.options,Z._optionsForExec()),this._transforms=this._transforms.concat(Z._transforms.slice()),this.options.transform)this._transforms.push(this.options.transform);if(this.options.batchSize)this.options._populateBatchSize=Math.min(this.options.batchSize,5000);if(Y.collection._shouldBufferCommands()&&Y.collection.buffer)Y.collection.queue.push([()=>Gi(Z,this)]);else Gi(Z,this)})},Gi=function(Z,Y){try{const J=Z.model.collection.find(Z._conditions,Y.options);Y.cursor=J,Y.emit("cursor",J)}catch(J){Y._markError(J),Y.listeners("error").length>0&&Y.emit("error",Y._error)}},Qi=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},bH=function(Z,Y){let J=Y;if(Z._transforms.length)J=function(X,$){if(X||$===null&&!Z._mongooseOptions.transformNull)return Y(X,$);Y(X,Z._transforms.reduce(function(W,G){return G.call(Z,W)},$))};if(Z._error)return gB(function(){J(Z._error)});if(Z.skipped)return gB(()=>J(null,null));if(Z.cursor){if(Z.query._mongooseOptions.populate&&!Z._pop)Z._pop=zi.preparePopulationOptionsMQ(Z.query,Z.query._mongooseOptions),Z._pop.__noPromise=!0;if(Z.query._mongooseOptions.populate&&Z.options._populateBatchSize>1)if(Z._batchDocs&&Z._batchDocs.length)return gH(Z,Z._batchDocs.shift(),Z._pop,J);else if(Z._batchExhausted)return J(null,null);else{Z._batchDocs=[],Z.cursor.next().then((X)=>{iJ.call({ctx:Z,callback:J},null,X)},(X)=>{iJ.call({ctx:Z,callback:J},X)});return}else return Z.cursor.next().then((X)=>{if(!X){J(null,null);return}if(!Z.query._mongooseOptions.populate)return gH(Z,X,null,J);Z.query.model.populate(X,Z._pop).then(($)=>{gH(Z,$,Z._pop,J)},($)=>{J($)})},(X)=>{J(X)})}else Z.once("error",Y),Z.once("cursor",function(X){if(Z.removeListener("error",Y),X==null){if(Z.skipped)return Y(null,null);return}bH(Z,Y)})},iJ=function(Z,Y){if(Z)return this.callback(Z);if(!Y)return this.ctx._batchExhausted=!0,Ki.call(this);if(this.ctx._batchDocs.push(Y),this.ctx._batchDocs.length<this.ctx.options._populateBatchSize){if(this.ctx._batchDocs.length>0&&this.ctx._batchDocs.length%1000===0)return gB(()=>this.ctx.cursor.next().then((J)=>{iJ.call(this,null,J)},(J)=>{iJ.call(this,J)}));this.ctx.cursor.next().then((J)=>{iJ.call(this,null,J)},(J)=>{iJ.call(this,J)})}else Ki.call(this)},Ki=function(){if(!this.ctx._batchDocs.length)return this.callback(null,null);this.ctx.query.model.populate(this.ctx._batchDocs,this.ctx._pop).then(()=>{gH(this.ctx,this.ctx._batchDocs.shift(),this.ctx._pop,this.callback)},(Z)=>{this.callback(Z)})},gH=function(Z,Y,J,X){if(Z.query._mongooseOptions.lean)return Z.model.hooks.execPost("find",Z.query,[[Y]],(K)=>{if(K!=null)return X(K);X(null,Y)});const{model:$,_fields:W,_userProvidedFields:G,options:Q}=Z.query;zi.createModelAndInit($,Y,W,G,Q,J,(K,H)=>{if(K!=null)return X(K);Z.model.hooks.execPost("find",Z.query,[[H]],(z)=>{if(z!=null)return X(z);X(null,H)})})},Ui=function(Z,Y){if(Z.cursor)return Y();Z.once("cursor",function(J){if(J==null)return;Y()})};/*!
 * Module dependencies.
 */var bB=z0(),Hi=import.meta.require("stream").Readable,NC1=yB(),zi=SJ(),IC1=AJ(),gB=N6(),Fi=import.meta.require("util");Fi.inherits(L6,Hi);/*!
 * ignore
 */L6.prototype._read=function(){bH(this,(Z,Y)=>{if(Z)return this.emit("error",Z);if(!Y){this.push(null),this.cursor.close(function(J){if(J)return this.emit("error",J)});return}this.push(Y)})};Object.defineProperty(L6.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});L6.prototype._markError=function(Z){return this._error=Z,this};L6.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new bB("QueryCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close(),this.emit("close")}catch(Y){throw this.listeners("error").length>0&&this.emit("error",Y),Y}};L6.prototype.rewind=function(){return Ui(this,()=>{this.cursor.rewind()}),this};L6.prototype.next=async function Z(){if(arguments[0]==="function")throw new bB("QueryCursor.prototype.next() no longer accepts a callback");return new Promise((Y,J)=>{bH(this,function(X,$){if(X)return J(X);Y($)})})};L6.prototype.eachAsync=function(Z,Y,J){if(typeof Y==="function")J=Y,Y={};return Y=Y||{},NC1((X)=>bH(this,X),Z,Y,J)};L6.prototype.options;L6.prototype.addCursorFlag=function(Z,Y){return Ui(this,()=>{this.cursor.addCursorFlag(Z,Y)}),this};/*!
 * ignore
 */L6.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */L6.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(Qi)===-1)this.map(Qi);return this};if(Symbol.asyncIterator!=null)L6.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */qi.exports=L6});var hB=R((D10,Ri)=>{var DC1=function(Z,Y){Li(Z,Y,"maxTimeMS")},PC1=function(Z,Y){Li(Z,Y,"allowDiskUse")},Li=function(Z,Y,J){if(vB.hasUserDefinedProperty(Z,J))return;if(vB.hasUserDefinedProperty(Y.db.options,J))Z[J]=Y.db.options[J];else if(vB.hasUserDefinedProperty(Y.base.options,J))Z[J]=Y.base.options[J]},vB=H1();Ri.exports={applyGlobalMaxTimeMS:DC1,applyGlobalDiskUse:PC1}});var mB=R((P10,wi)=>{var TC1=V0();wi.exports=function Z(Y,J){if(J.writeConcern!=null)return;const X=TC1(Y,"options.writeConcern",{});if(Object.keys(X).length!=0){if(J.writeConcern={},!("w"in J)&&X.w!=null)J.writeConcern.w=X.w;if(!("j"in J)&&X.j!=null)J.writeConcern.j=X.j;if(!("wtimeout"in J)&&X.wtimeout!=null)J.writeConcern.wtimeout=X.wtimeout}else{if(!("w"in J)&&X.w!=null)J.w=X.w;if(!("j"in J)&&X.j!=null)J.j=X.j;if(!("wtimeout"in J)&&X.wtimeout!=null)J.wtimeout=X.wtimeout}}});var Ai=R((T10,Bi)=>{var Mi=KH();Bi.exports=function Z(Y,J,X){const $=Y;if(!Object.keys(X).some(Mi))return J.castForQuery(null,X,$);const G=Object.keys(X);let Q=G.length;while(Q--){const K=G[Q],H=X[K];if(K==="$not"){if(H&&J&&!J.caster){const z=Object.keys(H);if(z.length&&Mi(z[0]))for(let F of Object.keys(H))H[F]=J.castForQuery(F,H[F],$);else X[K]=J.castForQuery(K,H,$);continue}}else X[K]=J.castForQuery(K,H,$)}return X}});var Ii=R((C10,Ni)=>{var CC1=/^\d+$/;Ni.exports=function Z(Y,J){let X=Y.path(J);if(X!=null)return X;const $=J.split(".");let W="",G=!1;for(let Q of $){if(G&&CC1.test(Q))continue;if(W=W.length===0?Q:W+"."+Q,X=Y.path(W),X!=null&&X.schema){if(Y=X.schema,W="",!G&&X.$isMongooseDocumentArray)G=!0}}return X}});var uB=R((E10,Pi)=>{var Di=EJ().modifiedPaths;Pi.exports=function Z(Y){const J=Object.keys(Y),X={},$={};for(let W of J){if(W.startsWith("$")){Di(Y[W],"",X);continue}$[W]=Y[W]}return Di($,"",X),X}});var dB=R((j10,Ti)=>{var EC1=uB();Ti.exports=function Z(Y){if(Y==null)return{};const J=EC1(Y);return Object.keys(J).reduce((X,$)=>{const W=$.match(/\$\[[^\]]+\]/g);if(W==null)return X;for(let G of W){const Q=$.indexOf(G);if(Q!==$.lastIndexOf(G))throw new Error(`Path '${$}' contains the same array filter multiple times`);X[G.substring(2,G.length-1)]=$.substring(0,Q-1).replace(/\$\[[^\]]+\]/g,"0")}return X},{})}});var Si=R((O10,Oi)=>{var ji=function(Z,Y,J,X,$){if(!Array.isArray(Z))return;for(let W of Z){if(W==null)throw new Error(`Got null array filter in ${Z}`);const G=Object.keys(W).filter((q)=>W[q]!=null);if(G.length===0)continue;const Q=G[0];if(Q==="$and"||Q==="$or"){for(let q of G)ji(W[q],Y,J,X,$);continue}const K=Q.indexOf("."),H=K===-1?Q:Q.substring(0,K);if(X[H]==null)continue;const z=Ci(X[H]),F=Ei(Y,z);let U=F!=null?F.schema:null;if(U!=null&&U.discriminators!=null&&W[H+"."+U.options.discriminatorKey])U=U.discriminators[W[H+"."+U.options.discriminatorKey]]||U;for(let q of G){if(X[q]===null)continue;if(Object.keys(X).length===0)continue;const V=q.indexOf(".");let L=V===-1?null:q.substring(V),w;if(L==null||U==null)w=F;else L=Ci(L),w=Ei(U,L);if(w==null){if(!J)return;const B=L==null?z+".0":z+".0"+L;throw new Error(`Could not find path "${B}" in schema`)}if(typeof W[q]==="object")W[q]=jC1($,w,W[q]);else W[q]=w.castForQuery(null,W[q])}}},jC1=Ai(),Ci=A$(),Ei=Ii(),OC1=dB();Oi.exports=function Z(Y){const J=Y.options.arrayFilters,X=Y.getUpdate(),$=Y.schema,W=OC1(X);let G=$.options.strict;if(Y._mongooseOptions.strict!=null)G=Y._mongooseOptions.strict;if(Y.model&&Y.model.base.options.strictQuery!=null)G=Y.model.base.options.strictQuery;if($._userProvidedOptions.strictQuery!=null)G=$._userProvidedOptions.strictQuery;if(Y._mongooseOptions.strictQuery!=null)G=Y._mongooseOptions.strictQuery;ji(J,$,G,W,Y)}});var xi=R((S10,_i)=>{var SC1=A$(),ki=V0(),kC1=h7(),_C1=dB();_i.exports=function Z(Y,J,X,$,W){const G=$.split(".");let Q=null,K="adhocOrUndefined";X=X||{},J=J||{};const H=W!=null&&Array.isArray(W.arrayFilters)?W.arrayFilters:[],z=_C1(J);for(let F=0;F<G.length;++F){const U=SC1(G.slice(0,F+1).join("."));if(Q=Y.path(U),Q==null)continue;if(K=Y.pathType(U),(Q.$isSingleNested||Q.$isMongooseDocumentArrayElement)&&Q.schema.discriminators!=null){const q=ki(Q,"schema.options.discriminatorKey"),V=U+"."+q,L=V.replace(/\.\d+\./,".");let w=null;if(V in X)w=X[V];if(L in X)w=X[L];const B=U.replace(/\.\d+$/,"");if(Q.$isMongooseDocumentArrayElement&&ki(X[B],"$elemMatch."+q)!=null)w=X[B].$elemMatch[q];if(V in J)w=J[V];for(let x of Object.keys(z)){const j=z[x]+"."+q,E=x+"."+q;if(j===L){const D=H.find((l)=>l.hasOwnProperty(E));if(D!=null)w=D[E]}}if(w==null)continue;const A=kC1(Q.caster.discriminators,w),M=A&&A.schema;if(M==null)continue;const I=G.slice(F+1).join(".");if(Q=M.path(I),Q!=null){K=M._getPathType(I);break}}}return{type:K,schematype:Q}}});var yi=R((k10,fi)=>{var xC1=JZ();fi.exports=function Z(Y,J,X,$,W,G){if(Y==null||!Y.options||!Y.options.immutable)return!1;let Q=Y.options.immutable;if(typeof Q==="function")Q=Q.call(G,G);if(!Q)return!1;if(J===!1)return!1;if(J==="throw")throw new xC1(null,`Field ${W} is immutable and strict = 'throw'`);return delete X[$],!0}});var vi=R((_10,bi)=>{var gi=function(Z,Y,J,X,$){const W=Z.path(J);if(W==null)return;let G=fC1(W,"options.immutable",null);if(G==null)return;if(typeof G==="function")G=G.call($,$);if(!G)return;X.$setOnInsert=X.$setOnInsert||{},X.$setOnInsert[J]=Y[J],delete Y[J]},fC1=V0();bi.exports=function Z(Y,J,X){if(J==null)return;const $=Object.keys(J);for(let W of $){const G=W.startsWith("$");if(W==="$set"){const Q=Object.keys(J[W]);for(let K of Q)gi(Y,J[W],K,J,X)}else if(!G)gi(Y,J,W,J,X)}}});var pB=R((x10,hi)=>{var cB=iZ();hi.exports=function Z(Y,J,X){if(J.indexOf(".")===-1){if(cB.has(J))return;Y[J]=X;return}const $=J.split("."),W=$.pop();let G=Y;for(let Q of $){if(cB.has(Q))continue;if(G[Q]==null)G[Q]={};G=G[Q]}if(!cB.has(W))G[W]=X}});var rB=R((f10,ni)=>{var mC1=function(Z,Y){if(Z==="$unset"){if(typeof Y!=="string"&&(!Array.isArray(Y)||Y.find((J)=>typeof J!=="string")))throw new h$("Invalid $unset in pipeline, must be  a string or an array of strings");return Y}if(Z==="$project"){if(Y==null||typeof Y!=="object")throw new h$("Invalid $project in pipeline, must be an object");return Y}if(Z==="$addFields"||Z==="$set"){if(Y==null||typeof Y!=="object")throw new h$("Invalid "+Z+" in pipeline, must be an object");return Y}else if(Z==="$replaceRoot"||Z==="$replaceWith"){if(Y==null||typeof Y!=="object")throw new h$("Invalid "+Z+" in pipeline, must be an object");return Y}throw new h$('Invalid update pipeline operator: "'+Z+'"')},ii=function(Z,Y,J,X,$,W,G){const Q=X.strict,K=G?G+".":"",H=Object.keys(Y);let z=H.length,F=!1,U,q,V,L=null;const w=Q!=null?Q:Z.options.strict;while(z--){if(q=H[z],V=Y[q],J==="$pull"){if(U=Z._getSchema(K+q),U!=null&&U.schema!=null){Y[q]=gC1(U.schema,Y[q],X,$),F=!0;continue}}const B=K?K+q:q;if(Z.discriminatorMapping!=null&&B===Z.options.discriminatorKey&&Z.discriminatorMapping.value!==Y[q]&&!X.overwriteDiscriminatorKey){if(w==="throw"){const A=new Error('Can\'t modify discriminator key "'+B+'" on discriminator model');L=nJ(A,$,B,L);continue}else if(w){delete Y[q];continue}}if(bC1(V)==="Object"){if(U=Z._getSchema(K+q),U==null){const A=ui(Z,Y,W,K+q,X);if(A.schematype!=null)U=A.schematype}if(J!=="$setOnInsert"&&di(U,Q,Y,q,K+q,$))continue;if(U&&U.caster&&(J in aB))if("$each"in V){F=!0;try{Y[q]={$each:m$(U,V.$each,J,q,$,K+q)}}catch(A){L=nJ(A,$,q,L)}if(V.$slice!=null)Y[q].$slice=V.$slice|0;if(V.$sort)Y[q].$sort=V.$sort;if(V.$position!=null)Y[q].$position=iB(V.$position)}else{if(U!=null&&U.$isSingleNested){const A=Q==null?U.schema.options.strict:Q;try{Y[q]=U.castForQuery(null,V,$,{strict:A})}catch(M){L=nJ(M,$,q,L)}}else try{Y[q]=m$(U,V,J,q,$,K+q)}catch(A){L=nJ(A,$,q,L)}if(Y[q]===void 0){delete Y[q];continue}F=!0}else if(J==="$currentDate"||(J in aB)&&U){try{Y[q]=m$(U,V,J,q,$,K+q)}catch(A){L=nJ(A,$,q,L)}if(Y[q]===void 0){delete Y[q];continue}F=!0}else{const A=K+q,M=Z._getPathType(A);let I=Q;if(M&&M.schema&&I==null)I=M.schema.options.strict;if(M.pathType==="undefined"){if(I==="throw")throw new mi(A);else if(I){delete Y[q];continue}}F|=ii(Z,V,J,X,$,W,K+q)||sB.isObject(V)&&Object.keys(V).length===0}}else{const A=q==="$each"||q==="$or"||q==="$and"||q==="$in"?G:K+q;if(U=Z._getSchema(A),J!=="$setOnInsert"&&di(U,Q,Y,q,K+q,$))continue;let M=Z._getPathType(A);if(U==null){const j=ui(Z,Y,W,A,X);if(j.schematype!=null)U=j.schematype,M=j.type}let I=Q;if(M&&M.schema&&Q==null)I=M.schema.options.strict;if(I&&!U&&!/real|nested/.test(M.pathType))if(I==="throw"&&Z.virtuals[A]==null)throw new mi(K+q);else delete Y[q];else{if(J==="$rename"){F=!0;continue}try{if(K.length===0||q.indexOf(".")===-1)Y[q]=m$(U,V,J,q,$,K+q);else if(I!==!1||U!=null)hC1(Y,q,m$(U,V,J,q,$,K+q)),delete Y[q]}catch(j){L=nJ(j,$,q,L)}if(Array.isArray(Y[q])&&(J==="$addToSet"||J==="$push")&&q!=="$each"){if(U&&U.caster&&!U.caster.$isMongooseArray&&!U.caster[li])Y[q]={$each:Y[q]}}if(Y[q]===void 0){delete Y[q];continue}F=!0}}}if(L!=null)throw L;return F},nJ=function(Z,Y,J,X){if(typeof Y!=="object"||!Y.options.multipleCastError)throw Z;return X=X||new yC1,X.addError(J,Z),X},m$=function(Z,Y,J,X,$,W){if(!Z){if(J in ci)try{return iB(Y)}catch(Q){throw new lB("number",Y,W)}return Y}if(Z.caster&&(J in aB)&&(sB.isObject(Y)||Array.isArray(Y))&&!pi[J]){let Q=0,K=Z;while(K.$isMongooseArray)++Q,K=K.caster;let H=0,z=Y;while(Array.isArray(z))++H,z=z[0];const F=Q-H;while(H<Q)Y=[Y],++H;let U=Z.applySetters(Array.isArray(Y)?Y:[Y],$);for(let q=0;q<F;++q)U=U[0];return U}if(J in uC1)return Y;if(J in ci){if(Y==null)throw new lB("number",Y,Z.path);if(J==="$inc")return Z.castForQuery(null,Y,$);try{return iB(Y)}catch(Q){throw new lB("number",Y,Z.path)}}if(J==="$currentDate"){if(typeof Y==="object")return{$type:Y.$type};return Boolean(Y)}if(nB.has(X))return Z.castForQuery(X,Y,$);if(pi[J]){const Q=Y!=null&&Z.$isMongooseArray&&Z.$fullPath!=null&&!Z.$fullPath.match(/\d+$/),K=Z[li]!=null;if(Q||K)return Z.applySetters(Y,$);return Z.castForQuery(null,Y,$)}return Z.castForQuery(null,Y,$)},lB=v8(),h$=z0(),mi=JZ(),yC1=I9(),iB=P$(),gC1=vJ(),bC1=G6(),ui=xi(),di=yi(),vC1=vi(),li=P9().schemaMixedSymbol,hC1=pB(),sB=H1(),nB=new Set(["$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$bit"]);ni.exports=function Z(Y,J,X,$,W){if(J==null)return;if(X=X||{},Array.isArray(J)){const F=J.length;for(let U=0;U<F;++U){const q=Object.keys(J[U]);for(let V of q)J[U][V]=mC1(V,J[U][V])}return J}if(X.upsert)vC1(Y,J,$);const G=Object.keys(J);let Q=G.length;const K={};let H,z=!1;W=W||{};while(Q--){const F=G[Q];if(!nB.has(F)){if(!K.$set)if(J.$set)K.$set=J.$set;else K.$set={};if(K.$set[F]=J[F],G.splice(Q,1),!~G.indexOf("$set"))G.push("$set")}else if(F==="$set"){if(!K.$set)K[F]=J[F]}else K[F]=J[F]}Q=G.length;while(Q--){const F=G[Q];if(H=K[F],z=z||F.startsWith("$"),H&&typeof H==="object"&&!Buffer.isBuffer(H)&&nB.has(F))ii(Y,H,F,X,$,W);else{const U="Invalid atomic update value for "+F+". Expected an object, received "+typeof H;throw new Error(U)}if(F.startsWith("$")&&sB.isEmptyObject(H))delete K[F]}if(Object.keys(K).length===0&&X.upsert&&Object.keys(W).length>0)return{$setOnInsert:{...W}};return K};/*!
 * ignore
 *//*!
 * ignore
 */var ci={$pop:1,$inc:1},uC1={$unset:1},aB={$push:1,$addToSet:1,$set:1,$setOnInsert:1};/*!
 * ignore
 */var pi={$set:1,$setOnInsert:1}});var si=R((y10,ai)=>{async function cC1(Z,Y,J,X,$){return Promise.all(Y.map((W)=>new Promise((G,Q)=>{const K=W;if(W=dC1.createModel(Z,W,J,X),$.session!=null)W.$session($.session);W.$init(K,$,(H)=>{if(H!=null)return Q(H);G(W)})})))}var dC1=SJ();ai.exports=cC1});var vH=R((g10,ri)=>{var pC1=jJ();/*!
 * ignore
 */ri.exports=function Z(Y){if(Y==null)return!1;const J=Object.keys(Y),X=J.length;if(X===0)return!1;for(let $=0;$<X;++$){const W=J[$];if(W.startsWith("+"))continue;if(pC1(Y[W])&&!!Y[W])if(Y[W]!=null&&typeof Y[W]==="object")return Z(Y[W]);else return!!Y[W]}return!1}});var oi=R((b10,ti)=>{ti.exports=function Z(Y,J){return Y===J||J.startsWith(Y+".")}});var Jn=R((aC1)=>{var nC1=function(Z){if(arguments.length>1)throw new Error("Adding properties is not supported");function Y(){}return Y.prototype=Z,new Y};/*!
 * Module dependencies.
 */var tB=["__proto__","constructor","prototype"],hH=aC1.clone=function Z(Y,J){if(Y===void 0||Y===null)return Y;if(Array.isArray(Y))return aC1.cloneArray(Y,J);if(Y.constructor){if(/ObjectI[dD]$/.test(Y.constructor.name))return typeof Y.clone=="function"?Y.clone():new Y.constructor(Y.id);if(Y.constructor.name==="ReadPreference")return new Y.constructor(Y.mode,Z(Y.tags,J));if(Y._bsontype=="Binary"&&Y.buffer&&Y.value)return typeof Y.clone=="function"?Y.clone():new Y.constructor(Y.value(!0),Y.sub_type);if(Y.constructor.name==="Date"||Y.constructor.name==="Function")return new Y.constructor(+Y);if(Y.constructor.name==="RegExp")return new RegExp(Y);if(Y.constructor.name==="Buffer")return Buffer.from(Y)}if(iC1(Y))return aC1.cloneObject(Y,J);if(Y.valueOf)return Y.valueOf()};/*!
 * ignore
 */aC1.cloneObject=function Z(Y,J){const X=J&&J.minimize,$={},W=Object.keys(Y),G=W.length;let Q=!1,K,H="",z=0;for(z=0;z<G;++z){if(H=W[z],tB.indexOf(H)!==-1)continue;if(K=hH(Y[H],J),!X||typeof K!=="undefined")Q||(Q=!0),$[H]=K}return X?Q&&$:$};aC1.cloneArray=function Z(Y,J){const X=[],$=Y.length;let W=0;for(;W<$;W++)X.push(hH(Y[W],J));return X};aC1.merge=function Z(Y,J){const X=Object.keys(J);for(let $ of X){if(tB.indexOf($)!==-1)continue;if(typeof Y[$]==="undefined")Y[$]=J[$];else if(aC1.isObject(J[$]))Z(Y[$],J[$]);else Y[$]=J[$]}};aC1.mergeClone=function Z(Y,J){const X=Object.keys(J);for(let $ of X){if(tB.indexOf($)!==-1)continue;if(typeof Y[$]==="undefined")Y[$]=hH(J[$]);else if(aC1.isObject(J[$]))Z(Y[$],J[$]);else Y[$]=hH(J[$])}};aC1.readPref=function Z(Y){switch(Y){case"p":Y="primary";break;case"pp":Y="primaryPreferred";break;case"s":Y="secondary";break;case"sp":Y="secondaryPreferred";break;case"n":Y="nearest";break}return Y};aC1.readConcern=function Z(Y){if(typeof Y==="string"){switch(Y){case"l":Y="local";break;case"a":Y="available";break;case"m":Y="majority";break;case"lz":Y="linearizable";break;case"s":Y="snapshot";break}Y={level:Y}}return Y};var lC1=Object.prototype.toString;aC1.toString=function(Z){return lC1.call(Z)};var iC1=aC1.isObject=function(Z){return aC1.toString(Z)=="[object Object]"};aC1.keys=Object.keys;aC1.create=typeof Object.create=="function"?Object.create:nC1;aC1.inherits=function(Z,Y){Z.prototype=aC1.create(Y.prototype),Z.prototype.constructor=Z};aC1.isArgumentsObject=function(Z){return Object.prototype.toString.call(Z)==="[object Arguments]"}});var $n=R((Xn)=>{var P0=Xn;P0.distinct=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const Y=Object.keys(P0.distinct);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};P0.distinct.select=P0.distinct.slice=P0.distinct.sort=P0.distinct.limit=P0.distinct.skip=P0.distinct.batchSize=P0.distinct.hint=P0.distinct.tailable=!0;P0.findOneAndUpdate=P0.findOneAndRemove=function(Z){const Y=Object.keys(P0.findOneAndUpdate);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};P0.findOneAndUpdate.limit=P0.findOneAndUpdate.skip=P0.findOneAndUpdate.batchSize=P0.findOneAndUpdate.tailable=!0;P0.count=function(Z){if(Z._fields&&Object.keys(Z._fields).length>0)return"field selection and slice";const Y=Object.keys(P0.count);let J;return Y.every(function(X){if(Z.options[X])return J=X,!1;return!0}),J};P0.count.slice=P0.count.batchSize=P0.count.tailable=!0});var eB=R(($E1,Wn)=>{$E1.isNode=typeof process!="undefined"&&typeof Wn=="object"&&typeof global=="object"&&typeof Buffer=="function"&&process.argv;$E1.isMongo=!$E1.isNode&&typeof printjson=="function"&&typeof ObjectId=="function"&&typeof rs=="function"&&typeof sh=="function";$E1.isBrowser=!$E1.isNode&&!$E1.isMongo&&typeof window!="undefined";$E1.type=$E1.isNode?"node":$E1.isMongo?"mongo":$E1.isBrowser?"browser":"unknown"});var u$=R((Qn,Kn)=>{var YA=function(){},GE1=function(Z){return function(){throw new Error("collection."+Z+" not implemented")}},ZA=["find","findOne","updateMany","updateOne","replaceOne","count","distinct","findOneAndDelete","findOneAndUpdate","aggregate","findCursor","deleteOne","deleteMany"];for(let Z=0,Y=ZA.length;Z<Y;++Z){const J=ZA[Z];YA.prototype[J]=GE1(J)}Kn.exports=Qn=YA;YA.methods=ZA});var Un=R((zn,Fn)=>{var QE1=u$();class Hn extends QE1{constructor(Z){super();this.collection=Z,this.collectionName=Z.collectionName}async find(Z,Y){return this.collection.find(Z,Y).toArray()}async findOne(Z,Y){return this.collection.findOne(Z,Y)}async count(Z,Y){return this.collection.count(Z,Y)}async distinct(Z,Y,J){return this.collection.distinct(Z,Y,J)}async updateMany(Z,Y,J){return this.collection.updateMany(Z,Y,J)}async updateOne(Z,Y,J){return this.collection.updateOne(Z,Y,J)}async replaceOne(Z,Y,J){return this.collection.replaceOne(Z,Y,J)}async deleteOne(Z,Y){return this.collection.deleteOne(Z,Y)}async deleteMany(Z,Y){return this.collection.deleteMany(Z,Y)}async findOneAndDelete(Z,Y){return this.collection.findOneAndDelete(Z,Y)}async findOneAndUpdate(Z,Y,J){return this.collection.findOneAndUpdate(Z,Y,J)}findCursor(Z,Y){return this.collection.find(Z,Y)}}Fn.exports=zn=Hn});var Vn=R((u10,qn)=>{var JA=eB();if(JA.type=="unknown")throw new Error("Unknown environment");qn.exports=JA.isNode?Un():JA.isMongo?u$():u$()});var GA=R((Rn,wn)=>{var u=function(Z,Y){if(!(this instanceof u))return new u(Z,Y);const J=this.constructor.prototype;if(this.op=J.op||void 0,this.options=Object.assign({},J.options),this._conditions=J._conditions?h1.clone(J._conditions):{},this._fields=J._fields?h1.clone(J._fields):void 0,this._updateDoc=J._updateDoc?h1.clone(J._updateDoc):void 0,this._path=J._path||void 0,this._distinctDoc=J._distinctDoc||void 0,this._collection=J._collection||void 0,this._traceFunction=J._traceFunction||void 0,Y)this.setOptions(Y);if(Z)this.find(Z)},Ln=function(Z,Y,J){if(Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let X;if(J&&J.$meta){X=Z.sort||(Z.sort={}),X[Y]={$meta:J.$meta};return}X=Z.sort||(Z.sort={});let $=String(J||1).toLowerCase();if($=XA[$],!$)throw new TypeError("Invalid sort value: { "+Y+": "+J+" }");X[Y]=$},zE1=function(Z,Y,J){if(Z.sort=Z.sort||[],!Array.isArray(Z.sort))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object:\n- `.sort([[\'field\', 1], [\'test\', -1]])`\n- `.sort({ field: 1, test: -1 })`");let X=String(J||1).toLowerCase();if(X=XA[X],!X)throw new TypeError("Invalid sort value: [ "+Y+", "+J+" ]");Z.sort.push([Y,X])},FE1=function(Z,Y){if(Z.sort=Z.sort||new Map,!(Z.sort instanceof Map))throw new TypeError("Can\'t mix sort syntaxes. Use either array or object or map consistently");Y.forEach(function(J,X){let $=String(J||1).toLowerCase();if($=XA[$],!$)throw new TypeError("Invalid sort value: < "+X+": "+J+" >");Z.sort.set(X,$)})},$A=function(Z,Y,J,X,$){if(Z.op=Y,u.canMerge(J))Z.merge(J);if(X)Z._mergeUpdate(X);if(h1.isObject($))Z.setOptions($);return Z};async function WA(Z,Y){const J=Z._optionsForExec(),X=Z._conditions,$=Z._updateForExec();return W5("update",Z._collection.collectionName,X,$,J),Z._collection[Y](X,$,J)}var KE1=import.meta.require("assert"),HE1=import.meta.require("util"),h1=Jn(),W5=hX()("mquery"),g9="$geoWithin";Object.defineProperty(u,"use$geoWithin",{get:function(){return g9=="$geoWithin"},set:function(Z){if(Z===!0)g9="$geoWithin";else g9="$within"}});u.prototype.toConstructor=function Z(){function Y(X,$){if(!(this instanceof Y))return new Y(X,$);u.call(this,X,$)}h1.inherits(Y,u);const J=Y.prototype;return J.options={},J.setOptions(this.options),J.op=this.op,J._conditions=h1.clone(this._conditions),J._fields=h1.clone(this._fields),J._updateDoc=h1.clone(this._updateDoc),J._path=this._path,J._distinctDoc=this._distinctDoc,J._collection=this._collection,J._traceFunction=this._traceFunction,Y};u.prototype.setOptions=function(Z){if(!(Z&&h1.isObject(Z)))return this;const Y=h1.keys(Z);let J;for(let X=0;X<Y.length;++X)if(J=Y[X],typeof this[J]=="function"){const $=Array.isArray(Z[J])?Z[J]:[Z[J]];this[J].apply(this,$)}else this.options[J]=Z[J];return this};u.prototype.collection=function Z(Y){return this._collection=new u.Collection(Y),this};u.prototype.collation=function(Z){return this.options.collation=Z,this};u.prototype.$where=function(Z){return this._conditions.$where=Z,this};u.prototype.where=function(){if(!arguments.length)return this;if(!this.op)this.op="find";const Z=typeof arguments[0];if(Z=="string"){if(this._path=arguments[0],arguments.length===2)this._conditions[this._path]=arguments[1];return this}if(Z=="object"&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")};u.prototype.equals=function Z(Y){this._ensurePath("equals");const J=this._path;return this._conditions[J]=Y,this};u.prototype.eq=function Z(Y){this._ensurePath("eq");const J=this._path;return this._conditions[J]=Y,this};u.prototype.or=function Z(Y){const J=this._conditions.$or||(this._conditions.$or=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};u.prototype.nor=function Z(Y){const J=this._conditions.$nor||(this._conditions.$nor=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};u.prototype.and=function Z(Y){const J=this._conditions.$and||(this._conditions.$and=[]);if(!Array.isArray(Y))Y=[Y];return J.push.apply(J,Y),this};/*!
 * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance
 *
 *     Thing.where('type').nin(array)
 */"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(Z){u.prototype[Z]=function(){let Y,J;if(arguments.length===1)this._ensurePath(Z),J=arguments[0],Y=this._path;else J=arguments[1],Y=arguments[0];const X=this._conditions[Y]===null||typeof this._conditions[Y]==="object"?this._conditions[Y]:this._conditions[Y]={};return X["$"+Z]=J,this}});u.prototype.mod=function(){let Z,Y;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],Y=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],Y=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],Y=arguments[0];else Z=arguments[1],Y=arguments[0];const J=this._conditions[Y]||(this._conditions[Y]={});return J.$mod=Z,this};u.prototype.exists=function(){let Z,Y;if(arguments.length===0)this._ensurePath("exists"),Z=this._path,Y=!0;else if(arguments.length===1)if(typeof arguments[0]==="boolean")this._ensurePath("exists"),Z=this._path,Y=arguments[0];else Z=arguments[0],Y=!0;else if(arguments.length===2)Z=arguments[0],Y=arguments[1];const J=this._conditions[Z]||(this._conditions[Z]={});return J.$exists=Y,this};u.prototype.elemMatch=function(){if(arguments[0]==null)throw new TypeError("Invalid argument");let Z,Y,J;if(typeof arguments[0]==="function")this._ensurePath("elemMatch"),Y=this._path,Z=arguments[0];else if(h1.isObject(arguments[0]))this._ensurePath("elemMatch"),Y=this._path,J=arguments[0];else if(typeof arguments[1]==="function")Y=arguments[0],Z=arguments[1];else if(arguments[1]&&h1.isObject(arguments[1]))Y=arguments[0],J=arguments[1];else throw new TypeError("Invalid argument");if(Z)J=new u,Z(J),J=J._conditions;const X=this._conditions[Y]||(this._conditions[Y]={});return X.$elemMatch=J,this};u.prototype.within=function Z(){if(this._ensurePath("within"),this._geoComparison=g9,arguments.length===0)return this;if(arguments.length===2)return this.box.apply(this,arguments);else if(2<arguments.length)return this.polygon.apply(this,arguments);const Y=arguments[0];if(!Y)throw new TypeError("Invalid argument");if(Y.center)return this.circle(Y);if(Y.box)return this.box.apply(this,Y.box);if(Y.polygon)return this.polygon.apply(this,Y.polygon);if(Y.type&&Y.coordinates)return this.geometry(Y);throw new TypeError("Invalid argument")};u.prototype.box=function(){let Z,Y;if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];else if(arguments.length===2)this._ensurePath("box"),Z=this._path,Y=[arguments[0],arguments[1]];else throw new TypeError("Invalid argument");const J=this._conditions[Z]||(this._conditions[Z]={});return J[this._geoComparison||g9]={$box:Y},this};u.prototype.polygon=function(){let Z,Y;if(typeof arguments[0]=="string")Z=Array.from(arguments),Y=Z.shift();else this._ensurePath("polygon"),Y=this._path,Z=Array.from(arguments);const J=this._conditions[Y]||(this._conditions[Y]={});return J[this._geoComparison||g9]={$polygon:Z},this};u.prototype.circle=function(){let Z,Y;if(arguments.length===1)this._ensurePath("circle"),Z=this._path,Y=arguments[0];else if(arguments.length===2)Z=arguments[0],Y=arguments[1];else throw new TypeError("Invalid argument");if(!(("radius"in Y)&&Y.center))throw new Error("center and radius are required");const J=this._conditions[Z]||(this._conditions[Z]={}),X=Y.spherical?"$centerSphere":"$center",$=this._geoComparison||g9;if(J[$]={},J[$][X]=[Y.center,Y.radius],("unique"in Y))J[$].$uniqueDocs=!!Y.unique;return this};u.prototype.near=function Z(){let Y,J;if(this._geoComparison="$near",arguments.length===0)return this;else if(arguments.length===1)this._ensurePath("near"),Y=this._path,J=arguments[0];else if(arguments.length===2)Y=arguments[0],J=arguments[1];else throw new TypeError("Invalid argument");if(!J.center)throw new Error("center is required");const X=this._conditions[Y]||(this._conditions[Y]={}),$=J.spherical?"$nearSphere":"$near";if(Array.isArray(J.center)){X[$]=J.center;const W="maxDistance"in J?J.maxDistance:null;if(W!=null)X.$maxDistance=W;if(J.minDistance!=null)X.$minDistance=J.minDistance}else{if(J.center.type!="Point"||!Array.isArray(J.center.coordinates))throw new Error(HE1.format("Invalid GeoJSON specified for %s",$));if(X[$]={$geometry:J.center},("maxDistance"in J))X[$].$maxDistance=J.maxDistance;if("minDistance"in J)X[$].$minDistance=J.minDistance}return this};u.prototype.intersects=function Z(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",arguments.length===0)return this;const Y=arguments[0];if(Y!=null&&Y.type&&Y.coordinates)return this.geometry(Y);throw new TypeError("Invalid argument")};u.prototype.geometry=function Z(){if(!(this._geoComparison=="$within"||this._geoComparison=="$geoWithin"||this._geoComparison=="$near"||this._geoComparison=="$geoIntersects"))throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");let Y,J;if(arguments.length===1)this._ensurePath("geometry"),J=this._path,Y=arguments[0];else throw new TypeError("Invalid argument");if(!(Y.type&&Array.isArray(Y.coordinates)))throw new TypeError("Invalid argument");const X=this._conditions[J]||(this._conditions[J]={});return X[this._geoComparison]={$geometry:Y},this};u.prototype.select=function Z(){let Y=arguments[0];if(!Y)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const J=this._fields||(this._fields={}),X=typeof Y;let $,W;if((X=="string"||h1.isArgumentsObject(Y))&&typeof Y.length=="number"||Array.isArray(Y)){if(X=="string")Y=Y.split(/\s+/);for($=0,W=Y.length;$<W;++$){let G=Y[$];if(!G)continue;const Q=G[0]=="-"?0:1;if(Q===0)G=G.substring(1);J[G]=Q}return this}if(h1.isObject(Y)){const G=h1.keys(Y);for($=0;$<G.length;++$)J[G[$]]=Y[G[$]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")};u.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,Y;if(arguments.length===1){const X=arguments[0];if(typeof X==="object"&&!Array.isArray(X)){const $=Object.keys(X),W=$.length;for(let G=0;G<W;++G)this.slice($[G],X[$[G]]);return this}this._ensurePath("slice"),Z=this._path,Y=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,Y=[arguments[0],arguments[1]];else Z=arguments[0],Y=arguments[1];else if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];const J=this._fields||(this._fields={});return J[Z]={$slice:Y},this};u.prototype.sort=function(Z){if(!Z)return this;let Y,J,X;this._validate("sort");const $=typeof Z;if(Array.isArray(Z)){J=Z.length;for(Y=0;Y<Z.length;++Y){if(!Array.isArray(Z[Y]))throw new Error("Invalid sort() argument, must be array of arrays");zE1(this.options,Z[Y][0],Z[Y][1])}return this}if(arguments.length===1&&$=="string"){Z=Z.split(/\s+/),J=Z.length;for(Y=0;Y<J;++Y){if(X=Z[Y],!X)continue;const W=X[0]=="-"?-1:1;if(W===-1)X=X.substring(1);Ln(this.options,X,W)}return this}if(h1.isObject(Z)){const W=h1.keys(Z);for(Y=0;Y<W.length;++Y)X=W[Y],Ln(this.options,X,Z[X]);return this}if(typeof Map!=="undefined"&&Z instanceof Map)return FE1(this.options,Z),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};/*!
 * @ignore
 */var XA={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};/*!
 * limit, skip, batchSize, comment
 *
 * Sets these associated options.
 *
 *     query.comment('feed query');
 */["limit","skip","batchSize","comment"].forEach(function(Z){u.prototype[Z]=function(Y){return this._validate(Z),this.options[Z]=Y,this}});u.prototype.maxTime=u.prototype.maxTimeMS=function(Z){return this._validate("maxTime"),this.options.maxTimeMS=Z,this};u.prototype.hint=function(){if(arguments.length===0)return this;this._validate("hint");const Z=arguments[0];if(h1.isObject(Z)){const Y=this.options.hint||(this.options.hint={});for(let J in Z)Y[J]=Z[J];return this}if(typeof Z==="string")return this.options.hint=Z,this;throw new TypeError("Invalid hint. "+Z)};u.prototype.j=function Z(Y){return this.options.j=Y,this};u.prototype.slaveOk=function(Z){return this.options.slaveOk=arguments.length?!!Z:!0,this};u.prototype.read=u.prototype.setReadPreference=function(Z){if(arguments.length>1&&!u.prototype.read.deprecationWarningIssued)console.error("Deprecation warning: \'tags\' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),u.prototype.read.deprecationWarningIssued=!0;return this.options.readPreference=h1.readPref(Z),this};u.prototype.readConcern=u.prototype.r=function(Z){return this.options.readConcern=h1.readConcern(Z),this};u.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=arguments.length?!!arguments[0]:!0,this};u.prototype.writeConcern=u.prototype.w=function Z(Y){if(typeof Y==="object"){if(typeof Y.j!=="undefined")this.options.j=Y.j;if(typeof Y.w!=="undefined")this.options.w=Y.w;if(typeof Y.wtimeout!=="undefined")this.options.wtimeout=Y.wtimeout}else this.options.w=Y==="m"?"majority":Y;return this};u.prototype.wtimeout=u.prototype.wTimeout=function Z(Y){return this.options.wtimeout=Y,this};u.prototype.merge=function(Z){if(!Z)return this;if(!u.canMerge(Z))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");if(Z instanceof u){if(Z._conditions)h1.merge(this._conditions,Z._conditions);if(Z._fields)this._fields||(this._fields={}),h1.merge(this._fields,Z._fields);if(Z.options)this.options||(this.options={}),h1.merge(this.options,Z.options);if(Z._updateDoc)this._updateDoc||(this._updateDoc={}),h1.mergeClone(this._updateDoc,Z._updateDoc);if(Z._distinctDoc)this._distinctDoc=Z._distinctDoc;return this}return h1.merge(this._conditions,Z),this};u.prototype.find=function(Z){if(this.op="find",u.canMerge(Z))this.merge(Z);return this};u.prototype._find=async function Z(){const Y=this._conditions,J=this._optionsForExec();if(this.$useProjection)J.projection=this._fieldsForExec();else J.fields=this._fieldsForExec();return W5("_find",this._collection.collectionName,Y,J),this._collection.find(Y,J)};u.prototype.cursor=function Z(Y){if(this.op){if(this.op!=="find")throw new TypeError(".cursor only support .find method")}else this.find(Y);const J=this._conditions,X=this._optionsForExec();if(this.$useProjection)X.projection=this._fieldsForExec();else X.fields=this._fieldsForExec();return W5("findCursor",this._collection.collectionName,J,X),this._collection.findCursor(J,X)};u.prototype.findOne=function(Z){if(this.op="findOne",u.canMerge(Z))this.merge(Z);return this};u.prototype._findOne=async function Z(){const Y=this._conditions,J=this._optionsForExec();if(this.$useProjection)J.projection=this._fieldsForExec();else J.fields=this._fieldsForExec();return W5("findOne",this._collection.collectionName,Y,J),this._collection.findOne(Y,J)};u.prototype.count=function(Z){if(this.op="count",this._validate(),u.canMerge(Z))this.merge(Z);return this};u.prototype._count=async function Z(){const Y=this._conditions,J=this._optionsForExec();return W5("count",this._collection.collectionName,Y,J),this._collection.count(Y,J)};u.prototype.distinct=function(Z,Y){if(this.op="distinct",this._validate(),!Y&&typeof Z==="string")Y=Z,Z=void 0;if(typeof Y=="string")this._distinctDoc=Y;if(u.canMerge(Z))this.merge(Z);return this};u.prototype._distinct=async function Z(){if(!this._distinctDoc)throw new Error("No value for `distinct` has been declared");const Y=this._conditions,J=this._optionsForExec();return W5("distinct",this._collection.collectionName,Y,J),this._collection.distinct(this._distinctDoc,Y,J)};u.prototype.updateMany=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return $A(this,"updateMany",Y,J,X)};u.prototype._updateMany=async function(){return WA(this,"updateMany")};u.prototype.updateOne=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return $A(this,"updateOne",Y,J,X)};u.prototype._updateOne=async function(){return WA(this,"updateOne")};u.prototype.replaceOne=function Z(Y,J,X){if(arguments.length===1)J=Y,Y=X=void 0;return this.setOptions({overwrite:!0}),$A(this,"replaceOne",Y,J,X)};u.prototype._replaceOne=async function(){return WA(this,"replaceOne")};/*!
 * Internal helper for updateMany, updateOne
 */u.prototype.deleteOne=function(Z){if(this.op="deleteOne",u.canMerge(Z))this.merge(Z);return this};u.prototype._deleteOne=async function(){const Z=this._optionsForExec();delete Z.justOne;const Y=this._conditions;return W5("deleteOne",this._collection.collectionName,Y,Z),this._collection.deleteOne(Y,Z)};u.prototype.deleteMany=function(Z){if(this.op="deleteMany",u.canMerge(Z))this.merge(Z);return this};u.prototype._deleteMany=async function(){const Z=this._optionsForExec();delete Z.justOne;const Y=this._conditions;return W5("deleteOne",this._collection.collectionName,Y,Z),this._collection.deleteMany(Y,Z)};u.prototype.findOneAndUpdate=function(Z,Y,J){if(this.op="findOneAndUpdate",this._validate(),arguments.length===1)Y=Z,Z=J=void 0;if(u.canMerge(Z))this.merge(Z);if(Y)this._mergeUpdate(Y);return J&&this.setOptions(J),this};u.prototype._findOneAndUpdate=async function(){const Z=this._conditions,Y=this._updateForExec(),J=this._optionsForExec();return this._collection.findOneAndUpdate(Z,Y,J)};u.prototype.findOneAndRemove=u.prototype.findOneAndDelete=function(Z,Y){if(this.op="findOneAndRemove",this._validate(),u.canMerge(Z))this.merge(Z);return Y&&this.setOptions(Y),this};u.prototype._findOneAndRemove=async function(){const Z=this._optionsForExec(),Y=this._conditions;return this._collection.findOneAndDelete(Y,Z)};u.prototype.setTraceFunction=function(Z){return this._traceFunction=Z,this};u.prototype.exec=async function Z(Y){if(typeof Y==="string")this.op=Y;KE1.ok(this.op,"Missing query type: (find, etc)");const J="_"+this.op;if(typeof this[J]!=="function")throw new TypeError(`this[${J}] is not a function`);return this[J]()};u.prototype.then=async function(Z,Y){return this.exec().then(Z,Y)};u.prototype.cursor=function(){if(this.op!="find")throw new Error("cursor() is only available for find");const Z=this._conditions,Y=this._optionsForExec();if(this.$useProjection)Y.projection=this._fieldsForExec();else Y.fields=this._fieldsForExec();return W5("cursor",this._collection.collectionName,Z,Y),this._collection.findCursor(Z,Y)};u.prototype.selected=function Z(){return!!(this._fields&&Object.keys(this._fields).length>0)};u.prototype.selectedInclusively=function Z(){if(!this._fields)return!1;const Y=Object.keys(this._fields);if(Y.length===0)return!1;for(let J=0;J<Y.length;++J){const X=Y[J];if(this._fields[X]===0)return!1;if(this._fields[X]&&typeof this._fields[X]==="object"&&this._fields[X].$meta)return!1}return!0};u.prototype.selectedExclusively=function Z(){if(!this._fields)return!1;const Y=Object.keys(this._fields);if(Y.length===0)return!1;for(let J=0;J<Y.length;++J){const X=Y[J];if(this._fields[X]===0)return!0}return!1};u.prototype._mergeUpdate=function(Z){if(!this._updateDoc)this._updateDoc={};if(Z instanceof u){if(Z._updateDoc)h1.mergeClone(this._updateDoc,Z._updateDoc)}else h1.mergeClone(this._updateDoc,Z)};u.prototype._optionsForExec=function(){return h1.clone(this.options)};u.prototype._fieldsForExec=function(){return h1.clone(this._fields)};u.prototype._updateForExec=function(){const Z=h1.clone(this._updateDoc),Y=h1.keys(Z),J={};for(let X of Y){if(this.options.overwrite){J[X]=Z[X];continue}if(X[0]!=="$"){if(!J.$set)if(Z.$set)J.$set=Z.$set;else J.$set={};if(J.$set[X]=Z[X],!~Y.indexOf("$set"))Y.push("$set")}else if(X==="$set"){if(!J.$set)J[X]=Z[X]}else J[X]=Z[X]}return this._compiledUpdate=J,J};u.prototype._ensurePath=function(Z){if(!this._path){const Y=Z+"() must be used after where() when called with these arguments";throw new Error(Y)}};/*!
 * Permissions
 */u.permissions=$n();u._isPermitted=function(Z,Y){const J=u.permissions[Y];if(!J)return!0;return J[Z]!==!0};u.prototype._validate=function(Z){let Y,J;if(Z===void 0){if(J=u.permissions[this.op],typeof J!="function")return!0;Y=J(this)}else if(!u._isPermitted(Z,this.op))Y=Z;if(Y)throw new Error(Y+" cannot be used with "+this.op)};u.canMerge=function(Z){return Z instanceof u||h1.isObject(Z)};u.setGlobalTraceFunction=function(Z){u.traceFunction=Z};/*!
 * Exports.
 */u.utils=h1;u.env=eB();u.Collection=Vn();u.BaseCollection=u$();wn.exports=Rn=u});var QA=R((d10,Mn)=>{Mn.exports=function Z(Y,J){if(typeof Y==="string")Y=Y.split(/\s+/);if(!Array.isArray(Y)&&Object.prototype.toString.call(Y)!=="[object Arguments]")return Y;const $=Y.length,W={};for(let G=0;G<$;++G){let Q=Y[G];if(!Q)continue;const K=Q[0]=="-"?0:1;if(!J&&K===0)Q=Q.substring(1);W[Q]=K}return W}});var Nn=R((c10,An)=>{var Bn=function(Z,Y){const J=Object.keys(Z)[0];if(J==="$and"||J==="$or"){if(!Array.isArray(Z[J]))return!1;return Z[J].find((W)=>Bn(W,Y))!=null}const X=J.indexOf("."),$=X===-1?J:J.slice(0,X);return Y.find((W)=>W.includes("$["+$+"]"))!=null};An.exports=function Z(Y,J){const X=Object.keys(Y).map(($)=>Object.keys(Y[$])).reduce(($,W)=>$.concat(W),[]);return J.filter(($)=>{return Bn($,X)})}});var KA=R((p10,In)=>{/*!
 * ignore
 */In.exports=function Z(Y){if(typeof Y!=="object"||Y===null)return!1;const J=Object.keys(Y),X=J.length;for(let $=0;$<X;++$)if(J[$][0]==="$")return!0;return!1}});var HA=R((l10,Dn)=>{var UE1=KA(),{trustedSymbol:qE1}=jY();Dn.exports=function Z(Y){if(Y==null||typeof Y!=="object")return Y;if(Array.isArray(Y)){for(let X of Y)Z(X);return Y}const J=Object.keys(Y);for(let X of J){const $=Y[X];if($!=null&&$[qE1])continue;if(X==="$and"||X==="$or"){Z($);continue}if(UE1($)){const W=Object.keys($);if(W.length===1&&W[0]==="$eq")continue;Y[X]={$eq:Y[X]}}}return Y}});var Tn=R((i10,Pn)=>{Pn.exports=function Z(Y){if(Y==null)return;const J=Object.keys(Y);for(let X=0;X<J.length;++X)if(typeof Y[J[X]]==="string")Y[J[X]]=1}});var jn=R((n10,En)=>{var Cn=function(Z,Y){const J=Y.split("."),X=J.length;let $=J[0];for(let W=1;W<X;++W){if(Z[$]!=null||Z[$+".$"]!=null)return!0;$+="."+J[W]}return Z[$]!=null||Z[$+".$"]!=null},VE1=OJ(),LE1=vH();/*!
 * ignore
 */En.exports=function Z(Y,J,X){if(X==null)return;const $=Object.keys(X);if(J=J||{},LE1(Y))for(let W of $){if(!Cn(J,W))Y[W]=1;else if(J[W]===0)delete Y[W];const G=X[W]?.refPath;if(typeof G==="string"){if(!Cn(J,G))Y[G]=1;else if(J[G]===0)delete Y[G]}}else if(VE1(Y))for(let W of $){if(J[W]==null)delete Y[W];const G=X[W]?.refPath;if(typeof G==="string"&&J[G]==null)delete Y[G]}};/*!
 * ignore
 */});var zA=R((a10,Sn)=>{var wE1=function(Z,Y){if(Z[Y])return!0;const J=Y.split(".");let X=J[0];for(let W=1;W<J.length;++W){if(Z[X])return!0;X+="."+J[W]}const $=Object.keys(Z);if($.length){const W=Y+".";for(let G of $)if(G.slice(0,Y.length+1)===W)return!0}return!1},On=EJ().modifiedPaths,RE1=V0();Sn.exports=function(Z,Y,J,X){X=X||{};const $=X.setDefaultsOnInsert!=null?X.setDefaultsOnInsert:Y.base.options.setDefaultsOnInsert;if(!X.upsert||$===!1)return J;const W=Object.keys(J||{}),G={},Q={},K=W.length,H={};let z=!1;for(let q=0;q<K;++q)if(W[q].startsWith("$"))On(J[W[q]],"",H),z=!0;if(!z)On(J,"",H);const F=Object.keys(Z),U=F.length;for(let q=0;q<U;++q){const V=F[q],L=Z[V];if(L&&typeof L==="object"){const w=Object.keys(L),B=w.length;let A=!1;for(let M=0;M<B;++M)if(w[M].startsWith("$")){A=!0;break}if(A)continue}G[V]=!0,H[V]=!0}if(X&&X.overwrite&&!z)return J;return Y.eachPath(function(q,V){if(V.path==="_id"&&V.options.auto)return;const L=V.getDefault(null,!0);if(wE1(H,q))return;if(typeof L==="undefined")return;if(V.splitPath().includes("$*"))return;if(J=J||{},J.$setOnInsert=J.$setOnInsert||{},RE1(J,q)==null)J.$setOnInsert[q]=L;Q[q]=L}),J}});var yn=R((s10,fn)=>{/*!
 * Module dependencies.
 */var kn=I9(),ME1=A$(),_n=EJ().flatten,xn=EJ().modifiedPaths;fn.exports=function(Z,Y,J,X,$){const W=Object.keys(J||{});let G={},Q={};const K={},H={},z=W.length;let F=!1;const U={};let q,V,L;for(L=0;L<z;++L)if(W[L].startsWith("$")){if(F=!0,W[L]==="$push"||W[L]==="$addToSet"){const k=Object.keys(J[W[L]]);for(let i=0;i<k.length;++i)if(q=J[W[L]][k[i]],q&&q.$each)H[k[i]]=(H[k[i]]||[]).concat(q.$each);else H[k[i]]=(H[k[i]]||[]).concat([q]);continue}xn(J[W[L]],"",U);const b=_n(J[W[L]],null,null,Y),_=Object.keys(b),O=_.length;for(let k=0;k<O;++k){const i=ME1(_[k]);if(V=W[L],i.includes("$"))continue;if(V==="$set"||V==="$setOnInsert"||V==="$pull"||V==="$pullAll")Q[i]=b[_[k]],K[i]=V==="$pull"||V==="$pullAll";else if(V==="$unset")Q[i]=void 0;G[i]=!0}}if(!F)xn(J,"",U),Q=_n(J,null,null,Y),G=Object.keys(Q);const w=Object.keys(Q),B=w.length,A=[],M=[],I=[],x=Z;function j(b,_){const O=Y._getSchema(w[b]);if(O==null)return;if(O.instance==="Mixed"&&O.path!==w[b])return;if(_&&Array.isArray(_.$in))_.$in.forEach((k,i)=>{A.push(function(T1){O.doValidate(k,function(g){if(g)g.path=w[i]+".$in."+i,M.push(g);T1(null)},x,{updateValidator:!0})})});else{if(K[w[b]]&&O.$isMongooseArray)return;if(O.$isMongooseDocumentArrayElement&&_!=null&&_.$__!=null)I.push(w[b]),A.push(function(k){O.doValidate(_,function(i){if(i)if(i.errors)for(let T1 of Object.keys(i.errors)){const g=i.errors[T1];g.path=w[b]+"."+T1,M.push(g)}else i.path=w[b],M.push(i);return k(null)},x,{updateValidator:!0})});else A.push(function(k){for(let i of I)if(w[b].startsWith(i+"."))return k(null);O.doValidate(_,function(i){if(O.schema!=null&&O.schema.options.storeSubdocValidationError===!1&&i instanceof kn)return k(null);if(i)i.path=w[b],M.push(i);k(null)},x,{updateValidator:!0})})}}for(L=0;L<B;++L)j(L,Q[w[L]]);const E=Object.keys(H);for(let b of E){let _=Y._getSchema(b);if(_&&_.$isMongooseDocumentArray)A.push(function(O){_.doValidate(H[b],l(b,M,O),X&&X.context==="query"?Z:null)});else{_=Y._getSchema(b+".0");for(let O of H[b])A.push(function(k){_.doValidate(O,l(b,M,k),X&&X.context==="query"?Z:null,{updateValidator:!0})})}}if($!=null){let b=A.length;if(b===0)return D($);for(let _ of A)_(function(){if(--b<=0)D($)});return}return function(b){let _=A.length;if(_===0)return D(b);for(let O of A)O(function(){if(--_<=0)D(b)})};function D(b){if(M.length){const _=new kn(null);for(let O of M)_.addError(O.path,O);return b(_)}b(null)}function l(b,_,O){return function(k){if(k)k.path=b,_.push(k);O(null)}}}});var lH=R((r10,tn)=>{var p=function(Z,Y,J,X){if(!this._mongooseOptions)this._mongooseOptions={};Y=Y||{},this._transforms=[],this._hooks=new qA,this._executionStack=null;const $=Object.keys(Y);for(let G of $)this._mongooseOptions[G]=Y[G];if(X)this.mongooseCollection=X;if(J)this.model=J,this.schema=J.schema;if(this.model&&this.model._mapreduce)this.lean();if(x6.call(this,null,Y),X)this.collection(X);if(Z)this.find(Z);this.options=this.options||{},this.$useProjection=!0;const W=this&&this.schema&&this.schema.options&&this.schema.options.collation||null;if(W!=null)this.options.collation=W},pn=function(Z){try{DE1(Z)}catch(Y){Z.error(Y)}},UA=function(Z,Y){if(Z===1||Z==="asc"||Z==="ascending")return 1;if(Z===-1||Z==="desc"||Z==="descending")return-1;if(Z?.$meta!=null)return{$meta:Z.$meta};throw new TypeError("Invalid sort value: { "+Y+": "+Z+" }")},mn=function(Z,Y,J,X,$,W,G,Q){if(X.includeResultMetadata&&Y==null)return K(null),null;cH.createModelAndInit(Z,Y,$,W,X,G,K);function K(H,z){if(H)return FA(()=>Q(H));if(X.includeResultMetadata){if(Y&&z){if(X.session!=null)z.$session(X.session);J.value=z}else J.value=null;return FA(()=>Q(null,J))}if(X.session!=null)z.$session(X.session);FA(()=>Q(null,z))}},i$=function(Z){if(!Z||!Z.model||!Z.model.schema)return;const Y=Z.model.schema;if(Y&&Y.discriminatorMapping&&!Y.discriminatorMapping.isRoot)Z._conditions[Y.discriminatorMapping.key]=Y.discriminatorMapping.value},ln=function(Z){if("new"in Z)Z.returnDocument=Z.new?"after":"before",delete Z.new;if("returnOriginal"in Z)Z.returnDocument=Z.returnOriginal?"before":"after",delete Z.returnOriginal;if(typeof Z.returnDocument==="string")Z.returnOriginal=Z.returnDocument==="before"},LA=function(Z,Y,J){const X=Z._optionsForExec(Z.model);if(Y in X)return X[Y];if(Y in Z.model.base.options)return Z.model.base.options[Y];return J},VA=function(Z,Y,J,X,$,W){if($.lean&&typeof $.lean.transform==="function"){$.lean.transform(Y);for(let G=0;G<Z.childSchemas.length;G++){const Q=J?J+"."+Z.childSchemas[G].model.path:Z.childSchemas[G].model.path,K=Z.childSchemas[G].schema,H=dn.get(Q,Y);if(H==null)continue;if(Array.isArray(H))for(let z=0;z<H.length;z++)$.lean.transform(H[z]);else $.lean.transform(H);VA(K,H,Q,X,$)}if(W)return W(null,Y);else return}if($.includeResultMetadata)return W(null,X);return W(null,Y)},nn=function(Z,Y,J,X){if(X.lean&&typeof X.lean.transform==="function"){for(let $ of Y)X.lean.transform($);for(let $=0;$<Z.childSchemas.length;$++){const W=J?J+"."+Z.childSchemas[$].model.path:Z.childSchemas[$].model.path,G=Z.childSchemas[$].schema;let Q=dn.get(W,Y);if(Q==null)continue;Q=Q.flat();for(let K=0;K<Q.length;K++)X.lean.transform(Q[K]);nn(G,Q,W,X)}}return Y};async function RA(Z){if(this._castConditions(),pn(this),this.error()!=null)throw this.error();const Y=this._conditions,J=this._optionsForExec(this.model);this._applyTranslateAliases(J),this._update=u8(this._update,J);const X=Z==="replaceOne";if(X)this._update=new this.model(this._update,null,!0);else{if(this._update=this._castUpdate(this._update),this._update==null||Object.keys(this._update).length===0)return{acknowledged:!1};const W=Object.assign({},J,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});this._update=cn(this._conditions,this.model.schema,this._update,W)}if(Array.isArray(J.arrayFilters))J.arrayFilters=SE1(this._update,J.arrayFilters);if(LA(this,"runValidators",!1))await this.validate(this._update,J,X);if(this._update.toBSON)this._update=this._update.toBSON();return this.mongooseCollection[Z](Y,this._update,J)}var wA=function(Z,Y,J,X,$,W){if(Z.op=Y,Z._validateOp(),X=X||{},$!=null){if("strict"in $)Z._mongooseOptions.strict=$.strict}if(!(J instanceof p)&&J!=null&&J.toString()!=="[object Object]")Z.error(new UZ(J,"filter",Y));else Z.merge(J);if(A0.isObject($))Z.setOptions($);if(Z._mergeUpdate(X),W)return Z.exec(W),Z;return Z},aJ=function(Z,Y){if(typeof Z==="function")Z=Z.call(Y);if(Z==null)Z=new BE1(Y.getQuery(),Y.model.modelName);return Z},vE1=function(Z){return new Promise((Y,J)=>{Z._hooks.execPost("exec",Z,[],{},(X)=>{if(X)return J(X);Y()})})},an=function(Z,Y,J,X){if(Z._queryMiddleware==null){if(J!=null)throw J;return Y}return new Promise(($,W)=>{const G=J?{error:J}:{};Z._queryMiddleware.execPost(X||Z.op,Z,[Y],G,(Q,K)=>{if(Q)return W(Q);$(K)})})},hE1=function(Z){return new Promise((Y,J)=>{Z._hooks.execPre("exec",Z,[],(X)=>{if(X!=null)return J(X);Y()})})},sn=function(Z,Y){if(Z._queryMiddleware==null)return;return new Promise((J,X)=>{Z._queryMiddleware.execPre(Y||Z.op,Z,[],($)=>{if($!=null)return X($);J()})})},pH=function(Z,Y){return function(J,X){if(J!=null)return Y(J);for(let $ of Z._transforms)try{X=$(X)}catch(W){return Y(W)}return Y(null,X)}},rn=function(Z,Y,J){for(let X of Y){if(Z.push(J+X.path),!Array.isArray(X.populate))continue;rn(Z,X.populate,J+X.path+".")}};/*!
 * Module dependencies.
 */var c$=v8(),BE1=CK(),qA=AJ(),m8=z0(),UZ=Sw(),gn=Vi(),bn=I9(),{applyGlobalMaxTimeMS:p$,applyGlobalDiskUse:l$}=hB(),AE1=AM(),NE1=mB(),IE1=vJ(),DE1=Si(),dH=P$(),PE1=rB(),u8=N0(),vn=si(),un=h7(),cH=SJ(),FA=N6(),TE1=R4().internalToObjectOptions,CE1=OJ(),EE1=vH(),jE1=vK(),hn=oi(),dn=g7(),x6=GA(),OE1=QA(),SE1=Nn(),kE1=HA(),_E1=Tn(),xE1=jn(),cn=zA(),uH=iZ(),fE1=yn(),d$=import.meta.require("util"),A0=H1(),yE1=TM(),gE1=new Set(["allowDiskUse","batchSize","collation","comment","explain","hint","j","lean","limit","maxTimeMS","populate","projection","read","select","skip","slice","sort","tailable","w","writeConcern","wtimeout"]);/*!
 * inherit mquery
 */p.prototype=new x6;p.prototype.constructor=p;p.base=x6.prototype;/*!
 * Overwrite mquery's `_distinct`, because Mongoose uses that name
 * to store the field to apply distinct on.
 */Object.defineProperty(p.prototype,"_distinct",{configurable:!0,writable:!0,enumerable:!0,value:void 0});p.use$geoWithin=x6.use$geoWithin;p.prototype.toConstructor=function Z(){const Y=this.model,J=this.mongooseCollection,X=function(G,Q){if(!(this instanceof X))return new X(G,Q);this._mongooseOptions=u8($._mongooseOptions),p.call(this,G,Q||null,Y,J)};d$.inherits(X,Y.Query);const $=X.prototype;$.options={};const W=Object.assign({},this.options);if(W.sort!=null)$.sort(W.sort),delete W.sort;return $.setOptions(W),$.op=this.op,$._validateOp(),$._conditions=u8(this._conditions),$._fields=u8(this._fields),$._update=u8(this._update,{flattenDecimals:!1}),$._path=this._path,$._distinct=this._distinct,$._collection=this._collection,$._mongooseOptions=this._mongooseOptions,X};p.prototype.clone=function(){const Z=this.model,Y=this.mongooseCollection,J=new this.model.Query({},{},Z,Y),X=Object.assign({},this.options);if(X.sort!=null)J.sort(X.sort),delete X.sort;return J.setOptions(X),J.op=this.op,J._validateOp(),J._conditions=u8(this._conditions),J._fields=u8(this._fields),J._update=u8(this._update,{flattenDecimals:!1}),J._path=this._path,J._distinct=this._distinct,J._collection=this._collection,J._mongooseOptions=this._mongooseOptions,J};p.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let Z,Y;if(arguments.length===1){const X=arguments[0];if(typeof X==="object"&&!Array.isArray(X)){const $=Object.keys(X),W=$.length;for(let G=0;G<W;++G)this.slice($[G],X[$[G]]);return this}this._ensurePath("slice"),Z=this._path,Y=arguments[0]}else if(arguments.length===2)if(typeof arguments[0]==="number")this._ensurePath("slice"),Z=this._path,Y=[arguments[0],arguments[1]];else Z=arguments[0],Y=arguments[1];else if(arguments.length===3)Z=arguments[0],Y=[arguments[1],arguments[2]];const J={};return J[Z]={$slice:Y},this.select(J),this};/*!
 * ignore
 */var bE1=new Set(yE1);p.prototype._validateOp=function(){if(this.op!=null&&!bE1.has(this.op))this.error(new Error('Query has invalid `op`: "'+this.op+'"'))};p.prototype.mod=function(){let Z,Y;if(arguments.length===1)this._ensurePath("mod"),Z=arguments[0],Y=this._path;else if(arguments.length===2&&!Array.isArray(arguments[1]))this._ensurePath("mod"),Z=[arguments[0],arguments[1]],Y=this._path;else if(arguments.length===3)Z=[arguments[1],arguments[2]],Y=arguments[0];else Z=arguments[1],Y=arguments[0];const J=this._conditions[Y]||(this._conditions[Y]={});return J.$mod=Z,this};p.prototype.limit=function Z(Y){if(this._validate("limit"),typeof Y==="string")try{Y=dH(Y)}catch(J){throw new c$("Number",Y,"limit")}return this.options.limit=Y,this};p.prototype.skip=function Z(Y){if(this._validate("skip"),typeof Y==="string")try{Y=dH(Y)}catch(J){throw new c$("Number",Y,"skip")}return this.options.skip=Y,this};p.prototype.projection=function(Z){if(arguments.length===0)return this._fields;return this._fields={},this._userProvidedFields={},this.select(Z),this._fields};p.prototype.select=function Z(){let Y=arguments[0];if(!Y)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");const J=this._fields||(this._fields={}),X=this._userProvidedFields||(this._userProvidedFields={});let $=void 0;if(this.model!=null&&A0.hasUserDefinedProperty(this.model.db.options,"sanitizeProjection"))$=this.model.db.options.sanitizeProjection;else if(this.model!=null&&A0.hasUserDefinedProperty(this.model.base.options,"sanitizeProjection"))$=this.model.base.options.sanitizeProjection;else $=this._mongooseOptions.sanitizeProjection;function W(G){return typeof G==="string"&&$?G=1:G}if(Y=OE1(Y,!0),A0.isObject(Y)){if(this.selectedInclusively())Object.entries(Y).forEach(([G,Q])=>{if(Q){if(J["-"+G]!=null)delete J["-"+G];J[G]=X[G]=W(Q)}else Object.keys(X).forEach((K)=>{if(hn(G,K))delete J[K],delete X[K]})});else if(this.selectedExclusively())Object.entries(Y).forEach(([G,Q])=>{if(!Q){if(J["+"+G]!=null)delete J["+"+G];J[G]=X[G]=W(Q)}else Object.keys(X).forEach((K)=>{if(hn(G,K))delete J[K],delete X[K]})});else{const G=Object.keys(Y);for(let Q=0;Q<G.length;++Q){const K=Y[G[Q]],H=G[Q];J[H]=W(K),X[H]=W(K)}}return this}throw new TypeError("Invalid select() argument. Must be string or object.")};p.prototype.read=function Z(Y,J){if(typeof Y==="string")Y=AE1(Y),this.options.readPreference={mode:Y,tags:J};else this.options.readPreference=Y;return this};p.prototype.toString=function Z(){if(this.op==="count"||this.op==="countDocuments"||this.op==="find"||this.op==="findOne"||this.op==="deleteMany"||this.op==="deleteOne"||this.op==="findOneAndDelete"||this.op==="remove")return`${this.model.modelName}.${this.op}(${d$.inspect(this._conditions)})`;if(this.op==="distinct")return`${this.model.modelName}.distinct('${this._distinct}', ${d$.inspect(this._conditions)})`;if(this.op==="findOneAndReplace"||this.op==="findOneAndUpdate"||this.op==="replaceOne"||this.op==="update"||this.op==="updateMany"||this.op==="updateOne")return`${this.model.modelName}.${this.op}(${d$.inspect(this._conditions)}, ${d$.inspect(this._update)})`;return`${this.model.modelName}.${this.op}()`};p.prototype.session=function Z(Y){if(Y==null)delete this.options.session;return this.options.session=Y,this};p.prototype.writeConcern=function Z(Y){if(Y==null)return delete this.options.writeConcern,this;return this.options.writeConcern=Y,this};p.prototype.w=function Z(Y){if(Y==null)delete this.options.w;if(this.options.writeConcern!=null)this.options.writeConcern.w=Y;else this.options.w=Y;return this};p.prototype.j=function Z(Y){if(Y==null)delete this.options.j;if(this.options.writeConcern!=null)this.options.writeConcern.j=Y;else this.options.j=Y;return this};p.prototype.wtimeout=function Z(Y){if(Y==null)delete this.options.wtimeout;if(this.options.writeConcern!=null)this.options.writeConcern.wtimeout=Y;else this.options.wtimeout=Y;return this};p.prototype.getOptions=function(){return this.options};p.prototype.setOptions=function(Z,Y){if(Y){if(this._mongooseOptions=Z&&u8(Z)||{},this.options=Z||{},("populate"in Z))this.populate(this._mongooseOptions);return this}if(Z==null)return this;if(typeof Z!=="object")throw new Error('Options must be an object, got "'+Z+'"');if(Z=Object.assign({},Z),Array.isArray(Z.populate)){const J=Z.populate;delete Z.populate;const X=J.length;for(let $=0;$<X;++$)this.populate(J[$])}if("setDefaultsOnInsert"in Z)this._mongooseOptions.setDefaultsOnInsert=Z.setDefaultsOnInsert,delete Z.setDefaultsOnInsert;if("overwriteDiscriminatorKey"in Z)this._mongooseOptions.overwriteDiscriminatorKey=Z.overwriteDiscriminatorKey,delete Z.overwriteDiscriminatorKey;if("sanitizeProjection"in Z){if(Z.sanitizeProjection&&!this._mongooseOptions.sanitizeProjection)_E1(this._fields);this._mongooseOptions.sanitizeProjection=Z.sanitizeProjection,delete Z.sanitizeProjection}if("sanitizeFilter"in Z)this._mongooseOptions.sanitizeFilter=Z.sanitizeFilter,delete Z.sanitizeFilter;if("timestamps"in Z)this._mongooseOptions.timestamps=Z.timestamps,delete Z.timestamps;if("defaults"in Z)this._mongooseOptions.defaults=Z.defaults;if("translateAliases"in Z)this._mongooseOptions.translateAliases=Z.translateAliases,delete Z.translateAliases;if(Z.lean==null&&this.schema&&("lean"in this.schema.options))this._mongooseOptions.lean=this.schema.options.lean;if(typeof Z.limit==="string")try{Z.limit=dH(Z.limit)}catch(J){throw new c$("Number",Z.limit,"limit")}if(typeof Z.skip==="string")try{Z.skip=dH(Z.skip)}catch(J){throw new c$("Number",Z.skip,"skip")}for(let J of Object.keys(Z))if(gE1.has(J)){const X=Array.isArray(Z[J])?Z[J]:[Z[J]];this[J].apply(this,X)}else this.options[J]=Z[J];return this};p.prototype.explain=function Z(Y){if(arguments.length===0)this.options.explain=!0;else if(Y===!1)delete this.options.explain;else this.options.explain=Y;return this};p.prototype.allowDiskUse=function(Z){if(arguments.length===0)this.options.allowDiskUse=!0;else if(Z===!1)delete this.options.allowDiskUse;else this.options.allowDiskUse=Z;return this};p.prototype.maxTimeMS=function(Z){return this.options.maxTimeMS=Z,this};p.prototype.getFilter=function(){return this._conditions};p.prototype.getQuery=function(){return this._conditions};p.prototype.setQuery=function(Z){this._conditions=Z};p.prototype.getUpdate=function(){return this._update};p.prototype.setUpdate=function(Z){this._update=Z};p.prototype._fieldsForExec=function(){if(this._fields==null)return null;if(Object.keys(this._fields).length===0)return null;return u8(this._fields)};p.prototype._updateForExec=function(){const Z=u8(this._update,{transform:!1,depopulate:!0}),Y=Object.keys(Z);let J=Y.length;const X={};while(J--){const $=Y[J];if($[0]!=="$"){if(!X.$set)if(Z.$set)X.$set=Z.$set;else X.$set={};if(X.$set[$]=Z[$],Y.splice(J,1),!~Y.indexOf("$set"))Y.push("$set")}else if($==="$set"){if(!X.$set)X[$]=Z[$]}else X[$]=Z[$]}return X};p.prototype._optionsForExec=function(Z){const Y=u8(this.options);if(delete Y.populate,Z=Z||this.model,!Z)return Y;NE1(Z.schema,Y);const J=Z&&Z.schema&&Z.schema.options&&Z.schema.options.read;if(!("readPreference"in Y)&&J)Y.readPreference=J;if(Y.upsert!==void 0)Y.upsert=!!Y.upsert;if(Y.writeConcern){if(Y.j)Y.writeConcern.j=Y.j,delete Y.j;if(Y.w)Y.writeConcern.w=Y.w,delete Y.w;if(Y.wtimeout)Y.writeConcern.wtimeout=Y.wtimeout,delete Y.wtimeout}if(this._applyPaths(),this._fields!=null){this._fields=this._castFields(this._fields);const X=this._fieldsForExec();if(X!=null)Y.projection=X}return Y};p.prototype.lean=function(Z){return this._mongooseOptions.lean=arguments.length?Z:!0,this};p.prototype.set=function(Z,Y){if(typeof Z==="object"){const J=Object.keys(Z);for(let X of J)this.set(X,Z[X]);return this}if(this._update=this._update||{},(Z in this._update))delete this._update[Z];return this._update.$set=this._update.$set||{},this._update.$set[Z]=Y,this};p.prototype.get=function Z(Y){const J=this._update;if(J==null)return;const X=J.$set;if(X==null)return J[Y];if(A0.hasUserDefinedProperty(J,Y))return J[Y];if(A0.hasUserDefinedProperty(X,Y))return X[Y];return};p.prototype.error=function Z(Y){if(arguments.length===0)return this._error;return this._error=Y,this};p.prototype._unsetCastError=function Z(){if(this._error!=null&&!(this._error instanceof c$))return;return this.error(null)};p.prototype.mongooseOptions=function(Z){if(arguments.length>0)this._mongooseOptions=Z;return this._mongooseOptions};p.prototype._castConditions=function(){let Z=void 0;if(this.model!=null&&A0.hasUserDefinedProperty(this.model.db.options,"sanitizeFilter"))Z=this.model.db.options.sanitizeFilter;else if(this.model!=null&&A0.hasUserDefinedProperty(this.model.base.options,"sanitizeFilter"))Z=this.model.base.options.sanitizeFilter;else Z=this._mongooseOptions.sanitizeFilter;if(Z)kE1(this._conditions);try{this.cast(this.model),this._unsetCastError()}catch(Y){this.error(Y)}};/*!
 * ignore
 */p.prototype._find=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._mongooseOptions,J=this,X=J._userProvidedFields||{};p$(this.options,this.model),l$(this.options,this.model);const $=Object.assign({},{session:this&&this.options&&this.options.session||null,lean:Y.lean||null}),W=this._optionsForExec();this._applyTranslateAliases(W);const G=this._conditions,Q=W.projection,K=await this.mongooseCollection.find(G,W);if(W.explain)return K.explain();let H=await K.toArray();if(H.length===0)return H;if(!Y.populate){const F=J.schema.options.versionKey;if(Y.lean&&Y.lean.versionKey===!1&&F)H.forEach((U)=>{if(F in U)delete U[F]});return Y.lean?nn(J.model.schema,H,null,$):vn(J.model,H,Q,X,$)}const z=cH.preparePopulationOptionsMQ(J,Y);if(Y.lean)return J.model.populate(H,z);return H=await vn(J.model,H,Q,X,$),await this.model.populate(H,z),H};p.prototype.find=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new m8("Query.prototype.find() no longer accepts a callback");if(this.op="find",x6.canMerge(Z))this.merge(Z),i$(this);else if(Z!=null)this.error(new UZ(Z,"filter","find"));return this};p.prototype.merge=function(Z){if(!Z)return this;const Y={overwrite:!0};if(Z instanceof p){if(Z._conditions){if(Y.omit={},this._conditions&&this._conditions.$and&&Z._conditions.$and)Y.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z._conditions.$and);if(this._conditions&&this._conditions.$or&&Z._conditions.$or)Y.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z._conditions.$or);A0.merge(this._conditions,Z._conditions,Y)}if(Z._fields)this._fields||(this._fields={}),A0.merge(this._fields,Z._fields,Y);if(Z.options)this.options||(this.options={}),A0.merge(this.options,Z.options,Y);if(Z._update)this._update||(this._update={}),A0.mergeClone(this._update,Z._update);if(Z._distinct)this._distinct=Z._distinct;return A0.merge(this._mongooseOptions,Z._mongooseOptions),this}else if(this.model!=null&&Z instanceof this.model.base.Types.ObjectId)return A0.merge(this._conditions,{_id:Z},Y),this;else if(Z&&Z.$__)Z=Z.toObject(TE1);if(Y.omit={},this._conditions&&this._conditions.$and&&Z.$and)Y.omit.$and=!0,this._conditions.$and=this._conditions.$and.concat(Z.$and);if(this._conditions&&this._conditions.$or&&Z.$or)Y.omit.$or=!0,this._conditions.$or=this._conditions.$or.concat(Z.$or);return A0.merge(this._conditions,Z,Y),this};p.prototype.collation=function(Z){if(this.options==null)this.options={};return this.options.collation=Z,this};p.prototype._completeOne=function(Z,Y,J){if(!Z&&!this.options.includeResultMetadata)return J(null,null);const X=this.model,$=u8(this._fields),W=this._userProvidedFields||{},G=this._mongooseOptions,Q=this.options;if(!Q.lean&&G.lean)Q.lean=G.lean;if(Q.explain)return J(null,Z);if(!G.populate){const H=this.schema.options.versionKey;if(G.lean&&G.lean.versionKey===!1&&H){if(H in Z)delete Z[H]}return G.lean?VA(X.schema,Z,null,Y,Q,J):mn(X,Z,Y,Q,$,W,null,J)}const K=cH.preparePopulationOptionsMQ(this,this._mongooseOptions);if(G.lean)return X.populate(Z,K).then((H)=>{VA(X.schema,H,null,Y,Q,J)},(H)=>{J(H)});mn(X,Z,Y,Q,$,W,[],(H,z)=>{if(H!=null)return J(H);X.populate(z,K).then((F)=>{J(null,F)},(F)=>{J(F)})})};p.prototype._findOne=async function Z(){if(this._castConditions(),this.error())throw this.error();p$(this.options,this.model),l$(this.options,this.model);const Y=this._optionsForExec();this._applyTranslateAliases(Y);const J=await this.mongooseCollection.findOne(this._conditions,Y);return new Promise((X,$)=>{this._completeOne(J,null,pH(this,(W,G)=>{if(W)return $(W);X(G)}))})};p.prototype.findOne=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[3]==="function")throw new m8("Query.prototype.findOne() no longer accepts a callback");if(this.op="findOne",this._validateOp(),J)this.setOptions(J);if(Y)this.select(Y);if(x6.canMerge(Z))this.merge(Z),i$(this);else if(Z!=null)this.error(new UZ(Z,"filter","findOne"));return this};p.prototype._countDocuments=async function Z(){try{this.cast(this.model)}catch(X){this.error(X)}if(this.error())throw this.error();p$(this.options,this.model),l$(this.options,this.model);const Y=this._optionsForExec();this._applyTranslateAliases(Y);const J=this._conditions;return this.mongooseCollection.countDocuments(J,Y)};/*!
 * If `translateAliases` option is set, call `Model.translateAliases()`
 * on the following query properties: filter, projection, update, distinct.
 */p.prototype._applyTranslateAliases=function Z(Y){let J=!1;if("translateAliases"in this._mongooseOptions)J=this._mongooseOptions.translateAliases;else if(this.model?.schema?._userProvidedOptions?.translateAliases!=null)J=this.model.schema._userProvidedOptions.translateAliases;else if(this.model?.base?.options?.translateAliases!=null)J=this.model.base.options.translateAliases;if(!J)return;if(this.model?.schema?.aliases&&Object.keys(this.model.schema.aliases).length>0){if(this.model.translateAliases(this._conditions,!0),this.model.translateAliases(Y.projection,!0),this.model.translateAliases(this._update,!0),this._distinct!=null&&this.model.schema.aliases[this._distinct]!=null)this._distinct=this.model.schema.aliases[this._distinct]}};p.prototype._estimatedDocumentCount=async function Z(){if(this.error())throw this.error();const Y=this._optionsForExec();return this.mongooseCollection.estimatedDocumentCount(Y)};p.prototype.estimatedDocumentCount=function(Z){if(typeof Z==="function"||typeof arguments[1]==="function")throw new m8("Query.prototype.estimatedDocumentCount() no longer accepts a callback");if(this.op="estimatedDocumentCount",this._validateOp(),typeof Z==="object"&&Z!=null)this.setOptions(Z);return this};p.prototype.countDocuments=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new m8("Query.prototype.countDocuments() no longer accepts a callback");if(this.op="countDocuments",this._validateOp(),x6.canMerge(Z))this.merge(Z);if(typeof Y==="object"&&Y!=null)this.setOptions(Y);return this};p.prototype.__distinct=async function Z(){if(this._castConditions(),this.error())throw this.error();p$(this.options,this.model),l$(this.options,this.model);const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.distinct(this._distinct,this._conditions,Y)};p.prototype.distinct=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new m8("Query.prototype.distinct() no longer accepts a callback");if(this.op="distinct",this._validateOp(),x6.canMerge(Y))this.merge(Y),i$(this);else if(Y!=null)this.error(new UZ(Y,"filter","distinct"));if(Z!=null)this._distinct=Z;return this};p.prototype.sort=function(Z){if(arguments.length>1)throw new Error("sort() only takes 1 Argument");if(this.options.sort==null)this.options.sort={};const Y=this.options.sort;if(typeof Z==="string"){const J=Z.indexOf(" ")===-1?[Z]:Z.split(" ");for(let X of J){const $=X[0]=="-"?-1:1;if($===-1)X=X.slice(1);if(uH.has(X))continue;Y[X]=$}}else if(Array.isArray(Z))for(let J of Z){if(!Array.isArray(J))throw new TypeError("Invalid sort() argument, must be array of arrays");const X=""+J[0];if(uH.has(X))continue;Y[X]=UA(J[1],X)}else if(typeof Z==="object"&&Z!=null&&!(Z instanceof Map))for(let J of Object.keys(Z)){if(uH.has(J))continue;Y[J]=UA(Z[J],J)}else if(Z instanceof Map)for(let J of Z.keys()){if(J=""+J,uH.has(J))continue;Y[J]=UA(Z.get(J),J)}else if(Z!=null)throw new TypeError("Invalid sort() argument. Must be a string, object, array, or map.");return this};/*!
 * Convert sort values
 */p.prototype.deleteOne=function Z(Y,J){if(typeof Y==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new m8("Query.prototype.deleteOne() no longer accepts a callback");if(this.op="deleteOne",this.setOptions(J),x6.canMerge(Y))this.merge(Y),i$(this);else if(Y!=null)this.error(new UZ(Y,"filter","deleteOne"));return this};p.prototype._deleteOne=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.deleteOne(this._conditions,Y)};p.prototype.deleteMany=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new m8("Query.prototype.deleteMany() no longer accepts a callback");if(this.setOptions(Y),this.op="deleteMany",x6.canMerge(Z))this.merge(Z),i$(this);else if(Z!=null)this.error(new UZ(Z,"filter","deleteMany"));return this};p.prototype._deleteMany=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this._optionsForExec();return this._applyTranslateAliases(Y),this.mongooseCollection.deleteMany(this._conditions,Y)};p.prototype.findOneAndUpdate=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[3]==="function")throw new m8("Query.prototype.findOneAndUpdate() no longer accepts a callback");switch(this.op="findOneAndUpdate",this._validateOp(),this._validate(),arguments.length){case 2:J=void 0;break;case 1:Y=Z,Z=J=void 0;break}if(x6.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new UZ(Z,"filter","findOneAndUpdate"));if(Y)this._mergeUpdate(Y);if(J=J?u8(J):{},J.projection)this.select(J.projection),delete J.projection;if(J.fields)this.select(J.fields),delete J.fields;const X=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(J.new==null&&J.returnDocument==null&&J.returnOriginal==null&&X!=null)J.returnOriginal=X;return this.setOptions(J),this};p.prototype._findOneAndUpdate=async function Z(){if(this._castConditions(),pn(this),this.error())throw this.error();if(p$(this.options,this.model),l$(this.options,this.model),("strict"in this.options))this._mongooseOptions.strict=this.options.strict;const Y=this._optionsForExec(this.model);ln(Y),this._applyTranslateAliases(Y),this._update=this._castUpdate(this._update);const J=Object.assign({},Y,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});if(this._update=cn(this._conditions,this.model.schema,this._update,J),!this._update||Object.keys(this._update).length===0)if(Y.upsert){const G=u8(this._update);delete G._id,this._update={$set:G}}else return this._executionStack=null,await this._findOne();else if(this._update instanceof Error)throw this._update;else if(this._update.$set&&Object.keys(this._update.$set).length===0)delete this._update.$set;if(LA(this,"runValidators",!1))await this.validate(this._update,Y,!1);if(this._update.toBSON)this._update=this._update.toBSON();let $=await this.mongooseCollection.findOneAndUpdate(this._conditions,this._update,Y);for(let G of this._transforms)$=G($);const W=!Y.includeResultMetadata?$:$.value;return new Promise((G,Q)=>{this._completeOne(W,$,pH(this,(K,H)=>{if(K)return Q(K);G(H)}))})};p.prototype.findOneAndDelete=function(Z,Y){if(typeof Z==="function"||typeof Y==="function"||typeof arguments[2]==="function")throw new m8("Query.prototype.findOneAndDelete() no longer accepts a callback");if(this.op="findOneAndDelete",this._validateOp(),this._validate(),x6.canMerge(Z))this.merge(Z);return Y&&this.setOptions(Y),this};p.prototype._findOneAndDelete=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();const Y=this.options.includeResultMetadata,J=this._conditions,X=this._optionsForExec(this.model);this._applyTranslateAliases(X);let $=await this.mongooseCollection.findOneAndDelete(J,X);for(let G of this._transforms)$=G($);const W=!Y?$:$.value;return new Promise((G,Q)=>{this._completeOne(W,$,pH(this,(K,H)=>{if(K)return Q(K);G(H)}))})};p.prototype.findOneAndReplace=function(Z,Y,J){if(typeof Z==="function"||typeof Y==="function"||typeof J==="function"||typeof arguments[4]==="function")throw new m8("Query.prototype.findOneAndReplace() no longer accepts a callback");if(this.op="findOneAndReplace",this._validateOp(),this._validate(),x6.canMerge(Z))this.merge(Z);else if(Z!=null)this.error(new UZ(Z,"filter","findOneAndReplace"));if(Y!=null)this._mergeUpdate(Y);J=J||{};const X=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;if(J.new==null&&J.returnDocument==null&&J.returnOriginal==null&&X!=null)J.returnOriginal=X;return this.setOptions(J),this};p.prototype._findOneAndReplace=async function Z(){if(this._castConditions(),this.error()!=null)throw this.error();if("strict"in this.options)this._mongooseOptions.strict=this.options.strict,delete this.options.strict;const Y=this._conditions,J=this._optionsForExec();this._applyTranslateAliases(J),ln(J);const X=this.options.includeResultMetadata,$={skipId:!0};if("strict"in this._mongooseOptions)$.strict=this._mongooseOptions.strict;const W=LA(this,"runValidators",!1);try{const K=new this.model(this._update,null,$);if(W)await K.validate();else if(K.$__.validationError)throw K.$__.validationError;this._update=K.toBSON()}catch(K){if(K instanceof bn)throw K;const H=new bn;throw H.errors[K.path]=K,H}let G=await this.mongooseCollection.findOneAndReplace(Y,this._update,J);for(let K of this._transforms)G=K(G);const Q=!X?G:G.value;return new Promise((K,H)=>{this._completeOne(Q,G,pH(this,(z,F)=>{if(z)return H(z);K(F)}))})};/*!
 * ignore
 *//*!
 * ignore
 */p.prototype._mergeUpdate=function(Z){if(!this._update)this._update=Array.isArray(Z)?[]:{};if(Z==null||typeof Z==="object"&&Object.keys(Z).length===0)return;if(Z instanceof p){if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");if(Z._update)A0.mergeClone(this._update,Z._update)}else if(Array.isArray(Z)){if(!Array.isArray(this._update))throw new Error("Cannot mix array and object updates");this._update=this._update.concat(Z)}else{if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");A0.mergeClone(this._update,Z)}};/*!
 * ignore
 */p.prototype.validate=async function Z(Y,J,X){if(typeof arguments[3]==="function")throw new m8("Query.prototype.validate() no longer accepts a callback");if(await sn(this,"validate"),X)await Y.$validate();else await new Promise(($,W)=>{fE1(this,this.model.schema,Y,J,(G)=>{if(G!=null)return W(G);$()})});await an(this,null,null,"validate")};p.prototype._updateMany=async function Z(){return RA.call(this,"updateMany")};p.prototype._updateOne=async function Z(){return RA.call(this,"updateOne")};p.prototype._replaceOne=async function Z(){return RA.call(this,"replaceOne")};p.prototype.updateMany=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return wA(this,"updateMany",Z,Y,J,X)};p.prototype.updateOne=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return wA(this,"updateOne",Z,Y,J,X)};p.prototype.replaceOne=function(Z,Y,J,X){if(typeof J==="function")X=J,J=null;else if(typeof Y==="function")X=Y,Y=Z,Z={},J=null;else if(typeof Z==="function")X=Z,Z=void 0,Y=void 0,J=void 0;else if(typeof Z==="object"&&!Y&&!J&&!X)Y=Z,Z=void 0,J=void 0,X=void 0;return wA(this,"replaceOne",Z,Y,J,X)};p.prototype.transform=function(Z){return this._transforms.push(Z),this};p.prototype.orFail=function(Z){return this.transform((Y)=>{switch(this.op){case"find":if(Y.length===0)throw aJ(Z,this);break;case"findOne":if(Y==null)throw aJ(Z,this);break;case"replaceOne":case"updateMany":case"updateOne":if(Y&&Y.matchedCount===0)throw aJ(Z,this);break;case"findOneAndDelete":case"findOneAndUpdate":case"findOneAndReplace":if(this.options.includeResultMetadata&&Y!=null&&Y.value==null)throw aJ(Z,this);if(!this.options.includeResultMetadata&&Y==null)throw aJ(Z,this);break;case"deleteMany":case"deleteOne":if(Y.deletedCount===0)throw aJ(Z,this);break;default:break}return Y}),this};p.prototype.isPathSelectedInclusive=function(Z){return jE1(this._fields,Z)};p.prototype.exec=async function Z(Y){if(typeof Y==="function"||arguments.length>=2&&typeof arguments[1]==="function")throw new m8("Query.prototype.exec() no longer accepts a callback");if(typeof Y==="string")this.op=Y;if(this.op==null)throw new m8("Query must have `op` before executing");if(this.model==null)throw new m8("Query must have an associated model before executing");if(this._validateOp(),!this.op)return;if(this.options&&this.options.sort){if(Object.keys(this.options.sort).includes(""))throw new Error('Invalid field "" passed to sort()')}let J="_"+this.op;if(this.op==="distinct")J="__distinct";if(this._executionStack!=null){let G=this.toString();if(G.length>60)G=G.slice(0,60)+"...";const Q=new m8("Query was already executed: "+G);throw Q.originalStack=this._executionStack.stack,Q}else this._executionStack=new Error;let X=null;try{await hE1(this)}catch(G){if(G instanceof qA.skipWrappedFunction)X=G;else throw G}let $,W=null;try{await sn(this),$=X?X.args[0]:await this[J]();for(let G of this._transforms)$=G($)}catch(G){if(G instanceof qA.skipWrappedFunction)$=G.args[0];else W=G}return $=await an(this,$,W),await vE1(this),$};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */p.prototype.then=function(Z,Y){return this.exec().then(Z,Y)};p.prototype.catch=function(Z){return this.exec().then(null,Z)};p.prototype.finally=function(Z){return this.exec().finally(Z)};p.prototype[Symbol.toStringTag]=function Z(){return`Query { ${this.op} }`};p.prototype.pre=function(Z){return this._hooks.pre("exec",Z),this};p.prototype.post=function(Z){return this._hooks.post("exec",Z),this};p.prototype._castUpdate=function Z(Y){let J=this.schema;const X=J.options.discriminatorKey,$=J._baseSchema?J._baseSchema:J;if(this._mongooseOptions.overwriteDiscriminatorKey&&Y[X]!=null&&$.discriminators){const Q=Object.values($.discriminators).find((K)=>K.discriminatorMapping.value===Y[X]);if(Q!=null)J=Q}let W;if("upsert"in this.options)W=this.options.upsert;const G=this._conditions;if(J!=null&&A0.hasUserDefinedProperty(G,J.options.discriminatorKey)&&typeof G[J.options.discriminatorKey]!=="object"&&J.discriminators!=null){const Q=G[J.options.discriminatorKey],K=un(this.model.discriminators,Q);J=J.discriminators[Q]||K&&K.schema||J}return PE1(J,Y,{strict:this._mongooseOptions.strict,upsert:W,arrayFilters:this.options.arrayFilters,overwriteDiscriminatorKey:this._mongooseOptions.overwriteDiscriminatorKey},this,this._conditions)};p.prototype.populate=function(){if(!Array.from(arguments).some(Boolean))return this;const Z=A0.populate.apply(null,arguments);if(this.options!=null){const X=this.options.readConcern,$=this.options.readPreference;for(let W of Z){if(X!=null&&(W&&W.options&&W.options.readConcern)==null)W.options=W.options||{},W.options.readConcern=X;if($!=null&&(W&&W.options&&W.options.readPreference)==null)W.options=W.options||{},W.options.readPreference=$}}const Y=this._mongooseOptions;if(Y.lean!=null){const X=Y.lean;for(let $ of Z)if(($&&$.options&&$.options.lean)==null)$.options=$.options||{},$.options.lean=X}if(!A0.isObject(Y.populate))Y.populate={};const J=Y.populate;for(let X of Z){const $=X.path;if(J[$]&&J[$].populate&&X.populate)X.populate=J[$].populate.concat(X.populate);J[X.path]=X}return this};p.prototype.getPopulatedPaths=function Z(){const Y=this._mongooseOptions.populate||{},J=Object.keys(Y);for(let X of Object.keys(Y)){const $=Y[X];if(!Array.isArray($.populate))continue;rn(J,$.populate,X+".")}return J};/*!
 * ignore
 */p.prototype.cast=function(Z,Y){Y||(Y=this._conditions),Z=Z||this.model;const J=Z.schema.options.discriminatorKey;if(Y!=null&&Y.hasOwnProperty(J))Z=un(Z.discriminators,Y[J])||Z;const X={upsert:this.options&&this.options.upsert};if(this.options){if("strict"in this.options)X.strict=this.options.strict;if("strictQuery"in this.options)X.strictQuery=this.options.strictQuery}try{return IE1(Z.schema,Y,X,this)}catch($){if(typeof $.setModel==="function")$.setModel(Z);throw $}};p.prototype._castFields=function Z(Y){let J,X,$,W,G,Q;if(Y){$=Object.keys(Y),X=[],Q=$.length;while(Q--)if(W=$[Q],Y[W].$elemMatch)J||(J={}),J[W]=Y[W],X.push(W)}if(J){try{G=this.cast(this.model,J)}catch(K){return K}Q=X.length;while(Q--)W=X[Q],Y[W]=G[W]}return Y};p.prototype._applyPaths=function Z(){if(!this.model)return;this._fields=this._fields||{},cH.applyPaths(this._fields,this.model.schema);let Y=!0;if("selectPopulatedPaths"in this.model.base.options)Y=this.model.base.options.selectPopulatedPaths;if("selectPopulatedPaths"in this.model.schema.options)Y=this.model.schema.options.selectPopulatedPaths;if(Y)xE1(this._fields,this._userProvidedFields,this._mongooseOptions.populate)};p.prototype.cursor=function Z(Y){if(Y)this.setOptions(Y);try{this.cast(this.model)}catch(J){return new gn(this)._markError(J)}return new gn(this)};p.prototype.tailable=function(Z,Y){if(Z!=null&&typeof Z.constructor==="function"&&Z.constructor.name==="Object")Y=Z,Z=!0;if(Z===void 0)Z=!0;if(Y&&typeof Y==="object")for(let J of Object.keys(Y))if(J==="awaitData"||J==="awaitdata")this.options.awaitData=!!Y[J];else this.options[J]=Y[J];return this.options.tailable=arguments.length?!!Z:!0,this};p.prototype.near=function(){const Z=[],Y=this._mongooseOptions.nearSphere;if(arguments.length===1)if(Array.isArray(arguments[0]))Z.push({center:arguments[0],spherical:Y});else if(typeof arguments[0]==="string")Z.push(arguments[0]);else if(A0.isObject(arguments[0])){if(typeof arguments[0].spherical!=="boolean")arguments[0].spherical=Y;Z.push(arguments[0])}else throw new TypeError("invalid argument");else if(arguments.length===2)if(typeof arguments[0]==="number"&&typeof arguments[1]==="number")Z.push({center:[arguments[0],arguments[1]],spherical:Y});else if(typeof arguments[0]==="string"&&Array.isArray(arguments[1]))Z.push(arguments[0]),Z.push({center:arguments[1],spherical:Y});else if(typeof arguments[0]==="string"&&A0.isObject(arguments[1])){if(Z.push(arguments[0]),typeof arguments[1].spherical!=="boolean")arguments[1].spherical=Y;Z.push(arguments[1])}else throw new TypeError("invalid argument");else if(arguments.length===3)if(typeof arguments[0]==="string"&&typeof arguments[1]==="number"&&typeof arguments[2]==="number")Z.push(arguments[0]),Z.push({center:[arguments[1],arguments[2]],spherical:Y});else throw new TypeError("invalid argument");else throw new TypeError("invalid argument");return p.base.near.apply(this,Z)};p.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this};if(Symbol.asyncIterator!=null)p.prototype[Symbol.asyncIterator]=function(){return this.cursor().transformNull()._transformForAsyncIterator()};p.prototype.box=function(Z,Y){if(!Array.isArray(Z)&&A0.isObject(Z))Y=Z.ur,Z=Z.ll;return p.base.box.call(this,Z,Y)};p.prototype.center=p.base.circle;p.prototype.centerSphere=function(){if(arguments[0]!=null&&typeof arguments[0].constructor==="function"&&arguments[0].constructor.name==="Object")arguments[0].spherical=!0;if(arguments[1]!=null&&typeof arguments[1].constructor==="function"&&arguments[1].constructor.name==="Object")arguments[1].spherical=!0;p.base.circle.apply(this,arguments)};p.prototype.selectedInclusively=function Z(){return EE1(this._fields)};p.prototype.selectedExclusively=function Z(){return CE1(this._fields)};p.prototype.model;/*!
 * Export
 */tn.exports=p});var Ya=R((t10,Za)=>{var f6=function(Z){en.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.agg=Z,this._transforms=[];const Y=Z._model;delete Z.options.cursor.useMongooseAggCursor,this._mongooseOptions={},cE1(Y,this,Z)},cE1=function(Z,Y,J){if(!Z.collection.buffer)Z.hooks.execPre("aggregate",J,function(){Y.cursor=Z.collection.aggregate(J._pipeline,J.options||{}),Y.emit("cursor",Y.cursor)});else Z.collection.emitter.once("queue",function(){Z.hooks.execPre("aggregate",J,function(){Y.cursor=Z.collection.aggregate(J._pipeline,J.options||{}),Y.emit("cursor",Y.cursor)})})},on=function(Z){return Z==null?{done:!0}:{value:Z,done:!1}},pE1=function(Z,Y){if(Z.cursor)return Y();Z.once("cursor",function(){Y()})},iH=function(Z,Y){let J=Y;if(Z._transforms.length)J=function(X,$){if(X||$===null&&!Z._mongooseOptions.transformNull)return Y(X,$);Y(X,Z._transforms.reduce(function(W,G){return G(W)},$))};if(Z._error)return uE1(function(){J(Z._error)});if(Z.cursor)return Z.cursor.next().then((X)=>{if(!X)return J(null,null);J(null,X)},(X)=>J(X));else Z.once("cursor",function(){iH(Z,Y)})};/*!
 * Module dependencies.
 */var MA=z0(),en=import.meta.require("stream").Readable,mE1=yB(),uE1=N6(),dE1=import.meta.require("util");dE1.inherits(f6,en);/*!
 * ignore
 */f6.prototype._read=function(){const Z=this;iH(this,function(Y,J){if(Y)return Z.emit("error",Y);if(!J){Z.push(null),Z.cursor.close(function(X){if(X)return Z.emit("error",X)});return}Z.push(J)})};if(Symbol.asyncIterator!=null){const Z="Mongoose does not support using async iterators with an existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation";f6.prototype[Symbol.asyncIterator]=function(){throw new MA(Z)}}Object.defineProperty(f6.prototype,"map",{value:function(Z){return this._transforms.push(Z),this},enumerable:!0,configurable:!0,writable:!0});f6.prototype._markError=function(Z){return this._error=Z,this};f6.prototype.close=async function Z(){if(typeof arguments[0]==="function")throw new MA("AggregationCursor.prototype.close() no longer accepts a callback");try{await this.cursor.close()}catch(Y){throw this.listeners("error").length>0&&this.emit("error",Y),Y}this.emit("close")};f6.prototype.next=async function Z(){if(typeof arguments[0]==="function")throw new MA("AggregationCursor.prototype.next() no longer accepts a callback");return new Promise((Y,J)=>{iH(this,(X,$)=>{if(X!=null)return J(X);Y($)})})};f6.prototype.eachAsync=function(Z,Y,J){const X=this;if(typeof Y==="function")J=Y,Y={};return Y=Y||{},mE1(function($){return iH(X,$)},Z,Y,J)};if(Symbol.asyncIterator!=null)f6.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()};/*!
 * ignore
 */f6.prototype._transformForAsyncIterator=function(){if(this._transforms.indexOf(on)===-1)this.map(on);return this};/*!
 * ignore
 */f6.prototype.transformNull=function(Z){if(arguments.length===0)Z=!0;return this._mongooseOptions.transformNull=Z,this};/*!
 * ignore
 */f6.prototype.addCursorFlag=function(Z,Y){const J=this;return pE1(this,function(){J.cursor.addCursorFlag(Z,Y)}),this};/*!
 * ignore
 */Za.exports=f6});var BA=R((o10,Ja)=>{Ja.exports=function Z(Y,J,X){const $=J&&J.discriminatorMapping;if(X=X||"",$&&!$.isRoot){const W=Y,G=(X.length>0?X+".":X)+$.key,Q=$.value;if(W[0]!=null&&W[0].$match&&(W[0].$match[G]===void 0||W[0].$match[G]===Q))W[0].$match[G]=Q;else if(W[0]!=null&&W[0].$geoNear)W[0].$geoNear.query=W[0].$geoNear.query||{},W[0].$geoNear.query[G]=Q;else if(W[0]!=null&&W[0].$search)if(W[1]&&W[1].$match!=null)W[1].$match[G]=W[1].$match[G]||Q;else{const K={};K[G]=Q,W.splice(1,0,{$match:K})}else{const K={};K[G]=Q,W.unshift({$match:K})}}}});var $a=R((e10,Xa)=>{var lE1=function(Z){if(Z==null||Z.$accumulator==null)return;for(let Y of["init","accumulate","merge","finalize"])if(typeof Z.$accumulator[Y]==="function")Z.$accumulator[Y]=String(Z.$accumulator[Y])};Xa.exports=function Z(Y){if(!Array.isArray(Y))return;for(let J of Y){if(J==null)continue;const X=J.$group||J.$bucket||J.$bucketAuto;if(X!=null)for(let W of Object.keys(X))lE1(X[W]);const $=Object.keys(J)[0];if($&&typeof J[$]==="object"){const W=J[$];for(let G of Object.keys(W))if(W[G]!=null&&W[G].$function!=null&&typeof W[G].$function.body==="function")W[G].$function.body=W[G].$function.body.toString()}if(J.$facet!=null)for(let W of Object.keys(J.$facet))Z(J.$facet[W])}}});var IA=R((Z00,Ha)=>{var S1=function(Z,Y){if(this._pipeline=[],this._model=Y,this.options={},arguments.length===1&&Array.isArray(Z))this.append.apply(this,Z)},eE1=function(Z){if(typeof Z!=="object"||Z===null)return!1;const Y=Object.keys(Z);return Y.length===1&&Y[0][0]==="$"};/*!
 * Module dependencies
 */var Qa=Ya(),AA=z0(),Ka=lH(),{applyGlobalMaxTimeMS:iE1,applyGlobalDiskUse:nE1}=hB(),aE1=N0(),sE1=G6(),NA=BA(),rE1=$a(),Wa=H1(),tE1=Ka.prototype.read,oE1=Ka.prototype.readConcern,Ga=new Set(["$$DESCEND","$$PRUNE","$$KEEP"]);S1.prototype.options;S1.prototype.model=function(Z){if(arguments.length===0)return this._model;if(this._model=Z,Z.schema!=null){if(this.options.readPreference==null&&Z.schema.options.read!=null)this.options.readPreference=Z.schema.options.read;if(this.options.collation==null&&Z.schema.options.collation!=null)this.options.collation=Z.schema.options.collation}return Z};S1.prototype.append=function(){const Z=arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:[...arguments];if(!Z.every(eE1))throw new Error("Arguments must be aggregate pipeline operators");return this._pipeline=this._pipeline.concat(Z),this};S1.prototype.addFields=function(Z){if(typeof Z!=="object"||Z===null||Array.isArray(Z))throw new Error("Invalid addFields() argument. Must be an object");return this.append({$addFields:Object.assign({},Z)})};S1.prototype.project=function(Z){const Y={};if(typeof Z==="object"&&!Array.isArray(Z))Object.keys(Z).forEach(function(J){Y[J]=Z[J]});else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(J){if(!J)return;const X=J[0]==="-"?0:1;if(X===0)J=J.substring(1);Y[J]=X});else throw new Error("Invalid project() argument. Must be string or object");return this.append({$project:Y})};S1.prototype.near=function(Z){const Y={};return Y.$geoNear=Z,this.append(Y)};/*!
 * define methods
 */"group match skip limit out densify fill".split(" ").forEach(function(Z){S1.prototype[Z]=function(Y){const J={};return J["$"+Z]=Y,this.append(J)}});S1.prototype.unwind=function(){const Z=[...arguments],Y=[];for(let J of Z)if(J&&typeof J==="object")Y.push({$unwind:J});else if(typeof J==="string")Y.push({$unwind:J[0]==="$"?J:"$"+J});else throw new Error('Invalid arg "'+J+'" to unwind(), must be string or object');return this.append.apply(this,Y)};S1.prototype.replaceRoot=function(Z){let Y;if(typeof Z==="string")Y=Z.startsWith("$")?Z:"$"+Z;else Y=Z;return this.append({$replaceRoot:{newRoot:Y}})};S1.prototype.count=function(Z){return this.append({$count:Z})};S1.prototype.sortByCount=function(Z){if(Z&&typeof Z==="object")return this.append({$sortByCount:Z});else if(typeof Z==="string")return this.append({$sortByCount:Z[0]==="$"?Z:"$"+Z});else throw new TypeError('Invalid arg "'+Z+'" to sortByCount(), must be string or object')};S1.prototype.lookup=function(Z){return this.append({$lookup:Z})};S1.prototype.graphLookup=function(Z){const Y={};if(Z){if(!Wa.isObject(Z))throw new TypeError("Invalid graphLookup() argument. Must be an object.");Wa.mergeClone(Y,Z);const J=Y.startWith;if(J&&typeof J==="string")Y.startWith=Y.startWith.startsWith("$")?Y.startWith:"$"+Y.startWith}return this.append({$graphLookup:Y})};S1.prototype.sample=function(Z){return this.append({$sample:{size:Z}})};S1.prototype.sort=function(Z){const Y={};if(sE1(Z)==="Object"){const J=["desc","descending",-1];Object.keys(Z).forEach(function(X){if(Z[X]instanceof Object&&Z[X].$meta){Y[X]=Z[X];return}Y[X]=J.indexOf(Z[X])===-1?1:-1})}else if(arguments.length===1&&typeof Z==="string")Z.split(/\s+/).forEach(function(J){if(!J)return;const X=J[0]==="-"?-1:1;if(X===-1)J=J.substring(1);Y[J]=X});else throw new TypeError("Invalid sort() argument. Must be a string or object.");return this.append({$sort:Y})};S1.prototype.unionWith=function(Z){return this.append({$unionWith:Z})};S1.prototype.read=function(Z,Y){return tE1.call(this,Z,Y),this};S1.prototype.readConcern=function(Z){return oE1.call(this,Z),this};S1.prototype.redact=function(Z,Y,J){if(arguments.length===3){if(typeof Y==="string"&&!Ga.has(Y)||typeof J==="string"&&!Ga.has(J))throw new Error("If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP");Z={$cond:{if:Z,then:Y,else:J}}}else if(arguments.length!==1)throw new TypeError("Invalid arguments");return this.append({$redact:Z})};S1.prototype.explain=async function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new AA("Aggregate.prototype.explain() no longer accepts a callback");const J=this._model;if(!this._pipeline.length)throw new Error("Aggregate has empty pipeline");NA(this._pipeline,this._model.schema),await new Promise((G,Q)=>{J.hooks.execPre("aggregate",this,(K)=>{if(K){const H={error:K};return J.hooks.execPost("aggregate",this,[null],H,(z)=>{Q(z)})}else G()})});const X=J.collection.aggregate(this._pipeline,this.options);if(Y==null)Y=!0;let $=null;try{$=await X.explain(Y)}catch(G){await new Promise((Q,K)=>{const H={error:G};J.hooks.execPost("aggregate",this,[null],H,(z)=>{if(z)return K(z);return Q()})})}const W={error:null};return await new Promise((G,Q)=>{J.hooks.execPost("aggregate",this,[$],W,(K)=>{if(K)return Q(K);return G()})}),$};S1.prototype.allowDiskUse=function(Z){return this.options.allowDiskUse=Z,this};S1.prototype.hint=function(Z){return this.options.hint=Z,this};S1.prototype.session=function(Z){if(Z==null)delete this.options.session;else this.options.session=Z;return this};S1.prototype.option=function(Z){for(let Y in Z)this.options[Y]=Z[Y];return this};S1.prototype.cursor=function(Z){return this.options.cursor=Z||{},new Qa(this)};S1.prototype.collation=function(Z){return this.options.collation=Z,this};S1.prototype.facet=function(Z){return this.append({$facet:Z})};S1.prototype.search=function(Z){return this.append({$search:Z})};S1.prototype.pipeline=function(){return this._pipeline};S1.prototype.exec=async function Z(){if(!this._model)throw new Error("Aggregate not bound to any Model");if(typeof arguments[0]==="function")throw new AA("Aggregate.prototype.exec() no longer accepts a callback");const Y=this._model,J=this._model.collection;if(iE1(this.options,Y),nE1(this.options,Y),this.options&&this.options.cursor)return new Qa(this);if(NA(this._pipeline,this._model.schema),rE1(this._pipeline),await new Promise((G,Q)=>{Y.hooks.execPre("aggregate",this,(K)=>{if(K){const H={error:K};return Y.hooks.execPost("aggregate",this,[null],H,(z)=>{Q(z)})}else G()})}),!this._pipeline.length)throw new AA("Aggregate has empty pipeline");const X=aE1(this.options||{});let $;try{$=await(await J.aggregate(this._pipeline,X)).toArray()}catch(G){await new Promise((Q,K)=>{const H={error:G};Y.hooks.execPost("aggregate",this,[null],H,(z)=>{if(z)return K(z);Q()})})}const W={error:null};return await new Promise((G,Q)=>{Y.hooks.execPost("aggregate",this,[$],W,(K)=>{if(K)return Q(K);return G()})}),$};S1.prototype.then=function(Z,Y){return this.exec().then(Z,Y)};S1.prototype.catch=function(Z){return this.exec().then(null,Z)};S1.prototype.finally=function(Z){return this.exec().finally(Z)};if(Symbol.asyncIterator!=null)S1.prototype[Symbol.asyncIterator]=function(){return this.cursor({useMongooseAggCursor:!0}).transformNull()._transformForAsyncIterator()};/*!
 * Helpers
 */S1._prepareDiscriminatorPipeline=NA;/*!
 * Exports
 */Ha.exports=S1});var Ua=R((Y00,Fa)=>{var Zj1=N0();class za{constructor(Z){if(Z==null)return;Object.assign(this,Zj1(Z))}}Fa.exports=za});var Va=R((J00,qa)=>{qa.exports=function Z(Y,J){const X=Object.keys(J.paths),$=X.length;for(let W=0;W<$;++W){let G="";const Q=X[W],K=J.paths[Q],H=K.splitPath(),z=H.length;let F=Y;for(let U=0;U<z;++U){if(F==null)break;const q=H[U];if(G+=(!G.length?"":".")+q,U===z-1){if(typeof F[q]!=="undefined"){if(K.$isSingleNested)Z(F[q],K.caster.schema);else if(K.$isMongooseDocumentArray&&Array.isArray(F[q]))F[q].forEach((L)=>Z(L,K.schema));break}const V=K.getDefault(Y,!1,{skipCast:!0});if(typeof V!=="undefined"){if(F[q]=V,K.$isSingleNested)Z(V,K.caster.schema);else if(K.$isMongooseDocumentArray&&Array.isArray(V))V.forEach((L)=>Z(L,K.schema))}}else{if(F[q]==null)F[q]={};F=F[q]}}}}});var Ra=R((X00,La)=>{var Yj1=V0(),Jj1=H1();La.exports=function Z(Y,J){const X=DA();function $(W,G){Object.defineProperty(Y.prototype,W,{get:function(){const Q={};for(let K in G.methods[W])Q[K]=G.methods[W][K].bind(this);return Q},configurable:!0})}for(let W of Object.keys(J.methods)){const G=J.methods[W];if(J.tree.hasOwnProperty(W))throw new Error('You have a method and a property in your schema both named "'+W+'"');if(typeof G==="function"&&X.prototype[W]===G){delete J.methods[W];continue}if(J.reserved[W]&&!Yj1(J,`methodOptions.${W}.suppressWarning`,!1))Jj1.warn(`mongoose: the method name "${W}" is used by mongoose `+"internally, overwriting it may cause bugs. If you\'re sure you know what you\'re doing, you can suppress this error by using "+`\`schema.method('${W}', fn, { suppressWarning: true })\`.`);if(typeof G==="function")Y.prototype[W]=G;else $(W,J)}Y.$appliedMethods=!0;for(let W of Object.keys(J.paths)){const G=J.paths[W];if(G.$isSingleNested&&!G.caster.$appliedMethods)Z(G.caster,G.schema);if(G.$isMongooseDocumentArray&&!G.Constructor.$appliedMethods)Z(G.Constructor,G.schema)}}});var Ba=R(($00,Ma)=>{var PA=function(Z,Y,J,X,$){if(Z==null||typeof Z!=="object")return Z;const W={...Z};X=$?X||{}:Y;for(let G of Object.keys(W)){const Q=$?$+"."+G:G;if(Y.hasOwnProperty(Q)||X.hasOwnProperty(G))if(nH(Y[Q])||nH(X[G]))W[G]=PA(W[G],Y,J,X[G],Q);else delete W[G];else if(J[Q])W[G]=PA(W[G],Y,J,X[G],Q)}return W},TA=function(Z,Y,J,X,$){if(Z==null||typeof Z!=="object")return Z;const W={...Z};X=$?X||{}:Y;for(let G of Object.keys(W)){const Q=$?$+"."+G:G;if(Y.hasOwnProperty(Q)||X.hasOwnProperty(G)){if(nH(Y[Q])||nH(X[G]))W[G]=TA(W[G],Y,J,X[G],Q);continue}else if(J[Q])W[G]=TA(W[G],Y,J,X[G],Q);else delete W[G]}return W},wa=_w(),Xj1=OJ(),$j1=vH(),nH=H1().isPOJO;Ma.exports=function Z(Y,J,X){if(J==null)return Y;if(Y==null)return Y;let $=null;if($j1(J))$=!1;else if(Xj1(J))$=!0;if($==null)return Y;else if($)return X=X||wa(J),PA(Y,J,X);else return X=X||wa(J),TA(Y,J,X)}});var Na=R((W00,Aa)=>{Aa.exports=function Z(Y){let J=!1;for(let X of Object.keys(Y))if(Y[X]==="text")J=!0;return J}});var Da=R((G00,Ia)=>{var Wj1=Na();Ia.exports=function Z(Y,J,X){if(Wj1(Y))return;if(X.hasOwnProperty("collation")&&!J.hasOwnProperty("collation"))J.collation=X.collation}});var Ta=R((Q00,Pa)=>{var Gj1=XH().middlewareFunctions,Qj1=SK();Pa.exports=function Z(Y,J,X){const $={useErrorHandlers:!0,numCallbackParams:1};J=J.filter((W)=>{if(Gj1.indexOf(W.name)!==-1)return!!W.model;return W.model!==!1}),Y.$__insertMany=J.createWrapper("insertMany",Y.$__insertMany,Y,$);for(let W of Object.keys(X))if(J.hasHooks(W)){const G=Y[W];Y[W]=function(){const Q=arguments.length,K=Q>0?arguments[Q-1]:null,H=typeof K==="function"?K:null,z=Array.prototype.slice.call(arguments,0,H==null?Q:Q-1);return Qj1(H,(F)=>{J.execPre(W,Y,z,function(U){if(U!=null)return F(U);let q=0;const V=G.apply(Y,z.concat(L));if(V!=null&&typeof V.then==="function")V.then((w)=>L(null,w),(w)=>L(w));function L(w,B){if(q++>0)return;if(w!=null)return F(w);J.execPost(W,Y,[B],function(A){if(A!=null)return F(A);F(null,B)})}})},Y.events)}}}});var Ea=R((K00,Ca)=>{Ca.exports=function Z(Y,J){for(let X in J.statics)Y[X]=J.statics[X]}});var aH=R((H00,ja)=>{ja.exports=function Z(Y){if(!(this instanceof Z))return new Z(Y);return this.val=Y,this}});var n$=R((z00,Oa)=>{/*!
 * ignore
 */Oa.exports=new WeakMap});var xa=R((F00,_a)=>{var ka=function(Z,Y,J,X,$){const W=[],G=X.isVirtual&&X.justOne&&Z.length>1?!1:X.sort&&Z.length>1,Q=X.$nullIfNotFound;let K,H,z;if(zj1.isMongooseArray(Z))Z=Z.__array;let F=0;const U=Z.length;if(G&&$&&X[sH]===void 0){X[sH]=!1;for(let q in J)if(Array.isArray(J[q])){X[sH]=!0;break}}for(F=0;F<U;++F){if(z=Z[F],Array.isArray(z)){ka(z,Y,J,X,!0),W.push(z);continue}if(z===null&&G===!1){W.push(z);continue}if(H=String(z),K=Y[H],X.clone&&K!=null)if(X.lean){const q=Sa.get(K);K=Kj1(K),Sa.set(K,q)}else K=K.constructor.hydrate(K._doc);if($)if(K)if(G){const q=J[H];if(X[sH])W.push(K);else W[q]=K}else W.push(K);else if(z!=null&&z[Hj1]!=null)W.push(z);else W.push(X.retainNullValues||Q?null:z);else W[F]=K||null}if(Z.length=0,W.length)W.forEach(function(q,V){Z[V]=q})},Kj1=N0(),Sa=n$(),Hj1=$1().modelSymbol,zj1=H1();_a.exports=ka;var sH=Symbol("mongoose#assignRawDocsToIdStructure#hasArray")});var EA=R((U00,fa)=>{var CA=function(Z,Y){if(Z.virtuals[Y])return{virtual:Z.virtuals[Y],path:void 0};const J=Y.split(".");let X="",$="";for(let W=0;W<J.length;++W){if(X+=(X.length>0?".":"")+J[W],Z.virtuals[X]){if(W===J.length-1)return{virtual:Z.virtuals[X],path:$};continue}if(Z.nested[X])continue;if(Z.paths[X]&&Z.paths[X].schema){Z=Z.paths[X].schema;const G=J.slice(W+1).join(".");if(Z.virtuals[G]){if(W===J.length-2)return{virtual:Z.virtuals[G],nestedSchemaPath:[$,X].filter((Q)=>!!Q).join(".")};continue}if(W+1<J.length&&Z.discriminators)for(let Q of Object.keys(Z.discriminators)){const K=CA(Z.discriminators[Q],G);if(K!=null){const H=[$,X,K.nestedSchemaPath].filter((z)=>!!z).join(".");return{virtual:K.virtual,nestedSchemaPath:H}}}$+=($.length>0?".":"")+X,X="";continue}if(Z.discriminators)for(let G of Object.keys(Z.discriminators)){const Q=CA(Z.discriminators[G],Y);if(Q)return Q}return null}};fa.exports=CA;/*!
 * ignore
 */});var rH=R((q00,ya)=>{ya.exports=function Z(Y,J,X){if(Y==null)return Y;if(Y._doc!=null)Y=Y._doc;if(arguments.length>=3){if(typeof Y!=="object")return;if(X===void 0)return;if(Y instanceof Map)Y.set(J,X);else Y[J]=X;return X}if(J==="$*")return Y instanceof Map?Array.from(Y.values()):Object.keys(Y).map(($)=>Y[$]);if(Y instanceof Map)return Y.get(J);return Y[J]}});var ba=R((tH,ga)=>{(function(Z,Y){typeof tH==="object"&&typeof ga!=="undefined"?Y(tH):typeof define==="function"&&define.amd?define(["exports"],Y):(Z=Z||self,Y(Z.sift={}))})(tH,function(Z){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Y=function(N,P){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,f){C.__proto__=f}||function(C,f){for(var t in f)if(Object.prototype.hasOwnProperty.call(f,t))C[t]=f[t]},Y(N,P)};function J(N,P){if(typeof P!=="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");Y(N,P);function C(){this.constructor=N}N.prototype=P===null?Object.create(P):(C.prototype=P.prototype,new C)}var X=function(N){var P="[object "+N+"]";return function(C){return $(C)===P}},$=function(N){return Object.prototype.toString.call(N)},W=function(N){if(N instanceof Date)return N.getTime();else if(G(N))return N.map(W);else if(N&&typeof N.toJSON==="function")return N.toJSON();return N},G=X("Array"),Q=X("Object"),K=X("Function"),H=function(N){return N&&(N.constructor===Object||N.constructor===Array||N.constructor.toString()==="function Object() { [native code] }"||N.constructor.toString()==="function Array() { [native code] }")&&!N.toJSON},z=function(N,P){if(N==null&&N==P)return!0;if(N===P)return!0;if(Object.prototype.toString.call(N)!==Object.prototype.toString.call(P))return!1;if(G(N)){if(N.length!==P.length)return!1;for(var C=0,f=N.length;C<f;C++)if(!z(N[C],P[C]))return!1;return!0}else if(Q(N)){if(Object.keys(N).length!==Object.keys(P).length)return!1;for(var t in N)if(!z(N[t],P[t]))return!1;return!0}return!1},F=function(N,P,C,f,t,G1){var L1=P[f];if(G(N)&&isNaN(Number(L1))){for(var C1=0,i8=N.length;C1<i8;C1++)if(!F(N[C1],P,C,f,C1,N))return!1}if(f===P.length||N==null)return C(N,t,G1,f===0);return F(N[L1],P,C,f+1,L1,N)},U=function(){function N(P,C,f,t){this.params=P,this.owneryQuery=C,this.options=f,this.name=t,this.init()}return N.prototype.init=function(){},N.prototype.reset=function(){this.done=!1,this.keep=!1},N}(),q=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t)||this;return L1.children=G1,L1}return P.prototype.reset=function(){this.keep=!1,this.done=!1;for(var C=0,f=this.children.length;C<f;C++)this.children[C].reset()},P.prototype.childrenNext=function(C,f,t,G1){var L1=!0,C1=!0;for(var i8=0,L7=this.children.length;i8<L7;i8++){var n8=this.children[i8];if(!n8.done)n8.next(C,f,t,G1);if(!n8.keep)C1=!1;if(n8.done){if(!n8.keep)break}else L1=!1}this.done=L1,this.keep=C1},P}(U),V=function(N){J(P,N);function P(C,f,t,G1,L1){var C1=N.call(this,C,f,t,G1)||this;return C1.name=L1,C1}return P}(q),L=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.next=function(C,f,t,G1){this.childrenNext(C,f,t,G1)},P}(q),w=function(N){J(P,N);function P(C,f,t,G1,L1){var C1=N.call(this,f,t,G1,L1)||this;return C1.keyPath=C,C1.propop=!0,C1._nextNestedValue=function(i8,L7,n8,u01){return C1.childrenNext(i8,L7,n8,u01),!C1.done},C1}return P.prototype.next=function(C,f,t){F(C,this.keyPath,this._nextNestedValue,0,f,t)},P}(q),B=function(N,P){if(N instanceof Function)return N;if(N instanceof RegExp)return function(f){var t=typeof f==="string"&&N.test(f);return N.lastIndex=0,t};var C=W(N);return function(f){return P(C,W(f))}},A=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){this._test=B(this.params,this.options.compare)},P.prototype.next=function(C,f,t){if(!Array.isArray(t)||t.hasOwnProperty(f)){if(this._test(C,f,t))this.done=!0,this.keep=!0}},P}(U),M=function(N,P,C){return new A(N,P,C)},I=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.next=function(){this.done=!0,this.keep=!1},P}(U),x=function(N){return function(P,C,f,t){if(P==null)return new I(P,C,f,t);return N(P,C,f,t)}},j=function(N){return x(function(P,C,f,t){var G1=typeof W(P),L1=N(P);return new A(function(C1){return typeof W(C1)===G1&&L1(C1)},C,f,t)})},E=function(N,P,C,f){var t=f.operations[N];if(!t)D(N);return t(P,C,f,N)},D=function(N){throw new Error("Unsupported operation: "+N)},l=function(N,P){for(var C in N)if(P.operations.hasOwnProperty(C)||C.charAt(0)==="$")return!0;return!1},b=function(N,P,C,f,t){if(l(P,t)){var G1=O(P,C,t),L1=G1[0],C1=G1[1];if(C1.length)throw new Error("Property queries must contain only operations, or exact objects.");return new w(N,P,f,t,L1)}return new w(N,P,f,t,[new A(P,f,t)])},_=function(N,P,C){if(P===void 0)P=null;var f=C===void 0?{}:C,t=f.compare,G1=f.operations,L1={compare:t||z,operations:Object.assign({},G1||{})},C1=O(N,null,L1),i8=C1[0],L7=C1[1],n8=[];if(i8.length)n8.push(new w([],N,P,L1,i8));if(n8.push.apply(n8,L7),n8.length===1)return n8[0];return new L(N,P,L1,n8)},O=function(N,P,C){var f=[],t=[];if(!H(N))return f.push(new A(N,N,C)),[f,t];for(var G1 in N)if(C.operations.hasOwnProperty(G1)){var L1=E(G1,N[G1],N,C);if(L1){if(!L1.propop&&P&&!C.operations[P])throw new Error("Malformed query. "+G1+" cannot be matched against property.")}if(L1!=null)f.push(L1)}else if(G1.charAt(0)==="$")D(G1);else t.push(b(G1.split("."),N[G1],G1,N,C));return[f,t]},k=function(N){return function(P,C,f){return N.reset(),N.next(P,C,f),N.keep}},i=function(N,P){if(P===void 0)P={};return k(_(N,null,P))},T1=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){this._test=B(this.params,this.options.compare)},P.prototype.reset=function(){N.prototype.reset.call(this),this.keep=!0},P.prototype.next=function(C){if(this._test(C))this.done=!0,this.keep=!1},P}(U),g=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){if(!this.params||typeof this.params!=="object")throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=_(this.params,this.owneryQuery,this.options)},P.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},P.prototype.next=function(C){if(G(C)){for(var f=0,t=C.length;f<t;f++){this._queryOperation.reset();var G1=C[f];this._queryOperation.next(G1,f,C,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},P}(U),s=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){this._queryOperation=_(this.params,this.owneryQuery,this.options)},P.prototype.reset=function(){N.prototype.reset.call(this),this._queryOperation.reset()},P.prototype.next=function(C,f,t,G1){this._queryOperation.next(C,f,t,G1),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},P}(U),q1=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){},P.prototype.next=function(C){if(G(C)&&C.length===this.params)this.done=!0,this.keep=!0},P}(U),a1=function(N){if(N.length===0)throw new Error("$and/$or/$nor must be a nonempty array")},Y1=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!1,C}return P.prototype.init=function(){var C=this;a1(this.params),this._ops=this.params.map(function(f){return _(f,null,C.options)})},P.prototype.reset=function(){this.done=!1,this.keep=!1;for(var C=0,f=this._ops.length;C<f;C++)this._ops[C].reset()},P.prototype.next=function(C,f,t){var G1=!1,L1=!1;for(var C1=0,i8=this._ops.length;C1<i8;C1++){var L7=this._ops[C1];if(L7.next(C,f,t),L7.keep){G1=!0,L1=L7.keep;break}}this.keep=L1,this.done=G1},P}(U),h0=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!1,C}return P.prototype.next=function(C,f,t){N.prototype.next.call(this,C,f,t),this.keep=!this.keep},P}(Y1),n7=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.init=function(){var C=this;this._testers=this.params.map(function(f){if(l(f,C.options))throw new Error("cannot nest $ under "+C.name.toLowerCase());return B(f,C.options.compare)})},P.prototype.next=function(C,f,t){var G1=!1,L1=!1;for(var C1=0,i8=this._testers.length;C1<i8;C1++){var L7=this._testers[C1];if(L7(C)){G1=!0,L1=!0;break}}this.keep=L1,this.done=G1},P}(U),IZ=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t,G1)||this;return L1.propop=!0,L1._in=new n7(C,f,t,G1),L1}return P.prototype.next=function(C,f,t,G1){if(this._in.next(C,f,t),G(t)&&!G1){if(this._in.keep)this.keep=!1,this.done=!0;else if(f==t.length-1)this.keep=!0,this.done=!0}else this.keep=!this._in.keep,this.done=!0},P.prototype.reset=function(){N.prototype.reset.call(this),this._in.reset()},P}(U),t9=function(N){J(P,N);function P(){var C=N!==null&&N.apply(this,arguments)||this;return C.propop=!0,C}return P.prototype.next=function(C,f,t){if(t.hasOwnProperty(f)===this.params)this.done=!0,this.keep=!0},P}(U),EW=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t,C.map(function(C1){return _(C1,f,t)}),G1)||this;return L1.propop=!1,a1(C),L1}return P.prototype.next=function(C,f,t,G1){this.childrenNext(C,f,t,G1)},P}(V),o9=function(N){J(P,N);function P(C,f,t,G1){var L1=N.call(this,C,f,t,C.map(function(C1){return _(C1,f,t)}),G1)||this;return L1.propop=!0,L1}return P.prototype.next=function(C,f,t,G1){this.childrenNext(C,f,t,G1)},P}(V),jW=function(N,P,C){return new A(N,P,C)},l8=function(N,P,C,f){return new T1(N,P,C,f)},FX=function(N,P,C,f){return new Y1(N,P,C,f)},OW=function(N,P,C,f){return new h0(N,P,C,f)},UX=function(N,P,C,f){return new g(N,P,C,f)},qX=function(N,P,C,f){return new IZ(N,P,C,f)},DZ=function(N,P,C,f){return new n7(N,P,C,f)},PZ=j(function(N){return function(P){return P<N}}),SW=j(function(N){return function(P){return P<=N}}),z5=j(function(N){return function(P){return P>N}}),T4=j(function(N){return function(P){return P>=N}}),e9=function(N,P,C){var f=N[0],t=N[1];return new A(function(G1){return W(G1)%f===t},P,C)},kW=function(N,P,C,f){return new t9(N,P,C,f)},VX=function(N,P,C){return new A(new RegExp(N,P.$options),P,C)},c2=function(N,P,C,f){return new s(N,P,C,f)},p2={number:function(N){return typeof N==="number"},string:function(N){return typeof N==="string"},bool:function(N){return typeof N==="boolean"},array:function(N){return Array.isArray(N)},null:function(N){return N===null},timestamp:function(N){return N instanceof Date}},l2=function(N,P,C){return new A(function(f){if(typeof N==="string"){if(!p2[N])throw new Error("Type alias does not exist");return p2[N](f)}return f!=null?f instanceof N||f.constructor===N:!1},P,C)},i2=function(N,P,C,f){return new EW(N,P,C,f)},n2=function(N,P,C,f){return new o9(N,P,C,f)},a2=function(N,P,C){return new q1(N,P,C,"$size")},s2=function(){return null},r2=function(N,P,C){var f;if(K(N))f=N;else if(!process.env.CSP_ENABLED)f=new Function("obj","return "+N);else throw new Error("In CSP mode, sift does not support strings in \"$where\" condition");return new A(function(t){return f.bind(t)(t)},P,C)},h01=Object.freeze({__proto__:null,$Size:q1,$eq:jW,$ne:l8,$or:FX,$nor:OW,$elemMatch:UX,$nin:qX,$in:DZ,$lt:PZ,$lte:SW,$gt:z5,$gte:T4,$mod:e9,$exists:kW,$regex:VX,$not:c2,$type:l2,$and:i2,$all:n2,$size:a2,$options:s2,$where:r2}),t2=function(N,P,C){var f=C===void 0?{}:C,t=f.compare,G1=f.operations;return _(N,P,{compare:t,operations:Object.assign({},h01,G1||{})})},m01=function(N,P){if(P===void 0)P={};var C=t2(N,null,P);return k(C)};Z.$Size=q1,Z.$all=n2,Z.$and=i2,Z.$elemMatch=UX,Z.$eq=jW,Z.$exists=kW,Z.$gt=z5,Z.$gte=T4,Z.$in=DZ,Z.$lt=PZ,Z.$lte=SW,Z.$mod=e9,Z.$ne=l8,Z.$nin=qX,Z.$nor=OW,Z.$not=c2,Z.$options=s2,Z.$or=FX,Z.$regex=VX,Z.$size=a2,Z.$type=l2,Z.$where=r2,Z.EqualsOperation=A,Z.createDefaultQueryOperation=t2,Z.createEqualsOperation=M,Z.createOperationTester=k,Z.createQueryOperation=_,Z.createQueryTester=i,Z.default=m01,Object.defineProperty(Z,"__esModule",{value:!0})})});var ha=R((V00,jA)=>{var va=ba();jA.exports=va.default;Object.assign(jA.exports,va)});var la=R((L00,pa)=>{var wj1=function(Z){if(Array.isArray(Z)){if(Z.some((Y)=>Array.isArray(Y)||Y===null))return Z.map((Y)=>{if(Y==null)return 0;if(Array.isArray(Y))return Y.filter((J)=>J!=null).length;return 1});return Z.filter((Y)=>Y!=null).length}return Z==null?0:1},eH=function(Z,Y,J,X){const $=typeof J.transform==="function",W=$?J.transform:Mj1;if(Array.isArray(Z)){const G=[],Q=Z.length;for(let z=0;z<Q;++z){let F=Z[z];const U=Array.isArray(X)?X[z]:X;if(!SA(F)&&(!J.retainNullValues||F!=null)&&!$)continue;else if(!J.retainNullValues&&F==null)continue;else if($)F=W(SA(F)?F:null,U);if(da(F,Y),G.push(F),Y.originalLimit&&G.length>=Y.originalLimit)break}const K=G.length;while(Z.length>K)Array.prototype.pop.apply(Z,[]);let H=0;if(Zz.isMongooseArray(Z))for(H=0;H<K;++H)Z.set(H,G[H],!0);else for(H=0;H<K;++H)Z[H]=G[H];return Z}if(SA(Z)||Zz.isPOJO(Z))return da(Z,Y),W(Z,X);if(Z instanceof Map)return Z;if(J.justOne===!1)return[];return Z==null?W(Z,X):W(null,X)},da=function(Z,Y){if(Z!=null&&Y.excludeId)if(typeof Z.$__setValue==="function")delete Z._doc._id;else delete Z._id},SA=function(Z){if(Z==null)return!1;return Array.isArray(Z)||Z.$isMongooseMap||Z.$__!=null||ca.has(Z)},Mj1=function(Z){return Z},Fj1=WH(),Uj1=aH(),qj1=xa(),oH=V0(),Vj1=EA(),ca=n$(),ma=rH(),Lj1=bw(),OA=g7(),ua=ha().default,Zz=H1(),{populateModelSymbol:Rj1}=$1();pa.exports=function Z(Y){const J=Object.assign({},oH(Y,"allOptions.options.options"),oH(Y,"allOptions.options")),X=Object.assign({},Y.options,J,{justOne:Y.justOne,isVirtual:Y.isVirtual});X.$nullIfNotFound=Y.isVirtual;const $=Y.populatedModel,W=[].concat(Y.rawIds);Y.allIds=[].concat(Y.allIds),qj1(Y.rawIds,Y.rawDocs,Y.rawOrder,X);const{docs:G,rawIds:Q,options:K}=Y,H=Y.count&&Y.isVirtual;let z;function F(U){if(H)return U;if(U instanceof Uj1)return U.val;if(U===void 0)return U;const q=Y.allIds[z];if(Y.path.endsWith(".$*"))return eH(U,K,X,q);if(Y.justOne===!0&&Array.isArray(U)){const V=[];for(let L of U){const w=ca.get(L);if(w==null||w===$)V.push(L)}while(U.length>V.length)Array.prototype.pop.apply(U,[]);for(let L=0;L<V.length;++L)U[L]=V[L];return eH(U[0],K,X,q)}else if(Y.justOne===!1&&!Array.isArray(U))return eH([U],K,X,q);return eH(U,K,X,q)}for(z=0;z<G.length;++z){const U=Y.path.endsWith(".$*")?Y.path.slice(0,-3):Y.path,q=OA.get(U,G[z],ma);if(q==null&&!Vj1(Y.originalModel.schema,U))continue;let V;if(H)V=wj1(Q[z]);else if(Array.isArray(Y.match))V=Array.isArray(Q[z])?Q[z].filter(ua(Y.match[z])):[Q[z]].filter(ua(Y.match[z]))[0];else V=Q[z];const L=Y.originalModel.schema,w=oH(G[z],"$__",null)!=null;let B=w?q instanceof Map:Zz.isPOJO(q);if(B=B&&oH(L._getSchema(U),"$isSchemaMap"),!Y.isVirtual&&B){const I=q instanceof Map?Array.from(q.keys()):Object.keys(q);V=V.reduce((x,j,E)=>{return x.set(I[E],j),x},new Map)}if(w&&Array.isArray(V)){for(let I of V)if(I!=null&&I.$__!=null)I.$__.parent=G[z]}else if(w&&V!=null&&V.$__!=null)V.$__.parent=G[z];if(Y.isVirtual&&w){if(G[z].$populated(U,Y.justOne?W[0]:W,Y.allOptions),Array.isArray(V))V=V.map((I)=>I==null?void 0:I);OA.set(U,V,G[z],void 0,F,!1);continue}const A=U.split(".");let M=G[z];for(let I=0;I<A.length-1;++I){if(Array.isArray(M)&&!Zz.isArrayIndex(A[I]))break;if(A[I]==="$*")break;if(M[A[I]]==null){const x=A.slice(0,I+1).join("."),j=L._getSchema(x);if(V==null&&j!=null&&j.$isMongooseArray)break;M[A[I]]={}}if(M=M[A[I]],typeof M!=="object")break}if(G[z].$__){if(Y.allOptions.options[Rj1]=Y.allOptions.model,G[z].$populated(U,Y.unpopulatedValues[z],Y.allOptions.options),V!=null&&V.$__!=null)V.$__.wasPopulated={value:Y.unpopulatedValues[z]};if(V instanceof Map&&!V.$isMongooseMap)V=new Fj1(V,U,G[z],G[z].schema.path(U).$__schemaType)}if(OA.set(U,V,G[z],ma,F,!1),G[z].$__)Lj1(G[z],[Y.allOptions.options])}}});var kA=R((R00,ia)=>{var Bj1=uB();ia.exports=function Z(Y,J,X){if(!X||!(J&&J.upsert))return;if(!Bj1(Y)[X])if(J.overwrite)Y[X]=0;else{if(!Y.$setOnInsert)Y.$setOnInsert={};Y.$setOnInsert[X]=0}}});var ea=R((w00,oa)=>{var s$=function(Z,Y){if(Z==null)return;if(Z.discriminatorMapping&&!Z.discriminatorMapping.isRoot)Y[Z.discriminatorMapping.key]=Z.discriminatorMapping.value},sJ=function(Z,Y){const J=Z.schema.options.discriminatorKey;if(Y!=null&&Y.hasOwnProperty(J))Z=Nj1(Z.discriminators,Y[J])||Z;return Z},Aj1=z0(),Nj1=h7(),na=DM(),aa=PM(),a$=vJ(),sa=rB(),ra=kA(),{inspect:Ij1}=import.meta.require("util"),ta=zA();oa.exports=function Z(Y,J,X){const $=Y.base.now(),W=Y.base.options.setDefaultsOnInsert;if(J.insertOne)return(G)=>{const Q=sJ(Y,J.insertOne.document),K=new Q(J.insertOne.document);if(Q.schema.options.timestamps&&X.timestamps!==!1)K.initializeTimestamps();if(X.session!=null)K.$session(X.session);const H=Q?.schema?.options?.versionKey;if(H&&K[H]==null)K[H]=0;if(J.insertOne.document=K,X.skipValidation||J.insertOne.skipValidation){G(null);return}J.insertOne.document.$validate().then(()=>{G(null)},(z)=>{G(z,null)})};else if(J.updateOne)return(G)=>{try{if(!J.updateOne.filter)throw new Error("Must provide a filter object.");if(!J.updateOne.update)throw new Error("Must provide an update object.");const Q=sJ(Y,J.updateOne.filter),K=Q.schema,H=X.strict!=null?X.strict:Q.schema.options.strict;if(s$(K,J.updateOne.filter),Q.schema.$timestamps!=null&&J.updateOne.timestamps!==!1){const F=Q.schema.$timestamps.createdAt,U=Q.schema.$timestamps.updatedAt;aa($,F,U,J.updateOne.update,{})}if(J.updateOne.timestamps!==!1)na($,J.updateOne.update,Q.schema);if((J.updateOne.setDefaultsOnInsert==null?W:J.updateOne.setDefaultsOnInsert)!==!1)ta(J.updateOne.filter,Q.schema,J.updateOne.update,{setDefaultsOnInsert:!0,upsert:J.updateOne.upsert});ra(J.updateOne.update,J.updateOne,Q.schema.options.versionKey),J.updateOne.filter=a$(Q.schema,J.updateOne.filter,{strict:H,upsert:J.updateOne.upsert}),J.updateOne.update=sa(Q.schema,J.updateOne.update,{strict:H,upsert:J.updateOne.upsert},Q,J.updateOne.filter)}catch(Q){return G(Q,null)}G(null)};else if(J.updateMany)return(G)=>{try{if(!J.updateMany.filter)throw new Error("Must provide a filter object.");if(!J.updateMany.update)throw new Error("Must provide an update object.");const Q=sJ(Y,J.updateMany.filter),K=Q.schema,H=X.strict!=null?X.strict:Q.schema.options.strict;if((J.updateMany.setDefaultsOnInsert==null?W:J.updateMany.setDefaultsOnInsert)!==!1)ta(J.updateMany.filter,Q.schema,J.updateMany.update,{setDefaultsOnInsert:!0,upsert:J.updateMany.upsert});if(Q.schema.$timestamps!=null&&J.updateMany.timestamps!==!1){const F=Q.schema.$timestamps.createdAt,U=Q.schema.$timestamps.updatedAt;aa($,F,U,J.updateMany.update,{})}if(J.updateMany.timestamps!==!1)na($,J.updateMany.update,Q.schema);s$(K,J.updateMany.filter),ra(J.updateMany.update,J.updateMany,Q.schema.options.versionKey),J.updateMany.filter=a$(Q.schema,J.updateMany.filter,{strict:H,upsert:J.updateMany.upsert}),J.updateMany.update=sa(Q.schema,J.updateMany.update,{strict:H,upsert:J.updateMany.upsert},Q,J.updateMany.filter)}catch(Q){return G(Q,null)}G(null)};else if(J.replaceOne)return(G)=>{const Q=sJ(Y,J.replaceOne.filter),K=Q.schema,H=X.strict!=null?X.strict:Q.schema.options.strict;s$(K,J.replaceOne.filter);try{J.replaceOne.filter=a$(Q.schema,J.replaceOne.filter,{strict:H,upsert:J.replaceOne.upsert})}catch(U){return G(U,null)}const z=new Q(J.replaceOne.replacement,H,!0);if(Q.schema.options.timestamps)z.initializeTimestamps();if(X.session!=null)z.$session(X.session);const F=Q?.schema?.options?.versionKey;if(F&&z[F]==null)z[F]=0;if(J.replaceOne.replacement=z,X.skipValidation||J.replaceOne.skipValidation){J.replaceOne.replacement=J.replaceOne.replacement.toBSON(),G(null);return}J.replaceOne.replacement.$validate().then(()=>{J.replaceOne.replacement=J.replaceOne.replacement.toBSON(),G(null)},(U)=>{G(U,null)})};else if(J.deleteOne)return(G)=>{const Q=sJ(Y,J.deleteOne.filter),K=Q.schema;s$(K,J.deleteOne.filter);try{J.deleteOne.filter=a$(Q.schema,J.deleteOne.filter)}catch(H){return G(H,null)}G(null)};else if(J.deleteMany)return(G)=>{const Q=sJ(Y,J.deleteMany.filter),K=Q.schema;s$(K,J.deleteMany.filter);try{J.deleteMany.filter=a$(Q.schema,J.deleteMany.filter)}catch(H){return G(H,null)}G(null)};else return(G)=>{const Q=new Aj1(`Invalid op passed to \`bulkWrite()\`: ${Ij1(J)}`);G(Q,null)}}});var Xs=R((M00,Js)=>{var Ys=function(Z,Y,J){if(Z=Z.filter((X)=>!(X instanceof Dj1)),!J)return Z;return Z.filter((X)=>{try{return Y.cast(X),!0}catch($){return!1}})},Tj1=function(Z){if(Array.isArray(Z)){if(Z.length>1)return{$or:[].concat(Z.map((Y)=>Object.assign({},Y)))};return Object.assign({},Z[0])}return Object.assign({},Z)},Dj1=aH(),Pj1=hK(),{trusted:Yz}=jY(),Zs=KA();Js.exports=function Z(Y,J,X,$,W){const G=Tj1(J);if(X.size===1){const Q=Array.from(X)[0],K=$.schema.path(Q);if(Q!=="_id"||!G._id)Y=Ys(Y,K,W),G[Q]=Yz({$in:Y});else if(Q==="_id"&&G._id){const z=Zs(G[Q])?G[Q]:{$eq:G[Q]};G[Q]={...Yz({$in:Y}),...z}}const H=Pj1(Q);for(let z=0;z<H.length-1;++z){const F=H[z];if(G[F]!=null&&G[F].$elemMatch!=null){G[F].$elemMatch[Q.slice(F.length+1)]=Yz({$in:Y}),delete G[Q];break}}}else{const Q=[];if(Array.isArray(G.$or))G.$and=[{$or:G.$or},{$or:Q}],delete G.$or;else G.$or=Q;for(let K of X)if(K!=="_id"||!G._id){const H=$.schema.path(K);Y=Ys(Y,H,W),Q.push({[K]:{$in:Y}})}else if(K==="_id"&&G._id){const H=Zs(G[K])?G[K]:{$eq:G[K]};G[K]={...Yz({$in:Y}),...H}}}return G}});var Ws=R((B00,$s)=>{var Cj1=function(){return{result:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},insertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,upsertedCount:0,upsertedIds:{},insertedIds:{},n:0}};$s.exports=Cj1});var Qs=R((A00,Gs)=>{Gs.exports=function Z(Y){if(Y==null)return null;return Object.keys(Y)[0]}});var Fs=R((N00,zs)=>{/*!
 * ignore
 */var Ks=T9(),Ej1=V0(),jj1=h7(),Hs=n$(),rJ=g7(),Oj1=$1().populateModelSymbol;zs.exports=function Z(Y,J,X,$){const W=J.path($),G=X;if(W)return W;const Q=J.discriminatorMapping&&J.discriminatorMapping.key;if(Q&&Y!=null){if(X!=null&&X[Q]!=null){const z=jj1(Y.discriminators,X[Q]);J=z?z.schema:J}else if(Y.discriminators!=null)return Object.keys(Y.discriminators).reduce((z,F)=>{const U=Y.discriminators[F];return z.concat(Z(U,U.schema,null,$))},[])}function K(z,F,U,q){let V=z.length+1,L,w;while(V--){if(w=z.slice(0,V).join("."),L=F.path(w),L==null)continue;if(L.caster){if(L.caster instanceof Ks)return L.caster;let M=null;if(L.schema!=null&&L.schema.discriminators!=null){const I=L.schema.discriminators,x=w+"."+L.schema.options.discriminatorKey,j=U?rJ.get(x,U)||[]:[];M=Object.keys(I).reduce(function(E,D){const l=I[D].discriminatorMapping.value;if(X==null||j.indexOf(D)!==-1||j.indexOf(l)!==-1)E.push(I[D]);return E},[])}if(V!==z.length&&L.schema){let I;if(z[V]==="$"){if(V+1===z.length)return L;if(I=K(z.slice(V+1),F,U?rJ.get(w,U):null,q.concat(z.slice(0,V))),I)I.$parentSchemaDocArray=I.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L);return I}if(M!=null&&M.length>0){I=[];for(let x of M){const j=K(z.slice(V),x,U?rJ.get(w,U):null,q.concat(z.slice(0,V)));if(j!=null){if(j.$parentSchemaDocArray=j.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L),j.$parentSchemaDocArray)I.$parentSchemaDocArray=j.$parentSchemaDocArray;I.push(j)}}return I}else{if(I=K(z.slice(V),L.schema,U?rJ.get(w,U):null,q.concat(z.slice(0,V))),I)I.$parentSchemaDocArray=I.$parentSchemaDocArray||(L.schema.$isSingleNested?null:L);return I}}else if(V!==z.length&&L.$isMongooseArray&&L.casterConstructor.$isMongooseArray){let I=L;while(I.$isMongooseArray&&!I.$isMongooseDocumentArray)I=I.casterConstructor;const x=K(z.slice(V),I.schema,null,q.concat(z.slice(0,V)));if(x!=null)return x;if(I.schema.discriminators){const j=[];for(let E of Object.keys(I.schema.discriminators)){const D=I.schema.discriminators[E]||I.schema,l=K(z.slice(V),D,null,q.concat(z.slice(0,V)));if(l!=null)j.push(l)}if(j.length>0)return j}}}else if(L.$isSchemaMap&&L.$__schemaType instanceof Ks)return L.$__schemaType;const B=q.concat([w]).join(".");if(G!=null&&G.$__&&G.$populated(B)&&V<z.length){const M=X.$__.populated[B].options[Oj1];if(M!=null)return K(z.slice(V),M.schema,U?rJ.get(w,U):null,q.concat(z.slice(0,V)))}const A=Ej1(G,w);if(A!=null){const M=Array.isArray(A)&&A.length>0?Hs.get(A[0]):Hs.get(A),I=M!=null?M.schema:null;if(I!=null){const x=K(z.slice(V),I,U?rJ.get(w,U):null,q.concat(z.slice(0,V)));if(x!=null)return x.$parentSchemaDocArray=x.$parentSchemaDocArray||(I.$isSingleNested?null:I),x}}return L}}const H=$.split(".");for(let z=0;z<H.length;++z)if(H[z]==="$")H[z]="0";return K(H,J,X,[])}});var _A=R((I00,Us)=>{var Sj1=jJ();Us.exports=function Z(Y,J){if(Y==null)return!1;if(J==="_id")return Y._id===0;const X=Object.keys(Y);let $=null;for(let W of X)if(Sj1(Y[W])){$=Y[J]===1?"inclusive":"exclusive";break}if($==="inclusive")return Y[J]!==1;if($==="exclusive")return Y[J]===0;return!1}});var Ms=R((D00,ws)=>{var kj1=z0(),_j1=_A(),qs=rH(),Vs=g7(),xj1=import.meta.require("util"),Ls=H1(),Rs=/(\.\d+$|\.\d+\.)/g;ws.exports=function Z(Y,J,X,$,W){if(Y==null)return[];if(typeof Y==="string"&&W!=null&&_j1(W,Y))throw new kj1("refPath `"+Y+"` must not be excluded in projection, got "+xj1.inspect(W));if(Rs.test(X)){const K=X.split(Rs);if(K[K.length-1]==="")throw new Error("Can\'t populate individual element in an array");let H="",z=Y;for(let q=0;q<K.length;q+=2){const V=K[q];if(z.startsWith(V+"."))H+=z.substring(0,V.length)+K[q+1],z=z.substring(V.length+1);else if(q===K.length-1){H+=z,z="";break}else throw new Error("Could not normalize ref path, chunk "+V+" not in populated path")}const F=Vs.get(H,J,qs);let U=Array.isArray(F)?F:[F];return U=Ls.array.flatten(U),U}const G=Vs.get(Y,J,qs);let Q;if($!=null&&$.virtuals.hasOwnProperty(Y))Q=[$.virtuals[Y].applyGetters(void 0,J)];else Q=Array.isArray(G)?G:[G];return Q=Ls.array.flatten(Q),Q}});var Ps=R((P00,Ds)=>{var mj1=function(Z,Y,J,X){const $=[],W={},G=X.virtual;for(let Q of Y){let K=null;const H={};let z;const F=X.nestedSchemaPath?X.nestedSchemaPath+".":"";if(typeof J.localField==="string")z=J.localField;else if(typeof G.options.localField==="function")z=F+G.options.localField.call(Q,Q);else if(Array.isArray(G.options.localField))z=G.options.localField.map((A)=>F+A);else z=F+G.options.localField;if(H.count=G.options.count,G.options.skip!=null&&!J.hasOwnProperty("skip"))J.skip=G.options.skip;if(G.options.limit!=null&&!J.hasOwnProperty("limit"))J.limit=G.options.limit;if(G.options.perDocumentLimit!=null&&!J.hasOwnProperty("perDocumentLimit"))J.perDocumentLimit=G.options.perDocumentLimit;let U=G.options.foreignField;if(!z||!U)return new As(`Cannot populate virtual \`${J.path}\` on model \`${Z.modelName}\`, because options \`localField\` and / or \`foreignField\` are missing`);if(typeof z==="function")z=z.call(Q,Q);if(typeof U==="function")U=U.call(Q,Q);H.isRefPath=!1;let q=null;if(("justOne"in J)&&J.justOne!==void 0)q=J.justOne;if(G.options.refPath)K=r$(G.options.refPath,Q,J.path),q=!!G.options.justOne,H.isRefPath=!0;else if(G.options.ref){let A;if(typeof G.options.ref==="function"&&!G.options.ref[Jz])A=G.options.ref.call(Q,Q);else A=G.options.ref;if(q=!!G.options.justOne,Array.isArray(A))K=A;else K=[A]}H.isVirtual=!0,H.virtual=G,H.justOne=q;const V=F7(H,"virtual.options.match",null)||F7(H,"virtual.options.options.match",null);let L=F7(J,"match",null)||V,w=typeof L==="function";if(w)L=L.call(Q,Q,H.virtual);if(Array.isArray(z)&&Array.isArray(U)&&z.length===U.length){L=Object.assign({},L);for(let A=1;A<z.length;++A)L[U[A]]=Is(b9.get(z[A],Q,t$),Z.schema),w=!0;z=z[0],U=U[0]}H.localField=z,H.foreignField=U,H.match=L,H.hasMatchFunction=w;const B=Ns(Q,z,Z,J,G);try{gA(Z,$,W,K,J,H,B,Q)}catch(A){return A}}return $},gA=function(Z,Y,J,X,$,W,G,Q,K,H){const z=$.connection!=null?$.connection:Z.db;if(H=H===void 0?G:H,Array.isArray(H))H=d8.cloneArrays(H);if(X==null)return;let F=X.length;while(F--){const U=X[F];if(U==null)continue;let q;if($.model&&$.model[Jz])q=$.model;else if(U[Jz])q=U;else try{q=bA(z,U)}catch(A){if(G!==void 0)throw A;q=null}let V=G;const L=Array.isArray(G)?d8.array.flatten(G):[],w=W.modelNamesInOrder?W.modelNamesInOrder:X;if(W.isRefPath&&Array.isArray(G)&&L.length===w.length)V=L.filter((A,M)=>w[M]===U);const B=$.perDocumentLimit==null?F7($,"options.perDocumentLimit",null):$.perDocumentLimit;if(!J[U]||B!=null){const A={model:q};if(W.isVirtual&&F7(W.virtual,"options.options"))A.options=yj1(W.virtual.options.options);else if(K!=null)A.options=Object.assign({},K);d8.merge(A,$),$[xA]=q,A[xA]=q,J[U]={model:q,options:A,match:W.hasMatchFunction?[W.match]:W.match,docs:[Q],ids:[V],allIds:[G],unpopulatedValues:[H],localField:new Set([W.localField]),foreignField:new Set([W.foreignField]),justOne:W.justOne,isVirtual:W.isVirtual,virtual:W.virtual,count:W.count,[xA]:q},Y.push(J[U])}else if(J[U].localField.add(W.localField),J[U].foreignField.add(W.foreignField),J[U].docs.push(Q),J[U].ids.push(V),J[U].allIds.push(G),J[U].unpopulatedValues.push(H),W.hasMatchFunction)J[U].match.push(W.match)}},bA=function(Z,Y){if(Z.models[Y]==null&&Z._parent!=null)return bA(Z._parent,Y);return Z.model(Y)},fA=function(Z,Y){if(typeof Z==="function"&&!Z[Jz])return Z.call(Y,Y);return Z},Ns=function(Z,Y,J,X,$,W){const G=J.schema._getPathType(Y),Q=G==="real"?J.schema.path(Y):G.schema,K=Q&&Q.getters?Q.getters:[];Y=Q!=null&&Q.instance==="Embedded"?Y+"._id":Y;const H=F7(X,"options",{}),z="getters"in H?H.getters:F7($,"options.getters",!1);if(K.length!==0&&z){const F=Z.$__!=null?Z:J.hydrate(Z),U=d8.getValue(Y,Z);if(Array.isArray(U)){const q=d8.getValue(Y.split(".").slice(0,-1),F);return U.map((V,L)=>Q.applyGetters(V,q[L]))}else return Q.applyGetters(U,F)}else return Is(b9.get(Y,Z,t$),W)},Is=function(Z,Y){if(Z!=null&&Z.$__!=null)return Z._id;if(Z!=null&&Z._id!=null&&(Y==null||!Y.$isSchemaMap))return Z._id;if(Array.isArray(Z)){const J=Z.__array!=null?Z.__array:Z;for(let X=0;X<J.length;++X)if(J[X]!=null&&J[X].$__!=null)J[X]=J[X]._id;if(d8.isMongooseArray(Z)&&Z.$schema())return Z.$schema()._castForPopulate(Z,Z.$parent());return[].concat(Z)}if(bj1(Z)==="Object"&&(Y==null||Y[yA]==null)){const J=[];for(let X of Object.keys(Z))J.push(Z[X]);return J}if(Z instanceof Map)return Array.from(Z.values());return Z},uj1=function(Z,Y,J,X,$,W){if(!J.isRefPath||$==null)return;const G=$.split(".");let Q="",K=void 0;for(let H=0;H<G.length;++H){const z=G[H];Q=Q+(Q.length===0?"":".")+z;const F=Y.path(Q);if(F!=null&&F.$isMongooseArray&&F.caster.discriminators!=null&&Object.keys(F.caster.discriminators).length!==0){const U=d8.getValue(Q,Z),q=X.path.substring(Q.length+1),V=F.caster.schema.options.discriminatorKey;K=[];for(let L of U){const w=d8.getValue(V,L),B=F.caster.discriminators[w],A=B&&B.schema;if(A==null)continue;const M=A.path(q);if(M==null||M.options.refPath==null){const x=d8.getValue(J.localField.substring(Q.length+1),L);W.forEach((j,E)=>{if(j===x)W[E]=fj1(j)});continue}const I=d8.getValue(G.slice(H+1).join("."),L);K.push(I)}}}return K},As=e1(),fj1=aH(),yj1=N0(),F7=V0(),gj1=h7(),bj1=G6(),Bs=Fs(),vj1=EA(),t$=rH(),b9=g7(),r$=Ms(),d8=H1(),Jz=$1().modelSymbol,xA=$1().populateModelSymbol,yA=P9().schemaMixedSymbol,hj1=Dw();Ds.exports=function Z(Y,J,X){let $;const W=J.length,G=[],Q=X.model&&X.model.modelName||X.model;let K,H,z;const F={},U=Y.schema;if(X._localModel!=null&&X._localModel.schema.nested[X.path])return[];const q=vj1(Y.schema,X.path);if((q==null?null:q.virtual)!=null)return mj1(Y,J,X,q);let L=Bs(Y,U,null,X.path);if(L=Array.isArray(L)?L:[L].filter((A)=>A!=null),!(X.strictPopulate===!1||X.options?.strictPopulate===!1)&&L.length===0&&X._localModel!=null)return new hj1(X._fullPath||X.path);for(let A=0;A<W;A++){$=J[A];let M=null;const I=$!=null&&$.$__!=null?$.$__schema:U;if(K=Bs(Y,I,$,X.path),K!=null&&K.$isMongooseDocumentArray&&K.options.ref==null&&K.options.refPath==null)continue;if(K&&K.$parentSchemaDocArray&&F7(X,"options.sort")!=null)return new As("Cannot populate with `sort` on path "+X.path+" because it is a subproperty of a document array");z=null;let j=!1,E=null,D=null,l=null;if(K!=null&&K.instance==="Embedded"){if(K.options.ref){const s={localField:X.path+"._id",foreignField:"_id",justOne:!0},q1=B($,K,Q,Y),a1=b9.get(X.path,$),Y1=b9.get("_id",a1);gA(Y,G,F,q1.modelNames,X,s,Y1,$,D,a1)}continue}if(Array.isArray(K)){const s=K;for(let q1 of s){let a1,Y1;try{Y1=B($,q1,Q,Y),a1=Y1.modelNames,j=j||Y1.isRefPath,E=E||Y1.refPath,M=Y1.justOne}catch(h0){return h0}if(j&&!Y1.isRefPath)continue;if(!a1)continue;z=z||[];for(let h0 of a1)if(z.indexOf(h0)===-1)z.push(h0)}}else{try{const s=B($,K,Q,Y);if(z=s.modelNames,j=s.isRefPath,E=E||s.refPath,M=s.justOne,D=F7(K,"options.populate",null),j)l=z,z=Array.from(new Set(z))}catch(s){return s}if(!z)continue}const b={},_=X.path,O="_id";if(("justOne"in X)&&X.justOne!==void 0)M=X.justOne;else if(K&&!K[yA]){if(X.path.endsWith("."+K.path)||X.path===K.path)M=Array.isArray(K)?K.every((s)=>!s.$isMongooseArray):!K.$isMongooseArray}if(!z)continue;b.isVirtual=!1,b.justOne=M,b.localField=_,b.foreignField=O;const k=Ns($,_,Y,X,null,K),i=String(d8.getValue(O,$));X._docs[i]=Array.isArray(k)?k.slice():k;let T1=F7(X,"match",null);const g=typeof T1==="function";if(g)T1=T1.call($,$);if(b.match=T1,b.hasMatchFunction=g,b.isRefPath=j,b.modelNamesInOrder=l,j)z=uj1($,U,b,X,E,k)||z;try{gA(Y,G,F,z,X,b,k,$,D)}catch(s){return s}}return G;function B(A,M,I,x){let j,E=!1,D=null;const l=M;if(M&&M.instance==="Array")M=M.caster;if(M&&M.$isSchemaMap)M=M.$__schemaType;const b=M&&M.options&&M.options.ref;if(H=M&&M.options&&M.options.refPath,M!=null&&M[yA]&&!b&&!H&&!I)return{modelNames:null};if(I)j=[I];else if(H!=null){if(typeof H==="function"){const _=X.path.slice(0,X.path.length-M.path.length-1),O=b9.get(_,A,t$),k=Array.isArray(O)?d8.array.flatten(O):O?[O]:[];j=new Set;for(let i of k)H=H.call(i,i,X.path),r$(H,A,X.path,U,X._queryProjection).forEach((T1)=>j.add(T1));j=Array.from(j)}else j=r$(H,A,X.path,U,X._queryProjection);E=!0}else{let _,O,k,i,T1=x;const g=x.schema.options.discriminatorKey;if(!M&&g&&(i=d8.getValue(g,A))){const s=gj1(x.discriminators,i)||x;if(s!=null)T1=s;else try{T1=bA(x.db,i)}catch(q1){return q1}if(k=T1.schema._getSchema(X.path),k&&k.caster)k=k.caster}else k=M;if(l&&l.path.endsWith(".$*"))D=!l.$isMongooseArray&&!l._arrayPath;else if(k!=null)D=!k.$isMongooseArray&&!k._arrayPath;if((_=F7(k,"options.ref"))!=null)if(k!=null&&typeof _==="function"&&X.path.endsWith("."+k.path)){j=new Set;const s=X.path.slice(0,X.path.length-k.path.length-1),q1=b9.get(s,A,t$),a1=Array.isArray(q1)?d8.array.flatten(q1):q1?[q1]:[];for(let Y1 of a1)j.add(fA(_,Y1));if(a1.length===0)j=[fA(_,A)];else j=Array.from(j)}else _=fA(_,A),j=[_];else if((k=F7(M,"options.refPath"))!=null)if(E=!0,typeof O==="function"){const s=X.path.slice(0,X.path.length-k.path.length-1),q1=b9.get(s,A,t$),a1=Array.isArray(q1)?d8.array.flatten(q1):q1?[q1]:[];j=new Set;for(let Y1 of a1)O=O.call(Y1,Y1,X.path),r$(O,A,X.path,U,X._queryProjection).forEach((h0)=>j.add(h0));j=Array.from(j)}else j=r$(O,A,X.path,U,X._queryProjection)}if(!j)if(X._localModel==null)j=[x.modelName];else return{modelNames:j,justOne:D,isRefPath:E,refPath:H};if(!Array.isArray(j))j=[j];return{modelNames:j,justOne:D,isRefPath:E,refPath:H}}};/*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 *//*!
 * ignore
 */});var Cs=R((T00,Ts)=>{var dj1=V0();Ts.exports=function Z(Y){if(Array.isArray(Y)){const X=Object.keys(Y[0]);return X.length===1&&X[0]==="_id"&&Y[0]._id!=="hashed"}if(typeof Y!=="object")return!1;const J=dj1(Y,"key",{});return Object.keys(J).length===1&&J.hasOwnProperty("_id")}});var Os=R((C00,js)=>{var Xz=V0(),Es=H1();js.exports=function Z(Y,J,X){if(X.textIndexVersion!=null){delete X.key._fts,delete X.key._ftsx;const Q={...X.weights,...X.key};if(Object.keys(Q).length!==Object.keys(Y).length)return!1;for(let K of Object.keys(Q)){if(!(K in Y))return!1;const H=Q[K];if(H!==Xz(J,"weights."+K)&&!(H===1&&Xz(J,"weights."+K)==null))return!1}if(J.default_language!==X.default_language)return X.default_language==="english"&&J.default_language==null;return!0}const $=["unique","partialFilterExpression","sparse","expireAfterSeconds","collation"];for(let Q of $){if(!(Q in J)&&!(Q in X))continue;if(Q==="collation"){if(J[Q]==null||X[Q]==null)return J[Q]==null&&X[Q]==null;const K=Object.keys(J.collation),H=J.collation,z=X.collation;for(let F of K)if(Xz(H,F)!==Xz(z,F))return!1}else if(!Es.deepEqual(J[Q],X[Q]))return!1}const W=Object.keys(Y),G=Object.keys(X.key);if(W.length!==G.length)return!1;for(let Q=0;Q<W.length;++Q){if(W[Q]!==G[Q])return!1;if(!Es.deepEqual(Y[W[Q]],X.key[G[Q]]))return!1}return!0}});var xs=R((E00,_s)=>{var cj1=function(Z,Y){return ks({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:Y,indexesType:"schema"})},pj1=function(Z,Y){return ks({baseModelName:Z.baseModelName,discriminatorMapping:Z.schema.discriminatorMapping,indexes:Y,indexesType:"db"})},ks=function({baseModelName:Z,discriminatorMapping:Y,indexes:J,indexesType:X}){const $=Y&&Y.key,W=Y&&Y.value;if(!$)return J;if(Boolean(Z))return J.filter((Q)=>{const K=Ss(Q,X);return K&&K[$]===W});return J.filter((Q)=>{const K=Ss(Q,X);return!K||!K[$]})},Ss=function(Z,Y){if(Y==="schema"){const J=Z[1];return J&&J.partialFilterExpression}return Z.partialFilterExpression};_s.exports={getRelatedSchemaIndexes:cj1,getRelatedDBIndexes:pj1}});var ys=R((j00,fs)=>{var lj1=function(Z,Y,J){let X=0,$=0,W=null;if(Y<=0)throw new Error("Limit must be positive");if(Z.length===0)return J(null,[]);for(let H=0;H<Z.length&&H<Y;++H)G();function G(){Z[$+X](K($+X)),++X}const Q=[];function K(H){return(z,F)=>{if(--X,++$,W!=null)return;if(z!=null)return W=z,J(W);if(Q[H]=F,$===Z.length)return J(null,Q);else if($+X<Z.length)G()}}};fs.exports=lj1;/*!
 * ignore
 */});var bs=R((O00,gs)=>{gs.exports=function Z(Y,J,X){if(J==null)return;for(let $=0;$<J.length;++$)if(Array.isArray(J[$]))Z(Y,J[$],X+"."+$);else Y.push(X+"."+$)}});var ds=R((S00,us)=>{var vs=V0(),hs=g7(),ms=QA();/*!
 * ignore
 */us.exports=function Z(Y,J,X){const $=ms(vs(J,"select",null),!0)||ms(vs(J,"options.select",null),!0);if($==null)return;for(let W of Y){if(!$.hasOwnProperty("-"+W))continue;for(let G of X)if(G.$__!=null)hs.unset(W,G._doc);else hs.unset(W,G)}}});var ps=R((k00,cs)=>{/*!
 * Module dependencies.
 */var ij1=e1();class vA extends ij1{constructor(Z,Y,J,X){let $=Z.map((W)=>W.message).join(", ");if($.length>200)$=$.slice(0,200)+"...";super(`${X} failed with ${Z.length} Mongoose validation errors: ${$}`);this.validationErrors=Z,this.results=Y,this.rawResult=J,this.operation=X}}Object.defineProperty(vA.prototype,"name",{value:"MongooseBulkWriteError"});/*!
 * exports
 */cs.exports=vA});var DA=R((zr,Fr)=>{var r=function(Z,Y,J){if(Y instanceof mA)throw new TypeError("2nd argument to `Model` must be a POJO or string, **not** a schema. Make sure you\'re calling `mongoose.model()`, not `mongoose.Model()`.");v9.call(this,Z,Y,J)},Hr=function(Z,Y){if(Z.$where==null)return;for(let J of Object.keys(Z.$where))Y[J]=Z.$where[J]},CO1=function(Z,Y){const J=Z.$__schema.options.versionKey;if(!J)return null;const X=Z.$__getValue(J)||0;return new es(Z,X,Y)},EO1=function(Z,Y){const J=Z.$__schema.options.skipVersioning;if(!J)return!1;return Y=Y.replace(/\.\d+\./,"."),J[Y]},qZ=function(Z,Y,J,X,$,W){if(W||(W="$set"),!J[W])J[W]={};if(J[W][X.path]=$,Z.$__schema.options.versionKey===!1)return;if(EO1(Z,X.path))return;if(tJ===(tJ&Z.$__.version))return;if(Z.$__schema.options.optimisticConcurrency)return;switch(W){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}if(W==="$push"||W==="$addToSet"||W==="$pullAll"||W==="$pull")if(/\.\d+\.|\.\d+$/.test(X.path))Gz.call(Z);else Z.$__.version=2;else if(/^\$p/.test(W))Gz.call(Z);else if(Array.isArray($))Gz.call(Z);else if(/\.\d+\.|\.\d+$/.test(X.path))Z.$__.version=1},jO1=function(Z,Y,J,X,$){if(J.$set&&J.$set[X.path])return;if(typeof $.$__getAtomics==="function"){$.$__getAtomics().forEach(function(F){const U=F[0],q=F[1];qZ(Z,Y,J,X,q,U)});return}const W=$[lA],G=Object.keys(W);let Q=G.length,K,H;if(Q===0){if(l1.isMongooseObject($))$=$.toObject({depopulate:1,_isNested:!0});else if($.valueOf)$=$.valueOf();return qZ(Z,Y,J,X,$)}function z(F){return l1.isMongooseObject(F)?F.toObject({depopulate:1,_isNested:!0}):F}while(Q--){if(H=G[Q],K=W[H],l1.isMongooseObject(K))K=K.toObject({depopulate:!0,transform:!1,_isNested:!0});else if(Array.isArray(K))K=K.map(z);else if(K.valueOf)K=K.valueOf();if(H==="$addToSet")K={$each:K};qZ(Z,Y,J,X,K,H)}},OO1=function(Z,Y,J){const X=Z.$populated(Y,!0);if(!X&&Z.$__.selected){const W=Y.split(".")[0];if(Z.$__.selected[W+".$"])return W}if(!(X&&l1.isMongooseArray(J)))return;if(X.options.match||X.options.options&&l1.object.hasOwnProperty(X.options.options,"limit")||X.options.options&&X.options.options.skip||X.options.select&&(X.options.select._id===0||/\s?-_id\s?/.test(X.options.select))){const W=J[lA];if(Object.keys(W).length===0||W.$set||W.$pop)return Y}},Gz=function(){return this.$__.version=tJ,this},k1=function(Z,Y){if(Z==null||Z===global)throw new B1("`Model."+Y+"()` cannot run without a model as `this`. Make sure you are calling `MyModel."+Y+"()` where `MyModel` is a Mongoose model.");else if(Z[Kr]==null)throw new B1("`Model."+Y+"()` cannot run without a model as `this`. Make sure you are not calling `new Model."+Y+"()`")},SO1=function(Z,Y,J,X){const $=[];for(let[W,G]of Y){let Q=!1;const K=pA(Z,A4(G));for(let H of J){if(cA(H))continue;if(Wr(W,K,H)&&!X.includes(H.name)){Q=!0;break}}if(!Q)$.push(W)}return $},kO1=function(Z,Y,J){const X=[];for(let $ of J){let W=!1;if(cA($))continue;for(let[G,Q]of Y){const K=pA(Z,A4(Q));if(Yr(G,K,Z.options),Wr(G,K,$)){W=!0;break}}if(!W)X.push($.name)}return X};async function ts(Z,Y){if(Z.length===0)return[];return await Promise.all(Z.map((J)=>Y.dropIndex(J))),Z}var _O1=function(Z,Y,J){const X=Z.schema.indexes();let $;Y=Y||{};const W=function(F){if(F&&!Z.$caught)Z.emit("error",F);Z.emit("index",F||$),J&&J(F||$)};for(let F of X)if(cA(F))l1.warn('mongoose: Cannot specify a custom index on `_id` for model name "'+Z.modelName+'", MongoDB does not allow overwriting the default `_id` index. See https://bit.ly/mongodb-id-index');if(!X.length){ZW(function(){W()});return}const G=function(F,U,q,V){Z.emit("index-single-done",F,U,q,V)},Q=function(F,U){Z.emit("index-single-start",F,U)},K=Z.schema._baseSchema,H=K?K.indexes():[];ZW(function(){if(Y._automatic&&!Z.collection.collection)Z.collection.addQueue(z,[]);else z()});function z(){if(Y._automatic){if(Z.schema.options.autoIndex===!1||Z.schema.options.autoIndex==null&&Z.db.config.autoIndex===!1)return W()}const F=X.shift();if(!F)return W();if(Y._automatic&&F[1]._autoIndex===!1)return z();if(H.find((V)=>l1.deepEqual(V,F)))return z();const U=A4(F[0]),q=A4(F[1]);if(delete q._autoIndex,pA(Z.schema,q),Xr(Z.schema,q),Yr(U,q,Z.schema.options),Q(U,Y),("background"in Y))q.background=Y.background;if("toCreate"in Y){if(Y.toCreate.length===0)return W()}Z.collection.createIndex(U,q).then((V)=>{G(null,U,q,V),z()},(V)=>{if(!$)$=V;if(!Z.$caught)Z.emit("error",V);G(V,U,q),z()})}},oJ=function(Z,Y){Z.$isNew=Y,Z.$emit("isNew",Y),Z.constructor.emit("isNew",Y);const J=Z.$getAllSubdocs();for(let X of J)X.$isNew=Y,X.$emit("isNew",Y)},xO1=function(Z){return new Promise((Y,J)=>{Z.schema.s.hooks.execPre("save",Z,(X)=>{if(X){J(X);return}Y()})})},fO1=function(Z){return new Promise((Y,J)=>{if(Z.$isNew)oJ(Z,!1);Z.$__reset(),Z.schema.s.hooks.execPost("save",Z,[Z],{},(X)=>{if(X){J(X);return}Y()})})},nA=function(Z,Y,J,X,$){const W=new Z.Query({},{},Z,Z.collection);if(J instanceof v9)J=J.toObject();else J=A4(J);$=typeof $==="function"?$:A4($);const G=Z&&Z.schema&&Z.schema.options&&Z.schema.options.versionKey||null;return $r(X,$,G),W[Y](J,X,$)},yO1=function(Z,Y,J,X,$){let W=J.length;if(J.length===0)return $(null,Y);for(let Q of J)vO1(Z,Y,Q,G);function G(Q){if(Q)return $(Q,null);if(--W)return;$(null,Y)}},vO1=function(Z,Y,J,X){const $=J;if(J.strictPopulate==null){if(J._localModel!=null&&J._localModel.schema._userProvidedOptions.strictPopulate!=null)$.strictPopulate=J._localModel.schema._userProvidedOptions.strictPopulate;else if(J._localModel!=null&&Z.base.options.strictPopulate!=null)$.strictPopulate=Z.base.options.strictPopulate;else if(Z.base.options.strictPopulate!=null)$.strictPopulate=Z.base.options.strictPopulate}if(!Array.isArray(Y))Y=[Y];if(Y.length===0||Y.every(l1.isNullOrUndefined))return X();const W=VO1(Z,Y,$);if(W instanceof B1)return ZW(function(){X(W)});const G=W.length;let Q=[];function K(V){return V!==void 0}let H=G,z=!1;const F=[];for(let V=0;V<G;++V){const L=W[V];let w=L.options.select,B=l1.array.flatten(L.ids,K);B=l1.array.unique(B);const A={};if(A.sort=L&&L.options&&L.options.options&&L.options.options.sort||void 0,A.excludeId=gO1.test(w)||w&&w._id===0,L.options&&L.options.options&&L.options.options.lean&&L.options.options.lean.transform)L.options.options._leanTransform=L.options.options.lean.transform,L.options.options.lean=!0;if(B.length===0||B.every(l1.isNullOrUndefined)){--H,os(Z,[],L,A);continue}if(z=!0,typeof $.foreignField==="string")L.foreignField.clear(),L.foreignField.add($.foreignField);const M=HO1(B,L.match,L.foreignField,L.model,L.options.skipInvalidIds);if(A.excludeId)if(typeof w==="string")w=w.replace(bO1," ");else w=l1.object.shallowCopy(w),delete w._id;if(L.options.options&&L.options.options.limit!=null)A.originalLimit=L.options.options.limit;else if(L.options.limit!=null)A.originalLimit=L.options.limit;F.push([L,M,w,A,U])}if(!z){if(W.length!==0)return X();if($.populate!=null){const V=l1.populate($.populate).map((L)=>Object.assign({},L,{path:$.path+"."+L.path}));Z.populate(Y,V).then((L)=>{X(null,L)},(L)=>{X(L)});return}return X()}for(let V of F)hO1.apply(null,V);function U(V,L){if(V!=null)return X(V,null);if(Q=Q.concat(L),--H===0)q()}function q(){for(let V of F){const L=V[0],w=V[3];for(let B of Q)L.options._childDocs.push(B);try{os(Z,Q,L,w)}catch(B){return X(B)}}for(let V of F)IO1(V[0].foreignField,V[0].options,Q);for(let V of F){const L=V[0];if(L.options&&L.options.options&&L.options.options._leanTransform)for(let w of Q)L.options.options._leanTransform(w)}X()}},hO1=function(Z,Y,J,X,$){let W=A4(Z.options.populate);const G=Object.assign({skip:Z.options.skip,limit:Z.options.limit,perDocumentLimit:Z.options.perDocumentLimit},Z.options.options);if(Z.count)delete G.skip;if(G.perDocumentLimit!=null)G.limit=G.perDocumentLimit,delete G.perDocumentLimit;else if(G.limit!=null)G.limit=G.limit*Z.ids.length;const Q=Z.model.find(Y,J,G);for(let K of Z.foreignField)if(K!=="_id"&&Q.selectedInclusively()&&!wO1(Q._fields,K))Q.select(K);if(Z.count)for(let K of Z.foreignField)Q.select(K);if(W){if(Z.model.baseModelName!=null)if(Array.isArray(W))W.forEach((H)=>{H.strictPopulate=!1});else if(typeof W==="string")W={path:W,strictPopulate:!1};else W.strictPopulate=!1;const K=Z.options._fullPath||Z.options.path;if(Array.isArray(W))for(let H of W)H._fullPath=K+"."+H.path;else if(typeof W==="object")W._fullPath=K+"."+W.path;Q.populate(W)}Q.exec().then((K)=>{for(let H of K)MO1.set(H,Z.model);$(null,K)},(K)=>{$(K)})},os=function(Z,Y,J,X){const{options:$,isVirtual:W,justOne:G}=J;let Q;const K=$&&$.options&&$.options.lean||!1,H=Y.length,z={},F={};let U,q;const V=A4(J.allIds);for(let L=0;L<H;L++){if(q=Y[L],q==null)continue;for(let w of J.foreignField){if(Q=l1.getValue(w,q),Array.isArray(Q)){Q=l1.array.unique(l1.array.flatten(Q));for(let B of Q){if(B instanceof v9)B=B._id;if(U=String(B),F[U])if(Array.isArray(F[U]))F[U].push(q),z[U].push(L);else F[U]=[F[U],q],z[U]=[z[U],L];else if(W&&!G)F[U]=[q],z[U]=[L];else F[U]=q,z[U]=L}}else{if(Q instanceof v9)Q=Q._id;if(U=String(Q),F[U]){if(Array.isArray(F[U]))F[U].push(q),z[U].push(L);else if(W||F[U].constructor!==q.constructor||String(F[U]._id)!==String(q._id))F[U]=[F[U],q],z[U]=[z[U],L]}else F[U]=q,z[U]=L}if(!K)q.$__.wasPopulated=q.$__.wasPopulated||!0}}QO1({originalModel:Z,rawIds:J.isVirtual?V:J.allIds,allIds:V,unpopulatedValues:J.unpopulatedValues,foreignField:J.foreignField,rawDocs:F,rawOrder:z,docs:J.docs,path:$.path,options:X,justOne:J.justOne,isVirtual:J.isVirtual,allOptions:J,populatedModel:J.model,lean:K,virtual:J.virtual,count:J.count,match:J.match})},mO1=function(Z,Y){for(let J in Y)Z.Query.prototype[J]=Y[J]};/*!
 * Module dependencies.
 */var nj1=IA(),aj1=Xw(),v9=K6(),sj1=CK(),rj1=Aw(),hA=import.meta.require("events").EventEmitter,tj1=AJ(),oj1=I$(),B1=e1(),ej1=Lw(),$z=lH(),ZO1=Ua(),mA=xJ(),uA=I9(),es=Fw(),ls=qw(),YO1=xK(),JO1=Va(),XO1=XH(),$O1=$H(),Zr=Ra(),WO1=Ba(),Yr=Da(),GO1=Ta(),Jr=Ea(),Xr=mB(),QO1=la(),KO1=ea(),A4=N0(),HO1=Xs(),$r=kA(),is=Ws(),zO1=gK(),FO1=CH(),UO1=Qs(),dA=aM(),e$=V0(),qO1=G6(),Wz=h7(),VO1=Ps(),ZW=N6(),Qz=R4().internalToObjectOptions,cA=Cs(),Wr=Os(),{getRelatedDBIndexes:LO1,getRelatedSchemaIndexes:RO1}=xs(),ns=_A(),pA=MM(),wO1=vK(),MO1=n$(),BO1=ys(),AO1=hK(),NO1=BA(),Gr=bs(),IO1=ds(),DO1=pB(),as=OY(),ss=import.meta.require("util"),l1=H1(),Qr=ps(),PO1=vw(),tJ=1|2,lA=$1().arrayAtomicsSymbol,Kz=Symbol("mongoose#Model#collection"),iA=Symbol("mongoose#Model#db"),Kr=$1().modelSymbol,o$=Symbol("mongoose#Model#subclassed"),TO1=Object.assign({},Qz,{bson:!0,flattenObjectIds:!1});Object.setPrototypeOf(r.prototype,v9.prototype);r.prototype.$isMongooseModelPrototype=!0;r.prototype.db;r.prototype.collection;r.prototype.$__collection;r.prototype.modelName;r.prototype.$where;r.prototype.baseModelName;r.events;r._middleware;/*!
 * ignore
 *//*!
 * ignore
 */r.prototype.$__handleSave=function(Z,Y){const J={};if(Xr(this.$__schema,Z),typeof Z.writeConcern!=="undefined"){if(J.writeConcern={},("w"in Z.writeConcern))J.writeConcern.w=Z.writeConcern.w;if("j"in Z.writeConcern)J.writeConcern.j=Z.writeConcern.j;if("wtimeout"in Z.writeConcern)J.writeConcern.wtimeout=Z.writeConcern.wtimeout}else{if("w"in Z)J.w=Z.w;if("j"in Z)J.j=Z.j;if("wtimeout"in Z)J.wtimeout=Z.wtimeout}if("checkKeys"in Z)J.checkKeys=Z.checkKeys;const X=this.$session();if(!J.hasOwnProperty("session")&&X!=null)J.session=X;if(this.$isNew){const G=this.toObject(TO1);if((G||{})._id===void 0){ZW(function(){Y(new B1("document must have an _id before saving"))});return}this.$__version(!0,G),this[Kz].insertOne(G,J).then((Q)=>Y(null,Q),(Q)=>{oJ(this,!0),Y(Q,null)}),this.$__reset(),oJ(this,!1),this.$__.inserting=!0;return}this.$__.inserting=!1;const $=this.$__delta();if($){if($ instanceof B1){Y($);return}const G=this.$__where($[0]);if(G instanceof B1){Y(G);return}Hr(this,G);const Q=$[1];if(this.$__schema.options.minimize){if(PO1(Q),Object.keys(Q).length===0){W.call(this);return}}this[Kz].updateOne(G,Q,J).then((K)=>{K.$where=G,Y(null,K)},(K)=>{this.$__undoReset(),Y(K)})}else{W.call(this);return}this.$__.modifiedPaths=this.modifiedPaths(),this.$__reset(),oJ(this,!1);function W(){const G=Object.assign({},Z,J),Q=this.$__where(),K=this.$__schema.options.optimisticConcurrency;if(K&&!Array.isArray(K)){const H=this.$__schema.options.versionKey,z=this.$__getValue(H);if(z!=null)Q[H]=z}this.constructor.collection.findOne(Q,G).then((H)=>{Y(null,{$where:Q,matchedCount:!H?0:1})}).catch(Y)}};/*!
 * ignore
 */r.prototype.$__save=function(Z,Y){this.$__handleSave(Z,(J,X)=>{if(J)return this.$__schema.s.hooks.execPost("save:error",this,[this],{error:J},(Q)=>{Y(Q,this)});let $=0;if((Z!=null?Z.writeConcern!=null?Z.writeConcern.w:Z.w:0)!==0){if(X!=null)if(Array.isArray(X))$=X.length;else if(X.matchedCount!=null)$=X.matchedCount;else $=X;if(this.$__.version&&!this.$__.inserting){const Q=(2&this.$__.version)===2;this.$__.version=void 0;const K=this.$__schema.options.versionKey,H=this.$__getValue(K)||0;if($<=0){this.$__undoReset();const z=this.$__.$versionError||new es(this,H,this.$__.modifiedPaths);return Y(z)}if(Q)this.$__setValue(K,H+1)}if(X!=null&&$<=0)return this.$__undoReset(),J=new sj1(X.$where,this.constructor.modelName,$,X),this.$__schema.s.hooks.execPost("save:error",this,[this],{error:J},(K)=>{Y(K,this)})}this.$__.saving=void 0,this.$__.savedState={},this.$emit("save",this,$),this.constructor.emit("save",this,$),Y(null,this)})};/*!
 * ignore
 */r.prototype.save=async function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new B1("Model.prototype.save() no longer accepts a callback");let J;if(this.$op="save",this.$__.saving)J=new ls(this);else this.$__.saving=new ls(this);if(Y=new ZO1(Y),Y.hasOwnProperty("session"))this.$session(Y.session);if(this.$__.timestamps!=null)Y.timestamps=this.$__.timestamps;if(this.$__.$versionError=CO1(this,this.modifiedPaths()),J)throw this.$__handleReject(J),J;return this.$__.saveOptions=Y,await new Promise((X,$)=>{this.$__save(Y,(W)=>{if(this.$__.saving=null,this.$__.saveOptions=null,this.$__.$versionError=null,this.$op=null,W!=null)return this.$__handleReject(W),$(W);X()})}),this};r.prototype.$save=r.prototype.save;r.prototype.$__delta=function(){const Z=this.$__dirty(),Y=this.$__schema.options.optimisticConcurrency;if(Y)if(Array.isArray(Y)){const Q=new Set(Y);if(this.modifiedPaths().find((H)=>Q.has(H)))this.$__.version=Z.length?tJ:1}else this.$__.version=Z.length?tJ:1;if(!Z.length&&tJ!==this.$__.version)return;const J={},X={},$=Z.length,W=[];let G=0;if(J._id=this._doc._id,(J&&J._id&&J._id.$__||null)!=null)J._id=J._id.toObject({transform:!1,depopulate:!0});for(;G<$;++G){const Q=Z[G];let K=Q.value;const H=OO1(this,Q.path,K);if(H){W.push(H);continue}if(!this.$populated(Q.path,!0)&&this.$__.selected){const F=Q.path.split("."),U=F[0];if(this.$__.selected[U]&&this.$__.selected[U].$elemMatch)if(F.length>1&&F[1]==0&&typeof J[U]==="undefined")J[U]=this.$__.selected[U],F[1]="$",Q.path=F.join(".");else{W.push(Q.path);continue}}if(this.$isDefault(Q.path)&&this.$__.selected){if(Q.path.indexOf(".")===-1&&ns(this.$__.selected,Q.path))continue;if(AO1(Q.path).find((U)=>ns(this.$__.isSelected,U)))continue}if(W.length)continue;if(K===void 0)qZ(this,J,X,Q,1,"$unset");else if(K===null)qZ(this,J,X,Q,null);else if(l1.isMongooseArray(K)&&K.$path()&&K[lA])jO1(this,J,X,Q,K);else if(K[oj1.pathSymbol]&&Buffer.isBuffer(K))K=K.toObject(),qZ(this,J,X,Q,K);else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Q.path]!=null){const F=this.$__.primitiveAtomics[Q.path],U=UO1(F);qZ(this,J,X,Q,F[U],U)}else K=A4(K,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}),qZ(this,J,X,Q,K)}if(W.length)return new rj1(W);if(this.$__.version)this.$__version(J,X);if(Object.keys(X).length===0)return[J,null];return[J,X]};r.prototype.$__version=function(Z,Y){const J=this.$__schema.options.versionKey;if(Z===!0){if(J)DO1(Y,J,0),this.$__setValue(J,0);return}if(J===!1)return;if(!this.$__isSelected(J))return;if((1&this.$__.version)===1){const X=this.$__getValue(J);if(X!=null)Z[J]=X}if((2&this.$__.version)===2)if(e$(Y.$set,J,null)!=null)++Y.$set[J];else Y.$inc=Y.$inc||{},Y.$inc[J]=1};/*!
 * ignore
 */r.prototype.increment=Gz;r.prototype.$__where=function Z(Y){if(Y||(Y={}),!Y._id)Y._id=this._doc._id;if(this._doc._id===void 0)return new B1("No _id found on document!");return Y};r.prototype.deleteOne=function Z(Y){if(typeof Y==="function"||typeof arguments[1]==="function")throw new B1("Model.prototype.deleteOne() no longer accepts a callback");if(!Y)Y={};if(Y.hasOwnProperty("session"))this.$session(Y.session);const J=this,X=this.$__where();if(X instanceof Error)throw X;const $=J.constructor.deleteOne(X,Y);if(this.$session()!=null){if(!("session"in $.options))$.options.session=this.$session()}return $.pre(function W(G){J.constructor._middleware.execPre("deleteOne",J,[J],G)}),$.pre(function W(G){dA(J.$getAllSubdocs(),(Q,K)=>{Q.constructor._middleware.execPre("deleteOne",Q,[Q],K)},G)}),$.pre(function W(G){if(J.$__.isDeleted)return G(tj1.skipWrappedFunction());return G()}),$.post(function W(G){dA(J.$getAllSubdocs(),(Q,K)=>{Q.constructor._middleware.execPost("deleteOne",Q,[Q],{},K)},G)}),$.post(function W(G){J.constructor._middleware.execPost("deleteOne",J,[J],{},G)}),$};r.prototype.$model=function Z(Y){if(arguments.length===0)return this.constructor;return this[iA].model(Y)};r.prototype.model=r.prototype.$model;r.exists=function Z(Y,J){if(k1(this,"exists"),typeof arguments[2]==="function")throw new B1("Model.exists() no longer accepts a callback");return this.findOne(Y).select({_id:1}).lean().setOptions(J)};r.discriminator=function(Z,Y,J){let X;if(typeof Z==="function"){if(X=Z,Z=l1.getFunctionName(X),!(X.prototype instanceof r))throw new B1("The provided class "+Z+" must extend Model")}J=J||{};const $=l1.isPOJO(J)?J.value:J,W=typeof J.clone==="boolean"?J.clone:!0,G=typeof J.mergePlugins==="boolean"?J.mergePlugins:!0;if(k1(this,"discriminator"),l1.isObject(Y)&&!Y.instanceOfSchema)Y=new mA(Y);if(Y instanceof mA&&W)Y=Y.clone();if(Y=FO1(this,Z,Y,$,G,J.mergeHooks),this.db.models[Z]&&!Y.options.overwriteModels)throw new ej1(Z);Y.$isRootDiscriminator=!0,Y.$globalPluginsApplied=!0,X=this.db.model(X||Z,Y,this.$__collection.name),this.discriminators[Z]=X;const Q=this.discriminators[Z];if(Object.setPrototypeOf(Q.prototype,this.prototype),Object.defineProperty(Q,"baseModelName",{value:this.modelName,configurable:!0,writable:!1}),Zr(Q,Y),Jr(Q,Y),this[o$]!=null)for(let K of this[o$])K.discriminators=K.discriminators||{},K.discriminators[Z]=X.__subclass(X.db,Y,K.collection.name);return Q};/*!
 * Give the constructor the ability to emit events.
 */for(let Z in hA.prototype)r[Z]=hA.prototype[Z];r.init=function Z(){if(k1(this,"init"),typeof arguments[0]==="function")throw new B1("Model.init() no longer accepts a callback");if(this.schema.emit("init",this),this.$init!=null)return this.$init;const Y=this.db,J=async()=>{if(!l1.getOption("autoIndex",this.schema.options,Y.config,Y.base.options))return;return await this.ensureIndexes({_automatic:!0})},X=async()=>{if((Y.readyState===as.connecting||Y.readyState===as.disconnected)&&Y._shouldBufferCommands())await new Promise((Q)=>{Y._queue.push({fn:Q})});if(!l1.getOption("autoCreate",this.schema.options,Y.config,Y.base.options))return;return await this.createCollection()};this.$init=X().then(()=>J());const $=this.$init.catch,W=this;return this.$init.catch=function(){return W.$caught=!0,$.apply(W.$init,arguments)},this.$init};r.createCollection=async function Z(Y){if(k1(this,"createCollection"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.createCollection() no longer accepts a callback");const J=this&&this.schema&&this.schema.options&&this.schema.options.collectionOptions;if(J!=null)Y=Object.assign({},J,Y);const X=this&&this.schema&&this.schema.options&&this.schema.options.collation;if(X!=null)Y=Object.assign({collation:X},Y);const $=this&&this.schema&&this.schema.options&&this.schema.options.capped;if($!=null){if(typeof $==="number")Y=Object.assign({capped:!0,size:$},Y);else if(typeof $==="object")Y=Object.assign({capped:!0},$,Y)}const W=this&&this.schema&&this.schema.options&&this.schema.options.timeseries;if(W!=null){if(Y=Object.assign({timeseries:W},Y),Y.expireAfterSeconds!=null);else if(Y.expires!=null)l1.expires(Y);else if(this.schema.options.expireAfterSeconds!=null)Y.expireAfterSeconds=this.schema.options.expireAfterSeconds;else if(this.schema.options.expires!=null)Y.expires=this.schema.options.expires,l1.expires(Y)}const G=this&&this.schema&&this.schema.options&&this.schema.options.clusteredIndex;if(G!=null)Y=Object.assign({clusteredIndex:{...G,unique:!0}},Y);try{await this.db.createCollection(this.$__collection.collectionName,Y)}catch(Q){if(Q!=null&&(Q.name!=="MongoServerError"||Q.code!==48))throw Q}return this.$__collection};r.syncIndexes=async function Z(Y){if(k1(this,"syncIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.syncIndexes() no longer accepts a callback");const J=this;try{await J.createCollection()}catch(W){if(W!=null&&(W.name!=="MongoServerError"||W.code!==48))throw W}const X=await J.diffIndexes(),$=await J.cleanIndexes({...Y,toDrop:X.toDrop});return await J.createIndexes({...Y,toCreate:X.toCreate}),$};r.diffIndexes=async function Z(){if(typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.syncIndexes() no longer accepts a callback");const Y=this;let J=await Y.listIndexes().catch((Q)=>{if(Q.codeName=="NamespaceNotFound")return;throw Q});if(J===void 0)J=[];J=LO1(Y,J);const X=Y.schema,$=RO1(Y,X.indexes()),W=kO1(X,$,J),G=SO1(X,$,J,W);return{toDrop:W,toCreate:G}};r.cleanIndexes=async function Z(Y){if(k1(this,"cleanIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.cleanIndexes() no longer accepts a callback");const J=this,X=J.$__collection;if(Array.isArray(Y&&Y.toDrop))return await ts(Y.toDrop,X);const $=await J.diffIndexes();return await ts($.toDrop,X)};r.listIndexes=async function Z(){if(k1(this,"listIndexes"),typeof arguments[0]==="function")throw new B1("Model.listIndexes() no longer accepts a callback");if(this.$__collection.buffer)await new Promise((Y)=>{this.$__collection.addQueue(Y)});return this.$__collection.listIndexes().toArray()};r.ensureIndexes=async function Z(Y){if(k1(this,"ensureIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.ensureIndexes() no longer accepts a callback");await new Promise((J,X)=>{_O1(this,Y,($)=>{if($!=null)return X($);J()})})};r.createIndexes=async function Z(Y){if(k1(this,"createIndexes"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.createIndexes() no longer accepts a callback");return this.ensureIndexes(Y)};/*!
 * ignore
 */r.schema;r.db;r.collection;r.$__collection;r.base;r.discriminators;r.translateAliases=function Z(Y,J){k1(this,"translateAliases");const X=($,W)=>{let G;const Q=[],K=$.split(".");let H=this.schema;for(let F in K){const U=K[F];if(H&&H.aliases[U]){if(G=H.aliases[U],J&&(G in Y))throw new B1(`Provided object has both field "${U}" and its alias "${G}"`);Q.push(G)}else G=U,Q.push(U);if(H&&H.paths[G])H=H.paths[G].schema;else H=null}const z=Q.join(".");if(Y instanceof Map)Y.set(z,W);else Y[z]=W;if(z!==$)if(Y instanceof Map)Y.delete($);else delete Y[$];return Y};if(typeof Y==="object"){if(Y instanceof Map)for(let $ of new Map(Y))Y=X($[0],$[1]);else for(let $ of Object.keys(Y))if(Y=X($,Y[$]),$[0]==="$")if(Array.isArray(Y[$]))for(let W in Y[$])Y[$][W]=this.translateAliases(Y[$][W]);else this.translateAliases(Y[$]);return Y}else return Y};r.deleteOne=function Z(Y,J){if(k1(this,"deleteOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.prototype.deleteOne() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);return X.setOptions(J),X.deleteOne(Y)};r.deleteMany=function Z(Y,J){if(k1(this,"deleteMany"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.deleteMany() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);return X.setOptions(J),X.deleteMany(Y)};r.find=function Z(Y,J,X){if(k1(this,"find"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.find() no longer accepts a callback");const $=new this.Query({},{},this,this.$__collection);return $.select(J),$.setOptions(X),$.find(Y)};r.findById=function Z(Y,J,X){if(k1(this,"findById"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findById() no longer accepts a callback");if(typeof Y==="undefined")Y=null;return this.findOne({_id:Y},J,X)};r.findOne=function Z(Y,J,X){if(k1(this,"findOne"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findOne() no longer accepts a callback");const $=new this.Query({},{},this,this.$__collection);return $.select(J),$.setOptions(X),$.findOne(Y)};r.estimatedDocumentCount=function Z(Y){return k1(this,"estimatedDocumentCount"),new this.Query({},{},this,this.$__collection).estimatedDocumentCount(Y)};r.countDocuments=function Z(Y,J){if(k1(this,"countDocuments"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.countDocuments() no longer accepts a callback");const X=new this.Query({},{},this,this.$__collection);if(J!=null)X.setOptions(J);return X.countDocuments(Y)};r.distinct=function Z(Y,J){if(k1(this,"distinct"),typeof arguments[0]==="function"||typeof arguments[1]==="function")throw new B1("Model.distinct() no longer accepts a callback");return new this.Query({},{},this,this.$__collection).distinct(Y,J)};r.where=function Z(Y,J){k1(this,"where");const X=new this.Query({},{},this,this.$__collection).find({});return X.where.apply(X,arguments)};r.$where=function Z(){k1(this,"$where");const Y=new this.Query({},{},this,this.$__collection).find({});return Y.$where.apply(Y,arguments)};r.findOneAndUpdate=function(Z,Y,J){if(k1(this,"findOneAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.findOneAndUpdate() no longer accepts a callback");if(arguments.length===1)Y=Z,Z=null,J=null;let X;if(J)X=J.fields||J.projection;Y=A4(Y,{depopulate:!0,_isNested:!0}),$r(Y,J,this.schema.options.versionKey);const $=new this.Query({},{},this,this.$__collection);return $.select(X),$.findOneAndUpdate(Z,Y,J)};r.findByIdAndUpdate=function(Z,Y,J){if(k1(this,"findByIdAndUpdate"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.findByIdAndUpdate() no longer accepts a callback");if(Z instanceof v9)Z=Z._id;return this.findOneAndUpdate.call(this,{_id:Z},Y,J)};r.findOneAndDelete=function(Z,Y){if(k1(this,"findOneAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findOneAndDelete() no longer accepts a callback");let J;if(Y)J=Y.select,Y.select=void 0;const X=new this.Query({},{},this,this.$__collection);return X.select(J),X.findOneAndDelete(Z,Y)};r.findByIdAndDelete=function(Z,Y){if(k1(this,"findByIdAndDelete"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function")throw new B1("Model.findByIdAndDelete() no longer accepts a callback");return this.findOneAndDelete({_id:Z},Y)};r.findOneAndReplace=function(Z,Y,J){if(k1(this,"findOneAndReplace"),typeof arguments[0]==="function"||typeof arguments[1]==="function"||typeof arguments[2]==="function"||typeof arguments[3]==="function")throw new B1("Model.findOneAndReplace() no longer accepts a callback");let X;if(J)X=J.select,J.select=void 0;const $=new this.Query({},{},this,this.$__collection);return $.select(X),$.findOneAndReplace(Z,Y,J)};r.create=async function Z(Y,J){if(typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.create() no longer accepts a callback");k1(this,"create");let X;const $=this.schema.options.discriminatorKey;if(Array.isArray(Y))X=Y,J=J!=null&&typeof J==="object"?J:{};else{const Q=arguments[arguments.length-1];if(J={},typeof Q==="function"||typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.create() no longer accepts a callback");else if(X=[...arguments],X.length>1&&!Q)X.pop();if(X.length===2&&X[0]!=null&&X[1]!=null&&X[0].session==null&&Q&&qO1(Q.session)==="ClientSession"&&!this.schema.path("session"))l1.warn("WARNING: to pass a `session` to `Model.create()` in Mongoose, you **must** pass an array as the first argument. See: https://mongoosejs.com/docs/api/model.html#Model.create()")}if(X.length===0)return Array.isArray(Y)?[]:null;let W=[];const G=typeof J.aggregateErrors==="boolean"?!J.aggregateErrors:!0;if(delete J.aggregateErrors,J.ordered){for(let Q=0;Q<X.length;Q++)try{const K=X[Q],H=this.discriminators&&K[$]!=null?this.discriminators[K[$]]||Wz(this.discriminators,K[$]):this;if(H==null)throw new B1(`Discriminator "${K[$]}" not `+`found for model "${this.modelName}"`);let z=K;if(!(z instanceof H))z=new H(z);await z.$save(J),W.push(z)}catch(K){if(!G)W.push(K);else throw K}return W}else if(!G)W=await Promise.allSettled(X.map(async(Q)=>{const K=this.discriminators&&Q[$]!=null?this.discriminators[Q[$]]||Wz(this.discriminators,Q[$]):this;if(K==null)throw new B1(`Discriminator "${Q[$]}" not `+`found for model "${this.modelName}"`);let H=Q;if(!(H instanceof K))H=new K(H);return await H.$save(J),H})),W=W.map((Q)=>Q.status==="fulfilled"?Q.value:Q.reason);else{let Q=null;if(W=await Promise.all(X.map(async(K)=>{const H=this.discriminators&&K[$]!=null?this.discriminators[K[$]]||Wz(this.discriminators,K[$]):this;if(H==null)throw new B1(`Discriminator "${K[$]}" not `+`found for model "${this.modelName}"`);try{let z=K;if(!(z instanceof H))z=new H(z);return await z.$save(J),z}catch(z){if(!Q)Q=z}})),Q)throw Q}if(!Array.isArray(Y)&&X.length===1)return W[0];return W};r.watch=function(Z,Y){k1(this,"watch");const J=(X)=>{if(Z=Z||[],NO1(Z,this.schema,"fullDocument"),this.$__collection.buffer)this.$__collection.addQueue(()=>{if(this.closed)return;const $=this.$__collection.watch(Z,Y);X(null,$)});else{const $=this.$__collection.watch(Z,Y);X(null,$)}};return Y=Y||{},Y.model=this,new aj1(J,Z,Y)};r.startSession=function(){return k1(this,"startSession"),this.db.startSession.apply(this.db,arguments)};r.insertMany=async function Z(Y,J){if(k1(this,"insertMany"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.insertMany() no longer accepts a callback");return new Promise((X,$)=>{this.$__insertMany(Y,J,(W,G)=>{if(W!=null)return $(W);X(G)})})};r.$__insertMany=function(Z,Y,J){const X=this;if(typeof Y==="function")J=Y,Y=null;J=J||l1.noop,Y=Y||{};const $=Y.limit||1000,W=!!Y.rawResult,G=typeof Y.ordered==="boolean"?Y.ordered:!0,Q=typeof Y.throwOnValidationError==="boolean"?Y.throwOnValidationError:!1,K=!!Y.lean;if(!Array.isArray(Z))Z=[Z];const H=[],z=new Map,F=G?null:new Array(Z.length),U=Z.map((q,V)=>(L)=>{if(!(q instanceof X))try{q=new X(q)}catch(w){return L(w)}if(Y.session!=null)q.$session(Y.session);if(K)return ZW(()=>L(null,q));q.$validate().then(()=>{L(null,q)},(w)=>{if(G===!1)return H.push(w),z.set(w,V),F[V]=w,L(null,null);L(w)})});BO1(U,$,function(q,V){if(q){J(q,null);return}const L=new Map,w=new Map;for(let M=0;M<V.length;++M)L.set(V[M],M);const B=V.filter(function(M){return M!=null});for(let M=0;M<B.length;++M)w.set(M,L.get(B[M]));if(H.length>0)H.sort((M,I)=>{return z.get(M)-z.get(I)});if(B.length===0){if(W)return J(null,{acknowledged:!0,insertedCount:0,insertedIds:{},mongoose:{validationErrors:H}});J(null,[]);return}const A=B.map(function(M){if(M.$__schema.options.versionKey)M[M.$__schema.options.versionKey]=0;if((!Y||Y.timestamps!==!1)&&M.initializeTimestamps&&(!M.$__||M.$__.timestamps!==!1))return M.initializeTimestamps().toObject(Qz);return M.toObject(Qz)});X.$__collection.insertMany(A,Y).then((M)=>{for(let I of B)I.$__reset(),oJ(I,!1);if(G===!1&&Q&&H.length>0){for(let I=0;I<F.length;++I)if(F[I]===void 0)F[I]=V[I];return J(new Qr(H,F,M,"insertMany"))}if(W){if(G===!1){for(let I=0;I<F.length;++I)if(F[I]===void 0)F[I]=V[I];M.mongoose={validationErrors:H,results:F}}return J(null,M)}if(Y.populate!=null)return X.populate(B,Y.populate).then((I)=>{J(null,I)},(I)=>{if(I!=null)I.insertedDocs=B;throw I});J(null,B)},(M)=>{if(M.writeErrors==null&&(M.result&&M.result.result&&M.result.result.writeErrors)!=null)M.writeErrors=M.result.result.writeErrors;const I=M&&M.writeErrors,x=new Set((M&&M.writeErrors||[]).map((E)=>E.index));if(M.writeErrors!=null)for(let E=0;E<M.writeErrors.length;++E){const D=w.get(M.writeErrors[E].index);if(M.writeErrors[E]={...M.writeErrors[E],index:D},!G)F[D]=M.writeErrors[E]}if(!G){for(let E=0;E<F.length;++E)if(F[E]===void 0)F[E]=V[E];M.results=F}let j=-1;if(M.insertedDocs=B.filter((E,D)=>{const l=!I||x.has(D);if(G){if(j>-1)return D<j;if(l)j=D}return!l}).map(function E(D){return D.$__reset(),oJ(D,!1),D}),W&&G===!1)M.mongoose={validationErrors:H,results:F};J(M,null)})})};/*!
 * ignore
 */r.bulkWrite=async function Z(Y,J){if(k1(this,"bulkWrite"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.bulkWrite() no longer accepts a callback");J=J||{};const X=J.ordered==null?!0:J.ordered,$=Y.map((W)=>KO1(this,W,J));return new Promise((W,G)=>{if(X){dA($,(U,q)=>U(q),(U)=>{if(U)return G(U);if(Y.length===0)return W(is());try{this.$__collection.bulkWrite(Y,J,(q,V)=>{if(q)return G(q);W(V)})}catch(q){return G(q)}});return}let Q=$.length,K=[],H=[];const z=[];if(Q===0)F.call(this);else for(let U=0;U<$.length;++U)$[U]((q)=>{if(q==null)K.push(U);else H.push({index:U,error:q}),z[U]=q;if(--Q<=0)F.call(this)});H=H.sort((U,q)=>U.index-q.index).map((U)=>U.error);function F(){const U=K;if(K=K.sort().map((q)=>Y[q]),K.length===0)return W(is());this.$__collection.bulkWrite(K,J,(q,V)=>{if(q){if(H.length>0)q.mongoose=q.mongoose||{},q.mongoose.validationErrors=H;return G(q)}for(let L=0;L<U.length;++L)z[U[L]]=null;if(H.length>0)if(J.throwOnValidationError)return G(new Qr(H,z,V,"bulkWrite"));else V.mongoose=V.mongoose||{},V.mongoose.validationErrors=H,V.mongoose.results=z;W(V)})}})};r.bulkSave=async function Z(Y,J){if(J=J||{},J.timestamps!=null)for(let G of Y)G.$__.saveOptions=G.$__.saveOptions||{},G.$__.saveOptions.timestamps=J.timestamps;else for(let G of Y)if(G.$__.timestamps!=null)G.$__.saveOptions=G.$__.saveOptions||{},G.$__.saveOptions.timestamps=G.$__.timestamps;await Promise.all(Y.map(xO1));const X=this.buildBulkWriteOperations(Y,{skipValidation:!0,timestamps:J.timestamps}),{bulkWriteResult:$,bulkWriteError:W}=await this.bulkWrite(X,J).then((G)=>({bulkWriteResult:G,bulkWriteError:null}),(G)=>({bulkWriteResult:null,bulkWriteError:G}));if(await Promise.all(Y.map(async(G)=>{if((W&&W.writeErrors.find((K)=>{return(K.err.op._id||K.err.op.q._id).toString()===G._id.toString()}))==null)await fO1(G)})),W&&W.writeErrors&&W.writeErrors.length)throw W;return $};r.applyDefaults=function Z(Y){if(Y.$__!=null){YO1(Y,Y.$__.fields,Y.$__.exclude);for(let J of Y.$getAllSubdocs())Z(J,J.$__.fields,J.$__.exclude);return Y}return JO1(Y,this.schema),Y};r.castObject=function Z(Y,J){J=J||{};const X={},$=this.schema,W=Object.keys($.paths);for(let Q of W){const K=$.path(Q);if(!K||!K.$isMongooseArray)continue;const H=e$(Y,Q);Gr(W,H,Q)}let G=null;for(let Q of W){const K=$.path(Q);if(K==null)continue;let H=e$(Y,Q,void 0);if(H==null)continue;const z=Q.indexOf(".")===-1?[Q]:Q.split(".");let F=X;for(let U=0;U<z.length-1;++U){if(F[z[U]]==null)F[z[U]]=isNaN(z[U+1])?{}:[];F=F[z[U]]}if(K.$isMongooseDocumentArray)continue;if(K.$isSingleNested||K.$isMongooseDocumentArrayElement){try{H=r.castObject.call(K.caster,H)}catch(U){if(!J.ignoreCastErrors)G=G||new uA,G.addError(Q,U);continue}F[z[z.length-1]]=H;continue}try{H=K.cast(H),F[z[z.length-1]]=H}catch(U){if(!J.ignoreCastErrors)G=G||new uA,G.addError(Q,U);continue}}if(G!=null)throw G;return X};r.buildBulkWriteOperations=function Z(Y,J){if(!Array.isArray(Y))throw new Error(`bulkSave expects an array of documents to be passed, received \`${Y}\` instead`);W();const X=this.schema.options.discriminatorKey;return Y.reduce((G,Q,K)=>{if(!J.skipValidation){if(!(Q instanceof v9))throw new Error(`documents.${K} was not a mongoose document, documents must be an array of mongoose documents (instanceof mongoose.Document).`);const U=Q.validateSync();if(U)throw U}if(Q.isNew){const U={insertOne:{document:Q}};return l1.injectTimestampsOption(U.insertOne,J.timestamps),G.push(U),G}const z=Q.$__delta();if(z!=null&&!l1.isEmptyObject(z[0])){const U=Q.$__where(z[0]),q=z[1];if(Hr(Q,U),Q[X]!=null&&!(X in U))U[X]=Q[X];Q.$__version(U,z);const V={updateOne:{filter:U,update:q}};return l1.injectTimestampsOption(V.updateOne,J.timestamps),G.push(V),G}return G},[]);function W(){if(J=J||{},J.skipValidation==null)J.skipValidation=!1}};r.hydrate=function(Z,Y,J){if(k1(this,"hydrate"),Y!=null){if(Z!=null&&Z.$__!=null)Z=Z.toObject(Qz);Z=WO1(Z,Y)}const X=SJ().createModel(this,Z,Y);return X.$init(Z,J),X};r.updateMany=function Z(Y,J,X){return k1(this,"updateMany"),nA(this,"updateMany",Y,J,X)};r.updateOne=function Z(Y,J,X){return k1(this,"updateOne"),nA(this,"updateOne",Y,J,X)};r.replaceOne=function Z(Y,J,X){k1(this,"replaceOne");const $=this&&this.schema&&this.schema.options&&this.schema.options.versionKey||null;if($&&!J[$])J[$]=0;return nA(this,"replaceOne",Y,J,X)};r.aggregate=function Z(Y,J){if(k1(this,"aggregate"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.aggregate() no longer accepts a callback");const X=new nj1(Y||[]);if(X.model(this),J!=null)X.option(J);if(typeof callback==="undefined")return X;return X};r.validate=async function Z(Y,J,X){if(arguments.length<3||arguments.length===3&&typeof arguments[2]==="function")X=Y;if(typeof X==="function"||typeof arguments[3]==="function")throw new B1("Model.validate() no longer accepts a callback");let $=this.schema;const W=$.options.discriminatorKey;if($.discriminators!=null&&Y!=null&&Y[W]!=null)$=zO1($,Y[W])||$;let G=Object.keys($.paths);if(J!=null){const H=typeof J==="string"?new Set(J.split(" ")):Array.isArray(J)?new Set(J):new Set(G);G=G.filter((z)=>{if(J.pathsToSkip){if(Array.isArray(J.pathsToSkip)){if(J.pathsToSkip.find((q)=>q==z))return!1}else if(typeof J.pathsToSkip=="string"){if(J.pathsToSkip.includes(z))return!1}}const F=z.split(".");let U=F[0];for(let q of F){if(H.has(U))return!0;U+="."+q}return H.has(z)})}for(let H of G){const z=$.path(H);if(!z||!z.$isMongooseArray||z.$isMongooseDocumentArray)continue;const F=e$(Y,H);Gr(G,F,H)}let Q=null;G=new Set(G);try{Y=this.castObject(Y)}catch(H){Q=H;for(let z of Object.keys(Q.errors||{}))G.delete(z)}let K=G.size;return new Promise((H,z)=>{for(let U of G){const q=$.path(U);if(q==null){F();continue}const V=U.indexOf(".")===-1?[U]:U.split(".");let L=Y;for(let B=0;B<V.length-1;++B)L=L[V[B]];const w=e$(Y,U,void 0);q.doValidate(w,(B)=>{if(B)Q=Q||new uA,Q.addError(U,B);F()},X,{path:U})}function F(){if(--K<=0)if(Q)z(Q);else H(Y)}})};r.populate=async function Z(Y,J){if(k1(this,"populate"),typeof J==="function"||typeof arguments[2]==="function")throw new B1("Model.populate() no longer accepts a callback");const X=this;J=l1.populate(J);const $={};return new Promise((W,G)=>{yO1(X,Y,J,$,(Q,K)=>{if(Q)return G(Q);W(K)})})};/*!
 * Populates `docs`
 */var gO1=/\s?-_id\s?/,bO1=/\s?-_id\s?/g;/*!
 * ignore
 *//*!
 * ignore
 */r.compile=function Z(Y,J,X,$,W){if(J.options.versionKey!==!1&&!J.paths[J.options.versionKey]){const F={};F[J.options.versionKey]=Number,J.add(F)}let Q;if(typeof Y==="function"&&Y.prototype instanceof r)Q=Y,Y=Q.name,J.loadClass(Q,!1),Q.prototype.$isMongooseModelPrototype=!0;else Q=function F(U,q,V){if(F.hooks.execPreSync("createModel",U),!(this instanceof F))return new F(U,q,V);const L=F.schema.options.discriminatorKey;if(F.discriminators==null||U==null||U[L]==null){r.call(this,U,q,V);return}const w=F.discriminators[U[L]]||Wz(F.discriminators,U[L]);if(w!=null)return new w(U,q,V);r.call(this,U,q,V)};if(Q.hooks=J.s.hooks.clone(),Q.base=W,Q.modelName=Y,!(Q.prototype instanceof r))Object.setPrototypeOf(Q,r),Object.setPrototypeOf(Q.prototype,r.prototype);Q.model=function F(U){return this.db.model(U)},Q.db=$,Q.prototype.db=$,Q.prototype[iA]=$,Q.discriminators=Q.prototype.discriminators=void 0,Q[Kr]=!0,Q.events=new hA,J._preCompile();const H={schemaUserProvidedOptions:J._userProvidedOptions||{},capped:J.options.capped,Promise:Q.base.Promise,modelName:Y};if(J.options.autoCreate!==void 0)H.autoCreate=J.options.autoCreate;const z=$.collection(X,H);return Q.prototype.collection=z,Q.prototype.$collection=z,Q.prototype[Kz]=z,Q.prototype.$__setSchema(J),Zr(Q,J),Jr(Q,J),$O1(Q,J),GO1(Q,J.s.hooks,J.statics),Q.schema=Q.prototype.$__schema,Q.collection=z,Q.$__collection=z,Q.Query=function(){$z.apply(this,arguments)},Object.setPrototypeOf(Q.Query.prototype,$z.prototype),Q.Query.base=$z.base,Q.Query.prototype.constructor=$z,XO1(Q.Query,Q),mO1(Q,J.query),Q};r.__subclass=function Z(Y,J,X){const $=this,W=function z(F,U,q){if(!(this instanceof z))return new z(F,U,q);$.call(this,F,U,q)};if(Object.setPrototypeOf(W,$),Object.setPrototypeOf(W.prototype,$.prototype),W.db=Y,W.prototype.db=Y,W.prototype[iA]=Y,$[o$]=$[o$]||[],$[o$].push(W),$.discriminators!=null){W.discriminators={};for(let z of Object.keys($.discriminators))W.discriminators[z]=$.discriminators[z].__subclass($.db,$.discriminators[z].schema,X)}const G=J&&typeof J!=="string"?J:$.prototype.$__schema,Q=G.options||{},K=G._userProvidedOptions||{};if(!X)X=$.prototype.$__schema.get("collection")||l1.toCollectionName($.modelName,this.base.pluralize());const H={schemaUserProvidedOptions:K,capped:G&&Q.capped};return W.prototype.collection=Y.collection(X,H),W.prototype.$collection=W.prototype.collection,W.prototype[Kz]=W.prototype.collection,W.collection=W.prototype.collection,W.$__collection=W.collection,W.init().catch(()=>{}),W};r.inspect=function(){return`Model { ${this.modelName} }`};if(ss.inspect.custom)r[ss.inspect.custom]=r.inspect;/*!
 * Module exports.
 */Fr.exports=zr=r});var qr=R((YW,Ur)=>{var cO1=function(Z){let Y;if(Z=Z.toLowerCase(),!~dO1.indexOf(Z)){if(Y=uO1.filter(function(J){return Z.match(J[0])}),Y[0])return Z.replace(Y[0][0],Y[0][1])}return Z};Ur.exports=cO1;YW.pluralization=[[/human$/gi,"humans"],[/(m)an$/gi,"$1en"],[/(pe)rson$/gi,"$1ople"],[/(child)$/gi,"$1ren"],[/^(ox)$/gi,"$1en"],[/(ax|test)is$/gi,"$1es"],[/(octop|vir)us$/gi,"$1i"],[/(alias|status)$/gi,"$1es"],[/(bu)s$/gi,"$1ses"],[/(buffal|tomat|potat)o$/gi,"$1oes"],[/([ti])um$/gi,"$1a"],[/sis$/gi,"ses"],[/(?:([^f])fe|([lr])f)$/gi,"$1$2ves"],[/(hive)$/gi,"$1s"],[/([^aeiouy]|qu)y$/gi,"$1ies"],[/(x|ch|ss|sh)$/gi,"$1es"],[/(matr|vert|ind)ix|ex$/gi,"$1ices"],[/([m|l])ouse$/gi,"$1ice"],[/(kn|w|l)ife$/gi,"$1ives"],[/(quiz)$/gi,"$1zes"],[/^goose$/i,"geese"],[/s$/gi,"s"],[/([^a-z])$/,"$1"],[/$/gi,"s"]];var uO1=YW.pluralization;YW.uncountables=["advice","energy","excretion","digestion","cooperation","health","justice","labour","machinery","equipment","information","pollution","sewage","paper","money","species","series","rain","rice","fish","sheep","moose","deer","news","expertise","status","media"];var dO1=YW.uncountables});var Br=R((_00,Mr)=>{/*!
 * Module requirements
 */var Rr=z0(),Vr=import.meta.require("util"),Lr=Kw();class VZ extends Rr{constructor(){super("");this.errors={}}toString(){return Lr(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(Z,Y){if(Y instanceof VZ){const{errors:J}=Y;for(let X of Object.keys(J))this.addError(X,J[X]);return}this.errors[Z]=Y,this.message=Lr(this)}}if(Vr.inspect.custom)VZ.prototype[Vr.inspect.custom]=VZ.prototype.inspect;Object.defineProperty(VZ.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(VZ.prototype,"name",{value:"SetOptionError"});class wr extends Rr{constructor(Z){super(`"${Z}" is not a valid option to set`)}}VZ.SetOptionInnerError=wr;/*!
 * Module exports
 */Mr.exports=VZ});var Nr=R(()=>{var Ar=H1();if(typeof jest!=="undefined"&&!process.env.SUPPRESS_JEST_WARNINGS){if(typeof window!=="undefined")Ar.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s default jsdom test environment. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.");if(setTimeout.clock!=null&&typeof setTimeout.clock.Date==="function")Ar.warn("Mongoose: looks like you\'re trying to test a Mongoose app with Jest\'s mock timers enabled. Please make sure you read Mongoose\'s docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html. Set the SUPPRESS_JEST_WARNINGS to true to hide this warning.")}});var Er=R((Tr,Cr)=>{var U7=function(Z,Y,J,X,$){if(!(this instanceof U7))return new U7(Z,Y,J,X,$);if(aO1(Y)&&!Y.instanceOfSchema)Y=new pO1(Y);if(Y=this.schema||Y,!this.schema&&Y.options._id){if(Z=Z||{},Z._id===void 0)Z._id=new lO1}if(!Y)throw new Pr.MissingSchemaError;this.$__setSchema(Y),Ir.call(this,Z,J,X,$),nO1(this,Y,{decorateDoc:!0});for(let W in Y.methods)this[W]=Y.methods[W];for(let W in Y.statics)this[W]=Y.statics[W]};/*!
 * Module dependencies.
 */var Ir=K6(),Dr=import.meta.require("events").EventEmitter,Pr=e1(),pO1=xJ(),lO1=x4(),iO1=Pr.ValidationError,nO1=$H(),aO1=O5();/*!
 * Inherit from the NodeJS document
 */U7.prototype=Object.create(Ir.prototype);U7.prototype.constructor=U7;/*!
 * ignore
 */U7.events=new Dr;/*!
 * Browser doc exposes the event emitter API
 */U7.$emitter=new Dr;["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(Z){U7[Z]=function(){return U7.$emitter[Z].apply(U7.$emitter,arguments)}});/*!
 * Module exports.
 */U7.ValidationError=iO1;Cr.exports=Tr=U7});var Or=R((y00,aA)=>{/*!
 * Module dependencies.
 */var sO1=K6(),rO1=Er(),jr=!1;aA.exports=function Z(){if(jr)return rO1;return sO1};/*!
 * ignore
 */aA.exports.setBrowser=function(Z){jr=Z}});var br=R((yr,gr)=>{var e=function(Z){this.connections=[],this.nextConnectionId=0,this.models={},this.events=new oO1,this.__driver=xr.get(),this.options=Object.assign({pluralization:!0,autoIndex:!0,autoCreate:!0},Z);const Y=rA.getOption("createInitialConnection",this.options);if(Y==null||Y){const J=this.createConnection();J.models=this.models}if(this.options.pluralization)this._pluralize=WS1;if(!Z||!Z[fr]){const J=this;this.Schema=function(){return this.base=J,G5.apply(this,arguments)},this.Schema.prototype=Object.create(G5.prototype),Object.assign(this.Schema,G5),this.Schema.base=this,this.Schema.Types=Object.assign({},G5.Types)}else for(let J of["Schema","model"])this[J]=e.prototype[J];this.Schema.prototype.base=this,Object.defineProperty(this,"plugins",{configurable:!1,enumerable:!0,writable:!1,value:Object.values($S1).map((J)=>[J,{deduplicate:!0}])})};/*!
 * Module dependencies.
 */var tO1=K6(),oO1=import.meta.require("events").EventEmitter,kr=AJ(),G5=xJ(),eO1=o0(),JW=C$(),ZS1=RM(),sA=OY(),Sr=Yi(),YS1=gJ(),JS1=lH(),_r=DA(),XS1=jB(),$S1=tM(),xr=LG(),WS1=qr(),rA=H1(),GS1=kB(),QS1=vJ(),KS1=IA(),HS1=jY().trusted,zS1=HA(),FS1=t8(),zz=z0(),Hz=Br(),fr=Symbol.for("mongoose:default");Nr();var US1=/^[0-9A-Fa-f]{24}$/;e.prototype.cast=QS1;e.prototype.STATES=sA;e.prototype.ConnectionStates=sA;e.prototype.driver=xr;e.prototype.setDriver=function Z(Y){const J=this instanceof e?this:q8;if(J.__driver===Y)return J;if(J.connections&&J.connections.find((W)=>W.readyState!==sA.disconnected))throw new zz("Cannot modify Mongoose driver if a connection is already open. Call `mongoose.disconnect()` before modifying the driver");J.__driver=Y;const $=Y.Connection;return J.connections=[new $(J)],J.connections[0].models=J.models,J};e.prototype.set=function(Z,Y){const J=this instanceof e?this:q8;if(arguments.length===1&&typeof Z!=="object"){if(Sr.indexOf(Z)===-1){const W=new Hz;throw W.addError(Z,new Hz.SetOptionInnerError(Z)),W}return J.options[Z]}let X={};if(arguments.length===2)X={[Z]:Y};if(arguments.length===1&&typeof Z==="object")X=Z;let $=void 0;for(let[W,G]of Object.entries(X)){if(Sr.indexOf(W)===-1){if(!$)$=new Hz;$.addError(W,new Hz.SetOptionInnerError(W));continue}if(J.options[W]=G,W==="objectIdGetter")if(G)Object.defineProperty(q8.Types.ObjectId.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});else delete q8.Types.ObjectId.prototype._id}if($)throw $;return J};e.prototype.get=e.prototype.set;e.prototype.createConnection=function(Z,Y){const J=this instanceof e?this:q8,$=new J.__driver.Connection(J);if(J.connections.push($),J.nextConnectionId++,J.events.emit("createConnection",$),arguments.length>0)$.openUri(Z,{...Y,_fireAndForget:!0});return $};e.prototype.connect=async function Z(Y,J){if(typeof J==="function"||arguments.length>=3&&typeof arguments[2]==="function")throw new zz("Mongoose.prototype.connect() no longer accepts a callback");const X=this instanceof e?this:q8;return X.connection.openUri(Y,J).then(()=>X)};e.prototype.disconnect=async function Z(){if(arguments.length>=1&&typeof arguments[0]==="function")throw new zz("Mongoose.prototype.disconnect() no longer accepts a callback");const Y=this instanceof e?this:q8;if(Y.connections.length<=0)return;await Promise.all(Y.connections.map((X)=>X.close()))};e.prototype.startSession=function(){const Z=this instanceof e?this:q8;return Z.connection.startSession.apply(Z.connection,arguments)};e.prototype.pluralize=function(Z){const Y=this instanceof e?this:q8;if(arguments.length>0)Y._pluralize=Z;return Y._pluralize};e.prototype.model=function(Z,Y,J,X){const $=this instanceof e?this:q8;if(typeof Y==="string")J=Y,Y=!1;if(arguments.length===1){const K=$.models[Z];if(!K)throw new zz.MissingSchemaError(Z);return K}if(rA.isObject(Y)&&!(Y instanceof G5))Y=new G5(Y);if(Y&&!(Y instanceof G5))throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");X=X||{};const W=Y;if(Y){if($.get("cloneSchemas"))Y=Y.clone();$._applyPlugins(Y)}const G=$.options.hasOwnProperty("overwriteModels")?$.options.overwriteModels:X.overwriteModels;if($.models.hasOwnProperty(Z)&&X.cache!==!1&&G!==!0){if(W&&W.instanceOfSchema&&W!==$.models[Z].schema)throw new $.Error.OverwriteModelError(Z);if(J&&J!==$.models[Z].collection.name){const K=$.models[Z];return Y=K.prototype.schema,K.__subclass($.connection,Y,J)}return $.models[Z]}if(Y==null)throw new $.Error.MissingSchemaError(Z);const Q=$._model(Z,Y,J,X);return $.connection.models[Z]=Q,$.models[Z]=Q,Q};/*!
 * ignore
 */e.prototype._model=function(Z,Y,J,X){const $=this instanceof e?this:q8;let W;if(typeof Z==="function"){if(W=Z,Z=W.name,!(W.prototype instanceof _r))throw new $.Error("The provided class "+Z+" must extend Model")}if(Y){if($.get("cloneSchemas"))Y=Y.clone();$._applyPlugins(Y)}if(Y==null||!("pluralization"in Y.options))Y.options.pluralization=$.options.pluralization;if(!J)J=Y.get("collection")||rA.toCollectionName(Z,$.pluralize());const G=X.connection||$.connection;if(W=$.Model.compile(W||Z,Y,J,G,$),W.init().catch(function Q(){}),G.emit("model",W),Y._applyDiscriminators!=null)for(let Q of Y._applyDiscriminators.keys())W.discriminator(Q,Y._applyDiscriminators.get(Q));return W};e.prototype.deleteModel=function(Z){const Y=this instanceof e?this:q8;return Y.connection.deleteModel(Z),delete Y.models[Z],Y};e.prototype.modelNames=function(){const Z=this instanceof e?this:q8;return Object.keys(Z.models)};e.prototype._applyPlugins=function(Z,Y){const J=this instanceof e?this:q8;Y=Y||{},Y.applyPluginsToDiscriminators=J.options&&J.options.applyPluginsToDiscriminators||!1,Y.applyPluginsToChildSchemas=typeof(J.options&&J.options.applyPluginsToChildSchemas)==="boolean"?J.options.applyPluginsToChildSchemas:!0,XS1(Z,J.plugins,Y,"$globalPluginsApplied")};e.prototype.plugin=function(Z,Y){const J=this instanceof e?this:q8;return J.plugins.push([Z,Y]),J};e.prototype.__defineGetter__("connection",function(){return this.connections[0]});e.prototype.__defineSetter__("connection",function(Z){if(Z instanceof this.__driver.Connection)this.connections[0]=Z,this.models=Z.models});e.prototype.connections;e.prototype.nextConnectionId;e.prototype.Aggregate=KS1;Object.defineProperty(e.prototype,"Collection",{get:function(){return this.__driver.Collection},set:function(Z){this.__driver.Collection=Z}});Object.defineProperty(e.prototype,"Connection",{get:function(){return this.__driver.Connection},set:function(Z){if(Z===this.__driver.Connection)return;this.__driver.Connection=Z}});e.prototype.version=GS1.version;e.prototype.Mongoose=e;e.prototype.Schema=G5;e.prototype.SchemaType=eO1;e.prototype.SchemaTypes=G5.Types;e.prototype.VirtualType=ZS1;e.prototype.Types=YS1;e.prototype.Query=JS1;e.prototype.Model=_r;e.prototype.Document=tO1;e.prototype.DocumentProvider=Or();e.prototype.ObjectId=JW.ObjectId;e.prototype.isValidObjectId=function(Z){return(this instanceof e?this:q8).Types.ObjectId.isValid(Z)};e.prototype.isObjectIdOrHexString=function(Z){return FS1(Z,"ObjectId")||typeof Z==="string"&&US1.test(Z)};e.prototype.syncIndexes=function(Z){return(this instanceof e?this:q8).connection.syncIndexes(Z)};e.prototype.Decimal128=JW.Decimal128;e.prototype.Mixed=JW.Mixed;e.prototype.Date=JW.Date;e.prototype.Number=JW.Number;e.prototype.Error=e1();e.prototype.MongooseError=z0();e.prototype.now=function Z(){return new Date};e.prototype.CastError=v8();e.prototype.SchemaTypeOptions=k6();e.prototype.mquery=GA();e.prototype.sanitizeFilter=zS1;e.prototype.trusted=HS1;e.prototype.skipMiddlewareFunction=kr.skipWrappedFunction;e.prototype.overwriteMiddlewareResult=kr.overwriteResult;var q8=gr.exports=yr=new e({[fr]:!0})});var mr=R((g00,hr)=>{/*!
 * Module dependencies.
 */LG().set(el());var vr=br();vr.Mongoose.prototype.mongo=IK();hr.exports=vr});var ur=R((b00,F1)=>{var U1=mr();F1.exports=U1;F1.exports.default=U1;F1.exports.mongoose=U1;F1.exports.cast=U1.cast;F1.exports.STATES=U1.STATES;F1.exports.setDriver=U1.setDriver;F1.exports.set=U1.set;F1.exports.get=U1.get;F1.exports.createConnection=U1.createConnection;F1.exports.connect=U1.connect;F1.exports.disconnect=U1.disconnect;F1.exports.startSession=U1.startSession;F1.exports.pluralize=U1.pluralize;F1.exports.model=U1.model;F1.exports.deleteModel=U1.deleteModel;F1.exports.modelNames=U1.modelNames;F1.exports.plugin=U1.plugin;F1.exports.connections=U1.connections;F1.exports.version=U1.version;F1.exports.Mongoose=U1.Mongoose;F1.exports.Schema=U1.Schema;F1.exports.SchemaType=U1.SchemaType;F1.exports.SchemaTypes=U1.SchemaTypes;F1.exports.VirtualType=U1.VirtualType;F1.exports.Types=U1.Types;F1.exports.Query=U1.Query;F1.exports.Model=U1.Model;F1.exports.Document=U1.Document;F1.exports.ObjectId=U1.ObjectId;F1.exports.isValidObjectId=U1.isValidObjectId;F1.exports.isObjectIdOrHexString=U1.isObjectIdOrHexString;F1.exports.syncIndexes=U1.syncIndexes;F1.exports.Decimal128=U1.Decimal128;F1.exports.Mixed=U1.Mixed;F1.exports.Date=U1.Date;F1.exports.Number=U1.Number;F1.exports.Error=U1.Error;F1.exports.MongooseError=U1.MongooseError;F1.exports.now=U1.now;F1.exports.CastError=U1.CastError;F1.exports.SchemaTypeOptions=U1.SchemaTypeOptions;F1.exports.mongo=U1.mongo;F1.exports.mquery=U1.mquery;F1.exports.sanitizeFilter=U1.sanitizeFilter;F1.exports.trusted=U1.trusted;F1.exports.skipMiddlewareFunction=U1.skipMiddlewareFunction;F1.exports.overwriteMiddlewareResult=U1.overwriteMiddlewareResult});var R6=R((v00,dr)=>{class tA extends Error{constructor(Z){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${Z.toString().split("\n")[0]}\n`);Error.captureStackTrace(this,tA)}}dr.exports=(Z)=>{if(Z.length>2)throw new tA(Z);function Y(X={}){this.options=X}Y.prototype.transform=Z;function J(X){return new Y(X)}return J.Format=Y,J}});var ir=R((h00,lr)=>{var pr={};lr.exports=pr;var cr={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(cr).forEach(function(Z){var Y=cr[Z],J=pr[Z]=[];J.open="\x1B["+Y[0]+"m",J.close="\x1B["+Y[1]+"m"})});var ar=R((m00,nr)=>{nr.exports=function(Z,Y){Y=Y||process.argv||[];var J=Y.indexOf("--"),X=/^-{1,2}/.test(Z)?"":"--",$=Y.indexOf(X+Z);return $!==-1&&(J===-1?!0:$<J)}});var rr=R((u00,sr)=>{var VS1=function(Z){if(Z===0)return!1;return{level:Z,hasBasic:!0,has256:Z>=2,has16m:Z>=3}},LS1=function(Z){if(eJ===!1)return 0;if(d7("color=16m")||d7("color=full")||d7("color=truecolor"))return 3;if(d7("color=256"))return 2;if(Z&&!Z.isTTY&&eJ!==!0)return 0;var Y=eJ?1:0;if(process.platform==="win32"){var J=qS1.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(J[0])>=10&&Number(J[2])>=10586)return Number(J[2])>=14931?3:2;return 1}if("CI"in c8){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function($){return $ in c8})||c8.CI_NAME==="codeship")return 1;return Y}if("TEAMCITY_VERSION"in c8)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(c8.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in c8){var X=parseInt((c8.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(c8.TERM_PROGRAM){case"iTerm.app":return X>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(c8.TERM))return 2;if(/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(c8.TERM))return 1;if("COLORTERM"in c8)return 1;if(c8.TERM==="dumb")return Y;return Y},oA=function(Z){var Y=LS1(Z);return VS1(Y)},qS1=import.meta.require("os"),d7=ar(),c8=process.env,eJ=void 0;if(d7("no-color")||d7("no-colors")||d7("color=false"))eJ=!1;else if(d7("color")||d7("colors")||d7("color=true")||d7("color=always"))eJ=!0;if("FORCE_COLOR"in c8)eJ=c8.FORCE_COLOR.length===0||parseInt(c8.FORCE_COLOR,10)!==0;sr.exports={supportsColor:oA,stdout:oA(process.stdout),stderr:oA(process.stderr)}});var or=R((d00,tr)=>{tr.exports=function Z(Y,J){var X="";Y=Y||"Run the trap, drop the bass",Y=Y.split("");var $={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return Y.forEach(function(W){W=W.toLowerCase();var G=$[W]||[" "],Q=Math.floor(Math.random()*G.length);if(typeof $[W]!=="undefined")X+=$[W][Q];else X+=W}),X}});var Zt=R((c00,er)=>{er.exports=function Z(Y,J){Y=Y||"   he is here   ";var X={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},$=[].concat(X.up,X.down,X.mid);function W(K){var H=Math.floor(Math.random()*K);return H}function G(K){var H=!1;return $.filter(function(z){H=z===K}),H}function Q(K,H){var z="",F,U;H=H||{},H.up=typeof H.up!=="undefined"?H.up:!0,H.mid=typeof H.mid!=="undefined"?H.mid:!0,H.down=typeof H.down!=="undefined"?H.down:!0,H.size=typeof H.size!=="undefined"?H.size:"maxi",K=K.split("");for(U in K){if(G(U))continue;switch(z=z+K[U],F={up:0,down:0,mid:0},H.size){case"mini":F.up=W(8),F.mid=W(2),F.down=W(8);break;case"maxi":F.up=W(16)+3,F.mid=W(4)+1,F.down=W(64)+3;break;default:F.up=W(8)+1,F.mid=W(6)/2,F.down=W(8)+1;break}var q=["up","mid","down"];for(var V in q){var L=q[V];for(var w=0;w<=F[L];w++)if(H[L])z=z+X[L][W(X[L].length)]}}return z}return Q(Y,J)}});var Jt=R((p00,Yt)=>{Yt.exports=function(Z){return function(Y,J,X){if(Y===" ")return Y;switch(J%3){case 0:return Z.red(Y);case 1:return Z.white(Y);case 2:return Z.blue(Y)}}}});var $t=R((l00,Xt)=>{Xt.exports=function(Z){return function(Y,J,X){return J%2===0?Y:Z.inverse(Y)}}});var Gt=R((i00,Wt)=>{Wt.exports=function(Z){var Y=["red","yellow","green","blue","magenta"];return function(J,X,$){if(J===" ")return J;else return Z[Y[X++%Y.length]](J)}}});var Kt=R((n00,Qt)=>{Qt.exports=function(Z){var Y=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(J,X,$){return J===" "?J:Z[Y[Math.round(Math.random()*(Y.length-2))]](J)}}});var Vt=R((s00,qt)=>{var Ft=function(Z){var Y=function J(){return NS1.apply(J,arguments)};return Y._styles=Z,Y.__proto__=AS1,Y},NS1=function(){var Z=Array.prototype.slice.call(arguments),Y=Z.map(function(G){if(G!=null&&G.constructor===String)return G;else return RS1.inspect(G)}).join(" ");if(!j1.enabled||!Y)return Y;var J=Y.indexOf("\n")!=-1,X=this._styles,$=X.length;while($--){var W=h9[X[$]];if(Y=W.open+Y.replace(W.closeRe,W.open)+W.close,J)Y=Y.replace(wS1,function(G){return W.close+G+W.open})}return Y},IS1=function(){var Z={};return Object.keys(Ut).forEach(function(Y){Z[Y]={get:function(){return Ft([Y])}}}),Z},j1={};qt.exports=j1;j1.themes={};var RS1=import.meta.require("util"),h9=j1.styles=ir(),zt=Object.defineProperties,wS1=new RegExp(/[\r\n]+/g);j1.supportsColor=rr().supportsColor;if(typeof j1.enabled==="undefined")j1.enabled=j1.supportsColor()!==!1;j1.enable=function(){j1.enabled=!0};j1.disable=function(){j1.enabled=!1};j1.stripColors=j1.strip=function(Z){return(""+Z).replace(/\x1B\[\d+m/g,"")};var a00=j1.stylize=function Z(Y,J){if(!j1.enabled)return Y+"";var X=h9[J];if(!X&&(J in j1))return j1[J](Y);return X.open+Y+X.close},MS1=/[|\\{}()[\]^$+*?.]/g,BS1=function(Z){if(typeof Z!=="string")throw new TypeError("Expected a string");return Z.replace(MS1,"\\$&")},Ut=function(){var Z={};return h9.grey=h9.gray,Object.keys(h9).forEach(function(Y){h9[Y].closeRe=new RegExp(BS1(h9[Y].close),"g"),Z[Y]={get:function(){return Ft(this._styles.concat(Y))}}}),Z}(),AS1=zt(function Z(){},Ut);j1.setTheme=function(Z){if(typeof Z==="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller\'s) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + \'/../themes/generic-logging.js\'); The new syntax looks like colors.setTheme(require(__dirname + \'/../themes/generic-logging.js\'));");return}for(var Y in Z)(function(J){j1[J]=function(X){if(typeof Z[J]==="object"){var $=X;for(var W in Z[J])$=j1[Z[J][W]]($);return $}return j1[Z[J]](X)}})(Y)};var DS1=function Z(Y,J){var X=J.split("");return X=X.map(Y),X.join("")};j1.trap=or();j1.zalgo=Zt();j1.maps={};j1.maps.america=Jt()(j1);j1.maps.zebra=$t()(j1);j1.maps.rainbow=Gt()(j1);j1.maps.random=Kt()(j1);for(Ht in j1.maps)(function(Z){j1[Z]=function(Y){return DS1(j1.maps[Z],Y)}})(Ht);var Ht;zt(j1,IS1())});var eA=R((r00,Lt)=>{var PS1=Vt();Lt.exports=PS1});var Rt=R((TS1)=>{TS1.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};TS1.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var wt=R((jS1)=>{jS1.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};jS1.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var Mt=R((kS1)=>{kS1.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};kS1.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var Bt=R((Fz)=>{Object.defineProperty(Fz,"cli",{value:Rt()});Object.defineProperty(Fz,"npm",{value:wt()});Object.defineProperty(Fz,"syslog",{value:Mt()})});var v0=R((XW)=>{Object.defineProperty(XW,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(XW,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(XW,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(XW,"configs",{value:Bt()})});var qz=R((J80,Uz)=>{var JN=eA(),{LEVEL:ZN,MESSAGE:YN}=v0();JN.enabled=!0;var At=/\s+/;class c7{constructor(Z={}){if(Z.colors)this.addColors(Z.colors);this.options=Z}static addColors(Z){const Y=Object.keys(Z).reduce((J,X)=>{return J[X]=At.test(Z[X])?Z[X].split(At):Z[X],J},{});return c7.allColors=Object.assign({},c7.allColors||{},Y),c7.allColors}addColors(Z){return c7.addColors(Z)}colorize(Z,Y,J){if(typeof J==="undefined")J=Y;if(!Array.isArray(c7.allColors[Z]))return JN[c7.allColors[Z]](J);for(let X=0,$=c7.allColors[Z].length;X<$;X++)J=JN[c7.allColors[Z][X]](J);return J}transform(Z,Y){if(Y.all&&typeof Z[YN]==="string")Z[YN]=this.colorize(Z[ZN],Z.level,Z[YN]);if(Y.level||Y.all||!Y.message)Z.level=this.colorize(Z[ZN],Z.level);if(Y.all||Y.message)Z.message=this.colorize(Z[ZN],Z.level,Z.message);return Z}}Uz.exports=(Z)=>new c7(Z);Uz.exports.Colorizer=Uz.exports.Format=c7});var It=R((X80,Nt)=>{var{Colorizer:fS1}=qz();Nt.exports=(Z)=>{return fS1.addColors(Z.colors||Z),Z}});var Pt=R(($80,Dt)=>{var yS1=R6();Dt.exports=yS1((Z)=>{return Z.message=`\t${Z.message}`,Z})});var Et=R((W80,Ct)=>{var gS1=R6(),{LEVEL:Tt,MESSAGE:XN}=v0();Ct.exports=gS1((Z,{stack:Y,cause:J})=>{if(Z instanceof Error){const $=Object.assign({},Z,{level:Z.level,[Tt]:Z[Tt]||Z.level,message:Z.message,[XN]:Z[XN]||Z.message});if(Y)$.stack=Z.stack;if(J)$.cause=Z.cause;return $}if(!(Z.message instanceof Error))return Z;const X=Z.message;if(Object.assign(Z,X),Z.message=X.message,Z[XN]=X.message,Y)Z.stack=X.stack;if(J)Z.cause=X.cause;return Z})});var WN=R((G80,Vz)=>{var{configs:bS1,LEVEL:jt,MESSAGE:$N}=v0();class ZX{constructor(Z={levels:bS1.npm.levels}){this.paddings=ZX.paddingForLevels(Z.levels,Z.filler),this.options=Z}static getLongestLevel(Z){const Y=Object.keys(Z).map((J)=>J.length);return Math.max(...Y)}static paddingForLevel(Z,Y,J){const X=J+1-Z.length,$=Math.floor(X/Y.length);return`${Y}${Y.repeat($)}`.slice(0,X)}static paddingForLevels(Z,Y=" "){const J=ZX.getLongestLevel(Z);return Object.keys(Z).reduce((X,$)=>{return X[$]=ZX.paddingForLevel($,Y,J),X},{})}transform(Z,Y){if(Z.message=`${this.paddings[Z[jt]]}${Z.message}`,Z[$N])Z[$N]=`${this.paddings[Z[jt]]}${Z[$N]}`;return Z}}Vz.exports=(Z)=>new ZX(Z);Vz.exports.Padder=Vz.exports.Format=ZX});var Ot=R((Q80,QN)=>{var{Colorizer:vS1}=qz(),{Padder:hS1}=WN(),{configs:mS1,MESSAGE:uS1}=v0();class GN{constructor(Z={}){if(!Z.levels)Z.levels=mS1.cli.levels;this.colorizer=new vS1(Z),this.padder=new hS1(Z),this.options=Z}transform(Z,Y){return this.colorizer.transform(this.padder.transform(Z,Y),Y),Z[uS1]=`${Z.level}:${Z.message}`,Z}}QN.exports=(Z)=>new GN(Z);QN.exports.Format=GN});var kt=R((K80,KN)=>{var St=function(Z){if(!Z.every(cS1))return;return(Y)=>{let J=Y;for(let X=0;X<Z.length;X++)if(J=Z[X].transform(J,Z[X].options),!J)return!1;return J}},cS1=function(Z){if(typeof Z.transform!=="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0},dS1=R6();KN.exports=(...Z)=>{const Y=dS1(St(Z)),J=Y();return J.Format=Y.Format,J};KN.exports.cascade=St});var $W=R((H80,yt)=>{var LZ=function(Z){if(Z.length<5000&&!pS1.test(Z))return`"${Z}"`;return JSON.stringify(Z)},HN=function(Z){if(Z.length>200)return Z.sort();for(let Y=1;Y<Z.length;Y++){const J=Z[Y];let X=Y;while(X!==0&&Z[X-1]>J)Z[X]=Z[X-1],X--;Z[X]=J}return Z},zN=function(Z){return lS1.call(Z)!==void 0&&Z.length!==0},_t=function(Z,Y,J){if(Z.length<J)J=Z.length;const X=Y===","?"":" ";let $=`"0":${X}${Z[0]}`;for(let W=1;W<J;W++)$+=`${Y}"${W}":${X}${Z[W]}`;return $},iS1=function(Z){if(Lz.call(Z,"circularValue")){const Y=Z.circularValue;if(typeof Y==="string")return`"${Y}"`;if(Y==null)return Y;if(Y===Error||Y===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'},xt=function(Z,Y){let J;if(Lz.call(Z,Y)){if(J=Z[Y],typeof J!=="boolean")throw new TypeError(`The "${Y}" argument must be of type boolean`)}return J===void 0?!0:J},ft=function(Z,Y){let J;if(Lz.call(Z,Y)){if(J=Z[Y],typeof J!=="number")throw new TypeError(`The "${Y}" argument must be of type number`);if(!Number.isInteger(J))throw new TypeError(`The "${Y}" argument must be an integer`);if(J<1)throw new RangeError(`The "${Y}" argument must be >= 1`)}return J===void 0?Infinity:J},m9=function(Z){if(Z===1)return"1 item";return`${Z} items`},nS1=function(Z){const Y=new Set;for(let J of Z)if(typeof J==="string"||typeof J==="number")Y.add(String(J));return Y},aS1=function(Z){if(Lz.call(Z,"strict")){const Y=Z.strict;if(typeof Y!=="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(Y)return(J)=>{let X=`Object can not safely be stringified. Received type ${typeof J}`;if(typeof J!=="function")X+=` (${J.toString()})`;throw new Error(X)}}},FN=function(Z){Z={...Z};const Y=aS1(Z);if(Y){if(Z.bigint===void 0)Z.bigint=!1;if(!("circularValue"in Z))Z.circularValue=Error}const J=iS1(Z),X=xt(Z,"bigint"),$=xt(Z,"deterministic"),W=ft(Z,"maximumDepth"),G=ft(Z,"maximumBreadth");function Q(U,q,V,L,w,B){let A=q[U];if(typeof A==="object"&&A!==null&&typeof A.toJSON==="function")A=A.toJSON(U);switch(A=L.call(q,U,A),typeof A){case"string":return LZ(A);case"object":{if(A===null)return"null";if(V.indexOf(A)!==-1)return J;let M="",I=",";const x=B;if(Array.isArray(A)){if(A.length===0)return"[]";if(W<V.length+1)return'"[Array]"';if(V.push(A),w!=="")B+=w,M+=`\n${B}`,I=`,\n${B}`;const _=Math.min(A.length,G);let O=0;for(;O<_-1;O++){const i=Q(String(O),A,V,L,w,B);M+=i!==void 0?i:"null",M+=I}const k=Q(String(O),A,V,L,w,B);if(M+=k!==void 0?k:"null",A.length-1>G){const i=A.length-G-1;M+=`${I}"... ${m9(i)} not stringified"`}if(w!=="")M+=`\n${x}`;return V.pop(),`[${M}]`}let j=Object.keys(A);const E=j.length;if(E===0)return"{}";if(W<V.length+1)return'"[Object]"';let D="",l="";if(w!=="")B+=w,I=`,\n${B}`,D=" ";const b=Math.min(E,G);if($&&!zN(A))j=HN(j);V.push(A);for(let _=0;_<b;_++){const O=j[_],k=Q(O,A,V,L,w,B);if(k!==void 0)M+=`${l}${LZ(O)}:${D}${k}`,l=I}if(E>G){const _=E-G;M+=`${l}"...":${D}"${m9(_)} not stringified"`,l=I}if(w!==""&&l.length>1)M=`\n${B}${M}\n${x}`;return V.pop(),`{${M}}`}case"number":return isFinite(A)?String(A):Y?Y(A):"null";case"boolean":return A===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(A);default:return Y?Y(A):void 0}}function K(U,q,V,L,w,B){if(typeof q==="object"&&q!==null&&typeof q.toJSON==="function")q=q.toJSON(U);switch(typeof q){case"string":return LZ(q);case"object":{if(q===null)return"null";if(V.indexOf(q)!==-1)return J;const A=B;let M="",I=",";if(Array.isArray(q)){if(q.length===0)return"[]";if(W<V.length+1)return'"[Array]"';if(V.push(q),w!=="")B+=w,M+=`\n${B}`,I=`,\n${B}`;const E=Math.min(q.length,G);let D=0;for(;D<E-1;D++){const b=K(String(D),q[D],V,L,w,B);M+=b!==void 0?b:"null",M+=I}const l=K(String(D),q[D],V,L,w,B);if(M+=l!==void 0?l:"null",q.length-1>G){const b=q.length-G-1;M+=`${I}"... ${m9(b)} not stringified"`}if(w!=="")M+=`\n${A}`;return V.pop(),`[${M}]`}V.push(q);let x="";if(w!=="")B+=w,I=`,\n${B}`,x=" ";let j="";for(let E of L){const D=K(E,q[E],V,L,w,B);if(D!==void 0)M+=`${j}${LZ(E)}:${x}${D}`,j=I}if(w!==""&&j.length>1)M=`\n${B}${M}\n${A}`;return V.pop(),`{${M}}`}case"number":return isFinite(q)?String(q):Y?Y(q):"null";case"boolean":return q===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(q);default:return Y?Y(q):void 0}}function H(U,q,V,L,w){switch(typeof q){case"string":return LZ(q);case"object":{if(q===null)return"null";if(typeof q.toJSON==="function"){if(q=q.toJSON(U),typeof q!=="object")return H(U,q,V,L,w);if(q===null)return"null"}if(V.indexOf(q)!==-1)return J;const B=w;if(Array.isArray(q)){if(q.length===0)return"[]";if(W<V.length+1)return'"[Array]"';V.push(q),w+=L;let D=`\n${w}`;const l=`,\n${w}`,b=Math.min(q.length,G);let _=0;for(;_<b-1;_++){const k=H(String(_),q[_],V,L,w);D+=k!==void 0?k:"null",D+=l}const O=H(String(_),q[_],V,L,w);if(D+=O!==void 0?O:"null",q.length-1>G){const k=q.length-G-1;D+=`${l}"... ${m9(k)} not stringified"`}return D+=`\n${B}`,V.pop(),`[${D}]`}let A=Object.keys(q);const M=A.length;if(M===0)return"{}";if(W<V.length+1)return'"[Object]"';w+=L;const I=`,\n${w}`;let x="",j="",E=Math.min(M,G);if(zN(q))x+=_t(q,I,G),A=A.slice(q.length),E-=q.length,j=I;if($)A=HN(A);V.push(q);for(let D=0;D<E;D++){const l=A[D],b=H(l,q[l],V,L,w);if(b!==void 0)x+=`${j}${LZ(l)}: ${b}`,j=I}if(M>G){const D=M-G;x+=`${j}"...": "${m9(D)} not stringified"`,j=I}if(j!=="")x=`\n${w}${x}\n${B}`;return V.pop(),`{${x}}`}case"number":return isFinite(q)?String(q):Y?Y(q):"null";case"boolean":return q===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(q);default:return Y?Y(q):void 0}}function z(U,q,V){switch(typeof q){case"string":return LZ(q);case"object":{if(q===null)return"null";if(typeof q.toJSON==="function"){if(q=q.toJSON(U),typeof q!=="object")return z(U,q,V);if(q===null)return"null"}if(V.indexOf(q)!==-1)return J;let L="";if(Array.isArray(q)){if(q.length===0)return"[]";if(W<V.length+1)return'"[Array]"';V.push(q);const I=Math.min(q.length,G);let x=0;for(;x<I-1;x++){const E=z(String(x),q[x],V);L+=E!==void 0?E:"null",L+=","}const j=z(String(x),q[x],V);if(L+=j!==void 0?j:"null",q.length-1>G){const E=q.length-G-1;L+=`,"... ${m9(E)} not stringified"`}return V.pop(),`[${L}]`}let w=Object.keys(q);const B=w.length;if(B===0)return"{}";if(W<V.length+1)return'"[Object]"';let A="",M=Math.min(B,G);if(zN(q))L+=_t(q,",",G),w=w.slice(q.length),M-=q.length,A=",";if($)w=HN(w);V.push(q);for(let I=0;I<M;I++){const x=w[I],j=z(x,q[x],V);if(j!==void 0)L+=`${A}${LZ(x)}:${j}`,A=","}if(B>G){const I=B-G;L+=`${A}"...":"${m9(I)} not stringified"`}return V.pop(),`{${L}}`}case"number":return isFinite(q)?String(q):Y?Y(q):"null";case"boolean":return q===!0?"true":"false";case"undefined":return;case"bigint":if(X)return String(q);default:return Y?Y(q):void 0}}function F(U,q,V){if(arguments.length>1){let L="";if(typeof V==="number")L=" ".repeat(Math.min(V,10));else if(typeof V==="string")L=V.slice(0,10);if(q!=null){if(typeof q==="function")return Q("",{"":U},[],q,L,"");if(Array.isArray(q))return K("",U,[],nS1(q),L,"")}if(L.length!==0)return H("",U,[],L,"")}return z("",U,[])}return F},{hasOwnProperty:Lz}=Object.prototype,u9=FN();u9.configure=FN;u9.stringify=u9;u9.default=u9;H80.stringify=u9;H80.configure=FN;yt.exports=u9;var pS1=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,lS1=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get});var UN=R((z80,gt)=>{var Zk1=function(Z,Y){if(typeof Y==="bigint")return Y.toString();return Y},tS1=R6(),{MESSAGE:oS1}=v0(),eS1=$W();gt.exports=tS1((Z,Y)=>{const J=eS1.configure(Y);return Z[oS1]=J(Z,Y.replacer||Zk1,Y.space),Z})});var vt=R((F80,bt)=>{var Yk1=R6();bt.exports=Yk1((Z,Y)=>{if(Y.message)return Z.message=`[${Y.label}] ${Z.message}`,Z;return Z.label=Y.label,Z})});var mt=R((U80,ht)=>{var Jk1=R6(),{MESSAGE:Xk1}=v0(),$k1=$W();ht.exports=Jk1((Z)=>{const Y={};if(Z.message)Y["@message"]=Z.message,delete Z.message;if(Z.timestamp)Y["@timestamp"]=Z.timestamp,delete Z.timestamp;return Y["@fields"]=Z,Z[Xk1]=$k1(Y),Z})});var dt=R((q80,ut)=>{var Gk1=function(Z,Y,J){const X=Y.reduce((W,G)=>{return W[G]=Z[G],delete Z[G],W},{}),$=Object.keys(Z).reduce((W,G)=>{return W[G]=Z[G],delete Z[G],W},{});return Object.assign(Z,X,{[J]:$}),Z},Qk1=function(Z,Y,J){return Z[J]=Y.reduce((X,$)=>{return X[$]=Z[$],delete Z[$],X},{}),Z},Wk1=R6();ut.exports=Wk1((Z,Y={})=>{let J="metadata";if(Y.key)J=Y.key;let X=[];if(!Y.fillExcept&&!Y.fillWith)X.push("level"),X.push("message");if(Y.fillExcept)X=Y.fillExcept;if(X.length>0)return Gk1(Z,X,J);if(Y.fillWith)return Qk1(Z,Y.fillWith,J);return Z})});var pt=R((WW,ct)=>{var Kk1=R6(),Hk1=Tw();ct.exports=Kk1((Z)=>{const Y=+new Date;return WW.diff=Y-(WW.prevTime||Y),WW.prevTime=Y,Z.ms=`+${Hk1(WW.diff)}`,Z})});var nt=R((V80,it)=>{var zk1=import.meta.require("util").inspect,Fk1=R6(),{LEVEL:Uk1,MESSAGE:lt,SPLAT:qk1}=v0();it.exports=Fk1((Z,Y={})=>{const J=Object.assign({},Z);return delete J[Uk1],delete J[lt],delete J[qk1],Z[lt]=zk1(J,!1,Y.depth||null,Y.colorize),Z})});var at=R((L80,Rz)=>{var{MESSAGE:Vk1}=v0();class qN{constructor(Z){this.template=Z}transform(Z){return Z[Vk1]=this.template(Z),Z}}Rz.exports=(Z)=>new qN(Z);Rz.exports.Printf=Rz.exports.Format=qN});var tt=R((R80,rt)=>{var Lk1=R6(),{MESSAGE:st}=v0(),Rk1=$W();rt.exports=Lk1((Z)=>{const Y=Rk1(Object.assign({},Z,{level:void 0,message:void 0,splat:void 0})),J=Z.padding&&Z.padding[Z.level]||"";if(Y!=="{}")Z[st]=`${Z.level}:${J} ${Z.message} ${Y}`;else Z[st]=`${Z.level}:${J} ${Z.message}`;return Z})});var Yo=R((w80,Zo)=>{var wk1=import.meta.require("util"),{SPLAT:ot}=v0(),Mk1=/%[scdjifoO%]/g,Bk1=/%%/g;class et{constructor(Z){this.options=Z}_splat(Z,Y){const J=Z.message,X=Z[ot]||Z.splat||[],$=J.match(Bk1),W=$&&$.length||0,Q=Y.length-W-X.length,K=Q<0?X.splice(Q,-1*Q):[],H=K.length;if(H)for(let z=0;z<H;z++)Object.assign(Z,K[z]);return Z.message=wk1.format(J,...X),Z}transform(Z){const Y=Z.message,J=Z[ot]||Z.splat;if(!J||!J.length)return Z;const X=Y&&Y.match&&Y.match(Mk1);if(!X&&(J||J.length)){const $=J.length>1?J.splice(0):J,W=$.length;if(W)for(let G=0;G<W;G++)Object.assign(Z,$[G]);return Z}if(X)return this._splat(Z,X);return Z}}Zo.exports=(Z)=>new et(Z)});var Xo=R((wz,Jo)=>{(function(Z,Y){typeof wz==="object"&&typeof Jo!=="undefined"?Y(wz):typeof define==="function"&&define.amd?define(["exports"],Y):Y(Z.fecha={})})(wz,function(Z){var Y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,J="\\d\\d?",X="\\d\\d",$="\\d{3}",W="\\d{4}",G="[^\\s]+",Q=/\[([^]*?)\]/gm;function K(g,s){var q1=[];for(var a1=0,Y1=g.length;a1<Y1;a1++)q1.push(g[a1].substr(0,s));return q1}var H=function(g){return function(s,q1){var a1=q1[g].map(function(h0){return h0.toLowerCase()}),Y1=a1.indexOf(s.toLowerCase());if(Y1>-1)return Y1;return null}};function z(g){var s=[];for(var q1=1;q1<arguments.length;q1++)s[q1-1]=arguments[q1];for(var a1=0,Y1=s;a1<Y1.length;a1++){var h0=Y1[a1];for(var n7 in h0)g[n7]=h0[n7]}return g}var F=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],U=["January","February","March","April","May","June","July","August","September","October","November","December"],q=K(U,3),V=K(F,3),L={dayNamesShort:V,dayNames:F,monthNamesShort:q,monthNames:U,amPm:["am","pm"],DoFn:function(g){return g+["th","st","nd","rd"][g%10>3?0:(g-g%10!==10?1:0)*g%10]}},w=z({},L),B=function(g){return w=z(w,g)},A=function(g){return g.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},M=function(g,s){if(s===void 0)s=2;g=String(g);while(g.length<s)g="0"+g;return g},I={D:function(g){return String(g.getDate())},DD:function(g){return M(g.getDate())},Do:function(g,s){return s.DoFn(g.getDate())},d:function(g){return String(g.getDay())},dd:function(g){return M(g.getDay())},ddd:function(g,s){return s.dayNamesShort[g.getDay()]},dddd:function(g,s){return s.dayNames[g.getDay()]},M:function(g){return String(g.getMonth()+1)},MM:function(g){return M(g.getMonth()+1)},MMM:function(g,s){return s.monthNamesShort[g.getMonth()]},MMMM:function(g,s){return s.monthNames[g.getMonth()]},YY:function(g){return M(String(g.getFullYear()),4).substr(2)},YYYY:function(g){return M(g.getFullYear(),4)},h:function(g){return String(g.getHours()%12||12)},hh:function(g){return M(g.getHours()%12||12)},H:function(g){return String(g.getHours())},HH:function(g){return M(g.getHours())},m:function(g){return String(g.getMinutes())},mm:function(g){return M(g.getMinutes())},s:function(g){return String(g.getSeconds())},ss:function(g){return M(g.getSeconds())},S:function(g){return String(Math.round(g.getMilliseconds()/100))},SS:function(g){return M(Math.round(g.getMilliseconds()/10),2)},SSS:function(g){return M(g.getMilliseconds(),3)},a:function(g,s){return g.getHours()<12?s.amPm[0]:s.amPm[1]},A:function(g,s){return g.getHours()<12?s.amPm[0].toUpperCase():s.amPm[1].toUpperCase()},ZZ:function(g){var s=g.getTimezoneOffset();return(s>0?"-":"+")+M(Math.floor(Math.abs(s)/60)*100+Math.abs(s)%60,4)},Z:function(g){var s=g.getTimezoneOffset();return(s>0?"-":"+")+M(Math.floor(Math.abs(s)/60),2)+":"+M(Math.abs(s)%60,2)}},x=function(g){return+g-1},j=[null,J],E=[null,G],D=["isPm",G,function(g,s){var q1=g.toLowerCase();if(q1===s.amPm[0])return 0;else if(q1===s.amPm[1])return 1;return null}],l=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(g){var s=(g+"").match(/([+-]|\d\d)/gi);if(s){var q1=+s[1]*60+parseInt(s[2],10);return s[0]==="+"?q1:-q1}return 0}],b={D:["day",J],DD:["day",X],Do:["day",J+G,function(g){return parseInt(g,10)}],M:["month",J,x],MM:["month",X,x],YY:["year",X,function(g){var s=new Date,q1=+(""+s.getFullYear()).substr(0,2);return+(""+(+g>68?q1-1:q1)+g)}],h:["hour",J,void 0,"isPm"],hh:["hour",X,void 0,"isPm"],H:["hour",J],HH:["hour",X],m:["minute",J],mm:["minute",X],s:["second",J],ss:["second",X],YYYY:["year",W],S:["millisecond","\\d",function(g){return+g*100}],SS:["millisecond",X,function(g){return+g*10}],SSS:["millisecond",$],d:j,dd:j,ddd:E,dddd:E,MMM:["month",G,H("monthNamesShort")],MMMM:["month",G,H("monthNames")],a:D,A:D,ZZ:l,Z:l},_={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},O=function(g){return z(_,g)},k=function(g,s,q1){if(s===void 0)s=_.default;if(q1===void 0)q1={};if(typeof g==="number")g=new Date(g);if(Object.prototype.toString.call(g)!=="[object Date]"||isNaN(g.getTime()))throw new Error("Invalid Date pass to format");s=_[s]||s;var a1=[];s=s.replace(Q,function(h0,n7){return a1.push(n7),"@@@"});var Y1=z(z({},w),q1);return s=s.replace(Y,function(h0){return I[h0](g,Y1)}),s.replace(/@@@/g,function(){return a1.shift()})};function i(g,s,q1){if(q1===void 0)q1={};if(typeof s!=="string")throw new Error("Invalid format in fecha parse");if(s=_[s]||s,g.length>1000)return null;var a1=new Date,Y1={year:a1.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},h0=[],n7=[],IZ=s.replace(Q,function(z5,T4){return n7.push(A(T4)),"@@@"}),t9={},EW={};IZ=A(IZ).replace(Y,function(z5){var T4=b[z5],e9=T4[0],kW=T4[1],VX=T4[3];if(t9[e9])throw new Error("Invalid format. "+e9+" specified twice in format");if(t9[e9]=!0,VX)EW[VX]=!0;return h0.push(T4),"("+kW+")"}),Object.keys(EW).forEach(function(z5){if(!t9[z5])throw new Error("Invalid format. "+z5+" is required in specified format")}),IZ=IZ.replace(/@@@/g,function(){return n7.shift()});var o9=g.match(new RegExp(IZ,"i"));if(!o9)return null;var jW=z(z({},w),q1);for(var l8=1;l8<o9.length;l8++){var FX=h0[l8-1],OW=FX[0],UX=FX[2],qX=UX?UX(o9[l8],jW):+o9[l8];if(qX==null)return null;Y1[OW]=qX}if(Y1.isPm===1&&Y1.hour!=null&&+Y1.hour!==12)Y1.hour=+Y1.hour+12;else if(Y1.isPm===0&&+Y1.hour===12)Y1.hour=0;var DZ;if(Y1.timezoneOffset==null){DZ=new Date(Y1.year,Y1.month,Y1.day,Y1.hour,Y1.minute,Y1.second,Y1.millisecond);var PZ=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]];for(var l8=0,SW=PZ.length;l8<SW;l8++)if(t9[PZ[l8][0]]&&Y1[PZ[l8][0]]!==DZ[PZ[l8][1]]())return null}else if(DZ=new Date(Date.UTC(Y1.year,Y1.month,Y1.day,Y1.hour,Y1.minute-Y1.timezoneOffset,Y1.second,Y1.millisecond)),Y1.month>11||Y1.month<0||Y1.day>31||Y1.day<1||Y1.hour>23||Y1.hour<0||Y1.minute>59||Y1.minute<0||Y1.second>59||Y1.second<0)return null;return DZ}var T1={format:k,parse:i,defaultI18n:L,setGlobalDateI18n:B,setGlobalDateMasks:O};Z.assign=z,Z.default=T1,Z.format=k,Z.parse=i,Z.defaultI18n=L,Z.setGlobalDateI18n=B,Z.setGlobalDateMasks=O,Object.defineProperty(Z,"__esModule",{value:!0})})});var Wo=R((M80,$o)=>{var Ak1=Xo(),Nk1=R6();$o.exports=Nk1((Z,Y={})=>{if(Y.format)Z.timestamp=typeof Y.format==="function"?Y.format():Ak1.format(new Date,Y.format);if(!Z.timestamp)Z.timestamp=(new Date()).toISOString();if(Y.alias)Z[Y.alias]=Z.timestamp;return Z})});var Qo=R((B80,Go)=>{var VN=eA(),Ik1=R6(),{MESSAGE:LN}=v0();Go.exports=Ik1((Z,Y)=>{if(Y.level!==!1)Z.level=VN.strip(Z.level);if(Y.message!==!1)Z.message=VN.strip(String(Z.message));if(Y.raw!==!1&&Z[LN])Z[LN]=VN.strip(String(Z[LN]));return Z})});var RN=R((Pk1)=>{var V8=function(Z,Y){Object.defineProperty(Dk1,Z,{get(){return Y()},configurable:!0})},Dk1=Pk1.format=R6();Pk1.levels=It();V8("align",function(){return Pt()});V8("errors",function(){return Et()});V8("cli",function(){return Ot()});V8("combine",function(){return kt()});V8("colorize",function(){return qz()});V8("json",function(){return UN()});V8("label",function(){return vt()});V8("logstash",function(){return mt()});V8("metadata",function(){return dt()});V8("ms",function(){return pt()});V8("padLevels",function(){return WN()});V8("prettyPrint",function(){return nt()});V8("printf",function(){return at()});V8("simple",function(){return tt()});V8("splat",function(){return Yo()});V8("timestamp",function(){return Wo()});V8("uncolorize",function(){return Qo()})});var MN=R((Ck1)=>{var{format:Ko}=import.meta.require("util");Ck1.warn={deprecated(Z){return()=>{throw new Error(Ko("{ %s } was removed in winston@3.0.0.",Z))}},useFormat(Z){return()=>{throw new Error([Ko("{ %s } was removed in winston@3.0.0.",Z),"Use a custom winston.format = winston.format(function) instead."].join("\n"))}},forFunctions(Z,Y,J){J.forEach((X)=>{Z[X]=Ck1.warn[Y](X)})},forProperties(Z,Y,J){J.forEach((X)=>{const $=Ck1.warn[Y](X);Object.defineProperty(Z,X,{get:$,set:$})})}}});var Ho=R((D80,Ek1)=>{Ek1.exports={name:"winston",description:"A logger for just about everything.",version:"3.11.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.4.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.5.0"},devDependencies:{"@babel/cli":"^7.17.0","@babel/core":"^7.17.2","@babel/preset-env":"^7.16.7","@dabh/eslint-config-populist":"^5.0.0","@types/node":"^20.3.1","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.9.0",hock:"^1.4.1",mocha:"8.1.3",nyc:"^15.1.0",rimraf:"^5.0.5",split2:"^4.1.0","std-mocks":"^1.0.1",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var Uo=R((BN,Fo)=>{var zo=function(Z,Y){for(var J in Z)Y[J]=Z[J]},d9=function(Z,Y,J){return N4(Z,Y,J)};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Mz=import.meta.require("buffer"),N4=Mz.Buffer;if(N4.from&&N4.alloc&&N4.allocUnsafe&&N4.allocUnsafeSlow)Fo.exports=Mz;else zo(Mz,BN),BN.Buffer=d9;d9.prototype=Object.create(N4.prototype);zo(N4,d9);d9.from=function(Z,Y,J){if(typeof Z==="number")throw new TypeError("Argument must not be a number");return N4(Z,Y,J)};d9.alloc=function(Z,Y,J){if(typeof Z!=="number")throw new TypeError("Argument must be a number");var X=N4(Z);if(Y!==void 0)if(typeof J==="string")X.fill(Y,J);else X.fill(Y);else X.fill(0);return X};d9.allocUnsafe=function(Z){if(typeof Z!=="number")throw new TypeError("Argument must be a number");return N4(Z)};d9.allocUnsafeSlow=function(Z){if(typeof Z!=="number")throw new TypeError("Argument must be a number");return Mz.SlowBuffer(Z)}});var IN=R((uk1)=>{var jk1=function(Z){if(!Z)return"utf8";var Y;while(!0)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(Y)return;Z=(""+Z).toLowerCase(),Y=!0}},Ok1=function(Z){var Y=jk1(Z);if(typeof Y!=="string"&&(NN.isEncoding===qo||!qo(Z)))throw new Error("Unknown encoding: "+Z);return Y||Z},GW=function(Z){this.encoding=Ok1(Z);var Y;switch(this.encoding){case"utf16le":this.text=yk1,this.end=gk1,Y=4;break;case"utf8":this.fillLast=_k1,Y=4;break;case"base64":this.text=bk1,this.end=vk1,Y=3;break;default:this.write=hk1,this.end=mk1;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=NN.allocUnsafe(Y)},AN=function(Z){if(Z<=127)return 0;else if(Z>>5===6)return 2;else if(Z>>4===14)return 3;else if(Z>>3===30)return 4;return Z>>6===2?-1:-2},Sk1=function(Z,Y,J){var X=Y.length-1;if(X<J)return 0;var $=AN(Y[X]);if($>=0){if($>0)Z.lastNeed=$-1;return $}if(--X<J||$===-2)return 0;if($=AN(Y[X]),$>=0){if($>0)Z.lastNeed=$-2;return $}if(--X<J||$===-2)return 0;if($=AN(Y[X]),$>=0){if($>0)if($===2)$=0;else Z.lastNeed=$-3;return $}return 0},kk1=function(Z,Y,J){if((Y[0]&192)!==128)return Z.lastNeed=0,"\uFFFD";if(Z.lastNeed>1&&Y.length>1){if((Y[1]&192)!==128)return Z.lastNeed=1,"\uFFFD";if(Z.lastNeed>2&&Y.length>2){if((Y[2]&192)!==128)return Z.lastNeed=2,"\uFFFD"}}},_k1=function(Z){var Y=this.lastTotal-this.lastNeed,J=kk1(this,Z,Y);if(J!==void 0)return J;if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,Y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,Y,0,Z.length),this.lastNeed-=Z.length},xk1=function(Z,Y){var J=Sk1(this,Z,Y);if(!this.lastNeed)return Z.toString("utf8",Y);this.lastTotal=J;var X=Z.length-(J-this.lastNeed);return Z.copy(this.lastChar,0,X),Z.toString("utf8",Y,X)},fk1=function(Z){var Y=Z&&Z.length?this.write(Z):"";if(this.lastNeed)return Y+"\uFFFD";return Y},yk1=function(Z,Y){if((Z.length-Y)%2===0){var J=Z.toString("utf16le",Y);if(J){var X=J.charCodeAt(J.length-1);if(X>=55296&&X<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],J.slice(0,-1)}return J}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",Y,Z.length-1)},gk1=function(Z){var Y=Z&&Z.length?this.write(Z):"";if(this.lastNeed){var J=this.lastTotal-this.lastNeed;return Y+this.lastChar.toString("utf16le",0,J)}return Y},bk1=function(Z,Y){var J=(Z.length-Y)%3;if(J===0)return Z.toString("base64",Y);if(this.lastNeed=3-J,this.lastTotal=3,J===1)this.lastChar[0]=Z[Z.length-1];else this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1];return Z.toString("base64",Y,Z.length-J)},vk1=function(Z){var Y=Z&&Z.length?this.write(Z):"";if(this.lastNeed)return Y+this.lastChar.toString("base64",0,3-this.lastNeed);return Y},hk1=function(Z){return Z.toString(this.encoding)},mk1=function(Z){return Z&&Z.length?this.write(Z):""},NN=Uo().Buffer,qo=NN.isEncoding||function(Z){switch(Z=""+Z,Z&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};uk1.StringDecoder=GW;GW.prototype.write=function(Z){if(Z.length===0)return"";var Y,J;if(this.lastNeed){if(Y=this.fillLast(Z),Y===void 0)return"";J=this.lastNeed,this.lastNeed=0}else J=0;if(J<Z.length)return Y?Y+this.text(Z,J):this.text(Z,J);return Y||""};GW.prototype.end=fk1;GW.prototype.text=xk1;GW.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length}});var Bo=R((T80,Mo)=>{var Vo=function(Z,Y){var J=Object.keys(Z);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(Z);Y&&(X=X.filter(function($){return Object.getOwnPropertyDescriptor(Z,$).enumerable})),J.push.apply(J,X)}return J},Lo=function(Z){for(var Y=1;Y<arguments.length;Y++){var J=arguments[Y]!=null?arguments[Y]:{};Y%2?Vo(Object(J),!0).forEach(function(X){ck1(Z,X,J[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(J)):Vo(Object(J)).forEach(function(X){Object.defineProperty(Z,X,Object.getOwnPropertyDescriptor(J,X))})}return Z},ck1=function(Z,Y,J){if(Y=wo(Y),(Y in Z))Object.defineProperty(Z,Y,{value:J,enumerable:!0,configurable:!0,writable:!0});else Z[Y]=J;return Z},pk1=function(Z,Y){if(!(Z instanceof Y))throw new TypeError("Cannot call a class as a function")},Ro=function(Z,Y){for(var J=0;J<Y.length;J++){var X=Y[J];if(X.enumerable=X.enumerable||!1,X.configurable=!0,("value"in X))X.writable=!0;Object.defineProperty(Z,wo(X.key),X)}},lk1=function(Z,Y,J){if(Y)Ro(Z.prototype,Y);if(J)Ro(Z,J);return Object.defineProperty(Z,"prototype",{writable:!1}),Z},wo=function(Z){var Y=ik1(Z,"string");return typeof Y==="symbol"?Y:String(Y)},ik1=function(Z,Y){if(typeof Z!=="object"||Z===null)return Z;var J=Z[Symbol.toPrimitive];if(J!==void 0){var X=J.call(Z,Y||"default");if(typeof X!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(Z)},rk1=function(Z,Y,J){Bz.prototype.copy.call(Z,Y,J)},nk1=import.meta.require("buffer"),Bz=nk1.Buffer,ak1=import.meta.require("util"),DN=ak1.inspect,sk1=DN&&DN.custom||"inspect";Mo.exports=function(){function Z(){pk1(this,Z),this.head=null,this.tail=null,this.length=0}return lk1(Z,[{key:"push",value:function Y(J){var X={data:J,next:null};if(this.length>0)this.tail.next=X;else this.head=X;this.tail=X,++this.length}},{key:"unshift",value:function Y(J){var X={data:J,next:this.head};if(this.length===0)this.tail=X;this.head=X,++this.length}},{key:"shift",value:function Y(){if(this.length===0)return;var J=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,J}},{key:"clear",value:function Y(){this.head=this.tail=null,this.length=0}},{key:"join",value:function Y(J){if(this.length===0)return"";var X=this.head,$=""+X.data;while(X=X.next)$+=J+X.data;return $}},{key:"concat",value:function Y(J){if(this.length===0)return Bz.alloc(0);var X=Bz.allocUnsafe(J>>>0),$=this.head,W=0;while($)rk1($.data,X,W),W+=$.data.length,$=$.next;return X}},{key:"consume",value:function Y(J,X){var $;if(J<this.head.data.length)$=this.head.data.slice(0,J),this.head.data=this.head.data.slice(J);else if(J===this.head.data.length)$=this.shift();else $=X?this._getString(J):this._getBuffer(J);return $}},{key:"first",value:function Y(){return this.head.data}},{key:"_getString",value:function Y(J){var X=this.head,$=1,W=X.data;J-=W.length;while(X=X.next){var G=X.data,Q=J>G.length?G.length:J;if(Q===G.length)W+=G;else W+=G.slice(0,J);if(J-=Q,J===0){if(Q===G.length)if(++$,X.next)this.head=X.next;else this.head=this.tail=null;else this.head=X,X.data=G.slice(Q);break}++$}return this.length-=$,W}},{key:"_getBuffer",value:function Y(J){var X=Bz.allocUnsafe(J),$=this.head,W=1;$.data.copy(X),J-=$.data.length;while($=$.next){var G=$.data,Q=J>G.length?G.length:J;if(G.copy(X,X.length-J,0,Q),J-=Q,J===0){if(Q===G.length)if(++W,$.next)this.head=$.next;else this.head=this.tail=null;else this.head=$,$.data=G.slice(Q);break}++W}return this.length-=W,X}},{key:sk1,value:function Y(J,X){return DN(this,Lo(Lo({},X),{},{depth:0,customInspect:!1}))}}]),Z}()});var TN=R((C80,No)=>{var tk1=function(Z,Y){var J=this,X=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;if(X||$){if(Y)Y(Z);else if(Z){if(!this._writableState)process.nextTick(PN,this,Z);else if(!this._writableState.errorEmitted)this._writableState.errorEmitted=!0,process.nextTick(PN,this,Z)}return this}if(this._readableState)this._readableState.destroyed=!0;if(this._writableState)this._writableState.destroyed=!0;return this._destroy(Z||null,function(W){if(!Y&&W)if(!J._writableState)process.nextTick(Ao,J,W);else if(!J._writableState.errorEmitted)J._writableState.errorEmitted=!0,process.nextTick(Ao,J,W);else process.nextTick(Az,J);else if(Y)process.nextTick(Az,J),Y(W);else process.nextTick(Az,J)}),this},Ao=function(Z,Y){PN(Z,Y),Az(Z)},Az=function(Z){if(Z._writableState&&!Z._writableState.emitClose)return;if(Z._readableState&&!Z._readableState.emitClose)return;Z.emit("close")},ok1=function(){if(this._readableState)this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1;if(this._writableState)this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1},PN=function(Z,Y){Z.emit("error",Y)},ek1=function(Z,Y){var{_readableState:J,_writableState:X}=Z;if(J&&J.autoDestroy||X&&X.autoDestroy)Z.destroy(Y);else Z.emit("error",Y)};No.exports={destroy:tk1,undestroy:ok1,errorOrDestroy:ek1}});var RZ=R((X_1,Po)=>{var q7=function(Z,Y,J){if(!J)J=Error;function X(W,G,Q){if(typeof Y==="string")return Y;else return Y(W,G,Q)}class $ extends J{constructor(W,G,Q){super(X(W,G,Q))}}$.prototype.name=J.name,$.prototype.code=Z,Do[Z]=$},Io=function(Z,Y){if(Array.isArray(Z)){const J=Z.length;if(Z=Z.map((X)=>String(X)),J>2)return`one of ${Y} ${Z.slice(0,J-1).join(", ")}, or `+Z[J-1];else if(J===2)return`one of ${Y} ${Z[0]} or ${Z[1]}`;else return`of ${Y} ${Z[0]}`}else return`of ${Y} ${String(Z)}`},Z_1=function(Z,Y,J){return Z.substr(!J||J<0?0:+J,Y.length)===Y},Y_1=function(Z,Y,J){if(J===void 0||J>Z.length)J=Z.length;return Z.substring(J-Y.length,J)===Y},J_1=function(Z,Y,J){if(typeof J!=="number")J=0;if(J+Y.length>Z.length)return!1;else return Z.indexOf(Y,J)!==-1},Do={};q7("ERR_INVALID_OPT_VALUE",function(Z,Y){return'The value "'+Y+'" is invalid for option "'+Z+'"'},TypeError);q7("ERR_INVALID_ARG_TYPE",function(Z,Y,J){let X;if(typeof Y==="string"&&Z_1(Y,"not "))X="must not be",Y=Y.replace(/^not /,"");else X="must be";let $;if(Y_1(Z," argument"))$=`The ${Z} ${X} ${Io(Y,"type")}`;else{const W=J_1(Z,".")?"property":"argument";$=`The "${Z}" ${W} ${X} ${Io(Y,"type")}`}return $+=`. Received type ${typeof J}`,$},TypeError);q7("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");q7("ERR_METHOD_NOT_IMPLEMENTED",function(Z){return"The "+Z+" method is not implemented"});q7("ERR_STREAM_PREMATURE_CLOSE","Premature close");q7("ERR_STREAM_DESTROYED",function(Z){return"Cannot call "+Z+" after a stream was destroyed"});q7("ERR_MULTIPLE_CALLBACK","Callback called multiple times");q7("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");q7("ERR_STREAM_WRITE_AFTER_END","write after end");q7("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);q7("ERR_UNKNOWN_ENCODING",function(Z){return"Unknown encoding: "+Z},TypeError);q7("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");X_1.codes=Do});var CN=R((E80,To)=>{var G_1=function(Z,Y,J){return Z.highWaterMark!=null?Z.highWaterMark:Y?Z[J]:null},Q_1=function(Z,Y,J,X){var $=G_1(Y,X,J);if($!=null){if(!(isFinite($)&&Math.floor($)===$)||$<0){var W=X?J:"highWaterMark";throw new W_1(W,$)}return Math.floor($)}return Z.objectMode?16:16384},W_1=RZ().codes.ERR_INVALID_OPT_VALUE;To.exports={getHighWaterMark:Q_1}});var Co=R((j80,EN)=>{if(typeof Object.create==="function")EN.exports=function Z(Y,J){if(J)Y.super_=J,Y.prototype=Object.create(J.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}})};else EN.exports=function Z(Y,J){if(J){Y.super_=J;var X=function(){};X.prototype=J.prototype,Y.prototype=new X,Y.prototype.constructor=Y}}});var YX=R((O80,ON)=>{try{if(jN=import.meta.require("util"),typeof jN.inherits!=="function")throw"";ON.exports=jN.inherits}catch(Z){ON.exports=Co()}var jN});var Nz=R((S80,Oo)=>{var K_1=function(Z){var Y=!1;return function(){if(Y)return;Y=!0;for(var J=arguments.length,X=new Array(J),$=0;$<J;$++)X[$]=arguments[$];Z.apply(this,X)}},H_1=function(){},z_1=function(Z){return Z.setHeader&&typeof Z.abort==="function"},jo=function(Z,Y,J){if(typeof Y==="function")return jo(Z,null,Y);if(!Y)Y={};J=K_1(J||H_1);var X=Y.readable||Y.readable!==!1&&Z.readable,$=Y.writable||Y.writable!==!1&&Z.writable,W=function q(){if(!Z.writable)Q()},G=Z._writableState&&Z._writableState.finished,Q=function q(){if($=!1,G=!0,!X)J.call(Z)},K=Z._readableState&&Z._readableState.endEmitted,H=function q(){if(X=!1,K=!0,!$)J.call(Z)},z=function q(V){J.call(Z,V)},F=function q(){var V;if(X&&!K){if(!Z._readableState||!Z._readableState.ended)V=new Eo;return J.call(Z,V)}if($&&!G){if(!Z._writableState||!Z._writableState.ended)V=new Eo;return J.call(Z,V)}},U=function q(){Z.req.on("finish",Q)};if(z_1(Z))if(Z.on("complete",Q),Z.on("abort",F),Z.req)U();else Z.on("request",U);else if($&&!Z._writableState)Z.on("end",W),Z.on("close",W);if(Z.on("end",H),Z.on("finish",Q),Y.error!==!1)Z.on("error",z);return Z.on("close",F),function(){if(Z.removeListener("complete",Q),Z.removeListener("abort",F),Z.removeListener("request",U),Z.req)Z.req.removeListener("finish",Q);Z.removeListener("end",W),Z.removeListener("close",W),Z.removeListener("finish",Q),Z.removeListener("end",H),Z.removeListener("error",z),Z.removeListener("close",F)}},Eo=RZ().codes.ERR_STREAM_PREMATURE_CLOSE;Oo.exports=jo});var ko=R((k80,So)=>{var wZ=function(Z,Y,J){if(Y=F_1(Y),(Y in Z))Object.defineProperty(Z,Y,{value:J,enumerable:!0,configurable:!0,writable:!0});else Z[Y]=J;return Z},F_1=function(Z){var Y=U_1(Z,"string");return typeof Y==="symbol"?Y:String(Y)},U_1=function(Z,Y){if(typeof Z!=="object"||Z===null)return Z;var J=Z[Symbol.toPrimitive];if(J!==void 0){var X=J.call(Z,Y||"default");if(typeof X!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(Z)},BZ=function(Z,Y){return{value:Z,done:Y}},V_1=function(Z){var Y=Z[MZ];if(Y!==null){var J=Z[l9].read();if(J!==null)Z[p9]=null,Z[MZ]=null,Z[c9]=null,Y(BZ(J,!1))}},L_1=function(Z){process.nextTick(V_1,Z)},R_1=function(Z,Y){return function(J,X){Z.then(function(){if(Y[Dz]){J(BZ(void 0,!0));return}Y[SN](J,X)},X)}},Iz,q_1=Nz(),MZ=Symbol("lastResolve"),c9=Symbol("lastReject"),QW=Symbol("error"),Dz=Symbol("ended"),p9=Symbol("lastPromise"),SN=Symbol("handlePromise"),l9=Symbol("stream"),w_1=Object.getPrototypeOf(function(){}),M_1=Object.setPrototypeOf((Iz={get stream(){return this[l9]},next:function Z(){var Y=this,J=this[QW];if(J!==null)return Promise.reject(J);if(this[Dz])return Promise.resolve(BZ(void 0,!0));if(this[l9].destroyed)return new Promise(function(G,Q){process.nextTick(function(){if(Y[QW])Q(Y[QW]);else G(BZ(void 0,!0))})});var X=this[p9],$;if(X)$=new Promise(R_1(X,this));else{var W=this[l9].read();if(W!==null)return Promise.resolve(BZ(W,!1));$=new Promise(this[SN])}return this[p9]=$,$}},wZ(Iz,Symbol.asyncIterator,function(){return this}),wZ(Iz,"return",function Z(){var Y=this;return new Promise(function(J,X){Y[l9].destroy(null,function($){if($){X($);return}J(BZ(void 0,!0))})})}),Iz),w_1),B_1=function Z(Y){var J,X=Object.create(M_1,(J={},wZ(J,l9,{value:Y,writable:!0}),wZ(J,MZ,{value:null,writable:!0}),wZ(J,c9,{value:null,writable:!0}),wZ(J,QW,{value:null,writable:!0}),wZ(J,Dz,{value:Y._readableState.endEmitted,writable:!0}),wZ(J,SN,{value:function $(W,G){var Q=X[l9].read();if(Q)X[p9]=null,X[MZ]=null,X[c9]=null,W(BZ(Q,!1));else X[MZ]=W,X[c9]=G},writable:!0}),J));return X[p9]=null,q_1(Y,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=X[c9];if(W!==null)X[p9]=null,X[MZ]=null,X[c9]=null,W($);X[QW]=$;return}var G=X[MZ];if(G!==null)X[p9]=null,X[MZ]=null,X[c9]=null,G(BZ(void 0,!0));X[Dz]=!0}),Y.on("readable",L_1.bind(null,X)),X};So.exports=B_1});var yo=R((_80,fo)=>{var _o=function(Z,Y,J,X,$,W,G){try{var Q=Z[W](G),K=Q.value}catch(H){J(H);return}if(Q.done)Y(K);else Promise.resolve(K).then(X,$)},A_1=function(Z){return function(){var Y=this,J=arguments;return new Promise(function(X,$){var W=Z.apply(Y,J);function G(K){_o(W,X,$,G,Q,"next",K)}function Q(K){_o(W,X,$,G,Q,"throw",K)}G(void 0)})}},xo=function(Z,Y){var J=Object.keys(Z);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(Z);Y&&(X=X.filter(function($){return Object.getOwnPropertyDescriptor(Z,$).enumerable})),J.push.apply(J,X)}return J},N_1=function(Z){for(var Y=1;Y<arguments.length;Y++){var J=arguments[Y]!=null?arguments[Y]:{};Y%2?xo(Object(J),!0).forEach(function(X){I_1(Z,X,J[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(J)):xo(Object(J)).forEach(function(X){Object.defineProperty(Z,X,Object.getOwnPropertyDescriptor(J,X))})}return Z},I_1=function(Z,Y,J){if(Y=D_1(Y),(Y in Z))Object.defineProperty(Z,Y,{value:J,enumerable:!0,configurable:!0,writable:!0});else Z[Y]=J;return Z},D_1=function(Z){var Y=P_1(Z,"string");return typeof Y==="symbol"?Y:String(Y)},P_1=function(Z,Y){if(typeof Z!=="object"||Z===null)return Z;var J=Z[Symbol.toPrimitive];if(J!==void 0){var X=J.call(Z,Y||"default");if(typeof X!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(Z)},C_1=function(Z,Y,J){var X;if(Y&&typeof Y.next==="function")X=Y;else if(Y&&Y[Symbol.asyncIterator])X=Y[Symbol.asyncIterator]();else if(Y&&Y[Symbol.iterator])X=Y[Symbol.iterator]();else throw new T_1("iterable",["Iterable"],Y);var $=new Z(N_1({objectMode:!0},J)),W=!1;$._read=function(){if(!W)W=!0,G()};function G(){return Q.apply(this,arguments)}function Q(){return Q=A_1(function*(){try{var K=yield X.next(),H=K.value,z=K.done;if(z)$.push(null);else if($.push(yield H))G();else W=!1}catch(F){$.destroy(F)}}),Q.apply(this,arguments)}return $},T_1=RZ().codes.ERR_INVALID_ARG_TYPE;fo.exports=C_1});var mN=R((f80,io)=>{var j_1=function(Z){return Pz.from(Z)},O_1=function(Z){return Pz.isBuffer(Z)||Z instanceof E_1},b_1=function(Z,Y,J){if(typeof Z.prependListener==="function")return Z.prependListener(Y,J);if(!Z._events||!Z._events[Y])Z.on(Y,J);else if(Array.isArray(Z._events[Y]))Z._events[Y].unshift(J);else Z._events[Y]=[J,Z._events[Y]]},ho=function(Z,Y,J){if(JX=JX||i9(),Z=Z||{},typeof J!=="boolean")J=Y instanceof JX;if(this.objectMode=!!Z.objectMode,J)this.objectMode=this.objectMode||!!Z.readableObjectMode;if(this.highWaterMark=__1(this,Z,"readableHighWaterMark",J),this.buffer=new S_1,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding){if(!XX)XX=IN().StringDecoder;this.decoder=new XX(Z.encoding),this.encoding=Z.encoding}},m1=function(Z){if(JX=JX||i9(),!(this instanceof m1))return new m1(Z);var Y=this instanceof JX;if(this._readableState=new ho(Z,this,Y),this.readable=!0,Z){if(typeof Z.read==="function")this._read=Z.read;if(typeof Z.destroy==="function")this._destroy=Z.destroy}HW.call(this)},mo=function(Z,Y,J,X,$){P1("readableAddChunk",Y);var W=Z._readableState;if(Y===null)W.reading=!1,m_1(Z,W);else{var G;if(!$)G=v_1(W,Y);if(G)KW(Z,G);else if(W.objectMode||Y&&Y.length>0){if(typeof Y!=="string"&&!W.objectMode&&Object.getPrototypeOf(Y)!==Pz.prototype)Y=j_1(Y);if(X)if(W.endEmitted)KW(Z,new g_1);else yN(Z,W,Y,!0);else if(W.ended)KW(Z,new f_1);else if(W.destroyed)return!1;else if(W.reading=!1,W.decoder&&!J)if(Y=W.decoder.write(Y),W.objectMode||Y.length!==0)yN(Z,W,Y,!1);else bN(Z,W);else yN(Z,W,Y,!1)}else if(!X)W.reading=!1,bN(Z,W)}return!W.ended&&(W.length<W.highWaterMark||W.length===0)},yN=function(Z,Y,J,X){if(Y.flowing&&Y.length===0&&!Y.sync)Y.awaitDrain=0,Z.emit("data",J);else{if(Y.length+=Y.objectMode?1:J.length,X)Y.buffer.unshift(J);else Y.buffer.push(J);if(Y.needReadable)Cz(Z)}bN(Z,Y)},v_1=function(Z,Y){var J;if(!O_1(Y)&&typeof Y!=="string"&&Y!==void 0&&!Z.objectMode)J=new x_1("chunk",["string","Buffer","Uint8Array"],Y);return J},h_1=function(Z){if(Z>=go)Z=go;else Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++;return Z},bo=function(Z,Y){if(Z<=0||Y.length===0&&Y.ended)return 0;if(Y.objectMode)return 1;if(Z!==Z)if(Y.flowing&&Y.length)return Y.buffer.head.data.length;else return Y.length;if(Z>Y.highWaterMark)Y.highWaterMark=h_1(Z);if(Z<=Y.length)return Z;if(!Y.ended)return Y.needReadable=!0,0;return Y.length},m_1=function(Z,Y){if(P1("onEofChunk"),Y.ended)return;if(Y.decoder){var J=Y.decoder.end();if(J&&J.length)Y.buffer.push(J),Y.length+=Y.objectMode?1:J.length}if(Y.ended=!0,Y.sync)Cz(Z);else if(Y.needReadable=!1,!Y.emittedReadable)Y.emittedReadable=!0,uo(Z)},Cz=function(Z){var Y=Z._readableState;if(P1("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,!Y.emittedReadable)P1("emitReadable",Y.flowing),Y.emittedReadable=!0,process.nextTick(uo,Z)},uo=function(Z){var Y=Z._readableState;if(P1("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended))Z.emit("readable"),Y.emittedReadable=!1;Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,hN(Z)},bN=function(Z,Y){if(!Y.readingMore)Y.readingMore=!0,process.nextTick(u_1,Z,Y)},u_1=function(Z,Y){while(!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0)){var J=Y.length;if(P1("maybeReadMore read 0"),Z.read(0),J===Y.length)break}Y.readingMore=!1},d_1=function(Z){return function Y(){var J=Z._readableState;if(P1("pipeOnDrain",J.awaitDrain),J.awaitDrain)J.awaitDrain--;if(J.awaitDrain===0&&vo(Z,"data"))J.flowing=!0,hN(Z)}},co=function(Z){var Y=Z._readableState;if(Y.readableListening=Z.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused)Y.flowing=!0;else if(Z.listenerCount("data")>0)Z.resume()},c_1=function(Z){P1("readable nexttick read 0"),Z.read(0)},p_1=function(Z,Y){if(!Y.resumeScheduled)Y.resumeScheduled=!0,process.nextTick(l_1,Z,Y)},l_1=function(Z,Y){if(P1("resume",Y.reading),!Y.reading)Z.read(0);if(Y.resumeScheduled=!1,Z.emit("resume"),hN(Z),Y.flowing&&!Y.reading)Z.read(0)},hN=function(Z){var Y=Z._readableState;P1("flow",Y.flowing);while(Y.flowing&&Z.read()!==null);},po=function(Z,Y){if(Y.length===0)return null;var J;if(Y.objectMode)J=Y.buffer.shift();else if(!Z||Z>=Y.length){if(Y.decoder)J=Y.buffer.join("");else if(Y.buffer.length===1)J=Y.buffer.first();else J=Y.buffer.concat(Y.length);Y.buffer.clear()}else J=Y.buffer.consume(Z,Y.decoder);return J},gN=function(Z){var Y=Z._readableState;if(P1("endReadable",Y.endEmitted),!Y.endEmitted)Y.ended=!0,process.nextTick(i_1,Y,Z)},i_1=function(Z,Y){if(P1("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&Z.length===0){if(Z.endEmitted=!0,Y.readable=!1,Y.emit("end"),Z.autoDestroy){var J=Y._writableState;if(!J||J.autoDestroy&&J.finished)Y.destroy()}}},lo=function(Z,Y){for(var J=0,X=Z.length;J<X;J++)if(Z[J]===Y)return J;return-1};io.exports=m1;var JX;m1.ReadableState=ho;var x80=import.meta.require("events").EventEmitter,vo=function Z(Y,J){return Y.listeners(J).length},HW=import.meta.require("stream"),Pz=import.meta.require("buffer").Buffer,E_1=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){},kN=import.meta.require("util"),P1;if(kN&&kN.debuglog)P1=kN.debuglog("stream");else P1=function Z(){};var S_1=Bo(),vN=TN(),k_1=CN(),__1=k_1.getHighWaterMark,Tz=RZ().codes,x_1=Tz.ERR_INVALID_ARG_TYPE,f_1=Tz.ERR_STREAM_PUSH_AFTER_EOF,y_1=Tz.ERR_METHOD_NOT_IMPLEMENTED,g_1=Tz.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,XX,_N,xN;YX()(m1,HW);var KW=vN.errorOrDestroy,fN=["error","close","destroy","pause","resume"];Object.defineProperty(m1.prototype,"destroyed",{enumerable:!1,get:function Z(){if(this._readableState===void 0)return!1;return this._readableState.destroyed},set:function Z(Y){if(!this._readableState)return;this._readableState.destroyed=Y}});m1.prototype.destroy=vN.destroy;m1.prototype._undestroy=vN.undestroy;m1.prototype._destroy=function(Z,Y){Y(Z)};m1.prototype.push=function(Z,Y){var J=this._readableState,X;if(!J.objectMode){if(typeof Z==="string"){if(Y=Y||J.defaultEncoding,Y!==J.encoding)Z=Pz.from(Z,Y),Y="";X=!0}}else X=!0;return mo(this,Z,Y,!1,X)};m1.prototype.unshift=function(Z){return mo(this,Z,null,!0,!1)};m1.prototype.isPaused=function(){return this._readableState.flowing===!1};m1.prototype.setEncoding=function(Z){if(!XX)XX=IN().StringDecoder;var Y=new XX(Z);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;var J=this._readableState.buffer.head,X="";while(J!==null)X+=Y.write(J.data),J=J.next;if(this._readableState.buffer.clear(),X!=="")this._readableState.buffer.push(X);return this._readableState.length=X.length,this};var go=1073741824;m1.prototype.read=function(Z){P1("read",Z),Z=parseInt(Z,10);var Y=this._readableState,J=Z;if(Z!==0)Y.emittedReadable=!1;if(Z===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended)){if(P1("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended)gN(this);else Cz(this);return null}if(Z=bo(Z,Y),Z===0&&Y.ended){if(Y.length===0)gN(this);return null}var X=Y.needReadable;if(P1("need readable",X),Y.length===0||Y.length-Z<Y.highWaterMark)X=!0,P1("length less than watermark",X);if(Y.ended||Y.reading)X=!1,P1("reading or ended",X);else if(X){if(P1("do read"),Y.reading=!0,Y.sync=!0,Y.length===0)Y.needReadable=!0;if(this._read(Y.highWaterMark),Y.sync=!1,!Y.reading)Z=bo(J,Y)}var $;if(Z>0)$=po(Z,Y);else $=null;if($===null)Y.needReadable=Y.length<=Y.highWaterMark,Z=0;else Y.length-=Z,Y.awaitDrain=0;if(Y.length===0){if(!Y.ended)Y.needReadable=!0;if(J!==Z&&Y.ended)gN(this)}if($!==null)this.emit("data",$);return $};m1.prototype._read=function(Z){KW(this,new y_1("_read()"))};m1.prototype.pipe=function(Z,Y){var J=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=Z;break;case 1:X.pipes=[X.pipes,Z];break;default:X.pipes.push(Z);break}X.pipesCount+=1,P1("pipe count=%d opts=%j",X.pipesCount,Y);var $=(!Y||Y.end!==!1)&&Z!==process.stdout&&Z!==process.stderr,W=$?Q:L;if(X.endEmitted)process.nextTick(W);else J.once("end",W);Z.on("unpipe",G);function G(w,B){if(P1("onunpipe"),w===J){if(B&&B.hasUnpiped===!1)B.hasUnpiped=!0,z()}}function Q(){P1("onend"),Z.end()}var K=d_1(J);Z.on("drain",K);var H=!1;function z(){if(P1("cleanup"),Z.removeListener("close",q),Z.removeListener("finish",V),Z.removeListener("drain",K),Z.removeListener("error",U),Z.removeListener("unpipe",G),J.removeListener("end",Q),J.removeListener("end",L),J.removeListener("data",F),H=!0,X.awaitDrain&&(!Z._writableState||Z._writableState.needDrain))K()}J.on("data",F);function F(w){P1("ondata");var B=Z.write(w);if(P1("dest.write",B),B===!1){if((X.pipesCount===1&&X.pipes===Z||X.pipesCount>1&&lo(X.pipes,Z)!==-1)&&!H)P1("false write response, pause",X.awaitDrain),X.awaitDrain++;J.pause()}}function U(w){if(P1("onerror",w),L(),Z.removeListener("error",U),vo(Z,"error")===0)KW(Z,w)}b_1(Z,"error",U);function q(){Z.removeListener("finish",V),L()}Z.once("close",q);function V(){P1("onfinish"),Z.removeListener("close",q),L()}Z.once("finish",V);function L(){P1("unpipe"),J.unpipe(Z)}if(Z.emit("pipe",J),!X.flowing)P1("pipe resume"),J.resume();return Z};m1.prototype.unpipe=function(Z){var Y=this._readableState,J={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1){if(Z&&Z!==Y.pipes)return this;if(!Z)Z=Y.pipes;if(Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,Z)Z.emit("unpipe",this,J);return this}if(!Z){var{pipes:X,pipesCount:$}=Y;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var W=0;W<$;W++)X[W].emit("unpipe",this,{hasUnpiped:!1});return this}var G=lo(Y.pipes,Z);if(G===-1)return this;if(Y.pipes.splice(G,1),Y.pipesCount-=1,Y.pipesCount===1)Y.pipes=Y.pipes[0];return Z.emit("unpipe",this,J),this};m1.prototype.on=function(Z,Y){var J=HW.prototype.on.call(this,Z,Y),X=this._readableState;if(Z==="data"){if(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1)this.resume()}else if(Z==="readable"){if(!X.endEmitted&&!X.readableListening){if(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,P1("on readable",X.length,X.reading),X.length)Cz(this);else if(!X.reading)process.nextTick(c_1,this)}}return J};m1.prototype.addListener=m1.prototype.on;m1.prototype.removeListener=function(Z,Y){var J=HW.prototype.removeListener.call(this,Z,Y);if(Z==="readable")process.nextTick(co,this);return J};m1.prototype.removeAllListeners=function(Z){var Y=HW.prototype.removeAllListeners.apply(this,arguments);if(Z==="readable"||Z===void 0)process.nextTick(co,this);return Y};m1.prototype.resume=function(){var Z=this._readableState;if(!Z.flowing)P1("resume"),Z.flowing=!Z.readableListening,p_1(this,Z);return Z.paused=!1,this};m1.prototype.pause=function(){if(P1("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)P1("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState.paused=!0,this};m1.prototype.wrap=function(Z){var Y=this,J=this._readableState,X=!1;Z.on("end",function(){if(P1("wrapped end"),J.decoder&&!J.ended){var G=J.decoder.end();if(G&&G.length)Y.push(G)}Y.push(null)}),Z.on("data",function(G){if(P1("wrapped data"),J.decoder)G=J.decoder.write(G);if(J.objectMode&&(G===null||G===void 0))return;else if(!J.objectMode&&(!G||!G.length))return;var Q=Y.push(G);if(!Q)X=!0,Z.pause()});for(var $ in Z)if(this[$]===void 0&&typeof Z[$]==="function")this[$]=function G(Q){return function K(){return Z[Q].apply(Z,arguments)}}($);for(var W=0;W<fN.length;W++)Z.on(fN[W],this.emit.bind(this,fN[W]));return this._read=function(G){if(P1("wrapped _read",G),X)X=!1,Z.resume()},this};if(typeof Symbol==="function")m1.prototype[Symbol.asyncIterator]=function(){if(_N===void 0)_N=ko();return _N(this)};Object.defineProperty(m1.prototype,"readableHighWaterMark",{enumerable:!1,get:function Z(){return this._readableState.highWaterMark}});Object.defineProperty(m1.prototype,"readableBuffer",{enumerable:!1,get:function Z(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(m1.prototype,"readableFlowing",{enumerable:!1,get:function Z(){return this._readableState.flowing},set:function Z(Y){if(this._readableState)this._readableState.flowing=Y}});m1._fromList=po;Object.defineProperty(m1.prototype,"readableLength",{enumerable:!1,get:function Z(){return this._readableState.length}});if(typeof Symbol==="function")m1.from=function(Z,Y){if(xN===void 0)xN=yo();return xN(m1,Z,Y)}});var i9=R((y80,ao)=>{var I4=function(Z){if(!(this instanceof I4))return new I4(Z);if(no.call(this,Z),dN.call(this,Z),this.allowHalfOpen=!0,Z){if(Z.readable===!1)this.readable=!1;if(Z.writable===!1)this.writable=!1;if(Z.allowHalfOpen===!1)this.allowHalfOpen=!1,this.once("end",a_1)}},a_1=function(){if(this._writableState.ended)return;process.nextTick(s_1,this)},s_1=function(Z){Z.end()},n_1=Object.keys||function(Z){var Y=[];for(var J in Z)Y.push(J);return Y};ao.exports=I4;var no=mN(),dN=Oz();YX()(I4,no);{uN=n_1(dN.prototype);for(Ez=0;Ez<uN.length;Ez++)if(jz=uN[Ez],!I4.prototype[jz])I4.prototype[jz]=dN.prototype[jz]}var uN,jz,Ez;Object.defineProperty(I4.prototype,"writableHighWaterMark",{enumerable:!1,get:function Z(){return this._writableState.highWaterMark}});Object.defineProperty(I4.prototype,"writableBuffer",{enumerable:!1,get:function Z(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(I4.prototype,"writableLength",{enumerable:!1,get:function Z(){return this._writableState.length}});Object.defineProperty(I4.prototype,"destroyed",{enumerable:!1,get:function Z(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set:function Z(Y){if(this._readableState===void 0||this._writableState===void 0)return;this._readableState.destroyed=Y,this._writableState.destroyed=Y}})});var ro=R((g80,so)=>{so.exports=import.meta.require("util").deprecate});var Oz=R((b80,Je)=>{var oo=function(Z){var Y=this;this.next=null,this.entry=null,this.finish=function(){Ix1(Y,Z)}},o_1=function(Z){return kz.from(Z)},e_1=function(Z){return kz.isBuffer(Z)||Z instanceof t_1},zx1=function(){},FW=function(Z,Y,J){if($X=$X||i9(),Z=Z||{},typeof J!=="boolean")J=Y instanceof $X;if(this.objectMode=!!Z.objectMode,J)this.objectMode=this.objectMode||!!Z.writableObjectMode;this.highWaterMark=Yx1(this,Z,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=Z.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){wx1(Y,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new oo(this)},T0=function(Z){$X=$X||i9();var Y=this instanceof $X;if(!Y&&!Sz.call(T0,this))return new T0(Z);if(this._writableState=new FW(Z,this,Y),this.writable=!0,Z){if(typeof Z.write==="function")this._write=Z.write;if(typeof Z.writev==="function")this._writev=Z.writev;if(typeof Z.destroy==="function")this._destroy=Z.destroy;if(typeof Z.final==="function")this._final=Z.final}eo.call(this)},Fx1=function(Z,Y){var J=new Kx1;WX(Z,J),process.nextTick(Y,J)},Ux1=function(Z,Y,J,X){var $;if(J===null)$=new Qx1;else if(typeof J!=="string"&&!Y.objectMode)$=new Jx1("chunk",["string","Buffer"],J);if($)return WX(Z,$),process.nextTick(X,$),!1;return!0},qx1=function(Z,Y,J){if(!Z.objectMode&&Z.decodeStrings!==!1&&typeof Y==="string")Y=kz.from(Y,J);return Y},Vx1=function(Z,Y,J,X,$,W){if(!J){var G=qx1(Y,X,$);if(X!==G)J=!0,$="buffer",X=G}var Q=Y.objectMode?1:X.length;Y.length+=Q;var K=Y.length<Y.highWaterMark;if(!K)Y.needDrain=!0;if(Y.writing||Y.corked){var H=Y.lastBufferedRequest;if(Y.lastBufferedRequest={chunk:X,encoding:$,isBuf:J,callback:W,next:null},H)H.next=Y.lastBufferedRequest;else Y.bufferedRequest=Y.lastBufferedRequest;Y.bufferedRequestCount+=1}else cN(Z,Y,!1,Q,X,$,W);return K},cN=function(Z,Y,J,X,$,W,G){if(Y.writelen=X,Y.writecb=G,Y.writing=!0,Y.sync=!0,Y.destroyed)Y.onwrite(new Gx1("write"));else if(J)Z._writev($,Y.onwrite);else Z._write($,W,Y.onwrite);Y.sync=!1},Lx1=function(Z,Y,J,X,$){if(--Y.pendingcb,J)process.nextTick($,X),process.nextTick(zW,Z,Y),Z._writableState.errorEmitted=!0,WX(Z,X);else $(X),Z._writableState.errorEmitted=!0,WX(Z,X),zW(Z,Y)},Rx1=function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0},wx1=function(Z,Y){var J=Z._writableState,X=J.sync,$=J.writecb;if(typeof $!=="function")throw new $x1;if(Rx1(J),Y)Lx1(Z,J,X,Y,$);else{var W=Ye(J)||Z.destroyed;if(!W&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest)Ze(Z,J);if(X)process.nextTick(to,Z,J,W,$);else to(Z,J,W,$)}},to=function(Z,Y,J,X){if(!J)Mx1(Z,Y);Y.pendingcb--,X(),zW(Z,Y)},Mx1=function(Z,Y){if(Y.length===0&&Y.needDrain)Y.needDrain=!1,Z.emit("drain")},Ze=function(Z,Y){Y.bufferProcessing=!0;var J=Y.bufferedRequest;if(Z._writev&&J&&J.next){var X=Y.bufferedRequestCount,$=new Array(X),W=Y.corkedRequestsFree;W.entry=J;var G=0,Q=!0;while(J){if($[G]=J,!J.isBuf)Q=!1;J=J.next,G+=1}if($.allBuffers=Q,cN(Z,Y,!0,Y.length,$,"",W.finish),Y.pendingcb++,Y.lastBufferedRequest=null,W.next)Y.corkedRequestsFree=W.next,W.next=null;else Y.corkedRequestsFree=new oo(Y);Y.bufferedRequestCount=0}else{while(J){var{chunk:K,encoding:H,callback:z}=J,F=Y.objectMode?1:K.length;if(cN(Z,Y,!1,F,K,H,z),J=J.next,Y.bufferedRequestCount--,Y.writing)break}if(J===null)Y.lastBufferedRequest=null}Y.bufferedRequest=J,Y.bufferProcessing=!1},Ye=function(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing},Bx1=function(Z,Y){Z._final(function(J){if(Y.pendingcb--,J)WX(Z,J);Y.prefinished=!0,Z.emit("prefinish"),zW(Z,Y)})},Ax1=function(Z,Y){if(!Y.prefinished&&!Y.finalCalled)if(typeof Z._final==="function"&&!Y.destroyed)Y.pendingcb++,Y.finalCalled=!0,process.nextTick(Bx1,Z,Y);else Y.prefinished=!0,Z.emit("prefinish")},zW=function(Z,Y){var J=Ye(Y);if(J){if(Ax1(Z,Y),Y.pendingcb===0){if(Y.finished=!0,Z.emit("finish"),Y.autoDestroy){var X=Z._readableState;if(!X||X.autoDestroy&&X.endEmitted)Z.destroy()}}}return J},Nx1=function(Z,Y,J){if(Y.ending=!0,zW(Z,Y),J)if(Y.finished)process.nextTick(J);else Z.once("finish",J);Y.ended=!0,Z.writable=!1},Ix1=function(Z,Y,J){var X=Z.entry;Z.entry=null;while(X){var $=X.callback;Y.pendingcb--,$(J),X=X.next}Y.corkedRequestsFree.next=Z};Je.exports=T0;var $X;T0.WritableState=FW;var r_1={deprecate:ro()},eo=import.meta.require("stream"),kz=import.meta.require("buffer").Buffer,t_1=(typeof global!=="undefined"?global:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){},pN=TN(),Zx1=CN(),Yx1=Zx1.getHighWaterMark,AZ=RZ().codes,Jx1=AZ.ERR_INVALID_ARG_TYPE,Xx1=AZ.ERR_METHOD_NOT_IMPLEMENTED,$x1=AZ.ERR_MULTIPLE_CALLBACK,Wx1=AZ.ERR_STREAM_CANNOT_PIPE,Gx1=AZ.ERR_STREAM_DESTROYED,Qx1=AZ.ERR_STREAM_NULL_VALUES,Kx1=AZ.ERR_STREAM_WRITE_AFTER_END,Hx1=AZ.ERR_UNKNOWN_ENCODING,WX=pN.errorOrDestroy;YX()(T0,eo);FW.prototype.getBuffer=function Z(){var Y=this.bufferedRequest,J=[];while(Y)J.push(Y),Y=Y.next;return J};(function(){try{Object.defineProperty(FW.prototype,"buffer",{get:r_1.deprecate(function Z(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Z){}})();var Sz;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function")Sz=Function.prototype[Symbol.hasInstance],Object.defineProperty(T0,Symbol.hasInstance,{value:function Z(Y){if(Sz.call(this,Y))return!0;if(this!==T0)return!1;return Y&&Y._writableState instanceof FW}});else Sz=function Z(Y){return Y instanceof this};T0.prototype.pipe=function(){WX(this,new Wx1)};T0.prototype.write=function(Z,Y,J){var X=this._writableState,$=!1,W=!X.objectMode&&e_1(Z);if(W&&!kz.isBuffer(Z))Z=o_1(Z);if(typeof Y==="function")J=Y,Y=null;if(W)Y="buffer";else if(!Y)Y=X.defaultEncoding;if(typeof J!=="function")J=zx1;if(X.ending)Fx1(this,J);else if(W||Ux1(this,X,Z,J))X.pendingcb++,$=Vx1(this,X,W,Z,Y,J);return $};T0.prototype.cork=function(){this._writableState.corked++};T0.prototype.uncork=function(){var Z=this._writableState;if(Z.corked){if(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest)Ze(this,Z)}};T0.prototype.setDefaultEncoding=function Z(Y){if(typeof Y==="string")Y=Y.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new Hx1(Y);return this._writableState.defaultEncoding=Y,this};Object.defineProperty(T0.prototype,"writableBuffer",{enumerable:!1,get:function Z(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(T0.prototype,"writableHighWaterMark",{enumerable:!1,get:function Z(){return this._writableState.highWaterMark}});T0.prototype._write=function(Z,Y,J){J(new Xx1("_write()"))};T0.prototype._writev=null;T0.prototype.end=function(Z,Y,J){var X=this._writableState;if(typeof Z==="function")J=Z,Z=null,Y=null;else if(typeof Y==="function")J=Y,Y=null;if(Z!==null&&Z!==void 0)this.write(Z,Y);if(X.corked)X.corked=1,this.uncork();if(!X.ending)Nx1(this,X,J);return this};Object.defineProperty(T0.prototype,"writableLength",{enumerable:!1,get:function Z(){return this._writableState.length}});Object.defineProperty(T0.prototype,"destroyed",{enumerable:!1,get:function Z(){if(this._writableState===void 0)return!1;return this._writableState.destroyed},set:function Z(Y){if(!this._writableState)return;this._writableState.destroyed=Y}});T0.prototype.destroy=pN.destroy;T0.prototype._undestroy=pN.undestroy;T0.prototype._destroy=function(Z,Y){Y(Z)}});var iN=R((v80,$e)=>{var Dx1=import.meta.require("util"),{LEVEL:lN}=v0(),Xe=n9(),UW=$e.exports=function Z(Y={}){if(Xe.call(this,Y),!Y.transport||typeof Y.transport.log!=="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=Y.transport,this.level=this.level||Y.transport.level,this.handleExceptions=this.handleExceptions||Y.transport.handleExceptions,this._deprecated();function J(X){this.emit("error",X,this.transport)}if(!this.transport.__winstonError)this.transport.__winstonError=J.bind(this),this.transport.on("error",this.transport.__winstonError)};Dx1.inherits(UW,Xe);UW.prototype._write=function Z(Y,J,X){if(this.silent||Y.exception===!0&&!this.handleExceptions)return X(null);if(!this.level||this.levels[this.level]>=this.levels[Y[lN]])this.transport.log(Y[lN],Y.message,Y,this._nop);X(null)};UW.prototype._writev=function Z(Y,J){for(let X=0;X<Y.length;X++)if(this._accept(Y[X]))this.transport.log(Y[X].chunk[lN],Y[X].chunk.message,Y[X].chunk,this._nop),Y[X].callback();return J(null)};UW.prototype._deprecated=function Z(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))};UW.prototype.close=function Z(){if(this.transport.close)this.transport.close();if(this.transport.__winstonError)this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null}});var n9=R((h80,nN)=>{var Px1=import.meta.require("util"),We=Oz(),{LEVEL:Ge}=v0(),qW=nN.exports=function Z(Y={}){if(We.call(this,{objectMode:!0,highWaterMark:Y.highWaterMark}),this.format=Y.format,this.level=Y.level,this.handleExceptions=Y.handleExceptions,this.handleRejections=Y.handleRejections,this.silent=Y.silent,Y.log)this.log=Y.log;if(Y.logv)this.logv=Y.logv;if(Y.close)this.close=Y.close;this.once("pipe",(J)=>{this.levels=J.levels,this.parent=J}),this.once("unpipe",(J)=>{if(J===this.parent){if(this.parent=null,this.close)this.close()}})};Px1.inherits(qW,We);qW.prototype._write=function Z(Y,J,X){if(this.silent||Y.exception===!0&&!this.handleExceptions)return X(null);const $=this.level||this.parent&&this.parent.level;if(!$||this.levels[$]>=this.levels[Y[Ge]]){if(Y&&!this.format)return this.log(Y,X);let W,G;try{G=this.format.transform(Object.assign({},Y),this.format.options)}catch(Q){W=Q}if(W||!G){if(X(),W)throw W;return}return this.log(G,X)}return this._writableState.sync=!1,X(null)};qW.prototype._writev=function Z(Y,J){if(this.logv){const X=Y.filter(this._accept,this);if(!X.length)return J(null);return this.logv(X,J)}for(let X=0;X<Y.length;X++){if(!this._accept(Y[X]))continue;if(Y[X].chunk&&!this.format){this.log(Y[X].chunk,Y[X].callback);continue}let $,W;try{W=this.format.transform(Object.assign({},Y[X].chunk),this.format.options)}catch(G){$=G}if($||!W){if(Y[X].callback(),$)throw J(null),$}else this.log(W,Y[X].callback)}return J(null)};qW.prototype._accept=function Z(Y){const J=Y.chunk;if(this.silent)return!1;const X=this.level||this.parent&&this.parent.level;if(J.exception===!0||!X||this.levels[X]>=this.levels[J[Ge]]){if(this.handleExceptions||J.exception!==!0)return!0}return!1};qW.prototype._nop=function Z(){return};nN.exports.LegacyTransportStream=iN()});var He=R((m80,Ke)=>{var Tx1=import.meta.require("os"),{LEVEL:Qe,MESSAGE:GX}=v0(),Cx1=n9();Ke.exports=class Z extends Cx1{constructor(Y={}){super(Y);this.name=Y.name||"console",this.stderrLevels=this._stringArrayToSet(Y.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(Y.consoleWarnLevels),this.eol=typeof Y.eol==="string"?Y.eol:Tx1.EOL,this.setMaxListeners(30)}log(Y,J){if(setImmediate(()=>this.emit("logged",Y)),this.stderrLevels[Y[Qe]]){if(console._stderr)console._stderr.write(`${Y[GX]}${this.eol}`);else console.error(Y[GX]);if(J)J();return}else if(this.consoleWarnLevels[Y[Qe]]){if(console._stderr)console._stderr.write(`${Y[GX]}${this.eol}`);else console.warn(Y[GX]);if(J)J();return}if(console._stdout)console._stdout.write(`${Y[GX]}${this.eol}`);else console.log(Y[GX]);if(J)J()}_stringArrayToSet(Y,J){if(!Y)return{};if(J=J||"Cannot make set from type other than Array of string elements",!Array.isArray(Y))throw new Error(J);return Y.reduce((X,$)=>{if(typeof $!=="string")throw new Error(J);return X[$]=!0,X},{})}}});var _z=R((aN,ze)=>{var Ex1=function(Z){return Z&&typeof Z.length==="number"&&Z.length>=0&&Z.length%1===0};Object.defineProperty(aN,"__esModule",{value:!0});aN.default=Ex1;ze.exports=aN.default});var Ue=R((sN,Fe)=>{Object.defineProperty(sN,"__esModule",{value:!0});sN.default=function(Z){return function(...Y){var J=Y.pop();return Z.call(this,Y,J)}};Fe.exports=sN.default});var Re=R((Le)=>{var qe=function(Z){setTimeout(Z,0)},Ve=function(Z){return(Y,...J)=>Z(()=>Y(...J))};Object.defineProperty(Le,"__esModule",{value:!0});Le.fallback=qe;Le.wrap=Ve;var Sx1=Le.hasQueueMicrotask=typeof queueMicrotask==="function"&&queueMicrotask,kx1=Le.hasSetImmediate=typeof setImmediate==="function"&&setImmediate,_x1=Le.hasNextTick=typeof process==="object"&&typeof process.nextTick==="function",VW;if(Sx1)VW=queueMicrotask;else if(kx1)VW=setImmediate;else if(_x1)VW=process.nextTick;else VW=qe;Le.default=Ve(VW)});var Ne=R((rN,Ae)=>{var Be=function(Z){return Z&&Z.__esModule?Z:{default:Z}},ux1=function(Z){if((0,mx1.isAsync)(Z))return function(...Y){const J=Y.pop(),X=Z.apply(this,Y);return we(X,J)};return(0,bx1.default)(function(Y,J){var X;try{X=Z.apply(this,Y)}catch($){return J($)}if(X&&typeof X.then==="function")return we(X,J);else J(null,X)})},we=function(Z,Y){return Z.then((J)=>{Me(Y,null,J)},(J)=>{Me(Y,J&&(J instanceof Error||J.message)?J:new Error(J))})},Me=function(Z,Y,J){try{Z(Y,J)}catch(X){(0,hx1.default)(($)=>{throw $},X)}};Object.defineProperty(rN,"__esModule",{value:!0});rN.default=ux1;var gx1=Ue(),bx1=Be(gx1),vx1=Re(),hx1=Be(vx1),mx1=a9();Ae.exports=rN.default});var a9=R((De)=>{var lx1=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Ie=function(Z){return Z[Symbol.toStringTag]==="AsyncFunction"},ix1=function(Z){return Z[Symbol.toStringTag]==="AsyncGenerator"},nx1=function(Z){return typeof Z[Symbol.asyncIterator]==="function"},ax1=function(Z){if(typeof Z!=="function")throw new Error("expected a function");return Ie(Z)?(0,px1.default)(Z):Z};Object.defineProperty(De,"__esModule",{value:!0});De.isAsyncIterable=De.isAsyncGenerator=De.isAsync=void 0;var cx1=Ne(),px1=lx1(cx1);De.default=ax1;De.isAsync=Ie;De.isAsyncGenerator=ix1;De.isAsyncIterable=nx1});var QX=R((tN,Te)=>{var ox1=function(Z,Y){if(!Y)Y=Z.length;if(!Y)throw new Error("arity is undefined");function J(...X){if(typeof X[Y-1]==="function")return Z.apply(this,X);return new Promise(($,W)=>{X[Y-1]=(G,...Q)=>{if(G)return W(G);$(Q.length>1?Q:Q[0])},Z.apply(this,X)})}return J};Object.defineProperty(tN,"__esModule",{value:!0});tN.default=ox1;Te.exports=tN.default});var Ee=R((eN,Ce)=>{var oN=function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(eN,"__esModule",{value:!0});var Zf1=_z(),Yf1=oN(Zf1),Jf1=a9(),Xf1=oN(Jf1),$f1=QX(),Wf1=oN($f1);eN.default=(0,Wf1.default)((Z,Y,J)=>{var X=(0,Yf1.default)(Y)?[]:{};Z(Y,($,W,G)=>{(0,Xf1.default)($)((Q,...K)=>{if(K.length<2)[K]=K;X[W]=K,G(Q)})},($)=>J($,X))},3);Ce.exports=eN.default});var Y2=R((Z2,je)=>{var Qf1=function(Z){function Y(...J){if(Z===null)return;var X=Z;Z=null,X.apply(this,J)}return Object.assign(Y,Z),Y};Object.defineProperty(Z2,"__esModule",{value:!0});Z2.default=Qf1;je.exports=Z2.default});var Se=R((J2,Oe)=>{Object.defineProperty(J2,"__esModule",{value:!0});J2.default=function(Z){return Z[Symbol.iterator]&&Z[Symbol.iterator]()};Oe.exports=J2.default});var xe=R((X2,_e)=>{var ke=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Vf1=function(Z){var Y=-1,J=Z.length;return function X(){return++Y<J?{value:Z[Y],key:Y}:null}},Lf1=function(Z){var Y=-1;return function J(){var X=Z.next();if(X.done)return null;return Y++,{value:X.value,key:Y}}},Rf1=function(Z){var Y=Z?Object.keys(Z):[],J=-1,X=Y.length;return function $(){var W=Y[++J];if(W==="__proto__")return $();return J<X?{value:Z[W],key:W}:null}},wf1=function(Z){if((0,Ff1.default)(Z))return Vf1(Z);var Y=(0,qf1.default)(Z);return Y?Lf1(Y):Rf1(Z)};Object.defineProperty(X2,"__esModule",{value:!0});X2.default=wf1;var zf1=_z(),Ff1=ke(zf1),Uf1=Se(),qf1=ke(Uf1);_e.exports=X2.default});var W2=R(($2,fe)=>{var Bf1=function(Z){return function(...Y){if(Z===null)throw new Error("Callback was already called.");var J=Z;Z=null,J.apply(this,Y)}};Object.defineProperty($2,"__esModule",{value:!0});$2.default=Bf1;fe.exports=$2.default});var xz=R((G2,ye)=>{Object.defineProperty(G2,"__esModule",{value:!0});var Nf1={};G2.default=Nf1;ye.exports=G2.default});var be=R((Q2,ge)=>{var Tf1=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Cf1=function(Z,Y,J,X){let $=!1,W=!1,G=!1,Q=0,K=0;function H(){if(Q>=Y||G||$)return;G=!0,Z.next().then(({value:U,done:q})=>{if(W||$)return;if(G=!1,q){if($=!0,Q<=0)X(null);return}Q++,J(U,K,z),K++,H()}).catch(F)}function z(U,q){if(Q-=1,W)return;if(U)return F(U);if(U===!1){$=!0,W=!0;return}if(q===Pf1.default||$&&Q<=0)return $=!0,X(null);H()}function F(U){if(W)return;G=!1,$=!0,X(U)}H()};Object.defineProperty(Q2,"__esModule",{value:!0});Q2.default=Cf1;var Df1=xz(),Pf1=Tf1(Df1);ge.exports=Q2.default});var ue=R((K2,me)=>{var LW=function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(K2,"__esModule",{value:!0});var jf1=Y2(),Of1=LW(jf1),Sf1=xe(),kf1=LW(Sf1),_f1=W2(),xf1=LW(_f1),ve=a9(),ff1=be(),he=LW(ff1),yf1=xz(),gf1=LW(yf1);K2.default=(Z)=>{return(Y,J,X)=>{if(X=(0,Of1.default)(X),Z<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!Y)return X(null);if((0,ve.isAsyncGenerator)(Y))return(0,he.default)(Y,Z,J,X);if((0,ve.isAsyncIterable)(Y))return(0,he.default)(Y[Symbol.asyncIterator](),Z,J,X);var $=(0,kf1.default)(Y),W=!1,G=!1,Q=0,K=!1;function H(F,U){if(G)return;if(Q-=1,F)W=!0,X(F);else if(F===!1)W=!0,G=!0;else if(U===gf1.default||W&&Q<=0)return W=!0,X(null);else if(!K)z()}function z(){K=!0;while(Q<Z&&!W){var F=$();if(F===null){if(W=!0,Q<=0)X(null);return}Q+=1,J(F.value,F.key,(0,xf1.default)(H))}K=!1}z()}};me.exports=K2.default});var F2=R((z2,de)=>{var H2=function(Z){return Z&&Z.__esModule?Z:{default:Z}},pf1=function(Z,Y,J,X){return(0,hf1.default)(Y)(Z,(0,uf1.default)(J),X)};Object.defineProperty(z2,"__esModule",{value:!0});var vf1=ue(),hf1=H2(vf1),mf1=a9(),uf1=H2(mf1),df1=QX(),cf1=H2(df1);z2.default=(0,cf1.default)(pf1,4);de.exports=z2.default});var le=R((U2,pe)=>{var ce=function(Z){return Z&&Z.__esModule?Z:{default:Z}},rf1=function(Z,Y,J){return(0,nf1.default)(Z,1,Y,J)};Object.defineProperty(U2,"__esModule",{value:!0});var if1=F2(),nf1=ce(if1),af1=QX(),sf1=ce(af1);U2.default=(0,sf1.default)(rf1,3);pe.exports=U2.default});var ae=R((q2,ne)=>{var ie=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Jy1=function(Z,Y){return(0,ef1.default)(Yy1.default,Z,Y)};Object.defineProperty(q2,"__esModule",{value:!0});q2.default=Jy1;var of1=Ee(),ef1=ie(of1),Zy1=le(),Yy1=ie(Zy1);ne.exports=q2.default});var V2=R((i80,re)=>{var Ky1=function(Z,Y){var J=this._transformState;J.transforming=!1;var X=J.writecb;if(X===null)return this.emit("error",new Wy1);if(J.writechunk=null,J.writecb=null,Y!=null)this.push(Y);X(Z);var $=this._readableState;if($.reading=!1,$.needReadable||$.length<$.highWaterMark)this._read($.highWaterMark)},Q5=function(Z){if(!(this instanceof Q5))return new Q5(Z);if(yz.call(this,Z),this._transformState={afterTransform:Ky1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Z){if(typeof Z.transform==="function")this._transform=Z.transform;if(typeof Z.flush==="function")this._flush=Z.flush}this.on("prefinish",Hy1)},Hy1=function(){var Z=this;if(typeof this._flush==="function"&&!this._readableState.destroyed)this._flush(function(Y,J){se(Z,Y,J)});else se(this,null,null)},se=function(Z,Y,J){if(Y)return Z.emit("error",Y);if(J!=null)Z.push(J);if(Z._writableState.length)throw new Qy1;if(Z._transformState.transforming)throw new Gy1;return Z.push(null)};re.exports=Q5;var fz=RZ().codes,$y1=fz.ERR_METHOD_NOT_IMPLEMENTED,Wy1=fz.ERR_MULTIPLE_CALLBACK,Gy1=fz.ERR_TRANSFORM_ALREADY_TRANSFORMING,Qy1=fz.ERR_TRANSFORM_WITH_LENGTH_0,yz=i9();YX()(Q5,yz);Q5.prototype.push=function(Z,Y){return this._transformState.needTransform=!1,yz.prototype.push.call(this,Z,Y)};Q5.prototype._transform=function(Z,Y,J){J(new $y1("_transform()"))};Q5.prototype._write=function(Z,Y,J){var X=this._transformState;if(X.writecb=J,X.writechunk=Z,X.writeencoding=Y,!X.transforming){var $=this._readableState;if(X.needTransform||$.needReadable||$.length<$.highWaterMark)this._read($.highWaterMark)}};Q5.prototype._read=function(Z){var Y=this._transformState;if(Y.writechunk!==null&&!Y.transforming)Y.transforming=!0,this._transform(Y.writechunk,Y.writeencoding,Y.afterTransform);else Y.needTransform=!0};Q5.prototype._destroy=function(Z,Y){yz.prototype._destroy.call(this,Z,function(J){Y(J)})}});var ee=R((n80,oe)=>{var RW=function(Z){if(!(this instanceof RW))return new RW(Z);te.call(this,Z)};oe.exports=RW;var te=V2();YX()(RW,te);RW.prototype._transform=function(Z,Y,J){J(null,Z)}});var $11=R((a80,X11)=>{var zy1=function(Z){var Y=!1;return function(){if(Y)return;Y=!0,Z.apply(void 0,arguments)}},Z11=function(Z){if(Z)throw Z},qy1=function(Z){return Z.setHeader&&typeof Z.abort==="function"},Vy1=function(Z,Y,J,X){X=zy1(X);var $=!1;if(Z.on("close",function(){$=!0}),L2===void 0)L2=Nz();L2(Z,{readable:Y,writable:J},function(G){if(G)return X(G);$=!0,X()});var W=!1;return function(G){if($)return;if(W)return;if(W=!0,qy1(Z))return Z.abort();if(typeof Z.destroy==="function")return Z.destroy();X(G||new Uy1("pipe"))}},Y11=function(Z){Z()},Ly1=function(Z,Y){return Z.pipe(Y)},Ry1=function(Z){if(!Z.length)return Z11;if(typeof Z[Z.length-1]!=="function")return Z11;return Z.pop()},wy1=function(){for(var Z=arguments.length,Y=new Array(Z),J=0;J<Z;J++)Y[J]=arguments[J];var X=Ry1(Y);if(Array.isArray(Y[0]))Y=Y[0];if(Y.length<2)throw new Fy1("streams");var $,W=Y.map(function(G,Q){var K=Q<Y.length-1,H=Q>0;return Vy1(G,K,H,function(z){if(!$)$=z;if(z)W.forEach(Y11);if(K)return;W.forEach(Y11),X($)})});return Y.reduce(Ly1)},L2,J11=RZ().codes,Fy1=J11.ERR_MISSING_ARGS,Uy1=J11.ERR_STREAM_DESTROYED;X11.exports=wy1});var KX=R((V7,MW)=>{var wW=import.meta.require("stream");if(process.env.READABLE_STREAM==="disable"&&wW)MW.exports=wW.Readable,Object.assign(MW.exports,wW),MW.exports.Stream=wW;else V7=MW.exports=mN(),V7.Stream=wW||V7,V7.Readable=V7,V7.Writable=Oz(),V7.Duplex=i9(),V7.Transform=V2(),V7.PassThrough=ee(),V7.finished=Nz(),V7.pipeline=$11()});var Q11=R((s80,G11)=>{var M2=function(Z){if(~HX.indexOf(Z))return!1;return HX.push(Z),!0},B2=function(Z){R2=Z},My1=function(Z){var Y=[];for(var J=0;J<HX.length;J++){if(HX[J].async){Y.push(HX[J]);continue}if(HX[J](Z))return!0}if(!Y.length)return!1;return new Promise(function X($){Promise.all(Y.map(function W(G){return G(Z)})).then(function W(G){$(G.some(Boolean))})})},A2=function(Z){if(~BW.indexOf(Z))return!1;return BW.push(Z),!0},w2=function(){R2.apply(R2,arguments)},W11=function(Z){for(var Y=0;Y<BW.length;Y++)Z=BW[Y].apply(BW[Y],arguments);return Z},N2=function(Z,Y){var J=Object.prototype.hasOwnProperty;for(var X in Y)if(J.call(Y,X))Z[X]=Y[X];return Z},By1=function(Z){return Z.enabled=!1,Z.modify=A2,Z.set=B2,Z.use=M2,N2(function Y(){return!1},Z)},Ay1=function(Z){function Y(){var J=Array.prototype.slice.call(arguments,0);return w2.call(w2,Z,W11(J,Z)),!0}return Z.enabled=!0,Z.modify=A2,Z.set=B2,Z.use=M2,N2(Y,Z)},HX=[],BW=[],R2=function Z(){};G11.exports=function Z(Y){return Y.introduce=N2,Y.enabled=My1,Y.process=W11,Y.modify=A2,Y.write=w2,Y.nope=By1,Y.yep=Ay1,Y.set=B2,Y.use=M2,Y}});var H11=R((r80,K11)=>{K11.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var F11=R((t80,z11)=>{z11.exports=function Z(Y){if(!Y||typeof Y==="string")return!1;return Y instanceof Array||Array.isArray(Y)||Y.length>=0&&(Y.splice instanceof Function||Object.getOwnPropertyDescriptor(Y,Y.length-1)&&Y.constructor.name!=="String")}});var V11=R((o80,q11)=>{var Ny1=F11(),Iy1=Array.prototype.concat,Dy1=Array.prototype.slice,U11=q11.exports=function Z(Y){var J=[];for(var X=0,$=Y.length;X<$;X++){var W=Y[X];if(Ny1(W))J=Iy1.call(J,Dy1.call(W));else J.push(W)}return J};U11.wrap=function(Z){return function(){return Z(U11(arguments))}}});var M11=R((e80,w11)=>{var NZ=function(Z,Y,J){return Math.min(Math.max(Y,Z),J)},bz=function(Z){var Y=Math.round(Z).toString(16).toUpperCase();return Y.length<2?"0"+Y:Y},AW=H11(),NW=V11(),L11=Object.hasOwnProperty,R11=Object.create(null);for(gz in AW)if(L11.call(AW,gz))R11[AW[gz]]=gz;var gz,y6=w11.exports={to:{},get:{}};y6.get=function(Z){var Y=Z.substring(0,3).toLowerCase(),J,X;switch(Y){case"hsl":J=y6.get.hsl(Z),X="hsl";break;case"hwb":J=y6.get.hwb(Z),X="hwb";break;default:J=y6.get.rgb(Z),X="rgb";break}if(!J)return null;return{model:X,value:J}};y6.get.rgb=function(Z){if(!Z)return null;var Y=/^#([a-f0-9]{3,4})$/i,J=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,X=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,$=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,W=/^(\w+)$/,G=[0,0,0,1],Q,K,H;if(Q=Z.match(J)){H=Q[2],Q=Q[1];for(K=0;K<3;K++){var z=K*2;G[K]=parseInt(Q.slice(z,z+2),16)}if(H)G[3]=parseInt(H,16)/255}else if(Q=Z.match(Y)){Q=Q[1],H=Q[3];for(K=0;K<3;K++)G[K]=parseInt(Q[K]+Q[K],16);if(H)G[3]=parseInt(H+H,16)/255}else if(Q=Z.match(X)){for(K=0;K<3;K++)G[K]=parseInt(Q[K+1],0);if(Q[4])if(Q[5])G[3]=parseFloat(Q[4])*0.01;else G[3]=parseFloat(Q[4])}else if(Q=Z.match($)){for(K=0;K<3;K++)G[K]=Math.round(parseFloat(Q[K+1])*2.55);if(Q[4])if(Q[5])G[3]=parseFloat(Q[4])*0.01;else G[3]=parseFloat(Q[4])}else if(Q=Z.match(W)){if(Q[1]==="transparent")return[0,0,0,0];if(!L11.call(AW,Q[1]))return null;return G=AW[Q[1]],G[3]=1,G}else return null;for(K=0;K<3;K++)G[K]=NZ(G[K],0,255);return G[3]=NZ(G[3],0,1),G};y6.get.hsl=function(Z){if(!Z)return null;var Y=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,J=Z.match(Y);if(J){var X=parseFloat(J[4]),$=(parseFloat(J[1])%360+360)%360,W=NZ(parseFloat(J[2]),0,100),G=NZ(parseFloat(J[3]),0,100),Q=NZ(isNaN(X)?1:X,0,1);return[$,W,G,Q]}return null};y6.get.hwb=function(Z){if(!Z)return null;var Y=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,J=Z.match(Y);if(J){var X=parseFloat(J[4]),$=(parseFloat(J[1])%360+360)%360,W=NZ(parseFloat(J[2]),0,100),G=NZ(parseFloat(J[3]),0,100),Q=NZ(isNaN(X)?1:X,0,1);return[$,W,G,Q]}return null};y6.to.hex=function(){var Z=NW(arguments);return"#"+bz(Z[0])+bz(Z[1])+bz(Z[2])+(Z[3]<1?bz(Math.round(Z[3]*255)):"")};y6.to.rgb=function(){var Z=NW(arguments);return Z.length<4||Z[3]===1?"rgb("+Math.round(Z[0])+", "+Math.round(Z[1])+", "+Math.round(Z[2])+")":"rgba("+Math.round(Z[0])+", "+Math.round(Z[1])+", "+Math.round(Z[2])+", "+Z[3]+")"};y6.to.rgb.percent=function(){var Z=NW(arguments),Y=Math.round(Z[0]/255*100),J=Math.round(Z[1]/255*100),X=Math.round(Z[2]/255*100);return Z.length<4||Z[3]===1?"rgb("+Y+"%, "+J+"%, "+X+"%)":"rgba("+Y+"%, "+J+"%, "+X+"%, "+Z[3]+")"};y6.to.hsl=function(){var Z=NW(arguments);return Z.length<4||Z[3]===1?"hsl("+Z[0]+", "+Z[1]+"%, "+Z[2]+"%)":"hsla("+Z[0]+", "+Z[1]+"%, "+Z[2]+"%, "+Z[3]+")"};y6.to.hwb=function(){var Z=NW(arguments),Y="";if(Z.length>=4&&Z[3]!==1)Y=", "+Z[3];return"hwb("+Z[0]+", "+Z[1]+"%, "+Z[2]+"%"+Y+")"};y6.to.keyword=function(Z){return R11[Z.slice(0,3)]}});var A11=R((Z60,B11)=>{B11.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var I2=R((Y60,P11)=>{var Py1=function(Z,Y){return Math.pow(Z[0]-Y[0],2)+Math.pow(Z[1]-Y[1],2)+Math.pow(Z[2]-Y[2],2)},s9=A11(),D11={};for(vz in s9)if(s9.hasOwnProperty(vz))D11[s9[vz]]=vz;var vz,J1=P11.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(p8 in J1)if(J1.hasOwnProperty(p8)){if(!("channels"in J1[p8]))throw new Error("missing channels property: "+p8);if(!("labels"in J1[p8]))throw new Error("missing channel labels property: "+p8);if(J1[p8].labels.length!==J1[p8].channels)throw new Error("channel and label counts mismatch: "+p8);N11=J1[p8].channels,I11=J1[p8].labels,delete J1[p8].channels,delete J1[p8].labels,Object.defineProperty(J1[p8],"channels",{value:N11}),Object.defineProperty(J1[p8],"labels",{value:I11})}var N11,I11,p8;J1.rgb.hsl=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255,$=Math.min(Y,J,X),W=Math.max(Y,J,X),G=W-$,Q,K,H;if(W===$)Q=0;else if(Y===W)Q=(J-X)/G;else if(J===W)Q=2+(X-Y)/G;else if(X===W)Q=4+(Y-J)/G;if(Q=Math.min(Q*60,360),Q<0)Q+=360;if(H=($+W)/2,W===$)K=0;else if(H<=0.5)K=G/(W+$);else K=G/(2-W-$);return[Q,K*100,H*100]};J1.rgb.hsv=function(Z){var Y,J,X,$,W,G=Z[0]/255,Q=Z[1]/255,K=Z[2]/255,H=Math.max(G,Q,K),z=H-Math.min(G,Q,K),F=function(U){return(H-U)/6/z+0.5};if(z===0)$=W=0;else{if(W=z/H,Y=F(G),J=F(Q),X=F(K),G===H)$=X-J;else if(Q===H)$=0.3333333333333333+Y-X;else if(K===H)$=0.6666666666666666+J-Y;if($<0)$+=1;else if($>1)$-=1}return[$*360,W*100,H*100]};J1.rgb.hwb=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$=J1.rgb.hsl(Z)[0],W=0.00392156862745098*Math.min(Y,Math.min(J,X));return X=1-0.00392156862745098*Math.max(Y,Math.max(J,X)),[$,W*100,X*100]};J1.rgb.cmyk=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255,$,W,G,Q;return Q=Math.min(1-Y,1-J,1-X),$=(1-Y-Q)/(1-Q)||0,W=(1-J-Q)/(1-Q)||0,G=(1-X-Q)/(1-Q)||0,[$*100,W*100,G*100,Q*100]};J1.rgb.keyword=function(Z){var Y=D11[Z];if(Y)return Y;var J=Infinity,X;for(var $ in s9)if(s9.hasOwnProperty($)){var W=s9[$],G=Py1(Z,W);if(G<J)J=G,X=$}return X};J1.keyword.rgb=function(Z){return s9[Z]};J1.rgb.xyz=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255;Y=Y>0.04045?Math.pow((Y+0.055)/1.055,2.4):Y/12.92,J=J>0.04045?Math.pow((J+0.055)/1.055,2.4):J/12.92,X=X>0.04045?Math.pow((X+0.055)/1.055,2.4):X/12.92;var $=Y*0.4124+J*0.3576+X*0.1805,W=Y*0.2126+J*0.7152+X*0.0722,G=Y*0.0193+J*0.1192+X*0.9505;return[$*100,W*100,G*100]};J1.rgb.lab=function(Z){var Y=J1.rgb.xyz(Z),J=Y[0],X=Y[1],$=Y[2],W,G,Q;return J/=95.047,X/=100,$/=108.883,J=J>0.008856?Math.pow(J,0.3333333333333333):7.787*J+0.13793103448275862,X=X>0.008856?Math.pow(X,0.3333333333333333):7.787*X+0.13793103448275862,$=$>0.008856?Math.pow($,0.3333333333333333):7.787*$+0.13793103448275862,W=116*X-16,G=500*(J-X),Q=200*(X-$),[W,G,Q]};J1.hsl.rgb=function(Z){var Y=Z[0]/360,J=Z[1]/100,X=Z[2]/100,$,W,G,Q,K;if(J===0)return K=X*255,[K,K,K];if(X<0.5)W=X*(1+J);else W=X+J-X*J;$=2*X-W,Q=[0,0,0];for(var H=0;H<3;H++){if(G=Y+0.3333333333333333*-(H-1),G<0)G++;if(G>1)G--;if(6*G<1)K=$+(W-$)*6*G;else if(2*G<1)K=W;else if(3*G<2)K=$+(W-$)*(0.6666666666666666-G)*6;else K=$;Q[H]=K*255}return Q};J1.hsl.hsv=function(Z){var Y=Z[0],J=Z[1]/100,X=Z[2]/100,$=J,W=Math.max(X,0.01),G,Q;return X*=2,J*=X<=1?X:2-X,$*=W<=1?W:2-W,Q=(X+J)/2,G=X===0?2*$/(W+$):2*J/(X+J),[Y,G*100,Q*100]};J1.hsv.rgb=function(Z){var Y=Z[0]/60,J=Z[1]/100,X=Z[2]/100,$=Math.floor(Y)%6,W=Y-Math.floor(Y),G=255*X*(1-J),Q=255*X*(1-J*W),K=255*X*(1-J*(1-W));switch(X*=255,$){case 0:return[X,K,G];case 1:return[Q,X,G];case 2:return[G,X,K];case 3:return[G,Q,X];case 4:return[K,G,X];case 5:return[X,G,Q]}};J1.hsv.hsl=function(Z){var Y=Z[0],J=Z[1]/100,X=Z[2]/100,$=Math.max(X,0.01),W,G,Q;return Q=(2-J)*X,W=(2-J)*$,G=J*$,G/=W<=1?W:2-W,G=G||0,Q/=2,[Y,G*100,Q*100]};J1.hwb.rgb=function(Z){var Y=Z[0]/360,J=Z[1]/100,X=Z[2]/100,$=J+X,W,G,Q,K;if($>1)J/=$,X/=$;if(W=Math.floor(6*Y),G=1-X,Q=6*Y-W,(W&1)!==0)Q=1-Q;K=J+Q*(G-J);var H,z,F;switch(W){default:case 6:case 0:H=G,z=K,F=J;break;case 1:H=K,z=G,F=J;break;case 2:H=J,z=G,F=K;break;case 3:H=J,z=K,F=G;break;case 4:H=K,z=J,F=G;break;case 5:H=G,z=J,F=K;break}return[H*255,z*255,F*255]};J1.cmyk.rgb=function(Z){var Y=Z[0]/100,J=Z[1]/100,X=Z[2]/100,$=Z[3]/100,W,G,Q;return W=1-Math.min(1,Y*(1-$)+$),G=1-Math.min(1,J*(1-$)+$),Q=1-Math.min(1,X*(1-$)+$),[W*255,G*255,Q*255]};J1.xyz.rgb=function(Z){var Y=Z[0]/100,J=Z[1]/100,X=Z[2]/100,$,W,G;return $=Y*3.2406+J*-1.5372+X*-0.4986,W=Y*-0.9689+J*1.8758+X*0.0415,G=Y*0.0557+J*-0.204+X*1.057,$=$>0.0031308?1.055*Math.pow($,0.4166666666666667)-0.055:$*12.92,W=W>0.0031308?1.055*Math.pow(W,0.4166666666666667)-0.055:W*12.92,G=G>0.0031308?1.055*Math.pow(G,0.4166666666666667)-0.055:G*12.92,$=Math.min(Math.max(0,$),1),W=Math.min(Math.max(0,W),1),G=Math.min(Math.max(0,G),1),[$*255,W*255,G*255]};J1.xyz.lab=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;return Y/=95.047,J/=100,X/=108.883,Y=Y>0.008856?Math.pow(Y,0.3333333333333333):7.787*Y+0.13793103448275862,J=J>0.008856?Math.pow(J,0.3333333333333333):7.787*J+0.13793103448275862,X=X>0.008856?Math.pow(X,0.3333333333333333):7.787*X+0.13793103448275862,$=116*J-16,W=500*(Y-J),G=200*(J-X),[$,W,G]};J1.lab.xyz=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;W=(Y+16)/116,$=J/500+W,G=W-X/200;var Q=Math.pow(W,3),K=Math.pow($,3),H=Math.pow(G,3);return W=Q>0.008856?Q:(W-0.13793103448275862)/7.787,$=K>0.008856?K:($-0.13793103448275862)/7.787,G=H>0.008856?H:(G-0.13793103448275862)/7.787,$*=95.047,W*=100,G*=108.883,[$,W,G]};J1.lab.lch=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;if($=Math.atan2(X,J),W=$*360/2/Math.PI,W<0)W+=360;return G=Math.sqrt(J*J+X*X),[Y,G,W]};J1.lch.lab=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$,W,G;return G=X/360*2*Math.PI,$=J*Math.cos(G),W=J*Math.sin(G),[Y,$,W]};J1.rgb.ansi16=function(Z){var Y=Z[0],J=Z[1],X=Z[2],$=1 in arguments?arguments[1]:J1.rgb.hsv(Z)[2];if($=Math.round($/50),$===0)return 30;var W=30+(Math.round(X/255)<<2|Math.round(J/255)<<1|Math.round(Y/255));if($===2)W+=60;return W};J1.hsv.ansi16=function(Z){return J1.rgb.ansi16(J1.hsv.rgb(Z),Z[2])};J1.rgb.ansi256=function(Z){var Y=Z[0],J=Z[1],X=Z[2];if(Y===J&&J===X){if(Y<8)return 16;if(Y>248)return 231;return Math.round((Y-8)/247*24)+232}var $=16+36*Math.round(Y/255*5)+6*Math.round(J/255*5)+Math.round(X/255*5);return $};J1.ansi16.rgb=function(Z){var Y=Z%10;if(Y===0||Y===7){if(Z>50)Y+=3.5;return Y=Y/10.5*255,[Y,Y,Y]}var J=(~~(Z>50)+1)*0.5,X=(Y&1)*J*255,$=(Y>>1&1)*J*255,W=(Y>>2&1)*J*255;return[X,$,W]};J1.ansi256.rgb=function(Z){if(Z>=232){var Y=(Z-232)*10+8;return[Y,Y,Y]}Z-=16;var J,X=Math.floor(Z/36)/5*255,$=Math.floor((J=Z%36)/6)/5*255,W=J%6/5*255;return[X,$,W]};J1.rgb.hex=function(Z){var Y=((Math.round(Z[0])&255)<<16)+((Math.round(Z[1])&255)<<8)+(Math.round(Z[2])&255),J=Y.toString(16).toUpperCase();return"000000".substring(J.length)+J};J1.hex.rgb=function(Z){var Y=Z.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!Y)return[0,0,0];var J=Y[0];if(Y[0].length===3)J=J.split("").map(function(Q){return Q+Q}).join("");var X=parseInt(J,16),$=X>>16&255,W=X>>8&255,G=X&255;return[$,W,G]};J1.rgb.hcg=function(Z){var Y=Z[0]/255,J=Z[1]/255,X=Z[2]/255,$=Math.max(Math.max(Y,J),X),W=Math.min(Math.min(Y,J),X),G=$-W,Q,K;if(G<1)Q=W/(1-G);else Q=0;if(G<=0)K=0;else if($===Y)K=(J-X)/G%6;else if($===J)K=2+(X-Y)/G;else K=4+(Y-J)/G+4;return K/=6,K%=1,[K*360,G*100,Q*100]};J1.hsl.hcg=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=1,$=0;if(J<0.5)X=2*Y*J;else X=2*Y*(1-J);if(X<1)$=(J-0.5*X)/(1-X);return[Z[0],X*100,$*100]};J1.hsv.hcg=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=Y*J,$=0;if(X<1)$=(J-X)/(1-X);return[Z[0],X*100,$*100]};J1.hcg.rgb=function(Z){var Y=Z[0]/360,J=Z[1]/100,X=Z[2]/100;if(J===0)return[X*255,X*255,X*255];var $=[0,0,0],W=Y%1*6,G=W%1,Q=1-G,K=0;switch(Math.floor(W)){case 0:$[0]=1,$[1]=G,$[2]=0;break;case 1:$[0]=Q,$[1]=1,$[2]=0;break;case 2:$[0]=0,$[1]=1,$[2]=G;break;case 3:$[0]=0,$[1]=Q,$[2]=1;break;case 4:$[0]=G,$[1]=0,$[2]=1;break;default:$[0]=1,$[1]=0,$[2]=Q}return K=(1-J)*X,[(J*$[0]+K)*255,(J*$[1]+K)*255,(J*$[2]+K)*255]};J1.hcg.hsv=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=Y+J*(1-Y),$=0;if(X>0)$=Y/X;return[Z[0],$*100,X*100]};J1.hcg.hsl=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=J*(1-Y)+0.5*Y,$=0;if(X>0&&X<0.5)$=Y/(2*X);else if(X>=0.5&&X<1)$=Y/(2*(1-X));return[Z[0],$*100,X*100]};J1.hcg.hwb=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=Y+J*(1-Y);return[Z[0],(X-Y)*100,(1-X)*100]};J1.hwb.hcg=function(Z){var Y=Z[1]/100,J=Z[2]/100,X=1-J,$=X-Y,W=0;if($<1)W=(X-$)/(1-$);return[Z[0],$*100,W*100]};J1.apple.rgb=function(Z){return[Z[0]/65535*255,Z[1]/65535*255,Z[2]/65535*255]};J1.rgb.apple=function(Z){return[Z[0]/255*65535,Z[1]/255*65535,Z[2]/255*65535]};J1.gray.rgb=function(Z){return[Z[0]/100*255,Z[0]/100*255,Z[0]/100*255]};J1.gray.hsl=J1.gray.hsv=function(Z){return[0,0,Z[0]]};J1.gray.hwb=function(Z){return[0,100,Z[0]]};J1.gray.cmyk=function(Z){return[0,0,0,Z[0]]};J1.gray.lab=function(Z){return[Z[0],0,0]};J1.gray.hex=function(Z){var Y=Math.round(Z[0]/100*255)&255,J=(Y<<16)+(Y<<8)+Y,X=J.toString(16).toUpperCase();return"000000".substring(X.length)+X};J1.rgb.gray=function(Z){var Y=(Z[0]+Z[1]+Z[2])/3;return[Y/255*100]}});var C11=R((J60,T11)=>{var Ty1=function(){var Z={},Y=Object.keys(hz);for(var J=Y.length,X=0;X<J;X++)Z[Y[X]]={distance:-1,parent:null};return Z},Cy1=function(Z){var Y=Ty1(),J=[Z];Y[Z].distance=0;while(J.length){var X=J.pop(),$=Object.keys(hz[X]);for(var W=$.length,G=0;G<W;G++){var Q=$[G],K=Y[Q];if(K.distance===-1)K.distance=Y[X].distance+1,K.parent=X,J.unshift(Q)}}return Y},Ey1=function(Z,Y){return function(J){return Y(Z(J))}},jy1=function(Z,Y){var J=[Y[Z].parent,Z],X=hz[Y[Z].parent][Z],$=Y[Z].parent;while(Y[$].parent)J.unshift(Y[$].parent),X=Ey1(hz[Y[$].parent][$],X),$=Y[$].parent;return X.conversion=J,X},hz=I2();T11.exports=function(Z){var Y=Cy1(Z),J={},X=Object.keys(Y);for(var $=X.length,W=0;W<$;W++){var G=X[W],Q=Y[G];if(Q.parent===null)continue;J[G]=jy1(G,Y)}return J}});var j11=R((X60,E11)=>{var ky1=function(Z){var Y=function(J){if(J===void 0||J===null)return J;if(arguments.length>1)J=Array.prototype.slice.call(arguments);return Z(J)};if("conversion"in Z)Y.conversion=Z.conversion;return Y},_y1=function(Z){var Y=function(J){if(J===void 0||J===null)return J;if(arguments.length>1)J=Array.prototype.slice.call(arguments);var X=Z(J);if(typeof X==="object")for(var $=X.length,W=0;W<$;W++)X[W]=Math.round(X[W]);return X};if("conversion"in Z)Y.conversion=Z.conversion;return Y},D2=I2(),Oy1=C11(),zX={},Sy1=Object.keys(D2);Sy1.forEach(function(Z){zX[Z]={},Object.defineProperty(zX[Z],"channels",{value:D2[Z].channels}),Object.defineProperty(zX[Z],"labels",{value:D2[Z].labels});var Y=Oy1(Z),J=Object.keys(Y);J.forEach(function(X){var $=Y[X];zX[Z][X]=_y1($),zX[Z][X].raw=ky1($)})});E11.exports=zX});var k11=R(($60,S11)=>{var L8=function(Z,Y){if(!(this instanceof L8))return new L8(Z,Y);if(Y&&(Y in O11))Y=null;if(Y&&!(Y in g6))throw new Error("Unknown model: "+Y);var J,X;if(Z==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(Z instanceof L8)this.model=Z.model,this.color=Z.color.slice(),this.valpha=Z.valpha;else if(typeof Z==="string"){var $=IW.get(Z);if($===null)throw new Error("Unable to parse color from string: "+Z);this.model=$.model,X=g6[this.model].channels,this.color=$.value.slice(0,X),this.valpha=typeof $.value[X]==="number"?$.value[X]:1}else if(Z.length){this.model=Y||"rgb",X=g6[this.model].channels;var W=C2.call(Z,0,X);this.color=T2(W,X),this.valpha=typeof Z[X]==="number"?Z[X]:1}else if(typeof Z==="number")Z&=16777215,this.model="rgb",this.color=[Z>>16&255,Z>>8&255,Z&255],this.valpha=1;else{this.valpha=1;var G=Object.keys(Z);if("alpha"in Z)G.splice(G.indexOf("alpha"),1),this.valpha=typeof Z.alpha==="number"?Z.alpha:0;var Q=G.sort().join("");if(!(Q in P2))throw new Error("Unable to parse color from object: "+JSON.stringify(Z));this.model=P2[Q];var K=g6[this.model].labels,H=[];for(J=0;J<K.length;J++)H.push(Z[K[J]]);this.color=T2(H)}if(mz[this.model]){X=g6[this.model].channels;for(J=0;J<X;J++){var z=mz[this.model][J];if(z)this.color[J]=z(this.color[J])}}if(this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze)Object.freeze(this)},xy1=function(Z,Y){return Number(Z.toFixed(Y))},fy1=function(Z){return function(Y){return xy1(Y,Z)}},C0=function(Z,Y,J){return Z=Array.isArray(Z)?Z:[Z],Z.forEach(function(X){(mz[X]||(mz[X]=[]))[Y]=J}),Z=Z[0],function(X){var $;if(arguments.length){if(J)X=J(X);return $=this[Z](),$.color[Y]=X,$}if($=this[Z]().color[Y],J)$=J($);return $}},i0=function(Z){return function(Y){return Math.max(0,Math.min(Z,Y))}},yy1=function(Z){return Array.isArray(Z)?Z:[Z]},T2=function(Z,Y){for(var J=0;J<Y;J++)if(typeof Z[J]!=="number")Z[J]=0;return Z},IW=M11(),g6=j11(),C2=[].slice,O11=["keyword","gray","hex"],P2={};Object.keys(g6).forEach(function(Z){P2[C2.call(g6[Z].labels).sort().join("")]=Z});var mz={};L8.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(Z){var Y=this.model in IW.to?this:this.rgb();Y=Y.round(typeof Z==="number"?Z:1);var J=Y.valpha===1?Y.color:Y.color.concat(this.valpha);return IW.to[Y.model](J)},percentString:function(Z){var Y=this.rgb().round(typeof Z==="number"?Z:1),J=Y.valpha===1?Y.color:Y.color.concat(this.valpha);return IW.to.rgb.percent(J)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){var Z={},Y=g6[this.model].channels,J=g6[this.model].labels;for(var X=0;X<Y;X++)Z[J[X]]=this.color[X];if(this.valpha!==1)Z.alpha=this.valpha;return Z},unitArray:function(){var Z=this.rgb().color;if(Z[0]/=255,Z[1]/=255,Z[2]/=255,this.valpha!==1)Z.push(this.valpha);return Z},unitObject:function(){var Z=this.rgb().object();if(Z.r/=255,Z.g/=255,Z.b/=255,this.valpha!==1)Z.alpha=this.valpha;return Z},round:function(Z){return Z=Math.max(Z||0,0),new L8(this.color.map(fy1(Z)).concat(this.valpha),this.model)},alpha:function(Z){if(arguments.length)return new L8(this.color.concat(Math.max(0,Math.min(1,Z))),this.model);return this.valpha},red:C0("rgb",0,i0(255)),green:C0("rgb",1,i0(255)),blue:C0("rgb",2,i0(255)),hue:C0(["hsl","hsv","hsl","hwb","hcg"],0,function(Z){return(Z%360+360)%360}),saturationl:C0("hsl",1,i0(100)),lightness:C0("hsl",2,i0(100)),saturationv:C0("hsv",1,i0(100)),value:C0("hsv",2,i0(100)),chroma:C0("hcg",1,i0(100)),gray:C0("hcg",2,i0(100)),white:C0("hwb",1,i0(100)),wblack:C0("hwb",2,i0(100)),cyan:C0("cmyk",0,i0(100)),magenta:C0("cmyk",1,i0(100)),yellow:C0("cmyk",2,i0(100)),black:C0("cmyk",3,i0(100)),x:C0("xyz",0,i0(100)),y:C0("xyz",1,i0(100)),z:C0("xyz",2,i0(100)),l:C0("lab",0,i0(100)),a:C0("lab",1),b:C0("lab",2),keyword:function(Z){if(arguments.length)return new L8(Z);return g6[this.model].keyword(this.color)},hex:function(Z){if(arguments.length)return new L8(Z);return IW.to.hex(this.rgb().round().color)},rgbNumber:function(){var Z=this.rgb().color;return(Z[0]&255)<<16|(Z[1]&255)<<8|Z[2]&255},luminosity:function(){var Z=this.rgb().color,Y=[];for(var J=0;J<Z.length;J++){var X=Z[J]/255;Y[J]=X<=0.03928?X/12.92:Math.pow((X+0.055)/1.055,2.4)}return 0.2126*Y[0]+0.7152*Y[1]+0.0722*Y[2]},contrast:function(Z){var Y=this.luminosity(),J=Z.luminosity();if(Y>J)return(Y+0.05)/(J+0.05);return(J+0.05)/(Y+0.05)},level:function(Z){var Y=this.contrast(Z);if(Y>=7.1)return"AAA";return Y>=4.5?"AA":""},isDark:function(){var Z=this.rgb().color,Y=(Z[0]*299+Z[1]*587+Z[2]*114)/1000;return Y<128},isLight:function(){return!this.isDark()},negate:function(){var Z=this.rgb();for(var Y=0;Y<3;Y++)Z.color[Y]=255-Z.color[Y];return Z},lighten:function(Z){var Y=this.hsl();return Y.color[2]+=Y.color[2]*Z,Y},darken:function(Z){var Y=this.hsl();return Y.color[2]-=Y.color[2]*Z,Y},saturate:function(Z){var Y=this.hsl();return Y.color[1]+=Y.color[1]*Z,Y},desaturate:function(Z){var Y=this.hsl();return Y.color[1]-=Y.color[1]*Z,Y},whiten:function(Z){var Y=this.hwb();return Y.color[1]+=Y.color[1]*Z,Y},blacken:function(Z){var Y=this.hwb();return Y.color[2]+=Y.color[2]*Z,Y},grayscale:function(){var Z=this.rgb().color,Y=Z[0]*0.3+Z[1]*0.59+Z[2]*0.11;return L8.rgb(Y,Y,Y)},fade:function(Z){return this.alpha(this.valpha-this.valpha*Z)},opaquer:function(Z){return this.alpha(this.valpha+this.valpha*Z)},rotate:function(Z){var Y=this.hsl(),J=Y.color[0];return J=(J+Z)%360,J=J<0?360+J:J,Y.color[0]=J,Y},mix:function(Z,Y){if(!Z||!Z.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof Z);var J=Z.rgb(),X=this.rgb(),$=Y===void 0?0.5:Y,W=2*$-1,G=J.alpha()-X.alpha(),Q=((W*G===-1?W:(W+G)/(1+W*G))+1)/2,K=1-Q;return L8.rgb(Q*J.red()+K*X.red(),Q*J.green()+K*X.green(),Q*J.blue()+K*X.blue(),J.alpha()*$+X.alpha()*(1-$))}};Object.keys(g6).forEach(function(Z){if(O11.indexOf(Z)!==-1)return;var Y=g6[Z].channels;L8.prototype[Z]=function(){if(this.model===Z)return new L8(this);if(arguments.length)return new L8(arguments,Z);var J=typeof arguments[Y]==="number"?Y:this.valpha;return new L8(yy1(g6[this.model][Z].raw(this.color)).concat(J),Z)},L8[Z]=function(J){if(typeof J==="number")J=T2(C2.call(arguments),Y);return new L8(J,Z)}});S11.exports=L8});var x11=R((W60,_11)=>{_11.exports=function Z(Y){for(var J=0,X=0;J<Y.length;X=Y.charCodeAt(J++)+((X<<5)-X));var $=Math.floor(Math.abs(Math.sin(X)*1e4%1*16777216)).toString(16);return"#"+Array(6-$.length+1).join("0")+$}});var b11=R((G60,g11)=>{var f11=k11(),y11=x11();g11.exports=function Z(Y,J){var X=Y.split(J||":"),$=y11(X[0]);if(!X.length)return $;for(var W=0,G=X.length-1;W<G;W++)$=f11($).mix(f11(y11(X[W+1]))).saturate(1).hex();return $}});var h11=R((Q60,v11)=>{var p7=function(Z,Y){if(Y)return new p7(Z).style(Y);if(!(this instanceof p7))return new p7(Z);this.text=Z};p7.prototype.prefix="\x1B[";p7.prototype.suffix="m";p7.prototype.hex=function Z(Y){if(Y=Y[0]==="#"?Y.substring(1):Y,Y.length===3)Y=Y.split(""),Y[5]=Y[2],Y[4]=Y[2],Y[3]=Y[1],Y[2]=Y[1],Y[1]=Y[0],Y=Y.join("");var J=Y.substring(0,2),X=Y.substring(2,4),$=Y.substring(4,6);return[parseInt(J,16),parseInt(X,16),parseInt($,16)]};p7.prototype.rgb=function Z(Y,J,X){var $=Y/255*5,W=J/255*5,G=X/255*5;return this.ansi($,W,G)};p7.prototype.ansi=function Z(Y,J,X){var $=Math.round(Y),W=Math.round(J),G=Math.round(X);return 16+$*36+W*6+G};p7.prototype.reset=function Z(){return this.prefix+"39;49"+this.suffix};p7.prototype.style=function Z(Y){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(Y))+this.suffix+this.text+this.reset()};v11.exports=p7});var u11=R((K60,m11)=>{var gy1=b11(),by1=h11();m11.exports=function Z(Y,J){var X=J.namespace,$=J.colors!==!1?by1(X+":",gy1(X)):X+":";return Y[0]=$+" "+Y[0],Y}});var c11=R((H60,d11)=>{d11.exports=function Z(Y,J){if(!J)return!1;var X=J.split(/[\s,]+/),$=0;for(;$<X.length;$++){if(J=X[$].replace("*",".*?"),J.charAt(0)==="-"){if(new RegExp("^"+J.substr(1)+"$").test(Y))return!1;continue}if(new RegExp("^"+J+"$").test(Y))return!0}return!1}});var l11=R((z60,p11)=>{var vy1=c11();p11.exports=function Z(Y){return function J(X){try{return vy1(X,Y())}catch($){}return!1}}});var n11=R((F60,i11)=>{var hy1=l11();i11.exports=hy1(function Z(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var s11=R((U60,a11)=>{a11.exports=function(Z,Y){try{Function.prototype.apply.call(console.log,console,Y)}catch(J){}}});var DW=R((q60,r11)=>{var my1=Q11(),uy1=import.meta.require("tty").isatty(1),uz=my1(function Z(Y,J){if(J=J||{},J.colors=("colors"in J)?J.colors:uy1,J.namespace=Y,J.prod=!1,J.dev=!0,!Z.enabled(Y)&&!(J.force||Z.force))return Z.nope(J);return Z.yep(J)});uz.modify(u11());uz.use(n11());uz.set(s11());r11.exports=uz});var o11=R((V60,t11)=>{var py1=function(){},E2=import.meta.require("fs"),{StringDecoder:dy1}=import.meta.require("string_decoder"),{Stream:cy1}=KX();t11.exports=(Z,Y)=>{const J=Buffer.alloc(65536),X=new dy1("utf8"),$=new cy1;let W="",G=0,Q=0;if(Z.start===-1)delete Z.start;if($.readable=!0,$.destroy=()=>{$.destroyed=!0,$.emit("end"),$.emit("close")},E2.open(Z.file,"a+","0644",(K,H)=>{if(K){if(!Y)$.emit("error",K);else Y(K);$.destroy();return}(function z(){if($.destroyed){E2.close(H,py1);return}return E2.read(H,J,0,J.length,G,(F,U)=>{if(F){if(!Y)$.emit("error",F);else Y(F);$.destroy();return}if(!U){if(W){if(Z.start==null||Q>Z.start)if(!Y)$.emit("line",W);else Y(null,W);Q++,W=""}return setTimeout(z,1000)}let q=X.write(J.slice(0,U));if(!Y)$.emit("data",q);q=(W+q).split(/\n+/);const V=q.length-1;let L=0;for(;L<V;L++){if(Z.start==null||Q>Z.start)if(!Y)$.emit("line",q[L]);else Y(null,q[L]);Q++}return W=q[V],G+=U,z()})})()}),!Y)return $;return $.destroy}});var Y01=R((L60,Z01)=>{var K5=import.meta.require("fs"),C8=import.meta.require("path"),ly1=ae(),iy1=import.meta.require("zlib"),{MESSAGE:ny1}=v0(),{Stream:ay1,PassThrough:e11}=KX(),sy1=n9(),l7=DW()("winston:file"),ry1=import.meta.require("os"),ty1=o11();Z01.exports=class Z extends sy1{constructor(Y={}){super(Y);this.name=Y.name||"file";function J(X,...$){$.slice(1).forEach((W)=>{if(Y[W])throw new Error(`Cannot set ${W} and ${X} together`)})}if(this._stream=new e11,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),Y.filename||Y.dirname)J("filename or dirname","stream"),this._basename=this.filename=Y.filename?C8.basename(Y.filename):"winston.log",this.dirname=Y.dirname||C8.dirname(Y.filename),this.options=Y.options||{flags:"a"};else if(Y.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),J("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(Y.stream)),this.dirname=C8.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");if(this.maxsize=Y.maxsize||null,this.rotationFormat=Y.rotationFormat||!1,this.zippedArchive=Y.zippedArchive||!1,this.maxFiles=Y.maxFiles||null,this.eol=typeof Y.eol==="string"?Y.eol:ry1.EOL,this.tailable=Y.tailable||!1,this.lazy=Y.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname)this._createLogDirIfNotExist(this.dirname);if(!this.lazy)this.open()}finishIfEnding(){if(this._ending)if(this._opening)this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())});else this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}log(Y,J=()=>{}){if(this.silent)return J(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(Y,J)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(Y,J)});return}if(this.lazy){if(!this._fileExist){if(!this._opening)this.open();this.once("open",()=>{this._fileExist=!0,this.log(Y,J);return});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{if(!this._opening)this.open();this.once("open",()=>{this.log(Y,J);return});return});return}}const X=`${Y[ny1]}${this.eol}`,$=Buffer.byteLength(X);function W(){if(this._size+=$,this._pendingSize-=$,l7("logged %s %s",this._size,X),this.emit("logged",Y),this._rotate)return;if(this._opening)return;if(!this._needsNewFile())return;if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}if(this._pendingSize+=$,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize))this.rotatedWhileOpening=!0;const G=this._stream.write(X,W.bind(this));if(!G)this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,J()});else J();return l7("written",G,this._drain),this.finishIfEnding(),G}query(Y,J){if(typeof Y==="function")J=Y,Y={};Y=F(Y);const X=C8.join(this.dirname,this.filename);let $="",W=[],G=0;const Q=K5.createReadStream(X,{encoding:"utf8"});Q.on("error",(U)=>{if(Q.readable)Q.destroy();if(!J)return;return U.code!=="ENOENT"?J(U):J(null,W)}),Q.on("data",(U)=>{U=($+U).split(/\n+/);const q=U.length-1;let V=0;for(;V<q;V++){if(!Y.start||G>=Y.start)K(U[V]);G++}$=U[q]}),Q.on("close",()=>{if($)K($,!0);if(Y.order==="desc")W=W.reverse();if(J)J(null,W)});function K(U,q){try{const V=JSON.parse(U);if(z(V))H(V)}catch(V){if(!q)Q.emit("error",V)}}function H(U){if(Y.rows&&W.length>=Y.rows&&Y.order!=="desc"){if(Q.readable)Q.destroy();return}if(Y.fields)U=Y.fields.reduce((q,V)=>{return q[V]=U[V],q},{});if(Y.order==="desc"){if(W.length>=Y.rows)W.shift()}W.push(U)}function z(U){if(!U)return;if(typeof U!=="object")return;const q=new Date(U.timestamp);if(Y.from&&q<Y.from||Y.until&&q>Y.until||Y.level&&Y.level!==U.level)return;return!0}function F(U){if(U=U||{},U.rows=U.rows||U.limit||10,U.start=U.start||0,U.until=U.until||new Date,typeof U.until!=="object")U.until=new Date(U.until);if(U.from=U.from||U.until-86400000,typeof U.from!=="object")U.from=new Date(U.from);return U.order=U.order||"desc",U}}stream(Y={}){const J=C8.join(this.dirname,this.filename),X=new ay1,$={file:J,start:Y.start};return X.destroy=ty1($,(W,G)=>{if(W)return X.emit("error",W);try{X.emit("data",G),G=JSON.parse(G),X.emit("log",G)}catch(Q){X.emit("error",Q)}}),X}open(){if(!this.filename)return;if(this._opening)return;this._opening=!0,this.stat((Y,J)=>{if(Y)return this.emit("error",Y);l7("stat done: %s { size: %s }",this.filename,J),this._size=J,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{if(this._stream.eventNames().includes("rotate"))this._stream.emit("rotate");else this._rotate=!1})})}stat(Y){const J=this._getFile(),X=C8.join(this.dirname,J);K5.stat(X,($,W)=>{if($&&$.code==="ENOENT")return l7("ENOENT\xA0ok",X),this.filename=J,Y(null,0);if($)return l7(`err ${$.code} ${X}`),Y($);if(!W||this._needsNewFile(W.size))return this._incFile(()=>this.stat(Y));this.filename=J,Y(null,W.size)})}close(Y){if(!this._stream)return;this._stream.end(()=>{if(Y)Y();this.emit("flush"),this.emit("closed")})}_needsNewFile(Y){return Y=Y||this._size,this.maxsize&&Y>=this.maxsize}_onError(Y){this.emit("error",Y)}_setupStream(Y){return Y.on("error",this._onError),Y}_cleanupStream(Y){return Y.removeListener("error",this._onError),Y.destroy(),Y}_rotateFile(){this._incFile(()=>this.open())}_endStream(Y=()=>{}){if(this._dest)this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),Y()});else Y()}_createStream(Y){const J=C8.join(this.dirname,this.filename);l7("create stream start",J,this.options);const X=K5.createWriteStream(J,this.options).on("error",($)=>l7($)).on("close",()=>l7("close",X.path,X.bytesWritten)).on("open",()=>{if(l7("file open ok",J),this.emit("open",J),Y.pipe(X),this.rotatedWhileOpening)this._stream=new e11,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(X),Y.end()});if(l7("create stream ok",J),this.zippedArchive){const $=iy1.createGzip();return $.pipe(X),$}return X}_incFile(Y){l7("_incFile",this.filename);const J=C8.extname(this._basename),X=C8.basename(this._basename,J);if(!this.tailable)this._created+=1,this._checkMaxFilesIncrementing(J,X,Y);else this._checkMaxFilesTailable(J,X,Y)}_getFile(){const Y=C8.extname(this._basename),J=C8.basename(this._basename,Y),X=this.rotationFormat?this.rotationFormat():this._created,$=!this.tailable&&this._created?`${J}${X}${Y}`:`${J}${Y}`;return this.zippedArchive&&!this.tailable?`${$}.gz`:$}_checkMaxFilesIncrementing(Y,J,X){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(X);const $=this._created-this.maxFiles,W=$!==0?$:"",G=this.zippedArchive?".gz":"",Q=`${J}${W}${Y}${G}`,K=C8.join(this.dirname,Q);K5.unlink(K,X)}_checkMaxFilesTailable(Y,J,X){const $=[];if(!this.maxFiles)return;const W=this.zippedArchive?".gz":"";for(let G=this.maxFiles-1;G>1;G--)$.push(function(Q,K){let H=`${J}${Q-1}${Y}${W}`;const z=C8.join(this.dirname,H);K5.exists(z,(F)=>{if(!F)return K(null);H=`${J}${Q}${Y}${W}`,K5.rename(z,C8.join(this.dirname,H),K)})}.bind(this,G));ly1($,()=>{K5.rename(C8.join(this.dirname,`${J}${Y}`),C8.join(this.dirname,`${J}1${Y}${W}`),X)})}_createLogDirIfNotExist(Y){if(!K5.existsSync(Y))K5.mkdirSync(Y,{recursive:!0})}}});var X01=R((R60,J01)=>{var oy1=import.meta.require("http"),ey1=import.meta.require("https"),{Stream:Zg1}=KX(),Yg1=n9(),Jg1=$W();J01.exports=class Z extends Yg1{constructor(Y={}){super(Y);if(this.options=Y,this.name=Y.name||"http",this.ssl=!!Y.ssl,this.host=Y.host||"localhost",this.port=Y.port,this.auth=Y.auth,this.path=Y.path||"",this.agent=Y.agent,this.headers=Y.headers||{},this.headers["content-type"]="application/json",this.batch=Y.batch||!1,this.batchInterval=Y.batchInterval||5000,this.batchCount=Y.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},!this.port)this.port=this.ssl?443:80}log(Y,J){if(this._request(Y,null,null,(X,$)=>{if($&&$.statusCode!==200)X=new Error(`Invalid HTTP Status Code: ${$.statusCode}`);if(X)this.emit("warn",X);else this.emit("logged",Y)}),J)setImmediate(J)}query(Y,J){if(typeof Y==="function")J=Y,Y={};Y={method:"query",params:this.normalizeQuery(Y)};const X=Y.params.auth||null;delete Y.params.auth;const $=Y.params.path||null;delete Y.params.path,this._request(Y,X,$,(W,G,Q)=>{if(G&&G.statusCode!==200)W=new Error(`Invalid HTTP Status Code: ${G.statusCode}`);if(W)return J(W);if(typeof Q==="string")try{Q=JSON.parse(Q)}catch(K){return J(K)}J(null,Q)})}stream(Y={}){const J=new Zg1;Y={method:"stream",params:Y};const X=Y.params.path||null;delete Y.params.path;const $=Y.params.auth||null;delete Y.params.auth;let W="";const G=this._request(Y,$,X);return J.destroy=()=>G.destroy(),G.on("data",(Q)=>{Q=(W+Q).split(/\n+/);const K=Q.length-1;let H=0;for(;H<K;H++)try{J.emit("log",JSON.parse(Q[H]))}catch(z){J.emit("error",z)}W=Q[K]}),G.on("error",(Q)=>J.emit("error",Q)),J}_request(Y,J,X,$){if(Y=Y||{},J=J||this.auth,X=X||this.path||"",this.batch)this._doBatch(Y,$,J,X);else this._doRequest(Y,$,J,X)}_doBatch(Y,J,X,$){if(this.batchOptions.push(Y),this.batchOptions.length===1){const W=this;this.batchCallback=J,this.batchTimeoutID=setTimeout(function(){W.batchTimeoutID=-1,W._doBatchRequest(W.batchCallback,X,$)},this.batchInterval)}if(this.batchOptions.length===this.batchCount)this._doBatchRequest(this.batchCallback,X,$)}_doBatchRequest(Y,J,X){if(this.batchTimeoutID>0)clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1;const $=this.batchOptions.slice();this.batchOptions=[],this._doRequest($,Y,J,X)}_doRequest(Y,J,X,$){const W=Object.assign({},this.headers);if(X&&X.bearer)W.Authorization=`Bearer ${X.bearer}`;const G=(this.ssl?ey1:oy1).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${$.replace(/^\//,"")}`,headers:W,auth:X&&X.username&&X.password?`${X.username}:${X.password}`:"",agent:this.agent});G.on("error",J),G.on("response",(Q)=>Q.on("end",()=>J(null,Q)).resume()),G.end(Buffer.from(Jg1(Y,this.options.replacer),"utf8"))}}});var j2=R((w60,$01)=>{var D4=(Z)=>Z!==null&&typeof Z==="object"&&typeof Z.pipe==="function";D4.writable=(Z)=>D4(Z)&&Z.writable!==!1&&typeof Z._write==="function"&&typeof Z._writableState==="object";D4.readable=(Z)=>D4(Z)&&Z.readable!==!1&&typeof Z._read==="function"&&typeof Z._readableState==="object";D4.duplex=(Z)=>D4.writable(Z)&&D4.readable(Z);D4.transform=(Z)=>D4.duplex(Z)&&typeof Z._transform==="function";$01.exports=D4});var G01=R((M60,W01)=>{var Xg1=j2(),{MESSAGE:$g1}=v0(),Wg1=import.meta.require("os"),Gg1=n9();W01.exports=class Z extends Gg1{constructor(Y={}){super(Y);if(!Y.stream||!Xg1(Y.stream))throw new Error("options.stream is required.");this._stream=Y.stream,this._stream.setMaxListeners(Infinity),this.isObjectMode=Y.stream._writableState.objectMode,this.eol=typeof Y.eol==="string"?Y.eol:Wg1.EOL}log(Y,J){if(setImmediate(()=>this.emit("logged",Y)),this.isObjectMode){if(this._stream.write(Y),J)J();return}if(this._stream.write(`${Y[$g1]}${this.eol}`),J)J();return}}});var Q01=R((PW)=>{Object.defineProperty(PW,"Console",{configurable:!0,enumerable:!0,get(){return He()}});Object.defineProperty(PW,"File",{configurable:!0,enumerable:!0,get(){return Y01()}});Object.defineProperty(PW,"Http",{configurable:!0,enumerable:!0,get(){return X01()}});Object.defineProperty(PW,"Stream",{configurable:!0,enumerable:!0,get(){return G01()}})});var cz=R((Qg1)=>{var dz=RN(),{configs:O2}=v0();Qg1.cli=dz.levels(O2.cli);Qg1.npm=dz.levels(O2.npm);Qg1.syslog=dz.levels(O2.syslog);Qg1.addColors=dz.levels});var H01=R((S2,K01)=>{var r9=function(Z){return Z&&Z.__esModule?Z:{default:Z}},Cg1=function(Z,Y,J){J=(0,Bg1.default)(J);var X=0,$=0,{length:W}=Z,G=!1;if(W===0)J(null);function Q(K,H){if(K===!1)G=!0;if(G===!0)return;if(K)J(K);else if(++$===W||H===Lg1.default)J(null)}for(;X<W;X++)Y(Z[X],X,(0,Ng1.default)(Q))},Eg1=function(Z,Y,J){return(0,wg1.default)(Z,Infinity,Y,J)},jg1=function(Z,Y,J){var X=(0,qg1.default)(Z)?Cg1:Eg1;return X(Z,(0,Dg1.default)(Y),J)};Object.defineProperty(S2,"__esModule",{value:!0});var Ug1=_z(),qg1=r9(Ug1),Vg1=xz(),Lg1=r9(Vg1),Rg1=F2(),wg1=r9(Rg1),Mg1=Y2(),Bg1=r9(Mg1),Ag1=W2(),Ng1=r9(Ag1),Ig1=a9(),Dg1=r9(Ig1),Pg1=QX(),Tg1=r9(Pg1);S2.default=(0,Tg1.default)(jg1,3);K01.exports=S2.default});var F01=R((k2,z01)=>{var Sg1=function(Z){return(Y,J,X)=>Z(Y,X)};Object.defineProperty(k2,"__esModule",{value:!0});k2.default=Sg1;z01.exports=k2.default});var lz=R((_2,U01)=>{var pz=function(Z){return Z&&Z.__esModule?Z:{default:Z}},mg1=function(Z,Y,J){return(0,xg1.default)(Z,(0,yg1.default)((0,bg1.default)(Y)),J)};Object.defineProperty(_2,"__esModule",{value:!0});var _g1=H01(),xg1=pz(_g1),fg1=F01(),yg1=pz(fg1),gg1=a9(),bg1=pz(gg1),vg1=QX(),hg1=pz(vg1);_2.default=(0,hg1.default)(mg1,3);U01.exports=_2.default});var V01=R((N60,q01)=>{var dg1=Object.prototype.toString;q01.exports=function Z(Y){if(typeof Y.displayName==="string"&&Y.constructor.name)return Y.displayName;else if(typeof Y.name==="string"&&Y.name)return Y.name;if(typeof Y==="object"&&Y.constructor&&typeof Y.constructor.name==="string")return Y.constructor.name;var J=Y.toString(),X=dg1.call(Y).slice(8,-1);if(X==="Function")J=J.substring(J.indexOf("(")+1,J.indexOf(")"));else J=X;return J||"anonymous"}});var x2=R((I60,L01)=>{var cg1=V01();L01.exports=function Z(Y){var J=0,X;function $(){if(J)return X;return J=1,X=Y.apply(this,arguments),Y=null,X}return $.displayName=cg1(Y),$}});var f2=R((ig1)=>{var TW=function(Z){for(var Y in Z)this[Y]=Z[Y]};ig1.get=function(Z){var Y=Error.stackTraceLimit;Error.stackTraceLimit=Infinity;var J={},X=Error.prepareStackTrace;Error.prepareStackTrace=function(W,G){return G},Error.captureStackTrace(J,Z||ig1.get);var $=J.stack;return Error.prepareStackTrace=X,Error.stackTraceLimit=Y,$};ig1.parse=function(Z){if(!Z.stack)return[];var Y=this,J=Z.stack.split("\n").slice(1);return J.map(function(X){if(X.match(/^\s*[-]{4,}$/))return Y._createParsedCallSite({fileName:X,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var $=X.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!$)return;var W=null,G=null,Q=null,K=null,H=null,z=$[5]==="native";if($[1]){Q=$[1];var F=Q.lastIndexOf(".");if(Q[F-1]==".")F--;if(F>0){W=Q.substr(0,F),G=Q.substr(F+1);var U=W.indexOf(".Module");if(U>0)Q=Q.substr(U+1),W=W.substr(0,U)}K=null}if(G)K=W,H=G;if(G==="<anonymous>")H=null,Q=null;var q={fileName:$[2]||null,lineNumber:parseInt($[3],10)||null,functionName:Q,typeName:K,methodName:H,columnNumber:parseInt($[4],10)||null,native:z};return Y._createParsedCallSite(q)}).filter(function(X){return!!X})};var pg1=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],lg1=["topLevel","eval","native","constructor"];pg1.forEach(function(Z){TW.prototype[Z]=null,TW.prototype["get"+Z[0].toUpperCase()+Z.substr(1)]=function(){return this[Z]}});lg1.forEach(function(Z){TW.prototype[Z]=!1,TW.prototype["is"+Z[0].toUpperCase()+Z.substr(1)]=function(){return this[Z]}});ig1._createParsedCallSite=function(Z){return new TW(Z)}});var y2=R((P60,w01)=>{var{Writable:sg1}=KX();w01.exports=class Z extends sg1{constructor(Y){super({objectMode:!0});if(!Y)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=Y}_write(Y,J,X){if(Y.exception)return this.transport.log(Y,X);return X(),!0}}});var b2=R((T60,A01)=>{var M01=import.meta.require("os"),rg1=lz(),g2=DW()("winston:exception"),tg1=x2(),B01=f2(),og1=y2();A01.exports=class Z{constructor(Y){if(!Y)throw new Error("Logger is required to handle exceptions");this.logger=Y,this.handlers=new Map}handle(...Y){if(Y.forEach((J)=>{if(Array.isArray(J))return J.forEach((X)=>this._addHandler(X));this._addHandler(J)}),!this.catcher)this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher)}unhandle(){if(this.catcher)process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((Y)=>this.logger.unpipe(Y))}getAllInfo(Y){let J=null;if(Y)J=typeof Y==="string"?Y:Y.message;return{error:Y,level:"error",message:[`uncaughtException: ${J||"(no error message)"}`,Y&&Y.stack||"  No stack trace"].join("\n"),stack:Y&&Y.stack,exception:!0,date:(new Date()).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(Y)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:M01.loadavg(),uptime:M01.uptime()}}getTrace(Y){return(Y?B01.parse(Y):B01.get()).map((X)=>{return{column:X.getColumnNumber(),file:X.getFileName(),function:X.getFunctionName(),line:X.getLineNumber(),method:X.getMethodName(),native:X.isNative()}})}_addHandler(Y){if(!this.handlers.has(Y)){Y.handleExceptions=!0;const J=new og1(Y);this.handlers.set(Y,J),this.logger.pipe(J)}}_uncaughtException(Y){const J=this.getAllInfo(Y),X=this._getExceptionHandlers();let $=typeof this.logger.exitOnError==="function"?this.logger.exitOnError(Y):this.logger.exitOnError,W;if(!X.length&&$)console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),$=!1;function G(){if(g2("doExit",$),g2("process._exiting",process._exiting),$&&!process._exiting){if(W)clearTimeout(W);process.exit(1)}}if(!X||X.length===0)return process.nextTick(G);if(rg1(X,(Q,K)=>{const H=tg1(K),z=Q.transport||Q;function F(U){return()=>{g2(U),H()}}z._ending=!0,z.once("finish",F("finished")),z.once("error",F("error"))},()=>$&&G()),this.logger.log(J),$)W=setTimeout(G,3000)}_getExceptionHandlers(){return this.logger.transports.filter((Y)=>{return(Y.transport||Y).handleExceptions})}}});var h2=R((C60,D01)=>{var N01=import.meta.require("os"),eg1=lz(),v2=DW()("winston:rejection"),Zb1=x2(),I01=f2(),Yb1=y2();D01.exports=class Z{constructor(Y){if(!Y)throw new Error("Logger is required to handle rejections");this.logger=Y,this.handlers=new Map}handle(...Y){if(Y.forEach((J)=>{if(Array.isArray(J))return J.forEach((X)=>this._addHandler(X));this._addHandler(J)}),!this.catcher)this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher)}unhandle(){if(this.catcher)process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((Y)=>this.logger.unpipe(Y))}getAllInfo(Y){let J=null;if(Y)J=typeof Y==="string"?Y:Y.message;return{error:Y,level:"error",message:[`unhandledRejection: ${J||"(no error message)"}`,Y&&Y.stack||"  No stack trace"].join("\n"),stack:Y&&Y.stack,exception:!0,date:(new Date()).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(Y)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:N01.loadavg(),uptime:N01.uptime()}}getTrace(Y){return(Y?I01.parse(Y):I01.get()).map((X)=>{return{column:X.getColumnNumber(),file:X.getFileName(),function:X.getFunctionName(),line:X.getLineNumber(),method:X.getMethodName(),native:X.isNative()}})}_addHandler(Y){if(!this.handlers.has(Y)){Y.handleRejections=!0;const J=new Yb1(Y);this.handlers.set(Y,J),this.logger.pipe(J)}}_unhandledRejection(Y){const J=this.getAllInfo(Y),X=this._getRejectionHandlers();let $=typeof this.logger.exitOnError==="function"?this.logger.exitOnError(Y):this.logger.exitOnError,W;if(!X.length&&$)console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),$=!1;function G(){if(v2("doExit",$),v2("process._exiting",process._exiting),$&&!process._exiting){if(W)clearTimeout(W);process.exit(1)}}if(!X||X.length===0)return process.nextTick(G);if(eg1(X,(Q,K)=>{const H=Zb1(K),z=Q.transport||Q;function F(U){return()=>{v2(U),H()}}z._ending=!0,z.once("finish",F("finished")),z.once("error",F("error"))},()=>$&&G()),this.logger.log(J),$)W=setTimeout(G,3000)}_getRejectionHandlers(){return this.logger.transports.filter((Y)=>{return(Y.transport||Y).handleRejections})}}});var C01=R((E60,T01)=>{class P01{constructor(Z){const Y=iz();if(typeof Z!=="object"||Array.isArray(Z)||!(Z instanceof Y))throw new Error("Logger is required for profiling");else this.logger=Z,this.start=Date.now()}done(...Z){if(typeof Z[Z.length-1]==="function")console.warn("Callback function no longer supported as of winston@3.0.0"),Z.pop();const Y=typeof Z[Z.length-1]==="object"?Z.pop():{};return Y.level=Y.level||"info",Y.durationMs=Date.now()-this.start,this.logger.write(Y)}}T01.exports=P01});var iz=R((j60,S01)=>{var m2=function(Z,Y){const J=Z[Y];if(!J&&J!==0)return null;return J},{Stream:Jb1,Transform:Xb1}=KX(),E01=lz(),{LEVEL:P4,SPLAT:j01}=v0(),O01=j2(),$b1=b2(),Wb1=h2(),Gb1=iN(),Qb1=C01(),{warn:Kb1}=MN(),Hb1=cz(),zb1=/%[scdjifoO%]/g;class u2 extends Xb1{constructor(Z){super({objectMode:!0});this.configure(Z)}child(Z){const Y=this;return Object.create(Y,{write:{value:function(J){const X=Object.assign({},Z,J);if(J instanceof Error)X.stack=J.stack,X.message=J.message;Y.write(X)}}})}configure({silent:Z,format:Y,defaultMeta:J,levels:X,level:$="info",exitOnError:W=!0,transports:G,colors:Q,emitErrs:K,formatters:H,padLevels:z,rewriters:F,stripColors:U,exceptionHandlers:q,rejectionHandlers:V}={}){if(this.transports.length)this.clear();if(this.silent=Z,this.format=Y||this.format||UN()(),this.defaultMeta=J||null,this.levels=X||this.levels||Hb1.npm.levels,this.level=$,this.exceptions)this.exceptions.unhandle();if(this.rejections)this.rejections.unhandle();if(this.exceptions=new $b1(this),this.rejections=new Wb1(this),this.profilers={},this.exitOnError=W,G)G=Array.isArray(G)?G:[G],G.forEach((L)=>this.add(L));if(Q||K||H||z||F||U)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));if(q)this.exceptions.handle(q);if(V)this.rejections.handle(V)}isLevelEnabled(Z){const Y=m2(this.levels,Z);if(Y===null)return!1;const J=m2(this.levels,this.level);if(J===null)return!1;if(!this.transports||this.transports.length===0)return J>=Y;return this.transports.findIndex(($)=>{let W=m2(this.levels,$.level);if(W===null)W=J;return W>=Y})!==-1}log(Z,Y,...J){if(arguments.length===1)return Z[P4]=Z.level,this._addDefaultMeta(Z),this.write(Z),this;if(arguments.length===2){if(Y&&typeof Y==="object")return Y[P4]=Y.level=Z,this._addDefaultMeta(Y),this.write(Y),this;return Y={[P4]:Z,level:Z,message:Y},this._addDefaultMeta(Y),this.write(Y),this}const[X]=J;if(typeof X==="object"&&X!==null){if(!(Y&&Y.match&&Y.match(zb1))){const W=Object.assign({},this.defaultMeta,X,{[P4]:Z,[j01]:J,level:Z,message:Y});if(X.message)W.message=`${W.message} ${X.message}`;if(X.stack)W.stack=X.stack;return this.write(W),this}}return this.write(Object.assign({},this.defaultMeta,{[P4]:Z,[j01]:J,level:Z,message:Y})),this}_transform(Z,Y,J){if(this.silent)return J();if(!Z[P4])Z[P4]=Z.level;if(!this.levels[Z[P4]]&&this.levels[Z[P4]]!==0)console.error("[winston] Unknown logger level: %s",Z[P4]);if(!this._readableState.pipes)console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",Z);try{this.push(this.format.transform(Z,this.format.options))}finally{this._writableState.sync=!1,J()}}_final(Z){const Y=this.transports.slice();E01(Y,(J,X)=>{if(!J||J.finished)return setImmediate(X);J.once("finish",X),J.end()},Z)}add(Z){const Y=!O01(Z)||Z.log.length>2?new Gb1({transport:Z}):Z;if(!Y._writableState||!Y._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");if(this._onEvent("error",Y),this._onEvent("warn",Y),this.pipe(Y),Z.handleExceptions)this.exceptions.handle();if(Z.handleRejections)this.rejections.handle();return this}remove(Z){if(!Z)return this;let Y=Z;if(!O01(Z)||Z.log.length>2)Y=this.transports.filter((J)=>J.transport===Z)[0];if(Y)this.unpipe(Y);return this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){Kb1.deprecated("setLevels")}query(Z,Y){if(typeof Z==="function")Y=Z,Z={};Z=Z||{};const J={},X=Object.assign({},Z.query||{});function $(G,Q){if(Z.query&&typeof G.formatQuery==="function")Z.query=G.formatQuery(X);G.query(Z,(K,H)=>{if(K)return Q(K);if(typeof G.formatResults==="function")H=G.formatResults(H,Z.format);Q(null,H)})}function W(G,Q){$(G,(K,H)=>{if(Q){if(H=K||H,H)J[G.name]=H;Q()}Q=null})}E01(this.transports.filter((G)=>!!G.query),W,()=>Y(null,J))}stream(Z={}){const Y=new Jb1,J=[];return Y._streams=J,Y.destroy=()=>{let X=J.length;while(X--)J[X].destroy()},this.transports.filter((X)=>!!X.stream).forEach((X)=>{const $=X.stream(Z);if(!$)return;J.push($),$.on("log",(W)=>{W.transport=W.transport||[],W.transport.push(X.name),Y.emit("log",W)}),$.on("error",(W)=>{W.transport=W.transport||[],W.transport.push(X.name),Y.emit("error",W)})}),Y}startTimer(){return new Qb1(this)}profile(Z,...Y){const J=Date.now();if(this.profilers[Z]){const X=this.profilers[Z];if(delete this.profilers[Z],typeof Y[Y.length-2]==="function")console.warn("Callback function no longer supported as of winston@3.0.0"),Y.pop();const $=typeof Y[Y.length-1]==="object"?Y.pop():{};return $.level=$.level||"info",$.durationMs=J-X,$.message=$.message||Z,this.write($)}return this.profilers[Z]=J,this}handleExceptions(...Z){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...Z)}unhandleExceptions(...Z){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...Z)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(Z,Y){function J(X){if(Z==="error"&&!this.transports.includes(Y))this.add(Y);this.emit(Z,X,Y)}if(!Y["__winston"+Z])Y["__winston"+Z]=J.bind(this),Y.on(Z,Y["__winston"+Z])}_addDefaultMeta(Z){if(this.defaultMeta)Object.assign(Z,this.defaultMeta)}}Object.defineProperty(u2.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:Z}=this._readableState;return!Array.isArray(Z)?[Z].filter(Boolean):Z}});S01.exports=u2});var d2=R((O60,k01)=>{var Lb1=function(Z){return"is"+Z.charAt(0).toUpperCase()+Z.slice(1)+"Enabled"},{LEVEL:Fb1}=v0(),Ub1=cz(),qb1=iz(),Vb1=DW()("winston:create-logger");k01.exports=function(Z={}){Z.levels=Z.levels||Ub1.npm.levels;class Y extends qb1{constructor(X){super(X)}}const J=new Y(Z);return Object.keys(Z.levels).forEach(function(X){if(Vb1('Define prototype method for "%s"',X),X==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}Y.prototype[X]=function(...$){const W=this||J;if($.length===1){const[G]=$,Q=G&&G.message&&G||{message:G};return Q.level=Q[Fb1]=X,W._addDefaultMeta(Q),W.write(Q),this||J}if($.length===0)return W.log(X,""),W;return W.log(X,...$)},Y.prototype[Lb1(X)]=function(){return(this||J).isLevelEnabled(X)}}),J}});var x01=R((S60,_01)=>{var Rb1=d2();_01.exports=class Z{constructor(Y={}){this.loggers=new Map,this.options=Y}add(Y,J){if(!this.loggers.has(Y)){J=Object.assign({},J||this.options);const X=J.transports||this.options.transports;if(X)J.transports=Array.isArray(X)?X.slice():[X];else J.transports=[];const $=Rb1(J);$.on("close",()=>this._delete(Y)),this.loggers.set(Y,$)}return this.loggers.get(Y)}get(Y,J){return this.add(Y,J)}has(Y){return!!this.loggers.has(Y)}close(Y){if(Y)return this._removeLogger(Y);this.loggers.forEach((J,X)=>this._removeLogger(X))}_removeLogger(Y){if(!this.loggers.has(Y))return;this.loggers.get(Y).close(),this._delete(Y)}_delete(Y){this.loggers.delete(Y)}}});var v01=R((i7)=>{var f01=RN(),{warn:CW}=MN();i7.version=Ho().version;i7.transports=Q01();i7.config=cz();i7.addColors=f01.levels;i7.format=f01.format;i7.createLogger=d2();i7.Logger=iz();i7.ExceptionHandler=b2();i7.RejectionHandler=h2();i7.Container=x01();i7.Transport=n9();i7.loggers=new i7.Container;var H5=i7.createLogger();Object.keys(i7.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach((Z)=>i7[Z]=(...Y)=>H5[Z](...Y));Object.defineProperty(i7,"level",{get(){return H5.level},set(Z){H5.level=Z}});Object.defineProperty(i7,"exceptions",{get(){return H5.exceptions}});["exitOnError"].forEach((Z)=>{Object.defineProperty(i7,Z,{get(){return H5[Z]},set(Y){H5[Z]=Y}})});Object.defineProperty(i7,"default",{get(){return{exceptionHandlers:H5.exceptionHandlers,rejectionHandlers:H5.rejectionHandlers,transports:H5.transports}}});CW.deprecated(i7,"setLevels");CW.forFunctions(i7,"useFormat",["cli"]);CW.forProperties(i7,"useFormat",["padLevels","stripColors"]);CW.forFunctions(i7,"deprecated",["addRewriter","addFilter","clone","extend"]);CW.forProperties(i7,"deprecated",["emitErrs","levelLength"])});var TZ={MONGO_ATLAS_USER:"arce",MONGO_ATLAS_PASS:"f8NNwmWiTcs53eQR",MONGO_ATLAS_CLUSTER:"cluster0.qqc3zvl.mongodb.net",MONGO_ATLAS_DB:"e4cc",MONGODB_URI:""};TZ.MONGODB_URI=`mongodb+srv://${TZ.MONGO_ATLAS_USER}:${TZ.MONGO_ATLAS_PASS}@${TZ.MONGO_ATLAS_CLUSTER}/${TZ.MONGO_ATLAS_DB}?retryWrites=true&w=majority`;var{serve:Cb1}=globalThis.Bun;function oz(Z){if(Z.method==="OPTIONS"){const J={"Access-Control-Allow-Origin":Z.headers.get("Origin")||"*","Access-Control-Allow-Credentials":"true"};return J["Access-Control-Allow-Methods"]="GET, POST, OPTIONS",J["Access-Control-Allow-Headers"]="Content-Type, Authorization, X-Requested-With, X-TLC, X-PROJECT",J["Access-Control-Max-Age"]="3600",new Response(null,{status:204,headers:J})}return!1}import i01 from"path";var __dirname="/home/arce/BACK-END-EMMA-AI/src/server/handler",ZY=new Map,n01=async(Z)=>{if(ZY.has(Z))return;if(!Z.match(/^[a-zA-Z0-9/]+$/)){if(Z!=="/favicon.ico")console.error("Invalid command name",Z);ZY.set(Z,null);return}const Y=i01.join(__dirname,"../../controllers",Z+".js");try{const J=import.meta.require(Y).default;if(typeof J!=="function")console.error("Invalid command",Y),ZY.set(Z,null);ZY.set(Z,J);return}catch(J){console.error("Error loading command",Y),console.error(J),console.trace(),ZY.set(Z,null)}},o2=async(Z)=>{return await n01(Z),ZY.get(Z)??null};var e2=async(Z)=>{const Y=Z.url.pathname.substring(1),J=await o2(Y);if(!J)return new Response("Command not found",{status:404});try{return await J(Z)}catch(X){return a01(Z,X)}},a01=(Z,Y)=>{let J=Y.message;if(Y.response)J=Y.response.data?.error?.message??Y.response.data?.error;return console.error("handleError",Y),Response.json({status:Y?.response?.status??400,code:Y.code,message:J},{status:Y?.response?.status??400})};async function s01(Z){const Y={request:Z,headers:Z.headers,url:new URL(Z.url),method:Z.method,query:Z.url.includes("?")?new URLSearchParams(Z.url.split("?")[1]):new URLSearchParams};if((Z.method==="POST"||Z.method==="PUT")&&Z.headers.get("Content-Type")?.includes("application/json"))try{if(Z.headers.get("Content-Length")!=="0"){const J=await Z.json();Y.body=J}}catch(J){console.error("Error parsing request body:",J),Y.body=null}return Y}var r01=function(Z,Y){if(!(Y instanceof Response))if(typeof Y==="string")Y=new Response(Y,{status:200});else if(typeof Y==="object")Y=new Response(JSON.stringify(Y),{status:200});else if(typeof Y==="number")Y=new Response(Y.toString(),{status:200});else Y=new Response(null,{status:204});const J=Z.headers.get("Origin");return Y.headers.set("Access-Control-Allow-Origin",J||"*"),Y.headers.set("Access-Control-Allow-Credentials","true"),Y};async function ZI(Z){try{const Y=await s01(Z),J=oz(Y);if(J)return J;const X=await e2(Y);return r01(Y,X)}catch(Y){return console.error("handleRequest",Y),new Response("Internal Server Error",{status:500})}}var LX=function(Z){switch(YI.call(Z)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return s7(Z,Error)}},ez=function(Z,Y){return YI.call(Z)===`[object ${Y}]`};var a7=function(Z){return ez(Z,"String")},xW=function(Z){return Z===null||typeof Z!=="object"&&typeof Z!=="function"},w6=function(Z){return ez(Z,"Object")},ZF=function(Z){return typeof Event!=="undefined"&&s7(Z,Event)},YF=function(Z){return typeof Element!=="undefined"&&s7(Z,Element)},RX=function(Z){return ez(Z,"RegExp")},n0=function(Z){return Boolean(Z&&Z.then&&typeof Z.then==="function")},JF=function(Z){return w6(Z)&&("nativeEvent"in Z)&&("preventDefault"in Z)&&("stopPropagation"in Z)},wX=function(Z){return typeof Z==="number"&&Z!==Z},s7=function(Z,Y){try{return Z instanceof Y}catch(J){return!1}},fW=function(Z){return!!(typeof Z==="object"&&Z!==null&&(Z.__isVue||Z._isVue))},YI=Object.prototype.toString;var r7=function(Z,Y=0){if(typeof Z!=="string"||Y===0)return Z;return Z.length<=Y?Z:`${Z.slice(0,Y)}...`},MX=function(Z,Y){let J=Z;const X=J.length;if(X<=150)return J;if(Y>X)Y=X;let $=Math.max(Y-60,0);if($<5)$=0;let W=Math.min($+140,X);if(W>X-5)W=X;if(W===X)$=Math.max(W-140,0);if(J=J.slice($,W),$>0)J=`'{snip} ${J}`;if(W<X)J+=" {snip}";return J};var JI=function(Z,Y,J=!1){if(!a7(Z))return!1;if(RX(Y))return Y.test(Z);if(a7(Y))return J?Z===Y:Z.includes(Y);return!1},t7=function(Z,Y=[],J=!1){return Y.some((X)=>JI(Z,X,J))};var $F=function(Z,Y,J=250,X,$,W,G){if(!W.exception||!W.exception.values||!G||!s7(G.originalException,Error))return;const Q=W.exception.values.length>0?W.exception.values[W.exception.values.length-1]:void 0;if(Q)W.exception.values=t01(XF(Z,Y,$,G.originalException,X,W.exception.values,Q,0),J)},XF=function(Z,Y,J,X,$,W,G,Q){if(W.length>=J+1)return W;let K=[...W];if(s7(X[$],Error)){XI(G,Q);const H=Z(Y,X[$]),z=K.length;$I(H,$,z,Q),K=XF(Z,Y,J,X[$],$,[H,...K],H,z)}if(Array.isArray(X.errors))X.errors.forEach((H,z)=>{if(s7(H,Error)){XI(G,Q);const F=Z(Y,H),U=K.length;$I(F,`errors[${z}]`,U,Q),K=XF(Z,Y,J,H,$,[F,...K],F,U)}});return K},XI=function(Z,Y){Z.mechanism=Z.mechanism||{type:"generic",handled:!0},Z.mechanism={...Z.mechanism,is_exception_group:!0,exception_id:Y}},$I=function(Z,Y,J,X){Z.mechanism=Z.mechanism||{type:"generic",handled:!0},Z.mechanism={...Z.mechanism,type:"chained",source:Y,exception_id:J,parent_id:X}},t01=function(Z,Y){return Z.map((J)=>{if(J.value)J.value=r7(J.value,Y);return J})};var yW=function(Z){return Z&&Z.Math==Math?Z:void 0},BX=function(){return _1},AX=function(Z,Y,J){const X=J||_1,$=X.__SENTRY__=X.__SENTRY__||{};return $[Z]||($[Z]=Y())},_1=typeof globalThis=="object"&&yW(globalThis)||typeof window=="object"&&yW(window)||typeof self=="object"&&yW(self)||typeof global=="object"&&yW(global)||function(){return this}()||{};var WI=function(Z,Y={}){if(!Z)return"<unknown>";try{let J=Z;const X=5,$=[];let W=0,G=0;const Q=" > ",K=Q.length;let H;const z=Array.isArray(Y)?Y:Y.keyAttrs,F=!Array.isArray(Y)&&Y.maxStringLength||o01;while(J&&W++<X){if(H=e01(J,z),H==="html"||W>1&&G+$.length*K+H.length>=F)break;$.push(H),G+=H.length,J=J.parentNode}return $.reverse().join(Q)}catch(J){return"<unknown>"}},e01=function(Z,Y){const J=Z,X=[];let $,W,G,Q,K;if(!J||!J.tagName)return"";X.push(J.tagName.toLowerCase());const H=Y&&Y.length?Y.filter((F)=>J.getAttribute(F)).map((F)=>[F,J.getAttribute(F)]):null;if(H&&H.length)H.forEach((F)=>{X.push(`[${F[0]}="${F[1]}"]`)});else{if(J.id)X.push(`#${J.id}`);if($=J.className,$&&a7($)){W=$.split(/\s+/);for(K=0;K<W.length;K++)X.push(`.${W[K]}`)}}const z=["aria-label","type","name","title","alt"];for(K=0;K<z.length;K++)if(G=z[K],Q=J.getAttribute(G),Q)X.push(`[${G}="${Q}"]`);return X.join("")};var nb1=BX(),o01=80;var o7=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var E8=function(Z){if(!("console"in _1))return Z();const Y=_1.console,J={},X=Object.keys(YY);X.forEach(($)=>{const W=YY[$];J[$]=Y[$],Y[$]=W});try{return Z()}finally{X.forEach(($)=>{Y[$]=J[$]})}},Y81=function(){let Z=!1;const Y={enable:()=>{Z=!0},disable:()=>{Z=!1},isEnabled:()=>Z};if(o7)NX.forEach((J)=>{Y[J]=(...X)=>{if(Z)E8(()=>{_1.console[J](`${Z81}[${J}]:`,...X)})}});else NX.forEach((J)=>{Y[J]=()=>{return}});return Y},Z81="Sentry Logger ",NX=["debug","info","warn","error","log","assert","trace"],YY={},v=Y81();var X81=function(Z){return Z==="http"||Z==="https"},F5=function(Z,Y=!1){const{host:J,path:X,pass:$,port:W,projectId:G,protocol:Q,publicKey:K}=Z;return`${Q}://${K}${Y&&$?`:${$}`:""}`+`@${J}${W?`:${W}`:""}/${X?`${X}/`:X}${G}`},GI=function(Z){const Y=J81.exec(Z);if(!Y){E8(()=>{console.error(`Invalid Sentry Dsn: ${Z}`)});return}const[J,X,$="",W,G="",Q]=Y.slice(1);let K="",H=Q;const z=H.split("/");if(z.length>1)K=z.slice(0,-1).join("/"),H=z.pop();if(H){const F=H.match(/^\d+/);if(F)H=F[0]}return QI({host:W,pass:$,path:K,projectId:H,port:G,protocol:J,publicKey:X})},QI=function(Z){return{protocol:Z.protocol,publicKey:Z.publicKey||"",pass:Z.pass||"",host:Z.host,port:Z.port||"",path:Z.path||"",projectId:Z.projectId}},$81=function(Z){if(!o7)return!0;const{port:Y,projectId:J,protocol:X}=Z;if(["protocol","publicKey","host","projectId"].find((G)=>{if(!Z[G])return v.error(`Invalid Sentry Dsn: ${G} missing`),!0;return!1}))return!1;if(!J.match(/^\d+$/))return v.error(`Invalid Sentry Dsn: Invalid projectId ${J}`),!1;if(!X81(X))return v.error(`Invalid Sentry Dsn: Invalid protocol ${X}`),!1;if(Y&&isNaN(parseInt(Y,10)))return v.error(`Invalid Sentry Dsn: Invalid port ${Y}`),!1;return!0},gW=function(Z){const Y=typeof Z==="string"?GI(Z):QI(Z);if(!Y||!$81(Y))return;return Y},J81=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;class j8 extends Error{constructor(Z,Y="warn"){super(Z);this.message=Z,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=Y}}var E0=function(Z,Y,J){if(!(Y in Z))return;const X=Z[Y],$=J(X);if(typeof $==="function")zI($,X);Z[Y]=$},JY=function(Z,Y,J){try{Object.defineProperty(Z,Y,{value:J,writable:!0,configurable:!0})}catch(X){o7&&v.log(`Failed to add non-enumerable property "${Y}" to object`,Z)}},zI=function(Z,Y){try{const J=Y.prototype||{};Z.prototype=Y.prototype=J,JY(Z,"__sentry_original__",Y)}catch(J){}},GF=function(Z){return Z.__sentry_original__},QF=function(Z){return Object.keys(Z).map((Y)=>`${encodeURIComponent(Y)}=${encodeURIComponent(Z[Y])}`).join("&")},bW=function(Z){if(LX(Z))return{message:Z.message,name:Z.name,stack:Z.stack,...HI(Z)};else if(ZF(Z)){const Y={type:Z.type,target:KI(Z.target),currentTarget:KI(Z.currentTarget),...HI(Z)};if(typeof CustomEvent!=="undefined"&&s7(Z,CustomEvent))Y.detail=Z.detail;return Y}else return Z},KI=function(Z){try{return YF(Z)?WI(Z):Object.prototype.toString.call(Z)}catch(Y){return"<unknown>"}},HI=function(Z){if(typeof Z==="object"&&Z!==null){const Y={};for(let J in Z)if(Object.prototype.hasOwnProperty.call(Z,J))Y[J]=Z[J];return Y}else return{}},KF=function(Z,Y=40){const J=Object.keys(bW(Z));if(J.sort(),!J.length)return"[object has no keys]";if(J[0].length>=Y)return r7(J[0],Y);for(let X=J.length;X>0;X--){const $=J.slice(0,X).join(", ");if($.length>Y)continue;if(X===J.length)return $;return r7($,Y)}return""},f0=function(Z){return WF(Z,new Map)},WF=function(Z,Y){if(w6(Z)){const J=Y.get(Z);if(J!==void 0)return J;const X={};Y.set(Z,X);for(let $ of Object.keys(Z))if(typeof Z[$]!=="undefined")X[$]=WF(Z[$],Y);return X}if(Array.isArray(Z)){const J=Y.get(Z);if(J!==void 0)return J;const X=[];return Y.set(Z,X),Z.forEach(($)=>{X.push(WF($,Y))}),X}return Z};var W81=function(Z,Y=!1){return!(Y||Z&&!Z.startsWith("/")&&!Z.includes(":\\")&&!Z.startsWith(".")&&!Z.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&Z!==void 0&&!Z.includes("node_modules/")},FI=function(Z){const Y=/^\s*[-]{4,}$/,J=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return(X)=>{const $=X.match(J);if($){let W,G,Q,K,H;if($[1]){Q=$[1];let U=Q.lastIndexOf(".");if(Q[U-1]===".")U--;if(U>0){W=Q.slice(0,U),G=Q.slice(U+1);const q=W.indexOf(".Module");if(q>0)Q=Q.slice(q+1),W=W.slice(0,q)}K=void 0}if(G)K=W,H=G;if(G==="<anonymous>")H=void 0,Q=void 0;if(Q===void 0)H=H||"<anonymous>",Q=K?`${K}.${H}`:H;let z=$[2]&&$[2].startsWith("file://")?$[2].slice(7):$[2];const F=$[5]==="native";if(!z&&$[5]&&!F)z=$[5];return{filename:z,module:Z?Z(z):void 0,function:Q,lineno:parseInt($[3],10)||void 0,colno:parseInt($[4],10)||void 0,in_app:W81(z,F)}}if(X.match(Y))return{filename:X};return}};var vW=function(...Z){const Y=Z.sort((J,X)=>J[0]-X[0]).map((J)=>J[1]);return(J,X=0)=>{const $=[],W=J.split("\n");for(let G=X;G<W.length;G++){const Q=W[G];if(Q.length>1024)continue;const K=UI.test(Q)?Q.replace(UI,"$1"):Q;if(K.match(/\S*Error: /))continue;for(let H of Y){const z=H(K);if(z){$.push(z);break}}if($.length>=VI)break}return LI($)}},zF=function(Z){if(Array.isArray(Z))return vW(...Z);return Z},LI=function(Z){if(!Z.length)return[];const Y=Array.from(Z);if(/sentryWrapped/.test(Y[Y.length-1].function||""))Y.pop();if(Y.reverse(),qI.test(Y[Y.length-1].function||"")){if(Y.pop(),qI.test(Y[Y.length-1].function||""))Y.pop()}return Y.slice(0,VI).map((J)=>({...J,filename:J.filename||Y[Y.length-1].filename,function:J.function||"?"}))},IX=function(Z){try{if(!Z||typeof Z!=="function")return HF;return Z.name||HF}catch(Y){return HF}},FF=function(Z){return[90,FI(Z)]},VI=50,UI=/\(error: (.*)\)/,qI=/captureMessage|captureException/,HF="<anonymous>";var XY=function(Z,Y){hW[Z]=hW[Z]||[],hW[Z].push(Y)};var $Y=function(Z,Y){if(!RI[Z])Y(),RI[Z]=!0},WY=function(Z,Y){const J=Z&&hW[Z];if(!J)return;for(let X of J)try{X(Y)}catch($){o7&&v.error(`Error while triggering instrumentation handler.\nType: ${Z}\nName: ${IX(X)}\nError:`,$)}},hW={},RI={};var UF=function(Z){XY("console",Z),$Y("console",G81)},G81=function(){if(!("console"in _1))return;NX.forEach(function(Z){if(!(Z in _1.console))return;E0(_1.console,Z,function(Y){return YY[Z]=Y,function(...J){WY("console",{args:J,level:Z});const $=YY[Z];$&&$.apply(_1.console,J)}})})};var M0=function(){const Z=_1,Y=Z.crypto||Z.msCrypto;let J=()=>Math.random()*16;try{if(Y&&Y.randomUUID)return Y.randomUUID().replace(/-/g,"");if(Y&&Y.getRandomValues)J=()=>Y.getRandomValues(new Uint8Array(1))[0]}catch(X){}return([1e7]+1000+4000+8000+100000000000).replace(/[018]/g,(X)=>(X^(J()&15)>>X/4).toString(16))},wI=function(Z){return Z.exception&&Z.exception.values?Z.exception.values[0]:void 0},C4=function(Z){const{message:Y,event_id:J}=Z;if(Y)return Y;const X=wI(Z);if(X){if(X.type&&X.value)return`${X.type}: ${X.value}`;return X.type||X.value||J||"<unknown>"}return J||"<unknown>"},qF=function(Z,Y,J){const X=Z.exception=Z.exception||{},$=X.values=X.values||[],W=$[0]=$[0]||{};if(!W.value)W.value=Y||"";if(!W.type)W.type=J||"Error"},DX=function(Z,Y){const J=wI(Z);if(!J)return;const X={type:"generic",handled:!0},$=J.mechanism;if(J.mechanism={...X,...$,...Y},Y&&("data"in Y)){const W={...$&&$.data,...Y.data};J.mechanism.data=W}},VF=function(Z){const Y=Z.match(Q81)||[],J=parseInt(Y[1],10),X=parseInt(Y[2],10),$=parseInt(Y[3],10);return{buildmetadata:Y[5],major:isNaN(J)?void 0:J,minor:isNaN(X)?void 0:X,patch:isNaN($)?void 0:$,prerelease:Y[4]}},LF=function(Z,Y,J=5){if(Y.lineno===void 0)return;const X=Z.length,$=Math.max(Math.min(X-1,Y.lineno-1),0);Y.pre_context=Z.slice(Math.max(0,$-J),$).map((W)=>MX(W,0)),Y.context_line=MX(Z[Math.min(X-1,$)],Y.colno||0),Y.post_context=Z.slice(Math.min($+1,X),$+1+J).map((W)=>MX(W,0))},mW=function(Z){if(Z&&Z.__sentry_captured__)return!0;try{JY(Z,"__sentry_captured__",!0)}catch(Y){}return!1},U5=function(Z){return Array.isArray(Z)?Z:[Z]},Q81=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;var RF=function(Z){XY("error",Z),$Y("error",K81)},K81=function(){uW=_1.onerror,_1.onerror=function(Z,Y,J,X,$){if(WY("error",{column:X,error:$,line:J,msg:Z,url:Y}),uW&&!uW.__SENTRY_LOADER__)return uW.apply(this,arguments);return!1},_1.onerror.__SENTRY_INSTRUMENTED__=!0},uW=null;var wF=function(Z){XY("unhandledrejection",Z),$Y("unhandledrejection",H81)},H81=function(){dW=_1.onunhandledrejection,_1.onunhandledrejection=function(Z){if(WY("unhandledrejection",Z),dW&&!dW.__SENTRY_LOADER__)return dW.apply(this,arguments);return!0},_1.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0},dW=null;var MI=function(){return typeof __SENTRY_BROWSER_BUNDLE__!=="undefined"&&!!__SENTRY_BROWSER_BUNDLE__};var BF=function(){return!MI()&&Object.prototype.toString.call(typeof process!=="undefined"?process:0)==="[object process]"},q5=function(Z,Y){return Z.require(Y)},b6=function(Z){let Y;try{Y=q5(MF,Z)}catch(J){}try{const{cwd:J}=q5(MF,"process");Y=q5(MF,`${J()}/node_modules/${Z}`)}catch(J){}return Y};var BI=function(){const Z=typeof WeakSet==="function",Y=Z?new WeakSet:[];function J($){if(Z){if(Y.has($))return!0;return Y.add($),!1}for(let W=0;W<Y.length;W++)if(Y[W]===$)return!0;return Y.push($),!1}function X($){if(Z)Y.delete($);else for(let W=0;W<Y.length;W++)if(Y[W]===$){Y.splice(W,1);break}}return[J,X]};var M6=function(Z,Y=100,J=Infinity){try{return cW("",Z,Y,J)}catch(X){return{ERROR:`**non-serializable** (${X})`}}},pW=function(Z,Y=3,J=102400){const X=M6(Z,Y);if(q81(X)>J)return pW(Z,Y-1,J);return X},cW=function(Z,Y,J=Infinity,X=Infinity,$=BI()){const[W,G]=$;if(Y==null||["number","boolean","string"].includes(typeof Y)&&!wX(Y))return Y;const Q=z81(Z,Y);if(!Q.startsWith("[object "))return Q;if(Y.__sentry_skip_normalization__)return Y;const K=typeof Y.__sentry_override_normalization_depth__==="number"?Y.__sentry_override_normalization_depth__:J;if(K===0)return Q.replace("object ","");if(W(Y))return"[Circular ~]";const H=Y;if(H&&typeof H.toJSON==="function")try{const q=H.toJSON();return cW("",q,K-1,X,$)}catch(q){}const z=Array.isArray(Y)?[]:{};let F=0;const U=bW(Y);for(let q in U){if(!Object.prototype.hasOwnProperty.call(U,q))continue;if(F>=X){z[q]="[MaxProperties ~]";break}const V=U[q];z[q]=cW(q,V,K-1,X,$),F++}return G(Y),z},z81=function(Z,Y){try{if(Z==="domain"&&Y&&typeof Y==="object"&&Y._events)return"[Domain]";if(Z==="domainEmitter")return"[DomainEmitter]";if(typeof global!=="undefined"&&Y===global)return"[Global]";if(typeof window!=="undefined"&&Y===window)return"[Window]";if(typeof document!=="undefined"&&Y===document)return"[Document]";if(fW(Y))return"[VueViewModel]";if(JF(Y))return"[SyntheticEvent]";if(typeof Y==="number"&&Y!==Y)return"[NaN]";if(typeof Y==="function")return`[Function: ${IX(Y)}]`;if(typeof Y==="symbol")return`[${String(Y)}]`;if(typeof Y==="bigint")return`[BigInt: ${String(Y)}]`;const J=F81(Y);if(/^HTML(\w*)Element$/.test(J))return`[HTMLElement: ${J}]`;return`[object ${J}]`}catch(J){return`**non-serializable** (${J})`}},F81=function(Z){const Y=Object.getPrototypeOf(Z);return Y?Y.constructor.name:"null prototype"},U81=function(Z){return~-encodeURI(Z).split(/%..|./).length},q81=function(Z){return U81(JSON.stringify(Z))};var B6=function(Z){return new R8((Y)=>{Y(Z)})},CZ=function(Z){return new R8((Y,J)=>{J(Z)})},E4;(function(Z){Z[Z.PENDING=0]="PENDING";const J=1;Z[Z.RESOLVED=J]="RESOLVED";const X=2;Z[Z.REJECTED=X]="REJECTED"})(E4||(E4={}));class R8{constructor(Z){R8.prototype.__init.call(this),R8.prototype.__init2.call(this),R8.prototype.__init3.call(this),R8.prototype.__init4.call(this),this._state=E4.PENDING,this._handlers=[];try{Z(this._resolve,this._reject)}catch(Y){this._reject(Y)}}then(Z,Y){return new R8((J,X)=>{this._handlers.push([!1,($)=>{if(!Z)J($);else try{J(Z($))}catch(W){X(W)}},($)=>{if(!Y)X($);else try{J(Y($))}catch(W){X(W)}}]),this._executeHandlers()})}catch(Z){return this.then((Y)=>Y,Z)}finally(Z){return new R8((Y,J)=>{let X,$;return this.then((W)=>{if($=!1,X=W,Z)Z()},(W)=>{if($=!0,X=W,Z)Z()}).then(()=>{if($){J(X);return}Y(X)})})}__init(){this._resolve=(Z)=>{this._setResult(E4.RESOLVED,Z)}}__init2(){this._reject=(Z)=>{this._setResult(E4.REJECTED,Z)}}__init3(){this._setResult=(Z,Y)=>{if(this._state!==E4.PENDING)return;if(n0(Y)){Y.then(this._resolve,this._reject);return}this._state=Z,this._value=Y,this._executeHandlers()}}__init4(){this._executeHandlers=()=>{if(this._state===E4.PENDING)return;const Z=this._handlers.slice();this._handlers=[],Z.forEach((Y)=>{if(Y[0])return;if(this._state===E4.RESOLVED)Y[1](this._value);if(this._state===E4.REJECTED)Y[2](this._value);Y[0]=!0})}}}var AF=function(Z){const Y=[];function J(){return Z===void 0||Y.length<Z}function X(G){return Y.splice(Y.indexOf(G),1)[0]}function $(G){if(!J())return CZ(new j8("Not adding Promise because buffer limit was reached."));const Q=G();if(Y.indexOf(Q)===-1)Y.push(Q);return Q.then(()=>X(Q)).then(null,()=>X(Q).then(null,()=>{})),Q}function W(G){return new R8((Q,K)=>{let H=Y.length;if(!H)return Q(!0);const z=setTimeout(()=>{if(G&&G>0)Q(!1)},G);Y.forEach((F)=>{B6(F).then(()=>{if(!--H)clearTimeout(z),Q(!0)},K)})})}return{$:Y,add:$,drain:W}};var AI=function(Z){const Y={};let J=0;while(J<Z.length){const X=Z.indexOf("=",J);if(X===-1)break;let $=Z.indexOf(";",J);if($===-1)$=Z.length;else if($<X){J=Z.lastIndexOf(";",X-1)+1;continue}const W=Z.slice(J,X).trim();if(Y[W]===void 0){let G=Z.slice(X+1,$).trim();if(G.charCodeAt(0)===34)G=G.slice(1,-1);try{Y[W]=G.indexOf("%")!==-1?decodeURIComponent(G):G}catch(Q){Y[W]=G}}J=$+1}return Y};var PX=function(Z){if(!Z)return{};const Y=Z.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Y)return{};const J=Y[6]||"",X=Y[8]||"";return{host:Y[4],path:Y[5],protocol:Y[2],search:J,hash:X,relative:Y[5]+J+X}},EZ=function(Z){return Z.split(/[\?#]/,1)[0]},GY=function(Z){return Z.split(/\\?\//).filter((Y)=>Y.length>0&&Y!==",").length},TX=function(Z){const{protocol:Y,host:J,path:X}=Z,$=J&&J.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${Y?`${Y}://`:""}${$}${X}`};var jZ=function(Z,Y={}){const J=Z.method&&Z.method.toUpperCase();let X="",$="url";if(Y.customRoute||Z.route)X=Y.customRoute||`${Z.baseUrl||""}${Z.route&&Z.route.path}`,$="route";else if(Z.originalUrl||Z.url)X=EZ(Z.originalUrl||Z.url||"");let W="";if(Y.method&&J)W+=J;if(Y.method&&Y.path)W+=" ";if(Y.path&&X)W+=X;return[W,$]},R81=function(Z,Y){switch(Y){case"path":return jZ(Z,{path:!0})[0];case"handler":return Z.route&&Z.route.stack&&Z.route.stack[0]&&Z.route.stack[0].name||"<anonymous>";case"methodPath":default:{const J=Z._reconstructedRoute?Z._reconstructedRoute:void 0;return jZ(Z,{path:!0,method:!0,customRoute:J})[0]}}},w81=function(Z,Y){const J={};return(Array.isArray(Y)?Y:NI).forEach(($)=>{if(Z&&($ in Z))J[$]=Z[$]}),J},NF=function(Z,Y){const{include:J=L81,deps:X}=Y||{},$={},W=Z.headers||{},G=Z.method,Q=Z.hostname||Z.host||W.host||"<no host>",K=Z.protocol==="https"||Z.socket&&Z.socket.encrypted?"https":"http",H=Z.originalUrl||Z.url||"",z=H.startsWith(K)?H:`${K}://${Q}${H}`;return J.forEach((F)=>{switch(F){case"headers":{if($.headers=W,!J.includes("cookies"))delete $.headers.cookie;break}case"method":{$.method=G;break}case"url":{$.url=z;break}case"cookies":{$.cookies=Z.cookies||W.cookie&&AI(W.cookie)||{};break}case"query_string":{$.query_string=M81(Z,X);break}case"data":{if(G==="GET"||G==="HEAD")break;if(Z.body!==void 0)$.data=a7(Z.body)?Z.body:JSON.stringify(M6(Z.body));break}default:if({}.hasOwnProperty.call(Z,F))$[F]=Z[F]}}),$},IF=function(Z,Y,J){const X={...V81,...J&&J.include};if(X.request){const $=Array.isArray(X.request)?NF(Y,{include:X.request,deps:J&&J.deps}):NF(Y,{deps:J&&J.deps});Z.request={...Z.request,...$}}if(X.user){const $=Y.user&&w6(Y.user)?w81(Y.user,X.user):{};if(Object.keys($).length)Z.user={...Z.user,...$}}if(X.ip){const $=Y.ip||Y.socket&&Y.socket.remoteAddress;if($)Z.user={...Z.user,ip_address:$}}if(X.transaction&&!Z.transaction)Z.transaction=R81(Y,X.transaction);return Z},M81=function(Z,Y){let J=Z.originalUrl||Z.url||"";if(!J)return;if(J.startsWith("/"))J=`http://dogs.are.great${J}`;try{return Z.query||typeof URL!==void 0&&new URL(J).search.slice(1)||Y&&Y.url&&Y.url.parse(J).query||void 0}catch(X){return}};var V81={ip:!1,request:!0,transaction:!0,user:!0},L81=["cookies","data","headers","method","query_string","url"],NI=["id","username","email"];var DF=function(Z){return Z==="warn"?"warning":II.includes(Z)?Z:"log"},II=["fatal","error","warning","log","info","debug"];var B81=function(){const{performance:Z}=PI;if(!Z||!Z.now)return;const Y=Date.now()-Z.now();return{now:()=>Z.now(),timeOrigin:Y}},A81=function(){try{return q5(I81,"perf_hooks").performance}catch(Z){return}},PI=BX(),TF={nowSeconds:()=>Date.now()/1000},PF=BF()?A81():B81(),DI=PF===void 0?TF:{nowSeconds:()=>(PF.timeOrigin+PF.now())/1000},OZ=TF.nowSeconds.bind(TF),SZ=DI.nowSeconds.bind(DI);var CX,N81=(()=>{const{performance:Z}=PI;if(!Z||!Z.now){CX="none";return}const Y=3600000,J=Z.now(),X=Date.now(),$=Z.timeOrigin?Math.abs(Z.timeOrigin+J-X):Y,W=$<Y,G=Z.timing&&Z.timing.navigationStart,K=typeof G==="number"?Math.abs(G+J-X):Y,H=K<Y;if(W||H)if($<=K)return CX="timeOrigin",Z.timeOrigin;else return CX="navigationStart",G;return CX="dateNow",X})();var EF=function(Z){if(!a7(Z)&&!Array.isArray(Z))return;let Y={};if(Array.isArray(Z))Y=Z.reduce((X,$)=>{const W=TI($);return{...X,...W}},{});else{if(!Z)return;Y=TI(Z)}const J=Object.entries(Y).reduce((X,[$,W])=>{if($.match(CI)){const G=$.slice(CF.length);X[G]=W}return X},{});if(Object.keys(J).length>0)return J;else return},QY=function(Z){if(!Z)return;const Y=Object.entries(Z).reduce((J,[X,$])=>{if($)J[`${CF}${X}`]=$;return J},{});return D81(Y)},TI=function(Z){return Z.split(",").map((Y)=>Y.split("=").map((J)=>decodeURIComponent(J.trim()))).reduce((Y,[J,X])=>{return Y[J]=X,Y},{})},D81=function(Z){if(Object.keys(Z).length===0)return;return Object.entries(Z).reduce((Y,[J,X],$)=>{const W=`${encodeURIComponent(J)}=${encodeURIComponent(X)}`,G=$===0?W:`${Y},${W}`;if(G.length>EI)return o7&&v.warn(`Not adding key: ${J} with val: ${X} to baggage header due to exceeding baggage size limits.`),Y;else return G},"")};var CF="sentry-",CI=/^sentry-/,EI=8192;var OI=function(Z){if(!Z)return;const Y=Z.match(jI);if(!Y)return;let J;if(Y[3]==="1")J=!0;else if(Y[3]==="0")J=!1;return{traceId:Y[1],parentSampled:J,parentSpanId:Y[2]}},EX=function(Z,Y){const J=OI(Z),X=EF(Y),{traceId:$,parentSpanId:W,parentSampled:G}=J||{},Q={traceId:$||M0(),spanId:M0().substring(16),sampled:G};if(W)Q.parentSpanId=W;if(X)Q.dsc=X;return{traceparentData:J,dynamicSamplingContext:X,propagationContext:Q}},kZ=function(Z=M0(),Y=M0().substring(16),J){let X="";if(J!==void 0)X=J?"-1":"-0";return`${Z}-${Y}${X}`},jI=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var V5=function(Z,Y=[]){return[Z,Y]},OF=function(Z,Y){const[J,X]=Z;return[J,[...X,Y]]},lW=function(Z,Y){const J=Z[1];for(let X of J){const $=X[0].type;if(Y(X,$))return!0}return!1};var jF=function(Z,Y){return(Y||new TextEncoder).encode(Z)},jX=function(Z,Y){const[J,X]=Z;let $=JSON.stringify(J);function W(G){if(typeof $==="string")$=typeof G==="string"?$+G:[jF($,Y),G];else $.push(typeof G==="string"?jF(G,Y):G)}for(let G of X){const[Q,K]=G;if(W(`\n${JSON.stringify(Q)}\n`),typeof K==="string"||K instanceof Uint8Array)W(K);else{let H;try{H=JSON.stringify(K)}catch(z){H=JSON.stringify(M6(K))}W(H)}}return typeof $==="string"?$:P81($)},P81=function(Z){const Y=Z.reduce(($,W)=>$+W.length,0),J=new Uint8Array(Y);let X=0;for(let $ of Z)J.set($,X),X+=$.length;return J};var SF=function(Z,Y){const J=typeof Z.data==="string"?jF(Z.data,Y):Z.data;return[f0({type:"attachment",length:J.length,filename:Z.filename,content_type:Z.contentType,attachment_type:Z.attachmentType}),J]},iW=function(Z){return T81[Z]},nW=function(Z){if(!Z||!Z.sdk)return;const{name:Y,version:J}=Z.sdk;return{name:Y,version:J}},kF=function(Z,Y,J,X){const $=Z.sdkProcessingMetadata&&Z.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:Z.event_id,sent_at:(new Date()).toISOString(),...Y&&{sdk:Y},...!!J&&X&&{dsn:F5(X)},...$&&{trace:f0({...$})}}},T81={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};var SI=function(Z,Y=Date.now()){const J=parseInt(`${Z}`,10);if(!isNaN(J))return J*1000;const X=Date.parse(`${Z}`);if(!isNaN(X))return X-Y;return 60000},kI=function(Z,Y){return Z[Y]||Z.all||0},_F=function(Z,Y,J=Date.now()){return kI(Z,Y)>J},xF=function(Z,{statusCode:Y,headers:J},X=Date.now()){const $={...Z},W=J&&J["x-sentry-rate-limits"],G=J&&J["retry-after"];if(W)for(let Q of W.trim().split(",")){const[K,H]=Q.split(":",2),z=parseInt(K,10),F=(!isNaN(z)?z:60)*1000;if(!H)$.all=X+F;else for(let U of H.split(";"))$[U]=X+F}else if(G)$.all=X+SI(G,X);else if(Y===429)$.all=X+60000;return $};var fF=function(Z,Y){return Z(Y.stack||"",1)},aW=function(Z,Y){const J={type:Y.name||Y.constructor.name,value:Y.message},X=fF(Z,Y);if(X.length)J.stacktrace={frames:X};return J},C81=function(Z){if(("name"in Z)&&typeof Z.name==="string"){let Y=`'${Z.name}' captured as exception`;if(("message"in Z)&&typeof Z.message==="string")Y+=` with message '${Z.message}'`;return Y}else if(("message"in Z)&&typeof Z.message==="string")return Z.message;else return`Object captured as exception with keys: ${KF(Z)}`},yF=function(Z,Y,J,X){let $=J;const G=X&&X.data&&X.data.mechanism||{handled:!0,type:"generic"};if(!LX(J)){if(w6(J)){const K=Z(),H=K.getClient(),z=H&&H.getOptions().normalizeDepth;K.configureScope((U)=>{U.setExtra("__serialized__",pW(J,z))});const F=C81(J);$=X&&X.syntheticException||new Error(F),$.message=F}else $=X&&X.syntheticException||new Error(J),$.message=J;G.synthetic=!0}const Q={exception:{values:[aW(Y,$)]}};return qF(Q,void 0,void 0),DX(Q,G),{...Q,event_id:X&&X.event_id}},gF=function(Z,Y,J="info",X,$){const W={event_id:X&&X.event_id,level:J,message:Y};if($&&X&&X.syntheticException){const G=fF(Z,X.syntheticException);if(G.length)W.exception={values:[{value:Y,stacktrace:{frames:G}}]}}return W};class v6{constructor(Z){this._maxSize=Z,this._cache=new Map}get size(){return this._cache.size}get(Z){const Y=this._cache.get(Z);if(Y===void 0)return;return this._cache.delete(Z),this._cache.set(Z,Y),Y}set(Z,Y){if(this._cache.size>=this._maxSize)this._cache.delete(this._cache.keys().next().value);this._cache.set(Z,Y)}remove(Z){const Y=this._cache.get(Z);if(Y)this._cache.delete(Z);return Y}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const Z=[];return this._cache.forEach((Y)=>Z.push(Y)),Z}}var OX=function(Z,Y){return Z!=null?Z:Y()};var d=function(Z){let Y=void 0,J=Z[0],X=1;while(X<Z.length){const $=Z[X],W=Z[X+1];if(X+=2,($==="optionalAccess"||$==="optionalCall")&&J==null)return;if($==="access"||$==="optionalAccess")Y=J,J=W(J);else if($==="call"||$==="optionalCall")J=W((...G)=>J.call(Y,...G)),Y=void 0}return J};var X1=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var KY="production";var SX=function(){return AX("globalEventProcessors",()=>[])},bF=function(Z){SX().push(Z)},HY=function(Z,Y,J,X=0){return new R8(($,W)=>{const G=Z[X];if(Y===null||typeof G!=="function")$(Y);else{const Q=G({...Y},J);if(X1&&G.id&&Q===null&&v.log(`Event processor "${G.id}" dropped event`),n0(Q))Q.then((K)=>HY(Z,K,J,X+1).then($)).then(null,W);else HY(Z,Q,J,X+1).then($).then(null,W)}})};var _I=function(Z){const Y=SZ(),J={sid:M0(),init:!0,timestamp:Y,started:Y,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>E81(J)};if(Z)j4(J,Z);return J},j4=function(Z,Y={}){if(Y.user){if(!Z.ipAddress&&Y.user.ip_address)Z.ipAddress=Y.user.ip_address;if(!Z.did&&!Y.did)Z.did=Y.user.id||Y.user.email||Y.user.username}if(Z.timestamp=Y.timestamp||SZ(),Y.abnormal_mechanism)Z.abnormal_mechanism=Y.abnormal_mechanism;if(Y.ignoreDuration)Z.ignoreDuration=Y.ignoreDuration;if(Y.sid)Z.sid=Y.sid.length===32?Y.sid:M0();if(Y.init!==void 0)Z.init=Y.init;if(!Z.did&&Y.did)Z.did=`${Y.did}`;if(typeof Y.started==="number")Z.started=Y.started;if(Z.ignoreDuration)Z.duration=void 0;else if(typeof Y.duration==="number")Z.duration=Y.duration;else{const J=Z.timestamp-Z.started;Z.duration=J>=0?J:0}if(Y.release)Z.release=Y.release;if(Y.environment)Z.environment=Y.environment;if(!Z.ipAddress&&Y.ipAddress)Z.ipAddress=Y.ipAddress;if(!Z.userAgent&&Y.userAgent)Z.userAgent=Y.userAgent;if(typeof Y.errors==="number")Z.errors=Y.errors;if(Y.status)Z.status=Y.status},xI=function(Z,Y){let J={};if(Y)J={status:Y};else if(Z.status==="ok")J={status:"exited"};j4(Z,J)},E81=function(Z){return f0({sid:`${Z.sid}`,init:Z.init,started:new Date(Z.started*1000).toISOString(),timestamp:new Date(Z.timestamp*1000).toISOString(),status:Z.status,errors:Z.errors,did:typeof Z.did==="number"||typeof Z.did==="string"?`${Z.did}`:void 0,duration:Z.duration,abnormal_mechanism:Z.abnormal_mechanism,attrs:{release:Z.release,environment:Z.environment,ip_address:Z.ipAddress,user_agent:Z.userAgent}})};var fI=function(){return{traceId:M0(),spanId:M0().substring(16)}},j81=100;class h6{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=fI()}static clone(Z){const Y=new h6;if(Z)Y._breadcrumbs=[...Z._breadcrumbs],Y._tags={...Z._tags},Y._extra={...Z._extra},Y._contexts={...Z._contexts},Y._user=Z._user,Y._level=Z._level,Y._span=Z._span,Y._session=Z._session,Y._transactionName=Z._transactionName,Y._fingerprint=Z._fingerprint,Y._eventProcessors=[...Z._eventProcessors],Y._requestSession=Z._requestSession,Y._attachments=[...Z._attachments],Y._sdkProcessingMetadata={...Z._sdkProcessingMetadata},Y._propagationContext={...Z._propagationContext};return Y}addScopeListener(Z){this._scopeListeners.push(Z)}addEventProcessor(Z){return this._eventProcessors.push(Z),this}setUser(Z){if(this._user=Z||{},this._session)j4(this._session,{user:Z});return this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(Z){return this._requestSession=Z,this}setTags(Z){return this._tags={...this._tags,...Z},this._notifyScopeListeners(),this}setTag(Z,Y){return this._tags={...this._tags,[Z]:Y},this._notifyScopeListeners(),this}setExtras(Z){return this._extra={...this._extra,...Z},this._notifyScopeListeners(),this}setExtra(Z,Y){return this._extra={...this._extra,[Z]:Y},this._notifyScopeListeners(),this}setFingerprint(Z){return this._fingerprint=Z,this._notifyScopeListeners(),this}setLevel(Z){return this._level=Z,this._notifyScopeListeners(),this}setTransactionName(Z){return this._transactionName=Z,this._notifyScopeListeners(),this}setContext(Z,Y){if(Y===null)delete this._contexts[Z];else this._contexts[Z]=Y;return this._notifyScopeListeners(),this}setSpan(Z){return this._span=Z,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const Z=this.getSpan();return Z&&Z.transaction}setSession(Z){if(!Z)delete this._session;else this._session=Z;return this._notifyScopeListeners(),this}getSession(){return this._session}update(Z){if(!Z)return this;if(typeof Z==="function"){const Y=Z(this);return Y instanceof h6?Y:this}if(Z instanceof h6){if(this._tags={...this._tags,...Z._tags},this._extra={...this._extra,...Z._extra},this._contexts={...this._contexts,...Z._contexts},Z._user&&Object.keys(Z._user).length)this._user=Z._user;if(Z._level)this._level=Z._level;if(Z._fingerprint)this._fingerprint=Z._fingerprint;if(Z._requestSession)this._requestSession=Z._requestSession;if(Z._propagationContext)this._propagationContext=Z._propagationContext}else if(w6(Z)){if(Z=Z,this._tags={...this._tags,...Z.tags},this._extra={...this._extra,...Z.extra},this._contexts={...this._contexts,...Z.contexts},Z.user)this._user=Z.user;if(Z.level)this._level=Z.level;if(Z.fingerprint)this._fingerprint=Z.fingerprint;if(Z.requestSession)this._requestSession=Z.requestSession;if(Z.propagationContext)this._propagationContext=Z.propagationContext}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=fI(),this}addBreadcrumb(Z,Y){const J=typeof Y==="number"?Y:j81;if(J<=0)return this;const X={timestamp:OZ(),...Z},$=this._breadcrumbs;return $.push(X),this._breadcrumbs=$.length>J?$.slice(-J):$,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(Z){return this._attachments.push(Z),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(Z,Y={},J){if(this._extra&&Object.keys(this._extra).length)Z.extra={...this._extra,...Z.extra};if(this._tags&&Object.keys(this._tags).length)Z.tags={...this._tags,...Z.tags};if(this._user&&Object.keys(this._user).length)Z.user={...this._user,...Z.user};if(this._contexts&&Object.keys(this._contexts).length)Z.contexts={...this._contexts,...Z.contexts};if(this._level)Z.level=this._level;if(this._transactionName)Z.transaction=this._transactionName;if(this._span){Z.contexts={trace:this._span.getTraceContext(),...Z.contexts};const W=this._span.transaction;if(W){Z.sdkProcessingMetadata={dynamicSamplingContext:W.getDynamicSamplingContext(),...Z.sdkProcessingMetadata};const G=W.name;if(G)Z.tags={transaction:G,...Z.tags}}}this._applyFingerprint(Z);const X=this._getBreadcrumbs(),$=[...Z.breadcrumbs||[],...X];return Z.breadcrumbs=$.length>0?$:void 0,Z.sdkProcessingMetadata={...Z.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},HY([...J||[],...SX(),...this._eventProcessors],Z,Y)}setSDKProcessingMetadata(Z){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...Z},this}setPropagationContext(Z){return this._propagationContext=Z,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){if(!this._notifyingListeners)this._notifyingListeners=!0,this._scopeListeners.forEach((Z)=>{Z(this)}),this._notifyingListeners=!1}_applyFingerprint(Z){if(Z.fingerprint=Z.fingerprint?U5(Z.fingerprint):[],this._fingerprint)Z.fingerprint=Z.fingerprint.concat(this._fingerprint);if(Z.fingerprint&&!Z.fingerprint.length)delete Z.fingerprint}}var R7=function(){return _1.__SENTRY__=_1.__SENTRY__||{extensions:{},hub:void 0},_1},sW=function(Z){const Y=R7(),J=m6(Y);return UY(Y,Z),J},V1=function(){const Z=R7();if(Z.__SENTRY__&&Z.__SENTRY__.acs){const Y=Z.__SENTRY__.acs.getCurrentHub();if(Y)return Y}return yI(Z)},yI=function(Z=R7()){if(!gI(Z)||m6(Z).isOlderThan(vF))UY(Z,new zY);return m6(Z)},FY=function(Z,Y=yI()){if(!gI(Z)||m6(Z).isOlderThan(vF)){const J=Y.getStackTop();UY(Z,new zY(J.client,h6.clone(J.scope)))}},kX=function(Z){const Y=R7();Y.__SENTRY__=Y.__SENTRY__||{},Y.__SENTRY__.acs=Z},rW=function(Z,Y={}){const J=R7();if(J.__SENTRY__&&J.__SENTRY__.acs)return J.__SENTRY__.acs.runWithAsyncContext(Z,Y);return Z()},gI=function(Z){return!!(Z&&Z.__SENTRY__&&Z.__SENTRY__.hub)},m6=function(Z){return AX("hub",()=>new zY,Z)},UY=function(Z,Y){if(!Z)return!1;const J=Z.__SENTRY__=Z.__SENTRY__||{};return J.hub=Y,!0},vF=4,O81=100;class zY{constructor(Z,Y=new h6,J=vF){if(this._version=J,this._stack=[{scope:Y}],Z)this.bindClient(Z)}isOlderThan(Z){return this._version<Z}bindClient(Z){const Y=this.getStackTop();if(Y.client=Z,Z&&Z.setupIntegrations)Z.setupIntegrations()}pushScope(){const Z=h6.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:Z}),Z}popScope(){if(this.getStack().length<=1)return!1;return!!this.getStack().pop()}withScope(Z){const Y=this.pushScope();try{Z(Y)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(Z,Y){const J=this._lastEventId=Y&&Y.event_id?Y.event_id:M0(),X=new Error("Sentry syntheticException");return this._withClient(($,W)=>{$.captureException(Z,{originalException:Z,syntheticException:X,...Y,event_id:J},W)}),J}captureMessage(Z,Y,J){const X=this._lastEventId=J&&J.event_id?J.event_id:M0(),$=new Error(Z);return this._withClient((W,G)=>{W.captureMessage(Z,Y,{originalException:Z,syntheticException:$,...J,event_id:X},G)}),X}captureEvent(Z,Y){const J=Y&&Y.event_id?Y.event_id:M0();if(!Z.type)this._lastEventId=J;return this._withClient((X,$)=>{X.captureEvent(Z,{...Y,event_id:J},$)}),J}lastEventId(){return this._lastEventId}addBreadcrumb(Z,Y){const{scope:J,client:X}=this.getStackTop();if(!X)return;const{beforeBreadcrumb:$=null,maxBreadcrumbs:W=O81}=X.getOptions&&X.getOptions()||{};if(W<=0)return;const Q={timestamp:OZ(),...Z},K=$?E8(()=>$(Q,Y)):Q;if(K===null)return;if(X.emit)X.emit("beforeAddBreadcrumb",K,Y);J.addBreadcrumb(K,W)}setUser(Z){this.getScope().setUser(Z)}setTags(Z){this.getScope().setTags(Z)}setExtras(Z){this.getScope().setExtras(Z)}setTag(Z,Y){this.getScope().setTag(Z,Y)}setExtra(Z,Y){this.getScope().setExtra(Z,Y)}setContext(Z,Y){this.getScope().setContext(Z,Y)}configureScope(Z){const{scope:Y,client:J}=this.getStackTop();if(J)Z(Y)}run(Z){const Y=sW(this);try{Z(this)}finally{sW(Y)}}getIntegration(Z){const Y=this.getClient();if(!Y)return null;try{return Y.getIntegration(Z)}catch(J){return X1&&v.warn(`Cannot retrieve integration ${Z.id} from the current Hub`),null}}startTransaction(Z,Y){const J=this._callExtensionMethod("startTransaction",Z,Y);if(X1&&!J)if(!this.getClient())v.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'");else v.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`);return J}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(Z=!1){if(Z)return this.endSession();this._sendSessionUpdate()}endSession(){const Y=this.getStackTop().scope,J=Y.getSession();if(J)xI(J);this._sendSessionUpdate(),Y.setSession()}startSession(Z){const{scope:Y,client:J}=this.getStackTop(),{release:X,environment:$=KY}=J&&J.getOptions()||{},{userAgent:W}=_1.navigator||{},G=_I({release:X,environment:$,user:Y.getUser(),...W&&{userAgent:W},...Z}),Q=Y.getSession&&Y.getSession();if(Q&&Q.status==="ok")j4(Q,{status:"exited"});return this.endSession(),Y.setSession(G),G}shouldSendDefaultPii(){const Z=this.getClient(),Y=Z&&Z.getOptions();return Boolean(Y&&Y.sendDefaultPii)}_sendSessionUpdate(){const{scope:Z,client:Y}=this.getStackTop(),J=Z.getSession();if(J&&Y&&Y.captureSession)Y.captureSession(J)}_withClient(Z){const{scope:Y,client:J}=this.getStackTop();if(J)Z(J,Y)}_callExtensionMethod(Z,...Y){const X=R7().__SENTRY__;if(X&&X.extensions&&typeof X.extensions[Z]==="function")return X.extensions[Z].apply(this,Y);X1&&v.warn(`Extension method ${Z} couldn't be found, doing nothing.`)}}var hF=function(Z){return(Z||V1()).getScope().getTransaction()};var vI=function(){if(bI)return;bI=!0,RF(mF),wF(mF)},mF=function(){const Z=hF();if(Z)X1&&v.log("[Tracing] Transaction: internal_error -> Global error occured"),Z.setStatus("internal_error")},bI=!1;mF.tag="sentry_tracingErrorCallback";var hI=function(Z){if(Z<400&&Z>=100)return"ok";if(Z>=400&&Z<500)switch(Z){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(Z>=500&&Z<600)switch(Z){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"};class uF{constructor(Z=1000){this._maxlen=Z,this.spans=[]}add(Z){if(this.spans.length>this._maxlen)Z.spanRecorder=void 0;else this.spans.push(Z)}}class tW{constructor(Z={}){if(this.traceId=Z.traceId||M0(),this.spanId=Z.spanId||M0().substring(16),this.startTimestamp=Z.startTimestamp||SZ(),this.tags=Z.tags||{},this.data=Z.data||{},this.instrumenter=Z.instrumenter||"sentry",this.origin=Z.origin||"manual",Z.parentSpanId)this.parentSpanId=Z.parentSpanId;if("sampled"in Z)this.sampled=Z.sampled;if(Z.op)this.op=Z.op;if(Z.description)this.description=Z.description;if(Z.name)this.description=Z.name;if(Z.status)this.status=Z.status;if(Z.endTimestamp)this.endTimestamp=Z.endTimestamp}get name(){return this.description||""}set name(Z){this.setName(Z)}startChild(Z){const Y=new tW({...Z,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(Y.spanRecorder=this.spanRecorder,Y.spanRecorder)Y.spanRecorder.add(Y);if(Y.transaction=this.transaction,X1&&Y.transaction){const J=Z&&Z.op||"< unknown op >",X=Y.transaction.name||"< unknown name >",$=Y.transaction.spanId,W=`[Tracing] Starting '${J}' span on transaction '${X}' (${$}).`;Y.transaction.metadata.spanMetadata[Y.spanId]={logMessage:W},v.log(W)}return Y}setTag(Z,Y){return this.tags={...this.tags,[Z]:Y},this}setData(Z,Y){return this.data={...this.data,[Z]:Y},this}setStatus(Z){return this.status=Z,this}setHttpStatus(Z){this.setTag("http.status_code",String(Z)),this.setData("http.response.status_code",Z);const Y=hI(Z);if(Y!=="unknown_error")this.setStatus(Y);return this}setName(Z){this.description=Z}isSuccess(){return this.status==="ok"}finish(Z){if(X1&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:Y}=this.transaction.metadata.spanMetadata[this.spanId];if(Y)v.log(Y.replace("Starting","Finishing"))}this.endTimestamp=typeof Z==="number"?Z:SZ()}toTraceparent(){return kZ(this.traceId,this.spanId,this.sampled)}toContext(){return f0({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(Z){return this.data=Z.data||{},this.description=Z.description,this.endTimestamp=Z.endTimestamp,this.op=Z.op,this.parentSpanId=Z.parentSpanId,this.sampled=Z.sampled,this.spanId=Z.spanId||this.spanId,this.startTimestamp=Z.startTimestamp||this.startTimestamp,this.status=Z.status,this.tags=Z.tags||{},this.traceId=Z.traceId||this.traceId,this}getTraceContext(){return f0({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return f0({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}var w7=function(Z,Y,J){const X=Y.getOptions(),{publicKey:$}=Y.getDsn()||{},{segment:W}=J&&J.getUser()||{},G=f0({environment:X.environment||KY,release:X.release,user_segment:W,public_key:$,trace_id:Z});return Y.emit&&Y.emit("createDsc",G),G};class qY extends tW{constructor(Z,Y){super(Z);delete this.description,this._measurements={},this._contexts={},this._hub=Y||V1(),this._name=Z.name||"",this.metadata={source:"custom",...Z.metadata,spanMetadata:{}},this._trimEnd=Z.trimEnd,this.transaction=this;const J=this.metadata.dynamicSamplingContext;if(J)this._frozenDynamicSamplingContext={...J}}get name(){return this._name}set name(Z){this.setName(Z)}setName(Z,Y="custom"){this._name=Z,this.metadata.source=Y}initSpanRecorder(Z=1000){if(!this.spanRecorder)this.spanRecorder=new uF(Z);this.spanRecorder.add(this)}setContext(Z,Y){if(Y===null)delete this._contexts[Z];else this._contexts[Z]=Y}setMeasurement(Z,Y,J=""){this._measurements[Z]={value:Y,unit:J}}setMetadata(Z){this.metadata={...this.metadata,...Z}}finish(Z){const Y=this._finishTransaction(Z);if(!Y)return;return this._hub.captureEvent(Y)}toContext(){const Z=super.toContext();return f0({...Z,name:this.name,trimEnd:this._trimEnd})}updateWithContext(Z){return super.updateWithContext(Z),this.name=Z.name||"",this._trimEnd=Z.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const Z=this._hub||V1(),Y=Z.getClient();if(!Y)return{};const J=Z.getScope(),X=w7(this.traceId,Y,J),$=this.metadata.sampleRate;if($!==void 0)X.sample_rate=`${$}`;const W=this.metadata.source;if(W&&W!=="url")X.transaction=this.name;if(this.sampled!==void 0)X.sampled=String(this.sampled);return X}setHub(Z){this._hub=Z}_finishTransaction(Z){if(this.endTimestamp!==void 0)return;if(!this.name)X1&&v.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>";super.finish(Z);const Y=this._hub.getClient();if(Y&&Y.emit)Y.emit("finishTransaction",this);if(this.sampled!==!0){if(X1&&v.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),Y)Y.recordDroppedEvent("sample_rate","transaction");return}const J=this.spanRecorder?this.spanRecorder.spans.filter((G)=>G!==this&&G.endTimestamp):[];if(this._trimEnd&&J.length>0)this.endTimestamp=J.reduce((G,Q)=>{if(G.endTimestamp&&Q.endTimestamp)return G.endTimestamp>Q.endTimestamp?G:Q;return G}).endTimestamp;const X=this.metadata,$={contexts:{...this._contexts,trace:this.getTraceContext()},spans:J,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...X,dynamicSamplingContext:this.getDynamicSamplingContext()},...X.source&&{transaction_info:{source:X.source}}};if(Object.keys(this._measurements).length>0)X1&&v.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),$.measurements=this._measurements;return X1&&v.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),$}}var uI=function(Z,Y,J,X,$){const{normalizeDepth:W=3,normalizeMaxBreadth:G=1000}=Z,Q={...Y,event_id:Y.event_id||J.event_id||M0(),timestamp:Y.timestamp||OZ()},K=J.integrations||Z.integrations.map((U)=>U.name);if(S81(Q,Z),x81(Q,K),Y.type===void 0)k81(Q,Z.stackParser);let H=X;if(J.captureContext)H=h6.clone(H).update(J.captureContext);if(J.mechanism)DX(Q,J.mechanism);let z=B6(Q);const F=$&&$.getEventProcessors?$.getEventProcessors():[];if(H){if(H.getAttachments){const U=[...J.attachments||[],...H.getAttachments()];if(U.length)J.attachments=U}z=H.applyToEvent(Q,J,F)}else z=HY([...F,...SX()],Q,J);return z.then((U)=>{if(U)_81(U);if(typeof W==="number"&&W>0)return f81(U,W,G);return U})},S81=function(Z,Y){const{environment:J,release:X,dist:$,maxValueLength:W=250}=Y;if(!("environment"in Z))Z.environment=("environment"in Y)?J:KY;if(Z.release===void 0&&X!==void 0)Z.release=X;if(Z.dist===void 0&&$!==void 0)Z.dist=$;if(Z.message)Z.message=r7(Z.message,W);const G=Z.exception&&Z.exception.values&&Z.exception.values[0];if(G&&G.value)G.value=r7(G.value,W);const Q=Z.request;if(Q&&Q.url)Q.url=r7(Q.url,W)},k81=function(Z,Y){const J=_1._sentryDebugIds;if(!J)return;let X;const $=mI.get(Y);if($)X=$;else X=new Map,mI.set(Y,X);const W=Object.keys(J).reduce((G,Q)=>{let K;const H=X.get(Q);if(H)K=H;else K=Y(Q),X.set(Q,K);for(let z=K.length-1;z>=0;z--){const F=K[z];if(F.filename){G[F.filename]=J[Q];break}}return G},{});try{Z.exception.values.forEach((G)=>{G.stacktrace.frames.forEach((Q)=>{if(Q.filename)Q.debug_id=W[Q.filename]})})}catch(G){}},_81=function(Z){const Y={};try{Z.exception.values.forEach((X)=>{X.stacktrace.frames.forEach(($)=>{if($.debug_id){if($.abs_path)Y[$.abs_path]=$.debug_id;else if($.filename)Y[$.filename]=$.debug_id;delete $.debug_id}})})}catch(X){}if(Object.keys(Y).length===0)return;Z.debug_meta=Z.debug_meta||{},Z.debug_meta.images=Z.debug_meta.images||[];const J=Z.debug_meta.images;Object.keys(Y).forEach((X)=>{J.push({type:"sourcemap",code_file:X,debug_id:Y[X]})})},x81=function(Z,Y){if(Y.length>0)Z.sdk=Z.sdk||{},Z.sdk.integrations=[...Z.sdk.integrations||[],...Y]},f81=function(Z,Y,J){if(!Z)return null;const X={...Z,...Z.breadcrumbs&&{breadcrumbs:Z.breadcrumbs.map(($)=>({...$,...$.data&&{data:M6($.data,Y,J)}}))},...Z.user&&{user:M6(Z.user,Y,J)},...Z.contexts&&{contexts:M6(Z.contexts,Y,J)},...Z.extra&&{extra:M6(Z.extra,Y,J)}};if(Z.contexts&&Z.contexts.trace&&X.contexts){if(X.contexts.trace=Z.contexts.trace,Z.contexts.trace.data)X.contexts.trace.data=M6(Z.contexts.trace.data,Y,J)}if(Z.spans)X.spans=Z.spans.map(($)=>{if($.data)$.data=M6($.data,Y,J);return $});return X},dI=function(Z){if(!Z)return;if(y81(Z))return{captureContext:Z};if(b81(Z))return{captureContext:Z};return Z},y81=function(Z){return Z instanceof h6||typeof Z==="function"},b81=function(Z){return Object.keys(Z).some((Y)=>g81.includes(Y))},mI=new WeakMap,g81=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];var VY=function(Z,Y){return V1().captureException(Z,dI(Y))};var L5=function(){return V1().getClient()};var oW=function(Z){if(typeof __SENTRY_TRACING__==="boolean"&&!__SENTRY_TRACING__)return!1;const Y=L5(),J=Z||Y&&Y.getOptions();return!!J&&(J.enableTracing||("tracesSampleRate"in J)||("tracesSampler"in J))};var cI=function(Z,Y,J){if(!oW(Y))return Z.sampled=!1,Z;if(Z.sampled!==void 0)return Z.setMetadata({sampleRate:Number(Z.sampled)}),Z;let X;if(typeof Y.tracesSampler==="function")X=Y.tracesSampler(J),Z.setMetadata({sampleRate:Number(X)});else if(J.parentSampled!==void 0)X=J.parentSampled;else if(typeof Y.tracesSampleRate!=="undefined")X=Y.tracesSampleRate,Z.setMetadata({sampleRate:Number(X)});else X=1,Z.setMetadata({sampleRate:X});if(!v81(X))return X1&&v.warn("[Tracing] Discarding transaction because of invalid sample rate."),Z.sampled=!1,Z;if(!X)return X1&&v.log(`[Tracing] Discarding transaction because ${typeof Y.tracesSampler==="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),Z.sampled=!1,Z;if(Z.sampled=Math.random()<X,!Z.sampled)return X1&&v.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(X)})`),Z;return X1&&v.log(`[Tracing] starting ${Z.op} transaction - ${Z.name}`),Z},v81=function(Z){if(wX(Z)||!(typeof Z==="number"||typeof Z==="boolean"))return X1&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(Z)} of type ${JSON.stringify(typeof Z)}.`),!1;if(Z<0||Z>1)return X1&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${Z}.`),!1;return!0};var h81=function(){const Y=this.getScope().getSpan();return Y?{"sentry-trace":Y.toTraceparent()}:{}},m81=function(Z,Y){const J=this.getClient(),X=J&&J.getOptions()||{},$=X.instrumenter||"sentry",W=Z.instrumenter||"sentry";if($!==W)X1&&v.error(`A transaction was started with instrumenter=\`${W}\`, but the SDK is configured with the \`${$}\` instrumenter.
The transaction will not be sampled. Please use the ${$} instrumentation to start transactions.`),Z.sampled=!1;let G=new qY(Z,this);if(G=cI(G,X,{parentSampled:Z.parentSampled,transactionContext:Z,...Y}),G.sampled)G.initSpanRecorder(X._experiments&&X._experiments.maxSpans);if(J&&J.emit)J.emit("startTransaction",G);return G};var pI=function(){const Z=R7();if(!Z.__SENTRY__)return;if(Z.__SENTRY__.extensions=Z.__SENTRY__.extensions||{},!Z.__SENTRY__.extensions.startTransaction)Z.__SENTRY__.extensions.startTransaction=m81;if(!Z.__SENTRY__.extensions.traceHeaders)Z.__SENTRY__.extensions.traceHeaders=h81;vI()};var eW=function(Z,Y,J=()=>{}){const X=iI(Z),$=V1(),W=$.getScope(),G=W.getSpan(),Q=lI($,G,X);W.setSpan(Q);function K(){Q&&Q.finish(),$.getScope().setSpan(G)}let H;try{H=Y(Q)}catch(z){throw Q&&Q.setStatus("internal_error"),J(z),K(),z}if(n0(H))Promise.resolve(H).then(()=>{K()},(z)=>{Q&&Q.setStatus("internal_error"),J(z),K()});else K();return H},ZG=function(Z,Y){const J=iI(Z),X=V1(),$=X.getScope(),W=$.getSpan(),G=lI(X,W,J);$.setSpan(G);function Q(){G&&G.finish(),X.getScope().setSpan(W)}let K;try{K=Y(G)}catch(H){throw G&&G.setStatus("internal_error"),Q(),H}if(n0(K))Promise.resolve(K).then(()=>{Q()},()=>{G&&G.setStatus("internal_error"),Q()});else Q();return K};var YG=function({sentryTrace:Z,baggage:Y},J){const $=V1().getScope(),{traceparentData:W,dynamicSamplingContext:G,propagationContext:Q}=EX(Z,Y);if($.setPropagationContext(Q),X1&&W)v.log(`[Tracing] Continuing trace ${W.traceId}.`);const K={...W,metadata:f0({dynamicSamplingContext:W&&!G?{}:G})};if(!J)return K;return J(K)},lI=function(Z,Y,J){if(!oW())return;return Y?Y.startChild(J):Z.startTransaction(J)},iI=function(Z){const Y={...Z};if(Y.name!==void 0&&Y.description===void 0)Y.description=Y.name;return Y};var u81=function(Z,Y){if(!Y)return Z;return Z.sdk=Z.sdk||{},Z.sdk.name=Z.sdk.name||Y.name,Z.sdk.version=Z.sdk.version||Y.version,Z.sdk.integrations=[...Z.sdk.integrations||[],...Y.integrations||[]],Z.sdk.packages=[...Z.sdk.packages||[],...Y.packages||[]],Z},nI=function(Z,Y,J,X){const $=nW(J),W={sent_at:(new Date()).toISOString(),...$&&{sdk:$},...!!X&&Y&&{dsn:F5(Y)}},G="aggregates"in Z?[{type:"sessions"},Z]:[{type:"session"},Z.toJSON()];return V5(W,[G])},aI=function(Z,Y,J,X){const $=nW(J),W=Z.type&&Z.type!=="replay_event"?Z.type:"event";u81(Z,J&&J.sdk);const G=kF(Z,$,X,Y);return delete Z.sdkProcessingMetadata,V5(G,[[{type:W},Z]])};class dF{constructor(Z,Y){this._client=Z,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1000),this._sessionAttrs=Y}flush(){const Z=this.getSessionAggregates();if(Z.aggregates.length===0)return;this._pendingAggregates={},this._client.sendSession(Z)}getSessionAggregates(){const Z=Object.keys(this._pendingAggregates).map((J)=>{return this._pendingAggregates[parseInt(J)]}),Y={attrs:this._sessionAttrs,aggregates:Z};return f0(Y)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const Z=V1().getScope(),Y=Z.getRequestSession();if(Y&&Y.status)this._incrementSessionStatusCount(Y.status,new Date),Z.setRequestSession(void 0)}_incrementSessionStatusCount(Z,Y){const J=new Date(Y).setSeconds(0,0);this._pendingAggregates[J]=this._pendingAggregates[J]||{};const X=this._pendingAggregates[J];if(!X.started)X.started=new Date(J).toISOString();switch(Z){case"errored":return X.errored=(X.errored||0)+1,X.errored;case"ok":return X.exited=(X.exited||0)+1,X.exited;default:return X.crashed=(X.crashed||0)+1,X.crashed}}}var c81=function(Z){const Y=Z.protocol?`${Z.protocol}:`:"",J=Z.port?`:${Z.port}`:"";return`${Y}//${Z.host}${J}${Z.path?`/${Z.path}`:""}/api/`},p81=function(Z){return`${c81(Z)}${Z.projectId}/envelope/`},l81=function(Z,Y){return QF({sentry_key:Z.publicKey,sentry_version:d81,...Y&&{sentry_client:`${Y.name}/${Y.version}`}})},sI=function(Z,Y={}){const J=typeof Y==="string"?Y:Y.tunnel,X=typeof Y==="string"||!Y._metadata?void 0:Y._metadata.sdk;return J?J:`${p81(Z)}?${l81(Z,X)}`};var d81="7";var i81=function(Z){const Y={};return Z.forEach((J)=>{const{name:X}=J,$=Y[X];if($&&!$.isDefaultInstance&&J.isDefaultInstance)return;Y[X]=J}),Object.keys(Y).map((J)=>Y[J])},cF=function(Z){const Y=Z.defaultIntegrations||[],J=Z.integrations;Y.forEach((G)=>{G.isDefaultInstance=!0});let X;if(Array.isArray(J))X=[...Y,...J];else if(typeof J==="function")X=U5(J(Y));else X=Y;const $=i81(X),W=n81($,(G)=>G.name==="Debug");if(W!==-1){const[G]=$.splice(W,1);$.push(G)}return $},tI=function(Z,Y){const J={};return Y.forEach((X)=>{if(X)pF(Z,X,J)}),J},pF=function(Z,Y,J){if(J[Y.name]=Y,rI.indexOf(Y.name)===-1)Y.setupOnce(bF,V1),rI.push(Y.name);if(Y.setup&&typeof Y.setup==="function")Y.setup(Z);if(Z.on&&typeof Y.preprocessEvent==="function"){const X=Y.preprocessEvent.bind(Y);Z.on("preprocessEvent",($,W)=>X($,W,Z))}if(Z.addEventProcessor&&typeof Y.processEvent==="function"){const X=Y.processEvent.bind(Y),$=Object.assign((W,G)=>X(W,G,Z),{id:Y.name});Z.addEventProcessor($)}X1&&v.log(`Integration installed: ${Y.name}`)};var n81=function(Z,Y){for(let J=0;J<Z.length;J++)if(Y(Z[J])===!0)return J;return-1},rI=[];var a81=function(Z,Y){const J=`${Y} must return \`null\` or a valid event.`;if(n0(Z))return Z.then((X)=>{if(!w6(X)&&X!==null)throw new j8(J);return X},(X)=>{throw new j8(`${Y} rejected with ${X}`)});else if(!w6(Z)&&Z!==null)throw new j8(J);return Z},s81=function(Z,Y,J){const{beforeSend:X,beforeSendTransaction:$}=Z;if(eI(Y)&&X)return X(Y,J);if(ZD(Y)&&$)return $(Y,J);return Y},eI=function(Z){return Z.type===void 0},ZD=function(Z){return Z.type==="transaction"},oI="Not capturing exception because it's already been captured.";class lF{constructor(Z){if(this._options=Z,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],Z.dsn)this._dsn=gW(Z.dsn);else X1&&v.warn("No DSN provided, client will not send events.");if(this._dsn){const Y=sI(this._dsn,Z);this._transport=Z.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...Z.transportOptions,url:Y})}}captureException(Z,Y,J){if(mW(Z)){X1&&v.log(oI);return}let X=Y&&Y.event_id;return this._process(this.eventFromException(Z,Y).then(($)=>this._captureEvent($,Y,J)).then(($)=>{X=$})),X}captureMessage(Z,Y,J,X){let $=J&&J.event_id;const W=xW(Z)?this.eventFromMessage(String(Z),Y,J):this.eventFromException(Z,J);return this._process(W.then((G)=>this._captureEvent(G,J,X)).then((G)=>{$=G})),$}captureEvent(Z,Y,J){if(Y&&Y.originalException&&mW(Y.originalException)){X1&&v.log(oI);return}let X=Y&&Y.event_id;return this._process(this._captureEvent(Z,Y,J).then(($)=>{X=$})),X}captureSession(Z){if(typeof Z.release!=="string")X1&&v.warn("Discarded session because of missing or non-string release");else this.sendSession(Z),j4(Z,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(Z){const Y=this._transport;if(Y)return this._isClientDoneProcessing(Z).then((J)=>{return Y.flush(Z).then((X)=>J&&X)});else return B6(!0)}close(Z){return this.flush(Z).then((Y)=>{return this.getOptions().enabled=!1,Y})}getEventProcessors(){return this._eventProcessors}addEventProcessor(Z){this._eventProcessors.push(Z)}setupIntegrations(Z){if(Z&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)this._integrations=tI(this,this._options.integrations),this._integrationsInitialized=!0}getIntegrationById(Z){return this._integrations[Z]}getIntegration(Z){try{return this._integrations[Z.id]||null}catch(Y){return X1&&v.warn(`Cannot retrieve integration ${Z.id} from the current Client`),null}}addIntegration(Z){pF(this,Z,this._integrations)}sendEvent(Z,Y={}){this.emit("beforeSendEvent",Z,Y);let J=aI(Z,this._dsn,this._options._metadata,this._options.tunnel);for(let $ of Y.attachments||[])J=OF(J,SF($,this._options.transportOptions&&this._options.transportOptions.textEncoder));const X=this._sendEnvelope(J);if(X)X.then(($)=>this.emit("afterSendEvent",Z,$),null)}sendSession(Z){const Y=nI(Z,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(Y)}recordDroppedEvent(Z,Y,J){if(this._options.sendClientReports){const X=`${Z}:${Y}`;X1&&v.log(`Adding outcome: "${X}"`),this._outcomes[X]=this._outcomes[X]+1||1}}on(Z,Y){if(!this._hooks[Z])this._hooks[Z]=[];this._hooks[Z].push(Y)}emit(Z,...Y){if(this._hooks[Z])this._hooks[Z].forEach((J)=>J(...Y))}_updateSessionFromEvent(Z,Y){let J=!1,X=!1;const $=Y.exception&&Y.exception.values;if($){X=!0;for(let Q of $){const K=Q.mechanism;if(K&&K.handled===!1){J=!0;break}}}const W=Z.status==="ok";if(W&&Z.errors===0||W&&J)j4(Z,{...J&&{status:"crashed"},errors:Z.errors||Number(X||J)}),this.captureSession(Z)}_isClientDoneProcessing(Z){return new R8((Y)=>{let J=0;const X=1,$=setInterval(()=>{if(this._numProcessing==0)clearInterval($),Y(!0);else if(J+=X,Z&&J>=Z)clearInterval($),Y(!1)},X)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(Z,Y,J){const X=this.getOptions(),$=Object.keys(this._integrations);if(!Y.integrations&&$.length>0)Y.integrations=$;return this.emit("preprocessEvent",Z,Y),uI(X,Z,Y,J,this).then((W)=>{if(W===null)return W;const{propagationContext:G}=W.sdkProcessingMetadata||{};if(!(W.contexts&&W.contexts.trace)&&G){const{traceId:K,spanId:H,parentSpanId:z,dsc:F}=G;W.contexts={trace:{trace_id:K,span_id:H,parent_span_id:z},...W.contexts};const U=F?F:w7(K,this,J);W.sdkProcessingMetadata={dynamicSamplingContext:U,...W.sdkProcessingMetadata}}return W})}_captureEvent(Z,Y={},J){return this._processEvent(Z,Y,J).then((X)=>{return X.event_id},(X)=>{if(X1){const $=X;if($.logLevel==="log")v.log($.message);else v.warn($)}return})}_processEvent(Z,Y,J){const X=this.getOptions(),{sampleRate:$}=X,W=ZD(Z),G=eI(Z),Q=Z.type||"error",K=`before send for type \`${Q}\``;if(G&&typeof $==="number"&&Math.random()>$)return this.recordDroppedEvent("sample_rate","error",Z),CZ(new j8(`Discarding event because it's not included in the random sample (sampling rate = ${$})`,"log"));const H=Q==="replay_event"?"replay":Q;return this._prepareEvent(Z,Y,J).then((z)=>{if(z===null)throw this.recordDroppedEvent("event_processor",H,Z),new j8("An event processor returned `null`, will not send event.","log");if(Y.data&&Y.data.__sentry__===!0)return z;const U=s81(X,z,Y);return a81(U,K)}).then((z)=>{if(z===null)throw this.recordDroppedEvent("before_send",H,Z),new j8(`${K} returned \`null\`, will not send event.`,"log");const F=J&&J.getSession();if(!W&&F)this._updateSessionFromEvent(F,z);const U=z.transaction_info;if(W&&U&&z.transaction!==Z.transaction)z.transaction_info={...U,source:"custom"};return this.sendEvent(z,Y),z}).then(null,(z)=>{if(z instanceof j8)throw z;throw this.captureException(z,{data:{__sentry__:!0},originalException:z}),new j8(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${z}`)})}_process(Z){this._numProcessing++,Z.then((Y)=>{return this._numProcessing--,Y},(Y)=>{return this._numProcessing--,Y})}_sendEnvelope(Z){if(this.emit("beforeEnvelope",Z),this._isEnabled()&&this._transport)return this._transport.send(Z).then(null,(Y)=>{X1&&v.error("Error while sending event:",Y)});else X1&&v.error("Transport disabled")}_clearOutcomes(){const Z=this._outcomes;return this._outcomes={},Object.keys(Z).map((Y)=>{const[J,X]=Y.split(":");return{reason:J,category:X,quantity:Z[Y]}})}}var YD=function(Z,Y,J,X,$){const W={sent_at:(new Date()).toISOString()};if(J&&J.sdk)W.sdk={name:J.sdk.name,version:J.sdk.version};if(!!X&&!!$)W.dsn=F5($);if(Y)W.trace=f0(Y);const G=r81(Z);return V5(W,[G])},r81=function(Z){return[{type:"check_in"},Z]};class LY extends lF{constructor(Z){pI();super(Z)}eventFromException(Z,Y){return B6(yF(V1,this._options.stackParser,Z,Y))}eventFromMessage(Z,Y="info",J){return B6(gF(this._options.stackParser,Z,Y,J,this._options.attachStacktrace))}captureException(Z,Y,J){if(this._options.autoSessionTracking&&this._sessionFlusher&&J){const X=J.getRequestSession();if(X&&X.status==="ok")X.status="errored"}return super.captureException(Z,Y,J)}captureEvent(Z,Y,J){if(this._options.autoSessionTracking&&this._sessionFlusher&&J){if((Z.type||"exception")==="exception"&&Z.exception&&Z.exception.values&&Z.exception.values.length>0){const W=J.getRequestSession();if(W&&W.status==="ok")W.status="errored"}}return super.captureEvent(Z,Y,J)}close(Z){if(this._sessionFlusher)this._sessionFlusher.close();return super.close(Z)}initSessionFlusher(){const{release:Z,environment:Y}=this._options;if(!Z)X1&&v.warn("Cannot initialise an instance of SessionFlusher if no release is provided!");else this._sessionFlusher=new dF(this,{release:Z,environment:Y})}captureCheckIn(Z,Y,J){const X=Z.status!=="in_progress"&&Z.checkInId?Z.checkInId:M0();if(!this._isEnabled())return X1&&v.warn("SDK not enabled, will not capture checkin."),X;const $=this.getOptions(),{release:W,environment:G,tunnel:Q}=$,K={check_in_id:X,monitor_slug:Z.monitorSlug,status:Z.status,release:W,environment:G};if(Z.status!=="in_progress")K.duration=Z.duration;if(Y)K.monitor_config={schedule:Y.schedule,checkin_margin:Y.checkinMargin,max_runtime:Y.maxRuntime,timezone:Y.timezone};const[H,z]=this._getTraceInfoFromScope(J);if(z)K.contexts={trace:z};const F=YD(K,H,this.getSdkMetadata(),Q,this.getDsn());return X1&&v.info("Sending checkin:",Z.monitorSlug,Z.status),this._sendEnvelope(F),X}_captureRequestSession(){if(!this._sessionFlusher)X1&&v.warn("Discarded request mode session because autoSessionTracking option was disabled");else this._sessionFlusher.incrementSessionStatusCount()}_prepareEvent(Z,Y,J){if(this._options.platform)Z.platform=Z.platform||this._options.platform;if(this._options.runtime)Z.contexts={...Z.contexts,runtime:(Z.contexts||{}).runtime||this._options.runtime};if(this._options.serverName)Z.server_name=Z.server_name||this._options.serverName;return super._prepareEvent(Z,Y,J)}_getTraceInfoFromScope(Z){if(!Z)return[void 0,void 0];const Y=Z.getSpan();if(Y)return[Y.transaction?Y.transaction.getDynamicSamplingContext():void 0,Y.getTraceContext()];const{traceId:J,spanId:X,parentSpanId:$,dsc:W}=Z.getPropagationContext(),G={trace_id:J,span_id:X,parent_span_id:$};if(W)return[W,G];return[w7(J,this,Z),G]}}var iF=function(Z,Y){if(Y.debug===!0)if(X1)v.enable();else E8(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")});const J=V1();J.getScope().update(Y.initialScope);const $=new Z(Y);J.bindClient($)};var _Z=function(Z,Y,J=AF(Z.bufferSize||t81)){let X={};const $=(G)=>J.drain(G);function W(G){const Q=[];if(lW(G,(F,U)=>{const q=iW(U);if(_F(X,q)){const V=JD(F,U);Z.recordDroppedEvent("ratelimit_backoff",q,V)}else Q.push(F)}),Q.length===0)return B6();const K=V5(G[0],Q),H=(F)=>{lW(K,(U,q)=>{const V=JD(U,q);Z.recordDroppedEvent(F,iW(q),V)})},z=()=>Y({body:jX(K,Z.textEncoder)}).then((F)=>{if(F.statusCode!==void 0&&(F.statusCode<200||F.statusCode>=300))X1&&v.warn(`Sentry responded with status code ${F.statusCode} to sent event.`);return X=xF(X,F),F},(F)=>{throw H("network_error"),F});return J.add(z).then((F)=>F,(F)=>{if(F instanceof j8)return X1&&v.error("Skipped sending event because buffer is full."),H("queue_overflow"),B6();else throw F})}return W.__sentry__baseTransport__=!0,{send:W,flush:$}},JD=function(Z,Y){if(Y!=="event"&&Y!=="transaction")return;return Array.isArray(Z)?Z[1]:void 0},t81=30;var R5="7.84.0";var a8={};_W(a8,{LinkedErrors:()=>{{return WG}},InboundFilters:()=>{{return $G}},FunctionToString:()=>{{return JG}}});var XD;class JG{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=JG.id}setupOnce(){XD=Function.prototype.toString;try{Function.prototype.toString=function(...Z){const Y=GF(this)||this;return XD.apply(Y,Z)}}catch(Z){}}}JG.__initStatic();var Z61=function(Z={},Y={}){return{allowUrls:[...Z.allowUrls||[],...Y.allowUrls||[]],denyUrls:[...Z.denyUrls||[],...Y.denyUrls||[]],ignoreErrors:[...Z.ignoreErrors||[],...Y.ignoreErrors||[],...Z.disableErrorDefaults?[]:o81],ignoreTransactions:[...Z.ignoreTransactions||[],...Y.ignoreTransactions||[],...Z.disableTransactionDefaults?[]:e81],ignoreInternal:Z.ignoreInternal!==void 0?Z.ignoreInternal:!0}},Y61=function(Z,Y){if(Y.ignoreInternal&&Q61(Z))return X1&&v.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${C4(Z)}`),!0;if(J61(Z,Y.ignoreErrors))return X1&&v.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${C4(Z)}`),!0;if(X61(Z,Y.ignoreTransactions))return X1&&v.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${C4(Z)}`),!0;if($61(Z,Y.denyUrls))return X1&&v.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${C4(Z)}.\nUrl: ${XG(Z)}`),!0;if(!W61(Z,Y.allowUrls))return X1&&v.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${C4(Z)}.\nUrl: ${XG(Z)}`),!0;return!1},J61=function(Z,Y){if(Z.type||!Y||!Y.length)return!1;return G61(Z).some((J)=>t7(J,Y))},X61=function(Z,Y){if(Z.type!=="transaction"||!Y||!Y.length)return!1;const J=Z.transaction;return J?t7(J,Y):!1},$61=function(Z,Y){if(!Y||!Y.length)return!1;const J=XG(Z);return!J?!1:t7(J,Y)},W61=function(Z,Y){if(!Y||!Y.length)return!0;const J=XG(Z);return!J?!0:t7(J,Y)},G61=function(Z){const Y=[];if(Z.message)Y.push(Z.message);let J;try{J=Z.exception.values[Z.exception.values.length-1]}catch(X){}if(J){if(J.value){if(Y.push(J.value),J.type)Y.push(`${J.type}: ${J.value}`)}}if(X1&&Y.length===0)v.error(`Could not extract message for event ${C4(Z)}`);return Y},Q61=function(Z){try{return Z.exception.values[0].type==="SentryError"}catch(Y){}return!1},K61=function(Z=[]){for(let Y=Z.length-1;Y>=0;Y--){const J=Z[Y];if(J&&J.filename!=="<anonymous>"&&J.filename!=="[native code]")return J.filename||null}return null},XG=function(Z){try{let Y;try{Y=Z.exception.values[0].stacktrace.frames}catch(J){}return Y?K61(Y):null}catch(Y){return X1&&v.error(`Cannot extract url for event ${C4(Z)}`),null}},o81=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],e81=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class $G{static __initStatic(){this.id="InboundFilters"}constructor(Z={}){this.name=$G.id,this._options=Z}setupOnce(Z,Y){}processEvent(Z,Y,J){const X=J.getOptions(),$=Z61(this._options,X);return Y61(Z,$)?null:Z}}$G.__initStatic();var H61="cause",z61=5;class WG{static __initStatic(){this.id="LinkedErrors"}constructor(Z={}){this._key=Z.key||H61,this._limit=Z.limit||z61,this.name=WG.id}setupOnce(){}preprocessEvent(Z,Y,J){const X=J.getOptions();$F(aW,X.stackParser,X.maxValueLength,this._key,this._limit,Z,Y)}}WG.__initStatic();var xZ=function(Z,Y){const J=Y.getClient(),X=J&&J.getDsn(),$=J&&J.getOptions().tunnel;return U61(Z,X)||F61(Z,$)},F61=function(Z,Y){if(!Y)return!1;return $D(Z)===$D(Y)},U61=function(Z,Y){return Y?Z.includes(Y.host):!1},$D=function(Z){return Z[Z.length-1]==="/"?Z.slice(0,-1):Z};var q61=function(Z){const{transactionNamingScheme:Y,include:{ip:J,user:X,...$}}=Z,W=[];for(let[Q,K]of Object.entries($))if(K)W.push(Q);let G;if(X===void 0)G=!0;else if(typeof X==="boolean")G=X;else{const Q=[];for(let[K,H]of Object.entries(X))if(H)Q.push(K);G=Q}return{include:{ip:J,user:G,request:W.length!==0?W:void 0,transaction:Y}}},V61=function(Z){try{return Z.getClient().getOptions()._metadata.sdk.name}catch(Y){return}},nF={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"};class w5{static __initStatic(){this.id="RequestData"}constructor(Z={}){this.name=w5.id,this._addRequestData=IF,this._options={...nF,...Z,include:{method:!0,...nF.include,...Z.include,user:Z.include&&typeof Z.include.user==="boolean"?Z.include.user:{...nF.include.user,...(Z.include||{}).user}}}}setupOnce(Z,Y){const{transactionNamingScheme:J}=this._options;Z((X)=>{const $=Y(),W=$.getIntegration(w5),{sdkProcessingMetadata:G={}}=X,Q=G.request;if(!W||!Q)return X;const K=G.requestDataOptionsFromExpressHandler||G.requestDataOptionsFromGCPWrapper||q61(this._options),H=this._addRequestData(X,Q,K);if(X.type==="transaction"||J==="handler")return H;const F=Q._sentryTransaction;if(F){const U=V61($)==="sentry.javascript.nextjs"?F.name.startsWith("/api"):J!=="path",[q]=jZ(Q,{path:!0,method:U,customRoute:F.name});H.transaction=q}return H})}}w5.__initStatic();var W0=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;var s8=function(Z){const Y=d([Z,"call",(X)=>X(),"access",(X)=>X.getClient,"call",(X)=>X(),"optionalAccess",(X)=>X.getOptions,"call",(X)=>X()]);return(d([Y,"optionalAccess",(X)=>X.instrumenter])||"sentry")!=="sentry"};var WD=function(Z,Y){const J=Z.length;switch(J){case 2:return function(X,$){const W=$.__sentry_transaction;if(W){const G=W.startChild({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"});$.once("finish",()=>{G.finish()})}return Z.call(this,X,$)};case 3:return function(X,$,W){const G=$.__sentry_transaction,Q=d([G,"optionalAccess",(K)=>K.startChild,"call",(K)=>K({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"})]);Z.call(this,X,$,function(...K){d([Q,"optionalAccess",(H)=>H.finish,"call",(H)=>H()]),W.call(this,...K)})};case 4:return function(X,$,W,G){const Q=W.__sentry_transaction,K=d([Q,"optionalAccess",(H)=>H.startChild,"call",(H)=>H({description:Z.name,op:`middleware.express.${Y}`,origin:"auto.middleware.express"})]);Z.call(this,X,$,W,function(...H){d([K,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),G.call(this,...H)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${J}`)}},g61=function(Z,Y){return Z.map((J)=>{if(typeof J==="function")return WD(J,Y);if(Array.isArray(J))return J.map((X)=>{if(typeof X==="function")return WD(X,Y);return X});return J})},b61=function(Z,Y){const J=Z[Y];return Z[Y]=function(...X){return J.call(this,...g61(X,Y))},Z},v61=function(Z,Y=[]){Y.forEach((J)=>b61(Z,J))},h61=function(Z){const Y="settings"in Z;if(Y&&Z._router===void 0&&Z.lazyrouter)Z.lazyrouter();const J=Y?Z._router:Z;if(!J){W0&&v.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),W0&&v.debug("Routing instrumentation is currently only supported in Express 4.");return}const X=Object.getPrototypeOf(J),$=X.process_params;X.process_params=function W(G,Q,K,H,z){if(!K._reconstructedRoute)K._reconstructedRoute="";const{layerRoutePath:F,isRegex:U,isArray:q,numExtraSegments:V}=u61(G);if(F||U||q)K._hasParameters=!0;let L;if(F)L=F;else L=p61(K.originalUrl,K._reconstructedRoute,G.path)||"";const w=L.split("/").filter((M)=>M.length>0&&(U||q||!M.includes("*"))).join("/");if(w&&w.length>0)K._reconstructedRoute+=`/${w}${U?"/":""}`;const B=GY(EZ(K.originalUrl||""))+V,A=GY(K._reconstructedRoute);if(B===A){if(!K._hasParameters){if(K._reconstructedRoute!==K.originalUrl)K._reconstructedRoute=K.originalUrl?EZ(K.originalUrl):K.originalUrl}const M=H.__sentry_transaction;if(M&&M.metadata.source!=="custom"){const I=K._reconstructedRoute||"/";M.setName(...jZ(K,{path:!0,method:!0,customRoute:I}))}}return $.call(this,G,Q,K,H,z)}},u61=function(Z){let Y=d([Z,"access",(G)=>G.route,"optionalAccess",(G)=>G.path]);const J=RX(Y),X=Array.isArray(Y);if(!Y){const[G]=_1.process.versions.node.split(".").map(Number);if(G>=16)Y=m61(Z.path,Z.regexp,Z.keys)}if(!Y)return{isRegex:J,isArray:X,numExtraSegments:0};const $=X?Math.max(d61(Y)-GY(Z.path||""),0):0;return{layerRoutePath:c61(X,Y),isRegex:J,isArray:X,numExtraSegments:$}},d61=function(Z){return Z.reduce((Y,J)=>{return Y+GY(J.toString())},0)},c61=function(Z,Y){if(Z)return Y.map((J)=>J.toString()).join(",");return Y&&Y.toString()},p61=function(Z,Y,J){const X=EZ(Z||""),$=d([X,"optionalAccess",(K)=>K.split,"call",(K)=>K("/"),"access",(K)=>K.filter,"call",(K)=>K((H)=>!!H)]);let W=0;const G=d([Y,"optionalAccess",(K)=>K.split,"call",(K)=>K("/"),"access",(K)=>K.filter,"call",(K)=>K((H)=>!!H),"access",(K)=>K.length])||0;return d([J,"optionalAccess",(K)=>K.split,"call",(K)=>K("/"),"access",(K)=>K.filter,"call",(K)=>K((H)=>{if(d([$,"optionalAccess",(z)=>z[G+W]])===H)return W+=1,!0;return!1}),"access",(K)=>K.join,"call",(K)=>K("/")])};class _X{static __initStatic(){this.id="Express"}constructor(Z={}){this.name=_X.id,this._router=Z.router||Z.app,this._methods=(Array.isArray(Z.methods)?Z.methods:[]).concat("use")}setupOnce(Z,Y){if(!this._router){W0&&v.error("ExpressIntegration is missing an Express instance");return}if(s8(Y)){W0&&v.log("Express Integration is skipped because of instrumenter configuration.");return}v61(this._router,this._methods),h61(this._router)}}_X.__initStatic();var m61=(Z,Y,J)=>{if(!Z||!Y||!J||Object.keys(J).length===0||!d([J,"access",(H)=>H[0],"optionalAccess",(H)=>H.offset]))return;const X=J.sort((H,z)=>H.offset-z.offset),W=new RegExp(Y,`${Y.flags}d`).exec(Z);if(!W||!W.indices)return;const[,...G]=W.indices;if(G.length!==X.length)return;let Q=Z,K=0;return G.forEach((H,z)=>{if(H){const[F,U]=H,q=Q.substring(0,F-K),V=`:${X[z].name}`,L=Q.substring(U-K);Q=q+V+L,K=K+(U-F-V.length)}}),Q};class xX{static __initStatic(){this.id="Postgres"}constructor(Z={}){this.name=xX.id,this._usePgNative=!!Z.usePgNative,this._module=Z.module}loadDependency(){return this._module=this._module||b6("pg")}setupOnce(Z,Y){if(s8(Y)){W0&&v.log("Postgres Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){W0&&v.error("Postgres Integration was unable to require `pg` package.");return}const X=this._usePgNative?d([J,"access",($)=>$.native,"optionalAccess",($)=>$.Client]):J.Client;if(!X){W0&&v.error("Postgres Integration was unable to access 'pg-native' bindings.");return}E0(X.prototype,"query",function($){return function(W,G,Q){const H=Y().getScope().getSpan(),z={"db.system":"postgresql"};try{if(this.database)z["db.name"]=this.database;if(this.host)z["server.address"]=this.host;if(this.port)z["server.port"]=this.port;if(this.user)z["db.user"]=this.user}catch(q){}const F=d([H,"optionalAccess",(q)=>q.startChild,"call",(q)=>q({description:typeof W==="string"?W:W.text,op:"db",origin:"auto.db.postgres",data:z})]);if(typeof Q==="function")return $.call(this,W,G,function(q,V){d([F,"optionalAccess",(L)=>L.finish,"call",(L)=>L()]),Q(q,V)});if(typeof G==="function")return $.call(this,W,function(q,V){d([F,"optionalAccess",(L)=>L.finish,"call",(L)=>L()]),G(q,V)});const U=typeof G!=="undefined"?$.call(this,W,G):$.call(this,W);if(n0(U))return U.then((q)=>{return d([F,"optionalAccess",(V)=>V.finish,"call",(V)=>V()]),q});return d([F,"optionalAccess",(q)=>q.finish,"call",(q)=>q()]),U}})}}xX.__initStatic();class fX{static __initStatic(){this.id="Mysql"}constructor(){this.name=fX.id}loadDependency(){return this._module=this._module||b6("mysql/lib/Connection.js")}setupOnce(Z,Y){if(s8(Y)){W0&&v.log("Mysql Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){W0&&v.error("Mysql Integration was unable to require `mysql` package.");return}let X=void 0;try{J.prototype.connect=new Proxy(J.prototype.connect,{apply(G,Q,K){if(!X)X=Q.config;return G.apply(Q,K)}})}catch(G){W0&&v.error("Mysql Integration was unable to instrument `mysql` config.")}function $(){if(!X)return{};return{"server.address":X.host,"server.port":X.port,"db.user":X.user}}function W(G){if(!G||G.endTimestamp)return;const Q=$();Object.keys(Q).forEach((K)=>{G.setData(K,Q[K])}),G.finish()}E0(J,"createQuery",function(G){return function(Q,K,H){const F=Y().getScope().getSpan(),U=d([F,"optionalAccess",(V)=>V.startChild,"call",(V)=>V({description:typeof Q==="string"?Q:Q.sql,op:"db",origin:"auto.db.mysql",data:{"db.system":"mysql"}})]);if(typeof H==="function")return G.call(this,Q,K,function(V,L,w){W(U),H(V,L,w)});if(typeof K==="function")return G.call(this,Q,function(V,L,w){W(U),K(V,L,w)});const q=G.call(this,Q,K);return q.on("end",()=>{W(U)}),q}})}}fX.__initStatic();var n61=function(Z){return Z&&typeof Z==="object"&&Z.once&&typeof Z.once==="function"},l61=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],i61={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class yX{static __initStatic(){this.id="Mongo"}constructor(Z={}){this.name=yX.id,this._operations=Array.isArray(Z.operations)?Z.operations:l61,this._describeOperations=("describeOperations"in Z)?Z.describeOperations:!0,this._useMongoose=!!Z.useMongoose}loadDependency(){const Z=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||b6(Z)}setupOnce(Z,Y){if(s8(Y)){W0&&v.log("Mongo Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){const X=this._useMongoose?"mongoose":"mongodb";W0&&v.error(`Mongo Integration was unable to require \`${X}\` package.`);return}this._instrumentOperations(J.Collection,this._operations,Y)}_instrumentOperations(Z,Y,J){Y.forEach((X)=>this._patchOperation(Z,X,J))}_patchOperation(Z,Y,J){if(!(Y in Z.prototype))return;const X=this._getSpanContextFromOperationArguments.bind(this);E0(Z.prototype,Y,function($){return function(...W){const G=W[W.length-1],K=J().getScope().getSpan();if(typeof G!=="function"||Y==="mapReduce"&&W.length===2){const z=d([K,"optionalAccess",(U)=>U.startChild,"call",(U)=>U(X(this,Y,W))]),F=$.call(this,...W);if(n0(F))return F.then((U)=>{return d([z,"optionalAccess",(q)=>q.finish,"call",(q)=>q()]),U});else if(n61(F)){const U=F;try{U.once("close",()=>{d([z,"optionalAccess",(q)=>q.finish,"call",(q)=>q()])})}catch(q){d([z,"optionalAccess",(V)=>V.finish,"call",(V)=>V()])}return U}else return d([z,"optionalAccess",(U)=>U.finish,"call",(U)=>U()]),F}const H=d([K,"optionalAccess",(z)=>z.startChild,"call",(z)=>z(X(this,Y,W.slice(0,-1)))]);return $.call(this,...W.slice(0,-1),function(z,F){d([H,"optionalAccess",(U)=>U.finish,"call",(U)=>U()]),G(z,F)})}})}_getSpanContextFromOperationArguments(Z,Y,J){const X={"db.system":"mongodb","db.name":Z.dbName,"db.operation":Y,"db.mongodb.collection":Z.collectionName},$={op:"db",origin:"auto.db.mongo",description:Y,data:X},W=i61[Y],G=Array.isArray(this._describeOperations)?this._describeOperations.includes(Y):this._describeOperations;if(!W||!G)return $;try{if(Y==="mapReduce"){const[Q,K]=J;X[W[0]]=typeof Q==="string"?Q:Q.name||"<anonymous>",X[W[1]]=typeof K==="string"?K:K.name||"<anonymous>"}else for(let Q=0;Q<W.length;Q++)X[`db.mongodb.${W[Q]}`]=JSON.stringify(J[Q])}catch(Q){}return $}}yX.__initStatic();var a61=function(Z){return!!Z&&!!Z.$use};class gX{static __initStatic(){this.id="Prisma"}constructor(Z={}){if(this.name=gX.id,a61(Z.client)&&!Z.client._sentryInstrumented){JY(Z.client,"_sentryInstrumented",!0);const Y={};try{const J=Z.client._engineConfig;if(J){const{activeProvider:X,clientVersion:$}=J;if(X)Y["db.system"]=X;if($)Y["db.prisma.version"]=$}}catch(J){}Z.client.$use((J,X)=>{if(s8(V1))return X(J);const{action:$,model:W}=J;return eW({name:W?`${W} ${$}`:$,op:"db.prisma",origin:"auto.db.prisma",data:{...Y,"db.operation":$}},()=>X(J))})}else W0&&v.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",Z.client)}setupOnce(){}}gX.__initStatic();class bX{static __initStatic(){this.id="GraphQL"}constructor(){this.name=bX.id}loadDependency(){return this._module=this._module||b6("graphql/execution/execute.js")}setupOnce(Z,Y){if(s8(Y)){W0&&v.log("GraphQL Integration is skipped because of instrumenter configuration.");return}const J=this.loadDependency();if(!J){W0&&v.error("GraphQL Integration was unable to require graphql/execution package.");return}E0(J,"execute",function(X){return function(...$){const W=Y().getScope(),G=W.getSpan(),Q=d([G,"optionalAccess",(H)=>H.startChild,"call",(H)=>H({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);d([W,"optionalAccess",(H)=>H.setSpan,"call",(H)=>H(Q)]);const K=X.call(this,...$);if(n0(K))return K.then((H)=>{return d([Q,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),d([W,"optionalAccess",(z)=>z.setSpan,"call",(z)=>z(G)]),H});return d([Q,"optionalAccess",(H)=>H.finish,"call",(H)=>H()]),d([W,"optionalAccess",(H)=>H.setSpan,"call",(H)=>H(G)]),K}})}}bX.__initStatic();var GD=function(Z,Y){return Z.map((J)=>{return Object.keys(J).forEach((X)=>{Object.keys(J[X]).forEach(($)=>{if(typeof J[X][$]!=="function")return;s61(J,X,$,Y)})}),J})},s61=function(Z,Y,J,X){E0(Z[Y],J,function($){return function(...W){const Q=X().getScope().getSpan(),K=d([Q,"optionalAccess",(z)=>z.startChild,"call",(z)=>z({description:`${Y}.${J}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),H=$.call(this,...W);if(n0(H))return H.then((z)=>{return d([K,"optionalAccess",(F)=>F.finish,"call",(F)=>F()]),z});return d([K,"optionalAccess",(z)=>z.finish,"call",(z)=>z()]),H}})};class vX{static __initStatic(){this.id="Apollo"}constructor(Z={useNestjs:!1}){this.name=vX.id,this._useNest=!!Z.useNestjs}loadDependency(){if(this._useNest)this._module=this._module||b6("@nestjs/graphql");else this._module=this._module||b6("apollo-server-core");return this._module}setupOnce(Z,Y){if(s8(Y)){W0&&v.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){const J=this.loadDependency();if(!J){W0&&v.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}E0(J.GraphQLFactory.prototype,"mergeWithSchema",function(X){return function(...$){return E0(this.resolversExplorerService,"explore",function(W){return function(){const G=U5(W.call(this));return GD(G,Y)}}),X.call(this,...$)}})}else{const J=this.loadDependency();if(!J){W0&&v.error("Apollo Integration was unable to require apollo-server-core package.");return}E0(J.ApolloServerBase.prototype,"constructSchema",function(X){return function(){if(!this.config.resolvers){if(W0){if(this.config.schema)v.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),v.warn();else if(this.config.modules)v.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property.");v.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")}return X.call(this)}const $=U5(this.config.resolvers);return this.config.resolvers=GD($,Y),X.call(this)}})}}}vX.__initStatic();import*as QD from"os";import{TextEncoder as r61} from"util";class aF extends LY{constructor(Z){Z._metadata=Z._metadata||{},Z._metadata.sdk=Z._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:R5}],version:R5},Z.transportOptions={textEncoder:new r61,...Z.transportOptions};const Y={...Z,platform:"node",runtime:{name:"node",version:global.process.version},serverName:Z.serverName||global.process.env.SENTRY_NAME||QD.hostname()};super(Y)}}import*as t71 from"http";import*as o71 from"https";import{Readable as e71} from"stream";import{URL as OD} from"url";import{createGzip as Z41} from"zlib";var SD=tz(jD(),1),J41=function(Z){return new e71({read(){this.push(Z),this.push(null)}})},kD=function(Z){let Y;try{Y=new OD(Z.url)}catch(K){return E8(()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")}),_Z(Z,()=>Promise.resolve({}))}const J=Y.protocol==="https:",X=X41(Y,Z.proxy||(J?process.env.https_proxy:void 0)||process.env.http_proxy),$=J?o71:t71,W=Z.keepAlive===void 0?!1:Z.keepAlive,G=X?new SD.HttpsProxyAgent(X):new $.Agent({keepAlive:W,maxSockets:30,timeout:2000}),Q=$41(Z,OX(Z.httpModule,()=>$),G);return _Z(Z,Q)},X41=function(Z,Y){const{no_proxy:J}=process.env;if(J&&J.split(",").some(($)=>Z.host.endsWith($)||Z.hostname.endsWith($)))return;else return Y},$41=function(Z,Y,J){const{hostname:X,pathname:$,port:W,protocol:G,search:Q}=new OD(Z.url);return function K(H){return new Promise((z,F)=>{let U=J41(H.body);const q={...Z.headers};if(H.body.length>Y41)q["content-encoding"]="gzip",U=U.pipe(Z41());const V=Y.request({method:"POST",agent:J,headers:q,hostname:X,path:`${$}${Q}`,port:W,protocol:G,ca:Z.caCerts},(L)=>{L.on("data",()=>{}),L.on("end",()=>{}),L.setEncoding("utf8");const w=OX(L.headers["retry-after"],()=>null),B=OX(L.headers["x-sentry-rate-limits"],()=>null);z({statusCode:L.statusCode,headers:{"retry-after":w,"x-sentry-rate-limits":Array.isArray(B)?B[0]:B}})});V.on("error",F),U.pipe(V)})}},Y41=32768;import{spawn as cc1} from"child_process";import{posix as W41,sep as G41} from"path";var K41=function(Z){return Z.replace(/^[A-Z]:/,"").replace(/\\/g,"/")},_D=function(Z,Y=Q41){if(!Z)return;const J=Y?K41(Z):Z;let{root:X,dir:$,base:W,ext:G}=W41.parse(J);const K=`${require&&require.main&&require.main.filename&&$||global.process.cwd()}/`;let H=W;if(G===".js"||G===".mjs"||G===".cjs")H=H.slice(0,G.length*-1);if(!X&&!$)$=".";let z=$.lastIndexOf("/node_modules/");if(z>-1)return`${$.slice(z+14).replace(/\//g,".")}:${H}`;if(z=`${$}/`.lastIndexOf(K,0),z===0){let F=$.slice(K.length).replace(/\//g,".");if(F)F+=":";return F+=H,F}return H},Q41=G41==="\\";var xD=function(){return!!process.send&&!!process.env.SENTRY_ANR_CHILD_PROCESS};var r8=VF(process.versions.node);import*as UG from"domain";var fD=function(){return UG.active},H41=function(){const Z=fD();if(!Z)return;return FY(Z),m6(Z)},z41=function(Z){const Y={};return FY(Y,Z),m6(Y)},F41=function(Z,Y){const J=fD();if(J&&d([Y,"optionalAccess",(G)=>G.reuseExisting]))return Z();const X=UG.create(),$=J?m6(J):void 0,W=z41($);return UY(X,W),X.bind(()=>{return Z()})()},yD=function(){kX({getCurrentHub:H41,runWithAsyncContext:F41})};import*as gD from"async_hooks";var bD=function(){if(!qG)qG=new gD.AsyncLocalStorage;function Z(){return qG.getStore()}function Y(X){const $={};return FY($,X),m6($)}function J(X,$){const W=Z();if(W&&d([$,"optionalAccess",(Q)=>Q.reuseExisting]))return X();const G=Y(W);return qG.run(G,()=>{return X()})}kX({getCurrentHub:Z,runWithAsyncContext:J})},qG;var vD=function(){if(r8.major&&r8.major>=14)bD();else yD()};import*as hD from"util";class M5{constructor(){M5.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=M5.id}setupOnce(){UF(({args:Z,level:Y})=>{const J=V1();if(!J.getIntegration(M5))return;J.addBreadcrumb({category:"console",level:DF(Y),message:hD.format.apply(void 0,Z)},{input:[...Z],level:Y})})}}M5.__initStatic();var e7=typeof __SENTRY_DEBUG__==="undefined"||__SENTRY_DEBUG__;import{URL as JU} from"url";var uD=function(Z){const{protocol:Y,hostname:J,port:X}=cD(Z),$=Z.path?Z.path:"/";return`${Y}//${J}${X}${$}`},XU=function(Z){const{protocol:Y,hostname:J,port:X}=cD(Z),$=Z.pathname||"/",W=Z.auth?U41(Z.auth):"";return`${Y}//${W}${J}${X}${$}`},U41=function(Z){const[Y,J]=Z.split(":");return`${Y?"[Filtered]":""}:${J?"[Filtered]":""}@`},$U=function(Z,Y,J){if(!Z)return Z;let[X,$]=Z.split(" ");if(Y.host&&!Y.protocol)Y.protocol=d([J,"optionalAccess",(W)=>W.agent,"optionalAccess",(W)=>W.protocol]),$=XU(Y);if(d([$,"optionalAccess",(W)=>W.startsWith,"call",(W)=>W("///")]))$=$.slice(2);return`${X} ${$}`},mD=function(Z){const Y={protocol:Z.protocol,hostname:typeof Z.hostname==="string"&&Z.hostname.startsWith("[")?Z.hostname.slice(1,-1):Z.hostname,hash:Z.hash,search:Z.search,pathname:Z.pathname,path:`${Z.pathname||""}${Z.search||""}`,href:Z.href};if(Z.port!=="")Y.port=Number(Z.port);if(Z.username||Z.password)Y.auth=`${Z.username}:${Z.password}`;return Y},dD=function(Z,Y){let J,X;if(typeof Y[Y.length-1]==="function")J=Y.pop();if(typeof Y[0]==="string")X=mD(new JU(Y[0]));else if(Y[0]instanceof JU)X=mD(Y[0]);else{X=Y[0];try{const $=new JU(X.path||"",`${X.protocol||"http:"}//${X.hostname}`);X={pathname:$.pathname,search:$.search,hash:$.hash,...X}}catch($){}}if(Y.length===2)X={...X,...Y[1]};if(X.protocol===void 0)if(r8.major&&r8.major>8)X.protocol=d([d([Z,"optionalAccess",($)=>$.globalAgent]),"optionalAccess",($)=>$.protocol])||d([X.agent,"optionalAccess",($)=>$.protocol])||d([X._defaultAgent,"optionalAccess",($)=>$.protocol]);else X.protocol=d([X.agent,"optionalAccess",($)=>$.protocol])||d([X._defaultAgent,"optionalAccess",($)=>$.protocol])||d([d([Z,"optionalAccess",($)=>$.globalAgent]),"optionalAccess",($)=>$.protocol]);if(J)return[X,J];else return[X]},cD=function(Z){const Y=Z.protocol||"",J=Z.hostname||Z.host||"",X=!Z.port||Z.port===80||Z.port===443||/^(.*):(\d+)$/.test(J)?"":`:${Z.port}`;return{protocol:Y,hostname:J,port:X}};var pD=function(Z,Y,J,X){const $=new v6(100),W=new v6(100),G=(H)=>{if(J===void 0)return!0;const z=$.get(H);if(z!==void 0)return z;const F=J(H);return $.set(H,F),F},Q=(H)=>{if(X===void 0)return!0;const z=W.get(H);if(z!==void 0)return z;const F=t7(H,X);return W.set(H,F),F};function K(H,z,F,U){if(!V1().getIntegration(B5))return;V1().addBreadcrumb({category:"http",data:{status_code:U&&U.statusCode,...z},type:"http"},{event:H,request:F,response:U})}return function H(z){return function F(...U){const q=dD(Z,U),V=q[0],L=uD(V),w=XU(V);if(xZ(w,V1()))return z.apply(Z,q);const B=V1(),A=B.getScope(),M=A.getSpan(),I=q41(w,V),x=G(L)?d([M,"optionalAccess",(j)=>j.startChild,"call",(j)=>j({op:"http.client",origin:"auto.http.node.http",description:`${I["http.method"]} ${I.url}`,data:I})]):void 0;if(Q(L))if(x){const j=x.toTraceparent(),E=d([x,"optionalAccess",(D)=>D.transaction,"optionalAccess",(D)=>D.getDynamicSamplingContext,"call",(D)=>D()]);lD(V,w,j,E)}else{const j=B.getClient(),{traceId:E,sampled:D,dsc:l}=A.getPropagationContext(),b=kZ(E,void 0,D),_=l||(j?w7(E,j,A):void 0);lD(V,w,b,_)}else e7&&v.log(`[Tracing] Not adding sentry-trace header to outgoing request (${w}) due to mismatching tracePropagationTargets option.`);return z.apply(Z,q).once("response",function(j){const E=this;if(Y)K("response",I,E,j);if(x){if(j.statusCode)x.setHttpStatus(j.statusCode);x.description=$U(x.description,V,E),x.finish()}}).once("error",function(){const j=this;if(Y)K("error",I,j);if(x)x.setHttpStatus(500),x.description=$U(x.description,V,j),x.finish()})}}},lD=function(Z,Y,J,X){if((Z.headers||{})["sentry-trace"])return;e7&&v.log(`[Tracing] Adding sentry-trace header ${J} to outgoing request to "${Y}": `);const W=QY(X),G=W&&W.length>0?V41(Z,W):void 0;Z.headers={...Z.headers,"sentry-trace":J,...G&&{baggage:G}}},q41=function(Z,Y){const J=Y.method||"GET",X={url:Z,"http.method":J};if(Y.hash)X["http.fragment"]=Y.hash.substring(1);if(Y.search)X["http.query"]=Y.search.substring(1);return X},V41=function(Z,Y){if(!Z.headers||!Z.headers.baggage)return Y;else if(!Y)return Z.headers.baggage;else if(Array.isArray(Z.headers.baggage))return[...Z.headers.baggage,Y];return[Z.headers.baggage,Y]};class B5{static __initStatic(){this.id="Http"}__init(){this.name=B5.id}constructor(Z={}){B5.prototype.__init.call(this),this._breadcrumbs=typeof Z.breadcrumbs==="undefined"?!0:Z.breadcrumbs,this._tracing=!Z.tracing?void 0:Z.tracing===!0?{}:Z.tracing}setupOnce(Z,Y){if(!this._breadcrumbs&&!this._tracing)return;const J=d([Y,"call",(Q)=>Q(),"access",(Q)=>Q.getClient,"call",(Q)=>Q(),"optionalAccess",(Q)=>Q.getOptions,"call",(Q)=>Q()]);if(J&&J.instrumenter!=="sentry"){e7&&v.log("HTTP Integration is skipped because of instrumenter configuration.");return}const X=d([this,"access",(Q)=>Q._tracing,"optionalAccess",(Q)=>Q.shouldCreateSpanForRequest])||d([J,"optionalAccess",(Q)=>Q.shouldCreateSpanForRequest]),$=d([J,"optionalAccess",(Q)=>Q.tracePropagationTargets])||d([this,"access",(Q)=>Q._tracing,"optionalAccess",(Q)=>Q.tracePropagationTargets]),W=import.meta.require("http"),G=pD(W,this._breadcrumbs,X,$);if(E0(W,"get",G),E0(W,"request",G),r8.major&&r8.major>8){const Q=import.meta.require("https"),K=pD(Q,this._breadcrumbs,X,$);E0(Q,"get",K),E0(Q,"request",K)}}}B5.__initStatic();var pX=function(Z){E8(()=>{console.error(Z)});const Y=L5();if(Y===void 0)e7&&v.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);const J=Y.getOptions(),X=J&&J.shutdownTimeout&&J.shutdownTimeout>0&&J.shutdownTimeout||L41;Y.close(X).then(($)=>{if(!$)e7&&v.warn("We reached the timeout for emptying the request buffer, still exiting now!");global.process.exit(1)},($)=>{e7&&v.error($)})},L41=2000;class O4{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=O4.id}__init2(){this.handler=this._makeErrorHandler()}constructor(Z={}){O4.prototype.__init.call(this),O4.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...Z}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let Y=!1,J=!1,X=!1,$;return(W)=>{let G=pX;const Q=L5();if(this._options.onFatalError)G=this._options.onFatalError;else if(Q&&Q.getOptions().onFatalError)G=Q.getOptions().onFatalError;const H=global.process.listeners("uncaughtException").reduce((F,U)=>{if(U.name==="domainUncaughtExceptionClear"||U.tag&&U.tag==="sentry_tracingErrorCallback"||U===this.handler)return F;else return F+1},0)===0,z=this._options.exitEvenIfOtherHandlersAreRegistered||H;if(!Y){const F=V1();if($=W,Y=!0,F.getIntegration(O4))F.withScope((U)=>{if(U.setLevel("fatal"),F.captureException(W,{originalException:W,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!X&&z)X=!0,G(W)});else if(!X&&z)X=!0,G(W)}else if(z){if(X)e7&&v.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),pX(W);else if(!J)J=!0,setTimeout(()=>{if(!X)X=!0,G($,W)},2000)}}}}O4.__initStatic();class A5{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=A5.id}constructor(Z={mode:"warn"}){this._options=Z,A5.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(Z,Y){const J=V1();if(J.getIntegration(A5))J.withScope((X)=>{X.setExtra("unhandledPromiseRejection",!0),J.captureException(Z,{originalException:Y,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})});this._handleRejection(Z)}_handleRejection(Z){const Y="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";if(this._options.mode==="warn")E8(()=>{console.warn(Y),console.error(Z&&Z.stack?Z.stack:Z)});else if(this._options.mode==="strict")E8(()=>{console.warn(Y)}),pX(Z)}}A5.__initStatic();import{existsSync as R41,readFileSync as w41} from"fs";import{dirname as M41,join as B41} from"path";var A41=function(){try{return require.cache?Object.keys(require.cache):[]}catch(Z){return[]}},N41=function(){const Z=require.main&&require.main.paths||[],Y=A41(),J={},X={};return Y.forEach(($)=>{let W=$;const G=()=>{const Q=W;if(W=M41(Q),!W||Q===W||X[Q])return;if(Z.indexOf(W)<0)return G();const K=B41(Q,"package.json");if(X[Q]=!0,!R41(K))return G();try{const H=JSON.parse(w41(K,"utf8"));J[H.name]=H.version}catch(H){}};G()}),J},WU;class N5{constructor(){N5.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=N5.id}setupOnce(Z,Y){Z((J)=>{if(!Y().getIntegration(N5))return J;return{...J,modules:{...J.modules,...this._getModules()}}})}_getModules(){if(!WU)WU=N41();return WU}}N5.__initStatic();import{readFile as I41} from"fs";var P41=function(Z){return new Promise((Y,J)=>{I41(Z,"utf8",(X,$)=>{if(X)J(X);else Y($)})})};async function T41(Z){const Y=VG.get(Z);if(Y===null)return null;if(Y!==void 0)return Y;let J=null;try{J=(await P41(Z)).split("\n")}catch(X){}return VG.set(Z,J),J}var VG=new v6(100),D41=7;class I5{static __initStatic(){this.id="ContextLines"}__init(){this.name=I5.id}constructor(Z={}){this._options=Z,I5.prototype.__init.call(this)}get _contextLines(){return this._options.frameContextLines!==void 0?this._options.frameContextLines:D41}setupOnce(Z,Y){Z((J)=>{if(!Y().getIntegration(I5))return J;return this.addSourceContext(J)})}async addSourceContext(Z){const Y={},J=[];if(this._contextLines>0&&d([Z,"access",(X)=>X.exception,"optionalAccess",(X)=>X.values]))for(let X of Z.exception.values){if(!d([X,"access",($)=>$.stacktrace,"optionalAccess",($)=>$.frames]))continue;for(let $=X.stacktrace.frames.length-1;$>=0;$--){const W=X.stacktrace.frames[$];if(W.filename&&!Y[W.filename]&&!VG.get(W.filename))J.push(T41(W.filename)),Y[W.filename]=1}}if(J.length>0)await Promise.all(J);if(this._contextLines>0&&d([Z,"access",(X)=>X.exception,"optionalAccess",(X)=>X.values])){for(let X of Z.exception.values)if(X.stacktrace&&X.stacktrace.frames)await this.addSourceContextToFrames(X.stacktrace.frames)}return Z}addSourceContextToFrames(Z){for(let Y of Z)if(Y.filename&&Y.context_line===void 0){const J=VG.get(Y.filename);if(J)try{LF(J,Y,this._contextLines)}catch(X){}}}}I5.__initStatic();import{execFile as C41} from"child_process";import{readFile as E41,readdir as j41} from"fs";import*as m0 from"os";import{join as O41} from"path";import{promisify as nD} from"util";async function _41(){const Z=m0.platform();switch(Z){case"darwin":return h41();case"linux":return m41();default:return{name:g41[Z]||Z,version:m0.release()}}}var x41=function(){try{if(typeof process.versions.icu!=="string")return;const Z=new Date(900000000);if(new Intl.DateTimeFormat("es",{month:"long"}).format(Z)==="enero"){const J=Intl.DateTimeFormat().resolvedOptions();return{locale:J.locale,timezone:J.timeZone}}}catch(Z){}return},f41=function(){const Z=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-process.uptime()*1000).toISOString(),app_memory:Z}},y41=function(Z){const Y={};let J;try{J=m0.uptime&&m0.uptime()}catch(X){}if(typeof J==="number")Y.boot_time=new Date(Date.now()-J*1000).toISOString();if(Y.arch=m0.arch(),Z===!0||Z.memory)Y.memory_size=m0.totalmem(),Y.free_memory=m0.freemem();if(Z===!0||Z.cpu){const X=m0.cpus();if(X&&X.length){const $=X[0];Y.processor_count=X.length,Y.cpu_description=$.model,Y.processor_frequency=$.speed}}return Y},Z4=function(Z,Y){const J=Z.exec(Y);return J?J[1]:void 0};async function h41(){const Z={kernel_version:m0.release(),name:"Mac OS X",version:`10.${Number(m0.release().split(".")[0])-4}`};try{const Y=await new Promise((J,X)=>{C41("/usr/bin/sw_vers",($,W)=>{if($){X($);return}J(W)})});Z.name=Z4(/^ProductName:\s+(.*)$/m,Y),Z.version=Z4(/^ProductVersion:\s+(.*)$/m,Y),Z.build=Z4(/^BuildVersion:\s+(.*)$/m,Y)}catch(Y){}return Z}var iD=function(Z){return Z.split(" ")[0].toLowerCase()};async function m41(){const Z={kernel_version:m0.release(),name:"Linux"};try{const Y=await k41("/etc"),J=b41.find((Q)=>Y.includes(Q.name));if(!J)return Z;const X=O41("/etc",J.name),$=(await S41(X,{encoding:"utf-8"})).toLowerCase(),{distros:W}=J;Z.name=W.find((Q)=>$.indexOf(iD(Q))>=0)||W[0];const G=iD(Z.name);Z.version=v41[G]($)}catch(Y){}return Z}var u41=function(){if(process.env.VERCEL)return{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION};else if(process.env.AWS_REGION)return{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV};else if(process.env.GCP_PROJECT)return{"cloud.provider":"gcp"};else if(process.env.ALIYUN_REGION_ID)return{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID};else if(process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME)return{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME};else if(process.env.IBM_CLOUD_REGION)return{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION};else if(process.env.TENCENTCLOUD_REGION)return{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE};else if(process.env.NETLIFY)return{"cloud.provider":"netlify"};else if(process.env.FLY_REGION)return{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION};else if(process.env.DYNO)return{"cloud.provider":"heroku"};else return},S41=nD(E41),k41=nD(j41);class gZ{static __initStatic(){this.id="Context"}__init(){this.name=gZ.id}constructor(Z={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0}){this._options=Z,gZ.prototype.__init.call(this)}setupOnce(Z){Z((Y)=>this.addContext(Y))}async addContext(Z){if(this._cachedContext===void 0)this._cachedContext=this._getContexts();const Y=this._updateContext(await this._cachedContext);return Z.contexts={...Z.contexts,app:{...Y.app,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.app])},os:{...Y.os,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.os])},device:{...Y.device,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.device])},culture:{...Y.culture,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.culture])},cloud_resource:{...Y.cloud_resource,...d([Z,"access",(J)=>J.contexts,"optionalAccess",(J)=>J.cloud_resource])}},Z}_updateContext(Z){if(d([Z,"optionalAccess",(Y)=>Y.app,"optionalAccess",(Y)=>Y.app_memory]))Z.app.app_memory=process.memoryUsage().rss;if(d([Z,"optionalAccess",(Y)=>Y.device,"optionalAccess",(Y)=>Y.free_memory]))Z.device.free_memory=m0.freemem();return Z}async _getContexts(){const Z={};if(this._options.os)Z.os=await _41();if(this._options.app)Z.app=f41();if(this._options.device)Z.device=y41(this._options.device);if(this._options.culture){const Y=x41();if(Y)Z.culture=Y}if(this._options.cloudResource)Z.cloud_resource=u41();return Z}}gZ.__initStatic();var g41={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},b41=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],v41={alpine:(Z)=>Z,arch:(Z)=>Z4(/distrib_release=(.*)/,Z),centos:(Z)=>Z4(/release ([^ ]+)/,Z),debian:(Z)=>Z,fedora:(Z)=>Z4(/release (..)/,Z),mint:(Z)=>Z4(/distrib_release=(.*)/,Z),red:(Z)=>Z4(/release ([^ ]+)/,Z),suse:(Z)=>Z4(/VERSION = (.*)\n/,Z),ubuntu:(Z)=>Z4(/distrib_release=(.*)/,Z)};var d41=function(Z,Y,J){let X=0,$=5,W=0;return setInterval(()=>{if(W===0){if(X>Z){if($*=2,J($),$>86400)$=86400;W=$}}else if(W-=1,W===0)Y();X=0},1000).unref(),()=>{X+=1}},sD=function(Z){let Y=[],J=!1;function X(G){if(Y=[],J)return;J=!0,Z(G)}Y.push(X);function $(G){Y.push(G)}function W(G){const Q=Y.pop()||X;try{Q(G)}catch(K){X(G)}}return{add:$,next:W}},c41=function(){try{return new rD}catch(Z){return}},aD=function(Z){return Z!==void 0&&["","?","<anonymous>"].includes(Z)},p41=function(Z,Y){return Z===Y||aD(Z)&&aD(Y)},tD=function(Z){if(Z===void 0)return;return Z.slice(-10).reduce((Y,J)=>`${Y},${J.function},${J.lineno},${J.colno}`,"")},l41=function(Z,Y){if(Y===void 0)return;return tD(Z(Y,1))};class rD{constructor(){const{Session:Z}=import.meta.require("inspector");this._session=new Z}configureAndConnect(Z,Y){this._session.connect(),this._session.on("Debugger.paused",(J)=>{Z(J,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:Y?"all":"uncaught"})}setPauseOnExceptions(Z){this._session.post("Debugger.setPauseOnExceptions",{state:Z?"all":"uncaught"})}getLocalVariables(Z,Y){this._getProperties(Z,(J)=>{const{add:X,next:$}=sD(Y);for(let W of J)if(d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.objectId])&&d([W,"optionalAccess",(G)=>G.value,"access",(G)=>G.className])==="Array"){const G=W.value.objectId;X((Q)=>this._unrollArray(G,W.name,Q,$))}else if(d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.objectId])&&d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.className])==="Object"){const G=W.value.objectId;X((Q)=>this._unrollObject(G,W.name,Q,$))}else if(d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])||d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.description]))X((G)=>this._unrollOther(W,G,$));$({})})}_getProperties(Z,Y){this._session.post("Runtime.getProperties",{objectId:Z,ownProperties:!0},(J,X)=>{if(J)Y([]);else Y(X.result)})}_unrollArray(Z,Y,J,X){this._getProperties(Z,($)=>{J[Y]=$.filter((W)=>W.name!=="length"&&!isNaN(parseInt(W.name,10))).sort((W,G)=>parseInt(W.name,10)-parseInt(G.name,10)).map((W)=>d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])),X(J)})}_unrollObject(Z,Y,J,X){this._getProperties(Z,($)=>{J[Y]=$.map((W)=>[W.name,d([W,"optionalAccess",(G)=>G.value,"optionalAccess",(G)=>G.value])]).reduce((W,[G,Q])=>{return W[G]=Q,W},{}),X(J)})}_unrollOther(Z,Y,J){if(d([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.value]))Y[Z.name]=Z.value.value;else if(d([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.description])&&d([Z,"optionalAccess",(X)=>X.value,"optionalAccess",(X)=>X.type])!=="function")Y[Z.name]=`<${Z.value.description}>`;J(Y)}}class D5{static __initStatic(){this.id="LocalVariables"}__init(){this.name=D5.id}__init2(){this._cachedFrames=new v6(20)}constructor(Z={},Y=c41()){this._options=Z,this._session=Y,D5.prototype.__init.call(this),D5.prototype.__init2.call(this)}setupOnce(Z,Y){this._setup(Z,d([Y,"call",(J)=>J(),"access",(J)=>J.getClient,"call",(J)=>J(),"optionalAccess",(J)=>J.getOptions,"call",(J)=>J()]))}_setup(Z,Y){if(this._session&&d([Y,"optionalAccess",(J)=>J.includeLocalVariables])){if((r8.major||0)<18){v.log("The `LocalVariables` integration is only supported on Node >= v18.");return}const X=this._options.captureAllExceptions!==!1;if(this._session.configureAndConnect(($,W)=>this._handlePaused(Y.stackParser,$,W),X),X){const $=this._options.maxExceptionsPerSecond||50;this._rateLimiter=d41($,()=>{v.log("Local variables rate-limit lifted."),d([this,"access",(W)=>W._session,"optionalAccess",(W)=>W.setPauseOnExceptions,"call",(W)=>W(!0)])},(W)=>{v.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${W} seconds.`),d([this,"access",(G)=>G._session,"optionalAccess",(G)=>G.setPauseOnExceptions,"call",(G)=>G(!1)])})}Z(async($)=>this._addLocalVariables($))}}_handlePaused(Z,{params:{reason:Y,data:J,callFrames:X}},$){if(Y!=="exception"&&Y!=="promiseRejection"){$();return}d([this,"access",(K)=>K._rateLimiter,"optionalCall",(K)=>K()]);const W=l41(Z,d([J,"optionalAccess",(K)=>K.description]));if(W==void 0){$();return}const{add:G,next:Q}=sD((K)=>{this._cachedFrames.set(W,K),$()});for(let K=0;K<Math.min(X.length,5);K++){const{scopeChain:H,functionName:z,this:F}=X[K],U=H.find((V)=>V.type==="local"),q=F.className==="global"||!F.className?z:`${F.className}.${z}`;if(d([U,"optionalAccess",(V)=>V.object,"access",(V)=>V.objectId])===void 0)G((V)=>{V[K]={function:q},Q(V)});else{const V=U.object.objectId;G((L)=>d([this,"access",(w)=>w._session,"optionalAccess",(w)=>w.getLocalVariables,"call",(w)=>w(V,(B)=>{L[K]={function:q,vars:B},Q(L)})]))}}Q([])}_addLocalVariables(Z){for(let Y of d([Z,"optionalAccess",(J)=>J.exception,"optionalAccess",(J)=>J.values])||[])this._addLocalVariablesToException(Y);return Z}_addLocalVariablesToException(Z){const Y=tD(d([Z,"optionalAccess",($)=>$.stacktrace,"optionalAccess",($)=>$.frames]));if(Y===void 0)return;const J=this._cachedFrames.remove(Y);if(J===void 0)return;const X=d([Z,"access",($)=>$.stacktrace,"optionalAccess",($)=>$.frames,"optionalAccess",($)=>$.length])||0;for(let $=0;$<X;$++){const W=X-$-1;if(!d([Z,"optionalAccess",(G)=>G.stacktrace,"optionalAccess",(G)=>G.frames,"optionalAccess",(G)=>G[W]])||!J[$])break;if(J[$].vars===void 0||Z.stacktrace.frames[W].in_app===!1||!p41(Z.stacktrace.frames[W].function,J[$].function))continue;Z.stacktrace.frames[W].vars=J[$].vars}}}D5.__initStatic();var oD=function(Z,Y,J){if(Z.headers.split("\r\n").some((W)=>W.startsWith("sentry-trace:")))return;if(Z.addHeader("sentry-trace",Y),J)Z.addHeader("baggage",J)},i41=function(Z,Y,J){const X=PX(J),$=Y.method||"GET",W={"http.method":$};if(X.search)W["http.query"]=X.search;if(X.hash)W["http.fragment"]=X.hash;return d([Z,"optionalAccess",(G)=>G.startChild,"call",(G)=>G({op:"http.client",origin:"auto.http.node.undici",description:`${$} ${TX(X)}`,data:W})])},lX;(function(Z){Z.RequestCreate="undici:request:create";const J="undici:request:headers";Z.RequestEnd=J;const X="undici:request:error";Z.RequestError=X})(lX||(lX={}));class O8{static __initStatic(){this.id="Undici"}__init(){this.name=O8.id}__init2(){this._createSpanUrlMap=new v6(100)}__init3(){this._headersUrlMap=new v6(100)}constructor(Z={}){O8.prototype.__init.call(this),O8.prototype.__init2.call(this),O8.prototype.__init3.call(this),O8.prototype.__init4.call(this),O8.prototype.__init5.call(this),O8.prototype.__init6.call(this),this._options={breadcrumbs:Z.breadcrumbs===void 0?!0:Z.breadcrumbs,shouldCreateSpanForRequest:Z.shouldCreateSpanForRequest}}setupOnce(Z){if(r8.major&&r8.major<16)return;let Y;try{Y=q5(n41,"diagnostics_channel")}catch(J){}if(!Y||!Y.subscribe)return;Y.subscribe(lX.RequestCreate,this._onRequestCreate),Y.subscribe(lX.RequestEnd,this._onRequestEnd),Y.subscribe(lX.RequestError,this._onRequestError)}_shouldCreateSpan(Z){if(this._options.shouldCreateSpanForRequest===void 0)return!0;const Y=this._createSpanUrlMap.get(Z);if(Y!==void 0)return Y;const J=this._options.shouldCreateSpanForRequest(Z);return this._createSpanUrlMap.set(Z,J),J}__init4(){this._onRequestCreate=(Z)=>{const Y=V1();if(!Y.getIntegration(O8))return;const{request:J}=Z,X=J.origin?J.origin.toString()+J.path:J.path;if(xZ(X,Y)||J.__sentry_span__!==void 0)return;const $=Y.getClient();if(!$)return;const W=$.getOptions(),G=Y.getScope(),Q=G.getSpan(),K=this._shouldCreateSpan(X)?i41(Q,J,X):void 0;if(K)J.__sentry_span__=K;if(((z)=>{if(W.tracePropagationTargets===void 0)return!0;const F=this._headersUrlMap.get(z);if(F!==void 0)return F;const U=t7(z,W.tracePropagationTargets);return this._headersUrlMap.set(z,U),U})(X))if(K){const z=d([K,"optionalAccess",(U)=>U.transaction,"optionalAccess",(U)=>U.getDynamicSamplingContext,"call",(U)=>U()]),F=QY(z);oD(J,K.toTraceparent(),F)}else{const{traceId:z,sampled:F,dsc:U}=G.getPropagationContext(),q=kZ(z,void 0,F),V=U||w7(z,$,G),L=QY(V);oD(J,q,L)}}}__init5(){this._onRequestEnd=(Z)=>{const Y=V1();if(!Y.getIntegration(O8))return;const{request:J,response:X}=Z,$=J.origin?J.origin.toString()+J.path:J.path;if(xZ($,Y))return;const W=J.__sentry_span__;if(W)W.setHttpStatus(X.statusCode),W.finish();if(this._options.breadcrumbs)Y.addBreadcrumb({category:"http",data:{method:J.method,status_code:X.statusCode,url:$},type:"http"},{event:"response",request:J,response:X})}}__init6(){this._onRequestError=(Z)=>{const Y=V1();if(!Y.getIntegration(O8))return;const{request:J}=Z,X=J.origin?J.origin.toString()+J.path:J.path;if(xZ(X,Y))return;const $=J.__sentry_span__;if($)$.setStatus("internal_error"),$.finish();if(this._options.breadcrumbs)Y.addBreadcrumb({category:"http",data:{method:J.method,url:X},level:"error",type:"http"},{event:"error",request:J})}}}O8.__initStatic();import*as eD from"http";import{URL as a41} from"url";var s41=function(Z,Y){const J=r41(Y.sidecarUrl);if(!J)return;let X=0;if(typeof Z.on!=="function"){v.warn("[Spotlight] Cannot connect to spotlight due to missing method on SDK client (`client.on`)");return}Z.on("beforeEnvelope",($)=>{if(X>3){v.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");return}const W=jX($),G=eD.request({method:"POST",path:J.pathname,hostname:J.hostname,port:J.port,headers:{"Content-Type":"application/x-sentry-envelope"}},(Q)=>{Q.on("data",()=>{}),Q.on("end",()=>{}),Q.setEncoding("utf8")});G.on("error",()=>{X++,v.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")}),G.write(W),G.end()})},r41=function(Z){try{return new a41(`${Z}`)}catch(Y){v.warn(`[Spotlight] Invalid sidecar URL: ${Z}`);return}};class bZ{static __initStatic(){this.id="Spotlight"}__init(){this.name=bZ.id}constructor(Z){bZ.prototype.__init.call(this),this._options={sidecarUrl:d([Z,"optionalAccess",(Y)=>Y.sidecarUrl])||"http://localhost:8969/stream"}}setupOnce(){}setup(Z){s41(Z,this._options)}}bZ.__initStatic();var GU=function(Z={}){if(xD())Z.autoSessionTracking=!1,Z.tracesSampleRate=0;const Y=R7();vD();const J=d([Y,"access",(W)=>W.__SENTRY__,"optionalAccess",(W)=>W.integrations])||[];if(Z.defaultIntegrations=Z.defaultIntegrations===!1?[]:[...Array.isArray(Z.defaultIntegrations)?Z.defaultIntegrations:ZP,...J],Z.dsn===void 0&&process.env.SENTRY_DSN)Z.dsn=process.env.SENTRY_DSN;const X=process.env.SENTRY_TRACES_SAMPLE_RATE;if(Z.tracesSampleRate===void 0&&X){const W=parseFloat(X);if(isFinite(W))Z.tracesSampleRate=W}if(Z.release===void 0){const W=YP();if(W!==void 0)Z.release=W;else Z.autoSessionTracking=!1}if(Z.environment===void 0&&process.env.SENTRY_ENVIRONMENT)Z.environment=process.env.SENTRY_ENVIRONMENT;if(Z.autoSessionTracking===void 0&&Z.dsn!==void 0)Z.autoSessionTracking=!0;if(Z.instrumenter===void 0)Z.instrumenter="sentry";const $={...Z,stackParser:zF(Z.stackParser||JP),integrations:cF(Z),transport:Z.transport||kD};if(iF(Z.clientClass||aF,$),Z.autoSessionTracking)t41();if(o41(),Z.spotlight){const W=V1().getClient();if(W&&W.addIntegration)W.setupIntegrations(!0),W.addIntegration(new bZ({sidecarUrl:typeof Z.spotlight==="string"?Z.spotlight:void 0}))}};var YP=function(Z){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(_1.SENTRY_RELEASE&&_1.SENTRY_RELEASE.id)return _1.SENTRY_RELEASE.id;return process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||Z},t41=function(){const Z=V1();Z.startSession(),process.on("beforeExit",()=>{const Y=Z.getScope().getSession();if(Y&&!["exited","crashed"].includes(Y.status))Z.endSession()})},o41=function(){const Z=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(Z)){const Y=process.env.SENTRY_TRACE,J=process.env.SENTRY_BAGGAGE,{propagationContext:X}=EX(Y,J);V1().getScope().setPropagationContext(X)}},ZP=[new a8.InboundFilters,new a8.FunctionToString,new a8.LinkedErrors,new M5,new B5,new O8,new O4,new A5,new I5,new D5,new gZ,new N5,new w5],JP=vW(FF(_D));var QU={};_W(QU,{Undici:()=>{{return O8}},Spotlight:()=>{{return bZ}},RequestData:()=>{{return w5}},OnUnhandledRejection:()=>{{return A5}},OnUncaughtException:()=>{{return O4}},Modules:()=>{{return N5}},LocalVariables:()=>{{return D5}},Http:()=>{{return B5}},ContextLines:()=>{{return I5}},Context:()=>{{return gZ}},Console:()=>{{return M5}}});var KU={};_W(KU,{Prisma:()=>{{return gX}},Postgres:()=>{{return xX}},Mysql:()=>{{return fX}},Mongo:()=>{{return yX}},GraphQL:()=>{{return bX}},Express:()=>{{return _X}},Apollo:()=>{{return vX}}});var Y4={...a8,...QU,...KU};import*as XP from"os";class HU extends LY{constructor(Z){Z._metadata=Z._metadata||{},Z._metadata.sdk=Z._metadata.sdk||{name:"sentry.javascript.bun",packages:[{name:"npm:@sentry/bun",version:R5}],version:R5};const Y={...Z,platform:"javascript",runtime:{name:"bun",version:Bun.version},serverName:Z.serverName||global.process.env.SENTRY_NAME||XP.hostname()};super(Y)}}var e41=function(){Bun.serve=new Proxy(Bun.serve,{apply(Z,Y,J){return Z51(J[0]),Z.apply(Y,J)}})},Z51=function(Z){Z.fetch=new Proxy(Z.fetch,{apply(Y,J,X){return rW(()=>{const $=X[0],W=$.method.toUpperCase();if(W==="OPTIONS"||W==="HEAD")return Y.apply(J,X);const G=PX($.url),Q={"http.request.method":$.method||"GET"};if(G.search)Q["http.query"]=G.search;const K=TX(G);return YG({sentryTrace:$.headers.get("sentry-trace")||"",baggage:$.headers.get("baggage")},(H)=>{return ZG({op:"http.server",name:`${$.method} ${G.path||"/"}`,origin:"auto.http.bun.serve",...H,data:Q,metadata:{...H.metadata,source:"url",request:{url:K,method:$.method,headers:$.headers.toJSON()}}},async(z)=>{try{const F=await Y.apply(J,X);if(F&&F.status){if(d([z,"optionalAccess",(U)=>U.setHttpStatus,"call",(U)=>U(F.status)]),d([z,"optionalAccess",(U)=>U.setData,"call",(U)=>U("http.response.status_code",F.status)]),z instanceof qY)z.setContext("response",{headers:F.headers.toJSON(),status_code:F.status})}return F}catch(F){throw VY(F,{mechanism:{type:"bun",handled:!1,data:{function:"serve"}}}),F}})})})}})};class vZ{constructor(){vZ.prototype.__init.call(this)}static __initStatic(){this.id="BunServer"}__init(){this.name=vZ.id}setupOnce(){e41()}}vZ.__initStatic();var $P=function(Z){function Y(J){const X={body:J.body,method:"POST",headers:Z.headers};try{return fetch(Z.url,X).then(($)=>{return{statusCode:$.status,headers:{"x-sentry-rate-limits":$.headers.get("X-Sentry-Rate-Limits"),"retry-after":$.headers.get("Retry-After")}}})}catch($){return CZ($)}}return _Z(Z,Y)};var zU=function(Z={}){Z.clientClass=HU,Z.transport=Z.transport||$P,Z.defaultIntegrations=Z.defaultIntegrations===!1?[]:[...Array.isArray(Z.defaultIntegrations)?Z.defaultIntegrations:WP],GU(Z)},WP=[new a8.InboundFilters,new a8.FunctionToString,new a8.LinkedErrors,new Y4.Console,new Y4.Http,new Y4.Undici,new Y4.ContextLines,new Y4.Context,new Y4.Modules,new Y4.RequestData,new vZ];var FU={};_W(FU,{BunServer:()=>{{return vZ}}});var pl1={...a8,...Y4,...FU};var sz=tz(ur(),1);var nz=tz(v01(),1);async function Eb1(){try{await sz.connect(TZ.MONGODB_URI,{maxPoolSize:10,socketTimeoutMS:20000}),az.info("Mongoose connected to database")}catch(Z){VY(Z),az.error(`Mongoose connection error: ${Z}`)}}var az=nz.default.createLogger({level:"info",format:nz.default.format.simple(),transports:[new nz.default.transports.Console]});zU({dsn:"https://22298e3442bb4b4bc373cda39b07654c@o1204981.ingest.sentry.io/4506317199966208",tracesSampleRate:1});try{await Eb1(),console.log("Connected to MongoDB");const Z=Cb1({fetch:ZI});process.on("SIGINT",async()=>{try{await sz.connection.close(),az.info("Mongoose connection closed"),process.exit(0)}catch(Y){az.error("Error closing Mongoose connection:",Y),process.exit(1)}}),console.log("\uD83D\uDD25",Z.port)}catch(Z){console.error("Server initialization error:",Z),process.exit(1)}

//# debugId=F498D897F0DD3DD064756e2164756e21
